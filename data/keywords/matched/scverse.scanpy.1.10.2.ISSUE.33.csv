id,quality_attribute,keyword,matched_word,match_idx,sentence,source,author,repo,version,wiki,url
https://github.com/scverse/scanpy/pull/2859:637,deployability,releas,release,637,"Convert string input on calculate qc metrics into collection for convenience; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2858 . - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: this is a minor quality of life change, and could be tacked onto any other release as opposed to creating a dedicated release.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2859
https://github.com/scverse/scanpy/pull/2859:680,deployability,releas,release,680,"Convert string input on calculate qc metrics into collection for convenience; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2858 . - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: this is a minor quality of life change, and could be tacked onto any other release as opposed to creating a dedicated release.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2859
https://github.com/scverse/scanpy/pull/2859:15,safety,input,input,15,"Convert string input on calculate qc metrics into collection for convenience; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2858 . - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: this is a minor quality of life change, and could be tacked onto any other release as opposed to creating a dedicated release.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2859
https://github.com/scverse/scanpy/pull/2859:297,safety,review,review,297,"Convert string input on calculate qc metrics into collection for convenience; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2858 . - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: this is a minor quality of life change, and could be tacked onto any other release as opposed to creating a dedicated release.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2859
https://github.com/scverse/scanpy/pull/2859:402,safety,Test,Tests,402,"Convert string input on calculate qc metrics into collection for convenience; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2858 . - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: this is a minor quality of life change, and could be tacked onto any other release as opposed to creating a dedicated release.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2859
https://github.com/scverse/scanpy/pull/2859:297,testability,review,review,297,"Convert string input on calculate qc metrics into collection for convenience; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2858 . - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: this is a minor quality of life change, and could be tacked onto any other release as opposed to creating a dedicated release.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2859
https://github.com/scverse/scanpy/pull/2859:402,testability,Test,Tests,402,"Convert string input on calculate qc metrics into collection for convenience; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2858 . - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: this is a minor quality of life change, and could be tacked onto any other release as opposed to creating a dedicated release.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2859
https://github.com/scverse/scanpy/pull/2859:15,usability,input,input,15,"Convert string input on calculate qc metrics into collection for convenience; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2858 . - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: this is a minor quality of life change, and could be tacked onto any other release as opposed to creating a dedicated release.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2859
https://github.com/scverse/scanpy/pull/2859:148,usability,guid,guidelines,148,"Convert string input on calculate qc metrics into collection for convenience; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2858 . - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: this is a minor quality of life change, and could be tacked onto any other release as opposed to creating a dedicated release.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2859
https://github.com/scverse/scanpy/pull/2859:179,usability,guid,guide,179,"Convert string input on calculate qc metrics into collection for convenience; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2858 . - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: this is a minor quality of life change, and could be tacked onto any other release as opposed to creating a dedicated release.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2859
https://github.com/scverse/scanpy/pull/2859:275,usability,workflow,workflow,275,"Convert string input on calculate qc metrics into collection for convenience; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2858 . - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: this is a minor quality of life change, and could be tacked onto any other release as opposed to creating a dedicated release.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2859
https://github.com/scverse/scanpy/pull/2859:381,usability,Close,Closes,381,"Convert string input on calculate qc metrics into collection for convenience; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2858 . - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: this is a minor quality of life change, and could be tacked onto any other release as opposed to creating a dedicated release.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2859
https://github.com/scverse/scanpy/pull/2860:457,deployability,releas,release,457,"Improve image compare code; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes NA. - [x] Tests included or not required because: dev change. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: dev change. This allows clickable links when developing in a path with spaces. TODO: check if nunit attachment URLs are predictable. If yes, emit them instead of paths in CI runs, i.e. instead of the Expected/Actual/Diff part, display just this URL:. display: https://dev.azure.com/scverse/scanpy/_build/results?buildId=5698&view=ms.vss-test-web.build-test-results-tab&runId=18968&resultId=100831&paneView=attachments. /edit: doesn’t seem like it’s possible. The URL contains `resultId=100831`, and I don’t see how this could be known at runtime. I assume those get assigned after the NUnit XML gets uploaded. ----. Once https://github.com/microsoft/vscode/issues/176812 is fixed, we can change this to [OSC 8](https://github.com/Alhadis/OSC8-Adoption) links",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2860
https://github.com/scverse/scanpy/pull/2860:482,deployability,Releas,Release,482,"Improve image compare code; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes NA. - [x] Tests included or not required because: dev change. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: dev change. This allows clickable links when developing in a path with spaces. TODO: check if nunit attachment URLs are predictable. If yes, emit them instead of paths in CI runs, i.e. instead of the Expected/Actual/Diff part, display just this URL:. display: https://dev.azure.com/scverse/scanpy/_build/results?buildId=5698&view=ms.vss-test-web.build-test-results-tab&runId=18968&resultId=100831&paneView=attachments. /edit: doesn’t seem like it’s possible. The URL contains `resultId=100831`, and I don’t see how this could be known at runtime. I assume those get assigned after the NUnit XML gets uploaded. ----. Once https://github.com/microsoft/vscode/issues/176812 is fixed, we can change this to [OSC 8](https://github.com/Alhadis/OSC8-Adoption) links",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2860
https://github.com/scverse/scanpy/pull/2860:831,deployability,build,buildId,831,"Improve image compare code; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes NA. - [x] Tests included or not required because: dev change. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: dev change. This allows clickable links when developing in a path with spaces. TODO: check if nunit attachment URLs are predictable. If yes, emit them instead of paths in CI runs, i.e. instead of the Expected/Actual/Diff part, display just this URL:. display: https://dev.azure.com/scverse/scanpy/_build/results?buildId=5698&view=ms.vss-test-web.build-test-results-tab&runId=18968&resultId=100831&paneView=attachments. /edit: doesn’t seem like it’s possible. The URL contains `resultId=100831`, and I don’t see how this could be known at runtime. I assume those get assigned after the NUnit XML gets uploaded. ----. Once https://github.com/microsoft/vscode/issues/176812 is fixed, we can change this to [OSC 8](https://github.com/Alhadis/OSC8-Adoption) links",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2860
https://github.com/scverse/scanpy/pull/2860:865,deployability,build,build-test-results-tab,865,"Improve image compare code; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes NA. - [x] Tests included or not required because: dev change. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: dev change. This allows clickable links when developing in a path with spaces. TODO: check if nunit attachment URLs are predictable. If yes, emit them instead of paths in CI runs, i.e. instead of the Expected/Actual/Diff part, display just this URL:. display: https://dev.azure.com/scverse/scanpy/_build/results?buildId=5698&view=ms.vss-test-web.build-test-results-tab&runId=18968&resultId=100831&paneView=attachments. /edit: doesn’t seem like it’s possible. The URL contains `resultId=100831`, and I don’t see how this could be known at runtime. I assume those get assigned after the NUnit XML gets uploaded. ----. Once https://github.com/microsoft/vscode/issues/176812 is fixed, we can change this to [OSC 8](https://github.com/Alhadis/OSC8-Adoption) links",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2860
https://github.com/scverse/scanpy/pull/2860:986,deployability,contain,contains,986,"Improve image compare code; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes NA. - [x] Tests included or not required because: dev change. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: dev change. This allows clickable links when developing in a path with spaces. TODO: check if nunit attachment URLs are predictable. If yes, emit them instead of paths in CI runs, i.e. instead of the Expected/Actual/Diff part, display just this URL:. display: https://dev.azure.com/scverse/scanpy/_build/results?buildId=5698&view=ms.vss-test-web.build-test-results-tab&runId=18968&resultId=100831&paneView=attachments. /edit: doesn’t seem like it’s possible. The URL contains `resultId=100831`, and I don’t see how this could be known at runtime. I assume those get assigned after the NUnit XML gets uploaded. ----. Once https://github.com/microsoft/vscode/issues/176812 is fixed, we can change this to [OSC 8](https://github.com/Alhadis/OSC8-Adoption) links",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2860
https://github.com/scverse/scanpy/pull/2860:639,energy efficiency,predict,predictable,639,"Improve image compare code; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes NA. - [x] Tests included or not required because: dev change. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: dev change. This allows clickable links when developing in a path with spaces. TODO: check if nunit attachment URLs are predictable. If yes, emit them instead of paths in CI runs, i.e. instead of the Expected/Actual/Diff part, display just this URL:. display: https://dev.azure.com/scverse/scanpy/_build/results?buildId=5698&view=ms.vss-test-web.build-test-results-tab&runId=18968&resultId=100831&paneView=attachments. /edit: doesn’t seem like it’s possible. The URL contains `resultId=100831`, and I don’t see how this could be known at runtime. I assume those get assigned after the NUnit XML gets uploaded. ----. Once https://github.com/microsoft/vscode/issues/176812 is fixed, we can change this to [OSC 8](https://github.com/Alhadis/OSC8-Adoption) links",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2860
https://github.com/scverse/scanpy/pull/2860:1110,interoperability,XML,XML,1110,"Improve image compare code; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes NA. - [x] Tests included or not required because: dev change. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: dev change. This allows clickable links when developing in a path with spaces. TODO: check if nunit attachment URLs are predictable. If yes, emit them instead of paths in CI runs, i.e. instead of the Expected/Actual/Diff part, display just this URL:. display: https://dev.azure.com/scverse/scanpy/_build/results?buildId=5698&view=ms.vss-test-web.build-test-results-tab&runId=18968&resultId=100831&paneView=attachments. /edit: doesn’t seem like it’s possible. The URL contains `resultId=100831`, and I don’t see how this could be known at runtime. I assume those get assigned after the NUnit XML gets uploaded. ----. Once https://github.com/microsoft/vscode/issues/176812 is fixed, we can change this to [OSC 8](https://github.com/Alhadis/OSC8-Adoption) links",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2860
https://github.com/scverse/scanpy/pull/2860:945,reliability,doe,doesn,945,"Improve image compare code; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes NA. - [x] Tests included or not required because: dev change. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: dev change. This allows clickable links when developing in a path with spaces. TODO: check if nunit attachment URLs are predictable. If yes, emit them instead of paths in CI runs, i.e. instead of the Expected/Actual/Diff part, display just this URL:. display: https://dev.azure.com/scverse/scanpy/_build/results?buildId=5698&view=ms.vss-test-web.build-test-results-tab&runId=18968&resultId=100831&paneView=attachments. /edit: doesn’t seem like it’s possible. The URL contains `resultId=100831`, and I don’t see how this could be known at runtime. I assume those get assigned after the NUnit XML gets uploaded. ----. Once https://github.com/microsoft/vscode/issues/176812 is fixed, we can change this to [OSC 8](https://github.com/Alhadis/OSC8-Adoption) links",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2860
https://github.com/scverse/scanpy/pull/2860:247,safety,review,review,247,"Improve image compare code; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes NA. - [x] Tests included or not required because: dev change. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: dev change. This allows clickable links when developing in a path with spaces. TODO: check if nunit attachment URLs are predictable. If yes, emit them instead of paths in CI runs, i.e. instead of the Expected/Actual/Diff part, display just this URL:. display: https://dev.azure.com/scverse/scanpy/_build/results?buildId=5698&view=ms.vss-test-web.build-test-results-tab&runId=18968&resultId=100831&paneView=attachments. /edit: doesn’t seem like it’s possible. The URL contains `resultId=100831`, and I don’t see how this could be known at runtime. I assume those get assigned after the NUnit XML gets uploaded. ----. Once https://github.com/microsoft/vscode/issues/176812 is fixed, we can change this to [OSC 8](https://github.com/Alhadis/OSC8-Adoption) links",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2860
https://github.com/scverse/scanpy/pull/2860:348,safety,Test,Tests,348,"Improve image compare code; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes NA. - [x] Tests included or not required because: dev change. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: dev change. This allows clickable links when developing in a path with spaces. TODO: check if nunit attachment URLs are predictable. If yes, emit them instead of paths in CI runs, i.e. instead of the Expected/Actual/Diff part, display just this URL:. display: https://dev.azure.com/scverse/scanpy/_build/results?buildId=5698&view=ms.vss-test-web.build-test-results-tab&runId=18968&resultId=100831&paneView=attachments. /edit: doesn’t seem like it’s possible. The URL contains `resultId=100831`, and I don’t see how this could be known at runtime. I assume those get assigned after the NUnit XML gets uploaded. ----. Once https://github.com/microsoft/vscode/issues/176812 is fixed, we can change this to [OSC 8](https://github.com/Alhadis/OSC8-Adoption) links",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2860
https://github.com/scverse/scanpy/pull/2860:639,safety,predict,predictable,639,"Improve image compare code; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes NA. - [x] Tests included or not required because: dev change. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: dev change. This allows clickable links when developing in a path with spaces. TODO: check if nunit attachment URLs are predictable. If yes, emit them instead of paths in CI runs, i.e. instead of the Expected/Actual/Diff part, display just this URL:. display: https://dev.azure.com/scverse/scanpy/_build/results?buildId=5698&view=ms.vss-test-web.build-test-results-tab&runId=18968&resultId=100831&paneView=attachments. /edit: doesn’t seem like it’s possible. The URL contains `resultId=100831`, and I don’t see how this could be known at runtime. I assume those get assigned after the NUnit XML gets uploaded. ----. Once https://github.com/microsoft/vscode/issues/176812 is fixed, we can change this to [OSC 8](https://github.com/Alhadis/OSC8-Adoption) links",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2860
https://github.com/scverse/scanpy/pull/2860:856,safety,test,test-web,856,"Improve image compare code; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes NA. - [x] Tests included or not required because: dev change. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: dev change. This allows clickable links when developing in a path with spaces. TODO: check if nunit attachment URLs are predictable. If yes, emit them instead of paths in CI runs, i.e. instead of the Expected/Actual/Diff part, display just this URL:. display: https://dev.azure.com/scverse/scanpy/_build/results?buildId=5698&view=ms.vss-test-web.build-test-results-tab&runId=18968&resultId=100831&paneView=attachments. /edit: doesn’t seem like it’s possible. The URL contains `resultId=100831`, and I don’t see how this could be known at runtime. I assume those get assigned after the NUnit XML gets uploaded. ----. Once https://github.com/microsoft/vscode/issues/176812 is fixed, we can change this to [OSC 8](https://github.com/Alhadis/OSC8-Adoption) links",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2860
https://github.com/scverse/scanpy/pull/2860:871,safety,test,test-results-tab,871,"Improve image compare code; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes NA. - [x] Tests included or not required because: dev change. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: dev change. This allows clickable links when developing in a path with spaces. TODO: check if nunit attachment URLs are predictable. If yes, emit them instead of paths in CI runs, i.e. instead of the Expected/Actual/Diff part, display just this URL:. display: https://dev.azure.com/scverse/scanpy/_build/results?buildId=5698&view=ms.vss-test-web.build-test-results-tab&runId=18968&resultId=100831&paneView=attachments. /edit: doesn’t seem like it’s possible. The URL contains `resultId=100831`, and I don’t see how this could be known at runtime. I assume those get assigned after the NUnit XML gets uploaded. ----. Once https://github.com/microsoft/vscode/issues/176812 is fixed, we can change this to [OSC 8](https://github.com/Alhadis/OSC8-Adoption) links",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2860
https://github.com/scverse/scanpy/pull/2860:247,testability,review,review,247,"Improve image compare code; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes NA. - [x] Tests included or not required because: dev change. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: dev change. This allows clickable links when developing in a path with spaces. TODO: check if nunit attachment URLs are predictable. If yes, emit them instead of paths in CI runs, i.e. instead of the Expected/Actual/Diff part, display just this URL:. display: https://dev.azure.com/scverse/scanpy/_build/results?buildId=5698&view=ms.vss-test-web.build-test-results-tab&runId=18968&resultId=100831&paneView=attachments. /edit: doesn’t seem like it’s possible. The URL contains `resultId=100831`, and I don’t see how this could be known at runtime. I assume those get assigned after the NUnit XML gets uploaded. ----. Once https://github.com/microsoft/vscode/issues/176812 is fixed, we can change this to [OSC 8](https://github.com/Alhadis/OSC8-Adoption) links",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2860
https://github.com/scverse/scanpy/pull/2860:348,testability,Test,Tests,348,"Improve image compare code; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes NA. - [x] Tests included or not required because: dev change. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: dev change. This allows clickable links when developing in a path with spaces. TODO: check if nunit attachment URLs are predictable. If yes, emit them instead of paths in CI runs, i.e. instead of the Expected/Actual/Diff part, display just this URL:. display: https://dev.azure.com/scverse/scanpy/_build/results?buildId=5698&view=ms.vss-test-web.build-test-results-tab&runId=18968&resultId=100831&paneView=attachments. /edit: doesn’t seem like it’s possible. The URL contains `resultId=100831`, and I don’t see how this could be known at runtime. I assume those get assigned after the NUnit XML gets uploaded. ----. Once https://github.com/microsoft/vscode/issues/176812 is fixed, we can change this to [OSC 8](https://github.com/Alhadis/OSC8-Adoption) links",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2860
https://github.com/scverse/scanpy/pull/2860:856,testability,test,test-web,856,"Improve image compare code; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes NA. - [x] Tests included or not required because: dev change. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: dev change. This allows clickable links when developing in a path with spaces. TODO: check if nunit attachment URLs are predictable. If yes, emit them instead of paths in CI runs, i.e. instead of the Expected/Actual/Diff part, display just this URL:. display: https://dev.azure.com/scverse/scanpy/_build/results?buildId=5698&view=ms.vss-test-web.build-test-results-tab&runId=18968&resultId=100831&paneView=attachments. /edit: doesn’t seem like it’s possible. The URL contains `resultId=100831`, and I don’t see how this could be known at runtime. I assume those get assigned after the NUnit XML gets uploaded. ----. Once https://github.com/microsoft/vscode/issues/176812 is fixed, we can change this to [OSC 8](https://github.com/Alhadis/OSC8-Adoption) links",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2860
https://github.com/scverse/scanpy/pull/2860:871,testability,test,test-results-tab,871,"Improve image compare code; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes NA. - [x] Tests included or not required because: dev change. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: dev change. This allows clickable links when developing in a path with spaces. TODO: check if nunit attachment URLs are predictable. If yes, emit them instead of paths in CI runs, i.e. instead of the Expected/Actual/Diff part, display just this URL:. display: https://dev.azure.com/scverse/scanpy/_build/results?buildId=5698&view=ms.vss-test-web.build-test-results-tab&runId=18968&resultId=100831&paneView=attachments. /edit: doesn’t seem like it’s possible. The URL contains `resultId=100831`, and I don’t see how this could be known at runtime. I assume those get assigned after the NUnit XML gets uploaded. ----. Once https://github.com/microsoft/vscode/issues/176812 is fixed, we can change this to [OSC 8](https://github.com/Alhadis/OSC8-Adoption) links",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2860
https://github.com/scverse/scanpy/pull/2860:98,usability,guid,guidelines,98,"Improve image compare code; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes NA. - [x] Tests included or not required because: dev change. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: dev change. This allows clickable links when developing in a path with spaces. TODO: check if nunit attachment URLs are predictable. If yes, emit them instead of paths in CI runs, i.e. instead of the Expected/Actual/Diff part, display just this URL:. display: https://dev.azure.com/scverse/scanpy/_build/results?buildId=5698&view=ms.vss-test-web.build-test-results-tab&runId=18968&resultId=100831&paneView=attachments. /edit: doesn’t seem like it’s possible. The URL contains `resultId=100831`, and I don’t see how this could be known at runtime. I assume those get assigned after the NUnit XML gets uploaded. ----. Once https://github.com/microsoft/vscode/issues/176812 is fixed, we can change this to [OSC 8](https://github.com/Alhadis/OSC8-Adoption) links",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2860
https://github.com/scverse/scanpy/pull/2860:129,usability,guid,guide,129,"Improve image compare code; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes NA. - [x] Tests included or not required because: dev change. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: dev change. This allows clickable links when developing in a path with spaces. TODO: check if nunit attachment URLs are predictable. If yes, emit them instead of paths in CI runs, i.e. instead of the Expected/Actual/Diff part, display just this URL:. display: https://dev.azure.com/scverse/scanpy/_build/results?buildId=5698&view=ms.vss-test-web.build-test-results-tab&runId=18968&resultId=100831&paneView=attachments. /edit: doesn’t seem like it’s possible. The URL contains `resultId=100831`, and I don’t see how this could be known at runtime. I assume those get assigned after the NUnit XML gets uploaded. ----. Once https://github.com/microsoft/vscode/issues/176812 is fixed, we can change this to [OSC 8](https://github.com/Alhadis/OSC8-Adoption) links",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2860
https://github.com/scverse/scanpy/pull/2860:225,usability,workflow,workflow,225,"Improve image compare code; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes NA. - [x] Tests included or not required because: dev change. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: dev change. This allows clickable links when developing in a path with spaces. TODO: check if nunit attachment URLs are predictable. If yes, emit them instead of paths in CI runs, i.e. instead of the Expected/Actual/Diff part, display just this URL:. display: https://dev.azure.com/scverse/scanpy/_build/results?buildId=5698&view=ms.vss-test-web.build-test-results-tab&runId=18968&resultId=100831&paneView=attachments. /edit: doesn’t seem like it’s possible. The URL contains `resultId=100831`, and I don’t see how this could be known at runtime. I assume those get assigned after the NUnit XML gets uploaded. ----. Once https://github.com/microsoft/vscode/issues/176812 is fixed, we can change this to [OSC 8](https://github.com/Alhadis/OSC8-Adoption) links",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2860
https://github.com/scverse/scanpy/pull/2860:331,usability,Close,Closes,331,"Improve image compare code; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes NA. - [x] Tests included or not required because: dev change. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: dev change. This allows clickable links when developing in a path with spaces. TODO: check if nunit attachment URLs are predictable. If yes, emit them instead of paths in CI runs, i.e. instead of the Expected/Actual/Diff part, display just this URL:. display: https://dev.azure.com/scverse/scanpy/_build/results?buildId=5698&view=ms.vss-test-web.build-test-results-tab&runId=18968&resultId=100831&paneView=attachments. /edit: doesn’t seem like it’s possible. The URL contains `resultId=100831`, and I don’t see how this could be known at runtime. I assume those get assigned after the NUnit XML gets uploaded. ----. Once https://github.com/microsoft/vscode/issues/176812 is fixed, we can change this to [OSC 8](https://github.com/Alhadis/OSC8-Adoption) links",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2860
https://github.com/scverse/scanpy/issues/2861:874,availability,Error,Error,874,"``biomart_annotations`` still creates cache when ``use_cache=False``; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? When using `sc.queries.biomart_annotations`, it still generates the file `.pybiomart.sqlite` even when `use_cache=False` is used. To me this is a problem because the generated hidden file interferes with `Omnipath` and makes it crash. It used to be the case that `use_cache` used to work but not anymore. . Thank you for your time. ### Minimal code sample. ```python. import scanpy as sc. annot = sc.queries.biomart_annotations(. 'hsapiens',. ['ensembl_gene_id', 'external_gene_name'],. use_cache=False. ). ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.3. scanpy 1.9.8. -----. PIL 10.2.0. asttokens NA. attr 23.1.0. attrs 23.1.0. brotli 1.1.0. cattr NA. cattrs NA. certifi 2023.11.17. cffi 1.16.0. charset_normalizer 3.3.2. colorama 0.4.6. comm 0.1.4. cycler 0.12.1. cython_runtime NA. dateutil 2.8.2. debugpy 1.8.0. decorator 5.1.1. executing 2.0.1. future 0.18.3. h5py 3.10.0. idna 3.4. igraph 0.11.2. ipykernel 6.26.0. jedi 0.19.1. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.1. llvmlite 0.41.1. matplotlib 3.8.3. mpl_toolkits NA. natsort 8.4.0. numba 0.58.1. numpy 1.26.4. packaging 23.2. pandas 2.2.0. parso 0.8.3. pexpect 4.8.0. pickleshare 0.7.5. platformdirs 3.11.0. prompt_toolkit 3.0.39. psutil 5.9.5. ptyprocess 0.7.0. pure_eval 0.2.2. pyarrow 15.0.0. pybiomart 0.2.0. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.16.1. pyparsing 3.1.1. pytz 2024.1. requests 2.31.0. requests_cache 1.1.1. scipy 1.11.3. session_info 1.0.0. six 1.16.0. sklearn 1.3.2. socks 1.7.1. stack_data 0.6.2. texttable 1.7.0. threadpoolctl",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2861
https://github.com/scverse/scanpy/issues/2861:238,deployability,version,version,238,"``biomart_annotations`` still creates cache when ``use_cache=False``; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? When using `sc.queries.biomart_annotations`, it still generates the file `.pybiomart.sqlite` even when `use_cache=False` is used. To me this is a problem because the generated hidden file interferes with `Omnipath` and makes it crash. It used to be the case that `use_cache` used to work but not anymore. . Thank you for your time. ### Minimal code sample. ```python. import scanpy as sc. annot = sc.queries.biomart_annotations(. 'hsapiens',. ['ensembl_gene_id', 'external_gene_name'],. use_cache=False. ). ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.3. scanpy 1.9.8. -----. PIL 10.2.0. asttokens NA. attr 23.1.0. attrs 23.1.0. brotli 1.1.0. cattr NA. cattrs NA. certifi 2023.11.17. cffi 1.16.0. charset_normalizer 3.3.2. colorama 0.4.6. comm 0.1.4. cycler 0.12.1. cython_runtime NA. dateutil 2.8.2. debugpy 1.8.0. decorator 5.1.1. executing 2.0.1. future 0.18.3. h5py 3.10.0. idna 3.4. igraph 0.11.2. ipykernel 6.26.0. jedi 0.19.1. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.1. llvmlite 0.41.1. matplotlib 3.8.3. mpl_toolkits NA. natsort 8.4.0. numba 0.58.1. numpy 1.26.4. packaging 23.2. pandas 2.2.0. parso 0.8.3. pexpect 4.8.0. pickleshare 0.7.5. platformdirs 3.11.0. prompt_toolkit 3.0.39. psutil 5.9.5. ptyprocess 0.7.0. pure_eval 0.2.2. pyarrow 15.0.0. pybiomart 0.2.0. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.16.1. pyparsing 3.1.1. pytz 2024.1. requests 2.31.0. requests_cache 1.1.1. scipy 1.11.3. session_info 1.0.0. six 1.16.0. sklearn 1.3.2. socks 1.7.1. stack_data 0.6.2. texttable 1.7.0. threadpoolctl",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2861
https://github.com/scverse/scanpy/issues/2861:907,deployability,Version,Versions,907,"``biomart_annotations`` still creates cache when ``use_cache=False``; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? When using `sc.queries.biomart_annotations`, it still generates the file `.pybiomart.sqlite` even when `use_cache=False` is used. To me this is a problem because the generated hidden file interferes with `Omnipath` and makes it crash. It used to be the case that `use_cache` used to work but not anymore. . Thank you for your time. ### Minimal code sample. ```python. import scanpy as sc. annot = sc.queries.biomart_annotations(. 'hsapiens',. ['ensembl_gene_id', 'external_gene_name'],. use_cache=False. ). ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.3. scanpy 1.9.8. -----. PIL 10.2.0. asttokens NA. attr 23.1.0. attrs 23.1.0. brotli 1.1.0. cattr NA. cattrs NA. certifi 2023.11.17. cffi 1.16.0. charset_normalizer 3.3.2. colorama 0.4.6. comm 0.1.4. cycler 0.12.1. cython_runtime NA. dateutil 2.8.2. debugpy 1.8.0. decorator 5.1.1. executing 2.0.1. future 0.18.3. h5py 3.10.0. idna 3.4. igraph 0.11.2. ipykernel 6.26.0. jedi 0.19.1. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.1. llvmlite 0.41.1. matplotlib 3.8.3. mpl_toolkits NA. natsort 8.4.0. numba 0.58.1. numpy 1.26.4. packaging 23.2. pandas 2.2.0. parso 0.8.3. pexpect 4.8.0. pickleshare 0.7.5. platformdirs 3.11.0. prompt_toolkit 3.0.39. psutil 5.9.5. ptyprocess 0.7.0. pure_eval 0.2.2. pyarrow 15.0.0. pybiomart 0.2.0. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.16.1. pyparsing 3.1.1. pytz 2024.1. requests 2.31.0. requests_cache 1.1.1. scipy 1.11.3. session_info 1.0.0. six 1.16.0. sklearn 1.3.2. socks 1.7.1. stack_data 0.6.2. texttable 1.7.0. threadpoolctl",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2861
https://github.com/scverse/scanpy/issues/2861:2381,deployability,updat,updated,2381,"file `.pybiomart.sqlite` even when `use_cache=False` is used. To me this is a problem because the generated hidden file interferes with `Omnipath` and makes it crash. It used to be the case that `use_cache` used to work but not anymore. . Thank you for your time. ### Minimal code sample. ```python. import scanpy as sc. annot = sc.queries.biomart_annotations(. 'hsapiens',. ['ensembl_gene_id', 'external_gene_name'],. use_cache=False. ). ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.3. scanpy 1.9.8. -----. PIL 10.2.0. asttokens NA. attr 23.1.0. attrs 23.1.0. brotli 1.1.0. cattr NA. cattrs NA. certifi 2023.11.17. cffi 1.16.0. charset_normalizer 3.3.2. colorama 0.4.6. comm 0.1.4. cycler 0.12.1. cython_runtime NA. dateutil 2.8.2. debugpy 1.8.0. decorator 5.1.1. executing 2.0.1. future 0.18.3. h5py 3.10.0. idna 3.4. igraph 0.11.2. ipykernel 6.26.0. jedi 0.19.1. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.1. llvmlite 0.41.1. matplotlib 3.8.3. mpl_toolkits NA. natsort 8.4.0. numba 0.58.1. numpy 1.26.4. packaging 23.2. pandas 2.2.0. parso 0.8.3. pexpect 4.8.0. pickleshare 0.7.5. platformdirs 3.11.0. prompt_toolkit 3.0.39. psutil 5.9.5. ptyprocess 0.7.0. pure_eval 0.2.2. pyarrow 15.0.0. pybiomart 0.2.0. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.16.1. pyparsing 3.1.1. pytz 2024.1. requests 2.31.0. requests_cache 1.1.1. scipy 1.11.3. session_info 1.0.0. six 1.16.0. sklearn 1.3.2. socks 1.7.1. stack_data 0.6.2. texttable 1.7.0. threadpoolctl 3.2.0. tornado 6.3.3. traitlets 5.13.0. typing_extensions NA. url_normalize 1.4.3. urllib3 2.0.7. wcwidth 0.2.9. yaml 6.0.1. zmq 25.1.1. zoneinfo NA. -----. IPython 8.17.2. jupyter_client 8.6.0. jupyter_core 5.5.0. -----. Python 3.11.6 | packaged by conda-forge | (main, Oct 3 2023, 10:40:35) [GCC 12.3.0]. Linux-6.5.0-17-generic-x86_64-with-glibc2.35. -----. Session information updated at 2024-02-16 11:40. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2861
https://github.com/scverse/scanpy/issues/2861:238,integrability,version,version,238,"``biomart_annotations`` still creates cache when ``use_cache=False``; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? When using `sc.queries.biomart_annotations`, it still generates the file `.pybiomart.sqlite` even when `use_cache=False` is used. To me this is a problem because the generated hidden file interferes with `Omnipath` and makes it crash. It used to be the case that `use_cache` used to work but not anymore. . Thank you for your time. ### Minimal code sample. ```python. import scanpy as sc. annot = sc.queries.biomart_annotations(. 'hsapiens',. ['ensembl_gene_id', 'external_gene_name'],. use_cache=False. ). ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.3. scanpy 1.9.8. -----. PIL 10.2.0. asttokens NA. attr 23.1.0. attrs 23.1.0. brotli 1.1.0. cattr NA. cattrs NA. certifi 2023.11.17. cffi 1.16.0. charset_normalizer 3.3.2. colorama 0.4.6. comm 0.1.4. cycler 0.12.1. cython_runtime NA. dateutil 2.8.2. debugpy 1.8.0. decorator 5.1.1. executing 2.0.1. future 0.18.3. h5py 3.10.0. idna 3.4. igraph 0.11.2. ipykernel 6.26.0. jedi 0.19.1. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.1. llvmlite 0.41.1. matplotlib 3.8.3. mpl_toolkits NA. natsort 8.4.0. numba 0.58.1. numpy 1.26.4. packaging 23.2. pandas 2.2.0. parso 0.8.3. pexpect 4.8.0. pickleshare 0.7.5. platformdirs 3.11.0. prompt_toolkit 3.0.39. psutil 5.9.5. ptyprocess 0.7.0. pure_eval 0.2.2. pyarrow 15.0.0. pybiomart 0.2.0. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.16.1. pyparsing 3.1.1. pytz 2024.1. requests 2.31.0. requests_cache 1.1.1. scipy 1.11.3. session_info 1.0.0. six 1.16.0. sklearn 1.3.2. socks 1.7.1. stack_data 0.6.2. texttable 1.7.0. threadpoolctl",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2861
https://github.com/scverse/scanpy/issues/2861:907,integrability,Version,Versions,907,"``biomart_annotations`` still creates cache when ``use_cache=False``; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? When using `sc.queries.biomart_annotations`, it still generates the file `.pybiomart.sqlite` even when `use_cache=False` is used. To me this is a problem because the generated hidden file interferes with `Omnipath` and makes it crash. It used to be the case that `use_cache` used to work but not anymore. . Thank you for your time. ### Minimal code sample. ```python. import scanpy as sc. annot = sc.queries.biomart_annotations(. 'hsapiens',. ['ensembl_gene_id', 'external_gene_name'],. use_cache=False. ). ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.3. scanpy 1.9.8. -----. PIL 10.2.0. asttokens NA. attr 23.1.0. attrs 23.1.0. brotli 1.1.0. cattr NA. cattrs NA. certifi 2023.11.17. cffi 1.16.0. charset_normalizer 3.3.2. colorama 0.4.6. comm 0.1.4. cycler 0.12.1. cython_runtime NA. dateutil 2.8.2. debugpy 1.8.0. decorator 5.1.1. executing 2.0.1. future 0.18.3. h5py 3.10.0. idna 3.4. igraph 0.11.2. ipykernel 6.26.0. jedi 0.19.1. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.1. llvmlite 0.41.1. matplotlib 3.8.3. mpl_toolkits NA. natsort 8.4.0. numba 0.58.1. numpy 1.26.4. packaging 23.2. pandas 2.2.0. parso 0.8.3. pexpect 4.8.0. pickleshare 0.7.5. platformdirs 3.11.0. prompt_toolkit 3.0.39. psutil 5.9.5. ptyprocess 0.7.0. pure_eval 0.2.2. pyarrow 15.0.0. pybiomart 0.2.0. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.16.1. pyparsing 3.1.1. pytz 2024.1. requests 2.31.0. requests_cache 1.1.1. scipy 1.11.3. session_info 1.0.0. six 1.16.0. sklearn 1.3.2. socks 1.7.1. stack_data 0.6.2. texttable 1.7.0. threadpoolctl",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2861
https://github.com/scverse/scanpy/issues/2861:1557,interoperability,platform,platformdirs,1557,"file `.pybiomart.sqlite` even when `use_cache=False` is used. To me this is a problem because the generated hidden file interferes with `Omnipath` and makes it crash. It used to be the case that `use_cache` used to work but not anymore. . Thank you for your time. ### Minimal code sample. ```python. import scanpy as sc. annot = sc.queries.biomart_annotations(. 'hsapiens',. ['ensembl_gene_id', 'external_gene_name'],. use_cache=False. ). ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.3. scanpy 1.9.8. -----. PIL 10.2.0. asttokens NA. attr 23.1.0. attrs 23.1.0. brotli 1.1.0. cattr NA. cattrs NA. certifi 2023.11.17. cffi 1.16.0. charset_normalizer 3.3.2. colorama 0.4.6. comm 0.1.4. cycler 0.12.1. cython_runtime NA. dateutil 2.8.2. debugpy 1.8.0. decorator 5.1.1. executing 2.0.1. future 0.18.3. h5py 3.10.0. idna 3.4. igraph 0.11.2. ipykernel 6.26.0. jedi 0.19.1. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.1. llvmlite 0.41.1. matplotlib 3.8.3. mpl_toolkits NA. natsort 8.4.0. numba 0.58.1. numpy 1.26.4. packaging 23.2. pandas 2.2.0. parso 0.8.3. pexpect 4.8.0. pickleshare 0.7.5. platformdirs 3.11.0. prompt_toolkit 3.0.39. psutil 5.9.5. ptyprocess 0.7.0. pure_eval 0.2.2. pyarrow 15.0.0. pybiomart 0.2.0. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.16.1. pyparsing 3.1.1. pytz 2024.1. requests 2.31.0. requests_cache 1.1.1. scipy 1.11.3. session_info 1.0.0. six 1.16.0. sklearn 1.3.2. socks 1.7.1. stack_data 0.6.2. texttable 1.7.0. threadpoolctl 3.2.0. tornado 6.3.3. traitlets 5.13.0. typing_extensions NA. url_normalize 1.4.3. urllib3 2.0.7. wcwidth 0.2.9. yaml 6.0.1. zmq 25.1.1. zoneinfo NA. -----. IPython 8.17.2. jupyter_client 8.6.0. jupyter_core 5.5.0. -----. Python 3.11.6 | packaged by conda-forge | (main, Oct 3 2023, 10:40:35) [GCC 12.3.0]. Linux-6.5.0-17-generic-x86_64-with-glibc2.35. -----. Session information updated at 2024-02-16 11:40. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2861
https://github.com/scverse/scanpy/issues/2861:238,modifiability,version,version,238,"``biomart_annotations`` still creates cache when ``use_cache=False``; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? When using `sc.queries.biomart_annotations`, it still generates the file `.pybiomart.sqlite` even when `use_cache=False` is used. To me this is a problem because the generated hidden file interferes with `Omnipath` and makes it crash. It used to be the case that `use_cache` used to work but not anymore. . Thank you for your time. ### Minimal code sample. ```python. import scanpy as sc. annot = sc.queries.biomart_annotations(. 'hsapiens',. ['ensembl_gene_id', 'external_gene_name'],. use_cache=False. ). ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.3. scanpy 1.9.8. -----. PIL 10.2.0. asttokens NA. attr 23.1.0. attrs 23.1.0. brotli 1.1.0. cattr NA. cattrs NA. certifi 2023.11.17. cffi 1.16.0. charset_normalizer 3.3.2. colorama 0.4.6. comm 0.1.4. cycler 0.12.1. cython_runtime NA. dateutil 2.8.2. debugpy 1.8.0. decorator 5.1.1. executing 2.0.1. future 0.18.3. h5py 3.10.0. idna 3.4. igraph 0.11.2. ipykernel 6.26.0. jedi 0.19.1. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.1. llvmlite 0.41.1. matplotlib 3.8.3. mpl_toolkits NA. natsort 8.4.0. numba 0.58.1. numpy 1.26.4. packaging 23.2. pandas 2.2.0. parso 0.8.3. pexpect 4.8.0. pickleshare 0.7.5. platformdirs 3.11.0. prompt_toolkit 3.0.39. psutil 5.9.5. ptyprocess 0.7.0. pure_eval 0.2.2. pyarrow 15.0.0. pybiomart 0.2.0. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.16.1. pyparsing 3.1.1. pytz 2024.1. requests 2.31.0. requests_cache 1.1.1. scipy 1.11.3. session_info 1.0.0. six 1.16.0. sklearn 1.3.2. socks 1.7.1. stack_data 0.6.2. texttable 1.7.0. threadpoolctl",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2861
https://github.com/scverse/scanpy/issues/2861:907,modifiability,Version,Versions,907,"``biomart_annotations`` still creates cache when ``use_cache=False``; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? When using `sc.queries.biomart_annotations`, it still generates the file `.pybiomart.sqlite` even when `use_cache=False` is used. To me this is a problem because the generated hidden file interferes with `Omnipath` and makes it crash. It used to be the case that `use_cache` used to work but not anymore. . Thank you for your time. ### Minimal code sample. ```python. import scanpy as sc. annot = sc.queries.biomart_annotations(. 'hsapiens',. ['ensembl_gene_id', 'external_gene_name'],. use_cache=False. ). ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.3. scanpy 1.9.8. -----. PIL 10.2.0. asttokens NA. attr 23.1.0. attrs 23.1.0. brotli 1.1.0. cattr NA. cattrs NA. certifi 2023.11.17. cffi 1.16.0. charset_normalizer 3.3.2. colorama 0.4.6. comm 0.1.4. cycler 0.12.1. cython_runtime NA. dateutil 2.8.2. debugpy 1.8.0. decorator 5.1.1. executing 2.0.1. future 0.18.3. h5py 3.10.0. idna 3.4. igraph 0.11.2. ipykernel 6.26.0. jedi 0.19.1. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.1. llvmlite 0.41.1. matplotlib 3.8.3. mpl_toolkits NA. natsort 8.4.0. numba 0.58.1. numpy 1.26.4. packaging 23.2. pandas 2.2.0. parso 0.8.3. pexpect 4.8.0. pickleshare 0.7.5. platformdirs 3.11.0. prompt_toolkit 3.0.39. psutil 5.9.5. ptyprocess 0.7.0. pure_eval 0.2.2. pyarrow 15.0.0. pybiomart 0.2.0. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.16.1. pyparsing 3.1.1. pytz 2024.1. requests 2.31.0. requests_cache 1.1.1. scipy 1.11.3. session_info 1.0.0. six 1.16.0. sklearn 1.3.2. socks 1.7.1. stack_data 0.6.2. texttable 1.7.0. threadpoolctl",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2861
https://github.com/scverse/scanpy/issues/2861:1217,modifiability,deco,decorator,1217,"s on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? When using `sc.queries.biomart_annotations`, it still generates the file `.pybiomart.sqlite` even when `use_cache=False` is used. To me this is a problem because the generated hidden file interferes with `Omnipath` and makes it crash. It used to be the case that `use_cache` used to work but not anymore. . Thank you for your time. ### Minimal code sample. ```python. import scanpy as sc. annot = sc.queries.biomart_annotations(. 'hsapiens',. ['ensembl_gene_id', 'external_gene_name'],. use_cache=False. ). ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.3. scanpy 1.9.8. -----. PIL 10.2.0. asttokens NA. attr 23.1.0. attrs 23.1.0. brotli 1.1.0. cattr NA. cattrs NA. certifi 2023.11.17. cffi 1.16.0. charset_normalizer 3.3.2. colorama 0.4.6. comm 0.1.4. cycler 0.12.1. cython_runtime NA. dateutil 2.8.2. debugpy 1.8.0. decorator 5.1.1. executing 2.0.1. future 0.18.3. h5py 3.10.0. idna 3.4. igraph 0.11.2. ipykernel 6.26.0. jedi 0.19.1. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.1. llvmlite 0.41.1. matplotlib 3.8.3. mpl_toolkits NA. natsort 8.4.0. numba 0.58.1. numpy 1.26.4. packaging 23.2. pandas 2.2.0. parso 0.8.3. pexpect 4.8.0. pickleshare 0.7.5. platformdirs 3.11.0. prompt_toolkit 3.0.39. psutil 5.9.5. ptyprocess 0.7.0. pure_eval 0.2.2. pyarrow 15.0.0. pybiomart 0.2.0. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.16.1. pyparsing 3.1.1. pytz 2024.1. requests 2.31.0. requests_cache 1.1.1. scipy 1.11.3. session_info 1.0.0. six 1.16.0. sklearn 1.3.2. socks 1.7.1. stack_data 0.6.2. texttable 1.7.0. threadpoolctl 3.2.0. tornado 6.3.3. traitlets 5.13.0. typing_extensions NA. url_normalize 1.4.3. urllib3 2.0.7. wcwidth 0.2.9. yaml 6.0.1. zmq 25.1.1. zoneinfo NA. -----. IPython 8.17.2. jupyter_client 8.6.0. jupyter_core 5.5.0. -----.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2861
https://github.com/scverse/scanpy/issues/2861:1480,modifiability,pac,packaging,1480,"file `.pybiomart.sqlite` even when `use_cache=False` is used. To me this is a problem because the generated hidden file interferes with `Omnipath` and makes it crash. It used to be the case that `use_cache` used to work but not anymore. . Thank you for your time. ### Minimal code sample. ```python. import scanpy as sc. annot = sc.queries.biomart_annotations(. 'hsapiens',. ['ensembl_gene_id', 'external_gene_name'],. use_cache=False. ). ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.3. scanpy 1.9.8. -----. PIL 10.2.0. asttokens NA. attr 23.1.0. attrs 23.1.0. brotli 1.1.0. cattr NA. cattrs NA. certifi 2023.11.17. cffi 1.16.0. charset_normalizer 3.3.2. colorama 0.4.6. comm 0.1.4. cycler 0.12.1. cython_runtime NA. dateutil 2.8.2. debugpy 1.8.0. decorator 5.1.1. executing 2.0.1. future 0.18.3. h5py 3.10.0. idna 3.4. igraph 0.11.2. ipykernel 6.26.0. jedi 0.19.1. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.1. llvmlite 0.41.1. matplotlib 3.8.3. mpl_toolkits NA. natsort 8.4.0. numba 0.58.1. numpy 1.26.4. packaging 23.2. pandas 2.2.0. parso 0.8.3. pexpect 4.8.0. pickleshare 0.7.5. platformdirs 3.11.0. prompt_toolkit 3.0.39. psutil 5.9.5. ptyprocess 0.7.0. pure_eval 0.2.2. pyarrow 15.0.0. pybiomart 0.2.0. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.16.1. pyparsing 3.1.1. pytz 2024.1. requests 2.31.0. requests_cache 1.1.1. scipy 1.11.3. session_info 1.0.0. six 1.16.0. sklearn 1.3.2. socks 1.7.1. stack_data 0.6.2. texttable 1.7.0. threadpoolctl 3.2.0. tornado 6.3.3. traitlets 5.13.0. typing_extensions NA. url_normalize 1.4.3. urllib3 2.0.7. wcwidth 0.2.9. yaml 6.0.1. zmq 25.1.1. zoneinfo NA. -----. IPython 8.17.2. jupyter_client 8.6.0. jupyter_core 5.5.0. -----. Python 3.11.6 | packaged by conda-forge | (main, Oct 3 2023, 10:40:35) [GCC 12.3.0]. Linux-6.5.0-17-generic-x86_64-with-glibc2.35. -----. Session information updated at 2024-02-16 11:40. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2861
https://github.com/scverse/scanpy/issues/2861:2239,modifiability,pac,packaged,2239,"file `.pybiomart.sqlite` even when `use_cache=False` is used. To me this is a problem because the generated hidden file interferes with `Omnipath` and makes it crash. It used to be the case that `use_cache` used to work but not anymore. . Thank you for your time. ### Minimal code sample. ```python. import scanpy as sc. annot = sc.queries.biomart_annotations(. 'hsapiens',. ['ensembl_gene_id', 'external_gene_name'],. use_cache=False. ). ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.3. scanpy 1.9.8. -----. PIL 10.2.0. asttokens NA. attr 23.1.0. attrs 23.1.0. brotli 1.1.0. cattr NA. cattrs NA. certifi 2023.11.17. cffi 1.16.0. charset_normalizer 3.3.2. colorama 0.4.6. comm 0.1.4. cycler 0.12.1. cython_runtime NA. dateutil 2.8.2. debugpy 1.8.0. decorator 5.1.1. executing 2.0.1. future 0.18.3. h5py 3.10.0. idna 3.4. igraph 0.11.2. ipykernel 6.26.0. jedi 0.19.1. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.1. llvmlite 0.41.1. matplotlib 3.8.3. mpl_toolkits NA. natsort 8.4.0. numba 0.58.1. numpy 1.26.4. packaging 23.2. pandas 2.2.0. parso 0.8.3. pexpect 4.8.0. pickleshare 0.7.5. platformdirs 3.11.0. prompt_toolkit 3.0.39. psutil 5.9.5. ptyprocess 0.7.0. pure_eval 0.2.2. pyarrow 15.0.0. pybiomart 0.2.0. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.16.1. pyparsing 3.1.1. pytz 2024.1. requests 2.31.0. requests_cache 1.1.1. scipy 1.11.3. session_info 1.0.0. six 1.16.0. sklearn 1.3.2. socks 1.7.1. stack_data 0.6.2. texttable 1.7.0. threadpoolctl 3.2.0. tornado 6.3.3. traitlets 5.13.0. typing_extensions NA. url_normalize 1.4.3. urllib3 2.0.7. wcwidth 0.2.9. yaml 6.0.1. zmq 25.1.1. zoneinfo NA. -----. IPython 8.17.2. jupyter_client 8.6.0. jupyter_core 5.5.0. -----. Python 3.11.6 | packaged by conda-forge | (main, Oct 3 2023, 10:40:35) [GCC 12.3.0]. Linux-6.5.0-17-generic-x86_64-with-glibc2.35. -----. Session information updated at 2024-02-16 11:40. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2861
https://github.com/scverse/scanpy/issues/2861:38,performance,cach,cache,38,"``biomart_annotations`` still creates cache when ``use_cache=False``; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? When using `sc.queries.biomart_annotations`, it still generates the file `.pybiomart.sqlite` even when `use_cache=False` is used. To me this is a problem because the generated hidden file interferes with `Omnipath` and makes it crash. It used to be the case that `use_cache` used to work but not anymore. . Thank you for your time. ### Minimal code sample. ```python. import scanpy as sc. annot = sc.queries.biomart_annotations(. 'hsapiens',. ['ensembl_gene_id', 'external_gene_name'],. use_cache=False. ). ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.3. scanpy 1.9.8. -----. PIL 10.2.0. asttokens NA. attr 23.1.0. attrs 23.1.0. brotli 1.1.0. cattr NA. cattrs NA. certifi 2023.11.17. cffi 1.16.0. charset_normalizer 3.3.2. colorama 0.4.6. comm 0.1.4. cycler 0.12.1. cython_runtime NA. dateutil 2.8.2. debugpy 1.8.0. decorator 5.1.1. executing 2.0.1. future 0.18.3. h5py 3.10.0. idna 3.4. igraph 0.11.2. ipykernel 6.26.0. jedi 0.19.1. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.1. llvmlite 0.41.1. matplotlib 3.8.3. mpl_toolkits NA. natsort 8.4.0. numba 0.58.1. numpy 1.26.4. packaging 23.2. pandas 2.2.0. parso 0.8.3. pexpect 4.8.0. pickleshare 0.7.5. platformdirs 3.11.0. prompt_toolkit 3.0.39. psutil 5.9.5. ptyprocess 0.7.0. pure_eval 0.2.2. pyarrow 15.0.0. pybiomart 0.2.0. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.16.1. pyparsing 3.1.1. pytz 2024.1. requests 2.31.0. requests_cache 1.1.1. scipy 1.11.3. session_info 1.0.0. six 1.16.0. sklearn 1.3.2. socks 1.7.1. stack_data 0.6.2. texttable 1.7.0. threadpoolctl",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2861
https://github.com/scverse/scanpy/issues/2861:684,performance,time,time,684,"``biomart_annotations`` still creates cache when ``use_cache=False``; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? When using `sc.queries.biomart_annotations`, it still generates the file `.pybiomart.sqlite` even when `use_cache=False` is used. To me this is a problem because the generated hidden file interferes with `Omnipath` and makes it crash. It used to be the case that `use_cache` used to work but not anymore. . Thank you for your time. ### Minimal code sample. ```python. import scanpy as sc. annot = sc.queries.biomart_annotations(. 'hsapiens',. ['ensembl_gene_id', 'external_gene_name'],. use_cache=False. ). ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.3. scanpy 1.9.8. -----. PIL 10.2.0. asttokens NA. attr 23.1.0. attrs 23.1.0. brotli 1.1.0. cattr NA. cattrs NA. certifi 2023.11.17. cffi 1.16.0. charset_normalizer 3.3.2. colorama 0.4.6. comm 0.1.4. cycler 0.12.1. cython_runtime NA. dateutil 2.8.2. debugpy 1.8.0. decorator 5.1.1. executing 2.0.1. future 0.18.3. h5py 3.10.0. idna 3.4. igraph 0.11.2. ipykernel 6.26.0. jedi 0.19.1. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.1. llvmlite 0.41.1. matplotlib 3.8.3. mpl_toolkits NA. natsort 8.4.0. numba 0.58.1. numpy 1.26.4. packaging 23.2. pandas 2.2.0. parso 0.8.3. pexpect 4.8.0. pickleshare 0.7.5. platformdirs 3.11.0. prompt_toolkit 3.0.39. psutil 5.9.5. ptyprocess 0.7.0. pure_eval 0.2.2. pyarrow 15.0.0. pybiomart 0.2.0. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.16.1. pyparsing 3.1.1. pytz 2024.1. requests 2.31.0. requests_cache 1.1.1. scipy 1.11.3. session_info 1.0.0. six 1.16.0. sklearn 1.3.2. socks 1.7.1. stack_data 0.6.2. texttable 1.7.0. threadpoolctl",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2861
https://github.com/scverse/scanpy/issues/2861:874,performance,Error,Error,874,"``biomart_annotations`` still creates cache when ``use_cache=False``; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? When using `sc.queries.biomart_annotations`, it still generates the file `.pybiomart.sqlite` even when `use_cache=False` is used. To me this is a problem because the generated hidden file interferes with `Omnipath` and makes it crash. It used to be the case that `use_cache` used to work but not anymore. . Thank you for your time. ### Minimal code sample. ```python. import scanpy as sc. annot = sc.queries.biomart_annotations(. 'hsapiens',. ['ensembl_gene_id', 'external_gene_name'],. use_cache=False. ). ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.3. scanpy 1.9.8. -----. PIL 10.2.0. asttokens NA. attr 23.1.0. attrs 23.1.0. brotli 1.1.0. cattr NA. cattrs NA. certifi 2023.11.17. cffi 1.16.0. charset_normalizer 3.3.2. colorama 0.4.6. comm 0.1.4. cycler 0.12.1. cython_runtime NA. dateutil 2.8.2. debugpy 1.8.0. decorator 5.1.1. executing 2.0.1. future 0.18.3. h5py 3.10.0. idna 3.4. igraph 0.11.2. ipykernel 6.26.0. jedi 0.19.1. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.1. llvmlite 0.41.1. matplotlib 3.8.3. mpl_toolkits NA. natsort 8.4.0. numba 0.58.1. numpy 1.26.4. packaging 23.2. pandas 2.2.0. parso 0.8.3. pexpect 4.8.0. pickleshare 0.7.5. platformdirs 3.11.0. prompt_toolkit 3.0.39. psutil 5.9.5. ptyprocess 0.7.0. pure_eval 0.2.2. pyarrow 15.0.0. pybiomart 0.2.0. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.16.1. pyparsing 3.1.1. pytz 2024.1. requests 2.31.0. requests_cache 1.1.1. scipy 1.11.3. session_info 1.0.0. six 1.16.0. sklearn 1.3.2. socks 1.7.1. stack_data 0.6.2. texttable 1.7.0. threadpoolctl",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2861
https://github.com/scverse/scanpy/issues/2861:874,safety,Error,Error,874,"``biomart_annotations`` still creates cache when ``use_cache=False``; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? When using `sc.queries.biomart_annotations`, it still generates the file `.pybiomart.sqlite` even when `use_cache=False` is used. To me this is a problem because the generated hidden file interferes with `Omnipath` and makes it crash. It used to be the case that `use_cache` used to work but not anymore. . Thank you for your time. ### Minimal code sample. ```python. import scanpy as sc. annot = sc.queries.biomart_annotations(. 'hsapiens',. ['ensembl_gene_id', 'external_gene_name'],. use_cache=False. ). ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.3. scanpy 1.9.8. -----. PIL 10.2.0. asttokens NA. attr 23.1.0. attrs 23.1.0. brotli 1.1.0. cattr NA. cattrs NA. certifi 2023.11.17. cffi 1.16.0. charset_normalizer 3.3.2. colorama 0.4.6. comm 0.1.4. cycler 0.12.1. cython_runtime NA. dateutil 2.8.2. debugpy 1.8.0. decorator 5.1.1. executing 2.0.1. future 0.18.3. h5py 3.10.0. idna 3.4. igraph 0.11.2. ipykernel 6.26.0. jedi 0.19.1. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.1. llvmlite 0.41.1. matplotlib 3.8.3. mpl_toolkits NA. natsort 8.4.0. numba 0.58.1. numpy 1.26.4. packaging 23.2. pandas 2.2.0. parso 0.8.3. pexpect 4.8.0. pickleshare 0.7.5. platformdirs 3.11.0. prompt_toolkit 3.0.39. psutil 5.9.5. ptyprocess 0.7.0. pure_eval 0.2.2. pyarrow 15.0.0. pybiomart 0.2.0. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.16.1. pyparsing 3.1.1. pytz 2024.1. requests 2.31.0. requests_cache 1.1.1. scipy 1.11.3. session_info 1.0.0. six 1.16.0. sklearn 1.3.2. socks 1.7.1. stack_data 0.6.2. texttable 1.7.0. threadpoolctl",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2861
https://github.com/scverse/scanpy/issues/2861:2381,safety,updat,updated,2381,"file `.pybiomart.sqlite` even when `use_cache=False` is used. To me this is a problem because the generated hidden file interferes with `Omnipath` and makes it crash. It used to be the case that `use_cache` used to work but not anymore. . Thank you for your time. ### Minimal code sample. ```python. import scanpy as sc. annot = sc.queries.biomart_annotations(. 'hsapiens',. ['ensembl_gene_id', 'external_gene_name'],. use_cache=False. ). ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.3. scanpy 1.9.8. -----. PIL 10.2.0. asttokens NA. attr 23.1.0. attrs 23.1.0. brotli 1.1.0. cattr NA. cattrs NA. certifi 2023.11.17. cffi 1.16.0. charset_normalizer 3.3.2. colorama 0.4.6. comm 0.1.4. cycler 0.12.1. cython_runtime NA. dateutil 2.8.2. debugpy 1.8.0. decorator 5.1.1. executing 2.0.1. future 0.18.3. h5py 3.10.0. idna 3.4. igraph 0.11.2. ipykernel 6.26.0. jedi 0.19.1. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.1. llvmlite 0.41.1. matplotlib 3.8.3. mpl_toolkits NA. natsort 8.4.0. numba 0.58.1. numpy 1.26.4. packaging 23.2. pandas 2.2.0. parso 0.8.3. pexpect 4.8.0. pickleshare 0.7.5. platformdirs 3.11.0. prompt_toolkit 3.0.39. psutil 5.9.5. ptyprocess 0.7.0. pure_eval 0.2.2. pyarrow 15.0.0. pybiomart 0.2.0. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.16.1. pyparsing 3.1.1. pytz 2024.1. requests 2.31.0. requests_cache 1.1.1. scipy 1.11.3. session_info 1.0.0. six 1.16.0. sklearn 1.3.2. socks 1.7.1. stack_data 0.6.2. texttable 1.7.0. threadpoolctl 3.2.0. tornado 6.3.3. traitlets 5.13.0. typing_extensions NA. url_normalize 1.4.3. urllib3 2.0.7. wcwidth 0.2.9. yaml 6.0.1. zmq 25.1.1. zoneinfo NA. -----. IPython 8.17.2. jupyter_client 8.6.0. jupyter_core 5.5.0. -----. Python 3.11.6 | packaged by conda-forge | (main, Oct 3 2023, 10:40:35) [GCC 12.3.0]. Linux-6.5.0-17-generic-x86_64-with-glibc2.35. -----. Session information updated at 2024-02-16 11:40. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2861
https://github.com/scverse/scanpy/issues/2861:1065,security,certif,certifi,1065," ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? When using `sc.queries.biomart_annotations`, it still generates the file `.pybiomart.sqlite` even when `use_cache=False` is used. To me this is a problem because the generated hidden file interferes with `Omnipath` and makes it crash. It used to be the case that `use_cache` used to work but not anymore. . Thank you for your time. ### Minimal code sample. ```python. import scanpy as sc. annot = sc.queries.biomart_annotations(. 'hsapiens',. ['ensembl_gene_id', 'external_gene_name'],. use_cache=False. ). ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.3. scanpy 1.9.8. -----. PIL 10.2.0. asttokens NA. attr 23.1.0. attrs 23.1.0. brotli 1.1.0. cattr NA. cattrs NA. certifi 2023.11.17. cffi 1.16.0. charset_normalizer 3.3.2. colorama 0.4.6. comm 0.1.4. cycler 0.12.1. cython_runtime NA. dateutil 2.8.2. debugpy 1.8.0. decorator 5.1.1. executing 2.0.1. future 0.18.3. h5py 3.10.0. idna 3.4. igraph 0.11.2. ipykernel 6.26.0. jedi 0.19.1. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.1. llvmlite 0.41.1. matplotlib 3.8.3. mpl_toolkits NA. natsort 8.4.0. numba 0.58.1. numpy 1.26.4. packaging 23.2. pandas 2.2.0. parso 0.8.3. pexpect 4.8.0. pickleshare 0.7.5. platformdirs 3.11.0. prompt_toolkit 3.0.39. psutil 5.9.5. ptyprocess 0.7.0. pure_eval 0.2.2. pyarrow 15.0.0. pybiomart 0.2.0. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.16.1. pyparsing 3.1.1. pytz 2024.1. requests 2.31.0. requests_cache 1.1.1. scipy 1.11.3. session_info 1.0.0. six 1.16.0. sklearn 1.3.2. socks 1.7.1. stack_data 0.6.2. texttable 1.7.0. threadpoolctl 3.2.0. tornado 6.3.3. traitlets 5.13.0. typing_extensions NA. url_no",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2861
https://github.com/scverse/scanpy/issues/2861:1939,security,soc,socks,1939,"file `.pybiomart.sqlite` even when `use_cache=False` is used. To me this is a problem because the generated hidden file interferes with `Omnipath` and makes it crash. It used to be the case that `use_cache` used to work but not anymore. . Thank you for your time. ### Minimal code sample. ```python. import scanpy as sc. annot = sc.queries.biomart_annotations(. 'hsapiens',. ['ensembl_gene_id', 'external_gene_name'],. use_cache=False. ). ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.3. scanpy 1.9.8. -----. PIL 10.2.0. asttokens NA. attr 23.1.0. attrs 23.1.0. brotli 1.1.0. cattr NA. cattrs NA. certifi 2023.11.17. cffi 1.16.0. charset_normalizer 3.3.2. colorama 0.4.6. comm 0.1.4. cycler 0.12.1. cython_runtime NA. dateutil 2.8.2. debugpy 1.8.0. decorator 5.1.1. executing 2.0.1. future 0.18.3. h5py 3.10.0. idna 3.4. igraph 0.11.2. ipykernel 6.26.0. jedi 0.19.1. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.1. llvmlite 0.41.1. matplotlib 3.8.3. mpl_toolkits NA. natsort 8.4.0. numba 0.58.1. numpy 1.26.4. packaging 23.2. pandas 2.2.0. parso 0.8.3. pexpect 4.8.0. pickleshare 0.7.5. platformdirs 3.11.0. prompt_toolkit 3.0.39. psutil 5.9.5. ptyprocess 0.7.0. pure_eval 0.2.2. pyarrow 15.0.0. pybiomart 0.2.0. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.16.1. pyparsing 3.1.1. pytz 2024.1. requests 2.31.0. requests_cache 1.1.1. scipy 1.11.3. session_info 1.0.0. six 1.16.0. sklearn 1.3.2. socks 1.7.1. stack_data 0.6.2. texttable 1.7.0. threadpoolctl 3.2.0. tornado 6.3.3. traitlets 5.13.0. typing_extensions NA. url_normalize 1.4.3. urllib3 2.0.7. wcwidth 0.2.9. yaml 6.0.1. zmq 25.1.1. zoneinfo NA. -----. IPython 8.17.2. jupyter_client 8.6.0. jupyter_core 5.5.0. -----. Python 3.11.6 | packaged by conda-forge | (main, Oct 3 2023, 10:40:35) [GCC 12.3.0]. Linux-6.5.0-17-generic-x86_64-with-glibc2.35. -----. Session information updated at 2024-02-16 11:40. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2861
https://github.com/scverse/scanpy/issues/2861:2361,security,Session,Session,2361,"file `.pybiomart.sqlite` even when `use_cache=False` is used. To me this is a problem because the generated hidden file interferes with `Omnipath` and makes it crash. It used to be the case that `use_cache` used to work but not anymore. . Thank you for your time. ### Minimal code sample. ```python. import scanpy as sc. annot = sc.queries.biomart_annotations(. 'hsapiens',. ['ensembl_gene_id', 'external_gene_name'],. use_cache=False. ). ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.3. scanpy 1.9.8. -----. PIL 10.2.0. asttokens NA. attr 23.1.0. attrs 23.1.0. brotli 1.1.0. cattr NA. cattrs NA. certifi 2023.11.17. cffi 1.16.0. charset_normalizer 3.3.2. colorama 0.4.6. comm 0.1.4. cycler 0.12.1. cython_runtime NA. dateutil 2.8.2. debugpy 1.8.0. decorator 5.1.1. executing 2.0.1. future 0.18.3. h5py 3.10.0. idna 3.4. igraph 0.11.2. ipykernel 6.26.0. jedi 0.19.1. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.1. llvmlite 0.41.1. matplotlib 3.8.3. mpl_toolkits NA. natsort 8.4.0. numba 0.58.1. numpy 1.26.4. packaging 23.2. pandas 2.2.0. parso 0.8.3. pexpect 4.8.0. pickleshare 0.7.5. platformdirs 3.11.0. prompt_toolkit 3.0.39. psutil 5.9.5. ptyprocess 0.7.0. pure_eval 0.2.2. pyarrow 15.0.0. pybiomart 0.2.0. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.16.1. pyparsing 3.1.1. pytz 2024.1. requests 2.31.0. requests_cache 1.1.1. scipy 1.11.3. session_info 1.0.0. six 1.16.0. sklearn 1.3.2. socks 1.7.1. stack_data 0.6.2. texttable 1.7.0. threadpoolctl 3.2.0. tornado 6.3.3. traitlets 5.13.0. typing_extensions NA. url_normalize 1.4.3. urllib3 2.0.7. wcwidth 0.2.9. yaml 6.0.1. zmq 25.1.1. zoneinfo NA. -----. IPython 8.17.2. jupyter_client 8.6.0. jupyter_core 5.5.0. -----. Python 3.11.6 | packaged by conda-forge | (main, Oct 3 2023, 10:40:35) [GCC 12.3.0]. Linux-6.5.0-17-generic-x86_64-with-glibc2.35. -----. Session information updated at 2024-02-16 11:40. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2861
https://github.com/scverse/scanpy/issues/2861:2381,security,updat,updated,2381,"file `.pybiomart.sqlite` even when `use_cache=False` is used. To me this is a problem because the generated hidden file interferes with `Omnipath` and makes it crash. It used to be the case that `use_cache` used to work but not anymore. . Thank you for your time. ### Minimal code sample. ```python. import scanpy as sc. annot = sc.queries.biomart_annotations(. 'hsapiens',. ['ensembl_gene_id', 'external_gene_name'],. use_cache=False. ). ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.3. scanpy 1.9.8. -----. PIL 10.2.0. asttokens NA. attr 23.1.0. attrs 23.1.0. brotli 1.1.0. cattr NA. cattrs NA. certifi 2023.11.17. cffi 1.16.0. charset_normalizer 3.3.2. colorama 0.4.6. comm 0.1.4. cycler 0.12.1. cython_runtime NA. dateutil 2.8.2. debugpy 1.8.0. decorator 5.1.1. executing 2.0.1. future 0.18.3. h5py 3.10.0. idna 3.4. igraph 0.11.2. ipykernel 6.26.0. jedi 0.19.1. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.1. llvmlite 0.41.1. matplotlib 3.8.3. mpl_toolkits NA. natsort 8.4.0. numba 0.58.1. numpy 1.26.4. packaging 23.2. pandas 2.2.0. parso 0.8.3. pexpect 4.8.0. pickleshare 0.7.5. platformdirs 3.11.0. prompt_toolkit 3.0.39. psutil 5.9.5. ptyprocess 0.7.0. pure_eval 0.2.2. pyarrow 15.0.0. pybiomart 0.2.0. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.16.1. pyparsing 3.1.1. pytz 2024.1. requests 2.31.0. requests_cache 1.1.1. scipy 1.11.3. session_info 1.0.0. six 1.16.0. sklearn 1.3.2. socks 1.7.1. stack_data 0.6.2. texttable 1.7.0. threadpoolctl 3.2.0. tornado 6.3.3. traitlets 5.13.0. typing_extensions NA. url_normalize 1.4.3. urllib3 2.0.7. wcwidth 0.2.9. yaml 6.0.1. zmq 25.1.1. zoneinfo NA. -----. IPython 8.17.2. jupyter_client 8.6.0. jupyter_core 5.5.0. -----. Python 3.11.6 | packaged by conda-forge | (main, Oct 3 2023, 10:40:35) [GCC 12.3.0]. Linux-6.5.0-17-generic-x86_64-with-glibc2.35. -----. Session information updated at 2024-02-16 11:40. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2861
https://github.com/scverse/scanpy/issues/2861:198,usability,confirm,confirmed,198,"``biomart_annotations`` still creates cache when ``use_cache=False``; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? When using `sc.queries.biomart_annotations`, it still generates the file `.pybiomart.sqlite` even when `use_cache=False` is used. To me this is a problem because the generated hidden file interferes with `Omnipath` and makes it crash. It used to be the case that `use_cache` used to work but not anymore. . Thank you for your time. ### Minimal code sample. ```python. import scanpy as sc. annot = sc.queries.biomart_annotations(. 'hsapiens',. ['ensembl_gene_id', 'external_gene_name'],. use_cache=False. ). ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.3. scanpy 1.9.8. -----. PIL 10.2.0. asttokens NA. attr 23.1.0. attrs 23.1.0. brotli 1.1.0. cattr NA. cattrs NA. certifi 2023.11.17. cffi 1.16.0. charset_normalizer 3.3.2. colorama 0.4.6. comm 0.1.4. cycler 0.12.1. cython_runtime NA. dateutil 2.8.2. debugpy 1.8.0. decorator 5.1.1. executing 2.0.1. future 0.18.3. h5py 3.10.0. idna 3.4. igraph 0.11.2. ipykernel 6.26.0. jedi 0.19.1. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.1. llvmlite 0.41.1. matplotlib 3.8.3. mpl_toolkits NA. natsort 8.4.0. numba 0.58.1. numpy 1.26.4. packaging 23.2. pandas 2.2.0. parso 0.8.3. pexpect 4.8.0. pickleshare 0.7.5. platformdirs 3.11.0. prompt_toolkit 3.0.39. psutil 5.9.5. ptyprocess 0.7.0. pure_eval 0.2.2. pyarrow 15.0.0. pybiomart 0.2.0. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.16.1. pyparsing 3.1.1. pytz 2024.1. requests 2.31.0. requests_cache 1.1.1. scipy 1.11.3. session_info 1.0.0. six 1.16.0. sklearn 1.3.2. socks 1.7.1. stack_data 0.6.2. texttable 1.7.0. threadpoolctl",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2861
https://github.com/scverse/scanpy/issues/2861:281,usability,confirm,confirmed,281,"``biomart_annotations`` still creates cache when ``use_cache=False``; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? When using `sc.queries.biomart_annotations`, it still generates the file `.pybiomart.sqlite` even when `use_cache=False` is used. To me this is a problem because the generated hidden file interferes with `Omnipath` and makes it crash. It used to be the case that `use_cache` used to work but not anymore. . Thank you for your time. ### Minimal code sample. ```python. import scanpy as sc. annot = sc.queries.biomart_annotations(. 'hsapiens',. ['ensembl_gene_id', 'external_gene_name'],. use_cache=False. ). ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.3. scanpy 1.9.8. -----. PIL 10.2.0. asttokens NA. attr 23.1.0. attrs 23.1.0. brotli 1.1.0. cattr NA. cattrs NA. certifi 2023.11.17. cffi 1.16.0. charset_normalizer 3.3.2. colorama 0.4.6. comm 0.1.4. cycler 0.12.1. cython_runtime NA. dateutil 2.8.2. debugpy 1.8.0. decorator 5.1.1. executing 2.0.1. future 0.18.3. h5py 3.10.0. idna 3.4. igraph 0.11.2. ipykernel 6.26.0. jedi 0.19.1. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.1. llvmlite 0.41.1. matplotlib 3.8.3. mpl_toolkits NA. natsort 8.4.0. numba 0.58.1. numpy 1.26.4. packaging 23.2. pandas 2.2.0. parso 0.8.3. pexpect 4.8.0. pickleshare 0.7.5. platformdirs 3.11.0. prompt_toolkit 3.0.39. psutil 5.9.5. ptyprocess 0.7.0. pure_eval 0.2.2. pyarrow 15.0.0. pybiomart 0.2.0. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.16.1. pyparsing 3.1.1. pytz 2024.1. requests 2.31.0. requests_cache 1.1.1. scipy 1.11.3. session_info 1.0.0. six 1.16.0. sklearn 1.3.2. socks 1.7.1. stack_data 0.6.2. texttable 1.7.0. threadpoolctl",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2861
https://github.com/scverse/scanpy/issues/2861:694,usability,Minim,Minimal,694,"``biomart_annotations`` still creates cache when ``use_cache=False``; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? When using `sc.queries.biomart_annotations`, it still generates the file `.pybiomart.sqlite` even when `use_cache=False` is used. To me this is a problem because the generated hidden file interferes with `Omnipath` and makes it crash. It used to be the case that `use_cache` used to work but not anymore. . Thank you for your time. ### Minimal code sample. ```python. import scanpy as sc. annot = sc.queries.biomart_annotations(. 'hsapiens',. ['ensembl_gene_id', 'external_gene_name'],. use_cache=False. ). ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.3. scanpy 1.9.8. -----. PIL 10.2.0. asttokens NA. attr 23.1.0. attrs 23.1.0. brotli 1.1.0. cattr NA. cattrs NA. certifi 2023.11.17. cffi 1.16.0. charset_normalizer 3.3.2. colorama 0.4.6. comm 0.1.4. cycler 0.12.1. cython_runtime NA. dateutil 2.8.2. debugpy 1.8.0. decorator 5.1.1. executing 2.0.1. future 0.18.3. h5py 3.10.0. idna 3.4. igraph 0.11.2. ipykernel 6.26.0. jedi 0.19.1. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.1. llvmlite 0.41.1. matplotlib 3.8.3. mpl_toolkits NA. natsort 8.4.0. numba 0.58.1. numpy 1.26.4. packaging 23.2. pandas 2.2.0. parso 0.8.3. pexpect 4.8.0. pickleshare 0.7.5. platformdirs 3.11.0. prompt_toolkit 3.0.39. psutil 5.9.5. ptyprocess 0.7.0. pure_eval 0.2.2. pyarrow 15.0.0. pybiomart 0.2.0. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.16.1. pyparsing 3.1.1. pytz 2024.1. requests 2.31.0. requests_cache 1.1.1. scipy 1.11.3. session_info 1.0.0. six 1.16.0. sklearn 1.3.2. socks 1.7.1. stack_data 0.6.2. texttable 1.7.0. threadpoolctl",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2861
https://github.com/scverse/scanpy/issues/2861:874,usability,Error,Error,874,"``biomart_annotations`` still creates cache when ``use_cache=False``; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? When using `sc.queries.biomart_annotations`, it still generates the file `.pybiomart.sqlite` even when `use_cache=False` is used. To me this is a problem because the generated hidden file interferes with `Omnipath` and makes it crash. It used to be the case that `use_cache` used to work but not anymore. . Thank you for your time. ### Minimal code sample. ```python. import scanpy as sc. annot = sc.queries.biomart_annotations(. 'hsapiens',. ['ensembl_gene_id', 'external_gene_name'],. use_cache=False. ). ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.3. scanpy 1.9.8. -----. PIL 10.2.0. asttokens NA. attr 23.1.0. attrs 23.1.0. brotli 1.1.0. cattr NA. cattrs NA. certifi 2023.11.17. cffi 1.16.0. charset_normalizer 3.3.2. colorama 0.4.6. comm 0.1.4. cycler 0.12.1. cython_runtime NA. dateutil 2.8.2. debugpy 1.8.0. decorator 5.1.1. executing 2.0.1. future 0.18.3. h5py 3.10.0. idna 3.4. igraph 0.11.2. ipykernel 6.26.0. jedi 0.19.1. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.1. llvmlite 0.41.1. matplotlib 3.8.3. mpl_toolkits NA. natsort 8.4.0. numba 0.58.1. numpy 1.26.4. packaging 23.2. pandas 2.2.0. parso 0.8.3. pexpect 4.8.0. pickleshare 0.7.5. platformdirs 3.11.0. prompt_toolkit 3.0.39. psutil 5.9.5. ptyprocess 0.7.0. pure_eval 0.2.2. pyarrow 15.0.0. pybiomart 0.2.0. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.16.1. pyparsing 3.1.1. pytz 2024.1. requests 2.31.0. requests_cache 1.1.1. scipy 1.11.3. session_info 1.0.0. six 1.16.0. sklearn 1.3.2. socks 1.7.1. stack_data 0.6.2. texttable 1.7.0. threadpoolctl",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2861
https://github.com/scverse/scanpy/issues/2862:620,deployability,depend,dependency,620,Submodular optimization using apricot; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I'm currently implementing a function that takes in an anndata and then subsamples a given representation using https://github.com/jmschrei/apricot. This generally serves the purpose of semi-optimally picking a reduced number of points that's still representative of the latent space. . Is this sth within the scope of scanpy? When it's done it wouldn't be too much effort to polish it up for a PR. The dependency load seems fairly low.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2862
https://github.com/scverse/scanpy/issues/2862:11,energy efficiency,optim,optimization,11,Submodular optimization using apricot; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I'm currently implementing a function that takes in an anndata and then subsamples a given representation using https://github.com/jmschrei/apricot. This generally serves the purpose of semi-optimally picking a reduced number of points that's still representative of the latent space. . Is this sth within the scope of scanpy? When it's done it wouldn't be too much effort to polish it up for a PR. The dependency load seems fairly low.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2862
https://github.com/scverse/scanpy/issues/2862:221,energy efficiency,current,currently,221,Submodular optimization using apricot; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I'm currently implementing a function that takes in an anndata and then subsamples a given representation using https://github.com/jmschrei/apricot. This generally serves the purpose of semi-optimally picking a reduced number of points that's still representative of the latent space. . Is this sth within the scope of scanpy? When it's done it wouldn't be too much effort to polish it up for a PR. The dependency load seems fairly low.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2862
https://github.com/scverse/scanpy/issues/2862:408,energy efficiency,optim,optimally,408,Submodular optimization using apricot; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I'm currently implementing a function that takes in an anndata and then subsamples a given representation using https://github.com/jmschrei/apricot. This generally serves the purpose of semi-optimally picking a reduced number of points that's still representative of the latent space. . Is this sth within the scope of scanpy? When it's done it wouldn't be too much effort to polish it up for a PR. The dependency load seems fairly low.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2862
https://github.com/scverse/scanpy/issues/2862:428,energy efficiency,reduc,reduced,428,Submodular optimization using apricot; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I'm currently implementing a function that takes in an anndata and then subsamples a given representation using https://github.com/jmschrei/apricot. This generally serves the purpose of semi-optimally picking a reduced number of points that's still representative of the latent space. . Is this sth within the scope of scanpy? When it's done it wouldn't be too much effort to polish it up for a PR. The dependency load seems fairly low.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2862
https://github.com/scverse/scanpy/issues/2862:631,energy efficiency,load,load,631,Submodular optimization using apricot; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I'm currently implementing a function that takes in an anndata and then subsamples a given representation using https://github.com/jmschrei/apricot. This generally serves the purpose of semi-optimally picking a reduced number of points that's still representative of the latent space. . Is this sth within the scope of scanpy? When it's done it wouldn't be too much effort to polish it up for a PR. The dependency load seems fairly low.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2862
https://github.com/scverse/scanpy/issues/2862:0,integrability,Sub,Submodular,0,Submodular optimization using apricot; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I'm currently implementing a function that takes in an anndata and then subsamples a given representation using https://github.com/jmschrei/apricot. This generally serves the purpose of semi-optimally picking a reduced number of points that's still representative of the latent space. . Is this sth within the scope of scanpy? When it's done it wouldn't be too much effort to polish it up for a PR. The dependency load seems fairly low.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2862
https://github.com/scverse/scanpy/issues/2862:289,integrability,sub,subsamples,289,Submodular optimization using apricot; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I'm currently implementing a function that takes in an anndata and then subsamples a given representation using https://github.com/jmschrei/apricot. This generally serves the purpose of semi-optimally picking a reduced number of points that's still representative of the latent space. . Is this sth within the scope of scanpy? When it's done it wouldn't be too much effort to polish it up for a PR. The dependency load seems fairly low.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2862
https://github.com/scverse/scanpy/issues/2862:620,integrability,depend,dependency,620,Submodular optimization using apricot; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I'm currently implementing a function that takes in an anndata and then subsamples a given representation using https://github.com/jmschrei/apricot. This generally serves the purpose of semi-optimally picking a reduced number of points that's still representative of the latent space. . Is this sth within the scope of scanpy? When it's done it wouldn't be too much effort to polish it up for a PR. The dependency load seems fairly low.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2862
https://github.com/scverse/scanpy/issues/2862:620,modifiability,depend,dependency,620,Submodular optimization using apricot; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I'm currently implementing a function that takes in an anndata and then subsamples a given representation using https://github.com/jmschrei/apricot. This generally serves the purpose of semi-optimally picking a reduced number of points that's still representative of the latent space. . Is this sth within the scope of scanpy? When it's done it wouldn't be too much effort to polish it up for a PR. The dependency load seems fairly low.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2862
https://github.com/scverse/scanpy/issues/2862:11,performance,optimiz,optimization,11,Submodular optimization using apricot; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I'm currently implementing a function that takes in an anndata and then subsamples a given representation using https://github.com/jmschrei/apricot. This generally serves the purpose of semi-optimally picking a reduced number of points that's still representative of the latent space. . Is this sth within the scope of scanpy? When it's done it wouldn't be too much effort to polish it up for a PR. The dependency load seems fairly low.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2862
https://github.com/scverse/scanpy/issues/2862:631,performance,load,load,631,Submodular optimization using apricot; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I'm currently implementing a function that takes in an anndata and then subsamples a given representation using https://github.com/jmschrei/apricot. This generally serves the purpose of semi-optimally picking a reduced number of points that's still representative of the latent space. . Is this sth within the scope of scanpy? When it's done it wouldn't be too much effort to polish it up for a PR. The dependency load seems fairly low.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2862
https://github.com/scverse/scanpy/issues/2862:620,safety,depend,dependency,620,Submodular optimization using apricot; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I'm currently implementing a function that takes in an anndata and then subsamples a given representation using https://github.com/jmschrei/apricot. This generally serves the purpose of semi-optimally picking a reduced number of points that's still representative of the latent space. . Is this sth within the scope of scanpy? When it's done it wouldn't be too much effort to polish it up for a PR. The dependency load seems fairly low.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2862
https://github.com/scverse/scanpy/issues/2862:112,testability,simpl,simple,112,Submodular optimization using apricot; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I'm currently implementing a function that takes in an anndata and then subsamples a given representation using https://github.com/jmschrei/apricot. This generally serves the purpose of semi-optimally picking a reduced number of points that's still representative of the latent space. . Is this sth within the scope of scanpy? When it's done it wouldn't be too much effort to polish it up for a PR. The dependency load seems fairly low.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2862
https://github.com/scverse/scanpy/issues/2862:620,testability,depend,dependency,620,Submodular optimization using apricot; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I'm currently implementing a function that takes in an anndata and then subsamples a given representation using https://github.com/jmschrei/apricot. This generally serves the purpose of semi-optimally picking a reduced number of points that's still representative of the latent space. . Is this sth within the scope of scanpy? When it's done it wouldn't be too much effort to polish it up for a PR. The dependency load seems fairly low.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2862
https://github.com/scverse/scanpy/issues/2862:104,usability,tool,tool,104,Submodular optimization using apricot; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I'm currently implementing a function that takes in an anndata and then subsamples a given representation using https://github.com/jmschrei/apricot. This generally serves the purpose of semi-optimally picking a reduced number of points that's still representative of the latent space. . Is this sth within the scope of scanpy? When it's done it wouldn't be too much effort to polish it up for a PR. The dependency load seems fairly low.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2862
https://github.com/scverse/scanpy/issues/2862:112,usability,simpl,simple,112,Submodular optimization using apricot; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I'm currently implementing a function that takes in an anndata and then subsamples a given representation using https://github.com/jmschrei/apricot. This generally serves the purpose of semi-optimally picking a reduced number of points that's still representative of the latent space. . Is this sth within the scope of scanpy? When it's done it wouldn't be too much effort to polish it up for a PR. The dependency load seems fairly low.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2862
https://github.com/scverse/scanpy/issues/2862:128,usability,tool,tool,128,Submodular optimization using apricot; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I'm currently implementing a function that takes in an anndata and then subsamples a given representation using https://github.com/jmschrei/apricot. This generally serves the purpose of semi-optimally picking a reduced number of points that's still representative of the latent space. . Is this sth within the scope of scanpy? When it's done it wouldn't be too much effort to polish it up for a PR. The dependency load seems fairly low.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2862
https://github.com/scverse/scanpy/issues/2862:176,usability,tool,tools,176,Submodular optimization using apricot; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I'm currently implementing a function that takes in an anndata and then subsamples a given representation using https://github.com/jmschrei/apricot. This generally serves the purpose of semi-optimally picking a reduced number of points that's still representative of the latent space. . Is this sth within the scope of scanpy? When it's done it wouldn't be too much effort to polish it up for a PR. The dependency load seems fairly low.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2862
https://github.com/scverse/scanpy/pull/2863:433,deployability,releas,release,433,py 3.12 suport; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2863
https://github.com/scverse/scanpy/pull/2863:458,deployability,Releas,Release,458,py 3.12 suport; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2863
https://github.com/scverse/scanpy/pull/2863:235,safety,review,review,235,py 3.12 suport; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2863
https://github.com/scverse/scanpy/pull/2863:335,safety,Test,Tests,335,py 3.12 suport; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2863
https://github.com/scverse/scanpy/pull/2863:235,testability,review,review,235,py 3.12 suport; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2863
https://github.com/scverse/scanpy/pull/2863:335,testability,Test,Tests,335,py 3.12 suport; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2863
https://github.com/scverse/scanpy/pull/2863:86,usability,guid,guidelines,86,py 3.12 suport; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2863
https://github.com/scverse/scanpy/pull/2863:117,usability,guid,guide,117,py 3.12 suport; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2863
https://github.com/scverse/scanpy/pull/2863:213,usability,workflow,workflow,213,py 3.12 suport; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2863
https://github.com/scverse/scanpy/pull/2863:319,usability,Close,Closes,319,py 3.12 suport; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2863
https://github.com/scverse/scanpy/pull/2864:1208,availability,error,error,1208,"Fix pandas stack warning; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Pandas was throwing a warning:. `FutureWarning: The previous implementation of stack is deprecated and will be removed in a future version of pandas. See the What's New notes for pandas 2.1.0 for details. Specify future_stack=True to adopt the new implementation and silence this warning.`. This fixes that warning. The fix is a little weird, but it's what pandas says to do. Pandas explanation of the new behaviour is [here](https://pandas.pydata.org/pandas-docs/stable/whatsnew/v2.1.0.html#new-implementation-of-dataframe-stack). Changes here:. `rank_genes_group_df`. * The sort order doesn't matter here since we sort again anyways. * `dropna=True` here actually doesn't drop null values from `filter_rank_genes_groups`. AFAICT, this doesn't change anything. `StackedViolin`. Here, we were already opting in to the future behaviour with `dropna=False`. ------. This also fixes a type signature for `sc.get.rank_genes_groups_df` and makes a better error reporting for a test I saw fail locally.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2864
https://github.com/scverse/scanpy/pull/2864:11,deployability,stack,stack,11,"Fix pandas stack warning; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Pandas was throwing a warning:. `FutureWarning: The previous implementation of stack is deprecated and will be removed in a future version of pandas. See the What's New notes for pandas 2.1.0 for details. Specify future_stack=True to adopt the new implementation and silence this warning.`. This fixes that warning. The fix is a little weird, but it's what pandas says to do. Pandas explanation of the new behaviour is [here](https://pandas.pydata.org/pandas-docs/stable/whatsnew/v2.1.0.html#new-implementation-of-dataframe-stack). Changes here:. `rank_genes_group_df`. * The sort order doesn't matter here since we sort again anyways. * `dropna=True` here actually doesn't drop null values from `filter_rank_genes_groups`. AFAICT, this doesn't change anything. `StackedViolin`. Here, we were already opting in to the future behaviour with `dropna=False`. ------. This also fixes a type signature for `sc.get.rank_genes_groups_df` and makes a better error reporting for a test I saw fail locally.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2864
https://github.com/scverse/scanpy/pull/2864:337,deployability,stack,stack,337,"Fix pandas stack warning; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Pandas was throwing a warning:. `FutureWarning: The previous implementation of stack is deprecated and will be removed in a future version of pandas. See the What's New notes for pandas 2.1.0 for details. Specify future_stack=True to adopt the new implementation and silence this warning.`. This fixes that warning. The fix is a little weird, but it's what pandas says to do. Pandas explanation of the new behaviour is [here](https://pandas.pydata.org/pandas-docs/stable/whatsnew/v2.1.0.html#new-implementation-of-dataframe-stack). Changes here:. `rank_genes_group_df`. * The sort order doesn't matter here since we sort again anyways. * `dropna=True` here actually doesn't drop null values from `filter_rank_genes_groups`. AFAICT, this doesn't change anything. `StackedViolin`. Here, we were already opting in to the future behaviour with `dropna=False`. ------. This also fixes a type signature for `sc.get.rank_genes_groups_df` and makes a better error reporting for a test I saw fail locally.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2864
https://github.com/scverse/scanpy/pull/2864:389,deployability,version,version,389,"Fix pandas stack warning; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Pandas was throwing a warning:. `FutureWarning: The previous implementation of stack is deprecated and will be removed in a future version of pandas. See the What's New notes for pandas 2.1.0 for details. Specify future_stack=True to adopt the new implementation and silence this warning.`. This fixes that warning. The fix is a little weird, but it's what pandas says to do. Pandas explanation of the new behaviour is [here](https://pandas.pydata.org/pandas-docs/stable/whatsnew/v2.1.0.html#new-implementation-of-dataframe-stack). Changes here:. `rank_genes_group_df`. * The sort order doesn't matter here since we sort again anyways. * `dropna=True` here actually doesn't drop null values from `filter_rank_genes_groups`. AFAICT, this doesn't change anything. `StackedViolin`. Here, we were already opting in to the future behaviour with `dropna=False`. ------. This also fixes a type signature for `sc.get.rank_genes_groups_df` and makes a better error reporting for a test I saw fail locally.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2864
https://github.com/scverse/scanpy/pull/2864:782,deployability,stack,stack,782,"Fix pandas stack warning; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Pandas was throwing a warning:. `FutureWarning: The previous implementation of stack is deprecated and will be removed in a future version of pandas. See the What's New notes for pandas 2.1.0 for details. Specify future_stack=True to adopt the new implementation and silence this warning.`. This fixes that warning. The fix is a little weird, but it's what pandas says to do. Pandas explanation of the new behaviour is [here](https://pandas.pydata.org/pandas-docs/stable/whatsnew/v2.1.0.html#new-implementation-of-dataframe-stack). Changes here:. `rank_genes_group_df`. * The sort order doesn't matter here since we sort again anyways. * `dropna=True` here actually doesn't drop null values from `filter_rank_genes_groups`. AFAICT, this doesn't change anything. `StackedViolin`. Here, we were already opting in to the future behaviour with `dropna=False`. ------. This also fixes a type signature for `sc.get.rank_genes_groups_df` and makes a better error reporting for a test I saw fail locally.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2864
https://github.com/scverse/scanpy/pull/2864:1021,deployability,Stack,StackedViolin,1021,"Fix pandas stack warning; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Pandas was throwing a warning:. `FutureWarning: The previous implementation of stack is deprecated and will be removed in a future version of pandas. See the What's New notes for pandas 2.1.0 for details. Specify future_stack=True to adopt the new implementation and silence this warning.`. This fixes that warning. The fix is a little weird, but it's what pandas says to do. Pandas explanation of the new behaviour is [here](https://pandas.pydata.org/pandas-docs/stable/whatsnew/v2.1.0.html#new-implementation-of-dataframe-stack). Changes here:. `rank_genes_group_df`. * The sort order doesn't matter here since we sort again anyways. * `dropna=True` here actually doesn't drop null values from `filter_rank_genes_groups`. AFAICT, this doesn't change anything. `StackedViolin`. Here, we were already opting in to the future behaviour with `dropna=False`. ------. This also fixes a type signature for `sc.get.rank_genes_groups_df` and makes a better error reporting for a test I saw fail locally.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2864
https://github.com/scverse/scanpy/pull/2864:1241,deployability,fail,fail,1241,"Fix pandas stack warning; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Pandas was throwing a warning:. `FutureWarning: The previous implementation of stack is deprecated and will be removed in a future version of pandas. See the What's New notes for pandas 2.1.0 for details. Specify future_stack=True to adopt the new implementation and silence this warning.`. This fixes that warning. The fix is a little weird, but it's what pandas says to do. Pandas explanation of the new behaviour is [here](https://pandas.pydata.org/pandas-docs/stable/whatsnew/v2.1.0.html#new-implementation-of-dataframe-stack). Changes here:. `rank_genes_group_df`. * The sort order doesn't matter here since we sort again anyways. * `dropna=True` here actually doesn't drop null values from `filter_rank_genes_groups`. AFAICT, this doesn't change anything. `StackedViolin`. Here, we were already opting in to the future behaviour with `dropna=False`. ------. This also fixes a type signature for `sc.get.rank_genes_groups_df` and makes a better error reporting for a test I saw fail locally.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2864
https://github.com/scverse/scanpy/pull/2864:389,integrability,version,version,389,"Fix pandas stack warning; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Pandas was throwing a warning:. `FutureWarning: The previous implementation of stack is deprecated and will be removed in a future version of pandas. See the What's New notes for pandas 2.1.0 for details. Specify future_stack=True to adopt the new implementation and silence this warning.`. This fixes that warning. The fix is a little weird, but it's what pandas says to do. Pandas explanation of the new behaviour is [here](https://pandas.pydata.org/pandas-docs/stable/whatsnew/v2.1.0.html#new-implementation-of-dataframe-stack). Changes here:. `rank_genes_group_df`. * The sort order doesn't matter here since we sort again anyways. * `dropna=True` here actually doesn't drop null values from `filter_rank_genes_groups`. AFAICT, this doesn't change anything. `StackedViolin`. Here, we were already opting in to the future behaviour with `dropna=False`. ------. This also fixes a type signature for `sc.get.rank_genes_groups_df` and makes a better error reporting for a test I saw fail locally.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2864
https://github.com/scverse/scanpy/pull/2864:463,interoperability,Specif,Specify,463,"Fix pandas stack warning; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Pandas was throwing a warning:. `FutureWarning: The previous implementation of stack is deprecated and will be removed in a future version of pandas. See the What's New notes for pandas 2.1.0 for details. Specify future_stack=True to adopt the new implementation and silence this warning.`. This fixes that warning. The fix is a little weird, but it's what pandas says to do. Pandas explanation of the new behaviour is [here](https://pandas.pydata.org/pandas-docs/stable/whatsnew/v2.1.0.html#new-implementation-of-dataframe-stack). Changes here:. `rank_genes_group_df`. * The sort order doesn't matter here since we sort again anyways. * `dropna=True` here actually doesn't drop null values from `filter_rank_genes_groups`. AFAICT, this doesn't change anything. `StackedViolin`. Here, we were already opting in to the future behaviour with `dropna=False`. ------. This also fixes a type signature for `sc.get.rank_genes_groups_df` and makes a better error reporting for a test I saw fail locally.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2864
https://github.com/scverse/scanpy/pull/2864:389,modifiability,version,version,389,"Fix pandas stack warning; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Pandas was throwing a warning:. `FutureWarning: The previous implementation of stack is deprecated and will be removed in a future version of pandas. See the What's New notes for pandas 2.1.0 for details. Specify future_stack=True to adopt the new implementation and silence this warning.`. This fixes that warning. The fix is a little weird, but it's what pandas says to do. Pandas explanation of the new behaviour is [here](https://pandas.pydata.org/pandas-docs/stable/whatsnew/v2.1.0.html#new-implementation-of-dataframe-stack). Changes here:. `rank_genes_group_df`. * The sort order doesn't matter here since we sort again anyways. * `dropna=True` here actually doesn't drop null values from `filter_rank_genes_groups`. AFAICT, this doesn't change anything. `StackedViolin`. Here, we were already opting in to the future behaviour with `dropna=False`. ------. This also fixes a type signature for `sc.get.rank_genes_groups_df` and makes a better error reporting for a test I saw fail locally.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2864
https://github.com/scverse/scanpy/pull/2864:1208,performance,error,error,1208,"Fix pandas stack warning; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Pandas was throwing a warning:. `FutureWarning: The previous implementation of stack is deprecated and will be removed in a future version of pandas. See the What's New notes for pandas 2.1.0 for details. Specify future_stack=True to adopt the new implementation and silence this warning.`. This fixes that warning. The fix is a little weird, but it's what pandas says to do. Pandas explanation of the new behaviour is [here](https://pandas.pydata.org/pandas-docs/stable/whatsnew/v2.1.0.html#new-implementation-of-dataframe-stack). Changes here:. `rank_genes_group_df`. * The sort order doesn't matter here since we sort again anyways. * `dropna=True` here actually doesn't drop null values from `filter_rank_genes_groups`. AFAICT, this doesn't change anything. `StackedViolin`. Here, we were already opting in to the future behaviour with `dropna=False`. ------. This also fixes a type signature for `sc.get.rank_genes_groups_df` and makes a better error reporting for a test I saw fail locally.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2864
https://github.com/scverse/scanpy/pull/2864:845,reliability,doe,doesn,845,"Fix pandas stack warning; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Pandas was throwing a warning:. `FutureWarning: The previous implementation of stack is deprecated and will be removed in a future version of pandas. See the What's New notes for pandas 2.1.0 for details. Specify future_stack=True to adopt the new implementation and silence this warning.`. This fixes that warning. The fix is a little weird, but it's what pandas says to do. Pandas explanation of the new behaviour is [here](https://pandas.pydata.org/pandas-docs/stable/whatsnew/v2.1.0.html#new-implementation-of-dataframe-stack). Changes here:. `rank_genes_group_df`. * The sort order doesn't matter here since we sort again anyways. * `dropna=True` here actually doesn't drop null values from `filter_rank_genes_groups`. AFAICT, this doesn't change anything. `StackedViolin`. Here, we were already opting in to the future behaviour with `dropna=False`. ------. This also fixes a type signature for `sc.get.rank_genes_groups_df` and makes a better error reporting for a test I saw fail locally.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2864
https://github.com/scverse/scanpy/pull/2864:924,reliability,doe,doesn,924,"Fix pandas stack warning; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Pandas was throwing a warning:. `FutureWarning: The previous implementation of stack is deprecated and will be removed in a future version of pandas. See the What's New notes for pandas 2.1.0 for details. Specify future_stack=True to adopt the new implementation and silence this warning.`. This fixes that warning. The fix is a little weird, but it's what pandas says to do. Pandas explanation of the new behaviour is [here](https://pandas.pydata.org/pandas-docs/stable/whatsnew/v2.1.0.html#new-implementation-of-dataframe-stack). Changes here:. `rank_genes_group_df`. * The sort order doesn't matter here since we sort again anyways. * `dropna=True` here actually doesn't drop null values from `filter_rank_genes_groups`. AFAICT, this doesn't change anything. `StackedViolin`. Here, we were already opting in to the future behaviour with `dropna=False`. ------. This also fixes a type signature for `sc.get.rank_genes_groups_df` and makes a better error reporting for a test I saw fail locally.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2864
https://github.com/scverse/scanpy/pull/2864:995,reliability,doe,doesn,995,"Fix pandas stack warning; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Pandas was throwing a warning:. `FutureWarning: The previous implementation of stack is deprecated and will be removed in a future version of pandas. See the What's New notes for pandas 2.1.0 for details. Specify future_stack=True to adopt the new implementation and silence this warning.`. This fixes that warning. The fix is a little weird, but it's what pandas says to do. Pandas explanation of the new behaviour is [here](https://pandas.pydata.org/pandas-docs/stable/whatsnew/v2.1.0.html#new-implementation-of-dataframe-stack). Changes here:. `rank_genes_group_df`. * The sort order doesn't matter here since we sort again anyways. * `dropna=True` here actually doesn't drop null values from `filter_rank_genes_groups`. AFAICT, this doesn't change anything. `StackedViolin`. Here, we were already opting in to the future behaviour with `dropna=False`. ------. This also fixes a type signature for `sc.get.rank_genes_groups_df` and makes a better error reporting for a test I saw fail locally.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2864
https://github.com/scverse/scanpy/pull/2864:1241,reliability,fail,fail,1241,"Fix pandas stack warning; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Pandas was throwing a warning:. `FutureWarning: The previous implementation of stack is deprecated and will be removed in a future version of pandas. See the What's New notes for pandas 2.1.0 for details. Specify future_stack=True to adopt the new implementation and silence this warning.`. This fixes that warning. The fix is a little weird, but it's what pandas says to do. Pandas explanation of the new behaviour is [here](https://pandas.pydata.org/pandas-docs/stable/whatsnew/v2.1.0.html#new-implementation-of-dataframe-stack). Changes here:. `rank_genes_group_df`. * The sort order doesn't matter here since we sort again anyways. * `dropna=True` here actually doesn't drop null values from `filter_rank_genes_groups`. AFAICT, this doesn't change anything. `StackedViolin`. Here, we were already opting in to the future behaviour with `dropna=False`. ------. This also fixes a type signature for `sc.get.rank_genes_groups_df` and makes a better error reporting for a test I saw fail locally.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2864
https://github.com/scverse/scanpy/pull/2864:245,safety,review,review,245,"Fix pandas stack warning; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Pandas was throwing a warning:. `FutureWarning: The previous implementation of stack is deprecated and will be removed in a future version of pandas. See the What's New notes for pandas 2.1.0 for details. Specify future_stack=True to adopt the new implementation and silence this warning.`. This fixes that warning. The fix is a little weird, but it's what pandas says to do. Pandas explanation of the new behaviour is [here](https://pandas.pydata.org/pandas-docs/stable/whatsnew/v2.1.0.html#new-implementation-of-dataframe-stack). Changes here:. `rank_genes_group_df`. * The sort order doesn't matter here since we sort again anyways. * `dropna=True` here actually doesn't drop null values from `filter_rank_genes_groups`. AFAICT, this doesn't change anything. `StackedViolin`. Here, we were already opting in to the future behaviour with `dropna=False`. ------. This also fixes a type signature for `sc.get.rank_genes_groups_df` and makes a better error reporting for a test I saw fail locally.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2864
https://github.com/scverse/scanpy/pull/2864:1208,safety,error,error,1208,"Fix pandas stack warning; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Pandas was throwing a warning:. `FutureWarning: The previous implementation of stack is deprecated and will be removed in a future version of pandas. See the What's New notes for pandas 2.1.0 for details. Specify future_stack=True to adopt the new implementation and silence this warning.`. This fixes that warning. The fix is a little weird, but it's what pandas says to do. Pandas explanation of the new behaviour is [here](https://pandas.pydata.org/pandas-docs/stable/whatsnew/v2.1.0.html#new-implementation-of-dataframe-stack). Changes here:. `rank_genes_group_df`. * The sort order doesn't matter here since we sort again anyways. * `dropna=True` here actually doesn't drop null values from `filter_rank_genes_groups`. AFAICT, this doesn't change anything. `StackedViolin`. Here, we were already opting in to the future behaviour with `dropna=False`. ------. This also fixes a type signature for `sc.get.rank_genes_groups_df` and makes a better error reporting for a test I saw fail locally.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2864
https://github.com/scverse/scanpy/pull/2864:1230,safety,test,test,1230,"Fix pandas stack warning; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Pandas was throwing a warning:. `FutureWarning: The previous implementation of stack is deprecated and will be removed in a future version of pandas. See the What's New notes for pandas 2.1.0 for details. Specify future_stack=True to adopt the new implementation and silence this warning.`. This fixes that warning. The fix is a little weird, but it's what pandas says to do. Pandas explanation of the new behaviour is [here](https://pandas.pydata.org/pandas-docs/stable/whatsnew/v2.1.0.html#new-implementation-of-dataframe-stack). Changes here:. `rank_genes_group_df`. * The sort order doesn't matter here since we sort again anyways. * `dropna=True` here actually doesn't drop null values from `filter_rank_genes_groups`. AFAICT, this doesn't change anything. `StackedViolin`. Here, we were already opting in to the future behaviour with `dropna=False`. ------. This also fixes a type signature for `sc.get.rank_genes_groups_df` and makes a better error reporting for a test I saw fail locally.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2864
https://github.com/scverse/scanpy/pull/2864:1145,security,sign,signature,1145,"Fix pandas stack warning; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Pandas was throwing a warning:. `FutureWarning: The previous implementation of stack is deprecated and will be removed in a future version of pandas. See the What's New notes for pandas 2.1.0 for details. Specify future_stack=True to adopt the new implementation and silence this warning.`. This fixes that warning. The fix is a little weird, but it's what pandas says to do. Pandas explanation of the new behaviour is [here](https://pandas.pydata.org/pandas-docs/stable/whatsnew/v2.1.0.html#new-implementation-of-dataframe-stack). Changes here:. `rank_genes_group_df`. * The sort order doesn't matter here since we sort again anyways. * `dropna=True` here actually doesn't drop null values from `filter_rank_genes_groups`. AFAICT, this doesn't change anything. `StackedViolin`. Here, we were already opting in to the future behaviour with `dropna=False`. ------. This also fixes a type signature for `sc.get.rank_genes_groups_df` and makes a better error reporting for a test I saw fail locally.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2864
https://github.com/scverse/scanpy/pull/2864:245,testability,review,review,245,"Fix pandas stack warning; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Pandas was throwing a warning:. `FutureWarning: The previous implementation of stack is deprecated and will be removed in a future version of pandas. See the What's New notes for pandas 2.1.0 for details. Specify future_stack=True to adopt the new implementation and silence this warning.`. This fixes that warning. The fix is a little weird, but it's what pandas says to do. Pandas explanation of the new behaviour is [here](https://pandas.pydata.org/pandas-docs/stable/whatsnew/v2.1.0.html#new-implementation-of-dataframe-stack). Changes here:. `rank_genes_group_df`. * The sort order doesn't matter here since we sort again anyways. * `dropna=True` here actually doesn't drop null values from `filter_rank_genes_groups`. AFAICT, this doesn't change anything. `StackedViolin`. Here, we were already opting in to the future behaviour with `dropna=False`. ------. This also fixes a type signature for `sc.get.rank_genes_groups_df` and makes a better error reporting for a test I saw fail locally.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2864
https://github.com/scverse/scanpy/pull/2864:1230,testability,test,test,1230,"Fix pandas stack warning; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Pandas was throwing a warning:. `FutureWarning: The previous implementation of stack is deprecated and will be removed in a future version of pandas. See the What's New notes for pandas 2.1.0 for details. Specify future_stack=True to adopt the new implementation and silence this warning.`. This fixes that warning. The fix is a little weird, but it's what pandas says to do. Pandas explanation of the new behaviour is [here](https://pandas.pydata.org/pandas-docs/stable/whatsnew/v2.1.0.html#new-implementation-of-dataframe-stack). Changes here:. `rank_genes_group_df`. * The sort order doesn't matter here since we sort again anyways. * `dropna=True` here actually doesn't drop null values from `filter_rank_genes_groups`. AFAICT, this doesn't change anything. `StackedViolin`. Here, we were already opting in to the future behaviour with `dropna=False`. ------. This also fixes a type signature for `sc.get.rank_genes_groups_df` and makes a better error reporting for a test I saw fail locally.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2864
https://github.com/scverse/scanpy/pull/2864:96,usability,guid,guidelines,96,"Fix pandas stack warning; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Pandas was throwing a warning:. `FutureWarning: The previous implementation of stack is deprecated and will be removed in a future version of pandas. See the What's New notes for pandas 2.1.0 for details. Specify future_stack=True to adopt the new implementation and silence this warning.`. This fixes that warning. The fix is a little weird, but it's what pandas says to do. Pandas explanation of the new behaviour is [here](https://pandas.pydata.org/pandas-docs/stable/whatsnew/v2.1.0.html#new-implementation-of-dataframe-stack). Changes here:. `rank_genes_group_df`. * The sort order doesn't matter here since we sort again anyways. * `dropna=True` here actually doesn't drop null values from `filter_rank_genes_groups`. AFAICT, this doesn't change anything. `StackedViolin`. Here, we were already opting in to the future behaviour with `dropna=False`. ------. This also fixes a type signature for `sc.get.rank_genes_groups_df` and makes a better error reporting for a test I saw fail locally.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2864
https://github.com/scverse/scanpy/pull/2864:127,usability,guid,guide,127,"Fix pandas stack warning; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Pandas was throwing a warning:. `FutureWarning: The previous implementation of stack is deprecated and will be removed in a future version of pandas. See the What's New notes for pandas 2.1.0 for details. Specify future_stack=True to adopt the new implementation and silence this warning.`. This fixes that warning. The fix is a little weird, but it's what pandas says to do. Pandas explanation of the new behaviour is [here](https://pandas.pydata.org/pandas-docs/stable/whatsnew/v2.1.0.html#new-implementation-of-dataframe-stack). Changes here:. `rank_genes_group_df`. * The sort order doesn't matter here since we sort again anyways. * `dropna=True` here actually doesn't drop null values from `filter_rank_genes_groups`. AFAICT, this doesn't change anything. `StackedViolin`. Here, we were already opting in to the future behaviour with `dropna=False`. ------. This also fixes a type signature for `sc.get.rank_genes_groups_df` and makes a better error reporting for a test I saw fail locally.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2864
https://github.com/scverse/scanpy/pull/2864:223,usability,workflow,workflow,223,"Fix pandas stack warning; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Pandas was throwing a warning:. `FutureWarning: The previous implementation of stack is deprecated and will be removed in a future version of pandas. See the What's New notes for pandas 2.1.0 for details. Specify future_stack=True to adopt the new implementation and silence this warning.`. This fixes that warning. The fix is a little weird, but it's what pandas says to do. Pandas explanation of the new behaviour is [here](https://pandas.pydata.org/pandas-docs/stable/whatsnew/v2.1.0.html#new-implementation-of-dataframe-stack). Changes here:. `rank_genes_group_df`. * The sort order doesn't matter here since we sort again anyways. * `dropna=True` here actually doesn't drop null values from `filter_rank_genes_groups`. AFAICT, this doesn't change anything. `StackedViolin`. Here, we were already opting in to the future behaviour with `dropna=False`. ------. This also fixes a type signature for `sc.get.rank_genes_groups_df` and makes a better error reporting for a test I saw fail locally.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2864
https://github.com/scverse/scanpy/pull/2864:664,usability,behavi,behaviour,664,"Fix pandas stack warning; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Pandas was throwing a warning:. `FutureWarning: The previous implementation of stack is deprecated and will be removed in a future version of pandas. See the What's New notes for pandas 2.1.0 for details. Specify future_stack=True to adopt the new implementation and silence this warning.`. This fixes that warning. The fix is a little weird, but it's what pandas says to do. Pandas explanation of the new behaviour is [here](https://pandas.pydata.org/pandas-docs/stable/whatsnew/v2.1.0.html#new-implementation-of-dataframe-stack). Changes here:. `rank_genes_group_df`. * The sort order doesn't matter here since we sort again anyways. * `dropna=True` here actually doesn't drop null values from `filter_rank_genes_groups`. AFAICT, this doesn't change anything. `StackedViolin`. Here, we were already opting in to the future behaviour with `dropna=False`. ------. This also fixes a type signature for `sc.get.rank_genes_groups_df` and makes a better error reporting for a test I saw fail locally.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2864
https://github.com/scverse/scanpy/pull/2864:1083,usability,behavi,behaviour,1083,"Fix pandas stack warning; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Pandas was throwing a warning:. `FutureWarning: The previous implementation of stack is deprecated and will be removed in a future version of pandas. See the What's New notes for pandas 2.1.0 for details. Specify future_stack=True to adopt the new implementation and silence this warning.`. This fixes that warning. The fix is a little weird, but it's what pandas says to do. Pandas explanation of the new behaviour is [here](https://pandas.pydata.org/pandas-docs/stable/whatsnew/v2.1.0.html#new-implementation-of-dataframe-stack). Changes here:. `rank_genes_group_df`. * The sort order doesn't matter here since we sort again anyways. * `dropna=True` here actually doesn't drop null values from `filter_rank_genes_groups`. AFAICT, this doesn't change anything. `StackedViolin`. Here, we were already opting in to the future behaviour with `dropna=False`. ------. This also fixes a type signature for `sc.get.rank_genes_groups_df` and makes a better error reporting for a test I saw fail locally.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2864
https://github.com/scverse/scanpy/pull/2864:1208,usability,error,error,1208,"Fix pandas stack warning; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Pandas was throwing a warning:. `FutureWarning: The previous implementation of stack is deprecated and will be removed in a future version of pandas. See the What's New notes for pandas 2.1.0 for details. Specify future_stack=True to adopt the new implementation and silence this warning.`. This fixes that warning. The fix is a little weird, but it's what pandas says to do. Pandas explanation of the new behaviour is [here](https://pandas.pydata.org/pandas-docs/stable/whatsnew/v2.1.0.html#new-implementation-of-dataframe-stack). Changes here:. `rank_genes_group_df`. * The sort order doesn't matter here since we sort again anyways. * `dropna=True` here actually doesn't drop null values from `filter_rank_genes_groups`. AFAICT, this doesn't change anything. `StackedViolin`. Here, we were already opting in to the future behaviour with `dropna=False`. ------. This also fixes a type signature for `sc.get.rank_genes_groups_df` and makes a better error reporting for a test I saw fail locally.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2864
https://github.com/scverse/scanpy/issues/2865:22,availability,cluster,clustering,22,"Change default leiden clustering backend to `igraph`, and reduce default number of iterations; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. On the recommendation of the library authors, we should change the default leiden backend to `igraph` (https://github.com/scverse/scanpy/issues/1053) now that this has been made available in https://github.com/scverse/scanpy/pull/2815). At the same time, we should change the number of default iterations. Right now, we iterate until convergence. This can be very slow, especially for large datasets. We should probably just stick with the default of the underlying library (which is 2).",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2865
https://github.com/scverse/scanpy/issues/2865:433,availability,avail,available,433,"Change default leiden clustering backend to `igraph`, and reduce default number of iterations; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. On the recommendation of the library authors, we should change the default leiden backend to `igraph` (https://github.com/scverse/scanpy/issues/1053) now that this has been made available in https://github.com/scverse/scanpy/pull/2815). At the same time, we should change the number of default iterations. Right now, we iterate until convergence. This can be very slow, especially for large datasets. We should probably just stick with the default of the underlying library (which is 2).",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2865
https://github.com/scverse/scanpy/issues/2865:619,availability,slo,slow,619,"Change default leiden clustering backend to `igraph`, and reduce default number of iterations; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. On the recommendation of the library authors, we should change the default leiden backend to `igraph` (https://github.com/scverse/scanpy/issues/1053) now that this has been made available in https://github.com/scverse/scanpy/pull/2815). At the same time, we should change the number of default iterations. Right now, we iterate until convergence. This can be very slow, especially for large datasets. We should probably just stick with the default of the underlying library (which is 2).",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2865
https://github.com/scverse/scanpy/issues/2865:22,deployability,cluster,clustering,22,"Change default leiden clustering backend to `igraph`, and reduce default number of iterations; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. On the recommendation of the library authors, we should change the default leiden backend to `igraph` (https://github.com/scverse/scanpy/issues/1053) now that this has been made available in https://github.com/scverse/scanpy/pull/2815). At the same time, we should change the number of default iterations. Right now, we iterate until convergence. This can be very slow, especially for large datasets. We should probably just stick with the default of the underlying library (which is 2).",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2865
https://github.com/scverse/scanpy/issues/2865:58,energy efficiency,reduc,reduce,58,"Change default leiden clustering backend to `igraph`, and reduce default number of iterations; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. On the recommendation of the library authors, we should change the default leiden backend to `igraph` (https://github.com/scverse/scanpy/issues/1053) now that this has been made available in https://github.com/scverse/scanpy/pull/2815). At the same time, we should change the number of default iterations. Right now, we iterate until convergence. This can be very slow, especially for large datasets. We should probably just stick with the default of the underlying library (which is 2).",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2865
https://github.com/scverse/scanpy/issues/2865:167,modifiability,paramet,parameters,167,"Change default leiden clustering backend to `igraph`, and reduce default number of iterations; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. On the recommendation of the library authors, we should change the default leiden backend to `igraph` (https://github.com/scverse/scanpy/issues/1053) now that this has been made available in https://github.com/scverse/scanpy/pull/2815). At the same time, we should change the number of default iterations. Right now, we iterate until convergence. This can be very slow, especially for large datasets. We should probably just stick with the default of the underlying library (which is 2).",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2865
https://github.com/scverse/scanpy/issues/2865:504,performance,time,time,504,"Change default leiden clustering backend to `igraph`, and reduce default number of iterations; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. On the recommendation of the library authors, we should change the default leiden backend to `igraph` (https://github.com/scverse/scanpy/issues/1053) now that this has been made available in https://github.com/scverse/scanpy/pull/2815). At the same time, we should change the number of default iterations. Right now, we iterate until convergence. This can be very slow, especially for large datasets. We should probably just stick with the default of the underlying library (which is 2).",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2865
https://github.com/scverse/scanpy/issues/2865:433,reliability,availab,available,433,"Change default leiden clustering backend to `igraph`, and reduce default number of iterations; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. On the recommendation of the library authors, we should change the default leiden backend to `igraph` (https://github.com/scverse/scanpy/issues/1053) now that this has been made available in https://github.com/scverse/scanpy/pull/2815). At the same time, we should change the number of default iterations. Right now, we iterate until convergence. This can be very slow, especially for large datasets. We should probably just stick with the default of the underlying library (which is 2).",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2865
https://github.com/scverse/scanpy/issues/2865:619,reliability,slo,slow,619,"Change default leiden clustering backend to `igraph`, and reduce default number of iterations; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. On the recommendation of the library authors, we should change the default leiden backend to `igraph` (https://github.com/scverse/scanpy/issues/1053) now that this has been made available in https://github.com/scverse/scanpy/pull/2815). At the same time, we should change the number of default iterations. Right now, we iterate until convergence. This can be very slow, especially for large datasets. We should probably just stick with the default of the underlying library (which is 2).",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2865
https://github.com/scverse/scanpy/issues/2865:433,safety,avail,available,433,"Change default leiden clustering backend to `igraph`, and reduce default number of iterations; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. On the recommendation of the library authors, we should change the default leiden backend to `igraph` (https://github.com/scverse/scanpy/issues/1053) now that this has been made available in https://github.com/scverse/scanpy/pull/2815). At the same time, we should change the number of default iterations. Right now, we iterate until convergence. This can be very slow, especially for large datasets. We should probably just stick with the default of the underlying library (which is 2).",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2865
https://github.com/scverse/scanpy/issues/2865:292,security,auth,authors,292,"Change default leiden clustering backend to `igraph`, and reduce default number of iterations; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. On the recommendation of the library authors, we should change the default leiden backend to `igraph` (https://github.com/scverse/scanpy/issues/1053) now that this has been made available in https://github.com/scverse/scanpy/pull/2815). At the same time, we should change the number of default iterations. Right now, we iterate until convergence. This can be very slow, especially for large datasets. We should probably just stick with the default of the underlying library (which is 2).",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2865
https://github.com/scverse/scanpy/issues/2865:433,security,availab,available,433,"Change default leiden clustering backend to `igraph`, and reduce default number of iterations; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. On the recommendation of the library authors, we should change the default leiden backend to `igraph` (https://github.com/scverse/scanpy/issues/1053) now that this has been made available in https://github.com/scverse/scanpy/pull/2815). At the same time, we should change the number of default iterations. Right now, we iterate until convergence. This can be very slow, especially for large datasets. We should probably just stick with the default of the underlying library (which is 2).",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2865
https://github.com/scverse/scanpy/issues/2866:482,availability,error,error,482,"Scanorama causing segfault on CI (Python 3.9); ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? The test suite keeps failing with a segfault on the `python=3.9` build. I haven't been able to reproduce locally. Interestingly, I haven't seen it error when I rerun the check. It looks like this always happens during the call to `nn_approx`. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. platform linux -- Python 3.9.18, pytest-8.0.1, pluggy-1.4.0 -- /opt/hostedtoolcache/Python/3.9.18/x64/bin/python. cachedir: .pytest_cache. rootdir: /home/vsts/work/1/s. configfile: pyproject.toml. testpaths: scanpy. plugins: nunit-1.0.6, mock-3.12.0. [1mcollecting ... [0mcollected 1474 items. scanpy/_utils/compute/is_constant.py::scanpy._utils.compute.is_constant.is_constant [32mPASSED[0m[32m [ 0%][0m. scanpy/datasets/_ebi_expression_atlas.py::scanpy.datasets._ebi_expression_atlas.ebi_expression_atlas [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pl.py::scanpy.external.pl.phate [33mSKIPPED[0m (needs modul...)[32m [ 0%][0m. scanpy/external/pp/_bbknn.py::scanpy.external.pp._bbknn.bbknn [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_harmony_integrate.py::scanpy.external.pp._harmony_integrate.harmony_integrate [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_hashsolo.py::scanpy.external.pp._hashsolo.hashsolo [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_magic.py::scanpy.external.pp._magic.magic [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_scanorama_integrate.py::scanpy.external.pp._scanorama_integrate.scanorama_integrate Fatal Python error: Illegal instruction. Thread 0x00007f00347c4640 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 316 in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:627,availability,Error,Error,627,"Scanorama causing segfault on CI (Python 3.9); ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? The test suite keeps failing with a segfault on the `python=3.9` build. I haven't been able to reproduce locally. Interestingly, I haven't seen it error when I rerun the check. It looks like this always happens during the call to `nn_approx`. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. platform linux -- Python 3.9.18, pytest-8.0.1, pluggy-1.4.0 -- /opt/hostedtoolcache/Python/3.9.18/x64/bin/python. cachedir: .pytest_cache. rootdir: /home/vsts/work/1/s. configfile: pyproject.toml. testpaths: scanpy. plugins: nunit-1.0.6, mock-3.12.0. [1mcollecting ... [0mcollected 1474 items. scanpy/_utils/compute/is_constant.py::scanpy._utils.compute.is_constant.is_constant [32mPASSED[0m[32m [ 0%][0m. scanpy/datasets/_ebi_expression_atlas.py::scanpy.datasets._ebi_expression_atlas.ebi_expression_atlas [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pl.py::scanpy.external.pl.phate [33mSKIPPED[0m (needs modul...)[32m [ 0%][0m. scanpy/external/pp/_bbknn.py::scanpy.external.pp._bbknn.bbknn [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_harmony_integrate.py::scanpy.external.pp._harmony_integrate.harmony_integrate [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_hashsolo.py::scanpy.external.pp._hashsolo.hashsolo [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_magic.py::scanpy.external.pp._magic.magic [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_scanorama_integrate.py::scanpy.external.pp._scanorama_integrate.scanorama_integrate Fatal Python error: Illegal instruction. Thread 0x00007f00347c4640 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 316 in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:1833,availability,error,error,1833,"ject.toml. testpaths: scanpy. plugins: nunit-1.0.6, mock-3.12.0. [1mcollecting ... [0mcollected 1474 items. scanpy/_utils/compute/is_constant.py::scanpy._utils.compute.is_constant.is_constant [32mPASSED[0m[32m [ 0%][0m. scanpy/datasets/_ebi_expression_atlas.py::scanpy.datasets._ebi_expression_atlas.ebi_expression_atlas [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pl.py::scanpy.external.pl.phate [33mSKIPPED[0m (needs modul...)[32m [ 0%][0m. scanpy/external/pp/_bbknn.py::scanpy.external.pp._bbknn.bbknn [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_harmony_integrate.py::scanpy.external.pp._harmony_integrate.harmony_integrate [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_hashsolo.py::scanpy.external.pp._hashsolo.hashsolo [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_magic.py::scanpy.external.pp._magic.magic [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_scanorama_integrate.py::scanpy.external.pp._scanorama_integrate.scanorama_integrate Fatal Python error: Illegal instruction. Thread 0x00007f00347c4640 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 316 in wait. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 581 in wait. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/tqdm/_monitor.py"", line 60 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 980 in _bootstrap_inner. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 937 in _bootstrap. Current thread 0x00007f004e08eb80 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 522 in nn_approx. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 590 in fill_table. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 631 in find_alignment",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:6881,availability,error,error,6881,"/x64/lib/python3.9/site-packages/_pytest/main.py"", line 273 in wrap_session. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 320 in pytest_cmdline_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 175 in main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 198 in console_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/bin/pytest"", line 8 in <module>. /home/vsts/work/_temp/1dc6f140-196e-4393-a84a-ebdaa5dcda61.sh: line 1: 1811 Illegal instruction (core dumped) pytest. ##[error]Bash exited with code '132'. ##[section]Finishing: PyTest. ```. ### Versions. <details>. ```. anndata 0.10.5.post1. annoy 1.17.3. array_api_compat 1.4.1. asciitree 0.3.3. attrs 23.2.0. cfgv 3.4.0. click 8.1.7. cloudpickle 3.0.0. contourpy 1.2.0. coverage 7.4.1. cycler 0.12.1. dask 2024.2.0. dask-glm 0.3.2. dask-ml 2023.3.24. decorator 5.1.1. Deprecated 1.2.14. distlib 0.3.8. distributed 2024.2.0. exceptiongroup 1.2.0. fasteners 0.19. fbpca 1.0. filelock 3.13.1. fonttools 4.49.0. fsspec 2024.2.0. future 0.18.3. geosketch 1.2. get-annotations 0.1.2. graphtools 1.5.3. h5py 3.10.0. harmonypy 0.0.9. identify 2.5.35. igraph 0.11.4. imageio 2.34.0. importlib-metadata 7.0.1. importlib-resources 6.1.1. iniconfig 2.0.0. intervaltree 3.1.0. Jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. lazy_loader 0.3. legacy-api-wrap 1.4. leidenalg 0.10.2. llvmlite 0.42.0. locket 1.0.0. magic-impute 3.0.0. MarkupSafe 2.1.5. matplotlib 3.8.3. msgpack 1.0.7. multipledispatch 1.0.0. natsort 8.4.0. networkx 3.2.1",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:215,deployability,version,version,215,"Scanorama causing segfault on CI (Python 3.9); ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? The test suite keeps failing with a segfault on the `python=3.9` build. I haven't been able to reproduce locally. Interestingly, I haven't seen it error when I rerun the check. It looks like this always happens during the call to `nn_approx`. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. platform linux -- Python 3.9.18, pytest-8.0.1, pluggy-1.4.0 -- /opt/hostedtoolcache/Python/3.9.18/x64/bin/python. cachedir: .pytest_cache. rootdir: /home/vsts/work/1/s. configfile: pyproject.toml. testpaths: scanpy. plugins: nunit-1.0.6, mock-3.12.0. [1mcollecting ... [0mcollected 1474 items. scanpy/_utils/compute/is_constant.py::scanpy._utils.compute.is_constant.is_constant [32mPASSED[0m[32m [ 0%][0m. scanpy/datasets/_ebi_expression_atlas.py::scanpy.datasets._ebi_expression_atlas.ebi_expression_atlas [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pl.py::scanpy.external.pl.phate [33mSKIPPED[0m (needs modul...)[32m [ 0%][0m. scanpy/external/pp/_bbknn.py::scanpy.external.pp._bbknn.bbknn [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_harmony_integrate.py::scanpy.external.pp._harmony_integrate.harmony_integrate [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_hashsolo.py::scanpy.external.pp._hashsolo.hashsolo [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_magic.py::scanpy.external.pp._magic.magic [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_scanorama_integrate.py::scanpy.external.pp._scanorama_integrate.scanorama_integrate Fatal Python error: Illegal instruction. Thread 0x00007f00347c4640 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 316 in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:356,deployability,fail,failing,356,"Scanorama causing segfault on CI (Python 3.9); ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? The test suite keeps failing with a segfault on the `python=3.9` build. I haven't been able to reproduce locally. Interestingly, I haven't seen it error when I rerun the check. It looks like this always happens during the call to `nn_approx`. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. platform linux -- Python 3.9.18, pytest-8.0.1, pluggy-1.4.0 -- /opt/hostedtoolcache/Python/3.9.18/x64/bin/python. cachedir: .pytest_cache. rootdir: /home/vsts/work/1/s. configfile: pyproject.toml. testpaths: scanpy. plugins: nunit-1.0.6, mock-3.12.0. [1mcollecting ... [0mcollected 1474 items. scanpy/_utils/compute/is_constant.py::scanpy._utils.compute.is_constant.is_constant [32mPASSED[0m[32m [ 0%][0m. scanpy/datasets/_ebi_expression_atlas.py::scanpy.datasets._ebi_expression_atlas.ebi_expression_atlas [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pl.py::scanpy.external.pl.phate [33mSKIPPED[0m (needs modul...)[32m [ 0%][0m. scanpy/external/pp/_bbknn.py::scanpy.external.pp._bbknn.bbknn [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_harmony_integrate.py::scanpy.external.pp._harmony_integrate.harmony_integrate [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_hashsolo.py::scanpy.external.pp._hashsolo.hashsolo [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_magic.py::scanpy.external.pp._magic.magic [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_scanorama_integrate.py::scanpy.external.pp._scanorama_integrate.scanorama_integrate Fatal Python error: Illegal instruction. Thread 0x00007f00347c4640 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 316 in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:400,deployability,build,build,400,"Scanorama causing segfault on CI (Python 3.9); ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? The test suite keeps failing with a segfault on the `python=3.9` build. I haven't been able to reproduce locally. Interestingly, I haven't seen it error when I rerun the check. It looks like this always happens during the call to `nn_approx`. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. platform linux -- Python 3.9.18, pytest-8.0.1, pluggy-1.4.0 -- /opt/hostedtoolcache/Python/3.9.18/x64/bin/python. cachedir: .pytest_cache. rootdir: /home/vsts/work/1/s. configfile: pyproject.toml. testpaths: scanpy. plugins: nunit-1.0.6, mock-3.12.0. [1mcollecting ... [0mcollected 1474 items. scanpy/_utils/compute/is_constant.py::scanpy._utils.compute.is_constant.is_constant [32mPASSED[0m[32m [ 0%][0m. scanpy/datasets/_ebi_expression_atlas.py::scanpy.datasets._ebi_expression_atlas.ebi_expression_atlas [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pl.py::scanpy.external.pl.phate [33mSKIPPED[0m (needs modul...)[32m [ 0%][0m. scanpy/external/pp/_bbknn.py::scanpy.external.pp._bbknn.bbknn [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_harmony_integrate.py::scanpy.external.pp._harmony_integrate.harmony_integrate [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_hashsolo.py::scanpy.external.pp._hashsolo.hashsolo [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_magic.py::scanpy.external.pp._magic.magic [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_scanorama_integrate.py::scanpy.external.pp._scanorama_integrate.scanorama_integrate Fatal Python error: Illegal instruction. Thread 0x00007f00347c4640 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 316 in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:1267,deployability,modul,modul,1267,"is bug exists on the master branch of scanpy. ### What happened? The test suite keeps failing with a segfault on the `python=3.9` build. I haven't been able to reproduce locally. Interestingly, I haven't seen it error when I rerun the check. It looks like this always happens during the call to `nn_approx`. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. platform linux -- Python 3.9.18, pytest-8.0.1, pluggy-1.4.0 -- /opt/hostedtoolcache/Python/3.9.18/x64/bin/python. cachedir: .pytest_cache. rootdir: /home/vsts/work/1/s. configfile: pyproject.toml. testpaths: scanpy. plugins: nunit-1.0.6, mock-3.12.0. [1mcollecting ... [0mcollected 1474 items. scanpy/_utils/compute/is_constant.py::scanpy._utils.compute.is_constant.is_constant [32mPASSED[0m[32m [ 0%][0m. scanpy/datasets/_ebi_expression_atlas.py::scanpy.datasets._ebi_expression_atlas.ebi_expression_atlas [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pl.py::scanpy.external.pl.phate [33mSKIPPED[0m (needs modul...)[32m [ 0%][0m. scanpy/external/pp/_bbknn.py::scanpy.external.pp._bbknn.bbknn [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_harmony_integrate.py::scanpy.external.pp._harmony_integrate.harmony_integrate [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_hashsolo.py::scanpy.external.pp._hashsolo.hashsolo [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_magic.py::scanpy.external.pp._magic.magic [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_scanorama_integrate.py::scanpy.external.pp._scanorama_integrate.scanorama_integrate Fatal Python error: Illegal instruction. Thread 0x00007f00347c4640 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 316 in wait. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 581 in wait. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/tqdm/_monitor.py"", line 60 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threa",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:3313,deployability,modul,module,3313,"/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 937 in _bootstrap. Current thread 0x00007f004e08eb80 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 522 in nn_approx. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 590 in fill_table. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 631 in find_alignments_table. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 666 in find_alignments. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 793 in assemble. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/legacy_api_wrap/__init__.py"", line 80 in fn_compatible. File ""<doctest scanpy.external.pp._scanorama_integrate.scanorama_integrate[6]>"", line 1 in <module>. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1334 in __run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1481 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1842 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/doctest.py"", line 304 in runtest. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 174 in pytest_runtest_call. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 267 in <lambda>. File ""/opt/hosted",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:6751,deployability,modul,module,6751,"lcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 327 in _main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 273 in wrap_session. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 320 in pytest_cmdline_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 175 in main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 198 in console_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/bin/pytest"", line 8 in <module>. /home/vsts/work/_temp/1dc6f140-196e-4393-a84a-ebdaa5dcda61.sh: line 1: 1811 Illegal instruction (core dumped) pytest. ##[error]Bash exited with code '132'. ##[section]Finishing: PyTest. ```. ### Versions. <details>. ```. anndata 0.10.5.post1. annoy 1.17.3. array_api_compat 1.4.1. asciitree 0.3.3. attrs 23.2.0. cfgv 3.4.0. click 8.1.7. cloudpickle 3.0.0. contourpy 1.2.0. coverage 7.4.1. cycler 0.12.1. dask 2024.2.0. dask-glm 0.3.2. dask-ml 2023.3.24. decorator 5.1.1. Deprecated 1.2.14. distlib 0.3.8. distributed 2024.2.0. exceptiongroup 1.2.0. fasteners 0.19. fbpca 1.0. filelock 3.13.1. fonttools 4.49.0. fsspec 2024.2.0. future 0.18.3. geosketch 1.2. get-annotations 0.1.2. graphtools 1.5.3. h5py 3.10.0. harmonypy 0.0.9. identify 2.5.35. igraph 0.11.4. imageio 2.34.0. importlib-metadata 7.0.1. importlib-resources 6.1.1. iniconfig 2.0.0. intervaltree 3.1.0. Jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. lazy_loader 0.3. legacy-api-wrap 1.4. leidenalg 0.10.2. llvmlite 0.42.0. locket 1",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:6955,deployability,Version,Versions,6955,". File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 320 in pytest_cmdline_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 175 in main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 198 in console_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/bin/pytest"", line 8 in <module>. /home/vsts/work/_temp/1dc6f140-196e-4393-a84a-ebdaa5dcda61.sh: line 1: 1811 Illegal instruction (core dumped) pytest. ##[error]Bash exited with code '132'. ##[section]Finishing: PyTest. ```. ### Versions. <details>. ```. anndata 0.10.5.post1. annoy 1.17.3. array_api_compat 1.4.1. asciitree 0.3.3. attrs 23.2.0. cfgv 3.4.0. click 8.1.7. cloudpickle 3.0.0. contourpy 1.2.0. coverage 7.4.1. cycler 0.12.1. dask 2024.2.0. dask-glm 0.3.2. dask-ml 2023.3.24. decorator 5.1.1. Deprecated 1.2.14. distlib 0.3.8. distributed 2024.2.0. exceptiongroup 1.2.0. fasteners 0.19. fbpca 1.0. filelock 3.13.1. fonttools 4.49.0. fsspec 2024.2.0. future 0.18.3. geosketch 1.2. get-annotations 0.1.2. graphtools 1.5.3. h5py 3.10.0. harmonypy 0.0.9. identify 2.5.35. igraph 0.11.4. imageio 2.34.0. importlib-metadata 7.0.1. importlib-resources 6.1.1. iniconfig 2.0.0. intervaltree 3.1.0. Jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. lazy_loader 0.3. legacy-api-wrap 1.4. leidenalg 0.10.2. llvmlite 0.42.0. locket 1.0.0. magic-impute 3.0.0. MarkupSafe 2.1.5. matplotlib 3.8.3. msgpack 1.0.7. multipledispatch 1.0.0. natsort 8.4.0. networkx 3.2.1. nodeenv 1.8.0. numba 0.59.0. numcodecs 0.12.1. numpy 1.26.4. packaging 23",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:7573,deployability,resourc,resources,7573,"he/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 198 in console_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/bin/pytest"", line 8 in <module>. /home/vsts/work/_temp/1dc6f140-196e-4393-a84a-ebdaa5dcda61.sh: line 1: 1811 Illegal instruction (core dumped) pytest. ##[error]Bash exited with code '132'. ##[section]Finishing: PyTest. ```. ### Versions. <details>. ```. anndata 0.10.5.post1. annoy 1.17.3. array_api_compat 1.4.1. asciitree 0.3.3. attrs 23.2.0. cfgv 3.4.0. click 8.1.7. cloudpickle 3.0.0. contourpy 1.2.0. coverage 7.4.1. cycler 0.12.1. dask 2024.2.0. dask-glm 0.3.2. dask-ml 2023.3.24. decorator 5.1.1. Deprecated 1.2.14. distlib 0.3.8. distributed 2024.2.0. exceptiongroup 1.2.0. fasteners 0.19. fbpca 1.0. filelock 3.13.1. fonttools 4.49.0. fsspec 2024.2.0. future 0.18.3. geosketch 1.2. get-annotations 0.1.2. graphtools 1.5.3. h5py 3.10.0. harmonypy 0.0.9. identify 2.5.35. igraph 0.11.4. imageio 2.34.0. importlib-metadata 7.0.1. importlib-resources 6.1.1. iniconfig 2.0.0. intervaltree 3.1.0. Jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. lazy_loader 0.3. legacy-api-wrap 1.4. leidenalg 0.10.2. llvmlite 0.42.0. locket 1.0.0. magic-impute 3.0.0. MarkupSafe 2.1.5. matplotlib 3.8.3. msgpack 1.0.7. multipledispatch 1.0.0. natsort 8.4.0. networkx 3.2.1. nodeenv 1.8.0. numba 0.59.0. numcodecs 0.12.1. numpy 1.26.4. packaging 23.2. pandas 2.0.3. partd 1.4.1. patsy 0.5.6. pbr 6.0.0. pillow 10.2.0. pip 24.0. platformdirs 4.2.0. pluggy 1.4.0. pre-commit 3.6.2. profimp 0.1.0. psutil 5.9.8. PyGSP 0.5.1. pynndescent 0.5.11. pyparsing 3.1.1. pytest 8.0.1. pytest-mock 3.12.0. pytest-nunit 1.0.6. python-dateutil 2.8.2. pytz 2024.1. PyYAML 6.0.1. scanorama 1.7.4. scanpy 1.10.0.dev220+g534145f6. scikit-image 0.22.0. scikit-learn 1.4.1.post1. scikit-misc 0.3.1. scipy 1.12.0. scprep 1.2.3. seaborn 0.13.2. session-info 1.0.0. setuptools 58.1.0. setuptools-scm 8.0.4. six 1.16.0. sortedcontainers 2.4.0. sparse 0.15.1. statsmodels 0.14.1. stdlib-list 0",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:7697,deployability,api,api-wrap,7697,"olcache/Python/3.9.18/x64/bin/pytest"", line 8 in <module>. /home/vsts/work/_temp/1dc6f140-196e-4393-a84a-ebdaa5dcda61.sh: line 1: 1811 Illegal instruction (core dumped) pytest. ##[error]Bash exited with code '132'. ##[section]Finishing: PyTest. ```. ### Versions. <details>. ```. anndata 0.10.5.post1. annoy 1.17.3. array_api_compat 1.4.1. asciitree 0.3.3. attrs 23.2.0. cfgv 3.4.0. click 8.1.7. cloudpickle 3.0.0. contourpy 1.2.0. coverage 7.4.1. cycler 0.12.1. dask 2024.2.0. dask-glm 0.3.2. dask-ml 2023.3.24. decorator 5.1.1. Deprecated 1.2.14. distlib 0.3.8. distributed 2024.2.0. exceptiongroup 1.2.0. fasteners 0.19. fbpca 1.0. filelock 3.13.1. fonttools 4.49.0. fsspec 2024.2.0. future 0.18.3. geosketch 1.2. get-annotations 0.1.2. graphtools 1.5.3. h5py 3.10.0. harmonypy 0.0.9. identify 2.5.35. igraph 0.11.4. imageio 2.34.0. importlib-metadata 7.0.1. importlib-resources 6.1.1. iniconfig 2.0.0. intervaltree 3.1.0. Jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. lazy_loader 0.3. legacy-api-wrap 1.4. leidenalg 0.10.2. llvmlite 0.42.0. locket 1.0.0. magic-impute 3.0.0. MarkupSafe 2.1.5. matplotlib 3.8.3. msgpack 1.0.7. multipledispatch 1.0.0. natsort 8.4.0. networkx 3.2.1. nodeenv 1.8.0. numba 0.59.0. numcodecs 0.12.1. numpy 1.26.4. packaging 23.2. pandas 2.0.3. partd 1.4.1. patsy 0.5.6. pbr 6.0.0. pillow 10.2.0. pip 24.0. platformdirs 4.2.0. pluggy 1.4.0. pre-commit 3.6.2. profimp 0.1.0. psutil 5.9.8. PyGSP 0.5.1. pynndescent 0.5.11. pyparsing 3.1.1. pytest 8.0.1. pytest-mock 3.12.0. pytest-nunit 1.0.6. python-dateutil 2.8.2. pytz 2024.1. PyYAML 6.0.1. scanorama 1.7.4. scanpy 1.10.0.dev220+g534145f6. scikit-image 0.22.0. scikit-learn 1.4.1.post1. scikit-misc 0.3.1. scipy 1.12.0. scprep 1.2.3. seaborn 0.13.2. session-info 1.0.0. setuptools 58.1.0. setuptools-scm 8.0.4. six 1.16.0. sortedcontainers 2.4.0. sparse 0.15.1. statsmodels 0.14.1. stdlib-list 0.10.0. tasklogger 1.2.0. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.3.0. tifffile 2024.2.12. tomli 2.0.1. toolz 0.12.1. ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:2408,energy efficiency,Current,Current,2408,"ony_integrate.py::scanpy.external.pp._harmony_integrate.harmony_integrate [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_hashsolo.py::scanpy.external.pp._hashsolo.hashsolo [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_magic.py::scanpy.external.pp._magic.magic [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_scanorama_integrate.py::scanpy.external.pp._scanorama_integrate.scanorama_integrate Fatal Python error: Illegal instruction. Thread 0x00007f00347c4640 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 316 in wait. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 581 in wait. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/tqdm/_monitor.py"", line 60 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 980 in _bootstrap_inner. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 937 in _bootstrap. Current thread 0x00007f004e08eb80 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 522 in nn_approx. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 590 in fill_table. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 631 in find_alignments_table. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 666 in find_alignments. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 793 in assemble. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/legacy_api_wrap/__init__.py"", line 80 in fn_compatible. File ""<doctest scanpy.external.pp._scanorama_integrate.scanorama_integrate[6]>"", line 1 in <module>. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1334 in __run",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:6857,energy efficiency,core,core,6857,"edtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 273 in wrap_session. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 320 in pytest_cmdline_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 175 in main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 198 in console_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/bin/pytest"", line 8 in <module>. /home/vsts/work/_temp/1dc6f140-196e-4393-a84a-ebdaa5dcda61.sh: line 1: 1811 Illegal instruction (core dumped) pytest. ##[error]Bash exited with code '132'. ##[section]Finishing: PyTest. ```. ### Versions. <details>. ```. anndata 0.10.5.post1. annoy 1.17.3. array_api_compat 1.4.1. asciitree 0.3.3. attrs 23.2.0. cfgv 3.4.0. click 8.1.7. cloudpickle 3.0.0. contourpy 1.2.0. coverage 7.4.1. cycler 0.12.1. dask 2024.2.0. dask-glm 0.3.2. dask-ml 2023.3.24. decorator 5.1.1. Deprecated 1.2.14. distlib 0.3.8. distributed 2024.2.0. exceptiongroup 1.2.0. fasteners 0.19. fbpca 1.0. filelock 3.13.1. fonttools 4.49.0. fsspec 2024.2.0. future 0.18.3. geosketch 1.2. get-annotations 0.1.2. graphtools 1.5.3. h5py 3.10.0. harmonypy 0.0.9. identify 2.5.35. igraph 0.11.4. imageio 2.34.0. importlib-metadata 7.0.1. importlib-resources 6.1.1. iniconfig 2.0.0. intervaltree 3.1.0. Jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. lazy_loader 0.3. legacy-api-wrap 1.4. leidenalg 0.10.2. llvmlite 0.42.0. locket 1.0.0. magic-impute 3.0.0. MarkupSafe 2.1.5. matplotlib 3.8.3. msgpack 1.0.7. multipledispatch 1.0.0. nats",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:7097,energy efficiency,cloud,cloudpickle,7097,"oolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 175 in main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 198 in console_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/bin/pytest"", line 8 in <module>. /home/vsts/work/_temp/1dc6f140-196e-4393-a84a-ebdaa5dcda61.sh: line 1: 1811 Illegal instruction (core dumped) pytest. ##[error]Bash exited with code '132'. ##[section]Finishing: PyTest. ```. ### Versions. <details>. ```. anndata 0.10.5.post1. annoy 1.17.3. array_api_compat 1.4.1. asciitree 0.3.3. attrs 23.2.0. cfgv 3.4.0. click 8.1.7. cloudpickle 3.0.0. contourpy 1.2.0. coverage 7.4.1. cycler 0.12.1. dask 2024.2.0. dask-glm 0.3.2. dask-ml 2023.3.24. decorator 5.1.1. Deprecated 1.2.14. distlib 0.3.8. distributed 2024.2.0. exceptiongroup 1.2.0. fasteners 0.19. fbpca 1.0. filelock 3.13.1. fonttools 4.49.0. fsspec 2024.2.0. future 0.18.3. geosketch 1.2. get-annotations 0.1.2. graphtools 1.5.3. h5py 3.10.0. harmonypy 0.0.9. identify 2.5.35. igraph 0.11.4. imageio 2.34.0. importlib-metadata 7.0.1. importlib-resources 6.1.1. iniconfig 2.0.0. intervaltree 3.1.0. Jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. lazy_loader 0.3. legacy-api-wrap 1.4. leidenalg 0.10.2. llvmlite 0.42.0. locket 1.0.0. magic-impute 3.0.0. MarkupSafe 2.1.5. matplotlib 3.8.3. msgpack 1.0.7. multipledispatch 1.0.0. natsort 8.4.0. networkx 3.2.1. nodeenv 1.8.0. numba 0.59.0. numcodecs 0.12.1. numpy 1.26.4. packaging 23.2. pandas 2.0.3. partd 1.4.1. patsy 0.5.6. pbr 6.0.0. pillow 10.2.0. pip 24.0. platformdirs 4.2.0. pluggy 1.4.0. pre-commit 3.6.2. profimp 0.1.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:7573,energy efficiency,resourc,resources,7573,"he/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 198 in console_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/bin/pytest"", line 8 in <module>. /home/vsts/work/_temp/1dc6f140-196e-4393-a84a-ebdaa5dcda61.sh: line 1: 1811 Illegal instruction (core dumped) pytest. ##[error]Bash exited with code '132'. ##[section]Finishing: PyTest. ```. ### Versions. <details>. ```. anndata 0.10.5.post1. annoy 1.17.3. array_api_compat 1.4.1. asciitree 0.3.3. attrs 23.2.0. cfgv 3.4.0. click 8.1.7. cloudpickle 3.0.0. contourpy 1.2.0. coverage 7.4.1. cycler 0.12.1. dask 2024.2.0. dask-glm 0.3.2. dask-ml 2023.3.24. decorator 5.1.1. Deprecated 1.2.14. distlib 0.3.8. distributed 2024.2.0. exceptiongroup 1.2.0. fasteners 0.19. fbpca 1.0. filelock 3.13.1. fonttools 4.49.0. fsspec 2024.2.0. future 0.18.3. geosketch 1.2. get-annotations 0.1.2. graphtools 1.5.3. h5py 3.10.0. harmonypy 0.0.9. identify 2.5.35. igraph 0.11.4. imageio 2.34.0. importlib-metadata 7.0.1. importlib-resources 6.1.1. iniconfig 2.0.0. intervaltree 3.1.0. Jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. lazy_loader 0.3. legacy-api-wrap 1.4. leidenalg 0.10.2. llvmlite 0.42.0. locket 1.0.0. magic-impute 3.0.0. MarkupSafe 2.1.5. matplotlib 3.8.3. msgpack 1.0.7. multipledispatch 1.0.0. natsort 8.4.0. networkx 3.2.1. nodeenv 1.8.0. numba 0.59.0. numcodecs 0.12.1. numpy 1.26.4. packaging 23.2. pandas 2.0.3. partd 1.4.1. patsy 0.5.6. pbr 6.0.0. pillow 10.2.0. pip 24.0. platformdirs 4.2.0. pluggy 1.4.0. pre-commit 3.6.2. profimp 0.1.0. psutil 5.9.8. PyGSP 0.5.1. pynndescent 0.5.11. pyparsing 3.1.1. pytest 8.0.1. pytest-mock 3.12.0. pytest-nunit 1.0.6. python-dateutil 2.8.2. pytz 2024.1. PyYAML 6.0.1. scanorama 1.7.4. scanpy 1.10.0.dev220+g534145f6. scikit-image 0.22.0. scikit-learn 1.4.1.post1. scikit-misc 0.3.1. scipy 1.12.0. scprep 1.2.3. seaborn 0.13.2. session-info 1.0.0. setuptools 58.1.0. setuptools-scm 8.0.4. six 1.16.0. sortedcontainers 2.4.0. sparse 0.15.1. statsmodels 0.14.1. stdlib-list 0",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:215,integrability,version,version,215,"Scanorama causing segfault on CI (Python 3.9); ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? The test suite keeps failing with a segfault on the `python=3.9` build. I haven't been able to reproduce locally. Interestingly, I haven't seen it error when I rerun the check. It looks like this always happens during the call to `nn_approx`. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. platform linux -- Python 3.9.18, pytest-8.0.1, pluggy-1.4.0 -- /opt/hostedtoolcache/Python/3.9.18/x64/bin/python. cachedir: .pytest_cache. rootdir: /home/vsts/work/1/s. configfile: pyproject.toml. testpaths: scanpy. plugins: nunit-1.0.6, mock-3.12.0. [1mcollecting ... [0mcollected 1474 items. scanpy/_utils/compute/is_constant.py::scanpy._utils.compute.is_constant.is_constant [32mPASSED[0m[32m [ 0%][0m. scanpy/datasets/_ebi_expression_atlas.py::scanpy.datasets._ebi_expression_atlas.ebi_expression_atlas [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pl.py::scanpy.external.pl.phate [33mSKIPPED[0m (needs modul...)[32m [ 0%][0m. scanpy/external/pp/_bbknn.py::scanpy.external.pp._bbknn.bbknn [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_harmony_integrate.py::scanpy.external.pp._harmony_integrate.harmony_integrate [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_hashsolo.py::scanpy.external.pp._hashsolo.hashsolo [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_magic.py::scanpy.external.pp._magic.magic [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_scanorama_integrate.py::scanpy.external.pp._scanorama_integrate.scanorama_integrate Fatal Python error: Illegal instruction. Thread 0x00007f00347c4640 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 316 in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:6955,integrability,Version,Versions,6955,". File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 320 in pytest_cmdline_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 175 in main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 198 in console_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/bin/pytest"", line 8 in <module>. /home/vsts/work/_temp/1dc6f140-196e-4393-a84a-ebdaa5dcda61.sh: line 1: 1811 Illegal instruction (core dumped) pytest. ##[error]Bash exited with code '132'. ##[section]Finishing: PyTest. ```. ### Versions. <details>. ```. anndata 0.10.5.post1. annoy 1.17.3. array_api_compat 1.4.1. asciitree 0.3.3. attrs 23.2.0. cfgv 3.4.0. click 8.1.7. cloudpickle 3.0.0. contourpy 1.2.0. coverage 7.4.1. cycler 0.12.1. dask 2024.2.0. dask-glm 0.3.2. dask-ml 2023.3.24. decorator 5.1.1. Deprecated 1.2.14. distlib 0.3.8. distributed 2024.2.0. exceptiongroup 1.2.0. fasteners 0.19. fbpca 1.0. filelock 3.13.1. fonttools 4.49.0. fsspec 2024.2.0. future 0.18.3. geosketch 1.2. get-annotations 0.1.2. graphtools 1.5.3. h5py 3.10.0. harmonypy 0.0.9. identify 2.5.35. igraph 0.11.4. imageio 2.34.0. importlib-metadata 7.0.1. importlib-resources 6.1.1. iniconfig 2.0.0. intervaltree 3.1.0. Jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. lazy_loader 0.3. legacy-api-wrap 1.4. leidenalg 0.10.2. llvmlite 0.42.0. locket 1.0.0. magic-impute 3.0.0. MarkupSafe 2.1.5. matplotlib 3.8.3. msgpack 1.0.7. multipledispatch 1.0.0. natsort 8.4.0. networkx 3.2.1. nodeenv 1.8.0. numba 0.59.0. numcodecs 0.12.1. numpy 1.26.4. packaging 23",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:7697,integrability,api,api-wrap,7697,"olcache/Python/3.9.18/x64/bin/pytest"", line 8 in <module>. /home/vsts/work/_temp/1dc6f140-196e-4393-a84a-ebdaa5dcda61.sh: line 1: 1811 Illegal instruction (core dumped) pytest. ##[error]Bash exited with code '132'. ##[section]Finishing: PyTest. ```. ### Versions. <details>. ```. anndata 0.10.5.post1. annoy 1.17.3. array_api_compat 1.4.1. asciitree 0.3.3. attrs 23.2.0. cfgv 3.4.0. click 8.1.7. cloudpickle 3.0.0. contourpy 1.2.0. coverage 7.4.1. cycler 0.12.1. dask 2024.2.0. dask-glm 0.3.2. dask-ml 2023.3.24. decorator 5.1.1. Deprecated 1.2.14. distlib 0.3.8. distributed 2024.2.0. exceptiongroup 1.2.0. fasteners 0.19. fbpca 1.0. filelock 3.13.1. fonttools 4.49.0. fsspec 2024.2.0. future 0.18.3. geosketch 1.2. get-annotations 0.1.2. graphtools 1.5.3. h5py 3.10.0. harmonypy 0.0.9. identify 2.5.35. igraph 0.11.4. imageio 2.34.0. importlib-metadata 7.0.1. importlib-resources 6.1.1. iniconfig 2.0.0. intervaltree 3.1.0. Jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. lazy_loader 0.3. legacy-api-wrap 1.4. leidenalg 0.10.2. llvmlite 0.42.0. locket 1.0.0. magic-impute 3.0.0. MarkupSafe 2.1.5. matplotlib 3.8.3. msgpack 1.0.7. multipledispatch 1.0.0. natsort 8.4.0. networkx 3.2.1. nodeenv 1.8.0. numba 0.59.0. numcodecs 0.12.1. numpy 1.26.4. packaging 23.2. pandas 2.0.3. partd 1.4.1. patsy 0.5.6. pbr 6.0.0. pillow 10.2.0. pip 24.0. platformdirs 4.2.0. pluggy 1.4.0. pre-commit 3.6.2. profimp 0.1.0. psutil 5.9.8. PyGSP 0.5.1. pynndescent 0.5.11. pyparsing 3.1.1. pytest 8.0.1. pytest-mock 3.12.0. pytest-nunit 1.0.6. python-dateutil 2.8.2. pytz 2024.1. PyYAML 6.0.1. scanorama 1.7.4. scanpy 1.10.0.dev220+g534145f6. scikit-image 0.22.0. scikit-learn 1.4.1.post1. scikit-misc 0.3.1. scipy 1.12.0. scprep 1.2.3. seaborn 0.13.2. session-info 1.0.0. setuptools 58.1.0. setuptools-scm 8.0.4. six 1.16.0. sortedcontainers 2.4.0. sparse 0.15.1. statsmodels 0.14.1. stdlib-list 0.10.0. tasklogger 1.2.0. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.3.0. tifffile 2024.2.12. tomli 2.0.1. toolz 0.12.1. ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:8834,integrability,wrap,wrapt,8834,h code '132'. ##[section]Finishing: PyTest. ```. ### Versions. <details>. ```. anndata 0.10.5.post1. annoy 1.17.3. array_api_compat 1.4.1. asciitree 0.3.3. attrs 23.2.0. cfgv 3.4.0. click 8.1.7. cloudpickle 3.0.0. contourpy 1.2.0. coverage 7.4.1. cycler 0.12.1. dask 2024.2.0. dask-glm 0.3.2. dask-ml 2023.3.24. decorator 5.1.1. Deprecated 1.2.14. distlib 0.3.8. distributed 2024.2.0. exceptiongroup 1.2.0. fasteners 0.19. fbpca 1.0. filelock 3.13.1. fonttools 4.49.0. fsspec 2024.2.0. future 0.18.3. geosketch 1.2. get-annotations 0.1.2. graphtools 1.5.3. h5py 3.10.0. harmonypy 0.0.9. identify 2.5.35. igraph 0.11.4. imageio 2.34.0. importlib-metadata 7.0.1. importlib-resources 6.1.1. iniconfig 2.0.0. intervaltree 3.1.0. Jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. lazy_loader 0.3. legacy-api-wrap 1.4. leidenalg 0.10.2. llvmlite 0.42.0. locket 1.0.0. magic-impute 3.0.0. MarkupSafe 2.1.5. matplotlib 3.8.3. msgpack 1.0.7. multipledispatch 1.0.0. natsort 8.4.0. networkx 3.2.1. nodeenv 1.8.0. numba 0.59.0. numcodecs 0.12.1. numpy 1.26.4. packaging 23.2. pandas 2.0.3. partd 1.4.1. patsy 0.5.6. pbr 6.0.0. pillow 10.2.0. pip 24.0. platformdirs 4.2.0. pluggy 1.4.0. pre-commit 3.6.2. profimp 0.1.0. psutil 5.9.8. PyGSP 0.5.1. pynndescent 0.5.11. pyparsing 3.1.1. pytest 8.0.1. pytest-mock 3.12.0. pytest-nunit 1.0.6. python-dateutil 2.8.2. pytz 2024.1. PyYAML 6.0.1. scanorama 1.7.4. scanpy 1.10.0.dev220+g534145f6. scikit-image 0.22.0. scikit-learn 1.4.1.post1. scikit-misc 0.3.1. scipy 1.12.0. scprep 1.2.3. seaborn 0.13.2. session-info 1.0.0. setuptools 58.1.0. setuptools-scm 8.0.4. six 1.16.0. sortedcontainers 2.4.0. sparse 0.15.1. statsmodels 0.14.1. stdlib-list 0.10.0. tasklogger 1.2.0. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.3.0. tifffile 2024.2.12. tomli 2.0.1. toolz 0.12.1. tornado 6.4. tqdm 4.66.2. typing_extensions 4.9.0. tzdata 2024.1. umap-learn 0.5.5. urllib3 2.2.1. virtualenv 20.25.0. wheel 0.42.0. wrapt 1.16.0. zarr 2.17.0. zict 3.0.0. zipp 3.17.0. ```. </details>.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:650,interoperability,platform,platform,650,"Scanorama causing segfault on CI (Python 3.9); ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? The test suite keeps failing with a segfault on the `python=3.9` build. I haven't been able to reproduce locally. Interestingly, I haven't seen it error when I rerun the check. It looks like this always happens during the call to `nn_approx`. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. platform linux -- Python 3.9.18, pytest-8.0.1, pluggy-1.4.0 -- /opt/hostedtoolcache/Python/3.9.18/x64/bin/python. cachedir: .pytest_cache. rootdir: /home/vsts/work/1/s. configfile: pyproject.toml. testpaths: scanpy. plugins: nunit-1.0.6, mock-3.12.0. [1mcollecting ... [0mcollected 1474 items. scanpy/_utils/compute/is_constant.py::scanpy._utils.compute.is_constant.is_constant [32mPASSED[0m[32m [ 0%][0m. scanpy/datasets/_ebi_expression_atlas.py::scanpy.datasets._ebi_expression_atlas.ebi_expression_atlas [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pl.py::scanpy.external.pl.phate [33mSKIPPED[0m (needs modul...)[32m [ 0%][0m. scanpy/external/pp/_bbknn.py::scanpy.external.pp._bbknn.bbknn [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_harmony_integrate.py::scanpy.external.pp._harmony_integrate.harmony_integrate [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_hashsolo.py::scanpy.external.pp._hashsolo.hashsolo [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_magic.py::scanpy.external.pp._magic.magic [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_scanorama_integrate.py::scanpy.external.pp._scanorama_integrate.scanorama_integrate Fatal Python error: Illegal instruction. Thread 0x00007f00347c4640 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 316 in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:697,interoperability,plug,pluggy-,697,"Scanorama causing segfault on CI (Python 3.9); ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? The test suite keeps failing with a segfault on the `python=3.9` build. I haven't been able to reproduce locally. Interestingly, I haven't seen it error when I rerun the check. It looks like this always happens during the call to `nn_approx`. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. platform linux -- Python 3.9.18, pytest-8.0.1, pluggy-1.4.0 -- /opt/hostedtoolcache/Python/3.9.18/x64/bin/python. cachedir: .pytest_cache. rootdir: /home/vsts/work/1/s. configfile: pyproject.toml. testpaths: scanpy. plugins: nunit-1.0.6, mock-3.12.0. [1mcollecting ... [0mcollected 1474 items. scanpy/_utils/compute/is_constant.py::scanpy._utils.compute.is_constant.is_constant [32mPASSED[0m[32m [ 0%][0m. scanpy/datasets/_ebi_expression_atlas.py::scanpy.datasets._ebi_expression_atlas.ebi_expression_atlas [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pl.py::scanpy.external.pl.phate [33mSKIPPED[0m (needs modul...)[32m [ 0%][0m. scanpy/external/pp/_bbknn.py::scanpy.external.pp._bbknn.bbknn [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_harmony_integrate.py::scanpy.external.pp._harmony_integrate.harmony_integrate [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_hashsolo.py::scanpy.external.pp._hashsolo.hashsolo [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_magic.py::scanpy.external.pp._magic.magic [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_scanorama_integrate.py::scanpy.external.pp._scanorama_integrate.scanorama_integrate Fatal Python error: Illegal instruction. Thread 0x00007f00347c4640 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 316 in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:866,interoperability,plug,plugins,866,"Scanorama causing segfault on CI (Python 3.9); ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? The test suite keeps failing with a segfault on the `python=3.9` build. I haven't been able to reproduce locally. Interestingly, I haven't seen it error when I rerun the check. It looks like this always happens during the call to `nn_approx`. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. platform linux -- Python 3.9.18, pytest-8.0.1, pluggy-1.4.0 -- /opt/hostedtoolcache/Python/3.9.18/x64/bin/python. cachedir: .pytest_cache. rootdir: /home/vsts/work/1/s. configfile: pyproject.toml. testpaths: scanpy. plugins: nunit-1.0.6, mock-3.12.0. [1mcollecting ... [0mcollected 1474 items. scanpy/_utils/compute/is_constant.py::scanpy._utils.compute.is_constant.is_constant [32mPASSED[0m[32m [ 0%][0m. scanpy/datasets/_ebi_expression_atlas.py::scanpy.datasets._ebi_expression_atlas.ebi_expression_atlas [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pl.py::scanpy.external.pl.phate [33mSKIPPED[0m (needs modul...)[32m [ 0%][0m. scanpy/external/pp/_bbknn.py::scanpy.external.pp._bbknn.bbknn [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_harmony_integrate.py::scanpy.external.pp._harmony_integrate.harmony_integrate [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_hashsolo.py::scanpy.external.pp._hashsolo.hashsolo [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_magic.py::scanpy.external.pp._magic.magic [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_scanorama_integrate.py::scanpy.external.pp._scanorama_integrate.scanorama_integrate Fatal Python error: Illegal instruction. Thread 0x00007f00347c4640 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 316 in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:3908,interoperability,plug,pluggy,3908,"ckages/scanorama/scanorama.py"", line 666 in find_alignments. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 793 in assemble. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/legacy_api_wrap/__init__.py"", line 80 in fn_compatible. File ""<doctest scanpy.external.pp._scanorama_integrate.scanorama_integrate[6]>"", line 1 in <module>. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1334 in __run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1481 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1842 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/doctest.py"", line 304 in runtest. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 174 in pytest_runtest_call. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 267 in <lambda>. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 346 in from_call. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 266 in call_runtest_hook. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 227 in call_and_report. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 134 in runtestprotocol. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 115 in pytest_runtest_protocol",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:4026,interoperability,plug,pluggy,4026,"9/site-packages/scanorama/scanorama.py"", line 793 in assemble. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/legacy_api_wrap/__init__.py"", line 80 in fn_compatible. File ""<doctest scanpy.external.pp._scanorama_integrate.scanorama_integrate[6]>"", line 1 in <module>. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1334 in __run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1481 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1842 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/doctest.py"", line 304 in runtest. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 174 in pytest_runtest_call. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 267 in <lambda>. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 346 in from_call. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 266 in call_runtest_hook. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 227 in call_and_report. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 134 in runtestprotocol. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 115 in pytest_runtest_protocol. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:4143,interoperability,plug,pluggy,4143,"n3.9/site-packages/legacy_api_wrap/__init__.py"", line 80 in fn_compatible. File ""<doctest scanpy.external.pp._scanorama_integrate.scanorama_integrate[6]>"", line 1 in <module>. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1334 in __run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1481 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1842 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/doctest.py"", line 304 in runtest. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 174 in pytest_runtest_call. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 267 in <lambda>. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 346 in from_call. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 266 in call_runtest_hook. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 227 in call_and_report. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 134 in runtestprotocol. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 115 in pytest_runtest_protocol. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:4986,interoperability,plug,pluggy,4986,"9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 267 in <lambda>. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 346 in from_call. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 266 in call_runtest_hook. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 227 in call_and_report. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 134 in runtestprotocol. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 115 in pytest_runtest_protocol. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 352 in pytest_runtestloop. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 327 in _main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 273 in wrap_session. File ""/opt/hostedtoolcache/P",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:5104,interoperability,plug,pluggy,5104,".18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 267 in <lambda>. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 346 in from_call. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 266 in call_runtest_hook. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 227 in call_and_report. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 134 in runtestprotocol. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 115 in pytest_runtest_protocol. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 352 in pytest_runtestloop. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 327 in _main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 273 in wrap_session. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 320 in pytest_cmdline_main. File ""/opt/hostedtoolc",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:5221,interoperability,plug,pluggy,5221,"/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 267 in <lambda>. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 346 in from_call. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 266 in call_runtest_hook. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 227 in call_and_report. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 134 in runtestprotocol. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 115 in pytest_runtest_protocol. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 352 in pytest_runtestloop. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 327 in _main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 273 in wrap_session. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 320 in pytest_cmdline_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtool",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:5458,interoperability,plug,pluggy,5458,"ib/python3.9/site-packages/_pytest/runner.py"", line 266 in call_runtest_hook. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 227 in call_and_report. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 134 in runtestprotocol. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 115 in pytest_runtest_protocol. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 352 in pytest_runtestloop. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 327 in _main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 273 in wrap_session. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 320 in pytest_cmdline_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:5576,interoperability,plug,pluggy,5576,"/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 227 in call_and_report. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 134 in runtestprotocol. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 115 in pytest_runtest_protocol. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 352 in pytest_runtestloop. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 327 in _main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 273 in wrap_session. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 320 in pytest_cmdline_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 175 in main. File ""/opt/hostedtoolcach",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:5693,interoperability,plug,pluggy,5693,".9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 134 in runtestprotocol. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 115 in pytest_runtest_protocol. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 352 in pytest_runtestloop. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 327 in _main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 273 in wrap_session. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 320 in pytest_cmdline_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 175 in main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 198 in console_main. File ""/opt/hos",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:6158,interoperability,plug,pluggy,6158,"stedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 352 in pytest_runtestloop. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 327 in _main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 273 in wrap_session. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 320 in pytest_cmdline_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 175 in main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 198 in console_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/bin/pytest"", line 8 in <module>. /home/vsts/work/_temp/1dc6f140-196e-4393-a84a-ebdaa5dcda61.sh: line 1: 1811 Illegal instruction (core dumped) pytest. ##[error]Bash exited with code '132'. ##[section]Finishing: PyTest. ```. ### Versions. <details>. ```. anndata 0.10.5.post1. annoy 1.17.3. array_api_compat 1.4.1. asciitree 0.3.3. attrs 23.2.0. cfgv 3.4.0. click 8.1.7. cloudpickle 3.0.0. contourpy 1.2.0. coverage 7.4.1. cycler 0.12.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:6276,interoperability,plug,pluggy,6276,"toolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 352 in pytest_runtestloop. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 327 in _main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 273 in wrap_session. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 320 in pytest_cmdline_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 175 in main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 198 in console_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/bin/pytest"", line 8 in <module>. /home/vsts/work/_temp/1dc6f140-196e-4393-a84a-ebdaa5dcda61.sh: line 1: 1811 Illegal instruction (core dumped) pytest. ##[error]Bash exited with code '132'. ##[section]Finishing: PyTest. ```. ### Versions. <details>. ```. anndata 0.10.5.post1. annoy 1.17.3. array_api_compat 1.4.1. asciitree 0.3.3. attrs 23.2.0. cfgv 3.4.0. click 8.1.7. cloudpickle 3.0.0. contourpy 1.2.0. coverage 7.4.1. cycler 0.12.1. dask 2024.2.0. dask-glm 0.3.2. dask-ml 2023.3.24. decorator 5.1.1. Deprecated 1.2.14. distlib 0.3.8. distributed 20",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:6393,interoperability,plug,pluggy,6393,"hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 327 in _main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 273 in wrap_session. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 320 in pytest_cmdline_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 175 in main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 198 in console_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/bin/pytest"", line 8 in <module>. /home/vsts/work/_temp/1dc6f140-196e-4393-a84a-ebdaa5dcda61.sh: line 1: 1811 Illegal instruction (core dumped) pytest. ##[error]Bash exited with code '132'. ##[section]Finishing: PyTest. ```. ### Versions. <details>. ```. anndata 0.10.5.post1. annoy 1.17.3. array_api_compat 1.4.1. asciitree 0.3.3. attrs 23.2.0. cfgv 3.4.0. click 8.1.7. cloudpickle 3.0.0. contourpy 1.2.0. coverage 7.4.1. cycler 0.12.1. dask 2024.2.0. dask-glm 0.3.2. dask-ml 2023.3.24. decorator 5.1.1. Deprecated 1.2.14. distlib 0.3.8. distributed 2024.2.0. exceptiongroup 1.2.0. fasteners 0.19. fbpca 1.0. filelock 3.13.1. fonttools 4.49.0. fsspec 2024.2.0. future 0",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:7265,interoperability,distribut,distributed,7265,"ages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 175 in main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 198 in console_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/bin/pytest"", line 8 in <module>. /home/vsts/work/_temp/1dc6f140-196e-4393-a84a-ebdaa5dcda61.sh: line 1: 1811 Illegal instruction (core dumped) pytest. ##[error]Bash exited with code '132'. ##[section]Finishing: PyTest. ```. ### Versions. <details>. ```. anndata 0.10.5.post1. annoy 1.17.3. array_api_compat 1.4.1. asciitree 0.3.3. attrs 23.2.0. cfgv 3.4.0. click 8.1.7. cloudpickle 3.0.0. contourpy 1.2.0. coverage 7.4.1. cycler 0.12.1. dask 2024.2.0. dask-glm 0.3.2. dask-ml 2023.3.24. decorator 5.1.1. Deprecated 1.2.14. distlib 0.3.8. distributed 2024.2.0. exceptiongroup 1.2.0. fasteners 0.19. fbpca 1.0. filelock 3.13.1. fonttools 4.49.0. fsspec 2024.2.0. future 0.18.3. geosketch 1.2. get-annotations 0.1.2. graphtools 1.5.3. h5py 3.10.0. harmonypy 0.0.9. identify 2.5.35. igraph 0.11.4. imageio 2.34.0. importlib-metadata 7.0.1. importlib-resources 6.1.1. iniconfig 2.0.0. intervaltree 3.1.0. Jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. lazy_loader 0.3. legacy-api-wrap 1.4. leidenalg 0.10.2. llvmlite 0.42.0. locket 1.0.0. magic-impute 3.0.0. MarkupSafe 2.1.5. matplotlib 3.8.3. msgpack 1.0.7. multipledispatch 1.0.0. natsort 8.4.0. networkx 3.2.1. nodeenv 1.8.0. numba 0.59.0. numcodecs 0.12.1. numpy 1.26.4. packaging 23.2. pandas 2.0.3. partd 1.4.1. patsy 0.5.6. pbr 6.0.0. pillow 10.2.0. pip 24.0. platformdirs 4.2.0. pluggy 1.4.0. pre-commit 3.6.2. profimp 0.1.0. psutil 5.9.8. PyGSP 0.5.1. pynndescent 0.5.11. pyparsing 3.1.1. pytest 8.0.1. pytest-mock 3.12.0. pytest-nunit 1.0.6. python-dateutil 2.8.2. pytz 2024.1. PyYAML 6.0.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:7697,interoperability,api,api-wrap,7697,"olcache/Python/3.9.18/x64/bin/pytest"", line 8 in <module>. /home/vsts/work/_temp/1dc6f140-196e-4393-a84a-ebdaa5dcda61.sh: line 1: 1811 Illegal instruction (core dumped) pytest. ##[error]Bash exited with code '132'. ##[section]Finishing: PyTest. ```. ### Versions. <details>. ```. anndata 0.10.5.post1. annoy 1.17.3. array_api_compat 1.4.1. asciitree 0.3.3. attrs 23.2.0. cfgv 3.4.0. click 8.1.7. cloudpickle 3.0.0. contourpy 1.2.0. coverage 7.4.1. cycler 0.12.1. dask 2024.2.0. dask-glm 0.3.2. dask-ml 2023.3.24. decorator 5.1.1. Deprecated 1.2.14. distlib 0.3.8. distributed 2024.2.0. exceptiongroup 1.2.0. fasteners 0.19. fbpca 1.0. filelock 3.13.1. fonttools 4.49.0. fsspec 2024.2.0. future 0.18.3. geosketch 1.2. get-annotations 0.1.2. graphtools 1.5.3. h5py 3.10.0. harmonypy 0.0.9. identify 2.5.35. igraph 0.11.4. imageio 2.34.0. importlib-metadata 7.0.1. importlib-resources 6.1.1. iniconfig 2.0.0. intervaltree 3.1.0. Jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. lazy_loader 0.3. legacy-api-wrap 1.4. leidenalg 0.10.2. llvmlite 0.42.0. locket 1.0.0. magic-impute 3.0.0. MarkupSafe 2.1.5. matplotlib 3.8.3. msgpack 1.0.7. multipledispatch 1.0.0. natsort 8.4.0. networkx 3.2.1. nodeenv 1.8.0. numba 0.59.0. numcodecs 0.12.1. numpy 1.26.4. packaging 23.2. pandas 2.0.3. partd 1.4.1. patsy 0.5.6. pbr 6.0.0. pillow 10.2.0. pip 24.0. platformdirs 4.2.0. pluggy 1.4.0. pre-commit 3.6.2. profimp 0.1.0. psutil 5.9.8. PyGSP 0.5.1. pynndescent 0.5.11. pyparsing 3.1.1. pytest 8.0.1. pytest-mock 3.12.0. pytest-nunit 1.0.6. python-dateutil 2.8.2. pytz 2024.1. PyYAML 6.0.1. scanorama 1.7.4. scanpy 1.10.0.dev220+g534145f6. scikit-image 0.22.0. scikit-learn 1.4.1.post1. scikit-misc 0.3.1. scipy 1.12.0. scprep 1.2.3. seaborn 0.13.2. session-info 1.0.0. setuptools 58.1.0. setuptools-scm 8.0.4. six 1.16.0. sortedcontainers 2.4.0. sparse 0.15.1. statsmodels 0.14.1. stdlib-list 0.10.0. tasklogger 1.2.0. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.3.0. tifffile 2024.2.12. tomli 2.0.1. toolz 0.12.1. ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:8039,interoperability,platform,platformdirs,8039,h code '132'. ##[section]Finishing: PyTest. ```. ### Versions. <details>. ```. anndata 0.10.5.post1. annoy 1.17.3. array_api_compat 1.4.1. asciitree 0.3.3. attrs 23.2.0. cfgv 3.4.0. click 8.1.7. cloudpickle 3.0.0. contourpy 1.2.0. coverage 7.4.1. cycler 0.12.1. dask 2024.2.0. dask-glm 0.3.2. dask-ml 2023.3.24. decorator 5.1.1. Deprecated 1.2.14. distlib 0.3.8. distributed 2024.2.0. exceptiongroup 1.2.0. fasteners 0.19. fbpca 1.0. filelock 3.13.1. fonttools 4.49.0. fsspec 2024.2.0. future 0.18.3. geosketch 1.2. get-annotations 0.1.2. graphtools 1.5.3. h5py 3.10.0. harmonypy 0.0.9. identify 2.5.35. igraph 0.11.4. imageio 2.34.0. importlib-metadata 7.0.1. importlib-resources 6.1.1. iniconfig 2.0.0. intervaltree 3.1.0. Jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. lazy_loader 0.3. legacy-api-wrap 1.4. leidenalg 0.10.2. llvmlite 0.42.0. locket 1.0.0. magic-impute 3.0.0. MarkupSafe 2.1.5. matplotlib 3.8.3. msgpack 1.0.7. multipledispatch 1.0.0. natsort 8.4.0. networkx 3.2.1. nodeenv 1.8.0. numba 0.59.0. numcodecs 0.12.1. numpy 1.26.4. packaging 23.2. pandas 2.0.3. partd 1.4.1. patsy 0.5.6. pbr 6.0.0. pillow 10.2.0. pip 24.0. platformdirs 4.2.0. pluggy 1.4.0. pre-commit 3.6.2. profimp 0.1.0. psutil 5.9.8. PyGSP 0.5.1. pynndescent 0.5.11. pyparsing 3.1.1. pytest 8.0.1. pytest-mock 3.12.0. pytest-nunit 1.0.6. python-dateutil 2.8.2. pytz 2024.1. PyYAML 6.0.1. scanorama 1.7.4. scanpy 1.10.0.dev220+g534145f6. scikit-image 0.22.0. scikit-learn 1.4.1.post1. scikit-misc 0.3.1. scipy 1.12.0. scprep 1.2.3. seaborn 0.13.2. session-info 1.0.0. setuptools 58.1.0. setuptools-scm 8.0.4. six 1.16.0. sortedcontainers 2.4.0. sparse 0.15.1. statsmodels 0.14.1. stdlib-list 0.10.0. tasklogger 1.2.0. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.3.0. tifffile 2024.2.12. tomli 2.0.1. toolz 0.12.1. tornado 6.4. tqdm 4.66.2. typing_extensions 4.9.0. tzdata 2024.1. umap-learn 0.5.5. urllib3 2.2.1. virtualenv 20.25.0. wheel 0.42.0. wrapt 1.16.0. zarr 2.17.0. zict 3.0.0. zipp 3.17.0. ```. </details>.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:8059,interoperability,plug,pluggy,8059,h code '132'. ##[section]Finishing: PyTest. ```. ### Versions. <details>. ```. anndata 0.10.5.post1. annoy 1.17.3. array_api_compat 1.4.1. asciitree 0.3.3. attrs 23.2.0. cfgv 3.4.0. click 8.1.7. cloudpickle 3.0.0. contourpy 1.2.0. coverage 7.4.1. cycler 0.12.1. dask 2024.2.0. dask-glm 0.3.2. dask-ml 2023.3.24. decorator 5.1.1. Deprecated 1.2.14. distlib 0.3.8. distributed 2024.2.0. exceptiongroup 1.2.0. fasteners 0.19. fbpca 1.0. filelock 3.13.1. fonttools 4.49.0. fsspec 2024.2.0. future 0.18.3. geosketch 1.2. get-annotations 0.1.2. graphtools 1.5.3. h5py 3.10.0. harmonypy 0.0.9. identify 2.5.35. igraph 0.11.4. imageio 2.34.0. importlib-metadata 7.0.1. importlib-resources 6.1.1. iniconfig 2.0.0. intervaltree 3.1.0. Jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. lazy_loader 0.3. legacy-api-wrap 1.4. leidenalg 0.10.2. llvmlite 0.42.0. locket 1.0.0. magic-impute 3.0.0. MarkupSafe 2.1.5. matplotlib 3.8.3. msgpack 1.0.7. multipledispatch 1.0.0. natsort 8.4.0. networkx 3.2.1. nodeenv 1.8.0. numba 0.59.0. numcodecs 0.12.1. numpy 1.26.4. packaging 23.2. pandas 2.0.3. partd 1.4.1. patsy 0.5.6. pbr 6.0.0. pillow 10.2.0. pip 24.0. platformdirs 4.2.0. pluggy 1.4.0. pre-commit 3.6.2. profimp 0.1.0. psutil 5.9.8. PyGSP 0.5.1. pynndescent 0.5.11. pyparsing 3.1.1. pytest 8.0.1. pytest-mock 3.12.0. pytest-nunit 1.0.6. python-dateutil 2.8.2. pytz 2024.1. PyYAML 6.0.1. scanorama 1.7.4. scanpy 1.10.0.dev220+g534145f6. scikit-image 0.22.0. scikit-learn 1.4.1.post1. scikit-misc 0.3.1. scipy 1.12.0. scprep 1.2.3. seaborn 0.13.2. session-info 1.0.0. setuptools 58.1.0. setuptools-scm 8.0.4. six 1.16.0. sortedcontainers 2.4.0. sparse 0.15.1. statsmodels 0.14.1. stdlib-list 0.10.0. tasklogger 1.2.0. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.3.0. tifffile 2024.2.12. tomli 2.0.1. toolz 0.12.1. tornado 6.4. tqdm 4.66.2. typing_extensions 4.9.0. tzdata 2024.1. umap-learn 0.5.5. urllib3 2.2.1. virtualenv 20.25.0. wheel 0.42.0. wrapt 1.16.0. zarr 2.17.0. zict 3.0.0. zipp 3.17.0. ```. </details>.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:215,modifiability,version,version,215,"Scanorama causing segfault on CI (Python 3.9); ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? The test suite keeps failing with a segfault on the `python=3.9` build. I haven't been able to reproduce locally. Interestingly, I haven't seen it error when I rerun the check. It looks like this always happens during the call to `nn_approx`. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. platform linux -- Python 3.9.18, pytest-8.0.1, pluggy-1.4.0 -- /opt/hostedtoolcache/Python/3.9.18/x64/bin/python. cachedir: .pytest_cache. rootdir: /home/vsts/work/1/s. configfile: pyproject.toml. testpaths: scanpy. plugins: nunit-1.0.6, mock-3.12.0. [1mcollecting ... [0mcollected 1474 items. scanpy/_utils/compute/is_constant.py::scanpy._utils.compute.is_constant.is_constant [32mPASSED[0m[32m [ 0%][0m. scanpy/datasets/_ebi_expression_atlas.py::scanpy.datasets._ebi_expression_atlas.ebi_expression_atlas [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pl.py::scanpy.external.pl.phate [33mSKIPPED[0m (needs modul...)[32m [ 0%][0m. scanpy/external/pp/_bbknn.py::scanpy.external.pp._bbknn.bbknn [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_harmony_integrate.py::scanpy.external.pp._harmony_integrate.harmony_integrate [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_hashsolo.py::scanpy.external.pp._hashsolo.hashsolo [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_magic.py::scanpy.external.pp._magic.magic [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_scanorama_integrate.py::scanpy.external.pp._scanorama_integrate.scanorama_integrate Fatal Python error: Illegal instruction. Thread 0x00007f00347c4640 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 316 in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:1267,modifiability,modul,modul,1267,"is bug exists on the master branch of scanpy. ### What happened? The test suite keeps failing with a segfault on the `python=3.9` build. I haven't been able to reproduce locally. Interestingly, I haven't seen it error when I rerun the check. It looks like this always happens during the call to `nn_approx`. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. platform linux -- Python 3.9.18, pytest-8.0.1, pluggy-1.4.0 -- /opt/hostedtoolcache/Python/3.9.18/x64/bin/python. cachedir: .pytest_cache. rootdir: /home/vsts/work/1/s. configfile: pyproject.toml. testpaths: scanpy. plugins: nunit-1.0.6, mock-3.12.0. [1mcollecting ... [0mcollected 1474 items. scanpy/_utils/compute/is_constant.py::scanpy._utils.compute.is_constant.is_constant [32mPASSED[0m[32m [ 0%][0m. scanpy/datasets/_ebi_expression_atlas.py::scanpy.datasets._ebi_expression_atlas.ebi_expression_atlas [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pl.py::scanpy.external.pl.phate [33mSKIPPED[0m (needs modul...)[32m [ 0%][0m. scanpy/external/pp/_bbknn.py::scanpy.external.pp._bbknn.bbknn [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_harmony_integrate.py::scanpy.external.pp._harmony_integrate.harmony_integrate [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_hashsolo.py::scanpy.external.pp._hashsolo.hashsolo [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_magic.py::scanpy.external.pp._magic.magic [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_scanorama_integrate.py::scanpy.external.pp._scanorama_integrate.scanorama_integrate Fatal Python error: Illegal instruction. Thread 0x00007f00347c4640 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 316 in wait. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 581 in wait. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/tqdm/_monitor.py"", line 60 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threa",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:2162,modifiability,pac,packages,2162,"2mPASSED[0m[32m [ 0%][0m. scanpy/external/pl.py::scanpy.external.pl.phate [33mSKIPPED[0m (needs modul...)[32m [ 0%][0m. scanpy/external/pp/_bbknn.py::scanpy.external.pp._bbknn.bbknn [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_harmony_integrate.py::scanpy.external.pp._harmony_integrate.harmony_integrate [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_hashsolo.py::scanpy.external.pp._hashsolo.hashsolo [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_magic.py::scanpy.external.pp._magic.magic [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_scanorama_integrate.py::scanpy.external.pp._scanorama_integrate.scanorama_integrate Fatal Python error: Illegal instruction. Thread 0x00007f00347c4640 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 316 in wait. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 581 in wait. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/tqdm/_monitor.py"", line 60 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 980 in _bootstrap_inner. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 937 in _bootstrap. Current thread 0x00007f004e08eb80 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 522 in nn_approx. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 590 in fill_table. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 631 in find_alignments_table. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 666 in find_alignments. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 793 in assemble. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/l",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:2533,modifiability,pac,packages,2533,"_hashsolo.py::scanpy.external.pp._hashsolo.hashsolo [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_magic.py::scanpy.external.pp._magic.magic [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_scanorama_integrate.py::scanpy.external.pp._scanorama_integrate.scanorama_integrate Fatal Python error: Illegal instruction. Thread 0x00007f00347c4640 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 316 in wait. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 581 in wait. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/tqdm/_monitor.py"", line 60 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 980 in _bootstrap_inner. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 937 in _bootstrap. Current thread 0x00007f004e08eb80 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 522 in nn_approx. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 590 in fill_table. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 631 in find_alignments_table. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 666 in find_alignments. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 793 in assemble. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/legacy_api_wrap/__init__.py"", line 80 in fn_compatible. File ""<doctest scanpy.external.pp._scanorama_integrate.scanorama_integrate[6]>"", line 1 in <module>. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1334 in __run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1481 in run. File ""/opt/hostedtoolcache/Python",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:2654,modifiability,pac,packages,2654,".external.pp._magic.magic [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_scanorama_integrate.py::scanpy.external.pp._scanorama_integrate.scanorama_integrate Fatal Python error: Illegal instruction. Thread 0x00007f00347c4640 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 316 in wait. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 581 in wait. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/tqdm/_monitor.py"", line 60 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 980 in _bootstrap_inner. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 937 in _bootstrap. Current thread 0x00007f004e08eb80 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 522 in nn_approx. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 590 in fill_table. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 631 in find_alignments_table. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 666 in find_alignments. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 793 in assemble. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/legacy_api_wrap/__init__.py"", line 80 in fn_compatible. File ""<doctest scanpy.external.pp._scanorama_integrate.scanorama_integrate[6]>"", line 1 in <module>. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1334 in __run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1481 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1842 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:2776,modifiability,pac,packages,2776,"scanorama_integrate.scanorama_integrate Fatal Python error: Illegal instruction. Thread 0x00007f00347c4640 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 316 in wait. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 581 in wait. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/tqdm/_monitor.py"", line 60 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 980 in _bootstrap_inner. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 937 in _bootstrap. Current thread 0x00007f004e08eb80 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 522 in nn_approx. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 590 in fill_table. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 631 in find_alignments_table. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 666 in find_alignments. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 793 in assemble. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/legacy_api_wrap/__init__.py"", line 80 in fn_compatible. File ""<doctest scanpy.external.pp._scanorama_integrate.scanorama_integrate[6]>"", line 1 in <module>. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1334 in __run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1481 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1842 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/doctest.py"", line 304 in runtest. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-package",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:2909,modifiability,pac,packages,2909," File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 316 in wait. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 581 in wait. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/tqdm/_monitor.py"", line 60 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 980 in _bootstrap_inner. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 937 in _bootstrap. Current thread 0x00007f004e08eb80 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 522 in nn_approx. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 590 in fill_table. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 631 in find_alignments_table. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 666 in find_alignments. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 793 in assemble. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/legacy_api_wrap/__init__.py"", line 80 in fn_compatible. File ""<doctest scanpy.external.pp._scanorama_integrate.scanorama_integrate[6]>"", line 1 in <module>. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1334 in __run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1481 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1842 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/doctest.py"", line 304 in runtest. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 174 in pytest_runtest_call. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/plugg",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:3036,modifiability,pac,packages,3036,"3.9.18/x64/lib/python3.9/threading.py"", line 581 in wait. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/tqdm/_monitor.py"", line 60 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 980 in _bootstrap_inner. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 937 in _bootstrap. Current thread 0x00007f004e08eb80 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 522 in nn_approx. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 590 in fill_table. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 631 in find_alignments_table. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 666 in find_alignments. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 793 in assemble. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/legacy_api_wrap/__init__.py"", line 80 in fn_compatible. File ""<doctest scanpy.external.pp._scanorama_integrate.scanorama_integrate[6]>"", line 1 in <module>. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1334 in __run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1481 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1842 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/doctest.py"", line 304 in runtest. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 174 in pytest_runtest_call. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manage",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:3156,modifiability,pac,packages,3156,"e-packages/tqdm/_monitor.py"", line 60 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 980 in _bootstrap_inner. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 937 in _bootstrap. Current thread 0x00007f004e08eb80 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 522 in nn_approx. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 590 in fill_table. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 631 in find_alignments_table. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 666 in find_alignments. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 793 in assemble. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/legacy_api_wrap/__init__.py"", line 80 in fn_compatible. File ""<doctest scanpy.external.pp._scanorama_integrate.scanorama_integrate[6]>"", line 1 in <module>. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1334 in __run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1481 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1842 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/doctest.py"", line 304 in runtest. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 174 in pytest_runtest_call. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py""",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:3313,modifiability,modul,module,3313,"/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 937 in _bootstrap. Current thread 0x00007f004e08eb80 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 522 in nn_approx. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 590 in fill_table. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 631 in find_alignments_table. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 666 in find_alignments. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 793 in assemble. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/legacy_api_wrap/__init__.py"", line 80 in fn_compatible. File ""<doctest scanpy.external.pp._scanorama_integrate.scanorama_integrate[6]>"", line 1 in <module>. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1334 in __run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1481 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1842 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/doctest.py"", line 304 in runtest. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 174 in pytest_runtest_call. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 267 in <lambda>. File ""/opt/hosted",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:3658,modifiability,pac,packages,3658,"/scanorama/scanorama.py"", line 590 in fill_table. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 631 in find_alignments_table. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 666 in find_alignments. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 793 in assemble. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/legacy_api_wrap/__init__.py"", line 80 in fn_compatible. File ""<doctest scanpy.external.pp._scanorama_integrate.scanorama_integrate[6]>"", line 1 in <module>. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1334 in __run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1481 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1842 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/doctest.py"", line 304 in runtest. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 174 in pytest_runtest_call. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 267 in <lambda>. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 346 in from_call. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 266 in call_runtest_hook. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 227 in call_and_report. F",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:3773,modifiability,pac,packages,3773,"ackages/scanorama/scanorama.py"", line 631 in find_alignments_table. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 666 in find_alignments. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 793 in assemble. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/legacy_api_wrap/__init__.py"", line 80 in fn_compatible. File ""<doctest scanpy.external.pp._scanorama_integrate.scanorama_integrate[6]>"", line 1 in <module>. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1334 in __run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1481 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1842 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/doctest.py"", line 304 in runtest. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 174 in pytest_runtest_call. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 267 in <lambda>. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 346 in from_call. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 266 in call_runtest_hook. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 227 in call_and_report. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 134 in runtestprot",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:3899,modifiability,pac,packages,3899,"/site-packages/scanorama/scanorama.py"", line 666 in find_alignments. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 793 in assemble. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/legacy_api_wrap/__init__.py"", line 80 in fn_compatible. File ""<doctest scanpy.external.pp._scanorama_integrate.scanorama_integrate[6]>"", line 1 in <module>. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1334 in __run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1481 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1842 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/doctest.py"", line 304 in runtest. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 174 in pytest_runtest_call. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 267 in <lambda>. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 346 in from_call. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 266 in call_runtest_hook. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 227 in call_and_report. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 134 in runtestprotocol. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 115 in pytest_runtest_",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:4017,modifiability,pac,packages,4017,"python3.9/site-packages/scanorama/scanorama.py"", line 793 in assemble. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/legacy_api_wrap/__init__.py"", line 80 in fn_compatible. File ""<doctest scanpy.external.pp._scanorama_integrate.scanorama_integrate[6]>"", line 1 in <module>. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1334 in __run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1481 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1842 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/doctest.py"", line 304 in runtest. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 174 in pytest_runtest_call. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 267 in <lambda>. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 346 in from_call. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 266 in call_runtest_hook. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 227 in call_and_report. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 134 in runtestprotocol. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 115 in pytest_runtest_protocol. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _m",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:4134,modifiability,pac,packages,4134,"ib/python3.9/site-packages/legacy_api_wrap/__init__.py"", line 80 in fn_compatible. File ""<doctest scanpy.external.pp._scanorama_integrate.scanorama_integrate[6]>"", line 1 in <module>. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1334 in __run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1481 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1842 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/doctest.py"", line 304 in runtest. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 174 in pytest_runtest_call. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 267 in <lambda>. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 346 in from_call. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 266 in call_runtest_hook. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 227 in call_and_report. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 134 in runtestprotocol. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 115 in pytest_runtest_protocol. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:4248,modifiability,pac,packages,4248,"pp._scanorama_integrate.scanorama_integrate[6]>"", line 1 in <module>. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1334 in __run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1481 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1842 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/doctest.py"", line 304 in runtest. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 174 in pytest_runtest_call. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 267 in <lambda>. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 346 in from_call. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 266 in call_runtest_hook. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 227 in call_and_report. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 134 in runtestprotocol. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 115 in pytest_runtest_protocol. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:4363,modifiability,pac,packages,4363,"lib/python3.9/doctest.py"", line 1334 in __run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1481 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1842 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/doctest.py"", line 304 in runtest. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 174 in pytest_runtest_call. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 267 in <lambda>. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 346 in from_call. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 266 in call_runtest_hook. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 227 in call_and_report. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 134 in runtestprotocol. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 115 in pytest_runtest_protocol. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 352 in py",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:4479,modifiability,pac,packages,4479,""", line 1481 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1842 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/doctest.py"", line 304 in runtest. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 174 in pytest_runtest_call. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 267 in <lambda>. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 346 in from_call. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 266 in call_runtest_hook. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 227 in call_and_report. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 134 in runtestprotocol. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 115 in pytest_runtest_protocol. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 352 in pytest_runtestloop. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:4603,modifiability,pac,packages,4603,"stedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/doctest.py"", line 304 in runtest. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 174 in pytest_runtest_call. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 267 in <lambda>. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 346 in from_call. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 266 in call_runtest_hook. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 227 in call_and_report. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 134 in runtestprotocol. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 115 in pytest_runtest_protocol. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 352 in pytest_runtestloop. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 i",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:4725,modifiability,pac,packages,4725,"lcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 174 in pytest_runtest_call. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 267 in <lambda>. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 346 in from_call. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 266 in call_runtest_hook. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 227 in call_and_report. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 134 in runtestprotocol. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 115 in pytest_runtest_protocol. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 352 in pytest_runtestloop. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __cal",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:4847,modifiability,pac,packages,4847,"dtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 267 in <lambda>. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 346 in from_call. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 266 in call_runtest_hook. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 227 in call_and_report. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 134 in runtestprotocol. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 115 in pytest_runtest_protocol. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 352 in pytest_runtestloop. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 327 in _main. File ""/",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:4977,modifiability,pac,packages,4977,"ython/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 267 in <lambda>. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 346 in from_call. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 266 in call_runtest_hook. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 227 in call_and_report. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 134 in runtestprotocol. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 115 in pytest_runtest_protocol. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 352 in pytest_runtestloop. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 327 in _main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 273 in wrap_session. File ""/opt/hostedtoo",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:5095,modifiability,pac,packages,5095,"thon/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 267 in <lambda>. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 346 in from_call. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 266 in call_runtest_hook. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 227 in call_and_report. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 134 in runtestprotocol. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 115 in pytest_runtest_protocol. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 352 in pytest_runtestloop. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 327 in _main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 273 in wrap_session. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 320 in pytest_cmdline_main. File ""/opt/hos",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:5212,modifiability,pac,packages,5212,"n/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 267 in <lambda>. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 346 in from_call. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 266 in call_runtest_hook. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 227 in call_and_report. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 134 in runtestprotocol. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 115 in pytest_runtest_protocol. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 352 in pytest_runtestloop. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 327 in _main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 273 in wrap_session. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 320 in pytest_cmdline_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/ho",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:5326,modifiability,pac,packages,5326,"on/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 346 in from_call. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 266 in call_runtest_hook. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 227 in call_and_report. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 134 in runtestprotocol. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 115 in pytest_runtest_protocol. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 352 in pytest_runtestloop. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 327 in _main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 273 in wrap_session. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 320 in pytest_cmdline_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:5449,modifiability,pac,packages,5449,"18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 266 in call_runtest_hook. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 227 in call_and_report. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 134 in runtestprotocol. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 115 in pytest_runtest_protocol. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 352 in pytest_runtestloop. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 327 in _main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 273 in wrap_session. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 320 in pytest_cmdline_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedto",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:5567,modifiability,pac,packages,5567,"n/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 227 in call_and_report. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 134 in runtestprotocol. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 115 in pytest_runtest_protocol. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 352 in pytest_runtestloop. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 327 in _main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 273 in wrap_session. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 320 in pytest_cmdline_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 175 in main. File ""/opt/hosted",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:5684,modifiability,pac,packages,5684,"Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 134 in runtestprotocol. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 115 in pytest_runtest_protocol. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 352 in pytest_runtestloop. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 327 in _main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 273 in wrap_session. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 320 in pytest_cmdline_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 175 in main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 198 in console_main. File """,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:5798,modifiability,pac,packages,5798,"olcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 115 in pytest_runtest_protocol. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 352 in pytest_runtestloop. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 327 in _main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 273 in wrap_session. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 320 in pytest_cmdline_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 175 in main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 198 in console_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/bin/pytest"", line 8 in <module>. /home/vsts/work/_temp/1dc6f140-196e-4393-a",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:5908,modifiability,pac,packages,5908," File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 352 in pytest_runtestloop. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 327 in _main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 273 in wrap_session. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 320 in pytest_cmdline_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 175 in main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 198 in console_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/bin/pytest"", line 8 in <module>. /home/vsts/work/_temp/1dc6f140-196e-4393-a84a-ebdaa5dcda61.sh: line 1: 1811 Illegal instruction (core dumped) pytest. ##[error]Bash exited with code '13",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:6025,modifiability,pac,packages,6025,". File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 352 in pytest_runtestloop. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 327 in _main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 273 in wrap_session. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 320 in pytest_cmdline_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 175 in main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 198 in console_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/bin/pytest"", line 8 in <module>. /home/vsts/work/_temp/1dc6f140-196e-4393-a84a-ebdaa5dcda61.sh: line 1: 1811 Illegal instruction (core dumped) pytest. ##[error]Bash exited with code '132'. ##[section]Finishing: PyTest. ```. ### Versions. <details>. ```. anndata 0.10.5.post1. annoy 1.17.3. array_api_co",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:6149,modifiability,pac,packages,6149,"""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 352 in pytest_runtestloop. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 327 in _main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 273 in wrap_session. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 320 in pytest_cmdline_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 175 in main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 198 in console_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/bin/pytest"", line 8 in <module>. /home/vsts/work/_temp/1dc6f140-196e-4393-a84a-ebdaa5dcda61.sh: line 1: 1811 Illegal instruction (core dumped) pytest. ##[error]Bash exited with code '132'. ##[section]Finishing: PyTest. ```. ### Versions. <details>. ```. anndata 0.10.5.post1. annoy 1.17.3. array_api_compat 1.4.1. asciitree 0.3.3. attrs 23.2.0. cfgv 3.4.0. click 8.1.7. cloudpickle 3.0.0. contourpy 1.2.0. coverage 7.4.1. cycl",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:6267,modifiability,pac,packages,6267,"t/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 352 in pytest_runtestloop. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 327 in _main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 273 in wrap_session. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 320 in pytest_cmdline_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 175 in main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 198 in console_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/bin/pytest"", line 8 in <module>. /home/vsts/work/_temp/1dc6f140-196e-4393-a84a-ebdaa5dcda61.sh: line 1: 1811 Illegal instruction (core dumped) pytest. ##[error]Bash exited with code '132'. ##[section]Finishing: PyTest. ```. ### Versions. <details>. ```. anndata 0.10.5.post1. annoy 1.17.3. array_api_compat 1.4.1. asciitree 0.3.3. attrs 23.2.0. cfgv 3.4.0. click 8.1.7. cloudpickle 3.0.0. contourpy 1.2.0. coverage 7.4.1. cycler 0.12.1. dask 2024.2.0. dask-glm 0.3.2. dask-ml 2023.3.24. decorator 5.1.1. Deprecated 1.2.14. distlib 0.3.8. distri",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:6384,modifiability,pac,packages,6384,"e ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 327 in _main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 273 in wrap_session. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 320 in pytest_cmdline_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 175 in main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 198 in console_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/bin/pytest"", line 8 in <module>. /home/vsts/work/_temp/1dc6f140-196e-4393-a84a-ebdaa5dcda61.sh: line 1: 1811 Illegal instruction (core dumped) pytest. ##[error]Bash exited with code '132'. ##[section]Finishing: PyTest. ```. ### Versions. <details>. ```. anndata 0.10.5.post1. annoy 1.17.3. array_api_compat 1.4.1. asciitree 0.3.3. attrs 23.2.0. cfgv 3.4.0. click 8.1.7. cloudpickle 3.0.0. contourpy 1.2.0. coverage 7.4.1. cycler 0.12.1. dask 2024.2.0. dask-glm 0.3.2. dask-ml 2023.3.24. decorator 5.1.1. Deprecated 1.2.14. distlib 0.3.8. distributed 2024.2.0. exceptiongroup 1.2.0. fasteners 0.19. fbpca 1.0. filelock 3.13.1. fonttools 4.49.0. fsspec 2024.2.0. ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:6498,modifiability,pac,packages,6498," File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 327 in _main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 273 in wrap_session. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 320 in pytest_cmdline_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 175 in main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 198 in console_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/bin/pytest"", line 8 in <module>. /home/vsts/work/_temp/1dc6f140-196e-4393-a84a-ebdaa5dcda61.sh: line 1: 1811 Illegal instruction (core dumped) pytest. ##[error]Bash exited with code '132'. ##[section]Finishing: PyTest. ```. ### Versions. <details>. ```. anndata 0.10.5.post1. annoy 1.17.3. array_api_compat 1.4.1. asciitree 0.3.3. attrs 23.2.0. cfgv 3.4.0. click 8.1.7. cloudpickle 3.0.0. contourpy 1.2.0. coverage 7.4.1. cycler 0.12.1. dask 2024.2.0. dask-glm 0.3.2. dask-ml 2023.3.24. decorator 5.1.1. Deprecated 1.2.14. distlib 0.3.8. distributed 2024.2.0. exceptiongroup 1.2.0. fasteners 0.19. fbpca 1.0. filelock 3.13.1. fonttools 4.49.0. fsspec 2024.2.0. future 0.18.3. geosketch 1.2. get-annotations 0.1.2. graphtools 1.5.3. h5py 3.10.0. harmonypy 0.0.9. identify 2.5.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:6618,modifiability,pac,packages,6618,"le ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 327 in _main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 273 in wrap_session. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 320 in pytest_cmdline_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 175 in main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 198 in console_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/bin/pytest"", line 8 in <module>. /home/vsts/work/_temp/1dc6f140-196e-4393-a84a-ebdaa5dcda61.sh: line 1: 1811 Illegal instruction (core dumped) pytest. ##[error]Bash exited with code '132'. ##[section]Finishing: PyTest. ```. ### Versions. <details>. ```. anndata 0.10.5.post1. annoy 1.17.3. array_api_compat 1.4.1. asciitree 0.3.3. attrs 23.2.0. cfgv 3.4.0. click 8.1.7. cloudpickle 3.0.0. contourpy 1.2.0. coverage 7.4.1. cycler 0.12.1. dask 2024.2.0. dask-glm 0.3.2. dask-ml 2023.3.24. decorator 5.1.1. Deprecated 1.2.14. distlib 0.3.8. distributed 2024.2.0. exceptiongroup 1.2.0. fasteners 0.19. fbpca 1.0. filelock 3.13.1. fonttools 4.49.0. fsspec 2024.2.0. future 0.18.3. geosketch 1.2. get-annotations 0.1.2. graphtools 1.5.3. h5py 3.10.0. harmonypy 0.0.9. identify 2.5.35. igraph 0.11.4. imageio 2.34.0. importlib-metadata 7.0.1. importlib-resources 6.1.1. iniconfig 2.0.0. intervaltree 3.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:6751,modifiability,modul,module,6751,"lcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 327 in _main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 273 in wrap_session. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 320 in pytest_cmdline_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 175 in main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 198 in console_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/bin/pytest"", line 8 in <module>. /home/vsts/work/_temp/1dc6f140-196e-4393-a84a-ebdaa5dcda61.sh: line 1: 1811 Illegal instruction (core dumped) pytest. ##[error]Bash exited with code '132'. ##[section]Finishing: PyTest. ```. ### Versions. <details>. ```. anndata 0.10.5.post1. annoy 1.17.3. array_api_compat 1.4.1. asciitree 0.3.3. attrs 23.2.0. cfgv 3.4.0. click 8.1.7. cloudpickle 3.0.0. contourpy 1.2.0. coverage 7.4.1. cycler 0.12.1. dask 2024.2.0. dask-glm 0.3.2. dask-ml 2023.3.24. decorator 5.1.1. Deprecated 1.2.14. distlib 0.3.8. distributed 2024.2.0. exceptiongroup 1.2.0. fasteners 0.19. fbpca 1.0. filelock 3.13.1. fonttools 4.49.0. fsspec 2024.2.0. future 0.18.3. geosketch 1.2. get-annotations 0.1.2. graphtools 1.5.3. h5py 3.10.0. harmonypy 0.0.9. identify 2.5.35. igraph 0.11.4. imageio 2.34.0. importlib-metadata 7.0.1. importlib-resources 6.1.1. iniconfig 2.0.0. intervaltree 3.1.0. Jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. lazy_loader 0.3. legacy-api-wrap 1.4. leidenalg 0.10.2. llvmlite 0.42.0. locket 1",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:6955,modifiability,Version,Versions,6955,". File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 320 in pytest_cmdline_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 175 in main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 198 in console_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/bin/pytest"", line 8 in <module>. /home/vsts/work/_temp/1dc6f140-196e-4393-a84a-ebdaa5dcda61.sh: line 1: 1811 Illegal instruction (core dumped) pytest. ##[error]Bash exited with code '132'. ##[section]Finishing: PyTest. ```. ### Versions. <details>. ```. anndata 0.10.5.post1. annoy 1.17.3. array_api_compat 1.4.1. asciitree 0.3.3. attrs 23.2.0. cfgv 3.4.0. click 8.1.7. cloudpickle 3.0.0. contourpy 1.2.0. coverage 7.4.1. cycler 0.12.1. dask 2024.2.0. dask-glm 0.3.2. dask-ml 2023.3.24. decorator 5.1.1. Deprecated 1.2.14. distlib 0.3.8. distributed 2024.2.0. exceptiongroup 1.2.0. fasteners 0.19. fbpca 1.0. filelock 3.13.1. fonttools 4.49.0. fsspec 2024.2.0. future 0.18.3. geosketch 1.2. get-annotations 0.1.2. graphtools 1.5.3. h5py 3.10.0. harmonypy 0.0.9. identify 2.5.35. igraph 0.11.4. imageio 2.34.0. importlib-metadata 7.0.1. importlib-resources 6.1.1. iniconfig 2.0.0. intervaltree 3.1.0. Jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. lazy_loader 0.3. legacy-api-wrap 1.4. leidenalg 0.10.2. llvmlite 0.42.0. locket 1.0.0. magic-impute 3.0.0. MarkupSafe 2.1.5. matplotlib 3.8.3. msgpack 1.0.7. multipledispatch 1.0.0. natsort 8.4.0. networkx 3.2.1. nodeenv 1.8.0. numba 0.59.0. numcodecs 0.12.1. numpy 1.26.4. packaging 23",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:7214,modifiability,deco,decorator,7214,"dtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 175 in main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 198 in console_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/bin/pytest"", line 8 in <module>. /home/vsts/work/_temp/1dc6f140-196e-4393-a84a-ebdaa5dcda61.sh: line 1: 1811 Illegal instruction (core dumped) pytest. ##[error]Bash exited with code '132'. ##[section]Finishing: PyTest. ```. ### Versions. <details>. ```. anndata 0.10.5.post1. annoy 1.17.3. array_api_compat 1.4.1. asciitree 0.3.3. attrs 23.2.0. cfgv 3.4.0. click 8.1.7. cloudpickle 3.0.0. contourpy 1.2.0. coverage 7.4.1. cycler 0.12.1. dask 2024.2.0. dask-glm 0.3.2. dask-ml 2023.3.24. decorator 5.1.1. Deprecated 1.2.14. distlib 0.3.8. distributed 2024.2.0. exceptiongroup 1.2.0. fasteners 0.19. fbpca 1.0. filelock 3.13.1. fonttools 4.49.0. fsspec 2024.2.0. future 0.18.3. geosketch 1.2. get-annotations 0.1.2. graphtools 1.5.3. h5py 3.10.0. harmonypy 0.0.9. identify 2.5.35. igraph 0.11.4. imageio 2.34.0. importlib-metadata 7.0.1. importlib-resources 6.1.1. iniconfig 2.0.0. intervaltree 3.1.0. Jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. lazy_loader 0.3. legacy-api-wrap 1.4. leidenalg 0.10.2. llvmlite 0.42.0. locket 1.0.0. magic-impute 3.0.0. MarkupSafe 2.1.5. matplotlib 3.8.3. msgpack 1.0.7. multipledispatch 1.0.0. natsort 8.4.0. networkx 3.2.1. nodeenv 1.8.0. numba 0.59.0. numcodecs 0.12.1. numpy 1.26.4. packaging 23.2. pandas 2.0.3. partd 1.4.1. patsy 0.5.6. pbr 6.0.0. pillow 10.2.0. pip 24.0. platformdirs 4.2.0. pluggy 1.4.0. pre-commit 3.6.2. profimp 0.1.0. psutil 5.9.8. PyGSP 0.5.1. pynndescent 0.5.11. pyparsing 3.1.1. pytest 8.0.1. pytest-mock 3.12.0. pytest-nunit 1.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:7947,modifiability,pac,packaging,7947,h code '132'. ##[section]Finishing: PyTest. ```. ### Versions. <details>. ```. anndata 0.10.5.post1. annoy 1.17.3. array_api_compat 1.4.1. asciitree 0.3.3. attrs 23.2.0. cfgv 3.4.0. click 8.1.7. cloudpickle 3.0.0. contourpy 1.2.0. coverage 7.4.1. cycler 0.12.1. dask 2024.2.0. dask-glm 0.3.2. dask-ml 2023.3.24. decorator 5.1.1. Deprecated 1.2.14. distlib 0.3.8. distributed 2024.2.0. exceptiongroup 1.2.0. fasteners 0.19. fbpca 1.0. filelock 3.13.1. fonttools 4.49.0. fsspec 2024.2.0. future 0.18.3. geosketch 1.2. get-annotations 0.1.2. graphtools 1.5.3. h5py 3.10.0. harmonypy 0.0.9. identify 2.5.35. igraph 0.11.4. imageio 2.34.0. importlib-metadata 7.0.1. importlib-resources 6.1.1. iniconfig 2.0.0. intervaltree 3.1.0. Jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. lazy_loader 0.3. legacy-api-wrap 1.4. leidenalg 0.10.2. llvmlite 0.42.0. locket 1.0.0. magic-impute 3.0.0. MarkupSafe 2.1.5. matplotlib 3.8.3. msgpack 1.0.7. multipledispatch 1.0.0. natsort 8.4.0. networkx 3.2.1. nodeenv 1.8.0. numba 0.59.0. numcodecs 0.12.1. numpy 1.26.4. packaging 23.2. pandas 2.0.3. partd 1.4.1. patsy 0.5.6. pbr 6.0.0. pillow 10.2.0. pip 24.0. platformdirs 4.2.0. pluggy 1.4.0. pre-commit 3.6.2. profimp 0.1.0. psutil 5.9.8. PyGSP 0.5.1. pynndescent 0.5.11. pyparsing 3.1.1. pytest 8.0.1. pytest-mock 3.12.0. pytest-nunit 1.0.6. python-dateutil 2.8.2. pytz 2024.1. PyYAML 6.0.1. scanorama 1.7.4. scanpy 1.10.0.dev220+g534145f6. scikit-image 0.22.0. scikit-learn 1.4.1.post1. scikit-misc 0.3.1. scipy 1.12.0. scprep 1.2.3. seaborn 0.13.2. session-info 1.0.0. setuptools 58.1.0. setuptools-scm 8.0.4. six 1.16.0. sortedcontainers 2.4.0. sparse 0.15.1. statsmodels 0.14.1. stdlib-list 0.10.0. tasklogger 1.2.0. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.3.0. tifffile 2024.2.12. tomli 2.0.1. toolz 0.12.1. tornado 6.4. tqdm 4.66.2. typing_extensions 4.9.0. tzdata 2024.1. umap-learn 0.5.5. urllib3 2.2.1. virtualenv 20.25.0. wheel 0.42.0. wrapt 1.16.0. zarr 2.17.0. zict 3.0.0. zipp 3.17.0. ```. </details>.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:482,performance,error,error,482,"Scanorama causing segfault on CI (Python 3.9); ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? The test suite keeps failing with a segfault on the `python=3.9` build. I haven't been able to reproduce locally. Interestingly, I haven't seen it error when I rerun the check. It looks like this always happens during the call to `nn_approx`. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. platform linux -- Python 3.9.18, pytest-8.0.1, pluggy-1.4.0 -- /opt/hostedtoolcache/Python/3.9.18/x64/bin/python. cachedir: .pytest_cache. rootdir: /home/vsts/work/1/s. configfile: pyproject.toml. testpaths: scanpy. plugins: nunit-1.0.6, mock-3.12.0. [1mcollecting ... [0mcollected 1474 items. scanpy/_utils/compute/is_constant.py::scanpy._utils.compute.is_constant.is_constant [32mPASSED[0m[32m [ 0%][0m. scanpy/datasets/_ebi_expression_atlas.py::scanpy.datasets._ebi_expression_atlas.ebi_expression_atlas [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pl.py::scanpy.external.pl.phate [33mSKIPPED[0m (needs modul...)[32m [ 0%][0m. scanpy/external/pp/_bbknn.py::scanpy.external.pp._bbknn.bbknn [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_harmony_integrate.py::scanpy.external.pp._harmony_integrate.harmony_integrate [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_hashsolo.py::scanpy.external.pp._hashsolo.hashsolo [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_magic.py::scanpy.external.pp._magic.magic [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_scanorama_integrate.py::scanpy.external.pp._scanorama_integrate.scanorama_integrate Fatal Python error: Illegal instruction. Thread 0x00007f00347c4640 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 316 in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:627,performance,Error,Error,627,"Scanorama causing segfault on CI (Python 3.9); ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? The test suite keeps failing with a segfault on the `python=3.9` build. I haven't been able to reproduce locally. Interestingly, I haven't seen it error when I rerun the check. It looks like this always happens during the call to `nn_approx`. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. platform linux -- Python 3.9.18, pytest-8.0.1, pluggy-1.4.0 -- /opt/hostedtoolcache/Python/3.9.18/x64/bin/python. cachedir: .pytest_cache. rootdir: /home/vsts/work/1/s. configfile: pyproject.toml. testpaths: scanpy. plugins: nunit-1.0.6, mock-3.12.0. [1mcollecting ... [0mcollected 1474 items. scanpy/_utils/compute/is_constant.py::scanpy._utils.compute.is_constant.is_constant [32mPASSED[0m[32m [ 0%][0m. scanpy/datasets/_ebi_expression_atlas.py::scanpy.datasets._ebi_expression_atlas.ebi_expression_atlas [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pl.py::scanpy.external.pl.phate [33mSKIPPED[0m (needs modul...)[32m [ 0%][0m. scanpy/external/pp/_bbknn.py::scanpy.external.pp._bbknn.bbknn [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_harmony_integrate.py::scanpy.external.pp._harmony_integrate.harmony_integrate [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_hashsolo.py::scanpy.external.pp._hashsolo.hashsolo [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_magic.py::scanpy.external.pp._magic.magic [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_scanorama_integrate.py::scanpy.external.pp._scanorama_integrate.scanorama_integrate Fatal Python error: Illegal instruction. Thread 0x00007f00347c4640 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 316 in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:764,performance,cach,cachedir,764,"Scanorama causing segfault on CI (Python 3.9); ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? The test suite keeps failing with a segfault on the `python=3.9` build. I haven't been able to reproduce locally. Interestingly, I haven't seen it error when I rerun the check. It looks like this always happens during the call to `nn_approx`. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. platform linux -- Python 3.9.18, pytest-8.0.1, pluggy-1.4.0 -- /opt/hostedtoolcache/Python/3.9.18/x64/bin/python. cachedir: .pytest_cache. rootdir: /home/vsts/work/1/s. configfile: pyproject.toml. testpaths: scanpy. plugins: nunit-1.0.6, mock-3.12.0. [1mcollecting ... [0mcollected 1474 items. scanpy/_utils/compute/is_constant.py::scanpy._utils.compute.is_constant.is_constant [32mPASSED[0m[32m [ 0%][0m. scanpy/datasets/_ebi_expression_atlas.py::scanpy.datasets._ebi_expression_atlas.ebi_expression_atlas [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pl.py::scanpy.external.pl.phate [33mSKIPPED[0m (needs modul...)[32m [ 0%][0m. scanpy/external/pp/_bbknn.py::scanpy.external.pp._bbknn.bbknn [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_harmony_integrate.py::scanpy.external.pp._harmony_integrate.harmony_integrate [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_hashsolo.py::scanpy.external.pp._hashsolo.hashsolo [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_magic.py::scanpy.external.pp._magic.magic [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_scanorama_integrate.py::scanpy.external.pp._scanorama_integrate.scanorama_integrate Fatal Python error: Illegal instruction. Thread 0x00007f00347c4640 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 316 in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:1833,performance,error,error,1833,"ject.toml. testpaths: scanpy. plugins: nunit-1.0.6, mock-3.12.0. [1mcollecting ... [0mcollected 1474 items. scanpy/_utils/compute/is_constant.py::scanpy._utils.compute.is_constant.is_constant [32mPASSED[0m[32m [ 0%][0m. scanpy/datasets/_ebi_expression_atlas.py::scanpy.datasets._ebi_expression_atlas.ebi_expression_atlas [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pl.py::scanpy.external.pl.phate [33mSKIPPED[0m (needs modul...)[32m [ 0%][0m. scanpy/external/pp/_bbknn.py::scanpy.external.pp._bbknn.bbknn [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_harmony_integrate.py::scanpy.external.pp._harmony_integrate.harmony_integrate [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_hashsolo.py::scanpy.external.pp._hashsolo.hashsolo [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_magic.py::scanpy.external.pp._magic.magic [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_scanorama_integrate.py::scanpy.external.pp._scanorama_integrate.scanorama_integrate Fatal Python error: Illegal instruction. Thread 0x00007f00347c4640 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 316 in wait. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 581 in wait. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/tqdm/_monitor.py"", line 60 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 980 in _bootstrap_inner. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 937 in _bootstrap. Current thread 0x00007f004e08eb80 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 522 in nn_approx. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 590 in fill_table. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 631 in find_alignment",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:6881,performance,error,error,6881,"/x64/lib/python3.9/site-packages/_pytest/main.py"", line 273 in wrap_session. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 320 in pytest_cmdline_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 175 in main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 198 in console_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/bin/pytest"", line 8 in <module>. /home/vsts/work/_temp/1dc6f140-196e-4393-a84a-ebdaa5dcda61.sh: line 1: 1811 Illegal instruction (core dumped) pytest. ##[error]Bash exited with code '132'. ##[section]Finishing: PyTest. ```. ### Versions. <details>. ```. anndata 0.10.5.post1. annoy 1.17.3. array_api_compat 1.4.1. asciitree 0.3.3. attrs 23.2.0. cfgv 3.4.0. click 8.1.7. cloudpickle 3.0.0. contourpy 1.2.0. coverage 7.4.1. cycler 0.12.1. dask 2024.2.0. dask-glm 0.3.2. dask-ml 2023.3.24. decorator 5.1.1. Deprecated 1.2.14. distlib 0.3.8. distributed 2024.2.0. exceptiongroup 1.2.0. fasteners 0.19. fbpca 1.0. filelock 3.13.1. fonttools 4.49.0. fsspec 2024.2.0. future 0.18.3. geosketch 1.2. get-annotations 0.1.2. graphtools 1.5.3. h5py 3.10.0. harmonypy 0.0.9. identify 2.5.35. igraph 0.11.4. imageio 2.34.0. importlib-metadata 7.0.1. importlib-resources 6.1.1. iniconfig 2.0.0. intervaltree 3.1.0. Jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. lazy_loader 0.3. legacy-api-wrap 1.4. leidenalg 0.10.2. llvmlite 0.42.0. locket 1.0.0. magic-impute 3.0.0. MarkupSafe 2.1.5. matplotlib 3.8.3. msgpack 1.0.7. multipledispatch 1.0.0. natsort 8.4.0. networkx 3.2.1",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:7573,performance,resourc,resources,7573,"he/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 198 in console_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/bin/pytest"", line 8 in <module>. /home/vsts/work/_temp/1dc6f140-196e-4393-a84a-ebdaa5dcda61.sh: line 1: 1811 Illegal instruction (core dumped) pytest. ##[error]Bash exited with code '132'. ##[section]Finishing: PyTest. ```. ### Versions. <details>. ```. anndata 0.10.5.post1. annoy 1.17.3. array_api_compat 1.4.1. asciitree 0.3.3. attrs 23.2.0. cfgv 3.4.0. click 8.1.7. cloudpickle 3.0.0. contourpy 1.2.0. coverage 7.4.1. cycler 0.12.1. dask 2024.2.0. dask-glm 0.3.2. dask-ml 2023.3.24. decorator 5.1.1. Deprecated 1.2.14. distlib 0.3.8. distributed 2024.2.0. exceptiongroup 1.2.0. fasteners 0.19. fbpca 1.0. filelock 3.13.1. fonttools 4.49.0. fsspec 2024.2.0. future 0.18.3. geosketch 1.2. get-annotations 0.1.2. graphtools 1.5.3. h5py 3.10.0. harmonypy 0.0.9. identify 2.5.35. igraph 0.11.4. imageio 2.34.0. importlib-metadata 7.0.1. importlib-resources 6.1.1. iniconfig 2.0.0. intervaltree 3.1.0. Jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. lazy_loader 0.3. legacy-api-wrap 1.4. leidenalg 0.10.2. llvmlite 0.42.0. locket 1.0.0. magic-impute 3.0.0. MarkupSafe 2.1.5. matplotlib 3.8.3. msgpack 1.0.7. multipledispatch 1.0.0. natsort 8.4.0. networkx 3.2.1. nodeenv 1.8.0. numba 0.59.0. numcodecs 0.12.1. numpy 1.26.4. packaging 23.2. pandas 2.0.3. partd 1.4.1. patsy 0.5.6. pbr 6.0.0. pillow 10.2.0. pip 24.0. platformdirs 4.2.0. pluggy 1.4.0. pre-commit 3.6.2. profimp 0.1.0. psutil 5.9.8. PyGSP 0.5.1. pynndescent 0.5.11. pyparsing 3.1.1. pytest 8.0.1. pytest-mock 3.12.0. pytest-nunit 1.0.6. python-dateutil 2.8.2. pytz 2024.1. PyYAML 6.0.1. scanorama 1.7.4. scanpy 1.10.0.dev220+g534145f6. scikit-image 0.22.0. scikit-learn 1.4.1.post1. scikit-misc 0.3.1. scipy 1.12.0. scprep 1.2.3. seaborn 0.13.2. session-info 1.0.0. setuptools 58.1.0. setuptools-scm 8.0.4. six 1.16.0. sortedcontainers 2.4.0. sparse 0.15.1. statsmodels 0.14.1. stdlib-list 0",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:7746,performance,lock,locket,7746, <module>. /home/vsts/work/_temp/1dc6f140-196e-4393-a84a-ebdaa5dcda61.sh: line 1: 1811 Illegal instruction (core dumped) pytest. ##[error]Bash exited with code '132'. ##[section]Finishing: PyTest. ```. ### Versions. <details>. ```. anndata 0.10.5.post1. annoy 1.17.3. array_api_compat 1.4.1. asciitree 0.3.3. attrs 23.2.0. cfgv 3.4.0. click 8.1.7. cloudpickle 3.0.0. contourpy 1.2.0. coverage 7.4.1. cycler 0.12.1. dask 2024.2.0. dask-glm 0.3.2. dask-ml 2023.3.24. decorator 5.1.1. Deprecated 1.2.14. distlib 0.3.8. distributed 2024.2.0. exceptiongroup 1.2.0. fasteners 0.19. fbpca 1.0. filelock 3.13.1. fonttools 4.49.0. fsspec 2024.2.0. future 0.18.3. geosketch 1.2. get-annotations 0.1.2. graphtools 1.5.3. h5py 3.10.0. harmonypy 0.0.9. identify 2.5.35. igraph 0.11.4. imageio 2.34.0. importlib-metadata 7.0.1. importlib-resources 6.1.1. iniconfig 2.0.0. intervaltree 3.1.0. Jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. lazy_loader 0.3. legacy-api-wrap 1.4. leidenalg 0.10.2. llvmlite 0.42.0. locket 1.0.0. magic-impute 3.0.0. MarkupSafe 2.1.5. matplotlib 3.8.3. msgpack 1.0.7. multipledispatch 1.0.0. natsort 8.4.0. networkx 3.2.1. nodeenv 1.8.0. numba 0.59.0. numcodecs 0.12.1. numpy 1.26.4. packaging 23.2. pandas 2.0.3. partd 1.4.1. patsy 0.5.6. pbr 6.0.0. pillow 10.2.0. pip 24.0. platformdirs 4.2.0. pluggy 1.4.0. pre-commit 3.6.2. profimp 0.1.0. psutil 5.9.8. PyGSP 0.5.1. pynndescent 0.5.11. pyparsing 3.1.1. pytest 8.0.1. pytest-mock 3.12.0. pytest-nunit 1.0.6. python-dateutil 2.8.2. pytz 2024.1. PyYAML 6.0.1. scanorama 1.7.4. scanpy 1.10.0.dev220+g534145f6. scikit-image 0.22.0. scikit-learn 1.4.1.post1. scikit-misc 0.3.1. scipy 1.12.0. scprep 1.2.3. seaborn 0.13.2. session-info 1.0.0. setuptools 58.1.0. setuptools-scm 8.0.4. six 1.16.0. sortedcontainers 2.4.0. sparse 0.15.1. statsmodels 0.14.1. stdlib-list 0.10.0. tasklogger 1.2.0. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.3.0. tifffile 2024.2.12. tomli 2.0.1. toolz 0.12.1. tornado 6.4. tqdm 4.66.2. typing_extensions 4.9.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:7870,performance,network,networkx,7870,st. ##[error]Bash exited with code '132'. ##[section]Finishing: PyTest. ```. ### Versions. <details>. ```. anndata 0.10.5.post1. annoy 1.17.3. array_api_compat 1.4.1. asciitree 0.3.3. attrs 23.2.0. cfgv 3.4.0. click 8.1.7. cloudpickle 3.0.0. contourpy 1.2.0. coverage 7.4.1. cycler 0.12.1. dask 2024.2.0. dask-glm 0.3.2. dask-ml 2023.3.24. decorator 5.1.1. Deprecated 1.2.14. distlib 0.3.8. distributed 2024.2.0. exceptiongroup 1.2.0. fasteners 0.19. fbpca 1.0. filelock 3.13.1. fonttools 4.49.0. fsspec 2024.2.0. future 0.18.3. geosketch 1.2. get-annotations 0.1.2. graphtools 1.5.3. h5py 3.10.0. harmonypy 0.0.9. identify 2.5.35. igraph 0.11.4. imageio 2.34.0. importlib-metadata 7.0.1. importlib-resources 6.1.1. iniconfig 2.0.0. intervaltree 3.1.0. Jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. lazy_loader 0.3. legacy-api-wrap 1.4. leidenalg 0.10.2. llvmlite 0.42.0. locket 1.0.0. magic-impute 3.0.0. MarkupSafe 2.1.5. matplotlib 3.8.3. msgpack 1.0.7. multipledispatch 1.0.0. natsort 8.4.0. networkx 3.2.1. nodeenv 1.8.0. numba 0.59.0. numcodecs 0.12.1. numpy 1.26.4. packaging 23.2. pandas 2.0.3. partd 1.4.1. patsy 0.5.6. pbr 6.0.0. pillow 10.2.0. pip 24.0. platformdirs 4.2.0. pluggy 1.4.0. pre-commit 3.6.2. profimp 0.1.0. psutil 5.9.8. PyGSP 0.5.1. pynndescent 0.5.11. pyparsing 3.1.1. pytest 8.0.1. pytest-mock 3.12.0. pytest-nunit 1.0.6. python-dateutil 2.8.2. pytz 2024.1. PyYAML 6.0.1. scanorama 1.7.4. scanpy 1.10.0.dev220+g534145f6. scikit-image 0.22.0. scikit-learn 1.4.1.post1. scikit-misc 0.3.1. scipy 1.12.0. scprep 1.2.3. seaborn 0.13.2. session-info 1.0.0. setuptools 58.1.0. setuptools-scm 8.0.4. six 1.16.0. sortedcontainers 2.4.0. sparse 0.15.1. statsmodels 0.14.1. stdlib-list 0.10.0. tasklogger 1.2.0. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.3.0. tifffile 2024.2.12. tomli 2.0.1. toolz 0.12.1. tornado 6.4. tqdm 4.66.2. typing_extensions 4.9.0. tzdata 2024.1. umap-learn 0.5.5. urllib3 2.2.1. virtualenv 20.25.0. wheel 0.42.0. wrapt 1.16.0. zarr 2.17.0. zict 3.0.0. z,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:356,reliability,fail,failing,356,"Scanorama causing segfault on CI (Python 3.9); ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? The test suite keeps failing with a segfault on the `python=3.9` build. I haven't been able to reproduce locally. Interestingly, I haven't seen it error when I rerun the check. It looks like this always happens during the call to `nn_approx`. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. platform linux -- Python 3.9.18, pytest-8.0.1, pluggy-1.4.0 -- /opt/hostedtoolcache/Python/3.9.18/x64/bin/python. cachedir: .pytest_cache. rootdir: /home/vsts/work/1/s. configfile: pyproject.toml. testpaths: scanpy. plugins: nunit-1.0.6, mock-3.12.0. [1mcollecting ... [0mcollected 1474 items. scanpy/_utils/compute/is_constant.py::scanpy._utils.compute.is_constant.is_constant [32mPASSED[0m[32m [ 0%][0m. scanpy/datasets/_ebi_expression_atlas.py::scanpy.datasets._ebi_expression_atlas.ebi_expression_atlas [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pl.py::scanpy.external.pl.phate [33mSKIPPED[0m (needs modul...)[32m [ 0%][0m. scanpy/external/pp/_bbknn.py::scanpy.external.pp._bbknn.bbknn [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_harmony_integrate.py::scanpy.external.pp._harmony_integrate.harmony_integrate [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_hashsolo.py::scanpy.external.pp._hashsolo.hashsolo [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_magic.py::scanpy.external.pp._magic.magic [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_scanorama_integrate.py::scanpy.external.pp._scanorama_integrate.scanorama_integrate Fatal Python error: Illegal instruction. Thread 0x00007f00347c4640 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 316 in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:339,safety,test,test,339,"Scanorama causing segfault on CI (Python 3.9); ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? The test suite keeps failing with a segfault on the `python=3.9` build. I haven't been able to reproduce locally. Interestingly, I haven't seen it error when I rerun the check. It looks like this always happens during the call to `nn_approx`. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. platform linux -- Python 3.9.18, pytest-8.0.1, pluggy-1.4.0 -- /opt/hostedtoolcache/Python/3.9.18/x64/bin/python. cachedir: .pytest_cache. rootdir: /home/vsts/work/1/s. configfile: pyproject.toml. testpaths: scanpy. plugins: nunit-1.0.6, mock-3.12.0. [1mcollecting ... [0mcollected 1474 items. scanpy/_utils/compute/is_constant.py::scanpy._utils.compute.is_constant.is_constant [32mPASSED[0m[32m [ 0%][0m. scanpy/datasets/_ebi_expression_atlas.py::scanpy.datasets._ebi_expression_atlas.ebi_expression_atlas [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pl.py::scanpy.external.pl.phate [33mSKIPPED[0m (needs modul...)[32m [ 0%][0m. scanpy/external/pp/_bbknn.py::scanpy.external.pp._bbknn.bbknn [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_harmony_integrate.py::scanpy.external.pp._harmony_integrate.harmony_integrate [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_hashsolo.py::scanpy.external.pp._hashsolo.hashsolo [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_magic.py::scanpy.external.pp._magic.magic [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_scanorama_integrate.py::scanpy.external.pp._scanorama_integrate.scanorama_integrate Fatal Python error: Illegal instruction. Thread 0x00007f00347c4640 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 316 in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:482,safety,error,error,482,"Scanorama causing segfault on CI (Python 3.9); ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? The test suite keeps failing with a segfault on the `python=3.9` build. I haven't been able to reproduce locally. Interestingly, I haven't seen it error when I rerun the check. It looks like this always happens during the call to `nn_approx`. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. platform linux -- Python 3.9.18, pytest-8.0.1, pluggy-1.4.0 -- /opt/hostedtoolcache/Python/3.9.18/x64/bin/python. cachedir: .pytest_cache. rootdir: /home/vsts/work/1/s. configfile: pyproject.toml. testpaths: scanpy. plugins: nunit-1.0.6, mock-3.12.0. [1mcollecting ... [0mcollected 1474 items. scanpy/_utils/compute/is_constant.py::scanpy._utils.compute.is_constant.is_constant [32mPASSED[0m[32m [ 0%][0m. scanpy/datasets/_ebi_expression_atlas.py::scanpy.datasets._ebi_expression_atlas.ebi_expression_atlas [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pl.py::scanpy.external.pl.phate [33mSKIPPED[0m (needs modul...)[32m [ 0%][0m. scanpy/external/pp/_bbknn.py::scanpy.external.pp._bbknn.bbknn [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_harmony_integrate.py::scanpy.external.pp._harmony_integrate.harmony_integrate [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_hashsolo.py::scanpy.external.pp._hashsolo.hashsolo [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_magic.py::scanpy.external.pp._magic.magic [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_scanorama_integrate.py::scanpy.external.pp._scanorama_integrate.scanorama_integrate Fatal Python error: Illegal instruction. Thread 0x00007f00347c4640 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 316 in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:627,safety,Error,Error,627,"Scanorama causing segfault on CI (Python 3.9); ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? The test suite keeps failing with a segfault on the `python=3.9` build. I haven't been able to reproduce locally. Interestingly, I haven't seen it error when I rerun the check. It looks like this always happens during the call to `nn_approx`. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. platform linux -- Python 3.9.18, pytest-8.0.1, pluggy-1.4.0 -- /opt/hostedtoolcache/Python/3.9.18/x64/bin/python. cachedir: .pytest_cache. rootdir: /home/vsts/work/1/s. configfile: pyproject.toml. testpaths: scanpy. plugins: nunit-1.0.6, mock-3.12.0. [1mcollecting ... [0mcollected 1474 items. scanpy/_utils/compute/is_constant.py::scanpy._utils.compute.is_constant.is_constant [32mPASSED[0m[32m [ 0%][0m. scanpy/datasets/_ebi_expression_atlas.py::scanpy.datasets._ebi_expression_atlas.ebi_expression_atlas [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pl.py::scanpy.external.pl.phate [33mSKIPPED[0m (needs modul...)[32m [ 0%][0m. scanpy/external/pp/_bbknn.py::scanpy.external.pp._bbknn.bbknn [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_harmony_integrate.py::scanpy.external.pp._harmony_integrate.harmony_integrate [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_hashsolo.py::scanpy.external.pp._hashsolo.hashsolo [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_magic.py::scanpy.external.pp._magic.magic [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_scanorama_integrate.py::scanpy.external.pp._scanorama_integrate.scanorama_integrate Fatal Python error: Illegal instruction. Thread 0x00007f00347c4640 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 316 in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:847,safety,test,testpaths,847,"Scanorama causing segfault on CI (Python 3.9); ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? The test suite keeps failing with a segfault on the `python=3.9` build. I haven't been able to reproduce locally. Interestingly, I haven't seen it error when I rerun the check. It looks like this always happens during the call to `nn_approx`. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. platform linux -- Python 3.9.18, pytest-8.0.1, pluggy-1.4.0 -- /opt/hostedtoolcache/Python/3.9.18/x64/bin/python. cachedir: .pytest_cache. rootdir: /home/vsts/work/1/s. configfile: pyproject.toml. testpaths: scanpy. plugins: nunit-1.0.6, mock-3.12.0. [1mcollecting ... [0mcollected 1474 items. scanpy/_utils/compute/is_constant.py::scanpy._utils.compute.is_constant.is_constant [32mPASSED[0m[32m [ 0%][0m. scanpy/datasets/_ebi_expression_atlas.py::scanpy.datasets._ebi_expression_atlas.ebi_expression_atlas [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pl.py::scanpy.external.pl.phate [33mSKIPPED[0m (needs modul...)[32m [ 0%][0m. scanpy/external/pp/_bbknn.py::scanpy.external.pp._bbknn.bbknn [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_harmony_integrate.py::scanpy.external.pp._harmony_integrate.harmony_integrate [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_hashsolo.py::scanpy.external.pp._hashsolo.hashsolo [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_magic.py::scanpy.external.pp._magic.magic [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_scanorama_integrate.py::scanpy.external.pp._scanorama_integrate.scanorama_integrate Fatal Python error: Illegal instruction. Thread 0x00007f00347c4640 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 316 in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:1267,safety,modul,modul,1267,"is bug exists on the master branch of scanpy. ### What happened? The test suite keeps failing with a segfault on the `python=3.9` build. I haven't been able to reproduce locally. Interestingly, I haven't seen it error when I rerun the check. It looks like this always happens during the call to `nn_approx`. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. platform linux -- Python 3.9.18, pytest-8.0.1, pluggy-1.4.0 -- /opt/hostedtoolcache/Python/3.9.18/x64/bin/python. cachedir: .pytest_cache. rootdir: /home/vsts/work/1/s. configfile: pyproject.toml. testpaths: scanpy. plugins: nunit-1.0.6, mock-3.12.0. [1mcollecting ... [0mcollected 1474 items. scanpy/_utils/compute/is_constant.py::scanpy._utils.compute.is_constant.is_constant [32mPASSED[0m[32m [ 0%][0m. scanpy/datasets/_ebi_expression_atlas.py::scanpy.datasets._ebi_expression_atlas.ebi_expression_atlas [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pl.py::scanpy.external.pl.phate [33mSKIPPED[0m (needs modul...)[32m [ 0%][0m. scanpy/external/pp/_bbknn.py::scanpy.external.pp._bbknn.bbknn [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_harmony_integrate.py::scanpy.external.pp._harmony_integrate.harmony_integrate [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_hashsolo.py::scanpy.external.pp._hashsolo.hashsolo [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_magic.py::scanpy.external.pp._magic.magic [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_scanorama_integrate.py::scanpy.external.pp._scanorama_integrate.scanorama_integrate Fatal Python error: Illegal instruction. Thread 0x00007f00347c4640 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 316 in wait. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 581 in wait. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/tqdm/_monitor.py"", line 60 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threa",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:1833,safety,error,error,1833,"ject.toml. testpaths: scanpy. plugins: nunit-1.0.6, mock-3.12.0. [1mcollecting ... [0mcollected 1474 items. scanpy/_utils/compute/is_constant.py::scanpy._utils.compute.is_constant.is_constant [32mPASSED[0m[32m [ 0%][0m. scanpy/datasets/_ebi_expression_atlas.py::scanpy.datasets._ebi_expression_atlas.ebi_expression_atlas [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pl.py::scanpy.external.pl.phate [33mSKIPPED[0m (needs modul...)[32m [ 0%][0m. scanpy/external/pp/_bbknn.py::scanpy.external.pp._bbknn.bbknn [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_harmony_integrate.py::scanpy.external.pp._harmony_integrate.harmony_integrate [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_hashsolo.py::scanpy.external.pp._hashsolo.hashsolo [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_magic.py::scanpy.external.pp._magic.magic [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_scanorama_integrate.py::scanpy.external.pp._scanorama_integrate.scanorama_integrate Fatal Python error: Illegal instruction. Thread 0x00007f00347c4640 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 316 in wait. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 581 in wait. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/tqdm/_monitor.py"", line 60 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 980 in _bootstrap_inner. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 937 in _bootstrap. Current thread 0x00007f004e08eb80 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 522 in nn_approx. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 590 in fill_table. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 631 in find_alignment",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:3313,safety,modul,module,3313,"/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 937 in _bootstrap. Current thread 0x00007f004e08eb80 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 522 in nn_approx. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 590 in fill_table. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 631 in find_alignments_table. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 666 in find_alignments. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 793 in assemble. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/legacy_api_wrap/__init__.py"", line 80 in fn_compatible. File ""<doctest scanpy.external.pp._scanorama_integrate.scanorama_integrate[6]>"", line 1 in <module>. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1334 in __run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1481 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/doctest.py"", line 1842 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/doctest.py"", line 304 in runtest. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 174 in pytest_runtest_call. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/runner.py"", line 267 in <lambda>. File ""/opt/hosted",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:6751,safety,modul,module,6751,"lcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 327 in _main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 273 in wrap_session. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 320 in pytest_cmdline_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 175 in main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 198 in console_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/bin/pytest"", line 8 in <module>. /home/vsts/work/_temp/1dc6f140-196e-4393-a84a-ebdaa5dcda61.sh: line 1: 1811 Illegal instruction (core dumped) pytest. ##[error]Bash exited with code '132'. ##[section]Finishing: PyTest. ```. ### Versions. <details>. ```. anndata 0.10.5.post1. annoy 1.17.3. array_api_compat 1.4.1. asciitree 0.3.3. attrs 23.2.0. cfgv 3.4.0. click 8.1.7. cloudpickle 3.0.0. contourpy 1.2.0. coverage 7.4.1. cycler 0.12.1. dask 2024.2.0. dask-glm 0.3.2. dask-ml 2023.3.24. decorator 5.1.1. Deprecated 1.2.14. distlib 0.3.8. distributed 2024.2.0. exceptiongroup 1.2.0. fasteners 0.19. fbpca 1.0. filelock 3.13.1. fonttools 4.49.0. fsspec 2024.2.0. future 0.18.3. geosketch 1.2. get-annotations 0.1.2. graphtools 1.5.3. h5py 3.10.0. harmonypy 0.0.9. identify 2.5.35. igraph 0.11.4. imageio 2.34.0. importlib-metadata 7.0.1. importlib-resources 6.1.1. iniconfig 2.0.0. intervaltree 3.1.0. Jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. lazy_loader 0.3. legacy-api-wrap 1.4. leidenalg 0.10.2. llvmlite 0.42.0. locket 1",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:6881,safety,error,error,6881,"/x64/lib/python3.9/site-packages/_pytest/main.py"", line 273 in wrap_session. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 320 in pytest_cmdline_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 175 in main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 198 in console_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/bin/pytest"", line 8 in <module>. /home/vsts/work/_temp/1dc6f140-196e-4393-a84a-ebdaa5dcda61.sh: line 1: 1811 Illegal instruction (core dumped) pytest. ##[error]Bash exited with code '132'. ##[section]Finishing: PyTest. ```. ### Versions. <details>. ```. anndata 0.10.5.post1. annoy 1.17.3. array_api_compat 1.4.1. asciitree 0.3.3. attrs 23.2.0. cfgv 3.4.0. click 8.1.7. cloudpickle 3.0.0. contourpy 1.2.0. coverage 7.4.1. cycler 0.12.1. dask 2024.2.0. dask-glm 0.3.2. dask-ml 2023.3.24. decorator 5.1.1. Deprecated 1.2.14. distlib 0.3.8. distributed 2024.2.0. exceptiongroup 1.2.0. fasteners 0.19. fbpca 1.0. filelock 3.13.1. fonttools 4.49.0. fsspec 2024.2.0. future 0.18.3. geosketch 1.2. get-annotations 0.1.2. graphtools 1.5.3. h5py 3.10.0. harmonypy 0.0.9. identify 2.5.35. igraph 0.11.4. imageio 2.34.0. importlib-metadata 7.0.1. importlib-resources 6.1.1. iniconfig 2.0.0. intervaltree 3.1.0. Jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. lazy_loader 0.3. legacy-api-wrap 1.4. leidenalg 0.10.2. llvmlite 0.42.0. locket 1.0.0. magic-impute 3.0.0. MarkupSafe 2.1.5. matplotlib 3.8.3. msgpack 1.0.7. multipledispatch 1.0.0. natsort 8.4.0. networkx 3.2.1",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:7287,safety,except,exceptiongroup,7287,""", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 175 in main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 198 in console_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/bin/pytest"", line 8 in <module>. /home/vsts/work/_temp/1dc6f140-196e-4393-a84a-ebdaa5dcda61.sh: line 1: 1811 Illegal instruction (core dumped) pytest. ##[error]Bash exited with code '132'. ##[section]Finishing: PyTest. ```. ### Versions. <details>. ```. anndata 0.10.5.post1. annoy 1.17.3. array_api_compat 1.4.1. asciitree 0.3.3. attrs 23.2.0. cfgv 3.4.0. click 8.1.7. cloudpickle 3.0.0. contourpy 1.2.0. coverage 7.4.1. cycler 0.12.1. dask 2024.2.0. dask-glm 0.3.2. dask-ml 2023.3.24. decorator 5.1.1. Deprecated 1.2.14. distlib 0.3.8. distributed 2024.2.0. exceptiongroup 1.2.0. fasteners 0.19. fbpca 1.0. filelock 3.13.1. fonttools 4.49.0. fsspec 2024.2.0. future 0.18.3. geosketch 1.2. get-annotations 0.1.2. graphtools 1.5.3. h5py 3.10.0. harmonypy 0.0.9. identify 2.5.35. igraph 0.11.4. imageio 2.34.0. importlib-metadata 7.0.1. importlib-resources 6.1.1. iniconfig 2.0.0. intervaltree 3.1.0. Jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. lazy_loader 0.3. legacy-api-wrap 1.4. leidenalg 0.10.2. llvmlite 0.42.0. locket 1.0.0. magic-impute 3.0.0. MarkupSafe 2.1.5. matplotlib 3.8.3. msgpack 1.0.7. multipledispatch 1.0.0. natsort 8.4.0. networkx 3.2.1. nodeenv 1.8.0. numba 0.59.0. numcodecs 0.12.1. numpy 1.26.4. packaging 23.2. pandas 2.0.3. partd 1.4.1. patsy 0.5.6. pbr 6.0.0. pillow 10.2.0. pip 24.0. platformdirs 4.2.0. pluggy 1.4.0. pre-commit 3.6.2. profimp 0.1.0. psutil 5.9.8. PyGSP 0.5.1. pynndescent 0.5.11. pyparsing 3.1.1. pytest 8.0.1. pytest-mock 3.12.0. pytest-nunit 1.0.6. python-dateutil 2.8.2. pytz 2024.1. PyYAML 6.0.1. scanorama 1.7.4. sca",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:7573,safety,resourc,resources,7573,"he/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 198 in console_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/bin/pytest"", line 8 in <module>. /home/vsts/work/_temp/1dc6f140-196e-4393-a84a-ebdaa5dcda61.sh: line 1: 1811 Illegal instruction (core dumped) pytest. ##[error]Bash exited with code '132'. ##[section]Finishing: PyTest. ```. ### Versions. <details>. ```. anndata 0.10.5.post1. annoy 1.17.3. array_api_compat 1.4.1. asciitree 0.3.3. attrs 23.2.0. cfgv 3.4.0. click 8.1.7. cloudpickle 3.0.0. contourpy 1.2.0. coverage 7.4.1. cycler 0.12.1. dask 2024.2.0. dask-glm 0.3.2. dask-ml 2023.3.24. decorator 5.1.1. Deprecated 1.2.14. distlib 0.3.8. distributed 2024.2.0. exceptiongroup 1.2.0. fasteners 0.19. fbpca 1.0. filelock 3.13.1. fonttools 4.49.0. fsspec 2024.2.0. future 0.18.3. geosketch 1.2. get-annotations 0.1.2. graphtools 1.5.3. h5py 3.10.0. harmonypy 0.0.9. identify 2.5.35. igraph 0.11.4. imageio 2.34.0. importlib-metadata 7.0.1. importlib-resources 6.1.1. iniconfig 2.0.0. intervaltree 3.1.0. Jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. lazy_loader 0.3. legacy-api-wrap 1.4. leidenalg 0.10.2. llvmlite 0.42.0. locket 1.0.0. magic-impute 3.0.0. MarkupSafe 2.1.5. matplotlib 3.8.3. msgpack 1.0.7. multipledispatch 1.0.0. natsort 8.4.0. networkx 3.2.1. nodeenv 1.8.0. numba 0.59.0. numcodecs 0.12.1. numpy 1.26.4. packaging 23.2. pandas 2.0.3. partd 1.4.1. patsy 0.5.6. pbr 6.0.0. pillow 10.2.0. pip 24.0. platformdirs 4.2.0. pluggy 1.4.0. pre-commit 3.6.2. profimp 0.1.0. psutil 5.9.8. PyGSP 0.5.1. pynndescent 0.5.11. pyparsing 3.1.1. pytest 8.0.1. pytest-mock 3.12.0. pytest-nunit 1.0.6. python-dateutil 2.8.2. pytz 2024.1. PyYAML 6.0.1. scanorama 1.7.4. scanpy 1.10.0.dev220+g534145f6. scikit-image 0.22.0. scikit-learn 1.4.1.post1. scikit-misc 0.3.1. scipy 1.12.0. scprep 1.2.3. seaborn 0.13.2. session-info 1.0.0. setuptools 58.1.0. setuptools-scm 8.0.4. six 1.16.0. sortedcontainers 2.4.0. sparse 0.15.1. statsmodels 0.14.1. stdlib-list 0",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:1580,security,hash,hashsolo,1580,"nimal code sample. ```python. NA. ```. ### Error output. ```pytb. platform linux -- Python 3.9.18, pytest-8.0.1, pluggy-1.4.0 -- /opt/hostedtoolcache/Python/3.9.18/x64/bin/python. cachedir: .pytest_cache. rootdir: /home/vsts/work/1/s. configfile: pyproject.toml. testpaths: scanpy. plugins: nunit-1.0.6, mock-3.12.0. [1mcollecting ... [0mcollected 1474 items. scanpy/_utils/compute/is_constant.py::scanpy._utils.compute.is_constant.is_constant [32mPASSED[0m[32m [ 0%][0m. scanpy/datasets/_ebi_expression_atlas.py::scanpy.datasets._ebi_expression_atlas.ebi_expression_atlas [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pl.py::scanpy.external.pl.phate [33mSKIPPED[0m (needs modul...)[32m [ 0%][0m. scanpy/external/pp/_bbknn.py::scanpy.external.pp._bbknn.bbknn [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_harmony_integrate.py::scanpy.external.pp._harmony_integrate.harmony_integrate [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_hashsolo.py::scanpy.external.pp._hashsolo.hashsolo [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_magic.py::scanpy.external.pp._magic.magic [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_scanorama_integrate.py::scanpy.external.pp._scanorama_integrate.scanorama_integrate Fatal Python error: Illegal instruction. Thread 0x00007f00347c4640 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 316 in wait. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 581 in wait. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/tqdm/_monitor.py"", line 60 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 980 in _bootstrap_inner. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 937 in _bootstrap. Current thread 0x00007f004e08eb80 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 522 in nn_ap",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:7489,security,ident,identify,7489,"site-packages/_pytest/config/__init__.py"", line 175 in main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 198 in console_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/bin/pytest"", line 8 in <module>. /home/vsts/work/_temp/1dc6f140-196e-4393-a84a-ebdaa5dcda61.sh: line 1: 1811 Illegal instruction (core dumped) pytest. ##[error]Bash exited with code '132'. ##[section]Finishing: PyTest. ```. ### Versions. <details>. ```. anndata 0.10.5.post1. annoy 1.17.3. array_api_compat 1.4.1. asciitree 0.3.3. attrs 23.2.0. cfgv 3.4.0. click 8.1.7. cloudpickle 3.0.0. contourpy 1.2.0. coverage 7.4.1. cycler 0.12.1. dask 2024.2.0. dask-glm 0.3.2. dask-ml 2023.3.24. decorator 5.1.1. Deprecated 1.2.14. distlib 0.3.8. distributed 2024.2.0. exceptiongroup 1.2.0. fasteners 0.19. fbpca 1.0. filelock 3.13.1. fonttools 4.49.0. fsspec 2024.2.0. future 0.18.3. geosketch 1.2. get-annotations 0.1.2. graphtools 1.5.3. h5py 3.10.0. harmonypy 0.0.9. identify 2.5.35. igraph 0.11.4. imageio 2.34.0. importlib-metadata 7.0.1. importlib-resources 6.1.1. iniconfig 2.0.0. intervaltree 3.1.0. Jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. lazy_loader 0.3. legacy-api-wrap 1.4. leidenalg 0.10.2. llvmlite 0.42.0. locket 1.0.0. magic-impute 3.0.0. MarkupSafe 2.1.5. matplotlib 3.8.3. msgpack 1.0.7. multipledispatch 1.0.0. natsort 8.4.0. networkx 3.2.1. nodeenv 1.8.0. numba 0.59.0. numcodecs 0.12.1. numpy 1.26.4. packaging 23.2. pandas 2.0.3. partd 1.4.1. patsy 0.5.6. pbr 6.0.0. pillow 10.2.0. pip 24.0. platformdirs 4.2.0. pluggy 1.4.0. pre-commit 3.6.2. profimp 0.1.0. psutil 5.9.8. PyGSP 0.5.1. pynndescent 0.5.11. pyparsing 3.1.1. pytest 8.0.1. pytest-mock 3.12.0. pytest-nunit 1.0.6. python-dateutil 2.8.2. pytz 2024.1. PyYAML 6.0.1. scanorama 1.7.4. scanpy 1.10.0.dev220+g534145f6. scikit-image 0.22.0. scikit-learn 1.4.1.post1. scikit-misc 0.3.1. scipy 1.12.0. scprep 1.2.3. seaborn 0.13.2. session-info 1.0.0. setuptools 58.1.0. setuptools-scm 8.0.4.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:7746,security,lock,locket,7746, <module>. /home/vsts/work/_temp/1dc6f140-196e-4393-a84a-ebdaa5dcda61.sh: line 1: 1811 Illegal instruction (core dumped) pytest. ##[error]Bash exited with code '132'. ##[section]Finishing: PyTest. ```. ### Versions. <details>. ```. anndata 0.10.5.post1. annoy 1.17.3. array_api_compat 1.4.1. asciitree 0.3.3. attrs 23.2.0. cfgv 3.4.0. click 8.1.7. cloudpickle 3.0.0. contourpy 1.2.0. coverage 7.4.1. cycler 0.12.1. dask 2024.2.0. dask-glm 0.3.2. dask-ml 2023.3.24. decorator 5.1.1. Deprecated 1.2.14. distlib 0.3.8. distributed 2024.2.0. exceptiongroup 1.2.0. fasteners 0.19. fbpca 1.0. filelock 3.13.1. fonttools 4.49.0. fsspec 2024.2.0. future 0.18.3. geosketch 1.2. get-annotations 0.1.2. graphtools 1.5.3. h5py 3.10.0. harmonypy 0.0.9. identify 2.5.35. igraph 0.11.4. imageio 2.34.0. importlib-metadata 7.0.1. importlib-resources 6.1.1. iniconfig 2.0.0. intervaltree 3.1.0. Jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. lazy_loader 0.3. legacy-api-wrap 1.4. leidenalg 0.10.2. llvmlite 0.42.0. locket 1.0.0. magic-impute 3.0.0. MarkupSafe 2.1.5. matplotlib 3.8.3. msgpack 1.0.7. multipledispatch 1.0.0. natsort 8.4.0. networkx 3.2.1. nodeenv 1.8.0. numba 0.59.0. numcodecs 0.12.1. numpy 1.26.4. packaging 23.2. pandas 2.0.3. partd 1.4.1. patsy 0.5.6. pbr 6.0.0. pillow 10.2.0. pip 24.0. platformdirs 4.2.0. pluggy 1.4.0. pre-commit 3.6.2. profimp 0.1.0. psutil 5.9.8. PyGSP 0.5.1. pynndescent 0.5.11. pyparsing 3.1.1. pytest 8.0.1. pytest-mock 3.12.0. pytest-nunit 1.0.6. python-dateutil 2.8.2. pytz 2024.1. PyYAML 6.0.1. scanorama 1.7.4. scanpy 1.10.0.dev220+g534145f6. scikit-image 0.22.0. scikit-learn 1.4.1.post1. scikit-misc 0.3.1. scipy 1.12.0. scprep 1.2.3. seaborn 0.13.2. session-info 1.0.0. setuptools 58.1.0. setuptools-scm 8.0.4. six 1.16.0. sortedcontainers 2.4.0. sparse 0.15.1. statsmodels 0.14.1. stdlib-list 0.10.0. tasklogger 1.2.0. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.3.0. tifffile 2024.2.12. tomli 2.0.1. toolz 0.12.1. tornado 6.4. tqdm 4.66.2. typing_extensions 4.9.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:7870,security,network,networkx,7870,st. ##[error]Bash exited with code '132'. ##[section]Finishing: PyTest. ```. ### Versions. <details>. ```. anndata 0.10.5.post1. annoy 1.17.3. array_api_compat 1.4.1. asciitree 0.3.3. attrs 23.2.0. cfgv 3.4.0. click 8.1.7. cloudpickle 3.0.0. contourpy 1.2.0. coverage 7.4.1. cycler 0.12.1. dask 2024.2.0. dask-glm 0.3.2. dask-ml 2023.3.24. decorator 5.1.1. Deprecated 1.2.14. distlib 0.3.8. distributed 2024.2.0. exceptiongroup 1.2.0. fasteners 0.19. fbpca 1.0. filelock 3.13.1. fonttools 4.49.0. fsspec 2024.2.0. future 0.18.3. geosketch 1.2. get-annotations 0.1.2. graphtools 1.5.3. h5py 3.10.0. harmonypy 0.0.9. identify 2.5.35. igraph 0.11.4. imageio 2.34.0. importlib-metadata 7.0.1. importlib-resources 6.1.1. iniconfig 2.0.0. intervaltree 3.1.0. Jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. lazy_loader 0.3. legacy-api-wrap 1.4. leidenalg 0.10.2. llvmlite 0.42.0. locket 1.0.0. magic-impute 3.0.0. MarkupSafe 2.1.5. matplotlib 3.8.3. msgpack 1.0.7. multipledispatch 1.0.0. natsort 8.4.0. networkx 3.2.1. nodeenv 1.8.0. numba 0.59.0. numcodecs 0.12.1. numpy 1.26.4. packaging 23.2. pandas 2.0.3. partd 1.4.1. patsy 0.5.6. pbr 6.0.0. pillow 10.2.0. pip 24.0. platformdirs 4.2.0. pluggy 1.4.0. pre-commit 3.6.2. profimp 0.1.0. psutil 5.9.8. PyGSP 0.5.1. pynndescent 0.5.11. pyparsing 3.1.1. pytest 8.0.1. pytest-mock 3.12.0. pytest-nunit 1.0.6. python-dateutil 2.8.2. pytz 2024.1. PyYAML 6.0.1. scanorama 1.7.4. scanpy 1.10.0.dev220+g534145f6. scikit-image 0.22.0. scikit-learn 1.4.1.post1. scikit-misc 0.3.1. scipy 1.12.0. scprep 1.2.3. seaborn 0.13.2. session-info 1.0.0. setuptools 58.1.0. setuptools-scm 8.0.4. six 1.16.0. sortedcontainers 2.4.0. sparse 0.15.1. statsmodels 0.14.1. stdlib-list 0.10.0. tasklogger 1.2.0. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.3.0. tifffile 2024.2.12. tomli 2.0.1. toolz 0.12.1. tornado 6.4. tqdm 4.66.2. typing_extensions 4.9.0. tzdata 2024.1. umap-learn 0.5.5. urllib3 2.2.1. virtualenv 20.25.0. wheel 0.42.0. wrapt 1.16.0. zarr 2.17.0. zict 3.0.0. z,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:8433,security,session,session-info,8433,h code '132'. ##[section]Finishing: PyTest. ```. ### Versions. <details>. ```. anndata 0.10.5.post1. annoy 1.17.3. array_api_compat 1.4.1. asciitree 0.3.3. attrs 23.2.0. cfgv 3.4.0. click 8.1.7. cloudpickle 3.0.0. contourpy 1.2.0. coverage 7.4.1. cycler 0.12.1. dask 2024.2.0. dask-glm 0.3.2. dask-ml 2023.3.24. decorator 5.1.1. Deprecated 1.2.14. distlib 0.3.8. distributed 2024.2.0. exceptiongroup 1.2.0. fasteners 0.19. fbpca 1.0. filelock 3.13.1. fonttools 4.49.0. fsspec 2024.2.0. future 0.18.3. geosketch 1.2. get-annotations 0.1.2. graphtools 1.5.3. h5py 3.10.0. harmonypy 0.0.9. identify 2.5.35. igraph 0.11.4. imageio 2.34.0. importlib-metadata 7.0.1. importlib-resources 6.1.1. iniconfig 2.0.0. intervaltree 3.1.0. Jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. lazy_loader 0.3. legacy-api-wrap 1.4. leidenalg 0.10.2. llvmlite 0.42.0. locket 1.0.0. magic-impute 3.0.0. MarkupSafe 2.1.5. matplotlib 3.8.3. msgpack 1.0.7. multipledispatch 1.0.0. natsort 8.4.0. networkx 3.2.1. nodeenv 1.8.0. numba 0.59.0. numcodecs 0.12.1. numpy 1.26.4. packaging 23.2. pandas 2.0.3. partd 1.4.1. patsy 0.5.6. pbr 6.0.0. pillow 10.2.0. pip 24.0. platformdirs 4.2.0. pluggy 1.4.0. pre-commit 3.6.2. profimp 0.1.0. psutil 5.9.8. PyGSP 0.5.1. pynndescent 0.5.11. pyparsing 3.1.1. pytest 8.0.1. pytest-mock 3.12.0. pytest-nunit 1.0.6. python-dateutil 2.8.2. pytz 2024.1. PyYAML 6.0.1. scanorama 1.7.4. scanpy 1.10.0.dev220+g534145f6. scikit-image 0.22.0. scikit-learn 1.4.1.post1. scikit-misc 0.3.1. scipy 1.12.0. scprep 1.2.3. seaborn 0.13.2. session-info 1.0.0. setuptools 58.1.0. setuptools-scm 8.0.4. six 1.16.0. sortedcontainers 2.4.0. sparse 0.15.1. statsmodels 0.14.1. stdlib-list 0.10.0. tasklogger 1.2.0. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.3.0. tifffile 2024.2.12. tomli 2.0.1. toolz 0.12.1. tornado 6.4. tqdm 4.66.2. typing_extensions 4.9.0. tzdata 2024.1. umap-learn 0.5.5. urllib3 2.2.1. virtualenv 20.25.0. wheel 0.42.0. wrapt 1.16.0. zarr 2.17.0. zict 3.0.0. zipp 3.17.0. ```. </details>.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:339,testability,test,test,339,"Scanorama causing segfault on CI (Python 3.9); ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? The test suite keeps failing with a segfault on the `python=3.9` build. I haven't been able to reproduce locally. Interestingly, I haven't seen it error when I rerun the check. It looks like this always happens during the call to `nn_approx`. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. platform linux -- Python 3.9.18, pytest-8.0.1, pluggy-1.4.0 -- /opt/hostedtoolcache/Python/3.9.18/x64/bin/python. cachedir: .pytest_cache. rootdir: /home/vsts/work/1/s. configfile: pyproject.toml. testpaths: scanpy. plugins: nunit-1.0.6, mock-3.12.0. [1mcollecting ... [0mcollected 1474 items. scanpy/_utils/compute/is_constant.py::scanpy._utils.compute.is_constant.is_constant [32mPASSED[0m[32m [ 0%][0m. scanpy/datasets/_ebi_expression_atlas.py::scanpy.datasets._ebi_expression_atlas.ebi_expression_atlas [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pl.py::scanpy.external.pl.phate [33mSKIPPED[0m (needs modul...)[32m [ 0%][0m. scanpy/external/pp/_bbknn.py::scanpy.external.pp._bbknn.bbknn [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_harmony_integrate.py::scanpy.external.pp._harmony_integrate.harmony_integrate [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_hashsolo.py::scanpy.external.pp._hashsolo.hashsolo [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_magic.py::scanpy.external.pp._magic.magic [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_scanorama_integrate.py::scanpy.external.pp._scanorama_integrate.scanorama_integrate Fatal Python error: Illegal instruction. Thread 0x00007f00347c4640 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 316 in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:847,testability,test,testpaths,847,"Scanorama causing segfault on CI (Python 3.9); ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? The test suite keeps failing with a segfault on the `python=3.9` build. I haven't been able to reproduce locally. Interestingly, I haven't seen it error when I rerun the check. It looks like this always happens during the call to `nn_approx`. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. platform linux -- Python 3.9.18, pytest-8.0.1, pluggy-1.4.0 -- /opt/hostedtoolcache/Python/3.9.18/x64/bin/python. cachedir: .pytest_cache. rootdir: /home/vsts/work/1/s. configfile: pyproject.toml. testpaths: scanpy. plugins: nunit-1.0.6, mock-3.12.0. [1mcollecting ... [0mcollected 1474 items. scanpy/_utils/compute/is_constant.py::scanpy._utils.compute.is_constant.is_constant [32mPASSED[0m[32m [ 0%][0m. scanpy/datasets/_ebi_expression_atlas.py::scanpy.datasets._ebi_expression_atlas.ebi_expression_atlas [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pl.py::scanpy.external.pl.phate [33mSKIPPED[0m (needs modul...)[32m [ 0%][0m. scanpy/external/pp/_bbknn.py::scanpy.external.pp._bbknn.bbknn [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_harmony_integrate.py::scanpy.external.pp._harmony_integrate.harmony_integrate [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_hashsolo.py::scanpy.external.pp._hashsolo.hashsolo [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_magic.py::scanpy.external.pp._magic.magic [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_scanorama_integrate.py::scanpy.external.pp._scanorama_integrate.scanorama_integrate Fatal Python error: Illegal instruction. Thread 0x00007f00347c4640 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 316 in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:888,testability,mock,mock-,888,"Scanorama causing segfault on CI (Python 3.9); ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? The test suite keeps failing with a segfault on the `python=3.9` build. I haven't been able to reproduce locally. Interestingly, I haven't seen it error when I rerun the check. It looks like this always happens during the call to `nn_approx`. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. platform linux -- Python 3.9.18, pytest-8.0.1, pluggy-1.4.0 -- /opt/hostedtoolcache/Python/3.9.18/x64/bin/python. cachedir: .pytest_cache. rootdir: /home/vsts/work/1/s. configfile: pyproject.toml. testpaths: scanpy. plugins: nunit-1.0.6, mock-3.12.0. [1mcollecting ... [0mcollected 1474 items. scanpy/_utils/compute/is_constant.py::scanpy._utils.compute.is_constant.is_constant [32mPASSED[0m[32m [ 0%][0m. scanpy/datasets/_ebi_expression_atlas.py::scanpy.datasets._ebi_expression_atlas.ebi_expression_atlas [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pl.py::scanpy.external.pl.phate [33mSKIPPED[0m (needs modul...)[32m [ 0%][0m. scanpy/external/pp/_bbknn.py::scanpy.external.pp._bbknn.bbknn [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_harmony_integrate.py::scanpy.external.pp._harmony_integrate.harmony_integrate [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_hashsolo.py::scanpy.external.pp._hashsolo.hashsolo [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_magic.py::scanpy.external.pp._magic.magic [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_scanorama_integrate.py::scanpy.external.pp._scanorama_integrate.scanorama_integrate Fatal Python error: Illegal instruction. Thread 0x00007f00347c4640 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 316 in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:7133,testability,coverag,coverage,7133,"hon3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 175 in main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 198 in console_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/bin/pytest"", line 8 in <module>. /home/vsts/work/_temp/1dc6f140-196e-4393-a84a-ebdaa5dcda61.sh: line 1: 1811 Illegal instruction (core dumped) pytest. ##[error]Bash exited with code '132'. ##[section]Finishing: PyTest. ```. ### Versions. <details>. ```. anndata 0.10.5.post1. annoy 1.17.3. array_api_compat 1.4.1. asciitree 0.3.3. attrs 23.2.0. cfgv 3.4.0. click 8.1.7. cloudpickle 3.0.0. contourpy 1.2.0. coverage 7.4.1. cycler 0.12.1. dask 2024.2.0. dask-glm 0.3.2. dask-ml 2023.3.24. decorator 5.1.1. Deprecated 1.2.14. distlib 0.3.8. distributed 2024.2.0. exceptiongroup 1.2.0. fasteners 0.19. fbpca 1.0. filelock 3.13.1. fonttools 4.49.0. fsspec 2024.2.0. future 0.18.3. geosketch 1.2. get-annotations 0.1.2. graphtools 1.5.3. h5py 3.10.0. harmonypy 0.0.9. identify 2.5.35. igraph 0.11.4. imageio 2.34.0. importlib-metadata 7.0.1. importlib-resources 6.1.1. iniconfig 2.0.0. intervaltree 3.1.0. Jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. lazy_loader 0.3. legacy-api-wrap 1.4. leidenalg 0.10.2. llvmlite 0.42.0. locket 1.0.0. magic-impute 3.0.0. MarkupSafe 2.1.5. matplotlib 3.8.3. msgpack 1.0.7. multipledispatch 1.0.0. natsort 8.4.0. networkx 3.2.1. nodeenv 1.8.0. numba 0.59.0. numcodecs 0.12.1. numpy 1.26.4. packaging 23.2. pandas 2.0.3. partd 1.4.1. patsy 0.5.6. pbr 6.0.0. pillow 10.2.0. pip 24.0. platformdirs 4.2.0. pluggy 1.4.0. pre-commit 3.6.2. profimp 0.1.0. psutil 5.9.8. PyGSP 0.5.1. pynn",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:7573,testability,resourc,resources,7573,"he/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 198 in console_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/bin/pytest"", line 8 in <module>. /home/vsts/work/_temp/1dc6f140-196e-4393-a84a-ebdaa5dcda61.sh: line 1: 1811 Illegal instruction (core dumped) pytest. ##[error]Bash exited with code '132'. ##[section]Finishing: PyTest. ```. ### Versions. <details>. ```. anndata 0.10.5.post1. annoy 1.17.3. array_api_compat 1.4.1. asciitree 0.3.3. attrs 23.2.0. cfgv 3.4.0. click 8.1.7. cloudpickle 3.0.0. contourpy 1.2.0. coverage 7.4.1. cycler 0.12.1. dask 2024.2.0. dask-glm 0.3.2. dask-ml 2023.3.24. decorator 5.1.1. Deprecated 1.2.14. distlib 0.3.8. distributed 2024.2.0. exceptiongroup 1.2.0. fasteners 0.19. fbpca 1.0. filelock 3.13.1. fonttools 4.49.0. fsspec 2024.2.0. future 0.18.3. geosketch 1.2. get-annotations 0.1.2. graphtools 1.5.3. h5py 3.10.0. harmonypy 0.0.9. identify 2.5.35. igraph 0.11.4. imageio 2.34.0. importlib-metadata 7.0.1. importlib-resources 6.1.1. iniconfig 2.0.0. intervaltree 3.1.0. Jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. lazy_loader 0.3. legacy-api-wrap 1.4. leidenalg 0.10.2. llvmlite 0.42.0. locket 1.0.0. magic-impute 3.0.0. MarkupSafe 2.1.5. matplotlib 3.8.3. msgpack 1.0.7. multipledispatch 1.0.0. natsort 8.4.0. networkx 3.2.1. nodeenv 1.8.0. numba 0.59.0. numcodecs 0.12.1. numpy 1.26.4. packaging 23.2. pandas 2.0.3. partd 1.4.1. patsy 0.5.6. pbr 6.0.0. pillow 10.2.0. pip 24.0. platformdirs 4.2.0. pluggy 1.4.0. pre-commit 3.6.2. profimp 0.1.0. psutil 5.9.8. PyGSP 0.5.1. pynndescent 0.5.11. pyparsing 3.1.1. pytest 8.0.1. pytest-mock 3.12.0. pytest-nunit 1.0.6. python-dateutil 2.8.2. pytz 2024.1. PyYAML 6.0.1. scanorama 1.7.4. scanpy 1.10.0.dev220+g534145f6. scikit-image 0.22.0. scikit-learn 1.4.1.post1. scikit-misc 0.3.1. scipy 1.12.0. scprep 1.2.3. seaborn 0.13.2. session-info 1.0.0. setuptools 58.1.0. setuptools-scm 8.0.4. six 1.16.0. sortedcontainers 2.4.0. sparse 0.15.1. statsmodels 0.14.1. stdlib-list 0",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:8191,testability,mock,mock,8191,h code '132'. ##[section]Finishing: PyTest. ```. ### Versions. <details>. ```. anndata 0.10.5.post1. annoy 1.17.3. array_api_compat 1.4.1. asciitree 0.3.3. attrs 23.2.0. cfgv 3.4.0. click 8.1.7. cloudpickle 3.0.0. contourpy 1.2.0. coverage 7.4.1. cycler 0.12.1. dask 2024.2.0. dask-glm 0.3.2. dask-ml 2023.3.24. decorator 5.1.1. Deprecated 1.2.14. distlib 0.3.8. distributed 2024.2.0. exceptiongroup 1.2.0. fasteners 0.19. fbpca 1.0. filelock 3.13.1. fonttools 4.49.0. fsspec 2024.2.0. future 0.18.3. geosketch 1.2. get-annotations 0.1.2. graphtools 1.5.3. h5py 3.10.0. harmonypy 0.0.9. identify 2.5.35. igraph 0.11.4. imageio 2.34.0. importlib-metadata 7.0.1. importlib-resources 6.1.1. iniconfig 2.0.0. intervaltree 3.1.0. Jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. lazy_loader 0.3. legacy-api-wrap 1.4. leidenalg 0.10.2. llvmlite 0.42.0. locket 1.0.0. magic-impute 3.0.0. MarkupSafe 2.1.5. matplotlib 3.8.3. msgpack 1.0.7. multipledispatch 1.0.0. natsort 8.4.0. networkx 3.2.1. nodeenv 1.8.0. numba 0.59.0. numcodecs 0.12.1. numpy 1.26.4. packaging 23.2. pandas 2.0.3. partd 1.4.1. patsy 0.5.6. pbr 6.0.0. pillow 10.2.0. pip 24.0. platformdirs 4.2.0. pluggy 1.4.0. pre-commit 3.6.2. profimp 0.1.0. psutil 5.9.8. PyGSP 0.5.1. pynndescent 0.5.11. pyparsing 3.1.1. pytest 8.0.1. pytest-mock 3.12.0. pytest-nunit 1.0.6. python-dateutil 2.8.2. pytz 2024.1. PyYAML 6.0.1. scanorama 1.7.4. scanpy 1.10.0.dev220+g534145f6. scikit-image 0.22.0. scikit-learn 1.4.1.post1. scikit-misc 0.3.1. scipy 1.12.0. scprep 1.2.3. seaborn 0.13.2. session-info 1.0.0. setuptools 58.1.0. setuptools-scm 8.0.4. six 1.16.0. sortedcontainers 2.4.0. sparse 0.15.1. statsmodels 0.14.1. stdlib-list 0.10.0. tasklogger 1.2.0. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.3.0. tifffile 2024.2.12. tomli 2.0.1. toolz 0.12.1. tornado 6.4. tqdm 4.66.2. typing_extensions 4.9.0. tzdata 2024.1. umap-learn 0.5.5. urllib3 2.2.1. virtualenv 20.25.0. wheel 0.42.0. wrapt 1.16.0. zarr 2.17.0. zict 3.0.0. zipp 3.17.0. ```. </details>.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:175,usability,confirm,confirmed,175,"Scanorama causing segfault on CI (Python 3.9); ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? The test suite keeps failing with a segfault on the `python=3.9` build. I haven't been able to reproduce locally. Interestingly, I haven't seen it error when I rerun the check. It looks like this always happens during the call to `nn_approx`. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. platform linux -- Python 3.9.18, pytest-8.0.1, pluggy-1.4.0 -- /opt/hostedtoolcache/Python/3.9.18/x64/bin/python. cachedir: .pytest_cache. rootdir: /home/vsts/work/1/s. configfile: pyproject.toml. testpaths: scanpy. plugins: nunit-1.0.6, mock-3.12.0. [1mcollecting ... [0mcollected 1474 items. scanpy/_utils/compute/is_constant.py::scanpy._utils.compute.is_constant.is_constant [32mPASSED[0m[32m [ 0%][0m. scanpy/datasets/_ebi_expression_atlas.py::scanpy.datasets._ebi_expression_atlas.ebi_expression_atlas [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pl.py::scanpy.external.pl.phate [33mSKIPPED[0m (needs modul...)[32m [ 0%][0m. scanpy/external/pp/_bbknn.py::scanpy.external.pp._bbknn.bbknn [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_harmony_integrate.py::scanpy.external.pp._harmony_integrate.harmony_integrate [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_hashsolo.py::scanpy.external.pp._hashsolo.hashsolo [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_magic.py::scanpy.external.pp._magic.magic [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_scanorama_integrate.py::scanpy.external.pp._scanorama_integrate.scanorama_integrate Fatal Python error: Illegal instruction. Thread 0x00007f00347c4640 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 316 in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:258,usability,confirm,confirmed,258,"Scanorama causing segfault on CI (Python 3.9); ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? The test suite keeps failing with a segfault on the `python=3.9` build. I haven't been able to reproduce locally. Interestingly, I haven't seen it error when I rerun the check. It looks like this always happens during the call to `nn_approx`. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. platform linux -- Python 3.9.18, pytest-8.0.1, pluggy-1.4.0 -- /opt/hostedtoolcache/Python/3.9.18/x64/bin/python. cachedir: .pytest_cache. rootdir: /home/vsts/work/1/s. configfile: pyproject.toml. testpaths: scanpy. plugins: nunit-1.0.6, mock-3.12.0. [1mcollecting ... [0mcollected 1474 items. scanpy/_utils/compute/is_constant.py::scanpy._utils.compute.is_constant.is_constant [32mPASSED[0m[32m [ 0%][0m. scanpy/datasets/_ebi_expression_atlas.py::scanpy.datasets._ebi_expression_atlas.ebi_expression_atlas [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pl.py::scanpy.external.pl.phate [33mSKIPPED[0m (needs modul...)[32m [ 0%][0m. scanpy/external/pp/_bbknn.py::scanpy.external.pp._bbknn.bbknn [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_harmony_integrate.py::scanpy.external.pp._harmony_integrate.harmony_integrate [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_hashsolo.py::scanpy.external.pp._hashsolo.hashsolo [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_magic.py::scanpy.external.pp._magic.magic [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_scanorama_integrate.py::scanpy.external.pp._scanorama_integrate.scanorama_integrate Fatal Python error: Illegal instruction. Thread 0x00007f00347c4640 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 316 in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:482,usability,error,error,482,"Scanorama causing segfault on CI (Python 3.9); ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? The test suite keeps failing with a segfault on the `python=3.9` build. I haven't been able to reproduce locally. Interestingly, I haven't seen it error when I rerun the check. It looks like this always happens during the call to `nn_approx`. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. platform linux -- Python 3.9.18, pytest-8.0.1, pluggy-1.4.0 -- /opt/hostedtoolcache/Python/3.9.18/x64/bin/python. cachedir: .pytest_cache. rootdir: /home/vsts/work/1/s. configfile: pyproject.toml. testpaths: scanpy. plugins: nunit-1.0.6, mock-3.12.0. [1mcollecting ... [0mcollected 1474 items. scanpy/_utils/compute/is_constant.py::scanpy._utils.compute.is_constant.is_constant [32mPASSED[0m[32m [ 0%][0m. scanpy/datasets/_ebi_expression_atlas.py::scanpy.datasets._ebi_expression_atlas.ebi_expression_atlas [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pl.py::scanpy.external.pl.phate [33mSKIPPED[0m (needs modul...)[32m [ 0%][0m. scanpy/external/pp/_bbknn.py::scanpy.external.pp._bbknn.bbknn [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_harmony_integrate.py::scanpy.external.pp._harmony_integrate.harmony_integrate [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_hashsolo.py::scanpy.external.pp._hashsolo.hashsolo [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_magic.py::scanpy.external.pp._magic.magic [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_scanorama_integrate.py::scanpy.external.pp._scanorama_integrate.scanorama_integrate Fatal Python error: Illegal instruction. Thread 0x00007f00347c4640 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 316 in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:582,usability,Minim,Minimal,582,"Scanorama causing segfault on CI (Python 3.9); ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? The test suite keeps failing with a segfault on the `python=3.9` build. I haven't been able to reproduce locally. Interestingly, I haven't seen it error when I rerun the check. It looks like this always happens during the call to `nn_approx`. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. platform linux -- Python 3.9.18, pytest-8.0.1, pluggy-1.4.0 -- /opt/hostedtoolcache/Python/3.9.18/x64/bin/python. cachedir: .pytest_cache. rootdir: /home/vsts/work/1/s. configfile: pyproject.toml. testpaths: scanpy. plugins: nunit-1.0.6, mock-3.12.0. [1mcollecting ... [0mcollected 1474 items. scanpy/_utils/compute/is_constant.py::scanpy._utils.compute.is_constant.is_constant [32mPASSED[0m[32m [ 0%][0m. scanpy/datasets/_ebi_expression_atlas.py::scanpy.datasets._ebi_expression_atlas.ebi_expression_atlas [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pl.py::scanpy.external.pl.phate [33mSKIPPED[0m (needs modul...)[32m [ 0%][0m. scanpy/external/pp/_bbknn.py::scanpy.external.pp._bbknn.bbknn [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_harmony_integrate.py::scanpy.external.pp._harmony_integrate.harmony_integrate [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_hashsolo.py::scanpy.external.pp._hashsolo.hashsolo [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_magic.py::scanpy.external.pp._magic.magic [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_scanorama_integrate.py::scanpy.external.pp._scanorama_integrate.scanorama_integrate Fatal Python error: Illegal instruction. Thread 0x00007f00347c4640 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 316 in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:627,usability,Error,Error,627,"Scanorama causing segfault on CI (Python 3.9); ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? The test suite keeps failing with a segfault on the `python=3.9` build. I haven't been able to reproduce locally. Interestingly, I haven't seen it error when I rerun the check. It looks like this always happens during the call to `nn_approx`. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. platform linux -- Python 3.9.18, pytest-8.0.1, pluggy-1.4.0 -- /opt/hostedtoolcache/Python/3.9.18/x64/bin/python. cachedir: .pytest_cache. rootdir: /home/vsts/work/1/s. configfile: pyproject.toml. testpaths: scanpy. plugins: nunit-1.0.6, mock-3.12.0. [1mcollecting ... [0mcollected 1474 items. scanpy/_utils/compute/is_constant.py::scanpy._utils.compute.is_constant.is_constant [32mPASSED[0m[32m [ 0%][0m. scanpy/datasets/_ebi_expression_atlas.py::scanpy.datasets._ebi_expression_atlas.ebi_expression_atlas [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pl.py::scanpy.external.pl.phate [33mSKIPPED[0m (needs modul...)[32m [ 0%][0m. scanpy/external/pp/_bbknn.py::scanpy.external.pp._bbknn.bbknn [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_harmony_integrate.py::scanpy.external.pp._harmony_integrate.harmony_integrate [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_hashsolo.py::scanpy.external.pp._hashsolo.hashsolo [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_magic.py::scanpy.external.pp._magic.magic [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_scanorama_integrate.py::scanpy.external.pp._scanorama_integrate.scanorama_integrate Fatal Python error: Illegal instruction. Thread 0x00007f00347c4640 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 316 in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:1833,usability,error,error,1833,"ject.toml. testpaths: scanpy. plugins: nunit-1.0.6, mock-3.12.0. [1mcollecting ... [0mcollected 1474 items. scanpy/_utils/compute/is_constant.py::scanpy._utils.compute.is_constant.is_constant [32mPASSED[0m[32m [ 0%][0m. scanpy/datasets/_ebi_expression_atlas.py::scanpy.datasets._ebi_expression_atlas.ebi_expression_atlas [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pl.py::scanpy.external.pl.phate [33mSKIPPED[0m (needs modul...)[32m [ 0%][0m. scanpy/external/pp/_bbknn.py::scanpy.external.pp._bbknn.bbknn [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_harmony_integrate.py::scanpy.external.pp._harmony_integrate.harmony_integrate [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_hashsolo.py::scanpy.external.pp._hashsolo.hashsolo [33mSKIPPED[0m[32m [ 0%][0m. scanpy/external/pp/_magic.py::scanpy.external.pp._magic.magic [32mPASSED[0m[32m [ 0%][0m. scanpy/external/pp/_scanorama_integrate.py::scanpy.external.pp._scanorama_integrate.scanorama_integrate Fatal Python error: Illegal instruction. Thread 0x00007f00347c4640 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 316 in wait. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 581 in wait. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/tqdm/_monitor.py"", line 60 in run. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 980 in _bootstrap_inner. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/threading.py"", line 937 in _bootstrap. Current thread 0x00007f004e08eb80 (most recent call first):. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 522 in nn_approx. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 590 in fill_table. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/scanorama/scanorama.py"", line 631 in find_alignment",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:6881,usability,error,error,6881,"/x64/lib/python3.9/site-packages/_pytest/main.py"", line 273 in wrap_session. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/main.py"", line 320 in pytest_cmdline_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_callers.py"", line 102 in _multicall. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_manager.py"", line 119 in _hookexec. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/pluggy/_hooks.py"", line 501 in __call__. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 175 in main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/lib/python3.9/site-packages/_pytest/config/__init__.py"", line 198 in console_main. File ""/opt/hostedtoolcache/Python/3.9.18/x64/bin/pytest"", line 8 in <module>. /home/vsts/work/_temp/1dc6f140-196e-4393-a84a-ebdaa5dcda61.sh: line 1: 1811 Illegal instruction (core dumped) pytest. ##[error]Bash exited with code '132'. ##[section]Finishing: PyTest. ```. ### Versions. <details>. ```. anndata 0.10.5.post1. annoy 1.17.3. array_api_compat 1.4.1. asciitree 0.3.3. attrs 23.2.0. cfgv 3.4.0. click 8.1.7. cloudpickle 3.0.0. contourpy 1.2.0. coverage 7.4.1. cycler 0.12.1. dask 2024.2.0. dask-glm 0.3.2. dask-ml 2023.3.24. decorator 5.1.1. Deprecated 1.2.14. distlib 0.3.8. distributed 2024.2.0. exceptiongroup 1.2.0. fasteners 0.19. fbpca 1.0. filelock 3.13.1. fonttools 4.49.0. fsspec 2024.2.0. future 0.18.3. geosketch 1.2. get-annotations 0.1.2. graphtools 1.5.3. h5py 3.10.0. harmonypy 0.0.9. identify 2.5.35. igraph 0.11.4. imageio 2.34.0. importlib-metadata 7.0.1. importlib-resources 6.1.1. iniconfig 2.0.0. intervaltree 3.1.0. Jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. lazy_loader 0.3. legacy-api-wrap 1.4. leidenalg 0.10.2. llvmlite 0.42.0. locket 1.0.0. magic-impute 3.0.0. MarkupSafe 2.1.5. matplotlib 3.8.3. msgpack 1.0.7. multipledispatch 1.0.0. natsort 8.4.0. networkx 3.2.1",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:8351,usability,learn,learn,8351,h code '132'. ##[section]Finishing: PyTest. ```. ### Versions. <details>. ```. anndata 0.10.5.post1. annoy 1.17.3. array_api_compat 1.4.1. asciitree 0.3.3. attrs 23.2.0. cfgv 3.4.0. click 8.1.7. cloudpickle 3.0.0. contourpy 1.2.0. coverage 7.4.1. cycler 0.12.1. dask 2024.2.0. dask-glm 0.3.2. dask-ml 2023.3.24. decorator 5.1.1. Deprecated 1.2.14. distlib 0.3.8. distributed 2024.2.0. exceptiongroup 1.2.0. fasteners 0.19. fbpca 1.0. filelock 3.13.1. fonttools 4.49.0. fsspec 2024.2.0. future 0.18.3. geosketch 1.2. get-annotations 0.1.2. graphtools 1.5.3. h5py 3.10.0. harmonypy 0.0.9. identify 2.5.35. igraph 0.11.4. imageio 2.34.0. importlib-metadata 7.0.1. importlib-resources 6.1.1. iniconfig 2.0.0. intervaltree 3.1.0. Jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. lazy_loader 0.3. legacy-api-wrap 1.4. leidenalg 0.10.2. llvmlite 0.42.0. locket 1.0.0. magic-impute 3.0.0. MarkupSafe 2.1.5. matplotlib 3.8.3. msgpack 1.0.7. multipledispatch 1.0.0. natsort 8.4.0. networkx 3.2.1. nodeenv 1.8.0. numba 0.59.0. numcodecs 0.12.1. numpy 1.26.4. packaging 23.2. pandas 2.0.3. partd 1.4.1. patsy 0.5.6. pbr 6.0.0. pillow 10.2.0. pip 24.0. platformdirs 4.2.0. pluggy 1.4.0. pre-commit 3.6.2. profimp 0.1.0. psutil 5.9.8. PyGSP 0.5.1. pynndescent 0.5.11. pyparsing 3.1.1. pytest 8.0.1. pytest-mock 3.12.0. pytest-nunit 1.0.6. python-dateutil 2.8.2. pytz 2024.1. PyYAML 6.0.1. scanorama 1.7.4. scanpy 1.10.0.dev220+g534145f6. scikit-image 0.22.0. scikit-learn 1.4.1.post1. scikit-misc 0.3.1. scipy 1.12.0. scprep 1.2.3. seaborn 0.13.2. session-info 1.0.0. setuptools 58.1.0. setuptools-scm 8.0.4. six 1.16.0. sortedcontainers 2.4.0. sparse 0.15.1. statsmodels 0.14.1. stdlib-list 0.10.0. tasklogger 1.2.0. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.3.0. tifffile 2024.2.12. tomli 2.0.1. toolz 0.12.1. tornado 6.4. tqdm 4.66.2. typing_extensions 4.9.0. tzdata 2024.1. umap-learn 0.5.5. urllib3 2.2.1. virtualenv 20.25.0. wheel 0.42.0. wrapt 1.16.0. zarr 2.17.0. zict 3.0.0. zipp 3.17.0. ```. </details>.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:8687,usability,tool,toolz,8687,h code '132'. ##[section]Finishing: PyTest. ```. ### Versions. <details>. ```. anndata 0.10.5.post1. annoy 1.17.3. array_api_compat 1.4.1. asciitree 0.3.3. attrs 23.2.0. cfgv 3.4.0. click 8.1.7. cloudpickle 3.0.0. contourpy 1.2.0. coverage 7.4.1. cycler 0.12.1. dask 2024.2.0. dask-glm 0.3.2. dask-ml 2023.3.24. decorator 5.1.1. Deprecated 1.2.14. distlib 0.3.8. distributed 2024.2.0. exceptiongroup 1.2.0. fasteners 0.19. fbpca 1.0. filelock 3.13.1. fonttools 4.49.0. fsspec 2024.2.0. future 0.18.3. geosketch 1.2. get-annotations 0.1.2. graphtools 1.5.3. h5py 3.10.0. harmonypy 0.0.9. identify 2.5.35. igraph 0.11.4. imageio 2.34.0. importlib-metadata 7.0.1. importlib-resources 6.1.1. iniconfig 2.0.0. intervaltree 3.1.0. Jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. lazy_loader 0.3. legacy-api-wrap 1.4. leidenalg 0.10.2. llvmlite 0.42.0. locket 1.0.0. magic-impute 3.0.0. MarkupSafe 2.1.5. matplotlib 3.8.3. msgpack 1.0.7. multipledispatch 1.0.0. natsort 8.4.0. networkx 3.2.1. nodeenv 1.8.0. numba 0.59.0. numcodecs 0.12.1. numpy 1.26.4. packaging 23.2. pandas 2.0.3. partd 1.4.1. patsy 0.5.6. pbr 6.0.0. pillow 10.2.0. pip 24.0. platformdirs 4.2.0. pluggy 1.4.0. pre-commit 3.6.2. profimp 0.1.0. psutil 5.9.8. PyGSP 0.5.1. pynndescent 0.5.11. pyparsing 3.1.1. pytest 8.0.1. pytest-mock 3.12.0. pytest-nunit 1.0.6. python-dateutil 2.8.2. pytz 2024.1. PyYAML 6.0.1. scanorama 1.7.4. scanpy 1.10.0.dev220+g534145f6. scikit-image 0.22.0. scikit-learn 1.4.1.post1. scikit-misc 0.3.1. scipy 1.12.0. scprep 1.2.3. seaborn 0.13.2. session-info 1.0.0. setuptools 58.1.0. setuptools-scm 8.0.4. six 1.16.0. sortedcontainers 2.4.0. sparse 0.15.1. statsmodels 0.14.1. stdlib-list 0.10.0. tasklogger 1.2.0. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.3.0. tifffile 2024.2.12. tomli 2.0.1. toolz 0.12.1. tornado 6.4. tqdm 4.66.2. typing_extensions 4.9.0. tzdata 2024.1. umap-learn 0.5.5. urllib3 2.2.1. virtualenv 20.25.0. wheel 0.42.0. wrapt 1.16.0. zarr 2.17.0. zict 3.0.0. zipp 3.17.0. ```. </details>.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2866:8772,usability,learn,learn,8772,h code '132'. ##[section]Finishing: PyTest. ```. ### Versions. <details>. ```. anndata 0.10.5.post1. annoy 1.17.3. array_api_compat 1.4.1. asciitree 0.3.3. attrs 23.2.0. cfgv 3.4.0. click 8.1.7. cloudpickle 3.0.0. contourpy 1.2.0. coverage 7.4.1. cycler 0.12.1. dask 2024.2.0. dask-glm 0.3.2. dask-ml 2023.3.24. decorator 5.1.1. Deprecated 1.2.14. distlib 0.3.8. distributed 2024.2.0. exceptiongroup 1.2.0. fasteners 0.19. fbpca 1.0. filelock 3.13.1. fonttools 4.49.0. fsspec 2024.2.0. future 0.18.3. geosketch 1.2. get-annotations 0.1.2. graphtools 1.5.3. h5py 3.10.0. harmonypy 0.0.9. identify 2.5.35. igraph 0.11.4. imageio 2.34.0. importlib-metadata 7.0.1. importlib-resources 6.1.1. iniconfig 2.0.0. intervaltree 3.1.0. Jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. lazy_loader 0.3. legacy-api-wrap 1.4. leidenalg 0.10.2. llvmlite 0.42.0. locket 1.0.0. magic-impute 3.0.0. MarkupSafe 2.1.5. matplotlib 3.8.3. msgpack 1.0.7. multipledispatch 1.0.0. natsort 8.4.0. networkx 3.2.1. nodeenv 1.8.0. numba 0.59.0. numcodecs 0.12.1. numpy 1.26.4. packaging 23.2. pandas 2.0.3. partd 1.4.1. patsy 0.5.6. pbr 6.0.0. pillow 10.2.0. pip 24.0. platformdirs 4.2.0. pluggy 1.4.0. pre-commit 3.6.2. profimp 0.1.0. psutil 5.9.8. PyGSP 0.5.1. pynndescent 0.5.11. pyparsing 3.1.1. pytest 8.0.1. pytest-mock 3.12.0. pytest-nunit 1.0.6. python-dateutil 2.8.2. pytz 2024.1. PyYAML 6.0.1. scanorama 1.7.4. scanpy 1.10.0.dev220+g534145f6. scikit-image 0.22.0. scikit-learn 1.4.1.post1. scikit-misc 0.3.1. scipy 1.12.0. scprep 1.2.3. seaborn 0.13.2. session-info 1.0.0. setuptools 58.1.0. setuptools-scm 8.0.4. six 1.16.0. sortedcontainers 2.4.0. sparse 0.15.1. statsmodels 0.14.1. stdlib-list 0.10.0. tasklogger 1.2.0. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.3.0. tifffile 2024.2.12. tomli 2.0.1. toolz 0.12.1. tornado 6.4. tqdm 4.66.2. typing_extensions 4.9.0. tzdata 2024.1. umap-learn 0.5.5. urllib3 2.2.1. virtualenv 20.25.0. wheel 0.42.0. wrapt 1.16.0. zarr 2.17.0. zict 3.0.0. zipp 3.17.0. ```. </details>.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2866
https://github.com/scverse/scanpy/issues/2869:143,deployability,releas,release,143,Rename master -> main; ### What kind of feature would you like to request? Other? ### Please describe your wishes. Once we branch for the 1.10 release series we should do the branch renaming. Some docs about this:. * https://github.com/github/renaming,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2869
https://github.com/scverse/scanpy/pull/2870:466,deployability,releas,release,466,"Bump umap to 0.5.5, remove most compat code; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2012. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:. TODO:. - [ ] Figure out and fix this: https://github.com/scverse/scanpy/blob/4fb3dc7d11f1b067f0aea1008cd3e7fbc3e5d54c/scanpy/metrics/_gearys_c.py#L128-L131 (related to https://github.com/numba/numba/issues/6976?). - [x] Maybe remove these: https://github.com/scverse/scanpy/blob/4fb3dc7d11f1b067f0aea1008cd3e7fbc3e5d54c/scanpy/tools/_umap.py#L167-L171 https://github.com/scverse/scanpy/blob/4fb3dc7d11f1b067f0aea1008cd3e7fbc3e5d54c/scanpy/neighbors/_connectivity.py#L120-L123. - [x] release notes",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2870
https://github.com/scverse/scanpy/pull/2870:491,deployability,Releas,Release,491,"Bump umap to 0.5.5, remove most compat code; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2012. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:. TODO:. - [ ] Figure out and fix this: https://github.com/scverse/scanpy/blob/4fb3dc7d11f1b067f0aea1008cd3e7fbc3e5d54c/scanpy/metrics/_gearys_c.py#L128-L131 (related to https://github.com/numba/numba/issues/6976?). - [x] Maybe remove these: https://github.com/scverse/scanpy/blob/4fb3dc7d11f1b067f0aea1008cd3e7fbc3e5d54c/scanpy/tools/_umap.py#L167-L171 https://github.com/scverse/scanpy/blob/4fb3dc7d11f1b067f0aea1008cd3e7fbc3e5d54c/scanpy/neighbors/_connectivity.py#L120-L123. - [x] release notes",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2870
https://github.com/scverse/scanpy/pull/2870:1012,deployability,releas,release,1012,"Bump umap to 0.5.5, remove most compat code; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2012. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:. TODO:. - [ ] Figure out and fix this: https://github.com/scverse/scanpy/blob/4fb3dc7d11f1b067f0aea1008cd3e7fbc3e5d54c/scanpy/metrics/_gearys_c.py#L128-L131 (related to https://github.com/numba/numba/issues/6976?). - [x] Maybe remove these: https://github.com/scverse/scanpy/blob/4fb3dc7d11f1b067f0aea1008cd3e7fbc3e5d54c/scanpy/tools/_umap.py#L167-L171 https://github.com/scverse/scanpy/blob/4fb3dc7d11f1b067f0aea1008cd3e7fbc3e5d54c/scanpy/neighbors/_connectivity.py#L120-L123. - [x] release notes",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2870
https://github.com/scverse/scanpy/pull/2870:264,safety,review,review,264,"Bump umap to 0.5.5, remove most compat code; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2012. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:. TODO:. - [ ] Figure out and fix this: https://github.com/scverse/scanpy/blob/4fb3dc7d11f1b067f0aea1008cd3e7fbc3e5d54c/scanpy/metrics/_gearys_c.py#L128-L131 (related to https://github.com/numba/numba/issues/6976?). - [x] Maybe remove these: https://github.com/scverse/scanpy/blob/4fb3dc7d11f1b067f0aea1008cd3e7fbc3e5d54c/scanpy/tools/_umap.py#L167-L171 https://github.com/scverse/scanpy/blob/4fb3dc7d11f1b067f0aea1008cd3e7fbc3e5d54c/scanpy/neighbors/_connectivity.py#L120-L123. - [x] release notes",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2870
https://github.com/scverse/scanpy/pull/2870:368,safety,Test,Tests,368,"Bump umap to 0.5.5, remove most compat code; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2012. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:. TODO:. - [ ] Figure out and fix this: https://github.com/scverse/scanpy/blob/4fb3dc7d11f1b067f0aea1008cd3e7fbc3e5d54c/scanpy/metrics/_gearys_c.py#L128-L131 (related to https://github.com/numba/numba/issues/6976?). - [x] Maybe remove these: https://github.com/scverse/scanpy/blob/4fb3dc7d11f1b067f0aea1008cd3e7fbc3e5d54c/scanpy/tools/_umap.py#L167-L171 https://github.com/scverse/scanpy/blob/4fb3dc7d11f1b067f0aea1008cd3e7fbc3e5d54c/scanpy/neighbors/_connectivity.py#L120-L123. - [x] release notes",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2870
https://github.com/scverse/scanpy/pull/2870:264,testability,review,review,264,"Bump umap to 0.5.5, remove most compat code; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2012. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:. TODO:. - [ ] Figure out and fix this: https://github.com/scverse/scanpy/blob/4fb3dc7d11f1b067f0aea1008cd3e7fbc3e5d54c/scanpy/metrics/_gearys_c.py#L128-L131 (related to https://github.com/numba/numba/issues/6976?). - [x] Maybe remove these: https://github.com/scverse/scanpy/blob/4fb3dc7d11f1b067f0aea1008cd3e7fbc3e5d54c/scanpy/tools/_umap.py#L167-L171 https://github.com/scverse/scanpy/blob/4fb3dc7d11f1b067f0aea1008cd3e7fbc3e5d54c/scanpy/neighbors/_connectivity.py#L120-L123. - [x] release notes",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2870
https://github.com/scverse/scanpy/pull/2870:368,testability,Test,Tests,368,"Bump umap to 0.5.5, remove most compat code; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2012. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:. TODO:. - [ ] Figure out and fix this: https://github.com/scverse/scanpy/blob/4fb3dc7d11f1b067f0aea1008cd3e7fbc3e5d54c/scanpy/metrics/_gearys_c.py#L128-L131 (related to https://github.com/numba/numba/issues/6976?). - [x] Maybe remove these: https://github.com/scverse/scanpy/blob/4fb3dc7d11f1b067f0aea1008cd3e7fbc3e5d54c/scanpy/tools/_umap.py#L167-L171 https://github.com/scverse/scanpy/blob/4fb3dc7d11f1b067f0aea1008cd3e7fbc3e5d54c/scanpy/neighbors/_connectivity.py#L120-L123. - [x] release notes",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2870
https://github.com/scverse/scanpy/pull/2870:115,usability,guid,guidelines,115,"Bump umap to 0.5.5, remove most compat code; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2012. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:. TODO:. - [ ] Figure out and fix this: https://github.com/scverse/scanpy/blob/4fb3dc7d11f1b067f0aea1008cd3e7fbc3e5d54c/scanpy/metrics/_gearys_c.py#L128-L131 (related to https://github.com/numba/numba/issues/6976?). - [x] Maybe remove these: https://github.com/scverse/scanpy/blob/4fb3dc7d11f1b067f0aea1008cd3e7fbc3e5d54c/scanpy/tools/_umap.py#L167-L171 https://github.com/scverse/scanpy/blob/4fb3dc7d11f1b067f0aea1008cd3e7fbc3e5d54c/scanpy/neighbors/_connectivity.py#L120-L123. - [x] release notes",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2870
https://github.com/scverse/scanpy/pull/2870:146,usability,guid,guide,146,"Bump umap to 0.5.5, remove most compat code; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2012. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:. TODO:. - [ ] Figure out and fix this: https://github.com/scverse/scanpy/blob/4fb3dc7d11f1b067f0aea1008cd3e7fbc3e5d54c/scanpy/metrics/_gearys_c.py#L128-L131 (related to https://github.com/numba/numba/issues/6976?). - [x] Maybe remove these: https://github.com/scverse/scanpy/blob/4fb3dc7d11f1b067f0aea1008cd3e7fbc3e5d54c/scanpy/tools/_umap.py#L167-L171 https://github.com/scverse/scanpy/blob/4fb3dc7d11f1b067f0aea1008cd3e7fbc3e5d54c/scanpy/neighbors/_connectivity.py#L120-L123. - [x] release notes",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2870
https://github.com/scverse/scanpy/pull/2870:242,usability,workflow,workflow,242,"Bump umap to 0.5.5, remove most compat code; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2012. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:. TODO:. - [ ] Figure out and fix this: https://github.com/scverse/scanpy/blob/4fb3dc7d11f1b067f0aea1008cd3e7fbc3e5d54c/scanpy/metrics/_gearys_c.py#L128-L131 (related to https://github.com/numba/numba/issues/6976?). - [x] Maybe remove these: https://github.com/scverse/scanpy/blob/4fb3dc7d11f1b067f0aea1008cd3e7fbc3e5d54c/scanpy/tools/_umap.py#L167-L171 https://github.com/scverse/scanpy/blob/4fb3dc7d11f1b067f0aea1008cd3e7fbc3e5d54c/scanpy/neighbors/_connectivity.py#L120-L123. - [x] release notes",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2870
https://github.com/scverse/scanpy/pull/2870:348,usability,Close,Closes,348,"Bump umap to 0.5.5, remove most compat code; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2012. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:. TODO:. - [ ] Figure out and fix this: https://github.com/scverse/scanpy/blob/4fb3dc7d11f1b067f0aea1008cd3e7fbc3e5d54c/scanpy/metrics/_gearys_c.py#L128-L131 (related to https://github.com/numba/numba/issues/6976?). - [x] Maybe remove these: https://github.com/scverse/scanpy/blob/4fb3dc7d11f1b067f0aea1008cd3e7fbc3e5d54c/scanpy/tools/_umap.py#L167-L171 https://github.com/scverse/scanpy/blob/4fb3dc7d11f1b067f0aea1008cd3e7fbc3e5d54c/scanpy/neighbors/_connectivity.py#L120-L123. - [x] release notes",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2870
https://github.com/scverse/scanpy/pull/2870:856,usability,tool,tools,856,"Bump umap to 0.5.5, remove most compat code; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2012. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:. TODO:. - [ ] Figure out and fix this: https://github.com/scverse/scanpy/blob/4fb3dc7d11f1b067f0aea1008cd3e7fbc3e5d54c/scanpy/metrics/_gearys_c.py#L128-L131 (related to https://github.com/numba/numba/issues/6976?). - [x] Maybe remove these: https://github.com/scverse/scanpy/blob/4fb3dc7d11f1b067f0aea1008cd3e7fbc3e5d54c/scanpy/tools/_umap.py#L167-L171 https://github.com/scverse/scanpy/blob/4fb3dc7d11f1b067f0aea1008cd3e7fbc3e5d54c/scanpy/neighbors/_connectivity.py#L120-L123. - [x] release notes",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2870
https://github.com/scverse/scanpy/issues/2871:37,integrability,transform,transformer,37,"More in depth example for `neighbors(transformer=...)`; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. It would be nice to have a more in depth usage example for the new transformer feature for `neighbors`. In particular it would be nice to show how a faster backend can be used. This could be stand alone, and not part of the usage docs.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2871
https://github.com/scverse/scanpy/issues/2871:283,integrability,transform,transformer,283,"More in depth example for `neighbors(transformer=...)`; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. It would be nice to have a more in depth usage example for the new transformer feature for `neighbors`. In particular it would be nice to show how a faster backend can be used. This could be stand alone, and not part of the usage docs.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2871
https://github.com/scverse/scanpy/issues/2871:37,interoperability,transform,transformer,37,"More in depth example for `neighbors(transformer=...)`; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. It would be nice to have a more in depth usage example for the new transformer feature for `neighbors`. In particular it would be nice to show how a faster backend can be used. This could be stand alone, and not part of the usage docs.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2871
https://github.com/scverse/scanpy/issues/2871:283,interoperability,transform,transformer,283,"More in depth example for `neighbors(transformer=...)`; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. It would be nice to have a more in depth usage example for the new transformer feature for `neighbors`. In particular it would be nice to show how a faster backend can be used. This could be stand alone, and not part of the usage docs.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2871
https://github.com/scverse/scanpy/issues/2871:128,modifiability,paramet,parameters,128,"More in depth example for `neighbors(transformer=...)`; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. It would be nice to have a more in depth usage example for the new transformer feature for `neighbors`. In particular it would be nice to show how a faster backend can be used. This could be stand alone, and not part of the usage docs.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2871
https://github.com/scverse/scanpy/pull/2872:27,deployability,releas,release,27,re-order and rephrase some release notes; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2872
https://github.com/scverse/scanpy/pull/2872:459,deployability,releas,release,459,re-order and rephrase some release notes; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2872
https://github.com/scverse/scanpy/pull/2872:484,deployability,Releas,Release,484,re-order and rephrase some release notes; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2872
https://github.com/scverse/scanpy/pull/2872:261,safety,review,review,261,re-order and rephrase some release notes; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2872
https://github.com/scverse/scanpy/pull/2872:361,safety,Test,Tests,361,re-order and rephrase some release notes; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2872
https://github.com/scverse/scanpy/pull/2872:261,testability,review,review,261,re-order and rephrase some release notes; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2872
https://github.com/scverse/scanpy/pull/2872:361,testability,Test,Tests,361,re-order and rephrase some release notes; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2872
https://github.com/scverse/scanpy/pull/2872:112,usability,guid,guidelines,112,re-order and rephrase some release notes; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2872
https://github.com/scverse/scanpy/pull/2872:143,usability,guid,guide,143,re-order and rephrase some release notes; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2872
https://github.com/scverse/scanpy/pull/2872:239,usability,workflow,workflow,239,re-order and rephrase some release notes; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2872
https://github.com/scverse/scanpy/pull/2872:345,usability,Close,Closes,345,re-order and rephrase some release notes; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2872
https://github.com/scverse/scanpy/pull/2873:946,availability,cluster,cluster,946,"Stacked barplot; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ X] Closes # (New Feature). - [ X] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [X ] Release notes not necessary because:. I thought I would give a shot at contributing to this awesome tool! I added a function to Scanpy's plotting API that I use in my own research for creating stacked barplots for visualizing compositions of cell groups. An example is depicted below:. ![image](https://github.com/scverse/scanpy/assets/5004419/21885a72-e15f-4f94-b1e5-84c1de8ca954). Specifically, this function enables one to plot the fraction of each cell group (e.g., cluster) that are labelled with a specific categorical variable. For example, if the cell groups are clusters, then one might be interested in examining the fraction of each cluster that originates from each ""batch"" of cells or each patient sample. This function also enables ordering of the groups according to a specific value (e.g., a patient number or batch ID) or by agglomerative clustering. An example of ordering the groups based on agglomerative clustering is shown below:. ![image](https://github.com/scverse/scanpy/assets/5004419/bfde8173-4f0d-483f-b37e-849446b65153). The function supplies an argument to specify whether the dendrogram should or should not be plotted. Please let me know if this feature is of interest and if so, what else needs to be adjusted or fixed prior to merging. Thanks! Matt.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2873
https://github.com/scverse/scanpy/pull/2873:1047,availability,cluster,clusters,1047,"Stacked barplot; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ X] Closes # (New Feature). - [ X] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [X ] Release notes not necessary because:. I thought I would give a shot at contributing to this awesome tool! I added a function to Scanpy's plotting API that I use in my own research for creating stacked barplots for visualizing compositions of cell groups. An example is depicted below:. ![image](https://github.com/scverse/scanpy/assets/5004419/21885a72-e15f-4f94-b1e5-84c1de8ca954). Specifically, this function enables one to plot the fraction of each cell group (e.g., cluster) that are labelled with a specific categorical variable. For example, if the cell groups are clusters, then one might be interested in examining the fraction of each cluster that originates from each ""batch"" of cells or each patient sample. This function also enables ordering of the groups according to a specific value (e.g., a patient number or batch ID) or by agglomerative clustering. An example of ordering the groups based on agglomerative clustering is shown below:. ![image](https://github.com/scverse/scanpy/assets/5004419/bfde8173-4f0d-483f-b37e-849446b65153). The function supplies an argument to specify whether the dendrogram should or should not be plotted. Please let me know if this feature is of interest and if so, what else needs to be adjusted or fixed prior to merging. Thanks! Matt.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2873
https://github.com/scverse/scanpy/pull/2873:1120,availability,cluster,cluster,1120,"Stacked barplot; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ X] Closes # (New Feature). - [ X] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [X ] Release notes not necessary because:. I thought I would give a shot at contributing to this awesome tool! I added a function to Scanpy's plotting API that I use in my own research for creating stacked barplots for visualizing compositions of cell groups. An example is depicted below:. ![image](https://github.com/scverse/scanpy/assets/5004419/21885a72-e15f-4f94-b1e5-84c1de8ca954). Specifically, this function enables one to plot the fraction of each cell group (e.g., cluster) that are labelled with a specific categorical variable. For example, if the cell groups are clusters, then one might be interested in examining the fraction of each cluster that originates from each ""batch"" of cells or each patient sample. This function also enables ordering of the groups according to a specific value (e.g., a patient number or batch ID) or by agglomerative clustering. An example of ordering the groups based on agglomerative clustering is shown below:. ![image](https://github.com/scverse/scanpy/assets/5004419/bfde8173-4f0d-483f-b37e-849446b65153). The function supplies an argument to specify whether the dendrogram should or should not be plotted. Please let me know if this feature is of interest and if so, what else needs to be adjusted or fixed prior to merging. Thanks! Matt.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2873
https://github.com/scverse/scanpy/pull/2873:1332,availability,cluster,clustering,1332,"Stacked barplot; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ X] Closes # (New Feature). - [ X] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [X ] Release notes not necessary because:. I thought I would give a shot at contributing to this awesome tool! I added a function to Scanpy's plotting API that I use in my own research for creating stacked barplots for visualizing compositions of cell groups. An example is depicted below:. ![image](https://github.com/scverse/scanpy/assets/5004419/21885a72-e15f-4f94-b1e5-84c1de8ca954). Specifically, this function enables one to plot the fraction of each cell group (e.g., cluster) that are labelled with a specific categorical variable. For example, if the cell groups are clusters, then one might be interested in examining the fraction of each cluster that originates from each ""batch"" of cells or each patient sample. This function also enables ordering of the groups according to a specific value (e.g., a patient number or batch ID) or by agglomerative clustering. An example of ordering the groups based on agglomerative clustering is shown below:. ![image](https://github.com/scverse/scanpy/assets/5004419/bfde8173-4f0d-483f-b37e-849446b65153). The function supplies an argument to specify whether the dendrogram should or should not be plotted. Please let me know if this feature is of interest and if so, what else needs to be adjusted or fixed prior to merging. Thanks! Matt.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2873
https://github.com/scverse/scanpy/pull/2873:1401,availability,cluster,clustering,1401,"Stacked barplot; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ X] Closes # (New Feature). - [ X] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [X ] Release notes not necessary because:. I thought I would give a shot at contributing to this awesome tool! I added a function to Scanpy's plotting API that I use in my own research for creating stacked barplots for visualizing compositions of cell groups. An example is depicted below:. ![image](https://github.com/scverse/scanpy/assets/5004419/21885a72-e15f-4f94-b1e5-84c1de8ca954). Specifically, this function enables one to plot the fraction of each cell group (e.g., cluster) that are labelled with a specific categorical variable. For example, if the cell groups are clusters, then one might be interested in examining the fraction of each cluster that originates from each ""batch"" of cells or each patient sample. This function also enables ordering of the groups according to a specific value (e.g., a patient number or batch ID) or by agglomerative clustering. An example of ordering the groups based on agglomerative clustering is shown below:. ![image](https://github.com/scverse/scanpy/assets/5004419/bfde8173-4f0d-483f-b37e-849446b65153). The function supplies an argument to specify whether the dendrogram should or should not be plotted. Please let me know if this feature is of interest and if so, what else needs to be adjusted or fixed prior to merging. Thanks! Matt.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2873
https://github.com/scverse/scanpy/pull/2873:0,deployability,Stack,Stacked,0,"Stacked barplot; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ X] Closes # (New Feature). - [ X] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [X ] Release notes not necessary because:. I thought I would give a shot at contributing to this awesome tool! I added a function to Scanpy's plotting API that I use in my own research for creating stacked barplots for visualizing compositions of cell groups. An example is depicted below:. ![image](https://github.com/scverse/scanpy/assets/5004419/21885a72-e15f-4f94-b1e5-84c1de8ca954). Specifically, this function enables one to plot the fraction of each cell group (e.g., cluster) that are labelled with a specific categorical variable. For example, if the cell groups are clusters, then one might be interested in examining the fraction of each cluster that originates from each ""batch"" of cells or each patient sample. This function also enables ordering of the groups according to a specific value (e.g., a patient number or batch ID) or by agglomerative clustering. An example of ordering the groups based on agglomerative clustering is shown below:. ![image](https://github.com/scverse/scanpy/assets/5004419/bfde8173-4f0d-483f-b37e-849446b65153). The function supplies an argument to specify whether the dendrogram should or should not be plotted. Please let me know if this feature is of interest and if so, what else needs to be adjusted or fixed prior to merging. Thanks! Matt.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2873
https://github.com/scverse/scanpy/pull/2873:450,deployability,releas,release,450,"Stacked barplot; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ X] Closes # (New Feature). - [ X] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [X ] Release notes not necessary because:. I thought I would give a shot at contributing to this awesome tool! I added a function to Scanpy's plotting API that I use in my own research for creating stacked barplots for visualizing compositions of cell groups. An example is depicted below:. ![image](https://github.com/scverse/scanpy/assets/5004419/21885a72-e15f-4f94-b1e5-84c1de8ca954). Specifically, this function enables one to plot the fraction of each cell group (e.g., cluster) that are labelled with a specific categorical variable. For example, if the cell groups are clusters, then one might be interested in examining the fraction of each cluster that originates from each ""batch"" of cells or each patient sample. This function also enables ordering of the groups according to a specific value (e.g., a patient number or batch ID) or by agglomerative clustering. An example of ordering the groups based on agglomerative clustering is shown below:. ![image](https://github.com/scverse/scanpy/assets/5004419/bfde8173-4f0d-483f-b37e-849446b65153). The function supplies an argument to specify whether the dendrogram should or should not be plotted. Please let me know if this feature is of interest and if so, what else needs to be adjusted or fixed prior to merging. Thanks! Matt.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2873
https://github.com/scverse/scanpy/pull/2873:476,deployability,Releas,Release,476,"Stacked barplot; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ X] Closes # (New Feature). - [ X] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [X ] Release notes not necessary because:. I thought I would give a shot at contributing to this awesome tool! I added a function to Scanpy's plotting API that I use in my own research for creating stacked barplots for visualizing compositions of cell groups. An example is depicted below:. ![image](https://github.com/scverse/scanpy/assets/5004419/21885a72-e15f-4f94-b1e5-84c1de8ca954). Specifically, this function enables one to plot the fraction of each cell group (e.g., cluster) that are labelled with a specific categorical variable. For example, if the cell groups are clusters, then one might be interested in examining the fraction of each cluster that originates from each ""batch"" of cells or each patient sample. This function also enables ordering of the groups according to a specific value (e.g., a patient number or batch ID) or by agglomerative clustering. An example of ordering the groups based on agglomerative clustering is shown below:. ![image](https://github.com/scverse/scanpy/assets/5004419/bfde8173-4f0d-483f-b37e-849446b65153). The function supplies an argument to specify whether the dendrogram should or should not be plotted. Please let me know if this feature is of interest and if so, what else needs to be adjusted or fixed prior to merging. Thanks! Matt.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2873
https://github.com/scverse/scanpy/pull/2873:622,deployability,API,API,622,"Stacked barplot; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ X] Closes # (New Feature). - [ X] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [X ] Release notes not necessary because:. I thought I would give a shot at contributing to this awesome tool! I added a function to Scanpy's plotting API that I use in my own research for creating stacked barplots for visualizing compositions of cell groups. An example is depicted below:. ![image](https://github.com/scverse/scanpy/assets/5004419/21885a72-e15f-4f94-b1e5-84c1de8ca954). Specifically, this function enables one to plot the fraction of each cell group (e.g., cluster) that are labelled with a specific categorical variable. For example, if the cell groups are clusters, then one might be interested in examining the fraction of each cluster that originates from each ""batch"" of cells or each patient sample. This function also enables ordering of the groups according to a specific value (e.g., a patient number or batch ID) or by agglomerative clustering. An example of ordering the groups based on agglomerative clustering is shown below:. ![image](https://github.com/scverse/scanpy/assets/5004419/bfde8173-4f0d-483f-b37e-849446b65153). The function supplies an argument to specify whether the dendrogram should or should not be plotted. Please let me know if this feature is of interest and if so, what else needs to be adjusted or fixed prior to merging. Thanks! Matt.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2873
https://github.com/scverse/scanpy/pull/2873:669,deployability,stack,stacked,669,"Stacked barplot; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ X] Closes # (New Feature). - [ X] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [X ] Release notes not necessary because:. I thought I would give a shot at contributing to this awesome tool! I added a function to Scanpy's plotting API that I use in my own research for creating stacked barplots for visualizing compositions of cell groups. An example is depicted below:. ![image](https://github.com/scverse/scanpy/assets/5004419/21885a72-e15f-4f94-b1e5-84c1de8ca954). Specifically, this function enables one to plot the fraction of each cell group (e.g., cluster) that are labelled with a specific categorical variable. For example, if the cell groups are clusters, then one might be interested in examining the fraction of each cluster that originates from each ""batch"" of cells or each patient sample. This function also enables ordering of the groups according to a specific value (e.g., a patient number or batch ID) or by agglomerative clustering. An example of ordering the groups based on agglomerative clustering is shown below:. ![image](https://github.com/scverse/scanpy/assets/5004419/bfde8173-4f0d-483f-b37e-849446b65153). The function supplies an argument to specify whether the dendrogram should or should not be plotted. Please let me know if this feature is of interest and if so, what else needs to be adjusted or fixed prior to merging. Thanks! Matt.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2873
https://github.com/scverse/scanpy/pull/2873:702,deployability,compos,compositions,702,"Stacked barplot; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ X] Closes # (New Feature). - [ X] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [X ] Release notes not necessary because:. I thought I would give a shot at contributing to this awesome tool! I added a function to Scanpy's plotting API that I use in my own research for creating stacked barplots for visualizing compositions of cell groups. An example is depicted below:. ![image](https://github.com/scverse/scanpy/assets/5004419/21885a72-e15f-4f94-b1e5-84c1de8ca954). Specifically, this function enables one to plot the fraction of each cell group (e.g., cluster) that are labelled with a specific categorical variable. For example, if the cell groups are clusters, then one might be interested in examining the fraction of each cluster that originates from each ""batch"" of cells or each patient sample. This function also enables ordering of the groups according to a specific value (e.g., a patient number or batch ID) or by agglomerative clustering. An example of ordering the groups based on agglomerative clustering is shown below:. ![image](https://github.com/scverse/scanpy/assets/5004419/bfde8173-4f0d-483f-b37e-849446b65153). The function supplies an argument to specify whether the dendrogram should or should not be plotted. Please let me know if this feature is of interest and if so, what else needs to be adjusted or fixed prior to merging. Thanks! Matt.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2873
https://github.com/scverse/scanpy/pull/2873:946,deployability,cluster,cluster,946,"Stacked barplot; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ X] Closes # (New Feature). - [ X] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [X ] Release notes not necessary because:. I thought I would give a shot at contributing to this awesome tool! I added a function to Scanpy's plotting API that I use in my own research for creating stacked barplots for visualizing compositions of cell groups. An example is depicted below:. ![image](https://github.com/scverse/scanpy/assets/5004419/21885a72-e15f-4f94-b1e5-84c1de8ca954). Specifically, this function enables one to plot the fraction of each cell group (e.g., cluster) that are labelled with a specific categorical variable. For example, if the cell groups are clusters, then one might be interested in examining the fraction of each cluster that originates from each ""batch"" of cells or each patient sample. This function also enables ordering of the groups according to a specific value (e.g., a patient number or batch ID) or by agglomerative clustering. An example of ordering the groups based on agglomerative clustering is shown below:. ![image](https://github.com/scverse/scanpy/assets/5004419/bfde8173-4f0d-483f-b37e-849446b65153). The function supplies an argument to specify whether the dendrogram should or should not be plotted. Please let me know if this feature is of interest and if so, what else needs to be adjusted or fixed prior to merging. Thanks! Matt.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2873
https://github.com/scverse/scanpy/pull/2873:1047,deployability,cluster,clusters,1047,"Stacked barplot; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ X] Closes # (New Feature). - [ X] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [X ] Release notes not necessary because:. I thought I would give a shot at contributing to this awesome tool! I added a function to Scanpy's plotting API that I use in my own research for creating stacked barplots for visualizing compositions of cell groups. An example is depicted below:. ![image](https://github.com/scverse/scanpy/assets/5004419/21885a72-e15f-4f94-b1e5-84c1de8ca954). Specifically, this function enables one to plot the fraction of each cell group (e.g., cluster) that are labelled with a specific categorical variable. For example, if the cell groups are clusters, then one might be interested in examining the fraction of each cluster that originates from each ""batch"" of cells or each patient sample. This function also enables ordering of the groups according to a specific value (e.g., a patient number or batch ID) or by agglomerative clustering. An example of ordering the groups based on agglomerative clustering is shown below:. ![image](https://github.com/scverse/scanpy/assets/5004419/bfde8173-4f0d-483f-b37e-849446b65153). The function supplies an argument to specify whether the dendrogram should or should not be plotted. Please let me know if this feature is of interest and if so, what else needs to be adjusted or fixed prior to merging. Thanks! Matt.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2873
https://github.com/scverse/scanpy/pull/2873:1120,deployability,cluster,cluster,1120,"Stacked barplot; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ X] Closes # (New Feature). - [ X] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [X ] Release notes not necessary because:. I thought I would give a shot at contributing to this awesome tool! I added a function to Scanpy's plotting API that I use in my own research for creating stacked barplots for visualizing compositions of cell groups. An example is depicted below:. ![image](https://github.com/scverse/scanpy/assets/5004419/21885a72-e15f-4f94-b1e5-84c1de8ca954). Specifically, this function enables one to plot the fraction of each cell group (e.g., cluster) that are labelled with a specific categorical variable. For example, if the cell groups are clusters, then one might be interested in examining the fraction of each cluster that originates from each ""batch"" of cells or each patient sample. This function also enables ordering of the groups according to a specific value (e.g., a patient number or batch ID) or by agglomerative clustering. An example of ordering the groups based on agglomerative clustering is shown below:. ![image](https://github.com/scverse/scanpy/assets/5004419/bfde8173-4f0d-483f-b37e-849446b65153). The function supplies an argument to specify whether the dendrogram should or should not be plotted. Please let me know if this feature is of interest and if so, what else needs to be adjusted or fixed prior to merging. Thanks! Matt.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2873
https://github.com/scverse/scanpy/pull/2873:1332,deployability,cluster,clustering,1332,"Stacked barplot; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ X] Closes # (New Feature). - [ X] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [X ] Release notes not necessary because:. I thought I would give a shot at contributing to this awesome tool! I added a function to Scanpy's plotting API that I use in my own research for creating stacked barplots for visualizing compositions of cell groups. An example is depicted below:. ![image](https://github.com/scverse/scanpy/assets/5004419/21885a72-e15f-4f94-b1e5-84c1de8ca954). Specifically, this function enables one to plot the fraction of each cell group (e.g., cluster) that are labelled with a specific categorical variable. For example, if the cell groups are clusters, then one might be interested in examining the fraction of each cluster that originates from each ""batch"" of cells or each patient sample. This function also enables ordering of the groups according to a specific value (e.g., a patient number or batch ID) or by agglomerative clustering. An example of ordering the groups based on agglomerative clustering is shown below:. ![image](https://github.com/scverse/scanpy/assets/5004419/bfde8173-4f0d-483f-b37e-849446b65153). The function supplies an argument to specify whether the dendrogram should or should not be plotted. Please let me know if this feature is of interest and if so, what else needs to be adjusted or fixed prior to merging. Thanks! Matt.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2873
https://github.com/scverse/scanpy/pull/2873:1401,deployability,cluster,clustering,1401,"Stacked barplot; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ X] Closes # (New Feature). - [ X] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [X ] Release notes not necessary because:. I thought I would give a shot at contributing to this awesome tool! I added a function to Scanpy's plotting API that I use in my own research for creating stacked barplots for visualizing compositions of cell groups. An example is depicted below:. ![image](https://github.com/scverse/scanpy/assets/5004419/21885a72-e15f-4f94-b1e5-84c1de8ca954). Specifically, this function enables one to plot the fraction of each cell group (e.g., cluster) that are labelled with a specific categorical variable. For example, if the cell groups are clusters, then one might be interested in examining the fraction of each cluster that originates from each ""batch"" of cells or each patient sample. This function also enables ordering of the groups according to a specific value (e.g., a patient number or batch ID) or by agglomerative clustering. An example of ordering the groups based on agglomerative clustering is shown below:. ![image](https://github.com/scverse/scanpy/assets/5004419/bfde8173-4f0d-483f-b37e-849446b65153). The function supplies an argument to specify whether the dendrogram should or should not be plotted. Please let me know if this feature is of interest and if so, what else needs to be adjusted or fixed prior to merging. Thanks! Matt.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2873
https://github.com/scverse/scanpy/pull/2873:622,integrability,API,API,622,"Stacked barplot; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ X] Closes # (New Feature). - [ X] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [X ] Release notes not necessary because:. I thought I would give a shot at contributing to this awesome tool! I added a function to Scanpy's plotting API that I use in my own research for creating stacked barplots for visualizing compositions of cell groups. An example is depicted below:. ![image](https://github.com/scverse/scanpy/assets/5004419/21885a72-e15f-4f94-b1e5-84c1de8ca954). Specifically, this function enables one to plot the fraction of each cell group (e.g., cluster) that are labelled with a specific categorical variable. For example, if the cell groups are clusters, then one might be interested in examining the fraction of each cluster that originates from each ""batch"" of cells or each patient sample. This function also enables ordering of the groups according to a specific value (e.g., a patient number or batch ID) or by agglomerative clustering. An example of ordering the groups based on agglomerative clustering is shown below:. ![image](https://github.com/scverse/scanpy/assets/5004419/bfde8173-4f0d-483f-b37e-849446b65153). The function supplies an argument to specify whether the dendrogram should or should not be plotted. Please let me know if this feature is of interest and if so, what else needs to be adjusted or fixed prior to merging. Thanks! Matt.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2873
https://github.com/scverse/scanpy/pull/2873:1155,integrability,batch,batch,1155,"Stacked barplot; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ X] Closes # (New Feature). - [ X] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [X ] Release notes not necessary because:. I thought I would give a shot at contributing to this awesome tool! I added a function to Scanpy's plotting API that I use in my own research for creating stacked barplots for visualizing compositions of cell groups. An example is depicted below:. ![image](https://github.com/scverse/scanpy/assets/5004419/21885a72-e15f-4f94-b1e5-84c1de8ca954). Specifically, this function enables one to plot the fraction of each cell group (e.g., cluster) that are labelled with a specific categorical variable. For example, if the cell groups are clusters, then one might be interested in examining the fraction of each cluster that originates from each ""batch"" of cells or each patient sample. This function also enables ordering of the groups according to a specific value (e.g., a patient number or batch ID) or by agglomerative clustering. An example of ordering the groups based on agglomerative clustering is shown below:. ![image](https://github.com/scverse/scanpy/assets/5004419/bfde8173-4f0d-483f-b37e-849446b65153). The function supplies an argument to specify whether the dendrogram should or should not be plotted. Please let me know if this feature is of interest and if so, what else needs to be adjusted or fixed prior to merging. Thanks! Matt.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2873
https://github.com/scverse/scanpy/pull/2873:1302,integrability,batch,batch,1302,"Stacked barplot; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ X] Closes # (New Feature). - [ X] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [X ] Release notes not necessary because:. I thought I would give a shot at contributing to this awesome tool! I added a function to Scanpy's plotting API that I use in my own research for creating stacked barplots for visualizing compositions of cell groups. An example is depicted below:. ![image](https://github.com/scverse/scanpy/assets/5004419/21885a72-e15f-4f94-b1e5-84c1de8ca954). Specifically, this function enables one to plot the fraction of each cell group (e.g., cluster) that are labelled with a specific categorical variable. For example, if the cell groups are clusters, then one might be interested in examining the fraction of each cluster that originates from each ""batch"" of cells or each patient sample. This function also enables ordering of the groups according to a specific value (e.g., a patient number or batch ID) or by agglomerative clustering. An example of ordering the groups based on agglomerative clustering is shown below:. ![image](https://github.com/scverse/scanpy/assets/5004419/bfde8173-4f0d-483f-b37e-849446b65153). The function supplies an argument to specify whether the dendrogram should or should not be plotted. Please let me know if this feature is of interest and if so, what else needs to be adjusted or fixed prior to merging. Thanks! Matt.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2873
https://github.com/scverse/scanpy/pull/2873:622,interoperability,API,API,622,"Stacked barplot; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ X] Closes # (New Feature). - [ X] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [X ] Release notes not necessary because:. I thought I would give a shot at contributing to this awesome tool! I added a function to Scanpy's plotting API that I use in my own research for creating stacked barplots for visualizing compositions of cell groups. An example is depicted below:. ![image](https://github.com/scverse/scanpy/assets/5004419/21885a72-e15f-4f94-b1e5-84c1de8ca954). Specifically, this function enables one to plot the fraction of each cell group (e.g., cluster) that are labelled with a specific categorical variable. For example, if the cell groups are clusters, then one might be interested in examining the fraction of each cluster that originates from each ""batch"" of cells or each patient sample. This function also enables ordering of the groups according to a specific value (e.g., a patient number or batch ID) or by agglomerative clustering. An example of ordering the groups based on agglomerative clustering is shown below:. ![image](https://github.com/scverse/scanpy/assets/5004419/bfde8173-4f0d-483f-b37e-849446b65153). The function supplies an argument to specify whether the dendrogram should or should not be plotted. Please let me know if this feature is of interest and if so, what else needs to be adjusted or fixed prior to merging. Thanks! Matt.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2873
https://github.com/scverse/scanpy/pull/2873:859,interoperability,Specif,Specifically,859,"Stacked barplot; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ X] Closes # (New Feature). - [ X] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [X ] Release notes not necessary because:. I thought I would give a shot at contributing to this awesome tool! I added a function to Scanpy's plotting API that I use in my own research for creating stacked barplots for visualizing compositions of cell groups. An example is depicted below:. ![image](https://github.com/scverse/scanpy/assets/5004419/21885a72-e15f-4f94-b1e5-84c1de8ca954). Specifically, this function enables one to plot the fraction of each cell group (e.g., cluster) that are labelled with a specific categorical variable. For example, if the cell groups are clusters, then one might be interested in examining the fraction of each cluster that originates from each ""batch"" of cells or each patient sample. This function also enables ordering of the groups according to a specific value (e.g., a patient number or batch ID) or by agglomerative clustering. An example of ordering the groups based on agglomerative clustering is shown below:. ![image](https://github.com/scverse/scanpy/assets/5004419/bfde8173-4f0d-483f-b37e-849446b65153). The function supplies an argument to specify whether the dendrogram should or should not be plotted. Please let me know if this feature is of interest and if so, what else needs to be adjusted or fixed prior to merging. Thanks! Matt.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2873
https://github.com/scverse/scanpy/pull/2873:980,interoperability,specif,specific,980,"Stacked barplot; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ X] Closes # (New Feature). - [ X] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [X ] Release notes not necessary because:. I thought I would give a shot at contributing to this awesome tool! I added a function to Scanpy's plotting API that I use in my own research for creating stacked barplots for visualizing compositions of cell groups. An example is depicted below:. ![image](https://github.com/scverse/scanpy/assets/5004419/21885a72-e15f-4f94-b1e5-84c1de8ca954). Specifically, this function enables one to plot the fraction of each cell group (e.g., cluster) that are labelled with a specific categorical variable. For example, if the cell groups are clusters, then one might be interested in examining the fraction of each cluster that originates from each ""batch"" of cells or each patient sample. This function also enables ordering of the groups according to a specific value (e.g., a patient number or batch ID) or by agglomerative clustering. An example of ordering the groups based on agglomerative clustering is shown below:. ![image](https://github.com/scverse/scanpy/assets/5004419/bfde8173-4f0d-483f-b37e-849446b65153). The function supplies an argument to specify whether the dendrogram should or should not be plotted. Please let me know if this feature is of interest and if so, what else needs to be adjusted or fixed prior to merging. Thanks! Matt.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2873
https://github.com/scverse/scanpy/pull/2873:1260,interoperability,specif,specific,1260,"Stacked barplot; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ X] Closes # (New Feature). - [ X] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [X ] Release notes not necessary because:. I thought I would give a shot at contributing to this awesome tool! I added a function to Scanpy's plotting API that I use in my own research for creating stacked barplots for visualizing compositions of cell groups. An example is depicted below:. ![image](https://github.com/scverse/scanpy/assets/5004419/21885a72-e15f-4f94-b1e5-84c1de8ca954). Specifically, this function enables one to plot the fraction of each cell group (e.g., cluster) that are labelled with a specific categorical variable. For example, if the cell groups are clusters, then one might be interested in examining the fraction of each cluster that originates from each ""batch"" of cells or each patient sample. This function also enables ordering of the groups according to a specific value (e.g., a patient number or batch ID) or by agglomerative clustering. An example of ordering the groups based on agglomerative clustering is shown below:. ![image](https://github.com/scverse/scanpy/assets/5004419/bfde8173-4f0d-483f-b37e-849446b65153). The function supplies an argument to specify whether the dendrogram should or should not be plotted. Please let me know if this feature is of interest and if so, what else needs to be adjusted or fixed prior to merging. Thanks! Matt.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2873
https://github.com/scverse/scanpy/pull/2873:1563,interoperability,specif,specify,1563,"Stacked barplot; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ X] Closes # (New Feature). - [ X] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [X ] Release notes not necessary because:. I thought I would give a shot at contributing to this awesome tool! I added a function to Scanpy's plotting API that I use in my own research for creating stacked barplots for visualizing compositions of cell groups. An example is depicted below:. ![image](https://github.com/scverse/scanpy/assets/5004419/21885a72-e15f-4f94-b1e5-84c1de8ca954). Specifically, this function enables one to plot the fraction of each cell group (e.g., cluster) that are labelled with a specific categorical variable. For example, if the cell groups are clusters, then one might be interested in examining the fraction of each cluster that originates from each ""batch"" of cells or each patient sample. This function also enables ordering of the groups according to a specific value (e.g., a patient number or batch ID) or by agglomerative clustering. An example of ordering the groups based on agglomerative clustering is shown below:. ![image](https://github.com/scverse/scanpy/assets/5004419/bfde8173-4f0d-483f-b37e-849446b65153). The function supplies an argument to specify whether the dendrogram should or should not be plotted. Please let me know if this feature is of interest and if so, what else needs to be adjusted or fixed prior to merging. Thanks! Matt.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2873
https://github.com/scverse/scanpy/pull/2873:702,modifiability,compos,compositions,702,"Stacked barplot; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ X] Closes # (New Feature). - [ X] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [X ] Release notes not necessary because:. I thought I would give a shot at contributing to this awesome tool! I added a function to Scanpy's plotting API that I use in my own research for creating stacked barplots for visualizing compositions of cell groups. An example is depicted below:. ![image](https://github.com/scverse/scanpy/assets/5004419/21885a72-e15f-4f94-b1e5-84c1de8ca954). Specifically, this function enables one to plot the fraction of each cell group (e.g., cluster) that are labelled with a specific categorical variable. For example, if the cell groups are clusters, then one might be interested in examining the fraction of each cluster that originates from each ""batch"" of cells or each patient sample. This function also enables ordering of the groups according to a specific value (e.g., a patient number or batch ID) or by agglomerative clustering. An example of ordering the groups based on agglomerative clustering is shown below:. ![image](https://github.com/scverse/scanpy/assets/5004419/bfde8173-4f0d-483f-b37e-849446b65153). The function supplies an argument to specify whether the dendrogram should or should not be plotted. Please let me know if this feature is of interest and if so, what else needs to be adjusted or fixed prior to merging. Thanks! Matt.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2873
https://github.com/scverse/scanpy/pull/2873:1001,modifiability,variab,variable,1001,"Stacked barplot; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ X] Closes # (New Feature). - [ X] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [X ] Release notes not necessary because:. I thought I would give a shot at contributing to this awesome tool! I added a function to Scanpy's plotting API that I use in my own research for creating stacked barplots for visualizing compositions of cell groups. An example is depicted below:. ![image](https://github.com/scverse/scanpy/assets/5004419/21885a72-e15f-4f94-b1e5-84c1de8ca954). Specifically, this function enables one to plot the fraction of each cell group (e.g., cluster) that are labelled with a specific categorical variable. For example, if the cell groups are clusters, then one might be interested in examining the fraction of each cluster that originates from each ""batch"" of cells or each patient sample. This function also enables ordering of the groups according to a specific value (e.g., a patient number or batch ID) or by agglomerative clustering. An example of ordering the groups based on agglomerative clustering is shown below:. ![image](https://github.com/scverse/scanpy/assets/5004419/bfde8173-4f0d-483f-b37e-849446b65153). The function supplies an argument to specify whether the dendrogram should or should not be plotted. Please let me know if this feature is of interest and if so, what else needs to be adjusted or fixed prior to merging. Thanks! Matt.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2873
https://github.com/scverse/scanpy/pull/2873:1155,performance,batch,batch,1155,"Stacked barplot; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ X] Closes # (New Feature). - [ X] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [X ] Release notes not necessary because:. I thought I would give a shot at contributing to this awesome tool! I added a function to Scanpy's plotting API that I use in my own research for creating stacked barplots for visualizing compositions of cell groups. An example is depicted below:. ![image](https://github.com/scverse/scanpy/assets/5004419/21885a72-e15f-4f94-b1e5-84c1de8ca954). Specifically, this function enables one to plot the fraction of each cell group (e.g., cluster) that are labelled with a specific categorical variable. For example, if the cell groups are clusters, then one might be interested in examining the fraction of each cluster that originates from each ""batch"" of cells or each patient sample. This function also enables ordering of the groups according to a specific value (e.g., a patient number or batch ID) or by agglomerative clustering. An example of ordering the groups based on agglomerative clustering is shown below:. ![image](https://github.com/scverse/scanpy/assets/5004419/bfde8173-4f0d-483f-b37e-849446b65153). The function supplies an argument to specify whether the dendrogram should or should not be plotted. Please let me know if this feature is of interest and if so, what else needs to be adjusted or fixed prior to merging. Thanks! Matt.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2873
https://github.com/scverse/scanpy/pull/2873:1302,performance,batch,batch,1302,"Stacked barplot; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ X] Closes # (New Feature). - [ X] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [X ] Release notes not necessary because:. I thought I would give a shot at contributing to this awesome tool! I added a function to Scanpy's plotting API that I use in my own research for creating stacked barplots for visualizing compositions of cell groups. An example is depicted below:. ![image](https://github.com/scverse/scanpy/assets/5004419/21885a72-e15f-4f94-b1e5-84c1de8ca954). Specifically, this function enables one to plot the fraction of each cell group (e.g., cluster) that are labelled with a specific categorical variable. For example, if the cell groups are clusters, then one might be interested in examining the fraction of each cluster that originates from each ""batch"" of cells or each patient sample. This function also enables ordering of the groups according to a specific value (e.g., a patient number or batch ID) or by agglomerative clustering. An example of ordering the groups based on agglomerative clustering is shown below:. ![image](https://github.com/scverse/scanpy/assets/5004419/bfde8173-4f0d-483f-b37e-849446b65153). The function supplies an argument to specify whether the dendrogram should or should not be plotted. Please let me know if this feature is of interest and if so, what else needs to be adjusted or fixed prior to merging. Thanks! Matt.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2873
https://github.com/scverse/scanpy/pull/2873:236,safety,review,review,236,"Stacked barplot; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ X] Closes # (New Feature). - [ X] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [X ] Release notes not necessary because:. I thought I would give a shot at contributing to this awesome tool! I added a function to Scanpy's plotting API that I use in my own research for creating stacked barplots for visualizing compositions of cell groups. An example is depicted below:. ![image](https://github.com/scverse/scanpy/assets/5004419/21885a72-e15f-4f94-b1e5-84c1de8ca954). Specifically, this function enables one to plot the fraction of each cell group (e.g., cluster) that are labelled with a specific categorical variable. For example, if the cell groups are clusters, then one might be interested in examining the fraction of each cluster that originates from each ""batch"" of cells or each patient sample. This function also enables ordering of the groups according to a specific value (e.g., a patient number or batch ID) or by agglomerative clustering. An example of ordering the groups based on agglomerative clustering is shown below:. ![image](https://github.com/scverse/scanpy/assets/5004419/bfde8173-4f0d-483f-b37e-849446b65153). The function supplies an argument to specify whether the dendrogram should or should not be plotted. Please let me know if this feature is of interest and if so, what else needs to be adjusted or fixed prior to merging. Thanks! Matt.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2873
https://github.com/scverse/scanpy/pull/2873:352,safety,Test,Tests,352,"Stacked barplot; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ X] Closes # (New Feature). - [ X] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [X ] Release notes not necessary because:. I thought I would give a shot at contributing to this awesome tool! I added a function to Scanpy's plotting API that I use in my own research for creating stacked barplots for visualizing compositions of cell groups. An example is depicted below:. ![image](https://github.com/scverse/scanpy/assets/5004419/21885a72-e15f-4f94-b1e5-84c1de8ca954). Specifically, this function enables one to plot the fraction of each cell group (e.g., cluster) that are labelled with a specific categorical variable. For example, if the cell groups are clusters, then one might be interested in examining the fraction of each cluster that originates from each ""batch"" of cells or each patient sample. This function also enables ordering of the groups according to a specific value (e.g., a patient number or batch ID) or by agglomerative clustering. An example of ordering the groups based on agglomerative clustering is shown below:. ![image](https://github.com/scverse/scanpy/assets/5004419/bfde8173-4f0d-483f-b37e-849446b65153). The function supplies an argument to specify whether the dendrogram should or should not be plotted. Please let me know if this feature is of interest and if so, what else needs to be adjusted or fixed prior to merging. Thanks! Matt.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2873
https://github.com/scverse/scanpy/pull/2873:236,testability,review,review,236,"Stacked barplot; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ X] Closes # (New Feature). - [ X] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [X ] Release notes not necessary because:. I thought I would give a shot at contributing to this awesome tool! I added a function to Scanpy's plotting API that I use in my own research for creating stacked barplots for visualizing compositions of cell groups. An example is depicted below:. ![image](https://github.com/scverse/scanpy/assets/5004419/21885a72-e15f-4f94-b1e5-84c1de8ca954). Specifically, this function enables one to plot the fraction of each cell group (e.g., cluster) that are labelled with a specific categorical variable. For example, if the cell groups are clusters, then one might be interested in examining the fraction of each cluster that originates from each ""batch"" of cells or each patient sample. This function also enables ordering of the groups according to a specific value (e.g., a patient number or batch ID) or by agglomerative clustering. An example of ordering the groups based on agglomerative clustering is shown below:. ![image](https://github.com/scverse/scanpy/assets/5004419/bfde8173-4f0d-483f-b37e-849446b65153). The function supplies an argument to specify whether the dendrogram should or should not be plotted. Please let me know if this feature is of interest and if so, what else needs to be adjusted or fixed prior to merging. Thanks! Matt.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2873
https://github.com/scverse/scanpy/pull/2873:352,testability,Test,Tests,352,"Stacked barplot; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ X] Closes # (New Feature). - [ X] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [X ] Release notes not necessary because:. I thought I would give a shot at contributing to this awesome tool! I added a function to Scanpy's plotting API that I use in my own research for creating stacked barplots for visualizing compositions of cell groups. An example is depicted below:. ![image](https://github.com/scverse/scanpy/assets/5004419/21885a72-e15f-4f94-b1e5-84c1de8ca954). Specifically, this function enables one to plot the fraction of each cell group (e.g., cluster) that are labelled with a specific categorical variable. For example, if the cell groups are clusters, then one might be interested in examining the fraction of each cluster that originates from each ""batch"" of cells or each patient sample. This function also enables ordering of the groups according to a specific value (e.g., a patient number or batch ID) or by agglomerative clustering. An example of ordering the groups based on agglomerative clustering is shown below:. ![image](https://github.com/scverse/scanpy/assets/5004419/bfde8173-4f0d-483f-b37e-849446b65153). The function supplies an argument to specify whether the dendrogram should or should not be plotted. Please let me know if this feature is of interest and if so, what else needs to be adjusted or fixed prior to merging. Thanks! Matt.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2873
https://github.com/scverse/scanpy/pull/2873:87,usability,guid,guidelines,87,"Stacked barplot; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ X] Closes # (New Feature). - [ X] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [X ] Release notes not necessary because:. I thought I would give a shot at contributing to this awesome tool! I added a function to Scanpy's plotting API that I use in my own research for creating stacked barplots for visualizing compositions of cell groups. An example is depicted below:. ![image](https://github.com/scverse/scanpy/assets/5004419/21885a72-e15f-4f94-b1e5-84c1de8ca954). Specifically, this function enables one to plot the fraction of each cell group (e.g., cluster) that are labelled with a specific categorical variable. For example, if the cell groups are clusters, then one might be interested in examining the fraction of each cluster that originates from each ""batch"" of cells or each patient sample. This function also enables ordering of the groups according to a specific value (e.g., a patient number or batch ID) or by agglomerative clustering. An example of ordering the groups based on agglomerative clustering is shown below:. ![image](https://github.com/scverse/scanpy/assets/5004419/bfde8173-4f0d-483f-b37e-849446b65153). The function supplies an argument to specify whether the dendrogram should or should not be plotted. Please let me know if this feature is of interest and if so, what else needs to be adjusted or fixed prior to merging. Thanks! Matt.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2873
https://github.com/scverse/scanpy/pull/2873:118,usability,guid,guide,118,"Stacked barplot; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ X] Closes # (New Feature). - [ X] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [X ] Release notes not necessary because:. I thought I would give a shot at contributing to this awesome tool! I added a function to Scanpy's plotting API that I use in my own research for creating stacked barplots for visualizing compositions of cell groups. An example is depicted below:. ![image](https://github.com/scverse/scanpy/assets/5004419/21885a72-e15f-4f94-b1e5-84c1de8ca954). Specifically, this function enables one to plot the fraction of each cell group (e.g., cluster) that are labelled with a specific categorical variable. For example, if the cell groups are clusters, then one might be interested in examining the fraction of each cluster that originates from each ""batch"" of cells or each patient sample. This function also enables ordering of the groups according to a specific value (e.g., a patient number or batch ID) or by agglomerative clustering. An example of ordering the groups based on agglomerative clustering is shown below:. ![image](https://github.com/scverse/scanpy/assets/5004419/bfde8173-4f0d-483f-b37e-849446b65153). The function supplies an argument to specify whether the dendrogram should or should not be plotted. Please let me know if this feature is of interest and if so, what else needs to be adjusted or fixed prior to merging. Thanks! Matt.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2873
https://github.com/scverse/scanpy/pull/2873:214,usability,workflow,workflow,214,"Stacked barplot; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ X] Closes # (New Feature). - [ X] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [X ] Release notes not necessary because:. I thought I would give a shot at contributing to this awesome tool! I added a function to Scanpy's plotting API that I use in my own research for creating stacked barplots for visualizing compositions of cell groups. An example is depicted below:. ![image](https://github.com/scverse/scanpy/assets/5004419/21885a72-e15f-4f94-b1e5-84c1de8ca954). Specifically, this function enables one to plot the fraction of each cell group (e.g., cluster) that are labelled with a specific categorical variable. For example, if the cell groups are clusters, then one might be interested in examining the fraction of each cluster that originates from each ""batch"" of cells or each patient sample. This function also enables ordering of the groups according to a specific value (e.g., a patient number or batch ID) or by agglomerative clustering. An example of ordering the groups based on agglomerative clustering is shown below:. ![image](https://github.com/scverse/scanpy/assets/5004419/bfde8173-4f0d-483f-b37e-849446b65153). The function supplies an argument to specify whether the dendrogram should or should not be plotted. Please let me know if this feature is of interest and if so, what else needs to be adjusted or fixed prior to merging. Thanks! Matt.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2873
https://github.com/scverse/scanpy/pull/2873:321,usability,Close,Closes,321,"Stacked barplot; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ X] Closes # (New Feature). - [ X] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [X ] Release notes not necessary because:. I thought I would give a shot at contributing to this awesome tool! I added a function to Scanpy's plotting API that I use in my own research for creating stacked barplots for visualizing compositions of cell groups. An example is depicted below:. ![image](https://github.com/scverse/scanpy/assets/5004419/21885a72-e15f-4f94-b1e5-84c1de8ca954). Specifically, this function enables one to plot the fraction of each cell group (e.g., cluster) that are labelled with a specific categorical variable. For example, if the cell groups are clusters, then one might be interested in examining the fraction of each cluster that originates from each ""batch"" of cells or each patient sample. This function also enables ordering of the groups according to a specific value (e.g., a patient number or batch ID) or by agglomerative clustering. An example of ordering the groups based on agglomerative clustering is shown below:. ![image](https://github.com/scverse/scanpy/assets/5004419/bfde8173-4f0d-483f-b37e-849446b65153). The function supplies an argument to specify whether the dendrogram should or should not be plotted. Please let me know if this feature is of interest and if so, what else needs to be adjusted or fixed prior to merging. Thanks! Matt.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2873
https://github.com/scverse/scanpy/pull/2873:576,usability,tool,tool,576,"Stacked barplot; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ X] Closes # (New Feature). - [ X] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [X ] Release notes not necessary because:. I thought I would give a shot at contributing to this awesome tool! I added a function to Scanpy's plotting API that I use in my own research for creating stacked barplots for visualizing compositions of cell groups. An example is depicted below:. ![image](https://github.com/scverse/scanpy/assets/5004419/21885a72-e15f-4f94-b1e5-84c1de8ca954). Specifically, this function enables one to plot the fraction of each cell group (e.g., cluster) that are labelled with a specific categorical variable. For example, if the cell groups are clusters, then one might be interested in examining the fraction of each cluster that originates from each ""batch"" of cells or each patient sample. This function also enables ordering of the groups according to a specific value (e.g., a patient number or batch ID) or by agglomerative clustering. An example of ordering the groups based on agglomerative clustering is shown below:. ![image](https://github.com/scverse/scanpy/assets/5004419/bfde8173-4f0d-483f-b37e-849446b65153). The function supplies an argument to specify whether the dendrogram should or should not be plotted. Please let me know if this feature is of interest and if so, what else needs to be adjusted or fixed prior to merging. Thanks! Matt.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2873
https://github.com/scverse/scanpy/pull/2873:690,usability,visual,visualizing,690,"Stacked barplot; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ X] Closes # (New Feature). - [ X] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [X ] Release notes not necessary because:. I thought I would give a shot at contributing to this awesome tool! I added a function to Scanpy's plotting API that I use in my own research for creating stacked barplots for visualizing compositions of cell groups. An example is depicted below:. ![image](https://github.com/scverse/scanpy/assets/5004419/21885a72-e15f-4f94-b1e5-84c1de8ca954). Specifically, this function enables one to plot the fraction of each cell group (e.g., cluster) that are labelled with a specific categorical variable. For example, if the cell groups are clusters, then one might be interested in examining the fraction of each cluster that originates from each ""batch"" of cells or each patient sample. This function also enables ordering of the groups according to a specific value (e.g., a patient number or batch ID) or by agglomerative clustering. An example of ordering the groups based on agglomerative clustering is shown below:. ![image](https://github.com/scverse/scanpy/assets/5004419/bfde8173-4f0d-483f-b37e-849446b65153). The function supplies an argument to specify whether the dendrogram should or should not be plotted. Please let me know if this feature is of interest and if so, what else needs to be adjusted or fixed prior to merging. Thanks! Matt.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2873
https://github.com/scverse/scanpy/pull/2874:151,availability,error,error,151,"Fix coverage ci; CI runs that report coverage currently don't fail if the tests fail. This is because the way the coverage job is written swallows the error. I'm updating this use the same approach as anndata, which seems to be working.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2874
https://github.com/scverse/scanpy/pull/2874:62,deployability,fail,fail,62,"Fix coverage ci; CI runs that report coverage currently don't fail if the tests fail. This is because the way the coverage job is written swallows the error. I'm updating this use the same approach as anndata, which seems to be working.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2874
https://github.com/scverse/scanpy/pull/2874:80,deployability,fail,fail,80,"Fix coverage ci; CI runs that report coverage currently don't fail if the tests fail. This is because the way the coverage job is written swallows the error. I'm updating this use the same approach as anndata, which seems to be working.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2874
https://github.com/scverse/scanpy/pull/2874:162,deployability,updat,updating,162,"Fix coverage ci; CI runs that report coverage currently don't fail if the tests fail. This is because the way the coverage job is written swallows the error. I'm updating this use the same approach as anndata, which seems to be working.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2874
https://github.com/scverse/scanpy/pull/2874:46,energy efficiency,current,currently,46,"Fix coverage ci; CI runs that report coverage currently don't fail if the tests fail. This is because the way the coverage job is written swallows the error. I'm updating this use the same approach as anndata, which seems to be working.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2874
https://github.com/scverse/scanpy/pull/2874:151,performance,error,error,151,"Fix coverage ci; CI runs that report coverage currently don't fail if the tests fail. This is because the way the coverage job is written swallows the error. I'm updating this use the same approach as anndata, which seems to be working.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2874
https://github.com/scverse/scanpy/pull/2874:62,reliability,fail,fail,62,"Fix coverage ci; CI runs that report coverage currently don't fail if the tests fail. This is because the way the coverage job is written swallows the error. I'm updating this use the same approach as anndata, which seems to be working.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2874
https://github.com/scverse/scanpy/pull/2874:80,reliability,fail,fail,80,"Fix coverage ci; CI runs that report coverage currently don't fail if the tests fail. This is because the way the coverage job is written swallows the error. I'm updating this use the same approach as anndata, which seems to be working.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2874
https://github.com/scverse/scanpy/pull/2874:74,safety,test,tests,74,"Fix coverage ci; CI runs that report coverage currently don't fail if the tests fail. This is because the way the coverage job is written swallows the error. I'm updating this use the same approach as anndata, which seems to be working.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2874
https://github.com/scverse/scanpy/pull/2874:151,safety,error,error,151,"Fix coverage ci; CI runs that report coverage currently don't fail if the tests fail. This is because the way the coverage job is written swallows the error. I'm updating this use the same approach as anndata, which seems to be working.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2874
https://github.com/scverse/scanpy/pull/2874:162,safety,updat,updating,162,"Fix coverage ci; CI runs that report coverage currently don't fail if the tests fail. This is because the way the coverage job is written swallows the error. I'm updating this use the same approach as anndata, which seems to be working.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2874
https://github.com/scverse/scanpy/pull/2874:162,security,updat,updating,162,"Fix coverage ci; CI runs that report coverage currently don't fail if the tests fail. This is because the way the coverage job is written swallows the error. I'm updating this use the same approach as anndata, which seems to be working.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2874
https://github.com/scverse/scanpy/pull/2874:4,testability,coverag,coverage,4,"Fix coverage ci; CI runs that report coverage currently don't fail if the tests fail. This is because the way the coverage job is written swallows the error. I'm updating this use the same approach as anndata, which seems to be working.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2874
https://github.com/scverse/scanpy/pull/2874:37,testability,coverag,coverage,37,"Fix coverage ci; CI runs that report coverage currently don't fail if the tests fail. This is because the way the coverage job is written swallows the error. I'm updating this use the same approach as anndata, which seems to be working.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2874
https://github.com/scverse/scanpy/pull/2874:74,testability,test,tests,74,"Fix coverage ci; CI runs that report coverage currently don't fail if the tests fail. This is because the way the coverage job is written swallows the error. I'm updating this use the same approach as anndata, which seems to be working.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2874
https://github.com/scverse/scanpy/pull/2874:114,testability,coverag,coverage,114,"Fix coverage ci; CI runs that report coverage currently don't fail if the tests fail. This is because the way the coverage job is written swallows the error. I'm updating this use the same approach as anndata, which seems to be working.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2874
https://github.com/scverse/scanpy/pull/2874:151,usability,error,error,151,"Fix coverage ci; CI runs that report coverage currently don't fail if the tests fail. This is because the way the coverage job is written swallows the error. I'm updating this use the same approach as anndata, which seems to be working.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2874
https://github.com/scverse/scanpy/pull/2875:302,availability,down,downstream,302,"Bugfix: Gene score edge case where gene_list gene is chosen as control gene; In some edge cases, the control gene selection retrieves the same gene(s) that are also in the gene_list used for scoring. As a result, when the following line is called, we end up with an empty control gene set, causing the downstream error in #2153. https://github.com/scverse/scanpy/blob/383a61b2db0c45ba622f231f01d0e7546d99566b/scanpy/tools/_score_genes.py#L173. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2153 . - [x] Tests included. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2875
https://github.com/scverse/scanpy/pull/2875:313,availability,error,error,313,"Bugfix: Gene score edge case where gene_list gene is chosen as control gene; In some edge cases, the control gene selection retrieves the same gene(s) that are also in the gene_list used for scoring. As a result, when the following line is called, we end up with an empty control gene set, causing the downstream error in #2153. https://github.com/scverse/scanpy/blob/383a61b2db0c45ba622f231f01d0e7546d99566b/scanpy/tools/_score_genes.py#L173. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2153 . - [x] Tests included. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2875
https://github.com/scverse/scanpy/pull/2875:841,deployability,releas,release,841,"Bugfix: Gene score edge case where gene_list gene is chosen as control gene; In some edge cases, the control gene selection retrieves the same gene(s) that are also in the gene_list used for scoring. As a result, when the following line is called, we end up with an empty control gene set, causing the downstream error in #2153. https://github.com/scverse/scanpy/blob/383a61b2db0c45ba622f231f01d0e7546d99566b/scanpy/tools/_score_genes.py#L173. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2153 . - [x] Tests included. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2875
https://github.com/scverse/scanpy/pull/2875:866,deployability,Releas,Release,866,"Bugfix: Gene score edge case where gene_list gene is chosen as control gene; In some edge cases, the control gene selection retrieves the same gene(s) that are also in the gene_list used for scoring. As a result, when the following line is called, we end up with an empty control gene set, causing the downstream error in #2153. https://github.com/scverse/scanpy/blob/383a61b2db0c45ba622f231f01d0e7546d99566b/scanpy/tools/_score_genes.py#L173. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2153 . - [x] Tests included. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2875
https://github.com/scverse/scanpy/pull/2875:313,performance,error,error,313,"Bugfix: Gene score edge case where gene_list gene is chosen as control gene; In some edge cases, the control gene selection retrieves the same gene(s) that are also in the gene_list used for scoring. As a result, when the following line is called, we end up with an empty control gene set, causing the downstream error in #2153. https://github.com/scverse/scanpy/blob/383a61b2db0c45ba622f231f01d0e7546d99566b/scanpy/tools/_score_genes.py#L173. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2153 . - [x] Tests included. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2875
https://github.com/scverse/scanpy/pull/2875:313,safety,error,error,313,"Bugfix: Gene score edge case where gene_list gene is chosen as control gene; In some edge cases, the control gene selection retrieves the same gene(s) that are also in the gene_list used for scoring. As a result, when the following line is called, we end up with an empty control gene set, causing the downstream error in #2153. https://github.com/scverse/scanpy/blob/383a61b2db0c45ba622f231f01d0e7546d99566b/scanpy/tools/_score_genes.py#L173. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2153 . - [x] Tests included. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2875
https://github.com/scverse/scanpy/pull/2875:663,safety,review,review,663,"Bugfix: Gene score edge case where gene_list gene is chosen as control gene; In some edge cases, the control gene selection retrieves the same gene(s) that are also in the gene_list used for scoring. As a result, when the following line is called, we end up with an empty control gene set, causing the downstream error in #2153. https://github.com/scverse/scanpy/blob/383a61b2db0c45ba622f231f01d0e7546d99566b/scanpy/tools/_score_genes.py#L173. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2153 . - [x] Tests included. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2875
https://github.com/scverse/scanpy/pull/2875:768,safety,Test,Tests,768,"Bugfix: Gene score edge case where gene_list gene is chosen as control gene; In some edge cases, the control gene selection retrieves the same gene(s) that are also in the gene_list used for scoring. As a result, when the following line is called, we end up with an empty control gene set, causing the downstream error in #2153. https://github.com/scverse/scanpy/blob/383a61b2db0c45ba622f231f01d0e7546d99566b/scanpy/tools/_score_genes.py#L173. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2153 . - [x] Tests included. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2875
https://github.com/scverse/scanpy/pull/2875:63,security,control,control,63,"Bugfix: Gene score edge case where gene_list gene is chosen as control gene; In some edge cases, the control gene selection retrieves the same gene(s) that are also in the gene_list used for scoring. As a result, when the following line is called, we end up with an empty control gene set, causing the downstream error in #2153. https://github.com/scverse/scanpy/blob/383a61b2db0c45ba622f231f01d0e7546d99566b/scanpy/tools/_score_genes.py#L173. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2153 . - [x] Tests included. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2875
https://github.com/scverse/scanpy/pull/2875:101,security,control,control,101,"Bugfix: Gene score edge case where gene_list gene is chosen as control gene; In some edge cases, the control gene selection retrieves the same gene(s) that are also in the gene_list used for scoring. As a result, when the following line is called, we end up with an empty control gene set, causing the downstream error in #2153. https://github.com/scverse/scanpy/blob/383a61b2db0c45ba622f231f01d0e7546d99566b/scanpy/tools/_score_genes.py#L173. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2153 . - [x] Tests included. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2875
https://github.com/scverse/scanpy/pull/2875:272,security,control,control,272,"Bugfix: Gene score edge case where gene_list gene is chosen as control gene; In some edge cases, the control gene selection retrieves the same gene(s) that are also in the gene_list used for scoring. As a result, when the following line is called, we end up with an empty control gene set, causing the downstream error in #2153. https://github.com/scverse/scanpy/blob/383a61b2db0c45ba622f231f01d0e7546d99566b/scanpy/tools/_score_genes.py#L173. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2153 . - [x] Tests included. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2875
https://github.com/scverse/scanpy/pull/2875:63,testability,control,control,63,"Bugfix: Gene score edge case where gene_list gene is chosen as control gene; In some edge cases, the control gene selection retrieves the same gene(s) that are also in the gene_list used for scoring. As a result, when the following line is called, we end up with an empty control gene set, causing the downstream error in #2153. https://github.com/scverse/scanpy/blob/383a61b2db0c45ba622f231f01d0e7546d99566b/scanpy/tools/_score_genes.py#L173. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2153 . - [x] Tests included. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2875
https://github.com/scverse/scanpy/pull/2875:101,testability,control,control,101,"Bugfix: Gene score edge case where gene_list gene is chosen as control gene; In some edge cases, the control gene selection retrieves the same gene(s) that are also in the gene_list used for scoring. As a result, when the following line is called, we end up with an empty control gene set, causing the downstream error in #2153. https://github.com/scverse/scanpy/blob/383a61b2db0c45ba622f231f01d0e7546d99566b/scanpy/tools/_score_genes.py#L173. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2153 . - [x] Tests included. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2875
https://github.com/scverse/scanpy/pull/2875:272,testability,control,control,272,"Bugfix: Gene score edge case where gene_list gene is chosen as control gene; In some edge cases, the control gene selection retrieves the same gene(s) that are also in the gene_list used for scoring. As a result, when the following line is called, we end up with an empty control gene set, causing the downstream error in #2153. https://github.com/scverse/scanpy/blob/383a61b2db0c45ba622f231f01d0e7546d99566b/scanpy/tools/_score_genes.py#L173. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2153 . - [x] Tests included. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2875
https://github.com/scverse/scanpy/pull/2875:663,testability,review,review,663,"Bugfix: Gene score edge case where gene_list gene is chosen as control gene; In some edge cases, the control gene selection retrieves the same gene(s) that are also in the gene_list used for scoring. As a result, when the following line is called, we end up with an empty control gene set, causing the downstream error in #2153. https://github.com/scverse/scanpy/blob/383a61b2db0c45ba622f231f01d0e7546d99566b/scanpy/tools/_score_genes.py#L173. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2153 . - [x] Tests included. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2875
https://github.com/scverse/scanpy/pull/2875:768,testability,Test,Tests,768,"Bugfix: Gene score edge case where gene_list gene is chosen as control gene; In some edge cases, the control gene selection retrieves the same gene(s) that are also in the gene_list used for scoring. As a result, when the following line is called, we end up with an empty control gene set, causing the downstream error in #2153. https://github.com/scverse/scanpy/blob/383a61b2db0c45ba622f231f01d0e7546d99566b/scanpy/tools/_score_genes.py#L173. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2153 . - [x] Tests included. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2875
https://github.com/scverse/scanpy/pull/2875:313,usability,error,error,313,"Bugfix: Gene score edge case where gene_list gene is chosen as control gene; In some edge cases, the control gene selection retrieves the same gene(s) that are also in the gene_list used for scoring. As a result, when the following line is called, we end up with an empty control gene set, causing the downstream error in #2153. https://github.com/scverse/scanpy/blob/383a61b2db0c45ba622f231f01d0e7546d99566b/scanpy/tools/_score_genes.py#L173. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2153 . - [x] Tests included. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2875
https://github.com/scverse/scanpy/pull/2875:416,usability,tool,tools,416,"Bugfix: Gene score edge case where gene_list gene is chosen as control gene; In some edge cases, the control gene selection retrieves the same gene(s) that are also in the gene_list used for scoring. As a result, when the following line is called, we end up with an empty control gene set, causing the downstream error in #2153. https://github.com/scverse/scanpy/blob/383a61b2db0c45ba622f231f01d0e7546d99566b/scanpy/tools/_score_genes.py#L173. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2153 . - [x] Tests included. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2875
https://github.com/scverse/scanpy/pull/2875:514,usability,guid,guidelines,514,"Bugfix: Gene score edge case where gene_list gene is chosen as control gene; In some edge cases, the control gene selection retrieves the same gene(s) that are also in the gene_list used for scoring. As a result, when the following line is called, we end up with an empty control gene set, causing the downstream error in #2153. https://github.com/scverse/scanpy/blob/383a61b2db0c45ba622f231f01d0e7546d99566b/scanpy/tools/_score_genes.py#L173. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2153 . - [x] Tests included. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2875
https://github.com/scverse/scanpy/pull/2875:545,usability,guid,guide,545,"Bugfix: Gene score edge case where gene_list gene is chosen as control gene; In some edge cases, the control gene selection retrieves the same gene(s) that are also in the gene_list used for scoring. As a result, when the following line is called, we end up with an empty control gene set, causing the downstream error in #2153. https://github.com/scverse/scanpy/blob/383a61b2db0c45ba622f231f01d0e7546d99566b/scanpy/tools/_score_genes.py#L173. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2153 . - [x] Tests included. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2875
https://github.com/scverse/scanpy/pull/2875:641,usability,workflow,workflow,641,"Bugfix: Gene score edge case where gene_list gene is chosen as control gene; In some edge cases, the control gene selection retrieves the same gene(s) that are also in the gene_list used for scoring. As a result, when the following line is called, we end up with an empty control gene set, causing the downstream error in #2153. https://github.com/scverse/scanpy/blob/383a61b2db0c45ba622f231f01d0e7546d99566b/scanpy/tools/_score_genes.py#L173. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2153 . - [x] Tests included. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2875
https://github.com/scverse/scanpy/pull/2875:747,usability,Close,Closes,747,"Bugfix: Gene score edge case where gene_list gene is chosen as control gene; In some edge cases, the control gene selection retrieves the same gene(s) that are also in the gene_list used for scoring. As a result, when the following line is called, we end up with an empty control gene set, causing the downstream error in #2153. https://github.com/scverse/scanpy/blob/383a61b2db0c45ba622f231f01d0e7546d99566b/scanpy/tools/_score_genes.py#L173. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2153 . - [x] Tests included. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2875
https://github.com/scverse/scanpy/issues/2878:378,availability,failur,failures,378,"scanpy 1.10.0rc1 breaks anndata pre-release tests; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? `@doctest_needs` decorator causes test failures on scanpy import in anndata test suite. https://dev.azure.com/scverse/anndata/_build/results?buildId=5802&view=logs&jobId=0497d03e-5796-547f-cc56-989f8152a63c&j=0497d03e-5796-547f-cc56-989f8152a63c&t=ea3acdad-0250-5b8b-a1da-6cd02463cf17. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. else:. enum_member = enum_class._new_member_(enum_class, *args). if not hasattr(enum_member, '_value_'):. if enum_class._member_type_ is object:. enum_member._value_ = value. else:. try:. enum_member._value_ = enum_class._member_type_(*args). except Exception as exc:. new_exc = TypeError(. '_value_ not set in __new__, unable to create it'. ). new_exc.__cause__ = exc. > raise new_exc. E TypeError: _value_ not set in __new__, unable to create it. ```. ### Versions. <details>. ```. See anndata test failure. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2878
https://github.com/scverse/scanpy/issues/2878:674,availability,Error,Error,674,"scanpy 1.10.0rc1 breaks anndata pre-release tests; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? `@doctest_needs` decorator causes test failures on scanpy import in anndata test suite. https://dev.azure.com/scverse/anndata/_build/results?buildId=5802&view=logs&jobId=0497d03e-5796-547f-cc56-989f8152a63c&j=0497d03e-5796-547f-cc56-989f8152a63c&t=ea3acdad-0250-5b8b-a1da-6cd02463cf17. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. else:. enum_member = enum_class._new_member_(enum_class, *args). if not hasattr(enum_member, '_value_'):. if enum_class._member_type_ is object:. enum_member._value_ = value. else:. try:. enum_member._value_ = enum_class._member_type_(*args). except Exception as exc:. new_exc = TypeError(. '_value_ not set in __new__, unable to create it'. ). new_exc.__cause__ = exc. > raise new_exc. E TypeError: _value_ not set in __new__, unable to create it. ```. ### Versions. <details>. ```. See anndata test failure. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2878
https://github.com/scverse/scanpy/issues/2878:1198,availability,failur,failure,1198,"scanpy 1.10.0rc1 breaks anndata pre-release tests; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? `@doctest_needs` decorator causes test failures on scanpy import in anndata test suite. https://dev.azure.com/scverse/anndata/_build/results?buildId=5802&view=logs&jobId=0497d03e-5796-547f-cc56-989f8152a63c&j=0497d03e-5796-547f-cc56-989f8152a63c&t=ea3acdad-0250-5b8b-a1da-6cd02463cf17. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. else:. enum_member = enum_class._new_member_(enum_class, *args). if not hasattr(enum_member, '_value_'):. if enum_class._member_type_ is object:. enum_member._value_ = value. else:. try:. enum_member._value_ = enum_class._member_type_(*args). except Exception as exc:. new_exc = TypeError(. '_value_ not set in __new__, unable to create it'. ). new_exc.__cause__ = exc. > raise new_exc. E TypeError: _value_ not set in __new__, unable to create it. ```. ### Versions. <details>. ```. See anndata test failure. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2878
https://github.com/scverse/scanpy/issues/2878:36,deployability,releas,release,36,"scanpy 1.10.0rc1 breaks anndata pre-release tests; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? `@doctest_needs` decorator causes test failures on scanpy import in anndata test suite. https://dev.azure.com/scverse/anndata/_build/results?buildId=5802&view=logs&jobId=0497d03e-5796-547f-cc56-989f8152a63c&j=0497d03e-5796-547f-cc56-989f8152a63c&t=ea3acdad-0250-5b8b-a1da-6cd02463cf17. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. else:. enum_member = enum_class._new_member_(enum_class, *args). if not hasattr(enum_member, '_value_'):. if enum_class._member_type_ is object:. enum_member._value_ = value. else:. try:. enum_member._value_ = enum_class._member_type_(*args). except Exception as exc:. new_exc = TypeError(. '_value_ not set in __new__, unable to create it'. ). new_exc.__cause__ = exc. > raise new_exc. E TypeError: _value_ not set in __new__, unable to create it. ```. ### Versions. <details>. ```. See anndata test failure. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2878
https://github.com/scverse/scanpy/issues/2878:219,deployability,version,version,219,"scanpy 1.10.0rc1 breaks anndata pre-release tests; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? `@doctest_needs` decorator causes test failures on scanpy import in anndata test suite. https://dev.azure.com/scverse/anndata/_build/results?buildId=5802&view=logs&jobId=0497d03e-5796-547f-cc56-989f8152a63c&j=0497d03e-5796-547f-cc56-989f8152a63c&t=ea3acdad-0250-5b8b-a1da-6cd02463cf17. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. else:. enum_member = enum_class._new_member_(enum_class, *args). if not hasattr(enum_member, '_value_'):. if enum_class._member_type_ is object:. enum_member._value_ = value. else:. try:. enum_member._value_ = enum_class._member_type_(*args). except Exception as exc:. new_exc = TypeError(. '_value_ not set in __new__, unable to create it'. ). new_exc.__cause__ = exc. > raise new_exc. E TypeError: _value_ not set in __new__, unable to create it. ```. ### Versions. <details>. ```. See anndata test failure. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2878
https://github.com/scverse/scanpy/issues/2878:378,deployability,fail,failures,378,"scanpy 1.10.0rc1 breaks anndata pre-release tests; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? `@doctest_needs` decorator causes test failures on scanpy import in anndata test suite. https://dev.azure.com/scverse/anndata/_build/results?buildId=5802&view=logs&jobId=0497d03e-5796-547f-cc56-989f8152a63c&j=0497d03e-5796-547f-cc56-989f8152a63c&t=ea3acdad-0250-5b8b-a1da-6cd02463cf17. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. else:. enum_member = enum_class._new_member_(enum_class, *args). if not hasattr(enum_member, '_value_'):. if enum_class._member_type_ is object:. enum_member._value_ = value. else:. try:. enum_member._value_ = enum_class._member_type_(*args). except Exception as exc:. new_exc = TypeError(. '_value_ not set in __new__, unable to create it'. ). new_exc.__cause__ = exc. > raise new_exc. E TypeError: _value_ not set in __new__, unable to create it. ```. ### Versions. <details>. ```. See anndata test failure. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2878
https://github.com/scverse/scanpy/issues/2878:480,deployability,build,buildId,480,"scanpy 1.10.0rc1 breaks anndata pre-release tests; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? `@doctest_needs` decorator causes test failures on scanpy import in anndata test suite. https://dev.azure.com/scverse/anndata/_build/results?buildId=5802&view=logs&jobId=0497d03e-5796-547f-cc56-989f8152a63c&j=0497d03e-5796-547f-cc56-989f8152a63c&t=ea3acdad-0250-5b8b-a1da-6cd02463cf17. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. else:. enum_member = enum_class._new_member_(enum_class, *args). if not hasattr(enum_member, '_value_'):. if enum_class._member_type_ is object:. enum_member._value_ = value. else:. try:. enum_member._value_ = enum_class._member_type_(*args). except Exception as exc:. new_exc = TypeError(. '_value_ not set in __new__, unable to create it'. ). new_exc.__cause__ = exc. > raise new_exc. E TypeError: _value_ not set in __new__, unable to create it. ```. ### Versions. <details>. ```. See anndata test failure. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2878
https://github.com/scverse/scanpy/issues/2878:498,deployability,log,logs,498,"scanpy 1.10.0rc1 breaks anndata pre-release tests; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? `@doctest_needs` decorator causes test failures on scanpy import in anndata test suite. https://dev.azure.com/scverse/anndata/_build/results?buildId=5802&view=logs&jobId=0497d03e-5796-547f-cc56-989f8152a63c&j=0497d03e-5796-547f-cc56-989f8152a63c&t=ea3acdad-0250-5b8b-a1da-6cd02463cf17. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. else:. enum_member = enum_class._new_member_(enum_class, *args). if not hasattr(enum_member, '_value_'):. if enum_class._member_type_ is object:. enum_member._value_ = value. else:. try:. enum_member._value_ = enum_class._member_type_(*args). except Exception as exc:. new_exc = TypeError(. '_value_ not set in __new__, unable to create it'. ). new_exc.__cause__ = exc. > raise new_exc. E TypeError: _value_ not set in __new__, unable to create it. ```. ### Versions. <details>. ```. See anndata test failure. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2878
https://github.com/scverse/scanpy/issues/2878:1155,deployability,Version,Versions,1155,"scanpy 1.10.0rc1 breaks anndata pre-release tests; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? `@doctest_needs` decorator causes test failures on scanpy import in anndata test suite. https://dev.azure.com/scverse/anndata/_build/results?buildId=5802&view=logs&jobId=0497d03e-5796-547f-cc56-989f8152a63c&j=0497d03e-5796-547f-cc56-989f8152a63c&t=ea3acdad-0250-5b8b-a1da-6cd02463cf17. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. else:. enum_member = enum_class._new_member_(enum_class, *args). if not hasattr(enum_member, '_value_'):. if enum_class._member_type_ is object:. enum_member._value_ = value. else:. try:. enum_member._value_ = enum_class._member_type_(*args). except Exception as exc:. new_exc = TypeError(. '_value_ not set in __new__, unable to create it'. ). new_exc.__cause__ = exc. > raise new_exc. E TypeError: _value_ not set in __new__, unable to create it. ```. ### Versions. <details>. ```. See anndata test failure. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2878
https://github.com/scverse/scanpy/issues/2878:1198,deployability,fail,failure,1198,"scanpy 1.10.0rc1 breaks anndata pre-release tests; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? `@doctest_needs` decorator causes test failures on scanpy import in anndata test suite. https://dev.azure.com/scverse/anndata/_build/results?buildId=5802&view=logs&jobId=0497d03e-5796-547f-cc56-989f8152a63c&j=0497d03e-5796-547f-cc56-989f8152a63c&t=ea3acdad-0250-5b8b-a1da-6cd02463cf17. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. else:. enum_member = enum_class._new_member_(enum_class, *args). if not hasattr(enum_member, '_value_'):. if enum_class._member_type_ is object:. enum_member._value_ = value. else:. try:. enum_member._value_ = enum_class._member_type_(*args). except Exception as exc:. new_exc = TypeError(. '_value_ not set in __new__, unable to create it'. ). new_exc.__cause__ = exc. > raise new_exc. E TypeError: _value_ not set in __new__, unable to create it. ```. ### Versions. <details>. ```. See anndata test failure. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2878
https://github.com/scverse/scanpy/issues/2878:219,integrability,version,version,219,"scanpy 1.10.0rc1 breaks anndata pre-release tests; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? `@doctest_needs` decorator causes test failures on scanpy import in anndata test suite. https://dev.azure.com/scverse/anndata/_build/results?buildId=5802&view=logs&jobId=0497d03e-5796-547f-cc56-989f8152a63c&j=0497d03e-5796-547f-cc56-989f8152a63c&t=ea3acdad-0250-5b8b-a1da-6cd02463cf17. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. else:. enum_member = enum_class._new_member_(enum_class, *args). if not hasattr(enum_member, '_value_'):. if enum_class._member_type_ is object:. enum_member._value_ = value. else:. try:. enum_member._value_ = enum_class._member_type_(*args). except Exception as exc:. new_exc = TypeError(. '_value_ not set in __new__, unable to create it'. ). new_exc.__cause__ = exc. > raise new_exc. E TypeError: _value_ not set in __new__, unable to create it. ```. ### Versions. <details>. ```. See anndata test failure. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2878
https://github.com/scverse/scanpy/issues/2878:1155,integrability,Version,Versions,1155,"scanpy 1.10.0rc1 breaks anndata pre-release tests; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? `@doctest_needs` decorator causes test failures on scanpy import in anndata test suite. https://dev.azure.com/scverse/anndata/_build/results?buildId=5802&view=logs&jobId=0497d03e-5796-547f-cc56-989f8152a63c&j=0497d03e-5796-547f-cc56-989f8152a63c&t=ea3acdad-0250-5b8b-a1da-6cd02463cf17. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. else:. enum_member = enum_class._new_member_(enum_class, *args). if not hasattr(enum_member, '_value_'):. if enum_class._member_type_ is object:. enum_member._value_ = value. else:. try:. enum_member._value_ = enum_class._member_type_(*args). except Exception as exc:. new_exc = TypeError(. '_value_ not set in __new__, unable to create it'. ). new_exc.__cause__ = exc. > raise new_exc. E TypeError: _value_ not set in __new__, unable to create it. ```. ### Versions. <details>. ```. See anndata test failure. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2878
https://github.com/scverse/scanpy/issues/2878:219,modifiability,version,version,219,"scanpy 1.10.0rc1 breaks anndata pre-release tests; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? `@doctest_needs` decorator causes test failures on scanpy import in anndata test suite. https://dev.azure.com/scverse/anndata/_build/results?buildId=5802&view=logs&jobId=0497d03e-5796-547f-cc56-989f8152a63c&j=0497d03e-5796-547f-cc56-989f8152a63c&t=ea3acdad-0250-5b8b-a1da-6cd02463cf17. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. else:. enum_member = enum_class._new_member_(enum_class, *args). if not hasattr(enum_member, '_value_'):. if enum_class._member_type_ is object:. enum_member._value_ = value. else:. try:. enum_member._value_ = enum_class._member_type_(*args). except Exception as exc:. new_exc = TypeError(. '_value_ not set in __new__, unable to create it'. ). new_exc.__cause__ = exc. > raise new_exc. E TypeError: _value_ not set in __new__, unable to create it. ```. ### Versions. <details>. ```. See anndata test failure. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2878
https://github.com/scverse/scanpy/issues/2878:356,modifiability,deco,decorator,356,"scanpy 1.10.0rc1 breaks anndata pre-release tests; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? `@doctest_needs` decorator causes test failures on scanpy import in anndata test suite. https://dev.azure.com/scverse/anndata/_build/results?buildId=5802&view=logs&jobId=0497d03e-5796-547f-cc56-989f8152a63c&j=0497d03e-5796-547f-cc56-989f8152a63c&t=ea3acdad-0250-5b8b-a1da-6cd02463cf17. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. else:. enum_member = enum_class._new_member_(enum_class, *args). if not hasattr(enum_member, '_value_'):. if enum_class._member_type_ is object:. enum_member._value_ = value. else:. try:. enum_member._value_ = enum_class._member_type_(*args). except Exception as exc:. new_exc = TypeError(. '_value_ not set in __new__, unable to create it'. ). new_exc.__cause__ = exc. > raise new_exc. E TypeError: _value_ not set in __new__, unable to create it. ```. ### Versions. <details>. ```. See anndata test failure. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2878
https://github.com/scverse/scanpy/issues/2878:1155,modifiability,Version,Versions,1155,"scanpy 1.10.0rc1 breaks anndata pre-release tests; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? `@doctest_needs` decorator causes test failures on scanpy import in anndata test suite. https://dev.azure.com/scverse/anndata/_build/results?buildId=5802&view=logs&jobId=0497d03e-5796-547f-cc56-989f8152a63c&j=0497d03e-5796-547f-cc56-989f8152a63c&t=ea3acdad-0250-5b8b-a1da-6cd02463cf17. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. else:. enum_member = enum_class._new_member_(enum_class, *args). if not hasattr(enum_member, '_value_'):. if enum_class._member_type_ is object:. enum_member._value_ = value. else:. try:. enum_member._value_ = enum_class._member_type_(*args). except Exception as exc:. new_exc = TypeError(. '_value_ not set in __new__, unable to create it'. ). new_exc.__cause__ = exc. > raise new_exc. E TypeError: _value_ not set in __new__, unable to create it. ```. ### Versions. <details>. ```. See anndata test failure. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2878
https://github.com/scverse/scanpy/issues/2878:378,performance,failur,failures,378,"scanpy 1.10.0rc1 breaks anndata pre-release tests; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? `@doctest_needs` decorator causes test failures on scanpy import in anndata test suite. https://dev.azure.com/scverse/anndata/_build/results?buildId=5802&view=logs&jobId=0497d03e-5796-547f-cc56-989f8152a63c&j=0497d03e-5796-547f-cc56-989f8152a63c&t=ea3acdad-0250-5b8b-a1da-6cd02463cf17. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. else:. enum_member = enum_class._new_member_(enum_class, *args). if not hasattr(enum_member, '_value_'):. if enum_class._member_type_ is object:. enum_member._value_ = value. else:. try:. enum_member._value_ = enum_class._member_type_(*args). except Exception as exc:. new_exc = TypeError(. '_value_ not set in __new__, unable to create it'. ). new_exc.__cause__ = exc. > raise new_exc. E TypeError: _value_ not set in __new__, unable to create it. ```. ### Versions. <details>. ```. See anndata test failure. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2878
https://github.com/scverse/scanpy/issues/2878:674,performance,Error,Error,674,"scanpy 1.10.0rc1 breaks anndata pre-release tests; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? `@doctest_needs` decorator causes test failures on scanpy import in anndata test suite. https://dev.azure.com/scverse/anndata/_build/results?buildId=5802&view=logs&jobId=0497d03e-5796-547f-cc56-989f8152a63c&j=0497d03e-5796-547f-cc56-989f8152a63c&t=ea3acdad-0250-5b8b-a1da-6cd02463cf17. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. else:. enum_member = enum_class._new_member_(enum_class, *args). if not hasattr(enum_member, '_value_'):. if enum_class._member_type_ is object:. enum_member._value_ = value. else:. try:. enum_member._value_ = enum_class._member_type_(*args). except Exception as exc:. new_exc = TypeError(. '_value_ not set in __new__, unable to create it'. ). new_exc.__cause__ = exc. > raise new_exc. E TypeError: _value_ not set in __new__, unable to create it. ```. ### Versions. <details>. ```. See anndata test failure. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2878
https://github.com/scverse/scanpy/issues/2878:1198,performance,failur,failure,1198,"scanpy 1.10.0rc1 breaks anndata pre-release tests; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? `@doctest_needs` decorator causes test failures on scanpy import in anndata test suite. https://dev.azure.com/scverse/anndata/_build/results?buildId=5802&view=logs&jobId=0497d03e-5796-547f-cc56-989f8152a63c&j=0497d03e-5796-547f-cc56-989f8152a63c&t=ea3acdad-0250-5b8b-a1da-6cd02463cf17. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. else:. enum_member = enum_class._new_member_(enum_class, *args). if not hasattr(enum_member, '_value_'):. if enum_class._member_type_ is object:. enum_member._value_ = value. else:. try:. enum_member._value_ = enum_class._member_type_(*args). except Exception as exc:. new_exc = TypeError(. '_value_ not set in __new__, unable to create it'. ). new_exc.__cause__ = exc. > raise new_exc. E TypeError: _value_ not set in __new__, unable to create it. ```. ### Versions. <details>. ```. See anndata test failure. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2878
https://github.com/scverse/scanpy/issues/2878:378,reliability,fail,failures,378,"scanpy 1.10.0rc1 breaks anndata pre-release tests; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? `@doctest_needs` decorator causes test failures on scanpy import in anndata test suite. https://dev.azure.com/scverse/anndata/_build/results?buildId=5802&view=logs&jobId=0497d03e-5796-547f-cc56-989f8152a63c&j=0497d03e-5796-547f-cc56-989f8152a63c&t=ea3acdad-0250-5b8b-a1da-6cd02463cf17. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. else:. enum_member = enum_class._new_member_(enum_class, *args). if not hasattr(enum_member, '_value_'):. if enum_class._member_type_ is object:. enum_member._value_ = value. else:. try:. enum_member._value_ = enum_class._member_type_(*args). except Exception as exc:. new_exc = TypeError(. '_value_ not set in __new__, unable to create it'. ). new_exc.__cause__ = exc. > raise new_exc. E TypeError: _value_ not set in __new__, unable to create it. ```. ### Versions. <details>. ```. See anndata test failure. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2878
https://github.com/scverse/scanpy/issues/2878:1198,reliability,fail,failure,1198,"scanpy 1.10.0rc1 breaks anndata pre-release tests; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? `@doctest_needs` decorator causes test failures on scanpy import in anndata test suite. https://dev.azure.com/scverse/anndata/_build/results?buildId=5802&view=logs&jobId=0497d03e-5796-547f-cc56-989f8152a63c&j=0497d03e-5796-547f-cc56-989f8152a63c&t=ea3acdad-0250-5b8b-a1da-6cd02463cf17. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. else:. enum_member = enum_class._new_member_(enum_class, *args). if not hasattr(enum_member, '_value_'):. if enum_class._member_type_ is object:. enum_member._value_ = value. else:. try:. enum_member._value_ = enum_class._member_type_(*args). except Exception as exc:. new_exc = TypeError(. '_value_ not set in __new__, unable to create it'. ). new_exc.__cause__ = exc. > raise new_exc. E TypeError: _value_ not set in __new__, unable to create it. ```. ### Versions. <details>. ```. See anndata test failure. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2878
https://github.com/scverse/scanpy/issues/2878:44,safety,test,tests,44,"scanpy 1.10.0rc1 breaks anndata pre-release tests; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? `@doctest_needs` decorator causes test failures on scanpy import in anndata test suite. https://dev.azure.com/scverse/anndata/_build/results?buildId=5802&view=logs&jobId=0497d03e-5796-547f-cc56-989f8152a63c&j=0497d03e-5796-547f-cc56-989f8152a63c&t=ea3acdad-0250-5b8b-a1da-6cd02463cf17. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. else:. enum_member = enum_class._new_member_(enum_class, *args). if not hasattr(enum_member, '_value_'):. if enum_class._member_type_ is object:. enum_member._value_ = value. else:. try:. enum_member._value_ = enum_class._member_type_(*args). except Exception as exc:. new_exc = TypeError(. '_value_ not set in __new__, unable to create it'. ). new_exc.__cause__ = exc. > raise new_exc. E TypeError: _value_ not set in __new__, unable to create it. ```. ### Versions. <details>. ```. See anndata test failure. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2878
https://github.com/scverse/scanpy/issues/2878:373,safety,test,test,373,"scanpy 1.10.0rc1 breaks anndata pre-release tests; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? `@doctest_needs` decorator causes test failures on scanpy import in anndata test suite. https://dev.azure.com/scverse/anndata/_build/results?buildId=5802&view=logs&jobId=0497d03e-5796-547f-cc56-989f8152a63c&j=0497d03e-5796-547f-cc56-989f8152a63c&t=ea3acdad-0250-5b8b-a1da-6cd02463cf17. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. else:. enum_member = enum_class._new_member_(enum_class, *args). if not hasattr(enum_member, '_value_'):. if enum_class._member_type_ is object:. enum_member._value_ = value. else:. try:. enum_member._value_ = enum_class._member_type_(*args). except Exception as exc:. new_exc = TypeError(. '_value_ not set in __new__, unable to create it'. ). new_exc.__cause__ = exc. > raise new_exc. E TypeError: _value_ not set in __new__, unable to create it. ```. ### Versions. <details>. ```. See anndata test failure. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2878
https://github.com/scverse/scanpy/issues/2878:415,safety,test,test,415,"scanpy 1.10.0rc1 breaks anndata pre-release tests; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? `@doctest_needs` decorator causes test failures on scanpy import in anndata test suite. https://dev.azure.com/scverse/anndata/_build/results?buildId=5802&view=logs&jobId=0497d03e-5796-547f-cc56-989f8152a63c&j=0497d03e-5796-547f-cc56-989f8152a63c&t=ea3acdad-0250-5b8b-a1da-6cd02463cf17. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. else:. enum_member = enum_class._new_member_(enum_class, *args). if not hasattr(enum_member, '_value_'):. if enum_class._member_type_ is object:. enum_member._value_ = value. else:. try:. enum_member._value_ = enum_class._member_type_(*args). except Exception as exc:. new_exc = TypeError(. '_value_ not set in __new__, unable to create it'. ). new_exc.__cause__ = exc. > raise new_exc. E TypeError: _value_ not set in __new__, unable to create it. ```. ### Versions. <details>. ```. See anndata test failure. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2878
https://github.com/scverse/scanpy/issues/2878:498,safety,log,logs,498,"scanpy 1.10.0rc1 breaks anndata pre-release tests; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? `@doctest_needs` decorator causes test failures on scanpy import in anndata test suite. https://dev.azure.com/scverse/anndata/_build/results?buildId=5802&view=logs&jobId=0497d03e-5796-547f-cc56-989f8152a63c&j=0497d03e-5796-547f-cc56-989f8152a63c&t=ea3acdad-0250-5b8b-a1da-6cd02463cf17. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. else:. enum_member = enum_class._new_member_(enum_class, *args). if not hasattr(enum_member, '_value_'):. if enum_class._member_type_ is object:. enum_member._value_ = value. else:. try:. enum_member._value_ = enum_class._member_type_(*args). except Exception as exc:. new_exc = TypeError(. '_value_ not set in __new__, unable to create it'. ). new_exc.__cause__ = exc. > raise new_exc. E TypeError: _value_ not set in __new__, unable to create it. ```. ### Versions. <details>. ```. See anndata test failure. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2878
https://github.com/scverse/scanpy/issues/2878:674,safety,Error,Error,674,"scanpy 1.10.0rc1 breaks anndata pre-release tests; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? `@doctest_needs` decorator causes test failures on scanpy import in anndata test suite. https://dev.azure.com/scverse/anndata/_build/results?buildId=5802&view=logs&jobId=0497d03e-5796-547f-cc56-989f8152a63c&j=0497d03e-5796-547f-cc56-989f8152a63c&t=ea3acdad-0250-5b8b-a1da-6cd02463cf17. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. else:. enum_member = enum_class._new_member_(enum_class, *args). if not hasattr(enum_member, '_value_'):. if enum_class._member_type_ is object:. enum_member._value_ = value. else:. try:. enum_member._value_ = enum_class._member_type_(*args). except Exception as exc:. new_exc = TypeError(. '_value_ not set in __new__, unable to create it'. ). new_exc.__cause__ = exc. > raise new_exc. E TypeError: _value_ not set in __new__, unable to create it. ```. ### Versions. <details>. ```. See anndata test failure. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2878
https://github.com/scverse/scanpy/issues/2878:940,safety,except,except,940,"scanpy 1.10.0rc1 breaks anndata pre-release tests; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? `@doctest_needs` decorator causes test failures on scanpy import in anndata test suite. https://dev.azure.com/scverse/anndata/_build/results?buildId=5802&view=logs&jobId=0497d03e-5796-547f-cc56-989f8152a63c&j=0497d03e-5796-547f-cc56-989f8152a63c&t=ea3acdad-0250-5b8b-a1da-6cd02463cf17. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. else:. enum_member = enum_class._new_member_(enum_class, *args). if not hasattr(enum_member, '_value_'):. if enum_class._member_type_ is object:. enum_member._value_ = value. else:. try:. enum_member._value_ = enum_class._member_type_(*args). except Exception as exc:. new_exc = TypeError(. '_value_ not set in __new__, unable to create it'. ). new_exc.__cause__ = exc. > raise new_exc. E TypeError: _value_ not set in __new__, unable to create it. ```. ### Versions. <details>. ```. See anndata test failure. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2878
https://github.com/scverse/scanpy/issues/2878:947,safety,Except,Exception,947,"scanpy 1.10.0rc1 breaks anndata pre-release tests; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? `@doctest_needs` decorator causes test failures on scanpy import in anndata test suite. https://dev.azure.com/scverse/anndata/_build/results?buildId=5802&view=logs&jobId=0497d03e-5796-547f-cc56-989f8152a63c&j=0497d03e-5796-547f-cc56-989f8152a63c&t=ea3acdad-0250-5b8b-a1da-6cd02463cf17. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. else:. enum_member = enum_class._new_member_(enum_class, *args). if not hasattr(enum_member, '_value_'):. if enum_class._member_type_ is object:. enum_member._value_ = value. else:. try:. enum_member._value_ = enum_class._member_type_(*args). except Exception as exc:. new_exc = TypeError(. '_value_ not set in __new__, unable to create it'. ). new_exc.__cause__ = exc. > raise new_exc. E TypeError: _value_ not set in __new__, unable to create it. ```. ### Versions. <details>. ```. See anndata test failure. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2878
https://github.com/scverse/scanpy/issues/2878:1193,safety,test,test,1193,"scanpy 1.10.0rc1 breaks anndata pre-release tests; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? `@doctest_needs` decorator causes test failures on scanpy import in anndata test suite. https://dev.azure.com/scverse/anndata/_build/results?buildId=5802&view=logs&jobId=0497d03e-5796-547f-cc56-989f8152a63c&j=0497d03e-5796-547f-cc56-989f8152a63c&t=ea3acdad-0250-5b8b-a1da-6cd02463cf17. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. else:. enum_member = enum_class._new_member_(enum_class, *args). if not hasattr(enum_member, '_value_'):. if enum_class._member_type_ is object:. enum_member._value_ = value. else:. try:. enum_member._value_ = enum_class._member_type_(*args). except Exception as exc:. new_exc = TypeError(. '_value_ not set in __new__, unable to create it'. ). new_exc.__cause__ = exc. > raise new_exc. E TypeError: _value_ not set in __new__, unable to create it. ```. ### Versions. <details>. ```. See anndata test failure. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2878
https://github.com/scverse/scanpy/issues/2878:498,security,log,logs,498,"scanpy 1.10.0rc1 breaks anndata pre-release tests; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? `@doctest_needs` decorator causes test failures on scanpy import in anndata test suite. https://dev.azure.com/scverse/anndata/_build/results?buildId=5802&view=logs&jobId=0497d03e-5796-547f-cc56-989f8152a63c&j=0497d03e-5796-547f-cc56-989f8152a63c&t=ea3acdad-0250-5b8b-a1da-6cd02463cf17. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. else:. enum_member = enum_class._new_member_(enum_class, *args). if not hasattr(enum_member, '_value_'):. if enum_class._member_type_ is object:. enum_member._value_ = value. else:. try:. enum_member._value_ = enum_class._member_type_(*args). except Exception as exc:. new_exc = TypeError(. '_value_ not set in __new__, unable to create it'. ). new_exc.__cause__ = exc. > raise new_exc. E TypeError: _value_ not set in __new__, unable to create it. ```. ### Versions. <details>. ```. See anndata test failure. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2878
https://github.com/scverse/scanpy/issues/2878:44,testability,test,tests,44,"scanpy 1.10.0rc1 breaks anndata pre-release tests; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? `@doctest_needs` decorator causes test failures on scanpy import in anndata test suite. https://dev.azure.com/scverse/anndata/_build/results?buildId=5802&view=logs&jobId=0497d03e-5796-547f-cc56-989f8152a63c&j=0497d03e-5796-547f-cc56-989f8152a63c&t=ea3acdad-0250-5b8b-a1da-6cd02463cf17. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. else:. enum_member = enum_class._new_member_(enum_class, *args). if not hasattr(enum_member, '_value_'):. if enum_class._member_type_ is object:. enum_member._value_ = value. else:. try:. enum_member._value_ = enum_class._member_type_(*args). except Exception as exc:. new_exc = TypeError(. '_value_ not set in __new__, unable to create it'. ). new_exc.__cause__ = exc. > raise new_exc. E TypeError: _value_ not set in __new__, unable to create it. ```. ### Versions. <details>. ```. See anndata test failure. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2878
https://github.com/scverse/scanpy/issues/2878:373,testability,test,test,373,"scanpy 1.10.0rc1 breaks anndata pre-release tests; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? `@doctest_needs` decorator causes test failures on scanpy import in anndata test suite. https://dev.azure.com/scverse/anndata/_build/results?buildId=5802&view=logs&jobId=0497d03e-5796-547f-cc56-989f8152a63c&j=0497d03e-5796-547f-cc56-989f8152a63c&t=ea3acdad-0250-5b8b-a1da-6cd02463cf17. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. else:. enum_member = enum_class._new_member_(enum_class, *args). if not hasattr(enum_member, '_value_'):. if enum_class._member_type_ is object:. enum_member._value_ = value. else:. try:. enum_member._value_ = enum_class._member_type_(*args). except Exception as exc:. new_exc = TypeError(. '_value_ not set in __new__, unable to create it'. ). new_exc.__cause__ = exc. > raise new_exc. E TypeError: _value_ not set in __new__, unable to create it. ```. ### Versions. <details>. ```. See anndata test failure. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2878
https://github.com/scverse/scanpy/issues/2878:415,testability,test,test,415,"scanpy 1.10.0rc1 breaks anndata pre-release tests; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? `@doctest_needs` decorator causes test failures on scanpy import in anndata test suite. https://dev.azure.com/scverse/anndata/_build/results?buildId=5802&view=logs&jobId=0497d03e-5796-547f-cc56-989f8152a63c&j=0497d03e-5796-547f-cc56-989f8152a63c&t=ea3acdad-0250-5b8b-a1da-6cd02463cf17. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. else:. enum_member = enum_class._new_member_(enum_class, *args). if not hasattr(enum_member, '_value_'):. if enum_class._member_type_ is object:. enum_member._value_ = value. else:. try:. enum_member._value_ = enum_class._member_type_(*args). except Exception as exc:. new_exc = TypeError(. '_value_ not set in __new__, unable to create it'. ). new_exc.__cause__ = exc. > raise new_exc. E TypeError: _value_ not set in __new__, unable to create it. ```. ### Versions. <details>. ```. See anndata test failure. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2878
https://github.com/scverse/scanpy/issues/2878:498,testability,log,logs,498,"scanpy 1.10.0rc1 breaks anndata pre-release tests; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? `@doctest_needs` decorator causes test failures on scanpy import in anndata test suite. https://dev.azure.com/scverse/anndata/_build/results?buildId=5802&view=logs&jobId=0497d03e-5796-547f-cc56-989f8152a63c&j=0497d03e-5796-547f-cc56-989f8152a63c&t=ea3acdad-0250-5b8b-a1da-6cd02463cf17. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. else:. enum_member = enum_class._new_member_(enum_class, *args). if not hasattr(enum_member, '_value_'):. if enum_class._member_type_ is object:. enum_member._value_ = value. else:. try:. enum_member._value_ = enum_class._member_type_(*args). except Exception as exc:. new_exc = TypeError(. '_value_ not set in __new__, unable to create it'. ). new_exc.__cause__ = exc. > raise new_exc. E TypeError: _value_ not set in __new__, unable to create it. ```. ### Versions. <details>. ```. See anndata test failure. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2878
https://github.com/scverse/scanpy/issues/2878:1193,testability,test,test,1193,"scanpy 1.10.0rc1 breaks anndata pre-release tests; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? `@doctest_needs` decorator causes test failures on scanpy import in anndata test suite. https://dev.azure.com/scverse/anndata/_build/results?buildId=5802&view=logs&jobId=0497d03e-5796-547f-cc56-989f8152a63c&j=0497d03e-5796-547f-cc56-989f8152a63c&t=ea3acdad-0250-5b8b-a1da-6cd02463cf17. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. else:. enum_member = enum_class._new_member_(enum_class, *args). if not hasattr(enum_member, '_value_'):. if enum_class._member_type_ is object:. enum_member._value_ = value. else:. try:. enum_member._value_ = enum_class._member_type_(*args). except Exception as exc:. new_exc = TypeError(. '_value_ not set in __new__, unable to create it'. ). new_exc.__cause__ = exc. > raise new_exc. E TypeError: _value_ not set in __new__, unable to create it. ```. ### Versions. <details>. ```. See anndata test failure. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2878
https://github.com/scverse/scanpy/issues/2878:179,usability,confirm,confirmed,179,"scanpy 1.10.0rc1 breaks anndata pre-release tests; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? `@doctest_needs` decorator causes test failures on scanpy import in anndata test suite. https://dev.azure.com/scverse/anndata/_build/results?buildId=5802&view=logs&jobId=0497d03e-5796-547f-cc56-989f8152a63c&j=0497d03e-5796-547f-cc56-989f8152a63c&t=ea3acdad-0250-5b8b-a1da-6cd02463cf17. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. else:. enum_member = enum_class._new_member_(enum_class, *args). if not hasattr(enum_member, '_value_'):. if enum_class._member_type_ is object:. enum_member._value_ = value. else:. try:. enum_member._value_ = enum_class._member_type_(*args). except Exception as exc:. new_exc = TypeError(. '_value_ not set in __new__, unable to create it'. ). new_exc.__cause__ = exc. > raise new_exc. E TypeError: _value_ not set in __new__, unable to create it. ```. ### Versions. <details>. ```. See anndata test failure. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2878
https://github.com/scverse/scanpy/issues/2878:262,usability,confirm,confirmed,262,"scanpy 1.10.0rc1 breaks anndata pre-release tests; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? `@doctest_needs` decorator causes test failures on scanpy import in anndata test suite. https://dev.azure.com/scverse/anndata/_build/results?buildId=5802&view=logs&jobId=0497d03e-5796-547f-cc56-989f8152a63c&j=0497d03e-5796-547f-cc56-989f8152a63c&t=ea3acdad-0250-5b8b-a1da-6cd02463cf17. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. else:. enum_member = enum_class._new_member_(enum_class, *args). if not hasattr(enum_member, '_value_'):. if enum_class._member_type_ is object:. enum_member._value_ = value. else:. try:. enum_member._value_ = enum_class._member_type_(*args). except Exception as exc:. new_exc = TypeError(. '_value_ not set in __new__, unable to create it'. ). new_exc.__cause__ = exc. > raise new_exc. E TypeError: _value_ not set in __new__, unable to create it. ```. ### Versions. <details>. ```. See anndata test failure. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2878
https://github.com/scverse/scanpy/issues/2878:629,usability,Minim,Minimal,629,"scanpy 1.10.0rc1 breaks anndata pre-release tests; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? `@doctest_needs` decorator causes test failures on scanpy import in anndata test suite. https://dev.azure.com/scverse/anndata/_build/results?buildId=5802&view=logs&jobId=0497d03e-5796-547f-cc56-989f8152a63c&j=0497d03e-5796-547f-cc56-989f8152a63c&t=ea3acdad-0250-5b8b-a1da-6cd02463cf17. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. else:. enum_member = enum_class._new_member_(enum_class, *args). if not hasattr(enum_member, '_value_'):. if enum_class._member_type_ is object:. enum_member._value_ = value. else:. try:. enum_member._value_ = enum_class._member_type_(*args). except Exception as exc:. new_exc = TypeError(. '_value_ not set in __new__, unable to create it'. ). new_exc.__cause__ = exc. > raise new_exc. E TypeError: _value_ not set in __new__, unable to create it. ```. ### Versions. <details>. ```. See anndata test failure. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2878
https://github.com/scverse/scanpy/issues/2878:674,usability,Error,Error,674,"scanpy 1.10.0rc1 breaks anndata pre-release tests; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the master branch of scanpy. ### What happened? `@doctest_needs` decorator causes test failures on scanpy import in anndata test suite. https://dev.azure.com/scverse/anndata/_build/results?buildId=5802&view=logs&jobId=0497d03e-5796-547f-cc56-989f8152a63c&j=0497d03e-5796-547f-cc56-989f8152a63c&t=ea3acdad-0250-5b8b-a1da-6cd02463cf17. ### Minimal code sample. ```python. NA. ```. ### Error output. ```pytb. else:. enum_member = enum_class._new_member_(enum_class, *args). if not hasattr(enum_member, '_value_'):. if enum_class._member_type_ is object:. enum_member._value_ = value. else:. try:. enum_member._value_ = enum_class._member_type_(*args). except Exception as exc:. new_exc = TypeError(. '_value_ not set in __new__, unable to create it'. ). new_exc.__cause__ = exc. > raise new_exc. E TypeError: _value_ not set in __new__, unable to create it. ```. ### Versions. <details>. ```. See anndata test failure. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2878
https://github.com/scverse/scanpy/pull/2879:465,deployability,releas,release,465,Fix pytest deprecation warning; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2878 . - [x] Tests included or not required because: dev change. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because: dev change.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2879
https://github.com/scverse/scanpy/pull/2879:490,deployability,Releas,Release,490,Fix pytest deprecation warning; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2878 . - [x] Tests included or not required because: dev change. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because: dev change.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2879
https://github.com/scverse/scanpy/pull/2879:251,safety,review,review,251,Fix pytest deprecation warning; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2878 . - [x] Tests included or not required because: dev change. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because: dev change.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2879
https://github.com/scverse/scanpy/pull/2879:356,safety,Test,Tests,356,Fix pytest deprecation warning; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2878 . - [x] Tests included or not required because: dev change. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because: dev change.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2879
https://github.com/scverse/scanpy/pull/2879:251,testability,review,review,251,Fix pytest deprecation warning; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2878 . - [x] Tests included or not required because: dev change. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because: dev change.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2879
https://github.com/scverse/scanpy/pull/2879:356,testability,Test,Tests,356,Fix pytest deprecation warning; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2878 . - [x] Tests included or not required because: dev change. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because: dev change.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2879
https://github.com/scverse/scanpy/pull/2879:102,usability,guid,guidelines,102,Fix pytest deprecation warning; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2878 . - [x] Tests included or not required because: dev change. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because: dev change.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2879
https://github.com/scverse/scanpy/pull/2879:133,usability,guid,guide,133,Fix pytest deprecation warning; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2878 . - [x] Tests included or not required because: dev change. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because: dev change.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2879
https://github.com/scverse/scanpy/pull/2879:229,usability,workflow,workflow,229,Fix pytest deprecation warning; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2878 . - [x] Tests included or not required because: dev change. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because: dev change.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2879
https://github.com/scverse/scanpy/pull/2879:335,usability,Close,Closes,335,Fix pytest deprecation warning; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2878 . - [x] Tests included or not required because: dev change. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because: dev change.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2879
https://github.com/scverse/scanpy/issues/2881:93,modifiability,paramet,parameters,93,log1p return matrix; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. I think it would be good also in light of `pp.scrublet` to have the option that `log1p` returns the matrix and not a copyed `anndata`. This would save memory.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2881
https://github.com/scverse/scanpy/issues/2881:332,performance,memor,memory,332,log1p return matrix; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. I think it would be good also in light of `pp.scrublet` to have the option that `log1p` returns the matrix and not a copyed `anndata`. This would save memory.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2881
https://github.com/scverse/scanpy/issues/2881:332,usability,memor,memory,332,log1p return matrix; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. I think it would be good also in light of `pp.scrublet` to have the option that `log1p` returns the matrix and not a copyed `anndata`. This would save memory.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2881
https://github.com/scverse/scanpy/pull/2883:10,integrability,sub,subtle,10,"Even more subtle blank issues; As noted by @ilan-gold, just setting `blank_issues = true` makes a little link visible:. <img width=""752"" alt=""image"" src=""https://github.com/scverse/scanpy/assets/8238804/85df7f67-d259-4d0c-a80a-c364aea73675"">.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2883
https://github.com/scverse/scanpy/pull/2884:33,deployability,updat,updating,33,master-to-main; Going through an updating master -> main. Part of https://github.com/scverse/scanpy/issues/2869. Mostly in dev docs and CI links,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2884
https://github.com/scverse/scanpy/pull/2884:33,safety,updat,updating,33,master-to-main; Going through an updating master -> main. Part of https://github.com/scverse/scanpy/issues/2869. Mostly in dev docs and CI links,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2884
https://github.com/scverse/scanpy/pull/2884:33,security,updat,updating,33,master-to-main; Going through an updating master -> main. Part of https://github.com/scverse/scanpy/issues/2869. Mostly in dev docs and CI links,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2884
https://github.com/scverse/scanpy/pull/2885:459,deployability,releas,release,459,Fix all references to the default branch; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2885
https://github.com/scverse/scanpy/pull/2885:484,deployability,Releas,Release,484,Fix all references to the default branch; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2885
https://github.com/scverse/scanpy/pull/2885:261,safety,review,review,261,Fix all references to the default branch; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2885
https://github.com/scverse/scanpy/pull/2885:361,safety,Test,Tests,361,Fix all references to the default branch; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2885
https://github.com/scverse/scanpy/pull/2885:261,testability,review,review,261,Fix all references to the default branch; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2885
https://github.com/scverse/scanpy/pull/2885:361,testability,Test,Tests,361,Fix all references to the default branch; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2885
https://github.com/scverse/scanpy/pull/2885:112,usability,guid,guidelines,112,Fix all references to the default branch; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2885
https://github.com/scverse/scanpy/pull/2885:143,usability,guid,guide,143,Fix all references to the default branch; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2885
https://github.com/scverse/scanpy/pull/2885:239,usability,workflow,workflow,239,Fix all references to the default branch; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2885
https://github.com/scverse/scanpy/pull/2885:345,usability,Close,Closes,345,Fix all references to the default branch; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2885
https://github.com/scverse/scanpy/issues/2887:391,availability,cluster,clustering,391,"Leiden and louvain params not saved to matching `key_added` key in `uns` dictionary ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Leiden and Louvain clustering params are not saved to matching `key_added` key in `uns` dictionary but are ovewritten to hardcoded key instead. One use case is that a user may want to run Leiden/Louvain clustering multiple times with different resolutions / parameters. One may specify different keys to store results under. However, if you do so, the metadata for the parameterization of the clustering algorithms are overwritten because the lines below do not respect the user provided `key_added` parameter. I think the desired behavior is to store data under `adata.uns[key_added][""params""]`. I think I've found the pertinent lines below. Happy to submit a PR if maintainers agree :D. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_leiden.py#L206. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_louvain.py#L259. ### Minimal code sample. ```python. sc.tl.leiden(adata, resolution=0.8, key_added=""leiden_0.8""). assert ""leiden_0.8"" not in adata.uns. params = adata.uns[""leiden""] . sc.tl.leiden(adata, resolution=1.2, key_added=""leiden_1.2""). assert ""leiden_1.2"" not in adata.uns. overwritten_params = adata.uns[""leiden""] . assert params == overwritten_params # should fail. ```. ### Error output. _No response_. ### Versions. <details>. Confirmed that params are overwritten in source in main branch. (see permalinks). </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2887
https://github.com/scverse/scanpy/issues/2887:575,availability,cluster,clustering,575,"Leiden and louvain params not saved to matching `key_added` key in `uns` dictionary ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Leiden and Louvain clustering params are not saved to matching `key_added` key in `uns` dictionary but are ovewritten to hardcoded key instead. One use case is that a user may want to run Leiden/Louvain clustering multiple times with different resolutions / parameters. One may specify different keys to store results under. However, if you do so, the metadata for the parameterization of the clustering algorithms are overwritten because the lines below do not respect the user provided `key_added` parameter. I think the desired behavior is to store data under `adata.uns[key_added][""params""]`. I think I've found the pertinent lines below. Happy to submit a PR if maintainers agree :D. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_leiden.py#L206. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_louvain.py#L259. ### Minimal code sample. ```python. sc.tl.leiden(adata, resolution=0.8, key_added=""leiden_0.8""). assert ""leiden_0.8"" not in adata.uns. params = adata.uns[""leiden""] . sc.tl.leiden(adata, resolution=1.2, key_added=""leiden_1.2""). assert ""leiden_1.2"" not in adata.uns. overwritten_params = adata.uns[""leiden""] . assert params == overwritten_params # should fail. ```. ### Error output. _No response_. ### Versions. <details>. Confirmed that params are overwritten in source in main branch. (see permalinks). </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2887
https://github.com/scverse/scanpy/issues/2887:765,availability,cluster,clustering,765,"Leiden and louvain params not saved to matching `key_added` key in `uns` dictionary ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Leiden and Louvain clustering params are not saved to matching `key_added` key in `uns` dictionary but are ovewritten to hardcoded key instead. One use case is that a user may want to run Leiden/Louvain clustering multiple times with different resolutions / parameters. One may specify different keys to store results under. However, if you do so, the metadata for the parameterization of the clustering algorithms are overwritten because the lines below do not respect the user provided `key_added` parameter. I think the desired behavior is to store data under `adata.uns[key_added][""params""]`. I think I've found the pertinent lines below. Happy to submit a PR if maintainers agree :D. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_leiden.py#L206. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_louvain.py#L259. ### Minimal code sample. ```python. sc.tl.leiden(adata, resolution=0.8, key_added=""leiden_0.8""). assert ""leiden_0.8"" not in adata.uns. params = adata.uns[""leiden""] . sc.tl.leiden(adata, resolution=1.2, key_added=""leiden_1.2""). assert ""leiden_1.2"" not in adata.uns. overwritten_params = adata.uns[""leiden""] . assert params == overwritten_params # should fail. ```. ### Error output. _No response_. ### Versions. <details>. Confirmed that params are overwritten in source in main branch. (see permalinks). </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2887
https://github.com/scverse/scanpy/issues/2887:1654,availability,Error,Error,1654,"Leiden and louvain params not saved to matching `key_added` key in `uns` dictionary ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Leiden and Louvain clustering params are not saved to matching `key_added` key in `uns` dictionary but are ovewritten to hardcoded key instead. One use case is that a user may want to run Leiden/Louvain clustering multiple times with different resolutions / parameters. One may specify different keys to store results under. However, if you do so, the metadata for the parameterization of the clustering algorithms are overwritten because the lines below do not respect the user provided `key_added` parameter. I think the desired behavior is to store data under `adata.uns[key_added][""params""]`. I think I've found the pertinent lines below. Happy to submit a PR if maintainers agree :D. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_leiden.py#L206. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_louvain.py#L259. ### Minimal code sample. ```python. sc.tl.leiden(adata, resolution=0.8, key_added=""leiden_0.8""). assert ""leiden_0.8"" not in adata.uns. params = adata.uns[""leiden""] . sc.tl.leiden(adata, resolution=1.2, key_added=""leiden_1.2""). assert ""leiden_1.2"" not in adata.uns. overwritten_params = adata.uns[""leiden""] . assert params == overwritten_params # should fail. ```. ### Error output. _No response_. ### Versions. <details>. Confirmed that params are overwritten in source in main branch. (see permalinks). </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2887
https://github.com/scverse/scanpy/issues/2887:254,deployability,version,version,254,"Leiden and louvain params not saved to matching `key_added` key in `uns` dictionary ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Leiden and Louvain clustering params are not saved to matching `key_added` key in `uns` dictionary but are ovewritten to hardcoded key instead. One use case is that a user may want to run Leiden/Louvain clustering multiple times with different resolutions / parameters. One may specify different keys to store results under. However, if you do so, the metadata for the parameterization of the clustering algorithms are overwritten because the lines below do not respect the user provided `key_added` parameter. I think the desired behavior is to store data under `adata.uns[key_added][""params""]`. I think I've found the pertinent lines below. Happy to submit a PR if maintainers agree :D. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_leiden.py#L206. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_louvain.py#L259. ### Minimal code sample. ```python. sc.tl.leiden(adata, resolution=0.8, key_added=""leiden_0.8""). assert ""leiden_0.8"" not in adata.uns. params = adata.uns[""leiden""] . sc.tl.leiden(adata, resolution=1.2, key_added=""leiden_1.2""). assert ""leiden_1.2"" not in adata.uns. overwritten_params = adata.uns[""leiden""] . assert params == overwritten_params # should fail. ```. ### Error output. _No response_. ### Versions. <details>. Confirmed that params are overwritten in source in main branch. (see permalinks). </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2887
https://github.com/scverse/scanpy/issues/2887:391,deployability,cluster,clustering,391,"Leiden and louvain params not saved to matching `key_added` key in `uns` dictionary ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Leiden and Louvain clustering params are not saved to matching `key_added` key in `uns` dictionary but are ovewritten to hardcoded key instead. One use case is that a user may want to run Leiden/Louvain clustering multiple times with different resolutions / parameters. One may specify different keys to store results under. However, if you do so, the metadata for the parameterization of the clustering algorithms are overwritten because the lines below do not respect the user provided `key_added` parameter. I think the desired behavior is to store data under `adata.uns[key_added][""params""]`. I think I've found the pertinent lines below. Happy to submit a PR if maintainers agree :D. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_leiden.py#L206. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_louvain.py#L259. ### Minimal code sample. ```python. sc.tl.leiden(adata, resolution=0.8, key_added=""leiden_0.8""). assert ""leiden_0.8"" not in adata.uns. params = adata.uns[""leiden""] . sc.tl.leiden(adata, resolution=1.2, key_added=""leiden_1.2""). assert ""leiden_1.2"" not in adata.uns. overwritten_params = adata.uns[""leiden""] . assert params == overwritten_params # should fail. ```. ### Error output. _No response_. ### Versions. <details>. Confirmed that params are overwritten in source in main branch. (see permalinks). </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2887
https://github.com/scverse/scanpy/issues/2887:575,deployability,cluster,clustering,575,"Leiden and louvain params not saved to matching `key_added` key in `uns` dictionary ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Leiden and Louvain clustering params are not saved to matching `key_added` key in `uns` dictionary but are ovewritten to hardcoded key instead. One use case is that a user may want to run Leiden/Louvain clustering multiple times with different resolutions / parameters. One may specify different keys to store results under. However, if you do so, the metadata for the parameterization of the clustering algorithms are overwritten because the lines below do not respect the user provided `key_added` parameter. I think the desired behavior is to store data under `adata.uns[key_added][""params""]`. I think I've found the pertinent lines below. Happy to submit a PR if maintainers agree :D. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_leiden.py#L206. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_louvain.py#L259. ### Minimal code sample. ```python. sc.tl.leiden(adata, resolution=0.8, key_added=""leiden_0.8""). assert ""leiden_0.8"" not in adata.uns. params = adata.uns[""leiden""] . sc.tl.leiden(adata, resolution=1.2, key_added=""leiden_1.2""). assert ""leiden_1.2"" not in adata.uns. overwritten_params = adata.uns[""leiden""] . assert params == overwritten_params # should fail. ```. ### Error output. _No response_. ### Versions. <details>. Confirmed that params are overwritten in source in main branch. (see permalinks). </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2887
https://github.com/scverse/scanpy/issues/2887:765,deployability,cluster,clustering,765,"Leiden and louvain params not saved to matching `key_added` key in `uns` dictionary ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Leiden and Louvain clustering params are not saved to matching `key_added` key in `uns` dictionary but are ovewritten to hardcoded key instead. One use case is that a user may want to run Leiden/Louvain clustering multiple times with different resolutions / parameters. One may specify different keys to store results under. However, if you do so, the metadata for the parameterization of the clustering algorithms are overwritten because the lines below do not respect the user provided `key_added` parameter. I think the desired behavior is to store data under `adata.uns[key_added][""params""]`. I think I've found the pertinent lines below. Happy to submit a PR if maintainers agree :D. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_leiden.py#L206. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_louvain.py#L259. ### Minimal code sample. ```python. sc.tl.leiden(adata, resolution=0.8, key_added=""leiden_0.8""). assert ""leiden_0.8"" not in adata.uns. params = adata.uns[""leiden""] . sc.tl.leiden(adata, resolution=1.2, key_added=""leiden_1.2""). assert ""leiden_1.2"" not in adata.uns. overwritten_params = adata.uns[""leiden""] . assert params == overwritten_params # should fail. ```. ### Error output. _No response_. ### Versions. <details>. Confirmed that params are overwritten in source in main branch. (see permalinks). </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2887
https://github.com/scverse/scanpy/issues/2887:1639,deployability,fail,fail,1639,"Leiden and louvain params not saved to matching `key_added` key in `uns` dictionary ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Leiden and Louvain clustering params are not saved to matching `key_added` key in `uns` dictionary but are ovewritten to hardcoded key instead. One use case is that a user may want to run Leiden/Louvain clustering multiple times with different resolutions / parameters. One may specify different keys to store results under. However, if you do so, the metadata for the parameterization of the clustering algorithms are overwritten because the lines below do not respect the user provided `key_added` parameter. I think the desired behavior is to store data under `adata.uns[key_added][""params""]`. I think I've found the pertinent lines below. Happy to submit a PR if maintainers agree :D. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_leiden.py#L206. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_louvain.py#L259. ### Minimal code sample. ```python. sc.tl.leiden(adata, resolution=0.8, key_added=""leiden_0.8""). assert ""leiden_0.8"" not in adata.uns. params = adata.uns[""leiden""] . sc.tl.leiden(adata, resolution=1.2, key_added=""leiden_1.2""). assert ""leiden_1.2"" not in adata.uns. overwritten_params = adata.uns[""leiden""] . assert params == overwritten_params # should fail. ```. ### Error output. _No response_. ### Versions. <details>. Confirmed that params are overwritten in source in main branch. (see permalinks). </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2887
https://github.com/scverse/scanpy/issues/2887:1687,deployability,Version,Versions,1687,"Leiden and louvain params not saved to matching `key_added` key in `uns` dictionary ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Leiden and Louvain clustering params are not saved to matching `key_added` key in `uns` dictionary but are ovewritten to hardcoded key instead. One use case is that a user may want to run Leiden/Louvain clustering multiple times with different resolutions / parameters. One may specify different keys to store results under. However, if you do so, the metadata for the parameterization of the clustering algorithms are overwritten because the lines below do not respect the user provided `key_added` parameter. I think the desired behavior is to store data under `adata.uns[key_added][""params""]`. I think I've found the pertinent lines below. Happy to submit a PR if maintainers agree :D. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_leiden.py#L206. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_louvain.py#L259. ### Minimal code sample. ```python. sc.tl.leiden(adata, resolution=0.8, key_added=""leiden_0.8""). assert ""leiden_0.8"" not in adata.uns. params = adata.uns[""leiden""] . sc.tl.leiden(adata, resolution=1.2, key_added=""leiden_1.2""). assert ""leiden_1.2"" not in adata.uns. overwritten_params = adata.uns[""leiden""] . assert params == overwritten_params # should fail. ```. ### Error output. _No response_. ### Versions. <details>. Confirmed that params are overwritten in source in main branch. (see permalinks). </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2887
https://github.com/scverse/scanpy/issues/2887:254,integrability,version,version,254,"Leiden and louvain params not saved to matching `key_added` key in `uns` dictionary ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Leiden and Louvain clustering params are not saved to matching `key_added` key in `uns` dictionary but are ovewritten to hardcoded key instead. One use case is that a user may want to run Leiden/Louvain clustering multiple times with different resolutions / parameters. One may specify different keys to store results under. However, if you do so, the metadata for the parameterization of the clustering algorithms are overwritten because the lines below do not respect the user provided `key_added` parameter. I think the desired behavior is to store data under `adata.uns[key_added][""params""]`. I think I've found the pertinent lines below. Happy to submit a PR if maintainers agree :D. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_leiden.py#L206. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_louvain.py#L259. ### Minimal code sample. ```python. sc.tl.leiden(adata, resolution=0.8, key_added=""leiden_0.8""). assert ""leiden_0.8"" not in adata.uns. params = adata.uns[""leiden""] . sc.tl.leiden(adata, resolution=1.2, key_added=""leiden_1.2""). assert ""leiden_1.2"" not in adata.uns. overwritten_params = adata.uns[""leiden""] . assert params == overwritten_params # should fail. ```. ### Error output. _No response_. ### Versions. <details>. Confirmed that params are overwritten in source in main branch. (see permalinks). </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2887
https://github.com/scverse/scanpy/issues/2887:1024,integrability,sub,submit,1024,"Leiden and louvain params not saved to matching `key_added` key in `uns` dictionary ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Leiden and Louvain clustering params are not saved to matching `key_added` key in `uns` dictionary but are ovewritten to hardcoded key instead. One use case is that a user may want to run Leiden/Louvain clustering multiple times with different resolutions / parameters. One may specify different keys to store results under. However, if you do so, the metadata for the parameterization of the clustering algorithms are overwritten because the lines below do not respect the user provided `key_added` parameter. I think the desired behavior is to store data under `adata.uns[key_added][""params""]`. I think I've found the pertinent lines below. Happy to submit a PR if maintainers agree :D. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_leiden.py#L206. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_louvain.py#L259. ### Minimal code sample. ```python. sc.tl.leiden(adata, resolution=0.8, key_added=""leiden_0.8""). assert ""leiden_0.8"" not in adata.uns. params = adata.uns[""leiden""] . sc.tl.leiden(adata, resolution=1.2, key_added=""leiden_1.2""). assert ""leiden_1.2"" not in adata.uns. overwritten_params = adata.uns[""leiden""] . assert params == overwritten_params # should fail. ```. ### Error output. _No response_. ### Versions. <details>. Confirmed that params are overwritten in source in main branch. (see permalinks). </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2887
https://github.com/scverse/scanpy/issues/2887:1687,integrability,Version,Versions,1687,"Leiden and louvain params not saved to matching `key_added` key in `uns` dictionary ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Leiden and Louvain clustering params are not saved to matching `key_added` key in `uns` dictionary but are ovewritten to hardcoded key instead. One use case is that a user may want to run Leiden/Louvain clustering multiple times with different resolutions / parameters. One may specify different keys to store results under. However, if you do so, the metadata for the parameterization of the clustering algorithms are overwritten because the lines below do not respect the user provided `key_added` parameter. I think the desired behavior is to store data under `adata.uns[key_added][""params""]`. I think I've found the pertinent lines below. Happy to submit a PR if maintainers agree :D. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_leiden.py#L206. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_louvain.py#L259. ### Minimal code sample. ```python. sc.tl.leiden(adata, resolution=0.8, key_added=""leiden_0.8""). assert ""leiden_0.8"" not in adata.uns. params = adata.uns[""leiden""] . sc.tl.leiden(adata, resolution=1.2, key_added=""leiden_1.2""). assert ""leiden_1.2"" not in adata.uns. overwritten_params = adata.uns[""leiden""] . assert params == overwritten_params # should fail. ```. ### Error output. _No response_. ### Versions. <details>. Confirmed that params are overwritten in source in main branch. (see permalinks). </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2887
https://github.com/scverse/scanpy/issues/2887:650,interoperability,specif,specify,650,"Leiden and louvain params not saved to matching `key_added` key in `uns` dictionary ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Leiden and Louvain clustering params are not saved to matching `key_added` key in `uns` dictionary but are ovewritten to hardcoded key instead. One use case is that a user may want to run Leiden/Louvain clustering multiple times with different resolutions / parameters. One may specify different keys to store results under. However, if you do so, the metadata for the parameterization of the clustering algorithms are overwritten because the lines below do not respect the user provided `key_added` parameter. I think the desired behavior is to store data under `adata.uns[key_added][""params""]`. I think I've found the pertinent lines below. Happy to submit a PR if maintainers agree :D. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_leiden.py#L206. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_louvain.py#L259. ### Minimal code sample. ```python. sc.tl.leiden(adata, resolution=0.8, key_added=""leiden_0.8""). assert ""leiden_0.8"" not in adata.uns. params = adata.uns[""leiden""] . sc.tl.leiden(adata, resolution=1.2, key_added=""leiden_1.2""). assert ""leiden_1.2"" not in adata.uns. overwritten_params = adata.uns[""leiden""] . assert params == overwritten_params # should fail. ```. ### Error output. _No response_. ### Versions. <details>. Confirmed that params are overwritten in source in main branch. (see permalinks). </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2887
https://github.com/scverse/scanpy/issues/2887:254,modifiability,version,version,254,"Leiden and louvain params not saved to matching `key_added` key in `uns` dictionary ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Leiden and Louvain clustering params are not saved to matching `key_added` key in `uns` dictionary but are ovewritten to hardcoded key instead. One use case is that a user may want to run Leiden/Louvain clustering multiple times with different resolutions / parameters. One may specify different keys to store results under. However, if you do so, the metadata for the parameterization of the clustering algorithms are overwritten because the lines below do not respect the user provided `key_added` parameter. I think the desired behavior is to store data under `adata.uns[key_added][""params""]`. I think I've found the pertinent lines below. Happy to submit a PR if maintainers agree :D. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_leiden.py#L206. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_louvain.py#L259. ### Minimal code sample. ```python. sc.tl.leiden(adata, resolution=0.8, key_added=""leiden_0.8""). assert ""leiden_0.8"" not in adata.uns. params = adata.uns[""leiden""] . sc.tl.leiden(adata, resolution=1.2, key_added=""leiden_1.2""). assert ""leiden_1.2"" not in adata.uns. overwritten_params = adata.uns[""leiden""] . assert params == overwritten_params # should fail. ```. ### Error output. _No response_. ### Versions. <details>. Confirmed that params are overwritten in source in main branch. (see permalinks). </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2887
https://github.com/scverse/scanpy/issues/2887:630,modifiability,paramet,parameters,630,"Leiden and louvain params not saved to matching `key_added` key in `uns` dictionary ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Leiden and Louvain clustering params are not saved to matching `key_added` key in `uns` dictionary but are ovewritten to hardcoded key instead. One use case is that a user may want to run Leiden/Louvain clustering multiple times with different resolutions / parameters. One may specify different keys to store results under. However, if you do so, the metadata for the parameterization of the clustering algorithms are overwritten because the lines below do not respect the user provided `key_added` parameter. I think the desired behavior is to store data under `adata.uns[key_added][""params""]`. I think I've found the pertinent lines below. Happy to submit a PR if maintainers agree :D. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_leiden.py#L206. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_louvain.py#L259. ### Minimal code sample. ```python. sc.tl.leiden(adata, resolution=0.8, key_added=""leiden_0.8""). assert ""leiden_0.8"" not in adata.uns. params = adata.uns[""leiden""] . sc.tl.leiden(adata, resolution=1.2, key_added=""leiden_1.2""). assert ""leiden_1.2"" not in adata.uns. overwritten_params = adata.uns[""leiden""] . assert params == overwritten_params # should fail. ```. ### Error output. _No response_. ### Versions. <details>. Confirmed that params are overwritten in source in main branch. (see permalinks). </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2887
https://github.com/scverse/scanpy/issues/2887:741,modifiability,paramet,parameterization,741,"Leiden and louvain params not saved to matching `key_added` key in `uns` dictionary ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Leiden and Louvain clustering params are not saved to matching `key_added` key in `uns` dictionary but are ovewritten to hardcoded key instead. One use case is that a user may want to run Leiden/Louvain clustering multiple times with different resolutions / parameters. One may specify different keys to store results under. However, if you do so, the metadata for the parameterization of the clustering algorithms are overwritten because the lines below do not respect the user provided `key_added` parameter. I think the desired behavior is to store data under `adata.uns[key_added][""params""]`. I think I've found the pertinent lines below. Happy to submit a PR if maintainers agree :D. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_leiden.py#L206. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_louvain.py#L259. ### Minimal code sample. ```python. sc.tl.leiden(adata, resolution=0.8, key_added=""leiden_0.8""). assert ""leiden_0.8"" not in adata.uns. params = adata.uns[""leiden""] . sc.tl.leiden(adata, resolution=1.2, key_added=""leiden_1.2""). assert ""leiden_1.2"" not in adata.uns. overwritten_params = adata.uns[""leiden""] . assert params == overwritten_params # should fail. ```. ### Error output. _No response_. ### Versions. <details>. Confirmed that params are overwritten in source in main branch. (see permalinks). </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2887
https://github.com/scverse/scanpy/issues/2887:872,modifiability,paramet,parameter,872,"Leiden and louvain params not saved to matching `key_added` key in `uns` dictionary ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Leiden and Louvain clustering params are not saved to matching `key_added` key in `uns` dictionary but are ovewritten to hardcoded key instead. One use case is that a user may want to run Leiden/Louvain clustering multiple times with different resolutions / parameters. One may specify different keys to store results under. However, if you do so, the metadata for the parameterization of the clustering algorithms are overwritten because the lines below do not respect the user provided `key_added` parameter. I think the desired behavior is to store data under `adata.uns[key_added][""params""]`. I think I've found the pertinent lines below. Happy to submit a PR if maintainers agree :D. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_leiden.py#L206. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_louvain.py#L259. ### Minimal code sample. ```python. sc.tl.leiden(adata, resolution=0.8, key_added=""leiden_0.8""). assert ""leiden_0.8"" not in adata.uns. params = adata.uns[""leiden""] . sc.tl.leiden(adata, resolution=1.2, key_added=""leiden_1.2""). assert ""leiden_1.2"" not in adata.uns. overwritten_params = adata.uns[""leiden""] . assert params == overwritten_params # should fail. ```. ### Error output. _No response_. ### Versions. <details>. Confirmed that params are overwritten in source in main branch. (see permalinks). </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2887
https://github.com/scverse/scanpy/issues/2887:1039,modifiability,maintain,maintainers,1039,"Leiden and louvain params not saved to matching `key_added` key in `uns` dictionary ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Leiden and Louvain clustering params are not saved to matching `key_added` key in `uns` dictionary but are ovewritten to hardcoded key instead. One use case is that a user may want to run Leiden/Louvain clustering multiple times with different resolutions / parameters. One may specify different keys to store results under. However, if you do so, the metadata for the parameterization of the clustering algorithms are overwritten because the lines below do not respect the user provided `key_added` parameter. I think the desired behavior is to store data under `adata.uns[key_added][""params""]`. I think I've found the pertinent lines below. Happy to submit a PR if maintainers agree :D. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_leiden.py#L206. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_louvain.py#L259. ### Minimal code sample. ```python. sc.tl.leiden(adata, resolution=0.8, key_added=""leiden_0.8""). assert ""leiden_0.8"" not in adata.uns. params = adata.uns[""leiden""] . sc.tl.leiden(adata, resolution=1.2, key_added=""leiden_1.2""). assert ""leiden_1.2"" not in adata.uns. overwritten_params = adata.uns[""leiden""] . assert params == overwritten_params # should fail. ```. ### Error output. _No response_. ### Versions. <details>. Confirmed that params are overwritten in source in main branch. (see permalinks). </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2887
https://github.com/scverse/scanpy/issues/2887:1687,modifiability,Version,Versions,1687,"Leiden and louvain params not saved to matching `key_added` key in `uns` dictionary ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Leiden and Louvain clustering params are not saved to matching `key_added` key in `uns` dictionary but are ovewritten to hardcoded key instead. One use case is that a user may want to run Leiden/Louvain clustering multiple times with different resolutions / parameters. One may specify different keys to store results under. However, if you do so, the metadata for the parameterization of the clustering algorithms are overwritten because the lines below do not respect the user provided `key_added` parameter. I think the desired behavior is to store data under `adata.uns[key_added][""params""]`. I think I've found the pertinent lines below. Happy to submit a PR if maintainers agree :D. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_leiden.py#L206. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_louvain.py#L259. ### Minimal code sample. ```python. sc.tl.leiden(adata, resolution=0.8, key_added=""leiden_0.8""). assert ""leiden_0.8"" not in adata.uns. params = adata.uns[""leiden""] . sc.tl.leiden(adata, resolution=1.2, key_added=""leiden_1.2""). assert ""leiden_1.2"" not in adata.uns. overwritten_params = adata.uns[""leiden""] . assert params == overwritten_params # should fail. ```. ### Error output. _No response_. ### Versions. <details>. Confirmed that params are overwritten in source in main branch. (see permalinks). </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2887
https://github.com/scverse/scanpy/issues/2887:595,performance,time,times,595,"Leiden and louvain params not saved to matching `key_added` key in `uns` dictionary ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Leiden and Louvain clustering params are not saved to matching `key_added` key in `uns` dictionary but are ovewritten to hardcoded key instead. One use case is that a user may want to run Leiden/Louvain clustering multiple times with different resolutions / parameters. One may specify different keys to store results under. However, if you do so, the metadata for the parameterization of the clustering algorithms are overwritten because the lines below do not respect the user provided `key_added` parameter. I think the desired behavior is to store data under `adata.uns[key_added][""params""]`. I think I've found the pertinent lines below. Happy to submit a PR if maintainers agree :D. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_leiden.py#L206. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_louvain.py#L259. ### Minimal code sample. ```python. sc.tl.leiden(adata, resolution=0.8, key_added=""leiden_0.8""). assert ""leiden_0.8"" not in adata.uns. params = adata.uns[""leiden""] . sc.tl.leiden(adata, resolution=1.2, key_added=""leiden_1.2""). assert ""leiden_1.2"" not in adata.uns. overwritten_params = adata.uns[""leiden""] . assert params == overwritten_params # should fail. ```. ### Error output. _No response_. ### Versions. <details>. Confirmed that params are overwritten in source in main branch. (see permalinks). </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2887
https://github.com/scverse/scanpy/issues/2887:1654,performance,Error,Error,1654,"Leiden and louvain params not saved to matching `key_added` key in `uns` dictionary ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Leiden and Louvain clustering params are not saved to matching `key_added` key in `uns` dictionary but are ovewritten to hardcoded key instead. One use case is that a user may want to run Leiden/Louvain clustering multiple times with different resolutions / parameters. One may specify different keys to store results under. However, if you do so, the metadata for the parameterization of the clustering algorithms are overwritten because the lines below do not respect the user provided `key_added` parameter. I think the desired behavior is to store data under `adata.uns[key_added][""params""]`. I think I've found the pertinent lines below. Happy to submit a PR if maintainers agree :D. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_leiden.py#L206. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_louvain.py#L259. ### Minimal code sample. ```python. sc.tl.leiden(adata, resolution=0.8, key_added=""leiden_0.8""). assert ""leiden_0.8"" not in adata.uns. params = adata.uns[""leiden""] . sc.tl.leiden(adata, resolution=1.2, key_added=""leiden_1.2""). assert ""leiden_1.2"" not in adata.uns. overwritten_params = adata.uns[""leiden""] . assert params == overwritten_params # should fail. ```. ### Error output. _No response_. ### Versions. <details>. Confirmed that params are overwritten in source in main branch. (see permalinks). </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2887
https://github.com/scverse/scanpy/issues/2887:1639,reliability,fail,fail,1639,"Leiden and louvain params not saved to matching `key_added` key in `uns` dictionary ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Leiden and Louvain clustering params are not saved to matching `key_added` key in `uns` dictionary but are ovewritten to hardcoded key instead. One use case is that a user may want to run Leiden/Louvain clustering multiple times with different resolutions / parameters. One may specify different keys to store results under. However, if you do so, the metadata for the parameterization of the clustering algorithms are overwritten because the lines below do not respect the user provided `key_added` parameter. I think the desired behavior is to store data under `adata.uns[key_added][""params""]`. I think I've found the pertinent lines below. Happy to submit a PR if maintainers agree :D. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_leiden.py#L206. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_louvain.py#L259. ### Minimal code sample. ```python. sc.tl.leiden(adata, resolution=0.8, key_added=""leiden_0.8""). assert ""leiden_0.8"" not in adata.uns. params = adata.uns[""leiden""] . sc.tl.leiden(adata, resolution=1.2, key_added=""leiden_1.2""). assert ""leiden_1.2"" not in adata.uns. overwritten_params = adata.uns[""leiden""] . assert params == overwritten_params # should fail. ```. ### Error output. _No response_. ### Versions. <details>. Confirmed that params are overwritten in source in main branch. (see permalinks). </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2887
https://github.com/scverse/scanpy/issues/2887:1039,safety,maintain,maintainers,1039,"Leiden and louvain params not saved to matching `key_added` key in `uns` dictionary ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Leiden and Louvain clustering params are not saved to matching `key_added` key in `uns` dictionary but are ovewritten to hardcoded key instead. One use case is that a user may want to run Leiden/Louvain clustering multiple times with different resolutions / parameters. One may specify different keys to store results under. However, if you do so, the metadata for the parameterization of the clustering algorithms are overwritten because the lines below do not respect the user provided `key_added` parameter. I think the desired behavior is to store data under `adata.uns[key_added][""params""]`. I think I've found the pertinent lines below. Happy to submit a PR if maintainers agree :D. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_leiden.py#L206. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_louvain.py#L259. ### Minimal code sample. ```python. sc.tl.leiden(adata, resolution=0.8, key_added=""leiden_0.8""). assert ""leiden_0.8"" not in adata.uns. params = adata.uns[""leiden""] . sc.tl.leiden(adata, resolution=1.2, key_added=""leiden_1.2""). assert ""leiden_1.2"" not in adata.uns. overwritten_params = adata.uns[""leiden""] . assert params == overwritten_params # should fail. ```. ### Error output. _No response_. ### Versions. <details>. Confirmed that params are overwritten in source in main branch. (see permalinks). </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2887
https://github.com/scverse/scanpy/issues/2887:1654,safety,Error,Error,1654,"Leiden and louvain params not saved to matching `key_added` key in `uns` dictionary ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Leiden and Louvain clustering params are not saved to matching `key_added` key in `uns` dictionary but are ovewritten to hardcoded key instead. One use case is that a user may want to run Leiden/Louvain clustering multiple times with different resolutions / parameters. One may specify different keys to store results under. However, if you do so, the metadata for the parameterization of the clustering algorithms are overwritten because the lines below do not respect the user provided `key_added` parameter. I think the desired behavior is to store data under `adata.uns[key_added][""params""]`. I think I've found the pertinent lines below. Happy to submit a PR if maintainers agree :D. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_leiden.py#L206. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_louvain.py#L259. ### Minimal code sample. ```python. sc.tl.leiden(adata, resolution=0.8, key_added=""leiden_0.8""). assert ""leiden_0.8"" not in adata.uns. params = adata.uns[""leiden""] . sc.tl.leiden(adata, resolution=1.2, key_added=""leiden_1.2""). assert ""leiden_1.2"" not in adata.uns. overwritten_params = adata.uns[""leiden""] . assert params == overwritten_params # should fail. ```. ### Error output. _No response_. ### Versions. <details>. Confirmed that params are overwritten in source in main branch. (see permalinks). </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2887
https://github.com/scverse/scanpy/issues/2887:493,security,hardcod,hardcoded,493,"Leiden and louvain params not saved to matching `key_added` key in `uns` dictionary ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Leiden and Louvain clustering params are not saved to matching `key_added` key in `uns` dictionary but are ovewritten to hardcoded key instead. One use case is that a user may want to run Leiden/Louvain clustering multiple times with different resolutions / parameters. One may specify different keys to store results under. However, if you do so, the metadata for the parameterization of the clustering algorithms are overwritten because the lines below do not respect the user provided `key_added` parameter. I think the desired behavior is to store data under `adata.uns[key_added][""params""]`. I think I've found the pertinent lines below. Happy to submit a PR if maintainers agree :D. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_leiden.py#L206. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_louvain.py#L259. ### Minimal code sample. ```python. sc.tl.leiden(adata, resolution=0.8, key_added=""leiden_0.8""). assert ""leiden_0.8"" not in adata.uns. params = adata.uns[""leiden""] . sc.tl.leiden(adata, resolution=1.2, key_added=""leiden_1.2""). assert ""leiden_1.2"" not in adata.uns. overwritten_params = adata.uns[""leiden""] . assert params == overwritten_params # should fail. ```. ### Error output. _No response_. ### Versions. <details>. Confirmed that params are overwritten in source in main branch. (see permalinks). </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2887
https://github.com/scverse/scanpy/issues/2887:1383,testability,assert,assert,1383,"Leiden and louvain params not saved to matching `key_added` key in `uns` dictionary ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Leiden and Louvain clustering params are not saved to matching `key_added` key in `uns` dictionary but are ovewritten to hardcoded key instead. One use case is that a user may want to run Leiden/Louvain clustering multiple times with different resolutions / parameters. One may specify different keys to store results under. However, if you do so, the metadata for the parameterization of the clustering algorithms are overwritten because the lines below do not respect the user provided `key_added` parameter. I think the desired behavior is to store data under `adata.uns[key_added][""params""]`. I think I've found the pertinent lines below. Happy to submit a PR if maintainers agree :D. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_leiden.py#L206. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_louvain.py#L259. ### Minimal code sample. ```python. sc.tl.leiden(adata, resolution=0.8, key_added=""leiden_0.8""). assert ""leiden_0.8"" not in adata.uns. params = adata.uns[""leiden""] . sc.tl.leiden(adata, resolution=1.2, key_added=""leiden_1.2""). assert ""leiden_1.2"" not in adata.uns. overwritten_params = adata.uns[""leiden""] . assert params == overwritten_params # should fail. ```. ### Error output. _No response_. ### Versions. <details>. Confirmed that params are overwritten in source in main branch. (see permalinks). </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2887
https://github.com/scverse/scanpy/issues/2887:1513,testability,assert,assert,1513,"Leiden and louvain params not saved to matching `key_added` key in `uns` dictionary ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Leiden and Louvain clustering params are not saved to matching `key_added` key in `uns` dictionary but are ovewritten to hardcoded key instead. One use case is that a user may want to run Leiden/Louvain clustering multiple times with different resolutions / parameters. One may specify different keys to store results under. However, if you do so, the metadata for the parameterization of the clustering algorithms are overwritten because the lines below do not respect the user provided `key_added` parameter. I think the desired behavior is to store data under `adata.uns[key_added][""params""]`. I think I've found the pertinent lines below. Happy to submit a PR if maintainers agree :D. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_leiden.py#L206. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_louvain.py#L259. ### Minimal code sample. ```python. sc.tl.leiden(adata, resolution=0.8, key_added=""leiden_0.8""). assert ""leiden_0.8"" not in adata.uns. params = adata.uns[""leiden""] . sc.tl.leiden(adata, resolution=1.2, key_added=""leiden_1.2""). assert ""leiden_1.2"" not in adata.uns. overwritten_params = adata.uns[""leiden""] . assert params == overwritten_params # should fail. ```. ### Error output. _No response_. ### Versions. <details>. Confirmed that params are overwritten in source in main branch. (see permalinks). </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2887
https://github.com/scverse/scanpy/issues/2887:1594,testability,assert,assert,1594,"Leiden and louvain params not saved to matching `key_added` key in `uns` dictionary ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Leiden and Louvain clustering params are not saved to matching `key_added` key in `uns` dictionary but are ovewritten to hardcoded key instead. One use case is that a user may want to run Leiden/Louvain clustering multiple times with different resolutions / parameters. One may specify different keys to store results under. However, if you do so, the metadata for the parameterization of the clustering algorithms are overwritten because the lines below do not respect the user provided `key_added` parameter. I think the desired behavior is to store data under `adata.uns[key_added][""params""]`. I think I've found the pertinent lines below. Happy to submit a PR if maintainers agree :D. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_leiden.py#L206. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_louvain.py#L259. ### Minimal code sample. ```python. sc.tl.leiden(adata, resolution=0.8, key_added=""leiden_0.8""). assert ""leiden_0.8"" not in adata.uns. params = adata.uns[""leiden""] . sc.tl.leiden(adata, resolution=1.2, key_added=""leiden_1.2""). assert ""leiden_1.2"" not in adata.uns. overwritten_params = adata.uns[""leiden""] . assert params == overwritten_params # should fail. ```. ### Error output. _No response_. ### Versions. <details>. Confirmed that params are overwritten in source in main branch. (see permalinks). </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2887
https://github.com/scverse/scanpy/issues/2887:214,usability,confirm,confirmed,214,"Leiden and louvain params not saved to matching `key_added` key in `uns` dictionary ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Leiden and Louvain clustering params are not saved to matching `key_added` key in `uns` dictionary but are ovewritten to hardcoded key instead. One use case is that a user may want to run Leiden/Louvain clustering multiple times with different resolutions / parameters. One may specify different keys to store results under. However, if you do so, the metadata for the parameterization of the clustering algorithms are overwritten because the lines below do not respect the user provided `key_added` parameter. I think the desired behavior is to store data under `adata.uns[key_added][""params""]`. I think I've found the pertinent lines below. Happy to submit a PR if maintainers agree :D. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_leiden.py#L206. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_louvain.py#L259. ### Minimal code sample. ```python. sc.tl.leiden(adata, resolution=0.8, key_added=""leiden_0.8""). assert ""leiden_0.8"" not in adata.uns. params = adata.uns[""leiden""] . sc.tl.leiden(adata, resolution=1.2, key_added=""leiden_1.2""). assert ""leiden_1.2"" not in adata.uns. overwritten_params = adata.uns[""leiden""] . assert params == overwritten_params # should fail. ```. ### Error output. _No response_. ### Versions. <details>. Confirmed that params are overwritten in source in main branch. (see permalinks). </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2887
https://github.com/scverse/scanpy/issues/2887:297,usability,confirm,confirmed,297,"Leiden and louvain params not saved to matching `key_added` key in `uns` dictionary ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Leiden and Louvain clustering params are not saved to matching `key_added` key in `uns` dictionary but are ovewritten to hardcoded key instead. One use case is that a user may want to run Leiden/Louvain clustering multiple times with different resolutions / parameters. One may specify different keys to store results under. However, if you do so, the metadata for the parameterization of the clustering algorithms are overwritten because the lines below do not respect the user provided `key_added` parameter. I think the desired behavior is to store data under `adata.uns[key_added][""params""]`. I think I've found the pertinent lines below. Happy to submit a PR if maintainers agree :D. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_leiden.py#L206. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_louvain.py#L259. ### Minimal code sample. ```python. sc.tl.leiden(adata, resolution=0.8, key_added=""leiden_0.8""). assert ""leiden_0.8"" not in adata.uns. params = adata.uns[""leiden""] . sc.tl.leiden(adata, resolution=1.2, key_added=""leiden_1.2""). assert ""leiden_1.2"" not in adata.uns. overwritten_params = adata.uns[""leiden""] . assert params == overwritten_params # should fail. ```. ### Error output. _No response_. ### Versions. <details>. Confirmed that params are overwritten in source in main branch. (see permalinks). </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2887
https://github.com/scverse/scanpy/issues/2887:539,usability,user,user,539,"Leiden and louvain params not saved to matching `key_added` key in `uns` dictionary ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Leiden and Louvain clustering params are not saved to matching `key_added` key in `uns` dictionary but are ovewritten to hardcoded key instead. One use case is that a user may want to run Leiden/Louvain clustering multiple times with different resolutions / parameters. One may specify different keys to store results under. However, if you do so, the metadata for the parameterization of the clustering algorithms are overwritten because the lines below do not respect the user provided `key_added` parameter. I think the desired behavior is to store data under `adata.uns[key_added][""params""]`. I think I've found the pertinent lines below. Happy to submit a PR if maintainers agree :D. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_leiden.py#L206. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_louvain.py#L259. ### Minimal code sample. ```python. sc.tl.leiden(adata, resolution=0.8, key_added=""leiden_0.8""). assert ""leiden_0.8"" not in adata.uns. params = adata.uns[""leiden""] . sc.tl.leiden(adata, resolution=1.2, key_added=""leiden_1.2""). assert ""leiden_1.2"" not in adata.uns. overwritten_params = adata.uns[""leiden""] . assert params == overwritten_params # should fail. ```. ### Error output. _No response_. ### Versions. <details>. Confirmed that params are overwritten in source in main branch. (see permalinks). </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2887
https://github.com/scverse/scanpy/issues/2887:846,usability,user,user,846,"Leiden and louvain params not saved to matching `key_added` key in `uns` dictionary ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Leiden and Louvain clustering params are not saved to matching `key_added` key in `uns` dictionary but are ovewritten to hardcoded key instead. One use case is that a user may want to run Leiden/Louvain clustering multiple times with different resolutions / parameters. One may specify different keys to store results under. However, if you do so, the metadata for the parameterization of the clustering algorithms are overwritten because the lines below do not respect the user provided `key_added` parameter. I think the desired behavior is to store data under `adata.uns[key_added][""params""]`. I think I've found the pertinent lines below. Happy to submit a PR if maintainers agree :D. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_leiden.py#L206. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_louvain.py#L259. ### Minimal code sample. ```python. sc.tl.leiden(adata, resolution=0.8, key_added=""leiden_0.8""). assert ""leiden_0.8"" not in adata.uns. params = adata.uns[""leiden""] . sc.tl.leiden(adata, resolution=1.2, key_added=""leiden_1.2""). assert ""leiden_1.2"" not in adata.uns. overwritten_params = adata.uns[""leiden""] . assert params == overwritten_params # should fail. ```. ### Error output. _No response_. ### Versions. <details>. Confirmed that params are overwritten in source in main branch. (see permalinks). </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2887
https://github.com/scverse/scanpy/issues/2887:903,usability,behavi,behavior,903,"Leiden and louvain params not saved to matching `key_added` key in `uns` dictionary ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Leiden and Louvain clustering params are not saved to matching `key_added` key in `uns` dictionary but are ovewritten to hardcoded key instead. One use case is that a user may want to run Leiden/Louvain clustering multiple times with different resolutions / parameters. One may specify different keys to store results under. However, if you do so, the metadata for the parameterization of the clustering algorithms are overwritten because the lines below do not respect the user provided `key_added` parameter. I think the desired behavior is to store data under `adata.uns[key_added][""params""]`. I think I've found the pertinent lines below. Happy to submit a PR if maintainers agree :D. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_leiden.py#L206. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_louvain.py#L259. ### Minimal code sample. ```python. sc.tl.leiden(adata, resolution=0.8, key_added=""leiden_0.8""). assert ""leiden_0.8"" not in adata.uns. params = adata.uns[""leiden""] . sc.tl.leiden(adata, resolution=1.2, key_added=""leiden_1.2""). assert ""leiden_1.2"" not in adata.uns. overwritten_params = adata.uns[""leiden""] . assert params == overwritten_params # should fail. ```. ### Error output. _No response_. ### Versions. <details>. Confirmed that params are overwritten in source in main branch. (see permalinks). </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2887
https://github.com/scverse/scanpy/issues/2887:1150,usability,tool,tools,1150,"Leiden and louvain params not saved to matching `key_added` key in `uns` dictionary ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Leiden and Louvain clustering params are not saved to matching `key_added` key in `uns` dictionary but are ovewritten to hardcoded key instead. One use case is that a user may want to run Leiden/Louvain clustering multiple times with different resolutions / parameters. One may specify different keys to store results under. However, if you do so, the metadata for the parameterization of the clustering algorithms are overwritten because the lines below do not respect the user provided `key_added` parameter. I think the desired behavior is to store data under `adata.uns[key_added][""params""]`. I think I've found the pertinent lines below. Happy to submit a PR if maintainers agree :D. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_leiden.py#L206. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_louvain.py#L259. ### Minimal code sample. ```python. sc.tl.leiden(adata, resolution=0.8, key_added=""leiden_0.8""). assert ""leiden_0.8"" not in adata.uns. params = adata.uns[""leiden""] . sc.tl.leiden(adata, resolution=1.2, key_added=""leiden_1.2""). assert ""leiden_1.2"" not in adata.uns. overwritten_params = adata.uns[""leiden""] . assert params == overwritten_params # should fail. ```. ### Error output. _No response_. ### Versions. <details>. Confirmed that params are overwritten in source in main branch. (see permalinks). </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2887
https://github.com/scverse/scanpy/issues/2887:1262,usability,tool,tools,1262,"Leiden and louvain params not saved to matching `key_added` key in `uns` dictionary ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Leiden and Louvain clustering params are not saved to matching `key_added` key in `uns` dictionary but are ovewritten to hardcoded key instead. One use case is that a user may want to run Leiden/Louvain clustering multiple times with different resolutions / parameters. One may specify different keys to store results under. However, if you do so, the metadata for the parameterization of the clustering algorithms are overwritten because the lines below do not respect the user provided `key_added` parameter. I think the desired behavior is to store data under `adata.uns[key_added][""params""]`. I think I've found the pertinent lines below. Happy to submit a PR if maintainers agree :D. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_leiden.py#L206. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_louvain.py#L259. ### Minimal code sample. ```python. sc.tl.leiden(adata, resolution=0.8, key_added=""leiden_0.8""). assert ""leiden_0.8"" not in adata.uns. params = adata.uns[""leiden""] . sc.tl.leiden(adata, resolution=1.2, key_added=""leiden_1.2""). assert ""leiden_1.2"" not in adata.uns. overwritten_params = adata.uns[""leiden""] . assert params == overwritten_params # should fail. ```. ### Error output. _No response_. ### Versions. <details>. Confirmed that params are overwritten in source in main branch. (see permalinks). </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2887
https://github.com/scverse/scanpy/issues/2887:1290,usability,Minim,Minimal,1290,"Leiden and louvain params not saved to matching `key_added` key in `uns` dictionary ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Leiden and Louvain clustering params are not saved to matching `key_added` key in `uns` dictionary but are ovewritten to hardcoded key instead. One use case is that a user may want to run Leiden/Louvain clustering multiple times with different resolutions / parameters. One may specify different keys to store results under. However, if you do so, the metadata for the parameterization of the clustering algorithms are overwritten because the lines below do not respect the user provided `key_added` parameter. I think the desired behavior is to store data under `adata.uns[key_added][""params""]`. I think I've found the pertinent lines below. Happy to submit a PR if maintainers agree :D. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_leiden.py#L206. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_louvain.py#L259. ### Minimal code sample. ```python. sc.tl.leiden(adata, resolution=0.8, key_added=""leiden_0.8""). assert ""leiden_0.8"" not in adata.uns. params = adata.uns[""leiden""] . sc.tl.leiden(adata, resolution=1.2, key_added=""leiden_1.2""). assert ""leiden_1.2"" not in adata.uns. overwritten_params = adata.uns[""leiden""] . assert params == overwritten_params # should fail. ```. ### Error output. _No response_. ### Versions. <details>. Confirmed that params are overwritten in source in main branch. (see permalinks). </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2887
https://github.com/scverse/scanpy/issues/2887:1654,usability,Error,Error,1654,"Leiden and louvain params not saved to matching `key_added` key in `uns` dictionary ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Leiden and Louvain clustering params are not saved to matching `key_added` key in `uns` dictionary but are ovewritten to hardcoded key instead. One use case is that a user may want to run Leiden/Louvain clustering multiple times with different resolutions / parameters. One may specify different keys to store results under. However, if you do so, the metadata for the parameterization of the clustering algorithms are overwritten because the lines below do not respect the user provided `key_added` parameter. I think the desired behavior is to store data under `adata.uns[key_added][""params""]`. I think I've found the pertinent lines below. Happy to submit a PR if maintainers agree :D. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_leiden.py#L206. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_louvain.py#L259. ### Minimal code sample. ```python. sc.tl.leiden(adata, resolution=0.8, key_added=""leiden_0.8""). assert ""leiden_0.8"" not in adata.uns. params = adata.uns[""leiden""] . sc.tl.leiden(adata, resolution=1.2, key_added=""leiden_1.2""). assert ""leiden_1.2"" not in adata.uns. overwritten_params = adata.uns[""leiden""] . assert params == overwritten_params # should fail. ```. ### Error output. _No response_. ### Versions. <details>. Confirmed that params are overwritten in source in main branch. (see permalinks). </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2887
https://github.com/scverse/scanpy/issues/2887:1708,usability,Confirm,Confirmed,1708,"Leiden and louvain params not saved to matching `key_added` key in `uns` dictionary ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Leiden and Louvain clustering params are not saved to matching `key_added` key in `uns` dictionary but are ovewritten to hardcoded key instead. One use case is that a user may want to run Leiden/Louvain clustering multiple times with different resolutions / parameters. One may specify different keys to store results under. However, if you do so, the metadata for the parameterization of the clustering algorithms are overwritten because the lines below do not respect the user provided `key_added` parameter. I think the desired behavior is to store data under `adata.uns[key_added][""params""]`. I think I've found the pertinent lines below. Happy to submit a PR if maintainers agree :D. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_leiden.py#L206. - https://github.com/scverse/scanpy/blob/91ea0fbb03392795d1506d297d4b4847c646db04/scanpy/tools/_louvain.py#L259. ### Minimal code sample. ```python. sc.tl.leiden(adata, resolution=0.8, key_added=""leiden_0.8""). assert ""leiden_0.8"" not in adata.uns. params = adata.uns[""leiden""] . sc.tl.leiden(adata, resolution=1.2, key_added=""leiden_1.2""). assert ""leiden_1.2"" not in adata.uns. overwritten_params = adata.uns[""leiden""] . assert params == overwritten_params # should fail. ```. ### Error output. _No response_. ### Versions. <details>. Confirmed that params are overwritten in source in main branch. (see permalinks). </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2887
https://github.com/scverse/scanpy/pull/2888:0,deployability,Updat,Updated,0,"Updated missing params in docstrings; Howdy y'all, working on a tool to convert packages to JSON and noticed there were some functions missing their parameters in the docstring. I've updated a few that were missing for better pydoc accessibility. All param descriptions were either copied from other similar param or made based on their functionality. - [x] Tests included or not required because:. Docstring updates only. - [x] Release notes not necessary because:. No changes to logic",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2888
https://github.com/scverse/scanpy/pull/2888:183,deployability,updat,updated,183,"Updated missing params in docstrings; Howdy y'all, working on a tool to convert packages to JSON and noticed there were some functions missing their parameters in the docstring. I've updated a few that were missing for better pydoc accessibility. All param descriptions were either copied from other similar param or made based on their functionality. - [x] Tests included or not required because:. Docstring updates only. - [x] Release notes not necessary because:. No changes to logic",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2888
https://github.com/scverse/scanpy/pull/2888:409,deployability,updat,updates,409,"Updated missing params in docstrings; Howdy y'all, working on a tool to convert packages to JSON and noticed there were some functions missing their parameters in the docstring. I've updated a few that were missing for better pydoc accessibility. All param descriptions were either copied from other similar param or made based on their functionality. - [x] Tests included or not required because:. Docstring updates only. - [x] Release notes not necessary because:. No changes to logic",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2888
https://github.com/scverse/scanpy/pull/2888:429,deployability,Releas,Release,429,"Updated missing params in docstrings; Howdy y'all, working on a tool to convert packages to JSON and noticed there were some functions missing their parameters in the docstring. I've updated a few that were missing for better pydoc accessibility. All param descriptions were either copied from other similar param or made based on their functionality. - [x] Tests included or not required because:. Docstring updates only. - [x] Release notes not necessary because:. No changes to logic",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2888
https://github.com/scverse/scanpy/pull/2888:481,deployability,log,logic,481,"Updated missing params in docstrings; Howdy y'all, working on a tool to convert packages to JSON and noticed there were some functions missing their parameters in the docstring. I've updated a few that were missing for better pydoc accessibility. All param descriptions were either copied from other similar param or made based on their functionality. - [x] Tests included or not required because:. Docstring updates only. - [x] Release notes not necessary because:. No changes to logic",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2888
https://github.com/scverse/scanpy/pull/2888:80,modifiability,pac,packages,80,"Updated missing params in docstrings; Howdy y'all, working on a tool to convert packages to JSON and noticed there were some functions missing their parameters in the docstring. I've updated a few that were missing for better pydoc accessibility. All param descriptions were either copied from other similar param or made based on their functionality. - [x] Tests included or not required because:. Docstring updates only. - [x] Release notes not necessary because:. No changes to logic",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2888
https://github.com/scverse/scanpy/pull/2888:149,modifiability,paramet,parameters,149,"Updated missing params in docstrings; Howdy y'all, working on a tool to convert packages to JSON and noticed there were some functions missing their parameters in the docstring. I've updated a few that were missing for better pydoc accessibility. All param descriptions were either copied from other similar param or made based on their functionality. - [x] Tests included or not required because:. Docstring updates only. - [x] Release notes not necessary because:. No changes to logic",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2888
https://github.com/scverse/scanpy/pull/2888:0,safety,Updat,Updated,0,"Updated missing params in docstrings; Howdy y'all, working on a tool to convert packages to JSON and noticed there were some functions missing their parameters in the docstring. I've updated a few that were missing for better pydoc accessibility. All param descriptions were either copied from other similar param or made based on their functionality. - [x] Tests included or not required because:. Docstring updates only. - [x] Release notes not necessary because:. No changes to logic",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2888
https://github.com/scverse/scanpy/pull/2888:183,safety,updat,updated,183,"Updated missing params in docstrings; Howdy y'all, working on a tool to convert packages to JSON and noticed there were some functions missing their parameters in the docstring. I've updated a few that were missing for better pydoc accessibility. All param descriptions were either copied from other similar param or made based on their functionality. - [x] Tests included or not required because:. Docstring updates only. - [x] Release notes not necessary because:. No changes to logic",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2888
https://github.com/scverse/scanpy/pull/2888:358,safety,Test,Tests,358,"Updated missing params in docstrings; Howdy y'all, working on a tool to convert packages to JSON and noticed there were some functions missing their parameters in the docstring. I've updated a few that were missing for better pydoc accessibility. All param descriptions were either copied from other similar param or made based on their functionality. - [x] Tests included or not required because:. Docstring updates only. - [x] Release notes not necessary because:. No changes to logic",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2888
https://github.com/scverse/scanpy/pull/2888:409,safety,updat,updates,409,"Updated missing params in docstrings; Howdy y'all, working on a tool to convert packages to JSON and noticed there were some functions missing their parameters in the docstring. I've updated a few that were missing for better pydoc accessibility. All param descriptions were either copied from other similar param or made based on their functionality. - [x] Tests included or not required because:. Docstring updates only. - [x] Release notes not necessary because:. No changes to logic",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2888
https://github.com/scverse/scanpy/pull/2888:481,safety,log,logic,481,"Updated missing params in docstrings; Howdy y'all, working on a tool to convert packages to JSON and noticed there were some functions missing their parameters in the docstring. I've updated a few that were missing for better pydoc accessibility. All param descriptions were either copied from other similar param or made based on their functionality. - [x] Tests included or not required because:. Docstring updates only. - [x] Release notes not necessary because:. No changes to logic",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2888
https://github.com/scverse/scanpy/pull/2888:0,security,Updat,Updated,0,"Updated missing params in docstrings; Howdy y'all, working on a tool to convert packages to JSON and noticed there were some functions missing their parameters in the docstring. I've updated a few that were missing for better pydoc accessibility. All param descriptions were either copied from other similar param or made based on their functionality. - [x] Tests included or not required because:. Docstring updates only. - [x] Release notes not necessary because:. No changes to logic",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2888
https://github.com/scverse/scanpy/pull/2888:183,security,updat,updated,183,"Updated missing params in docstrings; Howdy y'all, working on a tool to convert packages to JSON and noticed there were some functions missing their parameters in the docstring. I've updated a few that were missing for better pydoc accessibility. All param descriptions were either copied from other similar param or made based on their functionality. - [x] Tests included or not required because:. Docstring updates only. - [x] Release notes not necessary because:. No changes to logic",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2888
https://github.com/scverse/scanpy/pull/2888:232,security,access,accessibility,232,"Updated missing params in docstrings; Howdy y'all, working on a tool to convert packages to JSON and noticed there were some functions missing their parameters in the docstring. I've updated a few that were missing for better pydoc accessibility. All param descriptions were either copied from other similar param or made based on their functionality. - [x] Tests included or not required because:. Docstring updates only. - [x] Release notes not necessary because:. No changes to logic",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2888
https://github.com/scverse/scanpy/pull/2888:409,security,updat,updates,409,"Updated missing params in docstrings; Howdy y'all, working on a tool to convert packages to JSON and noticed there were some functions missing their parameters in the docstring. I've updated a few that were missing for better pydoc accessibility. All param descriptions were either copied from other similar param or made based on their functionality. - [x] Tests included or not required because:. Docstring updates only. - [x] Release notes not necessary because:. No changes to logic",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2888
https://github.com/scverse/scanpy/pull/2888:481,security,log,logic,481,"Updated missing params in docstrings; Howdy y'all, working on a tool to convert packages to JSON and noticed there were some functions missing their parameters in the docstring. I've updated a few that were missing for better pydoc accessibility. All param descriptions were either copied from other similar param or made based on their functionality. - [x] Tests included or not required because:. Docstring updates only. - [x] Release notes not necessary because:. No changes to logic",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2888
https://github.com/scverse/scanpy/pull/2888:358,testability,Test,Tests,358,"Updated missing params in docstrings; Howdy y'all, working on a tool to convert packages to JSON and noticed there were some functions missing their parameters in the docstring. I've updated a few that were missing for better pydoc accessibility. All param descriptions were either copied from other similar param or made based on their functionality. - [x] Tests included or not required because:. Docstring updates only. - [x] Release notes not necessary because:. No changes to logic",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2888
https://github.com/scverse/scanpy/pull/2888:481,testability,log,logic,481,"Updated missing params in docstrings; Howdy y'all, working on a tool to convert packages to JSON and noticed there were some functions missing their parameters in the docstring. I've updated a few that were missing for better pydoc accessibility. All param descriptions were either copied from other similar param or made based on their functionality. - [x] Tests included or not required because:. Docstring updates only. - [x] Release notes not necessary because:. No changes to logic",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2888
https://github.com/scverse/scanpy/pull/2888:64,usability,tool,tool,64,"Updated missing params in docstrings; Howdy y'all, working on a tool to convert packages to JSON and noticed there were some functions missing their parameters in the docstring. I've updated a few that were missing for better pydoc accessibility. All param descriptions were either copied from other similar param or made based on their functionality. - [x] Tests included or not required because:. Docstring updates only. - [x] Release notes not necessary because:. No changes to logic",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2888
https://github.com/scverse/scanpy/pull/2889:389,availability,cluster,clustering,389,"Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Fix for #2887. Updated and added basic tests to Leiden and Louvain clustering to check that the parameters are written to the user specified key. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2887 . - [x] Tests included. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2889
https://github.com/scverse/scanpy/pull/2889:15,deployability,updat,update,15,"Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Fix for #2887. Updated and added basic tests to Leiden and Louvain clustering to check that the parameters are written to the user specified key. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2887 . - [x] Tests included. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2889
https://github.com/scverse/scanpy/pull/2889:337,deployability,Updat,Updated,337,"Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Fix for #2887. Updated and added basic tests to Leiden and Louvain clustering to check that the parameters are written to the user specified key. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2887 . - [x] Tests included. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2889
https://github.com/scverse/scanpy/pull/2889:389,deployability,cluster,clustering,389,"Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Fix for #2887. Updated and added basic tests to Leiden and Louvain clustering to check that the parameters are written to the user specified key. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2887 . - [x] Tests included. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2889
https://github.com/scverse/scanpy/pull/2889:633,deployability,releas,release,633,"Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Fix for #2887. Updated and added basic tests to Leiden and Louvain clustering to check that the parameters are written to the user specified key. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2887 . - [x] Tests included. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2889
https://github.com/scverse/scanpy/pull/2889:658,deployability,Releas,Release,658,"Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Fix for #2887. Updated and added basic tests to Leiden and Louvain clustering to check that the parameters are written to the user specified key. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2887 . - [x] Tests included. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2889
https://github.com/scverse/scanpy/pull/2889:75,interoperability,specif,specified,75,"Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Fix for #2887. Updated and added basic tests to Leiden and Louvain clustering to check that the parameters are written to the user specified key. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2887 . - [x] Tests included. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2889
https://github.com/scverse/scanpy/pull/2889:453,interoperability,specif,specified,453,"Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Fix for #2887. Updated and added basic tests to Leiden and Louvain clustering to check that the parameters are written to the user specified key. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2887 . - [x] Tests included. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2889
https://github.com/scverse/scanpy/pull/2889:56,modifiability,paramet,parameters,56,"Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Fix for #2887. Updated and added basic tests to Leiden and Louvain clustering to check that the parameters are written to the user specified key. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2887 . - [x] Tests included. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2889
https://github.com/scverse/scanpy/pull/2889:418,modifiability,paramet,parameters,418,"Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Fix for #2887. Updated and added basic tests to Leiden and Louvain clustering to check that the parameters are written to the user specified key. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2887 . - [x] Tests included. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2889
https://github.com/scverse/scanpy/pull/2889:15,safety,updat,update,15,"Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Fix for #2887. Updated and added basic tests to Leiden and Louvain clustering to check that the parameters are written to the user specified key. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2887 . - [x] Tests included. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2889
https://github.com/scverse/scanpy/pull/2889:309,safety,review,review,309,"Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Fix for #2887. Updated and added basic tests to Leiden and Louvain clustering to check that the parameters are written to the user specified key. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2887 . - [x] Tests included. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2889
https://github.com/scverse/scanpy/pull/2889:337,safety,Updat,Updated,337,"Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Fix for #2887. Updated and added basic tests to Leiden and Louvain clustering to check that the parameters are written to the user specified key. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2887 . - [x] Tests included. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2889
https://github.com/scverse/scanpy/pull/2889:361,safety,test,tests,361,"Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Fix for #2887. Updated and added basic tests to Leiden and Louvain clustering to check that the parameters are written to the user specified key. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2887 . - [x] Tests included. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2889
https://github.com/scverse/scanpy/pull/2889:560,safety,Test,Tests,560,"Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Fix for #2887. Updated and added basic tests to Leiden and Louvain clustering to check that the parameters are written to the user specified key. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2887 . - [x] Tests included. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2889
https://github.com/scverse/scanpy/pull/2889:15,security,updat,update,15,"Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Fix for #2887. Updated and added basic tests to Leiden and Louvain clustering to check that the parameters are written to the user specified key. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2887 . - [x] Tests included. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2889
https://github.com/scverse/scanpy/pull/2889:337,security,Updat,Updated,337,"Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Fix for #2887. Updated and added basic tests to Leiden and Louvain clustering to check that the parameters are written to the user specified key. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2887 . - [x] Tests included. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2889
https://github.com/scverse/scanpy/pull/2889:309,testability,review,review,309,"Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Fix for #2887. Updated and added basic tests to Leiden and Louvain clustering to check that the parameters are written to the user specified key. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2887 . - [x] Tests included. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2889
https://github.com/scverse/scanpy/pull/2889:361,testability,test,tests,361,"Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Fix for #2887. Updated and added basic tests to Leiden and Louvain clustering to check that the parameters are written to the user specified key. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2887 . - [x] Tests included. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2889
https://github.com/scverse/scanpy/pull/2889:560,testability,Test,Tests,560,"Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Fix for #2887. Updated and added basic tests to Leiden and Louvain clustering to check that the parameters are written to the user specified key. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2887 . - [x] Tests included. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2889
https://github.com/scverse/scanpy/pull/2889:41,usability,tool,tools,41,"Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Fix for #2887. Updated and added basic tests to Leiden and Louvain clustering to check that the parameters are written to the user specified key. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2887 . - [x] Tests included. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2889
https://github.com/scverse/scanpy/pull/2889:70,usability,user,user,70,"Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Fix for #2887. Updated and added basic tests to Leiden and Louvain clustering to check that the parameters are written to the user specified key. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2887 . - [x] Tests included. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2889
https://github.com/scverse/scanpy/pull/2889:160,usability,guid,guidelines,160,"Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Fix for #2887. Updated and added basic tests to Leiden and Louvain clustering to check that the parameters are written to the user specified key. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2887 . - [x] Tests included. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2889
https://github.com/scverse/scanpy/pull/2889:191,usability,guid,guide,191,"Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Fix for #2887. Updated and added basic tests to Leiden and Louvain clustering to check that the parameters are written to the user specified key. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2887 . - [x] Tests included. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2889
https://github.com/scverse/scanpy/pull/2889:287,usability,workflow,workflow,287,"Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Fix for #2887. Updated and added basic tests to Leiden and Louvain clustering to check that the parameters are written to the user specified key. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2887 . - [x] Tests included. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2889
https://github.com/scverse/scanpy/pull/2889:448,usability,user,user,448,"Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Fix for #2887. Updated and added basic tests to Leiden and Louvain clustering to check that the parameters are written to the user specified key. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2887 . - [x] Tests included. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2889
https://github.com/scverse/scanpy/pull/2889:539,usability,Close,Closes,539,"Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. Fix for #2887. Updated and added basic tests to Leiden and Louvain clustering to check that the parameters are written to the user specified key. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2887 . - [x] Tests included. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2889
https://github.com/scverse/scanpy/pull/2890:32,modifiability,refact,refactor,32,Use index in score_genes; small refactor,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2890
https://github.com/scverse/scanpy/pull/2890:32,performance,refactor,refactor,32,Use index in score_genes; small refactor,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2890
https://github.com/scverse/scanpy/issues/2892:499,availability,down,downstream,499,"Inconsistent array types from sc.get.aggregate; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? cc: @Intron7 . The array types returned for the various aggregations in `sc.get.aggregate` are different (see example). This can lead to somewhat confusing behavior downstream, especially while we are using the sparse matrix classes. I would suggest we default to a dense result and consider adding an argument `array_type` that determines the type of the arrays added to `layers`. ### Minimal code sample. ```python. import scanpy as sc. adata = sc.datasets.pbmc3k_processed().raw.to_adata(). aggregated = sc.get.aggregate(adata, ""louvain"", [""sum"", ""count_nonzero""]). type(aggregated.layers[""sum""]). # numpy.ndarray. type(aggregated.layers[""count_nonzero""]). # scipy.sparse._csr.csr_matrix. ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.5.post1. scanpy 1.10.0.dev315+gf6d5ac94. -----. IPython 8.20.0. PIL 10.2.0. asciitree NA. asttokens NA. cloudpickle 3.0.0. cycler 0.12.1. cython_runtime NA. dask 2024.1.1. dateutil 2.8.2. decorator 5.1.1. executing 2.0.1. fasteners 0.19. h5py 3.10.0. igraph 0.11.3. jedi 0.19.1. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. legacy_api_wrap NA. leidenalg 0.10.2. llvmlite 0.41.1. markupsafe 2.1.4. matplotlib 3.8.2. mpl_toolkits NA. msgpack 1.0.7. natsort 8.4.0. numba 0.58.1. numcodecs 0.12.1. numpy 1.26.3. packaging 23.2. pandas 2.2.0. parso 0.8.3. pexpect 4.9.0. prompt_toolkit 3.0.43. psutil 5.9.8. ptyprocess 0.7.0. pure_eval 0.2.2. pygments 2.17.2. pyparsing 3.1.1. pytz 2023.4. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.0. sparse 0.15.1. stack_data 0.6.3. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.2.0. tlz 0.12.1. toolz 0.12.1. traitlets 5.14.1. wcwidth 0.2",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2892
https://github.com/scverse/scanpy/issues/2892:1035,availability,Error,Error,1035,"ggregate; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? cc: @Intron7 . The array types returned for the various aggregations in `sc.get.aggregate` are different (see example). This can lead to somewhat confusing behavior downstream, especially while we are using the sparse matrix classes. I would suggest we default to a dense result and consider adding an argument `array_type` that determines the type of the arrays added to `layers`. ### Minimal code sample. ```python. import scanpy as sc. adata = sc.datasets.pbmc3k_processed().raw.to_adata(). aggregated = sc.get.aggregate(adata, ""louvain"", [""sum"", ""count_nonzero""]). type(aggregated.layers[""sum""]). # numpy.ndarray. type(aggregated.layers[""count_nonzero""]). # scipy.sparse._csr.csr_matrix. ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.5.post1. scanpy 1.10.0.dev315+gf6d5ac94. -----. IPython 8.20.0. PIL 10.2.0. asciitree NA. asttokens NA. cloudpickle 3.0.0. cycler 0.12.1. cython_runtime NA. dask 2024.1.1. dateutil 2.8.2. decorator 5.1.1. executing 2.0.1. fasteners 0.19. h5py 3.10.0. igraph 0.11.3. jedi 0.19.1. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. legacy_api_wrap NA. leidenalg 0.10.2. llvmlite 0.41.1. markupsafe 2.1.4. matplotlib 3.8.2. mpl_toolkits NA. msgpack 1.0.7. natsort 8.4.0. numba 0.58.1. numcodecs 0.12.1. numpy 1.26.3. packaging 23.2. pandas 2.2.0. parso 0.8.3. pexpect 4.9.0. prompt_toolkit 3.0.43. psutil 5.9.8. ptyprocess 0.7.0. pure_eval 0.2.2. pygments 2.17.2. pyparsing 3.1.1. pytz 2023.4. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.0. sparse 0.15.1. stack_data 0.6.3. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.2.0. tlz 0.12.1. toolz 0.12.1. traitlets 5.14.1. wcwidth 0.2.13. yaml 6.0.1. zarr 2.16.1. zipp NA.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2892
https://github.com/scverse/scanpy/issues/2892:216,deployability,version,version,216,"Inconsistent array types from sc.get.aggregate; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? cc: @Intron7 . The array types returned for the various aggregations in `sc.get.aggregate` are different (see example). This can lead to somewhat confusing behavior downstream, especially while we are using the sparse matrix classes. I would suggest we default to a dense result and consider adding an argument `array_type` that determines the type of the arrays added to `layers`. ### Minimal code sample. ```python. import scanpy as sc. adata = sc.datasets.pbmc3k_processed().raw.to_adata(). aggregated = sc.get.aggregate(adata, ""louvain"", [""sum"", ""count_nonzero""]). type(aggregated.layers[""sum""]). # numpy.ndarray. type(aggregated.layers[""count_nonzero""]). # scipy.sparse._csr.csr_matrix. ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.5.post1. scanpy 1.10.0.dev315+gf6d5ac94. -----. IPython 8.20.0. PIL 10.2.0. asciitree NA. asttokens NA. cloudpickle 3.0.0. cycler 0.12.1. cython_runtime NA. dask 2024.1.1. dateutil 2.8.2. decorator 5.1.1. executing 2.0.1. fasteners 0.19. h5py 3.10.0. igraph 0.11.3. jedi 0.19.1. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. legacy_api_wrap NA. leidenalg 0.10.2. llvmlite 0.41.1. markupsafe 2.1.4. matplotlib 3.8.2. mpl_toolkits NA. msgpack 1.0.7. natsort 8.4.0. numba 0.58.1. numcodecs 0.12.1. numpy 1.26.3. packaging 23.2. pandas 2.2.0. parso 0.8.3. pexpect 4.9.0. prompt_toolkit 3.0.43. psutil 5.9.8. ptyprocess 0.7.0. pure_eval 0.2.2. pygments 2.17.2. pyparsing 3.1.1. pytz 2023.4. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.0. sparse 0.15.1. stack_data 0.6.3. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.2.0. tlz 0.12.1. toolz 0.12.1. traitlets 5.14.1. wcwidth 0.2",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2892
https://github.com/scverse/scanpy/issues/2892:1068,deployability,Version,Versions,1068,"se conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? cc: @Intron7 . The array types returned for the various aggregations in `sc.get.aggregate` are different (see example). This can lead to somewhat confusing behavior downstream, especially while we are using the sparse matrix classes. I would suggest we default to a dense result and consider adding an argument `array_type` that determines the type of the arrays added to `layers`. ### Minimal code sample. ```python. import scanpy as sc. adata = sc.datasets.pbmc3k_processed().raw.to_adata(). aggregated = sc.get.aggregate(adata, ""louvain"", [""sum"", ""count_nonzero""]). type(aggregated.layers[""sum""]). # numpy.ndarray. type(aggregated.layers[""count_nonzero""]). # scipy.sparse._csr.csr_matrix. ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.5.post1. scanpy 1.10.0.dev315+gf6d5ac94. -----. IPython 8.20.0. PIL 10.2.0. asciitree NA. asttokens NA. cloudpickle 3.0.0. cycler 0.12.1. cython_runtime NA. dask 2024.1.1. dateutil 2.8.2. decorator 5.1.1. executing 2.0.1. fasteners 0.19. h5py 3.10.0. igraph 0.11.3. jedi 0.19.1. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. legacy_api_wrap NA. leidenalg 0.10.2. llvmlite 0.41.1. markupsafe 2.1.4. matplotlib 3.8.2. mpl_toolkits NA. msgpack 1.0.7. natsort 8.4.0. numba 0.58.1. numcodecs 0.12.1. numpy 1.26.3. packaging 23.2. pandas 2.2.0. parso 0.8.3. pexpect 4.9.0. prompt_toolkit 3.0.43. psutil 5.9.8. ptyprocess 0.7.0. pure_eval 0.2.2. pygments 2.17.2. pyparsing 3.1.1. pytz 2023.4. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.0. sparse 0.15.1. stack_data 0.6.3. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.2.0. tlz 0.12.1. toolz 0.12.1. traitlets 5.14.1. wcwidth 0.2.13. yaml 6.0.1. zarr 2.16.1. zipp NA. -----. Python 3.11.7 | packaged b",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2892
https://github.com/scverse/scanpy/issues/2892:2206,deployability,updat,updated,2206," I have confirmed this bug exists on the main branch of scanpy. ### What happened? cc: @Intron7 . The array types returned for the various aggregations in `sc.get.aggregate` are different (see example). This can lead to somewhat confusing behavior downstream, especially while we are using the sparse matrix classes. I would suggest we default to a dense result and consider adding an argument `array_type` that determines the type of the arrays added to `layers`. ### Minimal code sample. ```python. import scanpy as sc. adata = sc.datasets.pbmc3k_processed().raw.to_adata(). aggregated = sc.get.aggregate(adata, ""louvain"", [""sum"", ""count_nonzero""]). type(aggregated.layers[""sum""]). # numpy.ndarray. type(aggregated.layers[""count_nonzero""]). # scipy.sparse._csr.csr_matrix. ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.5.post1. scanpy 1.10.0.dev315+gf6d5ac94. -----. IPython 8.20.0. PIL 10.2.0. asciitree NA. asttokens NA. cloudpickle 3.0.0. cycler 0.12.1. cython_runtime NA. dask 2024.1.1. dateutil 2.8.2. decorator 5.1.1. executing 2.0.1. fasteners 0.19. h5py 3.10.0. igraph 0.11.3. jedi 0.19.1. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. legacy_api_wrap NA. leidenalg 0.10.2. llvmlite 0.41.1. markupsafe 2.1.4. matplotlib 3.8.2. mpl_toolkits NA. msgpack 1.0.7. natsort 8.4.0. numba 0.58.1. numcodecs 0.12.1. numpy 1.26.3. packaging 23.2. pandas 2.2.0. parso 0.8.3. pexpect 4.9.0. prompt_toolkit 3.0.43. psutil 5.9.8. ptyprocess 0.7.0. pure_eval 0.2.2. pygments 2.17.2. pyparsing 3.1.1. pytz 2023.4. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.0. sparse 0.15.1. stack_data 0.6.3. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.2.0. tlz 0.12.1. toolz 0.12.1. traitlets 5.14.1. wcwidth 0.2.13. yaml 6.0.1. zarr 2.16.1. zipp NA. -----. Python 3.11.7 | packaged by conda-forge | (main, Dec 23 2023, 14:43:09) [GCC 12.3.0]. Linux-5.15.0-87-generic-x86_64-with-glibc2.35. -----. Session information updated at 2024-03-04 13:41. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2892
https://github.com/scverse/scanpy/issues/2892:1218,energy efficiency,cloud,cloudpickle,1218,"of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? cc: @Intron7 . The array types returned for the various aggregations in `sc.get.aggregate` are different (see example). This can lead to somewhat confusing behavior downstream, especially while we are using the sparse matrix classes. I would suggest we default to a dense result and consider adding an argument `array_type` that determines the type of the arrays added to `layers`. ### Minimal code sample. ```python. import scanpy as sc. adata = sc.datasets.pbmc3k_processed().raw.to_adata(). aggregated = sc.get.aggregate(adata, ""louvain"", [""sum"", ""count_nonzero""]). type(aggregated.layers[""sum""]). # numpy.ndarray. type(aggregated.layers[""count_nonzero""]). # scipy.sparse._csr.csr_matrix. ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.5.post1. scanpy 1.10.0.dev315+gf6d5ac94. -----. IPython 8.20.0. PIL 10.2.0. asciitree NA. asttokens NA. cloudpickle 3.0.0. cycler 0.12.1. cython_runtime NA. dask 2024.1.1. dateutil 2.8.2. decorator 5.1.1. executing 2.0.1. fasteners 0.19. h5py 3.10.0. igraph 0.11.3. jedi 0.19.1. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. legacy_api_wrap NA. leidenalg 0.10.2. llvmlite 0.41.1. markupsafe 2.1.4. matplotlib 3.8.2. mpl_toolkits NA. msgpack 1.0.7. natsort 8.4.0. numba 0.58.1. numcodecs 0.12.1. numpy 1.26.3. packaging 23.2. pandas 2.2.0. parso 0.8.3. pexpect 4.9.0. prompt_toolkit 3.0.43. psutil 5.9.8. ptyprocess 0.7.0. pure_eval 0.2.2. pygments 2.17.2. pyparsing 3.1.1. pytz 2023.4. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.0. sparse 0.15.1. stack_data 0.6.3. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.2.0. tlz 0.12.1. toolz 0.12.1. traitlets 5.14.1. wcwidth 0.2.13. yaml 6.0.1. zarr 2.16.1. zipp NA. -----. Python 3.11.7 | packaged by conda-forge | (main, Dec 23 2023, 14:43:09) [GCC 12.3.0]. Linux-5.15.0-87-generic-x86_64-with-glibc2.35. -----. Session information updated at 2024-03",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2892
https://github.com/scverse/scanpy/issues/2892:216,integrability,version,version,216,"Inconsistent array types from sc.get.aggregate; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? cc: @Intron7 . The array types returned for the various aggregations in `sc.get.aggregate` are different (see example). This can lead to somewhat confusing behavior downstream, especially while we are using the sparse matrix classes. I would suggest we default to a dense result and consider adding an argument `array_type` that determines the type of the arrays added to `layers`. ### Minimal code sample. ```python. import scanpy as sc. adata = sc.datasets.pbmc3k_processed().raw.to_adata(). aggregated = sc.get.aggregate(adata, ""louvain"", [""sum"", ""count_nonzero""]). type(aggregated.layers[""sum""]). # numpy.ndarray. type(aggregated.layers[""count_nonzero""]). # scipy.sparse._csr.csr_matrix. ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.5.post1. scanpy 1.10.0.dev315+gf6d5ac94. -----. IPython 8.20.0. PIL 10.2.0. asciitree NA. asttokens NA. cloudpickle 3.0.0. cycler 0.12.1. cython_runtime NA. dask 2024.1.1. dateutil 2.8.2. decorator 5.1.1. executing 2.0.1. fasteners 0.19. h5py 3.10.0. igraph 0.11.3. jedi 0.19.1. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. legacy_api_wrap NA. leidenalg 0.10.2. llvmlite 0.41.1. markupsafe 2.1.4. matplotlib 3.8.2. mpl_toolkits NA. msgpack 1.0.7. natsort 8.4.0. numba 0.58.1. numcodecs 0.12.1. numpy 1.26.3. packaging 23.2. pandas 2.2.0. parso 0.8.3. pexpect 4.9.0. prompt_toolkit 3.0.43. psutil 5.9.8. ptyprocess 0.7.0. pure_eval 0.2.2. pygments 2.17.2. pyparsing 3.1.1. pytz 2023.4. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.0. sparse 0.15.1. stack_data 0.6.3. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.2.0. tlz 0.12.1. toolz 0.12.1. traitlets 5.14.1. wcwidth 0.2",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2892
https://github.com/scverse/scanpy/issues/2892:1068,integrability,Version,Versions,1068,"se conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? cc: @Intron7 . The array types returned for the various aggregations in `sc.get.aggregate` are different (see example). This can lead to somewhat confusing behavior downstream, especially while we are using the sparse matrix classes. I would suggest we default to a dense result and consider adding an argument `array_type` that determines the type of the arrays added to `layers`. ### Minimal code sample. ```python. import scanpy as sc. adata = sc.datasets.pbmc3k_processed().raw.to_adata(). aggregated = sc.get.aggregate(adata, ""louvain"", [""sum"", ""count_nonzero""]). type(aggregated.layers[""sum""]). # numpy.ndarray. type(aggregated.layers[""count_nonzero""]). # scipy.sparse._csr.csr_matrix. ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.5.post1. scanpy 1.10.0.dev315+gf6d5ac94. -----. IPython 8.20.0. PIL 10.2.0. asciitree NA. asttokens NA. cloudpickle 3.0.0. cycler 0.12.1. cython_runtime NA. dask 2024.1.1. dateutil 2.8.2. decorator 5.1.1. executing 2.0.1. fasteners 0.19. h5py 3.10.0. igraph 0.11.3. jedi 0.19.1. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. legacy_api_wrap NA. leidenalg 0.10.2. llvmlite 0.41.1. markupsafe 2.1.4. matplotlib 3.8.2. mpl_toolkits NA. msgpack 1.0.7. natsort 8.4.0. numba 0.58.1. numcodecs 0.12.1. numpy 1.26.3. packaging 23.2. pandas 2.2.0. parso 0.8.3. pexpect 4.9.0. prompt_toolkit 3.0.43. psutil 5.9.8. ptyprocess 0.7.0. pure_eval 0.2.2. pygments 2.17.2. pyparsing 3.1.1. pytz 2023.4. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.0. sparse 0.15.1. stack_data 0.6.3. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.2.0. tlz 0.12.1. toolz 0.12.1. traitlets 5.14.1. wcwidth 0.2.13. yaml 6.0.1. zarr 2.16.1. zipp NA. -----. Python 3.11.7 | packaged b",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2892
https://github.com/scverse/scanpy/issues/2892:216,modifiability,version,version,216,"Inconsistent array types from sc.get.aggregate; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? cc: @Intron7 . The array types returned for the various aggregations in `sc.get.aggregate` are different (see example). This can lead to somewhat confusing behavior downstream, especially while we are using the sparse matrix classes. I would suggest we default to a dense result and consider adding an argument `array_type` that determines the type of the arrays added to `layers`. ### Minimal code sample. ```python. import scanpy as sc. adata = sc.datasets.pbmc3k_processed().raw.to_adata(). aggregated = sc.get.aggregate(adata, ""louvain"", [""sum"", ""count_nonzero""]). type(aggregated.layers[""sum""]). # numpy.ndarray. type(aggregated.layers[""count_nonzero""]). # scipy.sparse._csr.csr_matrix. ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.5.post1. scanpy 1.10.0.dev315+gf6d5ac94. -----. IPython 8.20.0. PIL 10.2.0. asciitree NA. asttokens NA. cloudpickle 3.0.0. cycler 0.12.1. cython_runtime NA. dask 2024.1.1. dateutil 2.8.2. decorator 5.1.1. executing 2.0.1. fasteners 0.19. h5py 3.10.0. igraph 0.11.3. jedi 0.19.1. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. legacy_api_wrap NA. leidenalg 0.10.2. llvmlite 0.41.1. markupsafe 2.1.4. matplotlib 3.8.2. mpl_toolkits NA. msgpack 1.0.7. natsort 8.4.0. numba 0.58.1. numcodecs 0.12.1. numpy 1.26.3. packaging 23.2. pandas 2.2.0. parso 0.8.3. pexpect 4.9.0. prompt_toolkit 3.0.43. psutil 5.9.8. ptyprocess 0.7.0. pure_eval 0.2.2. pygments 2.17.2. pyparsing 3.1.1. pytz 2023.4. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.0. sparse 0.15.1. stack_data 0.6.3. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.2.0. tlz 0.12.1. toolz 0.12.1. traitlets 5.14.1. wcwidth 0.2",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2892
https://github.com/scverse/scanpy/issues/2892:707,modifiability,layer,layers,707,"Inconsistent array types from sc.get.aggregate; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? cc: @Intron7 . The array types returned for the various aggregations in `sc.get.aggregate` are different (see example). This can lead to somewhat confusing behavior downstream, especially while we are using the sparse matrix classes. I would suggest we default to a dense result and consider adding an argument `array_type` that determines the type of the arrays added to `layers`. ### Minimal code sample. ```python. import scanpy as sc. adata = sc.datasets.pbmc3k_processed().raw.to_adata(). aggregated = sc.get.aggregate(adata, ""louvain"", [""sum"", ""count_nonzero""]). type(aggregated.layers[""sum""]). # numpy.ndarray. type(aggregated.layers[""count_nonzero""]). # scipy.sparse._csr.csr_matrix. ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.5.post1. scanpy 1.10.0.dev315+gf6d5ac94. -----. IPython 8.20.0. PIL 10.2.0. asciitree NA. asttokens NA. cloudpickle 3.0.0. cycler 0.12.1. cython_runtime NA. dask 2024.1.1. dateutil 2.8.2. decorator 5.1.1. executing 2.0.1. fasteners 0.19. h5py 3.10.0. igraph 0.11.3. jedi 0.19.1. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. legacy_api_wrap NA. leidenalg 0.10.2. llvmlite 0.41.1. markupsafe 2.1.4. matplotlib 3.8.2. mpl_toolkits NA. msgpack 1.0.7. natsort 8.4.0. numba 0.58.1. numcodecs 0.12.1. numpy 1.26.3. packaging 23.2. pandas 2.2.0. parso 0.8.3. pexpect 4.9.0. prompt_toolkit 3.0.43. psutil 5.9.8. ptyprocess 0.7.0. pure_eval 0.2.2. pygments 2.17.2. pyparsing 3.1.1. pytz 2023.4. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.0. sparse 0.15.1. stack_data 0.6.3. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.2.0. tlz 0.12.1. toolz 0.12.1. traitlets 5.14.1. wcwidth 0.2",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2892
https://github.com/scverse/scanpy/issues/2892:919,modifiability,layer,layers,919,"Inconsistent array types from sc.get.aggregate; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? cc: @Intron7 . The array types returned for the various aggregations in `sc.get.aggregate` are different (see example). This can lead to somewhat confusing behavior downstream, especially while we are using the sparse matrix classes. I would suggest we default to a dense result and consider adding an argument `array_type` that determines the type of the arrays added to `layers`. ### Minimal code sample. ```python. import scanpy as sc. adata = sc.datasets.pbmc3k_processed().raw.to_adata(). aggregated = sc.get.aggregate(adata, ""louvain"", [""sum"", ""count_nonzero""]). type(aggregated.layers[""sum""]). # numpy.ndarray. type(aggregated.layers[""count_nonzero""]). # scipy.sparse._csr.csr_matrix. ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.5.post1. scanpy 1.10.0.dev315+gf6d5ac94. -----. IPython 8.20.0. PIL 10.2.0. asciitree NA. asttokens NA. cloudpickle 3.0.0. cycler 0.12.1. cython_runtime NA. dask 2024.1.1. dateutil 2.8.2. decorator 5.1.1. executing 2.0.1. fasteners 0.19. h5py 3.10.0. igraph 0.11.3. jedi 0.19.1. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. legacy_api_wrap NA. leidenalg 0.10.2. llvmlite 0.41.1. markupsafe 2.1.4. matplotlib 3.8.2. mpl_toolkits NA. msgpack 1.0.7. natsort 8.4.0. numba 0.58.1. numcodecs 0.12.1. numpy 1.26.3. packaging 23.2. pandas 2.2.0. parso 0.8.3. pexpect 4.9.0. prompt_toolkit 3.0.43. psutil 5.9.8. ptyprocess 0.7.0. pure_eval 0.2.2. pygments 2.17.2. pyparsing 3.1.1. pytz 2023.4. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.0. sparse 0.15.1. stack_data 0.6.3. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.2.0. tlz 0.12.1. toolz 0.12.1. traitlets 5.14.1. wcwidth 0.2",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2892
https://github.com/scverse/scanpy/issues/2892:968,modifiability,layer,layers,968,"Inconsistent array types from sc.get.aggregate; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? cc: @Intron7 . The array types returned for the various aggregations in `sc.get.aggregate` are different (see example). This can lead to somewhat confusing behavior downstream, especially while we are using the sparse matrix classes. I would suggest we default to a dense result and consider adding an argument `array_type` that determines the type of the arrays added to `layers`. ### Minimal code sample. ```python. import scanpy as sc. adata = sc.datasets.pbmc3k_processed().raw.to_adata(). aggregated = sc.get.aggregate(adata, ""louvain"", [""sum"", ""count_nonzero""]). type(aggregated.layers[""sum""]). # numpy.ndarray. type(aggregated.layers[""count_nonzero""]). # scipy.sparse._csr.csr_matrix. ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.5.post1. scanpy 1.10.0.dev315+gf6d5ac94. -----. IPython 8.20.0. PIL 10.2.0. asciitree NA. asttokens NA. cloudpickle 3.0.0. cycler 0.12.1. cython_runtime NA. dask 2024.1.1. dateutil 2.8.2. decorator 5.1.1. executing 2.0.1. fasteners 0.19. h5py 3.10.0. igraph 0.11.3. jedi 0.19.1. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. legacy_api_wrap NA. leidenalg 0.10.2. llvmlite 0.41.1. markupsafe 2.1.4. matplotlib 3.8.2. mpl_toolkits NA. msgpack 1.0.7. natsort 8.4.0. numba 0.58.1. numcodecs 0.12.1. numpy 1.26.3. packaging 23.2. pandas 2.2.0. parso 0.8.3. pexpect 4.9.0. prompt_toolkit 3.0.43. psutil 5.9.8. ptyprocess 0.7.0. pure_eval 0.2.2. pygments 2.17.2. pyparsing 3.1.1. pytz 2023.4. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.0. sparse 0.15.1. stack_data 0.6.3. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.2.0. tlz 0.12.1. toolz 0.12.1. traitlets 5.14.1. wcwidth 0.2",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2892
https://github.com/scverse/scanpy/issues/2892:1068,modifiability,Version,Versions,1068,"se conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? cc: @Intron7 . The array types returned for the various aggregations in `sc.get.aggregate` are different (see example). This can lead to somewhat confusing behavior downstream, especially while we are using the sparse matrix classes. I would suggest we default to a dense result and consider adding an argument `array_type` that determines the type of the arrays added to `layers`. ### Minimal code sample. ```python. import scanpy as sc. adata = sc.datasets.pbmc3k_processed().raw.to_adata(). aggregated = sc.get.aggregate(adata, ""louvain"", [""sum"", ""count_nonzero""]). type(aggregated.layers[""sum""]). # numpy.ndarray. type(aggregated.layers[""count_nonzero""]). # scipy.sparse._csr.csr_matrix. ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.5.post1. scanpy 1.10.0.dev315+gf6d5ac94. -----. IPython 8.20.0. PIL 10.2.0. asciitree NA. asttokens NA. cloudpickle 3.0.0. cycler 0.12.1. cython_runtime NA. dask 2024.1.1. dateutil 2.8.2. decorator 5.1.1. executing 2.0.1. fasteners 0.19. h5py 3.10.0. igraph 0.11.3. jedi 0.19.1. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. legacy_api_wrap NA. leidenalg 0.10.2. llvmlite 0.41.1. markupsafe 2.1.4. matplotlib 3.8.2. mpl_toolkits NA. msgpack 1.0.7. natsort 8.4.0. numba 0.58.1. numcodecs 0.12.1. numpy 1.26.3. packaging 23.2. pandas 2.2.0. parso 0.8.3. pexpect 4.9.0. prompt_toolkit 3.0.43. psutil 5.9.8. ptyprocess 0.7.0. pure_eval 0.2.2. pygments 2.17.2. pyparsing 3.1.1. pytz 2023.4. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.0. sparse 0.15.1. stack_data 0.6.3. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.2.0. tlz 0.12.1. toolz 0.12.1. traitlets 5.14.1. wcwidth 0.2.13. yaml 6.0.1. zarr 2.16.1. zipp NA. -----. Python 3.11.7 | packaged b",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2892
https://github.com/scverse/scanpy/issues/2892:1302,modifiability,deco,decorator,1302," I have confirmed this bug exists on the main branch of scanpy. ### What happened? cc: @Intron7 . The array types returned for the various aggregations in `sc.get.aggregate` are different (see example). This can lead to somewhat confusing behavior downstream, especially while we are using the sparse matrix classes. I would suggest we default to a dense result and consider adding an argument `array_type` that determines the type of the arrays added to `layers`. ### Minimal code sample. ```python. import scanpy as sc. adata = sc.datasets.pbmc3k_processed().raw.to_adata(). aggregated = sc.get.aggregate(adata, ""louvain"", [""sum"", ""count_nonzero""]). type(aggregated.layers[""sum""]). # numpy.ndarray. type(aggregated.layers[""count_nonzero""]). # scipy.sparse._csr.csr_matrix. ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.5.post1. scanpy 1.10.0.dev315+gf6d5ac94. -----. IPython 8.20.0. PIL 10.2.0. asciitree NA. asttokens NA. cloudpickle 3.0.0. cycler 0.12.1. cython_runtime NA. dask 2024.1.1. dateutil 2.8.2. decorator 5.1.1. executing 2.0.1. fasteners 0.19. h5py 3.10.0. igraph 0.11.3. jedi 0.19.1. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. legacy_api_wrap NA. leidenalg 0.10.2. llvmlite 0.41.1. markupsafe 2.1.4. matplotlib 3.8.2. mpl_toolkits NA. msgpack 1.0.7. natsort 8.4.0. numba 0.58.1. numcodecs 0.12.1. numpy 1.26.3. packaging 23.2. pandas 2.2.0. parso 0.8.3. pexpect 4.9.0. prompt_toolkit 3.0.43. psutil 5.9.8. ptyprocess 0.7.0. pure_eval 0.2.2. pygments 2.17.2. pyparsing 3.1.1. pytz 2023.4. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.0. sparse 0.15.1. stack_data 0.6.3. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.2.0. tlz 0.12.1. toolz 0.12.1. traitlets 5.14.1. wcwidth 0.2.13. yaml 6.0.1. zarr 2.16.1. zipp NA. -----. Python 3.11.7 | packaged by conda-forge | (main, Dec 23 2023, 14:43:09) [GCC 12.3.0]. Linux-5.15.0-87-generic-x86_64-with-glibc2.35. -----. Session information updated at 2024-03-04 13:41. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2892
https://github.com/scverse/scanpy/issues/2892:1623,modifiability,pac,packaging,1623," I have confirmed this bug exists on the main branch of scanpy. ### What happened? cc: @Intron7 . The array types returned for the various aggregations in `sc.get.aggregate` are different (see example). This can lead to somewhat confusing behavior downstream, especially while we are using the sparse matrix classes. I would suggest we default to a dense result and consider adding an argument `array_type` that determines the type of the arrays added to `layers`. ### Minimal code sample. ```python. import scanpy as sc. adata = sc.datasets.pbmc3k_processed().raw.to_adata(). aggregated = sc.get.aggregate(adata, ""louvain"", [""sum"", ""count_nonzero""]). type(aggregated.layers[""sum""]). # numpy.ndarray. type(aggregated.layers[""count_nonzero""]). # scipy.sparse._csr.csr_matrix. ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.5.post1. scanpy 1.10.0.dev315+gf6d5ac94. -----. IPython 8.20.0. PIL 10.2.0. asciitree NA. asttokens NA. cloudpickle 3.0.0. cycler 0.12.1. cython_runtime NA. dask 2024.1.1. dateutil 2.8.2. decorator 5.1.1. executing 2.0.1. fasteners 0.19. h5py 3.10.0. igraph 0.11.3. jedi 0.19.1. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. legacy_api_wrap NA. leidenalg 0.10.2. llvmlite 0.41.1. markupsafe 2.1.4. matplotlib 3.8.2. mpl_toolkits NA. msgpack 1.0.7. natsort 8.4.0. numba 0.58.1. numcodecs 0.12.1. numpy 1.26.3. packaging 23.2. pandas 2.2.0. parso 0.8.3. pexpect 4.9.0. prompt_toolkit 3.0.43. psutil 5.9.8. ptyprocess 0.7.0. pure_eval 0.2.2. pygments 2.17.2. pyparsing 3.1.1. pytz 2023.4. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.0. sparse 0.15.1. stack_data 0.6.3. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.2.0. tlz 0.12.1. toolz 0.12.1. traitlets 5.14.1. wcwidth 0.2.13. yaml 6.0.1. zarr 2.16.1. zipp NA. -----. Python 3.11.7 | packaged by conda-forge | (main, Dec 23 2023, 14:43:09) [GCC 12.3.0]. Linux-5.15.0-87-generic-x86_64-with-glibc2.35. -----. Session information updated at 2024-03-04 13:41. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2892
https://github.com/scverse/scanpy/issues/2892:2062,modifiability,pac,packaged,2062," I have confirmed this bug exists on the main branch of scanpy. ### What happened? cc: @Intron7 . The array types returned for the various aggregations in `sc.get.aggregate` are different (see example). This can lead to somewhat confusing behavior downstream, especially while we are using the sparse matrix classes. I would suggest we default to a dense result and consider adding an argument `array_type` that determines the type of the arrays added to `layers`. ### Minimal code sample. ```python. import scanpy as sc. adata = sc.datasets.pbmc3k_processed().raw.to_adata(). aggregated = sc.get.aggregate(adata, ""louvain"", [""sum"", ""count_nonzero""]). type(aggregated.layers[""sum""]). # numpy.ndarray. type(aggregated.layers[""count_nonzero""]). # scipy.sparse._csr.csr_matrix. ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.5.post1. scanpy 1.10.0.dev315+gf6d5ac94. -----. IPython 8.20.0. PIL 10.2.0. asciitree NA. asttokens NA. cloudpickle 3.0.0. cycler 0.12.1. cython_runtime NA. dask 2024.1.1. dateutil 2.8.2. decorator 5.1.1. executing 2.0.1. fasteners 0.19. h5py 3.10.0. igraph 0.11.3. jedi 0.19.1. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. legacy_api_wrap NA. leidenalg 0.10.2. llvmlite 0.41.1. markupsafe 2.1.4. matplotlib 3.8.2. mpl_toolkits NA. msgpack 1.0.7. natsort 8.4.0. numba 0.58.1. numcodecs 0.12.1. numpy 1.26.3. packaging 23.2. pandas 2.2.0. parso 0.8.3. pexpect 4.9.0. prompt_toolkit 3.0.43. psutil 5.9.8. ptyprocess 0.7.0. pure_eval 0.2.2. pygments 2.17.2. pyparsing 3.1.1. pytz 2023.4. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.0. sparse 0.15.1. stack_data 0.6.3. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.2.0. tlz 0.12.1. toolz 0.12.1. traitlets 5.14.1. wcwidth 0.2.13. yaml 6.0.1. zarr 2.16.1. zipp NA. -----. Python 3.11.7 | packaged by conda-forge | (main, Dec 23 2023, 14:43:09) [GCC 12.3.0]. Linux-5.15.0-87-generic-x86_64-with-glibc2.35. -----. Session information updated at 2024-03-04 13:41. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2892
https://github.com/scverse/scanpy/issues/2892:1035,performance,Error,Error,1035,"ggregate; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? cc: @Intron7 . The array types returned for the various aggregations in `sc.get.aggregate` are different (see example). This can lead to somewhat confusing behavior downstream, especially while we are using the sparse matrix classes. I would suggest we default to a dense result and consider adding an argument `array_type` that determines the type of the arrays added to `layers`. ### Minimal code sample. ```python. import scanpy as sc. adata = sc.datasets.pbmc3k_processed().raw.to_adata(). aggregated = sc.get.aggregate(adata, ""louvain"", [""sum"", ""count_nonzero""]). type(aggregated.layers[""sum""]). # numpy.ndarray. type(aggregated.layers[""count_nonzero""]). # scipy.sparse._csr.csr_matrix. ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.5.post1. scanpy 1.10.0.dev315+gf6d5ac94. -----. IPython 8.20.0. PIL 10.2.0. asciitree NA. asttokens NA. cloudpickle 3.0.0. cycler 0.12.1. cython_runtime NA. dask 2024.1.1. dateutil 2.8.2. decorator 5.1.1. executing 2.0.1. fasteners 0.19. h5py 3.10.0. igraph 0.11.3. jedi 0.19.1. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. legacy_api_wrap NA. leidenalg 0.10.2. llvmlite 0.41.1. markupsafe 2.1.4. matplotlib 3.8.2. mpl_toolkits NA. msgpack 1.0.7. natsort 8.4.0. numba 0.58.1. numcodecs 0.12.1. numpy 1.26.3. packaging 23.2. pandas 2.2.0. parso 0.8.3. pexpect 4.9.0. prompt_toolkit 3.0.43. psutil 5.9.8. ptyprocess 0.7.0. pure_eval 0.2.2. pygments 2.17.2. pyparsing 3.1.1. pytz 2023.4. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.0. sparse 0.15.1. stack_data 0.6.3. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.2.0. tlz 0.12.1. toolz 0.12.1. traitlets 5.14.1. wcwidth 0.2.13. yaml 6.0.1. zarr 2.16.1. zipp NA.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2892
https://github.com/scverse/scanpy/issues/2892:1035,safety,Error,Error,1035,"ggregate; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? cc: @Intron7 . The array types returned for the various aggregations in `sc.get.aggregate` are different (see example). This can lead to somewhat confusing behavior downstream, especially while we are using the sparse matrix classes. I would suggest we default to a dense result and consider adding an argument `array_type` that determines the type of the arrays added to `layers`. ### Minimal code sample. ```python. import scanpy as sc. adata = sc.datasets.pbmc3k_processed().raw.to_adata(). aggregated = sc.get.aggregate(adata, ""louvain"", [""sum"", ""count_nonzero""]). type(aggregated.layers[""sum""]). # numpy.ndarray. type(aggregated.layers[""count_nonzero""]). # scipy.sparse._csr.csr_matrix. ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.5.post1. scanpy 1.10.0.dev315+gf6d5ac94. -----. IPython 8.20.0. PIL 10.2.0. asciitree NA. asttokens NA. cloudpickle 3.0.0. cycler 0.12.1. cython_runtime NA. dask 2024.1.1. dateutil 2.8.2. decorator 5.1.1. executing 2.0.1. fasteners 0.19. h5py 3.10.0. igraph 0.11.3. jedi 0.19.1. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. legacy_api_wrap NA. leidenalg 0.10.2. llvmlite 0.41.1. markupsafe 2.1.4. matplotlib 3.8.2. mpl_toolkits NA. msgpack 1.0.7. natsort 8.4.0. numba 0.58.1. numcodecs 0.12.1. numpy 1.26.3. packaging 23.2. pandas 2.2.0. parso 0.8.3. pexpect 4.9.0. prompt_toolkit 3.0.43. psutil 5.9.8. ptyprocess 0.7.0. pure_eval 0.2.2. pygments 2.17.2. pyparsing 3.1.1. pytz 2023.4. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.0. sparse 0.15.1. stack_data 0.6.3. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.2.0. tlz 0.12.1. toolz 0.12.1. traitlets 5.14.1. wcwidth 0.2.13. yaml 6.0.1. zarr 2.16.1. zipp NA.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2892
https://github.com/scverse/scanpy/issues/2892:2206,safety,updat,updated,2206," I have confirmed this bug exists on the main branch of scanpy. ### What happened? cc: @Intron7 . The array types returned for the various aggregations in `sc.get.aggregate` are different (see example). This can lead to somewhat confusing behavior downstream, especially while we are using the sparse matrix classes. I would suggest we default to a dense result and consider adding an argument `array_type` that determines the type of the arrays added to `layers`. ### Minimal code sample. ```python. import scanpy as sc. adata = sc.datasets.pbmc3k_processed().raw.to_adata(). aggregated = sc.get.aggregate(adata, ""louvain"", [""sum"", ""count_nonzero""]). type(aggregated.layers[""sum""]). # numpy.ndarray. type(aggregated.layers[""count_nonzero""]). # scipy.sparse._csr.csr_matrix. ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.5.post1. scanpy 1.10.0.dev315+gf6d5ac94. -----. IPython 8.20.0. PIL 10.2.0. asciitree NA. asttokens NA. cloudpickle 3.0.0. cycler 0.12.1. cython_runtime NA. dask 2024.1.1. dateutil 2.8.2. decorator 5.1.1. executing 2.0.1. fasteners 0.19. h5py 3.10.0. igraph 0.11.3. jedi 0.19.1. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. legacy_api_wrap NA. leidenalg 0.10.2. llvmlite 0.41.1. markupsafe 2.1.4. matplotlib 3.8.2. mpl_toolkits NA. msgpack 1.0.7. natsort 8.4.0. numba 0.58.1. numcodecs 0.12.1. numpy 1.26.3. packaging 23.2. pandas 2.2.0. parso 0.8.3. pexpect 4.9.0. prompt_toolkit 3.0.43. psutil 5.9.8. ptyprocess 0.7.0. pure_eval 0.2.2. pygments 2.17.2. pyparsing 3.1.1. pytz 2023.4. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.0. sparse 0.15.1. stack_data 0.6.3. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.2.0. tlz 0.12.1. toolz 0.12.1. traitlets 5.14.1. wcwidth 0.2.13. yaml 6.0.1. zarr 2.16.1. zipp NA. -----. Python 3.11.7 | packaged by conda-forge | (main, Dec 23 2023, 14:43:09) [GCC 12.3.0]. Linux-5.15.0-87-generic-x86_64-with-glibc2.35. -----. Session information updated at 2024-03-04 13:41. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2892
https://github.com/scverse/scanpy/issues/2892:2186,security,Session,Session,2186," I have confirmed this bug exists on the main branch of scanpy. ### What happened? cc: @Intron7 . The array types returned for the various aggregations in `sc.get.aggregate` are different (see example). This can lead to somewhat confusing behavior downstream, especially while we are using the sparse matrix classes. I would suggest we default to a dense result and consider adding an argument `array_type` that determines the type of the arrays added to `layers`. ### Minimal code sample. ```python. import scanpy as sc. adata = sc.datasets.pbmc3k_processed().raw.to_adata(). aggregated = sc.get.aggregate(adata, ""louvain"", [""sum"", ""count_nonzero""]). type(aggregated.layers[""sum""]). # numpy.ndarray. type(aggregated.layers[""count_nonzero""]). # scipy.sparse._csr.csr_matrix. ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.5.post1. scanpy 1.10.0.dev315+gf6d5ac94. -----. IPython 8.20.0. PIL 10.2.0. asciitree NA. asttokens NA. cloudpickle 3.0.0. cycler 0.12.1. cython_runtime NA. dask 2024.1.1. dateutil 2.8.2. decorator 5.1.1. executing 2.0.1. fasteners 0.19. h5py 3.10.0. igraph 0.11.3. jedi 0.19.1. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. legacy_api_wrap NA. leidenalg 0.10.2. llvmlite 0.41.1. markupsafe 2.1.4. matplotlib 3.8.2. mpl_toolkits NA. msgpack 1.0.7. natsort 8.4.0. numba 0.58.1. numcodecs 0.12.1. numpy 1.26.3. packaging 23.2. pandas 2.2.0. parso 0.8.3. pexpect 4.9.0. prompt_toolkit 3.0.43. psutil 5.9.8. ptyprocess 0.7.0. pure_eval 0.2.2. pygments 2.17.2. pyparsing 3.1.1. pytz 2023.4. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.0. sparse 0.15.1. stack_data 0.6.3. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.2.0. tlz 0.12.1. toolz 0.12.1. traitlets 5.14.1. wcwidth 0.2.13. yaml 6.0.1. zarr 2.16.1. zipp NA. -----. Python 3.11.7 | packaged by conda-forge | (main, Dec 23 2023, 14:43:09) [GCC 12.3.0]. Linux-5.15.0-87-generic-x86_64-with-glibc2.35. -----. Session information updated at 2024-03-04 13:41. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2892
https://github.com/scverse/scanpy/issues/2892:2206,security,updat,updated,2206," I have confirmed this bug exists on the main branch of scanpy. ### What happened? cc: @Intron7 . The array types returned for the various aggregations in `sc.get.aggregate` are different (see example). This can lead to somewhat confusing behavior downstream, especially while we are using the sparse matrix classes. I would suggest we default to a dense result and consider adding an argument `array_type` that determines the type of the arrays added to `layers`. ### Minimal code sample. ```python. import scanpy as sc. adata = sc.datasets.pbmc3k_processed().raw.to_adata(). aggregated = sc.get.aggregate(adata, ""louvain"", [""sum"", ""count_nonzero""]). type(aggregated.layers[""sum""]). # numpy.ndarray. type(aggregated.layers[""count_nonzero""]). # scipy.sparse._csr.csr_matrix. ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.5.post1. scanpy 1.10.0.dev315+gf6d5ac94. -----. IPython 8.20.0. PIL 10.2.0. asciitree NA. asttokens NA. cloudpickle 3.0.0. cycler 0.12.1. cython_runtime NA. dask 2024.1.1. dateutil 2.8.2. decorator 5.1.1. executing 2.0.1. fasteners 0.19. h5py 3.10.0. igraph 0.11.3. jedi 0.19.1. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. legacy_api_wrap NA. leidenalg 0.10.2. llvmlite 0.41.1. markupsafe 2.1.4. matplotlib 3.8.2. mpl_toolkits NA. msgpack 1.0.7. natsort 8.4.0. numba 0.58.1. numcodecs 0.12.1. numpy 1.26.3. packaging 23.2. pandas 2.2.0. parso 0.8.3. pexpect 4.9.0. prompt_toolkit 3.0.43. psutil 5.9.8. ptyprocess 0.7.0. pure_eval 0.2.2. pygments 2.17.2. pyparsing 3.1.1. pytz 2023.4. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.0. sparse 0.15.1. stack_data 0.6.3. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.2.0. tlz 0.12.1. toolz 0.12.1. traitlets 5.14.1. wcwidth 0.2.13. yaml 6.0.1. zarr 2.16.1. zipp NA. -----. Python 3.11.7 | packaged by conda-forge | (main, Dec 23 2023, 14:43:09) [GCC 12.3.0]. Linux-5.15.0-87-generic-x86_64-with-glibc2.35. -----. Session information updated at 2024-03-04 13:41. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2892
https://github.com/scverse/scanpy/issues/2892:176,usability,confirm,confirmed,176,"Inconsistent array types from sc.get.aggregate; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? cc: @Intron7 . The array types returned for the various aggregations in `sc.get.aggregate` are different (see example). This can lead to somewhat confusing behavior downstream, especially while we are using the sparse matrix classes. I would suggest we default to a dense result and consider adding an argument `array_type` that determines the type of the arrays added to `layers`. ### Minimal code sample. ```python. import scanpy as sc. adata = sc.datasets.pbmc3k_processed().raw.to_adata(). aggregated = sc.get.aggregate(adata, ""louvain"", [""sum"", ""count_nonzero""]). type(aggregated.layers[""sum""]). # numpy.ndarray. type(aggregated.layers[""count_nonzero""]). # scipy.sparse._csr.csr_matrix. ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.5.post1. scanpy 1.10.0.dev315+gf6d5ac94. -----. IPython 8.20.0. PIL 10.2.0. asciitree NA. asttokens NA. cloudpickle 3.0.0. cycler 0.12.1. cython_runtime NA. dask 2024.1.1. dateutil 2.8.2. decorator 5.1.1. executing 2.0.1. fasteners 0.19. h5py 3.10.0. igraph 0.11.3. jedi 0.19.1. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. legacy_api_wrap NA. leidenalg 0.10.2. llvmlite 0.41.1. markupsafe 2.1.4. matplotlib 3.8.2. mpl_toolkits NA. msgpack 1.0.7. natsort 8.4.0. numba 0.58.1. numcodecs 0.12.1. numpy 1.26.3. packaging 23.2. pandas 2.2.0. parso 0.8.3. pexpect 4.9.0. prompt_toolkit 3.0.43. psutil 5.9.8. ptyprocess 0.7.0. pure_eval 0.2.2. pygments 2.17.2. pyparsing 3.1.1. pytz 2023.4. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.0. sparse 0.15.1. stack_data 0.6.3. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.2.0. tlz 0.12.1. toolz 0.12.1. traitlets 5.14.1. wcwidth 0.2",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2892
https://github.com/scverse/scanpy/issues/2892:259,usability,confirm,confirmed,259,"Inconsistent array types from sc.get.aggregate; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? cc: @Intron7 . The array types returned for the various aggregations in `sc.get.aggregate` are different (see example). This can lead to somewhat confusing behavior downstream, especially while we are using the sparse matrix classes. I would suggest we default to a dense result and consider adding an argument `array_type` that determines the type of the arrays added to `layers`. ### Minimal code sample. ```python. import scanpy as sc. adata = sc.datasets.pbmc3k_processed().raw.to_adata(). aggregated = sc.get.aggregate(adata, ""louvain"", [""sum"", ""count_nonzero""]). type(aggregated.layers[""sum""]). # numpy.ndarray. type(aggregated.layers[""count_nonzero""]). # scipy.sparse._csr.csr_matrix. ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.5.post1. scanpy 1.10.0.dev315+gf6d5ac94. -----. IPython 8.20.0. PIL 10.2.0. asciitree NA. asttokens NA. cloudpickle 3.0.0. cycler 0.12.1. cython_runtime NA. dask 2024.1.1. dateutil 2.8.2. decorator 5.1.1. executing 2.0.1. fasteners 0.19. h5py 3.10.0. igraph 0.11.3. jedi 0.19.1. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. legacy_api_wrap NA. leidenalg 0.10.2. llvmlite 0.41.1. markupsafe 2.1.4. matplotlib 3.8.2. mpl_toolkits NA. msgpack 1.0.7. natsort 8.4.0. numba 0.58.1. numcodecs 0.12.1. numpy 1.26.3. packaging 23.2. pandas 2.2.0. parso 0.8.3. pexpect 4.9.0. prompt_toolkit 3.0.43. psutil 5.9.8. ptyprocess 0.7.0. pure_eval 0.2.2. pygments 2.17.2. pyparsing 3.1.1. pytz 2023.4. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.0. sparse 0.15.1. stack_data 0.6.3. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.2.0. tlz 0.12.1. toolz 0.12.1. traitlets 5.14.1. wcwidth 0.2",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2892
https://github.com/scverse/scanpy/issues/2892:490,usability,behavi,behavior,490,"Inconsistent array types from sc.get.aggregate; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? cc: @Intron7 . The array types returned for the various aggregations in `sc.get.aggregate` are different (see example). This can lead to somewhat confusing behavior downstream, especially while we are using the sparse matrix classes. I would suggest we default to a dense result and consider adding an argument `array_type` that determines the type of the arrays added to `layers`. ### Minimal code sample. ```python. import scanpy as sc. adata = sc.datasets.pbmc3k_processed().raw.to_adata(). aggregated = sc.get.aggregate(adata, ""louvain"", [""sum"", ""count_nonzero""]). type(aggregated.layers[""sum""]). # numpy.ndarray. type(aggregated.layers[""count_nonzero""]). # scipy.sparse._csr.csr_matrix. ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.5.post1. scanpy 1.10.0.dev315+gf6d5ac94. -----. IPython 8.20.0. PIL 10.2.0. asciitree NA. asttokens NA. cloudpickle 3.0.0. cycler 0.12.1. cython_runtime NA. dask 2024.1.1. dateutil 2.8.2. decorator 5.1.1. executing 2.0.1. fasteners 0.19. h5py 3.10.0. igraph 0.11.3. jedi 0.19.1. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. legacy_api_wrap NA. leidenalg 0.10.2. llvmlite 0.41.1. markupsafe 2.1.4. matplotlib 3.8.2. mpl_toolkits NA. msgpack 1.0.7. natsort 8.4.0. numba 0.58.1. numcodecs 0.12.1. numpy 1.26.3. packaging 23.2. pandas 2.2.0. parso 0.8.3. pexpect 4.9.0. prompt_toolkit 3.0.43. psutil 5.9.8. ptyprocess 0.7.0. pure_eval 0.2.2. pygments 2.17.2. pyparsing 3.1.1. pytz 2023.4. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.0. sparse 0.15.1. stack_data 0.6.3. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.2.0. tlz 0.12.1. toolz 0.12.1. traitlets 5.14.1. wcwidth 0.2",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2892
https://github.com/scverse/scanpy/issues/2892:720,usability,Minim,Minimal,720,"Inconsistent array types from sc.get.aggregate; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? cc: @Intron7 . The array types returned for the various aggregations in `sc.get.aggregate` are different (see example). This can lead to somewhat confusing behavior downstream, especially while we are using the sparse matrix classes. I would suggest we default to a dense result and consider adding an argument `array_type` that determines the type of the arrays added to `layers`. ### Minimal code sample. ```python. import scanpy as sc. adata = sc.datasets.pbmc3k_processed().raw.to_adata(). aggregated = sc.get.aggregate(adata, ""louvain"", [""sum"", ""count_nonzero""]). type(aggregated.layers[""sum""]). # numpy.ndarray. type(aggregated.layers[""count_nonzero""]). # scipy.sparse._csr.csr_matrix. ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.5.post1. scanpy 1.10.0.dev315+gf6d5ac94. -----. IPython 8.20.0. PIL 10.2.0. asciitree NA. asttokens NA. cloudpickle 3.0.0. cycler 0.12.1. cython_runtime NA. dask 2024.1.1. dateutil 2.8.2. decorator 5.1.1. executing 2.0.1. fasteners 0.19. h5py 3.10.0. igraph 0.11.3. jedi 0.19.1. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. legacy_api_wrap NA. leidenalg 0.10.2. llvmlite 0.41.1. markupsafe 2.1.4. matplotlib 3.8.2. mpl_toolkits NA. msgpack 1.0.7. natsort 8.4.0. numba 0.58.1. numcodecs 0.12.1. numpy 1.26.3. packaging 23.2. pandas 2.2.0. parso 0.8.3. pexpect 4.9.0. prompt_toolkit 3.0.43. psutil 5.9.8. ptyprocess 0.7.0. pure_eval 0.2.2. pygments 2.17.2. pyparsing 3.1.1. pytz 2023.4. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.0. sparse 0.15.1. stack_data 0.6.3. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.2.0. tlz 0.12.1. toolz 0.12.1. traitlets 5.14.1. wcwidth 0.2",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2892
https://github.com/scverse/scanpy/issues/2892:1035,usability,Error,Error,1035,"ggregate; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? cc: @Intron7 . The array types returned for the various aggregations in `sc.get.aggregate` are different (see example). This can lead to somewhat confusing behavior downstream, especially while we are using the sparse matrix classes. I would suggest we default to a dense result and consider adding an argument `array_type` that determines the type of the arrays added to `layers`. ### Minimal code sample. ```python. import scanpy as sc. adata = sc.datasets.pbmc3k_processed().raw.to_adata(). aggregated = sc.get.aggregate(adata, ""louvain"", [""sum"", ""count_nonzero""]). type(aggregated.layers[""sum""]). # numpy.ndarray. type(aggregated.layers[""count_nonzero""]). # scipy.sparse._csr.csr_matrix. ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.5.post1. scanpy 1.10.0.dev315+gf6d5ac94. -----. IPython 8.20.0. PIL 10.2.0. asciitree NA. asttokens NA. cloudpickle 3.0.0. cycler 0.12.1. cython_runtime NA. dask 2024.1.1. dateutil 2.8.2. decorator 5.1.1. executing 2.0.1. fasteners 0.19. h5py 3.10.0. igraph 0.11.3. jedi 0.19.1. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. legacy_api_wrap NA. leidenalg 0.10.2. llvmlite 0.41.1. markupsafe 2.1.4. matplotlib 3.8.2. mpl_toolkits NA. msgpack 1.0.7. natsort 8.4.0. numba 0.58.1. numcodecs 0.12.1. numpy 1.26.3. packaging 23.2. pandas 2.2.0. parso 0.8.3. pexpect 4.9.0. prompt_toolkit 3.0.43. psutil 5.9.8. ptyprocess 0.7.0. pure_eval 0.2.2. pygments 2.17.2. pyparsing 3.1.1. pytz 2023.4. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.0. sparse 0.15.1. stack_data 0.6.3. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.2.0. tlz 0.12.1. toolz 0.12.1. traitlets 5.14.1. wcwidth 0.2.13. yaml 6.0.1. zarr 2.16.1. zipp NA.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2892
https://github.com/scverse/scanpy/issues/2892:1957,usability,tool,toolz,1957," I have confirmed this bug exists on the main branch of scanpy. ### What happened? cc: @Intron7 . The array types returned for the various aggregations in `sc.get.aggregate` are different (see example). This can lead to somewhat confusing behavior downstream, especially while we are using the sparse matrix classes. I would suggest we default to a dense result and consider adding an argument `array_type` that determines the type of the arrays added to `layers`. ### Minimal code sample. ```python. import scanpy as sc. adata = sc.datasets.pbmc3k_processed().raw.to_adata(). aggregated = sc.get.aggregate(adata, ""louvain"", [""sum"", ""count_nonzero""]). type(aggregated.layers[""sum""]). # numpy.ndarray. type(aggregated.layers[""count_nonzero""]). # scipy.sparse._csr.csr_matrix. ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.5.post1. scanpy 1.10.0.dev315+gf6d5ac94. -----. IPython 8.20.0. PIL 10.2.0. asciitree NA. asttokens NA. cloudpickle 3.0.0. cycler 0.12.1. cython_runtime NA. dask 2024.1.1. dateutil 2.8.2. decorator 5.1.1. executing 2.0.1. fasteners 0.19. h5py 3.10.0. igraph 0.11.3. jedi 0.19.1. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. legacy_api_wrap NA. leidenalg 0.10.2. llvmlite 0.41.1. markupsafe 2.1.4. matplotlib 3.8.2. mpl_toolkits NA. msgpack 1.0.7. natsort 8.4.0. numba 0.58.1. numcodecs 0.12.1. numpy 1.26.3. packaging 23.2. pandas 2.2.0. parso 0.8.3. pexpect 4.9.0. prompt_toolkit 3.0.43. psutil 5.9.8. ptyprocess 0.7.0. pure_eval 0.2.2. pygments 2.17.2. pyparsing 3.1.1. pytz 2023.4. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.0. sparse 0.15.1. stack_data 0.6.3. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.2.0. tlz 0.12.1. toolz 0.12.1. traitlets 5.14.1. wcwidth 0.2.13. yaml 6.0.1. zarr 2.16.1. zipp NA. -----. Python 3.11.7 | packaged by conda-forge | (main, Dec 23 2023, 14:43:09) [GCC 12.3.0]. Linux-5.15.0-87-generic-x86_64-with-glibc2.35. -----. Session information updated at 2024-03-04 13:41. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2892
https://github.com/scverse/scanpy/issues/2894:649,availability,sli,slice,649,"Out of Memory filtering returns TypeError; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Hi! I am new to scanpy and I am facing some trouble reading my data in an appropriate way. I noticed that anndata objects in memory require roughly 4x the space they require on disk, so working with large datasets (>50GB on disk) is prohibitive in most scenarios. The USP of h5 files, however, is that you can index and slice them on disk as if they were in memory. This way I could greatly reduce the data size before loading it into memory. However, when I attempt to filter on a backed anndata object, I encounter a TypeError. The case of gene filtering should be just a column-sum, comparing it against a threshold and then saving it as a boolean index mask. It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, i",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:986,availability,mask,mask,986,"Out of Memory filtering returns TypeError; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Hi! I am new to scanpy and I am facing some trouble reading my data in an appropriate way. I noticed that anndata objects in memory require roughly 4x the space they require on disk, so working with large datasets (>50GB on disk) is prohibitive in most scenarios. The USP of h5 files, however, is that you can index and slice them on disk as if they were in memory. This way I could greatly reduce the data size before loading it into memory. However, when I attempt to filter on a backed anndata object, I encounter a TypeError. The case of gene filtering should be just a column-sum, comparing it against a threshold and then saving it as a boolean index mask. It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, i",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:1295,availability,down,downloading,1295," scanpy. ### What happened? Hi! I am new to scanpy and I am facing some trouble reading my data in an appropriate way. I noticed that anndata objects in memory require roughly 4x the space they require on disk, so working with large datasets (>50GB on disk) is prohibitive in most scenarios. The USP of h5 files, however, is that you can index and slice them on disk as if they were in memory. This way I could greatly reduce the data size before loading it into memory. However, when I attempt to filter on a backed anndata object, I encounter a TypeError. The case of gene filtering should be just a column-sum, comparing it against a threshold and then saving it as a boolean index mask. It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, in filter_genes. X if min_cells is None and max_cells is None else X > 0, axis=0. ^^^^^. TypeError: '>' not supported between instances of 'CSRDataset' and 'int'. ```. ### Versions. <details>. ```. Matplotlib is building the font cache; this may take a moment. -----. anndata 0.10.5.post1. scanpy 1.9.8",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:1580,availability,Error,Error,1580,"cenarios. The USP of h5 files, however, is that you can index and slice them on disk as if they were in memory. This way I could greatly reduce the data size before loading it into memory. However, when I attempt to filter on a backed anndata object, I encounter a TypeError. The case of gene filtering should be just a column-sum, comparing it against a threshold and then saving it as a boolean index mask. It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, in filter_genes. X if min_cells is None and max_cells is None else X > 0, axis=0. ^^^^^. TypeError: '>' not supported between instances of 'CSRDataset' and 'int'. ```. ### Versions. <details>. ```. Matplotlib is building the font cache; this may take a moment. -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 10.2.0. colorama 0.4.6. cycler 0.12.1. cython_runtime NA. dateutil 2.8.2. h5py 3.10.0. igraph 0.11.4. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.2. llvmlite 0.42.0. matplotlib 3.8.3. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numpy 1.26.4. packaging 23.2. pandas",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:211,deployability,version,version,211,"Out of Memory filtering returns TypeError; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Hi! I am new to scanpy and I am facing some trouble reading my data in an appropriate way. I noticed that anndata objects in memory require roughly 4x the space they require on disk, so working with large datasets (>50GB on disk) is prohibitive in most scenarios. The USP of h5 files, however, is that you can index and slice them on disk as if they were in memory. This way I could greatly reduce the data size before loading it into memory. However, when I attempt to filter on a backed anndata object, I encounter a TypeError. The case of gene filtering should be just a column-sum, comparing it against a threshold and then saving it as a boolean index mask. It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, i",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:1148,deployability,API,API,1148,"ported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Hi! I am new to scanpy and I am facing some trouble reading my data in an appropriate way. I noticed that anndata objects in memory require roughly 4x the space they require on disk, so working with large datasets (>50GB on disk) is prohibitive in most scenarios. The USP of h5 files, however, is that you can index and slice them on disk as if they were in memory. This way I could greatly reduce the data size before loading it into memory. However, when I attempt to filter on a backed anndata object, I encounter a TypeError. The case of gene filtering should be just a column-sum, comparing it against a threshold and then saving it as a boolean index mask. It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, in filter_genes. X if min_cells is None and max_cells is None else X > 0, axis=0. ^^^^^. TypeError: '>' not supported between instances of 'CSRDataset'",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:1688,deployability,modul,module,1688,"ry. This way I could greatly reduce the data size before loading it into memory. However, when I attempt to filter on a backed anndata object, I encounter a TypeError. The case of gene filtering should be just a column-sum, comparing it against a threshold and then saving it as a boolean index mask. It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, in filter_genes. X if min_cells is None and max_cells is None else X > 0, axis=0. ^^^^^. TypeError: '>' not supported between instances of 'CSRDataset' and 'int'. ```. ### Versions. <details>. ```. Matplotlib is building the font cache; this may take a moment. -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 10.2.0. colorama 0.4.6. cycler 0.12.1. cython_runtime NA. dateutil 2.8.2. h5py 3.10.0. igraph 0.11.4. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.2. llvmlite 0.42.0. matplotlib 3.8.3. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numpy 1.26.4. packaging 23.2. pandas 2.2.1. psutil 5.9.8. pyparsing 3.1.1. pytz 2024.1. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:2171,deployability,Version,Versions,2171,". It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, in filter_genes. X if min_cells is None and max_cells is None else X > 0, axis=0. ^^^^^. TypeError: '>' not supported between instances of 'CSRDataset' and 'int'. ```. ### Versions. <details>. ```. Matplotlib is building the font cache; this may take a moment. -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 10.2.0. colorama 0.4.6. cycler 0.12.1. cython_runtime NA. dateutil 2.8.2. h5py 3.10.0. igraph 0.11.4. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.2. llvmlite 0.42.0. matplotlib 3.8.3. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numpy 1.26.4. packaging 23.2. pandas 2.2.1. psutil 5.9.8. pyparsing 3.1.1. pytz 2024.1. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.1.post1. texttable 1.7.0. threadpoolctl 3.3.0. typing_extensions NA. wcwidth 0.2.13. -----. Python 3.12.2 | packaged by conda-forge | (main, Feb 16 2024, 20:50:58) [GCC 12.3.0]. Linux-5.4.0-165-generic-x86_64-with-glibc2.31. -----. Session information updated at 2024-03-05 10:07. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:2211,deployability,build,building,2211,". It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, in filter_genes. X if min_cells is None and max_cells is None else X > 0, axis=0. ^^^^^. TypeError: '>' not supported between instances of 'CSRDataset' and 'int'. ```. ### Versions. <details>. ```. Matplotlib is building the font cache; this may take a moment. -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 10.2.0. colorama 0.4.6. cycler 0.12.1. cython_runtime NA. dateutil 2.8.2. h5py 3.10.0. igraph 0.11.4. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.2. llvmlite 0.42.0. matplotlib 3.8.3. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numpy 1.26.4. packaging 23.2. pandas 2.2.1. psutil 5.9.8. pyparsing 3.1.1. pytz 2024.1. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.1.post1. texttable 1.7.0. threadpoolctl 3.3.0. typing_extensions NA. wcwidth 0.2.13. -----. Python 3.12.2 | packaged by conda-forge | (main, Feb 16 2024, 20:50:58) [GCC 12.3.0]. Linux-5.4.0-165-generic-x86_64-with-glibc2.31. -----. Session information updated at 2024-03-05 10:07. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:2945,deployability,updat,updated,2945,". It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, in filter_genes. X if min_cells is None and max_cells is None else X > 0, axis=0. ^^^^^. TypeError: '>' not supported between instances of 'CSRDataset' and 'int'. ```. ### Versions. <details>. ```. Matplotlib is building the font cache; this may take a moment. -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 10.2.0. colorama 0.4.6. cycler 0.12.1. cython_runtime NA. dateutil 2.8.2. h5py 3.10.0. igraph 0.11.4. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.2. llvmlite 0.42.0. matplotlib 3.8.3. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numpy 1.26.4. packaging 23.2. pandas 2.2.1. psutil 5.9.8. pyparsing 3.1.1. pytz 2024.1. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.1.post1. texttable 1.7.0. threadpoolctl 3.3.0. typing_extensions NA. wcwidth 0.2.13. -----. Python 3.12.2 | packaged by conda-forge | (main, Feb 16 2024, 20:50:58) [GCC 12.3.0]. Linux-5.4.0-165-generic-x86_64-with-glibc2.31. -----. Session information updated at 2024-03-05 10:07. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:720,energy efficiency,reduc,reduce,720,"Out of Memory filtering returns TypeError; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Hi! I am new to scanpy and I am facing some trouble reading my data in an appropriate way. I noticed that anndata objects in memory require roughly 4x the space they require on disk, so working with large datasets (>50GB on disk) is prohibitive in most scenarios. The USP of h5 files, however, is that you can index and slice them on disk as if they were in memory. This way I could greatly reduce the data size before loading it into memory. However, when I attempt to filter on a backed anndata object, I encounter a TypeError. The case of gene filtering should be just a column-sum, comparing it against a threshold and then saving it as a boolean index mask. It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, i",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:748,energy efficiency,load,loading,748,"Out of Memory filtering returns TypeError; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Hi! I am new to scanpy and I am facing some trouble reading my data in an appropriate way. I noticed that anndata objects in memory require roughly 4x the space they require on disk, so working with large datasets (>50GB on disk) is prohibitive in most scenarios. The USP of h5 files, however, is that you can index and slice them on disk as if they were in memory. This way I could greatly reduce the data size before loading it into memory. However, when I attempt to filter on a backed anndata object, I encounter a TypeError. The case of gene filtering should be just a column-sum, comparing it against a threshold and then saving it as a boolean index mask. It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, i",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:14,integrability,filter,filtering,14,"Out of Memory filtering returns TypeError; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Hi! I am new to scanpy and I am facing some trouble reading my data in an appropriate way. I noticed that anndata objects in memory require roughly 4x the space they require on disk, so working with large datasets (>50GB on disk) is prohibitive in most scenarios. The USP of h5 files, however, is that you can index and slice them on disk as if they were in memory. This way I could greatly reduce the data size before loading it into memory. However, when I attempt to filter on a backed anndata object, I encounter a TypeError. The case of gene filtering should be just a column-sum, comparing it against a threshold and then saving it as a boolean index mask. It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, i",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:211,integrability,version,version,211,"Out of Memory filtering returns TypeError; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Hi! I am new to scanpy and I am facing some trouble reading my data in an appropriate way. I noticed that anndata objects in memory require roughly 4x the space they require on disk, so working with large datasets (>50GB on disk) is prohibitive in most scenarios. The USP of h5 files, however, is that you can index and slice them on disk as if they were in memory. This way I could greatly reduce the data size before loading it into memory. However, when I attempt to filter on a backed anndata object, I encounter a TypeError. The case of gene filtering should be just a column-sum, comparing it against a threshold and then saving it as a boolean index mask. It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, i",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:799,integrability,filter,filter,799,"Out of Memory filtering returns TypeError; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Hi! I am new to scanpy and I am facing some trouble reading my data in an appropriate way. I noticed that anndata objects in memory require roughly 4x the space they require on disk, so working with large datasets (>50GB on disk) is prohibitive in most scenarios. The USP of h5 files, however, is that you can index and slice them on disk as if they were in memory. This way I could greatly reduce the data size before loading it into memory. However, when I attempt to filter on a backed anndata object, I encounter a TypeError. The case of gene filtering should be just a column-sum, comparing it against a threshold and then saving it as a boolean index mask. It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, i",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:876,integrability,filter,filtering,876,"Out of Memory filtering returns TypeError; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Hi! I am new to scanpy and I am facing some trouble reading my data in an appropriate way. I noticed that anndata objects in memory require roughly 4x the space they require on disk, so working with large datasets (>50GB on disk) is prohibitive in most scenarios. The USP of h5 files, however, is that you can index and slice them on disk as if they were in memory. This way I could greatly reduce the data size before loading it into memory. However, when I attempt to filter on a backed anndata object, I encounter a TypeError. The case of gene filtering should be just a column-sum, comparing it against a threshold and then saving it as a boolean index mask. It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, i",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:1148,integrability,API,API,1148,"ported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Hi! I am new to scanpy and I am facing some trouble reading my data in an appropriate way. I noticed that anndata objects in memory require roughly 4x the space they require on disk, so working with large datasets (>50GB on disk) is prohibitive in most scenarios. The USP of h5 files, however, is that you can index and slice them on disk as if they were in memory. This way I could greatly reduce the data size before loading it into memory. However, when I attempt to filter on a backed anndata object, I encounter a TypeError. The case of gene filtering should be just a column-sum, comparing it against a threshold and then saving it as a boolean index mask. It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, in filter_genes. X if min_cells is None and max_cells is None else X > 0, axis=0. ^^^^^. TypeError: '>' not supported between instances of 'CSRDataset'",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:2171,integrability,Version,Versions,2171,". It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, in filter_genes. X if min_cells is None and max_cells is None else X > 0, axis=0. ^^^^^. TypeError: '>' not supported between instances of 'CSRDataset' and 'int'. ```. ### Versions. <details>. ```. Matplotlib is building the font cache; this may take a moment. -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 10.2.0. colorama 0.4.6. cycler 0.12.1. cython_runtime NA. dateutil 2.8.2. h5py 3.10.0. igraph 0.11.4. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.2. llvmlite 0.42.0. matplotlib 3.8.3. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numpy 1.26.4. packaging 23.2. pandas 2.2.1. psutil 5.9.8. pyparsing 3.1.1. pytz 2024.1. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.1.post1. texttable 1.7.0. threadpoolctl 3.3.0. typing_extensions NA. wcwidth 0.2.13. -----. Python 3.12.2 | packaged by conda-forge | (main, Feb 16 2024, 20:50:58) [GCC 12.3.0]. Linux-5.4.0-165-generic-x86_64-with-glibc2.31. -----. Session information updated at 2024-03-05 10:07. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:1148,interoperability,API,API,1148,"ported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Hi! I am new to scanpy and I am facing some trouble reading my data in an appropriate way. I noticed that anndata objects in memory require roughly 4x the space they require on disk, so working with large datasets (>50GB on disk) is prohibitive in most scenarios. The USP of h5 files, however, is that you can index and slice them on disk as if they were in memory. This way I could greatly reduce the data size before loading it into memory. However, when I attempt to filter on a backed anndata object, I encounter a TypeError. The case of gene filtering should be just a column-sum, comparing it against a threshold and then saving it as a boolean index mask. It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, in filter_genes. X if min_cells is None and max_cells is None else X > 0, axis=0. ^^^^^. TypeError: '>' not supported between instances of 'CSRDataset'",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:211,modifiability,version,version,211,"Out of Memory filtering returns TypeError; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Hi! I am new to scanpy and I am facing some trouble reading my data in an appropriate way. I noticed that anndata objects in memory require roughly 4x the space they require on disk, so working with large datasets (>50GB on disk) is prohibitive in most scenarios. The USP of h5 files, however, is that you can index and slice them on disk as if they were in memory. This way I could greatly reduce the data size before loading it into memory. However, when I attempt to filter on a backed anndata object, I encounter a TypeError. The case of gene filtering should be just a column-sum, comparing it against a threshold and then saving it as a boolean index mask. It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, i",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:582,modifiability,scenario,scenarios,582,"Out of Memory filtering returns TypeError; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Hi! I am new to scanpy and I am facing some trouble reading my data in an appropriate way. I noticed that anndata objects in memory require roughly 4x the space they require on disk, so working with large datasets (>50GB on disk) is prohibitive in most scenarios. The USP of h5 files, however, is that you can index and slice them on disk as if they were in memory. This way I could greatly reduce the data size before loading it into memory. However, when I attempt to filter on a backed anndata object, I encounter a TypeError. The case of gene filtering should be just a column-sum, comparing it against a threshold and then saving it as a boolean index mask. It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, i",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:1688,modifiability,modul,module,1688,"ry. This way I could greatly reduce the data size before loading it into memory. However, when I attempt to filter on a backed anndata object, I encounter a TypeError. The case of gene filtering should be just a column-sum, comparing it against a threshold and then saving it as a boolean index mask. It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, in filter_genes. X if min_cells is None and max_cells is None else X > 0, axis=0. ^^^^^. TypeError: '>' not supported between instances of 'CSRDataset' and 'int'. ```. ### Versions. <details>. ```. Matplotlib is building the font cache; this may take a moment. -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 10.2.0. colorama 0.4.6. cycler 0.12.1. cython_runtime NA. dateutil 2.8.2. h5py 3.10.0. igraph 0.11.4. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.2. llvmlite 0.42.0. matplotlib 3.8.3. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numpy 1.26.4. packaging 23.2. pandas 2.2.1. psutil 5.9.8. pyparsing 3.1.1. pytz 2024.1. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:1800,modifiability,pac,packages,1800,"r on a backed anndata object, I encounter a TypeError. The case of gene filtering should be just a column-sum, comparing it against a threshold and then saving it as a boolean index mask. It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, in filter_genes. X if min_cells is None and max_cells is None else X > 0, axis=0. ^^^^^. TypeError: '>' not supported between instances of 'CSRDataset' and 'int'. ```. ### Versions. <details>. ```. Matplotlib is building the font cache; this may take a moment. -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 10.2.0. colorama 0.4.6. cycler 0.12.1. cython_runtime NA. dateutil 2.8.2. h5py 3.10.0. igraph 0.11.4. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.2. llvmlite 0.42.0. matplotlib 3.8.3. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numpy 1.26.4. packaging 23.2. pandas 2.2.1. psutil 5.9.8. pyparsing 3.1.1. pytz 2024.1. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.1.post1. texttable 1.7.0. threadpoolctl 3.3.0. typing_extensions NA. wcwidth 0.2.13. -----. Python 3.12.2 | pac",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:1946,modifiability,pac,packages,1946,"d then saving it as a boolean index mask. It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, in filter_genes. X if min_cells is None and max_cells is None else X > 0, axis=0. ^^^^^. TypeError: '>' not supported between instances of 'CSRDataset' and 'int'. ```. ### Versions. <details>. ```. Matplotlib is building the font cache; this may take a moment. -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 10.2.0. colorama 0.4.6. cycler 0.12.1. cython_runtime NA. dateutil 2.8.2. h5py 3.10.0. igraph 0.11.4. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.2. llvmlite 0.42.0. matplotlib 3.8.3. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numpy 1.26.4. packaging 23.2. pandas 2.2.1. psutil 5.9.8. pyparsing 3.1.1. pytz 2024.1. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.1.post1. texttable 1.7.0. threadpoolctl 3.3.0. typing_extensions NA. wcwidth 0.2.13. -----. Python 3.12.2 | packaged by conda-forge | (main, Feb 16 2024, 20:50:58) [GCC 12.3.0]. Linux-5.4.0-165-generic-x86_64-with-glibc2.31. -----. Session information updat",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:2171,modifiability,Version,Versions,2171,". It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, in filter_genes. X if min_cells is None and max_cells is None else X > 0, axis=0. ^^^^^. TypeError: '>' not supported between instances of 'CSRDataset' and 'int'. ```. ### Versions. <details>. ```. Matplotlib is building the font cache; this may take a moment. -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 10.2.0. colorama 0.4.6. cycler 0.12.1. cython_runtime NA. dateutil 2.8.2. h5py 3.10.0. igraph 0.11.4. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.2. llvmlite 0.42.0. matplotlib 3.8.3. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numpy 1.26.4. packaging 23.2. pandas 2.2.1. psutil 5.9.8. pyparsing 3.1.1. pytz 2024.1. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.1.post1. texttable 1.7.0. threadpoolctl 3.3.0. typing_extensions NA. wcwidth 0.2.13. -----. Python 3.12.2 | packaged by conda-forge | (main, Feb 16 2024, 20:50:58) [GCC 12.3.0]. Linux-5.4.0-165-generic-x86_64-with-glibc2.31. -----. Session information updated at 2024-03-05 10:07. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:2561,modifiability,pac,packaging,2561,". It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, in filter_genes. X if min_cells is None and max_cells is None else X > 0, axis=0. ^^^^^. TypeError: '>' not supported between instances of 'CSRDataset' and 'int'. ```. ### Versions. <details>. ```. Matplotlib is building the font cache; this may take a moment. -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 10.2.0. colorama 0.4.6. cycler 0.12.1. cython_runtime NA. dateutil 2.8.2. h5py 3.10.0. igraph 0.11.4. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.2. llvmlite 0.42.0. matplotlib 3.8.3. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numpy 1.26.4. packaging 23.2. pandas 2.2.1. psutil 5.9.8. pyparsing 3.1.1. pytz 2024.1. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.1.post1. texttable 1.7.0. threadpoolctl 3.3.0. typing_extensions NA. wcwidth 0.2.13. -----. Python 3.12.2 | packaged by conda-forge | (main, Feb 16 2024, 20:50:58) [GCC 12.3.0]. Linux-5.4.0-165-generic-x86_64-with-glibc2.31. -----. Session information updated at 2024-03-05 10:07. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:2801,modifiability,pac,packaged,2801,". It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, in filter_genes. X if min_cells is None and max_cells is None else X > 0, axis=0. ^^^^^. TypeError: '>' not supported between instances of 'CSRDataset' and 'int'. ```. ### Versions. <details>. ```. Matplotlib is building the font cache; this may take a moment. -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 10.2.0. colorama 0.4.6. cycler 0.12.1. cython_runtime NA. dateutil 2.8.2. h5py 3.10.0. igraph 0.11.4. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.2. llvmlite 0.42.0. matplotlib 3.8.3. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numpy 1.26.4. packaging 23.2. pandas 2.2.1. psutil 5.9.8. pyparsing 3.1.1. pytz 2024.1. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.1.post1. texttable 1.7.0. threadpoolctl 3.3.0. typing_extensions NA. wcwidth 0.2.13. -----. Python 3.12.2 | packaged by conda-forge | (main, Feb 16 2024, 20:50:58) [GCC 12.3.0]. Linux-5.4.0-165-generic-x86_64-with-glibc2.31. -----. Session information updated at 2024-03-05 10:07. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:7,performance,Memor,Memory,7,"Out of Memory filtering returns TypeError; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Hi! I am new to scanpy and I am facing some trouble reading my data in an appropriate way. I noticed that anndata objects in memory require roughly 4x the space they require on disk, so working with large datasets (>50GB on disk) is prohibitive in most scenarios. The USP of h5 files, however, is that you can index and slice them on disk as if they were in memory. This way I could greatly reduce the data size before loading it into memory. However, when I attempt to filter on a backed anndata object, I encounter a TypeError. The case of gene filtering should be just a column-sum, comparing it against a threshold and then saving it as a boolean index mask. It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, i",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:454,performance,memor,memory,454,"Out of Memory filtering returns TypeError; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Hi! I am new to scanpy and I am facing some trouble reading my data in an appropriate way. I noticed that anndata objects in memory require roughly 4x the space they require on disk, so working with large datasets (>50GB on disk) is prohibitive in most scenarios. The USP of h5 files, however, is that you can index and slice them on disk as if they were in memory. This way I could greatly reduce the data size before loading it into memory. However, when I attempt to filter on a backed anndata object, I encounter a TypeError. The case of gene filtering should be just a column-sum, comparing it against a threshold and then saving it as a boolean index mask. It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, i",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:506,performance,disk,disk,506,"Out of Memory filtering returns TypeError; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Hi! I am new to scanpy and I am facing some trouble reading my data in an appropriate way. I noticed that anndata objects in memory require roughly 4x the space they require on disk, so working with large datasets (>50GB on disk) is prohibitive in most scenarios. The USP of h5 files, however, is that you can index and slice them on disk as if they were in memory. This way I could greatly reduce the data size before loading it into memory. However, when I attempt to filter on a backed anndata object, I encounter a TypeError. The case of gene filtering should be just a column-sum, comparing it against a threshold and then saving it as a boolean index mask. It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, i",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:553,performance,disk,disk,553,"Out of Memory filtering returns TypeError; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Hi! I am new to scanpy and I am facing some trouble reading my data in an appropriate way. I noticed that anndata objects in memory require roughly 4x the space they require on disk, so working with large datasets (>50GB on disk) is prohibitive in most scenarios. The USP of h5 files, however, is that you can index and slice them on disk as if they were in memory. This way I could greatly reduce the data size before loading it into memory. However, when I attempt to filter on a backed anndata object, I encounter a TypeError. The case of gene filtering should be just a column-sum, comparing it against a threshold and then saving it as a boolean index mask. It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, i",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:663,performance,disk,disk,663,"Out of Memory filtering returns TypeError; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Hi! I am new to scanpy and I am facing some trouble reading my data in an appropriate way. I noticed that anndata objects in memory require roughly 4x the space they require on disk, so working with large datasets (>50GB on disk) is prohibitive in most scenarios. The USP of h5 files, however, is that you can index and slice them on disk as if they were in memory. This way I could greatly reduce the data size before loading it into memory. However, when I attempt to filter on a backed anndata object, I encounter a TypeError. The case of gene filtering should be just a column-sum, comparing it against a threshold and then saving it as a boolean index mask. It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, i",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:687,performance,memor,memory,687,"Out of Memory filtering returns TypeError; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Hi! I am new to scanpy and I am facing some trouble reading my data in an appropriate way. I noticed that anndata objects in memory require roughly 4x the space they require on disk, so working with large datasets (>50GB on disk) is prohibitive in most scenarios. The USP of h5 files, however, is that you can index and slice them on disk as if they were in memory. This way I could greatly reduce the data size before loading it into memory. However, when I attempt to filter on a backed anndata object, I encounter a TypeError. The case of gene filtering should be just a column-sum, comparing it against a threshold and then saving it as a boolean index mask. It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, i",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:748,performance,load,loading,748,"Out of Memory filtering returns TypeError; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Hi! I am new to scanpy and I am facing some trouble reading my data in an appropriate way. I noticed that anndata objects in memory require roughly 4x the space they require on disk, so working with large datasets (>50GB on disk) is prohibitive in most scenarios. The USP of h5 files, however, is that you can index and slice them on disk as if they were in memory. This way I could greatly reduce the data size before loading it into memory. However, when I attempt to filter on a backed anndata object, I encounter a TypeError. The case of gene filtering should be just a column-sum, comparing it against a threshold and then saving it as a boolean index mask. It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, i",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:764,performance,memor,memory,764,"Out of Memory filtering returns TypeError; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Hi! I am new to scanpy and I am facing some trouble reading my data in an appropriate way. I noticed that anndata objects in memory require roughly 4x the space they require on disk, so working with large datasets (>50GB on disk) is prohibitive in most scenarios. The USP of h5 files, however, is that you can index and slice them on disk as if they were in memory. This way I could greatly reduce the data size before loading it into memory. However, when I attempt to filter on a backed anndata object, I encounter a TypeError. The case of gene filtering should be just a column-sum, comparing it against a threshold and then saving it as a boolean index mask. It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, i",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:1050,performance,memor,memory,1050," make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Hi! I am new to scanpy and I am facing some trouble reading my data in an appropriate way. I noticed that anndata objects in memory require roughly 4x the space they require on disk, so working with large datasets (>50GB on disk) is prohibitive in most scenarios. The USP of h5 files, however, is that you can index and slice them on disk as if they were in memory. This way I could greatly reduce the data size before loading it into memory. However, when I attempt to filter on a backed anndata object, I encounter a TypeError. The case of gene filtering should be just a column-sum, comparing it against a threshold and then saving it as a boolean index mask. It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, in filter_genes. X if min_cells is None and max_cells ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:1580,performance,Error,Error,1580,"cenarios. The USP of h5 files, however, is that you can index and slice them on disk as if they were in memory. This way I could greatly reduce the data size before loading it into memory. However, when I attempt to filter on a backed anndata object, I encounter a TypeError. The case of gene filtering should be just a column-sum, comparing it against a threshold and then saving it as a boolean index mask. It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, in filter_genes. X if min_cells is None and max_cells is None else X > 0, axis=0. ^^^^^. TypeError: '>' not supported between instances of 'CSRDataset' and 'int'. ```. ### Versions. <details>. ```. Matplotlib is building the font cache; this may take a moment. -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 10.2.0. colorama 0.4.6. cycler 0.12.1. cython_runtime NA. dateutil 2.8.2. h5py 3.10.0. igraph 0.11.4. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.2. llvmlite 0.42.0. matplotlib 3.8.3. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numpy 1.26.4. packaging 23.2. pandas",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:2229,performance,cach,cache,2229,". It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, in filter_genes. X if min_cells is None and max_cells is None else X > 0, axis=0. ^^^^^. TypeError: '>' not supported between instances of 'CSRDataset' and 'int'. ```. ### Versions. <details>. ```. Matplotlib is building the font cache; this may take a moment. -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 10.2.0. colorama 0.4.6. cycler 0.12.1. cython_runtime NA. dateutil 2.8.2. h5py 3.10.0. igraph 0.11.4. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.2. llvmlite 0.42.0. matplotlib 3.8.3. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numpy 1.26.4. packaging 23.2. pandas 2.2.1. psutil 5.9.8. pyparsing 3.1.1. pytz 2024.1. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.1.post1. texttable 1.7.0. threadpoolctl 3.3.0. typing_extensions NA. wcwidth 0.2.13. -----. Python 3.12.2 | packaged by conda-forge | (main, Feb 16 2024, 20:50:58) [GCC 12.3.0]. Linux-5.4.0-165-generic-x86_64-with-glibc2.31. -----. Session information updated at 2024-03-05 10:07. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:649,reliability,sli,slice,649,"Out of Memory filtering returns TypeError; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Hi! I am new to scanpy and I am facing some trouble reading my data in an appropriate way. I noticed that anndata objects in memory require roughly 4x the space they require on disk, so working with large datasets (>50GB on disk) is prohibitive in most scenarios. The USP of h5 files, however, is that you can index and slice them on disk as if they were in memory. This way I could greatly reduce the data size before loading it into memory. However, when I attempt to filter on a backed anndata object, I encounter a TypeError. The case of gene filtering should be just a column-sum, comparing it against a threshold and then saving it as a boolean index mask. It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, i",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:1440,safety,test,testfile,1440,"bjects in memory require roughly 4x the space they require on disk, so working with large datasets (>50GB on disk) is prohibitive in most scenarios. The USP of h5 files, however, is that you can index and slice them on disk as if they were in memory. This way I could greatly reduce the data size before loading it into memory. However, when I attempt to filter on a backed anndata object, I encounter a TypeError. The case of gene filtering should be just a column-sum, comparing it against a threshold and then saving it as a boolean index mask. It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, in filter_genes. X if min_cells is None and max_cells is None else X > 0, axis=0. ^^^^^. TypeError: '>' not supported between instances of 'CSRDataset' and 'int'. ```. ### Versions. <details>. ```. Matplotlib is building the font cache; this may take a moment. -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 10.2.0. colorama 0.4.6. cycler 0.12.1. cython_runtime NA. dateutil 2.8.2. h5py 3.10.0. igraph 0.11.4. joblib 1.3.2. kiwisolver 1.4",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:1580,safety,Error,Error,1580,"cenarios. The USP of h5 files, however, is that you can index and slice them on disk as if they were in memory. This way I could greatly reduce the data size before loading it into memory. However, when I attempt to filter on a backed anndata object, I encounter a TypeError. The case of gene filtering should be just a column-sum, comparing it against a threshold and then saving it as a boolean index mask. It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, in filter_genes. X if min_cells is None and max_cells is None else X > 0, axis=0. ^^^^^. TypeError: '>' not supported between instances of 'CSRDataset' and 'int'. ```. ### Versions. <details>. ```. Matplotlib is building the font cache; this may take a moment. -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 10.2.0. colorama 0.4.6. cycler 0.12.1. cython_runtime NA. dateutil 2.8.2. h5py 3.10.0. igraph 0.11.4. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.2. llvmlite 0.42.0. matplotlib 3.8.3. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numpy 1.26.4. packaging 23.2. pandas",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:1688,safety,modul,module,1688,"ry. This way I could greatly reduce the data size before loading it into memory. However, when I attempt to filter on a backed anndata object, I encounter a TypeError. The case of gene filtering should be just a column-sum, comparing it against a threshold and then saving it as a boolean index mask. It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, in filter_genes. X if min_cells is None and max_cells is None else X > 0, axis=0. ^^^^^. TypeError: '>' not supported between instances of 'CSRDataset' and 'int'. ```. ### Versions. <details>. ```. Matplotlib is building the font cache; this may take a moment. -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 10.2.0. colorama 0.4.6. cycler 0.12.1. cython_runtime NA. dateutil 2.8.2. h5py 3.10.0. igraph 0.11.4. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.2. llvmlite 0.42.0. matplotlib 3.8.3. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numpy 1.26.4. packaging 23.2. pandas 2.2.1. psutil 5.9.8. pyparsing 3.1.1. pytz 2024.1. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:2945,safety,updat,updated,2945,". It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, in filter_genes. X if min_cells is None and max_cells is None else X > 0, axis=0. ^^^^^. TypeError: '>' not supported between instances of 'CSRDataset' and 'int'. ```. ### Versions. <details>. ```. Matplotlib is building the font cache; this may take a moment. -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 10.2.0. colorama 0.4.6. cycler 0.12.1. cython_runtime NA. dateutil 2.8.2. h5py 3.10.0. igraph 0.11.4. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.2. llvmlite 0.42.0. matplotlib 3.8.3. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numpy 1.26.4. packaging 23.2. pandas 2.2.1. psutil 5.9.8. pyparsing 3.1.1. pytz 2024.1. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.1.post1. texttable 1.7.0. threadpoolctl 3.3.0. typing_extensions NA. wcwidth 0.2.13. -----. Python 3.12.2 | packaged by conda-forge | (main, Feb 16 2024, 20:50:58) [GCC 12.3.0]. Linux-5.4.0-165-generic-x86_64-with-glibc2.31. -----. Session information updated at 2024-03-05 10:07. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:2925,security,Session,Session,2925,". It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, in filter_genes. X if min_cells is None and max_cells is None else X > 0, axis=0. ^^^^^. TypeError: '>' not supported between instances of 'CSRDataset' and 'int'. ```. ### Versions. <details>. ```. Matplotlib is building the font cache; this may take a moment. -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 10.2.0. colorama 0.4.6. cycler 0.12.1. cython_runtime NA. dateutil 2.8.2. h5py 3.10.0. igraph 0.11.4. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.2. llvmlite 0.42.0. matplotlib 3.8.3. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numpy 1.26.4. packaging 23.2. pandas 2.2.1. psutil 5.9.8. pyparsing 3.1.1. pytz 2024.1. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.1.post1. texttable 1.7.0. threadpoolctl 3.3.0. typing_extensions NA. wcwidth 0.2.13. -----. Python 3.12.2 | packaged by conda-forge | (main, Feb 16 2024, 20:50:58) [GCC 12.3.0]. Linux-5.4.0-165-generic-x86_64-with-glibc2.31. -----. Session information updated at 2024-03-05 10:07. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:2945,security,updat,updated,2945,". It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, in filter_genes. X if min_cells is None and max_cells is None else X > 0, axis=0. ^^^^^. TypeError: '>' not supported between instances of 'CSRDataset' and 'int'. ```. ### Versions. <details>. ```. Matplotlib is building the font cache; this may take a moment. -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 10.2.0. colorama 0.4.6. cycler 0.12.1. cython_runtime NA. dateutil 2.8.2. h5py 3.10.0. igraph 0.11.4. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.2. llvmlite 0.42.0. matplotlib 3.8.3. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numpy 1.26.4. packaging 23.2. pandas 2.2.1. psutil 5.9.8. pyparsing 3.1.1. pytz 2024.1. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.1.post1. texttable 1.7.0. threadpoolctl 3.3.0. typing_extensions NA. wcwidth 0.2.13. -----. Python 3.12.2 | packaged by conda-forge | (main, Feb 16 2024, 20:50:58) [GCC 12.3.0]. Linux-5.4.0-165-generic-x86_64-with-glibc2.31. -----. Session information updated at 2024-03-05 10:07. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:1158,testability,simpl,simply,1158,"X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Hi! I am new to scanpy and I am facing some trouble reading my data in an appropriate way. I noticed that anndata objects in memory require roughly 4x the space they require on disk, so working with large datasets (>50GB on disk) is prohibitive in most scenarios. The USP of h5 files, however, is that you can index and slice them on disk as if they were in memory. This way I could greatly reduce the data size before loading it into memory. However, when I attempt to filter on a backed anndata object, I encounter a TypeError. The case of gene filtering should be just a column-sum, comparing it against a threshold and then saving it as a boolean index mask. It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, in filter_genes. X if min_cells is None and max_cells is None else X > 0, axis=0. ^^^^^. TypeError: '>' not supported between instances of 'CSRDataset' and 'int'.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:1440,testability,test,testfile,1440,"bjects in memory require roughly 4x the space they require on disk, so working with large datasets (>50GB on disk) is prohibitive in most scenarios. The USP of h5 files, however, is that you can index and slice them on disk as if they were in memory. This way I could greatly reduce the data size before loading it into memory. However, when I attempt to filter on a backed anndata object, I encounter a TypeError. The case of gene filtering should be just a column-sum, comparing it against a threshold and then saving it as a boolean index mask. It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, in filter_genes. X if min_cells is None and max_cells is None else X > 0, axis=0. ^^^^^. TypeError: '>' not supported between instances of 'CSRDataset' and 'int'. ```. ### Versions. <details>. ```. Matplotlib is building the font cache; this may take a moment. -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 10.2.0. colorama 0.4.6. cycler 0.12.1. cython_runtime NA. dateutil 2.8.2. h5py 3.10.0. igraph 0.11.4. joblib 1.3.2. kiwisolver 1.4",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:1603,testability,Trace,Traceback,1603,"iles, however, is that you can index and slice them on disk as if they were in memory. This way I could greatly reduce the data size before loading it into memory. However, when I attempt to filter on a backed anndata object, I encounter a TypeError. The case of gene filtering should be just a column-sum, comparing it against a threshold and then saving it as a boolean index mask. It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, in filter_genes. X if min_cells is None and max_cells is None else X > 0, axis=0. ^^^^^. TypeError: '>' not supported between instances of 'CSRDataset' and 'int'. ```. ### Versions. <details>. ```. Matplotlib is building the font cache; this may take a moment. -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 10.2.0. colorama 0.4.6. cycler 0.12.1. cython_runtime NA. dateutil 2.8.2. h5py 3.10.0. igraph 0.11.4. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.2. llvmlite 0.42.0. matplotlib 3.8.3. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numpy 1.26.4. packaging 23.2. pandas 2.2.1. psutil 5.9.8. pyp",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:7,usability,Memor,Memory,7,"Out of Memory filtering returns TypeError; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Hi! I am new to scanpy and I am facing some trouble reading my data in an appropriate way. I noticed that anndata objects in memory require roughly 4x the space they require on disk, so working with large datasets (>50GB on disk) is prohibitive in most scenarios. The USP of h5 files, however, is that you can index and slice them on disk as if they were in memory. This way I could greatly reduce the data size before loading it into memory. However, when I attempt to filter on a backed anndata object, I encounter a TypeError. The case of gene filtering should be just a column-sum, comparing it against a threshold and then saving it as a boolean index mask. It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, i",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:171,usability,confirm,confirmed,171,"Out of Memory filtering returns TypeError; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Hi! I am new to scanpy and I am facing some trouble reading my data in an appropriate way. I noticed that anndata objects in memory require roughly 4x the space they require on disk, so working with large datasets (>50GB on disk) is prohibitive in most scenarios. The USP of h5 files, however, is that you can index and slice them on disk as if they were in memory. This way I could greatly reduce the data size before loading it into memory. However, when I attempt to filter on a backed anndata object, I encounter a TypeError. The case of gene filtering should be just a column-sum, comparing it against a threshold and then saving it as a boolean index mask. It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, i",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:254,usability,confirm,confirmed,254,"Out of Memory filtering returns TypeError; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Hi! I am new to scanpy and I am facing some trouble reading my data in an appropriate way. I noticed that anndata objects in memory require roughly 4x the space they require on disk, so working with large datasets (>50GB on disk) is prohibitive in most scenarios. The USP of h5 files, however, is that you can index and slice them on disk as if they were in memory. This way I could greatly reduce the data size before loading it into memory. However, when I attempt to filter on a backed anndata object, I encounter a TypeError. The case of gene filtering should be just a column-sum, comparing it against a threshold and then saving it as a boolean index mask. It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, i",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:454,usability,memor,memory,454,"Out of Memory filtering returns TypeError; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Hi! I am new to scanpy and I am facing some trouble reading my data in an appropriate way. I noticed that anndata objects in memory require roughly 4x the space they require on disk, so working with large datasets (>50GB on disk) is prohibitive in most scenarios. The USP of h5 files, however, is that you can index and slice them on disk as if they were in memory. This way I could greatly reduce the data size before loading it into memory. However, when I attempt to filter on a backed anndata object, I encounter a TypeError. The case of gene filtering should be just a column-sum, comparing it against a threshold and then saving it as a boolean index mask. It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, i",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:687,usability,memor,memory,687,"Out of Memory filtering returns TypeError; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Hi! I am new to scanpy and I am facing some trouble reading my data in an appropriate way. I noticed that anndata objects in memory require roughly 4x the space they require on disk, so working with large datasets (>50GB on disk) is prohibitive in most scenarios. The USP of h5 files, however, is that you can index and slice them on disk as if they were in memory. This way I could greatly reduce the data size before loading it into memory. However, when I attempt to filter on a backed anndata object, I encounter a TypeError. The case of gene filtering should be just a column-sum, comparing it against a threshold and then saving it as a boolean index mask. It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, i",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:764,usability,memor,memory,764,"Out of Memory filtering returns TypeError; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Hi! I am new to scanpy and I am facing some trouble reading my data in an appropriate way. I noticed that anndata objects in memory require roughly 4x the space they require on disk, so working with large datasets (>50GB on disk) is prohibitive in most scenarios. The USP of h5 files, however, is that you can index and slice them on disk as if they were in memory. This way I could greatly reduce the data size before loading it into memory. However, when I attempt to filter on a backed anndata object, I encounter a TypeError. The case of gene filtering should be just a column-sum, comparing it against a threshold and then saving it as a boolean index mask. It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, i",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:1050,usability,memor,memory,1050," make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Hi! I am new to scanpy and I am facing some trouble reading my data in an appropriate way. I noticed that anndata objects in memory require roughly 4x the space they require on disk, so working with large datasets (>50GB on disk) is prohibitive in most scenarios. The USP of h5 files, however, is that you can index and slice them on disk as if they were in memory. This way I could greatly reduce the data size before loading it into memory. However, when I attempt to filter on a backed anndata object, I encounter a TypeError. The case of gene filtering should be just a column-sum, comparing it against a threshold and then saving it as a boolean index mask. It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, in filter_genes. X if min_cells is None and max_cells ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:1158,usability,simpl,simply,1158,"X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Hi! I am new to scanpy and I am facing some trouble reading my data in an appropriate way. I noticed that anndata objects in memory require roughly 4x the space they require on disk, so working with large datasets (>50GB on disk) is prohibitive in most scenarios. The USP of h5 files, however, is that you can index and slice them on disk as if they were in memory. This way I could greatly reduce the data size before loading it into memory. However, when I attempt to filter on a backed anndata object, I encounter a TypeError. The case of gene filtering should be just a column-sum, comparing it against a threshold and then saving it as a boolean index mask. It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, in filter_genes. X if min_cells is None and max_cells is None else X > 0, axis=0. ^^^^^. TypeError: '>' not supported between instances of 'CSRDataset' and 'int'.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:1193,usability,Minim,Minimal,1193,"on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Hi! I am new to scanpy and I am facing some trouble reading my data in an appropriate way. I noticed that anndata objects in memory require roughly 4x the space they require on disk, so working with large datasets (>50GB on disk) is prohibitive in most scenarios. The USP of h5 files, however, is that you can index and slice them on disk as if they were in memory. This way I could greatly reduce the data size before loading it into memory. However, when I attempt to filter on a backed anndata object, I encounter a TypeError. The case of gene filtering should be just a column-sum, comparing it against a threshold and then saving it as a boolean index mask. It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, in filter_genes. X if min_cells is None and max_cells is None else X > 0, axis=0. ^^^^^. TypeError: '>' not supported between instances of 'CSRDataset' and 'int'. ```. ### Versions. <details>. ```. ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:1580,usability,Error,Error,1580,"cenarios. The USP of h5 files, however, is that you can index and slice them on disk as if they were in memory. This way I could greatly reduce the data size before loading it into memory. However, when I attempt to filter on a backed anndata object, I encounter a TypeError. The case of gene filtering should be just a column-sum, comparing it against a threshold and then saving it as a boolean index mask. It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, in filter_genes. X if min_cells is None and max_cells is None else X > 0, axis=0. ^^^^^. TypeError: '>' not supported between instances of 'CSRDataset' and 'int'. ```. ### Versions. <details>. ```. Matplotlib is building the font cache; this may take a moment. -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 10.2.0. colorama 0.4.6. cycler 0.12.1. cython_runtime NA. dateutil 2.8.2. h5py 3.10.0. igraph 0.11.4. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.2. llvmlite 0.42.0. matplotlib 3.8.3. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numpy 1.26.4. packaging 23.2. pandas",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2894:2107,usability,support,supported,2107,". It seems like the case that the data is backed and not in memory - which should be the default when dealing with h5 files - is not considered in the scanpy API. Am I simply missing something here? ### Minimal code sample. ```python. from urllib.request import urlretrieve. import scanpy as sc. # We are downloading a small dataset here, 43MB. url = ""https://datasets.cellxgene.cziscience.com/7fb8b010-50bd-4238-a466-7c598f16d061.h5ad"". filename = ""testfile.h5ad"". urlretrieve(url, filename). adata = sc.read_h5ad(filename, backed=""r+""). sc.pp.filter_genes(adata, min_cells=100). ```. ### Error output. ```pytb. Traceback (most recent call last):. File ""/home/ubuntu/test_scanpy.py"", line 11, in <module>. sc.pp.filter_genes(adata, min_cells=100). File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 237, in filter_genes. filter_genes(. File ""/mnt/storage/anaconda3/envs/scanpy/lib/python3.12/site-packages/scanpy/preprocessing/_simple.py"", line 258, in filter_genes. X if min_cells is None and max_cells is None else X > 0, axis=0. ^^^^^. TypeError: '>' not supported between instances of 'CSRDataset' and 'int'. ```. ### Versions. <details>. ```. Matplotlib is building the font cache; this may take a moment. -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 10.2.0. colorama 0.4.6. cycler 0.12.1. cython_runtime NA. dateutil 2.8.2. h5py 3.10.0. igraph 0.11.4. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.2. llvmlite 0.42.0. matplotlib 3.8.3. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numpy 1.26.4. packaging 23.2. pandas 2.2.1. psutil 5.9.8. pyparsing 3.1.1. pytz 2024.1. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.1.post1. texttable 1.7.0. threadpoolctl 3.3.0. typing_extensions NA. wcwidth 0.2.13. -----. Python 3.12.2 | packaged by conda-forge | (main, Feb 16 2024, 20:50:58) [GCC 12.3.0]. Linux-5.4.0-165-generic-x86_64-with-glibc2.31. -----. Session information updated at 2024-03-05 10:07. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2894
https://github.com/scverse/scanpy/issues/2895:102,availability,cluster,clustering,102,"TCR and BCR genes and HVGs selection; Hello world! I've read in many papers that when performing a re-clustering of some populations, like T cells or B cells, prior to the step of integration and so on, they re-calculate the HVGs but excluding the TCR- or BCR-related genes, because they are donor-specific, especially when talking about BCR. Can you help me how to remove the TCR- or BCR-related genes before computing the HVGs selection, but without removing them from the .var of the anndata, since I want to evaluate their expression during the step of cell annotation? The code that I use to calculate the HVGs is the following:. sc.pp.highly_variable_genes(adata,. n_top_genes = 4000, flavor = ""seurat_v3"",. layer = ""raw"", batch_key = 'sample_id',. subset = False). Thanks a lot! Paolo",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2895
https://github.com/scverse/scanpy/issues/2895:102,deployability,cluster,clustering,102,"TCR and BCR genes and HVGs selection; Hello world! I've read in many papers that when performing a re-clustering of some populations, like T cells or B cells, prior to the step of integration and so on, they re-calculate the HVGs but excluding the TCR- or BCR-related genes, because they are donor-specific, especially when talking about BCR. Can you help me how to remove the TCR- or BCR-related genes before computing the HVGs selection, but without removing them from the .var of the anndata, since I want to evaluate their expression during the step of cell annotation? The code that I use to calculate the HVGs is the following:. sc.pp.highly_variable_genes(adata,. n_top_genes = 4000, flavor = ""seurat_v3"",. layer = ""raw"", batch_key = 'sample_id',. subset = False). Thanks a lot! Paolo",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2895
https://github.com/scverse/scanpy/issues/2895:180,deployability,integr,integration,180,"TCR and BCR genes and HVGs selection; Hello world! I've read in many papers that when performing a re-clustering of some populations, like T cells or B cells, prior to the step of integration and so on, they re-calculate the HVGs but excluding the TCR- or BCR-related genes, because they are donor-specific, especially when talking about BCR. Can you help me how to remove the TCR- or BCR-related genes before computing the HVGs selection, but without removing them from the .var of the anndata, since I want to evaluate their expression during the step of cell annotation? The code that I use to calculate the HVGs is the following:. sc.pp.highly_variable_genes(adata,. n_top_genes = 4000, flavor = ""seurat_v3"",. layer = ""raw"", batch_key = 'sample_id',. subset = False). Thanks a lot! Paolo",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2895
https://github.com/scverse/scanpy/issues/2895:180,integrability,integr,integration,180,"TCR and BCR genes and HVGs selection; Hello world! I've read in many papers that when performing a re-clustering of some populations, like T cells or B cells, prior to the step of integration and so on, they re-calculate the HVGs but excluding the TCR- or BCR-related genes, because they are donor-specific, especially when talking about BCR. Can you help me how to remove the TCR- or BCR-related genes before computing the HVGs selection, but without removing them from the .var of the anndata, since I want to evaluate their expression during the step of cell annotation? The code that I use to calculate the HVGs is the following:. sc.pp.highly_variable_genes(adata,. n_top_genes = 4000, flavor = ""seurat_v3"",. layer = ""raw"", batch_key = 'sample_id',. subset = False). Thanks a lot! Paolo",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2895
https://github.com/scverse/scanpy/issues/2895:755,integrability,sub,subset,755,"TCR and BCR genes and HVGs selection; Hello world! I've read in many papers that when performing a re-clustering of some populations, like T cells or B cells, prior to the step of integration and so on, they re-calculate the HVGs but excluding the TCR- or BCR-related genes, because they are donor-specific, especially when talking about BCR. Can you help me how to remove the TCR- or BCR-related genes before computing the HVGs selection, but without removing them from the .var of the anndata, since I want to evaluate their expression during the step of cell annotation? The code that I use to calculate the HVGs is the following:. sc.pp.highly_variable_genes(adata,. n_top_genes = 4000, flavor = ""seurat_v3"",. layer = ""raw"", batch_key = 'sample_id',. subset = False). Thanks a lot! Paolo",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2895
https://github.com/scverse/scanpy/issues/2895:180,interoperability,integr,integration,180,"TCR and BCR genes and HVGs selection; Hello world! I've read in many papers that when performing a re-clustering of some populations, like T cells or B cells, prior to the step of integration and so on, they re-calculate the HVGs but excluding the TCR- or BCR-related genes, because they are donor-specific, especially when talking about BCR. Can you help me how to remove the TCR- or BCR-related genes before computing the HVGs selection, but without removing them from the .var of the anndata, since I want to evaluate their expression during the step of cell annotation? The code that I use to calculate the HVGs is the following:. sc.pp.highly_variable_genes(adata,. n_top_genes = 4000, flavor = ""seurat_v3"",. layer = ""raw"", batch_key = 'sample_id',. subset = False). Thanks a lot! Paolo",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2895
https://github.com/scverse/scanpy/issues/2895:298,interoperability,specif,specific,298,"TCR and BCR genes and HVGs selection; Hello world! I've read in many papers that when performing a re-clustering of some populations, like T cells or B cells, prior to the step of integration and so on, they re-calculate the HVGs but excluding the TCR- or BCR-related genes, because they are donor-specific, especially when talking about BCR. Can you help me how to remove the TCR- or BCR-related genes before computing the HVGs selection, but without removing them from the .var of the anndata, since I want to evaluate their expression during the step of cell annotation? The code that I use to calculate the HVGs is the following:. sc.pp.highly_variable_genes(adata,. n_top_genes = 4000, flavor = ""seurat_v3"",. layer = ""raw"", batch_key = 'sample_id',. subset = False). Thanks a lot! Paolo",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2895
https://github.com/scverse/scanpy/issues/2895:180,modifiability,integr,integration,180,"TCR and BCR genes and HVGs selection; Hello world! I've read in many papers that when performing a re-clustering of some populations, like T cells or B cells, prior to the step of integration and so on, they re-calculate the HVGs but excluding the TCR- or BCR-related genes, because they are donor-specific, especially when talking about BCR. Can you help me how to remove the TCR- or BCR-related genes before computing the HVGs selection, but without removing them from the .var of the anndata, since I want to evaluate their expression during the step of cell annotation? The code that I use to calculate the HVGs is the following:. sc.pp.highly_variable_genes(adata,. n_top_genes = 4000, flavor = ""seurat_v3"",. layer = ""raw"", batch_key = 'sample_id',. subset = False). Thanks a lot! Paolo",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2895
https://github.com/scverse/scanpy/issues/2895:714,modifiability,layer,layer,714,"TCR and BCR genes and HVGs selection; Hello world! I've read in many papers that when performing a re-clustering of some populations, like T cells or B cells, prior to the step of integration and so on, they re-calculate the HVGs but excluding the TCR- or BCR-related genes, because they are donor-specific, especially when talking about BCR. Can you help me how to remove the TCR- or BCR-related genes before computing the HVGs selection, but without removing them from the .var of the anndata, since I want to evaluate their expression during the step of cell annotation? The code that I use to calculate the HVGs is the following:. sc.pp.highly_variable_genes(adata,. n_top_genes = 4000, flavor = ""seurat_v3"",. layer = ""raw"", batch_key = 'sample_id',. subset = False). Thanks a lot! Paolo",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2895
https://github.com/scverse/scanpy/issues/2895:86,performance,perform,performing,86,"TCR and BCR genes and HVGs selection; Hello world! I've read in many papers that when performing a re-clustering of some populations, like T cells or B cells, prior to the step of integration and so on, they re-calculate the HVGs but excluding the TCR- or BCR-related genes, because they are donor-specific, especially when talking about BCR. Can you help me how to remove the TCR- or BCR-related genes before computing the HVGs selection, but without removing them from the .var of the anndata, since I want to evaluate their expression during the step of cell annotation? The code that I use to calculate the HVGs is the following:. sc.pp.highly_variable_genes(adata,. n_top_genes = 4000, flavor = ""seurat_v3"",. layer = ""raw"", batch_key = 'sample_id',. subset = False). Thanks a lot! Paolo",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2895
https://github.com/scverse/scanpy/issues/2895:180,reliability,integr,integration,180,"TCR and BCR genes and HVGs selection; Hello world! I've read in many papers that when performing a re-clustering of some populations, like T cells or B cells, prior to the step of integration and so on, they re-calculate the HVGs but excluding the TCR- or BCR-related genes, because they are donor-specific, especially when talking about BCR. Can you help me how to remove the TCR- or BCR-related genes before computing the HVGs selection, but without removing them from the .var of the anndata, since I want to evaluate their expression during the step of cell annotation? The code that I use to calculate the HVGs is the following:. sc.pp.highly_variable_genes(adata,. n_top_genes = 4000, flavor = ""seurat_v3"",. layer = ""raw"", batch_key = 'sample_id',. subset = False). Thanks a lot! Paolo",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2895
https://github.com/scverse/scanpy/issues/2895:180,security,integr,integration,180,"TCR and BCR genes and HVGs selection; Hello world! I've read in many papers that when performing a re-clustering of some populations, like T cells or B cells, prior to the step of integration and so on, they re-calculate the HVGs but excluding the TCR- or BCR-related genes, because they are donor-specific, especially when talking about BCR. Can you help me how to remove the TCR- or BCR-related genes before computing the HVGs selection, but without removing them from the .var of the anndata, since I want to evaluate their expression during the step of cell annotation? The code that I use to calculate the HVGs is the following:. sc.pp.highly_variable_genes(adata,. n_top_genes = 4000, flavor = ""seurat_v3"",. layer = ""raw"", batch_key = 'sample_id',. subset = False). Thanks a lot! Paolo",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2895
https://github.com/scverse/scanpy/issues/2895:180,testability,integr,integration,180,"TCR and BCR genes and HVGs selection; Hello world! I've read in many papers that when performing a re-clustering of some populations, like T cells or B cells, prior to the step of integration and so on, they re-calculate the HVGs but excluding the TCR- or BCR-related genes, because they are donor-specific, especially when talking about BCR. Can you help me how to remove the TCR- or BCR-related genes before computing the HVGs selection, but without removing them from the .var of the anndata, since I want to evaluate their expression during the step of cell annotation? The code that I use to calculate the HVGs is the following:. sc.pp.highly_variable_genes(adata,. n_top_genes = 4000, flavor = ""seurat_v3"",. layer = ""raw"", batch_key = 'sample_id',. subset = False). Thanks a lot! Paolo",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2895
https://github.com/scverse/scanpy/issues/2895:86,usability,perform,performing,86,"TCR and BCR genes and HVGs selection; Hello world! I've read in many papers that when performing a re-clustering of some populations, like T cells or B cells, prior to the step of integration and so on, they re-calculate the HVGs but excluding the TCR- or BCR-related genes, because they are donor-specific, especially when talking about BCR. Can you help me how to remove the TCR- or BCR-related genes before computing the HVGs selection, but without removing them from the .var of the anndata, since I want to evaluate their expression during the step of cell annotation? The code that I use to calculate the HVGs is the following:. sc.pp.highly_variable_genes(adata,. n_top_genes = 4000, flavor = ""seurat_v3"",. layer = ""raw"", batch_key = 'sample_id',. subset = False). Thanks a lot! Paolo",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2895
https://github.com/scverse/scanpy/issues/2895:351,usability,help,help,351,"TCR and BCR genes and HVGs selection; Hello world! I've read in many papers that when performing a re-clustering of some populations, like T cells or B cells, prior to the step of integration and so on, they re-calculate the HVGs but excluding the TCR- or BCR-related genes, because they are donor-specific, especially when talking about BCR. Can you help me how to remove the TCR- or BCR-related genes before computing the HVGs selection, but without removing them from the .var of the anndata, since I want to evaluate their expression during the step of cell annotation? The code that I use to calculate the HVGs is the following:. sc.pp.highly_variable_genes(adata,. n_top_genes = 4000, flavor = ""seurat_v3"",. layer = ""raw"", batch_key = 'sample_id',. subset = False). Thanks a lot! Paolo",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2895
https://github.com/scverse/scanpy/pull/2896:144,safety,test,test,144,remove self for pynndescent; This removes `self` for `pynndescent` in `scrublet` and makes it reproducible for smaller datasets. I also added a test param that represent this. I also think this might help with larger datasets to remove self from the computation.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2896
https://github.com/scverse/scanpy/pull/2896:144,testability,test,test,144,remove self for pynndescent; This removes `self` for `pynndescent` in `scrublet` and makes it reproducible for smaller datasets. I also added a test param that represent this. I also think this might help with larger datasets to remove self from the computation.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2896
https://github.com/scverse/scanpy/pull/2896:200,usability,help,help,200,remove self for pynndescent; This removes `self` for `pynndescent` in `scrublet` and makes it reproducible for smaller datasets. I also added a test param that represent this. I also think this might help with larger datasets to remove self from the computation.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2896
https://github.com/scverse/scanpy/issues/2898:794,deployability,api,api,794,"Option to return sparse arrays from `sc.get.aggregate`; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. @Intron7, found a use case 😆. It could be nice for `sc.get.aggregate` to be able to return sparse matrices where we don't expect the aggregation to return very dense data. Previously discussed in:. * https://github.com/scverse/scanpy/issues/2892. Usecases include:. * Taking the `max` for multiple reports of a genes (`sc.get.aggregate(adata, ""probe_target"", ""max"")`, e.g. https://discourse.scverse.org/t/merging-identical-genes-from-10x-fixed-scrna/2142). * *(note: max is not currently implemented)*. * Small aggregations, e.g. only summing neighbors. This would require both api design choices for what the argument is called, and efficient implementations for both dense and sparse results (`python-graphblas` could be useful here)",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2898
https://github.com/scverse/scanpy/issues/2898:694,energy efficiency,current,currently,694,"Option to return sparse arrays from `sc.get.aggregate`; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. @Intron7, found a use case 😆. It could be nice for `sc.get.aggregate` to be able to return sparse matrices where we don't expect the aggregation to return very dense data. Previously discussed in:. * https://github.com/scverse/scanpy/issues/2892. Usecases include:. * Taking the `max` for multiple reports of a genes (`sc.get.aggregate(adata, ""probe_target"", ""max"")`, e.g. https://discourse.scverse.org/t/merging-identical-genes-from-10x-fixed-scrna/2142). * *(note: max is not currently implemented)*. * Small aggregations, e.g. only summing neighbors. This would require both api design choices for what the argument is called, and efficient implementations for both dense and sparse results (`python-graphblas` could be useful here)",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2898
https://github.com/scverse/scanpy/issues/2898:794,integrability,api,api,794,"Option to return sparse arrays from `sc.get.aggregate`; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. @Intron7, found a use case 😆. It could be nice for `sc.get.aggregate` to be able to return sparse matrices where we don't expect the aggregation to return very dense data. Previously discussed in:. * https://github.com/scverse/scanpy/issues/2892. Usecases include:. * Taking the `max` for multiple reports of a genes (`sc.get.aggregate(adata, ""probe_target"", ""max"")`, e.g. https://discourse.scverse.org/t/merging-identical-genes-from-10x-fixed-scrna/2142). * *(note: max is not currently implemented)*. * Small aggregations, e.g. only summing neighbors. This would require both api design choices for what the argument is called, and efficient implementations for both dense and sparse results (`python-graphblas` could be useful here)",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2898
https://github.com/scverse/scanpy/issues/2898:794,interoperability,api,api,794,"Option to return sparse arrays from `sc.get.aggregate`; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. @Intron7, found a use case 😆. It could be nice for `sc.get.aggregate` to be able to return sparse matrices where we don't expect the aggregation to return very dense data. Previously discussed in:. * https://github.com/scverse/scanpy/issues/2892. Usecases include:. * Taking the `max` for multiple reports of a genes (`sc.get.aggregate(adata, ""probe_target"", ""max"")`, e.g. https://discourse.scverse.org/t/merging-identical-genes-from-10x-fixed-scrna/2142). * *(note: max is not currently implemented)*. * Small aggregations, e.g. only summing neighbors. This would require both api design choices for what the argument is called, and efficient implementations for both dense and sparse results (`python-graphblas` could be useful here)",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2898
https://github.com/scverse/scanpy/issues/2898:128,modifiability,paramet,parameters,128,"Option to return sparse arrays from `sc.get.aggregate`; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. @Intron7, found a use case 😆. It could be nice for `sc.get.aggregate` to be able to return sparse matrices where we don't expect the aggregation to return very dense data. Previously discussed in:. * https://github.com/scverse/scanpy/issues/2892. Usecases include:. * Taking the `max` for multiple reports of a genes (`sc.get.aggregate(adata, ""probe_target"", ""max"")`, e.g. https://discourse.scverse.org/t/merging-identical-genes-from-10x-fixed-scrna/2142). * *(note: max is not currently implemented)*. * Small aggregations, e.g. only summing neighbors. This would require both api design choices for what the argument is called, and efficient implementations for both dense and sparse results (`python-graphblas` could be useful here)",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2898
https://github.com/scverse/scanpy/issues/2898:629,security,ident,identical-genes-from-,629,"Option to return sparse arrays from `sc.get.aggregate`; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. @Intron7, found a use case 😆. It could be nice for `sc.get.aggregate` to be able to return sparse matrices where we don't expect the aggregation to return very dense data. Previously discussed in:. * https://github.com/scverse/scanpy/issues/2892. Usecases include:. * Taking the `max` for multiple reports of a genes (`sc.get.aggregate(adata, ""probe_target"", ""max"")`, e.g. https://discourse.scverse.org/t/merging-identical-genes-from-10x-fixed-scrna/2142). * *(note: max is not currently implemented)*. * Small aggregations, e.g. only summing neighbors. This would require both api design choices for what the argument is called, and efficient implementations for both dense and sparse results (`python-graphblas` could be useful here)",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2898
https://github.com/scverse/scanpy/issues/2898:850,usability,efficien,efficient,850,"Option to return sparse arrays from `sc.get.aggregate`; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. @Intron7, found a use case 😆. It could be nice for `sc.get.aggregate` to be able to return sparse matrices where we don't expect the aggregation to return very dense data. Previously discussed in:. * https://github.com/scverse/scanpy/issues/2892. Usecases include:. * Taking the `max` for multiple reports of a genes (`sc.get.aggregate(adata, ""probe_target"", ""max"")`, e.g. https://discourse.scverse.org/t/merging-identical-genes-from-10x-fixed-scrna/2142). * *(note: max is not currently implemented)*. * Small aggregations, e.g. only summing neighbors. This would require both api design choices for what the argument is called, and efficient implementations for both dense and sparse results (`python-graphblas` could be useful here)",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2898
https://github.com/scverse/scanpy/issues/2899:724,availability,Error,Error,724,"pre-release: AttributeError: type object 'StackedViolin' has no attribute 'DEFAULT_SCALE'; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? ```. /opt/hostedtoolcache/Python/3.11.8/x64/lib/python3.11/site-packages/ehrapy/plot/_scanpy_pl_api.py:606: in <module>. scale: Literal[""area"", ""count"", ""width""] = StackedViolin.DEFAULT_SCALE,. E AttributeError: type object 'StackedViolin' has no attribute 'DEFAULT_SCALE'. ```. ### Minimal code sample. ```python. `import scanpy as sc`. ```. ### Error output. _No response_. ### Versions. Latest main -> pre-release",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2899
https://github.com/scverse/scanpy/issues/2899:4,deployability,releas,release,4,"pre-release: AttributeError: type object 'StackedViolin' has no attribute 'DEFAULT_SCALE'; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? ```. /opt/hostedtoolcache/Python/3.11.8/x64/lib/python3.11/site-packages/ehrapy/plot/_scanpy_pl_api.py:606: in <module>. scale: Literal[""area"", ""count"", ""width""] = StackedViolin.DEFAULT_SCALE,. E AttributeError: type object 'StackedViolin' has no attribute 'DEFAULT_SCALE'. ```. ### Minimal code sample. ```python. `import scanpy as sc`. ```. ### Error output. _No response_. ### Versions. Latest main -> pre-release",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2899
https://github.com/scverse/scanpy/issues/2899:42,deployability,Stack,StackedViolin,42,"pre-release: AttributeError: type object 'StackedViolin' has no attribute 'DEFAULT_SCALE'; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? ```. /opt/hostedtoolcache/Python/3.11.8/x64/lib/python3.11/site-packages/ehrapy/plot/_scanpy_pl_api.py:606: in <module>. scale: Literal[""area"", ""count"", ""width""] = StackedViolin.DEFAULT_SCALE,. E AttributeError: type object 'StackedViolin' has no attribute 'DEFAULT_SCALE'. ```. ### Minimal code sample. ```python. `import scanpy as sc`. ```. ### Error output. _No response_. ### Versions. Latest main -> pre-release",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2899
https://github.com/scverse/scanpy/issues/2899:259,deployability,version,version,259,"pre-release: AttributeError: type object 'StackedViolin' has no attribute 'DEFAULT_SCALE'; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? ```. /opt/hostedtoolcache/Python/3.11.8/x64/lib/python3.11/site-packages/ehrapy/plot/_scanpy_pl_api.py:606: in <module>. scale: Literal[""area"", ""count"", ""width""] = StackedViolin.DEFAULT_SCALE,. E AttributeError: type object 'StackedViolin' has no attribute 'DEFAULT_SCALE'. ```. ### Minimal code sample. ```python. `import scanpy as sc`. ```. ### Error output. _No response_. ### Versions. Latest main -> pre-release",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2899
https://github.com/scverse/scanpy/issues/2899:489,deployability,modul,module,489,"pre-release: AttributeError: type object 'StackedViolin' has no attribute 'DEFAULT_SCALE'; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? ```. /opt/hostedtoolcache/Python/3.11.8/x64/lib/python3.11/site-packages/ehrapy/plot/_scanpy_pl_api.py:606: in <module>. scale: Literal[""area"", ""count"", ""width""] = StackedViolin.DEFAULT_SCALE,. E AttributeError: type object 'StackedViolin' has no attribute 'DEFAULT_SCALE'. ```. ### Minimal code sample. ```python. `import scanpy as sc`. ```. ### Error output. _No response_. ### Versions. Latest main -> pre-release",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2899
https://github.com/scverse/scanpy/issues/2899:498,deployability,scale,scale,498,"pre-release: AttributeError: type object 'StackedViolin' has no attribute 'DEFAULT_SCALE'; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? ```. /opt/hostedtoolcache/Python/3.11.8/x64/lib/python3.11/site-packages/ehrapy/plot/_scanpy_pl_api.py:606: in <module>. scale: Literal[""area"", ""count"", ""width""] = StackedViolin.DEFAULT_SCALE,. E AttributeError: type object 'StackedViolin' has no attribute 'DEFAULT_SCALE'. ```. ### Minimal code sample. ```python. `import scanpy as sc`. ```. ### Error output. _No response_. ### Versions. Latest main -> pre-release",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2899
https://github.com/scverse/scanpy/issues/2899:541,deployability,Stack,StackedViolin,541,"pre-release: AttributeError: type object 'StackedViolin' has no attribute 'DEFAULT_SCALE'; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? ```. /opt/hostedtoolcache/Python/3.11.8/x64/lib/python3.11/site-packages/ehrapy/plot/_scanpy_pl_api.py:606: in <module>. scale: Literal[""area"", ""count"", ""width""] = StackedViolin.DEFAULT_SCALE,. E AttributeError: type object 'StackedViolin' has no attribute 'DEFAULT_SCALE'. ```. ### Minimal code sample. ```python. `import scanpy as sc`. ```. ### Error output. _No response_. ### Versions. Latest main -> pre-release",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2899
https://github.com/scverse/scanpy/issues/2899:602,deployability,Stack,StackedViolin,602,"pre-release: AttributeError: type object 'StackedViolin' has no attribute 'DEFAULT_SCALE'; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? ```. /opt/hostedtoolcache/Python/3.11.8/x64/lib/python3.11/site-packages/ehrapy/plot/_scanpy_pl_api.py:606: in <module>. scale: Literal[""area"", ""count"", ""width""] = StackedViolin.DEFAULT_SCALE,. E AttributeError: type object 'StackedViolin' has no attribute 'DEFAULT_SCALE'. ```. ### Minimal code sample. ```python. `import scanpy as sc`. ```. ### Error output. _No response_. ### Versions. Latest main -> pre-release",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2899
https://github.com/scverse/scanpy/issues/2899:757,deployability,Version,Versions,757,"pre-release: AttributeError: type object 'StackedViolin' has no attribute 'DEFAULT_SCALE'; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? ```. /opt/hostedtoolcache/Python/3.11.8/x64/lib/python3.11/site-packages/ehrapy/plot/_scanpy_pl_api.py:606: in <module>. scale: Literal[""area"", ""count"", ""width""] = StackedViolin.DEFAULT_SCALE,. E AttributeError: type object 'StackedViolin' has no attribute 'DEFAULT_SCALE'. ```. ### Minimal code sample. ```python. `import scanpy as sc`. ```. ### Error output. _No response_. ### Versions. Latest main -> pre-release",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2899
https://github.com/scverse/scanpy/issues/2899:786,deployability,releas,release,786,"pre-release: AttributeError: type object 'StackedViolin' has no attribute 'DEFAULT_SCALE'; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? ```. /opt/hostedtoolcache/Python/3.11.8/x64/lib/python3.11/site-packages/ehrapy/plot/_scanpy_pl_api.py:606: in <module>. scale: Literal[""area"", ""count"", ""width""] = StackedViolin.DEFAULT_SCALE,. E AttributeError: type object 'StackedViolin' has no attribute 'DEFAULT_SCALE'. ```. ### Minimal code sample. ```python. `import scanpy as sc`. ```. ### Error output. _No response_. ### Versions. Latest main -> pre-release",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2899
https://github.com/scverse/scanpy/issues/2899:498,energy efficiency,scale,scale,498,"pre-release: AttributeError: type object 'StackedViolin' has no attribute 'DEFAULT_SCALE'; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? ```. /opt/hostedtoolcache/Python/3.11.8/x64/lib/python3.11/site-packages/ehrapy/plot/_scanpy_pl_api.py:606: in <module>. scale: Literal[""area"", ""count"", ""width""] = StackedViolin.DEFAULT_SCALE,. E AttributeError: type object 'StackedViolin' has no attribute 'DEFAULT_SCALE'. ```. ### Minimal code sample. ```python. `import scanpy as sc`. ```. ### Error output. _No response_. ### Versions. Latest main -> pre-release",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2899
https://github.com/scverse/scanpy/issues/2899:259,integrability,version,version,259,"pre-release: AttributeError: type object 'StackedViolin' has no attribute 'DEFAULT_SCALE'; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? ```. /opt/hostedtoolcache/Python/3.11.8/x64/lib/python3.11/site-packages/ehrapy/plot/_scanpy_pl_api.py:606: in <module>. scale: Literal[""area"", ""count"", ""width""] = StackedViolin.DEFAULT_SCALE,. E AttributeError: type object 'StackedViolin' has no attribute 'DEFAULT_SCALE'. ```. ### Minimal code sample. ```python. `import scanpy as sc`. ```. ### Error output. _No response_. ### Versions. Latest main -> pre-release",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2899
https://github.com/scverse/scanpy/issues/2899:757,integrability,Version,Versions,757,"pre-release: AttributeError: type object 'StackedViolin' has no attribute 'DEFAULT_SCALE'; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? ```. /opt/hostedtoolcache/Python/3.11.8/x64/lib/python3.11/site-packages/ehrapy/plot/_scanpy_pl_api.py:606: in <module>. scale: Literal[""area"", ""count"", ""width""] = StackedViolin.DEFAULT_SCALE,. E AttributeError: type object 'StackedViolin' has no attribute 'DEFAULT_SCALE'. ```. ### Minimal code sample. ```python. `import scanpy as sc`. ```. ### Error output. _No response_. ### Versions. Latest main -> pre-release",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2899
https://github.com/scverse/scanpy/issues/2899:259,modifiability,version,version,259,"pre-release: AttributeError: type object 'StackedViolin' has no attribute 'DEFAULT_SCALE'; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? ```. /opt/hostedtoolcache/Python/3.11.8/x64/lib/python3.11/site-packages/ehrapy/plot/_scanpy_pl_api.py:606: in <module>. scale: Literal[""area"", ""count"", ""width""] = StackedViolin.DEFAULT_SCALE,. E AttributeError: type object 'StackedViolin' has no attribute 'DEFAULT_SCALE'. ```. ### Minimal code sample. ```python. `import scanpy as sc`. ```. ### Error output. _No response_. ### Versions. Latest main -> pre-release",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2899
https://github.com/scverse/scanpy/issues/2899:441,modifiability,pac,packages,441,"pre-release: AttributeError: type object 'StackedViolin' has no attribute 'DEFAULT_SCALE'; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? ```. /opt/hostedtoolcache/Python/3.11.8/x64/lib/python3.11/site-packages/ehrapy/plot/_scanpy_pl_api.py:606: in <module>. scale: Literal[""area"", ""count"", ""width""] = StackedViolin.DEFAULT_SCALE,. E AttributeError: type object 'StackedViolin' has no attribute 'DEFAULT_SCALE'. ```. ### Minimal code sample. ```python. `import scanpy as sc`. ```. ### Error output. _No response_. ### Versions. Latest main -> pre-release",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2899
https://github.com/scverse/scanpy/issues/2899:489,modifiability,modul,module,489,"pre-release: AttributeError: type object 'StackedViolin' has no attribute 'DEFAULT_SCALE'; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? ```. /opt/hostedtoolcache/Python/3.11.8/x64/lib/python3.11/site-packages/ehrapy/plot/_scanpy_pl_api.py:606: in <module>. scale: Literal[""area"", ""count"", ""width""] = StackedViolin.DEFAULT_SCALE,. E AttributeError: type object 'StackedViolin' has no attribute 'DEFAULT_SCALE'. ```. ### Minimal code sample. ```python. `import scanpy as sc`. ```. ### Error output. _No response_. ### Versions. Latest main -> pre-release",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2899
https://github.com/scverse/scanpy/issues/2899:498,modifiability,scal,scale,498,"pre-release: AttributeError: type object 'StackedViolin' has no attribute 'DEFAULT_SCALE'; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? ```. /opt/hostedtoolcache/Python/3.11.8/x64/lib/python3.11/site-packages/ehrapy/plot/_scanpy_pl_api.py:606: in <module>. scale: Literal[""area"", ""count"", ""width""] = StackedViolin.DEFAULT_SCALE,. E AttributeError: type object 'StackedViolin' has no attribute 'DEFAULT_SCALE'. ```. ### Minimal code sample. ```python. `import scanpy as sc`. ```. ### Error output. _No response_. ### Versions. Latest main -> pre-release",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2899
https://github.com/scverse/scanpy/issues/2899:757,modifiability,Version,Versions,757,"pre-release: AttributeError: type object 'StackedViolin' has no attribute 'DEFAULT_SCALE'; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? ```. /opt/hostedtoolcache/Python/3.11.8/x64/lib/python3.11/site-packages/ehrapy/plot/_scanpy_pl_api.py:606: in <module>. scale: Literal[""area"", ""count"", ""width""] = StackedViolin.DEFAULT_SCALE,. E AttributeError: type object 'StackedViolin' has no attribute 'DEFAULT_SCALE'. ```. ### Minimal code sample. ```python. `import scanpy as sc`. ```. ### Error output. _No response_. ### Versions. Latest main -> pre-release",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2899
https://github.com/scverse/scanpy/issues/2899:498,performance,scale,scale,498,"pre-release: AttributeError: type object 'StackedViolin' has no attribute 'DEFAULT_SCALE'; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? ```. /opt/hostedtoolcache/Python/3.11.8/x64/lib/python3.11/site-packages/ehrapy/plot/_scanpy_pl_api.py:606: in <module>. scale: Literal[""area"", ""count"", ""width""] = StackedViolin.DEFAULT_SCALE,. E AttributeError: type object 'StackedViolin' has no attribute 'DEFAULT_SCALE'. ```. ### Minimal code sample. ```python. `import scanpy as sc`. ```. ### Error output. _No response_. ### Versions. Latest main -> pre-release",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2899
https://github.com/scverse/scanpy/issues/2899:724,performance,Error,Error,724,"pre-release: AttributeError: type object 'StackedViolin' has no attribute 'DEFAULT_SCALE'; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? ```. /opt/hostedtoolcache/Python/3.11.8/x64/lib/python3.11/site-packages/ehrapy/plot/_scanpy_pl_api.py:606: in <module>. scale: Literal[""area"", ""count"", ""width""] = StackedViolin.DEFAULT_SCALE,. E AttributeError: type object 'StackedViolin' has no attribute 'DEFAULT_SCALE'. ```. ### Minimal code sample. ```python. `import scanpy as sc`. ```. ### Error output. _No response_. ### Versions. Latest main -> pre-release",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2899
https://github.com/scverse/scanpy/issues/2899:489,safety,modul,module,489,"pre-release: AttributeError: type object 'StackedViolin' has no attribute 'DEFAULT_SCALE'; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? ```. /opt/hostedtoolcache/Python/3.11.8/x64/lib/python3.11/site-packages/ehrapy/plot/_scanpy_pl_api.py:606: in <module>. scale: Literal[""area"", ""count"", ""width""] = StackedViolin.DEFAULT_SCALE,. E AttributeError: type object 'StackedViolin' has no attribute 'DEFAULT_SCALE'. ```. ### Minimal code sample. ```python. `import scanpy as sc`. ```. ### Error output. _No response_. ### Versions. Latest main -> pre-release",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2899
https://github.com/scverse/scanpy/issues/2899:724,safety,Error,Error,724,"pre-release: AttributeError: type object 'StackedViolin' has no attribute 'DEFAULT_SCALE'; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? ```. /opt/hostedtoolcache/Python/3.11.8/x64/lib/python3.11/site-packages/ehrapy/plot/_scanpy_pl_api.py:606: in <module>. scale: Literal[""area"", ""count"", ""width""] = StackedViolin.DEFAULT_SCALE,. E AttributeError: type object 'StackedViolin' has no attribute 'DEFAULT_SCALE'. ```. ### Minimal code sample. ```python. `import scanpy as sc`. ```. ### Error output. _No response_. ### Versions. Latest main -> pre-release",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2899
https://github.com/scverse/scanpy/issues/2899:219,usability,confirm,confirmed,219,"pre-release: AttributeError: type object 'StackedViolin' has no attribute 'DEFAULT_SCALE'; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? ```. /opt/hostedtoolcache/Python/3.11.8/x64/lib/python3.11/site-packages/ehrapy/plot/_scanpy_pl_api.py:606: in <module>. scale: Literal[""area"", ""count"", ""width""] = StackedViolin.DEFAULT_SCALE,. E AttributeError: type object 'StackedViolin' has no attribute 'DEFAULT_SCALE'. ```. ### Minimal code sample. ```python. `import scanpy as sc`. ```. ### Error output. _No response_. ### Versions. Latest main -> pre-release",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2899
https://github.com/scverse/scanpy/issues/2899:302,usability,confirm,confirmed,302,"pre-release: AttributeError: type object 'StackedViolin' has no attribute 'DEFAULT_SCALE'; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? ```. /opt/hostedtoolcache/Python/3.11.8/x64/lib/python3.11/site-packages/ehrapy/plot/_scanpy_pl_api.py:606: in <module>. scale: Literal[""area"", ""count"", ""width""] = StackedViolin.DEFAULT_SCALE,. E AttributeError: type object 'StackedViolin' has no attribute 'DEFAULT_SCALE'. ```. ### Minimal code sample. ```python. `import scanpy as sc`. ```. ### Error output. _No response_. ### Versions. Latest main -> pre-release",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2899
https://github.com/scverse/scanpy/issues/2899:660,usability,Minim,Minimal,660,"pre-release: AttributeError: type object 'StackedViolin' has no attribute 'DEFAULT_SCALE'; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? ```. /opt/hostedtoolcache/Python/3.11.8/x64/lib/python3.11/site-packages/ehrapy/plot/_scanpy_pl_api.py:606: in <module>. scale: Literal[""area"", ""count"", ""width""] = StackedViolin.DEFAULT_SCALE,. E AttributeError: type object 'StackedViolin' has no attribute 'DEFAULT_SCALE'. ```. ### Minimal code sample. ```python. `import scanpy as sc`. ```. ### Error output. _No response_. ### Versions. Latest main -> pre-release",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2899
https://github.com/scverse/scanpy/issues/2899:724,usability,Error,Error,724,"pre-release: AttributeError: type object 'StackedViolin' has no attribute 'DEFAULT_SCALE'; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? ```. /opt/hostedtoolcache/Python/3.11.8/x64/lib/python3.11/site-packages/ehrapy/plot/_scanpy_pl_api.py:606: in <module>. scale: Literal[""area"", ""count"", ""width""] = StackedViolin.DEFAULT_SCALE,. E AttributeError: type object 'StackedViolin' has no attribute 'DEFAULT_SCALE'. ```. ### Minimal code sample. ```python. `import scanpy as sc`. ```. ### Error output. _No response_. ### Versions. Latest main -> pre-release",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2899
https://github.com/scverse/scanpy/pull/2900:59,interoperability,format,formats,59,adds rsc; Adds Rapids-singlecell to the ecosystem page and formats the decoupler note to be in line with the other notes.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2900
https://github.com/scverse/scanpy/pull/2900:71,modifiability,deco,decoupler,71,adds rsc; Adds Rapids-singlecell to the ecosystem page and formats the decoupler note to be in line with the other notes.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2900
https://github.com/scverse/scanpy/pull/2901:64,deployability,version,versioned,64,"Doc submodule; Overhaul of tutorials page. Tutorials can now be versioned with the docs by using a gitsubmodule of the tutorials repo (letting us avoid things like: https://github.com/scverse/scanpy-tutorials/issues/85). Possible additions, that can be left to later. * It's a lot more bare now, maybe we should use cards? I wasn't sure if there's a great way to do this while keeping overall organization. * Some tutorials that have been removed may be worth keeping. * 1.3 million mouse neurons. * Cell cycle regression",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2901
https://github.com/scverse/scanpy/pull/2901:4,integrability,sub,submodule,4,"Doc submodule; Overhaul of tutorials page. Tutorials can now be versioned with the docs by using a gitsubmodule of the tutorials repo (letting us avoid things like: https://github.com/scverse/scanpy-tutorials/issues/85). Possible additions, that can be left to later. * It's a lot more bare now, maybe we should use cards? I wasn't sure if there's a great way to do this while keeping overall organization. * Some tutorials that have been removed may be worth keeping. * 1.3 million mouse neurons. * Cell cycle regression",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2901
https://github.com/scverse/scanpy/pull/2901:64,integrability,version,versioned,64,"Doc submodule; Overhaul of tutorials page. Tutorials can now be versioned with the docs by using a gitsubmodule of the tutorials repo (letting us avoid things like: https://github.com/scverse/scanpy-tutorials/issues/85). Possible additions, that can be left to later. * It's a lot more bare now, maybe we should use cards? I wasn't sure if there's a great way to do this while keeping overall organization. * Some tutorials that have been removed may be worth keeping. * 1.3 million mouse neurons. * Cell cycle regression",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2901
https://github.com/scverse/scanpy/pull/2901:64,modifiability,version,versioned,64,"Doc submodule; Overhaul of tutorials page. Tutorials can now be versioned with the docs by using a gitsubmodule of the tutorials repo (letting us avoid things like: https://github.com/scverse/scanpy-tutorials/issues/85). Possible additions, that can be left to later. * It's a lot more bare now, maybe we should use cards? I wasn't sure if there's a great way to do this while keeping overall organization. * Some tutorials that have been removed may be worth keeping. * 1.3 million mouse neurons. * Cell cycle regression",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2901
https://github.com/scverse/scanpy/pull/2901:146,safety,avoid,avoid,146,"Doc submodule; Overhaul of tutorials page. Tutorials can now be versioned with the docs by using a gitsubmodule of the tutorials repo (letting us avoid things like: https://github.com/scverse/scanpy-tutorials/issues/85). Possible additions, that can be left to later. * It's a lot more bare now, maybe we should use cards? I wasn't sure if there's a great way to do this while keeping overall organization. * Some tutorials that have been removed may be worth keeping. * 1.3 million mouse neurons. * Cell cycle regression",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2901
https://github.com/scverse/scanpy/pull/2901:511,testability,regress,regression,511,"Doc submodule; Overhaul of tutorials page. Tutorials can now be versioned with the docs by using a gitsubmodule of the tutorials repo (letting us avoid things like: https://github.com/scverse/scanpy-tutorials/issues/85). Possible additions, that can be left to later. * It's a lot more bare now, maybe we should use cards? I wasn't sure if there's a great way to do this while keeping overall organization. * Some tutorials that have been removed may be worth keeping. * 1.3 million mouse neurons. * Cell cycle regression",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2901
https://github.com/scverse/scanpy/pull/2901:483,usability,mous,mouse,483,"Doc submodule; Overhaul of tutorials page. Tutorials can now be versioned with the docs by using a gitsubmodule of the tutorials repo (letting us avoid things like: https://github.com/scverse/scanpy-tutorials/issues/85). Possible additions, that can be left to later. * It's a lot more bare now, maybe we should use cards? I wasn't sure if there's a great way to do this while keeping overall organization. * Some tutorials that have been removed may be worth keeping. * 1.3 million mouse neurons. * Cell cycle regression",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2901
https://github.com/scverse/scanpy/issues/2902:23,availability,failur,failures,23,Dask update causing CI failures; <details>. <summary> Errors look like: </summary>. ```. FAILED scanpy/tests/test_highly_variable_genes.py::test_runs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_supports_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:54,availability,Error,Errors,54,Dask update causing CI failures; <details>. <summary> Errors look like: </summary>. ```. FAILED scanpy/tests/test_highly_variable_genes.py::test_runs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_supports_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:3923,availability,ERROR,ERROR,3923,lueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[log_transform-True] - ValueError: assignment destination is read-only. ```. </details>. <details>. <summary> Test failure traceback </summary>. ```pytb. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . ../../mambaforge/envs/scanpy-dev/li,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:4059,availability,ERROR,ERROR,4059,"rror: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[log_transform-True] - ValueError: assignment destination is read-only. ```. </details>. <details>. <summary> Test failure traceback </summary>. ```pytb. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . ../../mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/legacy_api_wrap/__init__.py:80: in fn_compatible. return fn(*args_all, **kw). scanpy/preprocessing/_highly_va",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:4207,availability,ERROR,ERROR,4207," destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[log_transform-True] - ValueError: assignment destination is read-only. ```. </details>. <details>. <summary> Test failure traceback </summary>. ```pytb. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . ../../mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/legacy_api_wrap/__init__.py:80: in fn_compatible. return fn(*args_all, **kw). scanpy/preprocessing/_highly_variable_genes.py:651: in highly_variable_genes. df = _highly_variable_genes_single_batch(. scanpy/preprocessing/_highly_variable_genes.py:288: in _hi",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:4343,availability,ERROR,ERROR,4343,"y is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[log_transform-True] - ValueError: assignment destination is read-only. ```. </details>. <details>. <summary> Test failure traceback </summary>. ```pytb. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . ../../mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/legacy_api_wrap/__init__.py:80: in fn_compatible. return fn(*args_all, **kw). scanpy/preprocessing/_highly_variable_genes.py:651: in highly_variable_genes. df = _highly_variable_genes_single_batch(. scanpy/preprocessing/_highly_variable_genes.py:288: in _highly_variable_genes_single_batch. df[""highly_variable""] = _subset_genes(. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:4478,availability,ERROR,ERROR,4478,"canpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[log_transform-True] - ValueError: assignment destination is read-only. ```. </details>. <details>. <summary> Test failure traceback </summary>. ```pytb. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . ../../mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/legacy_api_wrap/__init__.py:80: in fn_compatible. return fn(*args_all, **kw). scanpy/preprocessing/_highly_variable_genes.py:651: in highly_variable_genes. df = _highly_variable_genes_single_batch(. scanpy/preprocessing/_highly_variable_genes.py:288: in _highly_variable_genes_single_batch. df[""highly_variable""] = _subset_genes(. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:4650,availability,failur,failure,4650,"r: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[log_transform-True] - ValueError: assignment destination is read-only. ```. </details>. <details>. <summary> Test failure traceback </summary>. ```pytb. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . ../../mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/legacy_api_wrap/__init__.py:80: in fn_compatible. return fn(*args_all, **kw). scanpy/preprocessing/_highly_variable_genes.py:651: in highly_variable_genes. df = _highly_variable_genes_single_batch(. scanpy/preprocessing/_highly_variable_genes.py:288: in _highly_variable_genes_single_batch. df[""highly_variable""] = _subset_genes(. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . adata = AnnData object with n_obs × n_vars = 700 × 765. obs: 'bulk_labels', 'n_genes', 'percent_mito', 'n_counts', 'S_score...'pca', 'rank_genes_groups', 'log1p'. obsm:",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:5933,availability,mask,mask,5933,".11/site-packages/legacy_api_wrap/__init__.py:80: in fn_compatible. return fn(*args_all, **kw). scanpy/preprocessing/_highly_variable_genes.py:651: in highly_variable_genes. df = _highly_variable_genes_single_batch(. scanpy/preprocessing/_highly_variable_genes.py:288: in _highly_variable_genes_single_batch. df[""highly_variable""] = _subset_genes(. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . adata = AnnData object with n_obs × n_vars = 700 × 765. obs: 'bulk_labels', 'n_genes', 'percent_mito', 'n_counts', 'S_score...'pca', 'rank_genes_groups', 'log1p'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. obsp: 'distances', 'connectivities'. def _subset_genes(. adata: AnnData,. *,. mean: NDArray[np.float64] | DaskArray,. dispersion_norm: NDArray[np.float64] | DaskArray,. cutoff: _Cutoffs | int,. ) -> NDArray[np.bool_] | DaskArray:. """"""Get boolean mask of genes with normalized dispersion in bounds."""""". if isinstance(cutoff, _Cutoffs):. > dispersion_norm[np.isnan(dispersion_norm)] = 0 # similar to Seurat. E ValueError: assignment destination is read-only. scanpy/preprocessing/_highly_variable_genes.py:365: ValueError. ```. </details>. Dependencies are different, looks like a dask update and a pyarrow added dep. I suspect this has to do with the new dask-expr. ----. I can replicate locally by install the new dask, dask-expr, and pyarrow. ----. Importing dask.dataframe changes the settings for pandas somehow:. ```python. In [1]: import pandas as pd. In [2]: pd.DataFrame({""a"": [1,2,3, None]})[""a""].to_numpy().flags. Out[2]: . C_CONTIGUOUS : True. F_CONTIGUOUS : True. OWNDATA : False. WRITEABLE : True. ALIGNED : True. WRITEBACKIFCOPY : False. In [3]: import dask.dataframe as ddf. In [4]: pd.DataFrame({""a"": [1,2,3, None]})[""a""].to_numpy().flags. Out[4]: . C_CONTIGUOUS : True. F_CONTIGUOUS : True. OWNDATA : False. WRITEABLE : False. ALIGN",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:6364,availability,replic,replicate,6364,"t__.py:80: in fn_compatible. return fn(*args_all, **kw). scanpy/preprocessing/_highly_variable_genes.py:651: in highly_variable_genes. df = _highly_variable_genes_single_batch(. scanpy/preprocessing/_highly_variable_genes.py:288: in _highly_variable_genes_single_batch. df[""highly_variable""] = _subset_genes(. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . adata = AnnData object with n_obs × n_vars = 700 × 765. obs: 'bulk_labels', 'n_genes', 'percent_mito', 'n_counts', 'S_score...'pca', 'rank_genes_groups', 'log1p'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. obsp: 'distances', 'connectivities'. def _subset_genes(. adata: AnnData,. *,. mean: NDArray[np.float64] | DaskArray,. dispersion_norm: NDArray[np.float64] | DaskArray,. cutoff: _Cutoffs | int,. ) -> NDArray[np.bool_] | DaskArray:. """"""Get boolean mask of genes with normalized dispersion in bounds."""""". if isinstance(cutoff, _Cutoffs):. > dispersion_norm[np.isnan(dispersion_norm)] = 0 # similar to Seurat. E ValueError: assignment destination is read-only. scanpy/preprocessing/_highly_variable_genes.py:365: ValueError. ```. </details>. Dependencies are different, looks like a dask update and a pyarrow added dep. I suspect this has to do with the new dask-expr. ----. I can replicate locally by install the new dask, dask-expr, and pyarrow. ----. Importing dask.dataframe changes the settings for pandas somehow:. ```python. In [1]: import pandas as pd. In [2]: pd.DataFrame({""a"": [1,2,3, None]})[""a""].to_numpy().flags. Out[2]: . C_CONTIGUOUS : True. F_CONTIGUOUS : True. OWNDATA : False. WRITEABLE : True. ALIGNED : True. WRITEBACKIFCOPY : False. In [3]: import dask.dataframe as ddf. In [4]: pd.DataFrame({""a"": [1,2,3, None]})[""a""].to_numpy().flags. Out[4]: . C_CONTIGUOUS : True. F_CONTIGUOUS : True. OWNDATA : False. WRITEABLE : False. ALIGNED : True. WRITEBACKIFCOPY : False. ```",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:5,deployability,updat,update,5,Dask update causing CI failures; <details>. <summary> Errors look like: </summary>. ```. FAILED scanpy/tests/test_highly_variable_genes.py::test_runs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_supports_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:23,deployability,fail,failures,23,Dask update causing CI failures; <details>. <summary> Errors look like: </summary>. ```. FAILED scanpy/tests/test_highly_variable_genes.py::test_runs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_supports_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:89,deployability,FAIL,FAILED,89,Dask update causing CI failures; <details>. <summary> Errors look like: </summary>. ```. FAILED scanpy/tests/test_highly_variable_genes.py::test_runs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_supports_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:201,deployability,FAIL,FAILED,201,Dask update causing CI failures; <details>. <summary> Errors look like: </summary>. ```. FAILED scanpy/tests/test_highly_variable_genes.py::test_runs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_supports_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:323,deployability,FAIL,FAILED,323,Dask update causing CI failures; <details>. <summary> Errors look like: </summary>. ```. FAILED scanpy/tests/test_highly_variable_genes.py::test_runs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_supports_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:453,deployability,FAIL,FAILED,453,Dask update causing CI failures; <details>. <summary> Errors look like: </summary>. ```. FAILED scanpy/tests/test_highly_variable_genes.py::test_runs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_supports_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:593,deployability,FAIL,FAILED,593,Dask update causing CI failures; <details>. <summary> Errors look like: </summary>. ```. FAILED scanpy/tests/test_highly_variable_genes.py::test_runs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_supports_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:734,deployability,FAIL,FAILED,734,Dask update causing CI failures; <details>. <summary> Errors look like: </summary>. ```. FAILED scanpy/tests/test_highly_variable_genes.py::test_runs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_supports_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:870,deployability,FAIL,FAILED,870,Dask update causing CI failures; <details>. <summary> Errors look like: </summary>. ```. FAILED scanpy/tests/test_highly_variable_genes.py::test_runs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_supports_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:1007,deployability,FAIL,FAILED,1007,e causing CI failures; <details>. <summary> Errors look like: </summary>. ```. FAILED scanpy/tests/test_highly_variable_genes.py::test_runs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_supports_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::t,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:1143,deployability,FAIL,FAILED,1143,uns - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_supports_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] ,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:1280,deployability,FAIL,FAILED,1280,r: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assign,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:1423,deployability,FAIL,FAILED,1423, destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-o,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:1567,deployability,FAIL,FAILED,1567,tination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/t,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:1703,deployability,FAIL,FAILED,1703,t destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:1837,deployability,FAIL,FAILED,1837,ent destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination ,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:1976,deployability,FAIL,FAILED,1976,t destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:2076,deployability,FAIL,FAILED,2076,_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment ,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:2197,deployability,FAIL,FAILED,2197,o_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: ,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:2314,deployability,FAIL,FAILED,2314,ble_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - V,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:2431,deployability,FAIL,FAILED,2431,py/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:2555,deployability,FAIL,FAILED,2555,ad-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment d,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:2656,deployability,FAIL,FAILED,2656,Error: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: as,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:2755,deployability,FAIL,FAILED,2755,_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - Value,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:2854,deployability,FAIL,FAILED,2854,test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_sim,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:2973,deployability,FAIL,FAILED,2973,FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_pa,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:3105,deployability,FAIL,FAILED,3105,:test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scruble,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:3237,deployability,FAIL,FAILED,3237,eproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:3362,deployability,FAIL,FAILED,3362,ble[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/tes,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:3473,deployability,FAIL,FAILED,3473,roducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:3583,deployability,FAIL,FAILED,3583,::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[log_transform-True] - ValueError: assignment desti,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:3694,deployability,FAIL,FAILED,3694,_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[log_transform-True] - ValueError: assignment destination is read-only. ```. </details>. <details>. <summary> Test failure traceback </summary>. ```pytb. _ _ _ _ ,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:3802,deployability,FAIL,FAILED,3802,ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[log_transform-True] - ValueError: assignment destination is read-only. ```. </details>. <details>. <summary> Test failure traceback </summary>. ```pytb. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ ,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:4650,deployability,fail,failure,4650,"r: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[log_transform-True] - ValueError: assignment destination is read-only. ```. </details>. <details>. <summary> Test failure traceback </summary>. ```pytb. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . ../../mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/legacy_api_wrap/__init__.py:80: in fn_compatible. return fn(*args_all, **kw). scanpy/preprocessing/_highly_variable_genes.py:651: in highly_variable_genes. df = _highly_variable_genes_single_batch(. scanpy/preprocessing/_highly_variable_genes.py:288: in _highly_variable_genes_single_batch. df[""highly_variable""] = _subset_genes(. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . adata = AnnData object with n_obs × n_vars = 700 × 765. obs: 'bulk_labels', 'n_genes', 'percent_mito', 'n_counts', 'S_score...'pca', 'rank_genes_groups', 'log1p'. obsm:",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:6225,deployability,Depend,Dependencies,6225,"t__.py:80: in fn_compatible. return fn(*args_all, **kw). scanpy/preprocessing/_highly_variable_genes.py:651: in highly_variable_genes. df = _highly_variable_genes_single_batch(. scanpy/preprocessing/_highly_variable_genes.py:288: in _highly_variable_genes_single_batch. df[""highly_variable""] = _subset_genes(. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . adata = AnnData object with n_obs × n_vars = 700 × 765. obs: 'bulk_labels', 'n_genes', 'percent_mito', 'n_counts', 'S_score...'pca', 'rank_genes_groups', 'log1p'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. obsp: 'distances', 'connectivities'. def _subset_genes(. adata: AnnData,. *,. mean: NDArray[np.float64] | DaskArray,. dispersion_norm: NDArray[np.float64] | DaskArray,. cutoff: _Cutoffs | int,. ) -> NDArray[np.bool_] | DaskArray:. """"""Get boolean mask of genes with normalized dispersion in bounds."""""". if isinstance(cutoff, _Cutoffs):. > dispersion_norm[np.isnan(dispersion_norm)] = 0 # similar to Seurat. E ValueError: assignment destination is read-only. scanpy/preprocessing/_highly_variable_genes.py:365: ValueError. ```. </details>. Dependencies are different, looks like a dask update and a pyarrow added dep. I suspect this has to do with the new dask-expr. ----. I can replicate locally by install the new dask, dask-expr, and pyarrow. ----. Importing dask.dataframe changes the settings for pandas somehow:. ```python. In [1]: import pandas as pd. In [2]: pd.DataFrame({""a"": [1,2,3, None]})[""a""].to_numpy().flags. Out[2]: . C_CONTIGUOUS : True. F_CONTIGUOUS : True. OWNDATA : False. WRITEABLE : True. ALIGNED : True. WRITEBACKIFCOPY : False. In [3]: import dask.dataframe as ddf. In [4]: pd.DataFrame({""a"": [1,2,3, None]})[""a""].to_numpy().flags. Out[4]: . C_CONTIGUOUS : True. F_CONTIGUOUS : True. OWNDATA : False. WRITEABLE : False. ALIGNED : True. WRITEBACKIFCOPY : False. ```",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:6271,deployability,updat,update,6271,"t__.py:80: in fn_compatible. return fn(*args_all, **kw). scanpy/preprocessing/_highly_variable_genes.py:651: in highly_variable_genes. df = _highly_variable_genes_single_batch(. scanpy/preprocessing/_highly_variable_genes.py:288: in _highly_variable_genes_single_batch. df[""highly_variable""] = _subset_genes(. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . adata = AnnData object with n_obs × n_vars = 700 × 765. obs: 'bulk_labels', 'n_genes', 'percent_mito', 'n_counts', 'S_score...'pca', 'rank_genes_groups', 'log1p'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. obsp: 'distances', 'connectivities'. def _subset_genes(. adata: AnnData,. *,. mean: NDArray[np.float64] | DaskArray,. dispersion_norm: NDArray[np.float64] | DaskArray,. cutoff: _Cutoffs | int,. ) -> NDArray[np.bool_] | DaskArray:. """"""Get boolean mask of genes with normalized dispersion in bounds."""""". if isinstance(cutoff, _Cutoffs):. > dispersion_norm[np.isnan(dispersion_norm)] = 0 # similar to Seurat. E ValueError: assignment destination is read-only. scanpy/preprocessing/_highly_variable_genes.py:365: ValueError. ```. </details>. Dependencies are different, looks like a dask update and a pyarrow added dep. I suspect this has to do with the new dask-expr. ----. I can replicate locally by install the new dask, dask-expr, and pyarrow. ----. Importing dask.dataframe changes the settings for pandas somehow:. ```python. In [1]: import pandas as pd. In [2]: pd.DataFrame({""a"": [1,2,3, None]})[""a""].to_numpy().flags. Out[2]: . C_CONTIGUOUS : True. F_CONTIGUOUS : True. OWNDATA : False. WRITEABLE : True. ALIGNED : True. WRITEBACKIFCOPY : False. In [3]: import dask.dataframe as ddf. In [4]: pd.DataFrame({""a"": [1,2,3, None]})[""a""].to_numpy().flags. Out[4]: . C_CONTIGUOUS : True. F_CONTIGUOUS : True. OWNDATA : False. WRITEABLE : False. ALIGNED : True. WRITEBACKIFCOPY : False. ```",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:6385,deployability,instal,install,6385,"t__.py:80: in fn_compatible. return fn(*args_all, **kw). scanpy/preprocessing/_highly_variable_genes.py:651: in highly_variable_genes. df = _highly_variable_genes_single_batch(. scanpy/preprocessing/_highly_variable_genes.py:288: in _highly_variable_genes_single_batch. df[""highly_variable""] = _subset_genes(. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . adata = AnnData object with n_obs × n_vars = 700 × 765. obs: 'bulk_labels', 'n_genes', 'percent_mito', 'n_counts', 'S_score...'pca', 'rank_genes_groups', 'log1p'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. obsp: 'distances', 'connectivities'. def _subset_genes(. adata: AnnData,. *,. mean: NDArray[np.float64] | DaskArray,. dispersion_norm: NDArray[np.float64] | DaskArray,. cutoff: _Cutoffs | int,. ) -> NDArray[np.bool_] | DaskArray:. """"""Get boolean mask of genes with normalized dispersion in bounds."""""". if isinstance(cutoff, _Cutoffs):. > dispersion_norm[np.isnan(dispersion_norm)] = 0 # similar to Seurat. E ValueError: assignment destination is read-only. scanpy/preprocessing/_highly_variable_genes.py:365: ValueError. ```. </details>. Dependencies are different, looks like a dask update and a pyarrow added dep. I suspect this has to do with the new dask-expr. ----. I can replicate locally by install the new dask, dask-expr, and pyarrow. ----. Importing dask.dataframe changes the settings for pandas somehow:. ```python. In [1]: import pandas as pd. In [2]: pd.DataFrame({""a"": [1,2,3, None]})[""a""].to_numpy().flags. Out[2]: . C_CONTIGUOUS : True. F_CONTIGUOUS : True. OWNDATA : False. WRITEABLE : True. ALIGNED : True. WRITEBACKIFCOPY : False. In [3]: import dask.dataframe as ddf. In [4]: pd.DataFrame({""a"": [1,2,3, None]})[""a""].to_numpy().flags. Out[4]: . C_CONTIGUOUS : True. F_CONTIGUOUS : True. OWNDATA : False. WRITEABLE : False. ALIGNED : True. WRITEBACKIFCOPY : False. ```",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:674,integrability,batch,batched,674,Dask update causing CI failures; <details>. <summary> Errors look like: </summary>. ```. FAILED scanpy/tests/test_highly_variable_genes.py::test_runs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_supports_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:947,integrability,batch,batched,947,Dask update causing CI failures; <details>. <summary> Errors look like: </summary>. ```. FAILED scanpy/tests/test_highly_variable_genes.py::test_runs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_supports_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:1220,integrability,batch,batched,1220,t_highly_variable_genes.py::test_supports_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pc,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:1507,integrability,batch,batched,1507,_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - Value,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:3328,integrability,buffer,buffer,3328,ts/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:6225,integrability,Depend,Dependencies,6225,"t__.py:80: in fn_compatible. return fn(*args_all, **kw). scanpy/preprocessing/_highly_variable_genes.py:651: in highly_variable_genes. df = _highly_variable_genes_single_batch(. scanpy/preprocessing/_highly_variable_genes.py:288: in _highly_variable_genes_single_batch. df[""highly_variable""] = _subset_genes(. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . adata = AnnData object with n_obs × n_vars = 700 × 765. obs: 'bulk_labels', 'n_genes', 'percent_mito', 'n_counts', 'S_score...'pca', 'rank_genes_groups', 'log1p'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. obsp: 'distances', 'connectivities'. def _subset_genes(. adata: AnnData,. *,. mean: NDArray[np.float64] | DaskArray,. dispersion_norm: NDArray[np.float64] | DaskArray,. cutoff: _Cutoffs | int,. ) -> NDArray[np.bool_] | DaskArray:. """"""Get boolean mask of genes with normalized dispersion in bounds."""""". if isinstance(cutoff, _Cutoffs):. > dispersion_norm[np.isnan(dispersion_norm)] = 0 # similar to Seurat. E ValueError: assignment destination is read-only. scanpy/preprocessing/_highly_variable_genes.py:365: ValueError. ```. </details>. Dependencies are different, looks like a dask update and a pyarrow added dep. I suspect this has to do with the new dask-expr. ----. I can replicate locally by install the new dask, dask-expr, and pyarrow. ----. Importing dask.dataframe changes the settings for pandas somehow:. ```python. In [1]: import pandas as pd. In [2]: pd.DataFrame({""a"": [1,2,3, None]})[""a""].to_numpy().flags. Out[2]: . C_CONTIGUOUS : True. F_CONTIGUOUS : True. OWNDATA : False. WRITEABLE : True. ALIGNED : True. WRITEBACKIFCOPY : False. In [3]: import dask.dataframe as ddf. In [4]: pd.DataFrame({""a"": [1,2,3, None]})[""a""].to_numpy().flags. Out[4]: . C_CONTIGUOUS : True. F_CONTIGUOUS : True. OWNDATA : False. WRITEABLE : False. ALIGNED : True. WRITEBACKIFCOPY : False. ```",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:4944,modifiability,pac,packages,4944,"crublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[log_transform-True] - ValueError: assignment destination is read-only. ```. </details>. <details>. <summary> Test failure traceback </summary>. ```pytb. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . ../../mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/legacy_api_wrap/__init__.py:80: in fn_compatible. return fn(*args_all, **kw). scanpy/preprocessing/_highly_variable_genes.py:651: in highly_variable_genes. df = _highly_variable_genes_single_batch(. scanpy/preprocessing/_highly_variable_genes.py:288: in _highly_variable_genes_single_batch. df[""highly_variable""] = _subset_genes(. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . adata = AnnData object with n_obs × n_vars = 700 × 765. obs: 'bulk_labels', 'n_genes', 'percent_mito', 'n_counts', 'S_score...'pca', 'rank_genes_groups', 'log1p'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. obsp: 'distances', 'connectivities'. def _subset_genes(. adata: AnnData,. *,. mean: NDArray[np.float64] | DaskArray,. dispersion_norm: NDArray[np.float64] | DaskArray,. cutoff: _Cutoffs | int,. ) -> NDArray[np.bool_] | DaskArray:. """"""Get boolean mask of genes w",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:6225,modifiability,Depend,Dependencies,6225,"t__.py:80: in fn_compatible. return fn(*args_all, **kw). scanpy/preprocessing/_highly_variable_genes.py:651: in highly_variable_genes. df = _highly_variable_genes_single_batch(. scanpy/preprocessing/_highly_variable_genes.py:288: in _highly_variable_genes_single_batch. df[""highly_variable""] = _subset_genes(. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . adata = AnnData object with n_obs × n_vars = 700 × 765. obs: 'bulk_labels', 'n_genes', 'percent_mito', 'n_counts', 'S_score...'pca', 'rank_genes_groups', 'log1p'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. obsp: 'distances', 'connectivities'. def _subset_genes(. adata: AnnData,. *,. mean: NDArray[np.float64] | DaskArray,. dispersion_norm: NDArray[np.float64] | DaskArray,. cutoff: _Cutoffs | int,. ) -> NDArray[np.bool_] | DaskArray:. """"""Get boolean mask of genes with normalized dispersion in bounds."""""". if isinstance(cutoff, _Cutoffs):. > dispersion_norm[np.isnan(dispersion_norm)] = 0 # similar to Seurat. E ValueError: assignment destination is read-only. scanpy/preprocessing/_highly_variable_genes.py:365: ValueError. ```. </details>. Dependencies are different, looks like a dask update and a pyarrow added dep. I suspect this has to do with the new dask-expr. ----. I can replicate locally by install the new dask, dask-expr, and pyarrow. ----. Importing dask.dataframe changes the settings for pandas somehow:. ```python. In [1]: import pandas as pd. In [2]: pd.DataFrame({""a"": [1,2,3, None]})[""a""].to_numpy().flags. Out[2]: . C_CONTIGUOUS : True. F_CONTIGUOUS : True. OWNDATA : False. WRITEABLE : True. ALIGNED : True. WRITEBACKIFCOPY : False. In [3]: import dask.dataframe as ddf. In [4]: pd.DataFrame({""a"": [1,2,3, None]})[""a""].to_numpy().flags. Out[4]: . C_CONTIGUOUS : True. F_CONTIGUOUS : True. OWNDATA : False. WRITEABLE : False. ALIGNED : True. WRITEBACKIFCOPY : False. ```",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:23,performance,failur,failures,23,Dask update causing CI failures; <details>. <summary> Errors look like: </summary>. ```. FAILED scanpy/tests/test_highly_variable_genes.py::test_runs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_supports_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:54,performance,Error,Errors,54,Dask update causing CI failures; <details>. <summary> Errors look like: </summary>. ```. FAILED scanpy/tests/test_highly_variable_genes.py::test_runs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_supports_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:674,performance,batch,batched,674,Dask update causing CI failures; <details>. <summary> Errors look like: </summary>. ```. FAILED scanpy/tests/test_highly_variable_genes.py::test_runs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_supports_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:947,performance,batch,batched,947,Dask update causing CI failures; <details>. <summary> Errors look like: </summary>. ```. FAILED scanpy/tests/test_highly_variable_genes.py::test_runs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_supports_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:1220,performance,batch,batched,1220,t_highly_variable_genes.py::test_supports_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pc,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:1507,performance,batch,batched,1507,_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - Value,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:3923,performance,ERROR,ERROR,3923,lueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[log_transform-True] - ValueError: assignment destination is read-only. ```. </details>. <details>. <summary> Test failure traceback </summary>. ```pytb. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . ../../mambaforge/envs/scanpy-dev/li,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:4059,performance,ERROR,ERROR,4059,"rror: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[log_transform-True] - ValueError: assignment destination is read-only. ```. </details>. <details>. <summary> Test failure traceback </summary>. ```pytb. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . ../../mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/legacy_api_wrap/__init__.py:80: in fn_compatible. return fn(*args_all, **kw). scanpy/preprocessing/_highly_va",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:4207,performance,ERROR,ERROR,4207," destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[log_transform-True] - ValueError: assignment destination is read-only. ```. </details>. <details>. <summary> Test failure traceback </summary>. ```pytb. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . ../../mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/legacy_api_wrap/__init__.py:80: in fn_compatible. return fn(*args_all, **kw). scanpy/preprocessing/_highly_variable_genes.py:651: in highly_variable_genes. df = _highly_variable_genes_single_batch(. scanpy/preprocessing/_highly_variable_genes.py:288: in _hi",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:4343,performance,ERROR,ERROR,4343,"y is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[log_transform-True] - ValueError: assignment destination is read-only. ```. </details>. <details>. <summary> Test failure traceback </summary>. ```pytb. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . ../../mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/legacy_api_wrap/__init__.py:80: in fn_compatible. return fn(*args_all, **kw). scanpy/preprocessing/_highly_variable_genes.py:651: in highly_variable_genes. df = _highly_variable_genes_single_batch(. scanpy/preprocessing/_highly_variable_genes.py:288: in _highly_variable_genes_single_batch. df[""highly_variable""] = _subset_genes(. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:4478,performance,ERROR,ERROR,4478,"canpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[log_transform-True] - ValueError: assignment destination is read-only. ```. </details>. <details>. <summary> Test failure traceback </summary>. ```pytb. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . ../../mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/legacy_api_wrap/__init__.py:80: in fn_compatible. return fn(*args_all, **kw). scanpy/preprocessing/_highly_variable_genes.py:651: in highly_variable_genes. df = _highly_variable_genes_single_batch(. scanpy/preprocessing/_highly_variable_genes.py:288: in _highly_variable_genes_single_batch. df[""highly_variable""] = _subset_genes(. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:4650,performance,failur,failure,4650,"r: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[log_transform-True] - ValueError: assignment destination is read-only. ```. </details>. <details>. <summary> Test failure traceback </summary>. ```pytb. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . ../../mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/legacy_api_wrap/__init__.py:80: in fn_compatible. return fn(*args_all, **kw). scanpy/preprocessing/_highly_variable_genes.py:651: in highly_variable_genes. df = _highly_variable_genes_single_batch(. scanpy/preprocessing/_highly_variable_genes.py:288: in _highly_variable_genes_single_batch. df[""highly_variable""] = _subset_genes(. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . adata = AnnData object with n_obs × n_vars = 700 × 765. obs: 'bulk_labels', 'n_genes', 'percent_mito', 'n_counts', 'S_score...'pca', 'rank_genes_groups', 'log1p'. obsm:",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:23,reliability,fail,failures,23,Dask update causing CI failures; <details>. <summary> Errors look like: </summary>. ```. FAILED scanpy/tests/test_highly_variable_genes.py::test_runs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_supports_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:89,reliability,FAIL,FAILED,89,Dask update causing CI failures; <details>. <summary> Errors look like: </summary>. ```. FAILED scanpy/tests/test_highly_variable_genes.py::test_runs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_supports_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:201,reliability,FAIL,FAILED,201,Dask update causing CI failures; <details>. <summary> Errors look like: </summary>. ```. FAILED scanpy/tests/test_highly_variable_genes.py::test_runs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_supports_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:323,reliability,FAIL,FAILED,323,Dask update causing CI failures; <details>. <summary> Errors look like: </summary>. ```. FAILED scanpy/tests/test_highly_variable_genes.py::test_runs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_supports_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:453,reliability,FAIL,FAILED,453,Dask update causing CI failures; <details>. <summary> Errors look like: </summary>. ```. FAILED scanpy/tests/test_highly_variable_genes.py::test_runs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_supports_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:593,reliability,FAIL,FAILED,593,Dask update causing CI failures; <details>. <summary> Errors look like: </summary>. ```. FAILED scanpy/tests/test_highly_variable_genes.py::test_runs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_supports_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:734,reliability,FAIL,FAILED,734,Dask update causing CI failures; <details>. <summary> Errors look like: </summary>. ```. FAILED scanpy/tests/test_highly_variable_genes.py::test_runs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_supports_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:870,reliability,FAIL,FAILED,870,Dask update causing CI failures; <details>. <summary> Errors look like: </summary>. ```. FAILED scanpy/tests/test_highly_variable_genes.py::test_runs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_supports_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:1007,reliability,FAIL,FAILED,1007,e causing CI failures; <details>. <summary> Errors look like: </summary>. ```. FAILED scanpy/tests/test_highly_variable_genes.py::test_runs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_supports_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::t,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:1143,reliability,FAIL,FAILED,1143,uns - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_supports_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] ,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:1280,reliability,FAIL,FAILED,1280,r: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assign,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:1423,reliability,FAIL,FAILED,1423, destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-o,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:1567,reliability,FAIL,FAILED,1567,tination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/t,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:1703,reliability,FAIL,FAILED,1703,t destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:1837,reliability,FAIL,FAILED,1837,ent destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination ,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:1976,reliability,FAIL,FAILED,1976,t destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:2076,reliability,FAIL,FAILED,2076,_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment ,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:2197,reliability,FAIL,FAILED,2197,o_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: ,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:2314,reliability,FAIL,FAILED,2314,ble_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - V,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:2431,reliability,FAIL,FAILED,2431,py/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:2555,reliability,FAIL,FAILED,2555,ad-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment d,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:2656,reliability,FAIL,FAILED,2656,Error: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: as,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:2755,reliability,FAIL,FAILED,2755,_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - Value,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:2854,reliability,FAIL,FAILED,2854,test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_sim,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:2973,reliability,FAIL,FAILED,2973,FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_pa,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:3105,reliability,FAIL,FAILED,3105,:test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scruble,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:3237,reliability,FAIL,FAILED,3237,eproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:3362,reliability,FAIL,FAILED,3362,ble[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/tes,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:3473,reliability,FAIL,FAILED,3473,roducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:3583,reliability,FAIL,FAILED,3583,::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[log_transform-True] - ValueError: assignment desti,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:3694,reliability,FAIL,FAILED,3694,_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[log_transform-True] - ValueError: assignment destination is read-only. ```. </details>. <details>. <summary> Test failure traceback </summary>. ```pytb. _ _ _ _ ,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:3802,reliability,FAIL,FAILED,3802,ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[log_transform-True] - ValueError: assignment destination is read-only. ```. </details>. <details>. <summary> Test failure traceback </summary>. ```pytb. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ ,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:4650,reliability,fail,failure,4650,"r: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[log_transform-True] - ValueError: assignment destination is read-only. ```. </details>. <details>. <summary> Test failure traceback </summary>. ```pytb. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . ../../mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/legacy_api_wrap/__init__.py:80: in fn_compatible. return fn(*args_all, **kw). scanpy/preprocessing/_highly_variable_genes.py:651: in highly_variable_genes. df = _highly_variable_genes_single_batch(. scanpy/preprocessing/_highly_variable_genes.py:288: in _highly_variable_genes_single_batch. df[""highly_variable""] = _subset_genes(. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . adata = AnnData object with n_obs × n_vars = 700 × 765. obs: 'bulk_labels', 'n_genes', 'percent_mito', 'n_counts', 'S_score...'pca', 'rank_genes_groups', 'log1p'. obsm:",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:5,safety,updat,update,5,Dask update causing CI failures; <details>. <summary> Errors look like: </summary>. ```. FAILED scanpy/tests/test_highly_variable_genes.py::test_runs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_supports_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:54,safety,Error,Errors,54,Dask update causing CI failures; <details>. <summary> Errors look like: </summary>. ```. FAILED scanpy/tests/test_highly_variable_genes.py::test_runs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_supports_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:103,safety,test,tests,103,Dask update causing CI failures; <details>. <summary> Errors look like: </summary>. ```. FAILED scanpy/tests/test_highly_variable_genes.py::test_runs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_supports_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:215,safety,test,tests,215,Dask update causing CI failures; <details>. <summary> Errors look like: </summary>. ```. FAILED scanpy/tests/test_highly_variable_genes.py::test_runs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_supports_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:337,safety,test,tests,337,Dask update causing CI failures; <details>. <summary> Errors look like: </summary>. ```. FAILED scanpy/tests/test_highly_variable_genes.py::test_runs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_supports_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:467,safety,test,tests,467,Dask update causing CI failures; <details>. <summary> Errors look like: </summary>. ```. FAILED scanpy/tests/test_highly_variable_genes.py::test_runs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_supports_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:607,safety,test,tests,607,Dask update causing CI failures; <details>. <summary> Errors look like: </summary>. ```. FAILED scanpy/tests/test_highly_variable_genes.py::test_runs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_supports_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:748,safety,test,tests,748,Dask update causing CI failures; <details>. <summary> Errors look like: </summary>. ```. FAILED scanpy/tests/test_highly_variable_genes.py::test_runs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_supports_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:884,safety,test,tests,884,Dask update causing CI failures; <details>. <summary> Errors look like: </summary>. ```. FAILED scanpy/tests/test_highly_variable_genes.py::test_runs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_supports_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:1021,safety,test,tests,1021,ailures; <details>. <summary> Errors look like: </summary>. ```. FAILED scanpy/tests/test_highly_variable_genes.py::test_runs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_supports_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:1157,safety,test,tests,1157,or: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_supports_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: ,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:1294,safety,test,tests,1294,destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destinati,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:1437,safety,test,tests,1437,s read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED sc,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:1581,safety,test,tests,1581,ad-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:1717,safety,test,tests,1717,is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: as,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:1851,safety,test,tests,1851,n is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. ,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:1990,safety,test,tests,1990,is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:2090,safety,test,tests,2090, ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:2211,safety,test,tests,2211,y_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment des,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:2328,safety,test,tests,2328,test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buf,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:2445,safety,test,tests,2445,highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment d,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:2569,safety,test,tests,2569,D scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is ,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:2670,safety,test,tests,2670,ent destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment desti,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:2769,safety,test,tests,2769,ll_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignm,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:2868,safety,test,tests,2868,riable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:2987,safety,test,tests,2987,tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:3119,safety,test,tests,3119,oducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synth,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:3251,safety,test,tests,3251,ipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrub,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:3376,safety,test,tests,3376, - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py:,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:3487,safety,test,tests,3487,_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only. ERROR scanpy,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:3597,safety,test,tests,3597,nked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[log_transform-True] - ValueError: assignment destination is read,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:3708,safety,test,tests,3708,Error: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[log_transform-True] - ValueError: assignment destination is read-only. ```. </details>. <details>. <summary> Test failure traceback </summary>. ```pytb. _ _ _ _ _ _ _ _ _ _ _ ,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:3816,safety,test,tests,3816,signment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[log_transform-True] - ValueError: assignment destination is read-only. ```. </details>. <details>. <summary> Test failure traceback </summary>. ```pytb. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ ,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:3923,safety,ERROR,ERROR,3923,lueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[log_transform-True] - ValueError: assignment destination is read-only. ```. </details>. <details>. <summary> Test failure traceback </summary>. ```pytb. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . ../../mambaforge/envs/scanpy-dev/li,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:3936,safety,test,tests,3936,ignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[log_transform-True] - ValueError: assignment destination is read-only. ```. </details>. <details>. <summary> Test failure traceback </summary>. ```pytb. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . ../../mambaforge/envs/scanpy-dev/lib/python3.11/,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:4059,safety,ERROR,ERROR,4059,"rror: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[log_transform-True] - ValueError: assignment destination is read-only. ```. </details>. <details>. <summary> Test failure traceback </summary>. ```pytb. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . ../../mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/legacy_api_wrap/__init__.py:80: in fn_compatible. return fn(*args_all, **kw). scanpy/preprocessing/_highly_va",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:4072,safety,test,tests,4072,"ent destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[log_transform-True] - ValueError: assignment destination is read-only. ```. </details>. <details>. <summary> Test failure traceback </summary>. ```pytb. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . ../../mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/legacy_api_wrap/__init__.py:80: in fn_compatible. return fn(*args_all, **kw). scanpy/preprocessing/_highly_variable_genes.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:4207,safety,ERROR,ERROR,4207," destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[log_transform-True] - ValueError: assignment destination is read-only. ```. </details>. <details>. <summary> Test failure traceback </summary>. ```pytb. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . ../../mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/legacy_api_wrap/__init__.py:80: in fn_compatible. return fn(*args_all, **kw). scanpy/preprocessing/_highly_variable_genes.py:651: in highly_variable_genes. df = _highly_variable_genes_single_batch(. scanpy/preprocessing/_highly_variable_genes.py:288: in _hi",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:4220,safety,test,tests,4220,"is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[log_transform-True] - ValueError: assignment destination is read-only. ```. </details>. <details>. <summary> Test failure traceback </summary>. ```pytb. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . ../../mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/legacy_api_wrap/__init__.py:80: in fn_compatible. return fn(*args_all, **kw). scanpy/preprocessing/_highly_variable_genes.py:651: in highly_variable_genes. df = _highly_variable_genes_single_batch(. scanpy/preprocessing/_highly_variable_genes.py:288: in _highly_variable",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:4343,safety,ERROR,ERROR,4343,"y is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[log_transform-True] - ValueError: assignment destination is read-only. ```. </details>. <details>. <summary> Test failure traceback </summary>. ```pytb. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . ../../mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/legacy_api_wrap/__init__.py:80: in fn_compatible. return fn(*args_all, **kw). scanpy/preprocessing/_highly_variable_genes.py:651: in highly_variable_genes. df = _highly_variable_genes_single_batch(. scanpy/preprocessing/_highly_variable_genes.py:288: in _highly_variable_genes_single_batch. df[""highly_variable""] = _subset_genes(. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:4356,safety,test,tests,4356,"y. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[log_transform-True] - ValueError: assignment destination is read-only. ```. </details>. <details>. <summary> Test failure traceback </summary>. ```pytb. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . ../../mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/legacy_api_wrap/__init__.py:80: in fn_compatible. return fn(*args_all, **kw). scanpy/preprocessing/_highly_variable_genes.py:651: in highly_variable_genes. df = _highly_variable_genes_single_batch(. scanpy/preprocessing/_highly_variable_genes.py:288: in _highly_variable_genes_single_batch. df[""highly_variable""] = _subset_genes(. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:4478,safety,ERROR,ERROR,4478,"canpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[log_transform-True] - ValueError: assignment destination is read-only. ```. </details>. <details>. <summary> Test failure traceback </summary>. ```pytb. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . ../../mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/legacy_api_wrap/__init__.py:80: in fn_compatible. return fn(*args_all, **kw). scanpy/preprocessing/_highly_variable_genes.py:651: in highly_variable_genes. df = _highly_variable_genes_single_batch(. scanpy/preprocessing/_highly_variable_genes.py:288: in _highly_variable_genes_single_batch. df[""highly_variable""] = _subset_genes(. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:4491,safety,test,tests,4491,"est_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[log_transform-True] - ValueError: assignment destination is read-only. ```. </details>. <details>. <summary> Test failure traceback </summary>. ```pytb. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . ../../mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/legacy_api_wrap/__init__.py:80: in fn_compatible. return fn(*args_all, **kw). scanpy/preprocessing/_highly_variable_genes.py:651: in highly_variable_genes. df = _highly_variable_genes_single_batch(. scanpy/preprocessing/_highly_variable_genes.py:288: in _highly_variable_genes_single_batch. df[""highly_variable""] = _subset_genes(. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . adata = ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:4645,safety,Test,Test,4645,"lueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[log_transform-True] - ValueError: assignment destination is read-only. ```. </details>. <details>. <summary> Test failure traceback </summary>. ```pytb. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . ../../mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/legacy_api_wrap/__init__.py:80: in fn_compatible. return fn(*args_all, **kw). scanpy/preprocessing/_highly_variable_genes.py:651: in highly_variable_genes. df = _highly_variable_genes_single_batch(. scanpy/preprocessing/_highly_variable_genes.py:288: in _highly_variable_genes_single_batch. df[""highly_variable""] = _subset_genes(. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . adata = AnnData object with n_obs × n_vars = 700 × 765. obs: 'bulk_labels', 'n_genes', 'percent_mito', 'n_counts', 'S_score...'pca', 'rank_genes_groups', 'log1p'",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:6225,safety,Depend,Dependencies,6225,"t__.py:80: in fn_compatible. return fn(*args_all, **kw). scanpy/preprocessing/_highly_variable_genes.py:651: in highly_variable_genes. df = _highly_variable_genes_single_batch(. scanpy/preprocessing/_highly_variable_genes.py:288: in _highly_variable_genes_single_batch. df[""highly_variable""] = _subset_genes(. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . adata = AnnData object with n_obs × n_vars = 700 × 765. obs: 'bulk_labels', 'n_genes', 'percent_mito', 'n_counts', 'S_score...'pca', 'rank_genes_groups', 'log1p'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. obsp: 'distances', 'connectivities'. def _subset_genes(. adata: AnnData,. *,. mean: NDArray[np.float64] | DaskArray,. dispersion_norm: NDArray[np.float64] | DaskArray,. cutoff: _Cutoffs | int,. ) -> NDArray[np.bool_] | DaskArray:. """"""Get boolean mask of genes with normalized dispersion in bounds."""""". if isinstance(cutoff, _Cutoffs):. > dispersion_norm[np.isnan(dispersion_norm)] = 0 # similar to Seurat. E ValueError: assignment destination is read-only. scanpy/preprocessing/_highly_variable_genes.py:365: ValueError. ```. </details>. Dependencies are different, looks like a dask update and a pyarrow added dep. I suspect this has to do with the new dask-expr. ----. I can replicate locally by install the new dask, dask-expr, and pyarrow. ----. Importing dask.dataframe changes the settings for pandas somehow:. ```python. In [1]: import pandas as pd. In [2]: pd.DataFrame({""a"": [1,2,3, None]})[""a""].to_numpy().flags. Out[2]: . C_CONTIGUOUS : True. F_CONTIGUOUS : True. OWNDATA : False. WRITEABLE : True. ALIGNED : True. WRITEBACKIFCOPY : False. In [3]: import dask.dataframe as ddf. In [4]: pd.DataFrame({""a"": [1,2,3, None]})[""a""].to_numpy().flags. Out[4]: . C_CONTIGUOUS : True. F_CONTIGUOUS : True. OWNDATA : False. WRITEABLE : False. ALIGNED : True. WRITEBACKIFCOPY : False. ```",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:6271,safety,updat,update,6271,"t__.py:80: in fn_compatible. return fn(*args_all, **kw). scanpy/preprocessing/_highly_variable_genes.py:651: in highly_variable_genes. df = _highly_variable_genes_single_batch(. scanpy/preprocessing/_highly_variable_genes.py:288: in _highly_variable_genes_single_batch. df[""highly_variable""] = _subset_genes(. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . adata = AnnData object with n_obs × n_vars = 700 × 765. obs: 'bulk_labels', 'n_genes', 'percent_mito', 'n_counts', 'S_score...'pca', 'rank_genes_groups', 'log1p'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. obsp: 'distances', 'connectivities'. def _subset_genes(. adata: AnnData,. *,. mean: NDArray[np.float64] | DaskArray,. dispersion_norm: NDArray[np.float64] | DaskArray,. cutoff: _Cutoffs | int,. ) -> NDArray[np.bool_] | DaskArray:. """"""Get boolean mask of genes with normalized dispersion in bounds."""""". if isinstance(cutoff, _Cutoffs):. > dispersion_norm[np.isnan(dispersion_norm)] = 0 # similar to Seurat. E ValueError: assignment destination is read-only. scanpy/preprocessing/_highly_variable_genes.py:365: ValueError. ```. </details>. Dependencies are different, looks like a dask update and a pyarrow added dep. I suspect this has to do with the new dask-expr. ----. I can replicate locally by install the new dask, dask-expr, and pyarrow. ----. Importing dask.dataframe changes the settings for pandas somehow:. ```python. In [1]: import pandas as pd. In [2]: pd.DataFrame({""a"": [1,2,3, None]})[""a""].to_numpy().flags. Out[2]: . C_CONTIGUOUS : True. F_CONTIGUOUS : True. OWNDATA : False. WRITEABLE : True. ALIGNED : True. WRITEBACKIFCOPY : False. In [3]: import dask.dataframe as ddf. In [4]: pd.DataFrame({""a"": [1,2,3, None]})[""a""].to_numpy().flags. Out[4]: . C_CONTIGUOUS : True. F_CONTIGUOUS : True. OWNDATA : False. WRITEABLE : False. ALIGNED : True. WRITEBACKIFCOPY : False. ```",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:5,security,updat,update,5,Dask update causing CI failures; <details>. <summary> Errors look like: </summary>. ```. FAILED scanpy/tests/test_highly_variable_genes.py::test_runs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_supports_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:6271,security,updat,update,6271,"t__.py:80: in fn_compatible. return fn(*args_all, **kw). scanpy/preprocessing/_highly_variable_genes.py:651: in highly_variable_genes. df = _highly_variable_genes_single_batch(. scanpy/preprocessing/_highly_variable_genes.py:288: in _highly_variable_genes_single_batch. df[""highly_variable""] = _subset_genes(. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . adata = AnnData object with n_obs × n_vars = 700 × 765. obs: 'bulk_labels', 'n_genes', 'percent_mito', 'n_counts', 'S_score...'pca', 'rank_genes_groups', 'log1p'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. obsp: 'distances', 'connectivities'. def _subset_genes(. adata: AnnData,. *,. mean: NDArray[np.float64] | DaskArray,. dispersion_norm: NDArray[np.float64] | DaskArray,. cutoff: _Cutoffs | int,. ) -> NDArray[np.bool_] | DaskArray:. """"""Get boolean mask of genes with normalized dispersion in bounds."""""". if isinstance(cutoff, _Cutoffs):. > dispersion_norm[np.isnan(dispersion_norm)] = 0 # similar to Seurat. E ValueError: assignment destination is read-only. scanpy/preprocessing/_highly_variable_genes.py:365: ValueError. ```. </details>. Dependencies are different, looks like a dask update and a pyarrow added dep. I suspect this has to do with the new dask-expr. ----. I can replicate locally by install the new dask, dask-expr, and pyarrow. ----. Importing dask.dataframe changes the settings for pandas somehow:. ```python. In [1]: import pandas as pd. In [2]: pd.DataFrame({""a"": [1,2,3, None]})[""a""].to_numpy().flags. Out[2]: . C_CONTIGUOUS : True. F_CONTIGUOUS : True. OWNDATA : False. WRITEABLE : True. ALIGNED : True. WRITEBACKIFCOPY : False. In [3]: import dask.dataframe as ddf. In [4]: pd.DataFrame({""a"": [1,2,3, None]})[""a""].to_numpy().flags. Out[4]: . C_CONTIGUOUS : True. F_CONTIGUOUS : True. OWNDATA : False. WRITEABLE : False. ALIGNED : True. WRITEBACKIFCOPY : False. ```",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:103,testability,test,tests,103,Dask update causing CI failures; <details>. <summary> Errors look like: </summary>. ```. FAILED scanpy/tests/test_highly_variable_genes.py::test_runs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_supports_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:215,testability,test,tests,215,Dask update causing CI failures; <details>. <summary> Errors look like: </summary>. ```. FAILED scanpy/tests/test_highly_variable_genes.py::test_runs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_supports_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:337,testability,test,tests,337,Dask update causing CI failures; <details>. <summary> Errors look like: </summary>. ```. FAILED scanpy/tests/test_highly_variable_genes.py::test_runs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_supports_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:467,testability,test,tests,467,Dask update causing CI failures; <details>. <summary> Errors look like: </summary>. ```. FAILED scanpy/tests/test_highly_variable_genes.py::test_runs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_supports_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:607,testability,test,tests,607,Dask update causing CI failures; <details>. <summary> Errors look like: </summary>. ```. FAILED scanpy/tests/test_highly_variable_genes.py::test_runs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_supports_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:748,testability,test,tests,748,Dask update causing CI failures; <details>. <summary> Errors look like: </summary>. ```. FAILED scanpy/tests/test_highly_variable_genes.py::test_runs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_supports_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:884,testability,test,tests,884,Dask update causing CI failures; <details>. <summary> Errors look like: </summary>. ```. FAILED scanpy/tests/test_highly_variable_genes.py::test_runs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_supports_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:1021,testability,test,tests,1021,ailures; <details>. <summary> Errors look like: </summary>. ```. FAILED scanpy/tests/test_highly_variable_genes.py::test_runs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_supports_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:1157,testability,test,tests,1157,or: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_supports_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: ,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:1294,testability,test,tests,1294,destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destinati,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:1437,testability,test,tests,1437,s read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED sc,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:1581,testability,test,tests,1581,ad-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:1717,testability,test,tests,1717,is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: as,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:1851,testability,test,tests,1851,n is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. ,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:1990,testability,test,tests,1990,is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:2090,testability,test,tests,2090, ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:2211,testability,test,tests,2211,y_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment des,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:2328,testability,test,tests,2328,test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buf,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:2445,testability,test,tests,2445,highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment d,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:2569,testability,test,tests,2569,D scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is ,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:2670,testability,test,tests,2670,ent destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment desti,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:2769,testability,test,tests,2769,ll_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignm,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:2868,testability,test,tests,2868,riable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:2987,testability,test,tests,2987,tests/test_pca.py::test_pca_sparse - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:3119,testability,test,tests,3119,oducible[numpy_ndarray] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synth,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:3251,testability,test,tests,3251,ipy_csr] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[scipy_csc] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrub,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:3376,testability,test,tests,3376, - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_reproducible[dask_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py:,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:3487,testability,test,tests,3487,_array_dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_chunked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only. ERROR scanpy,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:3597,testability,test,tests,3597,nked - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_n_pcs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[log_transform-True] - ValueError: assignment destination is read,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:3708,testability,test,tests,3708,Error: assignment destination is read-only. FAILED scanpy/tests/test_pca.py::test_pca_layer - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[log_transform-True] - ValueError: assignment destination is read-only. ```. </details>. <details>. <summary> Test failure traceback </summary>. ```pytb. _ _ _ _ _ _ _ _ _ _ _ ,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:3816,testability,test,tests,3816,signment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[log_transform-True] - ValueError: assignment destination is read-only. ```. </details>. <details>. <summary> Test failure traceback </summary>. ```pytb. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ ,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:3936,testability,test,tests,3936,ignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[log_transform-True] - ValueError: assignment destination is read-only. ```. </details>. <details>. <summary> Test failure traceback </summary>. ```pytb. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . ../../mambaforge/envs/scanpy-dev/lib/python3.11/,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:4072,testability,test,tests,4072,"ent destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[log_transform-True] - ValueError: assignment destination is read-only. ```. </details>. <details>. <summary> Test failure traceback </summary>. ```pytb. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . ../../mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/legacy_api_wrap/__init__.py:80: in fn_compatible. return fn(*args_all, **kw). scanpy/preprocessing/_highly_variable_genes.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:4220,testability,test,tests,4220,"is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[log_transform-True] - ValueError: assignment destination is read-only. ```. </details>. <details>. <summary> Test failure traceback </summary>. ```pytb. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . ../../mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/legacy_api_wrap/__init__.py:80: in fn_compatible. return fn(*args_all, **kw). scanpy/preprocessing/_highly_variable_genes.py:651: in highly_variable_genes. df = _highly_variable_genes_single_batch(. scanpy/preprocessing/_highly_variable_genes.py:288: in _highly_variable",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:4356,testability,test,tests,4356,"y. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[log_transform-True] - ValueError: assignment destination is read-only. ```. </details>. <details>. <summary> Test failure traceback </summary>. ```pytb. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . ../../mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/legacy_api_wrap/__init__.py:80: in fn_compatible. return fn(*args_all, **kw). scanpy/preprocessing/_highly_variable_genes.py:651: in highly_variable_genes. df = _highly_variable_genes_single_batch(. scanpy/preprocessing/_highly_variable_genes.py:288: in _highly_variable_genes_single_batch. df[""highly_variable""] = _subset_genes(. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:4491,testability,test,tests,4491,"est_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[log_transform-True] - ValueError: assignment destination is read-only. ```. </details>. <details>. <summary> Test failure traceback </summary>. ```pytb. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . ../../mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/legacy_api_wrap/__init__.py:80: in fn_compatible. return fn(*args_all, **kw). scanpy/preprocessing/_highly_variable_genes.py:651: in highly_variable_genes. df = _highly_variable_genes_single_batch(. scanpy/preprocessing/_highly_variable_genes.py:288: in _highly_variable_genes_single_batch. df[""highly_variable""] = _subset_genes(. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . adata = ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:4645,testability,Test,Test,4645,"lueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[log_transform-True] - ValueError: assignment destination is read-only. ```. </details>. <details>. <summary> Test failure traceback </summary>. ```pytb. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . ../../mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/legacy_api_wrap/__init__.py:80: in fn_compatible. return fn(*args_all, **kw). scanpy/preprocessing/_highly_variable_genes.py:651: in highly_variable_genes. df = _highly_variable_genes_single_batch(. scanpy/preprocessing/_highly_variable_genes.py:288: in _highly_variable_genes_single_batch. df[""highly_variable""] = _subset_genes(. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . adata = AnnData object with n_obs × n_vars = 700 × 765. obs: 'bulk_labels', 'n_genes', 'percent_mito', 'n_counts', 'S_score...'pca', 'rank_genes_groups', 'log1p'",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:4658,testability,trace,traceback,4658,"ment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[log_transform-True] - ValueError: assignment destination is read-only. ```. </details>. <details>. <summary> Test failure traceback </summary>. ```pytb. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . ../../mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/legacy_api_wrap/__init__.py:80: in fn_compatible. return fn(*args_all, **kw). scanpy/preprocessing/_highly_variable_genes.py:651: in highly_variable_genes. df = _highly_variable_genes_single_batch(. scanpy/preprocessing/_highly_variable_genes.py:288: in _highly_variable_genes_single_batch. df[""highly_variable""] = _subset_genes(. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . adata = AnnData object with n_obs × n_vars = 700 × 765. obs: 'bulk_labels', 'n_genes', 'percent_mito', 'n_counts', 'S_score...'pca', 'rank_genes_groups', 'log1p'. obsm: 'X_pca',",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:6225,testability,Depend,Dependencies,6225,"t__.py:80: in fn_compatible. return fn(*args_all, **kw). scanpy/preprocessing/_highly_variable_genes.py:651: in highly_variable_genes. df = _highly_variable_genes_single_batch(. scanpy/preprocessing/_highly_variable_genes.py:288: in _highly_variable_genes_single_batch. df[""highly_variable""] = _subset_genes(. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . adata = AnnData object with n_obs × n_vars = 700 × 765. obs: 'bulk_labels', 'n_genes', 'percent_mito', 'n_counts', 'S_score...'pca', 'rank_genes_groups', 'log1p'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. obsp: 'distances', 'connectivities'. def _subset_genes(. adata: AnnData,. *,. mean: NDArray[np.float64] | DaskArray,. dispersion_norm: NDArray[np.float64] | DaskArray,. cutoff: _Cutoffs | int,. ) -> NDArray[np.bool_] | DaskArray:. """"""Get boolean mask of genes with normalized dispersion in bounds."""""". if isinstance(cutoff, _Cutoffs):. > dispersion_norm[np.isnan(dispersion_norm)] = 0 # similar to Seurat. E ValueError: assignment destination is read-only. scanpy/preprocessing/_highly_variable_genes.py:365: ValueError. ```. </details>. Dependencies are different, looks like a dask update and a pyarrow added dep. I suspect this has to do with the new dask-expr. ----. I can replicate locally by install the new dask, dask-expr, and pyarrow. ----. Importing dask.dataframe changes the settings for pandas somehow:. ```python. In [1]: import pandas as pd. In [2]: pd.DataFrame({""a"": [1,2,3, None]})[""a""].to_numpy().flags. Out[2]: . C_CONTIGUOUS : True. F_CONTIGUOUS : True. OWNDATA : False. WRITEABLE : True. ALIGNED : True. WRITEBACKIFCOPY : False. In [3]: import dask.dataframe as ddf. In [4]: pd.DataFrame({""a"": [1,2,3, None]})[""a""].to_numpy().flags. Out[4]: . C_CONTIGUOUS : True. F_CONTIGUOUS : True. OWNDATA : False. WRITEABLE : False. ALIGNED : True. WRITEBACKIFCOPY : False. ```",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:54,usability,Error,Errors,54,Dask update causing CI failures; <details>. <summary> Errors look like: </summary>. ```. FAILED scanpy/tests/test_highly_variable_genes.py::test_runs - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_supports_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_batch_matches_batch - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[numpy_ndarray-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csr-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[scipy_csc-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-single] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_no_inplace[dask_array_dense-batched] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-None] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_keep_layer[cell_ranger-10] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_highly_variable_genes.py::test_compare_to_upstream[seurat-hvg] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:3923,usability,ERROR,ERROR,3923,lueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_no_threshold] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[log_transform-True] - ValueError: assignment destination is read-only. ```. </details>. <details>. <summary> Test failure traceback </summary>. ```pytb. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . ../../mambaforge/envs/scanpy-dev/li,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:4059,usability,ERROR,ERROR,4059,"rror: assignment destination is read-only. FAILED scanpy/tests/test_plotting.py::test_scrublet_plots[scrublet_with_batches] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[log_transform-True] - ValueError: assignment destination is read-only. ```. </details>. <details>. <summary> Test failure traceback </summary>. ```pytb. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . ../../mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/legacy_api_wrap/__init__.py:80: in fn_compatible. return fn(*args_all, **kw). scanpy/preprocessing/_highly_va",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:4207,usability,ERROR,ERROR,4207," destination is read-only. FAILED scanpy/tests/test_preprocessing_distributed.py::test_write_zarr[dask] - ValueError: buffer source array is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[log_transform-True] - ValueError: assignment destination is read-only. ```. </details>. <details>. <summary> Test failure traceback </summary>. ```pytb. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . ../../mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/legacy_api_wrap/__init__.py:80: in fn_compatible. return fn(*args_all, **kw). scanpy/preprocessing/_highly_variable_genes.py:651: in highly_variable_genes. df = _highly_variable_genes_single_batch(. scanpy/preprocessing/_highly_variable_genes.py:288: in _hi",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:4343,usability,ERROR,ERROR,4343,"y is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[sparse] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[log_transform-True] - ValueError: assignment destination is read-only. ```. </details>. <details>. <summary> Test failure traceback </summary>. ```pytb. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . ../../mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/legacy_api_wrap/__init__.py:80: in fn_compatible. return fn(*args_all, **kw). scanpy/preprocessing/_highly_variable_genes.py:651: in highly_variable_genes. df = _highly_variable_genes_single_batch(. scanpy/preprocessing/_highly_variable_genes.py:288: in _highly_variable_genes_single_batch. df[""highly_variable""] = _subset_genes(. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/issues/2902:4478,usability,ERROR,ERROR,4478,"canpy/tests/test_scrublet.py::test_scrublet[dense] - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_batched - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_data - ValueError: assignment destination is read-only. FAILED scanpy/tests/test_scrublet.py::test_scrublet_simulate_doublets - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[expected_doublet_rate-0.1] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[synthetic_doublet_umi_subsampling-0.8] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[knn_dist_metric-manhattan] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[normalize_variance-False] - ValueError: assignment destination is read-only. ERROR scanpy/tests/test_scrublet.py::test_scrublet_params[log_transform-True] - ValueError: assignment destination is read-only. ```. </details>. <details>. <summary> Test failure traceback </summary>. ```pytb. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ . ../../mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/legacy_api_wrap/__init__.py:80: in fn_compatible. return fn(*args_all, **kw). scanpy/preprocessing/_highly_variable_genes.py:651: in highly_variable_genes. df = _highly_variable_genes_single_batch(. scanpy/preprocessing/_highly_variable_genes.py:288: in _highly_variable_genes_single_batch. df[""highly_variable""] = _subset_genes(. _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2902
https://github.com/scverse/scanpy/pull/2904:55,integrability,transform,transformer,55,Backport PR #2903 on branch 1.10.x (tutorial link for `transformer`); Backport PR #2903: tutorial link for `transformer`,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2904
https://github.com/scverse/scanpy/pull/2904:108,integrability,transform,transformer,108,Backport PR #2903 on branch 1.10.x (tutorial link for `transformer`); Backport PR #2903: tutorial link for `transformer`,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2904
https://github.com/scverse/scanpy/pull/2904:55,interoperability,transform,transformer,55,Backport PR #2903 on branch 1.10.x (tutorial link for `transformer`); Backport PR #2903: tutorial link for `transformer`,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2904
https://github.com/scverse/scanpy/pull/2904:108,interoperability,transform,transformer,108,Backport PR #2903 on branch 1.10.x (tutorial link for `transformer`); Backport PR #2903: tutorial link for `transformer`,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2904
https://github.com/scverse/scanpy/pull/2905:480,deployability,releas,release,480,Remove inplace modification of a buffer created by pandas; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2902. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2905
https://github.com/scverse/scanpy/pull/2905:505,deployability,Releas,Release,505,Remove inplace modification of a buffer created by pandas; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2902. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2905
https://github.com/scverse/scanpy/pull/2905:33,integrability,buffer,buffer,33,Remove inplace modification of a buffer created by pandas; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2902. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2905
https://github.com/scverse/scanpy/pull/2905:278,safety,review,review,278,Remove inplace modification of a buffer created by pandas; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2902. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2905
https://github.com/scverse/scanpy/pull/2905:382,safety,Test,Tests,382,Remove inplace modification of a buffer created by pandas; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2902. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2905
https://github.com/scverse/scanpy/pull/2905:15,security,modif,modification,15,Remove inplace modification of a buffer created by pandas; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2902. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2905
https://github.com/scverse/scanpy/pull/2905:278,testability,review,review,278,Remove inplace modification of a buffer created by pandas; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2902. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2905
https://github.com/scverse/scanpy/pull/2905:382,testability,Test,Tests,382,Remove inplace modification of a buffer created by pandas; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2902. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2905
https://github.com/scverse/scanpy/pull/2905:129,usability,guid,guidelines,129,Remove inplace modification of a buffer created by pandas; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2902. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2905
https://github.com/scverse/scanpy/pull/2905:160,usability,guid,guide,160,Remove inplace modification of a buffer created by pandas; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2902. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2905
https://github.com/scverse/scanpy/pull/2905:256,usability,workflow,workflow,256,Remove inplace modification of a buffer created by pandas; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2902. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2905
https://github.com/scverse/scanpy/pull/2905:362,usability,Close,Closes,362,Remove inplace modification of a buffer created by pandas; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2902. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2905
https://github.com/scverse/scanpy/issues/2906:472,availability,cluster,cluster,472,"sc.tl.leiden, restrict_to function not properly working; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Tried to run this function:. sc.tl.leiden(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). and instead it is subsetting cluster 5 into over 400 new subsets, even with my resolution set to 0.1. I've also tried different resolutions and none of them work, it ignores the resolution altogether. . ![leiden](https://github.com/scverse/scanpy/assets/88872118/7fa7114e-d8ae-4e91-94b6-ece1f9505594). ### Minimal code sample. ```python. sc.tl.leiden(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.3. scanpy 1.9.6. -----. PIL 10.0.1. appnope 0.1.2. asttokens NA. attr 23.1.0. bottleneck 1.3.5. brotli NA. celltypist 1.6.2. certifi 2023.11.17. cffi 1.16.0. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.1.2. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.2. dask 2022.7.0. dateutil 2.8.2. debugpy 1.6.7. decorator 5.1.1. decoupler 1.5.0. defusedxml 0.7.1. dill 0.3.7. docrep 0.3.2. entrypoints 0.4. exceptiongroup 1.2.0. executing 0.8.3. fsspec 2023.10.0. h5py 3.7.0. idna 3.4. igraph 0.10.8. inflect NA. ipykernel 6.28.0. ipython_genutils 0.2.0. jedi 0.18.1. jinja2 3.1.3. joblib 1.3.2. jupyter_server 1.23.4. kiwisolver 1.4.4. leidenalg 0.10.1. llvmlite 0.42.0. louvain 0.8.1. lz4 4.3.2. markupsafe 2.1.3. matplotlib 3.8.0. matplotlib_inline 0.1.6. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.7. numpy 1.26.3. omnipath 1.0.8. packaging 23.1. pandas 2.1.4. parso 0.8.3. patsy 0.5.6. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. platformdirs 3.10.0. plotly 5.9.0. prompt_toolkit 3.0.43. psutil 5.9.0. ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2906
https://github.com/scverse/scanpy/issues/2906:861,availability,Error,Error,861,"sc.tl.leiden, restrict_to function not properly working; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Tried to run this function:. sc.tl.leiden(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). and instead it is subsetting cluster 5 into over 400 new subsets, even with my resolution set to 0.1. I've also tried different resolutions and none of them work, it ignores the resolution altogether. . ![leiden](https://github.com/scverse/scanpy/assets/88872118/7fa7114e-d8ae-4e91-94b6-ece1f9505594). ### Minimal code sample. ```python. sc.tl.leiden(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.3. scanpy 1.9.6. -----. PIL 10.0.1. appnope 0.1.2. asttokens NA. attr 23.1.0. bottleneck 1.3.5. brotli NA. celltypist 1.6.2. certifi 2023.11.17. cffi 1.16.0. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.1.2. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.2. dask 2022.7.0. dateutil 2.8.2. debugpy 1.6.7. decorator 5.1.1. decoupler 1.5.0. defusedxml 0.7.1. dill 0.3.7. docrep 0.3.2. entrypoints 0.4. exceptiongroup 1.2.0. executing 0.8.3. fsspec 2023.10.0. h5py 3.7.0. idna 3.4. igraph 0.10.8. inflect NA. ipykernel 6.28.0. ipython_genutils 0.2.0. jedi 0.18.1. jinja2 3.1.3. joblib 1.3.2. jupyter_server 1.23.4. kiwisolver 1.4.4. leidenalg 0.10.1. llvmlite 0.42.0. louvain 0.8.1. lz4 4.3.2. markupsafe 2.1.3. matplotlib 3.8.0. matplotlib_inline 0.1.6. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.7. numpy 1.26.3. omnipath 1.0.8. packaging 23.1. pandas 2.1.4. parso 0.8.3. patsy 0.5.6. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. platformdirs 3.10.0. plotly 5.9.0. prompt_toolkit 3.0.43. psutil 5.9.0. ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2906
https://github.com/scverse/scanpy/issues/2906:225,deployability,version,version,225,"sc.tl.leiden, restrict_to function not properly working; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Tried to run this function:. sc.tl.leiden(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). and instead it is subsetting cluster 5 into over 400 new subsets, even with my resolution set to 0.1. I've also tried different resolutions and none of them work, it ignores the resolution altogether. . ![leiden](https://github.com/scverse/scanpy/assets/88872118/7fa7114e-d8ae-4e91-94b6-ece1f9505594). ### Minimal code sample. ```python. sc.tl.leiden(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.3. scanpy 1.9.6. -----. PIL 10.0.1. appnope 0.1.2. asttokens NA. attr 23.1.0. bottleneck 1.3.5. brotli NA. celltypist 1.6.2. certifi 2023.11.17. cffi 1.16.0. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.1.2. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.2. dask 2022.7.0. dateutil 2.8.2. debugpy 1.6.7. decorator 5.1.1. decoupler 1.5.0. defusedxml 0.7.1. dill 0.3.7. docrep 0.3.2. entrypoints 0.4. exceptiongroup 1.2.0. executing 0.8.3. fsspec 2023.10.0. h5py 3.7.0. idna 3.4. igraph 0.10.8. inflect NA. ipykernel 6.28.0. ipython_genutils 0.2.0. jedi 0.18.1. jinja2 3.1.3. joblib 1.3.2. jupyter_server 1.23.4. kiwisolver 1.4.4. leidenalg 0.10.1. llvmlite 0.42.0. louvain 0.8.1. lz4 4.3.2. markupsafe 2.1.3. matplotlib 3.8.0. matplotlib_inline 0.1.6. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.7. numpy 1.26.3. omnipath 1.0.8. packaging 23.1. pandas 2.1.4. parso 0.8.3. patsy 0.5.6. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. platformdirs 3.10.0. plotly 5.9.0. prompt_toolkit 3.0.43. psutil 5.9.0. ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2906
https://github.com/scverse/scanpy/issues/2906:472,deployability,cluster,cluster,472,"sc.tl.leiden, restrict_to function not properly working; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Tried to run this function:. sc.tl.leiden(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). and instead it is subsetting cluster 5 into over 400 new subsets, even with my resolution set to 0.1. I've also tried different resolutions and none of them work, it ignores the resolution altogether. . ![leiden](https://github.com/scverse/scanpy/assets/88872118/7fa7114e-d8ae-4e91-94b6-ece1f9505594). ### Minimal code sample. ```python. sc.tl.leiden(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.3. scanpy 1.9.6. -----. PIL 10.0.1. appnope 0.1.2. asttokens NA. attr 23.1.0. bottleneck 1.3.5. brotli NA. celltypist 1.6.2. certifi 2023.11.17. cffi 1.16.0. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.1.2. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.2. dask 2022.7.0. dateutil 2.8.2. debugpy 1.6.7. decorator 5.1.1. decoupler 1.5.0. defusedxml 0.7.1. dill 0.3.7. docrep 0.3.2. entrypoints 0.4. exceptiongroup 1.2.0. executing 0.8.3. fsspec 2023.10.0. h5py 3.7.0. idna 3.4. igraph 0.10.8. inflect NA. ipykernel 6.28.0. ipython_genutils 0.2.0. jedi 0.18.1. jinja2 3.1.3. joblib 1.3.2. jupyter_server 1.23.4. kiwisolver 1.4.4. leidenalg 0.10.1. llvmlite 0.42.0. louvain 0.8.1. lz4 4.3.2. markupsafe 2.1.3. matplotlib 3.8.0. matplotlib_inline 0.1.6. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.7. numpy 1.26.3. omnipath 1.0.8. packaging 23.1. pandas 2.1.4. parso 0.8.3. patsy 0.5.6. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. platformdirs 3.10.0. plotly 5.9.0. prompt_toolkit 3.0.43. psutil 5.9.0. ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2906
https://github.com/scverse/scanpy/issues/2906:894,deployability,Version,Versions,894,"sc.tl.leiden, restrict_to function not properly working; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Tried to run this function:. sc.tl.leiden(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). and instead it is subsetting cluster 5 into over 400 new subsets, even with my resolution set to 0.1. I've also tried different resolutions and none of them work, it ignores the resolution altogether. . ![leiden](https://github.com/scverse/scanpy/assets/88872118/7fa7114e-d8ae-4e91-94b6-ece1f9505594). ### Minimal code sample. ```python. sc.tl.leiden(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.3. scanpy 1.9.6. -----. PIL 10.0.1. appnope 0.1.2. asttokens NA. attr 23.1.0. bottleneck 1.3.5. brotli NA. celltypist 1.6.2. certifi 2023.11.17. cffi 1.16.0. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.1.2. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.2. dask 2022.7.0. dateutil 2.8.2. debugpy 1.6.7. decorator 5.1.1. decoupler 1.5.0. defusedxml 0.7.1. dill 0.3.7. docrep 0.3.2. entrypoints 0.4. exceptiongroup 1.2.0. executing 0.8.3. fsspec 2023.10.0. h5py 3.7.0. idna 3.4. igraph 0.10.8. inflect NA. ipykernel 6.28.0. ipython_genutils 0.2.0. jedi 0.18.1. jinja2 3.1.3. joblib 1.3.2. jupyter_server 1.23.4. kiwisolver 1.4.4. leidenalg 0.10.1. llvmlite 0.42.0. louvain 0.8.1. lz4 4.3.2. markupsafe 2.1.3. matplotlib 3.8.0. matplotlib_inline 0.1.6. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.7. numpy 1.26.3. omnipath 1.0.8. packaging 23.1. pandas 2.1.4. parso 0.8.3. patsy 0.5.6. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. platformdirs 3.10.0. plotly 5.9.0. prompt_toolkit 3.0.43. psutil 5.9.0. ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2906
https://github.com/scverse/scanpy/issues/2906:2988,deployability,updat,updated,2988,"brotli NA. celltypist 1.6.2. certifi 2023.11.17. cffi 1.16.0. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.1.2. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.2. dask 2022.7.0. dateutil 2.8.2. debugpy 1.6.7. decorator 5.1.1. decoupler 1.5.0. defusedxml 0.7.1. dill 0.3.7. docrep 0.3.2. entrypoints 0.4. exceptiongroup 1.2.0. executing 0.8.3. fsspec 2023.10.0. h5py 3.7.0. idna 3.4. igraph 0.10.8. inflect NA. ipykernel 6.28.0. ipython_genutils 0.2.0. jedi 0.18.1. jinja2 3.1.3. joblib 1.3.2. jupyter_server 1.23.4. kiwisolver 1.4.4. leidenalg 0.10.1. llvmlite 0.42.0. louvain 0.8.1. lz4 4.3.2. markupsafe 2.1.3. matplotlib 3.8.0. matplotlib_inline 0.1.6. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.7. numpy 1.26.3. omnipath 1.0.8. packaging 23.1. pandas 2.1.4. parso 0.8.3. patsy 0.5.6. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. platformdirs 3.10.0. plotly 5.9.0. prompt_toolkit 3.0.43. psutil 5.9.0. ptyprocess 0.7.0. pure_eval 0.2.2. pycparser 2.21. pydantic 1.10.12. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.15.1. pynndescent 0.5.11. pyparsing 3.0.9. pytz 2023.3.post1. requests 2.31.0. ruamel NA. scipy 1.11.4. seaborn 0.12.2. session_info 1.0.0. setuptools 65.6.3. six 1.16.0. sklearn 1.4.1.post1. snappy NA. socks 1.7.1. sparse 0.14.0. sphinxcontrib NA. stack_data 0.2.0. statsmodels 0.14.1. tblib 1.7.0. texttable 1.7.0. threadpoolctl 2.2.0. tlz 0.12.2. toolz 0.12.0. torch 1.12.1. tornado 6.1. tqdm 4.65.0. traitlets 5.7.1. typing_extensions NA. umap 0.5.5. urllib3 1.26.18. wcwidth 0.2.5. wrapt 1.14.1. yaml 6.0.1. zipp NA. zmq 25.1.2. zoneinfo NA. zope NA. zstandard 0.19.0. -----. IPython 8.20.0. jupyter_client 7.3.4. jupyter_core 5.5.0. jupyterlab 3.5.3. notebook 6.5.2. -----. Python 3.10.13 (main, Sep 11 2023, 08:16:02) [Clang 14.0.6 ]. macOS-14.1.2-arm64-arm-64bit. -----. Session information updated at 2024-03-12 14:52. ​. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2906
https://github.com/scverse/scanpy/issues/2906:1139,energy efficiency,cloud,cloudpickle,1139,"not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Tried to run this function:. sc.tl.leiden(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). and instead it is subsetting cluster 5 into over 400 new subsets, even with my resolution set to 0.1. I've also tried different resolutions and none of them work, it ignores the resolution altogether. . ![leiden](https://github.com/scverse/scanpy/assets/88872118/7fa7114e-d8ae-4e91-94b6-ece1f9505594). ### Minimal code sample. ```python. sc.tl.leiden(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.3. scanpy 1.9.6. -----. PIL 10.0.1. appnope 0.1.2. asttokens NA. attr 23.1.0. bottleneck 1.3.5. brotli NA. celltypist 1.6.2. certifi 2023.11.17. cffi 1.16.0. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.1.2. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.2. dask 2022.7.0. dateutil 2.8.2. debugpy 1.6.7. decorator 5.1.1. decoupler 1.5.0. defusedxml 0.7.1. dill 0.3.7. docrep 0.3.2. entrypoints 0.4. exceptiongroup 1.2.0. executing 0.8.3. fsspec 2023.10.0. h5py 3.7.0. idna 3.4. igraph 0.10.8. inflect NA. ipykernel 6.28.0. ipython_genutils 0.2.0. jedi 0.18.1. jinja2 3.1.3. joblib 1.3.2. jupyter_server 1.23.4. kiwisolver 1.4.4. leidenalg 0.10.1. llvmlite 0.42.0. louvain 0.8.1. lz4 4.3.2. markupsafe 2.1.3. matplotlib 3.8.0. matplotlib_inline 0.1.6. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.7. numpy 1.26.3. omnipath 1.0.8. packaging 23.1. pandas 2.1.4. parso 0.8.3. patsy 0.5.6. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. platformdirs 3.10.0. plotly 5.9.0. prompt_toolkit 3.0.43. psutil 5.9.0. ptyprocess 0.7.0. pure_eval 0.2.2. pycparser 2.21. pydantic 1.10.12. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydev",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2906
https://github.com/scverse/scanpy/issues/2906:225,integrability,version,version,225,"sc.tl.leiden, restrict_to function not properly working; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Tried to run this function:. sc.tl.leiden(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). and instead it is subsetting cluster 5 into over 400 new subsets, even with my resolution set to 0.1. I've also tried different resolutions and none of them work, it ignores the resolution altogether. . ![leiden](https://github.com/scverse/scanpy/assets/88872118/7fa7114e-d8ae-4e91-94b6-ece1f9505594). ### Minimal code sample. ```python. sc.tl.leiden(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.3. scanpy 1.9.6. -----. PIL 10.0.1. appnope 0.1.2. asttokens NA. attr 23.1.0. bottleneck 1.3.5. brotli NA. celltypist 1.6.2. certifi 2023.11.17. cffi 1.16.0. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.1.2. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.2. dask 2022.7.0. dateutil 2.8.2. debugpy 1.6.7. decorator 5.1.1. decoupler 1.5.0. defusedxml 0.7.1. dill 0.3.7. docrep 0.3.2. entrypoints 0.4. exceptiongroup 1.2.0. executing 0.8.3. fsspec 2023.10.0. h5py 3.7.0. idna 3.4. igraph 0.10.8. inflect NA. ipykernel 6.28.0. ipython_genutils 0.2.0. jedi 0.18.1. jinja2 3.1.3. joblib 1.3.2. jupyter_server 1.23.4. kiwisolver 1.4.4. leidenalg 0.10.1. llvmlite 0.42.0. louvain 0.8.1. lz4 4.3.2. markupsafe 2.1.3. matplotlib 3.8.0. matplotlib_inline 0.1.6. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.7. numpy 1.26.3. omnipath 1.0.8. packaging 23.1. pandas 2.1.4. parso 0.8.3. patsy 0.5.6. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. platformdirs 3.10.0. plotly 5.9.0. prompt_toolkit 3.0.43. psutil 5.9.0. ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2906
https://github.com/scverse/scanpy/issues/2906:461,integrability,sub,subsetting,461,"sc.tl.leiden, restrict_to function not properly working; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Tried to run this function:. sc.tl.leiden(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). and instead it is subsetting cluster 5 into over 400 new subsets, even with my resolution set to 0.1. I've also tried different resolutions and none of them work, it ignores the resolution altogether. . ![leiden](https://github.com/scverse/scanpy/assets/88872118/7fa7114e-d8ae-4e91-94b6-ece1f9505594). ### Minimal code sample. ```python. sc.tl.leiden(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.3. scanpy 1.9.6. -----. PIL 10.0.1. appnope 0.1.2. asttokens NA. attr 23.1.0. bottleneck 1.3.5. brotli NA. celltypist 1.6.2. certifi 2023.11.17. cffi 1.16.0. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.1.2. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.2. dask 2022.7.0. dateutil 2.8.2. debugpy 1.6.7. decorator 5.1.1. decoupler 1.5.0. defusedxml 0.7.1. dill 0.3.7. docrep 0.3.2. entrypoints 0.4. exceptiongroup 1.2.0. executing 0.8.3. fsspec 2023.10.0. h5py 3.7.0. idna 3.4. igraph 0.10.8. inflect NA. ipykernel 6.28.0. ipython_genutils 0.2.0. jedi 0.18.1. jinja2 3.1.3. joblib 1.3.2. jupyter_server 1.23.4. kiwisolver 1.4.4. leidenalg 0.10.1. llvmlite 0.42.0. louvain 0.8.1. lz4 4.3.2. markupsafe 2.1.3. matplotlib 3.8.0. matplotlib_inline 0.1.6. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.7. numpy 1.26.3. omnipath 1.0.8. packaging 23.1. pandas 2.1.4. parso 0.8.3. patsy 0.5.6. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. platformdirs 3.10.0. plotly 5.9.0. prompt_toolkit 3.0.43. psutil 5.9.0. ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2906
https://github.com/scverse/scanpy/issues/2906:500,integrability,sub,subsets,500,"sc.tl.leiden, restrict_to function not properly working; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Tried to run this function:. sc.tl.leiden(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). and instead it is subsetting cluster 5 into over 400 new subsets, even with my resolution set to 0.1. I've also tried different resolutions and none of them work, it ignores the resolution altogether. . ![leiden](https://github.com/scverse/scanpy/assets/88872118/7fa7114e-d8ae-4e91-94b6-ece1f9505594). ### Minimal code sample. ```python. sc.tl.leiden(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.3. scanpy 1.9.6. -----. PIL 10.0.1. appnope 0.1.2. asttokens NA. attr 23.1.0. bottleneck 1.3.5. brotli NA. celltypist 1.6.2. certifi 2023.11.17. cffi 1.16.0. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.1.2. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.2. dask 2022.7.0. dateutil 2.8.2. debugpy 1.6.7. decorator 5.1.1. decoupler 1.5.0. defusedxml 0.7.1. dill 0.3.7. docrep 0.3.2. entrypoints 0.4. exceptiongroup 1.2.0. executing 0.8.3. fsspec 2023.10.0. h5py 3.7.0. idna 3.4. igraph 0.10.8. inflect NA. ipykernel 6.28.0. ipython_genutils 0.2.0. jedi 0.18.1. jinja2 3.1.3. joblib 1.3.2. jupyter_server 1.23.4. kiwisolver 1.4.4. leidenalg 0.10.1. llvmlite 0.42.0. louvain 0.8.1. lz4 4.3.2. markupsafe 2.1.3. matplotlib 3.8.0. matplotlib_inline 0.1.6. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.7. numpy 1.26.3. omnipath 1.0.8. packaging 23.1. pandas 2.1.4. parso 0.8.3. patsy 0.5.6. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. platformdirs 3.10.0. plotly 5.9.0. prompt_toolkit 3.0.43. psutil 5.9.0. ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2906
https://github.com/scverse/scanpy/issues/2906:894,integrability,Version,Versions,894,"sc.tl.leiden, restrict_to function not properly working; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Tried to run this function:. sc.tl.leiden(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). and instead it is subsetting cluster 5 into over 400 new subsets, even with my resolution set to 0.1. I've also tried different resolutions and none of them work, it ignores the resolution altogether. . ![leiden](https://github.com/scverse/scanpy/assets/88872118/7fa7114e-d8ae-4e91-94b6-ece1f9505594). ### Minimal code sample. ```python. sc.tl.leiden(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.3. scanpy 1.9.6. -----. PIL 10.0.1. appnope 0.1.2. asttokens NA. attr 23.1.0. bottleneck 1.3.5. brotli NA. celltypist 1.6.2. certifi 2023.11.17. cffi 1.16.0. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.1.2. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.2. dask 2022.7.0. dateutil 2.8.2. debugpy 1.6.7. decorator 5.1.1. decoupler 1.5.0. defusedxml 0.7.1. dill 0.3.7. docrep 0.3.2. entrypoints 0.4. exceptiongroup 1.2.0. executing 0.8.3. fsspec 2023.10.0. h5py 3.7.0. idna 3.4. igraph 0.10.8. inflect NA. ipykernel 6.28.0. ipython_genutils 0.2.0. jedi 0.18.1. jinja2 3.1.3. joblib 1.3.2. jupyter_server 1.23.4. kiwisolver 1.4.4. leidenalg 0.10.1. llvmlite 0.42.0. louvain 0.8.1. lz4 4.3.2. markupsafe 2.1.3. matplotlib 3.8.0. matplotlib_inline 0.1.6. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.7. numpy 1.26.3. omnipath 1.0.8. packaging 23.1. pandas 2.1.4. parso 0.8.3. patsy 0.5.6. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. platformdirs 3.10.0. plotly 5.9.0. prompt_toolkit 3.0.43. psutil 5.9.0. ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2906
https://github.com/scverse/scanpy/issues/2906:2676,integrability,wrap,wrapt,2676,"brotli NA. celltypist 1.6.2. certifi 2023.11.17. cffi 1.16.0. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.1.2. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.2. dask 2022.7.0. dateutil 2.8.2. debugpy 1.6.7. decorator 5.1.1. decoupler 1.5.0. defusedxml 0.7.1. dill 0.3.7. docrep 0.3.2. entrypoints 0.4. exceptiongroup 1.2.0. executing 0.8.3. fsspec 2023.10.0. h5py 3.7.0. idna 3.4. igraph 0.10.8. inflect NA. ipykernel 6.28.0. ipython_genutils 0.2.0. jedi 0.18.1. jinja2 3.1.3. joblib 1.3.2. jupyter_server 1.23.4. kiwisolver 1.4.4. leidenalg 0.10.1. llvmlite 0.42.0. louvain 0.8.1. lz4 4.3.2. markupsafe 2.1.3. matplotlib 3.8.0. matplotlib_inline 0.1.6. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.7. numpy 1.26.3. omnipath 1.0.8. packaging 23.1. pandas 2.1.4. parso 0.8.3. patsy 0.5.6. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. platformdirs 3.10.0. plotly 5.9.0. prompt_toolkit 3.0.43. psutil 5.9.0. ptyprocess 0.7.0. pure_eval 0.2.2. pycparser 2.21. pydantic 1.10.12. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.15.1. pynndescent 0.5.11. pyparsing 3.0.9. pytz 2023.3.post1. requests 2.31.0. ruamel NA. scipy 1.11.4. seaborn 0.12.2. session_info 1.0.0. setuptools 65.6.3. six 1.16.0. sklearn 1.4.1.post1. snappy NA. socks 1.7.1. sparse 0.14.0. sphinxcontrib NA. stack_data 0.2.0. statsmodels 0.14.1. tblib 1.7.0. texttable 1.7.0. threadpoolctl 2.2.0. tlz 0.12.2. toolz 0.12.0. torch 1.12.1. tornado 6.1. tqdm 4.65.0. traitlets 5.7.1. typing_extensions NA. umap 0.5.5. urllib3 1.26.18. wcwidth 0.2.5. wrapt 1.14.1. yaml 6.0.1. zipp NA. zmq 25.1.2. zoneinfo NA. zope NA. zstandard 0.19.0. -----. IPython 8.20.0. jupyter_client 7.3.4. jupyter_core 5.5.0. jupyterlab 3.5.3. notebook 6.5.2. -----. Python 3.10.13 (main, Sep 11 2023, 08:16:02) [Clang 14.0.6 ]. macOS-14.1.2-arm64-arm-64bit. -----. Session information updated at 2024-03-12 14:52. ​. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2906
https://github.com/scverse/scanpy/issues/2906:1928,interoperability,platform,platformdirs,1928," 0.10.3. scanpy 1.9.6. -----. PIL 10.0.1. appnope 0.1.2. asttokens NA. attr 23.1.0. bottleneck 1.3.5. brotli NA. celltypist 1.6.2. certifi 2023.11.17. cffi 1.16.0. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.1.2. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.2. dask 2022.7.0. dateutil 2.8.2. debugpy 1.6.7. decorator 5.1.1. decoupler 1.5.0. defusedxml 0.7.1. dill 0.3.7. docrep 0.3.2. entrypoints 0.4. exceptiongroup 1.2.0. executing 0.8.3. fsspec 2023.10.0. h5py 3.7.0. idna 3.4. igraph 0.10.8. inflect NA. ipykernel 6.28.0. ipython_genutils 0.2.0. jedi 0.18.1. jinja2 3.1.3. joblib 1.3.2. jupyter_server 1.23.4. kiwisolver 1.4.4. leidenalg 0.10.1. llvmlite 0.42.0. louvain 0.8.1. lz4 4.3.2. markupsafe 2.1.3. matplotlib 3.8.0. matplotlib_inline 0.1.6. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.7. numpy 1.26.3. omnipath 1.0.8. packaging 23.1. pandas 2.1.4. parso 0.8.3. patsy 0.5.6. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. platformdirs 3.10.0. plotly 5.9.0. prompt_toolkit 3.0.43. psutil 5.9.0. ptyprocess 0.7.0. pure_eval 0.2.2. pycparser 2.21. pydantic 1.10.12. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.15.1. pynndescent 0.5.11. pyparsing 3.0.9. pytz 2023.3.post1. requests 2.31.0. ruamel NA. scipy 1.11.4. seaborn 0.12.2. session_info 1.0.0. setuptools 65.6.3. six 1.16.0. sklearn 1.4.1.post1. snappy NA. socks 1.7.1. sparse 0.14.0. sphinxcontrib NA. stack_data 0.2.0. statsmodels 0.14.1. tblib 1.7.0. texttable 1.7.0. threadpoolctl 2.2.0. tlz 0.12.2. toolz 0.12.0. torch 1.12.1. tornado 6.1. tqdm 4.65.0. traitlets 5.7.1. typing_extensions NA. umap 0.5.5. urllib3 1.26.18. wcwidth 0.2.5. wrapt 1.14.1. yaml 6.0.1. zipp NA. zmq 25.1.2. zoneinfo NA. zope NA. zstandard 0.19.0. -----. IPython 8.20.0. jupyter_client 7.3.4. jupyter_core 5.5.0. jupyterlab 3.5.3. notebook 6.5.2. -----. Python 3.10.13 (main, Sep 11 2023, 08:16:02) [Clang 14.0.6 ]. mac",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2906
https://github.com/scverse/scanpy/issues/2906:225,modifiability,version,version,225,"sc.tl.leiden, restrict_to function not properly working; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Tried to run this function:. sc.tl.leiden(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). and instead it is subsetting cluster 5 into over 400 new subsets, even with my resolution set to 0.1. I've also tried different resolutions and none of them work, it ignores the resolution altogether. . ![leiden](https://github.com/scverse/scanpy/assets/88872118/7fa7114e-d8ae-4e91-94b6-ece1f9505594). ### Minimal code sample. ```python. sc.tl.leiden(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.3. scanpy 1.9.6. -----. PIL 10.0.1. appnope 0.1.2. asttokens NA. attr 23.1.0. bottleneck 1.3.5. brotli NA. celltypist 1.6.2. certifi 2023.11.17. cffi 1.16.0. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.1.2. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.2. dask 2022.7.0. dateutil 2.8.2. debugpy 1.6.7. decorator 5.1.1. decoupler 1.5.0. defusedxml 0.7.1. dill 0.3.7. docrep 0.3.2. entrypoints 0.4. exceptiongroup 1.2.0. executing 0.8.3. fsspec 2023.10.0. h5py 3.7.0. idna 3.4. igraph 0.10.8. inflect NA. ipykernel 6.28.0. ipython_genutils 0.2.0. jedi 0.18.1. jinja2 3.1.3. joblib 1.3.2. jupyter_server 1.23.4. kiwisolver 1.4.4. leidenalg 0.10.1. llvmlite 0.42.0. louvain 0.8.1. lz4 4.3.2. markupsafe 2.1.3. matplotlib 3.8.0. matplotlib_inline 0.1.6. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.7. numpy 1.26.3. omnipath 1.0.8. packaging 23.1. pandas 2.1.4. parso 0.8.3. patsy 0.5.6. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. platformdirs 3.10.0. plotly 5.9.0. prompt_toolkit 3.0.43. psutil 5.9.0. ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2906
https://github.com/scverse/scanpy/issues/2906:894,modifiability,Version,Versions,894,"sc.tl.leiden, restrict_to function not properly working; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Tried to run this function:. sc.tl.leiden(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). and instead it is subsetting cluster 5 into over 400 new subsets, even with my resolution set to 0.1. I've also tried different resolutions and none of them work, it ignores the resolution altogether. . ![leiden](https://github.com/scverse/scanpy/assets/88872118/7fa7114e-d8ae-4e91-94b6-ece1f9505594). ### Minimal code sample. ```python. sc.tl.leiden(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.3. scanpy 1.9.6. -----. PIL 10.0.1. appnope 0.1.2. asttokens NA. attr 23.1.0. bottleneck 1.3.5. brotli NA. celltypist 1.6.2. certifi 2023.11.17. cffi 1.16.0. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.1.2. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.2. dask 2022.7.0. dateutil 2.8.2. debugpy 1.6.7. decorator 5.1.1. decoupler 1.5.0. defusedxml 0.7.1. dill 0.3.7. docrep 0.3.2. entrypoints 0.4. exceptiongroup 1.2.0. executing 0.8.3. fsspec 2023.10.0. h5py 3.7.0. idna 3.4. igraph 0.10.8. inflect NA. ipykernel 6.28.0. ipython_genutils 0.2.0. jedi 0.18.1. jinja2 3.1.3. joblib 1.3.2. jupyter_server 1.23.4. kiwisolver 1.4.4. leidenalg 0.10.1. llvmlite 0.42.0. louvain 0.8.1. lz4 4.3.2. markupsafe 2.1.3. matplotlib 3.8.0. matplotlib_inline 0.1.6. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.7. numpy 1.26.3. omnipath 1.0.8. packaging 23.1. pandas 2.1.4. parso 0.8.3. patsy 0.5.6. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. platformdirs 3.10.0. plotly 5.9.0. prompt_toolkit 3.0.43. psutil 5.9.0. ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2906
https://github.com/scverse/scanpy/issues/2906:1282,modifiability,deco,decorator,1282,"exists on the main branch of scanpy. ### What happened? Tried to run this function:. sc.tl.leiden(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). and instead it is subsetting cluster 5 into over 400 new subsets, even with my resolution set to 0.1. I've also tried different resolutions and none of them work, it ignores the resolution altogether. . ![leiden](https://github.com/scverse/scanpy/assets/88872118/7fa7114e-d8ae-4e91-94b6-ece1f9505594). ### Minimal code sample. ```python. sc.tl.leiden(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.3. scanpy 1.9.6. -----. PIL 10.0.1. appnope 0.1.2. asttokens NA. attr 23.1.0. bottleneck 1.3.5. brotli NA. celltypist 1.6.2. certifi 2023.11.17. cffi 1.16.0. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.1.2. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.2. dask 2022.7.0. dateutil 2.8.2. debugpy 1.6.7. decorator 5.1.1. decoupler 1.5.0. defusedxml 0.7.1. dill 0.3.7. docrep 0.3.2. entrypoints 0.4. exceptiongroup 1.2.0. executing 0.8.3. fsspec 2023.10.0. h5py 3.7.0. idna 3.4. igraph 0.10.8. inflect NA. ipykernel 6.28.0. ipython_genutils 0.2.0. jedi 0.18.1. jinja2 3.1.3. joblib 1.3.2. jupyter_server 1.23.4. kiwisolver 1.4.4. leidenalg 0.10.1. llvmlite 0.42.0. louvain 0.8.1. lz4 4.3.2. markupsafe 2.1.3. matplotlib 3.8.0. matplotlib_inline 0.1.6. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.7. numpy 1.26.3. omnipath 1.0.8. packaging 23.1. pandas 2.1.4. parso 0.8.3. patsy 0.5.6. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. platformdirs 3.10.0. plotly 5.9.0. prompt_toolkit 3.0.43. psutil 5.9.0. ptyprocess 0.7.0. pure_eval 0.2.2. pycparser 2.21. pydantic 1.10.12. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.15.1. pynndescent 0.5.11. pyparsing 3.0.9. pytz 2023.3.post1. requests 2.31.0. ruamel NA. scipy 1.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2906
https://github.com/scverse/scanpy/issues/2906:1299,modifiability,deco,decoupler,1299,"n branch of scanpy. ### What happened? Tried to run this function:. sc.tl.leiden(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). and instead it is subsetting cluster 5 into over 400 new subsets, even with my resolution set to 0.1. I've also tried different resolutions and none of them work, it ignores the resolution altogether. . ![leiden](https://github.com/scverse/scanpy/assets/88872118/7fa7114e-d8ae-4e91-94b6-ece1f9505594). ### Minimal code sample. ```python. sc.tl.leiden(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.3. scanpy 1.9.6. -----. PIL 10.0.1. appnope 0.1.2. asttokens NA. attr 23.1.0. bottleneck 1.3.5. brotli NA. celltypist 1.6.2. certifi 2023.11.17. cffi 1.16.0. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.1.2. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.2. dask 2022.7.0. dateutil 2.8.2. debugpy 1.6.7. decorator 5.1.1. decoupler 1.5.0. defusedxml 0.7.1. dill 0.3.7. docrep 0.3.2. entrypoints 0.4. exceptiongroup 1.2.0. executing 0.8.3. fsspec 2023.10.0. h5py 3.7.0. idna 3.4. igraph 0.10.8. inflect NA. ipykernel 6.28.0. ipython_genutils 0.2.0. jedi 0.18.1. jinja2 3.1.3. joblib 1.3.2. jupyter_server 1.23.4. kiwisolver 1.4.4. leidenalg 0.10.1. llvmlite 0.42.0. louvain 0.8.1. lz4 4.3.2. markupsafe 2.1.3. matplotlib 3.8.0. matplotlib_inline 0.1.6. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.7. numpy 1.26.3. omnipath 1.0.8. packaging 23.1. pandas 2.1.4. parso 0.8.3. patsy 0.5.6. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. platformdirs 3.10.0. plotly 5.9.0. prompt_toolkit 3.0.43. psutil 5.9.0. ptyprocess 0.7.0. pure_eval 0.2.2. pycparser 2.21. pydantic 1.10.12. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.15.1. pynndescent 0.5.11. pyparsing 3.0.9. pytz 2023.3.post1. requests 2.31.0. ruamel NA. scipy 1.11.4. seaborn 0.1",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2906
https://github.com/scverse/scanpy/issues/2906:1820,modifiability,pac,packaging,1820,"t_to = ('leiden', ['5'])). ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.3. scanpy 1.9.6. -----. PIL 10.0.1. appnope 0.1.2. asttokens NA. attr 23.1.0. bottleneck 1.3.5. brotli NA. celltypist 1.6.2. certifi 2023.11.17. cffi 1.16.0. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.1.2. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.2. dask 2022.7.0. dateutil 2.8.2. debugpy 1.6.7. decorator 5.1.1. decoupler 1.5.0. defusedxml 0.7.1. dill 0.3.7. docrep 0.3.2. entrypoints 0.4. exceptiongroup 1.2.0. executing 0.8.3. fsspec 2023.10.0. h5py 3.7.0. idna 3.4. igraph 0.10.8. inflect NA. ipykernel 6.28.0. ipython_genutils 0.2.0. jedi 0.18.1. jinja2 3.1.3. joblib 1.3.2. jupyter_server 1.23.4. kiwisolver 1.4.4. leidenalg 0.10.1. llvmlite 0.42.0. louvain 0.8.1. lz4 4.3.2. markupsafe 2.1.3. matplotlib 3.8.0. matplotlib_inline 0.1.6. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.7. numpy 1.26.3. omnipath 1.0.8. packaging 23.1. pandas 2.1.4. parso 0.8.3. patsy 0.5.6. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. platformdirs 3.10.0. plotly 5.9.0. prompt_toolkit 3.0.43. psutil 5.9.0. ptyprocess 0.7.0. pure_eval 0.2.2. pycparser 2.21. pydantic 1.10.12. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.15.1. pynndescent 0.5.11. pyparsing 3.0.9. pytz 2023.3.post1. requests 2.31.0. ruamel NA. scipy 1.11.4. seaborn 0.12.2. session_info 1.0.0. setuptools 65.6.3. six 1.16.0. sklearn 1.4.1.post1. snappy NA. socks 1.7.1. sparse 0.14.0. sphinxcontrib NA. stack_data 0.2.0. statsmodels 0.14.1. tblib 1.7.0. texttable 1.7.0. threadpoolctl 2.2.0. tlz 0.12.2. toolz 0.12.0. torch 1.12.1. tornado 6.1. tqdm 4.65.0. traitlets 5.7.1. typing_extensions NA. umap 0.5.5. urllib3 1.26.18. wcwidth 0.2.5. wrapt 1.14.1. yaml 6.0.1. zipp NA. zmq 25.1.2. zoneinfo NA. zope NA. zstandard 0.19.0. -----. IPython 8.20.0. jupyter_client 7.3.4. jupyter_core 5.5.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2906
https://github.com/scverse/scanpy/issues/2906:861,performance,Error,Error,861,"sc.tl.leiden, restrict_to function not properly working; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Tried to run this function:. sc.tl.leiden(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). and instead it is subsetting cluster 5 into over 400 new subsets, even with my resolution set to 0.1. I've also tried different resolutions and none of them work, it ignores the resolution altogether. . ![leiden](https://github.com/scverse/scanpy/assets/88872118/7fa7114e-d8ae-4e91-94b6-ece1f9505594). ### Minimal code sample. ```python. sc.tl.leiden(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.3. scanpy 1.9.6. -----. PIL 10.0.1. appnope 0.1.2. asttokens NA. attr 23.1.0. bottleneck 1.3.5. brotli NA. celltypist 1.6.2. certifi 2023.11.17. cffi 1.16.0. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.1.2. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.2. dask 2022.7.0. dateutil 2.8.2. debugpy 1.6.7. decorator 5.1.1. decoupler 1.5.0. defusedxml 0.7.1. dill 0.3.7. docrep 0.3.2. entrypoints 0.4. exceptiongroup 1.2.0. executing 0.8.3. fsspec 2023.10.0. h5py 3.7.0. idna 3.4. igraph 0.10.8. inflect NA. ipykernel 6.28.0. ipython_genutils 0.2.0. jedi 0.18.1. jinja2 3.1.3. joblib 1.3.2. jupyter_server 1.23.4. kiwisolver 1.4.4. leidenalg 0.10.1. llvmlite 0.42.0. louvain 0.8.1. lz4 4.3.2. markupsafe 2.1.3. matplotlib 3.8.0. matplotlib_inline 0.1.6. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.7. numpy 1.26.3. omnipath 1.0.8. packaging 23.1. pandas 2.1.4. parso 0.8.3. patsy 0.5.6. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. platformdirs 3.10.0. plotly 5.9.0. prompt_toolkit 3.0.43. psutil 5.9.0. ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2906
https://github.com/scverse/scanpy/issues/2906:1018,performance,bottleneck,bottleneck,1018,"to function not properly working; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Tried to run this function:. sc.tl.leiden(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). and instead it is subsetting cluster 5 into over 400 new subsets, even with my resolution set to 0.1. I've also tried different resolutions and none of them work, it ignores the resolution altogether. . ![leiden](https://github.com/scverse/scanpy/assets/88872118/7fa7114e-d8ae-4e91-94b6-ece1f9505594). ### Minimal code sample. ```python. sc.tl.leiden(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.3. scanpy 1.9.6. -----. PIL 10.0.1. appnope 0.1.2. asttokens NA. attr 23.1.0. bottleneck 1.3.5. brotli NA. celltypist 1.6.2. certifi 2023.11.17. cffi 1.16.0. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.1.2. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.2. dask 2022.7.0. dateutil 2.8.2. debugpy 1.6.7. decorator 5.1.1. decoupler 1.5.0. defusedxml 0.7.1. dill 0.3.7. docrep 0.3.2. entrypoints 0.4. exceptiongroup 1.2.0. executing 0.8.3. fsspec 2023.10.0. h5py 3.7.0. idna 3.4. igraph 0.10.8. inflect NA. ipykernel 6.28.0. ipython_genutils 0.2.0. jedi 0.18.1. jinja2 3.1.3. joblib 1.3.2. jupyter_server 1.23.4. kiwisolver 1.4.4. leidenalg 0.10.1. llvmlite 0.42.0. louvain 0.8.1. lz4 4.3.2. markupsafe 2.1.3. matplotlib 3.8.0. matplotlib_inline 0.1.6. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.7. numpy 1.26.3. omnipath 1.0.8. packaging 23.1. pandas 2.1.4. parso 0.8.3. patsy 0.5.6. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. platformdirs 3.10.0. plotly 5.9.0. prompt_toolkit 3.0.43. psutil 5.9.0. ptyprocess 0.7.0. pure_",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2906
https://github.com/scverse/scanpy/issues/2906:385,safety,test,test,385,"sc.tl.leiden, restrict_to function not properly working; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Tried to run this function:. sc.tl.leiden(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). and instead it is subsetting cluster 5 into over 400 new subsets, even with my resolution set to 0.1. I've also tried different resolutions and none of them work, it ignores the resolution altogether. . ![leiden](https://github.com/scverse/scanpy/assets/88872118/7fa7114e-d8ae-4e91-94b6-ece1f9505594). ### Minimal code sample. ```python. sc.tl.leiden(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.3. scanpy 1.9.6. -----. PIL 10.0.1. appnope 0.1.2. asttokens NA. attr 23.1.0. bottleneck 1.3.5. brotli NA. celltypist 1.6.2. certifi 2023.11.17. cffi 1.16.0. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.1.2. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.2. dask 2022.7.0. dateutil 2.8.2. debugpy 1.6.7. decorator 5.1.1. decoupler 1.5.0. defusedxml 0.7.1. dill 0.3.7. docrep 0.3.2. entrypoints 0.4. exceptiongroup 1.2.0. executing 0.8.3. fsspec 2023.10.0. h5py 3.7.0. idna 3.4. igraph 0.10.8. inflect NA. ipykernel 6.28.0. ipython_genutils 0.2.0. jedi 0.18.1. jinja2 3.1.3. joblib 1.3.2. jupyter_server 1.23.4. kiwisolver 1.4.4. leidenalg 0.10.1. llvmlite 0.42.0. louvain 0.8.1. lz4 4.3.2. markupsafe 2.1.3. matplotlib 3.8.0. matplotlib_inline 0.1.6. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.7. numpy 1.26.3. omnipath 1.0.8. packaging 23.1. pandas 2.1.4. parso 0.8.3. patsy 0.5.6. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. platformdirs 3.10.0. plotly 5.9.0. prompt_toolkit 3.0.43. psutil 5.9.0. ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2906
https://github.com/scverse/scanpy/issues/2906:794,safety,test,test,794,"sc.tl.leiden, restrict_to function not properly working; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Tried to run this function:. sc.tl.leiden(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). and instead it is subsetting cluster 5 into over 400 new subsets, even with my resolution set to 0.1. I've also tried different resolutions and none of them work, it ignores the resolution altogether. . ![leiden](https://github.com/scverse/scanpy/assets/88872118/7fa7114e-d8ae-4e91-94b6-ece1f9505594). ### Minimal code sample. ```python. sc.tl.leiden(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.3. scanpy 1.9.6. -----. PIL 10.0.1. appnope 0.1.2. asttokens NA. attr 23.1.0. bottleneck 1.3.5. brotli NA. celltypist 1.6.2. certifi 2023.11.17. cffi 1.16.0. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.1.2. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.2. dask 2022.7.0. dateutil 2.8.2. debugpy 1.6.7. decorator 5.1.1. decoupler 1.5.0. defusedxml 0.7.1. dill 0.3.7. docrep 0.3.2. entrypoints 0.4. exceptiongroup 1.2.0. executing 0.8.3. fsspec 2023.10.0. h5py 3.7.0. idna 3.4. igraph 0.10.8. inflect NA. ipykernel 6.28.0. ipython_genutils 0.2.0. jedi 0.18.1. jinja2 3.1.3. joblib 1.3.2. jupyter_server 1.23.4. kiwisolver 1.4.4. leidenalg 0.10.1. llvmlite 0.42.0. louvain 0.8.1. lz4 4.3.2. markupsafe 2.1.3. matplotlib 3.8.0. matplotlib_inline 0.1.6. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.7. numpy 1.26.3. omnipath 1.0.8. packaging 23.1. pandas 2.1.4. parso 0.8.3. patsy 0.5.6. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. platformdirs 3.10.0. plotly 5.9.0. prompt_toolkit 3.0.43. psutil 5.9.0. ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2906
https://github.com/scverse/scanpy/issues/2906:861,safety,Error,Error,861,"sc.tl.leiden, restrict_to function not properly working; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Tried to run this function:. sc.tl.leiden(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). and instead it is subsetting cluster 5 into over 400 new subsets, even with my resolution set to 0.1. I've also tried different resolutions and none of them work, it ignores the resolution altogether. . ![leiden](https://github.com/scverse/scanpy/assets/88872118/7fa7114e-d8ae-4e91-94b6-ece1f9505594). ### Minimal code sample. ```python. sc.tl.leiden(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.3. scanpy 1.9.6. -----. PIL 10.0.1. appnope 0.1.2. asttokens NA. attr 23.1.0. bottleneck 1.3.5. brotli NA. celltypist 1.6.2. certifi 2023.11.17. cffi 1.16.0. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.1.2. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.2. dask 2022.7.0. dateutil 2.8.2. debugpy 1.6.7. decorator 5.1.1. decoupler 1.5.0. defusedxml 0.7.1. dill 0.3.7. docrep 0.3.2. entrypoints 0.4. exceptiongroup 1.2.0. executing 0.8.3. fsspec 2023.10.0. h5py 3.7.0. idna 3.4. igraph 0.10.8. inflect NA. ipykernel 6.28.0. ipython_genutils 0.2.0. jedi 0.18.1. jinja2 3.1.3. joblib 1.3.2. jupyter_server 1.23.4. kiwisolver 1.4.4. leidenalg 0.10.1. llvmlite 0.42.0. louvain 0.8.1. lz4 4.3.2. markupsafe 2.1.3. matplotlib 3.8.0. matplotlib_inline 0.1.6. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.7. numpy 1.26.3. omnipath 1.0.8. packaging 23.1. pandas 2.1.4. parso 0.8.3. patsy 0.5.6. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. platformdirs 3.10.0. plotly 5.9.0. prompt_toolkit 3.0.43. psutil 5.9.0. ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2906
https://github.com/scverse/scanpy/issues/2906:1377,safety,except,exceptiongroup,1377,"(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). and instead it is subsetting cluster 5 into over 400 new subsets, even with my resolution set to 0.1. I've also tried different resolutions and none of them work, it ignores the resolution altogether. . ![leiden](https://github.com/scverse/scanpy/assets/88872118/7fa7114e-d8ae-4e91-94b6-ece1f9505594). ### Minimal code sample. ```python. sc.tl.leiden(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.3. scanpy 1.9.6. -----. PIL 10.0.1. appnope 0.1.2. asttokens NA. attr 23.1.0. bottleneck 1.3.5. brotli NA. celltypist 1.6.2. certifi 2023.11.17. cffi 1.16.0. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.1.2. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.2. dask 2022.7.0. dateutil 2.8.2. debugpy 1.6.7. decorator 5.1.1. decoupler 1.5.0. defusedxml 0.7.1. dill 0.3.7. docrep 0.3.2. entrypoints 0.4. exceptiongroup 1.2.0. executing 0.8.3. fsspec 2023.10.0. h5py 3.7.0. idna 3.4. igraph 0.10.8. inflect NA. ipykernel 6.28.0. ipython_genutils 0.2.0. jedi 0.18.1. jinja2 3.1.3. joblib 1.3.2. jupyter_server 1.23.4. kiwisolver 1.4.4. leidenalg 0.10.1. llvmlite 0.42.0. louvain 0.8.1. lz4 4.3.2. markupsafe 2.1.3. matplotlib 3.8.0. matplotlib_inline 0.1.6. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.7. numpy 1.26.3. omnipath 1.0.8. packaging 23.1. pandas 2.1.4. parso 0.8.3. patsy 0.5.6. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. platformdirs 3.10.0. plotly 5.9.0. prompt_toolkit 3.0.43. psutil 5.9.0. ptyprocess 0.7.0. pure_eval 0.2.2. pycparser 2.21. pydantic 1.10.12. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.15.1. pynndescent 0.5.11. pyparsing 3.0.9. pytz 2023.3.post1. requests 2.31.0. ruamel NA. scipy 1.11.4. seaborn 0.12.2. session_info 1.0.0. setuptools 65.6.3. six 1.16.0. sklearn 1.4.1.post1. sna",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2906
https://github.com/scverse/scanpy/issues/2906:2988,safety,updat,updated,2988,"brotli NA. celltypist 1.6.2. certifi 2023.11.17. cffi 1.16.0. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.1.2. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.2. dask 2022.7.0. dateutil 2.8.2. debugpy 1.6.7. decorator 5.1.1. decoupler 1.5.0. defusedxml 0.7.1. dill 0.3.7. docrep 0.3.2. entrypoints 0.4. exceptiongroup 1.2.0. executing 0.8.3. fsspec 2023.10.0. h5py 3.7.0. idna 3.4. igraph 0.10.8. inflect NA. ipykernel 6.28.0. ipython_genutils 0.2.0. jedi 0.18.1. jinja2 3.1.3. joblib 1.3.2. jupyter_server 1.23.4. kiwisolver 1.4.4. leidenalg 0.10.1. llvmlite 0.42.0. louvain 0.8.1. lz4 4.3.2. markupsafe 2.1.3. matplotlib 3.8.0. matplotlib_inline 0.1.6. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.7. numpy 1.26.3. omnipath 1.0.8. packaging 23.1. pandas 2.1.4. parso 0.8.3. patsy 0.5.6. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. platformdirs 3.10.0. plotly 5.9.0. prompt_toolkit 3.0.43. psutil 5.9.0. ptyprocess 0.7.0. pure_eval 0.2.2. pycparser 2.21. pydantic 1.10.12. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.15.1. pynndescent 0.5.11. pyparsing 3.0.9. pytz 2023.3.post1. requests 2.31.0. ruamel NA. scipy 1.11.4. seaborn 0.12.2. session_info 1.0.0. setuptools 65.6.3. six 1.16.0. sklearn 1.4.1.post1. snappy NA. socks 1.7.1. sparse 0.14.0. sphinxcontrib NA. stack_data 0.2.0. statsmodels 0.14.1. tblib 1.7.0. texttable 1.7.0. threadpoolctl 2.2.0. tlz 0.12.2. toolz 0.12.0. torch 1.12.1. tornado 6.1. tqdm 4.65.0. traitlets 5.7.1. typing_extensions NA. umap 0.5.5. urllib3 1.26.18. wcwidth 0.2.5. wrapt 1.14.1. yaml 6.0.1. zipp NA. zmq 25.1.2. zoneinfo NA. zope NA. zstandard 0.19.0. -----. IPython 8.20.0. jupyter_client 7.3.4. jupyter_core 5.5.0. jupyterlab 3.5.3. notebook 6.5.2. -----. Python 3.10.13 (main, Sep 11 2023, 08:16:02) [Clang 14.0.6 ]. macOS-14.1.2-arm64-arm-64bit. -----. Session information updated at 2024-03-12 14:52. ​. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2906
https://github.com/scverse/scanpy/issues/2906:1065,security,certif,certifi,1065,"ake sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Tried to run this function:. sc.tl.leiden(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). and instead it is subsetting cluster 5 into over 400 new subsets, even with my resolution set to 0.1. I've also tried different resolutions and none of them work, it ignores the resolution altogether. . ![leiden](https://github.com/scverse/scanpy/assets/88872118/7fa7114e-d8ae-4e91-94b6-ece1f9505594). ### Minimal code sample. ```python. sc.tl.leiden(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.3. scanpy 1.9.6. -----. PIL 10.0.1. appnope 0.1.2. asttokens NA. attr 23.1.0. bottleneck 1.3.5. brotli NA. celltypist 1.6.2. certifi 2023.11.17. cffi 1.16.0. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.1.2. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.2. dask 2022.7.0. dateutil 2.8.2. debugpy 1.6.7. decorator 5.1.1. decoupler 1.5.0. defusedxml 0.7.1. dill 0.3.7. docrep 0.3.2. entrypoints 0.4. exceptiongroup 1.2.0. executing 0.8.3. fsspec 2023.10.0. h5py 3.7.0. idna 3.4. igraph 0.10.8. inflect NA. ipykernel 6.28.0. ipython_genutils 0.2.0. jedi 0.18.1. jinja2 3.1.3. joblib 1.3.2. jupyter_server 1.23.4. kiwisolver 1.4.4. leidenalg 0.10.1. llvmlite 0.42.0. louvain 0.8.1. lz4 4.3.2. markupsafe 2.1.3. matplotlib 3.8.0. matplotlib_inline 0.1.6. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.7. numpy 1.26.3. omnipath 1.0.8. packaging 23.1. pandas 2.1.4. parso 0.8.3. patsy 0.5.6. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. platformdirs 3.10.0. plotly 5.9.0. prompt_toolkit 3.0.43. psutil 5.9.0. ptyprocess 0.7.0. pure_eval 0.2.2. pycparser 2.21. pydantic 1.10.12. ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2906
https://github.com/scverse/scanpy/issues/2906:2392,security,soc,socks,2392,"brotli NA. celltypist 1.6.2. certifi 2023.11.17. cffi 1.16.0. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.1.2. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.2. dask 2022.7.0. dateutil 2.8.2. debugpy 1.6.7. decorator 5.1.1. decoupler 1.5.0. defusedxml 0.7.1. dill 0.3.7. docrep 0.3.2. entrypoints 0.4. exceptiongroup 1.2.0. executing 0.8.3. fsspec 2023.10.0. h5py 3.7.0. idna 3.4. igraph 0.10.8. inflect NA. ipykernel 6.28.0. ipython_genutils 0.2.0. jedi 0.18.1. jinja2 3.1.3. joblib 1.3.2. jupyter_server 1.23.4. kiwisolver 1.4.4. leidenalg 0.10.1. llvmlite 0.42.0. louvain 0.8.1. lz4 4.3.2. markupsafe 2.1.3. matplotlib 3.8.0. matplotlib_inline 0.1.6. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.7. numpy 1.26.3. omnipath 1.0.8. packaging 23.1. pandas 2.1.4. parso 0.8.3. patsy 0.5.6. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. platformdirs 3.10.0. plotly 5.9.0. prompt_toolkit 3.0.43. psutil 5.9.0. ptyprocess 0.7.0. pure_eval 0.2.2. pycparser 2.21. pydantic 1.10.12. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.15.1. pynndescent 0.5.11. pyparsing 3.0.9. pytz 2023.3.post1. requests 2.31.0. ruamel NA. scipy 1.11.4. seaborn 0.12.2. session_info 1.0.0. setuptools 65.6.3. six 1.16.0. sklearn 1.4.1.post1. snappy NA. socks 1.7.1. sparse 0.14.0. sphinxcontrib NA. stack_data 0.2.0. statsmodels 0.14.1. tblib 1.7.0. texttable 1.7.0. threadpoolctl 2.2.0. tlz 0.12.2. toolz 0.12.0. torch 1.12.1. tornado 6.1. tqdm 4.65.0. traitlets 5.7.1. typing_extensions NA. umap 0.5.5. urllib3 1.26.18. wcwidth 0.2.5. wrapt 1.14.1. yaml 6.0.1. zipp NA. zmq 25.1.2. zoneinfo NA. zope NA. zstandard 0.19.0. -----. IPython 8.20.0. jupyter_client 7.3.4. jupyter_core 5.5.0. jupyterlab 3.5.3. notebook 6.5.2. -----. Python 3.10.13 (main, Sep 11 2023, 08:16:02) [Clang 14.0.6 ]. macOS-14.1.2-arm64-arm-64bit. -----. Session information updated at 2024-03-12 14:52. ​. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2906
https://github.com/scverse/scanpy/issues/2906:2968,security,Session,Session,2968,"brotli NA. celltypist 1.6.2. certifi 2023.11.17. cffi 1.16.0. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.1.2. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.2. dask 2022.7.0. dateutil 2.8.2. debugpy 1.6.7. decorator 5.1.1. decoupler 1.5.0. defusedxml 0.7.1. dill 0.3.7. docrep 0.3.2. entrypoints 0.4. exceptiongroup 1.2.0. executing 0.8.3. fsspec 2023.10.0. h5py 3.7.0. idna 3.4. igraph 0.10.8. inflect NA. ipykernel 6.28.0. ipython_genutils 0.2.0. jedi 0.18.1. jinja2 3.1.3. joblib 1.3.2. jupyter_server 1.23.4. kiwisolver 1.4.4. leidenalg 0.10.1. llvmlite 0.42.0. louvain 0.8.1. lz4 4.3.2. markupsafe 2.1.3. matplotlib 3.8.0. matplotlib_inline 0.1.6. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.7. numpy 1.26.3. omnipath 1.0.8. packaging 23.1. pandas 2.1.4. parso 0.8.3. patsy 0.5.6. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. platformdirs 3.10.0. plotly 5.9.0. prompt_toolkit 3.0.43. psutil 5.9.0. ptyprocess 0.7.0. pure_eval 0.2.2. pycparser 2.21. pydantic 1.10.12. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.15.1. pynndescent 0.5.11. pyparsing 3.0.9. pytz 2023.3.post1. requests 2.31.0. ruamel NA. scipy 1.11.4. seaborn 0.12.2. session_info 1.0.0. setuptools 65.6.3. six 1.16.0. sklearn 1.4.1.post1. snappy NA. socks 1.7.1. sparse 0.14.0. sphinxcontrib NA. stack_data 0.2.0. statsmodels 0.14.1. tblib 1.7.0. texttable 1.7.0. threadpoolctl 2.2.0. tlz 0.12.2. toolz 0.12.0. torch 1.12.1. tornado 6.1. tqdm 4.65.0. traitlets 5.7.1. typing_extensions NA. umap 0.5.5. urllib3 1.26.18. wcwidth 0.2.5. wrapt 1.14.1. yaml 6.0.1. zipp NA. zmq 25.1.2. zoneinfo NA. zope NA. zstandard 0.19.0. -----. IPython 8.20.0. jupyter_client 7.3.4. jupyter_core 5.5.0. jupyterlab 3.5.3. notebook 6.5.2. -----. Python 3.10.13 (main, Sep 11 2023, 08:16:02) [Clang 14.0.6 ]. macOS-14.1.2-arm64-arm-64bit. -----. Session information updated at 2024-03-12 14:52. ​. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2906
https://github.com/scverse/scanpy/issues/2906:2988,security,updat,updated,2988,"brotli NA. celltypist 1.6.2. certifi 2023.11.17. cffi 1.16.0. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.1.2. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.2. dask 2022.7.0. dateutil 2.8.2. debugpy 1.6.7. decorator 5.1.1. decoupler 1.5.0. defusedxml 0.7.1. dill 0.3.7. docrep 0.3.2. entrypoints 0.4. exceptiongroup 1.2.0. executing 0.8.3. fsspec 2023.10.0. h5py 3.7.0. idna 3.4. igraph 0.10.8. inflect NA. ipykernel 6.28.0. ipython_genutils 0.2.0. jedi 0.18.1. jinja2 3.1.3. joblib 1.3.2. jupyter_server 1.23.4. kiwisolver 1.4.4. leidenalg 0.10.1. llvmlite 0.42.0. louvain 0.8.1. lz4 4.3.2. markupsafe 2.1.3. matplotlib 3.8.0. matplotlib_inline 0.1.6. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.7. numpy 1.26.3. omnipath 1.0.8. packaging 23.1. pandas 2.1.4. parso 0.8.3. patsy 0.5.6. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. platformdirs 3.10.0. plotly 5.9.0. prompt_toolkit 3.0.43. psutil 5.9.0. ptyprocess 0.7.0. pure_eval 0.2.2. pycparser 2.21. pydantic 1.10.12. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.15.1. pynndescent 0.5.11. pyparsing 3.0.9. pytz 2023.3.post1. requests 2.31.0. ruamel NA. scipy 1.11.4. seaborn 0.12.2. session_info 1.0.0. setuptools 65.6.3. six 1.16.0. sklearn 1.4.1.post1. snappy NA. socks 1.7.1. sparse 0.14.0. sphinxcontrib NA. stack_data 0.2.0. statsmodels 0.14.1. tblib 1.7.0. texttable 1.7.0. threadpoolctl 2.2.0. tlz 0.12.2. toolz 0.12.0. torch 1.12.1. tornado 6.1. tqdm 4.65.0. traitlets 5.7.1. typing_extensions NA. umap 0.5.5. urllib3 1.26.18. wcwidth 0.2.5. wrapt 1.14.1. yaml 6.0.1. zipp NA. zmq 25.1.2. zoneinfo NA. zope NA. zstandard 0.19.0. -----. IPython 8.20.0. jupyter_client 7.3.4. jupyter_core 5.5.0. jupyterlab 3.5.3. notebook 6.5.2. -----. Python 3.10.13 (main, Sep 11 2023, 08:16:02) [Clang 14.0.6 ]. macOS-14.1.2-arm64-arm-64bit. -----. Session information updated at 2024-03-12 14:52. ​. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2906
https://github.com/scverse/scanpy/issues/2906:385,testability,test,test,385,"sc.tl.leiden, restrict_to function not properly working; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Tried to run this function:. sc.tl.leiden(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). and instead it is subsetting cluster 5 into over 400 new subsets, even with my resolution set to 0.1. I've also tried different resolutions and none of them work, it ignores the resolution altogether. . ![leiden](https://github.com/scverse/scanpy/assets/88872118/7fa7114e-d8ae-4e91-94b6-ece1f9505594). ### Minimal code sample. ```python. sc.tl.leiden(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.3. scanpy 1.9.6. -----. PIL 10.0.1. appnope 0.1.2. asttokens NA. attr 23.1.0. bottleneck 1.3.5. brotli NA. celltypist 1.6.2. certifi 2023.11.17. cffi 1.16.0. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.1.2. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.2. dask 2022.7.0. dateutil 2.8.2. debugpy 1.6.7. decorator 5.1.1. decoupler 1.5.0. defusedxml 0.7.1. dill 0.3.7. docrep 0.3.2. entrypoints 0.4. exceptiongroup 1.2.0. executing 0.8.3. fsspec 2023.10.0. h5py 3.7.0. idna 3.4. igraph 0.10.8. inflect NA. ipykernel 6.28.0. ipython_genutils 0.2.0. jedi 0.18.1. jinja2 3.1.3. joblib 1.3.2. jupyter_server 1.23.4. kiwisolver 1.4.4. leidenalg 0.10.1. llvmlite 0.42.0. louvain 0.8.1. lz4 4.3.2. markupsafe 2.1.3. matplotlib 3.8.0. matplotlib_inline 0.1.6. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.7. numpy 1.26.3. omnipath 1.0.8. packaging 23.1. pandas 2.1.4. parso 0.8.3. patsy 0.5.6. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. platformdirs 3.10.0. plotly 5.9.0. prompt_toolkit 3.0.43. psutil 5.9.0. ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2906
https://github.com/scverse/scanpy/issues/2906:794,testability,test,test,794,"sc.tl.leiden, restrict_to function not properly working; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Tried to run this function:. sc.tl.leiden(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). and instead it is subsetting cluster 5 into over 400 new subsets, even with my resolution set to 0.1. I've also tried different resolutions and none of them work, it ignores the resolution altogether. . ![leiden](https://github.com/scverse/scanpy/assets/88872118/7fa7114e-d8ae-4e91-94b6-ece1f9505594). ### Minimal code sample. ```python. sc.tl.leiden(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.3. scanpy 1.9.6. -----. PIL 10.0.1. appnope 0.1.2. asttokens NA. attr 23.1.0. bottleneck 1.3.5. brotli NA. celltypist 1.6.2. certifi 2023.11.17. cffi 1.16.0. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.1.2. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.2. dask 2022.7.0. dateutil 2.8.2. debugpy 1.6.7. decorator 5.1.1. decoupler 1.5.0. defusedxml 0.7.1. dill 0.3.7. docrep 0.3.2. entrypoints 0.4. exceptiongroup 1.2.0. executing 0.8.3. fsspec 2023.10.0. h5py 3.7.0. idna 3.4. igraph 0.10.8. inflect NA. ipykernel 6.28.0. ipython_genutils 0.2.0. jedi 0.18.1. jinja2 3.1.3. joblib 1.3.2. jupyter_server 1.23.4. kiwisolver 1.4.4. leidenalg 0.10.1. llvmlite 0.42.0. louvain 0.8.1. lz4 4.3.2. markupsafe 2.1.3. matplotlib 3.8.0. matplotlib_inline 0.1.6. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.7. numpy 1.26.3. omnipath 1.0.8. packaging 23.1. pandas 2.1.4. parso 0.8.3. patsy 0.5.6. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. platformdirs 3.10.0. plotly 5.9.0. prompt_toolkit 3.0.43. psutil 5.9.0. ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2906
https://github.com/scverse/scanpy/issues/2906:185,usability,confirm,confirmed,185,"sc.tl.leiden, restrict_to function not properly working; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Tried to run this function:. sc.tl.leiden(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). and instead it is subsetting cluster 5 into over 400 new subsets, even with my resolution set to 0.1. I've also tried different resolutions and none of them work, it ignores the resolution altogether. . ![leiden](https://github.com/scverse/scanpy/assets/88872118/7fa7114e-d8ae-4e91-94b6-ece1f9505594). ### Minimal code sample. ```python. sc.tl.leiden(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.3. scanpy 1.9.6. -----. PIL 10.0.1. appnope 0.1.2. asttokens NA. attr 23.1.0. bottleneck 1.3.5. brotli NA. celltypist 1.6.2. certifi 2023.11.17. cffi 1.16.0. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.1.2. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.2. dask 2022.7.0. dateutil 2.8.2. debugpy 1.6.7. decorator 5.1.1. decoupler 1.5.0. defusedxml 0.7.1. dill 0.3.7. docrep 0.3.2. entrypoints 0.4. exceptiongroup 1.2.0. executing 0.8.3. fsspec 2023.10.0. h5py 3.7.0. idna 3.4. igraph 0.10.8. inflect NA. ipykernel 6.28.0. ipython_genutils 0.2.0. jedi 0.18.1. jinja2 3.1.3. joblib 1.3.2. jupyter_server 1.23.4. kiwisolver 1.4.4. leidenalg 0.10.1. llvmlite 0.42.0. louvain 0.8.1. lz4 4.3.2. markupsafe 2.1.3. matplotlib 3.8.0. matplotlib_inline 0.1.6. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.7. numpy 1.26.3. omnipath 1.0.8. packaging 23.1. pandas 2.1.4. parso 0.8.3. patsy 0.5.6. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. platformdirs 3.10.0. plotly 5.9.0. prompt_toolkit 3.0.43. psutil 5.9.0. ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2906
https://github.com/scverse/scanpy/issues/2906:268,usability,confirm,confirmed,268,"sc.tl.leiden, restrict_to function not properly working; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Tried to run this function:. sc.tl.leiden(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). and instead it is subsetting cluster 5 into over 400 new subsets, even with my resolution set to 0.1. I've also tried different resolutions and none of them work, it ignores the resolution altogether. . ![leiden](https://github.com/scverse/scanpy/assets/88872118/7fa7114e-d8ae-4e91-94b6-ece1f9505594). ### Minimal code sample. ```python. sc.tl.leiden(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.3. scanpy 1.9.6. -----. PIL 10.0.1. appnope 0.1.2. asttokens NA. attr 23.1.0. bottleneck 1.3.5. brotli NA. celltypist 1.6.2. certifi 2023.11.17. cffi 1.16.0. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.1.2. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.2. dask 2022.7.0. dateutil 2.8.2. debugpy 1.6.7. decorator 5.1.1. decoupler 1.5.0. defusedxml 0.7.1. dill 0.3.7. docrep 0.3.2. entrypoints 0.4. exceptiongroup 1.2.0. executing 0.8.3. fsspec 2023.10.0. h5py 3.7.0. idna 3.4. igraph 0.10.8. inflect NA. ipykernel 6.28.0. ipython_genutils 0.2.0. jedi 0.18.1. jinja2 3.1.3. joblib 1.3.2. jupyter_server 1.23.4. kiwisolver 1.4.4. leidenalg 0.10.1. llvmlite 0.42.0. louvain 0.8.1. lz4 4.3.2. markupsafe 2.1.3. matplotlib 3.8.0. matplotlib_inline 0.1.6. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.7. numpy 1.26.3. omnipath 1.0.8. packaging 23.1. pandas 2.1.4. parso 0.8.3. patsy 0.5.6. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. platformdirs 3.10.0. plotly 5.9.0. prompt_toolkit 3.0.43. psutil 5.9.0. ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2906
https://github.com/scverse/scanpy/issues/2906:749,usability,Minim,Minimal,749,"sc.tl.leiden, restrict_to function not properly working; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Tried to run this function:. sc.tl.leiden(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). and instead it is subsetting cluster 5 into over 400 new subsets, even with my resolution set to 0.1. I've also tried different resolutions and none of them work, it ignores the resolution altogether. . ![leiden](https://github.com/scverse/scanpy/assets/88872118/7fa7114e-d8ae-4e91-94b6-ece1f9505594). ### Minimal code sample. ```python. sc.tl.leiden(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.3. scanpy 1.9.6. -----. PIL 10.0.1. appnope 0.1.2. asttokens NA. attr 23.1.0. bottleneck 1.3.5. brotli NA. celltypist 1.6.2. certifi 2023.11.17. cffi 1.16.0. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.1.2. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.2. dask 2022.7.0. dateutil 2.8.2. debugpy 1.6.7. decorator 5.1.1. decoupler 1.5.0. defusedxml 0.7.1. dill 0.3.7. docrep 0.3.2. entrypoints 0.4. exceptiongroup 1.2.0. executing 0.8.3. fsspec 2023.10.0. h5py 3.7.0. idna 3.4. igraph 0.10.8. inflect NA. ipykernel 6.28.0. ipython_genutils 0.2.0. jedi 0.18.1. jinja2 3.1.3. joblib 1.3.2. jupyter_server 1.23.4. kiwisolver 1.4.4. leidenalg 0.10.1. llvmlite 0.42.0. louvain 0.8.1. lz4 4.3.2. markupsafe 2.1.3. matplotlib 3.8.0. matplotlib_inline 0.1.6. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.7. numpy 1.26.3. omnipath 1.0.8. packaging 23.1. pandas 2.1.4. parso 0.8.3. patsy 0.5.6. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. platformdirs 3.10.0. plotly 5.9.0. prompt_toolkit 3.0.43. psutil 5.9.0. ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2906
https://github.com/scverse/scanpy/issues/2906:861,usability,Error,Error,861,"sc.tl.leiden, restrict_to function not properly working; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Tried to run this function:. sc.tl.leiden(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). and instead it is subsetting cluster 5 into over 400 new subsets, even with my resolution set to 0.1. I've also tried different resolutions and none of them work, it ignores the resolution altogether. . ![leiden](https://github.com/scverse/scanpy/assets/88872118/7fa7114e-d8ae-4e91-94b6-ece1f9505594). ### Minimal code sample. ```python. sc.tl.leiden(test, resolution = 0.1, restrict_to = ('leiden', ['5'])). ```. ### Error output. _No response_. ### Versions. <details>. ```. -----. anndata 0.10.3. scanpy 1.9.6. -----. PIL 10.0.1. appnope 0.1.2. asttokens NA. attr 23.1.0. bottleneck 1.3.5. brotli NA. celltypist 1.6.2. certifi 2023.11.17. cffi 1.16.0. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.1.2. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.2. dask 2022.7.0. dateutil 2.8.2. debugpy 1.6.7. decorator 5.1.1. decoupler 1.5.0. defusedxml 0.7.1. dill 0.3.7. docrep 0.3.2. entrypoints 0.4. exceptiongroup 1.2.0. executing 0.8.3. fsspec 2023.10.0. h5py 3.7.0. idna 3.4. igraph 0.10.8. inflect NA. ipykernel 6.28.0. ipython_genutils 0.2.0. jedi 0.18.1. jinja2 3.1.3. joblib 1.3.2. jupyter_server 1.23.4. kiwisolver 1.4.4. leidenalg 0.10.1. llvmlite 0.42.0. louvain 0.8.1. lz4 4.3.2. markupsafe 2.1.3. matplotlib 3.8.0. matplotlib_inline 0.1.6. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.7. numpy 1.26.3. omnipath 1.0.8. packaging 23.1. pandas 2.1.4. parso 0.8.3. patsy 0.5.6. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. platformdirs 3.10.0. plotly 5.9.0. prompt_toolkit 3.0.43. psutil 5.9.0. ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2906
https://github.com/scverse/scanpy/issues/2906:2539,usability,tool,toolz,2539,"brotli NA. celltypist 1.6.2. certifi 2023.11.17. cffi 1.16.0. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.1.2. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.2. dask 2022.7.0. dateutil 2.8.2. debugpy 1.6.7. decorator 5.1.1. decoupler 1.5.0. defusedxml 0.7.1. dill 0.3.7. docrep 0.3.2. entrypoints 0.4. exceptiongroup 1.2.0. executing 0.8.3. fsspec 2023.10.0. h5py 3.7.0. idna 3.4. igraph 0.10.8. inflect NA. ipykernel 6.28.0. ipython_genutils 0.2.0. jedi 0.18.1. jinja2 3.1.3. joblib 1.3.2. jupyter_server 1.23.4. kiwisolver 1.4.4. leidenalg 0.10.1. llvmlite 0.42.0. louvain 0.8.1. lz4 4.3.2. markupsafe 2.1.3. matplotlib 3.8.0. matplotlib_inline 0.1.6. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.7. numpy 1.26.3. omnipath 1.0.8. packaging 23.1. pandas 2.1.4. parso 0.8.3. patsy 0.5.6. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. platformdirs 3.10.0. plotly 5.9.0. prompt_toolkit 3.0.43. psutil 5.9.0. ptyprocess 0.7.0. pure_eval 0.2.2. pycparser 2.21. pydantic 1.10.12. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.15.1. pynndescent 0.5.11. pyparsing 3.0.9. pytz 2023.3.post1. requests 2.31.0. ruamel NA. scipy 1.11.4. seaborn 0.12.2. session_info 1.0.0. setuptools 65.6.3. six 1.16.0. sklearn 1.4.1.post1. snappy NA. socks 1.7.1. sparse 0.14.0. sphinxcontrib NA. stack_data 0.2.0. statsmodels 0.14.1. tblib 1.7.0. texttable 1.7.0. threadpoolctl 2.2.0. tlz 0.12.2. toolz 0.12.0. torch 1.12.1. tornado 6.1. tqdm 4.65.0. traitlets 5.7.1. typing_extensions NA. umap 0.5.5. urllib3 1.26.18. wcwidth 0.2.5. wrapt 1.14.1. yaml 6.0.1. zipp NA. zmq 25.1.2. zoneinfo NA. zope NA. zstandard 0.19.0. -----. IPython 8.20.0. jupyter_client 7.3.4. jupyter_core 5.5.0. jupyterlab 3.5.3. notebook 6.5.2. -----. Python 3.10.13 (main, Sep 11 2023, 08:16:02) [Clang 14.0.6 ]. macOS-14.1.2-arm64-arm-64bit. -----. Session information updated at 2024-03-12 14:52. ​. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2906
https://github.com/scverse/scanpy/issues/2908:4,deployability,modul,modularity,4,"Get modularity score after community detection in leiden/louvain; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. This was already discussed in https://github.com/scverse/scanpy/pull/819, is there any reason why it is not possible now?",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2908
https://github.com/scverse/scanpy/issues/2908:4,integrability,modular,modularity,4,"Get modularity score after community detection in leiden/louvain; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. This was already discussed in https://github.com/scverse/scanpy/pull/819, is there any reason why it is not possible now?",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2908
https://github.com/scverse/scanpy/issues/2908:4,modifiability,modul,modularity,4,"Get modularity score after community detection in leiden/louvain; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. This was already discussed in https://github.com/scverse/scanpy/pull/819, is there any reason why it is not possible now?",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2908
https://github.com/scverse/scanpy/issues/2908:138,modifiability,paramet,parameters,138,"Get modularity score after community detection in leiden/louvain; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. This was already discussed in https://github.com/scverse/scanpy/pull/819, is there any reason why it is not possible now?",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2908
https://github.com/scverse/scanpy/issues/2908:4,safety,modul,modularity,4,"Get modularity score after community detection in leiden/louvain; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. This was already discussed in https://github.com/scverse/scanpy/pull/819, is there any reason why it is not possible now?",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2908
https://github.com/scverse/scanpy/issues/2908:37,safety,detect,detection,37,"Get modularity score after community detection in leiden/louvain; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. This was already discussed in https://github.com/scverse/scanpy/pull/819, is there any reason why it is not possible now?",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2908
https://github.com/scverse/scanpy/issues/2908:37,security,detect,detection,37,"Get modularity score after community detection in leiden/louvain; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. This was already discussed in https://github.com/scverse/scanpy/pull/819, is there any reason why it is not possible now?",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2908
https://github.com/scverse/scanpy/issues/2908:4,testability,modula,modularity,4,"Get modularity score after community detection in leiden/louvain; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. This was already discussed in https://github.com/scverse/scanpy/pull/819, is there any reason why it is not possible now?",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2908
https://github.com/scverse/scanpy/issues/2909:576,availability,state,stated,576,"Document input in `score_genes()`/`score_genes_cell_cycle()`; ### What kind of feature would you like to request? Other? ### Please describe your wishes. Currently, `score_genes()`/`score_genes_cell_cycle()` do not have any examples and specifically no documentation of what the input transformation of the data should be, just a link to a (very old) notebook. The notebook says ""Log-transformation of data and scaling should always be performed before scoring"" but I suspect many users (like me) have missed this (especially the scaling step!). It would be great if this was stated in the function documentation with an example.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2909
https://github.com/scverse/scanpy/issues/2909:380,deployability,Log,Log-transformation,380,"Document input in `score_genes()`/`score_genes_cell_cycle()`; ### What kind of feature would you like to request? Other? ### Please describe your wishes. Currently, `score_genes()`/`score_genes_cell_cycle()` do not have any examples and specifically no documentation of what the input transformation of the data should be, just a link to a (very old) notebook. The notebook says ""Log-transformation of data and scaling should always be performed before scoring"" but I suspect many users (like me) have missed this (especially the scaling step!). It would be great if this was stated in the function documentation with an example.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2909
https://github.com/scverse/scanpy/issues/2909:154,energy efficiency,Current,Currently,154,"Document input in `score_genes()`/`score_genes_cell_cycle()`; ### What kind of feature would you like to request? Other? ### Please describe your wishes. Currently, `score_genes()`/`score_genes_cell_cycle()` do not have any examples and specifically no documentation of what the input transformation of the data should be, just a link to a (very old) notebook. The notebook says ""Log-transformation of data and scaling should always be performed before scoring"" but I suspect many users (like me) have missed this (especially the scaling step!). It would be great if this was stated in the function documentation with an example.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2909
https://github.com/scverse/scanpy/issues/2909:285,integrability,transform,transformation,285,"Document input in `score_genes()`/`score_genes_cell_cycle()`; ### What kind of feature would you like to request? Other? ### Please describe your wishes. Currently, `score_genes()`/`score_genes_cell_cycle()` do not have any examples and specifically no documentation of what the input transformation of the data should be, just a link to a (very old) notebook. The notebook says ""Log-transformation of data and scaling should always be performed before scoring"" but I suspect many users (like me) have missed this (especially the scaling step!). It would be great if this was stated in the function documentation with an example.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2909
https://github.com/scverse/scanpy/issues/2909:384,integrability,transform,transformation,384,"Document input in `score_genes()`/`score_genes_cell_cycle()`; ### What kind of feature would you like to request? Other? ### Please describe your wishes. Currently, `score_genes()`/`score_genes_cell_cycle()` do not have any examples and specifically no documentation of what the input transformation of the data should be, just a link to a (very old) notebook. The notebook says ""Log-transformation of data and scaling should always be performed before scoring"" but I suspect many users (like me) have missed this (especially the scaling step!). It would be great if this was stated in the function documentation with an example.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2909
https://github.com/scverse/scanpy/issues/2909:576,integrability,state,stated,576,"Document input in `score_genes()`/`score_genes_cell_cycle()`; ### What kind of feature would you like to request? Other? ### Please describe your wishes. Currently, `score_genes()`/`score_genes_cell_cycle()` do not have any examples and specifically no documentation of what the input transformation of the data should be, just a link to a (very old) notebook. The notebook says ""Log-transformation of data and scaling should always be performed before scoring"" but I suspect many users (like me) have missed this (especially the scaling step!). It would be great if this was stated in the function documentation with an example.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2909
https://github.com/scverse/scanpy/issues/2909:237,interoperability,specif,specifically,237,"Document input in `score_genes()`/`score_genes_cell_cycle()`; ### What kind of feature would you like to request? Other? ### Please describe your wishes. Currently, `score_genes()`/`score_genes_cell_cycle()` do not have any examples and specifically no documentation of what the input transformation of the data should be, just a link to a (very old) notebook. The notebook says ""Log-transformation of data and scaling should always be performed before scoring"" but I suspect many users (like me) have missed this (especially the scaling step!). It would be great if this was stated in the function documentation with an example.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2909
https://github.com/scverse/scanpy/issues/2909:285,interoperability,transform,transformation,285,"Document input in `score_genes()`/`score_genes_cell_cycle()`; ### What kind of feature would you like to request? Other? ### Please describe your wishes. Currently, `score_genes()`/`score_genes_cell_cycle()` do not have any examples and specifically no documentation of what the input transformation of the data should be, just a link to a (very old) notebook. The notebook says ""Log-transformation of data and scaling should always be performed before scoring"" but I suspect many users (like me) have missed this (especially the scaling step!). It would be great if this was stated in the function documentation with an example.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2909
https://github.com/scverse/scanpy/issues/2909:384,interoperability,transform,transformation,384,"Document input in `score_genes()`/`score_genes_cell_cycle()`; ### What kind of feature would you like to request? Other? ### Please describe your wishes. Currently, `score_genes()`/`score_genes_cell_cycle()` do not have any examples and specifically no documentation of what the input transformation of the data should be, just a link to a (very old) notebook. The notebook says ""Log-transformation of data and scaling should always be performed before scoring"" but I suspect many users (like me) have missed this (especially the scaling step!). It would be great if this was stated in the function documentation with an example.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2909
https://github.com/scverse/scanpy/issues/2909:411,modifiability,scal,scaling,411,"Document input in `score_genes()`/`score_genes_cell_cycle()`; ### What kind of feature would you like to request? Other? ### Please describe your wishes. Currently, `score_genes()`/`score_genes_cell_cycle()` do not have any examples and specifically no documentation of what the input transformation of the data should be, just a link to a (very old) notebook. The notebook says ""Log-transformation of data and scaling should always be performed before scoring"" but I suspect many users (like me) have missed this (especially the scaling step!). It would be great if this was stated in the function documentation with an example.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2909
https://github.com/scverse/scanpy/issues/2909:530,modifiability,scal,scaling,530,"Document input in `score_genes()`/`score_genes_cell_cycle()`; ### What kind of feature would you like to request? Other? ### Please describe your wishes. Currently, `score_genes()`/`score_genes_cell_cycle()` do not have any examples and specifically no documentation of what the input transformation of the data should be, just a link to a (very old) notebook. The notebook says ""Log-transformation of data and scaling should always be performed before scoring"" but I suspect many users (like me) have missed this (especially the scaling step!). It would be great if this was stated in the function documentation with an example.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2909
https://github.com/scverse/scanpy/issues/2909:436,performance,perform,performed,436,"Document input in `score_genes()`/`score_genes_cell_cycle()`; ### What kind of feature would you like to request? Other? ### Please describe your wishes. Currently, `score_genes()`/`score_genes_cell_cycle()` do not have any examples and specifically no documentation of what the input transformation of the data should be, just a link to a (very old) notebook. The notebook says ""Log-transformation of data and scaling should always be performed before scoring"" but I suspect many users (like me) have missed this (especially the scaling step!). It would be great if this was stated in the function documentation with an example.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2909
https://github.com/scverse/scanpy/issues/2909:9,safety,input,input,9,"Document input in `score_genes()`/`score_genes_cell_cycle()`; ### What kind of feature would you like to request? Other? ### Please describe your wishes. Currently, `score_genes()`/`score_genes_cell_cycle()` do not have any examples and specifically no documentation of what the input transformation of the data should be, just a link to a (very old) notebook. The notebook says ""Log-transformation of data and scaling should always be performed before scoring"" but I suspect many users (like me) have missed this (especially the scaling step!). It would be great if this was stated in the function documentation with an example.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2909
https://github.com/scverse/scanpy/issues/2909:279,safety,input,input,279,"Document input in `score_genes()`/`score_genes_cell_cycle()`; ### What kind of feature would you like to request? Other? ### Please describe your wishes. Currently, `score_genes()`/`score_genes_cell_cycle()` do not have any examples and specifically no documentation of what the input transformation of the data should be, just a link to a (very old) notebook. The notebook says ""Log-transformation of data and scaling should always be performed before scoring"" but I suspect many users (like me) have missed this (especially the scaling step!). It would be great if this was stated in the function documentation with an example.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2909
https://github.com/scverse/scanpy/issues/2909:380,safety,Log,Log-transformation,380,"Document input in `score_genes()`/`score_genes_cell_cycle()`; ### What kind of feature would you like to request? Other? ### Please describe your wishes. Currently, `score_genes()`/`score_genes_cell_cycle()` do not have any examples and specifically no documentation of what the input transformation of the data should be, just a link to a (very old) notebook. The notebook says ""Log-transformation of data and scaling should always be performed before scoring"" but I suspect many users (like me) have missed this (especially the scaling step!). It would be great if this was stated in the function documentation with an example.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2909
https://github.com/scverse/scanpy/issues/2909:380,security,Log,Log-transformation,380,"Document input in `score_genes()`/`score_genes_cell_cycle()`; ### What kind of feature would you like to request? Other? ### Please describe your wishes. Currently, `score_genes()`/`score_genes_cell_cycle()` do not have any examples and specifically no documentation of what the input transformation of the data should be, just a link to a (very old) notebook. The notebook says ""Log-transformation of data and scaling should always be performed before scoring"" but I suspect many users (like me) have missed this (especially the scaling step!). It would be great if this was stated in the function documentation with an example.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2909
https://github.com/scverse/scanpy/issues/2909:380,testability,Log,Log-transformation,380,"Document input in `score_genes()`/`score_genes_cell_cycle()`; ### What kind of feature would you like to request? Other? ### Please describe your wishes. Currently, `score_genes()`/`score_genes_cell_cycle()` do not have any examples and specifically no documentation of what the input transformation of the data should be, just a link to a (very old) notebook. The notebook says ""Log-transformation of data and scaling should always be performed before scoring"" but I suspect many users (like me) have missed this (especially the scaling step!). It would be great if this was stated in the function documentation with an example.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2909
https://github.com/scverse/scanpy/issues/2909:0,usability,Document,Document,0,"Document input in `score_genes()`/`score_genes_cell_cycle()`; ### What kind of feature would you like to request? Other? ### Please describe your wishes. Currently, `score_genes()`/`score_genes_cell_cycle()` do not have any examples and specifically no documentation of what the input transformation of the data should be, just a link to a (very old) notebook. The notebook says ""Log-transformation of data and scaling should always be performed before scoring"" but I suspect many users (like me) have missed this (especially the scaling step!). It would be great if this was stated in the function documentation with an example.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2909
https://github.com/scverse/scanpy/issues/2909:9,usability,input,input,9,"Document input in `score_genes()`/`score_genes_cell_cycle()`; ### What kind of feature would you like to request? Other? ### Please describe your wishes. Currently, `score_genes()`/`score_genes_cell_cycle()` do not have any examples and specifically no documentation of what the input transformation of the data should be, just a link to a (very old) notebook. The notebook says ""Log-transformation of data and scaling should always be performed before scoring"" but I suspect many users (like me) have missed this (especially the scaling step!). It would be great if this was stated in the function documentation with an example.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2909
https://github.com/scverse/scanpy/issues/2909:253,usability,document,documentation,253,"Document input in `score_genes()`/`score_genes_cell_cycle()`; ### What kind of feature would you like to request? Other? ### Please describe your wishes. Currently, `score_genes()`/`score_genes_cell_cycle()` do not have any examples and specifically no documentation of what the input transformation of the data should be, just a link to a (very old) notebook. The notebook says ""Log-transformation of data and scaling should always be performed before scoring"" but I suspect many users (like me) have missed this (especially the scaling step!). It would be great if this was stated in the function documentation with an example.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2909
https://github.com/scverse/scanpy/issues/2909:279,usability,input,input,279,"Document input in `score_genes()`/`score_genes_cell_cycle()`; ### What kind of feature would you like to request? Other? ### Please describe your wishes. Currently, `score_genes()`/`score_genes_cell_cycle()` do not have any examples and specifically no documentation of what the input transformation of the data should be, just a link to a (very old) notebook. The notebook says ""Log-transformation of data and scaling should always be performed before scoring"" but I suspect many users (like me) have missed this (especially the scaling step!). It would be great if this was stated in the function documentation with an example.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2909
https://github.com/scverse/scanpy/issues/2909:436,usability,perform,performed,436,"Document input in `score_genes()`/`score_genes_cell_cycle()`; ### What kind of feature would you like to request? Other? ### Please describe your wishes. Currently, `score_genes()`/`score_genes_cell_cycle()` do not have any examples and specifically no documentation of what the input transformation of the data should be, just a link to a (very old) notebook. The notebook says ""Log-transformation of data and scaling should always be performed before scoring"" but I suspect many users (like me) have missed this (especially the scaling step!). It would be great if this was stated in the function documentation with an example.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2909
https://github.com/scverse/scanpy/issues/2909:481,usability,user,users,481,"Document input in `score_genes()`/`score_genes_cell_cycle()`; ### What kind of feature would you like to request? Other? ### Please describe your wishes. Currently, `score_genes()`/`score_genes_cell_cycle()` do not have any examples and specifically no documentation of what the input transformation of the data should be, just a link to a (very old) notebook. The notebook says ""Log-transformation of data and scaling should always be performed before scoring"" but I suspect many users (like me) have missed this (especially the scaling step!). It would be great if this was stated in the function documentation with an example.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2909
https://github.com/scverse/scanpy/issues/2909:599,usability,document,documentation,599,"Document input in `score_genes()`/`score_genes_cell_cycle()`; ### What kind of feature would you like to request? Other? ### Please describe your wishes. Currently, `score_genes()`/`score_genes_cell_cycle()` do not have any examples and specifically no documentation of what the input transformation of the data should be, just a link to a (very old) notebook. The notebook says ""Log-transformation of data and scaling should always be performed before scoring"" but I suspect many users (like me) have missed this (especially the scaling step!). It would be great if this was stated in the function documentation with an example.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2909
https://github.com/scverse/scanpy/issues/2910:4,modifiability,layer,layer,4,Add layer argument to `score_genes()`/`score_genes_cell_cycle()`; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. These functions are some of the few to still not have this argument. Would also help with #2909.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2910
https://github.com/scverse/scanpy/issues/2910:138,modifiability,paramet,parameters,138,Add layer argument to `score_genes()`/`score_genes_cell_cycle()`; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. These functions are some of the few to still not have this argument. Would also help with #2909.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2910
https://github.com/scverse/scanpy/issues/2910:306,usability,help,help,306,Add layer argument to `score_genes()`/`score_genes_cell_cycle()`; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. These functions are some of the few to still not have this argument. Would also help with #2909.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2910
https://github.com/scverse/scanpy/issues/2912:548,availability,Error,Error,548,"scale max value only cuts high values; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Shouldn't max Value for `scale` and zero_center also clip the negative values? ### Minimal code sample. ```python. bdata = sc.datasets.pbmc3k(). sc.pp.scale(bdata,max_value= 1). print(bdata.X.min(),bdata.X.max()). ```. ### Error output. ```pytb. -2.62718 1.0. shouldn't this be -1,1. ```. ### Versions. scanpy build from github main branch",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2912
https://github.com/scverse/scanpy/issues/2912:0,deployability,scale,scale,0,"scale max value only cuts high values; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Shouldn't max Value for `scale` and zero_center also clip the negative values? ### Minimal code sample. ```python. bdata = sc.datasets.pbmc3k(). sc.pp.scale(bdata,max_value= 1). print(bdata.X.min(),bdata.X.max()). ```. ### Error output. ```pytb. -2.62718 1.0. shouldn't this be -1,1. ```. ### Versions. scanpy build from github main branch",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2912
https://github.com/scverse/scanpy/issues/2912:207,deployability,version,version,207,"scale max value only cuts high values; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Shouldn't max Value for `scale` and zero_center also clip the negative values? ### Minimal code sample. ```python. bdata = sc.datasets.pbmc3k(). sc.pp.scale(bdata,max_value= 1). print(bdata.X.min(),bdata.X.max()). ```. ### Error output. ```pytb. -2.62718 1.0. shouldn't this be -1,1. ```. ### Versions. scanpy build from github main branch",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2912
https://github.com/scverse/scanpy/issues/2912:350,deployability,scale,scale,350,"scale max value only cuts high values; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Shouldn't max Value for `scale` and zero_center also clip the negative values? ### Minimal code sample. ```python. bdata = sc.datasets.pbmc3k(). sc.pp.scale(bdata,max_value= 1). print(bdata.X.min(),bdata.X.max()). ```. ### Error output. ```pytb. -2.62718 1.0. shouldn't this be -1,1. ```. ### Versions. scanpy build from github main branch",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2912
https://github.com/scverse/scanpy/issues/2912:476,deployability,scale,scale,476,"scale max value only cuts high values; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Shouldn't max Value for `scale` and zero_center also clip the negative values? ### Minimal code sample. ```python. bdata = sc.datasets.pbmc3k(). sc.pp.scale(bdata,max_value= 1). print(bdata.X.min(),bdata.X.max()). ```. ### Error output. ```pytb. -2.62718 1.0. shouldn't this be -1,1. ```. ### Versions. scanpy build from github main branch",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2912
https://github.com/scverse/scanpy/issues/2912:618,deployability,Version,Versions,618,"scale max value only cuts high values; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Shouldn't max Value for `scale` and zero_center also clip the negative values? ### Minimal code sample. ```python. bdata = sc.datasets.pbmc3k(). sc.pp.scale(bdata,max_value= 1). print(bdata.X.min(),bdata.X.max()). ```. ### Error output. ```pytb. -2.62718 1.0. shouldn't this be -1,1. ```. ### Versions. scanpy build from github main branch",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2912
https://github.com/scverse/scanpy/issues/2912:635,deployability,build,build,635,"scale max value only cuts high values; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Shouldn't max Value for `scale` and zero_center also clip the negative values? ### Minimal code sample. ```python. bdata = sc.datasets.pbmc3k(). sc.pp.scale(bdata,max_value= 1). print(bdata.X.min(),bdata.X.max()). ```. ### Error output. ```pytb. -2.62718 1.0. shouldn't this be -1,1. ```. ### Versions. scanpy build from github main branch",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2912
https://github.com/scverse/scanpy/issues/2912:0,energy efficiency,scale,scale,0,"scale max value only cuts high values; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Shouldn't max Value for `scale` and zero_center also clip the negative values? ### Minimal code sample. ```python. bdata = sc.datasets.pbmc3k(). sc.pp.scale(bdata,max_value= 1). print(bdata.X.min(),bdata.X.max()). ```. ### Error output. ```pytb. -2.62718 1.0. shouldn't this be -1,1. ```. ### Versions. scanpy build from github main branch",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2912
https://github.com/scverse/scanpy/issues/2912:350,energy efficiency,scale,scale,350,"scale max value only cuts high values; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Shouldn't max Value for `scale` and zero_center also clip the negative values? ### Minimal code sample. ```python. bdata = sc.datasets.pbmc3k(). sc.pp.scale(bdata,max_value= 1). print(bdata.X.min(),bdata.X.max()). ```. ### Error output. ```pytb. -2.62718 1.0. shouldn't this be -1,1. ```. ### Versions. scanpy build from github main branch",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2912
https://github.com/scverse/scanpy/issues/2912:476,energy efficiency,scale,scale,476,"scale max value only cuts high values; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Shouldn't max Value for `scale` and zero_center also clip the negative values? ### Minimal code sample. ```python. bdata = sc.datasets.pbmc3k(). sc.pp.scale(bdata,max_value= 1). print(bdata.X.min(),bdata.X.max()). ```. ### Error output. ```pytb. -2.62718 1.0. shouldn't this be -1,1. ```. ### Versions. scanpy build from github main branch",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2912
https://github.com/scverse/scanpy/issues/2912:207,integrability,version,version,207,"scale max value only cuts high values; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Shouldn't max Value for `scale` and zero_center also clip the negative values? ### Minimal code sample. ```python. bdata = sc.datasets.pbmc3k(). sc.pp.scale(bdata,max_value= 1). print(bdata.X.min(),bdata.X.max()). ```. ### Error output. ```pytb. -2.62718 1.0. shouldn't this be -1,1. ```. ### Versions. scanpy build from github main branch",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2912
https://github.com/scverse/scanpy/issues/2912:618,integrability,Version,Versions,618,"scale max value only cuts high values; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Shouldn't max Value for `scale` and zero_center also clip the negative values? ### Minimal code sample. ```python. bdata = sc.datasets.pbmc3k(). sc.pp.scale(bdata,max_value= 1). print(bdata.X.min(),bdata.X.max()). ```. ### Error output. ```pytb. -2.62718 1.0. shouldn't this be -1,1. ```. ### Versions. scanpy build from github main branch",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2912
https://github.com/scverse/scanpy/issues/2912:0,modifiability,scal,scale,0,"scale max value only cuts high values; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Shouldn't max Value for `scale` and zero_center also clip the negative values? ### Minimal code sample. ```python. bdata = sc.datasets.pbmc3k(). sc.pp.scale(bdata,max_value= 1). print(bdata.X.min(),bdata.X.max()). ```. ### Error output. ```pytb. -2.62718 1.0. shouldn't this be -1,1. ```. ### Versions. scanpy build from github main branch",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2912
https://github.com/scverse/scanpy/issues/2912:207,modifiability,version,version,207,"scale max value only cuts high values; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Shouldn't max Value for `scale` and zero_center also clip the negative values? ### Minimal code sample. ```python. bdata = sc.datasets.pbmc3k(). sc.pp.scale(bdata,max_value= 1). print(bdata.X.min(),bdata.X.max()). ```. ### Error output. ```pytb. -2.62718 1.0. shouldn't this be -1,1. ```. ### Versions. scanpy build from github main branch",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2912
https://github.com/scverse/scanpy/issues/2912:350,modifiability,scal,scale,350,"scale max value only cuts high values; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Shouldn't max Value for `scale` and zero_center also clip the negative values? ### Minimal code sample. ```python. bdata = sc.datasets.pbmc3k(). sc.pp.scale(bdata,max_value= 1). print(bdata.X.min(),bdata.X.max()). ```. ### Error output. ```pytb. -2.62718 1.0. shouldn't this be -1,1. ```. ### Versions. scanpy build from github main branch",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2912
https://github.com/scverse/scanpy/issues/2912:476,modifiability,scal,scale,476,"scale max value only cuts high values; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Shouldn't max Value for `scale` and zero_center also clip the negative values? ### Minimal code sample. ```python. bdata = sc.datasets.pbmc3k(). sc.pp.scale(bdata,max_value= 1). print(bdata.X.min(),bdata.X.max()). ```. ### Error output. ```pytb. -2.62718 1.0. shouldn't this be -1,1. ```. ### Versions. scanpy build from github main branch",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2912
https://github.com/scverse/scanpy/issues/2912:618,modifiability,Version,Versions,618,"scale max value only cuts high values; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Shouldn't max Value for `scale` and zero_center also clip the negative values? ### Minimal code sample. ```python. bdata = sc.datasets.pbmc3k(). sc.pp.scale(bdata,max_value= 1). print(bdata.X.min(),bdata.X.max()). ```. ### Error output. ```pytb. -2.62718 1.0. shouldn't this be -1,1. ```. ### Versions. scanpy build from github main branch",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2912
https://github.com/scverse/scanpy/issues/2912:0,performance,scale,scale,0,"scale max value only cuts high values; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Shouldn't max Value for `scale` and zero_center also clip the negative values? ### Minimal code sample. ```python. bdata = sc.datasets.pbmc3k(). sc.pp.scale(bdata,max_value= 1). print(bdata.X.min(),bdata.X.max()). ```. ### Error output. ```pytb. -2.62718 1.0. shouldn't this be -1,1. ```. ### Versions. scanpy build from github main branch",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2912
https://github.com/scverse/scanpy/issues/2912:350,performance,scale,scale,350,"scale max value only cuts high values; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Shouldn't max Value for `scale` and zero_center also clip the negative values? ### Minimal code sample. ```python. bdata = sc.datasets.pbmc3k(). sc.pp.scale(bdata,max_value= 1). print(bdata.X.min(),bdata.X.max()). ```. ### Error output. ```pytb. -2.62718 1.0. shouldn't this be -1,1. ```. ### Versions. scanpy build from github main branch",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2912
https://github.com/scverse/scanpy/issues/2912:476,performance,scale,scale,476,"scale max value only cuts high values; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Shouldn't max Value for `scale` and zero_center also clip the negative values? ### Minimal code sample. ```python. bdata = sc.datasets.pbmc3k(). sc.pp.scale(bdata,max_value= 1). print(bdata.X.min(),bdata.X.max()). ```. ### Error output. ```pytb. -2.62718 1.0. shouldn't this be -1,1. ```. ### Versions. scanpy build from github main branch",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2912
https://github.com/scverse/scanpy/issues/2912:548,performance,Error,Error,548,"scale max value only cuts high values; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Shouldn't max Value for `scale` and zero_center also clip the negative values? ### Minimal code sample. ```python. bdata = sc.datasets.pbmc3k(). sc.pp.scale(bdata,max_value= 1). print(bdata.X.min(),bdata.X.max()). ```. ### Error output. ```pytb. -2.62718 1.0. shouldn't this be -1,1. ```. ### Versions. scanpy build from github main branch",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2912
https://github.com/scverse/scanpy/issues/2912:548,safety,Error,Error,548,"scale max value only cuts high values; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Shouldn't max Value for `scale` and zero_center also clip the negative values? ### Minimal code sample. ```python. bdata = sc.datasets.pbmc3k(). sc.pp.scale(bdata,max_value= 1). print(bdata.X.min(),bdata.X.max()). ```. ### Error output. ```pytb. -2.62718 1.0. shouldn't this be -1,1. ```. ### Versions. scanpy build from github main branch",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2912
https://github.com/scverse/scanpy/issues/2912:167,usability,confirm,confirmed,167,"scale max value only cuts high values; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Shouldn't max Value for `scale` and zero_center also clip the negative values? ### Minimal code sample. ```python. bdata = sc.datasets.pbmc3k(). sc.pp.scale(bdata,max_value= 1). print(bdata.X.min(),bdata.X.max()). ```. ### Error output. ```pytb. -2.62718 1.0. shouldn't this be -1,1. ```. ### Versions. scanpy build from github main branch",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2912
https://github.com/scverse/scanpy/issues/2912:250,usability,confirm,confirmed,250,"scale max value only cuts high values; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Shouldn't max Value for `scale` and zero_center also clip the negative values? ### Minimal code sample. ```python. bdata = sc.datasets.pbmc3k(). sc.pp.scale(bdata,max_value= 1). print(bdata.X.min(),bdata.X.max()). ```. ### Error output. ```pytb. -2.62718 1.0. shouldn't this be -1,1. ```. ### Versions. scanpy build from github main branch",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2912
https://github.com/scverse/scanpy/issues/2912:408,usability,Minim,Minimal,408,"scale max value only cuts high values; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Shouldn't max Value for `scale` and zero_center also clip the negative values? ### Minimal code sample. ```python. bdata = sc.datasets.pbmc3k(). sc.pp.scale(bdata,max_value= 1). print(bdata.X.min(),bdata.X.max()). ```. ### Error output. ```pytb. -2.62718 1.0. shouldn't this be -1,1. ```. ### Versions. scanpy build from github main branch",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2912
https://github.com/scverse/scanpy/issues/2912:548,usability,Error,Error,548,"scale max value only cuts high values; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Shouldn't max Value for `scale` and zero_center also clip the negative values? ### Minimal code sample. ```python. bdata = sc.datasets.pbmc3k(). sc.pp.scale(bdata,max_value= 1). print(bdata.X.min(),bdata.X.max()). ```. ### Error output. ```pytb. -2.62718 1.0. shouldn't this be -1,1. ```. ### Versions. scanpy build from github main branch",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2912
https://github.com/scverse/scanpy/pull/2913:0,deployability,Scale,Scale,0,Scale clips low; fixes #2912,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2913
https://github.com/scverse/scanpy/pull/2913:0,energy efficiency,Scale,Scale,0,Scale clips low; fixes #2912,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2913
https://github.com/scverse/scanpy/pull/2913:0,modifiability,Scal,Scale,0,Scale clips low; fixes #2912,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2913
https://github.com/scverse/scanpy/pull/2913:0,performance,Scale,Scale,0,Scale clips low; fixes #2912,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2913
https://github.com/scverse/scanpy/pull/2914:147,availability,mask,mask,147,"fixes pca_test `test_mask_defaults`; The PCA test `test_mask_defaults` only passed because of `float32` being to loose in some situation. When the mask randomly was `[True, True, True, True, True]` the test should have failed. Now the test works as intended.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2914
https://github.com/scverse/scanpy/pull/2914:219,deployability,fail,failed,219,"fixes pca_test `test_mask_defaults`; The PCA test `test_mask_defaults` only passed because of `float32` being to loose in some situation. When the mask randomly was `[True, True, True, True, True]` the test should have failed. Now the test works as intended.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2914
https://github.com/scverse/scanpy/pull/2914:219,reliability,fail,failed,219,"fixes pca_test `test_mask_defaults`; The PCA test `test_mask_defaults` only passed because of `float32` being to loose in some situation. When the mask randomly was `[True, True, True, True, True]` the test should have failed. Now the test works as intended.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2914
https://github.com/scverse/scanpy/pull/2914:45,safety,test,test,45,"fixes pca_test `test_mask_defaults`; The PCA test `test_mask_defaults` only passed because of `float32` being to loose in some situation. When the mask randomly was `[True, True, True, True, True]` the test should have failed. Now the test works as intended.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2914
https://github.com/scverse/scanpy/pull/2914:202,safety,test,test,202,"fixes pca_test `test_mask_defaults`; The PCA test `test_mask_defaults` only passed because of `float32` being to loose in some situation. When the mask randomly was `[True, True, True, True, True]` the test should have failed. Now the test works as intended.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2914
https://github.com/scverse/scanpy/pull/2914:235,safety,test,test,235,"fixes pca_test `test_mask_defaults`; The PCA test `test_mask_defaults` only passed because of `float32` being to loose in some situation. When the mask randomly was `[True, True, True, True, True]` the test should have failed. Now the test works as intended.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2914
https://github.com/scverse/scanpy/pull/2914:45,testability,test,test,45,"fixes pca_test `test_mask_defaults`; The PCA test `test_mask_defaults` only passed because of `float32` being to loose in some situation. When the mask randomly was `[True, True, True, True, True]` the test should have failed. Now the test works as intended.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2914
https://github.com/scverse/scanpy/pull/2914:202,testability,test,test,202,"fixes pca_test `test_mask_defaults`; The PCA test `test_mask_defaults` only passed because of `float32` being to loose in some situation. When the mask randomly was `[True, True, True, True, True]` the test should have failed. Now the test works as intended.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2914
https://github.com/scverse/scanpy/pull/2914:235,testability,test,test,235,"fixes pca_test `test_mask_defaults`; The PCA test `test_mask_defaults` only passed because of `float32` being to loose in some situation. When the mask randomly was `[True, True, True, True, True]` the test should have failed. Now the test works as intended.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2914
https://github.com/scverse/scanpy/pull/2915:69,integrability,buffer,buffer,69,Backport PR #2905 on branch 1.10.x (Remove inplace modification of a buffer created by pandas); Backport PR #2905: Remove inplace modification of a buffer created by pandas,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2915
https://github.com/scverse/scanpy/pull/2915:148,integrability,buffer,buffer,148,Backport PR #2905 on branch 1.10.x (Remove inplace modification of a buffer created by pandas); Backport PR #2905: Remove inplace modification of a buffer created by pandas,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2915
https://github.com/scverse/scanpy/pull/2915:51,security,modif,modification,51,Backport PR #2905 on branch 1.10.x (Remove inplace modification of a buffer created by pandas); Backport PR #2905: Remove inplace modification of a buffer created by pandas,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2915
https://github.com/scverse/scanpy/pull/2915:130,security,modif,modification,130,Backport PR #2905 on branch 1.10.x (Remove inplace modification of a buffer created by pandas); Backport PR #2905: Remove inplace modification of a buffer created by pandas,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2915
https://github.com/scverse/scanpy/pull/2917:36,deployability,Scale,Scale,36,Backport PR #2913 on branch 1.10.x (Scale clips low); Backport PR #2913: Scale clips low,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2917
https://github.com/scverse/scanpy/pull/2917:73,deployability,Scale,Scale,73,Backport PR #2913 on branch 1.10.x (Scale clips low); Backport PR #2913: Scale clips low,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2917
https://github.com/scverse/scanpy/pull/2917:36,energy efficiency,Scale,Scale,36,Backport PR #2913 on branch 1.10.x (Scale clips low); Backport PR #2913: Scale clips low,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2917
https://github.com/scverse/scanpy/pull/2917:73,energy efficiency,Scale,Scale,73,Backport PR #2913 on branch 1.10.x (Scale clips low); Backport PR #2913: Scale clips low,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2917
https://github.com/scverse/scanpy/pull/2917:36,modifiability,Scal,Scale,36,Backport PR #2913 on branch 1.10.x (Scale clips low); Backport PR #2913: Scale clips low,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2917
https://github.com/scverse/scanpy/pull/2917:73,modifiability,Scal,Scale,73,Backport PR #2913 on branch 1.10.x (Scale clips low); Backport PR #2913: Scale clips low,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2917
https://github.com/scverse/scanpy/pull/2917:36,performance,Scale,Scale,36,Backport PR #2913 on branch 1.10.x (Scale clips low); Backport PR #2913: Scale clips low,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2917
https://github.com/scverse/scanpy/pull/2917:73,performance,Scale,Scale,73,Backport PR #2913 on branch 1.10.x (Scale clips low); Backport PR #2913: Scale clips low,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2917
https://github.com/scverse/scanpy/pull/2921:459,deployability,releas,release,459,Add layer argument to score_genes(); <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2910 . - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2921
https://github.com/scverse/scanpy/pull/2921:484,deployability,Releas,Release,484,Add layer argument to score_genes(); <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2910 . - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2921
https://github.com/scverse/scanpy/pull/2921:4,modifiability,layer,layer,4,Add layer argument to score_genes(); <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2910 . - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2921
https://github.com/scverse/scanpy/pull/2921:256,safety,review,review,256,Add layer argument to score_genes(); <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2910 . - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2921
https://github.com/scverse/scanpy/pull/2921:361,safety,Test,Tests,361,Add layer argument to score_genes(); <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2910 . - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2921
https://github.com/scverse/scanpy/pull/2921:256,testability,review,review,256,Add layer argument to score_genes(); <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2910 . - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2921
https://github.com/scverse/scanpy/pull/2921:361,testability,Test,Tests,361,Add layer argument to score_genes(); <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2910 . - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2921
https://github.com/scverse/scanpy/pull/2921:107,usability,guid,guidelines,107,Add layer argument to score_genes(); <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2910 . - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2921
https://github.com/scverse/scanpy/pull/2921:138,usability,guid,guide,138,Add layer argument to score_genes(); <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2910 . - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2921
https://github.com/scverse/scanpy/pull/2921:234,usability,workflow,workflow,234,Add layer argument to score_genes(); <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2910 . - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2921
https://github.com/scverse/scanpy/pull/2921:340,usability,Close,Closes,340,Add layer argument to score_genes(); <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2910 . - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2921
https://github.com/scverse/scanpy/pull/2923:477,deployability,releas,release,477,(fix): use `delayed` median function in dask normalization; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2923
https://github.com/scverse/scanpy/pull/2923:502,deployability,Releas,Release,502,(fix): use `delayed` median function in dask normalization; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2923
https://github.com/scverse/scanpy/pull/2923:279,safety,review,review,279,(fix): use `delayed` median function in dask normalization; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2923
https://github.com/scverse/scanpy/pull/2923:379,safety,Test,Tests,379,(fix): use `delayed` median function in dask normalization; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2923
https://github.com/scverse/scanpy/pull/2923:279,testability,review,review,279,(fix): use `delayed` median function in dask normalization; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2923
https://github.com/scverse/scanpy/pull/2923:379,testability,Test,Tests,379,(fix): use `delayed` median function in dask normalization; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2923
https://github.com/scverse/scanpy/pull/2923:130,usability,guid,guidelines,130,(fix): use `delayed` median function in dask normalization; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2923
https://github.com/scverse/scanpy/pull/2923:161,usability,guid,guide,161,(fix): use `delayed` median function in dask normalization; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2923
https://github.com/scverse/scanpy/pull/2923:257,usability,workflow,workflow,257,(fix): use `delayed` median function in dask normalization; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2923
https://github.com/scverse/scanpy/pull/2923:363,usability,Close,Closes,363,(fix): use `delayed` median function in dask normalization; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2923
https://github.com/scverse/scanpy/pull/2924:51,deployability,updat,update,51,"Backport PR #2889 on branch 1.10.x (Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key); Backport PR #2889: Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2924
https://github.com/scverse/scanpy/pull/2924:161,deployability,updat,update,161,"Backport PR #2889 on branch 1.10.x (Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key); Backport PR #2889: Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2924
https://github.com/scverse/scanpy/pull/2924:111,interoperability,specif,specified,111,"Backport PR #2889 on branch 1.10.x (Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key); Backport PR #2889: Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2924
https://github.com/scverse/scanpy/pull/2924:221,interoperability,specif,specified,221,"Backport PR #2889 on branch 1.10.x (Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key); Backport PR #2889: Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2924
https://github.com/scverse/scanpy/pull/2924:92,modifiability,paramet,parameters,92,"Backport PR #2889 on branch 1.10.x (Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key); Backport PR #2889: Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2924
https://github.com/scverse/scanpy/pull/2924:202,modifiability,paramet,parameters,202,"Backport PR #2889 on branch 1.10.x (Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key); Backport PR #2889: Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2924
https://github.com/scverse/scanpy/pull/2924:51,safety,updat,update,51,"Backport PR #2889 on branch 1.10.x (Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key); Backport PR #2889: Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2924
https://github.com/scverse/scanpy/pull/2924:161,safety,updat,update,161,"Backport PR #2889 on branch 1.10.x (Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key); Backport PR #2889: Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2924
https://github.com/scverse/scanpy/pull/2924:51,security,updat,update,51,"Backport PR #2889 on branch 1.10.x (Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key); Backport PR #2889: Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2924
https://github.com/scverse/scanpy/pull/2924:161,security,updat,update,161,"Backport PR #2889 on branch 1.10.x (Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key); Backport PR #2889: Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2924
https://github.com/scverse/scanpy/pull/2924:77,usability,tool,tools,77,"Backport PR #2889 on branch 1.10.x (Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key); Backport PR #2889: Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2924
https://github.com/scverse/scanpy/pull/2924:106,usability,user,user,106,"Backport PR #2889 on branch 1.10.x (Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key); Backport PR #2889: Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2924
https://github.com/scverse/scanpy/pull/2924:187,usability,tool,tools,187,"Backport PR #2889 on branch 1.10.x (Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key); Backport PR #2889: Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2924
https://github.com/scverse/scanpy/pull/2924:216,usability,user,user,216,"Backport PR #2889 on branch 1.10.x (Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key); Backport PR #2889: Fix for #2887, update Leiden and Louvain tools to write parameters to user specified key",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2924
https://github.com/scverse/scanpy/pull/2928:453,deployability,releas,release,453,Clip correlation in dendrogram; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2804. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2928
https://github.com/scverse/scanpy/pull/2928:478,deployability,Releas,Release,478,Clip correlation in dendrogram; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2804. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2928
https://github.com/scverse/scanpy/pull/2928:251,safety,review,review,251,Clip correlation in dendrogram; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2804. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2928
https://github.com/scverse/scanpy/pull/2928:355,safety,Test,Tests,355,Clip correlation in dendrogram; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2804. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2928
https://github.com/scverse/scanpy/pull/2928:251,testability,review,review,251,Clip correlation in dendrogram; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2804. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2928
https://github.com/scverse/scanpy/pull/2928:355,testability,Test,Tests,355,Clip correlation in dendrogram; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2804. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2928
https://github.com/scverse/scanpy/pull/2928:102,usability,guid,guidelines,102,Clip correlation in dendrogram; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2804. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2928
https://github.com/scverse/scanpy/pull/2928:133,usability,guid,guide,133,Clip correlation in dendrogram; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2804. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2928
https://github.com/scverse/scanpy/pull/2928:229,usability,workflow,workflow,229,Clip correlation in dendrogram; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2804. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2928
https://github.com/scverse/scanpy/pull/2928:335,usability,Close,Closes,335,Clip correlation in dendrogram; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2804. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2928
https://github.com/scverse/scanpy/issues/2929:17,availability,error,error,17,"aggregate throws error when aggregating `obsm` or `varm`; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? aggregate throws error when aggregating `obsm` or `varm`. ### Minimal code sample. ```python. import scanpy as sc. adata = sc.datasets.pbmc68k_reduced(). sc.get.aggregate(adata, by=""louvain"", func=""mean"", obsm=""X_umap""). ```. ### Error output. ```pytb. ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). Cell In[3], line 1. ----> 1 sc.get.aggregate(pbmc, by=""louvain"", func=""mean"", obsm=""X_umap""). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/functools.py:909, in singledispatch.<locals>.wrapper(*args, **kw). 905 if not args:. 906 raise TypeError(f'{funcname} requires at least '. 907 '1 positional argument'). --> 909 return dispatch(args[0].__class__)(*args, **kw). File /mnt/workspace/repos/scanpy/scanpy/get/_aggregated.py:272, in aggregate(adata, by, func, axis, mask, dof, layer, obsm, varm). 264 # Actual computation. 265 layers = aggregate(. 266 data,. 267 by=categorical,. (...). 270 dof=dof,. 271 ). --> 272 result = AnnData(. 273 layers=layers,. 274 obs=new_label_df,. 275 var=getattr(adata, ""var"" if axis == 0 else ""obs""),. 276 ). 278 if axis == 1:. 279 return result.T. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:271, in AnnData.__init__(self, X, obs, var, uns, obsm, varm, layers, raw, dtype, shape, filename, filemode, asview, obsp, varp, oidx, vidx). 269 self._init_as_view(X, oidx, vidx). 270 else:. --> 271 self._init_as_actual(. 272 X=X,. 273 obs=obs,. 274 var=var,. 275 uns=uns,. 276 obsm=obsm,. 277 varm=varm,. 278 raw=raw,. 279 layers=layers,. 280 dtype=dtype,. 281 shape=shape,. 282 ob",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:361,availability,error,error,361,"aggregate throws error when aggregating `obsm` or `varm`; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? aggregate throws error when aggregating `obsm` or `varm`. ### Minimal code sample. ```python. import scanpy as sc. adata = sc.datasets.pbmc68k_reduced(). sc.get.aggregate(adata, by=""louvain"", func=""mean"", obsm=""X_umap""). ```. ### Error output. ```pytb. ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). Cell In[3], line 1. ----> 1 sc.get.aggregate(pbmc, by=""louvain"", func=""mean"", obsm=""X_umap""). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/functools.py:909, in singledispatch.<locals>.wrapper(*args, **kw). 905 if not args:. 906 raise TypeError(f'{funcname} requires at least '. 907 '1 positional argument'). --> 909 return dispatch(args[0].__class__)(*args, **kw). File /mnt/workspace/repos/scanpy/scanpy/get/_aggregated.py:272, in aggregate(adata, by, func, axis, mask, dof, layer, obsm, varm). 264 # Actual computation. 265 layers = aggregate(. 266 data,. 267 by=categorical,. (...). 270 dof=dof,. 271 ). --> 272 result = AnnData(. 273 layers=layers,. 274 obs=new_label_df,. 275 var=getattr(adata, ""var"" if axis == 0 else ""obs""),. 276 ). 278 if axis == 1:. 279 return result.T. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:271, in AnnData.__init__(self, X, obs, var, uns, obsm, varm, layers, raw, dtype, shape, filename, filemode, asview, obsp, varp, oidx, vidx). 269 self._init_as_view(X, oidx, vidx). 270 else:. --> 271 self._init_as_actual(. 272 X=X,. 273 obs=obs,. 274 var=var,. 275 uns=uns,. 276 obsm=obsm,. 277 varm=varm,. 278 raw=raw,. 279 layers=layers,. 280 dtype=dtype,. 281 shape=shape,. 282 ob",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:574,availability,Error,Error,574,"aggregate throws error when aggregating `obsm` or `varm`; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? aggregate throws error when aggregating `obsm` or `varm`. ### Minimal code sample. ```python. import scanpy as sc. adata = sc.datasets.pbmc68k_reduced(). sc.get.aggregate(adata, by=""louvain"", func=""mean"", obsm=""X_umap""). ```. ### Error output. ```pytb. ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). Cell In[3], line 1. ----> 1 sc.get.aggregate(pbmc, by=""louvain"", func=""mean"", obsm=""X_umap""). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/functools.py:909, in singledispatch.<locals>.wrapper(*args, **kw). 905 if not args:. 906 raise TypeError(f'{funcname} requires at least '. 907 '1 positional argument'). --> 909 return dispatch(args[0].__class__)(*args, **kw). File /mnt/workspace/repos/scanpy/scanpy/get/_aggregated.py:272, in aggregate(adata, by, func, axis, mask, dof, layer, obsm, varm). 264 # Actual computation. 265 layers = aggregate(. 266 data,. 267 by=categorical,. (...). 270 dof=dof,. 271 ). --> 272 result = AnnData(. 273 layers=layers,. 274 obs=new_label_df,. 275 var=getattr(adata, ""var"" if axis == 0 else ""obs""),. 276 ). 278 if axis == 1:. 279 return result.T. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:271, in AnnData.__init__(self, X, obs, var, uns, obsm, varm, layers, raw, dtype, shape, filename, filemode, asview, obsp, varp, oidx, vidx). 269 self._init_as_view(X, oidx, vidx). 270 else:. --> 271 self._init_as_actual(. 272 X=X,. 273 obs=obs,. 274 var=var,. 275 uns=uns,. 276 obsm=obsm,. 277 varm=varm,. 278 raw=raw,. 279 layers=layers,. 280 dtype=dtype,. 281 shape=shape,. 282 ob",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:1202,availability,mask,mask,1202," exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? aggregate throws error when aggregating `obsm` or `varm`. ### Minimal code sample. ```python. import scanpy as sc. adata = sc.datasets.pbmc68k_reduced(). sc.get.aggregate(adata, by=""louvain"", func=""mean"", obsm=""X_umap""). ```. ### Error output. ```pytb. ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). Cell In[3], line 1. ----> 1 sc.get.aggregate(pbmc, by=""louvain"", func=""mean"", obsm=""X_umap""). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/functools.py:909, in singledispatch.<locals>.wrapper(*args, **kw). 905 if not args:. 906 raise TypeError(f'{funcname} requires at least '. 907 '1 positional argument'). --> 909 return dispatch(args[0].__class__)(*args, **kw). File /mnt/workspace/repos/scanpy/scanpy/get/_aggregated.py:272, in aggregate(adata, by, func, axis, mask, dof, layer, obsm, varm). 264 # Actual computation. 265 layers = aggregate(. 266 data,. 267 by=categorical,. (...). 270 dof=dof,. 271 ). --> 272 result = AnnData(. 273 layers=layers,. 274 obs=new_label_df,. 275 var=getattr(adata, ""var"" if axis == 0 else ""obs""),. 276 ). 278 if axis == 1:. 279 return result.T. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:271, in AnnData.__init__(self, X, obs, var, uns, obsm, varm, layers, raw, dtype, shape, filename, filemode, asview, obsp, varp, oidx, vidx). 269 self._init_as_view(X, oidx, vidx). 270 else:. --> 271 self._init_as_actual(. 272 X=X,. 273 obs=obs,. 274 var=var,. 275 uns=uns,. 276 obsm=obsm,. 277 varm=varm,. 278 raw=raw,. 279 layers=layers,. 280 dtype=dtype,. 281 shape=shape,. 282 obsp=obsp,. 283 varp=varp,. 284 filename=filename,. 285 filemode=filemode,. 286 ). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:501, in AnnData._init_",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:226,deployability,version,version,226,"aggregate throws error when aggregating `obsm` or `varm`; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? aggregate throws error when aggregating `obsm` or `varm`. ### Minimal code sample. ```python. import scanpy as sc. adata = sc.datasets.pbmc68k_reduced(). sc.get.aggregate(adata, by=""louvain"", func=""mean"", obsm=""X_umap""). ```. ### Error output. ```pytb. ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). Cell In[3], line 1. ----> 1 sc.get.aggregate(pbmc, by=""louvain"", func=""mean"", obsm=""X_umap""). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/functools.py:909, in singledispatch.<locals>.wrapper(*args, **kw). 905 if not args:. 906 raise TypeError(f'{funcname} requires at least '. 907 '1 positional argument'). --> 909 return dispatch(args[0].__class__)(*args, **kw). File /mnt/workspace/repos/scanpy/scanpy/get/_aggregated.py:272, in aggregate(adata, by, func, axis, mask, dof, layer, obsm, varm). 264 # Actual computation. 265 layers = aggregate(. 266 data,. 267 by=categorical,. (...). 270 dof=dof,. 271 ). --> 272 result = AnnData(. 273 layers=layers,. 274 obs=new_label_df,. 275 var=getattr(adata, ""var"" if axis == 0 else ""obs""),. 276 ). 278 if axis == 1:. 279 return result.T. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:271, in AnnData.__init__(self, X, obs, var, uns, obsm, varm, layers, raw, dtype, shape, filename, filemode, asview, obsp, varp, oidx, vidx). 269 self._init_as_view(X, oidx, vidx). 270 else:. --> 271 self._init_as_actual(. 272 X=X,. 273 obs=obs,. 274 var=var,. 275 uns=uns,. 276 obsm=obsm,. 277 varm=varm,. 278 raw=raw,. 279 layers=layers,. 280 dtype=dtype,. 281 shape=shape,. 282 ob",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:2623,deployability,updat,update,2623,"AnnData.__init__(self, X, obs, var, uns, obsm, varm, layers, raw, dtype, shape, filename, filemode, asview, obsp, varp, oidx, vidx). 269 self._init_as_view(X, oidx, vidx). 270 else:. --> 271 self._init_as_actual(. 272 X=X,. 273 obs=obs,. 274 var=var,. 275 uns=uns,. 276 obsm=obsm,. 277 varm=varm,. 278 raw=raw,. 279 layers=layers,. 280 dtype=dtype,. 281 shape=shape,. 282 obsp=obsp,. 283 varp=varp,. 284 filename=filename,. 285 filemode=filemode,. 286 ). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:501, in AnnData._init_as_actual(self, X, obs, var, uns, obsm, varm, varp, obsp, raw, layers, dtype, shape, filename, filemode). 498 self._clean_up_old_format(uns). 500 # layers. --> 501 self._layers = Layers(self, layers). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:331, in Layers.__init__(self, parent, vals). 329 self._data = dict(). 330 if vals is not None:. --> 331 self.update(vals). File <frozen _collections_abc>:949, in update(self, other, **kwds). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:199, in AlignedActualMixin.__setitem__(self, key, value). 198 def __setitem__(self, key: str, value: V):. --> 199 value = self._validate_value(value, key). 200 self._data[key] = value. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:89, in AlignedMapping._validate_value(self, val, key). 83 dims = tuple((""obs"", ""var"")[ax] for ax in self.axes). 84 msg = (. 85 f""Value passed for key {key!r} is of incorrect shape. "". 86 f""Values of {self.attrname} must match dimensions {dims} of parent. "". 87 f""Value had shape {actual_shape} while it should have had {right_shape}."". 88 ). ---> 89 raise ValueError(msg). 91 if not self._allow_df and isinstance(val, pd.DataFrame):. 92 name = self.attrname.title().rstrip(""s""). ValueError: Value passed for key 'mean'",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:2676,deployability,updat,update,2676,"layers, raw, dtype, shape, filename, filemode, asview, obsp, varp, oidx, vidx). 269 self._init_as_view(X, oidx, vidx). 270 else:. --> 271 self._init_as_actual(. 272 X=X,. 273 obs=obs,. 274 var=var,. 275 uns=uns,. 276 obsm=obsm,. 277 varm=varm,. 278 raw=raw,. 279 layers=layers,. 280 dtype=dtype,. 281 shape=shape,. 282 obsp=obsp,. 283 varp=varp,. 284 filename=filename,. 285 filemode=filemode,. 286 ). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:501, in AnnData._init_as_actual(self, X, obs, var, uns, obsm, varm, varp, obsp, raw, layers, dtype, shape, filename, filemode). 498 self._clean_up_old_format(uns). 500 # layers. --> 501 self._layers = Layers(self, layers). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:331, in Layers.__init__(self, parent, vals). 329 self._data = dict(). 330 if vals is not None:. --> 331 self.update(vals). File <frozen _collections_abc>:949, in update(self, other, **kwds). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:199, in AlignedActualMixin.__setitem__(self, key, value). 198 def __setitem__(self, key: str, value: V):. --> 199 value = self._validate_value(value, key). 200 self._data[key] = value. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:89, in AlignedMapping._validate_value(self, val, key). 83 dims = tuple((""obs"", ""var"")[ax] for ax in self.axes). 84 msg = (. 85 f""Value passed for key {key!r} is of incorrect shape. "". 86 f""Values of {self.attrname} must match dimensions {dims} of parent. "". 87 f""Value had shape {actual_shape} while it should have had {right_shape}."". 88 ). ---> 89 raise ValueError(msg). 91 if not self._allow_df and isinstance(val, pd.DataFrame):. 92 name = self.attrname.title().rstrip(""s""). ValueError: Value passed for key 'mean' is of incorrect shape. Values of layers must match d",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:3784,deployability,Version,Versions,3784,"/_core/aligned_mapping.py:199, in AlignedActualMixin.__setitem__(self, key, value). 198 def __setitem__(self, key: str, value: V):. --> 199 value = self._validate_value(value, key). 200 self._data[key] = value. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:89, in AlignedMapping._validate_value(self, val, key). 83 dims = tuple((""obs"", ""var"")[ax] for ax in self.axes). 84 msg = (. 85 f""Value passed for key {key!r} is of incorrect shape. "". 86 f""Values of {self.attrname} must match dimensions {dims} of parent. "". 87 f""Value had shape {actual_shape} while it should have had {right_shape}."". 88 ). ---> 89 raise ValueError(msg). 91 if not self._allow_df and isinstance(val, pd.DataFrame):. 92 name = self.attrname.title().rstrip(""s""). ValueError: Value passed for key 'mean' is of incorrect shape. Values of layers must match dimensions ('obs', 'var') of parent. Value had shape (11, 2) while it should have had (11, 765). ```. ### Versions. <details>. ```. -----. anndata 0.10.6. scanpy 1.10.0rc2.dev19+ga6126980. -----. IPython 8.20.0. PIL 10.2.0. asciitree NA. asttokens NA. cffi 1.16.0. cloudpickle 3.0.0. cycler 0.12.1. cython_runtime NA. dask 2024.3.0. dateutil 2.8.2. decorator 5.1.1. defusedxml 0.7.1. executing 2.0.1. h5py 3.10.0. igraph 0.11.3. jedi 0.19.1. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. legacy_api_wrap NA. leidenalg 0.10.2. llvmlite 0.41.1. markupsafe 2.1.4. matplotlib 3.8.3. mpl_toolkits NA. msgpack 1.0.7. natsort 8.4.0. numba 0.58.1. numcodecs 0.12.1. numpy 1.26.3. packaging 23.2. pandas 2.2.1. parso 0.8.3. pexpect 4.9.0. prompt_toolkit 3.0.43. psutil 5.9.8. ptyprocess 0.7.0. pure_eval 0.2.2. pyarrow 15.0.1. pygments 2.17.2. pyparsing 3.1.1. pytz 2023.4. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.0. sparse 0.15.1. stack_data 0.6.3. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.2.0. tlz 0.12.1. toolz 0.12.1. traitlets 5.14.1. typing_extensions NA. wcwidth 0.2.13. yaml 6.0.1. zarr 2",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:4972,deployability,updat,updated,4972,"e/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:89, in AlignedMapping._validate_value(self, val, key). 83 dims = tuple((""obs"", ""var"")[ax] for ax in self.axes). 84 msg = (. 85 f""Value passed for key {key!r} is of incorrect shape. "". 86 f""Values of {self.attrname} must match dimensions {dims} of parent. "". 87 f""Value had shape {actual_shape} while it should have had {right_shape}."". 88 ). ---> 89 raise ValueError(msg). 91 if not self._allow_df and isinstance(val, pd.DataFrame):. 92 name = self.attrname.title().rstrip(""s""). ValueError: Value passed for key 'mean' is of incorrect shape. Values of layers must match dimensions ('obs', 'var') of parent. Value had shape (11, 2) while it should have had (11, 765). ```. ### Versions. <details>. ```. -----. anndata 0.10.6. scanpy 1.10.0rc2.dev19+ga6126980. -----. IPython 8.20.0. PIL 10.2.0. asciitree NA. asttokens NA. cffi 1.16.0. cloudpickle 3.0.0. cycler 0.12.1. cython_runtime NA. dask 2024.3.0. dateutil 2.8.2. decorator 5.1.1. defusedxml 0.7.1. executing 2.0.1. h5py 3.10.0. igraph 0.11.3. jedi 0.19.1. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. legacy_api_wrap NA. leidenalg 0.10.2. llvmlite 0.41.1. markupsafe 2.1.4. matplotlib 3.8.3. mpl_toolkits NA. msgpack 1.0.7. natsort 8.4.0. numba 0.58.1. numcodecs 0.12.1. numpy 1.26.3. packaging 23.2. pandas 2.2.1. parso 0.8.3. pexpect 4.9.0. prompt_toolkit 3.0.43. psutil 5.9.8. ptyprocess 0.7.0. pure_eval 0.2.2. pyarrow 15.0.1. pygments 2.17.2. pyparsing 3.1.1. pytz 2023.4. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.0. sparse 0.15.1. stack_data 0.6.3. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.2.0. tlz 0.12.1. toolz 0.12.1. traitlets 5.14.1. typing_extensions NA. wcwidth 0.2.13. yaml 6.0.1. zarr 2.17.1. zipp NA. -----. Python 3.11.7 | packaged by conda-forge | (main, Dec 23 2023, 14:43:09) [GCC 12.3.0]. Linux-5.15.0-101-generic-x86_64-with-glibc2.35. -----. Session information updated at 2024-03-19 13:05. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:3943,energy efficiency,cloud,cloudpickle,3943,"e_value(value, key). 200 self._data[key] = value. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:89, in AlignedMapping._validate_value(self, val, key). 83 dims = tuple((""obs"", ""var"")[ax] for ax in self.axes). 84 msg = (. 85 f""Value passed for key {key!r} is of incorrect shape. "". 86 f""Values of {self.attrname} must match dimensions {dims} of parent. "". 87 f""Value had shape {actual_shape} while it should have had {right_shape}."". 88 ). ---> 89 raise ValueError(msg). 91 if not self._allow_df and isinstance(val, pd.DataFrame):. 92 name = self.attrname.title().rstrip(""s""). ValueError: Value passed for key 'mean' is of incorrect shape. Values of layers must match dimensions ('obs', 'var') of parent. Value had shape (11, 2) while it should have had (11, 765). ```. ### Versions. <details>. ```. -----. anndata 0.10.6. scanpy 1.10.0rc2.dev19+ga6126980. -----. IPython 8.20.0. PIL 10.2.0. asciitree NA. asttokens NA. cffi 1.16.0. cloudpickle 3.0.0. cycler 0.12.1. cython_runtime NA. dask 2024.3.0. dateutil 2.8.2. decorator 5.1.1. defusedxml 0.7.1. executing 2.0.1. h5py 3.10.0. igraph 0.11.3. jedi 0.19.1. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. legacy_api_wrap NA. leidenalg 0.10.2. llvmlite 0.41.1. markupsafe 2.1.4. matplotlib 3.8.3. mpl_toolkits NA. msgpack 1.0.7. natsort 8.4.0. numba 0.58.1. numcodecs 0.12.1. numpy 1.26.3. packaging 23.2. pandas 2.2.1. parso 0.8.3. pexpect 4.9.0. prompt_toolkit 3.0.43. psutil 5.9.8. ptyprocess 0.7.0. pure_eval 0.2.2. pyarrow 15.0.1. pygments 2.17.2. pyparsing 3.1.1. pytz 2023.4. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.0. sparse 0.15.1. stack_data 0.6.3. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.2.0. tlz 0.12.1. toolz 0.12.1. traitlets 5.14.1. typing_extensions NA. wcwidth 0.2.13. yaml 6.0.1. zarr 2.17.1. zipp NA. -----. Python 3.11.7 | packaged by conda-forge | (main, Dec 23 2023, 14:43:09) [GCC 12.3.0]. Linux-5.15.0-101-generic-x86_64-with-glibc2.35. ----",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:226,integrability,version,version,226,"aggregate throws error when aggregating `obsm` or `varm`; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? aggregate throws error when aggregating `obsm` or `varm`. ### Minimal code sample. ```python. import scanpy as sc. adata = sc.datasets.pbmc68k_reduced(). sc.get.aggregate(adata, by=""louvain"", func=""mean"", obsm=""X_umap""). ```. ### Error output. ```pytb. ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). Cell In[3], line 1. ----> 1 sc.get.aggregate(pbmc, by=""louvain"", func=""mean"", obsm=""X_umap""). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/functools.py:909, in singledispatch.<locals>.wrapper(*args, **kw). 905 if not args:. 906 raise TypeError(f'{funcname} requires at least '. 907 '1 positional argument'). --> 909 return dispatch(args[0].__class__)(*args, **kw). File /mnt/workspace/repos/scanpy/scanpy/get/_aggregated.py:272, in aggregate(adata, by, func, axis, mask, dof, layer, obsm, varm). 264 # Actual computation. 265 layers = aggregate(. 266 data,. 267 by=categorical,. (...). 270 dof=dof,. 271 ). --> 272 result = AnnData(. 273 layers=layers,. 274 obs=new_label_df,. 275 var=getattr(adata, ""var"" if axis == 0 else ""obs""),. 276 ). 278 if axis == 1:. 279 return result.T. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:271, in AnnData.__init__(self, X, obs, var, uns, obsm, varm, layers, raw, dtype, shape, filename, filemode, asview, obsp, varp, oidx, vidx). 269 self._init_as_view(X, oidx, vidx). 270 else:. --> 271 self._init_as_actual(. 272 X=X,. 273 obs=obs,. 274 var=var,. 275 uns=uns,. 276 obsm=obsm,. 277 varm=varm,. 278 raw=raw,. 279 layers=layers,. 280 dtype=dtype,. 281 shape=shape,. 282 ob",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:921,integrability,wrap,wrapper,921,"aggregate throws error when aggregating `obsm` or `varm`; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? aggregate throws error when aggregating `obsm` or `varm`. ### Minimal code sample. ```python. import scanpy as sc. adata = sc.datasets.pbmc68k_reduced(). sc.get.aggregate(adata, by=""louvain"", func=""mean"", obsm=""X_umap""). ```. ### Error output. ```pytb. ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). Cell In[3], line 1. ----> 1 sc.get.aggregate(pbmc, by=""louvain"", func=""mean"", obsm=""X_umap""). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/functools.py:909, in singledispatch.<locals>.wrapper(*args, **kw). 905 if not args:. 906 raise TypeError(f'{funcname} requires at least '. 907 '1 positional argument'). --> 909 return dispatch(args[0].__class__)(*args, **kw). File /mnt/workspace/repos/scanpy/scanpy/get/_aggregated.py:272, in aggregate(adata, by, func, axis, mask, dof, layer, obsm, varm). 264 # Actual computation. 265 layers = aggregate(. 266 data,. 267 by=categorical,. (...). 270 dof=dof,. 271 ). --> 272 result = AnnData(. 273 layers=layers,. 274 obs=new_label_df,. 275 var=getattr(adata, ""var"" if axis == 0 else ""obs""),. 276 ). 278 if axis == 1:. 279 return result.T. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:271, in AnnData.__init__(self, X, obs, var, uns, obsm, varm, layers, raw, dtype, shape, filename, filemode, asview, obsp, varp, oidx, vidx). 269 self._init_as_view(X, oidx, vidx). 270 else:. --> 271 self._init_as_actual(. 272 X=X,. 273 obs=obs,. 274 var=var,. 275 uns=uns,. 276 obsm=obsm,. 277 varm=varm,. 278 raw=raw,. 279 layers=layers,. 280 dtype=dtype,. 281 shape=shape,. 282 ob",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:3784,integrability,Version,Versions,3784,"/_core/aligned_mapping.py:199, in AlignedActualMixin.__setitem__(self, key, value). 198 def __setitem__(self, key: str, value: V):. --> 199 value = self._validate_value(value, key). 200 self._data[key] = value. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:89, in AlignedMapping._validate_value(self, val, key). 83 dims = tuple((""obs"", ""var"")[ax] for ax in self.axes). 84 msg = (. 85 f""Value passed for key {key!r} is of incorrect shape. "". 86 f""Values of {self.attrname} must match dimensions {dims} of parent. "". 87 f""Value had shape {actual_shape} while it should have had {right_shape}."". 88 ). ---> 89 raise ValueError(msg). 91 if not self._allow_df and isinstance(val, pd.DataFrame):. 92 name = self.attrname.title().rstrip(""s""). ValueError: Value passed for key 'mean' is of incorrect shape. Values of layers must match dimensions ('obs', 'var') of parent. Value had shape (11, 2) while it should have had (11, 765). ```. ### Versions. <details>. ```. -----. anndata 0.10.6. scanpy 1.10.0rc2.dev19+ga6126980. -----. IPython 8.20.0. PIL 10.2.0. asciitree NA. asttokens NA. cffi 1.16.0. cloudpickle 3.0.0. cycler 0.12.1. cython_runtime NA. dask 2024.3.0. dateutil 2.8.2. decorator 5.1.1. defusedxml 0.7.1. executing 2.0.1. h5py 3.10.0. igraph 0.11.3. jedi 0.19.1. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. legacy_api_wrap NA. leidenalg 0.10.2. llvmlite 0.41.1. markupsafe 2.1.4. matplotlib 3.8.3. mpl_toolkits NA. msgpack 1.0.7. natsort 8.4.0. numba 0.58.1. numcodecs 0.12.1. numpy 1.26.3. packaging 23.2. pandas 2.2.1. parso 0.8.3. pexpect 4.9.0. prompt_toolkit 3.0.43. psutil 5.9.8. ptyprocess 0.7.0. pure_eval 0.2.2. pyarrow 15.0.1. pygments 2.17.2. pyparsing 3.1.1. pytz 2023.4. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.0. sparse 0.15.1. stack_data 0.6.3. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.2.0. tlz 0.12.1. toolz 0.12.1. traitlets 5.14.1. typing_extensions NA. wcwidth 0.2.13. yaml 6.0.1. zarr 2",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:921,interoperability,wrapper,wrapper,921,"aggregate throws error when aggregating `obsm` or `varm`; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? aggregate throws error when aggregating `obsm` or `varm`. ### Minimal code sample. ```python. import scanpy as sc. adata = sc.datasets.pbmc68k_reduced(). sc.get.aggregate(adata, by=""louvain"", func=""mean"", obsm=""X_umap""). ```. ### Error output. ```pytb. ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). Cell In[3], line 1. ----> 1 sc.get.aggregate(pbmc, by=""louvain"", func=""mean"", obsm=""X_umap""). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/functools.py:909, in singledispatch.<locals>.wrapper(*args, **kw). 905 if not args:. 906 raise TypeError(f'{funcname} requires at least '. 907 '1 positional argument'). --> 909 return dispatch(args[0].__class__)(*args, **kw). File /mnt/workspace/repos/scanpy/scanpy/get/_aggregated.py:272, in aggregate(adata, by, func, axis, mask, dof, layer, obsm, varm). 264 # Actual computation. 265 layers = aggregate(. 266 data,. 267 by=categorical,. (...). 270 dof=dof,. 271 ). --> 272 result = AnnData(. 273 layers=layers,. 274 obs=new_label_df,. 275 var=getattr(adata, ""var"" if axis == 0 else ""obs""),. 276 ). 278 if axis == 1:. 279 return result.T. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:271, in AnnData.__init__(self, X, obs, var, uns, obsm, varm, layers, raw, dtype, shape, filename, filemode, asview, obsp, varp, oidx, vidx). 269 self._init_as_view(X, oidx, vidx). 270 else:. --> 271 self._init_as_actual(. 272 X=X,. 273 obs=obs,. 274 var=var,. 275 uns=uns,. 276 obsm=obsm,. 277 varm=varm,. 278 raw=raw,. 279 layers=layers,. 280 dtype=dtype,. 281 shape=shape,. 282 ob",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:226,modifiability,version,version,226,"aggregate throws error when aggregating `obsm` or `varm`; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? aggregate throws error when aggregating `obsm` or `varm`. ### Minimal code sample. ```python. import scanpy as sc. adata = sc.datasets.pbmc68k_reduced(). sc.get.aggregate(adata, by=""louvain"", func=""mean"", obsm=""X_umap""). ```. ### Error output. ```pytb. ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). Cell In[3], line 1. ----> 1 sc.get.aggregate(pbmc, by=""louvain"", func=""mean"", obsm=""X_umap""). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/functools.py:909, in singledispatch.<locals>.wrapper(*args, **kw). 905 if not args:. 906 raise TypeError(f'{funcname} requires at least '. 907 '1 positional argument'). --> 909 return dispatch(args[0].__class__)(*args, **kw). File /mnt/workspace/repos/scanpy/scanpy/get/_aggregated.py:272, in aggregate(adata, by, func, axis, mask, dof, layer, obsm, varm). 264 # Actual computation. 265 layers = aggregate(. 266 data,. 267 by=categorical,. (...). 270 dof=dof,. 271 ). --> 272 result = AnnData(. 273 layers=layers,. 274 obs=new_label_df,. 275 var=getattr(adata, ""var"" if axis == 0 else ""obs""),. 276 ). 278 if axis == 1:. 279 return result.T. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:271, in AnnData.__init__(self, X, obs, var, uns, obsm, varm, layers, raw, dtype, shape, filename, filemode, asview, obsp, varp, oidx, vidx). 269 self._init_as_view(X, oidx, vidx). 270 else:. --> 271 self._init_as_actual(. 272 X=X,. 273 obs=obs,. 274 var=var,. 275 uns=uns,. 276 obsm=obsm,. 277 varm=varm,. 278 raw=raw,. 279 layers=layers,. 280 dtype=dtype,. 281 shape=shape,. 282 ob",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:1213,modifiability,layer,layer,1213,"he latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? aggregate throws error when aggregating `obsm` or `varm`. ### Minimal code sample. ```python. import scanpy as sc. adata = sc.datasets.pbmc68k_reduced(). sc.get.aggregate(adata, by=""louvain"", func=""mean"", obsm=""X_umap""). ```. ### Error output. ```pytb. ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). Cell In[3], line 1. ----> 1 sc.get.aggregate(pbmc, by=""louvain"", func=""mean"", obsm=""X_umap""). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/functools.py:909, in singledispatch.<locals>.wrapper(*args, **kw). 905 if not args:. 906 raise TypeError(f'{funcname} requires at least '. 907 '1 positional argument'). --> 909 return dispatch(args[0].__class__)(*args, **kw). File /mnt/workspace/repos/scanpy/scanpy/get/_aggregated.py:272, in aggregate(adata, by, func, axis, mask, dof, layer, obsm, varm). 264 # Actual computation. 265 layers = aggregate(. 266 data,. 267 by=categorical,. (...). 270 dof=dof,. 271 ). --> 272 result = AnnData(. 273 layers=layers,. 274 obs=new_label_df,. 275 var=getattr(adata, ""var"" if axis == 0 else ""obs""),. 276 ). 278 if axis == 1:. 279 return result.T. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:271, in AnnData.__init__(self, X, obs, var, uns, obsm, varm, layers, raw, dtype, shape, filename, filemode, asview, obsp, varp, oidx, vidx). 269 self._init_as_view(X, oidx, vidx). 270 else:. --> 271 self._init_as_actual(. 272 X=X,. 273 obs=obs,. 274 var=var,. 275 uns=uns,. 276 obsm=obsm,. 277 varm=varm,. 278 raw=raw,. 279 layers=layers,. 280 dtype=dtype,. 281 shape=shape,. 282 obsp=obsp,. 283 varp=varp,. 284 filename=filename,. 285 filemode=filemode,. 286 ). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:501, in AnnData._init_as_actual(se",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:1263,modifiability,layer,layers,1263,"ve confirmed this bug exists on the main branch of scanpy. ### What happened? aggregate throws error when aggregating `obsm` or `varm`. ### Minimal code sample. ```python. import scanpy as sc. adata = sc.datasets.pbmc68k_reduced(). sc.get.aggregate(adata, by=""louvain"", func=""mean"", obsm=""X_umap""). ```. ### Error output. ```pytb. ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). Cell In[3], line 1. ----> 1 sc.get.aggregate(pbmc, by=""louvain"", func=""mean"", obsm=""X_umap""). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/functools.py:909, in singledispatch.<locals>.wrapper(*args, **kw). 905 if not args:. 906 raise TypeError(f'{funcname} requires at least '. 907 '1 positional argument'). --> 909 return dispatch(args[0].__class__)(*args, **kw). File /mnt/workspace/repos/scanpy/scanpy/get/_aggregated.py:272, in aggregate(adata, by, func, axis, mask, dof, layer, obsm, varm). 264 # Actual computation. 265 layers = aggregate(. 266 data,. 267 by=categorical,. (...). 270 dof=dof,. 271 ). --> 272 result = AnnData(. 273 layers=layers,. 274 obs=new_label_df,. 275 var=getattr(adata, ""var"" if axis == 0 else ""obs""),. 276 ). 278 if axis == 1:. 279 return result.T. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:271, in AnnData.__init__(self, X, obs, var, uns, obsm, varm, layers, raw, dtype, shape, filename, filemode, asview, obsp, varp, oidx, vidx). 269 self._init_as_view(X, oidx, vidx). 270 else:. --> 271 self._init_as_actual(. 272 X=X,. 273 obs=obs,. 274 var=var,. 275 uns=uns,. 276 obsm=obsm,. 277 varm=varm,. 278 raw=raw,. 279 layers=layers,. 280 dtype=dtype,. 281 shape=shape,. 282 obsp=obsp,. 283 varp=varp,. 284 filename=filename,. 285 filemode=filemode,. 286 ). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:501, in AnnData._init_as_actual(self, X, obs, var, uns, obsm, varm, varp, obsp, raw,",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:1375,modifiability,layer,layers,1375,"ating `obsm` or `varm`. ### Minimal code sample. ```python. import scanpy as sc. adata = sc.datasets.pbmc68k_reduced(). sc.get.aggregate(adata, by=""louvain"", func=""mean"", obsm=""X_umap""). ```. ### Error output. ```pytb. ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). Cell In[3], line 1. ----> 1 sc.get.aggregate(pbmc, by=""louvain"", func=""mean"", obsm=""X_umap""). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/functools.py:909, in singledispatch.<locals>.wrapper(*args, **kw). 905 if not args:. 906 raise TypeError(f'{funcname} requires at least '. 907 '1 positional argument'). --> 909 return dispatch(args[0].__class__)(*args, **kw). File /mnt/workspace/repos/scanpy/scanpy/get/_aggregated.py:272, in aggregate(adata, by, func, axis, mask, dof, layer, obsm, varm). 264 # Actual computation. 265 layers = aggregate(. 266 data,. 267 by=categorical,. (...). 270 dof=dof,. 271 ). --> 272 result = AnnData(. 273 layers=layers,. 274 obs=new_label_df,. 275 var=getattr(adata, ""var"" if axis == 0 else ""obs""),. 276 ). 278 if axis == 1:. 279 return result.T. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:271, in AnnData.__init__(self, X, obs, var, uns, obsm, varm, layers, raw, dtype, shape, filename, filemode, asview, obsp, varp, oidx, vidx). 269 self._init_as_view(X, oidx, vidx). 270 else:. --> 271 self._init_as_actual(. 272 X=X,. 273 obs=obs,. 274 var=var,. 275 uns=uns,. 276 obsm=obsm,. 277 varm=varm,. 278 raw=raw,. 279 layers=layers,. 280 dtype=dtype,. 281 shape=shape,. 282 obsp=obsp,. 283 varp=varp,. 284 filename=filename,. 285 filemode=filemode,. 286 ). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:501, in AnnData._init_as_actual(self, X, obs, var, uns, obsm, varm, varp, obsp, raw, layers, dtype, shape, filename, filemode). 498 self._clean_up_old_format(uns). 500 # layers. --> 501 self._laye",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:1382,modifiability,layer,layers,1382,"obsm` or `varm`. ### Minimal code sample. ```python. import scanpy as sc. adata = sc.datasets.pbmc68k_reduced(). sc.get.aggregate(adata, by=""louvain"", func=""mean"", obsm=""X_umap""). ```. ### Error output. ```pytb. ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). Cell In[3], line 1. ----> 1 sc.get.aggregate(pbmc, by=""louvain"", func=""mean"", obsm=""X_umap""). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/functools.py:909, in singledispatch.<locals>.wrapper(*args, **kw). 905 if not args:. 906 raise TypeError(f'{funcname} requires at least '. 907 '1 positional argument'). --> 909 return dispatch(args[0].__class__)(*args, **kw). File /mnt/workspace/repos/scanpy/scanpy/get/_aggregated.py:272, in aggregate(adata, by, func, axis, mask, dof, layer, obsm, varm). 264 # Actual computation. 265 layers = aggregate(. 266 data,. 267 by=categorical,. (...). 270 dof=dof,. 271 ). --> 272 result = AnnData(. 273 layers=layers,. 274 obs=new_label_df,. 275 var=getattr(adata, ""var"" if axis == 0 else ""obs""),. 276 ). 278 if axis == 1:. 279 return result.T. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:271, in AnnData.__init__(self, X, obs, var, uns, obsm, varm, layers, raw, dtype, shape, filename, filemode, asview, obsp, varp, oidx, vidx). 269 self._init_as_view(X, oidx, vidx). 270 else:. --> 271 self._init_as_actual(. 272 X=X,. 273 obs=obs,. 274 var=var,. 275 uns=uns,. 276 obsm=obsm,. 277 varm=varm,. 278 raw=raw,. 279 layers=layers,. 280 dtype=dtype,. 281 shape=shape,. 282 obsp=obsp,. 283 varp=varp,. 284 filename=filename,. 285 filemode=filemode,. 286 ). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:501, in AnnData._init_as_actual(self, X, obs, var, uns, obsm, varm, varp, obsp, raw, layers, dtype, shape, filename, filemode). 498 self._clean_up_old_format(uns). 500 # layers. --> 501 self._layers = La",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:1584,modifiability,pac,packages,1584,"```pytb. ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). Cell In[3], line 1. ----> 1 sc.get.aggregate(pbmc, by=""louvain"", func=""mean"", obsm=""X_umap""). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/functools.py:909, in singledispatch.<locals>.wrapper(*args, **kw). 905 if not args:. 906 raise TypeError(f'{funcname} requires at least '. 907 '1 positional argument'). --> 909 return dispatch(args[0].__class__)(*args, **kw). File /mnt/workspace/repos/scanpy/scanpy/get/_aggregated.py:272, in aggregate(adata, by, func, axis, mask, dof, layer, obsm, varm). 264 # Actual computation. 265 layers = aggregate(. 266 data,. 267 by=categorical,. (...). 270 dof=dof,. 271 ). --> 272 result = AnnData(. 273 layers=layers,. 274 obs=new_label_df,. 275 var=getattr(adata, ""var"" if axis == 0 else ""obs""),. 276 ). 278 if axis == 1:. 279 return result.T. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:271, in AnnData.__init__(self, X, obs, var, uns, obsm, varm, layers, raw, dtype, shape, filename, filemode, asview, obsp, varp, oidx, vidx). 269 self._init_as_view(X, oidx, vidx). 270 else:. --> 271 self._init_as_actual(. 272 X=X,. 273 obs=obs,. 274 var=var,. 275 uns=uns,. 276 obsm=obsm,. 277 varm=varm,. 278 raw=raw,. 279 layers=layers,. 280 dtype=dtype,. 281 shape=shape,. 282 obsp=obsp,. 283 varp=varp,. 284 filename=filename,. 285 filemode=filemode,. 286 ). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:501, in AnnData._init_as_actual(self, X, obs, var, uns, obsm, varm, varp, obsp, raw, layers, dtype, shape, filename, filemode). 498 self._clean_up_old_format(uns). 500 # layers. --> 501 self._layers = Layers(self, layers). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:331, in Layers.__init__(self, parent, vals). 329 self._data = dict(). 330 ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:1679,modifiability,layer,layers,1679,"or Traceback (most recent call last). Cell In[3], line 1. ----> 1 sc.get.aggregate(pbmc, by=""louvain"", func=""mean"", obsm=""X_umap""). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/functools.py:909, in singledispatch.<locals>.wrapper(*args, **kw). 905 if not args:. 906 raise TypeError(f'{funcname} requires at least '. 907 '1 positional argument'). --> 909 return dispatch(args[0].__class__)(*args, **kw). File /mnt/workspace/repos/scanpy/scanpy/get/_aggregated.py:272, in aggregate(adata, by, func, axis, mask, dof, layer, obsm, varm). 264 # Actual computation. 265 layers = aggregate(. 266 data,. 267 by=categorical,. (...). 270 dof=dof,. 271 ). --> 272 result = AnnData(. 273 layers=layers,. 274 obs=new_label_df,. 275 var=getattr(adata, ""var"" if axis == 0 else ""obs""),. 276 ). 278 if axis == 1:. 279 return result.T. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:271, in AnnData.__init__(self, X, obs, var, uns, obsm, varm, layers, raw, dtype, shape, filename, filemode, asview, obsp, varp, oidx, vidx). 269 self._init_as_view(X, oidx, vidx). 270 else:. --> 271 self._init_as_actual(. 272 X=X,. 273 obs=obs,. 274 var=var,. 275 uns=uns,. 276 obsm=obsm,. 277 varm=varm,. 278 raw=raw,. 279 layers=layers,. 280 dtype=dtype,. 281 shape=shape,. 282 obsp=obsp,. 283 varp=varp,. 284 filename=filename,. 285 filemode=filemode,. 286 ). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:501, in AnnData._init_as_actual(self, X, obs, var, uns, obsm, varm, varp, obsp, raw, layers, dtype, shape, filename, filemode). 498 self._clean_up_old_format(uns). 500 # layers. --> 501 self._layers = Layers(self, layers). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:331, in Layers.__init__(self, parent, vals). 329 self._data = dict(). 330 if vals is not None:. --> 331 self.update(vals). File <frozen _collections_abc>:949, in update",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:1942,modifiability,layer,layers,1942,"5 if not args:. 906 raise TypeError(f'{funcname} requires at least '. 907 '1 positional argument'). --> 909 return dispatch(args[0].__class__)(*args, **kw). File /mnt/workspace/repos/scanpy/scanpy/get/_aggregated.py:272, in aggregate(adata, by, func, axis, mask, dof, layer, obsm, varm). 264 # Actual computation. 265 layers = aggregate(. 266 data,. 267 by=categorical,. (...). 270 dof=dof,. 271 ). --> 272 result = AnnData(. 273 layers=layers,. 274 obs=new_label_df,. 275 var=getattr(adata, ""var"" if axis == 0 else ""obs""),. 276 ). 278 if axis == 1:. 279 return result.T. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:271, in AnnData.__init__(self, X, obs, var, uns, obsm, varm, layers, raw, dtype, shape, filename, filemode, asview, obsp, varp, oidx, vidx). 269 self._init_as_view(X, oidx, vidx). 270 else:. --> 271 self._init_as_actual(. 272 X=X,. 273 obs=obs,. 274 var=var,. 275 uns=uns,. 276 obsm=obsm,. 277 varm=varm,. 278 raw=raw,. 279 layers=layers,. 280 dtype=dtype,. 281 shape=shape,. 282 obsp=obsp,. 283 varp=varp,. 284 filename=filename,. 285 filemode=filemode,. 286 ). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:501, in AnnData._init_as_actual(self, X, obs, var, uns, obsm, varm, varp, obsp, raw, layers, dtype, shape, filename, filemode). 498 self._clean_up_old_format(uns). 500 # layers. --> 501 self._layers = Layers(self, layers). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:331, in Layers.__init__(self, parent, vals). 329 self._data = dict(). 330 if vals is not None:. --> 331 self.update(vals). File <frozen _collections_abc>:949, in update(self, other, **kwds). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:199, in AlignedActualMixin.__setitem__(self, key, value). 198 def __setitem__(self, key: str, value: V):. --> 199 value = self._val",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:1949,modifiability,layer,layers,1949,"t args:. 906 raise TypeError(f'{funcname} requires at least '. 907 '1 positional argument'). --> 909 return dispatch(args[0].__class__)(*args, **kw). File /mnt/workspace/repos/scanpy/scanpy/get/_aggregated.py:272, in aggregate(adata, by, func, axis, mask, dof, layer, obsm, varm). 264 # Actual computation. 265 layers = aggregate(. 266 data,. 267 by=categorical,. (...). 270 dof=dof,. 271 ). --> 272 result = AnnData(. 273 layers=layers,. 274 obs=new_label_df,. 275 var=getattr(adata, ""var"" if axis == 0 else ""obs""),. 276 ). 278 if axis == 1:. 279 return result.T. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:271, in AnnData.__init__(self, X, obs, var, uns, obsm, varm, layers, raw, dtype, shape, filename, filemode, asview, obsp, varp, oidx, vidx). 269 self._init_as_view(X, oidx, vidx). 270 else:. --> 271 self._init_as_actual(. 272 X=X,. 273 obs=obs,. 274 var=var,. 275 uns=uns,. 276 obsm=obsm,. 277 varm=varm,. 278 raw=raw,. 279 layers=layers,. 280 dtype=dtype,. 281 shape=shape,. 282 obsp=obsp,. 283 varp=varp,. 284 filename=filename,. 285 filemode=filemode,. 286 ). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:501, in AnnData._init_as_actual(self, X, obs, var, uns, obsm, varm, varp, obsp, raw, layers, dtype, shape, filename, filemode). 498 self._clean_up_old_format(uns). 500 # layers. --> 501 self._layers = Layers(self, layers). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:331, in Layers.__init__(self, parent, vals). 329 self._data = dict(). 330 if vals is not None:. --> 331 self.update(vals). File <frozen _collections_abc>:949, in update(self, other, **kwds). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:199, in AlignedActualMixin.__setitem__(self, key, value). 198 def __setitem__(self, key: str, value: V):. --> 199 value = self._validate_v",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:2148,modifiability,pac,packages,2148,"gated.py:272, in aggregate(adata, by, func, axis, mask, dof, layer, obsm, varm). 264 # Actual computation. 265 layers = aggregate(. 266 data,. 267 by=categorical,. (...). 270 dof=dof,. 271 ). --> 272 result = AnnData(. 273 layers=layers,. 274 obs=new_label_df,. 275 var=getattr(adata, ""var"" if axis == 0 else ""obs""),. 276 ). 278 if axis == 1:. 279 return result.T. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:271, in AnnData.__init__(self, X, obs, var, uns, obsm, varm, layers, raw, dtype, shape, filename, filemode, asview, obsp, varp, oidx, vidx). 269 self._init_as_view(X, oidx, vidx). 270 else:. --> 271 self._init_as_actual(. 272 X=X,. 273 obs=obs,. 274 var=var,. 275 uns=uns,. 276 obsm=obsm,. 277 varm=varm,. 278 raw=raw,. 279 layers=layers,. 280 dtype=dtype,. 281 shape=shape,. 282 obsp=obsp,. 283 varp=varp,. 284 filename=filename,. 285 filemode=filemode,. 286 ). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:501, in AnnData._init_as_actual(self, X, obs, var, uns, obsm, varm, varp, obsp, raw, layers, dtype, shape, filename, filemode). 498 self._clean_up_old_format(uns). 500 # layers. --> 501 self._layers = Layers(self, layers). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:331, in Layers.__init__(self, parent, vals). 329 self._data = dict(). 330 if vals is not None:. --> 331 self.update(vals). File <frozen _collections_abc>:949, in update(self, other, **kwds). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:199, in AlignedActualMixin.__setitem__(self, key, value). 198 def __setitem__(self, key: str, value: V):. --> 199 value = self._validate_value(value, key). 200 self._data[key] = value. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:89, in AlignedMapping._validate_value(self, ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:2267,modifiability,layer,layers,2267,"= aggregate(. 266 data,. 267 by=categorical,. (...). 270 dof=dof,. 271 ). --> 272 result = AnnData(. 273 layers=layers,. 274 obs=new_label_df,. 275 var=getattr(adata, ""var"" if axis == 0 else ""obs""),. 276 ). 278 if axis == 1:. 279 return result.T. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:271, in AnnData.__init__(self, X, obs, var, uns, obsm, varm, layers, raw, dtype, shape, filename, filemode, asview, obsp, varp, oidx, vidx). 269 self._init_as_view(X, oidx, vidx). 270 else:. --> 271 self._init_as_actual(. 272 X=X,. 273 obs=obs,. 274 var=var,. 275 uns=uns,. 276 obsm=obsm,. 277 varm=varm,. 278 raw=raw,. 279 layers=layers,. 280 dtype=dtype,. 281 shape=shape,. 282 obsp=obsp,. 283 varp=varp,. 284 filename=filename,. 285 filemode=filemode,. 286 ). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:501, in AnnData._init_as_actual(self, X, obs, var, uns, obsm, varm, varp, obsp, raw, layers, dtype, shape, filename, filemode). 498 self._clean_up_old_format(uns). 500 # layers. --> 501 self._layers = Layers(self, layers). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:331, in Layers.__init__(self, parent, vals). 329 self._data = dict(). 330 if vals is not None:. --> 331 self.update(vals). File <frozen _collections_abc>:949, in update(self, other, **kwds). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:199, in AlignedActualMixin.__setitem__(self, key, value). 198 def __setitem__(self, key: str, value: V):. --> 199 value = self._validate_value(value, key). 200 self._data[key] = value. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:89, in AlignedMapping._validate_value(self, val, key). 83 dims = tuple((""obs"", ""var"")[ax] for ax in self.axes). 84 msg = (. 85 f""Value passed for key {key!r} is o",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:2352,modifiability,layer,layers,2352,"ult = AnnData(. 273 layers=layers,. 274 obs=new_label_df,. 275 var=getattr(adata, ""var"" if axis == 0 else ""obs""),. 276 ). 278 if axis == 1:. 279 return result.T. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:271, in AnnData.__init__(self, X, obs, var, uns, obsm, varm, layers, raw, dtype, shape, filename, filemode, asview, obsp, varp, oidx, vidx). 269 self._init_as_view(X, oidx, vidx). 270 else:. --> 271 self._init_as_actual(. 272 X=X,. 273 obs=obs,. 274 var=var,. 275 uns=uns,. 276 obsm=obsm,. 277 varm=varm,. 278 raw=raw,. 279 layers=layers,. 280 dtype=dtype,. 281 shape=shape,. 282 obsp=obsp,. 283 varp=varp,. 284 filename=filename,. 285 filemode=filemode,. 286 ). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:501, in AnnData._init_as_actual(self, X, obs, var, uns, obsm, varm, varp, obsp, raw, layers, dtype, shape, filename, filemode). 498 self._clean_up_old_format(uns). 500 # layers. --> 501 self._layers = Layers(self, layers). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:331, in Layers.__init__(self, parent, vals). 329 self._data = dict(). 330 if vals is not None:. --> 331 self.update(vals). File <frozen _collections_abc>:949, in update(self, other, **kwds). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:199, in AlignedActualMixin.__setitem__(self, key, value). 198 def __setitem__(self, key: str, value: V):. --> 199 value = self._validate_value(value, key). 200 self._data[key] = value. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:89, in AlignedMapping._validate_value(self, val, key). 83 dims = tuple((""obs"", ""var"")[ax] for ax in self.axes). 84 msg = (. 85 f""Value passed for key {key!r} is of incorrect shape. "". 86 f""Values of {self.attrname} must match dimensions {dims} of ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:2383,modifiability,Layer,Layers,2383,"rs,. 274 obs=new_label_df,. 275 var=getattr(adata, ""var"" if axis == 0 else ""obs""),. 276 ). 278 if axis == 1:. 279 return result.T. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:271, in AnnData.__init__(self, X, obs, var, uns, obsm, varm, layers, raw, dtype, shape, filename, filemode, asview, obsp, varp, oidx, vidx). 269 self._init_as_view(X, oidx, vidx). 270 else:. --> 271 self._init_as_actual(. 272 X=X,. 273 obs=obs,. 274 var=var,. 275 uns=uns,. 276 obsm=obsm,. 277 varm=varm,. 278 raw=raw,. 279 layers=layers,. 280 dtype=dtype,. 281 shape=shape,. 282 obsp=obsp,. 283 varp=varp,. 284 filename=filename,. 285 filemode=filemode,. 286 ). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:501, in AnnData._init_as_actual(self, X, obs, var, uns, obsm, varm, varp, obsp, raw, layers, dtype, shape, filename, filemode). 498 self._clean_up_old_format(uns). 500 # layers. --> 501 self._layers = Layers(self, layers). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:331, in Layers.__init__(self, parent, vals). 329 self._data = dict(). 330 if vals is not None:. --> 331 self.update(vals). File <frozen _collections_abc>:949, in update(self, other, **kwds). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:199, in AlignedActualMixin.__setitem__(self, key, value). 198 def __setitem__(self, key: str, value: V):. --> 199 value = self._validate_value(value, key). 200 self._data[key] = value. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:89, in AlignedMapping._validate_value(self, val, key). 83 dims = tuple((""obs"", ""var"")[ax] for ax in self.axes). 84 msg = (. 85 f""Value passed for key {key!r} is of incorrect shape. "". 86 f""Values of {self.attrname} must match dimensions {dims} of parent. "". 87 f""Value had shape",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:2396,modifiability,layer,layers,2396,"new_label_df,. 275 var=getattr(adata, ""var"" if axis == 0 else ""obs""),. 276 ). 278 if axis == 1:. 279 return result.T. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:271, in AnnData.__init__(self, X, obs, var, uns, obsm, varm, layers, raw, dtype, shape, filename, filemode, asview, obsp, varp, oidx, vidx). 269 self._init_as_view(X, oidx, vidx). 270 else:. --> 271 self._init_as_actual(. 272 X=X,. 273 obs=obs,. 274 var=var,. 275 uns=uns,. 276 obsm=obsm,. 277 varm=varm,. 278 raw=raw,. 279 layers=layers,. 280 dtype=dtype,. 281 shape=shape,. 282 obsp=obsp,. 283 varp=varp,. 284 filename=filename,. 285 filemode=filemode,. 286 ). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:501, in AnnData._init_as_actual(self, X, obs, var, uns, obsm, varm, varp, obsp, raw, layers, dtype, shape, filename, filemode). 498 self._clean_up_old_format(uns). 500 # layers. --> 501 self._layers = Layers(self, layers). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:331, in Layers.__init__(self, parent, vals). 329 self._data = dict(). 330 if vals is not None:. --> 331 self.update(vals). File <frozen _collections_abc>:949, in update(self, other, **kwds). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:199, in AlignedActualMixin.__setitem__(self, key, value). 198 def __setitem__(self, key: str, value: V):. --> 199 value = self._validate_value(value, key). 200 self._data[key] = value. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:89, in AlignedMapping._validate_value(self, val, key). 83 dims = tuple((""obs"", ""var"")[ax] for ax in self.axes). 84 msg = (. 85 f""Value passed for key {key!r} is of incorrect shape. "". 86 f""Values of {self.attrname} must match dimensions {dims} of parent. "". 87 f""Value had shape {actual_shap",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:2472,modifiability,pac,packages,2472," 278 if axis == 1:. 279 return result.T. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:271, in AnnData.__init__(self, X, obs, var, uns, obsm, varm, layers, raw, dtype, shape, filename, filemode, asview, obsp, varp, oidx, vidx). 269 self._init_as_view(X, oidx, vidx). 270 else:. --> 271 self._init_as_actual(. 272 X=X,. 273 obs=obs,. 274 var=var,. 275 uns=uns,. 276 obsm=obsm,. 277 varm=varm,. 278 raw=raw,. 279 layers=layers,. 280 dtype=dtype,. 281 shape=shape,. 282 obsp=obsp,. 283 varp=varp,. 284 filename=filename,. 285 filemode=filemode,. 286 ). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:501, in AnnData._init_as_actual(self, X, obs, var, uns, obsm, varm, varp, obsp, raw, layers, dtype, shape, filename, filemode). 498 self._clean_up_old_format(uns). 500 # layers. --> 501 self._layers = Layers(self, layers). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:331, in Layers.__init__(self, parent, vals). 329 self._data = dict(). 330 if vals is not None:. --> 331 self.update(vals). File <frozen _collections_abc>:949, in update(self, other, **kwds). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:199, in AlignedActualMixin.__setitem__(self, key, value). 198 def __setitem__(self, key: str, value: V):. --> 199 value = self._validate_value(value, key). 200 self._data[key] = value. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:89, in AlignedMapping._validate_value(self, val, key). 83 dims = tuple((""obs"", ""var"")[ax] for ax in self.axes). 84 msg = (. 85 f""Value passed for key {key!r} is of incorrect shape. "". 86 f""Values of {self.attrname} must match dimensions {dims} of parent. "". 87 f""Value had shape {actual_shape} while it should have had {right_shape}."". 88 ). ---> 89 raise ValueError(m",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:2522,modifiability,Layer,Layers,2522,"t/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:271, in AnnData.__init__(self, X, obs, var, uns, obsm, varm, layers, raw, dtype, shape, filename, filemode, asview, obsp, varp, oidx, vidx). 269 self._init_as_view(X, oidx, vidx). 270 else:. --> 271 self._init_as_actual(. 272 X=X,. 273 obs=obs,. 274 var=var,. 275 uns=uns,. 276 obsm=obsm,. 277 varm=varm,. 278 raw=raw,. 279 layers=layers,. 280 dtype=dtype,. 281 shape=shape,. 282 obsp=obsp,. 283 varp=varp,. 284 filename=filename,. 285 filemode=filemode,. 286 ). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:501, in AnnData._init_as_actual(self, X, obs, var, uns, obsm, varm, varp, obsp, raw, layers, dtype, shape, filename, filemode). 498 self._clean_up_old_format(uns). 500 # layers. --> 501 self._layers = Layers(self, layers). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:331, in Layers.__init__(self, parent, vals). 329 self._data = dict(). 330 if vals is not None:. --> 331 self.update(vals). File <frozen _collections_abc>:949, in update(self, other, **kwds). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:199, in AlignedActualMixin.__setitem__(self, key, value). 198 def __setitem__(self, key: str, value: V):. --> 199 value = self._validate_value(value, key). 200 self._data[key] = value. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:89, in AlignedMapping._validate_value(self, val, key). 83 dims = tuple((""obs"", ""var"")[ax] for ax in self.axes). 84 msg = (. 85 f""Value passed for key {key!r} is of incorrect shape. "". 86 f""Values of {self.attrname} must match dimensions {dims} of parent. "". 87 f""Value had shape {actual_shape} while it should have had {right_shape}."". 88 ). ---> 89 raise ValueError(msg). 91 if not self._allow_df and isinstance(val,",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:2772,modifiability,pac,packages,2772,"_view(X, oidx, vidx). 270 else:. --> 271 self._init_as_actual(. 272 X=X,. 273 obs=obs,. 274 var=var,. 275 uns=uns,. 276 obsm=obsm,. 277 varm=varm,. 278 raw=raw,. 279 layers=layers,. 280 dtype=dtype,. 281 shape=shape,. 282 obsp=obsp,. 283 varp=varp,. 284 filename=filename,. 285 filemode=filemode,. 286 ). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:501, in AnnData._init_as_actual(self, X, obs, var, uns, obsm, varm, varp, obsp, raw, layers, dtype, shape, filename, filemode). 498 self._clean_up_old_format(uns). 500 # layers. --> 501 self._layers = Layers(self, layers). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:331, in Layers.__init__(self, parent, vals). 329 self._data = dict(). 330 if vals is not None:. --> 331 self.update(vals). File <frozen _collections_abc>:949, in update(self, other, **kwds). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:199, in AlignedActualMixin.__setitem__(self, key, value). 198 def __setitem__(self, key: str, value: V):. --> 199 value = self._validate_value(value, key). 200 self._data[key] = value. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:89, in AlignedMapping._validate_value(self, val, key). 83 dims = tuple((""obs"", ""var"")[ax] for ax in self.axes). 84 msg = (. 85 f""Value passed for key {key!r} is of incorrect shape. "". 86 f""Values of {self.attrname} must match dimensions {dims} of parent. "". 87 f""Value had shape {actual_shape} while it should have had {right_shape}."". 88 ). ---> 89 raise ValueError(msg). 91 if not self._allow_df and isinstance(val, pd.DataFrame):. 92 name = self.attrname.title().rstrip(""s""). ValueError: Value passed for key 'mean' is of incorrect shape. Values of layers must match dimensions ('obs', 'var') of parent. Value had shape (11, 2) while it should have had (11, 765). `",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:3066,modifiability,pac,packages,3066,"e,. 286 ). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:501, in AnnData._init_as_actual(self, X, obs, var, uns, obsm, varm, varp, obsp, raw, layers, dtype, shape, filename, filemode). 498 self._clean_up_old_format(uns). 500 # layers. --> 501 self._layers = Layers(self, layers). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:331, in Layers.__init__(self, parent, vals). 329 self._data = dict(). 330 if vals is not None:. --> 331 self.update(vals). File <frozen _collections_abc>:949, in update(self, other, **kwds). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:199, in AlignedActualMixin.__setitem__(self, key, value). 198 def __setitem__(self, key: str, value: V):. --> 199 value = self._validate_value(value, key). 200 self._data[key] = value. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:89, in AlignedMapping._validate_value(self, val, key). 83 dims = tuple((""obs"", ""var"")[ax] for ax in self.axes). 84 msg = (. 85 f""Value passed for key {key!r} is of incorrect shape. "". 86 f""Values of {self.attrname} must match dimensions {dims} of parent. "". 87 f""Value had shape {actual_shape} while it should have had {right_shape}."". 88 ). ---> 89 raise ValueError(msg). 91 if not self._allow_df and isinstance(val, pd.DataFrame):. 92 name = self.attrname.title().rstrip(""s""). ValueError: Value passed for key 'mean' is of incorrect shape. Values of layers must match dimensions ('obs', 'var') of parent. Value had shape (11, 2) while it should have had (11, 765). ```. ### Versions. <details>. ```. -----. anndata 0.10.6. scanpy 1.10.0rc2.dev19+ga6126980. -----. IPython 8.20.0. PIL 10.2.0. asciitree NA. asttokens NA. cffi 1.16.0. cloudpickle 3.0.0. cycler 0.12.1. cython_runtime NA. dask 2024.3.0. dateutil 2.8.2. decorator 5.1.1. defusedxml 0.7.1. executin",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:3660,modifiability,layer,layers,3660,"abc>:949, in update(self, other, **kwds). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:199, in AlignedActualMixin.__setitem__(self, key, value). 198 def __setitem__(self, key: str, value: V):. --> 199 value = self._validate_value(value, key). 200 self._data[key] = value. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:89, in AlignedMapping._validate_value(self, val, key). 83 dims = tuple((""obs"", ""var"")[ax] for ax in self.axes). 84 msg = (. 85 f""Value passed for key {key!r} is of incorrect shape. "". 86 f""Values of {self.attrname} must match dimensions {dims} of parent. "". 87 f""Value had shape {actual_shape} while it should have had {right_shape}."". 88 ). ---> 89 raise ValueError(msg). 91 if not self._allow_df and isinstance(val, pd.DataFrame):. 92 name = self.attrname.title().rstrip(""s""). ValueError: Value passed for key 'mean' is of incorrect shape. Values of layers must match dimensions ('obs', 'var') of parent. Value had shape (11, 2) while it should have had (11, 765). ```. ### Versions. <details>. ```. -----. anndata 0.10.6. scanpy 1.10.0rc2.dev19+ga6126980. -----. IPython 8.20.0. PIL 10.2.0. asciitree NA. asttokens NA. cffi 1.16.0. cloudpickle 3.0.0. cycler 0.12.1. cython_runtime NA. dask 2024.3.0. dateutil 2.8.2. decorator 5.1.1. defusedxml 0.7.1. executing 2.0.1. h5py 3.10.0. igraph 0.11.3. jedi 0.19.1. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. legacy_api_wrap NA. leidenalg 0.10.2. llvmlite 0.41.1. markupsafe 2.1.4. matplotlib 3.8.3. mpl_toolkits NA. msgpack 1.0.7. natsort 8.4.0. numba 0.58.1. numcodecs 0.12.1. numpy 1.26.3. packaging 23.2. pandas 2.2.1. parso 0.8.3. pexpect 4.9.0. prompt_toolkit 3.0.43. psutil 5.9.8. ptyprocess 0.7.0. pure_eval 0.2.2. pyarrow 15.0.1. pygments 2.17.2. pyparsing 3.1.1. pytz 2023.4. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.0. sparse 0.15.1. stack_data 0.6.3. tblib 3.0.0. texttable 1.7",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:3784,modifiability,Version,Versions,3784,"/_core/aligned_mapping.py:199, in AlignedActualMixin.__setitem__(self, key, value). 198 def __setitem__(self, key: str, value: V):. --> 199 value = self._validate_value(value, key). 200 self._data[key] = value. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:89, in AlignedMapping._validate_value(self, val, key). 83 dims = tuple((""obs"", ""var"")[ax] for ax in self.axes). 84 msg = (. 85 f""Value passed for key {key!r} is of incorrect shape. "". 86 f""Values of {self.attrname} must match dimensions {dims} of parent. "". 87 f""Value had shape {actual_shape} while it should have had {right_shape}."". 88 ). ---> 89 raise ValueError(msg). 91 if not self._allow_df and isinstance(val, pd.DataFrame):. 92 name = self.attrname.title().rstrip(""s""). ValueError: Value passed for key 'mean' is of incorrect shape. Values of layers must match dimensions ('obs', 'var') of parent. Value had shape (11, 2) while it should have had (11, 765). ```. ### Versions. <details>. ```. -----. anndata 0.10.6. scanpy 1.10.0rc2.dev19+ga6126980. -----. IPython 8.20.0. PIL 10.2.0. asciitree NA. asttokens NA. cffi 1.16.0. cloudpickle 3.0.0. cycler 0.12.1. cython_runtime NA. dask 2024.3.0. dateutil 2.8.2. decorator 5.1.1. defusedxml 0.7.1. executing 2.0.1. h5py 3.10.0. igraph 0.11.3. jedi 0.19.1. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. legacy_api_wrap NA. leidenalg 0.10.2. llvmlite 0.41.1. markupsafe 2.1.4. matplotlib 3.8.3. mpl_toolkits NA. msgpack 1.0.7. natsort 8.4.0. numba 0.58.1. numcodecs 0.12.1. numpy 1.26.3. packaging 23.2. pandas 2.2.1. parso 0.8.3. pexpect 4.9.0. prompt_toolkit 3.0.43. psutil 5.9.8. ptyprocess 0.7.0. pure_eval 0.2.2. pyarrow 15.0.1. pygments 2.17.2. pyparsing 3.1.1. pytz 2023.4. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.0. sparse 0.15.1. stack_data 0.6.3. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.2.0. tlz 0.12.1. toolz 0.12.1. traitlets 5.14.1. typing_extensions NA. wcwidth 0.2.13. yaml 6.0.1. zarr 2",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:4027,modifiability,deco,decorator,4027,"e/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:89, in AlignedMapping._validate_value(self, val, key). 83 dims = tuple((""obs"", ""var"")[ax] for ax in self.axes). 84 msg = (. 85 f""Value passed for key {key!r} is of incorrect shape. "". 86 f""Values of {self.attrname} must match dimensions {dims} of parent. "". 87 f""Value had shape {actual_shape} while it should have had {right_shape}."". 88 ). ---> 89 raise ValueError(msg). 91 if not self._allow_df and isinstance(val, pd.DataFrame):. 92 name = self.attrname.title().rstrip(""s""). ValueError: Value passed for key 'mean' is of incorrect shape. Values of layers must match dimensions ('obs', 'var') of parent. Value had shape (11, 2) while it should have had (11, 765). ```. ### Versions. <details>. ```. -----. anndata 0.10.6. scanpy 1.10.0rc2.dev19+ga6126980. -----. IPython 8.20.0. PIL 10.2.0. asciitree NA. asttokens NA. cffi 1.16.0. cloudpickle 3.0.0. cycler 0.12.1. cython_runtime NA. dask 2024.3.0. dateutil 2.8.2. decorator 5.1.1. defusedxml 0.7.1. executing 2.0.1. h5py 3.10.0. igraph 0.11.3. jedi 0.19.1. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. legacy_api_wrap NA. leidenalg 0.10.2. llvmlite 0.41.1. markupsafe 2.1.4. matplotlib 3.8.3. mpl_toolkits NA. msgpack 1.0.7. natsort 8.4.0. numba 0.58.1. numcodecs 0.12.1. numpy 1.26.3. packaging 23.2. pandas 2.2.1. parso 0.8.3. pexpect 4.9.0. prompt_toolkit 3.0.43. psutil 5.9.8. ptyprocess 0.7.0. pure_eval 0.2.2. pyarrow 15.0.1. pygments 2.17.2. pyparsing 3.1.1. pytz 2023.4. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.0. sparse 0.15.1. stack_data 0.6.3. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.2.0. tlz 0.12.1. toolz 0.12.1. traitlets 5.14.1. typing_extensions NA. wcwidth 0.2.13. yaml 6.0.1. zarr 2.17.1. zipp NA. -----. Python 3.11.7 | packaged by conda-forge | (main, Dec 23 2023, 14:43:09) [GCC 12.3.0]. Linux-5.15.0-101-generic-x86_64-with-glibc2.35. -----. Session information updated at 2024-03-19 13:05. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:4350,modifiability,pac,packaging,4350,"e/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:89, in AlignedMapping._validate_value(self, val, key). 83 dims = tuple((""obs"", ""var"")[ax] for ax in self.axes). 84 msg = (. 85 f""Value passed for key {key!r} is of incorrect shape. "". 86 f""Values of {self.attrname} must match dimensions {dims} of parent. "". 87 f""Value had shape {actual_shape} while it should have had {right_shape}."". 88 ). ---> 89 raise ValueError(msg). 91 if not self._allow_df and isinstance(val, pd.DataFrame):. 92 name = self.attrname.title().rstrip(""s""). ValueError: Value passed for key 'mean' is of incorrect shape. Values of layers must match dimensions ('obs', 'var') of parent. Value had shape (11, 2) while it should have had (11, 765). ```. ### Versions. <details>. ```. -----. anndata 0.10.6. scanpy 1.10.0rc2.dev19+ga6126980. -----. IPython 8.20.0. PIL 10.2.0. asciitree NA. asttokens NA. cffi 1.16.0. cloudpickle 3.0.0. cycler 0.12.1. cython_runtime NA. dask 2024.3.0. dateutil 2.8.2. decorator 5.1.1. defusedxml 0.7.1. executing 2.0.1. h5py 3.10.0. igraph 0.11.3. jedi 0.19.1. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. legacy_api_wrap NA. leidenalg 0.10.2. llvmlite 0.41.1. markupsafe 2.1.4. matplotlib 3.8.3. mpl_toolkits NA. msgpack 1.0.7. natsort 8.4.0. numba 0.58.1. numcodecs 0.12.1. numpy 1.26.3. packaging 23.2. pandas 2.2.1. parso 0.8.3. pexpect 4.9.0. prompt_toolkit 3.0.43. psutil 5.9.8. ptyprocess 0.7.0. pure_eval 0.2.2. pyarrow 15.0.1. pygments 2.17.2. pyparsing 3.1.1. pytz 2023.4. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.0. sparse 0.15.1. stack_data 0.6.3. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.2.0. tlz 0.12.1. toolz 0.12.1. traitlets 5.14.1. typing_extensions NA. wcwidth 0.2.13. yaml 6.0.1. zarr 2.17.1. zipp NA. -----. Python 3.11.7 | packaged by conda-forge | (main, Dec 23 2023, 14:43:09) [GCC 12.3.0]. Linux-5.15.0-101-generic-x86_64-with-glibc2.35. -----. Session information updated at 2024-03-19 13:05. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:4827,modifiability,pac,packaged,4827,"e/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:89, in AlignedMapping._validate_value(self, val, key). 83 dims = tuple((""obs"", ""var"")[ax] for ax in self.axes). 84 msg = (. 85 f""Value passed for key {key!r} is of incorrect shape. "". 86 f""Values of {self.attrname} must match dimensions {dims} of parent. "". 87 f""Value had shape {actual_shape} while it should have had {right_shape}."". 88 ). ---> 89 raise ValueError(msg). 91 if not self._allow_df and isinstance(val, pd.DataFrame):. 92 name = self.attrname.title().rstrip(""s""). ValueError: Value passed for key 'mean' is of incorrect shape. Values of layers must match dimensions ('obs', 'var') of parent. Value had shape (11, 2) while it should have had (11, 765). ```. ### Versions. <details>. ```. -----. anndata 0.10.6. scanpy 1.10.0rc2.dev19+ga6126980. -----. IPython 8.20.0. PIL 10.2.0. asciitree NA. asttokens NA. cffi 1.16.0. cloudpickle 3.0.0. cycler 0.12.1. cython_runtime NA. dask 2024.3.0. dateutil 2.8.2. decorator 5.1.1. defusedxml 0.7.1. executing 2.0.1. h5py 3.10.0. igraph 0.11.3. jedi 0.19.1. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. legacy_api_wrap NA. leidenalg 0.10.2. llvmlite 0.41.1. markupsafe 2.1.4. matplotlib 3.8.3. mpl_toolkits NA. msgpack 1.0.7. natsort 8.4.0. numba 0.58.1. numcodecs 0.12.1. numpy 1.26.3. packaging 23.2. pandas 2.2.1. parso 0.8.3. pexpect 4.9.0. prompt_toolkit 3.0.43. psutil 5.9.8. ptyprocess 0.7.0. pure_eval 0.2.2. pyarrow 15.0.1. pygments 2.17.2. pyparsing 3.1.1. pytz 2023.4. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.0. sparse 0.15.1. stack_data 0.6.3. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.2.0. tlz 0.12.1. toolz 0.12.1. traitlets 5.14.1. typing_extensions NA. wcwidth 0.2.13. yaml 6.0.1. zarr 2.17.1. zipp NA. -----. Python 3.11.7 | packaged by conda-forge | (main, Dec 23 2023, 14:43:09) [GCC 12.3.0]. Linux-5.15.0-101-generic-x86_64-with-glibc2.35. -----. Session information updated at 2024-03-19 13:05. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:17,performance,error,error,17,"aggregate throws error when aggregating `obsm` or `varm`; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? aggregate throws error when aggregating `obsm` or `varm`. ### Minimal code sample. ```python. import scanpy as sc. adata = sc.datasets.pbmc68k_reduced(). sc.get.aggregate(adata, by=""louvain"", func=""mean"", obsm=""X_umap""). ```. ### Error output. ```pytb. ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). Cell In[3], line 1. ----> 1 sc.get.aggregate(pbmc, by=""louvain"", func=""mean"", obsm=""X_umap""). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/functools.py:909, in singledispatch.<locals>.wrapper(*args, **kw). 905 if not args:. 906 raise TypeError(f'{funcname} requires at least '. 907 '1 positional argument'). --> 909 return dispatch(args[0].__class__)(*args, **kw). File /mnt/workspace/repos/scanpy/scanpy/get/_aggregated.py:272, in aggregate(adata, by, func, axis, mask, dof, layer, obsm, varm). 264 # Actual computation. 265 layers = aggregate(. 266 data,. 267 by=categorical,. (...). 270 dof=dof,. 271 ). --> 272 result = AnnData(. 273 layers=layers,. 274 obs=new_label_df,. 275 var=getattr(adata, ""var"" if axis == 0 else ""obs""),. 276 ). 278 if axis == 1:. 279 return result.T. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:271, in AnnData.__init__(self, X, obs, var, uns, obsm, varm, layers, raw, dtype, shape, filename, filemode, asview, obsp, varp, oidx, vidx). 269 self._init_as_view(X, oidx, vidx). 270 else:. --> 271 self._init_as_actual(. 272 X=X,. 273 obs=obs,. 274 var=var,. 275 uns=uns,. 276 obsm=obsm,. 277 varm=varm,. 278 raw=raw,. 279 layers=layers,. 280 dtype=dtype,. 281 shape=shape,. 282 ob",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:361,performance,error,error,361,"aggregate throws error when aggregating `obsm` or `varm`; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? aggregate throws error when aggregating `obsm` or `varm`. ### Minimal code sample. ```python. import scanpy as sc. adata = sc.datasets.pbmc68k_reduced(). sc.get.aggregate(adata, by=""louvain"", func=""mean"", obsm=""X_umap""). ```. ### Error output. ```pytb. ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). Cell In[3], line 1. ----> 1 sc.get.aggregate(pbmc, by=""louvain"", func=""mean"", obsm=""X_umap""). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/functools.py:909, in singledispatch.<locals>.wrapper(*args, **kw). 905 if not args:. 906 raise TypeError(f'{funcname} requires at least '. 907 '1 positional argument'). --> 909 return dispatch(args[0].__class__)(*args, **kw). File /mnt/workspace/repos/scanpy/scanpy/get/_aggregated.py:272, in aggregate(adata, by, func, axis, mask, dof, layer, obsm, varm). 264 # Actual computation. 265 layers = aggregate(. 266 data,. 267 by=categorical,. (...). 270 dof=dof,. 271 ). --> 272 result = AnnData(. 273 layers=layers,. 274 obs=new_label_df,. 275 var=getattr(adata, ""var"" if axis == 0 else ""obs""),. 276 ). 278 if axis == 1:. 279 return result.T. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:271, in AnnData.__init__(self, X, obs, var, uns, obsm, varm, layers, raw, dtype, shape, filename, filemode, asview, obsp, varp, oidx, vidx). 269 self._init_as_view(X, oidx, vidx). 270 else:. --> 271 self._init_as_actual(. 272 X=X,. 273 obs=obs,. 274 var=var,. 275 uns=uns,. 276 obsm=obsm,. 277 varm=varm,. 278 raw=raw,. 279 layers=layers,. 280 dtype=dtype,. 281 shape=shape,. 282 ob",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:574,performance,Error,Error,574,"aggregate throws error when aggregating `obsm` or `varm`; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? aggregate throws error when aggregating `obsm` or `varm`. ### Minimal code sample. ```python. import scanpy as sc. adata = sc.datasets.pbmc68k_reduced(). sc.get.aggregate(adata, by=""louvain"", func=""mean"", obsm=""X_umap""). ```. ### Error output. ```pytb. ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). Cell In[3], line 1. ----> 1 sc.get.aggregate(pbmc, by=""louvain"", func=""mean"", obsm=""X_umap""). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/functools.py:909, in singledispatch.<locals>.wrapper(*args, **kw). 905 if not args:. 906 raise TypeError(f'{funcname} requires at least '. 907 '1 positional argument'). --> 909 return dispatch(args[0].__class__)(*args, **kw). File /mnt/workspace/repos/scanpy/scanpy/get/_aggregated.py:272, in aggregate(adata, by, func, axis, mask, dof, layer, obsm, varm). 264 # Actual computation. 265 layers = aggregate(. 266 data,. 267 by=categorical,. (...). 270 dof=dof,. 271 ). --> 272 result = AnnData(. 273 layers=layers,. 274 obs=new_label_df,. 275 var=getattr(adata, ""var"" if axis == 0 else ""obs""),. 276 ). 278 if axis == 1:. 279 return result.T. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:271, in AnnData.__init__(self, X, obs, var, uns, obsm, varm, layers, raw, dtype, shape, filename, filemode, asview, obsp, varp, oidx, vidx). 269 self._init_as_view(X, oidx, vidx). 270 else:. --> 271 self._init_as_actual(. 272 X=X,. 273 obs=obs,. 274 var=var,. 275 uns=uns,. 276 obsm=obsm,. 277 varm=varm,. 278 raw=raw,. 279 layers=layers,. 280 dtype=dtype,. 281 shape=shape,. 282 ob",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:17,safety,error,error,17,"aggregate throws error when aggregating `obsm` or `varm`; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? aggregate throws error when aggregating `obsm` or `varm`. ### Minimal code sample. ```python. import scanpy as sc. adata = sc.datasets.pbmc68k_reduced(). sc.get.aggregate(adata, by=""louvain"", func=""mean"", obsm=""X_umap""). ```. ### Error output. ```pytb. ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). Cell In[3], line 1. ----> 1 sc.get.aggregate(pbmc, by=""louvain"", func=""mean"", obsm=""X_umap""). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/functools.py:909, in singledispatch.<locals>.wrapper(*args, **kw). 905 if not args:. 906 raise TypeError(f'{funcname} requires at least '. 907 '1 positional argument'). --> 909 return dispatch(args[0].__class__)(*args, **kw). File /mnt/workspace/repos/scanpy/scanpy/get/_aggregated.py:272, in aggregate(adata, by, func, axis, mask, dof, layer, obsm, varm). 264 # Actual computation. 265 layers = aggregate(. 266 data,. 267 by=categorical,. (...). 270 dof=dof,. 271 ). --> 272 result = AnnData(. 273 layers=layers,. 274 obs=new_label_df,. 275 var=getattr(adata, ""var"" if axis == 0 else ""obs""),. 276 ). 278 if axis == 1:. 279 return result.T. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:271, in AnnData.__init__(self, X, obs, var, uns, obsm, varm, layers, raw, dtype, shape, filename, filemode, asview, obsp, varp, oidx, vidx). 269 self._init_as_view(X, oidx, vidx). 270 else:. --> 271 self._init_as_actual(. 272 X=X,. 273 obs=obs,. 274 var=var,. 275 uns=uns,. 276 obsm=obsm,. 277 varm=varm,. 278 raw=raw,. 279 layers=layers,. 280 dtype=dtype,. 281 shape=shape,. 282 ob",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:361,safety,error,error,361,"aggregate throws error when aggregating `obsm` or `varm`; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? aggregate throws error when aggregating `obsm` or `varm`. ### Minimal code sample. ```python. import scanpy as sc. adata = sc.datasets.pbmc68k_reduced(). sc.get.aggregate(adata, by=""louvain"", func=""mean"", obsm=""X_umap""). ```. ### Error output. ```pytb. ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). Cell In[3], line 1. ----> 1 sc.get.aggregate(pbmc, by=""louvain"", func=""mean"", obsm=""X_umap""). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/functools.py:909, in singledispatch.<locals>.wrapper(*args, **kw). 905 if not args:. 906 raise TypeError(f'{funcname} requires at least '. 907 '1 positional argument'). --> 909 return dispatch(args[0].__class__)(*args, **kw). File /mnt/workspace/repos/scanpy/scanpy/get/_aggregated.py:272, in aggregate(adata, by, func, axis, mask, dof, layer, obsm, varm). 264 # Actual computation. 265 layers = aggregate(. 266 data,. 267 by=categorical,. (...). 270 dof=dof,. 271 ). --> 272 result = AnnData(. 273 layers=layers,. 274 obs=new_label_df,. 275 var=getattr(adata, ""var"" if axis == 0 else ""obs""),. 276 ). 278 if axis == 1:. 279 return result.T. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:271, in AnnData.__init__(self, X, obs, var, uns, obsm, varm, layers, raw, dtype, shape, filename, filemode, asview, obsp, varp, oidx, vidx). 269 self._init_as_view(X, oidx, vidx). 270 else:. --> 271 self._init_as_actual(. 272 X=X,. 273 obs=obs,. 274 var=var,. 275 uns=uns,. 276 obsm=obsm,. 277 varm=varm,. 278 raw=raw,. 279 layers=layers,. 280 dtype=dtype,. 281 shape=shape,. 282 ob",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:574,safety,Error,Error,574,"aggregate throws error when aggregating `obsm` or `varm`; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? aggregate throws error when aggregating `obsm` or `varm`. ### Minimal code sample. ```python. import scanpy as sc. adata = sc.datasets.pbmc68k_reduced(). sc.get.aggregate(adata, by=""louvain"", func=""mean"", obsm=""X_umap""). ```. ### Error output. ```pytb. ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). Cell In[3], line 1. ----> 1 sc.get.aggregate(pbmc, by=""louvain"", func=""mean"", obsm=""X_umap""). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/functools.py:909, in singledispatch.<locals>.wrapper(*args, **kw). 905 if not args:. 906 raise TypeError(f'{funcname} requires at least '. 907 '1 positional argument'). --> 909 return dispatch(args[0].__class__)(*args, **kw). File /mnt/workspace/repos/scanpy/scanpy/get/_aggregated.py:272, in aggregate(adata, by, func, axis, mask, dof, layer, obsm, varm). 264 # Actual computation. 265 layers = aggregate(. 266 data,. 267 by=categorical,. (...). 270 dof=dof,. 271 ). --> 272 result = AnnData(. 273 layers=layers,. 274 obs=new_label_df,. 275 var=getattr(adata, ""var"" if axis == 0 else ""obs""),. 276 ). 278 if axis == 1:. 279 return result.T. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:271, in AnnData.__init__(self, X, obs, var, uns, obsm, varm, layers, raw, dtype, shape, filename, filemode, asview, obsp, varp, oidx, vidx). 269 self._init_as_view(X, oidx, vidx). 270 else:. --> 271 self._init_as_actual(. 272 X=X,. 273 obs=obs,. 274 var=var,. 275 uns=uns,. 276 obsm=obsm,. 277 varm=varm,. 278 raw=raw,. 279 layers=layers,. 280 dtype=dtype,. 281 shape=shape,. 282 ob",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:2623,safety,updat,update,2623,"AnnData.__init__(self, X, obs, var, uns, obsm, varm, layers, raw, dtype, shape, filename, filemode, asview, obsp, varp, oidx, vidx). 269 self._init_as_view(X, oidx, vidx). 270 else:. --> 271 self._init_as_actual(. 272 X=X,. 273 obs=obs,. 274 var=var,. 275 uns=uns,. 276 obsm=obsm,. 277 varm=varm,. 278 raw=raw,. 279 layers=layers,. 280 dtype=dtype,. 281 shape=shape,. 282 obsp=obsp,. 283 varp=varp,. 284 filename=filename,. 285 filemode=filemode,. 286 ). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:501, in AnnData._init_as_actual(self, X, obs, var, uns, obsm, varm, varp, obsp, raw, layers, dtype, shape, filename, filemode). 498 self._clean_up_old_format(uns). 500 # layers. --> 501 self._layers = Layers(self, layers). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:331, in Layers.__init__(self, parent, vals). 329 self._data = dict(). 330 if vals is not None:. --> 331 self.update(vals). File <frozen _collections_abc>:949, in update(self, other, **kwds). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:199, in AlignedActualMixin.__setitem__(self, key, value). 198 def __setitem__(self, key: str, value: V):. --> 199 value = self._validate_value(value, key). 200 self._data[key] = value. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:89, in AlignedMapping._validate_value(self, val, key). 83 dims = tuple((""obs"", ""var"")[ax] for ax in self.axes). 84 msg = (. 85 f""Value passed for key {key!r} is of incorrect shape. "". 86 f""Values of {self.attrname} must match dimensions {dims} of parent. "". 87 f""Value had shape {actual_shape} while it should have had {right_shape}."". 88 ). ---> 89 raise ValueError(msg). 91 if not self._allow_df and isinstance(val, pd.DataFrame):. 92 name = self.attrname.title().rstrip(""s""). ValueError: Value passed for key 'mean'",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:2676,safety,updat,update,2676,"layers, raw, dtype, shape, filename, filemode, asview, obsp, varp, oidx, vidx). 269 self._init_as_view(X, oidx, vidx). 270 else:. --> 271 self._init_as_actual(. 272 X=X,. 273 obs=obs,. 274 var=var,. 275 uns=uns,. 276 obsm=obsm,. 277 varm=varm,. 278 raw=raw,. 279 layers=layers,. 280 dtype=dtype,. 281 shape=shape,. 282 obsp=obsp,. 283 varp=varp,. 284 filename=filename,. 285 filemode=filemode,. 286 ). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:501, in AnnData._init_as_actual(self, X, obs, var, uns, obsm, varm, varp, obsp, raw, layers, dtype, shape, filename, filemode). 498 self._clean_up_old_format(uns). 500 # layers. --> 501 self._layers = Layers(self, layers). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:331, in Layers.__init__(self, parent, vals). 329 self._data = dict(). 330 if vals is not None:. --> 331 self.update(vals). File <frozen _collections_abc>:949, in update(self, other, **kwds). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:199, in AlignedActualMixin.__setitem__(self, key, value). 198 def __setitem__(self, key: str, value: V):. --> 199 value = self._validate_value(value, key). 200 self._data[key] = value. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:89, in AlignedMapping._validate_value(self, val, key). 83 dims = tuple((""obs"", ""var"")[ax] for ax in self.axes). 84 msg = (. 85 f""Value passed for key {key!r} is of incorrect shape. "". 86 f""Values of {self.attrname} must match dimensions {dims} of parent. "". 87 f""Value had shape {actual_shape} while it should have had {right_shape}."". 88 ). ---> 89 raise ValueError(msg). 91 if not self._allow_df and isinstance(val, pd.DataFrame):. 92 name = self.attrname.title().rstrip(""s""). ValueError: Value passed for key 'mean' is of incorrect shape. Values of layers must match d",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:4972,safety,updat,updated,4972,"e/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:89, in AlignedMapping._validate_value(self, val, key). 83 dims = tuple((""obs"", ""var"")[ax] for ax in self.axes). 84 msg = (. 85 f""Value passed for key {key!r} is of incorrect shape. "". 86 f""Values of {self.attrname} must match dimensions {dims} of parent. "". 87 f""Value had shape {actual_shape} while it should have had {right_shape}."". 88 ). ---> 89 raise ValueError(msg). 91 if not self._allow_df and isinstance(val, pd.DataFrame):. 92 name = self.attrname.title().rstrip(""s""). ValueError: Value passed for key 'mean' is of incorrect shape. Values of layers must match dimensions ('obs', 'var') of parent. Value had shape (11, 2) while it should have had (11, 765). ```. ### Versions. <details>. ```. -----. anndata 0.10.6. scanpy 1.10.0rc2.dev19+ga6126980. -----. IPython 8.20.0. PIL 10.2.0. asciitree NA. asttokens NA. cffi 1.16.0. cloudpickle 3.0.0. cycler 0.12.1. cython_runtime NA. dask 2024.3.0. dateutil 2.8.2. decorator 5.1.1. defusedxml 0.7.1. executing 2.0.1. h5py 3.10.0. igraph 0.11.3. jedi 0.19.1. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. legacy_api_wrap NA. leidenalg 0.10.2. llvmlite 0.41.1. markupsafe 2.1.4. matplotlib 3.8.3. mpl_toolkits NA. msgpack 1.0.7. natsort 8.4.0. numba 0.58.1. numcodecs 0.12.1. numpy 1.26.3. packaging 23.2. pandas 2.2.1. parso 0.8.3. pexpect 4.9.0. prompt_toolkit 3.0.43. psutil 5.9.8. ptyprocess 0.7.0. pure_eval 0.2.2. pyarrow 15.0.1. pygments 2.17.2. pyparsing 3.1.1. pytz 2023.4. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.0. sparse 0.15.1. stack_data 0.6.3. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.2.0. tlz 0.12.1. toolz 0.12.1. traitlets 5.14.1. typing_extensions NA. wcwidth 0.2.13. yaml 6.0.1. zarr 2.17.1. zipp NA. -----. Python 3.11.7 | packaged by conda-forge | (main, Dec 23 2023, 14:43:09) [GCC 12.3.0]. Linux-5.15.0-101-generic-x86_64-with-glibc2.35. -----. Session information updated at 2024-03-19 13:05. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:2623,security,updat,update,2623,"AnnData.__init__(self, X, obs, var, uns, obsm, varm, layers, raw, dtype, shape, filename, filemode, asview, obsp, varp, oidx, vidx). 269 self._init_as_view(X, oidx, vidx). 270 else:. --> 271 self._init_as_actual(. 272 X=X,. 273 obs=obs,. 274 var=var,. 275 uns=uns,. 276 obsm=obsm,. 277 varm=varm,. 278 raw=raw,. 279 layers=layers,. 280 dtype=dtype,. 281 shape=shape,. 282 obsp=obsp,. 283 varp=varp,. 284 filename=filename,. 285 filemode=filemode,. 286 ). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:501, in AnnData._init_as_actual(self, X, obs, var, uns, obsm, varm, varp, obsp, raw, layers, dtype, shape, filename, filemode). 498 self._clean_up_old_format(uns). 500 # layers. --> 501 self._layers = Layers(self, layers). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:331, in Layers.__init__(self, parent, vals). 329 self._data = dict(). 330 if vals is not None:. --> 331 self.update(vals). File <frozen _collections_abc>:949, in update(self, other, **kwds). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:199, in AlignedActualMixin.__setitem__(self, key, value). 198 def __setitem__(self, key: str, value: V):. --> 199 value = self._validate_value(value, key). 200 self._data[key] = value. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:89, in AlignedMapping._validate_value(self, val, key). 83 dims = tuple((""obs"", ""var"")[ax] for ax in self.axes). 84 msg = (. 85 f""Value passed for key {key!r} is of incorrect shape. "". 86 f""Values of {self.attrname} must match dimensions {dims} of parent. "". 87 f""Value had shape {actual_shape} while it should have had {right_shape}."". 88 ). ---> 89 raise ValueError(msg). 91 if not self._allow_df and isinstance(val, pd.DataFrame):. 92 name = self.attrname.title().rstrip(""s""). ValueError: Value passed for key 'mean'",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:2676,security,updat,update,2676,"layers, raw, dtype, shape, filename, filemode, asview, obsp, varp, oidx, vidx). 269 self._init_as_view(X, oidx, vidx). 270 else:. --> 271 self._init_as_actual(. 272 X=X,. 273 obs=obs,. 274 var=var,. 275 uns=uns,. 276 obsm=obsm,. 277 varm=varm,. 278 raw=raw,. 279 layers=layers,. 280 dtype=dtype,. 281 shape=shape,. 282 obsp=obsp,. 283 varp=varp,. 284 filename=filename,. 285 filemode=filemode,. 286 ). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:501, in AnnData._init_as_actual(self, X, obs, var, uns, obsm, varm, varp, obsp, raw, layers, dtype, shape, filename, filemode). 498 self._clean_up_old_format(uns). 500 # layers. --> 501 self._layers = Layers(self, layers). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:331, in Layers.__init__(self, parent, vals). 329 self._data = dict(). 330 if vals is not None:. --> 331 self.update(vals). File <frozen _collections_abc>:949, in update(self, other, **kwds). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:199, in AlignedActualMixin.__setitem__(self, key, value). 198 def __setitem__(self, key: str, value: V):. --> 199 value = self._validate_value(value, key). 200 self._data[key] = value. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:89, in AlignedMapping._validate_value(self, val, key). 83 dims = tuple((""obs"", ""var"")[ax] for ax in self.axes). 84 msg = (. 85 f""Value passed for key {key!r} is of incorrect shape. "". 86 f""Values of {self.attrname} must match dimensions {dims} of parent. "". 87 f""Value had shape {actual_shape} while it should have had {right_shape}."". 88 ). ---> 89 raise ValueError(msg). 91 if not self._allow_df and isinstance(val, pd.DataFrame):. 92 name = self.attrname.title().rstrip(""s""). ValueError: Value passed for key 'mean' is of incorrect shape. Values of layers must match d",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:4952,security,Session,Session,4952,"e/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:89, in AlignedMapping._validate_value(self, val, key). 83 dims = tuple((""obs"", ""var"")[ax] for ax in self.axes). 84 msg = (. 85 f""Value passed for key {key!r} is of incorrect shape. "". 86 f""Values of {self.attrname} must match dimensions {dims} of parent. "". 87 f""Value had shape {actual_shape} while it should have had {right_shape}."". 88 ). ---> 89 raise ValueError(msg). 91 if not self._allow_df and isinstance(val, pd.DataFrame):. 92 name = self.attrname.title().rstrip(""s""). ValueError: Value passed for key 'mean' is of incorrect shape. Values of layers must match dimensions ('obs', 'var') of parent. Value had shape (11, 2) while it should have had (11, 765). ```. ### Versions. <details>. ```. -----. anndata 0.10.6. scanpy 1.10.0rc2.dev19+ga6126980. -----. IPython 8.20.0. PIL 10.2.0. asciitree NA. asttokens NA. cffi 1.16.0. cloudpickle 3.0.0. cycler 0.12.1. cython_runtime NA. dask 2024.3.0. dateutil 2.8.2. decorator 5.1.1. defusedxml 0.7.1. executing 2.0.1. h5py 3.10.0. igraph 0.11.3. jedi 0.19.1. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. legacy_api_wrap NA. leidenalg 0.10.2. llvmlite 0.41.1. markupsafe 2.1.4. matplotlib 3.8.3. mpl_toolkits NA. msgpack 1.0.7. natsort 8.4.0. numba 0.58.1. numcodecs 0.12.1. numpy 1.26.3. packaging 23.2. pandas 2.2.1. parso 0.8.3. pexpect 4.9.0. prompt_toolkit 3.0.43. psutil 5.9.8. ptyprocess 0.7.0. pure_eval 0.2.2. pyarrow 15.0.1. pygments 2.17.2. pyparsing 3.1.1. pytz 2023.4. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.0. sparse 0.15.1. stack_data 0.6.3. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.2.0. tlz 0.12.1. toolz 0.12.1. traitlets 5.14.1. typing_extensions NA. wcwidth 0.2.13. yaml 6.0.1. zarr 2.17.1. zipp NA. -----. Python 3.11.7 | packaged by conda-forge | (main, Dec 23 2023, 14:43:09) [GCC 12.3.0]. Linux-5.15.0-101-generic-x86_64-with-glibc2.35. -----. Session information updated at 2024-03-19 13:05. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:4972,security,updat,updated,4972,"e/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:89, in AlignedMapping._validate_value(self, val, key). 83 dims = tuple((""obs"", ""var"")[ax] for ax in self.axes). 84 msg = (. 85 f""Value passed for key {key!r} is of incorrect shape. "". 86 f""Values of {self.attrname} must match dimensions {dims} of parent. "". 87 f""Value had shape {actual_shape} while it should have had {right_shape}."". 88 ). ---> 89 raise ValueError(msg). 91 if not self._allow_df and isinstance(val, pd.DataFrame):. 92 name = self.attrname.title().rstrip(""s""). ValueError: Value passed for key 'mean' is of incorrect shape. Values of layers must match dimensions ('obs', 'var') of parent. Value had shape (11, 2) while it should have had (11, 765). ```. ### Versions. <details>. ```. -----. anndata 0.10.6. scanpy 1.10.0rc2.dev19+ga6126980. -----. IPython 8.20.0. PIL 10.2.0. asciitree NA. asttokens NA. cffi 1.16.0. cloudpickle 3.0.0. cycler 0.12.1. cython_runtime NA. dask 2024.3.0. dateutil 2.8.2. decorator 5.1.1. defusedxml 0.7.1. executing 2.0.1. h5py 3.10.0. igraph 0.11.3. jedi 0.19.1. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. legacy_api_wrap NA. leidenalg 0.10.2. llvmlite 0.41.1. markupsafe 2.1.4. matplotlib 3.8.3. mpl_toolkits NA. msgpack 1.0.7. natsort 8.4.0. numba 0.58.1. numcodecs 0.12.1. numpy 1.26.3. packaging 23.2. pandas 2.2.1. parso 0.8.3. pexpect 4.9.0. prompt_toolkit 3.0.43. psutil 5.9.8. ptyprocess 0.7.0. pure_eval 0.2.2. pyarrow 15.0.1. pygments 2.17.2. pyparsing 3.1.1. pytz 2023.4. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.0. sparse 0.15.1. stack_data 0.6.3. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.2.0. tlz 0.12.1. toolz 0.12.1. traitlets 5.14.1. typing_extensions NA. wcwidth 0.2.13. yaml 6.0.1. zarr 2.17.1. zipp NA. -----. Python 3.11.7 | packaged by conda-forge | (main, Dec 23 2023, 14:43:09) [GCC 12.3.0]. Linux-5.15.0-101-generic-x86_64-with-glibc2.35. -----. Session information updated at 2024-03-19 13:05. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:685,testability,Trace,Traceback,685,"aggregate throws error when aggregating `obsm` or `varm`; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? aggregate throws error when aggregating `obsm` or `varm`. ### Minimal code sample. ```python. import scanpy as sc. adata = sc.datasets.pbmc68k_reduced(). sc.get.aggregate(adata, by=""louvain"", func=""mean"", obsm=""X_umap""). ```. ### Error output. ```pytb. ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). Cell In[3], line 1. ----> 1 sc.get.aggregate(pbmc, by=""louvain"", func=""mean"", obsm=""X_umap""). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/functools.py:909, in singledispatch.<locals>.wrapper(*args, **kw). 905 if not args:. 906 raise TypeError(f'{funcname} requires at least '. 907 '1 positional argument'). --> 909 return dispatch(args[0].__class__)(*args, **kw). File /mnt/workspace/repos/scanpy/scanpy/get/_aggregated.py:272, in aggregate(adata, by, func, axis, mask, dof, layer, obsm, varm). 264 # Actual computation. 265 layers = aggregate(. 266 data,. 267 by=categorical,. (...). 270 dof=dof,. 271 ). --> 272 result = AnnData(. 273 layers=layers,. 274 obs=new_label_df,. 275 var=getattr(adata, ""var"" if axis == 0 else ""obs""),. 276 ). 278 if axis == 1:. 279 return result.T. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:271, in AnnData.__init__(self, X, obs, var, uns, obsm, varm, layers, raw, dtype, shape, filename, filemode, asview, obsp, varp, oidx, vidx). 269 self._init_as_view(X, oidx, vidx). 270 else:. --> 271 self._init_as_actual(. 272 X=X,. 273 obs=obs,. 274 var=var,. 275 uns=uns,. 276 obsm=obsm,. 277 varm=varm,. 278 raw=raw,. 279 layers=layers,. 280 dtype=dtype,. 281 shape=shape,. 282 ob",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:17,usability,error,error,17,"aggregate throws error when aggregating `obsm` or `varm`; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? aggregate throws error when aggregating `obsm` or `varm`. ### Minimal code sample. ```python. import scanpy as sc. adata = sc.datasets.pbmc68k_reduced(). sc.get.aggregate(adata, by=""louvain"", func=""mean"", obsm=""X_umap""). ```. ### Error output. ```pytb. ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). Cell In[3], line 1. ----> 1 sc.get.aggregate(pbmc, by=""louvain"", func=""mean"", obsm=""X_umap""). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/functools.py:909, in singledispatch.<locals>.wrapper(*args, **kw). 905 if not args:. 906 raise TypeError(f'{funcname} requires at least '. 907 '1 positional argument'). --> 909 return dispatch(args[0].__class__)(*args, **kw). File /mnt/workspace/repos/scanpy/scanpy/get/_aggregated.py:272, in aggregate(adata, by, func, axis, mask, dof, layer, obsm, varm). 264 # Actual computation. 265 layers = aggregate(. 266 data,. 267 by=categorical,. (...). 270 dof=dof,. 271 ). --> 272 result = AnnData(. 273 layers=layers,. 274 obs=new_label_df,. 275 var=getattr(adata, ""var"" if axis == 0 else ""obs""),. 276 ). 278 if axis == 1:. 279 return result.T. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:271, in AnnData.__init__(self, X, obs, var, uns, obsm, varm, layers, raw, dtype, shape, filename, filemode, asview, obsp, varp, oidx, vidx). 269 self._init_as_view(X, oidx, vidx). 270 else:. --> 271 self._init_as_actual(. 272 X=X,. 273 obs=obs,. 274 var=var,. 275 uns=uns,. 276 obsm=obsm,. 277 varm=varm,. 278 raw=raw,. 279 layers=layers,. 280 dtype=dtype,. 281 shape=shape,. 282 ob",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:186,usability,confirm,confirmed,186,"aggregate throws error when aggregating `obsm` or `varm`; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? aggregate throws error when aggregating `obsm` or `varm`. ### Minimal code sample. ```python. import scanpy as sc. adata = sc.datasets.pbmc68k_reduced(). sc.get.aggregate(adata, by=""louvain"", func=""mean"", obsm=""X_umap""). ```. ### Error output. ```pytb. ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). Cell In[3], line 1. ----> 1 sc.get.aggregate(pbmc, by=""louvain"", func=""mean"", obsm=""X_umap""). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/functools.py:909, in singledispatch.<locals>.wrapper(*args, **kw). 905 if not args:. 906 raise TypeError(f'{funcname} requires at least '. 907 '1 positional argument'). --> 909 return dispatch(args[0].__class__)(*args, **kw). File /mnt/workspace/repos/scanpy/scanpy/get/_aggregated.py:272, in aggregate(adata, by, func, axis, mask, dof, layer, obsm, varm). 264 # Actual computation. 265 layers = aggregate(. 266 data,. 267 by=categorical,. (...). 270 dof=dof,. 271 ). --> 272 result = AnnData(. 273 layers=layers,. 274 obs=new_label_df,. 275 var=getattr(adata, ""var"" if axis == 0 else ""obs""),. 276 ). 278 if axis == 1:. 279 return result.T. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:271, in AnnData.__init__(self, X, obs, var, uns, obsm, varm, layers, raw, dtype, shape, filename, filemode, asview, obsp, varp, oidx, vidx). 269 self._init_as_view(X, oidx, vidx). 270 else:. --> 271 self._init_as_actual(. 272 X=X,. 273 obs=obs,. 274 var=var,. 275 uns=uns,. 276 obsm=obsm,. 277 varm=varm,. 278 raw=raw,. 279 layers=layers,. 280 dtype=dtype,. 281 shape=shape,. 282 ob",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:269,usability,confirm,confirmed,269,"aggregate throws error when aggregating `obsm` or `varm`; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? aggregate throws error when aggregating `obsm` or `varm`. ### Minimal code sample. ```python. import scanpy as sc. adata = sc.datasets.pbmc68k_reduced(). sc.get.aggregate(adata, by=""louvain"", func=""mean"", obsm=""X_umap""). ```. ### Error output. ```pytb. ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). Cell In[3], line 1. ----> 1 sc.get.aggregate(pbmc, by=""louvain"", func=""mean"", obsm=""X_umap""). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/functools.py:909, in singledispatch.<locals>.wrapper(*args, **kw). 905 if not args:. 906 raise TypeError(f'{funcname} requires at least '. 907 '1 positional argument'). --> 909 return dispatch(args[0].__class__)(*args, **kw). File /mnt/workspace/repos/scanpy/scanpy/get/_aggregated.py:272, in aggregate(adata, by, func, axis, mask, dof, layer, obsm, varm). 264 # Actual computation. 265 layers = aggregate(. 266 data,. 267 by=categorical,. (...). 270 dof=dof,. 271 ). --> 272 result = AnnData(. 273 layers=layers,. 274 obs=new_label_df,. 275 var=getattr(adata, ""var"" if axis == 0 else ""obs""),. 276 ). 278 if axis == 1:. 279 return result.T. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:271, in AnnData.__init__(self, X, obs, var, uns, obsm, varm, layers, raw, dtype, shape, filename, filemode, asview, obsp, varp, oidx, vidx). 269 self._init_as_view(X, oidx, vidx). 270 else:. --> 271 self._init_as_actual(. 272 X=X,. 273 obs=obs,. 274 var=var,. 275 uns=uns,. 276 obsm=obsm,. 277 varm=varm,. 278 raw=raw,. 279 layers=layers,. 280 dtype=dtype,. 281 shape=shape,. 282 ob",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:361,usability,error,error,361,"aggregate throws error when aggregating `obsm` or `varm`; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? aggregate throws error when aggregating `obsm` or `varm`. ### Minimal code sample. ```python. import scanpy as sc. adata = sc.datasets.pbmc68k_reduced(). sc.get.aggregate(adata, by=""louvain"", func=""mean"", obsm=""X_umap""). ```. ### Error output. ```pytb. ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). Cell In[3], line 1. ----> 1 sc.get.aggregate(pbmc, by=""louvain"", func=""mean"", obsm=""X_umap""). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/functools.py:909, in singledispatch.<locals>.wrapper(*args, **kw). 905 if not args:. 906 raise TypeError(f'{funcname} requires at least '. 907 '1 positional argument'). --> 909 return dispatch(args[0].__class__)(*args, **kw). File /mnt/workspace/repos/scanpy/scanpy/get/_aggregated.py:272, in aggregate(adata, by, func, axis, mask, dof, layer, obsm, varm). 264 # Actual computation. 265 layers = aggregate(. 266 data,. 267 by=categorical,. (...). 270 dof=dof,. 271 ). --> 272 result = AnnData(. 273 layers=layers,. 274 obs=new_label_df,. 275 var=getattr(adata, ""var"" if axis == 0 else ""obs""),. 276 ). 278 if axis == 1:. 279 return result.T. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:271, in AnnData.__init__(self, X, obs, var, uns, obsm, varm, layers, raw, dtype, shape, filename, filemode, asview, obsp, varp, oidx, vidx). 269 self._init_as_view(X, oidx, vidx). 270 else:. --> 271 self._init_as_actual(. 272 X=X,. 273 obs=obs,. 274 var=var,. 275 uns=uns,. 276 obsm=obsm,. 277 varm=varm,. 278 raw=raw,. 279 layers=layers,. 280 dtype=dtype,. 281 shape=shape,. 282 ob",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:406,usability,Minim,Minimal,406,"aggregate throws error when aggregating `obsm` or `varm`; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? aggregate throws error when aggregating `obsm` or `varm`. ### Minimal code sample. ```python. import scanpy as sc. adata = sc.datasets.pbmc68k_reduced(). sc.get.aggregate(adata, by=""louvain"", func=""mean"", obsm=""X_umap""). ```. ### Error output. ```pytb. ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). Cell In[3], line 1. ----> 1 sc.get.aggregate(pbmc, by=""louvain"", func=""mean"", obsm=""X_umap""). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/functools.py:909, in singledispatch.<locals>.wrapper(*args, **kw). 905 if not args:. 906 raise TypeError(f'{funcname} requires at least '. 907 '1 positional argument'). --> 909 return dispatch(args[0].__class__)(*args, **kw). File /mnt/workspace/repos/scanpy/scanpy/get/_aggregated.py:272, in aggregate(adata, by, func, axis, mask, dof, layer, obsm, varm). 264 # Actual computation. 265 layers = aggregate(. 266 data,. 267 by=categorical,. (...). 270 dof=dof,. 271 ). --> 272 result = AnnData(. 273 layers=layers,. 274 obs=new_label_df,. 275 var=getattr(adata, ""var"" if axis == 0 else ""obs""),. 276 ). 278 if axis == 1:. 279 return result.T. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:271, in AnnData.__init__(self, X, obs, var, uns, obsm, varm, layers, raw, dtype, shape, filename, filemode, asview, obsp, varp, oidx, vidx). 269 self._init_as_view(X, oidx, vidx). 270 else:. --> 271 self._init_as_actual(. 272 X=X,. 273 obs=obs,. 274 var=var,. 275 uns=uns,. 276 obsm=obsm,. 277 varm=varm,. 278 raw=raw,. 279 layers=layers,. 280 dtype=dtype,. 281 shape=shape,. 282 ob",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:574,usability,Error,Error,574,"aggregate throws error when aggregating `obsm` or `varm`; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [X] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? aggregate throws error when aggregating `obsm` or `varm`. ### Minimal code sample. ```python. import scanpy as sc. adata = sc.datasets.pbmc68k_reduced(). sc.get.aggregate(adata, by=""louvain"", func=""mean"", obsm=""X_umap""). ```. ### Error output. ```pytb. ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). Cell In[3], line 1. ----> 1 sc.get.aggregate(pbmc, by=""louvain"", func=""mean"", obsm=""X_umap""). File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/functools.py:909, in singledispatch.<locals>.wrapper(*args, **kw). 905 if not args:. 906 raise TypeError(f'{funcname} requires at least '. 907 '1 positional argument'). --> 909 return dispatch(args[0].__class__)(*args, **kw). File /mnt/workspace/repos/scanpy/scanpy/get/_aggregated.py:272, in aggregate(adata, by, func, axis, mask, dof, layer, obsm, varm). 264 # Actual computation. 265 layers = aggregate(. 266 data,. 267 by=categorical,. (...). 270 dof=dof,. 271 ). --> 272 result = AnnData(. 273 layers=layers,. 274 obs=new_label_df,. 275 var=getattr(adata, ""var"" if axis == 0 else ""obs""),. 276 ). 278 if axis == 1:. 279 return result.T. File /mnt/workspace/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/anndata.py:271, in AnnData.__init__(self, X, obs, var, uns, obsm, varm, layers, raw, dtype, shape, filename, filemode, asview, obsp, varp, oidx, vidx). 269 self._init_as_view(X, oidx, vidx). 270 else:. --> 271 self._init_as_actual(. 272 X=X,. 273 obs=obs,. 274 var=var,. 275 uns=uns,. 276 obsm=obsm,. 277 varm=varm,. 278 raw=raw,. 279 layers=layers,. 280 dtype=dtype,. 281 shape=shape,. 282 ob",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2929:4700,usability,tool,toolz,4700,"e/mambaforge/envs/scanpy-dev/lib/python3.11/site-packages/anndata/_core/aligned_mapping.py:89, in AlignedMapping._validate_value(self, val, key). 83 dims = tuple((""obs"", ""var"")[ax] for ax in self.axes). 84 msg = (. 85 f""Value passed for key {key!r} is of incorrect shape. "". 86 f""Values of {self.attrname} must match dimensions {dims} of parent. "". 87 f""Value had shape {actual_shape} while it should have had {right_shape}."". 88 ). ---> 89 raise ValueError(msg). 91 if not self._allow_df and isinstance(val, pd.DataFrame):. 92 name = self.attrname.title().rstrip(""s""). ValueError: Value passed for key 'mean' is of incorrect shape. Values of layers must match dimensions ('obs', 'var') of parent. Value had shape (11, 2) while it should have had (11, 765). ```. ### Versions. <details>. ```. -----. anndata 0.10.6. scanpy 1.10.0rc2.dev19+ga6126980. -----. IPython 8.20.0. PIL 10.2.0. asciitree NA. asttokens NA. cffi 1.16.0. cloudpickle 3.0.0. cycler 0.12.1. cython_runtime NA. dask 2024.3.0. dateutil 2.8.2. decorator 5.1.1. defusedxml 0.7.1. executing 2.0.1. h5py 3.10.0. igraph 0.11.3. jedi 0.19.1. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. legacy_api_wrap NA. leidenalg 0.10.2. llvmlite 0.41.1. markupsafe 2.1.4. matplotlib 3.8.3. mpl_toolkits NA. msgpack 1.0.7. natsort 8.4.0. numba 0.58.1. numcodecs 0.12.1. numpy 1.26.3. packaging 23.2. pandas 2.2.1. parso 0.8.3. pexpect 4.9.0. prompt_toolkit 3.0.43. psutil 5.9.8. ptyprocess 0.7.0. pure_eval 0.2.2. pyarrow 15.0.1. pygments 2.17.2. pyparsing 3.1.1. pytz 2023.4. scipy 1.12.0. session_info 1.0.0. six 1.16.0. sklearn 1.4.0. sparse 0.15.1. stack_data 0.6.3. tblib 3.0.0. texttable 1.7.0. threadpoolctl 3.2.0. tlz 0.12.1. toolz 0.12.1. traitlets 5.14.1. typing_extensions NA. wcwidth 0.2.13. yaml 6.0.1. zarr 2.17.1. zipp NA. -----. Python 3.11.7 | packaged by conda-forge | (main, Dec 23 2023, 14:43:09) [GCC 12.3.0]. Linux-5.15.0-101-generic-x86_64-with-glibc2.35. -----. Session information updated at 2024-03-19 13:05. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2929
https://github.com/scverse/scanpy/issues/2930:1096,availability,error,error,1096,"Return type of aggregate is inconsistent; ```python. import scanpy as sc. adata = sc.datasets.pbmc68k_reduced(). sc.get.aggregate(adata, by=""louvain"", func=""mean""). ```. ```. AnnData object with n_obs × n_vars = 11 × 765. obs: 'louvain'. var: 'n_counts', 'means', 'dispersions', 'dispersions_norm', 'highly_variable'. layers: 'mean'. ```. ```python. sc.get.aggregate(adata.obsm[""X_umap""], by=adata.obs[""louvain""].array, func=""mean""). ```. ```. {'mean': array([[ -6.18019123, -6.12846152],. [ -3.10995685, 8.4991954 ],. [ 6.30307056, -2.15245383],. [ -4.72268065, -3.24033642],. [-11.94002487, -5.39480163],. [ -1.39242794, 6.6239316 ],. [ 4.3991326 , -0.16749119],. [ 4.847834 , -9.30549509],. [-10.41891144, -1.15700949],. [ -7.91249486, -4.06782072],. [ 1.12418592, -6.94506866]])}. ```. So it returns an `AnnData` when an `AnnData` is passed, but a dict when a less structured object is passed. This is probably because it's `singledispatched` under the hood, but IDK that this behaviour is great. I think it could make more sense for this to either:. * Always return an `AnnData`. * Throw an error if something other than an AnnData is passed in. A third option is that we document this behaviour, but I generally don't love it. There are other places that we do something like this, i.e. return a different type depending on the input. However, I feel like there's more of a loss of information here and less of an obvious return type. Maybe in future this could get a `return_type: type[AnnData] | type[Dict] | type[xr.Dataset] = AnnData` argument that controls what is returned? WDYT @ilan-gold @Intron7?",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2930
https://github.com/scverse/scanpy/issues/2930:1317,deployability,depend,depending,1317,"Return type of aggregate is inconsistent; ```python. import scanpy as sc. adata = sc.datasets.pbmc68k_reduced(). sc.get.aggregate(adata, by=""louvain"", func=""mean""). ```. ```. AnnData object with n_obs × n_vars = 11 × 765. obs: 'louvain'. var: 'n_counts', 'means', 'dispersions', 'dispersions_norm', 'highly_variable'. layers: 'mean'. ```. ```python. sc.get.aggregate(adata.obsm[""X_umap""], by=adata.obs[""louvain""].array, func=""mean""). ```. ```. {'mean': array([[ -6.18019123, -6.12846152],. [ -3.10995685, 8.4991954 ],. [ 6.30307056, -2.15245383],. [ -4.72268065, -3.24033642],. [-11.94002487, -5.39480163],. [ -1.39242794, 6.6239316 ],. [ 4.3991326 , -0.16749119],. [ 4.847834 , -9.30549509],. [-10.41891144, -1.15700949],. [ -7.91249486, -4.06782072],. [ 1.12418592, -6.94506866]])}. ```. So it returns an `AnnData` when an `AnnData` is passed, but a dict when a less structured object is passed. This is probably because it's `singledispatched` under the hood, but IDK that this behaviour is great. I think it could make more sense for this to either:. * Always return an `AnnData`. * Throw an error if something other than an AnnData is passed in. A third option is that we document this behaviour, but I generally don't love it. There are other places that we do something like this, i.e. return a different type depending on the input. However, I feel like there's more of a loss of information here and less of an obvious return type. Maybe in future this could get a `return_type: type[AnnData] | type[Dict] | type[xr.Dataset] = AnnData` argument that controls what is returned? WDYT @ilan-gold @Intron7?",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2930
https://github.com/scverse/scanpy/issues/2930:1317,integrability,depend,depending,1317,"Return type of aggregate is inconsistent; ```python. import scanpy as sc. adata = sc.datasets.pbmc68k_reduced(). sc.get.aggregate(adata, by=""louvain"", func=""mean""). ```. ```. AnnData object with n_obs × n_vars = 11 × 765. obs: 'louvain'. var: 'n_counts', 'means', 'dispersions', 'dispersions_norm', 'highly_variable'. layers: 'mean'. ```. ```python. sc.get.aggregate(adata.obsm[""X_umap""], by=adata.obs[""louvain""].array, func=""mean""). ```. ```. {'mean': array([[ -6.18019123, -6.12846152],. [ -3.10995685, 8.4991954 ],. [ 6.30307056, -2.15245383],. [ -4.72268065, -3.24033642],. [-11.94002487, -5.39480163],. [ -1.39242794, 6.6239316 ],. [ 4.3991326 , -0.16749119],. [ 4.847834 , -9.30549509],. [-10.41891144, -1.15700949],. [ -7.91249486, -4.06782072],. [ 1.12418592, -6.94506866]])}. ```. So it returns an `AnnData` when an `AnnData` is passed, but a dict when a less structured object is passed. This is probably because it's `singledispatched` under the hood, but IDK that this behaviour is great. I think it could make more sense for this to either:. * Always return an `AnnData`. * Throw an error if something other than an AnnData is passed in. A third option is that we document this behaviour, but I generally don't love it. There are other places that we do something like this, i.e. return a different type depending on the input. However, I feel like there's more of a loss of information here and less of an obvious return type. Maybe in future this could get a `return_type: type[AnnData] | type[Dict] | type[xr.Dataset] = AnnData` argument that controls what is returned? WDYT @ilan-gold @Intron7?",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2930
https://github.com/scverse/scanpy/issues/2930:318,modifiability,layer,layers,318,"Return type of aggregate is inconsistent; ```python. import scanpy as sc. adata = sc.datasets.pbmc68k_reduced(). sc.get.aggregate(adata, by=""louvain"", func=""mean""). ```. ```. AnnData object with n_obs × n_vars = 11 × 765. obs: 'louvain'. var: 'n_counts', 'means', 'dispersions', 'dispersions_norm', 'highly_variable'. layers: 'mean'. ```. ```python. sc.get.aggregate(adata.obsm[""X_umap""], by=adata.obs[""louvain""].array, func=""mean""). ```. ```. {'mean': array([[ -6.18019123, -6.12846152],. [ -3.10995685, 8.4991954 ],. [ 6.30307056, -2.15245383],. [ -4.72268065, -3.24033642],. [-11.94002487, -5.39480163],. [ -1.39242794, 6.6239316 ],. [ 4.3991326 , -0.16749119],. [ 4.847834 , -9.30549509],. [-10.41891144, -1.15700949],. [ -7.91249486, -4.06782072],. [ 1.12418592, -6.94506866]])}. ```. So it returns an `AnnData` when an `AnnData` is passed, but a dict when a less structured object is passed. This is probably because it's `singledispatched` under the hood, but IDK that this behaviour is great. I think it could make more sense for this to either:. * Always return an `AnnData`. * Throw an error if something other than an AnnData is passed in. A third option is that we document this behaviour, but I generally don't love it. There are other places that we do something like this, i.e. return a different type depending on the input. However, I feel like there's more of a loss of information here and less of an obvious return type. Maybe in future this could get a `return_type: type[AnnData] | type[Dict] | type[xr.Dataset] = AnnData` argument that controls what is returned? WDYT @ilan-gold @Intron7?",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2930
https://github.com/scverse/scanpy/issues/2930:1317,modifiability,depend,depending,1317,"Return type of aggregate is inconsistent; ```python. import scanpy as sc. adata = sc.datasets.pbmc68k_reduced(). sc.get.aggregate(adata, by=""louvain"", func=""mean""). ```. ```. AnnData object with n_obs × n_vars = 11 × 765. obs: 'louvain'. var: 'n_counts', 'means', 'dispersions', 'dispersions_norm', 'highly_variable'. layers: 'mean'. ```. ```python. sc.get.aggregate(adata.obsm[""X_umap""], by=adata.obs[""louvain""].array, func=""mean""). ```. ```. {'mean': array([[ -6.18019123, -6.12846152],. [ -3.10995685, 8.4991954 ],. [ 6.30307056, -2.15245383],. [ -4.72268065, -3.24033642],. [-11.94002487, -5.39480163],. [ -1.39242794, 6.6239316 ],. [ 4.3991326 , -0.16749119],. [ 4.847834 , -9.30549509],. [-10.41891144, -1.15700949],. [ -7.91249486, -4.06782072],. [ 1.12418592, -6.94506866]])}. ```. So it returns an `AnnData` when an `AnnData` is passed, but a dict when a less structured object is passed. This is probably because it's `singledispatched` under the hood, but IDK that this behaviour is great. I think it could make more sense for this to either:. * Always return an `AnnData`. * Throw an error if something other than an AnnData is passed in. A third option is that we document this behaviour, but I generally don't love it. There are other places that we do something like this, i.e. return a different type depending on the input. However, I feel like there's more of a loss of information here and less of an obvious return type. Maybe in future this could get a `return_type: type[AnnData] | type[Dict] | type[xr.Dataset] = AnnData` argument that controls what is returned? WDYT @ilan-gold @Intron7?",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2930
https://github.com/scverse/scanpy/issues/2930:1096,performance,error,error,1096,"Return type of aggregate is inconsistent; ```python. import scanpy as sc. adata = sc.datasets.pbmc68k_reduced(). sc.get.aggregate(adata, by=""louvain"", func=""mean""). ```. ```. AnnData object with n_obs × n_vars = 11 × 765. obs: 'louvain'. var: 'n_counts', 'means', 'dispersions', 'dispersions_norm', 'highly_variable'. layers: 'mean'. ```. ```python. sc.get.aggregate(adata.obsm[""X_umap""], by=adata.obs[""louvain""].array, func=""mean""). ```. ```. {'mean': array([[ -6.18019123, -6.12846152],. [ -3.10995685, 8.4991954 ],. [ 6.30307056, -2.15245383],. [ -4.72268065, -3.24033642],. [-11.94002487, -5.39480163],. [ -1.39242794, 6.6239316 ],. [ 4.3991326 , -0.16749119],. [ 4.847834 , -9.30549509],. [-10.41891144, -1.15700949],. [ -7.91249486, -4.06782072],. [ 1.12418592, -6.94506866]])}. ```. So it returns an `AnnData` when an `AnnData` is passed, but a dict when a less structured object is passed. This is probably because it's `singledispatched` under the hood, but IDK that this behaviour is great. I think it could make more sense for this to either:. * Always return an `AnnData`. * Throw an error if something other than an AnnData is passed in. A third option is that we document this behaviour, but I generally don't love it. There are other places that we do something like this, i.e. return a different type depending on the input. However, I feel like there's more of a loss of information here and less of an obvious return type. Maybe in future this could get a `return_type: type[AnnData] | type[Dict] | type[xr.Dataset] = AnnData` argument that controls what is returned? WDYT @ilan-gold @Intron7?",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2930
https://github.com/scverse/scanpy/issues/2930:1096,safety,error,error,1096,"Return type of aggregate is inconsistent; ```python. import scanpy as sc. adata = sc.datasets.pbmc68k_reduced(). sc.get.aggregate(adata, by=""louvain"", func=""mean""). ```. ```. AnnData object with n_obs × n_vars = 11 × 765. obs: 'louvain'. var: 'n_counts', 'means', 'dispersions', 'dispersions_norm', 'highly_variable'. layers: 'mean'. ```. ```python. sc.get.aggregate(adata.obsm[""X_umap""], by=adata.obs[""louvain""].array, func=""mean""). ```. ```. {'mean': array([[ -6.18019123, -6.12846152],. [ -3.10995685, 8.4991954 ],. [ 6.30307056, -2.15245383],. [ -4.72268065, -3.24033642],. [-11.94002487, -5.39480163],. [ -1.39242794, 6.6239316 ],. [ 4.3991326 , -0.16749119],. [ 4.847834 , -9.30549509],. [-10.41891144, -1.15700949],. [ -7.91249486, -4.06782072],. [ 1.12418592, -6.94506866]])}. ```. So it returns an `AnnData` when an `AnnData` is passed, but a dict when a less structured object is passed. This is probably because it's `singledispatched` under the hood, but IDK that this behaviour is great. I think it could make more sense for this to either:. * Always return an `AnnData`. * Throw an error if something other than an AnnData is passed in. A third option is that we document this behaviour, but I generally don't love it. There are other places that we do something like this, i.e. return a different type depending on the input. However, I feel like there's more of a loss of information here and less of an obvious return type. Maybe in future this could get a `return_type: type[AnnData] | type[Dict] | type[xr.Dataset] = AnnData` argument that controls what is returned? WDYT @ilan-gold @Intron7?",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2930
https://github.com/scverse/scanpy/issues/2930:1317,safety,depend,depending,1317,"Return type of aggregate is inconsistent; ```python. import scanpy as sc. adata = sc.datasets.pbmc68k_reduced(). sc.get.aggregate(adata, by=""louvain"", func=""mean""). ```. ```. AnnData object with n_obs × n_vars = 11 × 765. obs: 'louvain'. var: 'n_counts', 'means', 'dispersions', 'dispersions_norm', 'highly_variable'. layers: 'mean'. ```. ```python. sc.get.aggregate(adata.obsm[""X_umap""], by=adata.obs[""louvain""].array, func=""mean""). ```. ```. {'mean': array([[ -6.18019123, -6.12846152],. [ -3.10995685, 8.4991954 ],. [ 6.30307056, -2.15245383],. [ -4.72268065, -3.24033642],. [-11.94002487, -5.39480163],. [ -1.39242794, 6.6239316 ],. [ 4.3991326 , -0.16749119],. [ 4.847834 , -9.30549509],. [-10.41891144, -1.15700949],. [ -7.91249486, -4.06782072],. [ 1.12418592, -6.94506866]])}. ```. So it returns an `AnnData` when an `AnnData` is passed, but a dict when a less structured object is passed. This is probably because it's `singledispatched` under the hood, but IDK that this behaviour is great. I think it could make more sense for this to either:. * Always return an `AnnData`. * Throw an error if something other than an AnnData is passed in. A third option is that we document this behaviour, but I generally don't love it. There are other places that we do something like this, i.e. return a different type depending on the input. However, I feel like there's more of a loss of information here and less of an obvious return type. Maybe in future this could get a `return_type: type[AnnData] | type[Dict] | type[xr.Dataset] = AnnData` argument that controls what is returned? WDYT @ilan-gold @Intron7?",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2930
https://github.com/scverse/scanpy/issues/2930:1334,safety,input,input,1334,"Return type of aggregate is inconsistent; ```python. import scanpy as sc. adata = sc.datasets.pbmc68k_reduced(). sc.get.aggregate(adata, by=""louvain"", func=""mean""). ```. ```. AnnData object with n_obs × n_vars = 11 × 765. obs: 'louvain'. var: 'n_counts', 'means', 'dispersions', 'dispersions_norm', 'highly_variable'. layers: 'mean'. ```. ```python. sc.get.aggregate(adata.obsm[""X_umap""], by=adata.obs[""louvain""].array, func=""mean""). ```. ```. {'mean': array([[ -6.18019123, -6.12846152],. [ -3.10995685, 8.4991954 ],. [ 6.30307056, -2.15245383],. [ -4.72268065, -3.24033642],. [-11.94002487, -5.39480163],. [ -1.39242794, 6.6239316 ],. [ 4.3991326 , -0.16749119],. [ 4.847834 , -9.30549509],. [-10.41891144, -1.15700949],. [ -7.91249486, -4.06782072],. [ 1.12418592, -6.94506866]])}. ```. So it returns an `AnnData` when an `AnnData` is passed, but a dict when a less structured object is passed. This is probably because it's `singledispatched` under the hood, but IDK that this behaviour is great. I think it could make more sense for this to either:. * Always return an `AnnData`. * Throw an error if something other than an AnnData is passed in. A third option is that we document this behaviour, but I generally don't love it. There are other places that we do something like this, i.e. return a different type depending on the input. However, I feel like there's more of a loss of information here and less of an obvious return type. Maybe in future this could get a `return_type: type[AnnData] | type[Dict] | type[xr.Dataset] = AnnData` argument that controls what is returned? WDYT @ilan-gold @Intron7?",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2930
https://github.com/scverse/scanpy/issues/2930:1380,security,loss,loss,1380,"Return type of aggregate is inconsistent; ```python. import scanpy as sc. adata = sc.datasets.pbmc68k_reduced(). sc.get.aggregate(adata, by=""louvain"", func=""mean""). ```. ```. AnnData object with n_obs × n_vars = 11 × 765. obs: 'louvain'. var: 'n_counts', 'means', 'dispersions', 'dispersions_norm', 'highly_variable'. layers: 'mean'. ```. ```python. sc.get.aggregate(adata.obsm[""X_umap""], by=adata.obs[""louvain""].array, func=""mean""). ```. ```. {'mean': array([[ -6.18019123, -6.12846152],. [ -3.10995685, 8.4991954 ],. [ 6.30307056, -2.15245383],. [ -4.72268065, -3.24033642],. [-11.94002487, -5.39480163],. [ -1.39242794, 6.6239316 ],. [ 4.3991326 , -0.16749119],. [ 4.847834 , -9.30549509],. [-10.41891144, -1.15700949],. [ -7.91249486, -4.06782072],. [ 1.12418592, -6.94506866]])}. ```. So it returns an `AnnData` when an `AnnData` is passed, but a dict when a less structured object is passed. This is probably because it's `singledispatched` under the hood, but IDK that this behaviour is great. I think it could make more sense for this to either:. * Always return an `AnnData`. * Throw an error if something other than an AnnData is passed in. A third option is that we document this behaviour, but I generally don't love it. There are other places that we do something like this, i.e. return a different type depending on the input. However, I feel like there's more of a loss of information here and less of an obvious return type. Maybe in future this could get a `return_type: type[AnnData] | type[Dict] | type[xr.Dataset] = AnnData` argument that controls what is returned? WDYT @ilan-gold @Intron7?",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2930
https://github.com/scverse/scanpy/issues/2930:1559,security,control,controls,1559,"Return type of aggregate is inconsistent; ```python. import scanpy as sc. adata = sc.datasets.pbmc68k_reduced(). sc.get.aggregate(adata, by=""louvain"", func=""mean""). ```. ```. AnnData object with n_obs × n_vars = 11 × 765. obs: 'louvain'. var: 'n_counts', 'means', 'dispersions', 'dispersions_norm', 'highly_variable'. layers: 'mean'. ```. ```python. sc.get.aggregate(adata.obsm[""X_umap""], by=adata.obs[""louvain""].array, func=""mean""). ```. ```. {'mean': array([[ -6.18019123, -6.12846152],. [ -3.10995685, 8.4991954 ],. [ 6.30307056, -2.15245383],. [ -4.72268065, -3.24033642],. [-11.94002487, -5.39480163],. [ -1.39242794, 6.6239316 ],. [ 4.3991326 , -0.16749119],. [ 4.847834 , -9.30549509],. [-10.41891144, -1.15700949],. [ -7.91249486, -4.06782072],. [ 1.12418592, -6.94506866]])}. ```. So it returns an `AnnData` when an `AnnData` is passed, but a dict when a less structured object is passed. This is probably because it's `singledispatched` under the hood, but IDK that this behaviour is great. I think it could make more sense for this to either:. * Always return an `AnnData`. * Throw an error if something other than an AnnData is passed in. A third option is that we document this behaviour, but I generally don't love it. There are other places that we do something like this, i.e. return a different type depending on the input. However, I feel like there's more of a loss of information here and less of an obvious return type. Maybe in future this could get a `return_type: type[AnnData] | type[Dict] | type[xr.Dataset] = AnnData` argument that controls what is returned? WDYT @ilan-gold @Intron7?",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2930
https://github.com/scverse/scanpy/issues/2930:1317,testability,depend,depending,1317,"Return type of aggregate is inconsistent; ```python. import scanpy as sc. adata = sc.datasets.pbmc68k_reduced(). sc.get.aggregate(adata, by=""louvain"", func=""mean""). ```. ```. AnnData object with n_obs × n_vars = 11 × 765. obs: 'louvain'. var: 'n_counts', 'means', 'dispersions', 'dispersions_norm', 'highly_variable'. layers: 'mean'. ```. ```python. sc.get.aggregate(adata.obsm[""X_umap""], by=adata.obs[""louvain""].array, func=""mean""). ```. ```. {'mean': array([[ -6.18019123, -6.12846152],. [ -3.10995685, 8.4991954 ],. [ 6.30307056, -2.15245383],. [ -4.72268065, -3.24033642],. [-11.94002487, -5.39480163],. [ -1.39242794, 6.6239316 ],. [ 4.3991326 , -0.16749119],. [ 4.847834 , -9.30549509],. [-10.41891144, -1.15700949],. [ -7.91249486, -4.06782072],. [ 1.12418592, -6.94506866]])}. ```. So it returns an `AnnData` when an `AnnData` is passed, but a dict when a less structured object is passed. This is probably because it's `singledispatched` under the hood, but IDK that this behaviour is great. I think it could make more sense for this to either:. * Always return an `AnnData`. * Throw an error if something other than an AnnData is passed in. A third option is that we document this behaviour, but I generally don't love it. There are other places that we do something like this, i.e. return a different type depending on the input. However, I feel like there's more of a loss of information here and less of an obvious return type. Maybe in future this could get a `return_type: type[AnnData] | type[Dict] | type[xr.Dataset] = AnnData` argument that controls what is returned? WDYT @ilan-gold @Intron7?",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2930
https://github.com/scverse/scanpy/issues/2930:1559,testability,control,controls,1559,"Return type of aggregate is inconsistent; ```python. import scanpy as sc. adata = sc.datasets.pbmc68k_reduced(). sc.get.aggregate(adata, by=""louvain"", func=""mean""). ```. ```. AnnData object with n_obs × n_vars = 11 × 765. obs: 'louvain'. var: 'n_counts', 'means', 'dispersions', 'dispersions_norm', 'highly_variable'. layers: 'mean'. ```. ```python. sc.get.aggregate(adata.obsm[""X_umap""], by=adata.obs[""louvain""].array, func=""mean""). ```. ```. {'mean': array([[ -6.18019123, -6.12846152],. [ -3.10995685, 8.4991954 ],. [ 6.30307056, -2.15245383],. [ -4.72268065, -3.24033642],. [-11.94002487, -5.39480163],. [ -1.39242794, 6.6239316 ],. [ 4.3991326 , -0.16749119],. [ 4.847834 , -9.30549509],. [-10.41891144, -1.15700949],. [ -7.91249486, -4.06782072],. [ 1.12418592, -6.94506866]])}. ```. So it returns an `AnnData` when an `AnnData` is passed, but a dict when a less structured object is passed. This is probably because it's `singledispatched` under the hood, but IDK that this behaviour is great. I think it could make more sense for this to either:. * Always return an `AnnData`. * Throw an error if something other than an AnnData is passed in. A third option is that we document this behaviour, but I generally don't love it. There are other places that we do something like this, i.e. return a different type depending on the input. However, I feel like there's more of a loss of information here and less of an obvious return type. Maybe in future this could get a `return_type: type[AnnData] | type[Dict] | type[xr.Dataset] = AnnData` argument that controls what is returned? WDYT @ilan-gold @Intron7?",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2930
https://github.com/scverse/scanpy/issues/2930:981,usability,behavi,behaviour,981,"Return type of aggregate is inconsistent; ```python. import scanpy as sc. adata = sc.datasets.pbmc68k_reduced(). sc.get.aggregate(adata, by=""louvain"", func=""mean""). ```. ```. AnnData object with n_obs × n_vars = 11 × 765. obs: 'louvain'. var: 'n_counts', 'means', 'dispersions', 'dispersions_norm', 'highly_variable'. layers: 'mean'. ```. ```python. sc.get.aggregate(adata.obsm[""X_umap""], by=adata.obs[""louvain""].array, func=""mean""). ```. ```. {'mean': array([[ -6.18019123, -6.12846152],. [ -3.10995685, 8.4991954 ],. [ 6.30307056, -2.15245383],. [ -4.72268065, -3.24033642],. [-11.94002487, -5.39480163],. [ -1.39242794, 6.6239316 ],. [ 4.3991326 , -0.16749119],. [ 4.847834 , -9.30549509],. [-10.41891144, -1.15700949],. [ -7.91249486, -4.06782072],. [ 1.12418592, -6.94506866]])}. ```. So it returns an `AnnData` when an `AnnData` is passed, but a dict when a less structured object is passed. This is probably because it's `singledispatched` under the hood, but IDK that this behaviour is great. I think it could make more sense for this to either:. * Always return an `AnnData`. * Throw an error if something other than an AnnData is passed in. A third option is that we document this behaviour, but I generally don't love it. There are other places that we do something like this, i.e. return a different type depending on the input. However, I feel like there's more of a loss of information here and less of an obvious return type. Maybe in future this could get a `return_type: type[AnnData] | type[Dict] | type[xr.Dataset] = AnnData` argument that controls what is returned? WDYT @ilan-gold @Intron7?",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2930
https://github.com/scverse/scanpy/issues/2930:1096,usability,error,error,1096,"Return type of aggregate is inconsistent; ```python. import scanpy as sc. adata = sc.datasets.pbmc68k_reduced(). sc.get.aggregate(adata, by=""louvain"", func=""mean""). ```. ```. AnnData object with n_obs × n_vars = 11 × 765. obs: 'louvain'. var: 'n_counts', 'means', 'dispersions', 'dispersions_norm', 'highly_variable'. layers: 'mean'. ```. ```python. sc.get.aggregate(adata.obsm[""X_umap""], by=adata.obs[""louvain""].array, func=""mean""). ```. ```. {'mean': array([[ -6.18019123, -6.12846152],. [ -3.10995685, 8.4991954 ],. [ 6.30307056, -2.15245383],. [ -4.72268065, -3.24033642],. [-11.94002487, -5.39480163],. [ -1.39242794, 6.6239316 ],. [ 4.3991326 , -0.16749119],. [ 4.847834 , -9.30549509],. [-10.41891144, -1.15700949],. [ -7.91249486, -4.06782072],. [ 1.12418592, -6.94506866]])}. ```. So it returns an `AnnData` when an `AnnData` is passed, but a dict when a less structured object is passed. This is probably because it's `singledispatched` under the hood, but IDK that this behaviour is great. I think it could make more sense for this to either:. * Always return an `AnnData`. * Throw an error if something other than an AnnData is passed in. A third option is that we document this behaviour, but I generally don't love it. There are other places that we do something like this, i.e. return a different type depending on the input. However, I feel like there's more of a loss of information here and less of an obvious return type. Maybe in future this could get a `return_type: type[AnnData] | type[Dict] | type[xr.Dataset] = AnnData` argument that controls what is returned? WDYT @ilan-gold @Intron7?",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2930
https://github.com/scverse/scanpy/issues/2930:1177,usability,document,document,1177,"Return type of aggregate is inconsistent; ```python. import scanpy as sc. adata = sc.datasets.pbmc68k_reduced(). sc.get.aggregate(adata, by=""louvain"", func=""mean""). ```. ```. AnnData object with n_obs × n_vars = 11 × 765. obs: 'louvain'. var: 'n_counts', 'means', 'dispersions', 'dispersions_norm', 'highly_variable'. layers: 'mean'. ```. ```python. sc.get.aggregate(adata.obsm[""X_umap""], by=adata.obs[""louvain""].array, func=""mean""). ```. ```. {'mean': array([[ -6.18019123, -6.12846152],. [ -3.10995685, 8.4991954 ],. [ 6.30307056, -2.15245383],. [ -4.72268065, -3.24033642],. [-11.94002487, -5.39480163],. [ -1.39242794, 6.6239316 ],. [ 4.3991326 , -0.16749119],. [ 4.847834 , -9.30549509],. [-10.41891144, -1.15700949],. [ -7.91249486, -4.06782072],. [ 1.12418592, -6.94506866]])}. ```. So it returns an `AnnData` when an `AnnData` is passed, but a dict when a less structured object is passed. This is probably because it's `singledispatched` under the hood, but IDK that this behaviour is great. I think it could make more sense for this to either:. * Always return an `AnnData`. * Throw an error if something other than an AnnData is passed in. A third option is that we document this behaviour, but I generally don't love it. There are other places that we do something like this, i.e. return a different type depending on the input. However, I feel like there's more of a loss of information here and less of an obvious return type. Maybe in future this could get a `return_type: type[AnnData] | type[Dict] | type[xr.Dataset] = AnnData` argument that controls what is returned? WDYT @ilan-gold @Intron7?",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2930
https://github.com/scverse/scanpy/issues/2930:1191,usability,behavi,behaviour,1191,"Return type of aggregate is inconsistent; ```python. import scanpy as sc. adata = sc.datasets.pbmc68k_reduced(). sc.get.aggregate(adata, by=""louvain"", func=""mean""). ```. ```. AnnData object with n_obs × n_vars = 11 × 765. obs: 'louvain'. var: 'n_counts', 'means', 'dispersions', 'dispersions_norm', 'highly_variable'. layers: 'mean'. ```. ```python. sc.get.aggregate(adata.obsm[""X_umap""], by=adata.obs[""louvain""].array, func=""mean""). ```. ```. {'mean': array([[ -6.18019123, -6.12846152],. [ -3.10995685, 8.4991954 ],. [ 6.30307056, -2.15245383],. [ -4.72268065, -3.24033642],. [-11.94002487, -5.39480163],. [ -1.39242794, 6.6239316 ],. [ 4.3991326 , -0.16749119],. [ 4.847834 , -9.30549509],. [-10.41891144, -1.15700949],. [ -7.91249486, -4.06782072],. [ 1.12418592, -6.94506866]])}. ```. So it returns an `AnnData` when an `AnnData` is passed, but a dict when a less structured object is passed. This is probably because it's `singledispatched` under the hood, but IDK that this behaviour is great. I think it could make more sense for this to either:. * Always return an `AnnData`. * Throw an error if something other than an AnnData is passed in. A third option is that we document this behaviour, but I generally don't love it. There are other places that we do something like this, i.e. return a different type depending on the input. However, I feel like there's more of a loss of information here and less of an obvious return type. Maybe in future this could get a `return_type: type[AnnData] | type[Dict] | type[xr.Dataset] = AnnData` argument that controls what is returned? WDYT @ilan-gold @Intron7?",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2930
https://github.com/scverse/scanpy/issues/2930:1334,usability,input,input,1334,"Return type of aggregate is inconsistent; ```python. import scanpy as sc. adata = sc.datasets.pbmc68k_reduced(). sc.get.aggregate(adata, by=""louvain"", func=""mean""). ```. ```. AnnData object with n_obs × n_vars = 11 × 765. obs: 'louvain'. var: 'n_counts', 'means', 'dispersions', 'dispersions_norm', 'highly_variable'. layers: 'mean'. ```. ```python. sc.get.aggregate(adata.obsm[""X_umap""], by=adata.obs[""louvain""].array, func=""mean""). ```. ```. {'mean': array([[ -6.18019123, -6.12846152],. [ -3.10995685, 8.4991954 ],. [ 6.30307056, -2.15245383],. [ -4.72268065, -3.24033642],. [-11.94002487, -5.39480163],. [ -1.39242794, 6.6239316 ],. [ 4.3991326 , -0.16749119],. [ 4.847834 , -9.30549509],. [-10.41891144, -1.15700949],. [ -7.91249486, -4.06782072],. [ 1.12418592, -6.94506866]])}. ```. So it returns an `AnnData` when an `AnnData` is passed, but a dict when a less structured object is passed. This is probably because it's `singledispatched` under the hood, but IDK that this behaviour is great. I think it could make more sense for this to either:. * Always return an `AnnData`. * Throw an error if something other than an AnnData is passed in. A third option is that we document this behaviour, but I generally don't love it. There are other places that we do something like this, i.e. return a different type depending on the input. However, I feel like there's more of a loss of information here and less of an obvious return type. Maybe in future this could get a `return_type: type[AnnData] | type[Dict] | type[xr.Dataset] = AnnData` argument that controls what is returned? WDYT @ilan-gold @Intron7?",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2930
https://github.com/scverse/scanpy/issues/2931:279,security,expos,expose,279,"Docs for aggregate are incorrect; . ![screenshot](https://github.com/scverse/scanpy/assets/8238804/5d21ca96-6186-4fee-8a40-fe258f7722d3). The latter sentences of this docstring are totally incorrect, plus `AggType` is just an alias for the string literal values and isn't one we expose to users.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2931
https://github.com/scverse/scanpy/issues/2931:289,usability,user,users,289,"Docs for aggregate are incorrect; . ![screenshot](https://github.com/scverse/scanpy/assets/8238804/5d21ca96-6186-4fee-8a40-fe258f7722d3). The latter sentences of this docstring are totally incorrect, plus `AggType` is just an alias for the string literal values and isn't one we expose to users.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2931
https://github.com/scverse/scanpy/pull/2932:469,deployability,releas,release,469,Remove incorrect docs for aggregate; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2931. - [x] Tests included or not required because: doc change. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: No release yet.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2932
https://github.com/scverse/scanpy/pull/2932:494,deployability,Releas,Release,494,Remove incorrect docs for aggregate; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2931. - [x] Tests included or not required because: doc change. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: No release yet.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2932
https://github.com/scverse/scanpy/pull/2932:534,deployability,releas,release,534,Remove incorrect docs for aggregate; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2931. - [x] Tests included or not required because: doc change. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: No release yet.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2932
https://github.com/scverse/scanpy/pull/2932:256,safety,review,review,256,Remove incorrect docs for aggregate; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2931. - [x] Tests included or not required because: doc change. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: No release yet.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2932
https://github.com/scverse/scanpy/pull/2932:360,safety,Test,Tests,360,Remove incorrect docs for aggregate; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2931. - [x] Tests included or not required because: doc change. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: No release yet.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2932
https://github.com/scverse/scanpy/pull/2932:256,testability,review,review,256,Remove incorrect docs for aggregate; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2931. - [x] Tests included or not required because: doc change. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: No release yet.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2932
https://github.com/scverse/scanpy/pull/2932:360,testability,Test,Tests,360,Remove incorrect docs for aggregate; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2931. - [x] Tests included or not required because: doc change. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: No release yet.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2932
https://github.com/scverse/scanpy/pull/2932:107,usability,guid,guidelines,107,Remove incorrect docs for aggregate; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2931. - [x] Tests included or not required because: doc change. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: No release yet.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2932
https://github.com/scverse/scanpy/pull/2932:138,usability,guid,guide,138,Remove incorrect docs for aggregate; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2931. - [x] Tests included or not required because: doc change. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: No release yet.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2932
https://github.com/scverse/scanpy/pull/2932:234,usability,workflow,workflow,234,Remove incorrect docs for aggregate; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2931. - [x] Tests included or not required because: doc change. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: No release yet.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2932
https://github.com/scverse/scanpy/pull/2932:340,usability,Close,Closes,340,Remove incorrect docs for aggregate; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2931. - [x] Tests included or not required because: doc change. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: No release yet.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2932
https://github.com/scverse/scanpy/pull/2934:449,deployability,releas,release,449,Fix aggregating obsm/ varm; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2929. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: Fixes a bug that wasn't in a release.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2934
https://github.com/scverse/scanpy/pull/2934:474,deployability,Releas,Release,474,Fix aggregating obsm/ varm; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2929. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: Fixes a bug that wasn't in a release.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2934
https://github.com/scverse/scanpy/pull/2934:540,deployability,releas,release,540,Fix aggregating obsm/ varm; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2929. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: Fixes a bug that wasn't in a release.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2934
https://github.com/scverse/scanpy/pull/2934:247,safety,review,review,247,Fix aggregating obsm/ varm; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2929. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: Fixes a bug that wasn't in a release.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2934
https://github.com/scverse/scanpy/pull/2934:351,safety,Test,Tests,351,Fix aggregating obsm/ varm; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2929. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: Fixes a bug that wasn't in a release.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2934
https://github.com/scverse/scanpy/pull/2934:247,testability,review,review,247,Fix aggregating obsm/ varm; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2929. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: Fixes a bug that wasn't in a release.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2934
https://github.com/scverse/scanpy/pull/2934:351,testability,Test,Tests,351,Fix aggregating obsm/ varm; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2929. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: Fixes a bug that wasn't in a release.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2934
https://github.com/scverse/scanpy/pull/2934:98,usability,guid,guidelines,98,Fix aggregating obsm/ varm; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2929. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: Fixes a bug that wasn't in a release.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2934
https://github.com/scverse/scanpy/pull/2934:129,usability,guid,guide,129,Fix aggregating obsm/ varm; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2929. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: Fixes a bug that wasn't in a release.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2934
https://github.com/scverse/scanpy/pull/2934:225,usability,workflow,workflow,225,Fix aggregating obsm/ varm; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2929. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: Fixes a bug that wasn't in a release.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2934
https://github.com/scverse/scanpy/pull/2934:331,usability,Close,Closes,331,Fix aggregating obsm/ varm; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2929. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: Fixes a bug that wasn't in a release.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2934
https://github.com/scverse/scanpy/pull/2936:423,deployability,releas,release,423,Test; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2936
https://github.com/scverse/scanpy/pull/2936:448,deployability,Releas,Release,448,Test; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2936
https://github.com/scverse/scanpy/pull/2936:0,safety,Test,Test,0,Test; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2936
https://github.com/scverse/scanpy/pull/2936:225,safety,review,review,225,Test; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2936
https://github.com/scverse/scanpy/pull/2936:325,safety,Test,Tests,325,Test; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2936
https://github.com/scverse/scanpy/pull/2936:0,testability,Test,Test,0,Test; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2936
https://github.com/scverse/scanpy/pull/2936:225,testability,review,review,225,Test; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2936
https://github.com/scverse/scanpy/pull/2936:325,testability,Test,Tests,325,Test; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2936
https://github.com/scverse/scanpy/pull/2936:76,usability,guid,guidelines,76,Test; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2936
https://github.com/scverse/scanpy/pull/2936:107,usability,guid,guide,107,Test; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2936
https://github.com/scverse/scanpy/pull/2936:203,usability,workflow,workflow,203,Test; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2936
https://github.com/scverse/scanpy/pull/2936:309,usability,Close,Closes,309,Test; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2936
https://github.com/scverse/scanpy/issues/2937:107,modifiability,paramet,parameters,107,"`calculate_qc_metrics` for `dask`; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. It would appear that the main blocker for `calculate_qc_metrics` being dask-ified is the fact that the calculation of top proportions is complicated and not easily dask-able. So at the minimum, we can skip that and then do the rest of the computations which should be trivial.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2937
https://github.com/scverse/scanpy/issues/2937:332,safety,compl,complicated,332,"`calculate_qc_metrics` for `dask`; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. It would appear that the main blocker for `calculate_qc_metrics` being dask-ified is the fact that the calculation of top proportions is complicated and not easily dask-able. So at the minimum, we can skip that and then do the rest of the computations which should be trivial.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2937
https://github.com/scverse/scanpy/issues/2937:332,security,compl,complicated,332,"`calculate_qc_metrics` for `dask`; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. It would appear that the main blocker for `calculate_qc_metrics` being dask-ified is the fact that the calculation of top proportions is complicated and not easily dask-able. So at the minimum, we can skip that and then do the rest of the computations which should be trivial.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2937
https://github.com/scverse/scanpy/issues/2937:380,usability,minim,minimum,380,"`calculate_qc_metrics` for `dask`; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. It would appear that the main blocker for `calculate_qc_metrics` being dask-ified is the fact that the calculation of top proportions is complicated and not easily dask-able. So at the minimum, we can skip that and then do the rest of the computations which should be trivial.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2937
https://github.com/scverse/scanpy/issues/2938:78,testability,simpl,simple,78,"NMF; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I've thought for a while that we should have NMF in scanpy (https://github.com/scverse/scanpy/pull/941). But it's always been pretty trivial to implement, so not that much work for someone to cover.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2938
https://github.com/scverse/scanpy/issues/2938:70,usability,tool,tool,70,"NMF; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I've thought for a while that we should have NMF in scanpy (https://github.com/scverse/scanpy/pull/941). But it's always been pretty trivial to implement, so not that much work for someone to cover.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2938
https://github.com/scverse/scanpy/issues/2938:78,usability,simpl,simple,78,"NMF; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I've thought for a while that we should have NMF in scanpy (https://github.com/scverse/scanpy/pull/941). But it's always been pretty trivial to implement, so not that much work for someone to cover.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2938
https://github.com/scverse/scanpy/issues/2938:94,usability,tool,tool,94,"NMF; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I've thought for a while that we should have NMF in scanpy (https://github.com/scverse/scanpy/pull/941). But it's always been pretty trivial to implement, so not that much work for someone to cover.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2938
https://github.com/scverse/scanpy/issues/2938:142,usability,tool,tools,142,"NMF; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I've thought for a while that we should have NMF in scanpy (https://github.com/scverse/scanpy/pull/941). But it's always been pretty trivial to implement, so not that much work for someone to cover.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2938
https://github.com/scverse/scanpy/issues/2939:631,deployability,modul,modules,631,"NMF; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I've thought for a while that we should have NMF in scanpy (https://github.com/scverse/scanpy/pull/941). But it's always been pretty trivial to implement, so not that much work for someone to cover. But now that we're increasing the amount of out of core support in scanpy I think we can offer a lot more value here with out-of-core NMF support. I would suggest we start with a simple [`sklearn.decompositions.NMF`](https://scikit-learn.org/stable/modules/generated/sklearn.decomposition.NMF.html) wrapper for in memory datasets. . For out of core implementations, it'll be a bit more work. Some thoughts:. * `sklearn` offers `MiniBatchNMF` which allows updating by batch. While this is out of core, it's effectively serial and may not scale well with increasing compute. * But there are [many distributed NMF implementations out there](https://www.google.com/search?client=safari&rls=en&q=distributed+nmf&ie=UTF-8&oe=UTF-8) (including GPU specific ones, which is relevant for rapids-singlecell). * It would be nice to upstream whatever we do to dask-ml (https://github.com/dask/dask-ml/issues/96), maybe cuml",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2939
https://github.com/scverse/scanpy/issues/2939:837,deployability,updat,updating,837,"NMF; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I've thought for a while that we should have NMF in scanpy (https://github.com/scverse/scanpy/pull/941). But it's always been pretty trivial to implement, so not that much work for someone to cover. But now that we're increasing the amount of out of core support in scanpy I think we can offer a lot more value here with out-of-core NMF support. I would suggest we start with a simple [`sklearn.decompositions.NMF`](https://scikit-learn.org/stable/modules/generated/sklearn.decomposition.NMF.html) wrapper for in memory datasets. . For out of core implementations, it'll be a bit more work. Some thoughts:. * `sklearn` offers `MiniBatchNMF` which allows updating by batch. While this is out of core, it's effectively serial and may not scale well with increasing compute. * But there are [many distributed NMF implementations out there](https://www.google.com/search?client=safari&rls=en&q=distributed+nmf&ie=UTF-8&oe=UTF-8) (including GPU specific ones, which is relevant for rapids-singlecell). * It would be nice to upstream whatever we do to dask-ml (https://github.com/dask/dask-ml/issues/96), maybe cuml",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2939
https://github.com/scverse/scanpy/issues/2939:919,deployability,scale,scale,919,"NMF; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I've thought for a while that we should have NMF in scanpy (https://github.com/scverse/scanpy/pull/941). But it's always been pretty trivial to implement, so not that much work for someone to cover. But now that we're increasing the amount of out of core support in scanpy I think we can offer a lot more value here with out-of-core NMF support. I would suggest we start with a simple [`sklearn.decompositions.NMF`](https://scikit-learn.org/stable/modules/generated/sklearn.decomposition.NMF.html) wrapper for in memory datasets. . For out of core implementations, it'll be a bit more work. Some thoughts:. * `sklearn` offers `MiniBatchNMF` which allows updating by batch. While this is out of core, it's effectively serial and may not scale well with increasing compute. * But there are [many distributed NMF implementations out there](https://www.google.com/search?client=safari&rls=en&q=distributed+nmf&ie=UTF-8&oe=UTF-8) (including GPU specific ones, which is relevant for rapids-singlecell). * It would be nice to upstream whatever we do to dask-ml (https://github.com/dask/dask-ml/issues/96), maybe cuml",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2939
https://github.com/scverse/scanpy/issues/2939:433,energy efficiency,core,core,433,"NMF; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I've thought for a while that we should have NMF in scanpy (https://github.com/scverse/scanpy/pull/941). But it's always been pretty trivial to implement, so not that much work for someone to cover. But now that we're increasing the amount of out of core support in scanpy I think we can offer a lot more value here with out-of-core NMF support. I would suggest we start with a simple [`sklearn.decompositions.NMF`](https://scikit-learn.org/stable/modules/generated/sklearn.decomposition.NMF.html) wrapper for in memory datasets. . For out of core implementations, it'll be a bit more work. Some thoughts:. * `sklearn` offers `MiniBatchNMF` which allows updating by batch. While this is out of core, it's effectively serial and may not scale well with increasing compute. * But there are [many distributed NMF implementations out there](https://www.google.com/search?client=safari&rls=en&q=distributed+nmf&ie=UTF-8&oe=UTF-8) (including GPU specific ones, which is relevant for rapids-singlecell). * It would be nice to upstream whatever we do to dask-ml (https://github.com/dask/dask-ml/issues/96), maybe cuml",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2939
https://github.com/scverse/scanpy/issues/2939:511,energy efficiency,core,core,511,"NMF; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I've thought for a while that we should have NMF in scanpy (https://github.com/scverse/scanpy/pull/941). But it's always been pretty trivial to implement, so not that much work for someone to cover. But now that we're increasing the amount of out of core support in scanpy I think we can offer a lot more value here with out-of-core NMF support. I would suggest we start with a simple [`sklearn.decompositions.NMF`](https://scikit-learn.org/stable/modules/generated/sklearn.decomposition.NMF.html) wrapper for in memory datasets. . For out of core implementations, it'll be a bit more work. Some thoughts:. * `sklearn` offers `MiniBatchNMF` which allows updating by batch. While this is out of core, it's effectively serial and may not scale well with increasing compute. * But there are [many distributed NMF implementations out there](https://www.google.com/search?client=safari&rls=en&q=distributed+nmf&ie=UTF-8&oe=UTF-8) (including GPU specific ones, which is relevant for rapids-singlecell). * It would be nice to upstream whatever we do to dask-ml (https://github.com/dask/dask-ml/issues/96), maybe cuml",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2939
https://github.com/scverse/scanpy/issues/2939:726,energy efficiency,core,core,726,"NMF; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I've thought for a while that we should have NMF in scanpy (https://github.com/scverse/scanpy/pull/941). But it's always been pretty trivial to implement, so not that much work for someone to cover. But now that we're increasing the amount of out of core support in scanpy I think we can offer a lot more value here with out-of-core NMF support. I would suggest we start with a simple [`sklearn.decompositions.NMF`](https://scikit-learn.org/stable/modules/generated/sklearn.decomposition.NMF.html) wrapper for in memory datasets. . For out of core implementations, it'll be a bit more work. Some thoughts:. * `sklearn` offers `MiniBatchNMF` which allows updating by batch. While this is out of core, it's effectively serial and may not scale well with increasing compute. * But there are [many distributed NMF implementations out there](https://www.google.com/search?client=safari&rls=en&q=distributed+nmf&ie=UTF-8&oe=UTF-8) (including GPU specific ones, which is relevant for rapids-singlecell). * It would be nice to upstream whatever we do to dask-ml (https://github.com/dask/dask-ml/issues/96), maybe cuml",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2939
https://github.com/scverse/scanpy/issues/2939:877,energy efficiency,core,core,877,"NMF; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I've thought for a while that we should have NMF in scanpy (https://github.com/scverse/scanpy/pull/941). But it's always been pretty trivial to implement, so not that much work for someone to cover. But now that we're increasing the amount of out of core support in scanpy I think we can offer a lot more value here with out-of-core NMF support. I would suggest we start with a simple [`sklearn.decompositions.NMF`](https://scikit-learn.org/stable/modules/generated/sklearn.decomposition.NMF.html) wrapper for in memory datasets. . For out of core implementations, it'll be a bit more work. Some thoughts:. * `sklearn` offers `MiniBatchNMF` which allows updating by batch. While this is out of core, it's effectively serial and may not scale well with increasing compute. * But there are [many distributed NMF implementations out there](https://www.google.com/search?client=safari&rls=en&q=distributed+nmf&ie=UTF-8&oe=UTF-8) (including GPU specific ones, which is relevant for rapids-singlecell). * It would be nice to upstream whatever we do to dask-ml (https://github.com/dask/dask-ml/issues/96), maybe cuml",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2939
https://github.com/scverse/scanpy/issues/2939:919,energy efficiency,scale,scale,919,"NMF; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I've thought for a while that we should have NMF in scanpy (https://github.com/scverse/scanpy/pull/941). But it's always been pretty trivial to implement, so not that much work for someone to cover. But now that we're increasing the amount of out of core support in scanpy I think we can offer a lot more value here with out-of-core NMF support. I would suggest we start with a simple [`sklearn.decompositions.NMF`](https://scikit-learn.org/stable/modules/generated/sklearn.decomposition.NMF.html) wrapper for in memory datasets. . For out of core implementations, it'll be a bit more work. Some thoughts:. * `sklearn` offers `MiniBatchNMF` which allows updating by batch. While this is out of core, it's effectively serial and may not scale well with increasing compute. * But there are [many distributed NMF implementations out there](https://www.google.com/search?client=safari&rls=en&q=distributed+nmf&ie=UTF-8&oe=UTF-8) (including GPU specific ones, which is relevant for rapids-singlecell). * It would be nice to upstream whatever we do to dask-ml (https://github.com/dask/dask-ml/issues/96), maybe cuml",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2939
https://github.com/scverse/scanpy/issues/2939:1119,energy efficiency,GPU,GPU,1119,"NMF; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I've thought for a while that we should have NMF in scanpy (https://github.com/scverse/scanpy/pull/941). But it's always been pretty trivial to implement, so not that much work for someone to cover. But now that we're increasing the amount of out of core support in scanpy I think we can offer a lot more value here with out-of-core NMF support. I would suggest we start with a simple [`sklearn.decompositions.NMF`](https://scikit-learn.org/stable/modules/generated/sklearn.decomposition.NMF.html) wrapper for in memory datasets. . For out of core implementations, it'll be a bit more work. Some thoughts:. * `sklearn` offers `MiniBatchNMF` which allows updating by batch. While this is out of core, it's effectively serial and may not scale well with increasing compute. * But there are [many distributed NMF implementations out there](https://www.google.com/search?client=safari&rls=en&q=distributed+nmf&ie=UTF-8&oe=UTF-8) (including GPU specific ones, which is relevant for rapids-singlecell). * It would be nice to upstream whatever we do to dask-ml (https://github.com/dask/dask-ml/issues/96), maybe cuml",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2939
https://github.com/scverse/scanpy/issues/2939:681,integrability,wrap,wrapper,681,"NMF; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I've thought for a while that we should have NMF in scanpy (https://github.com/scverse/scanpy/pull/941). But it's always been pretty trivial to implement, so not that much work for someone to cover. But now that we're increasing the amount of out of core support in scanpy I think we can offer a lot more value here with out-of-core NMF support. I would suggest we start with a simple [`sklearn.decompositions.NMF`](https://scikit-learn.org/stable/modules/generated/sklearn.decomposition.NMF.html) wrapper for in memory datasets. . For out of core implementations, it'll be a bit more work. Some thoughts:. * `sklearn` offers `MiniBatchNMF` which allows updating by batch. While this is out of core, it's effectively serial and may not scale well with increasing compute. * But there are [many distributed NMF implementations out there](https://www.google.com/search?client=safari&rls=en&q=distributed+nmf&ie=UTF-8&oe=UTF-8) (including GPU specific ones, which is relevant for rapids-singlecell). * It would be nice to upstream whatever we do to dask-ml (https://github.com/dask/dask-ml/issues/96), maybe cuml",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2939
https://github.com/scverse/scanpy/issues/2939:849,integrability,batch,batch,849,"NMF; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I've thought for a while that we should have NMF in scanpy (https://github.com/scverse/scanpy/pull/941). But it's always been pretty trivial to implement, so not that much work for someone to cover. But now that we're increasing the amount of out of core support in scanpy I think we can offer a lot more value here with out-of-core NMF support. I would suggest we start with a simple [`sklearn.decompositions.NMF`](https://scikit-learn.org/stable/modules/generated/sklearn.decomposition.NMF.html) wrapper for in memory datasets. . For out of core implementations, it'll be a bit more work. Some thoughts:. * `sklearn` offers `MiniBatchNMF` which allows updating by batch. While this is out of core, it's effectively serial and may not scale well with increasing compute. * But there are [many distributed NMF implementations out there](https://www.google.com/search?client=safari&rls=en&q=distributed+nmf&ie=UTF-8&oe=UTF-8) (including GPU specific ones, which is relevant for rapids-singlecell). * It would be nice to upstream whatever we do to dask-ml (https://github.com/dask/dask-ml/issues/96), maybe cuml",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2939
https://github.com/scverse/scanpy/issues/2939:681,interoperability,wrapper,wrapper,681,"NMF; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I've thought for a while that we should have NMF in scanpy (https://github.com/scverse/scanpy/pull/941). But it's always been pretty trivial to implement, so not that much work for someone to cover. But now that we're increasing the amount of out of core support in scanpy I think we can offer a lot more value here with out-of-core NMF support. I would suggest we start with a simple [`sklearn.decompositions.NMF`](https://scikit-learn.org/stable/modules/generated/sklearn.decomposition.NMF.html) wrapper for in memory datasets. . For out of core implementations, it'll be a bit more work. Some thoughts:. * `sklearn` offers `MiniBatchNMF` which allows updating by batch. While this is out of core, it's effectively serial and may not scale well with increasing compute. * But there are [many distributed NMF implementations out there](https://www.google.com/search?client=safari&rls=en&q=distributed+nmf&ie=UTF-8&oe=UTF-8) (including GPU specific ones, which is relevant for rapids-singlecell). * It would be nice to upstream whatever we do to dask-ml (https://github.com/dask/dask-ml/issues/96), maybe cuml",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2939
https://github.com/scverse/scanpy/issues/2939:977,interoperability,distribut,distributed,977,"NMF; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I've thought for a while that we should have NMF in scanpy (https://github.com/scverse/scanpy/pull/941). But it's always been pretty trivial to implement, so not that much work for someone to cover. But now that we're increasing the amount of out of core support in scanpy I think we can offer a lot more value here with out-of-core NMF support. I would suggest we start with a simple [`sklearn.decompositions.NMF`](https://scikit-learn.org/stable/modules/generated/sklearn.decomposition.NMF.html) wrapper for in memory datasets. . For out of core implementations, it'll be a bit more work. Some thoughts:. * `sklearn` offers `MiniBatchNMF` which allows updating by batch. While this is out of core, it's effectively serial and may not scale well with increasing compute. * But there are [many distributed NMF implementations out there](https://www.google.com/search?client=safari&rls=en&q=distributed+nmf&ie=UTF-8&oe=UTF-8) (including GPU specific ones, which is relevant for rapids-singlecell). * It would be nice to upstream whatever we do to dask-ml (https://github.com/dask/dask-ml/issues/96), maybe cuml",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2939
https://github.com/scverse/scanpy/issues/2939:1073,interoperability,distribut,distributed,1073,"NMF; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I've thought for a while that we should have NMF in scanpy (https://github.com/scverse/scanpy/pull/941). But it's always been pretty trivial to implement, so not that much work for someone to cover. But now that we're increasing the amount of out of core support in scanpy I think we can offer a lot more value here with out-of-core NMF support. I would suggest we start with a simple [`sklearn.decompositions.NMF`](https://scikit-learn.org/stable/modules/generated/sklearn.decomposition.NMF.html) wrapper for in memory datasets. . For out of core implementations, it'll be a bit more work. Some thoughts:. * `sklearn` offers `MiniBatchNMF` which allows updating by batch. While this is out of core, it's effectively serial and may not scale well with increasing compute. * But there are [many distributed NMF implementations out there](https://www.google.com/search?client=safari&rls=en&q=distributed+nmf&ie=UTF-8&oe=UTF-8) (including GPU specific ones, which is relevant for rapids-singlecell). * It would be nice to upstream whatever we do to dask-ml (https://github.com/dask/dask-ml/issues/96), maybe cuml",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2939
https://github.com/scverse/scanpy/issues/2939:1123,interoperability,specif,specific,1123,"NMF; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I've thought for a while that we should have NMF in scanpy (https://github.com/scverse/scanpy/pull/941). But it's always been pretty trivial to implement, so not that much work for someone to cover. But now that we're increasing the amount of out of core support in scanpy I think we can offer a lot more value here with out-of-core NMF support. I would suggest we start with a simple [`sklearn.decompositions.NMF`](https://scikit-learn.org/stable/modules/generated/sklearn.decomposition.NMF.html) wrapper for in memory datasets. . For out of core implementations, it'll be a bit more work. Some thoughts:. * `sklearn` offers `MiniBatchNMF` which allows updating by batch. While this is out of core, it's effectively serial and may not scale well with increasing compute. * But there are [many distributed NMF implementations out there](https://www.google.com/search?client=safari&rls=en&q=distributed+nmf&ie=UTF-8&oe=UTF-8) (including GPU specific ones, which is relevant for rapids-singlecell). * It would be nice to upstream whatever we do to dask-ml (https://github.com/dask/dask-ml/issues/96), maybe cuml",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2939
https://github.com/scverse/scanpy/issues/2939:578,modifiability,deco,decompositions,578,"NMF; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I've thought for a while that we should have NMF in scanpy (https://github.com/scverse/scanpy/pull/941). But it's always been pretty trivial to implement, so not that much work for someone to cover. But now that we're increasing the amount of out of core support in scanpy I think we can offer a lot more value here with out-of-core NMF support. I would suggest we start with a simple [`sklearn.decompositions.NMF`](https://scikit-learn.org/stable/modules/generated/sklearn.decomposition.NMF.html) wrapper for in memory datasets. . For out of core implementations, it'll be a bit more work. Some thoughts:. * `sklearn` offers `MiniBatchNMF` which allows updating by batch. While this is out of core, it's effectively serial and may not scale well with increasing compute. * But there are [many distributed NMF implementations out there](https://www.google.com/search?client=safari&rls=en&q=distributed+nmf&ie=UTF-8&oe=UTF-8) (including GPU specific ones, which is relevant for rapids-singlecell). * It would be nice to upstream whatever we do to dask-ml (https://github.com/dask/dask-ml/issues/96), maybe cuml",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2939
https://github.com/scverse/scanpy/issues/2939:631,modifiability,modul,modules,631,"NMF; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I've thought for a while that we should have NMF in scanpy (https://github.com/scverse/scanpy/pull/941). But it's always been pretty trivial to implement, so not that much work for someone to cover. But now that we're increasing the amount of out of core support in scanpy I think we can offer a lot more value here with out-of-core NMF support. I would suggest we start with a simple [`sklearn.decompositions.NMF`](https://scikit-learn.org/stable/modules/generated/sklearn.decomposition.NMF.html) wrapper for in memory datasets. . For out of core implementations, it'll be a bit more work. Some thoughts:. * `sklearn` offers `MiniBatchNMF` which allows updating by batch. While this is out of core, it's effectively serial and may not scale well with increasing compute. * But there are [many distributed NMF implementations out there](https://www.google.com/search?client=safari&rls=en&q=distributed+nmf&ie=UTF-8&oe=UTF-8) (including GPU specific ones, which is relevant for rapids-singlecell). * It would be nice to upstream whatever we do to dask-ml (https://github.com/dask/dask-ml/issues/96), maybe cuml",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2939
https://github.com/scverse/scanpy/issues/2939:657,modifiability,deco,decomposition,657,"NMF; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I've thought for a while that we should have NMF in scanpy (https://github.com/scverse/scanpy/pull/941). But it's always been pretty trivial to implement, so not that much work for someone to cover. But now that we're increasing the amount of out of core support in scanpy I think we can offer a lot more value here with out-of-core NMF support. I would suggest we start with a simple [`sklearn.decompositions.NMF`](https://scikit-learn.org/stable/modules/generated/sklearn.decomposition.NMF.html) wrapper for in memory datasets. . For out of core implementations, it'll be a bit more work. Some thoughts:. * `sklearn` offers `MiniBatchNMF` which allows updating by batch. While this is out of core, it's effectively serial and may not scale well with increasing compute. * But there are [many distributed NMF implementations out there](https://www.google.com/search?client=safari&rls=en&q=distributed+nmf&ie=UTF-8&oe=UTF-8) (including GPU specific ones, which is relevant for rapids-singlecell). * It would be nice to upstream whatever we do to dask-ml (https://github.com/dask/dask-ml/issues/96), maybe cuml",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2939
https://github.com/scverse/scanpy/issues/2939:919,modifiability,scal,scale,919,"NMF; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I've thought for a while that we should have NMF in scanpy (https://github.com/scverse/scanpy/pull/941). But it's always been pretty trivial to implement, so not that much work for someone to cover. But now that we're increasing the amount of out of core support in scanpy I think we can offer a lot more value here with out-of-core NMF support. I would suggest we start with a simple [`sklearn.decompositions.NMF`](https://scikit-learn.org/stable/modules/generated/sklearn.decomposition.NMF.html) wrapper for in memory datasets. . For out of core implementations, it'll be a bit more work. Some thoughts:. * `sklearn` offers `MiniBatchNMF` which allows updating by batch. While this is out of core, it's effectively serial and may not scale well with increasing compute. * But there are [many distributed NMF implementations out there](https://www.google.com/search?client=safari&rls=en&q=distributed+nmf&ie=UTF-8&oe=UTF-8) (including GPU specific ones, which is relevant for rapids-singlecell). * It would be nice to upstream whatever we do to dask-ml (https://github.com/dask/dask-ml/issues/96), maybe cuml",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2939
https://github.com/scverse/scanpy/issues/2939:696,performance,memor,memory,696,"NMF; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I've thought for a while that we should have NMF in scanpy (https://github.com/scverse/scanpy/pull/941). But it's always been pretty trivial to implement, so not that much work for someone to cover. But now that we're increasing the amount of out of core support in scanpy I think we can offer a lot more value here with out-of-core NMF support. I would suggest we start with a simple [`sklearn.decompositions.NMF`](https://scikit-learn.org/stable/modules/generated/sklearn.decomposition.NMF.html) wrapper for in memory datasets. . For out of core implementations, it'll be a bit more work. Some thoughts:. * `sklearn` offers `MiniBatchNMF` which allows updating by batch. While this is out of core, it's effectively serial and may not scale well with increasing compute. * But there are [many distributed NMF implementations out there](https://www.google.com/search?client=safari&rls=en&q=distributed+nmf&ie=UTF-8&oe=UTF-8) (including GPU specific ones, which is relevant for rapids-singlecell). * It would be nice to upstream whatever we do to dask-ml (https://github.com/dask/dask-ml/issues/96), maybe cuml",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2939
https://github.com/scverse/scanpy/issues/2939:849,performance,batch,batch,849,"NMF; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I've thought for a while that we should have NMF in scanpy (https://github.com/scverse/scanpy/pull/941). But it's always been pretty trivial to implement, so not that much work for someone to cover. But now that we're increasing the amount of out of core support in scanpy I think we can offer a lot more value here with out-of-core NMF support. I would suggest we start with a simple [`sklearn.decompositions.NMF`](https://scikit-learn.org/stable/modules/generated/sklearn.decomposition.NMF.html) wrapper for in memory datasets. . For out of core implementations, it'll be a bit more work. Some thoughts:. * `sklearn` offers `MiniBatchNMF` which allows updating by batch. While this is out of core, it's effectively serial and may not scale well with increasing compute. * But there are [many distributed NMF implementations out there](https://www.google.com/search?client=safari&rls=en&q=distributed+nmf&ie=UTF-8&oe=UTF-8) (including GPU specific ones, which is relevant for rapids-singlecell). * It would be nice to upstream whatever we do to dask-ml (https://github.com/dask/dask-ml/issues/96), maybe cuml",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2939
https://github.com/scverse/scanpy/issues/2939:919,performance,scale,scale,919,"NMF; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I've thought for a while that we should have NMF in scanpy (https://github.com/scverse/scanpy/pull/941). But it's always been pretty trivial to implement, so not that much work for someone to cover. But now that we're increasing the amount of out of core support in scanpy I think we can offer a lot more value here with out-of-core NMF support. I would suggest we start with a simple [`sklearn.decompositions.NMF`](https://scikit-learn.org/stable/modules/generated/sklearn.decomposition.NMF.html) wrapper for in memory datasets. . For out of core implementations, it'll be a bit more work. Some thoughts:. * `sklearn` offers `MiniBatchNMF` which allows updating by batch. While this is out of core, it's effectively serial and may not scale well with increasing compute. * But there are [many distributed NMF implementations out there](https://www.google.com/search?client=safari&rls=en&q=distributed+nmf&ie=UTF-8&oe=UTF-8) (including GPU specific ones, which is relevant for rapids-singlecell). * It would be nice to upstream whatever we do to dask-ml (https://github.com/dask/dask-ml/issues/96), maybe cuml",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2939
https://github.com/scverse/scanpy/issues/2939:1119,performance,GPU,GPU,1119,"NMF; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I've thought for a while that we should have NMF in scanpy (https://github.com/scverse/scanpy/pull/941). But it's always been pretty trivial to implement, so not that much work for someone to cover. But now that we're increasing the amount of out of core support in scanpy I think we can offer a lot more value here with out-of-core NMF support. I would suggest we start with a simple [`sklearn.decompositions.NMF`](https://scikit-learn.org/stable/modules/generated/sklearn.decomposition.NMF.html) wrapper for in memory datasets. . For out of core implementations, it'll be a bit more work. Some thoughts:. * `sklearn` offers `MiniBatchNMF` which allows updating by batch. While this is out of core, it's effectively serial and may not scale well with increasing compute. * But there are [many distributed NMF implementations out there](https://www.google.com/search?client=safari&rls=en&q=distributed+nmf&ie=UTF-8&oe=UTF-8) (including GPU specific ones, which is relevant for rapids-singlecell). * It would be nice to upstream whatever we do to dask-ml (https://github.com/dask/dask-ml/issues/96), maybe cuml",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2939
https://github.com/scverse/scanpy/issues/2939:631,safety,modul,modules,631,"NMF; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I've thought for a while that we should have NMF in scanpy (https://github.com/scverse/scanpy/pull/941). But it's always been pretty trivial to implement, so not that much work for someone to cover. But now that we're increasing the amount of out of core support in scanpy I think we can offer a lot more value here with out-of-core NMF support. I would suggest we start with a simple [`sklearn.decompositions.NMF`](https://scikit-learn.org/stable/modules/generated/sklearn.decomposition.NMF.html) wrapper for in memory datasets. . For out of core implementations, it'll be a bit more work. Some thoughts:. * `sklearn` offers `MiniBatchNMF` which allows updating by batch. While this is out of core, it's effectively serial and may not scale well with increasing compute. * But there are [many distributed NMF implementations out there](https://www.google.com/search?client=safari&rls=en&q=distributed+nmf&ie=UTF-8&oe=UTF-8) (including GPU specific ones, which is relevant for rapids-singlecell). * It would be nice to upstream whatever we do to dask-ml (https://github.com/dask/dask-ml/issues/96), maybe cuml",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2939
https://github.com/scverse/scanpy/issues/2939:837,safety,updat,updating,837,"NMF; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I've thought for a while that we should have NMF in scanpy (https://github.com/scverse/scanpy/pull/941). But it's always been pretty trivial to implement, so not that much work for someone to cover. But now that we're increasing the amount of out of core support in scanpy I think we can offer a lot more value here with out-of-core NMF support. I would suggest we start with a simple [`sklearn.decompositions.NMF`](https://scikit-learn.org/stable/modules/generated/sklearn.decomposition.NMF.html) wrapper for in memory datasets. . For out of core implementations, it'll be a bit more work. Some thoughts:. * `sklearn` offers `MiniBatchNMF` which allows updating by batch. While this is out of core, it's effectively serial and may not scale well with increasing compute. * But there are [many distributed NMF implementations out there](https://www.google.com/search?client=safari&rls=en&q=distributed+nmf&ie=UTF-8&oe=UTF-8) (including GPU specific ones, which is relevant for rapids-singlecell). * It would be nice to upstream whatever we do to dask-ml (https://github.com/dask/dask-ml/issues/96), maybe cuml",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2939
https://github.com/scverse/scanpy/issues/2939:837,security,updat,updating,837,"NMF; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I've thought for a while that we should have NMF in scanpy (https://github.com/scverse/scanpy/pull/941). But it's always been pretty trivial to implement, so not that much work for someone to cover. But now that we're increasing the amount of out of core support in scanpy I think we can offer a lot more value here with out-of-core NMF support. I would suggest we start with a simple [`sklearn.decompositions.NMF`](https://scikit-learn.org/stable/modules/generated/sklearn.decomposition.NMF.html) wrapper for in memory datasets. . For out of core implementations, it'll be a bit more work. Some thoughts:. * `sklearn` offers `MiniBatchNMF` which allows updating by batch. While this is out of core, it's effectively serial and may not scale well with increasing compute. * But there are [many distributed NMF implementations out there](https://www.google.com/search?client=safari&rls=en&q=distributed+nmf&ie=UTF-8&oe=UTF-8) (including GPU specific ones, which is relevant for rapids-singlecell). * It would be nice to upstream whatever we do to dask-ml (https://github.com/dask/dask-ml/issues/96), maybe cuml",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2939
https://github.com/scverse/scanpy/issues/2939:78,testability,simpl,simple,78,"NMF; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I've thought for a while that we should have NMF in scanpy (https://github.com/scverse/scanpy/pull/941). But it's always been pretty trivial to implement, so not that much work for someone to cover. But now that we're increasing the amount of out of core support in scanpy I think we can offer a lot more value here with out-of-core NMF support. I would suggest we start with a simple [`sklearn.decompositions.NMF`](https://scikit-learn.org/stable/modules/generated/sklearn.decomposition.NMF.html) wrapper for in memory datasets. . For out of core implementations, it'll be a bit more work. Some thoughts:. * `sklearn` offers `MiniBatchNMF` which allows updating by batch. While this is out of core, it's effectively serial and may not scale well with increasing compute. * But there are [many distributed NMF implementations out there](https://www.google.com/search?client=safari&rls=en&q=distributed+nmf&ie=UTF-8&oe=UTF-8) (including GPU specific ones, which is relevant for rapids-singlecell). * It would be nice to upstream whatever we do to dask-ml (https://github.com/dask/dask-ml/issues/96), maybe cuml",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2939
https://github.com/scverse/scanpy/issues/2939:561,testability,simpl,simple,561,"NMF; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I've thought for a while that we should have NMF in scanpy (https://github.com/scverse/scanpy/pull/941). But it's always been pretty trivial to implement, so not that much work for someone to cover. But now that we're increasing the amount of out of core support in scanpy I think we can offer a lot more value here with out-of-core NMF support. I would suggest we start with a simple [`sklearn.decompositions.NMF`](https://scikit-learn.org/stable/modules/generated/sklearn.decomposition.NMF.html) wrapper for in memory datasets. . For out of core implementations, it'll be a bit more work. Some thoughts:. * `sklearn` offers `MiniBatchNMF` which allows updating by batch. While this is out of core, it's effectively serial and may not scale well with increasing compute. * But there are [many distributed NMF implementations out there](https://www.google.com/search?client=safari&rls=en&q=distributed+nmf&ie=UTF-8&oe=UTF-8) (including GPU specific ones, which is relevant for rapids-singlecell). * It would be nice to upstream whatever we do to dask-ml (https://github.com/dask/dask-ml/issues/96), maybe cuml",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2939
https://github.com/scverse/scanpy/issues/2939:70,usability,tool,tool,70,"NMF; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I've thought for a while that we should have NMF in scanpy (https://github.com/scverse/scanpy/pull/941). But it's always been pretty trivial to implement, so not that much work for someone to cover. But now that we're increasing the amount of out of core support in scanpy I think we can offer a lot more value here with out-of-core NMF support. I would suggest we start with a simple [`sklearn.decompositions.NMF`](https://scikit-learn.org/stable/modules/generated/sklearn.decomposition.NMF.html) wrapper for in memory datasets. . For out of core implementations, it'll be a bit more work. Some thoughts:. * `sklearn` offers `MiniBatchNMF` which allows updating by batch. While this is out of core, it's effectively serial and may not scale well with increasing compute. * But there are [many distributed NMF implementations out there](https://www.google.com/search?client=safari&rls=en&q=distributed+nmf&ie=UTF-8&oe=UTF-8) (including GPU specific ones, which is relevant for rapids-singlecell). * It would be nice to upstream whatever we do to dask-ml (https://github.com/dask/dask-ml/issues/96), maybe cuml",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2939
https://github.com/scverse/scanpy/issues/2939:78,usability,simpl,simple,78,"NMF; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I've thought for a while that we should have NMF in scanpy (https://github.com/scverse/scanpy/pull/941). But it's always been pretty trivial to implement, so not that much work for someone to cover. But now that we're increasing the amount of out of core support in scanpy I think we can offer a lot more value here with out-of-core NMF support. I would suggest we start with a simple [`sklearn.decompositions.NMF`](https://scikit-learn.org/stable/modules/generated/sklearn.decomposition.NMF.html) wrapper for in memory datasets. . For out of core implementations, it'll be a bit more work. Some thoughts:. * `sklearn` offers `MiniBatchNMF` which allows updating by batch. While this is out of core, it's effectively serial and may not scale well with increasing compute. * But there are [many distributed NMF implementations out there](https://www.google.com/search?client=safari&rls=en&q=distributed+nmf&ie=UTF-8&oe=UTF-8) (including GPU specific ones, which is relevant for rapids-singlecell). * It would be nice to upstream whatever we do to dask-ml (https://github.com/dask/dask-ml/issues/96), maybe cuml",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2939
https://github.com/scverse/scanpy/issues/2939:94,usability,tool,tool,94,"NMF; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I've thought for a while that we should have NMF in scanpy (https://github.com/scverse/scanpy/pull/941). But it's always been pretty trivial to implement, so not that much work for someone to cover. But now that we're increasing the amount of out of core support in scanpy I think we can offer a lot more value here with out-of-core NMF support. I would suggest we start with a simple [`sklearn.decompositions.NMF`](https://scikit-learn.org/stable/modules/generated/sklearn.decomposition.NMF.html) wrapper for in memory datasets. . For out of core implementations, it'll be a bit more work. Some thoughts:. * `sklearn` offers `MiniBatchNMF` which allows updating by batch. While this is out of core, it's effectively serial and may not scale well with increasing compute. * But there are [many distributed NMF implementations out there](https://www.google.com/search?client=safari&rls=en&q=distributed+nmf&ie=UTF-8&oe=UTF-8) (including GPU specific ones, which is relevant for rapids-singlecell). * It would be nice to upstream whatever we do to dask-ml (https://github.com/dask/dask-ml/issues/96), maybe cuml",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2939
https://github.com/scverse/scanpy/issues/2939:142,usability,tool,tools,142,"NMF; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I've thought for a while that we should have NMF in scanpy (https://github.com/scverse/scanpy/pull/941). But it's always been pretty trivial to implement, so not that much work for someone to cover. But now that we're increasing the amount of out of core support in scanpy I think we can offer a lot more value here with out-of-core NMF support. I would suggest we start with a simple [`sklearn.decompositions.NMF`](https://scikit-learn.org/stable/modules/generated/sklearn.decomposition.NMF.html) wrapper for in memory datasets. . For out of core implementations, it'll be a bit more work. Some thoughts:. * `sklearn` offers `MiniBatchNMF` which allows updating by batch. While this is out of core, it's effectively serial and may not scale well with increasing compute. * But there are [many distributed NMF implementations out there](https://www.google.com/search?client=safari&rls=en&q=distributed+nmf&ie=UTF-8&oe=UTF-8) (including GPU specific ones, which is relevant for rapids-singlecell). * It would be nice to upstream whatever we do to dask-ml (https://github.com/dask/dask-ml/issues/96), maybe cuml",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2939
https://github.com/scverse/scanpy/issues/2939:438,usability,support,support,438,"NMF; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I've thought for a while that we should have NMF in scanpy (https://github.com/scverse/scanpy/pull/941). But it's always been pretty trivial to implement, so not that much work for someone to cover. But now that we're increasing the amount of out of core support in scanpy I think we can offer a lot more value here with out-of-core NMF support. I would suggest we start with a simple [`sklearn.decompositions.NMF`](https://scikit-learn.org/stable/modules/generated/sklearn.decomposition.NMF.html) wrapper for in memory datasets. . For out of core implementations, it'll be a bit more work. Some thoughts:. * `sklearn` offers `MiniBatchNMF` which allows updating by batch. While this is out of core, it's effectively serial and may not scale well with increasing compute. * But there are [many distributed NMF implementations out there](https://www.google.com/search?client=safari&rls=en&q=distributed+nmf&ie=UTF-8&oe=UTF-8) (including GPU specific ones, which is relevant for rapids-singlecell). * It would be nice to upstream whatever we do to dask-ml (https://github.com/dask/dask-ml/issues/96), maybe cuml",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2939
https://github.com/scverse/scanpy/issues/2939:520,usability,support,support,520,"NMF; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I've thought for a while that we should have NMF in scanpy (https://github.com/scverse/scanpy/pull/941). But it's always been pretty trivial to implement, so not that much work for someone to cover. But now that we're increasing the amount of out of core support in scanpy I think we can offer a lot more value here with out-of-core NMF support. I would suggest we start with a simple [`sklearn.decompositions.NMF`](https://scikit-learn.org/stable/modules/generated/sklearn.decomposition.NMF.html) wrapper for in memory datasets. . For out of core implementations, it'll be a bit more work. Some thoughts:. * `sklearn` offers `MiniBatchNMF` which allows updating by batch. While this is out of core, it's effectively serial and may not scale well with increasing compute. * But there are [many distributed NMF implementations out there](https://www.google.com/search?client=safari&rls=en&q=distributed+nmf&ie=UTF-8&oe=UTF-8) (including GPU specific ones, which is relevant for rapids-singlecell). * It would be nice to upstream whatever we do to dask-ml (https://github.com/dask/dask-ml/issues/96), maybe cuml",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2939
https://github.com/scverse/scanpy/issues/2939:561,usability,simpl,simple,561,"NMF; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I've thought for a while that we should have NMF in scanpy (https://github.com/scverse/scanpy/pull/941). But it's always been pretty trivial to implement, so not that much work for someone to cover. But now that we're increasing the amount of out of core support in scanpy I think we can offer a lot more value here with out-of-core NMF support. I would suggest we start with a simple [`sklearn.decompositions.NMF`](https://scikit-learn.org/stable/modules/generated/sklearn.decomposition.NMF.html) wrapper for in memory datasets. . For out of core implementations, it'll be a bit more work. Some thoughts:. * `sklearn` offers `MiniBatchNMF` which allows updating by batch. While this is out of core, it's effectively serial and may not scale well with increasing compute. * But there are [many distributed NMF implementations out there](https://www.google.com/search?client=safari&rls=en&q=distributed+nmf&ie=UTF-8&oe=UTF-8) (including GPU specific ones, which is relevant for rapids-singlecell). * It would be nice to upstream whatever we do to dask-ml (https://github.com/dask/dask-ml/issues/96), maybe cuml",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2939
https://github.com/scverse/scanpy/issues/2939:614,usability,learn,learn,614,"NMF; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I've thought for a while that we should have NMF in scanpy (https://github.com/scverse/scanpy/pull/941). But it's always been pretty trivial to implement, so not that much work for someone to cover. But now that we're increasing the amount of out of core support in scanpy I think we can offer a lot more value here with out-of-core NMF support. I would suggest we start with a simple [`sklearn.decompositions.NMF`](https://scikit-learn.org/stable/modules/generated/sklearn.decomposition.NMF.html) wrapper for in memory datasets. . For out of core implementations, it'll be a bit more work. Some thoughts:. * `sklearn` offers `MiniBatchNMF` which allows updating by batch. While this is out of core, it's effectively serial and may not scale well with increasing compute. * But there are [many distributed NMF implementations out there](https://www.google.com/search?client=safari&rls=en&q=distributed+nmf&ie=UTF-8&oe=UTF-8) (including GPU specific ones, which is relevant for rapids-singlecell). * It would be nice to upstream whatever we do to dask-ml (https://github.com/dask/dask-ml/issues/96), maybe cuml",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2939
https://github.com/scverse/scanpy/issues/2939:696,usability,memor,memory,696,"NMF; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I've thought for a while that we should have NMF in scanpy (https://github.com/scverse/scanpy/pull/941). But it's always been pretty trivial to implement, so not that much work for someone to cover. But now that we're increasing the amount of out of core support in scanpy I think we can offer a lot more value here with out-of-core NMF support. I would suggest we start with a simple [`sklearn.decompositions.NMF`](https://scikit-learn.org/stable/modules/generated/sklearn.decomposition.NMF.html) wrapper for in memory datasets. . For out of core implementations, it'll be a bit more work. Some thoughts:. * `sklearn` offers `MiniBatchNMF` which allows updating by batch. While this is out of core, it's effectively serial and may not scale well with increasing compute. * But there are [many distributed NMF implementations out there](https://www.google.com/search?client=safari&rls=en&q=distributed+nmf&ie=UTF-8&oe=UTF-8) (including GPU specific ones, which is relevant for rapids-singlecell). * It would be nice to upstream whatever we do to dask-ml (https://github.com/dask/dask-ml/issues/96), maybe cuml",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2939
https://github.com/scverse/scanpy/issues/2939:888,usability,effectiv,effectively,888,"NMF; ### What kind of feature would you like to request? New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? ### Please describe your wishes. I've thought for a while that we should have NMF in scanpy (https://github.com/scverse/scanpy/pull/941). But it's always been pretty trivial to implement, so not that much work for someone to cover. But now that we're increasing the amount of out of core support in scanpy I think we can offer a lot more value here with out-of-core NMF support. I would suggest we start with a simple [`sklearn.decompositions.NMF`](https://scikit-learn.org/stable/modules/generated/sklearn.decomposition.NMF.html) wrapper for in memory datasets. . For out of core implementations, it'll be a bit more work. Some thoughts:. * `sklearn` offers `MiniBatchNMF` which allows updating by batch. While this is out of core, it's effectively serial and may not scale well with increasing compute. * But there are [many distributed NMF implementations out there](https://www.google.com/search?client=safari&rls=en&q=distributed+nmf&ie=UTF-8&oe=UTF-8) (including GPU specific ones, which is relevant for rapids-singlecell). * It would be nice to upstream whatever we do to dask-ml (https://github.com/dask/dask-ml/issues/96), maybe cuml",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2939
https://github.com/scverse/scanpy/issues/2940:5,usability,support,support,5,"Dask support for normalize_pearson_residuals, highly_variable_genes(flavor='pearson_residuals'); ### What kind of feature would you like to request? ### Please describe your wishes. Expand Dask support to `normalize_pearson_residuals`, `highly_variable_genes(flavor='pearson_residuals')`. Dask Meta-Issue: #2578.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2940
https://github.com/scverse/scanpy/issues/2940:194,usability,support,support,194,"Dask support for normalize_pearson_residuals, highly_variable_genes(flavor='pearson_residuals'); ### What kind of feature would you like to request? ### Please describe your wishes. Expand Dask support to `normalize_pearson_residuals`, `highly_variable_genes(flavor='pearson_residuals')`. Dask Meta-Issue: #2578.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2940
https://github.com/scverse/scanpy/issues/2941:30,availability,mask,mask,30,scale for sparse matrixes and mask; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. currently `pp.scale` with a `mask_obs` with a sparse matrix and with `zero_center== False` takes a really long time to update the sparse matrix. This also takes up a lot of memory because of the parity calculations. I would suggest a numba kernel that just swaps out the data. This works really well for rapids-singlecell and greatly improves performance and reduces the memory overhead. I would open a PR with this kernel. ------. Performance for 90k cells and 25k genes:. without mask:. CPU 645 ms | GPU 37 ms | 20x. with mask:. CPU 22 s | GPU 50 ms | 460x.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2941
https://github.com/scverse/scanpy/issues/2941:678,availability,mask,mask,678,scale for sparse matrixes and mask; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. currently `pp.scale` with a `mask_obs` with a sparse matrix and with `zero_center== False` takes a really long time to update the sparse matrix. This also takes up a lot of memory because of the parity calculations. I would suggest a numba kernel that just swaps out the data. This works really well for rapids-singlecell and greatly improves performance and reduces the memory overhead. I would open a PR with this kernel. ------. Performance for 90k cells and 25k genes:. without mask:. CPU 645 ms | GPU 37 ms | 20x. with mask:. CPU 22 s | GPU 50 ms | 460x.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2941
https://github.com/scverse/scanpy/issues/2941:720,availability,mask,mask,720,scale for sparse matrixes and mask; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. currently `pp.scale` with a `mask_obs` with a sparse matrix and with `zero_center== False` takes a really long time to update the sparse matrix. This also takes up a lot of memory because of the parity calculations. I would suggest a numba kernel that just swaps out the data. This works really well for rapids-singlecell and greatly improves performance and reduces the memory overhead. I would open a PR with this kernel. ------. Performance for 90k cells and 25k genes:. without mask:. CPU 645 ms | GPU 37 ms | 20x. with mask:. CPU 22 s | GPU 50 ms | 460x.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2941
https://github.com/scverse/scanpy/issues/2941:0,deployability,scale,scale,0,scale for sparse matrixes and mask; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. currently `pp.scale` with a `mask_obs` with a sparse matrix and with `zero_center== False` takes a really long time to update the sparse matrix. This also takes up a lot of memory because of the parity calculations. I would suggest a numba kernel that just swaps out the data. This works really well for rapids-singlecell and greatly improves performance and reduces the memory overhead. I would open a PR with this kernel. ------. Performance for 90k cells and 25k genes:. without mask:. CPU 645 ms | GPU 37 ms | 20x. with mask:. CPU 22 s | GPU 50 ms | 460x.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2941
https://github.com/scverse/scanpy/issues/2941:210,deployability,scale,scale,210,scale for sparse matrixes and mask; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. currently `pp.scale` with a `mask_obs` with a sparse matrix and with `zero_center== False` takes a really long time to update the sparse matrix. This also takes up a lot of memory because of the parity calculations. I would suggest a numba kernel that just swaps out the data. This works really well for rapids-singlecell and greatly improves performance and reduces the memory overhead. I would open a PR with this kernel. ------. Performance for 90k cells and 25k genes:. without mask:. CPU 645 ms | GPU 37 ms | 20x. with mask:. CPU 22 s | GPU 50 ms | 460x.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2941
https://github.com/scverse/scanpy/issues/2941:315,deployability,updat,update,315,scale for sparse matrixes and mask; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. currently `pp.scale` with a `mask_obs` with a sparse matrix and with `zero_center== False` takes a really long time to update the sparse matrix. This also takes up a lot of memory because of the parity calculations. I would suggest a numba kernel that just swaps out the data. This works really well for rapids-singlecell and greatly improves performance and reduces the memory overhead. I would open a PR with this kernel. ------. Performance for 90k cells and 25k genes:. without mask:. CPU 645 ms | GPU 37 ms | 20x. with mask:. CPU 22 s | GPU 50 ms | 460x.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2941
https://github.com/scverse/scanpy/issues/2941:0,energy efficiency,scale,scale,0,scale for sparse matrixes and mask; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. currently `pp.scale` with a `mask_obs` with a sparse matrix and with `zero_center== False` takes a really long time to update the sparse matrix. This also takes up a lot of memory because of the parity calculations. I would suggest a numba kernel that just swaps out the data. This works really well for rapids-singlecell and greatly improves performance and reduces the memory overhead. I would open a PR with this kernel. ------. Performance for 90k cells and 25k genes:. without mask:. CPU 645 ms | GPU 37 ms | 20x. with mask:. CPU 22 s | GPU 50 ms | 460x.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2941
https://github.com/scverse/scanpy/issues/2941:196,energy efficiency,current,currently,196,scale for sparse matrixes and mask; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. currently `pp.scale` with a `mask_obs` with a sparse matrix and with `zero_center== False` takes a really long time to update the sparse matrix. This also takes up a lot of memory because of the parity calculations. I would suggest a numba kernel that just swaps out the data. This works really well for rapids-singlecell and greatly improves performance and reduces the memory overhead. I would open a PR with this kernel. ------. Performance for 90k cells and 25k genes:. without mask:. CPU 645 ms | GPU 37 ms | 20x. with mask:. CPU 22 s | GPU 50 ms | 460x.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2941
https://github.com/scverse/scanpy/issues/2941:210,energy efficiency,scale,scale,210,scale for sparse matrixes and mask; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. currently `pp.scale` with a `mask_obs` with a sparse matrix and with `zero_center== False` takes a really long time to update the sparse matrix. This also takes up a lot of memory because of the parity calculations. I would suggest a numba kernel that just swaps out the data. This works really well for rapids-singlecell and greatly improves performance and reduces the memory overhead. I would open a PR with this kernel. ------. Performance for 90k cells and 25k genes:. without mask:. CPU 645 ms | GPU 37 ms | 20x. with mask:. CPU 22 s | GPU 50 ms | 460x.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2941
https://github.com/scverse/scanpy/issues/2941:555,energy efficiency,reduc,reduces,555,scale for sparse matrixes and mask; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. currently `pp.scale` with a `mask_obs` with a sparse matrix and with `zero_center== False` takes a really long time to update the sparse matrix. This also takes up a lot of memory because of the parity calculations. I would suggest a numba kernel that just swaps out the data. This works really well for rapids-singlecell and greatly improves performance and reduces the memory overhead. I would open a PR with this kernel. ------. Performance for 90k cells and 25k genes:. without mask:. CPU 645 ms | GPU 37 ms | 20x. with mask:. CPU 22 s | GPU 50 ms | 460x.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2941
https://github.com/scverse/scanpy/issues/2941:685,energy efficiency,CPU,CPU,685,scale for sparse matrixes and mask; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. currently `pp.scale` with a `mask_obs` with a sparse matrix and with `zero_center== False` takes a really long time to update the sparse matrix. This also takes up a lot of memory because of the parity calculations. I would suggest a numba kernel that just swaps out the data. This works really well for rapids-singlecell and greatly improves performance and reduces the memory overhead. I would open a PR with this kernel. ------. Performance for 90k cells and 25k genes:. without mask:. CPU 645 ms | GPU 37 ms | 20x. with mask:. CPU 22 s | GPU 50 ms | 460x.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2941
https://github.com/scverse/scanpy/issues/2941:698,energy efficiency,GPU,GPU,698,scale for sparse matrixes and mask; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. currently `pp.scale` with a `mask_obs` with a sparse matrix and with `zero_center== False` takes a really long time to update the sparse matrix. This also takes up a lot of memory because of the parity calculations. I would suggest a numba kernel that just swaps out the data. This works really well for rapids-singlecell and greatly improves performance and reduces the memory overhead. I would open a PR with this kernel. ------. Performance for 90k cells and 25k genes:. without mask:. CPU 645 ms | GPU 37 ms | 20x. with mask:. CPU 22 s | GPU 50 ms | 460x.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2941
https://github.com/scverse/scanpy/issues/2941:727,energy efficiency,CPU,CPU,727,scale for sparse matrixes and mask; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. currently `pp.scale` with a `mask_obs` with a sparse matrix and with `zero_center== False` takes a really long time to update the sparse matrix. This also takes up a lot of memory because of the parity calculations. I would suggest a numba kernel that just swaps out the data. This works really well for rapids-singlecell and greatly improves performance and reduces the memory overhead. I would open a PR with this kernel. ------. Performance for 90k cells and 25k genes:. without mask:. CPU 645 ms | GPU 37 ms | 20x. with mask:. CPU 22 s | GPU 50 ms | 460x.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2941
https://github.com/scverse/scanpy/issues/2941:738,energy efficiency,GPU,GPU,738,scale for sparse matrixes and mask; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. currently `pp.scale` with a `mask_obs` with a sparse matrix and with `zero_center== False` takes a really long time to update the sparse matrix. This also takes up a lot of memory because of the parity calculations. I would suggest a numba kernel that just swaps out the data. This works really well for rapids-singlecell and greatly improves performance and reduces the memory overhead. I would open a PR with this kernel. ------. Performance for 90k cells and 25k genes:. without mask:. CPU 645 ms | GPU 37 ms | 20x. with mask:. CPU 22 s | GPU 50 ms | 460x.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2941
https://github.com/scverse/scanpy/issues/2941:0,modifiability,scal,scale,0,scale for sparse matrixes and mask; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. currently `pp.scale` with a `mask_obs` with a sparse matrix and with `zero_center== False` takes a really long time to update the sparse matrix. This also takes up a lot of memory because of the parity calculations. I would suggest a numba kernel that just swaps out the data. This works really well for rapids-singlecell and greatly improves performance and reduces the memory overhead. I would open a PR with this kernel. ------. Performance for 90k cells and 25k genes:. without mask:. CPU 645 ms | GPU 37 ms | 20x. with mask:. CPU 22 s | GPU 50 ms | 460x.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2941
https://github.com/scverse/scanpy/issues/2941:108,modifiability,paramet,parameters,108,scale for sparse matrixes and mask; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. currently `pp.scale` with a `mask_obs` with a sparse matrix and with `zero_center== False` takes a really long time to update the sparse matrix. This also takes up a lot of memory because of the parity calculations. I would suggest a numba kernel that just swaps out the data. This works really well for rapids-singlecell and greatly improves performance and reduces the memory overhead. I would open a PR with this kernel. ------. Performance for 90k cells and 25k genes:. without mask:. CPU 645 ms | GPU 37 ms | 20x. with mask:. CPU 22 s | GPU 50 ms | 460x.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2941
https://github.com/scverse/scanpy/issues/2941:210,modifiability,scal,scale,210,scale for sparse matrixes and mask; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. currently `pp.scale` with a `mask_obs` with a sparse matrix and with `zero_center== False` takes a really long time to update the sparse matrix. This also takes up a lot of memory because of the parity calculations. I would suggest a numba kernel that just swaps out the data. This works really well for rapids-singlecell and greatly improves performance and reduces the memory overhead. I would open a PR with this kernel. ------. Performance for 90k cells and 25k genes:. without mask:. CPU 645 ms | GPU 37 ms | 20x. with mask:. CPU 22 s | GPU 50 ms | 460x.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2941
https://github.com/scverse/scanpy/issues/2941:0,performance,scale,scale,0,scale for sparse matrixes and mask; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. currently `pp.scale` with a `mask_obs` with a sparse matrix and with `zero_center== False` takes a really long time to update the sparse matrix. This also takes up a lot of memory because of the parity calculations. I would suggest a numba kernel that just swaps out the data. This works really well for rapids-singlecell and greatly improves performance and reduces the memory overhead. I would open a PR with this kernel. ------. Performance for 90k cells and 25k genes:. without mask:. CPU 645 ms | GPU 37 ms | 20x. with mask:. CPU 22 s | GPU 50 ms | 460x.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2941
https://github.com/scverse/scanpy/issues/2941:210,performance,scale,scale,210,scale for sparse matrixes and mask; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. currently `pp.scale` with a `mask_obs` with a sparse matrix and with `zero_center== False` takes a really long time to update the sparse matrix. This also takes up a lot of memory because of the parity calculations. I would suggest a numba kernel that just swaps out the data. This works really well for rapids-singlecell and greatly improves performance and reduces the memory overhead. I would open a PR with this kernel. ------. Performance for 90k cells and 25k genes:. without mask:. CPU 645 ms | GPU 37 ms | 20x. with mask:. CPU 22 s | GPU 50 ms | 460x.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2941
https://github.com/scverse/scanpy/issues/2941:307,performance,time,time,307,scale for sparse matrixes and mask; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. currently `pp.scale` with a `mask_obs` with a sparse matrix and with `zero_center== False` takes a really long time to update the sparse matrix. This also takes up a lot of memory because of the parity calculations. I would suggest a numba kernel that just swaps out the data. This works really well for rapids-singlecell and greatly improves performance and reduces the memory overhead. I would open a PR with this kernel. ------. Performance for 90k cells and 25k genes:. without mask:. CPU 645 ms | GPU 37 ms | 20x. with mask:. CPU 22 s | GPU 50 ms | 460x.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2941
https://github.com/scverse/scanpy/issues/2941:369,performance,memor,memory,369,scale for sparse matrixes and mask; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. currently `pp.scale` with a `mask_obs` with a sparse matrix and with `zero_center== False` takes a really long time to update the sparse matrix. This also takes up a lot of memory because of the parity calculations. I would suggest a numba kernel that just swaps out the data. This works really well for rapids-singlecell and greatly improves performance and reduces the memory overhead. I would open a PR with this kernel. ------. Performance for 90k cells and 25k genes:. without mask:. CPU 645 ms | GPU 37 ms | 20x. with mask:. CPU 22 s | GPU 50 ms | 460x.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2941
https://github.com/scverse/scanpy/issues/2941:530,performance,improves perform,improves performance,530,scale for sparse matrixes and mask; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. currently `pp.scale` with a `mask_obs` with a sparse matrix and with `zero_center== False` takes a really long time to update the sparse matrix. This also takes up a lot of memory because of the parity calculations. I would suggest a numba kernel that just swaps out the data. This works really well for rapids-singlecell and greatly improves performance and reduces the memory overhead. I would open a PR with this kernel. ------. Performance for 90k cells and 25k genes:. without mask:. CPU 645 ms | GPU 37 ms | 20x. with mask:. CPU 22 s | GPU 50 ms | 460x.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2941
https://github.com/scverse/scanpy/issues/2941:567,performance,memor,memory,567,scale for sparse matrixes and mask; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. currently `pp.scale` with a `mask_obs` with a sparse matrix and with `zero_center== False` takes a really long time to update the sparse matrix. This also takes up a lot of memory because of the parity calculations. I would suggest a numba kernel that just swaps out the data. This works really well for rapids-singlecell and greatly improves performance and reduces the memory overhead. I would open a PR with this kernel. ------. Performance for 90k cells and 25k genes:. without mask:. CPU 645 ms | GPU 37 ms | 20x. with mask:. CPU 22 s | GPU 50 ms | 460x.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2941
https://github.com/scverse/scanpy/issues/2941:574,performance,overhead,overhead,574,scale for sparse matrixes and mask; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. currently `pp.scale` with a `mask_obs` with a sparse matrix and with `zero_center== False` takes a really long time to update the sparse matrix. This also takes up a lot of memory because of the parity calculations. I would suggest a numba kernel that just swaps out the data. This works really well for rapids-singlecell and greatly improves performance and reduces the memory overhead. I would open a PR with this kernel. ------. Performance for 90k cells and 25k genes:. without mask:. CPU 645 ms | GPU 37 ms | 20x. with mask:. CPU 22 s | GPU 50 ms | 460x.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2941
https://github.com/scverse/scanpy/issues/2941:628,performance,Perform,Performance,628,scale for sparse matrixes and mask; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. currently `pp.scale` with a `mask_obs` with a sparse matrix and with `zero_center== False` takes a really long time to update the sparse matrix. This also takes up a lot of memory because of the parity calculations. I would suggest a numba kernel that just swaps out the data. This works really well for rapids-singlecell and greatly improves performance and reduces the memory overhead. I would open a PR with this kernel. ------. Performance for 90k cells and 25k genes:. without mask:. CPU 645 ms | GPU 37 ms | 20x. with mask:. CPU 22 s | GPU 50 ms | 460x.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2941
https://github.com/scverse/scanpy/issues/2941:685,performance,CPU,CPU,685,scale for sparse matrixes and mask; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. currently `pp.scale` with a `mask_obs` with a sparse matrix and with `zero_center== False` takes a really long time to update the sparse matrix. This also takes up a lot of memory because of the parity calculations. I would suggest a numba kernel that just swaps out the data. This works really well for rapids-singlecell and greatly improves performance and reduces the memory overhead. I would open a PR with this kernel. ------. Performance for 90k cells and 25k genes:. without mask:. CPU 645 ms | GPU 37 ms | 20x. with mask:. CPU 22 s | GPU 50 ms | 460x.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2941
https://github.com/scverse/scanpy/issues/2941:698,performance,GPU,GPU,698,scale for sparse matrixes and mask; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. currently `pp.scale` with a `mask_obs` with a sparse matrix and with `zero_center== False` takes a really long time to update the sparse matrix. This also takes up a lot of memory because of the parity calculations. I would suggest a numba kernel that just swaps out the data. This works really well for rapids-singlecell and greatly improves performance and reduces the memory overhead. I would open a PR with this kernel. ------. Performance for 90k cells and 25k genes:. without mask:. CPU 645 ms | GPU 37 ms | 20x. with mask:. CPU 22 s | GPU 50 ms | 460x.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2941
https://github.com/scverse/scanpy/issues/2941:727,performance,CPU,CPU,727,scale for sparse matrixes and mask; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. currently `pp.scale` with a `mask_obs` with a sparse matrix and with `zero_center== False` takes a really long time to update the sparse matrix. This also takes up a lot of memory because of the parity calculations. I would suggest a numba kernel that just swaps out the data. This works really well for rapids-singlecell and greatly improves performance and reduces the memory overhead. I would open a PR with this kernel. ------. Performance for 90k cells and 25k genes:. without mask:. CPU 645 ms | GPU 37 ms | 20x. with mask:. CPU 22 s | GPU 50 ms | 460x.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2941
https://github.com/scverse/scanpy/issues/2941:738,performance,GPU,GPU,738,scale for sparse matrixes and mask; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. currently `pp.scale` with a `mask_obs` with a sparse matrix and with `zero_center== False` takes a really long time to update the sparse matrix. This also takes up a lot of memory because of the parity calculations. I would suggest a numba kernel that just swaps out the data. This works really well for rapids-singlecell and greatly improves performance and reduces the memory overhead. I would open a PR with this kernel. ------. Performance for 90k cells and 25k genes:. without mask:. CPU 645 ms | GPU 37 ms | 20x. with mask:. CPU 22 s | GPU 50 ms | 460x.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2941
https://github.com/scverse/scanpy/issues/2941:315,safety,updat,update,315,scale for sparse matrixes and mask; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. currently `pp.scale` with a `mask_obs` with a sparse matrix and with `zero_center== False` takes a really long time to update the sparse matrix. This also takes up a lot of memory because of the parity calculations. I would suggest a numba kernel that just swaps out the data. This works really well for rapids-singlecell and greatly improves performance and reduces the memory overhead. I would open a PR with this kernel. ------. Performance for 90k cells and 25k genes:. without mask:. CPU 645 ms | GPU 37 ms | 20x. with mask:. CPU 22 s | GPU 50 ms | 460x.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2941
https://github.com/scverse/scanpy/issues/2941:315,security,updat,update,315,scale for sparse matrixes and mask; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. currently `pp.scale` with a `mask_obs` with a sparse matrix and with `zero_center== False` takes a really long time to update the sparse matrix. This also takes up a lot of memory because of the parity calculations. I would suggest a numba kernel that just swaps out the data. This works really well for rapids-singlecell and greatly improves performance and reduces the memory overhead. I would open a PR with this kernel. ------. Performance for 90k cells and 25k genes:. without mask:. CPU 645 ms | GPU 37 ms | 20x. with mask:. CPU 22 s | GPU 50 ms | 460x.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2941
https://github.com/scverse/scanpy/issues/2941:369,usability,memor,memory,369,scale for sparse matrixes and mask; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. currently `pp.scale` with a `mask_obs` with a sparse matrix and with `zero_center== False` takes a really long time to update the sparse matrix. This also takes up a lot of memory because of the parity calculations. I would suggest a numba kernel that just swaps out the data. This works really well for rapids-singlecell and greatly improves performance and reduces the memory overhead. I would open a PR with this kernel. ------. Performance for 90k cells and 25k genes:. without mask:. CPU 645 ms | GPU 37 ms | 20x. with mask:. CPU 22 s | GPU 50 ms | 460x.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2941
https://github.com/scverse/scanpy/issues/2941:539,usability,perform,performance,539,scale for sparse matrixes and mask; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. currently `pp.scale` with a `mask_obs` with a sparse matrix and with `zero_center== False` takes a really long time to update the sparse matrix. This also takes up a lot of memory because of the parity calculations. I would suggest a numba kernel that just swaps out the data. This works really well for rapids-singlecell and greatly improves performance and reduces the memory overhead. I would open a PR with this kernel. ------. Performance for 90k cells and 25k genes:. without mask:. CPU 645 ms | GPU 37 ms | 20x. with mask:. CPU 22 s | GPU 50 ms | 460x.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2941
https://github.com/scverse/scanpy/issues/2941:567,usability,memor,memory,567,scale for sparse matrixes and mask; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. currently `pp.scale` with a `mask_obs` with a sparse matrix and with `zero_center== False` takes a really long time to update the sparse matrix. This also takes up a lot of memory because of the parity calculations. I would suggest a numba kernel that just swaps out the data. This works really well for rapids-singlecell and greatly improves performance and reduces the memory overhead. I would open a PR with this kernel. ------. Performance for 90k cells and 25k genes:. without mask:. CPU 645 ms | GPU 37 ms | 20x. with mask:. CPU 22 s | GPU 50 ms | 460x.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2941
https://github.com/scverse/scanpy/issues/2941:628,usability,Perform,Performance,628,scale for sparse matrixes and mask; ### What kind of feature would you like to request? Additional function parameters / changed functionality / changed defaults? ### Please describe your wishes. currently `pp.scale` with a `mask_obs` with a sparse matrix and with `zero_center== False` takes a really long time to update the sparse matrix. This also takes up a lot of memory because of the parity calculations. I would suggest a numba kernel that just swaps out the data. This works really well for rapids-singlecell and greatly improves performance and reduces the memory overhead. I would open a PR with this kernel. ------. Performance for 90k cells and 25k genes:. without mask:. CPU 645 ms | GPU 37 ms | 20x. with mask:. CPU 22 s | GPU 50 ms | 460x.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2941
https://github.com/scverse/scanpy/pull/2942:0,deployability,updat,updates,0,updates sparse scale; This would fix #2941 . I created some numba.njit() kernels that perform in-place substitutions based on the assumption that we only change existing values and don't add new ones (where all the scipy overhead comes from). . Benchmarks for 90k cells and 25k genes:. CSR:. old 23 s | new 1 s | 23x. CSC:. old 61 s | 1.6 s | 36x,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2942
https://github.com/scverse/scanpy/pull/2942:15,deployability,scale,scale,15,updates sparse scale; This would fix #2941 . I created some numba.njit() kernels that perform in-place substitutions based on the assumption that we only change existing values and don't add new ones (where all the scipy overhead comes from). . Benchmarks for 90k cells and 25k genes:. CSR:. old 23 s | new 1 s | 23x. CSC:. old 61 s | 1.6 s | 36x,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2942
https://github.com/scverse/scanpy/pull/2942:15,energy efficiency,scale,scale,15,updates sparse scale; This would fix #2941 . I created some numba.njit() kernels that perform in-place substitutions based on the assumption that we only change existing values and don't add new ones (where all the scipy overhead comes from). . Benchmarks for 90k cells and 25k genes:. CSR:. old 23 s | new 1 s | 23x. CSC:. old 61 s | 1.6 s | 36x,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2942
https://github.com/scverse/scanpy/pull/2942:103,integrability,sub,substitutions,103,updates sparse scale; This would fix #2941 . I created some numba.njit() kernels that perform in-place substitutions based on the assumption that we only change existing values and don't add new ones (where all the scipy overhead comes from). . Benchmarks for 90k cells and 25k genes:. CSR:. old 23 s | new 1 s | 23x. CSC:. old 61 s | 1.6 s | 36x,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2942
https://github.com/scverse/scanpy/pull/2942:15,modifiability,scal,scale,15,updates sparse scale; This would fix #2941 . I created some numba.njit() kernels that perform in-place substitutions based on the assumption that we only change existing values and don't add new ones (where all the scipy overhead comes from). . Benchmarks for 90k cells and 25k genes:. CSR:. old 23 s | new 1 s | 23x. CSC:. old 61 s | 1.6 s | 36x,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2942
https://github.com/scverse/scanpy/pull/2942:15,performance,scale,scale,15,updates sparse scale; This would fix #2941 . I created some numba.njit() kernels that perform in-place substitutions based on the assumption that we only change existing values and don't add new ones (where all the scipy overhead comes from). . Benchmarks for 90k cells and 25k genes:. CSR:. old 23 s | new 1 s | 23x. CSC:. old 61 s | 1.6 s | 36x,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2942
https://github.com/scverse/scanpy/pull/2942:86,performance,perform,perform,86,updates sparse scale; This would fix #2941 . I created some numba.njit() kernels that perform in-place substitutions based on the assumption that we only change existing values and don't add new ones (where all the scipy overhead comes from). . Benchmarks for 90k cells and 25k genes:. CSR:. old 23 s | new 1 s | 23x. CSC:. old 61 s | 1.6 s | 36x,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2942
https://github.com/scverse/scanpy/pull/2942:221,performance,overhead,overhead,221,updates sparse scale; This would fix #2941 . I created some numba.njit() kernels that perform in-place substitutions based on the assumption that we only change existing values and don't add new ones (where all the scipy overhead comes from). . Benchmarks for 90k cells and 25k genes:. CSR:. old 23 s | new 1 s | 23x. CSC:. old 61 s | 1.6 s | 36x,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2942
https://github.com/scverse/scanpy/pull/2942:0,safety,updat,updates,0,updates sparse scale; This would fix #2941 . I created some numba.njit() kernels that perform in-place substitutions based on the assumption that we only change existing values and don't add new ones (where all the scipy overhead comes from). . Benchmarks for 90k cells and 25k genes:. CSR:. old 23 s | new 1 s | 23x. CSC:. old 61 s | 1.6 s | 36x,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2942
https://github.com/scverse/scanpy/pull/2942:0,security,updat,updates,0,updates sparse scale; This would fix #2941 . I created some numba.njit() kernels that perform in-place substitutions based on the assumption that we only change existing values and don't add new ones (where all the scipy overhead comes from). . Benchmarks for 90k cells and 25k genes:. CSR:. old 23 s | new 1 s | 23x. CSC:. old 61 s | 1.6 s | 36x,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2942
https://github.com/scverse/scanpy/pull/2942:86,usability,perform,perform,86,updates sparse scale; This would fix #2941 . I created some numba.njit() kernels that perform in-place substitutions based on the assumption that we only change existing values and don't add new ones (where all the scipy overhead comes from). . Benchmarks for 90k cells and 25k genes:. CSR:. old 23 s | new 1 s | 23x. CSC:. old 61 s | 1.6 s | 36x,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2942
https://github.com/scverse/scanpy/pull/2943:427,deployability,releas,release,427,Fix paga; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2943
https://github.com/scverse/scanpy/pull/2943:452,deployability,Releas,Release,452,Fix paga; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2943
https://github.com/scverse/scanpy/pull/2943:229,safety,review,review,229,Fix paga; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2943
https://github.com/scverse/scanpy/pull/2943:329,safety,Test,Tests,329,Fix paga; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2943
https://github.com/scverse/scanpy/pull/2943:229,testability,review,review,229,Fix paga; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2943
https://github.com/scverse/scanpy/pull/2943:329,testability,Test,Tests,329,Fix paga; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2943
https://github.com/scverse/scanpy/pull/2943:80,usability,guid,guidelines,80,Fix paga; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2943
https://github.com/scverse/scanpy/pull/2943:111,usability,guid,guide,111,Fix paga; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2943
https://github.com/scverse/scanpy/pull/2943:207,usability,workflow,workflow,207,Fix paga; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2943
https://github.com/scverse/scanpy/pull/2943:313,usability,Close,Closes,313,Fix paga; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [ ] Closes #. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [ ] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2943
https://github.com/scverse/scanpy/pull/2945:10,deployability,version,version,10,Fix numba version; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2945
https://github.com/scverse/scanpy/pull/2945:10,integrability,version,version,10,Fix numba version; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2945
https://github.com/scverse/scanpy/pull/2945:10,modifiability,version,version,10,Fix numba version; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2945
https://github.com/scverse/scanpy/pull/2945:238,safety,review,review,238,Fix numba version; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2945
https://github.com/scverse/scanpy/pull/2945:238,testability,review,review,238,Fix numba version; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2945
https://github.com/scverse/scanpy/pull/2945:89,usability,guid,guidelines,89,Fix numba version; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2945
https://github.com/scverse/scanpy/pull/2945:120,usability,guid,guide,120,Fix numba version; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2945
https://github.com/scverse/scanpy/pull/2945:216,usability,workflow,workflow,216,Fix numba version; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2945
https://github.com/scverse/scanpy/pull/2946:435,availability,state,state,435,DensMAP support 2; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. I tried to follow the feedback described in a previous PR that contributed DensMAP https://github.com/scverse/scanpy/pull/2684#issuecomment-1764564449 but re-implemented on top of the state of the current scanpy main branch. I did not add release notes because the contributor guide says to wait for PR feedback https://scanpy.readthedocs.io/en/latest/dev/documentation.html#adding-to-the-docs. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #1619 . - [x] Closes #2684. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2946
https://github.com/scverse/scanpy/pull/2946:490,deployability,releas,release,490,DensMAP support 2; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. I tried to follow the feedback described in a previous PR that contributed DensMAP https://github.com/scverse/scanpy/pull/2684#issuecomment-1764564449 but re-implemented on top of the state of the current scanpy main branch. I did not add release notes because the contributor guide says to wait for PR feedback https://scanpy.readthedocs.io/en/latest/dev/documentation.html#adding-to-the-docs. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #1619 . - [x] Closes #2684. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2946
https://github.com/scverse/scanpy/pull/2946:856,deployability,releas,release,856,DensMAP support 2; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. I tried to follow the feedback described in a previous PR that contributed DensMAP https://github.com/scverse/scanpy/pull/2684#issuecomment-1764564449 but re-implemented on top of the state of the current scanpy main branch. I did not add release notes because the contributor guide says to wait for PR feedback https://scanpy.readthedocs.io/en/latest/dev/documentation.html#adding-to-the-docs. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #1619 . - [x] Closes #2684. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2946
https://github.com/scverse/scanpy/pull/2946:881,deployability,Releas,Release,881,DensMAP support 2; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. I tried to follow the feedback described in a previous PR that contributed DensMAP https://github.com/scverse/scanpy/pull/2684#issuecomment-1764564449 but re-implemented on top of the state of the current scanpy main branch. I did not add release notes because the contributor guide says to wait for PR feedback https://scanpy.readthedocs.io/en/latest/dev/documentation.html#adding-to-the-docs. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #1619 . - [x] Closes #2684. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2946
https://github.com/scverse/scanpy/pull/2946:448,energy efficiency,current,current,448,DensMAP support 2; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. I tried to follow the feedback described in a previous PR that contributed DensMAP https://github.com/scverse/scanpy/pull/2684#issuecomment-1764564449 but re-implemented on top of the state of the current scanpy main branch. I did not add release notes because the contributor guide says to wait for PR feedback https://scanpy.readthedocs.io/en/latest/dev/documentation.html#adding-to-the-docs. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #1619 . - [x] Closes #2684. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2946
https://github.com/scverse/scanpy/pull/2946:435,integrability,state,state,435,DensMAP support 2; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. I tried to follow the feedback described in a previous PR that contributed DensMAP https://github.com/scverse/scanpy/pull/2684#issuecomment-1764564449 but re-implemented on top of the state of the current scanpy main branch. I did not add release notes because the contributor guide says to wait for PR feedback https://scanpy.readthedocs.io/en/latest/dev/documentation.html#adding-to-the-docs. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #1619 . - [x] Closes #2684. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2946
https://github.com/scverse/scanpy/pull/2946:238,safety,review,review,238,DensMAP support 2; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. I tried to follow the feedback described in a previous PR that contributed DensMAP https://github.com/scverse/scanpy/pull/2684#issuecomment-1764564449 but re-implemented on top of the state of the current scanpy main branch. I did not add release notes because the contributor guide says to wait for PR feedback https://scanpy.readthedocs.io/en/latest/dev/documentation.html#adding-to-the-docs. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #1619 . - [x] Closes #2684. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2946
https://github.com/scverse/scanpy/pull/2946:758,safety,Test,Tests,758,DensMAP support 2; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. I tried to follow the feedback described in a previous PR that contributed DensMAP https://github.com/scverse/scanpy/pull/2684#issuecomment-1764564449 but re-implemented on top of the state of the current scanpy main branch. I did not add release notes because the contributor guide says to wait for PR feedback https://scanpy.readthedocs.io/en/latest/dev/documentation.html#adding-to-the-docs. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #1619 . - [x] Closes #2684. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2946
https://github.com/scverse/scanpy/pull/2946:238,testability,review,review,238,DensMAP support 2; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. I tried to follow the feedback described in a previous PR that contributed DensMAP https://github.com/scverse/scanpy/pull/2684#issuecomment-1764564449 but re-implemented on top of the state of the current scanpy main branch. I did not add release notes because the contributor guide says to wait for PR feedback https://scanpy.readthedocs.io/en/latest/dev/documentation.html#adding-to-the-docs. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #1619 . - [x] Closes #2684. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2946
https://github.com/scverse/scanpy/pull/2946:758,testability,Test,Tests,758,DensMAP support 2; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. I tried to follow the feedback described in a previous PR that contributed DensMAP https://github.com/scverse/scanpy/pull/2684#issuecomment-1764564449 but re-implemented on top of the state of the current scanpy main branch. I did not add release notes because the contributor guide says to wait for PR feedback https://scanpy.readthedocs.io/en/latest/dev/documentation.html#adding-to-the-docs. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #1619 . - [x] Closes #2684. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2946
https://github.com/scverse/scanpy/pull/2946:8,usability,support,support,8,DensMAP support 2; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. I tried to follow the feedback described in a previous PR that contributed DensMAP https://github.com/scverse/scanpy/pull/2684#issuecomment-1764564449 but re-implemented on top of the state of the current scanpy main branch. I did not add release notes because the contributor guide says to wait for PR feedback https://scanpy.readthedocs.io/en/latest/dev/documentation.html#adding-to-the-docs. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #1619 . - [x] Closes #2684. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2946
https://github.com/scverse/scanpy/pull/2946:89,usability,guid,guidelines,89,DensMAP support 2; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. I tried to follow the feedback described in a previous PR that contributed DensMAP https://github.com/scverse/scanpy/pull/2684#issuecomment-1764564449 but re-implemented on top of the state of the current scanpy main branch. I did not add release notes because the contributor guide says to wait for PR feedback https://scanpy.readthedocs.io/en/latest/dev/documentation.html#adding-to-the-docs. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #1619 . - [x] Closes #2684. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2946
https://github.com/scverse/scanpy/pull/2946:120,usability,guid,guide,120,DensMAP support 2; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. I tried to follow the feedback described in a previous PR that contributed DensMAP https://github.com/scverse/scanpy/pull/2684#issuecomment-1764564449 but re-implemented on top of the state of the current scanpy main branch. I did not add release notes because the contributor guide says to wait for PR feedback https://scanpy.readthedocs.io/en/latest/dev/documentation.html#adding-to-the-docs. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #1619 . - [x] Closes #2684. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2946
https://github.com/scverse/scanpy/pull/2946:216,usability,workflow,workflow,216,DensMAP support 2; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. I tried to follow the feedback described in a previous PR that contributed DensMAP https://github.com/scverse/scanpy/pull/2684#issuecomment-1764564449 but re-implemented on top of the state of the current scanpy main branch. I did not add release notes because the contributor guide says to wait for PR feedback https://scanpy.readthedocs.io/en/latest/dev/documentation.html#adding-to-the-docs. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #1619 . - [x] Closes #2684. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2946
https://github.com/scverse/scanpy/pull/2946:273,usability,feedback,feedback,273,DensMAP support 2; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. I tried to follow the feedback described in a previous PR that contributed DensMAP https://github.com/scverse/scanpy/pull/2684#issuecomment-1764564449 but re-implemented on top of the state of the current scanpy main branch. I did not add release notes because the contributor guide says to wait for PR feedback https://scanpy.readthedocs.io/en/latest/dev/documentation.html#adding-to-the-docs. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #1619 . - [x] Closes #2684. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2946
https://github.com/scverse/scanpy/pull/2946:528,usability,guid,guide,528,DensMAP support 2; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. I tried to follow the feedback described in a previous PR that contributed DensMAP https://github.com/scverse/scanpy/pull/2684#issuecomment-1764564449 but re-implemented on top of the state of the current scanpy main branch. I did not add release notes because the contributor guide says to wait for PR feedback https://scanpy.readthedocs.io/en/latest/dev/documentation.html#adding-to-the-docs. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #1619 . - [x] Closes #2684. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2946
https://github.com/scverse/scanpy/pull/2946:554,usability,feedback,feedback,554,DensMAP support 2; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. I tried to follow the feedback described in a previous PR that contributed DensMAP https://github.com/scverse/scanpy/pull/2684#issuecomment-1764564449 but re-implemented on top of the state of the current scanpy main branch. I did not add release notes because the contributor guide says to wait for PR feedback https://scanpy.readthedocs.io/en/latest/dev/documentation.html#adding-to-the-docs. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #1619 . - [x] Closes #2684. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2946
https://github.com/scverse/scanpy/pull/2946:607,usability,document,documentation,607,DensMAP support 2; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. I tried to follow the feedback described in a previous PR that contributed DensMAP https://github.com/scverse/scanpy/pull/2684#issuecomment-1764564449 but re-implemented on top of the state of the current scanpy main branch. I did not add release notes because the contributor guide says to wait for PR feedback https://scanpy.readthedocs.io/en/latest/dev/documentation.html#adding-to-the-docs. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #1619 . - [x] Closes #2684. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2946
https://github.com/scverse/scanpy/pull/2946:717,usability,Close,Closes,717,DensMAP support 2; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. I tried to follow the feedback described in a previous PR that contributed DensMAP https://github.com/scverse/scanpy/pull/2684#issuecomment-1764564449 but re-implemented on top of the state of the current scanpy main branch. I did not add release notes because the contributor guide says to wait for PR feedback https://scanpy.readthedocs.io/en/latest/dev/documentation.html#adding-to-the-docs. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #1619 . - [x] Closes #2684. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2946
https://github.com/scverse/scanpy/pull/2946:738,usability,Close,Closes,738,DensMAP support 2; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. I tried to follow the feedback described in a previous PR that contributed DensMAP https://github.com/scverse/scanpy/pull/2684#issuecomment-1764564449 but re-implemented on top of the state of the current scanpy main branch. I did not add release notes because the contributor guide says to wait for PR feedback https://scanpy.readthedocs.io/en/latest/dev/documentation.html#adding-to-the-docs. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #1619 . - [x] Closes #2684. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because:.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2946
https://github.com/scverse/scanpy/issues/2949:1905,availability,Error,Error,1905,"s__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. I installed the latest version of scanpy 1.9.3 and python 3.9, my computer is MacBook Pro 2020. ### Minimal code sample. ```python. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Error output. ```pytb. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Versions. <details>. ```. ```. </details>. 1.9.3",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2949
https://github.com/scverse/scanpy/issues/2949:195,deployability,version,version,195,"missing scanpy components; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I tried to do dpt trajectory analysis but constantly reminded of lacking this and that attributes. When I print out the components in the scanpy directory, it does seem to lack lots of components as shown below:. ```. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. I installed the latest version of scanpy 1.9.3 and python 3.9, my computer is MacBook Pro 2020. ### Minimal code sample. ```python. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Error output. ```pytb. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__'",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2949
https://github.com/scverse/scanpy/issues/2949:827,deployability,log,logging,827,"missing scanpy components; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I tried to do dpt trajectory analysis but constantly reminded of lacking this and that attributes. When I print out the components in the scanpy directory, it does seem to lack lots of components as shown below:. ```. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. I installed the latest version of scanpy 1.9.3 and python 3.9, my computer is MacBook Pro 2020. ### Minimal code sample. ```python. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Error output. ```pytb. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__'",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2949
https://github.com/scverse/scanpy/issues/2949:1152,deployability,instal,installed,1152,"nfirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I tried to do dpt trajectory analysis but constantly reminded of lacking this and that attributes. When I print out the components in the scanpy directory, it does seem to lack lots of components as shown below:. ```. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. I installed the latest version of scanpy 1.9.3 and python 3.9, my computer is MacBook Pro 2020. ### Minimal code sample. ```python. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Error output. ```pytb. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2949
https://github.com/scverse/scanpy/issues/2949:1173,deployability,version,version,1173,"sts on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I tried to do dpt trajectory analysis but constantly reminded of lacking this and that attributes. When I print out the components in the scanpy directory, it does seem to lack lots of components as shown below:. ```. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. I installed the latest version of scanpy 1.9.3 and python 3.9, my computer is MacBook Pro 2020. ### Minimal code sample. ```python. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Error output. ```pytb. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', '",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2949
https://github.com/scverse/scanpy/issues/2949:1578,deployability,log,logging,1578,"sity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. I installed the latest version of scanpy 1.9.3 and python 3.9, my computer is MacBook Pro 2020. ### Minimal code sample. ```python. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Error output. ```pytb. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Versions. <details>. ```. ```. ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2949
https://github.com/scverse/scanpy/issues/2949:2224,deployability,log,logging,2224,"s__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. I installed the latest version of scanpy 1.9.3 and python 3.9, my computer is MacBook Pro 2020. ### Minimal code sample. ```python. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Error output. ```pytb. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Versions. <details>. ```. ```. </details>. 1.9.3",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2949
https://github.com/scverse/scanpy/issues/2949:2551,deployability,Version,Versions,2551,"s__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. I installed the latest version of scanpy 1.9.3 and python 3.9, my computer is MacBook Pro 2020. ### Minimal code sample. ```python. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Error output. ```pytb. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Versions. <details>. ```. ```. </details>. 1.9.3",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2949
https://github.com/scverse/scanpy/issues/2949:15,integrability,compon,components,15,"missing scanpy components; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I tried to do dpt trajectory analysis but constantly reminded of lacking this and that attributes. When I print out the components in the scanpy directory, it does seem to lack lots of components as shown below:. ```. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. I installed the latest version of scanpy 1.9.3 and python 3.9, my computer is MacBook Pro 2020. ### Minimal code sample. ```python. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Error output. ```pytb. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__'",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2949
https://github.com/scverse/scanpy/issues/2949:195,integrability,version,version,195,"missing scanpy components; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I tried to do dpt trajectory analysis but constantly reminded of lacking this and that attributes. When I print out the components in the scanpy directory, it does seem to lack lots of components as shown below:. ```. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. I installed the latest version of scanpy 1.9.3 and python 3.9, my computer is MacBook Pro 2020. ### Minimal code sample. ```python. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Error output. ```pytb. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__'",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2949
https://github.com/scverse/scanpy/issues/2949:433,integrability,compon,components,433,"missing scanpy components; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I tried to do dpt trajectory analysis but constantly reminded of lacking this and that attributes. When I print out the components in the scanpy directory, it does seem to lack lots of components as shown below:. ```. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. I installed the latest version of scanpy 1.9.3 and python 3.9, my computer is MacBook Pro 2020. ### Minimal code sample. ```python. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Error output. ```pytb. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__'",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2949
https://github.com/scverse/scanpy/issues/2949:498,integrability,compon,components,498,"missing scanpy components; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I tried to do dpt trajectory analysis but constantly reminded of lacking this and that attributes. When I print out the components in the scanpy directory, it does seem to lack lots of components as shown below:. ```. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. I installed the latest version of scanpy 1.9.3 and python 3.9, my computer is MacBook Pro 2020. ### Minimal code sample. ```python. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Error output. ```pytb. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__'",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2949
https://github.com/scverse/scanpy/issues/2949:1173,integrability,version,version,1173,"sts on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I tried to do dpt trajectory analysis but constantly reminded of lacking this and that attributes. When I print out the components in the scanpy directory, it does seem to lack lots of components as shown below:. ```. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. I installed the latest version of scanpy 1.9.3 and python 3.9, my computer is MacBook Pro 2020. ### Minimal code sample. ```python. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Error output. ```pytb. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', '",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2949
https://github.com/scverse/scanpy/issues/2949:2551,integrability,Version,Versions,2551,"s__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. I installed the latest version of scanpy 1.9.3 and python 3.9, my computer is MacBook Pro 2020. ### Minimal code sample. ```python. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Error output. ```pytb. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Versions. <details>. ```. ```. </details>. 1.9.3",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2949
https://github.com/scverse/scanpy/issues/2949:15,interoperability,compon,components,15,"missing scanpy components; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I tried to do dpt trajectory analysis but constantly reminded of lacking this and that attributes. When I print out the components in the scanpy directory, it does seem to lack lots of components as shown below:. ```. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. I installed the latest version of scanpy 1.9.3 and python 3.9, my computer is MacBook Pro 2020. ### Minimal code sample. ```python. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Error output. ```pytb. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__'",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2949
https://github.com/scverse/scanpy/issues/2949:433,interoperability,compon,components,433,"missing scanpy components; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I tried to do dpt trajectory analysis but constantly reminded of lacking this and that attributes. When I print out the components in the scanpy directory, it does seem to lack lots of components as shown below:. ```. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. I installed the latest version of scanpy 1.9.3 and python 3.9, my computer is MacBook Pro 2020. ### Minimal code sample. ```python. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Error output. ```pytb. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__'",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2949
https://github.com/scverse/scanpy/issues/2949:498,interoperability,compon,components,498,"missing scanpy components; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I tried to do dpt trajectory analysis but constantly reminded of lacking this and that attributes. When I print out the components in the scanpy directory, it does seem to lack lots of components as shown below:. ```. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. I installed the latest version of scanpy 1.9.3 and python 3.9, my computer is MacBook Pro 2020. ### Minimal code sample. ```python. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Error output. ```pytb. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__'",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2949
https://github.com/scverse/scanpy/issues/2949:15,modifiability,compon,components,15,"missing scanpy components; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I tried to do dpt trajectory analysis but constantly reminded of lacking this and that attributes. When I print out the components in the scanpy directory, it does seem to lack lots of components as shown below:. ```. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. I installed the latest version of scanpy 1.9.3 and python 3.9, my computer is MacBook Pro 2020. ### Minimal code sample. ```python. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Error output. ```pytb. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__'",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2949
https://github.com/scverse/scanpy/issues/2949:195,modifiability,version,version,195,"missing scanpy components; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I tried to do dpt trajectory analysis but constantly reminded of lacking this and that attributes. When I print out the components in the scanpy directory, it does seem to lack lots of components as shown below:. ```. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. I installed the latest version of scanpy 1.9.3 and python 3.9, my computer is MacBook Pro 2020. ### Minimal code sample. ```python. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Error output. ```pytb. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__'",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2949
https://github.com/scverse/scanpy/issues/2949:433,modifiability,compon,components,433,"missing scanpy components; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I tried to do dpt trajectory analysis but constantly reminded of lacking this and that attributes. When I print out the components in the scanpy directory, it does seem to lack lots of components as shown below:. ```. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. I installed the latest version of scanpy 1.9.3 and python 3.9, my computer is MacBook Pro 2020. ### Minimal code sample. ```python. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Error output. ```pytb. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__'",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2949
https://github.com/scverse/scanpy/issues/2949:498,modifiability,compon,components,498,"missing scanpy components; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I tried to do dpt trajectory analysis but constantly reminded of lacking this and that attributes. When I print out the components in the scanpy directory, it does seem to lack lots of components as shown below:. ```. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. I installed the latest version of scanpy 1.9.3 and python 3.9, my computer is MacBook Pro 2020. ### Minimal code sample. ```python. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Error output. ```pytb. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__'",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2949
https://github.com/scverse/scanpy/issues/2949:1173,modifiability,version,version,1173,"sts on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I tried to do dpt trajectory analysis but constantly reminded of lacking this and that attributes. When I print out the components in the scanpy directory, it does seem to lack lots of components as shown below:. ```. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. I installed the latest version of scanpy 1.9.3 and python 3.9, my computer is MacBook Pro 2020. ### Minimal code sample. ```python. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Error output. ```pytb. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', '",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2949
https://github.com/scverse/scanpy/issues/2949:2551,modifiability,Version,Versions,2551,"s__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. I installed the latest version of scanpy 1.9.3 and python 3.9, my computer is MacBook Pro 2020. ### Minimal code sample. ```python. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Error output. ```pytb. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Versions. <details>. ```. ```. </details>. 1.9.3",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2949
https://github.com/scverse/scanpy/issues/2949:1905,performance,Error,Error,1905,"s__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. I installed the latest version of scanpy 1.9.3 and python 3.9, my computer is MacBook Pro 2020. ### Minimal code sample. ```python. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Error output. ```pytb. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Versions. <details>. ```. ```. </details>. 1.9.3",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2949
https://github.com/scverse/scanpy/issues/2949:472,reliability,doe,does,472,"missing scanpy components; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I tried to do dpt trajectory analysis but constantly reminded of lacking this and that attributes. When I print out the components in the scanpy directory, it does seem to lack lots of components as shown below:. ```. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. I installed the latest version of scanpy 1.9.3 and python 3.9, my computer is MacBook Pro 2020. ### Minimal code sample. ```python. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Error output. ```pytb. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__'",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2949
https://github.com/scverse/scanpy/issues/2949:827,safety,log,logging,827,"missing scanpy components; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I tried to do dpt trajectory analysis but constantly reminded of lacking this and that attributes. When I print out the components in the scanpy directory, it does seem to lack lots of components as shown below:. ```. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. I installed the latest version of scanpy 1.9.3 and python 3.9, my computer is MacBook Pro 2020. ### Minimal code sample. ```python. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Error output. ```pytb. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__'",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2949
https://github.com/scverse/scanpy/issues/2949:1578,safety,log,logging,1578,"sity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. I installed the latest version of scanpy 1.9.3 and python 3.9, my computer is MacBook Pro 2020. ### Minimal code sample. ```python. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Error output. ```pytb. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Versions. <details>. ```. ```. ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2949
https://github.com/scverse/scanpy/issues/2949:1905,safety,Error,Error,1905,"s__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. I installed the latest version of scanpy 1.9.3 and python 3.9, my computer is MacBook Pro 2020. ### Minimal code sample. ```python. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Error output. ```pytb. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Versions. <details>. ```. ```. </details>. 1.9.3",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2949
https://github.com/scverse/scanpy/issues/2949:2224,safety,log,logging,2224,"s__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. I installed the latest version of scanpy 1.9.3 and python 3.9, my computer is MacBook Pro 2020. ### Minimal code sample. ```python. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Error output. ```pytb. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Versions. <details>. ```. ```. </details>. 1.9.3",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2949
https://github.com/scverse/scanpy/issues/2949:827,security,log,logging,827,"missing scanpy components; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I tried to do dpt trajectory analysis but constantly reminded of lacking this and that attributes. When I print out the components in the scanpy directory, it does seem to lack lots of components as shown below:. ```. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. I installed the latest version of scanpy 1.9.3 and python 3.9, my computer is MacBook Pro 2020. ### Minimal code sample. ```python. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Error output. ```pytb. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__'",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2949
https://github.com/scverse/scanpy/issues/2949:1578,security,log,logging,1578,"sity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. I installed the latest version of scanpy 1.9.3 and python 3.9, my computer is MacBook Pro 2020. ### Minimal code sample. ```python. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Error output. ```pytb. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Versions. <details>. ```. ```. ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2949
https://github.com/scverse/scanpy/issues/2949:2224,security,log,logging,2224,"s__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. I installed the latest version of scanpy 1.9.3 and python 3.9, my computer is MacBook Pro 2020. ### Minimal code sample. ```python. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Error output. ```pytb. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Versions. <details>. ```. ```. </details>. 1.9.3",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2949
https://github.com/scverse/scanpy/issues/2949:827,testability,log,logging,827,"missing scanpy components; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I tried to do dpt trajectory analysis but constantly reminded of lacking this and that attributes. When I print out the components in the scanpy directory, it does seem to lack lots of components as shown below:. ```. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. I installed the latest version of scanpy 1.9.3 and python 3.9, my computer is MacBook Pro 2020. ### Minimal code sample. ```python. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Error output. ```pytb. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__'",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2949
https://github.com/scverse/scanpy/issues/2949:1578,testability,log,logging,1578,"sity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. I installed the latest version of scanpy 1.9.3 and python 3.9, my computer is MacBook Pro 2020. ### Minimal code sample. ```python. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Error output. ```pytb. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Versions. <details>. ```. ```. ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2949
https://github.com/scverse/scanpy/issues/2949:2224,testability,log,logging,2224,"s__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. I installed the latest version of scanpy 1.9.3 and python 3.9, my computer is MacBook Pro 2020. ### Minimal code sample. ```python. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Error output. ```pytb. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Versions. <details>. ```. ```. </details>. 1.9.3",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2949
https://github.com/scverse/scanpy/issues/2949:155,usability,confirm,confirmed,155,"missing scanpy components; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I tried to do dpt trajectory analysis but constantly reminded of lacking this and that attributes. When I print out the components in the scanpy directory, it does seem to lack lots of components as shown below:. ```. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. I installed the latest version of scanpy 1.9.3 and python 3.9, my computer is MacBook Pro 2020. ### Minimal code sample. ```python. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Error output. ```pytb. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__'",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2949
https://github.com/scverse/scanpy/issues/2949:238,usability,confirm,confirmed,238,"missing scanpy components; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I tried to do dpt trajectory analysis but constantly reminded of lacking this and that attributes. When I print out the components in the scanpy directory, it does seem to lack lots of components as shown below:. ```. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. I installed the latest version of scanpy 1.9.3 and python 3.9, my computer is MacBook Pro 2020. ### Minimal code sample. ```python. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Error output. ```pytb. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__'",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2949
https://github.com/scverse/scanpy/issues/2949:1127,usability,tool,tools,1127,"n reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I tried to do dpt trajectory analysis but constantly reminded of lacking this and that attributes. When I print out the components in the scanpy directory, it does seem to lack lots of components as shown below:. ```. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. I installed the latest version of scanpy 1.9.3 and python 3.9, my computer is MacBook Pro 2020. ### Minimal code sample. ```python. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Error output. ```pytb. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2949
https://github.com/scverse/scanpy/issues/2949:1250,usability,Minim,Minimal,1250,"ug exists on the main branch of scanpy. ### What happened? I tried to do dpt trajectory analysis but constantly reminded of lacking this and that attributes. When I print out the components in the scanpy directory, it does seem to lack lots of components as shown below:. ```. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. I installed the latest version of scanpy 1.9.3 and python 3.9, my computer is MacBook Pro 2020. ### Minimal code sample. ```python. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Error output. ```pytb. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbor",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2949
https://github.com/scverse/scanpy/issues/2949:1878,usability,tool,tools,1878,"s__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. I installed the latest version of scanpy 1.9.3 and python 3.9, my computer is MacBook Pro 2020. ### Minimal code sample. ```python. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Error output. ```pytb. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Versions. <details>. ```. ```. </details>. 1.9.3",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2949
https://github.com/scverse/scanpy/issues/2949:1905,usability,Error,Error,1905,"s__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. I installed the latest version of scanpy 1.9.3 and python 3.9, my computer is MacBook Pro 2020. ### Minimal code sample. ```python. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Error output. ```pytb. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Versions. <details>. ```. ```. </details>. 1.9.3",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2949
https://github.com/scverse/scanpy/issues/2949:2524,usability,tool,tools,2524,"s__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. I installed the latest version of scanpy 1.9.3 and python 3.9, my computer is MacBook Pro 2020. ### Minimal code sample. ```python. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Error output. ```pytb. >>> print(dir(sc)). ['AnnData', 'Neighbors', 'Verbosity', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_compat', '_metadata', '_settings', '_utils', 'concat', 'datasets', 'experimental', 'external', 'get', 'logging', 'metrics', 'neighbors', 'pl', 'plotting', 'pp', 'preprocessing', 'queries', 'read', 'read_10x_h5', 'read_10x_mtx', 'read_csv', 'read_excel', 'read_h5ad', 'read_hdf', 'read_loom', 'read_mtx', 'read_text', 'read_umi_tools', 'read_visium', 'readwrite', 'set_figure_params', 'settings', 'tl', 'tools', 'write']. ```. ### Versions. <details>. ```. ```. </details>. 1.9.3",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2949
https://github.com/scverse/scanpy/pull/2950:469,deployability,releas,release,469,Check that aggregate is only called on anndata; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2930. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: Fixing something that never made it to a release.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2950
https://github.com/scverse/scanpy/pull/2950:494,deployability,Releas,Release,494,Check that aggregate is only called on anndata; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2930. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: Fixing something that never made it to a release.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2950
https://github.com/scverse/scanpy/pull/2950:572,deployability,releas,release,572,Check that aggregate is only called on anndata; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2930. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: Fixing something that never made it to a release.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2950
https://github.com/scverse/scanpy/pull/2950:267,safety,review,review,267,Check that aggregate is only called on anndata; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2930. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: Fixing something that never made it to a release.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2950
https://github.com/scverse/scanpy/pull/2950:371,safety,Test,Tests,371,Check that aggregate is only called on anndata; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2930. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: Fixing something that never made it to a release.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2950
https://github.com/scverse/scanpy/pull/2950:267,testability,review,review,267,Check that aggregate is only called on anndata; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2930. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: Fixing something that never made it to a release.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2950
https://github.com/scverse/scanpy/pull/2950:371,testability,Test,Tests,371,Check that aggregate is only called on anndata; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2930. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: Fixing something that never made it to a release.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2950
https://github.com/scverse/scanpy/pull/2950:118,usability,guid,guidelines,118,Check that aggregate is only called on anndata; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2930. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: Fixing something that never made it to a release.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2950
https://github.com/scverse/scanpy/pull/2950:149,usability,guid,guide,149,Check that aggregate is only called on anndata; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2930. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: Fixing something that never made it to a release.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2950
https://github.com/scverse/scanpy/pull/2950:245,usability,workflow,workflow,245,Check that aggregate is only called on anndata; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2930. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: Fixing something that never made it to a release.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2950
https://github.com/scverse/scanpy/pull/2950:351,usability,Close,Closes,351,Check that aggregate is only called on anndata; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2930. - [x] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: Fixing something that never made it to a release.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2950
https://github.com/scverse/scanpy/pull/2951:0,deployability,Updat,Update,0,Update leiden future warning; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2935. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: Code has not been in a release.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2951
https://github.com/scverse/scanpy/pull/2951:451,deployability,releas,release,451,Update leiden future warning; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2935. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: Code has not been in a release.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2951
https://github.com/scverse/scanpy/pull/2951:476,deployability,Releas,Release,476,Update leiden future warning; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2935. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: Code has not been in a release.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2951
https://github.com/scverse/scanpy/pull/2951:536,deployability,releas,release,536,Update leiden future warning; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2935. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: Code has not been in a release.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2951
https://github.com/scverse/scanpy/pull/2951:0,safety,Updat,Update,0,Update leiden future warning; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2935. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: Code has not been in a release.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2951
https://github.com/scverse/scanpy/pull/2951:249,safety,review,review,249,Update leiden future warning; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2935. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: Code has not been in a release.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2951
https://github.com/scverse/scanpy/pull/2951:353,safety,Test,Tests,353,Update leiden future warning; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2935. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: Code has not been in a release.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2951
https://github.com/scverse/scanpy/pull/2951:0,security,Updat,Update,0,Update leiden future warning; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2935. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: Code has not been in a release.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2951
https://github.com/scverse/scanpy/pull/2951:249,testability,review,review,249,Update leiden future warning; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2935. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: Code has not been in a release.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2951
https://github.com/scverse/scanpy/pull/2951:353,testability,Test,Tests,353,Update leiden future warning; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2935. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: Code has not been in a release.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2951
https://github.com/scverse/scanpy/pull/2951:100,usability,guid,guidelines,100,Update leiden future warning; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2935. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: Code has not been in a release.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2951
https://github.com/scverse/scanpy/pull/2951:131,usability,guid,guide,131,Update leiden future warning; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2935. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: Code has not been in a release.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2951
https://github.com/scverse/scanpy/pull/2951:227,usability,workflow,workflow,227,Update leiden future warning; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2935. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: Code has not been in a release.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2951
https://github.com/scverse/scanpy/pull/2951:333,usability,Close,Closes,333,Update leiden future warning; <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->. <!-- Please check (“- [x]”) and fill in the following boxes -->. - [x] Closes #2935. - [ ] Tests included or not required because:. <!-- Only check the following box if you did not include release notes -->. - [x] Release notes not necessary because: Code has not been in a release.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2951
https://github.com/scverse/scanpy/issues/2954:551,availability,error,error,551,"`pl.rank_genes_groups_violin` should be able to pass `**kwds` to `pl.violin`; ### What kind of feature would you like to request? Additional function parameters. ### Please describe your wishes. All the plotting functions in the `pl.rank_genes_groups_<plot-type>` group are able to pass additional keywords to their parent plot type for extra tuning, apart from `pl.rank_genes_groups_violin`. Was this by design, or is it an omission? If the latter, I'm happy to work on a PR to fix it (I found myself today wanting to pass `log=True`, only to get an error).",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2954
https://github.com/scverse/scanpy/issues/2954:525,deployability,log,log,525,"`pl.rank_genes_groups_violin` should be able to pass `**kwds` to `pl.violin`; ### What kind of feature would you like to request? Additional function parameters. ### Please describe your wishes. All the plotting functions in the `pl.rank_genes_groups_<plot-type>` group are able to pass additional keywords to their parent plot type for extra tuning, apart from `pl.rank_genes_groups_violin`. Was this by design, or is it an omission? If the latter, I'm happy to work on a PR to fix it (I found myself today wanting to pass `log=True`, only to get an error).",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2954
https://github.com/scverse/scanpy/issues/2954:150,modifiability,paramet,parameters,150,"`pl.rank_genes_groups_violin` should be able to pass `**kwds` to `pl.violin`; ### What kind of feature would you like to request? Additional function parameters. ### Please describe your wishes. All the plotting functions in the `pl.rank_genes_groups_<plot-type>` group are able to pass additional keywords to their parent plot type for extra tuning, apart from `pl.rank_genes_groups_violin`. Was this by design, or is it an omission? If the latter, I'm happy to work on a PR to fix it (I found myself today wanting to pass `log=True`, only to get an error).",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2954
https://github.com/scverse/scanpy/issues/2954:551,performance,error,error,551,"`pl.rank_genes_groups_violin` should be able to pass `**kwds` to `pl.violin`; ### What kind of feature would you like to request? Additional function parameters. ### Please describe your wishes. All the plotting functions in the `pl.rank_genes_groups_<plot-type>` group are able to pass additional keywords to their parent plot type for extra tuning, apart from `pl.rank_genes_groups_violin`. Was this by design, or is it an omission? If the latter, I'm happy to work on a PR to fix it (I found myself today wanting to pass `log=True`, only to get an error).",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2954
https://github.com/scverse/scanpy/issues/2954:525,safety,log,log,525,"`pl.rank_genes_groups_violin` should be able to pass `**kwds` to `pl.violin`; ### What kind of feature would you like to request? Additional function parameters. ### Please describe your wishes. All the plotting functions in the `pl.rank_genes_groups_<plot-type>` group are able to pass additional keywords to their parent plot type for extra tuning, apart from `pl.rank_genes_groups_violin`. Was this by design, or is it an omission? If the latter, I'm happy to work on a PR to fix it (I found myself today wanting to pass `log=True`, only to get an error).",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2954
https://github.com/scverse/scanpy/issues/2954:551,safety,error,error,551,"`pl.rank_genes_groups_violin` should be able to pass `**kwds` to `pl.violin`; ### What kind of feature would you like to request? Additional function parameters. ### Please describe your wishes. All the plotting functions in the `pl.rank_genes_groups_<plot-type>` group are able to pass additional keywords to their parent plot type for extra tuning, apart from `pl.rank_genes_groups_violin`. Was this by design, or is it an omission? If the latter, I'm happy to work on a PR to fix it (I found myself today wanting to pass `log=True`, only to get an error).",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2954
https://github.com/scverse/scanpy/issues/2954:525,security,log,log,525,"`pl.rank_genes_groups_violin` should be able to pass `**kwds` to `pl.violin`; ### What kind of feature would you like to request? Additional function parameters. ### Please describe your wishes. All the plotting functions in the `pl.rank_genes_groups_<plot-type>` group are able to pass additional keywords to their parent plot type for extra tuning, apart from `pl.rank_genes_groups_violin`. Was this by design, or is it an omission? If the latter, I'm happy to work on a PR to fix it (I found myself today wanting to pass `log=True`, only to get an error).",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2954
https://github.com/scverse/scanpy/issues/2954:525,testability,log,log,525,"`pl.rank_genes_groups_violin` should be able to pass `**kwds` to `pl.violin`; ### What kind of feature would you like to request? Additional function parameters. ### Please describe your wishes. All the plotting functions in the `pl.rank_genes_groups_<plot-type>` group are able to pass additional keywords to their parent plot type for extra tuning, apart from `pl.rank_genes_groups_violin`. Was this by design, or is it an omission? If the latter, I'm happy to work on a PR to fix it (I found myself today wanting to pass `log=True`, only to get an error).",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2954
https://github.com/scverse/scanpy/issues/2954:551,usability,error,error,551,"`pl.rank_genes_groups_violin` should be able to pass `**kwds` to `pl.violin`; ### What kind of feature would you like to request? Additional function parameters. ### Please describe your wishes. All the plotting functions in the `pl.rank_genes_groups_<plot-type>` group are able to pass additional keywords to their parent plot type for extra tuning, apart from `pl.rank_genes_groups_violin`. Was this by design, or is it an omission? If the latter, I'm happy to work on a PR to fix it (I found myself today wanting to pass `log=True`, only to get an error).",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2954
https://github.com/scverse/scanpy/issues/2955:351,availability,avail,available,351,"plots in Rstudio messed up; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I am using Rstudio as the only means available by my institution through slurm to do single cell analysis. and the plots using scanpy are messed up. i tried different parameters. I am not sure if this issue is related to rstudio or i am doing something wrong. . ### Minimal code sample. ```python. sc.pl.umap(. sample,. color=[""supercluster_term""],. legend_loc=""right margin"", # or choose the location you prefer. legend_fontsize=5, # Adjust font size if needed. frameon=True,. title=[""Provided cell type""],. ). ```. ### Error output. _No response_. ### Versions. -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 10.2.0. absl NA. array_api_compat 1.4.1. attr 23.2.0. chex 0.1.85. contextlib2 NA. cycler 0.12.1. cython_runtime NA. dateutil 2.9.0.post0. docrep 0.3.2. etils 1.5.2. exceptiongroup 1.2.0. flax 0.8.1. fsspec 2024.2.0. h5py 3.10.0. igraph 0.10.8. importlib_resources NA. jax 0.4.25. jaxlib 0.4.25. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.2. lightning 2.1.4. lightning_utilities 0.10.1. llvmlite 0.42.0. louvain 0.8.1. markupsafe 2.1.5. matplotlib 3.8.3. ml_collections NA. ml_dtypes 0.3.2. mpl_toolkits NA. mpmath 1.3.0. msgpack 1.0.8. mudata 0.2.3. multipledispatch 0.6.0. natsort 8.4.0. numba 0.59.0. numpy 1.26.4. numpyro 0.14.0. opt_einsum v3.3.0. optax 0.2.1. packaging 23.2. pandas 2.2.1. pkg_resources NA. pygments 2.17.2. pynndescent 0.5.11. pyparsing 3.1.2. pyro 1.9.0. pytz 2024.1. rich NA. rpycall NA. rpytools NA. scipy 1.12.0. scvi 1.1.2. session_info 1.0.0. six 1.16.0. sklearn 1.4.1.post1. skmisc 0.3.1. sympy 1.12. texttable 1.7.0. threadpoolctl 3.3.0. toolz 0.12.1. torch 2.2.1+cu121. torchgen NA. torchmetrics 1.3.1. tqdm 4.66.2. t",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2955
https://github.com/scverse/scanpy/issues/2955:835,availability,Error,Error,835,"plots in Rstudio messed up; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I am using Rstudio as the only means available by my institution through slurm to do single cell analysis. and the plots using scanpy are messed up. i tried different parameters. I am not sure if this issue is related to rstudio or i am doing something wrong. . ### Minimal code sample. ```python. sc.pl.umap(. sample,. color=[""supercluster_term""],. legend_loc=""right margin"", # or choose the location you prefer. legend_fontsize=5, # Adjust font size if needed. frameon=True,. title=[""Provided cell type""],. ). ```. ### Error output. _No response_. ### Versions. -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 10.2.0. absl NA. array_api_compat 1.4.1. attr 23.2.0. chex 0.1.85. contextlib2 NA. cycler 0.12.1. cython_runtime NA. dateutil 2.9.0.post0. docrep 0.3.2. etils 1.5.2. exceptiongroup 1.2.0. flax 0.8.1. fsspec 2024.2.0. h5py 3.10.0. igraph 0.10.8. importlib_resources NA. jax 0.4.25. jaxlib 0.4.25. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.2. lightning 2.1.4. lightning_utilities 0.10.1. llvmlite 0.42.0. louvain 0.8.1. markupsafe 2.1.5. matplotlib 3.8.3. ml_collections NA. ml_dtypes 0.3.2. mpl_toolkits NA. mpmath 1.3.0. msgpack 1.0.8. mudata 0.2.3. multipledispatch 0.6.0. natsort 8.4.0. numba 0.59.0. numpy 1.26.4. numpyro 0.14.0. opt_einsum v3.3.0. optax 0.2.1. packaging 23.2. pandas 2.2.1. pkg_resources NA. pygments 2.17.2. pynndescent 0.5.11. pyparsing 3.1.2. pyro 1.9.0. pytz 2024.1. rich NA. rpycall NA. rpytools NA. scipy 1.12.0. scvi 1.1.2. session_info 1.0.0. six 1.16.0. sklearn 1.4.1.post1. skmisc 0.3.1. sympy 1.12. texttable 1.7.0. threadpoolctl 3.3.0. toolz 0.12.1. torch 2.2.1+cu121. torchgen NA. torchmetrics 1.3.1. tqdm 4.66.2. t",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2955
https://github.com/scverse/scanpy/issues/2955:196,deployability,version,version,196,"plots in Rstudio messed up; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I am using Rstudio as the only means available by my institution through slurm to do single cell analysis. and the plots using scanpy are messed up. i tried different parameters. I am not sure if this issue is related to rstudio or i am doing something wrong. . ### Minimal code sample. ```python. sc.pl.umap(. sample,. color=[""supercluster_term""],. legend_loc=""right margin"", # or choose the location you prefer. legend_fontsize=5, # Adjust font size if needed. frameon=True,. title=[""Provided cell type""],. ). ```. ### Error output. _No response_. ### Versions. -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 10.2.0. absl NA. array_api_compat 1.4.1. attr 23.2.0. chex 0.1.85. contextlib2 NA. cycler 0.12.1. cython_runtime NA. dateutil 2.9.0.post0. docrep 0.3.2. etils 1.5.2. exceptiongroup 1.2.0. flax 0.8.1. fsspec 2024.2.0. h5py 3.10.0. igraph 0.10.8. importlib_resources NA. jax 0.4.25. jaxlib 0.4.25. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.2. lightning 2.1.4. lightning_utilities 0.10.1. llvmlite 0.42.0. louvain 0.8.1. markupsafe 2.1.5. matplotlib 3.8.3. ml_collections NA. ml_dtypes 0.3.2. mpl_toolkits NA. mpmath 1.3.0. msgpack 1.0.8. mudata 0.2.3. multipledispatch 0.6.0. natsort 8.4.0. numba 0.59.0. numpy 1.26.4. numpyro 0.14.0. opt_einsum v3.3.0. optax 0.2.1. packaging 23.2. pandas 2.2.1. pkg_resources NA. pygments 2.17.2. pynndescent 0.5.11. pyparsing 3.1.2. pyro 1.9.0. pytz 2024.1. rich NA. rpycall NA. rpytools NA. scipy 1.12.0. scvi 1.1.2. session_info 1.0.0. six 1.16.0. sklearn 1.4.1.post1. skmisc 0.3.1. sympy 1.12. texttable 1.7.0. threadpoolctl 3.3.0. toolz 0.12.1. torch 2.2.1+cu121. torchgen NA. torchmetrics 1.3.1. tqdm 4.66.2. t",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2955
https://github.com/scverse/scanpy/issues/2955:868,deployability,Version,Versions,868,"plots in Rstudio messed up; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I am using Rstudio as the only means available by my institution through slurm to do single cell analysis. and the plots using scanpy are messed up. i tried different parameters. I am not sure if this issue is related to rstudio or i am doing something wrong. . ### Minimal code sample. ```python. sc.pl.umap(. sample,. color=[""supercluster_term""],. legend_loc=""right margin"", # or choose the location you prefer. legend_fontsize=5, # Adjust font size if needed. frameon=True,. title=[""Provided cell type""],. ). ```. ### Error output. _No response_. ### Versions. -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 10.2.0. absl NA. array_api_compat 1.4.1. attr 23.2.0. chex 0.1.85. contextlib2 NA. cycler 0.12.1. cython_runtime NA. dateutil 2.9.0.post0. docrep 0.3.2. etils 1.5.2. exceptiongroup 1.2.0. flax 0.8.1. fsspec 2024.2.0. h5py 3.10.0. igraph 0.10.8. importlib_resources NA. jax 0.4.25. jaxlib 0.4.25. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.2. lightning 2.1.4. lightning_utilities 0.10.1. llvmlite 0.42.0. louvain 0.8.1. markupsafe 2.1.5. matplotlib 3.8.3. ml_collections NA. ml_dtypes 0.3.2. mpl_toolkits NA. mpmath 1.3.0. msgpack 1.0.8. mudata 0.2.3. multipledispatch 0.6.0. natsort 8.4.0. numba 0.59.0. numpy 1.26.4. numpyro 0.14.0. opt_einsum v3.3.0. optax 0.2.1. packaging 23.2. pandas 2.2.1. pkg_resources NA. pygments 2.17.2. pynndescent 0.5.11. pyparsing 3.1.2. pyro 1.9.0. pytz 2024.1. rich NA. rpycall NA. rpytools NA. scipy 1.12.0. scvi 1.1.2. session_info 1.0.0. six 1.16.0. sklearn 1.4.1.post1. skmisc 0.3.1. sympy 1.12. texttable 1.7.0. threadpoolctl 3.3.0. toolz 0.12.1. torch 2.2.1+cu121. torchgen NA. torchmetrics 1.3.1. tqdm 4.66.2. t",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2955
https://github.com/scverse/scanpy/issues/2955:2244,deployability,updat,updated,2244,"size=5, # Adjust font size if needed. frameon=True,. title=[""Provided cell type""],. ). ```. ### Error output. _No response_. ### Versions. -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 10.2.0. absl NA. array_api_compat 1.4.1. attr 23.2.0. chex 0.1.85. contextlib2 NA. cycler 0.12.1. cython_runtime NA. dateutil 2.9.0.post0. docrep 0.3.2. etils 1.5.2. exceptiongroup 1.2.0. flax 0.8.1. fsspec 2024.2.0. h5py 3.10.0. igraph 0.10.8. importlib_resources NA. jax 0.4.25. jaxlib 0.4.25. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.2. lightning 2.1.4. lightning_utilities 0.10.1. llvmlite 0.42.0. louvain 0.8.1. markupsafe 2.1.5. matplotlib 3.8.3. ml_collections NA. ml_dtypes 0.3.2. mpl_toolkits NA. mpmath 1.3.0. msgpack 1.0.8. mudata 0.2.3. multipledispatch 0.6.0. natsort 8.4.0. numba 0.59.0. numpy 1.26.4. numpyro 0.14.0. opt_einsum v3.3.0. optax 0.2.1. packaging 23.2. pandas 2.2.1. pkg_resources NA. pygments 2.17.2. pynndescent 0.5.11. pyparsing 3.1.2. pyro 1.9.0. pytz 2024.1. rich NA. rpycall NA. rpytools NA. scipy 1.12.0. scvi 1.1.2. session_info 1.0.0. six 1.16.0. sklearn 1.4.1.post1. skmisc 0.3.1. sympy 1.12. texttable 1.7.0. threadpoolctl 3.3.0. toolz 0.12.1. torch 2.2.1+cu121. torchgen NA. torchmetrics 1.3.1. tqdm 4.66.2. typing_extensions NA. umap 0.5.5. yaml 6.0.1. zipp NA. zoneinfo NA. -----. Python 3.9.18 (main, Jan 4 2024, 00:00:00) [GCC 11.4.1 20230605 (Red Hat 11.4.1-2)]. Linux-5.14.0-162.23.1.el9_1.x86_64-x86_64-with-glibc2.34. -----. Session information updated at 2024-03-25 15:35. <img width=""1407"" alt=""Screenshot 2024-03-25 at 2 29 35 PM"" src=""https://github.com/scverse/scanpy/assets/163191146/cbaf474f-fc62-4769-b1f8-7d9d10556169"">. <img width=""643"" alt=""Screenshot 2024-03-14 at 10 16 46 PM"" src=""https://github.com/scverse/scanpy/assets/163191146/835d5588-0235-4a9a-8def-4191275314c2"">. <img width=""973"" alt=""Screenshot 2024-03-22 at 2 14 30 AM"" src=""https://github.com/scverse/scanpy/assets/163191146/08fc300d-baef-40e7-a528-a1d4c3c957ce"">.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2955
https://github.com/scverse/scanpy/issues/2955:196,integrability,version,version,196,"plots in Rstudio messed up; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I am using Rstudio as the only means available by my institution through slurm to do single cell analysis. and the plots using scanpy are messed up. i tried different parameters. I am not sure if this issue is related to rstudio or i am doing something wrong. . ### Minimal code sample. ```python. sc.pl.umap(. sample,. color=[""supercluster_term""],. legend_loc=""right margin"", # or choose the location you prefer. legend_fontsize=5, # Adjust font size if needed. frameon=True,. title=[""Provided cell type""],. ). ```. ### Error output. _No response_. ### Versions. -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 10.2.0. absl NA. array_api_compat 1.4.1. attr 23.2.0. chex 0.1.85. contextlib2 NA. cycler 0.12.1. cython_runtime NA. dateutil 2.9.0.post0. docrep 0.3.2. etils 1.5.2. exceptiongroup 1.2.0. flax 0.8.1. fsspec 2024.2.0. h5py 3.10.0. igraph 0.10.8. importlib_resources NA. jax 0.4.25. jaxlib 0.4.25. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.2. lightning 2.1.4. lightning_utilities 0.10.1. llvmlite 0.42.0. louvain 0.8.1. markupsafe 2.1.5. matplotlib 3.8.3. ml_collections NA. ml_dtypes 0.3.2. mpl_toolkits NA. mpmath 1.3.0. msgpack 1.0.8. mudata 0.2.3. multipledispatch 0.6.0. natsort 8.4.0. numba 0.59.0. numpy 1.26.4. numpyro 0.14.0. opt_einsum v3.3.0. optax 0.2.1. packaging 23.2. pandas 2.2.1. pkg_resources NA. pygments 2.17.2. pynndescent 0.5.11. pyparsing 3.1.2. pyro 1.9.0. pytz 2024.1. rich NA. rpycall NA. rpytools NA. scipy 1.12.0. scvi 1.1.2. session_info 1.0.0. six 1.16.0. sklearn 1.4.1.post1. skmisc 0.3.1. sympy 1.12. texttable 1.7.0. threadpoolctl 3.3.0. toolz 0.12.1. torch 2.2.1+cu121. torchgen NA. torchmetrics 1.3.1. tqdm 4.66.2. t",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2955
https://github.com/scverse/scanpy/issues/2955:868,integrability,Version,Versions,868,"plots in Rstudio messed up; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I am using Rstudio as the only means available by my institution through slurm to do single cell analysis. and the plots using scanpy are messed up. i tried different parameters. I am not sure if this issue is related to rstudio or i am doing something wrong. . ### Minimal code sample. ```python. sc.pl.umap(. sample,. color=[""supercluster_term""],. legend_loc=""right margin"", # or choose the location you prefer. legend_fontsize=5, # Adjust font size if needed. frameon=True,. title=[""Provided cell type""],. ). ```. ### Error output. _No response_. ### Versions. -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 10.2.0. absl NA. array_api_compat 1.4.1. attr 23.2.0. chex 0.1.85. contextlib2 NA. cycler 0.12.1. cython_runtime NA. dateutil 2.9.0.post0. docrep 0.3.2. etils 1.5.2. exceptiongroup 1.2.0. flax 0.8.1. fsspec 2024.2.0. h5py 3.10.0. igraph 0.10.8. importlib_resources NA. jax 0.4.25. jaxlib 0.4.25. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.2. lightning 2.1.4. lightning_utilities 0.10.1. llvmlite 0.42.0. louvain 0.8.1. markupsafe 2.1.5. matplotlib 3.8.3. ml_collections NA. ml_dtypes 0.3.2. mpl_toolkits NA. mpmath 1.3.0. msgpack 1.0.8. mudata 0.2.3. multipledispatch 0.6.0. natsort 8.4.0. numba 0.59.0. numpy 1.26.4. numpyro 0.14.0. opt_einsum v3.3.0. optax 0.2.1. packaging 23.2. pandas 2.2.1. pkg_resources NA. pygments 2.17.2. pynndescent 0.5.11. pyparsing 3.1.2. pyro 1.9.0. pytz 2024.1. rich NA. rpycall NA. rpytools NA. scipy 1.12.0. scvi 1.1.2. session_info 1.0.0. six 1.16.0. sklearn 1.4.1.post1. skmisc 0.3.1. sympy 1.12. texttable 1.7.0. threadpoolctl 3.3.0. toolz 0.12.1. torch 2.2.1+cu121. torchgen NA. torchmetrics 1.3.1. tqdm 4.66.2. t",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2955
https://github.com/scverse/scanpy/issues/2955:196,modifiability,version,version,196,"plots in Rstudio messed up; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I am using Rstudio as the only means available by my institution through slurm to do single cell analysis. and the plots using scanpy are messed up. i tried different parameters. I am not sure if this issue is related to rstudio or i am doing something wrong. . ### Minimal code sample. ```python. sc.pl.umap(. sample,. color=[""supercluster_term""],. legend_loc=""right margin"", # or choose the location you prefer. legend_fontsize=5, # Adjust font size if needed. frameon=True,. title=[""Provided cell type""],. ). ```. ### Error output. _No response_. ### Versions. -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 10.2.0. absl NA. array_api_compat 1.4.1. attr 23.2.0. chex 0.1.85. contextlib2 NA. cycler 0.12.1. cython_runtime NA. dateutil 2.9.0.post0. docrep 0.3.2. etils 1.5.2. exceptiongroup 1.2.0. flax 0.8.1. fsspec 2024.2.0. h5py 3.10.0. igraph 0.10.8. importlib_resources NA. jax 0.4.25. jaxlib 0.4.25. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.2. lightning 2.1.4. lightning_utilities 0.10.1. llvmlite 0.42.0. louvain 0.8.1. markupsafe 2.1.5. matplotlib 3.8.3. ml_collections NA. ml_dtypes 0.3.2. mpl_toolkits NA. mpmath 1.3.0. msgpack 1.0.8. mudata 0.2.3. multipledispatch 0.6.0. natsort 8.4.0. numba 0.59.0. numpy 1.26.4. numpyro 0.14.0. opt_einsum v3.3.0. optax 0.2.1. packaging 23.2. pandas 2.2.1. pkg_resources NA. pygments 2.17.2. pynndescent 0.5.11. pyparsing 3.1.2. pyro 1.9.0. pytz 2024.1. rich NA. rpycall NA. rpytools NA. scipy 1.12.0. scvi 1.1.2. session_info 1.0.0. six 1.16.0. sklearn 1.4.1.post1. skmisc 0.3.1. sympy 1.12. texttable 1.7.0. threadpoolctl 3.3.0. toolz 0.12.1. torch 2.2.1+cu121. torchgen NA. torchmetrics 1.3.1. tqdm 4.66.2. t",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2955
https://github.com/scverse/scanpy/issues/2955:481,modifiability,paramet,parameters,481,"plots in Rstudio messed up; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I am using Rstudio as the only means available by my institution through slurm to do single cell analysis. and the plots using scanpy are messed up. i tried different parameters. I am not sure if this issue is related to rstudio or i am doing something wrong. . ### Minimal code sample. ```python. sc.pl.umap(. sample,. color=[""supercluster_term""],. legend_loc=""right margin"", # or choose the location you prefer. legend_fontsize=5, # Adjust font size if needed. frameon=True,. title=[""Provided cell type""],. ). ```. ### Error output. _No response_. ### Versions. -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 10.2.0. absl NA. array_api_compat 1.4.1. attr 23.2.0. chex 0.1.85. contextlib2 NA. cycler 0.12.1. cython_runtime NA. dateutil 2.9.0.post0. docrep 0.3.2. etils 1.5.2. exceptiongroup 1.2.0. flax 0.8.1. fsspec 2024.2.0. h5py 3.10.0. igraph 0.10.8. importlib_resources NA. jax 0.4.25. jaxlib 0.4.25. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.2. lightning 2.1.4. lightning_utilities 0.10.1. llvmlite 0.42.0. louvain 0.8.1. markupsafe 2.1.5. matplotlib 3.8.3. ml_collections NA. ml_dtypes 0.3.2. mpl_toolkits NA. mpmath 1.3.0. msgpack 1.0.8. mudata 0.2.3. multipledispatch 0.6.0. natsort 8.4.0. numba 0.59.0. numpy 1.26.4. numpyro 0.14.0. opt_einsum v3.3.0. optax 0.2.1. packaging 23.2. pandas 2.2.1. pkg_resources NA. pygments 2.17.2. pynndescent 0.5.11. pyparsing 3.1.2. pyro 1.9.0. pytz 2024.1. rich NA. rpycall NA. rpytools NA. scipy 1.12.0. scvi 1.1.2. session_info 1.0.0. six 1.16.0. sklearn 1.4.1.post1. skmisc 0.3.1. sympy 1.12. texttable 1.7.0. threadpoolctl 3.3.0. toolz 0.12.1. torch 2.2.1+cu121. torchgen NA. torchmetrics 1.3.1. tqdm 4.66.2. t",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2955
https://github.com/scverse/scanpy/issues/2955:868,modifiability,Version,Versions,868,"plots in Rstudio messed up; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I am using Rstudio as the only means available by my institution through slurm to do single cell analysis. and the plots using scanpy are messed up. i tried different parameters. I am not sure if this issue is related to rstudio or i am doing something wrong. . ### Minimal code sample. ```python. sc.pl.umap(. sample,. color=[""supercluster_term""],. legend_loc=""right margin"", # or choose the location you prefer. legend_fontsize=5, # Adjust font size if needed. frameon=True,. title=[""Provided cell type""],. ). ```. ### Error output. _No response_. ### Versions. -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 10.2.0. absl NA. array_api_compat 1.4.1. attr 23.2.0. chex 0.1.85. contextlib2 NA. cycler 0.12.1. cython_runtime NA. dateutil 2.9.0.post0. docrep 0.3.2. etils 1.5.2. exceptiongroup 1.2.0. flax 0.8.1. fsspec 2024.2.0. h5py 3.10.0. igraph 0.10.8. importlib_resources NA. jax 0.4.25. jaxlib 0.4.25. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.2. lightning 2.1.4. lightning_utilities 0.10.1. llvmlite 0.42.0. louvain 0.8.1. markupsafe 2.1.5. matplotlib 3.8.3. ml_collections NA. ml_dtypes 0.3.2. mpl_toolkits NA. mpmath 1.3.0. msgpack 1.0.8. mudata 0.2.3. multipledispatch 0.6.0. natsort 8.4.0. numba 0.59.0. numpy 1.26.4. numpyro 0.14.0. opt_einsum v3.3.0. optax 0.2.1. packaging 23.2. pandas 2.2.1. pkg_resources NA. pygments 2.17.2. pynndescent 0.5.11. pyparsing 3.1.2. pyro 1.9.0. pytz 2024.1. rich NA. rpycall NA. rpytools NA. scipy 1.12.0. scvi 1.1.2. session_info 1.0.0. six 1.16.0. sklearn 1.4.1.post1. skmisc 0.3.1. sympy 1.12. texttable 1.7.0. threadpoolctl 3.3.0. toolz 0.12.1. torch 2.2.1+cu121. torchgen NA. torchmetrics 1.3.1. tqdm 4.66.2. t",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2955
https://github.com/scverse/scanpy/issues/2955:1616,modifiability,pac,packaging,1616,"p(. sample,. color=[""supercluster_term""],. legend_loc=""right margin"", # or choose the location you prefer. legend_fontsize=5, # Adjust font size if needed. frameon=True,. title=[""Provided cell type""],. ). ```. ### Error output. _No response_. ### Versions. -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 10.2.0. absl NA. array_api_compat 1.4.1. attr 23.2.0. chex 0.1.85. contextlib2 NA. cycler 0.12.1. cython_runtime NA. dateutil 2.9.0.post0. docrep 0.3.2. etils 1.5.2. exceptiongroup 1.2.0. flax 0.8.1. fsspec 2024.2.0. h5py 3.10.0. igraph 0.10.8. importlib_resources NA. jax 0.4.25. jaxlib 0.4.25. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.2. lightning 2.1.4. lightning_utilities 0.10.1. llvmlite 0.42.0. louvain 0.8.1. markupsafe 2.1.5. matplotlib 3.8.3. ml_collections NA. ml_dtypes 0.3.2. mpl_toolkits NA. mpmath 1.3.0. msgpack 1.0.8. mudata 0.2.3. multipledispatch 0.6.0. natsort 8.4.0. numba 0.59.0. numpy 1.26.4. numpyro 0.14.0. opt_einsum v3.3.0. optax 0.2.1. packaging 23.2. pandas 2.2.1. pkg_resources NA. pygments 2.17.2. pynndescent 0.5.11. pyparsing 3.1.2. pyro 1.9.0. pytz 2024.1. rich NA. rpycall NA. rpytools NA. scipy 1.12.0. scvi 1.1.2. session_info 1.0.0. six 1.16.0. sklearn 1.4.1.post1. skmisc 0.3.1. sympy 1.12. texttable 1.7.0. threadpoolctl 3.3.0. toolz 0.12.1. torch 2.2.1+cu121. torchgen NA. torchmetrics 1.3.1. tqdm 4.66.2. typing_extensions NA. umap 0.5.5. yaml 6.0.1. zipp NA. zoneinfo NA. -----. Python 3.9.18 (main, Jan 4 2024, 00:00:00) [GCC 11.4.1 20230605 (Red Hat 11.4.1-2)]. Linux-5.14.0-162.23.1.el9_1.x86_64-x86_64-with-glibc2.34. -----. Session information updated at 2024-03-25 15:35. <img width=""1407"" alt=""Screenshot 2024-03-25 at 2 29 35 PM"" src=""https://github.com/scverse/scanpy/assets/163191146/cbaf474f-fc62-4769-b1f8-7d9d10556169"">. <img width=""643"" alt=""Screenshot 2024-03-14 at 10 16 46 PM"" src=""https://github.com/scverse/scanpy/assets/163191146/835d5588-0235-4a9a-8def-4191275314c2"">. <img width=""973"" alt=""Screenshot 202",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2955
https://github.com/scverse/scanpy/issues/2955:835,performance,Error,Error,835,"plots in Rstudio messed up; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I am using Rstudio as the only means available by my institution through slurm to do single cell analysis. and the plots using scanpy are messed up. i tried different parameters. I am not sure if this issue is related to rstudio or i am doing something wrong. . ### Minimal code sample. ```python. sc.pl.umap(. sample,. color=[""supercluster_term""],. legend_loc=""right margin"", # or choose the location you prefer. legend_fontsize=5, # Adjust font size if needed. frameon=True,. title=[""Provided cell type""],. ). ```. ### Error output. _No response_. ### Versions. -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 10.2.0. absl NA. array_api_compat 1.4.1. attr 23.2.0. chex 0.1.85. contextlib2 NA. cycler 0.12.1. cython_runtime NA. dateutil 2.9.0.post0. docrep 0.3.2. etils 1.5.2. exceptiongroup 1.2.0. flax 0.8.1. fsspec 2024.2.0. h5py 3.10.0. igraph 0.10.8. importlib_resources NA. jax 0.4.25. jaxlib 0.4.25. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.2. lightning 2.1.4. lightning_utilities 0.10.1. llvmlite 0.42.0. louvain 0.8.1. markupsafe 2.1.5. matplotlib 3.8.3. ml_collections NA. ml_dtypes 0.3.2. mpl_toolkits NA. mpmath 1.3.0. msgpack 1.0.8. mudata 0.2.3. multipledispatch 0.6.0. natsort 8.4.0. numba 0.59.0. numpy 1.26.4. numpyro 0.14.0. opt_einsum v3.3.0. optax 0.2.1. packaging 23.2. pandas 2.2.1. pkg_resources NA. pygments 2.17.2. pynndescent 0.5.11. pyparsing 3.1.2. pyro 1.9.0. pytz 2024.1. rich NA. rpycall NA. rpytools NA. scipy 1.12.0. scvi 1.1.2. session_info 1.0.0. six 1.16.0. sklearn 1.4.1.post1. skmisc 0.3.1. sympy 1.12. texttable 1.7.0. threadpoolctl 3.3.0. toolz 0.12.1. torch 2.2.1+cu121. torchgen NA. torchmetrics 1.3.1. tqdm 4.66.2. t",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2955
https://github.com/scverse/scanpy/issues/2955:351,reliability,availab,available,351,"plots in Rstudio messed up; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I am using Rstudio as the only means available by my institution through slurm to do single cell analysis. and the plots using scanpy are messed up. i tried different parameters. I am not sure if this issue is related to rstudio or i am doing something wrong. . ### Minimal code sample. ```python. sc.pl.umap(. sample,. color=[""supercluster_term""],. legend_loc=""right margin"", # or choose the location you prefer. legend_fontsize=5, # Adjust font size if needed. frameon=True,. title=[""Provided cell type""],. ). ```. ### Error output. _No response_. ### Versions. -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 10.2.0. absl NA. array_api_compat 1.4.1. attr 23.2.0. chex 0.1.85. contextlib2 NA. cycler 0.12.1. cython_runtime NA. dateutil 2.9.0.post0. docrep 0.3.2. etils 1.5.2. exceptiongroup 1.2.0. flax 0.8.1. fsspec 2024.2.0. h5py 3.10.0. igraph 0.10.8. importlib_resources NA. jax 0.4.25. jaxlib 0.4.25. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.2. lightning 2.1.4. lightning_utilities 0.10.1. llvmlite 0.42.0. louvain 0.8.1. markupsafe 2.1.5. matplotlib 3.8.3. ml_collections NA. ml_dtypes 0.3.2. mpl_toolkits NA. mpmath 1.3.0. msgpack 1.0.8. mudata 0.2.3. multipledispatch 0.6.0. natsort 8.4.0. numba 0.59.0. numpy 1.26.4. numpyro 0.14.0. opt_einsum v3.3.0. optax 0.2.1. packaging 23.2. pandas 2.2.1. pkg_resources NA. pygments 2.17.2. pynndescent 0.5.11. pyparsing 3.1.2. pyro 1.9.0. pytz 2024.1. rich NA. rpycall NA. rpytools NA. scipy 1.12.0. scvi 1.1.2. session_info 1.0.0. six 1.16.0. sklearn 1.4.1.post1. skmisc 0.3.1. sympy 1.12. texttable 1.7.0. threadpoolctl 3.3.0. toolz 0.12.1. torch 2.2.1+cu121. torchgen NA. torchmetrics 1.3.1. tqdm 4.66.2. t",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2955
https://github.com/scverse/scanpy/issues/2955:351,safety,avail,available,351,"plots in Rstudio messed up; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I am using Rstudio as the only means available by my institution through slurm to do single cell analysis. and the plots using scanpy are messed up. i tried different parameters. I am not sure if this issue is related to rstudio or i am doing something wrong. . ### Minimal code sample. ```python. sc.pl.umap(. sample,. color=[""supercluster_term""],. legend_loc=""right margin"", # or choose the location you prefer. legend_fontsize=5, # Adjust font size if needed. frameon=True,. title=[""Provided cell type""],. ). ```. ### Error output. _No response_. ### Versions. -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 10.2.0. absl NA. array_api_compat 1.4.1. attr 23.2.0. chex 0.1.85. contextlib2 NA. cycler 0.12.1. cython_runtime NA. dateutil 2.9.0.post0. docrep 0.3.2. etils 1.5.2. exceptiongroup 1.2.0. flax 0.8.1. fsspec 2024.2.0. h5py 3.10.0. igraph 0.10.8. importlib_resources NA. jax 0.4.25. jaxlib 0.4.25. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.2. lightning 2.1.4. lightning_utilities 0.10.1. llvmlite 0.42.0. louvain 0.8.1. markupsafe 2.1.5. matplotlib 3.8.3. ml_collections NA. ml_dtypes 0.3.2. mpl_toolkits NA. mpmath 1.3.0. msgpack 1.0.8. mudata 0.2.3. multipledispatch 0.6.0. natsort 8.4.0. numba 0.59.0. numpy 1.26.4. numpyro 0.14.0. opt_einsum v3.3.0. optax 0.2.1. packaging 23.2. pandas 2.2.1. pkg_resources NA. pygments 2.17.2. pynndescent 0.5.11. pyparsing 3.1.2. pyro 1.9.0. pytz 2024.1. rich NA. rpycall NA. rpytools NA. scipy 1.12.0. scvi 1.1.2. session_info 1.0.0. six 1.16.0. sklearn 1.4.1.post1. skmisc 0.3.1. sympy 1.12. texttable 1.7.0. threadpoolctl 3.3.0. toolz 0.12.1. torch 2.2.1+cu121. torchgen NA. torchmetrics 1.3.1. tqdm 4.66.2. t",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2955
https://github.com/scverse/scanpy/issues/2955:835,safety,Error,Error,835,"plots in Rstudio messed up; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I am using Rstudio as the only means available by my institution through slurm to do single cell analysis. and the plots using scanpy are messed up. i tried different parameters. I am not sure if this issue is related to rstudio or i am doing something wrong. . ### Minimal code sample. ```python. sc.pl.umap(. sample,. color=[""supercluster_term""],. legend_loc=""right margin"", # or choose the location you prefer. legend_fontsize=5, # Adjust font size if needed. frameon=True,. title=[""Provided cell type""],. ). ```. ### Error output. _No response_. ### Versions. -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 10.2.0. absl NA. array_api_compat 1.4.1. attr 23.2.0. chex 0.1.85. contextlib2 NA. cycler 0.12.1. cython_runtime NA. dateutil 2.9.0.post0. docrep 0.3.2. etils 1.5.2. exceptiongroup 1.2.0. flax 0.8.1. fsspec 2024.2.0. h5py 3.10.0. igraph 0.10.8. importlib_resources NA. jax 0.4.25. jaxlib 0.4.25. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.2. lightning 2.1.4. lightning_utilities 0.10.1. llvmlite 0.42.0. louvain 0.8.1. markupsafe 2.1.5. matplotlib 3.8.3. ml_collections NA. ml_dtypes 0.3.2. mpl_toolkits NA. mpmath 1.3.0. msgpack 1.0.8. mudata 0.2.3. multipledispatch 0.6.0. natsort 8.4.0. numba 0.59.0. numpy 1.26.4. numpyro 0.14.0. opt_einsum v3.3.0. optax 0.2.1. packaging 23.2. pandas 2.2.1. pkg_resources NA. pygments 2.17.2. pynndescent 0.5.11. pyparsing 3.1.2. pyro 1.9.0. pytz 2024.1. rich NA. rpycall NA. rpytools NA. scipy 1.12.0. scvi 1.1.2. session_info 1.0.0. six 1.16.0. sklearn 1.4.1.post1. skmisc 0.3.1. sympy 1.12. texttable 1.7.0. threadpoolctl 3.3.0. toolz 0.12.1. torch 2.2.1+cu121. torchgen NA. torchmetrics 1.3.1. tqdm 4.66.2. t",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2955
https://github.com/scverse/scanpy/issues/2955:1098,safety,except,exceptiongroup,1098," issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I am using Rstudio as the only means available by my institution through slurm to do single cell analysis. and the plots using scanpy are messed up. i tried different parameters. I am not sure if this issue is related to rstudio or i am doing something wrong. . ### Minimal code sample. ```python. sc.pl.umap(. sample,. color=[""supercluster_term""],. legend_loc=""right margin"", # or choose the location you prefer. legend_fontsize=5, # Adjust font size if needed. frameon=True,. title=[""Provided cell type""],. ). ```. ### Error output. _No response_. ### Versions. -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 10.2.0. absl NA. array_api_compat 1.4.1. attr 23.2.0. chex 0.1.85. contextlib2 NA. cycler 0.12.1. cython_runtime NA. dateutil 2.9.0.post0. docrep 0.3.2. etils 1.5.2. exceptiongroup 1.2.0. flax 0.8.1. fsspec 2024.2.0. h5py 3.10.0. igraph 0.10.8. importlib_resources NA. jax 0.4.25. jaxlib 0.4.25. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.2. lightning 2.1.4. lightning_utilities 0.10.1. llvmlite 0.42.0. louvain 0.8.1. markupsafe 2.1.5. matplotlib 3.8.3. ml_collections NA. ml_dtypes 0.3.2. mpl_toolkits NA. mpmath 1.3.0. msgpack 1.0.8. mudata 0.2.3. multipledispatch 0.6.0. natsort 8.4.0. numba 0.59.0. numpy 1.26.4. numpyro 0.14.0. opt_einsum v3.3.0. optax 0.2.1. packaging 23.2. pandas 2.2.1. pkg_resources NA. pygments 2.17.2. pynndescent 0.5.11. pyparsing 3.1.2. pyro 1.9.0. pytz 2024.1. rich NA. rpycall NA. rpytools NA. scipy 1.12.0. scvi 1.1.2. session_info 1.0.0. six 1.16.0. sklearn 1.4.1.post1. skmisc 0.3.1. sympy 1.12. texttable 1.7.0. threadpoolctl 3.3.0. toolz 0.12.1. torch 2.2.1+cu121. torchgen NA. torchmetrics 1.3.1. tqdm 4.66.2. typing_extensions NA. umap 0.5.5. yaml 6.0.1. zipp NA. zoneinfo NA. -----. Python 3.9.18 (main, Jan 4 2024",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2955
https://github.com/scverse/scanpy/issues/2955:2244,safety,updat,updated,2244,"size=5, # Adjust font size if needed. frameon=True,. title=[""Provided cell type""],. ). ```. ### Error output. _No response_. ### Versions. -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 10.2.0. absl NA. array_api_compat 1.4.1. attr 23.2.0. chex 0.1.85. contextlib2 NA. cycler 0.12.1. cython_runtime NA. dateutil 2.9.0.post0. docrep 0.3.2. etils 1.5.2. exceptiongroup 1.2.0. flax 0.8.1. fsspec 2024.2.0. h5py 3.10.0. igraph 0.10.8. importlib_resources NA. jax 0.4.25. jaxlib 0.4.25. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.2. lightning 2.1.4. lightning_utilities 0.10.1. llvmlite 0.42.0. louvain 0.8.1. markupsafe 2.1.5. matplotlib 3.8.3. ml_collections NA. ml_dtypes 0.3.2. mpl_toolkits NA. mpmath 1.3.0. msgpack 1.0.8. mudata 0.2.3. multipledispatch 0.6.0. natsort 8.4.0. numba 0.59.0. numpy 1.26.4. numpyro 0.14.0. opt_einsum v3.3.0. optax 0.2.1. packaging 23.2. pandas 2.2.1. pkg_resources NA. pygments 2.17.2. pynndescent 0.5.11. pyparsing 3.1.2. pyro 1.9.0. pytz 2024.1. rich NA. rpycall NA. rpytools NA. scipy 1.12.0. scvi 1.1.2. session_info 1.0.0. six 1.16.0. sklearn 1.4.1.post1. skmisc 0.3.1. sympy 1.12. texttable 1.7.0. threadpoolctl 3.3.0. toolz 0.12.1. torch 2.2.1+cu121. torchgen NA. torchmetrics 1.3.1. tqdm 4.66.2. typing_extensions NA. umap 0.5.5. yaml 6.0.1. zipp NA. zoneinfo NA. -----. Python 3.9.18 (main, Jan 4 2024, 00:00:00) [GCC 11.4.1 20230605 (Red Hat 11.4.1-2)]. Linux-5.14.0-162.23.1.el9_1.x86_64-x86_64-with-glibc2.34. -----. Session information updated at 2024-03-25 15:35. <img width=""1407"" alt=""Screenshot 2024-03-25 at 2 29 35 PM"" src=""https://github.com/scverse/scanpy/assets/163191146/cbaf474f-fc62-4769-b1f8-7d9d10556169"">. <img width=""643"" alt=""Screenshot 2024-03-14 at 10 16 46 PM"" src=""https://github.com/scverse/scanpy/assets/163191146/835d5588-0235-4a9a-8def-4191275314c2"">. <img width=""973"" alt=""Screenshot 2024-03-22 at 2 14 30 AM"" src=""https://github.com/scverse/scanpy/assets/163191146/08fc300d-baef-40e7-a528-a1d4c3c957ce"">.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2955
https://github.com/scverse/scanpy/issues/2955:351,security,availab,available,351,"plots in Rstudio messed up; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I am using Rstudio as the only means available by my institution through slurm to do single cell analysis. and the plots using scanpy are messed up. i tried different parameters. I am not sure if this issue is related to rstudio or i am doing something wrong. . ### Minimal code sample. ```python. sc.pl.umap(. sample,. color=[""supercluster_term""],. legend_loc=""right margin"", # or choose the location you prefer. legend_fontsize=5, # Adjust font size if needed. frameon=True,. title=[""Provided cell type""],. ). ```. ### Error output. _No response_. ### Versions. -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 10.2.0. absl NA. array_api_compat 1.4.1. attr 23.2.0. chex 0.1.85. contextlib2 NA. cycler 0.12.1. cython_runtime NA. dateutil 2.9.0.post0. docrep 0.3.2. etils 1.5.2. exceptiongroup 1.2.0. flax 0.8.1. fsspec 2024.2.0. h5py 3.10.0. igraph 0.10.8. importlib_resources NA. jax 0.4.25. jaxlib 0.4.25. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.2. lightning 2.1.4. lightning_utilities 0.10.1. llvmlite 0.42.0. louvain 0.8.1. markupsafe 2.1.5. matplotlib 3.8.3. ml_collections NA. ml_dtypes 0.3.2. mpl_toolkits NA. mpmath 1.3.0. msgpack 1.0.8. mudata 0.2.3. multipledispatch 0.6.0. natsort 8.4.0. numba 0.59.0. numpy 1.26.4. numpyro 0.14.0. opt_einsum v3.3.0. optax 0.2.1. packaging 23.2. pandas 2.2.1. pkg_resources NA. pygments 2.17.2. pynndescent 0.5.11. pyparsing 3.1.2. pyro 1.9.0. pytz 2024.1. rich NA. rpycall NA. rpytools NA. scipy 1.12.0. scvi 1.1.2. session_info 1.0.0. six 1.16.0. sklearn 1.4.1.post1. skmisc 0.3.1. sympy 1.12. texttable 1.7.0. threadpoolctl 3.3.0. toolz 0.12.1. torch 2.2.1+cu121. torchgen NA. torchmetrics 1.3.1. tqdm 4.66.2. t",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2955
https://github.com/scverse/scanpy/issues/2955:2224,security,Session,Session,2224,"size=5, # Adjust font size if needed. frameon=True,. title=[""Provided cell type""],. ). ```. ### Error output. _No response_. ### Versions. -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 10.2.0. absl NA. array_api_compat 1.4.1. attr 23.2.0. chex 0.1.85. contextlib2 NA. cycler 0.12.1. cython_runtime NA. dateutil 2.9.0.post0. docrep 0.3.2. etils 1.5.2. exceptiongroup 1.2.0. flax 0.8.1. fsspec 2024.2.0. h5py 3.10.0. igraph 0.10.8. importlib_resources NA. jax 0.4.25. jaxlib 0.4.25. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.2. lightning 2.1.4. lightning_utilities 0.10.1. llvmlite 0.42.0. louvain 0.8.1. markupsafe 2.1.5. matplotlib 3.8.3. ml_collections NA. ml_dtypes 0.3.2. mpl_toolkits NA. mpmath 1.3.0. msgpack 1.0.8. mudata 0.2.3. multipledispatch 0.6.0. natsort 8.4.0. numba 0.59.0. numpy 1.26.4. numpyro 0.14.0. opt_einsum v3.3.0. optax 0.2.1. packaging 23.2. pandas 2.2.1. pkg_resources NA. pygments 2.17.2. pynndescent 0.5.11. pyparsing 3.1.2. pyro 1.9.0. pytz 2024.1. rich NA. rpycall NA. rpytools NA. scipy 1.12.0. scvi 1.1.2. session_info 1.0.0. six 1.16.0. sklearn 1.4.1.post1. skmisc 0.3.1. sympy 1.12. texttable 1.7.0. threadpoolctl 3.3.0. toolz 0.12.1. torch 2.2.1+cu121. torchgen NA. torchmetrics 1.3.1. tqdm 4.66.2. typing_extensions NA. umap 0.5.5. yaml 6.0.1. zipp NA. zoneinfo NA. -----. Python 3.9.18 (main, Jan 4 2024, 00:00:00) [GCC 11.4.1 20230605 (Red Hat 11.4.1-2)]. Linux-5.14.0-162.23.1.el9_1.x86_64-x86_64-with-glibc2.34. -----. Session information updated at 2024-03-25 15:35. <img width=""1407"" alt=""Screenshot 2024-03-25 at 2 29 35 PM"" src=""https://github.com/scverse/scanpy/assets/163191146/cbaf474f-fc62-4769-b1f8-7d9d10556169"">. <img width=""643"" alt=""Screenshot 2024-03-14 at 10 16 46 PM"" src=""https://github.com/scverse/scanpy/assets/163191146/835d5588-0235-4a9a-8def-4191275314c2"">. <img width=""973"" alt=""Screenshot 2024-03-22 at 2 14 30 AM"" src=""https://github.com/scverse/scanpy/assets/163191146/08fc300d-baef-40e7-a528-a1d4c3c957ce"">.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2955
https://github.com/scverse/scanpy/issues/2955:2244,security,updat,updated,2244,"size=5, # Adjust font size if needed. frameon=True,. title=[""Provided cell type""],. ). ```. ### Error output. _No response_. ### Versions. -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 10.2.0. absl NA. array_api_compat 1.4.1. attr 23.2.0. chex 0.1.85. contextlib2 NA. cycler 0.12.1. cython_runtime NA. dateutil 2.9.0.post0. docrep 0.3.2. etils 1.5.2. exceptiongroup 1.2.0. flax 0.8.1. fsspec 2024.2.0. h5py 3.10.0. igraph 0.10.8. importlib_resources NA. jax 0.4.25. jaxlib 0.4.25. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.2. lightning 2.1.4. lightning_utilities 0.10.1. llvmlite 0.42.0. louvain 0.8.1. markupsafe 2.1.5. matplotlib 3.8.3. ml_collections NA. ml_dtypes 0.3.2. mpl_toolkits NA. mpmath 1.3.0. msgpack 1.0.8. mudata 0.2.3. multipledispatch 0.6.0. natsort 8.4.0. numba 0.59.0. numpy 1.26.4. numpyro 0.14.0. opt_einsum v3.3.0. optax 0.2.1. packaging 23.2. pandas 2.2.1. pkg_resources NA. pygments 2.17.2. pynndescent 0.5.11. pyparsing 3.1.2. pyro 1.9.0. pytz 2024.1. rich NA. rpycall NA. rpytools NA. scipy 1.12.0. scvi 1.1.2. session_info 1.0.0. six 1.16.0. sklearn 1.4.1.post1. skmisc 0.3.1. sympy 1.12. texttable 1.7.0. threadpoolctl 3.3.0. toolz 0.12.1. torch 2.2.1+cu121. torchgen NA. torchmetrics 1.3.1. tqdm 4.66.2. typing_extensions NA. umap 0.5.5. yaml 6.0.1. zipp NA. zoneinfo NA. -----. Python 3.9.18 (main, Jan 4 2024, 00:00:00) [GCC 11.4.1 20230605 (Red Hat 11.4.1-2)]. Linux-5.14.0-162.23.1.el9_1.x86_64-x86_64-with-glibc2.34. -----. Session information updated at 2024-03-25 15:35. <img width=""1407"" alt=""Screenshot 2024-03-25 at 2 29 35 PM"" src=""https://github.com/scverse/scanpy/assets/163191146/cbaf474f-fc62-4769-b1f8-7d9d10556169"">. <img width=""643"" alt=""Screenshot 2024-03-14 at 10 16 46 PM"" src=""https://github.com/scverse/scanpy/assets/163191146/835d5588-0235-4a9a-8def-4191275314c2"">. <img width=""973"" alt=""Screenshot 2024-03-22 at 2 14 30 AM"" src=""https://github.com/scverse/scanpy/assets/163191146/08fc300d-baef-40e7-a528-a1d4c3c957ce"">.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2955
https://github.com/scverse/scanpy/issues/2955:156,usability,confirm,confirmed,156,"plots in Rstudio messed up; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I am using Rstudio as the only means available by my institution through slurm to do single cell analysis. and the plots using scanpy are messed up. i tried different parameters. I am not sure if this issue is related to rstudio or i am doing something wrong. . ### Minimal code sample. ```python. sc.pl.umap(. sample,. color=[""supercluster_term""],. legend_loc=""right margin"", # or choose the location you prefer. legend_fontsize=5, # Adjust font size if needed. frameon=True,. title=[""Provided cell type""],. ). ```. ### Error output. _No response_. ### Versions. -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 10.2.0. absl NA. array_api_compat 1.4.1. attr 23.2.0. chex 0.1.85. contextlib2 NA. cycler 0.12.1. cython_runtime NA. dateutil 2.9.0.post0. docrep 0.3.2. etils 1.5.2. exceptiongroup 1.2.0. flax 0.8.1. fsspec 2024.2.0. h5py 3.10.0. igraph 0.10.8. importlib_resources NA. jax 0.4.25. jaxlib 0.4.25. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.2. lightning 2.1.4. lightning_utilities 0.10.1. llvmlite 0.42.0. louvain 0.8.1. markupsafe 2.1.5. matplotlib 3.8.3. ml_collections NA. ml_dtypes 0.3.2. mpl_toolkits NA. mpmath 1.3.0. msgpack 1.0.8. mudata 0.2.3. multipledispatch 0.6.0. natsort 8.4.0. numba 0.59.0. numpy 1.26.4. numpyro 0.14.0. opt_einsum v3.3.0. optax 0.2.1. packaging 23.2. pandas 2.2.1. pkg_resources NA. pygments 2.17.2. pynndescent 0.5.11. pyparsing 3.1.2. pyro 1.9.0. pytz 2024.1. rich NA. rpycall NA. rpytools NA. scipy 1.12.0. scvi 1.1.2. session_info 1.0.0. six 1.16.0. sklearn 1.4.1.post1. skmisc 0.3.1. sympy 1.12. texttable 1.7.0. threadpoolctl 3.3.0. toolz 0.12.1. torch 2.2.1+cu121. torchgen NA. torchmetrics 1.3.1. tqdm 4.66.2. t",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2955
https://github.com/scverse/scanpy/issues/2955:239,usability,confirm,confirmed,239,"plots in Rstudio messed up; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I am using Rstudio as the only means available by my institution through slurm to do single cell analysis. and the plots using scanpy are messed up. i tried different parameters. I am not sure if this issue is related to rstudio or i am doing something wrong. . ### Minimal code sample. ```python. sc.pl.umap(. sample,. color=[""supercluster_term""],. legend_loc=""right margin"", # or choose the location you prefer. legend_fontsize=5, # Adjust font size if needed. frameon=True,. title=[""Provided cell type""],. ). ```. ### Error output. _No response_. ### Versions. -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 10.2.0. absl NA. array_api_compat 1.4.1. attr 23.2.0. chex 0.1.85. contextlib2 NA. cycler 0.12.1. cython_runtime NA. dateutil 2.9.0.post0. docrep 0.3.2. etils 1.5.2. exceptiongroup 1.2.0. flax 0.8.1. fsspec 2024.2.0. h5py 3.10.0. igraph 0.10.8. importlib_resources NA. jax 0.4.25. jaxlib 0.4.25. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.2. lightning 2.1.4. lightning_utilities 0.10.1. llvmlite 0.42.0. louvain 0.8.1. markupsafe 2.1.5. matplotlib 3.8.3. ml_collections NA. ml_dtypes 0.3.2. mpl_toolkits NA. mpmath 1.3.0. msgpack 1.0.8. mudata 0.2.3. multipledispatch 0.6.0. natsort 8.4.0. numba 0.59.0. numpy 1.26.4. numpyro 0.14.0. opt_einsum v3.3.0. optax 0.2.1. packaging 23.2. pandas 2.2.1. pkg_resources NA. pygments 2.17.2. pynndescent 0.5.11. pyparsing 3.1.2. pyro 1.9.0. pytz 2024.1. rich NA. rpycall NA. rpytools NA. scipy 1.12.0. scvi 1.1.2. session_info 1.0.0. six 1.16.0. sklearn 1.4.1.post1. skmisc 0.3.1. sympy 1.12. texttable 1.7.0. threadpoolctl 3.3.0. toolz 0.12.1. torch 2.2.1+cu121. torchgen NA. torchmetrics 1.3.1. tqdm 4.66.2. t",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2955
https://github.com/scverse/scanpy/issues/2955:580,usability,Minim,Minimal,580,"plots in Rstudio messed up; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I am using Rstudio as the only means available by my institution through slurm to do single cell analysis. and the plots using scanpy are messed up. i tried different parameters. I am not sure if this issue is related to rstudio or i am doing something wrong. . ### Minimal code sample. ```python. sc.pl.umap(. sample,. color=[""supercluster_term""],. legend_loc=""right margin"", # or choose the location you prefer. legend_fontsize=5, # Adjust font size if needed. frameon=True,. title=[""Provided cell type""],. ). ```. ### Error output. _No response_. ### Versions. -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 10.2.0. absl NA. array_api_compat 1.4.1. attr 23.2.0. chex 0.1.85. contextlib2 NA. cycler 0.12.1. cython_runtime NA. dateutil 2.9.0.post0. docrep 0.3.2. etils 1.5.2. exceptiongroup 1.2.0. flax 0.8.1. fsspec 2024.2.0. h5py 3.10.0. igraph 0.10.8. importlib_resources NA. jax 0.4.25. jaxlib 0.4.25. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.2. lightning 2.1.4. lightning_utilities 0.10.1. llvmlite 0.42.0. louvain 0.8.1. markupsafe 2.1.5. matplotlib 3.8.3. ml_collections NA. ml_dtypes 0.3.2. mpl_toolkits NA. mpmath 1.3.0. msgpack 1.0.8. mudata 0.2.3. multipledispatch 0.6.0. natsort 8.4.0. numba 0.59.0. numpy 1.26.4. numpyro 0.14.0. opt_einsum v3.3.0. optax 0.2.1. packaging 23.2. pandas 2.2.1. pkg_resources NA. pygments 2.17.2. pynndescent 0.5.11. pyparsing 3.1.2. pyro 1.9.0. pytz 2024.1. rich NA. rpycall NA. rpytools NA. scipy 1.12.0. scvi 1.1.2. session_info 1.0.0. six 1.16.0. sklearn 1.4.1.post1. skmisc 0.3.1. sympy 1.12. texttable 1.7.0. threadpoolctl 3.3.0. toolz 0.12.1. torch 2.2.1+cu121. torchgen NA. torchmetrics 1.3.1. tqdm 4.66.2. t",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2955
https://github.com/scverse/scanpy/issues/2955:720,usability,prefer,prefer,720,"plots in Rstudio messed up; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I am using Rstudio as the only means available by my institution through slurm to do single cell analysis. and the plots using scanpy are messed up. i tried different parameters. I am not sure if this issue is related to rstudio or i am doing something wrong. . ### Minimal code sample. ```python. sc.pl.umap(. sample,. color=[""supercluster_term""],. legend_loc=""right margin"", # or choose the location you prefer. legend_fontsize=5, # Adjust font size if needed. frameon=True,. title=[""Provided cell type""],. ). ```. ### Error output. _No response_. ### Versions. -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 10.2.0. absl NA. array_api_compat 1.4.1. attr 23.2.0. chex 0.1.85. contextlib2 NA. cycler 0.12.1. cython_runtime NA. dateutil 2.9.0.post0. docrep 0.3.2. etils 1.5.2. exceptiongroup 1.2.0. flax 0.8.1. fsspec 2024.2.0. h5py 3.10.0. igraph 0.10.8. importlib_resources NA. jax 0.4.25. jaxlib 0.4.25. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.2. lightning 2.1.4. lightning_utilities 0.10.1. llvmlite 0.42.0. louvain 0.8.1. markupsafe 2.1.5. matplotlib 3.8.3. ml_collections NA. ml_dtypes 0.3.2. mpl_toolkits NA. mpmath 1.3.0. msgpack 1.0.8. mudata 0.2.3. multipledispatch 0.6.0. natsort 8.4.0. numba 0.59.0. numpy 1.26.4. numpyro 0.14.0. opt_einsum v3.3.0. optax 0.2.1. packaging 23.2. pandas 2.2.1. pkg_resources NA. pygments 2.17.2. pynndescent 0.5.11. pyparsing 3.1.2. pyro 1.9.0. pytz 2024.1. rich NA. rpycall NA. rpytools NA. scipy 1.12.0. scvi 1.1.2. session_info 1.0.0. six 1.16.0. sklearn 1.4.1.post1. skmisc 0.3.1. sympy 1.12. texttable 1.7.0. threadpoolctl 3.3.0. toolz 0.12.1. torch 2.2.1+cu121. torchgen NA. torchmetrics 1.3.1. tqdm 4.66.2. t",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2955
https://github.com/scverse/scanpy/issues/2955:835,usability,Error,Error,835,"plots in Rstudio messed up; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I am using Rstudio as the only means available by my institution through slurm to do single cell analysis. and the plots using scanpy are messed up. i tried different parameters. I am not sure if this issue is related to rstudio or i am doing something wrong. . ### Minimal code sample. ```python. sc.pl.umap(. sample,. color=[""supercluster_term""],. legend_loc=""right margin"", # or choose the location you prefer. legend_fontsize=5, # Adjust font size if needed. frameon=True,. title=[""Provided cell type""],. ). ```. ### Error output. _No response_. ### Versions. -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 10.2.0. absl NA. array_api_compat 1.4.1. attr 23.2.0. chex 0.1.85. contextlib2 NA. cycler 0.12.1. cython_runtime NA. dateutil 2.9.0.post0. docrep 0.3.2. etils 1.5.2. exceptiongroup 1.2.0. flax 0.8.1. fsspec 2024.2.0. h5py 3.10.0. igraph 0.10.8. importlib_resources NA. jax 0.4.25. jaxlib 0.4.25. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.2. lightning 2.1.4. lightning_utilities 0.10.1. llvmlite 0.42.0. louvain 0.8.1. markupsafe 2.1.5. matplotlib 3.8.3. ml_collections NA. ml_dtypes 0.3.2. mpl_toolkits NA. mpmath 1.3.0. msgpack 1.0.8. mudata 0.2.3. multipledispatch 0.6.0. natsort 8.4.0. numba 0.59.0. numpy 1.26.4. numpyro 0.14.0. opt_einsum v3.3.0. optax 0.2.1. packaging 23.2. pandas 2.2.1. pkg_resources NA. pygments 2.17.2. pynndescent 0.5.11. pyparsing 3.1.2. pyro 1.9.0. pytz 2024.1. rich NA. rpycall NA. rpytools NA. scipy 1.12.0. scvi 1.1.2. session_info 1.0.0. six 1.16.0. sklearn 1.4.1.post1. skmisc 0.3.1. sympy 1.12. texttable 1.7.0. threadpoolctl 3.3.0. toolz 0.12.1. torch 2.2.1+cu121. torchgen NA. torchmetrics 1.3.1. tqdm 4.66.2. t",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2955
https://github.com/scverse/scanpy/issues/2955:1920,usability,tool,toolz,1920,"size=5, # Adjust font size if needed. frameon=True,. title=[""Provided cell type""],. ). ```. ### Error output. _No response_. ### Versions. -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 10.2.0. absl NA. array_api_compat 1.4.1. attr 23.2.0. chex 0.1.85. contextlib2 NA. cycler 0.12.1. cython_runtime NA. dateutil 2.9.0.post0. docrep 0.3.2. etils 1.5.2. exceptiongroup 1.2.0. flax 0.8.1. fsspec 2024.2.0. h5py 3.10.0. igraph 0.10.8. importlib_resources NA. jax 0.4.25. jaxlib 0.4.25. jinja2 3.1.3. joblib 1.3.2. kiwisolver 1.4.5. leidenalg 0.10.2. lightning 2.1.4. lightning_utilities 0.10.1. llvmlite 0.42.0. louvain 0.8.1. markupsafe 2.1.5. matplotlib 3.8.3. ml_collections NA. ml_dtypes 0.3.2. mpl_toolkits NA. mpmath 1.3.0. msgpack 1.0.8. mudata 0.2.3. multipledispatch 0.6.0. natsort 8.4.0. numba 0.59.0. numpy 1.26.4. numpyro 0.14.0. opt_einsum v3.3.0. optax 0.2.1. packaging 23.2. pandas 2.2.1. pkg_resources NA. pygments 2.17.2. pynndescent 0.5.11. pyparsing 3.1.2. pyro 1.9.0. pytz 2024.1. rich NA. rpycall NA. rpytools NA. scipy 1.12.0. scvi 1.1.2. session_info 1.0.0. six 1.16.0. sklearn 1.4.1.post1. skmisc 0.3.1. sympy 1.12. texttable 1.7.0. threadpoolctl 3.3.0. toolz 0.12.1. torch 2.2.1+cu121. torchgen NA. torchmetrics 1.3.1. tqdm 4.66.2. typing_extensions NA. umap 0.5.5. yaml 6.0.1. zipp NA. zoneinfo NA. -----. Python 3.9.18 (main, Jan 4 2024, 00:00:00) [GCC 11.4.1 20230605 (Red Hat 11.4.1-2)]. Linux-5.14.0-162.23.1.el9_1.x86_64-x86_64-with-glibc2.34. -----. Session information updated at 2024-03-25 15:35. <img width=""1407"" alt=""Screenshot 2024-03-25 at 2 29 35 PM"" src=""https://github.com/scverse/scanpy/assets/163191146/cbaf474f-fc62-4769-b1f8-7d9d10556169"">. <img width=""643"" alt=""Screenshot 2024-03-14 at 10 16 46 PM"" src=""https://github.com/scverse/scanpy/assets/163191146/835d5588-0235-4a9a-8def-4191275314c2"">. <img width=""973"" alt=""Screenshot 2024-03-22 at 2 14 30 AM"" src=""https://github.com/scverse/scanpy/assets/163191146/08fc300d-baef-40e7-a528-a1d4c3c957ce"">.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2955
https://github.com/scverse/scanpy/issues/2956:369,availability,cluster,clustering,369,"tl.leiden suddenly produces different results ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? When i previously performed leiden clustering on my data, the shape of the UMAP changed, as expected. . However, when i now try to reproduce my results, I suddenly am only able to get the leiden clustering that follows the distribution of the unclustered umap . Unclustered UMAP. ![UMAP_ADvsCT_3-18-2024](https://github.com/scverse/scanpy/assets/127406679/2fed0a0c-b20e-425a-a99f-7b1c61f64242). Clustered UMAP: . ![UMAP_ADvsCT](https://github.com/scverse/scanpy/assets/127406679/a1272099-fde4-4025-ad61-392d1342cd0c). the dataset with which i produced the clustered UMAP: . ```. adata3. Out[505]: . AnnData object with n_obs × n_vars = 13243 × 10850. obs: 'n_genes_by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_ribo', 'pct_counts_ribo', 'total_counts_hb', 'pct_counts_hb', 'percent_mt2', 'n_counts', 'sample', 'group', 'disease_status', 'leiden'. var: 'gene_ids', 'mt', 'ribo', 'hb', 'n_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'disease_status_colors', 'hvg', 'leiden', 'leiden_colors', 'log1p', 'neighbors', 'pca', 'sample_colors', 'umap'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. obsp: 'connectivities', 'distances'. ```. the dataset with which i produced the unclustered UMAP: . ```. adata. Out[518]: . AnnData object with n_obs × n_vars = 13243 × 10850. obs: 'n_genes_by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_ribo', 'pct_counts_ribo', 'total_counts_hb', 'pct_counts_hb', 'percent_mt2', 'n_counts', 'sample', 'group', 'disease_status', 'leiden'. var: 'gene_ids', 'mt', 'ribo', 'hb'",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2956
https://github.com/scverse/scanpy/issues/2956:529,availability,cluster,clustering,529,"tl.leiden suddenly produces different results ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? When i previously performed leiden clustering on my data, the shape of the UMAP changed, as expected. . However, when i now try to reproduce my results, I suddenly am only able to get the leiden clustering that follows the distribution of the unclustered umap . Unclustered UMAP. ![UMAP_ADvsCT_3-18-2024](https://github.com/scverse/scanpy/assets/127406679/2fed0a0c-b20e-425a-a99f-7b1c61f64242). Clustered UMAP: . ![UMAP_ADvsCT](https://github.com/scverse/scanpy/assets/127406679/a1272099-fde4-4025-ad61-392d1342cd0c). the dataset with which i produced the clustered UMAP: . ```. adata3. Out[505]: . AnnData object with n_obs × n_vars = 13243 × 10850. obs: 'n_genes_by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_ribo', 'pct_counts_ribo', 'total_counts_hb', 'pct_counts_hb', 'percent_mt2', 'n_counts', 'sample', 'group', 'disease_status', 'leiden'. var: 'gene_ids', 'mt', 'ribo', 'hb', 'n_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'disease_status_colors', 'hvg', 'leiden', 'leiden_colors', 'log1p', 'neighbors', 'pca', 'sample_colors', 'umap'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. obsp: 'connectivities', 'distances'. ```. the dataset with which i produced the unclustered UMAP: . ```. adata. Out[518]: . AnnData object with n_obs × n_vars = 13243 × 10850. obs: 'n_genes_by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_ribo', 'pct_counts_ribo', 'total_counts_hb', 'pct_counts_hb', 'percent_mt2', 'n_counts', 'sample', 'group', 'disease_status', 'leiden'. var: 'gene_ids', 'mt', 'ribo', 'hb'",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2956
https://github.com/scverse/scanpy/issues/2956:729,availability,Cluster,Clustered,729,"tl.leiden suddenly produces different results ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? When i previously performed leiden clustering on my data, the shape of the UMAP changed, as expected. . However, when i now try to reproduce my results, I suddenly am only able to get the leiden clustering that follows the distribution of the unclustered umap . Unclustered UMAP. ![UMAP_ADvsCT_3-18-2024](https://github.com/scverse/scanpy/assets/127406679/2fed0a0c-b20e-425a-a99f-7b1c61f64242). Clustered UMAP: . ![UMAP_ADvsCT](https://github.com/scverse/scanpy/assets/127406679/a1272099-fde4-4025-ad61-392d1342cd0c). the dataset with which i produced the clustered UMAP: . ```. adata3. Out[505]: . AnnData object with n_obs × n_vars = 13243 × 10850. obs: 'n_genes_by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_ribo', 'pct_counts_ribo', 'total_counts_hb', 'pct_counts_hb', 'percent_mt2', 'n_counts', 'sample', 'group', 'disease_status', 'leiden'. var: 'gene_ids', 'mt', 'ribo', 'hb', 'n_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'disease_status_colors', 'hvg', 'leiden', 'leiden_colors', 'log1p', 'neighbors', 'pca', 'sample_colors', 'umap'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. obsp: 'connectivities', 'distances'. ```. the dataset with which i produced the unclustered UMAP: . ```. adata. Out[518]: . AnnData object with n_obs × n_vars = 13243 × 10850. obs: 'n_genes_by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_ribo', 'pct_counts_ribo', 'total_counts_hb', 'pct_counts_hb', 'percent_mt2', 'n_counts', 'sample', 'group', 'disease_status', 'leiden'. var: 'gene_ids', 'mt', 'ribo', 'hb'",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2956
https://github.com/scverse/scanpy/issues/2956:890,availability,cluster,clustered,890,"tl.leiden suddenly produces different results ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? When i previously performed leiden clustering on my data, the shape of the UMAP changed, as expected. . However, when i now try to reproduce my results, I suddenly am only able to get the leiden clustering that follows the distribution of the unclustered umap . Unclustered UMAP. ![UMAP_ADvsCT_3-18-2024](https://github.com/scverse/scanpy/assets/127406679/2fed0a0c-b20e-425a-a99f-7b1c61f64242). Clustered UMAP: . ![UMAP_ADvsCT](https://github.com/scverse/scanpy/assets/127406679/a1272099-fde4-4025-ad61-392d1342cd0c). the dataset with which i produced the clustered UMAP: . ```. adata3. Out[505]: . AnnData object with n_obs × n_vars = 13243 × 10850. obs: 'n_genes_by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_ribo', 'pct_counts_ribo', 'total_counts_hb', 'pct_counts_hb', 'percent_mt2', 'n_counts', 'sample', 'group', 'disease_status', 'leiden'. var: 'gene_ids', 'mt', 'ribo', 'hb', 'n_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'disease_status_colors', 'hvg', 'leiden', 'leiden_colors', 'log1p', 'neighbors', 'pca', 'sample_colors', 'umap'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. obsp: 'connectivities', 'distances'. ```. the dataset with which i produced the unclustered UMAP: . ```. adata. Out[518]: . AnnData object with n_obs × n_vars = 13243 × 10850. obs: 'n_genes_by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_ribo', 'pct_counts_ribo', 'total_counts_hb', 'pct_counts_hb', 'percent_mt2', 'n_counts', 'sample', 'group', 'disease_status', 'leiden'. var: 'gene_ids', 'mt', 'ribo', 'hb'",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2956
https://github.com/scverse/scanpy/issues/2956:2505,availability,cluster,clustering,2505,"rs', 'umap'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. obsp: 'connectivities', 'distances'. ```. the dataset with which i produced the unclustered UMAP: . ```. adata. Out[518]: . AnnData object with n_obs × n_vars = 13243 × 10850. obs: 'n_genes_by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_ribo', 'pct_counts_ribo', 'total_counts_hb', 'pct_counts_hb', 'percent_mt2', 'n_counts', 'sample', 'group', 'disease_status', 'leiden'. var: 'gene_ids', 'mt', 'ribo', 'hb', 'n_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'hvg', 'log1p', 'pca', 'neighbors', 'umap', 'leiden', 'leiden_colors'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. obsp: 'distances', 'connectivities'. ```. Ive tried to check whether the data is maybe different or something, but i dont see anything that could be causing these differences, could you please help trying to figure out why the leiden clustering suddenly produces different results? . ### Minimal code sample. ```python. sc.pp.neighbors(adata, n_pcs = 30, n_neighbors = 20). sc.tl.umap(adata). sc.tl.leiden(adata, resolution = 0.2) . sc.pl.umap(adata, color='leiden'). ```. ### Error output. _No response_. ### Versions. <details>. ```. sc.logging.print_versions(). -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 9.4.0. PyQt5 NA. adjustText 1.0.4. asttokens NA. atomicwrites 1.4.1. bottleneck 1.3.5. brotli NA. bs4 4.12.2. certifi 2024.02.02. cffi 1.15.1. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.2.1. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.0. dask 2023.6.0. dateutil 2.8.2. debugpy 1.8.1. decorator 5.1.1. defusedxml 0.7.1. dill 0.3.8. executing 2.0.1. gseapy 1.1.2. h5py 3.9.0. html5lib 1.1. idna 3.4. igraph 0.11.3. ipykernel 6.29.2. jedi 0.19.1. jinja2 3.1.2. joblib 1.3.2. kiwisolver 1.4.4. leidenalg 0.10.2. llvmlite 0.42.0. lxml 5.1.0. lz4 4.3.2. markupsafe 2.1.1. matplotlib ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2956
https://github.com/scverse/scanpy/issues/2956:2748,availability,Error,Error,2748,"by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_ribo', 'pct_counts_ribo', 'total_counts_hb', 'pct_counts_hb', 'percent_mt2', 'n_counts', 'sample', 'group', 'disease_status', 'leiden'. var: 'gene_ids', 'mt', 'ribo', 'hb', 'n_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'hvg', 'log1p', 'pca', 'neighbors', 'umap', 'leiden', 'leiden_colors'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. obsp: 'distances', 'connectivities'. ```. Ive tried to check whether the data is maybe different or something, but i dont see anything that could be causing these differences, could you please help trying to figure out why the leiden clustering suddenly produces different results? . ### Minimal code sample. ```python. sc.pp.neighbors(adata, n_pcs = 30, n_neighbors = 20). sc.tl.umap(adata). sc.tl.leiden(adata, resolution = 0.2) . sc.pl.umap(adata, color='leiden'). ```. ### Error output. _No response_. ### Versions. <details>. ```. sc.logging.print_versions(). -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 9.4.0. PyQt5 NA. adjustText 1.0.4. asttokens NA. atomicwrites 1.4.1. bottleneck 1.3.5. brotli NA. bs4 4.12.2. certifi 2024.02.02. cffi 1.15.1. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.2.1. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.0. dask 2023.6.0. dateutil 2.8.2. debugpy 1.8.1. decorator 5.1.1. defusedxml 0.7.1. dill 0.3.8. executing 2.0.1. gseapy 1.1.2. h5py 3.9.0. html5lib 1.1. idna 3.4. igraph 0.11.3. ipykernel 6.29.2. jedi 0.19.1. jinja2 3.1.2. joblib 1.3.2. kiwisolver 1.4.4. leidenalg 0.10.2. llvmlite 0.42.0. lxml 5.1.0. lz4 4.3.2. markupsafe 2.1.1. matplotlib 3.7.2. matplotlib_inline 0.1.6. mkl 2.4.1. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.4. numpy 1.24.3. packaging 23.1. pandas 2.0.3. parso 0.8.3. patsy 0.5.3. pickleshare 0.7.5. platformdirs 3.10.0. prompt_toolkit 3.0.42. psut",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2956
https://github.com/scverse/scanpy/issues/2956:216,deployability,version,version,216,"tl.leiden suddenly produces different results ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? When i previously performed leiden clustering on my data, the shape of the UMAP changed, as expected. . However, when i now try to reproduce my results, I suddenly am only able to get the leiden clustering that follows the distribution of the unclustered umap . Unclustered UMAP. ![UMAP_ADvsCT_3-18-2024](https://github.com/scverse/scanpy/assets/127406679/2fed0a0c-b20e-425a-a99f-7b1c61f64242). Clustered UMAP: . ![UMAP_ADvsCT](https://github.com/scverse/scanpy/assets/127406679/a1272099-fde4-4025-ad61-392d1342cd0c). the dataset with which i produced the clustered UMAP: . ```. adata3. Out[505]: . AnnData object with n_obs × n_vars = 13243 × 10850. obs: 'n_genes_by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_ribo', 'pct_counts_ribo', 'total_counts_hb', 'pct_counts_hb', 'percent_mt2', 'n_counts', 'sample', 'group', 'disease_status', 'leiden'. var: 'gene_ids', 'mt', 'ribo', 'hb', 'n_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'disease_status_colors', 'hvg', 'leiden', 'leiden_colors', 'log1p', 'neighbors', 'pca', 'sample_colors', 'umap'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. obsp: 'connectivities', 'distances'. ```. the dataset with which i produced the unclustered UMAP: . ```. adata. Out[518]: . AnnData object with n_obs × n_vars = 13243 × 10850. obs: 'n_genes_by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_ribo', 'pct_counts_ribo', 'total_counts_hb', 'pct_counts_hb', 'percent_mt2', 'n_counts', 'sample', 'group', 'disease_status', 'leiden'. var: 'gene_ids', 'mt', 'ribo', 'hb'",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2956
https://github.com/scverse/scanpy/issues/2956:369,deployability,cluster,clustering,369,"tl.leiden suddenly produces different results ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? When i previously performed leiden clustering on my data, the shape of the UMAP changed, as expected. . However, when i now try to reproduce my results, I suddenly am only able to get the leiden clustering that follows the distribution of the unclustered umap . Unclustered UMAP. ![UMAP_ADvsCT_3-18-2024](https://github.com/scverse/scanpy/assets/127406679/2fed0a0c-b20e-425a-a99f-7b1c61f64242). Clustered UMAP: . ![UMAP_ADvsCT](https://github.com/scverse/scanpy/assets/127406679/a1272099-fde4-4025-ad61-392d1342cd0c). the dataset with which i produced the clustered UMAP: . ```. adata3. Out[505]: . AnnData object with n_obs × n_vars = 13243 × 10850. obs: 'n_genes_by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_ribo', 'pct_counts_ribo', 'total_counts_hb', 'pct_counts_hb', 'percent_mt2', 'n_counts', 'sample', 'group', 'disease_status', 'leiden'. var: 'gene_ids', 'mt', 'ribo', 'hb', 'n_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'disease_status_colors', 'hvg', 'leiden', 'leiden_colors', 'log1p', 'neighbors', 'pca', 'sample_colors', 'umap'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. obsp: 'connectivities', 'distances'. ```. the dataset with which i produced the unclustered UMAP: . ```. adata. Out[518]: . AnnData object with n_obs × n_vars = 13243 × 10850. obs: 'n_genes_by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_ribo', 'pct_counts_ribo', 'total_counts_hb', 'pct_counts_hb', 'percent_mt2', 'n_counts', 'sample', 'group', 'disease_status', 'leiden'. var: 'gene_ids', 'mt', 'ribo', 'hb'",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2956
https://github.com/scverse/scanpy/issues/2956:529,deployability,cluster,clustering,529,"tl.leiden suddenly produces different results ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? When i previously performed leiden clustering on my data, the shape of the UMAP changed, as expected. . However, when i now try to reproduce my results, I suddenly am only able to get the leiden clustering that follows the distribution of the unclustered umap . Unclustered UMAP. ![UMAP_ADvsCT_3-18-2024](https://github.com/scverse/scanpy/assets/127406679/2fed0a0c-b20e-425a-a99f-7b1c61f64242). Clustered UMAP: . ![UMAP_ADvsCT](https://github.com/scverse/scanpy/assets/127406679/a1272099-fde4-4025-ad61-392d1342cd0c). the dataset with which i produced the clustered UMAP: . ```. adata3. Out[505]: . AnnData object with n_obs × n_vars = 13243 × 10850. obs: 'n_genes_by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_ribo', 'pct_counts_ribo', 'total_counts_hb', 'pct_counts_hb', 'percent_mt2', 'n_counts', 'sample', 'group', 'disease_status', 'leiden'. var: 'gene_ids', 'mt', 'ribo', 'hb', 'n_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'disease_status_colors', 'hvg', 'leiden', 'leiden_colors', 'log1p', 'neighbors', 'pca', 'sample_colors', 'umap'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. obsp: 'connectivities', 'distances'. ```. the dataset with which i produced the unclustered UMAP: . ```. adata. Out[518]: . AnnData object with n_obs × n_vars = 13243 × 10850. obs: 'n_genes_by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_ribo', 'pct_counts_ribo', 'total_counts_hb', 'pct_counts_hb', 'percent_mt2', 'n_counts', 'sample', 'group', 'disease_status', 'leiden'. var: 'gene_ids', 'mt', 'ribo', 'hb'",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2956
https://github.com/scverse/scanpy/issues/2956:729,deployability,Cluster,Clustered,729,"tl.leiden suddenly produces different results ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? When i previously performed leiden clustering on my data, the shape of the UMAP changed, as expected. . However, when i now try to reproduce my results, I suddenly am only able to get the leiden clustering that follows the distribution of the unclustered umap . Unclustered UMAP. ![UMAP_ADvsCT_3-18-2024](https://github.com/scverse/scanpy/assets/127406679/2fed0a0c-b20e-425a-a99f-7b1c61f64242). Clustered UMAP: . ![UMAP_ADvsCT](https://github.com/scverse/scanpy/assets/127406679/a1272099-fde4-4025-ad61-392d1342cd0c). the dataset with which i produced the clustered UMAP: . ```. adata3. Out[505]: . AnnData object with n_obs × n_vars = 13243 × 10850. obs: 'n_genes_by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_ribo', 'pct_counts_ribo', 'total_counts_hb', 'pct_counts_hb', 'percent_mt2', 'n_counts', 'sample', 'group', 'disease_status', 'leiden'. var: 'gene_ids', 'mt', 'ribo', 'hb', 'n_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'disease_status_colors', 'hvg', 'leiden', 'leiden_colors', 'log1p', 'neighbors', 'pca', 'sample_colors', 'umap'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. obsp: 'connectivities', 'distances'. ```. the dataset with which i produced the unclustered UMAP: . ```. adata. Out[518]: . AnnData object with n_obs × n_vars = 13243 × 10850. obs: 'n_genes_by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_ribo', 'pct_counts_ribo', 'total_counts_hb', 'pct_counts_hb', 'percent_mt2', 'n_counts', 'sample', 'group', 'disease_status', 'leiden'. var: 'gene_ids', 'mt', 'ribo', 'hb'",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2956
https://github.com/scverse/scanpy/issues/2956:890,deployability,cluster,clustered,890,"tl.leiden suddenly produces different results ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? When i previously performed leiden clustering on my data, the shape of the UMAP changed, as expected. . However, when i now try to reproduce my results, I suddenly am only able to get the leiden clustering that follows the distribution of the unclustered umap . Unclustered UMAP. ![UMAP_ADvsCT_3-18-2024](https://github.com/scverse/scanpy/assets/127406679/2fed0a0c-b20e-425a-a99f-7b1c61f64242). Clustered UMAP: . ![UMAP_ADvsCT](https://github.com/scverse/scanpy/assets/127406679/a1272099-fde4-4025-ad61-392d1342cd0c). the dataset with which i produced the clustered UMAP: . ```. adata3. Out[505]: . AnnData object with n_obs × n_vars = 13243 × 10850. obs: 'n_genes_by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_ribo', 'pct_counts_ribo', 'total_counts_hb', 'pct_counts_hb', 'percent_mt2', 'n_counts', 'sample', 'group', 'disease_status', 'leiden'. var: 'gene_ids', 'mt', 'ribo', 'hb', 'n_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'disease_status_colors', 'hvg', 'leiden', 'leiden_colors', 'log1p', 'neighbors', 'pca', 'sample_colors', 'umap'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. obsp: 'connectivities', 'distances'. ```. the dataset with which i produced the unclustered UMAP: . ```. adata. Out[518]: . AnnData object with n_obs × n_vars = 13243 × 10850. obs: 'n_genes_by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_ribo', 'pct_counts_ribo', 'total_counts_hb', 'pct_counts_hb', 'percent_mt2', 'n_counts', 'sample', 'group', 'disease_status', 'leiden'. var: 'gene_ids', 'mt', 'ribo', 'hb'",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2956
https://github.com/scverse/scanpy/issues/2956:2505,deployability,cluster,clustering,2505,"rs', 'umap'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. obsp: 'connectivities', 'distances'. ```. the dataset with which i produced the unclustered UMAP: . ```. adata. Out[518]: . AnnData object with n_obs × n_vars = 13243 × 10850. obs: 'n_genes_by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_ribo', 'pct_counts_ribo', 'total_counts_hb', 'pct_counts_hb', 'percent_mt2', 'n_counts', 'sample', 'group', 'disease_status', 'leiden'. var: 'gene_ids', 'mt', 'ribo', 'hb', 'n_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'hvg', 'log1p', 'pca', 'neighbors', 'umap', 'leiden', 'leiden_colors'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. obsp: 'distances', 'connectivities'. ```. Ive tried to check whether the data is maybe different or something, but i dont see anything that could be causing these differences, could you please help trying to figure out why the leiden clustering suddenly produces different results? . ### Minimal code sample. ```python. sc.pp.neighbors(adata, n_pcs = 30, n_neighbors = 20). sc.tl.umap(adata). sc.tl.leiden(adata, resolution = 0.2) . sc.pl.umap(adata, color='leiden'). ```. ### Error output. _No response_. ### Versions. <details>. ```. sc.logging.print_versions(). -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 9.4.0. PyQt5 NA. adjustText 1.0.4. asttokens NA. atomicwrites 1.4.1. bottleneck 1.3.5. brotli NA. bs4 4.12.2. certifi 2024.02.02. cffi 1.15.1. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.2.1. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.0. dask 2023.6.0. dateutil 2.8.2. debugpy 1.8.1. decorator 5.1.1. defusedxml 0.7.1. dill 0.3.8. executing 2.0.1. gseapy 1.1.2. h5py 3.9.0. html5lib 1.1. idna 3.4. igraph 0.11.3. ipykernel 6.29.2. jedi 0.19.1. jinja2 3.1.2. joblib 1.3.2. kiwisolver 1.4.4. leidenalg 0.10.2. llvmlite 0.42.0. lxml 5.1.0. lz4 4.3.2. markupsafe 2.1.1. matplotlib ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2956
https://github.com/scverse/scanpy/issues/2956:2781,deployability,Version,Versions,2781,"_counts_mt', 'pct_counts_mt', 'total_counts_ribo', 'pct_counts_ribo', 'total_counts_hb', 'pct_counts_hb', 'percent_mt2', 'n_counts', 'sample', 'group', 'disease_status', 'leiden'. var: 'gene_ids', 'mt', 'ribo', 'hb', 'n_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'hvg', 'log1p', 'pca', 'neighbors', 'umap', 'leiden', 'leiden_colors'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. obsp: 'distances', 'connectivities'. ```. Ive tried to check whether the data is maybe different or something, but i dont see anything that could be causing these differences, could you please help trying to figure out why the leiden clustering suddenly produces different results? . ### Minimal code sample. ```python. sc.pp.neighbors(adata, n_pcs = 30, n_neighbors = 20). sc.tl.umap(adata). sc.tl.leiden(adata, resolution = 0.2) . sc.pl.umap(adata, color='leiden'). ```. ### Error output. _No response_. ### Versions. <details>. ```. sc.logging.print_versions(). -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 9.4.0. PyQt5 NA. adjustText 1.0.4. asttokens NA. atomicwrites 1.4.1. bottleneck 1.3.5. brotli NA. bs4 4.12.2. certifi 2024.02.02. cffi 1.15.1. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.2.1. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.0. dask 2023.6.0. dateutil 2.8.2. debugpy 1.8.1. decorator 5.1.1. defusedxml 0.7.1. dill 0.3.8. executing 2.0.1. gseapy 1.1.2. h5py 3.9.0. html5lib 1.1. idna 3.4. igraph 0.11.3. ipykernel 6.29.2. jedi 0.19.1. jinja2 3.1.2. joblib 1.3.2. kiwisolver 1.4.4. leidenalg 0.10.2. llvmlite 0.42.0. lxml 5.1.0. lz4 4.3.2. markupsafe 2.1.1. matplotlib 3.7.2. matplotlib_inline 0.1.6. mkl 2.4.1. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.4. numpy 1.24.3. packaging 23.1. pandas 2.0.3. parso 0.8.3. patsy 0.5.3. pickleshare 0.7.5. platformdirs 3.10.0. prompt_toolkit 3.0.42. psutil 5.9.0. pure_eval 0.2.2. pyarrow",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2956
https://github.com/scverse/scanpy/issues/2956:2810,deployability,log,logging,2810," 'total_counts_ribo', 'pct_counts_ribo', 'total_counts_hb', 'pct_counts_hb', 'percent_mt2', 'n_counts', 'sample', 'group', 'disease_status', 'leiden'. var: 'gene_ids', 'mt', 'ribo', 'hb', 'n_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'hvg', 'log1p', 'pca', 'neighbors', 'umap', 'leiden', 'leiden_colors'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. obsp: 'distances', 'connectivities'. ```. Ive tried to check whether the data is maybe different or something, but i dont see anything that could be causing these differences, could you please help trying to figure out why the leiden clustering suddenly produces different results? . ### Minimal code sample. ```python. sc.pp.neighbors(adata, n_pcs = 30, n_neighbors = 20). sc.tl.umap(adata). sc.tl.leiden(adata, resolution = 0.2) . sc.pl.umap(adata, color='leiden'). ```. ### Error output. _No response_. ### Versions. <details>. ```. sc.logging.print_versions(). -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 9.4.0. PyQt5 NA. adjustText 1.0.4. asttokens NA. atomicwrites 1.4.1. bottleneck 1.3.5. brotli NA. bs4 4.12.2. certifi 2024.02.02. cffi 1.15.1. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.2.1. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.0. dask 2023.6.0. dateutil 2.8.2. debugpy 1.8.1. decorator 5.1.1. defusedxml 0.7.1. dill 0.3.8. executing 2.0.1. gseapy 1.1.2. h5py 3.9.0. html5lib 1.1. idna 3.4. igraph 0.11.3. ipykernel 6.29.2. jedi 0.19.1. jinja2 3.1.2. joblib 1.3.2. kiwisolver 1.4.4. leidenalg 0.10.2. llvmlite 0.42.0. lxml 5.1.0. lz4 4.3.2. markupsafe 2.1.1. matplotlib 3.7.2. matplotlib_inline 0.1.6. mkl 2.4.1. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.4. numpy 1.24.3. packaging 23.1. pandas 2.0.3. parso 0.8.3. patsy 0.5.3. pickleshare 0.7.5. platformdirs 3.10.0. prompt_toolkit 3.0.42. psutil 5.9.0. pure_eval 0.2.2. pyarrow 11.0.0. pycparser 2.21. pyde",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2956
https://github.com/scverse/scanpy/issues/2956:4861,deployability,updat,updated,4861," adjustText 1.0.4. asttokens NA. atomicwrites 1.4.1. bottleneck 1.3.5. brotli NA. bs4 4.12.2. certifi 2024.02.02. cffi 1.15.1. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.2.1. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.0. dask 2023.6.0. dateutil 2.8.2. debugpy 1.8.1. decorator 5.1.1. defusedxml 0.7.1. dill 0.3.8. executing 2.0.1. gseapy 1.1.2. h5py 3.9.0. html5lib 1.1. idna 3.4. igraph 0.11.3. ipykernel 6.29.2. jedi 0.19.1. jinja2 3.1.2. joblib 1.3.2. kiwisolver 1.4.4. leidenalg 0.10.2. llvmlite 0.42.0. lxml 5.1.0. lz4 4.3.2. markupsafe 2.1.1. matplotlib 3.7.2. matplotlib_inline 0.1.6. mkl 2.4.1. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.4. numpy 1.24.3. packaging 23.1. pandas 2.0.3. parso 0.8.3. patsy 0.5.3. pickleshare 0.7.5. platformdirs 3.10.0. prompt_toolkit 3.0.42. psutil 5.9.0. pure_eval 0.2.2. pyarrow 11.0.0. pycparser 2.21. pydeseq2 0.4.7. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.17.2. pynndescent 0.5.11. pyparsing 3.0.9. pythoncom NA. pytz 2023.3.post1. pywintypes NA. requests 2.31.0. ruamel NA. scipy 1.12.0. seaborn 0.13.2. session_info 1.0.0. sip NA. six 1.16.0. sklearn 1.4.1.post1. socks 1.7.1. soupsieve 2.4. sparse 0.15.1. sphinxcontrib NA. spyder 5.5.1. spyder_kernels 2.5.0. spydercustomize NA. stack_data 0.6.2. statsmodels 0.14.0. tblib 1.7.0. texttable 1.7.0. threadpoolctl 3.3.0. tlz 0.12.0. toolz 0.12.0. torch 2.2.0+cpu. torchgen NA. tornado 6.3.2. tqdm 4.66.2. traitlets 5.7.1. typing_extensions NA. umap 0.5.5. urllib3 1.26.18. wcwidth 0.2.13. webencodings 0.5.1. win32api NA. win32com NA. yaml 6.0. zipp NA. zmq 25.1.2. zope NA. zstandard 0.19.0. -----. IPython 8.21.0. jupyter_client 8.6.0. jupyter_core 5.3.0. -----. Python 3.11.8 | packaged by conda-forge | (main, Feb 16 2024, 20:40:50) [MSC v.1937 64 bit (AMD64)]. Windows-10-10.0.22631-SP0. -----. Session information updated at 2024-03-25 14:49. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2956
https://github.com/scverse/scanpy/issues/2956:3074,energy efficiency,cloud,cloudpickle,3074,"highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'hvg', 'log1p', 'pca', 'neighbors', 'umap', 'leiden', 'leiden_colors'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. obsp: 'distances', 'connectivities'. ```. Ive tried to check whether the data is maybe different or something, but i dont see anything that could be causing these differences, could you please help trying to figure out why the leiden clustering suddenly produces different results? . ### Minimal code sample. ```python. sc.pp.neighbors(adata, n_pcs = 30, n_neighbors = 20). sc.tl.umap(adata). sc.tl.leiden(adata, resolution = 0.2) . sc.pl.umap(adata, color='leiden'). ```. ### Error output. _No response_. ### Versions. <details>. ```. sc.logging.print_versions(). -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 9.4.0. PyQt5 NA. adjustText 1.0.4. asttokens NA. atomicwrites 1.4.1. bottleneck 1.3.5. brotli NA. bs4 4.12.2. certifi 2024.02.02. cffi 1.15.1. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.2.1. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.0. dask 2023.6.0. dateutil 2.8.2. debugpy 1.8.1. decorator 5.1.1. defusedxml 0.7.1. dill 0.3.8. executing 2.0.1. gseapy 1.1.2. h5py 3.9.0. html5lib 1.1. idna 3.4. igraph 0.11.3. ipykernel 6.29.2. jedi 0.19.1. jinja2 3.1.2. joblib 1.3.2. kiwisolver 1.4.4. leidenalg 0.10.2. llvmlite 0.42.0. lxml 5.1.0. lz4 4.3.2. markupsafe 2.1.1. matplotlib 3.7.2. matplotlib_inline 0.1.6. mkl 2.4.1. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.4. numpy 1.24.3. packaging 23.1. pandas 2.0.3. parso 0.8.3. patsy 0.5.3. pickleshare 0.7.5. platformdirs 3.10.0. prompt_toolkit 3.0.42. psutil 5.9.0. pure_eval 0.2.2. pyarrow 11.0.0. pycparser 2.21. pydeseq2 0.4.7. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.17.2. pynndescent 0.5.11. pyparsing 3.0.9. pythoncom NA. pytz 2023.3.post1. pywintypes NA. requests 2.31.0. ruamel NA. scipy 1.12.0. s",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2956
https://github.com/scverse/scanpy/issues/2956:4400,energy efficiency,cpu,cpu,4400," adjustText 1.0.4. asttokens NA. atomicwrites 1.4.1. bottleneck 1.3.5. brotli NA. bs4 4.12.2. certifi 2024.02.02. cffi 1.15.1. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.2.1. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.0. dask 2023.6.0. dateutil 2.8.2. debugpy 1.8.1. decorator 5.1.1. defusedxml 0.7.1. dill 0.3.8. executing 2.0.1. gseapy 1.1.2. h5py 3.9.0. html5lib 1.1. idna 3.4. igraph 0.11.3. ipykernel 6.29.2. jedi 0.19.1. jinja2 3.1.2. joblib 1.3.2. kiwisolver 1.4.4. leidenalg 0.10.2. llvmlite 0.42.0. lxml 5.1.0. lz4 4.3.2. markupsafe 2.1.1. matplotlib 3.7.2. matplotlib_inline 0.1.6. mkl 2.4.1. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.4. numpy 1.24.3. packaging 23.1. pandas 2.0.3. parso 0.8.3. patsy 0.5.3. pickleshare 0.7.5. platformdirs 3.10.0. prompt_toolkit 3.0.42. psutil 5.9.0. pure_eval 0.2.2. pyarrow 11.0.0. pycparser 2.21. pydeseq2 0.4.7. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.17.2. pynndescent 0.5.11. pyparsing 3.0.9. pythoncom NA. pytz 2023.3.post1. pywintypes NA. requests 2.31.0. ruamel NA. scipy 1.12.0. seaborn 0.13.2. session_info 1.0.0. sip NA. six 1.16.0. sklearn 1.4.1.post1. socks 1.7.1. soupsieve 2.4. sparse 0.15.1. sphinxcontrib NA. spyder 5.5.1. spyder_kernels 2.5.0. spydercustomize NA. stack_data 0.6.2. statsmodels 0.14.0. tblib 1.7.0. texttable 1.7.0. threadpoolctl 3.3.0. tlz 0.12.0. toolz 0.12.0. torch 2.2.0+cpu. torchgen NA. tornado 6.3.2. tqdm 4.66.2. traitlets 5.7.1. typing_extensions NA. umap 0.5.5. urllib3 1.26.18. wcwidth 0.2.13. webencodings 0.5.1. win32api NA. win32com NA. yaml 6.0. zipp NA. zmq 25.1.2. zope NA. zstandard 0.19.0. -----. IPython 8.21.0. jupyter_client 8.6.0. jupyter_core 5.3.0. -----. Python 3.11.8 | packaged by conda-forge | (main, Feb 16 2024, 20:40:50) [MSC v.1937 64 bit (AMD64)]. Windows-10-10.0.22631-SP0. -----. Session information updated at 2024-03-25 14:49. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2956
https://github.com/scverse/scanpy/issues/2956:216,integrability,version,version,216,"tl.leiden suddenly produces different results ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? When i previously performed leiden clustering on my data, the shape of the UMAP changed, as expected. . However, when i now try to reproduce my results, I suddenly am only able to get the leiden clustering that follows the distribution of the unclustered umap . Unclustered UMAP. ![UMAP_ADvsCT_3-18-2024](https://github.com/scverse/scanpy/assets/127406679/2fed0a0c-b20e-425a-a99f-7b1c61f64242). Clustered UMAP: . ![UMAP_ADvsCT](https://github.com/scverse/scanpy/assets/127406679/a1272099-fde4-4025-ad61-392d1342cd0c). the dataset with which i produced the clustered UMAP: . ```. adata3. Out[505]: . AnnData object with n_obs × n_vars = 13243 × 10850. obs: 'n_genes_by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_ribo', 'pct_counts_ribo', 'total_counts_hb', 'pct_counts_hb', 'percent_mt2', 'n_counts', 'sample', 'group', 'disease_status', 'leiden'. var: 'gene_ids', 'mt', 'ribo', 'hb', 'n_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'disease_status_colors', 'hvg', 'leiden', 'leiden_colors', 'log1p', 'neighbors', 'pca', 'sample_colors', 'umap'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. obsp: 'connectivities', 'distances'. ```. the dataset with which i produced the unclustered UMAP: . ```. adata. Out[518]: . AnnData object with n_obs × n_vars = 13243 × 10850. obs: 'n_genes_by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_ribo', 'pct_counts_ribo', 'total_counts_hb', 'pct_counts_hb', 'percent_mt2', 'n_counts', 'sample', 'group', 'disease_status', 'leiden'. var: 'gene_ids', 'mt', 'ribo', 'hb'",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2956
https://github.com/scverse/scanpy/issues/2956:2781,integrability,Version,Versions,2781,"_counts_mt', 'pct_counts_mt', 'total_counts_ribo', 'pct_counts_ribo', 'total_counts_hb', 'pct_counts_hb', 'percent_mt2', 'n_counts', 'sample', 'group', 'disease_status', 'leiden'. var: 'gene_ids', 'mt', 'ribo', 'hb', 'n_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'hvg', 'log1p', 'pca', 'neighbors', 'umap', 'leiden', 'leiden_colors'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. obsp: 'distances', 'connectivities'. ```. Ive tried to check whether the data is maybe different or something, but i dont see anything that could be causing these differences, could you please help trying to figure out why the leiden clustering suddenly produces different results? . ### Minimal code sample. ```python. sc.pp.neighbors(adata, n_pcs = 30, n_neighbors = 20). sc.tl.umap(adata). sc.tl.leiden(adata, resolution = 0.2) . sc.pl.umap(adata, color='leiden'). ```. ### Error output. _No response_. ### Versions. <details>. ```. sc.logging.print_versions(). -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 9.4.0. PyQt5 NA. adjustText 1.0.4. asttokens NA. atomicwrites 1.4.1. bottleneck 1.3.5. brotli NA. bs4 4.12.2. certifi 2024.02.02. cffi 1.15.1. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.2.1. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.0. dask 2023.6.0. dateutil 2.8.2. debugpy 1.8.1. decorator 5.1.1. defusedxml 0.7.1. dill 0.3.8. executing 2.0.1. gseapy 1.1.2. h5py 3.9.0. html5lib 1.1. idna 3.4. igraph 0.11.3. ipykernel 6.29.2. jedi 0.19.1. jinja2 3.1.2. joblib 1.3.2. kiwisolver 1.4.4. leidenalg 0.10.2. llvmlite 0.42.0. lxml 5.1.0. lz4 4.3.2. markupsafe 2.1.1. matplotlib 3.7.2. matplotlib_inline 0.1.6. mkl 2.4.1. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.4. numpy 1.24.3. packaging 23.1. pandas 2.0.3. parso 0.8.3. patsy 0.5.3. pickleshare 0.7.5. platformdirs 3.10.0. prompt_toolkit 3.0.42. psutil 5.9.0. pure_eval 0.2.2. pyarrow",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2956
https://github.com/scverse/scanpy/issues/2956:557,interoperability,distribut,distribution,557,"tl.leiden suddenly produces different results ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? When i previously performed leiden clustering on my data, the shape of the UMAP changed, as expected. . However, when i now try to reproduce my results, I suddenly am only able to get the leiden clustering that follows the distribution of the unclustered umap . Unclustered UMAP. ![UMAP_ADvsCT_3-18-2024](https://github.com/scverse/scanpy/assets/127406679/2fed0a0c-b20e-425a-a99f-7b1c61f64242). Clustered UMAP: . ![UMAP_ADvsCT](https://github.com/scverse/scanpy/assets/127406679/a1272099-fde4-4025-ad61-392d1342cd0c). the dataset with which i produced the clustered UMAP: . ```. adata3. Out[505]: . AnnData object with n_obs × n_vars = 13243 × 10850. obs: 'n_genes_by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_ribo', 'pct_counts_ribo', 'total_counts_hb', 'pct_counts_hb', 'percent_mt2', 'n_counts', 'sample', 'group', 'disease_status', 'leiden'. var: 'gene_ids', 'mt', 'ribo', 'hb', 'n_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'disease_status_colors', 'hvg', 'leiden', 'leiden_colors', 'log1p', 'neighbors', 'pca', 'sample_colors', 'umap'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. obsp: 'connectivities', 'distances'. ```. the dataset with which i produced the unclustered UMAP: . ```. adata. Out[518]: . AnnData object with n_obs × n_vars = 13243 × 10850. obs: 'n_genes_by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_ribo', 'pct_counts_ribo', 'total_counts_hb', 'pct_counts_hb', 'percent_mt2', 'n_counts', 'sample', 'group', 'disease_status', 'leiden'. var: 'gene_ids', 'mt', 'ribo', 'hb'",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2956
https://github.com/scverse/scanpy/issues/2956:3703,interoperability,platform,platformdirs,3703,".umap(adata, color='leiden'). ```. ### Error output. _No response_. ### Versions. <details>. ```. sc.logging.print_versions(). -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 9.4.0. PyQt5 NA. adjustText 1.0.4. asttokens NA. atomicwrites 1.4.1. bottleneck 1.3.5. brotli NA. bs4 4.12.2. certifi 2024.02.02. cffi 1.15.1. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.2.1. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.0. dask 2023.6.0. dateutil 2.8.2. debugpy 1.8.1. decorator 5.1.1. defusedxml 0.7.1. dill 0.3.8. executing 2.0.1. gseapy 1.1.2. h5py 3.9.0. html5lib 1.1. idna 3.4. igraph 0.11.3. ipykernel 6.29.2. jedi 0.19.1. jinja2 3.1.2. joblib 1.3.2. kiwisolver 1.4.4. leidenalg 0.10.2. llvmlite 0.42.0. lxml 5.1.0. lz4 4.3.2. markupsafe 2.1.1. matplotlib 3.7.2. matplotlib_inline 0.1.6. mkl 2.4.1. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.4. numpy 1.24.3. packaging 23.1. pandas 2.0.3. parso 0.8.3. patsy 0.5.3. pickleshare 0.7.5. platformdirs 3.10.0. prompt_toolkit 3.0.42. psutil 5.9.0. pure_eval 0.2.2. pyarrow 11.0.0. pycparser 2.21. pydeseq2 0.4.7. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.17.2. pynndescent 0.5.11. pyparsing 3.0.9. pythoncom NA. pytz 2023.3.post1. pywintypes NA. requests 2.31.0. ruamel NA. scipy 1.12.0. seaborn 0.13.2. session_info 1.0.0. sip NA. six 1.16.0. sklearn 1.4.1.post1. socks 1.7.1. soupsieve 2.4. sparse 0.15.1. sphinxcontrib NA. spyder 5.5.1. spyder_kernels 2.5.0. spydercustomize NA. stack_data 0.6.2. statsmodels 0.14.0. tblib 1.7.0. texttable 1.7.0. threadpoolctl 3.3.0. tlz 0.12.0. toolz 0.12.0. torch 2.2.0+cpu. torchgen NA. tornado 6.3.2. tqdm 4.66.2. traitlets 5.7.1. typing_extensions NA. umap 0.5.5. urllib3 1.26.18. wcwidth 0.2.13. webencodings 0.5.1. win32api NA. win32com NA. yaml 6.0. zipp NA. zmq 25.1.2. zope NA. zstandard 0.19.0. -----. IPython 8.21.0. jupyter_client 8.6.0. jupyter_core 5.3.0. -----. Pyt",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2956
https://github.com/scverse/scanpy/issues/2956:216,modifiability,version,version,216,"tl.leiden suddenly produces different results ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? When i previously performed leiden clustering on my data, the shape of the UMAP changed, as expected. . However, when i now try to reproduce my results, I suddenly am only able to get the leiden clustering that follows the distribution of the unclustered umap . Unclustered UMAP. ![UMAP_ADvsCT_3-18-2024](https://github.com/scverse/scanpy/assets/127406679/2fed0a0c-b20e-425a-a99f-7b1c61f64242). Clustered UMAP: . ![UMAP_ADvsCT](https://github.com/scverse/scanpy/assets/127406679/a1272099-fde4-4025-ad61-392d1342cd0c). the dataset with which i produced the clustered UMAP: . ```. adata3. Out[505]: . AnnData object with n_obs × n_vars = 13243 × 10850. obs: 'n_genes_by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_ribo', 'pct_counts_ribo', 'total_counts_hb', 'pct_counts_hb', 'percent_mt2', 'n_counts', 'sample', 'group', 'disease_status', 'leiden'. var: 'gene_ids', 'mt', 'ribo', 'hb', 'n_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'disease_status_colors', 'hvg', 'leiden', 'leiden_colors', 'log1p', 'neighbors', 'pca', 'sample_colors', 'umap'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. obsp: 'connectivities', 'distances'. ```. the dataset with which i produced the unclustered UMAP: . ```. adata. Out[518]: . AnnData object with n_obs × n_vars = 13243 × 10850. obs: 'n_genes_by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_ribo', 'pct_counts_ribo', 'total_counts_hb', 'pct_counts_hb', 'percent_mt2', 'n_counts', 'sample', 'group', 'disease_status', 'leiden'. var: 'gene_ids', 'mt', 'ribo', 'hb'",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2956
https://github.com/scverse/scanpy/issues/2956:2781,modifiability,Version,Versions,2781,"_counts_mt', 'pct_counts_mt', 'total_counts_ribo', 'pct_counts_ribo', 'total_counts_hb', 'pct_counts_hb', 'percent_mt2', 'n_counts', 'sample', 'group', 'disease_status', 'leiden'. var: 'gene_ids', 'mt', 'ribo', 'hb', 'n_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'hvg', 'log1p', 'pca', 'neighbors', 'umap', 'leiden', 'leiden_colors'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. obsp: 'distances', 'connectivities'. ```. Ive tried to check whether the data is maybe different or something, but i dont see anything that could be causing these differences, could you please help trying to figure out why the leiden clustering suddenly produces different results? . ### Minimal code sample. ```python. sc.pp.neighbors(adata, n_pcs = 30, n_neighbors = 20). sc.tl.umap(adata). sc.tl.leiden(adata, resolution = 0.2) . sc.pl.umap(adata, color='leiden'). ```. ### Error output. _No response_. ### Versions. <details>. ```. sc.logging.print_versions(). -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 9.4.0. PyQt5 NA. adjustText 1.0.4. asttokens NA. atomicwrites 1.4.1. bottleneck 1.3.5. brotli NA. bs4 4.12.2. certifi 2024.02.02. cffi 1.15.1. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.2.1. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.0. dask 2023.6.0. dateutil 2.8.2. debugpy 1.8.1. decorator 5.1.1. defusedxml 0.7.1. dill 0.3.8. executing 2.0.1. gseapy 1.1.2. h5py 3.9.0. html5lib 1.1. idna 3.4. igraph 0.11.3. ipykernel 6.29.2. jedi 0.19.1. jinja2 3.1.2. joblib 1.3.2. kiwisolver 1.4.4. leidenalg 0.10.2. llvmlite 0.42.0. lxml 5.1.0. lz4 4.3.2. markupsafe 2.1.1. matplotlib 3.7.2. matplotlib_inline 0.1.6. mkl 2.4.1. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.4. numpy 1.24.3. packaging 23.1. pandas 2.0.3. parso 0.8.3. patsy 0.5.3. pickleshare 0.7.5. platformdirs 3.10.0. prompt_toolkit 3.0.42. psutil 5.9.0. pure_eval 0.2.2. pyarrow",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2956
https://github.com/scverse/scanpy/issues/2956:3217,modifiability,deco,decorator,3217,"n_colors'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. obsp: 'distances', 'connectivities'. ```. Ive tried to check whether the data is maybe different or something, but i dont see anything that could be causing these differences, could you please help trying to figure out why the leiden clustering suddenly produces different results? . ### Minimal code sample. ```python. sc.pp.neighbors(adata, n_pcs = 30, n_neighbors = 20). sc.tl.umap(adata). sc.tl.leiden(adata, resolution = 0.2) . sc.pl.umap(adata, color='leiden'). ```. ### Error output. _No response_. ### Versions. <details>. ```. sc.logging.print_versions(). -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 9.4.0. PyQt5 NA. adjustText 1.0.4. asttokens NA. atomicwrites 1.4.1. bottleneck 1.3.5. brotli NA. bs4 4.12.2. certifi 2024.02.02. cffi 1.15.1. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.2.1. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.0. dask 2023.6.0. dateutil 2.8.2. debugpy 1.8.1. decorator 5.1.1. defusedxml 0.7.1. dill 0.3.8. executing 2.0.1. gseapy 1.1.2. h5py 3.9.0. html5lib 1.1. idna 3.4. igraph 0.11.3. ipykernel 6.29.2. jedi 0.19.1. jinja2 3.1.2. joblib 1.3.2. kiwisolver 1.4.4. leidenalg 0.10.2. llvmlite 0.42.0. lxml 5.1.0. lz4 4.3.2. markupsafe 2.1.1. matplotlib 3.7.2. matplotlib_inline 0.1.6. mkl 2.4.1. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.4. numpy 1.24.3. packaging 23.1. pandas 2.0.3. parso 0.8.3. patsy 0.5.3. pickleshare 0.7.5. platformdirs 3.10.0. prompt_toolkit 3.0.42. psutil 5.9.0. pure_eval 0.2.2. pyarrow 11.0.0. pycparser 2.21. pydeseq2 0.4.7. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.17.2. pynndescent 0.5.11. pyparsing 3.0.9. pythoncom NA. pytz 2023.3.post1. pywintypes NA. requests 2.31.0. ruamel NA. scipy 1.12.0. seaborn 0.13.2. session_info 1.0.0. sip NA. six 1.16.0. sklearn 1.4.1.post1. socks 1.7.1. soupsieve 2.4. sparse 0.15.1. sphinxcontrib NA. spyde",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2956
https://github.com/scverse/scanpy/issues/2956:3628,modifiability,pac,packaging,3628,"bors = 20). sc.tl.umap(adata). sc.tl.leiden(adata, resolution = 0.2) . sc.pl.umap(adata, color='leiden'). ```. ### Error output. _No response_. ### Versions. <details>. ```. sc.logging.print_versions(). -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 9.4.0. PyQt5 NA. adjustText 1.0.4. asttokens NA. atomicwrites 1.4.1. bottleneck 1.3.5. brotli NA. bs4 4.12.2. certifi 2024.02.02. cffi 1.15.1. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.2.1. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.0. dask 2023.6.0. dateutil 2.8.2. debugpy 1.8.1. decorator 5.1.1. defusedxml 0.7.1. dill 0.3.8. executing 2.0.1. gseapy 1.1.2. h5py 3.9.0. html5lib 1.1. idna 3.4. igraph 0.11.3. ipykernel 6.29.2. jedi 0.19.1. jinja2 3.1.2. joblib 1.3.2. kiwisolver 1.4.4. leidenalg 0.10.2. llvmlite 0.42.0. lxml 5.1.0. lz4 4.3.2. markupsafe 2.1.1. matplotlib 3.7.2. matplotlib_inline 0.1.6. mkl 2.4.1. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.4. numpy 1.24.3. packaging 23.1. pandas 2.0.3. parso 0.8.3. patsy 0.5.3. pickleshare 0.7.5. platformdirs 3.10.0. prompt_toolkit 3.0.42. psutil 5.9.0. pure_eval 0.2.2. pyarrow 11.0.0. pycparser 2.21. pydeseq2 0.4.7. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.17.2. pynndescent 0.5.11. pyparsing 3.0.9. pythoncom NA. pytz 2023.3.post1. pywintypes NA. requests 2.31.0. ruamel NA. scipy 1.12.0. seaborn 0.13.2. session_info 1.0.0. sip NA. six 1.16.0. sklearn 1.4.1.post1. socks 1.7.1. soupsieve 2.4. sparse 0.15.1. sphinxcontrib NA. spyder 5.5.1. spyder_kernels 2.5.0. spydercustomize NA. stack_data 0.6.2. statsmodels 0.14.0. tblib 1.7.0. texttable 1.7.0. threadpoolctl 3.3.0. tlz 0.12.0. toolz 0.12.0. torch 2.2.0+cpu. torchgen NA. tornado 6.3.2. tqdm 4.66.2. traitlets 5.7.1. typing_extensions NA. umap 0.5.5. urllib3 1.26.18. wcwidth 0.2.13. webencodings 0.5.1. win32api NA. win32com NA. yaml 6.0. zipp NA. zmq 25.1.2. zope NA. zstandard 0.19.0.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2956
https://github.com/scverse/scanpy/issues/2956:4722,modifiability,pac,packaged,4722," adjustText 1.0.4. asttokens NA. atomicwrites 1.4.1. bottleneck 1.3.5. brotli NA. bs4 4.12.2. certifi 2024.02.02. cffi 1.15.1. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.2.1. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.0. dask 2023.6.0. dateutil 2.8.2. debugpy 1.8.1. decorator 5.1.1. defusedxml 0.7.1. dill 0.3.8. executing 2.0.1. gseapy 1.1.2. h5py 3.9.0. html5lib 1.1. idna 3.4. igraph 0.11.3. ipykernel 6.29.2. jedi 0.19.1. jinja2 3.1.2. joblib 1.3.2. kiwisolver 1.4.4. leidenalg 0.10.2. llvmlite 0.42.0. lxml 5.1.0. lz4 4.3.2. markupsafe 2.1.1. matplotlib 3.7.2. matplotlib_inline 0.1.6. mkl 2.4.1. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.4. numpy 1.24.3. packaging 23.1. pandas 2.0.3. parso 0.8.3. patsy 0.5.3. pickleshare 0.7.5. platformdirs 3.10.0. prompt_toolkit 3.0.42. psutil 5.9.0. pure_eval 0.2.2. pyarrow 11.0.0. pycparser 2.21. pydeseq2 0.4.7. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.17.2. pynndescent 0.5.11. pyparsing 3.0.9. pythoncom NA. pytz 2023.3.post1. pywintypes NA. requests 2.31.0. ruamel NA. scipy 1.12.0. seaborn 0.13.2. session_info 1.0.0. sip NA. six 1.16.0. sklearn 1.4.1.post1. socks 1.7.1. soupsieve 2.4. sparse 0.15.1. sphinxcontrib NA. spyder 5.5.1. spyder_kernels 2.5.0. spydercustomize NA. stack_data 0.6.2. statsmodels 0.14.0. tblib 1.7.0. texttable 1.7.0. threadpoolctl 3.3.0. tlz 0.12.0. toolz 0.12.0. torch 2.2.0+cpu. torchgen NA. tornado 6.3.2. tqdm 4.66.2. traitlets 5.7.1. typing_extensions NA. umap 0.5.5. urllib3 1.26.18. wcwidth 0.2.13. webencodings 0.5.1. win32api NA. win32com NA. yaml 6.0. zipp NA. zmq 25.1.2. zope NA. zstandard 0.19.0. -----. IPython 8.21.0. jupyter_client 8.6.0. jupyter_core 5.3.0. -----. Python 3.11.8 | packaged by conda-forge | (main, Feb 16 2024, 20:40:50) [MSC v.1937 64 bit (AMD64)]. Windows-10-10.0.22631-SP0. -----. Session information updated at 2024-03-25 14:49. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2956
https://github.com/scverse/scanpy/issues/2956:352,performance,perform,performed,352,"tl.leiden suddenly produces different results ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? When i previously performed leiden clustering on my data, the shape of the UMAP changed, as expected. . However, when i now try to reproduce my results, I suddenly am only able to get the leiden clustering that follows the distribution of the unclustered umap . Unclustered UMAP. ![UMAP_ADvsCT_3-18-2024](https://github.com/scverse/scanpy/assets/127406679/2fed0a0c-b20e-425a-a99f-7b1c61f64242). Clustered UMAP: . ![UMAP_ADvsCT](https://github.com/scverse/scanpy/assets/127406679/a1272099-fde4-4025-ad61-392d1342cd0c). the dataset with which i produced the clustered UMAP: . ```. adata3. Out[505]: . AnnData object with n_obs × n_vars = 13243 × 10850. obs: 'n_genes_by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_ribo', 'pct_counts_ribo', 'total_counts_hb', 'pct_counts_hb', 'percent_mt2', 'n_counts', 'sample', 'group', 'disease_status', 'leiden'. var: 'gene_ids', 'mt', 'ribo', 'hb', 'n_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'disease_status_colors', 'hvg', 'leiden', 'leiden_colors', 'log1p', 'neighbors', 'pca', 'sample_colors', 'umap'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. obsp: 'connectivities', 'distances'. ```. the dataset with which i produced the unclustered UMAP: . ```. adata. Out[518]: . AnnData object with n_obs × n_vars = 13243 × 10850. obs: 'n_genes_by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_ribo', 'pct_counts_ribo', 'total_counts_hb', 'pct_counts_hb', 'percent_mt2', 'n_counts', 'sample', 'group', 'disease_status', 'leiden'. var: 'gene_ids', 'mt', 'ribo', 'hb'",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2956
https://github.com/scverse/scanpy/issues/2956:2748,performance,Error,Error,2748,"by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_ribo', 'pct_counts_ribo', 'total_counts_hb', 'pct_counts_hb', 'percent_mt2', 'n_counts', 'sample', 'group', 'disease_status', 'leiden'. var: 'gene_ids', 'mt', 'ribo', 'hb', 'n_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'hvg', 'log1p', 'pca', 'neighbors', 'umap', 'leiden', 'leiden_colors'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. obsp: 'distances', 'connectivities'. ```. Ive tried to check whether the data is maybe different or something, but i dont see anything that could be causing these differences, could you please help trying to figure out why the leiden clustering suddenly produces different results? . ### Minimal code sample. ```python. sc.pp.neighbors(adata, n_pcs = 30, n_neighbors = 20). sc.tl.umap(adata). sc.tl.leiden(adata, resolution = 0.2) . sc.pl.umap(adata, color='leiden'). ```. ### Error output. _No response_. ### Versions. <details>. ```. sc.logging.print_versions(). -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 9.4.0. PyQt5 NA. adjustText 1.0.4. asttokens NA. atomicwrites 1.4.1. bottleneck 1.3.5. brotli NA. bs4 4.12.2. certifi 2024.02.02. cffi 1.15.1. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.2.1. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.0. dask 2023.6.0. dateutil 2.8.2. debugpy 1.8.1. decorator 5.1.1. defusedxml 0.7.1. dill 0.3.8. executing 2.0.1. gseapy 1.1.2. h5py 3.9.0. html5lib 1.1. idna 3.4. igraph 0.11.3. ipykernel 6.29.2. jedi 0.19.1. jinja2 3.1.2. joblib 1.3.2. kiwisolver 1.4.4. leidenalg 0.10.2. llvmlite 0.42.0. lxml 5.1.0. lz4 4.3.2. markupsafe 2.1.1. matplotlib 3.7.2. matplotlib_inline 0.1.6. mkl 2.4.1. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.4. numpy 1.24.3. packaging 23.1. pandas 2.0.3. parso 0.8.3. patsy 0.5.3. pickleshare 0.7.5. platformdirs 3.10.0. prompt_toolkit 3.0.42. psut",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2956
https://github.com/scverse/scanpy/issues/2956:2959,performance,bottleneck,bottleneck,2959," var: 'gene_ids', 'mt', 'ribo', 'hb', 'n_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'hvg', 'log1p', 'pca', 'neighbors', 'umap', 'leiden', 'leiden_colors'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. obsp: 'distances', 'connectivities'. ```. Ive tried to check whether the data is maybe different or something, but i dont see anything that could be causing these differences, could you please help trying to figure out why the leiden clustering suddenly produces different results? . ### Minimal code sample. ```python. sc.pp.neighbors(adata, n_pcs = 30, n_neighbors = 20). sc.tl.umap(adata). sc.tl.leiden(adata, resolution = 0.2) . sc.pl.umap(adata, color='leiden'). ```. ### Error output. _No response_. ### Versions. <details>. ```. sc.logging.print_versions(). -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 9.4.0. PyQt5 NA. adjustText 1.0.4. asttokens NA. atomicwrites 1.4.1. bottleneck 1.3.5. brotli NA. bs4 4.12.2. certifi 2024.02.02. cffi 1.15.1. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.2.1. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.0. dask 2023.6.0. dateutil 2.8.2. debugpy 1.8.1. decorator 5.1.1. defusedxml 0.7.1. dill 0.3.8. executing 2.0.1. gseapy 1.1.2. h5py 3.9.0. html5lib 1.1. idna 3.4. igraph 0.11.3. ipykernel 6.29.2. jedi 0.19.1. jinja2 3.1.2. joblib 1.3.2. kiwisolver 1.4.4. leidenalg 0.10.2. llvmlite 0.42.0. lxml 5.1.0. lz4 4.3.2. markupsafe 2.1.1. matplotlib 3.7.2. matplotlib_inline 0.1.6. mkl 2.4.1. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.4. numpy 1.24.3. packaging 23.1. pandas 2.0.3. parso 0.8.3. patsy 0.5.3. pickleshare 0.7.5. platformdirs 3.10.0. prompt_toolkit 3.0.42. psutil 5.9.0. pure_eval 0.2.2. pyarrow 11.0.0. pycparser 2.21. pydeseq2 0.4.7. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.17.2. pynndescent ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2956
https://github.com/scverse/scanpy/issues/2956:4400,performance,cpu,cpu,4400," adjustText 1.0.4. asttokens NA. atomicwrites 1.4.1. bottleneck 1.3.5. brotli NA. bs4 4.12.2. certifi 2024.02.02. cffi 1.15.1. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.2.1. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.0. dask 2023.6.0. dateutil 2.8.2. debugpy 1.8.1. decorator 5.1.1. defusedxml 0.7.1. dill 0.3.8. executing 2.0.1. gseapy 1.1.2. h5py 3.9.0. html5lib 1.1. idna 3.4. igraph 0.11.3. ipykernel 6.29.2. jedi 0.19.1. jinja2 3.1.2. joblib 1.3.2. kiwisolver 1.4.4. leidenalg 0.10.2. llvmlite 0.42.0. lxml 5.1.0. lz4 4.3.2. markupsafe 2.1.1. matplotlib 3.7.2. matplotlib_inline 0.1.6. mkl 2.4.1. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.4. numpy 1.24.3. packaging 23.1. pandas 2.0.3. parso 0.8.3. patsy 0.5.3. pickleshare 0.7.5. platformdirs 3.10.0. prompt_toolkit 3.0.42. psutil 5.9.0. pure_eval 0.2.2. pyarrow 11.0.0. pycparser 2.21. pydeseq2 0.4.7. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.17.2. pynndescent 0.5.11. pyparsing 3.0.9. pythoncom NA. pytz 2023.3.post1. pywintypes NA. requests 2.31.0. ruamel NA. scipy 1.12.0. seaborn 0.13.2. session_info 1.0.0. sip NA. six 1.16.0. sklearn 1.4.1.post1. socks 1.7.1. soupsieve 2.4. sparse 0.15.1. sphinxcontrib NA. spyder 5.5.1. spyder_kernels 2.5.0. spydercustomize NA. stack_data 0.6.2. statsmodels 0.14.0. tblib 1.7.0. texttable 1.7.0. threadpoolctl 3.3.0. tlz 0.12.0. toolz 0.12.0. torch 2.2.0+cpu. torchgen NA. tornado 6.3.2. tqdm 4.66.2. traitlets 5.7.1. typing_extensions NA. umap 0.5.5. urllib3 1.26.18. wcwidth 0.2.13. webencodings 0.5.1. win32api NA. win32com NA. yaml 6.0. zipp NA. zmq 25.1.2. zope NA. zstandard 0.19.0. -----. IPython 8.21.0. jupyter_client 8.6.0. jupyter_core 5.3.0. -----. Python 3.11.8 | packaged by conda-forge | (main, Feb 16 2024, 20:40:50) [MSC v.1937 64 bit (AMD64)]. Windows-10-10.0.22631-SP0. -----. Session information updated at 2024-03-25 14:49. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2956
https://github.com/scverse/scanpy/issues/2956:2748,safety,Error,Error,2748,"by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_ribo', 'pct_counts_ribo', 'total_counts_hb', 'pct_counts_hb', 'percent_mt2', 'n_counts', 'sample', 'group', 'disease_status', 'leiden'. var: 'gene_ids', 'mt', 'ribo', 'hb', 'n_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'hvg', 'log1p', 'pca', 'neighbors', 'umap', 'leiden', 'leiden_colors'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. obsp: 'distances', 'connectivities'. ```. Ive tried to check whether the data is maybe different or something, but i dont see anything that could be causing these differences, could you please help trying to figure out why the leiden clustering suddenly produces different results? . ### Minimal code sample. ```python. sc.pp.neighbors(adata, n_pcs = 30, n_neighbors = 20). sc.tl.umap(adata). sc.tl.leiden(adata, resolution = 0.2) . sc.pl.umap(adata, color='leiden'). ```. ### Error output. _No response_. ### Versions. <details>. ```. sc.logging.print_versions(). -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 9.4.0. PyQt5 NA. adjustText 1.0.4. asttokens NA. atomicwrites 1.4.1. bottleneck 1.3.5. brotli NA. bs4 4.12.2. certifi 2024.02.02. cffi 1.15.1. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.2.1. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.0. dask 2023.6.0. dateutil 2.8.2. debugpy 1.8.1. decorator 5.1.1. defusedxml 0.7.1. dill 0.3.8. executing 2.0.1. gseapy 1.1.2. h5py 3.9.0. html5lib 1.1. idna 3.4. igraph 0.11.3. ipykernel 6.29.2. jedi 0.19.1. jinja2 3.1.2. joblib 1.3.2. kiwisolver 1.4.4. leidenalg 0.10.2. llvmlite 0.42.0. lxml 5.1.0. lz4 4.3.2. markupsafe 2.1.1. matplotlib 3.7.2. matplotlib_inline 0.1.6. mkl 2.4.1. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.4. numpy 1.24.3. packaging 23.1. pandas 2.0.3. parso 0.8.3. patsy 0.5.3. pickleshare 0.7.5. platformdirs 3.10.0. prompt_toolkit 3.0.42. psut",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2956
https://github.com/scverse/scanpy/issues/2956:2810,safety,log,logging,2810," 'total_counts_ribo', 'pct_counts_ribo', 'total_counts_hb', 'pct_counts_hb', 'percent_mt2', 'n_counts', 'sample', 'group', 'disease_status', 'leiden'. var: 'gene_ids', 'mt', 'ribo', 'hb', 'n_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'hvg', 'log1p', 'pca', 'neighbors', 'umap', 'leiden', 'leiden_colors'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. obsp: 'distances', 'connectivities'. ```. Ive tried to check whether the data is maybe different or something, but i dont see anything that could be causing these differences, could you please help trying to figure out why the leiden clustering suddenly produces different results? . ### Minimal code sample. ```python. sc.pp.neighbors(adata, n_pcs = 30, n_neighbors = 20). sc.tl.umap(adata). sc.tl.leiden(adata, resolution = 0.2) . sc.pl.umap(adata, color='leiden'). ```. ### Error output. _No response_. ### Versions. <details>. ```. sc.logging.print_versions(). -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 9.4.0. PyQt5 NA. adjustText 1.0.4. asttokens NA. atomicwrites 1.4.1. bottleneck 1.3.5. brotli NA. bs4 4.12.2. certifi 2024.02.02. cffi 1.15.1. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.2.1. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.0. dask 2023.6.0. dateutil 2.8.2. debugpy 1.8.1. decorator 5.1.1. defusedxml 0.7.1. dill 0.3.8. executing 2.0.1. gseapy 1.1.2. h5py 3.9.0. html5lib 1.1. idna 3.4. igraph 0.11.3. ipykernel 6.29.2. jedi 0.19.1. jinja2 3.1.2. joblib 1.3.2. kiwisolver 1.4.4. leidenalg 0.10.2. llvmlite 0.42.0. lxml 5.1.0. lz4 4.3.2. markupsafe 2.1.1. matplotlib 3.7.2. matplotlib_inline 0.1.6. mkl 2.4.1. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.4. numpy 1.24.3. packaging 23.1. pandas 2.0.3. parso 0.8.3. patsy 0.5.3. pickleshare 0.7.5. platformdirs 3.10.0. prompt_toolkit 3.0.42. psutil 5.9.0. pure_eval 0.2.2. pyarrow 11.0.0. pycparser 2.21. pyde",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2956
https://github.com/scverse/scanpy/issues/2956:4861,safety,updat,updated,4861," adjustText 1.0.4. asttokens NA. atomicwrites 1.4.1. bottleneck 1.3.5. brotli NA. bs4 4.12.2. certifi 2024.02.02. cffi 1.15.1. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.2.1. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.0. dask 2023.6.0. dateutil 2.8.2. debugpy 1.8.1. decorator 5.1.1. defusedxml 0.7.1. dill 0.3.8. executing 2.0.1. gseapy 1.1.2. h5py 3.9.0. html5lib 1.1. idna 3.4. igraph 0.11.3. ipykernel 6.29.2. jedi 0.19.1. jinja2 3.1.2. joblib 1.3.2. kiwisolver 1.4.4. leidenalg 0.10.2. llvmlite 0.42.0. lxml 5.1.0. lz4 4.3.2. markupsafe 2.1.1. matplotlib 3.7.2. matplotlib_inline 0.1.6. mkl 2.4.1. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.4. numpy 1.24.3. packaging 23.1. pandas 2.0.3. parso 0.8.3. patsy 0.5.3. pickleshare 0.7.5. platformdirs 3.10.0. prompt_toolkit 3.0.42. psutil 5.9.0. pure_eval 0.2.2. pyarrow 11.0.0. pycparser 2.21. pydeseq2 0.4.7. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.17.2. pynndescent 0.5.11. pyparsing 3.0.9. pythoncom NA. pytz 2023.3.post1. pywintypes NA. requests 2.31.0. ruamel NA. scipy 1.12.0. seaborn 0.13.2. session_info 1.0.0. sip NA. six 1.16.0. sklearn 1.4.1.post1. socks 1.7.1. soupsieve 2.4. sparse 0.15.1. sphinxcontrib NA. spyder 5.5.1. spyder_kernels 2.5.0. spydercustomize NA. stack_data 0.6.2. statsmodels 0.14.0. tblib 1.7.0. texttable 1.7.0. threadpoolctl 3.3.0. tlz 0.12.0. toolz 0.12.0. torch 2.2.0+cpu. torchgen NA. tornado 6.3.2. tqdm 4.66.2. traitlets 5.7.1. typing_extensions NA. umap 0.5.5. urllib3 1.26.18. wcwidth 0.2.13. webencodings 0.5.1. win32api NA. win32com NA. yaml 6.0. zipp NA. zmq 25.1.2. zope NA. zstandard 0.19.0. -----. IPython 8.21.0. jupyter_client 8.6.0. jupyter_core 5.3.0. -----. Python 3.11.8 | packaged by conda-forge | (main, Feb 16 2024, 20:40:50) [MSC v.1937 64 bit (AMD64)]. Windows-10-10.0.22631-SP0. -----. Session information updated at 2024-03-25 14:49. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2956
https://github.com/scverse/scanpy/issues/2956:2810,security,log,logging,2810," 'total_counts_ribo', 'pct_counts_ribo', 'total_counts_hb', 'pct_counts_hb', 'percent_mt2', 'n_counts', 'sample', 'group', 'disease_status', 'leiden'. var: 'gene_ids', 'mt', 'ribo', 'hb', 'n_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'hvg', 'log1p', 'pca', 'neighbors', 'umap', 'leiden', 'leiden_colors'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. obsp: 'distances', 'connectivities'. ```. Ive tried to check whether the data is maybe different or something, but i dont see anything that could be causing these differences, could you please help trying to figure out why the leiden clustering suddenly produces different results? . ### Minimal code sample. ```python. sc.pp.neighbors(adata, n_pcs = 30, n_neighbors = 20). sc.tl.umap(adata). sc.tl.leiden(adata, resolution = 0.2) . sc.pl.umap(adata, color='leiden'). ```. ### Error output. _No response_. ### Versions. <details>. ```. sc.logging.print_versions(). -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 9.4.0. PyQt5 NA. adjustText 1.0.4. asttokens NA. atomicwrites 1.4.1. bottleneck 1.3.5. brotli NA. bs4 4.12.2. certifi 2024.02.02. cffi 1.15.1. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.2.1. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.0. dask 2023.6.0. dateutil 2.8.2. debugpy 1.8.1. decorator 5.1.1. defusedxml 0.7.1. dill 0.3.8. executing 2.0.1. gseapy 1.1.2. h5py 3.9.0. html5lib 1.1. idna 3.4. igraph 0.11.3. ipykernel 6.29.2. jedi 0.19.1. jinja2 3.1.2. joblib 1.3.2. kiwisolver 1.4.4. leidenalg 0.10.2. llvmlite 0.42.0. lxml 5.1.0. lz4 4.3.2. markupsafe 2.1.1. matplotlib 3.7.2. matplotlib_inline 0.1.6. mkl 2.4.1. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.4. numpy 1.24.3. packaging 23.1. pandas 2.0.3. parso 0.8.3. patsy 0.5.3. pickleshare 0.7.5. platformdirs 3.10.0. prompt_toolkit 3.0.42. psutil 5.9.0. pure_eval 0.2.2. pyarrow 11.0.0. pycparser 2.21. pyde",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2956
https://github.com/scverse/scanpy/issues/2956:3000,security,certif,certifi,3000,"_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'hvg', 'log1p', 'pca', 'neighbors', 'umap', 'leiden', 'leiden_colors'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. obsp: 'distances', 'connectivities'. ```. Ive tried to check whether the data is maybe different or something, but i dont see anything that could be causing these differences, could you please help trying to figure out why the leiden clustering suddenly produces different results? . ### Minimal code sample. ```python. sc.pp.neighbors(adata, n_pcs = 30, n_neighbors = 20). sc.tl.umap(adata). sc.tl.leiden(adata, resolution = 0.2) . sc.pl.umap(adata, color='leiden'). ```. ### Error output. _No response_. ### Versions. <details>. ```. sc.logging.print_versions(). -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 9.4.0. PyQt5 NA. adjustText 1.0.4. asttokens NA. atomicwrites 1.4.1. bottleneck 1.3.5. brotli NA. bs4 4.12.2. certifi 2024.02.02. cffi 1.15.1. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.2.1. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.0. dask 2023.6.0. dateutil 2.8.2. debugpy 1.8.1. decorator 5.1.1. defusedxml 0.7.1. dill 0.3.8. executing 2.0.1. gseapy 1.1.2. h5py 3.9.0. html5lib 1.1. idna 3.4. igraph 0.11.3. ipykernel 6.29.2. jedi 0.19.1. jinja2 3.1.2. joblib 1.3.2. kiwisolver 1.4.4. leidenalg 0.10.2. llvmlite 0.42.0. lxml 5.1.0. lz4 4.3.2. markupsafe 2.1.1. matplotlib 3.7.2. matplotlib_inline 0.1.6. mkl 2.4.1. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.4. numpy 1.24.3. packaging 23.1. pandas 2.0.3. parso 0.8.3. patsy 0.5.3. pickleshare 0.7.5. platformdirs 3.10.0. prompt_toolkit 3.0.42. psutil 5.9.0. pure_eval 0.2.2. pyarrow 11.0.0. pycparser 2.21. pydeseq2 0.4.7. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.17.2. pynndescent 0.5.11. pyparsing 3.0.9. pythoncom NA. p",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2956
https://github.com/scverse/scanpy/issues/2956:4156,security,soc,socks,4156," adjustText 1.0.4. asttokens NA. atomicwrites 1.4.1. bottleneck 1.3.5. brotli NA. bs4 4.12.2. certifi 2024.02.02. cffi 1.15.1. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.2.1. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.0. dask 2023.6.0. dateutil 2.8.2. debugpy 1.8.1. decorator 5.1.1. defusedxml 0.7.1. dill 0.3.8. executing 2.0.1. gseapy 1.1.2. h5py 3.9.0. html5lib 1.1. idna 3.4. igraph 0.11.3. ipykernel 6.29.2. jedi 0.19.1. jinja2 3.1.2. joblib 1.3.2. kiwisolver 1.4.4. leidenalg 0.10.2. llvmlite 0.42.0. lxml 5.1.0. lz4 4.3.2. markupsafe 2.1.1. matplotlib 3.7.2. matplotlib_inline 0.1.6. mkl 2.4.1. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.4. numpy 1.24.3. packaging 23.1. pandas 2.0.3. parso 0.8.3. patsy 0.5.3. pickleshare 0.7.5. platformdirs 3.10.0. prompt_toolkit 3.0.42. psutil 5.9.0. pure_eval 0.2.2. pyarrow 11.0.0. pycparser 2.21. pydeseq2 0.4.7. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.17.2. pynndescent 0.5.11. pyparsing 3.0.9. pythoncom NA. pytz 2023.3.post1. pywintypes NA. requests 2.31.0. ruamel NA. scipy 1.12.0. seaborn 0.13.2. session_info 1.0.0. sip NA. six 1.16.0. sklearn 1.4.1.post1. socks 1.7.1. soupsieve 2.4. sparse 0.15.1. sphinxcontrib NA. spyder 5.5.1. spyder_kernels 2.5.0. spydercustomize NA. stack_data 0.6.2. statsmodels 0.14.0. tblib 1.7.0. texttable 1.7.0. threadpoolctl 3.3.0. tlz 0.12.0. toolz 0.12.0. torch 2.2.0+cpu. torchgen NA. tornado 6.3.2. tqdm 4.66.2. traitlets 5.7.1. typing_extensions NA. umap 0.5.5. urllib3 1.26.18. wcwidth 0.2.13. webencodings 0.5.1. win32api NA. win32com NA. yaml 6.0. zipp NA. zmq 25.1.2. zope NA. zstandard 0.19.0. -----. IPython 8.21.0. jupyter_client 8.6.0. jupyter_core 5.3.0. -----. Python 3.11.8 | packaged by conda-forge | (main, Feb 16 2024, 20:40:50) [MSC v.1937 64 bit (AMD64)]. Windows-10-10.0.22631-SP0. -----. Session information updated at 2024-03-25 14:49. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2956
https://github.com/scverse/scanpy/issues/2956:4841,security,Session,Session,4841," adjustText 1.0.4. asttokens NA. atomicwrites 1.4.1. bottleneck 1.3.5. brotli NA. bs4 4.12.2. certifi 2024.02.02. cffi 1.15.1. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.2.1. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.0. dask 2023.6.0. dateutil 2.8.2. debugpy 1.8.1. decorator 5.1.1. defusedxml 0.7.1. dill 0.3.8. executing 2.0.1. gseapy 1.1.2. h5py 3.9.0. html5lib 1.1. idna 3.4. igraph 0.11.3. ipykernel 6.29.2. jedi 0.19.1. jinja2 3.1.2. joblib 1.3.2. kiwisolver 1.4.4. leidenalg 0.10.2. llvmlite 0.42.0. lxml 5.1.0. lz4 4.3.2. markupsafe 2.1.1. matplotlib 3.7.2. matplotlib_inline 0.1.6. mkl 2.4.1. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.4. numpy 1.24.3. packaging 23.1. pandas 2.0.3. parso 0.8.3. patsy 0.5.3. pickleshare 0.7.5. platformdirs 3.10.0. prompt_toolkit 3.0.42. psutil 5.9.0. pure_eval 0.2.2. pyarrow 11.0.0. pycparser 2.21. pydeseq2 0.4.7. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.17.2. pynndescent 0.5.11. pyparsing 3.0.9. pythoncom NA. pytz 2023.3.post1. pywintypes NA. requests 2.31.0. ruamel NA. scipy 1.12.0. seaborn 0.13.2. session_info 1.0.0. sip NA. six 1.16.0. sklearn 1.4.1.post1. socks 1.7.1. soupsieve 2.4. sparse 0.15.1. sphinxcontrib NA. spyder 5.5.1. spyder_kernels 2.5.0. spydercustomize NA. stack_data 0.6.2. statsmodels 0.14.0. tblib 1.7.0. texttable 1.7.0. threadpoolctl 3.3.0. tlz 0.12.0. toolz 0.12.0. torch 2.2.0+cpu. torchgen NA. tornado 6.3.2. tqdm 4.66.2. traitlets 5.7.1. typing_extensions NA. umap 0.5.5. urllib3 1.26.18. wcwidth 0.2.13. webencodings 0.5.1. win32api NA. win32com NA. yaml 6.0. zipp NA. zmq 25.1.2. zope NA. zstandard 0.19.0. -----. IPython 8.21.0. jupyter_client 8.6.0. jupyter_core 5.3.0. -----. Python 3.11.8 | packaged by conda-forge | (main, Feb 16 2024, 20:40:50) [MSC v.1937 64 bit (AMD64)]. Windows-10-10.0.22631-SP0. -----. Session information updated at 2024-03-25 14:49. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2956
https://github.com/scverse/scanpy/issues/2956:4861,security,updat,updated,4861," adjustText 1.0.4. asttokens NA. atomicwrites 1.4.1. bottleneck 1.3.5. brotli NA. bs4 4.12.2. certifi 2024.02.02. cffi 1.15.1. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.2.1. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.0. dask 2023.6.0. dateutil 2.8.2. debugpy 1.8.1. decorator 5.1.1. defusedxml 0.7.1. dill 0.3.8. executing 2.0.1. gseapy 1.1.2. h5py 3.9.0. html5lib 1.1. idna 3.4. igraph 0.11.3. ipykernel 6.29.2. jedi 0.19.1. jinja2 3.1.2. joblib 1.3.2. kiwisolver 1.4.4. leidenalg 0.10.2. llvmlite 0.42.0. lxml 5.1.0. lz4 4.3.2. markupsafe 2.1.1. matplotlib 3.7.2. matplotlib_inline 0.1.6. mkl 2.4.1. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.4. numpy 1.24.3. packaging 23.1. pandas 2.0.3. parso 0.8.3. patsy 0.5.3. pickleshare 0.7.5. platformdirs 3.10.0. prompt_toolkit 3.0.42. psutil 5.9.0. pure_eval 0.2.2. pyarrow 11.0.0. pycparser 2.21. pydeseq2 0.4.7. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.17.2. pynndescent 0.5.11. pyparsing 3.0.9. pythoncom NA. pytz 2023.3.post1. pywintypes NA. requests 2.31.0. ruamel NA. scipy 1.12.0. seaborn 0.13.2. session_info 1.0.0. sip NA. six 1.16.0. sklearn 1.4.1.post1. socks 1.7.1. soupsieve 2.4. sparse 0.15.1. sphinxcontrib NA. spyder 5.5.1. spyder_kernels 2.5.0. spydercustomize NA. stack_data 0.6.2. statsmodels 0.14.0. tblib 1.7.0. texttable 1.7.0. threadpoolctl 3.3.0. tlz 0.12.0. toolz 0.12.0. torch 2.2.0+cpu. torchgen NA. tornado 6.3.2. tqdm 4.66.2. traitlets 5.7.1. typing_extensions NA. umap 0.5.5. urllib3 1.26.18. wcwidth 0.2.13. webencodings 0.5.1. win32api NA. win32com NA. yaml 6.0. zipp NA. zmq 25.1.2. zope NA. zstandard 0.19.0. -----. IPython 8.21.0. jupyter_client 8.6.0. jupyter_core 5.3.0. -----. Python 3.11.8 | packaged by conda-forge | (main, Feb 16 2024, 20:40:50) [MSC v.1937 64 bit (AMD64)]. Windows-10-10.0.22631-SP0. -----. Session information updated at 2024-03-25 14:49. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2956
https://github.com/scverse/scanpy/issues/2956:2810,testability,log,logging,2810," 'total_counts_ribo', 'pct_counts_ribo', 'total_counts_hb', 'pct_counts_hb', 'percent_mt2', 'n_counts', 'sample', 'group', 'disease_status', 'leiden'. var: 'gene_ids', 'mt', 'ribo', 'hb', 'n_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'hvg', 'log1p', 'pca', 'neighbors', 'umap', 'leiden', 'leiden_colors'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. obsp: 'distances', 'connectivities'. ```. Ive tried to check whether the data is maybe different or something, but i dont see anything that could be causing these differences, could you please help trying to figure out why the leiden clustering suddenly produces different results? . ### Minimal code sample. ```python. sc.pp.neighbors(adata, n_pcs = 30, n_neighbors = 20). sc.tl.umap(adata). sc.tl.leiden(adata, resolution = 0.2) . sc.pl.umap(adata, color='leiden'). ```. ### Error output. _No response_. ### Versions. <details>. ```. sc.logging.print_versions(). -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 9.4.0. PyQt5 NA. adjustText 1.0.4. asttokens NA. atomicwrites 1.4.1. bottleneck 1.3.5. brotli NA. bs4 4.12.2. certifi 2024.02.02. cffi 1.15.1. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.2.1. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.0. dask 2023.6.0. dateutil 2.8.2. debugpy 1.8.1. decorator 5.1.1. defusedxml 0.7.1. dill 0.3.8. executing 2.0.1. gseapy 1.1.2. h5py 3.9.0. html5lib 1.1. idna 3.4. igraph 0.11.3. ipykernel 6.29.2. jedi 0.19.1. jinja2 3.1.2. joblib 1.3.2. kiwisolver 1.4.4. leidenalg 0.10.2. llvmlite 0.42.0. lxml 5.1.0. lz4 4.3.2. markupsafe 2.1.1. matplotlib 3.7.2. matplotlib_inline 0.1.6. mkl 2.4.1. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.4. numpy 1.24.3. packaging 23.1. pandas 2.0.3. parso 0.8.3. patsy 0.5.3. pickleshare 0.7.5. platformdirs 3.10.0. prompt_toolkit 3.0.42. psutil 5.9.0. pure_eval 0.2.2. pyarrow 11.0.0. pycparser 2.21. pyde",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2956
https://github.com/scverse/scanpy/issues/2956:4217,testability,spy,spyder,4217," adjustText 1.0.4. asttokens NA. atomicwrites 1.4.1. bottleneck 1.3.5. brotli NA. bs4 4.12.2. certifi 2024.02.02. cffi 1.15.1. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.2.1. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.0. dask 2023.6.0. dateutil 2.8.2. debugpy 1.8.1. decorator 5.1.1. defusedxml 0.7.1. dill 0.3.8. executing 2.0.1. gseapy 1.1.2. h5py 3.9.0. html5lib 1.1. idna 3.4. igraph 0.11.3. ipykernel 6.29.2. jedi 0.19.1. jinja2 3.1.2. joblib 1.3.2. kiwisolver 1.4.4. leidenalg 0.10.2. llvmlite 0.42.0. lxml 5.1.0. lz4 4.3.2. markupsafe 2.1.1. matplotlib 3.7.2. matplotlib_inline 0.1.6. mkl 2.4.1. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.4. numpy 1.24.3. packaging 23.1. pandas 2.0.3. parso 0.8.3. patsy 0.5.3. pickleshare 0.7.5. platformdirs 3.10.0. prompt_toolkit 3.0.42. psutil 5.9.0. pure_eval 0.2.2. pyarrow 11.0.0. pycparser 2.21. pydeseq2 0.4.7. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.17.2. pynndescent 0.5.11. pyparsing 3.0.9. pythoncom NA. pytz 2023.3.post1. pywintypes NA. requests 2.31.0. ruamel NA. scipy 1.12.0. seaborn 0.13.2. session_info 1.0.0. sip NA. six 1.16.0. sklearn 1.4.1.post1. socks 1.7.1. soupsieve 2.4. sparse 0.15.1. sphinxcontrib NA. spyder 5.5.1. spyder_kernels 2.5.0. spydercustomize NA. stack_data 0.6.2. statsmodels 0.14.0. tblib 1.7.0. texttable 1.7.0. threadpoolctl 3.3.0. tlz 0.12.0. toolz 0.12.0. torch 2.2.0+cpu. torchgen NA. tornado 6.3.2. tqdm 4.66.2. traitlets 5.7.1. typing_extensions NA. umap 0.5.5. urllib3 1.26.18. wcwidth 0.2.13. webencodings 0.5.1. win32api NA. win32com NA. yaml 6.0. zipp NA. zmq 25.1.2. zope NA. zstandard 0.19.0. -----. IPython 8.21.0. jupyter_client 8.6.0. jupyter_core 5.3.0. -----. Python 3.11.8 | packaged by conda-forge | (main, Feb 16 2024, 20:40:50) [MSC v.1937 64 bit (AMD64)]. Windows-10-10.0.22631-SP0. -----. Session information updated at 2024-03-25 14:49. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2956
https://github.com/scverse/scanpy/issues/2956:4253,testability,spy,spydercustomize,4253," adjustText 1.0.4. asttokens NA. atomicwrites 1.4.1. bottleneck 1.3.5. brotli NA. bs4 4.12.2. certifi 2024.02.02. cffi 1.15.1. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.2.1. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.0. dask 2023.6.0. dateutil 2.8.2. debugpy 1.8.1. decorator 5.1.1. defusedxml 0.7.1. dill 0.3.8. executing 2.0.1. gseapy 1.1.2. h5py 3.9.0. html5lib 1.1. idna 3.4. igraph 0.11.3. ipykernel 6.29.2. jedi 0.19.1. jinja2 3.1.2. joblib 1.3.2. kiwisolver 1.4.4. leidenalg 0.10.2. llvmlite 0.42.0. lxml 5.1.0. lz4 4.3.2. markupsafe 2.1.1. matplotlib 3.7.2. matplotlib_inline 0.1.6. mkl 2.4.1. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.4. numpy 1.24.3. packaging 23.1. pandas 2.0.3. parso 0.8.3. patsy 0.5.3. pickleshare 0.7.5. platformdirs 3.10.0. prompt_toolkit 3.0.42. psutil 5.9.0. pure_eval 0.2.2. pyarrow 11.0.0. pycparser 2.21. pydeseq2 0.4.7. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.17.2. pynndescent 0.5.11. pyparsing 3.0.9. pythoncom NA. pytz 2023.3.post1. pywintypes NA. requests 2.31.0. ruamel NA. scipy 1.12.0. seaborn 0.13.2. session_info 1.0.0. sip NA. six 1.16.0. sklearn 1.4.1.post1. socks 1.7.1. soupsieve 2.4. sparse 0.15.1. sphinxcontrib NA. spyder 5.5.1. spyder_kernels 2.5.0. spydercustomize NA. stack_data 0.6.2. statsmodels 0.14.0. tblib 1.7.0. texttable 1.7.0. threadpoolctl 3.3.0. tlz 0.12.0. toolz 0.12.0. torch 2.2.0+cpu. torchgen NA. tornado 6.3.2. tqdm 4.66.2. traitlets 5.7.1. typing_extensions NA. umap 0.5.5. urllib3 1.26.18. wcwidth 0.2.13. webencodings 0.5.1. win32api NA. win32com NA. yaml 6.0. zipp NA. zmq 25.1.2. zope NA. zstandard 0.19.0. -----. IPython 8.21.0. jupyter_client 8.6.0. jupyter_core 5.3.0. -----. Python 3.11.8 | packaged by conda-forge | (main, Feb 16 2024, 20:40:50) [MSC v.1937 64 bit (AMD64)]. Windows-10-10.0.22631-SP0. -----. Session information updated at 2024-03-25 14:49. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2956
https://github.com/scverse/scanpy/issues/2956:176,usability,confirm,confirmed,176,"tl.leiden suddenly produces different results ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? When i previously performed leiden clustering on my data, the shape of the UMAP changed, as expected. . However, when i now try to reproduce my results, I suddenly am only able to get the leiden clustering that follows the distribution of the unclustered umap . Unclustered UMAP. ![UMAP_ADvsCT_3-18-2024](https://github.com/scverse/scanpy/assets/127406679/2fed0a0c-b20e-425a-a99f-7b1c61f64242). Clustered UMAP: . ![UMAP_ADvsCT](https://github.com/scverse/scanpy/assets/127406679/a1272099-fde4-4025-ad61-392d1342cd0c). the dataset with which i produced the clustered UMAP: . ```. adata3. Out[505]: . AnnData object with n_obs × n_vars = 13243 × 10850. obs: 'n_genes_by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_ribo', 'pct_counts_ribo', 'total_counts_hb', 'pct_counts_hb', 'percent_mt2', 'n_counts', 'sample', 'group', 'disease_status', 'leiden'. var: 'gene_ids', 'mt', 'ribo', 'hb', 'n_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'disease_status_colors', 'hvg', 'leiden', 'leiden_colors', 'log1p', 'neighbors', 'pca', 'sample_colors', 'umap'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. obsp: 'connectivities', 'distances'. ```. the dataset with which i produced the unclustered UMAP: . ```. adata. Out[518]: . AnnData object with n_obs × n_vars = 13243 × 10850. obs: 'n_genes_by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_ribo', 'pct_counts_ribo', 'total_counts_hb', 'pct_counts_hb', 'percent_mt2', 'n_counts', 'sample', 'group', 'disease_status', 'leiden'. var: 'gene_ids', 'mt', 'ribo', 'hb'",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2956
https://github.com/scverse/scanpy/issues/2956:259,usability,confirm,confirmed,259,"tl.leiden suddenly produces different results ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? When i previously performed leiden clustering on my data, the shape of the UMAP changed, as expected. . However, when i now try to reproduce my results, I suddenly am only able to get the leiden clustering that follows the distribution of the unclustered umap . Unclustered UMAP. ![UMAP_ADvsCT_3-18-2024](https://github.com/scverse/scanpy/assets/127406679/2fed0a0c-b20e-425a-a99f-7b1c61f64242). Clustered UMAP: . ![UMAP_ADvsCT](https://github.com/scverse/scanpy/assets/127406679/a1272099-fde4-4025-ad61-392d1342cd0c). the dataset with which i produced the clustered UMAP: . ```. adata3. Out[505]: . AnnData object with n_obs × n_vars = 13243 × 10850. obs: 'n_genes_by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_ribo', 'pct_counts_ribo', 'total_counts_hb', 'pct_counts_hb', 'percent_mt2', 'n_counts', 'sample', 'group', 'disease_status', 'leiden'. var: 'gene_ids', 'mt', 'ribo', 'hb', 'n_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'disease_status_colors', 'hvg', 'leiden', 'leiden_colors', 'log1p', 'neighbors', 'pca', 'sample_colors', 'umap'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. obsp: 'connectivities', 'distances'. ```. the dataset with which i produced the unclustered UMAP: . ```. adata. Out[518]: . AnnData object with n_obs × n_vars = 13243 × 10850. obs: 'n_genes_by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_ribo', 'pct_counts_ribo', 'total_counts_hb', 'pct_counts_hb', 'percent_mt2', 'n_counts', 'sample', 'group', 'disease_status', 'leiden'. var: 'gene_ids', 'mt', 'ribo', 'hb'",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2956
https://github.com/scverse/scanpy/issues/2956:352,usability,perform,performed,352,"tl.leiden suddenly produces different results ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? When i previously performed leiden clustering on my data, the shape of the UMAP changed, as expected. . However, when i now try to reproduce my results, I suddenly am only able to get the leiden clustering that follows the distribution of the unclustered umap . Unclustered UMAP. ![UMAP_ADvsCT_3-18-2024](https://github.com/scverse/scanpy/assets/127406679/2fed0a0c-b20e-425a-a99f-7b1c61f64242). Clustered UMAP: . ![UMAP_ADvsCT](https://github.com/scverse/scanpy/assets/127406679/a1272099-fde4-4025-ad61-392d1342cd0c). the dataset with which i produced the clustered UMAP: . ```. adata3. Out[505]: . AnnData object with n_obs × n_vars = 13243 × 10850. obs: 'n_genes_by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_ribo', 'pct_counts_ribo', 'total_counts_hb', 'pct_counts_hb', 'percent_mt2', 'n_counts', 'sample', 'group', 'disease_status', 'leiden'. var: 'gene_ids', 'mt', 'ribo', 'hb', 'n_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'disease_status_colors', 'hvg', 'leiden', 'leiden_colors', 'log1p', 'neighbors', 'pca', 'sample_colors', 'umap'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. obsp: 'connectivities', 'distances'. ```. the dataset with which i produced the unclustered UMAP: . ```. adata. Out[518]: . AnnData object with n_obs × n_vars = 13243 × 10850. obs: 'n_genes_by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_ribo', 'pct_counts_ribo', 'total_counts_hb', 'pct_counts_hb', 'percent_mt2', 'n_counts', 'sample', 'group', 'disease_status', 'leiden'. var: 'gene_ids', 'mt', 'ribo', 'hb'",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2956
https://github.com/scverse/scanpy/issues/2956:2464,usability,help,help,2464,"', 'log1p', 'neighbors', 'pca', 'sample_colors', 'umap'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. obsp: 'connectivities', 'distances'. ```. the dataset with which i produced the unclustered UMAP: . ```. adata. Out[518]: . AnnData object with n_obs × n_vars = 13243 × 10850. obs: 'n_genes_by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_ribo', 'pct_counts_ribo', 'total_counts_hb', 'pct_counts_hb', 'percent_mt2', 'n_counts', 'sample', 'group', 'disease_status', 'leiden'. var: 'gene_ids', 'mt', 'ribo', 'hb', 'n_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'hvg', 'log1p', 'pca', 'neighbors', 'umap', 'leiden', 'leiden_colors'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. obsp: 'distances', 'connectivities'. ```. Ive tried to check whether the data is maybe different or something, but i dont see anything that could be causing these differences, could you please help trying to figure out why the leiden clustering suddenly produces different results? . ### Minimal code sample. ```python. sc.pp.neighbors(adata, n_pcs = 30, n_neighbors = 20). sc.tl.umap(adata). sc.tl.leiden(adata, resolution = 0.2) . sc.pl.umap(adata, color='leiden'). ```. ### Error output. _No response_. ### Versions. <details>. ```. sc.logging.print_versions(). -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 9.4.0. PyQt5 NA. adjustText 1.0.4. asttokens NA. atomicwrites 1.4.1. bottleneck 1.3.5. brotli NA. bs4 4.12.2. certifi 2024.02.02. cffi 1.15.1. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.2.1. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.0. dask 2023.6.0. dateutil 2.8.2. debugpy 1.8.1. decorator 5.1.1. defusedxml 0.7.1. dill 0.3.8. executing 2.0.1. gseapy 1.1.2. h5py 3.9.0. html5lib 1.1. idna 3.4. igraph 0.11.3. ipykernel 6.29.2. jedi 0.19.1. jinja2 3.1.2. joblib 1.3.2. kiwisolver 1.4.4. leidenalg 0.10.2. llvmlite 0.42.0. lxml 5.1",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2956
https://github.com/scverse/scanpy/issues/2956:2559,usability,Minim,Minimal,2559,"sp: 'connectivities', 'distances'. ```. the dataset with which i produced the unclustered UMAP: . ```. adata. Out[518]: . AnnData object with n_obs × n_vars = 13243 × 10850. obs: 'n_genes_by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_ribo', 'pct_counts_ribo', 'total_counts_hb', 'pct_counts_hb', 'percent_mt2', 'n_counts', 'sample', 'group', 'disease_status', 'leiden'. var: 'gene_ids', 'mt', 'ribo', 'hb', 'n_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'hvg', 'log1p', 'pca', 'neighbors', 'umap', 'leiden', 'leiden_colors'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. obsp: 'distances', 'connectivities'. ```. Ive tried to check whether the data is maybe different or something, but i dont see anything that could be causing these differences, could you please help trying to figure out why the leiden clustering suddenly produces different results? . ### Minimal code sample. ```python. sc.pp.neighbors(adata, n_pcs = 30, n_neighbors = 20). sc.tl.umap(adata). sc.tl.leiden(adata, resolution = 0.2) . sc.pl.umap(adata, color='leiden'). ```. ### Error output. _No response_. ### Versions. <details>. ```. sc.logging.print_versions(). -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 9.4.0. PyQt5 NA. adjustText 1.0.4. asttokens NA. atomicwrites 1.4.1. bottleneck 1.3.5. brotli NA. bs4 4.12.2. certifi 2024.02.02. cffi 1.15.1. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.2.1. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.0. dask 2023.6.0. dateutil 2.8.2. debugpy 1.8.1. decorator 5.1.1. defusedxml 0.7.1. dill 0.3.8. executing 2.0.1. gseapy 1.1.2. h5py 3.9.0. html5lib 1.1. idna 3.4. igraph 0.11.3. ipykernel 6.29.2. jedi 0.19.1. jinja2 3.1.2. joblib 1.3.2. kiwisolver 1.4.4. leidenalg 0.10.2. llvmlite 0.42.0. lxml 5.1.0. lz4 4.3.2. markupsafe 2.1.1. matplotlib 3.7.2. matplotlib_inline 0.1.6. mkl 2.4.1. mpl_toolki",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2956
https://github.com/scverse/scanpy/issues/2956:2748,usability,Error,Error,2748,"by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_ribo', 'pct_counts_ribo', 'total_counts_hb', 'pct_counts_hb', 'percent_mt2', 'n_counts', 'sample', 'group', 'disease_status', 'leiden'. var: 'gene_ids', 'mt', 'ribo', 'hb', 'n_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'hvg', 'log1p', 'pca', 'neighbors', 'umap', 'leiden', 'leiden_colors'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. obsp: 'distances', 'connectivities'. ```. Ive tried to check whether the data is maybe different or something, but i dont see anything that could be causing these differences, could you please help trying to figure out why the leiden clustering suddenly produces different results? . ### Minimal code sample. ```python. sc.pp.neighbors(adata, n_pcs = 30, n_neighbors = 20). sc.tl.umap(adata). sc.tl.leiden(adata, resolution = 0.2) . sc.pl.umap(adata, color='leiden'). ```. ### Error output. _No response_. ### Versions. <details>. ```. sc.logging.print_versions(). -----. anndata 0.10.5.post1. scanpy 1.9.8. -----. PIL 9.4.0. PyQt5 NA. adjustText 1.0.4. asttokens NA. atomicwrites 1.4.1. bottleneck 1.3.5. brotli NA. bs4 4.12.2. certifi 2024.02.02. cffi 1.15.1. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.2.1. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.0. dask 2023.6.0. dateutil 2.8.2. debugpy 1.8.1. decorator 5.1.1. defusedxml 0.7.1. dill 0.3.8. executing 2.0.1. gseapy 1.1.2. h5py 3.9.0. html5lib 1.1. idna 3.4. igraph 0.11.3. ipykernel 6.29.2. jedi 0.19.1. jinja2 3.1.2. joblib 1.3.2. kiwisolver 1.4.4. leidenalg 0.10.2. llvmlite 0.42.0. lxml 5.1.0. lz4 4.3.2. markupsafe 2.1.1. matplotlib 3.7.2. matplotlib_inline 0.1.6. mkl 2.4.1. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.4. numpy 1.24.3. packaging 23.1. pandas 2.0.3. parso 0.8.3. patsy 0.5.3. pickleshare 0.7.5. platformdirs 3.10.0. prompt_toolkit 3.0.42. psut",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2956
https://github.com/scverse/scanpy/issues/2956:4374,usability,tool,toolz,4374," adjustText 1.0.4. asttokens NA. atomicwrites 1.4.1. bottleneck 1.3.5. brotli NA. bs4 4.12.2. certifi 2024.02.02. cffi 1.15.1. chardet 4.0.0. charset_normalizer 2.0.4. cloudpickle 2.2.1. colorama 0.4.6. comm 0.2.1. cycler 0.10.0. cython_runtime NA. cytoolz 0.12.0. dask 2023.6.0. dateutil 2.8.2. debugpy 1.8.1. decorator 5.1.1. defusedxml 0.7.1. dill 0.3.8. executing 2.0.1. gseapy 1.1.2. h5py 3.9.0. html5lib 1.1. idna 3.4. igraph 0.11.3. ipykernel 6.29.2. jedi 0.19.1. jinja2 3.1.2. joblib 1.3.2. kiwisolver 1.4.4. leidenalg 0.10.2. llvmlite 0.42.0. lxml 5.1.0. lz4 4.3.2. markupsafe 2.1.1. matplotlib 3.7.2. matplotlib_inline 0.1.6. mkl 2.4.1. mpl_toolkits NA. natsort 8.4.0. numba 0.59.0. numexpr 2.8.4. numpy 1.24.3. packaging 23.1. pandas 2.0.3. parso 0.8.3. patsy 0.5.3. pickleshare 0.7.5. platformdirs 3.10.0. prompt_toolkit 3.0.42. psutil 5.9.0. pure_eval 0.2.2. pyarrow 11.0.0. pycparser 2.21. pydeseq2 0.4.7. pydev_ipython NA. pydevconsole NA. pydevd 2.9.5. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.17.2. pynndescent 0.5.11. pyparsing 3.0.9. pythoncom NA. pytz 2023.3.post1. pywintypes NA. requests 2.31.0. ruamel NA. scipy 1.12.0. seaborn 0.13.2. session_info 1.0.0. sip NA. six 1.16.0. sklearn 1.4.1.post1. socks 1.7.1. soupsieve 2.4. sparse 0.15.1. sphinxcontrib NA. spyder 5.5.1. spyder_kernels 2.5.0. spydercustomize NA. stack_data 0.6.2. statsmodels 0.14.0. tblib 1.7.0. texttable 1.7.0. threadpoolctl 3.3.0. tlz 0.12.0. toolz 0.12.0. torch 2.2.0+cpu. torchgen NA. tornado 6.3.2. tqdm 4.66.2. traitlets 5.7.1. typing_extensions NA. umap 0.5.5. urllib3 1.26.18. wcwidth 0.2.13. webencodings 0.5.1. win32api NA. win32com NA. yaml 6.0. zipp NA. zmq 25.1.2. zope NA. zstandard 0.19.0. -----. IPython 8.21.0. jupyter_client 8.6.0. jupyter_core 5.3.0. -----. Python 3.11.8 | packaged by conda-forge | (main, Feb 16 2024, 20:40:50) [MSC v.1937 64 bit (AMD64)]. Windows-10-10.0.22631-SP0. -----. Session information updated at 2024-03-25 14:49. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2956
https://github.com/scverse/scanpy/pull/2957:36,deployability,Updat,Update,36,Backport PR #2951 on branch 1.10.x (Update leiden future warning); Backport PR #2951: Update leiden future warning,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2957
https://github.com/scverse/scanpy/pull/2957:86,deployability,Updat,Update,86,Backport PR #2951 on branch 1.10.x (Update leiden future warning); Backport PR #2951: Update leiden future warning,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2957
https://github.com/scverse/scanpy/pull/2957:36,safety,Updat,Update,36,Backport PR #2951 on branch 1.10.x (Update leiden future warning); Backport PR #2951: Update leiden future warning,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2957
https://github.com/scverse/scanpy/pull/2957:86,safety,Updat,Update,86,Backport PR #2951 on branch 1.10.x (Update leiden future warning); Backport PR #2951: Update leiden future warning,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2957
https://github.com/scverse/scanpy/pull/2957:36,security,Updat,Update,36,Backport PR #2951 on branch 1.10.x (Update leiden future warning); Backport PR #2951: Update leiden future warning,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2957
https://github.com/scverse/scanpy/pull/2957:86,security,Updat,Update,86,Backport PR #2951 on branch 1.10.x (Update leiden future warning); Backport PR #2951: Update leiden future warning,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2957
https://github.com/scverse/scanpy/pull/2962:40,integrability,sub,submodule,40,Backport PR #2901 on branch 1.10.x (Doc submodule); Backport PR #2901: Doc submodule,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2962
https://github.com/scverse/scanpy/pull/2962:75,integrability,sub,submodule,75,Backport PR #2901 on branch 1.10.x (Doc submodule); Backport PR #2901: Doc submodule,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2962
https://github.com/scverse/scanpy/issues/2963:728,availability,cluster,clusters,728,"why scale is not in spatial ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Thanks a lot, I am new to scanpy. https://scanpy-tutorials.readthedocs.io/en/latest/spatial/basic-analysis.html. why scale is not here,which is needed in traditional sc-rna seq. ```. sc.pp.normalize_total(adata, inplace=True). sc.pp.log1p(adata). sc.pp.highly_variable_genes(adata, flavor=""seurat"", n_top_genes=2000). sc.pp.pca(adata). sc.pp.neighbors(adata). sc.tl.umap(adata). sc.tl.leiden(. adata, key_added=""clusters"", flavor=""igraph"", directed=False, n_iterations=2. ). ```. ### Minimal code sample. ```python. sc.pp.normalize_total(adata, inplace=True). sc.pp.log1p(adata). sc.pp.highly_variable_genes(adata, flavor=""seurat"", n_top_genes=2000). sc.pp.pca(adata). sc.pp.neighbors(adata). sc.tl.umap(adata). sc.tl.leiden(. adata, key_added=""clusters"", flavor=""igraph"", directed=False, n_iterations=2. ). ```. ```. ### Error output. _No response_. ### Versions. <details>. ```. anndata 0.10.3. scanpy 1.9.8. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2963
https://github.com/scverse/scanpy/issues/2963:1061,availability,cluster,clusters,1061,"why scale is not in spatial ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Thanks a lot, I am new to scanpy. https://scanpy-tutorials.readthedocs.io/en/latest/spatial/basic-analysis.html. why scale is not here,which is needed in traditional sc-rna seq. ```. sc.pp.normalize_total(adata, inplace=True). sc.pp.log1p(adata). sc.pp.highly_variable_genes(adata, flavor=""seurat"", n_top_genes=2000). sc.pp.pca(adata). sc.pp.neighbors(adata). sc.tl.umap(adata). sc.tl.leiden(. adata, key_added=""clusters"", flavor=""igraph"", directed=False, n_iterations=2. ). ```. ### Minimal code sample. ```python. sc.pp.normalize_total(adata, inplace=True). sc.pp.log1p(adata). sc.pp.highly_variable_genes(adata, flavor=""seurat"", n_top_genes=2000). sc.pp.pca(adata). sc.pp.neighbors(adata). sc.tl.umap(adata). sc.tl.leiden(. adata, key_added=""clusters"", flavor=""igraph"", directed=False, n_iterations=2. ). ```. ```. ### Error output. _No response_. ### Versions. <details>. ```. anndata 0.10.3. scanpy 1.9.8. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2963
https://github.com/scverse/scanpy/issues/2963:1138,availability,Error,Error,1138,"why scale is not in spatial ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Thanks a lot, I am new to scanpy. https://scanpy-tutorials.readthedocs.io/en/latest/spatial/basic-analysis.html. why scale is not here,which is needed in traditional sc-rna seq. ```. sc.pp.normalize_total(adata, inplace=True). sc.pp.log1p(adata). sc.pp.highly_variable_genes(adata, flavor=""seurat"", n_top_genes=2000). sc.pp.pca(adata). sc.pp.neighbors(adata). sc.tl.umap(adata). sc.tl.leiden(. adata, key_added=""clusters"", flavor=""igraph"", directed=False, n_iterations=2. ). ```. ### Minimal code sample. ```python. sc.pp.normalize_total(adata, inplace=True). sc.pp.log1p(adata). sc.pp.highly_variable_genes(adata, flavor=""seurat"", n_top_genes=2000). sc.pp.pca(adata). sc.pp.neighbors(adata). sc.tl.umap(adata). sc.tl.leiden(. adata, key_added=""clusters"", flavor=""igraph"", directed=False, n_iterations=2. ). ```. ```. ### Error output. _No response_. ### Versions. <details>. ```. anndata 0.10.3. scanpy 1.9.8. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2963
https://github.com/scverse/scanpy/issues/2963:4,deployability,scale,scale,4,"why scale is not in spatial ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Thanks a lot, I am new to scanpy. https://scanpy-tutorials.readthedocs.io/en/latest/spatial/basic-analysis.html. why scale is not here,which is needed in traditional sc-rna seq. ```. sc.pp.normalize_total(adata, inplace=True). sc.pp.log1p(adata). sc.pp.highly_variable_genes(adata, flavor=""seurat"", n_top_genes=2000). sc.pp.pca(adata). sc.pp.neighbors(adata). sc.tl.umap(adata). sc.tl.leiden(. adata, key_added=""clusters"", flavor=""igraph"", directed=False, n_iterations=2. ). ```. ### Minimal code sample. ```python. sc.pp.normalize_total(adata, inplace=True). sc.pp.log1p(adata). sc.pp.highly_variable_genes(adata, flavor=""seurat"", n_top_genes=2000). sc.pp.pca(adata). sc.pp.neighbors(adata). sc.tl.umap(adata). sc.tl.leiden(. adata, key_added=""clusters"", flavor=""igraph"", directed=False, n_iterations=2. ). ```. ```. ### Error output. _No response_. ### Versions. <details>. ```. anndata 0.10.3. scanpy 1.9.8. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2963
https://github.com/scverse/scanpy/issues/2963:198,deployability,version,version,198,"why scale is not in spatial ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Thanks a lot, I am new to scanpy. https://scanpy-tutorials.readthedocs.io/en/latest/spatial/basic-analysis.html. why scale is not here,which is needed in traditional sc-rna seq. ```. sc.pp.normalize_total(adata, inplace=True). sc.pp.log1p(adata). sc.pp.highly_variable_genes(adata, flavor=""seurat"", n_top_genes=2000). sc.pp.pca(adata). sc.pp.neighbors(adata). sc.tl.umap(adata). sc.tl.leiden(. adata, key_added=""clusters"", flavor=""igraph"", directed=False, n_iterations=2. ). ```. ### Minimal code sample. ```python. sc.pp.normalize_total(adata, inplace=True). sc.pp.log1p(adata). sc.pp.highly_variable_genes(adata, flavor=""seurat"", n_top_genes=2000). sc.pp.pca(adata). sc.pp.neighbors(adata). sc.tl.umap(adata). sc.tl.leiden(. adata, key_added=""clusters"", flavor=""igraph"", directed=False, n_iterations=2. ). ```. ```. ### Error output. _No response_. ### Versions. <details>. ```. anndata 0.10.3. scanpy 1.9.8. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2963
https://github.com/scverse/scanpy/issues/2963:433,deployability,scale,scale,433,"why scale is not in spatial ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Thanks a lot, I am new to scanpy. https://scanpy-tutorials.readthedocs.io/en/latest/spatial/basic-analysis.html. why scale is not here,which is needed in traditional sc-rna seq. ```. sc.pp.normalize_total(adata, inplace=True). sc.pp.log1p(adata). sc.pp.highly_variable_genes(adata, flavor=""seurat"", n_top_genes=2000). sc.pp.pca(adata). sc.pp.neighbors(adata). sc.tl.umap(adata). sc.tl.leiden(. adata, key_added=""clusters"", flavor=""igraph"", directed=False, n_iterations=2. ). ```. ### Minimal code sample. ```python. sc.pp.normalize_total(adata, inplace=True). sc.pp.log1p(adata). sc.pp.highly_variable_genes(adata, flavor=""seurat"", n_top_genes=2000). sc.pp.pca(adata). sc.pp.neighbors(adata). sc.tl.umap(adata). sc.tl.leiden(. adata, key_added=""clusters"", flavor=""igraph"", directed=False, n_iterations=2. ). ```. ```. ### Error output. _No response_. ### Versions. <details>. ```. anndata 0.10.3. scanpy 1.9.8. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2963
https://github.com/scverse/scanpy/issues/2963:728,deployability,cluster,clusters,728,"why scale is not in spatial ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Thanks a lot, I am new to scanpy. https://scanpy-tutorials.readthedocs.io/en/latest/spatial/basic-analysis.html. why scale is not here,which is needed in traditional sc-rna seq. ```. sc.pp.normalize_total(adata, inplace=True). sc.pp.log1p(adata). sc.pp.highly_variable_genes(adata, flavor=""seurat"", n_top_genes=2000). sc.pp.pca(adata). sc.pp.neighbors(adata). sc.tl.umap(adata). sc.tl.leiden(. adata, key_added=""clusters"", flavor=""igraph"", directed=False, n_iterations=2. ). ```. ### Minimal code sample. ```python. sc.pp.normalize_total(adata, inplace=True). sc.pp.log1p(adata). sc.pp.highly_variable_genes(adata, flavor=""seurat"", n_top_genes=2000). sc.pp.pca(adata). sc.pp.neighbors(adata). sc.tl.umap(adata). sc.tl.leiden(. adata, key_added=""clusters"", flavor=""igraph"", directed=False, n_iterations=2. ). ```. ```. ### Error output. _No response_. ### Versions. <details>. ```. anndata 0.10.3. scanpy 1.9.8. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2963
https://github.com/scverse/scanpy/issues/2963:1061,deployability,cluster,clusters,1061,"why scale is not in spatial ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Thanks a lot, I am new to scanpy. https://scanpy-tutorials.readthedocs.io/en/latest/spatial/basic-analysis.html. why scale is not here,which is needed in traditional sc-rna seq. ```. sc.pp.normalize_total(adata, inplace=True). sc.pp.log1p(adata). sc.pp.highly_variable_genes(adata, flavor=""seurat"", n_top_genes=2000). sc.pp.pca(adata). sc.pp.neighbors(adata). sc.tl.umap(adata). sc.tl.leiden(. adata, key_added=""clusters"", flavor=""igraph"", directed=False, n_iterations=2. ). ```. ### Minimal code sample. ```python. sc.pp.normalize_total(adata, inplace=True). sc.pp.log1p(adata). sc.pp.highly_variable_genes(adata, flavor=""seurat"", n_top_genes=2000). sc.pp.pca(adata). sc.pp.neighbors(adata). sc.tl.umap(adata). sc.tl.leiden(. adata, key_added=""clusters"", flavor=""igraph"", directed=False, n_iterations=2. ). ```. ```. ### Error output. _No response_. ### Versions. <details>. ```. anndata 0.10.3. scanpy 1.9.8. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2963
https://github.com/scverse/scanpy/issues/2963:1171,deployability,Version,Versions,1171,"why scale is not in spatial ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Thanks a lot, I am new to scanpy. https://scanpy-tutorials.readthedocs.io/en/latest/spatial/basic-analysis.html. why scale is not here,which is needed in traditional sc-rna seq. ```. sc.pp.normalize_total(adata, inplace=True). sc.pp.log1p(adata). sc.pp.highly_variable_genes(adata, flavor=""seurat"", n_top_genes=2000). sc.pp.pca(adata). sc.pp.neighbors(adata). sc.tl.umap(adata). sc.tl.leiden(. adata, key_added=""clusters"", flavor=""igraph"", directed=False, n_iterations=2. ). ```. ### Minimal code sample. ```python. sc.pp.normalize_total(adata, inplace=True). sc.pp.log1p(adata). sc.pp.highly_variable_genes(adata, flavor=""seurat"", n_top_genes=2000). sc.pp.pca(adata). sc.pp.neighbors(adata). sc.tl.umap(adata). sc.tl.leiden(. adata, key_added=""clusters"", flavor=""igraph"", directed=False, n_iterations=2. ). ```. ```. ### Error output. _No response_. ### Versions. <details>. ```. anndata 0.10.3. scanpy 1.9.8. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2963
https://github.com/scverse/scanpy/issues/2963:4,energy efficiency,scale,scale,4,"why scale is not in spatial ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Thanks a lot, I am new to scanpy. https://scanpy-tutorials.readthedocs.io/en/latest/spatial/basic-analysis.html. why scale is not here,which is needed in traditional sc-rna seq. ```. sc.pp.normalize_total(adata, inplace=True). sc.pp.log1p(adata). sc.pp.highly_variable_genes(adata, flavor=""seurat"", n_top_genes=2000). sc.pp.pca(adata). sc.pp.neighbors(adata). sc.tl.umap(adata). sc.tl.leiden(. adata, key_added=""clusters"", flavor=""igraph"", directed=False, n_iterations=2. ). ```. ### Minimal code sample. ```python. sc.pp.normalize_total(adata, inplace=True). sc.pp.log1p(adata). sc.pp.highly_variable_genes(adata, flavor=""seurat"", n_top_genes=2000). sc.pp.pca(adata). sc.pp.neighbors(adata). sc.tl.umap(adata). sc.tl.leiden(. adata, key_added=""clusters"", flavor=""igraph"", directed=False, n_iterations=2. ). ```. ```. ### Error output. _No response_. ### Versions. <details>. ```. anndata 0.10.3. scanpy 1.9.8. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2963
https://github.com/scverse/scanpy/issues/2963:433,energy efficiency,scale,scale,433,"why scale is not in spatial ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Thanks a lot, I am new to scanpy. https://scanpy-tutorials.readthedocs.io/en/latest/spatial/basic-analysis.html. why scale is not here,which is needed in traditional sc-rna seq. ```. sc.pp.normalize_total(adata, inplace=True). sc.pp.log1p(adata). sc.pp.highly_variable_genes(adata, flavor=""seurat"", n_top_genes=2000). sc.pp.pca(adata). sc.pp.neighbors(adata). sc.tl.umap(adata). sc.tl.leiden(. adata, key_added=""clusters"", flavor=""igraph"", directed=False, n_iterations=2. ). ```. ### Minimal code sample. ```python. sc.pp.normalize_total(adata, inplace=True). sc.pp.log1p(adata). sc.pp.highly_variable_genes(adata, flavor=""seurat"", n_top_genes=2000). sc.pp.pca(adata). sc.pp.neighbors(adata). sc.tl.umap(adata). sc.tl.leiden(. adata, key_added=""clusters"", flavor=""igraph"", directed=False, n_iterations=2. ). ```. ```. ### Error output. _No response_. ### Versions. <details>. ```. anndata 0.10.3. scanpy 1.9.8. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2963
https://github.com/scverse/scanpy/issues/2963:198,integrability,version,version,198,"why scale is not in spatial ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Thanks a lot, I am new to scanpy. https://scanpy-tutorials.readthedocs.io/en/latest/spatial/basic-analysis.html. why scale is not here,which is needed in traditional sc-rna seq. ```. sc.pp.normalize_total(adata, inplace=True). sc.pp.log1p(adata). sc.pp.highly_variable_genes(adata, flavor=""seurat"", n_top_genes=2000). sc.pp.pca(adata). sc.pp.neighbors(adata). sc.tl.umap(adata). sc.tl.leiden(. adata, key_added=""clusters"", flavor=""igraph"", directed=False, n_iterations=2. ). ```. ### Minimal code sample. ```python. sc.pp.normalize_total(adata, inplace=True). sc.pp.log1p(adata). sc.pp.highly_variable_genes(adata, flavor=""seurat"", n_top_genes=2000). sc.pp.pca(adata). sc.pp.neighbors(adata). sc.tl.umap(adata). sc.tl.leiden(. adata, key_added=""clusters"", flavor=""igraph"", directed=False, n_iterations=2. ). ```. ```. ### Error output. _No response_. ### Versions. <details>. ```. anndata 0.10.3. scanpy 1.9.8. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2963
https://github.com/scverse/scanpy/issues/2963:1171,integrability,Version,Versions,1171,"why scale is not in spatial ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Thanks a lot, I am new to scanpy. https://scanpy-tutorials.readthedocs.io/en/latest/spatial/basic-analysis.html. why scale is not here,which is needed in traditional sc-rna seq. ```. sc.pp.normalize_total(adata, inplace=True). sc.pp.log1p(adata). sc.pp.highly_variable_genes(adata, flavor=""seurat"", n_top_genes=2000). sc.pp.pca(adata). sc.pp.neighbors(adata). sc.tl.umap(adata). sc.tl.leiden(. adata, key_added=""clusters"", flavor=""igraph"", directed=False, n_iterations=2. ). ```. ### Minimal code sample. ```python. sc.pp.normalize_total(adata, inplace=True). sc.pp.log1p(adata). sc.pp.highly_variable_genes(adata, flavor=""seurat"", n_top_genes=2000). sc.pp.pca(adata). sc.pp.neighbors(adata). sc.tl.umap(adata). sc.tl.leiden(. adata, key_added=""clusters"", flavor=""igraph"", directed=False, n_iterations=2. ). ```. ```. ### Error output. _No response_. ### Versions. <details>. ```. anndata 0.10.3. scanpy 1.9.8. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2963
https://github.com/scverse/scanpy/issues/2963:4,modifiability,scal,scale,4,"why scale is not in spatial ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Thanks a lot, I am new to scanpy. https://scanpy-tutorials.readthedocs.io/en/latest/spatial/basic-analysis.html. why scale is not here,which is needed in traditional sc-rna seq. ```. sc.pp.normalize_total(adata, inplace=True). sc.pp.log1p(adata). sc.pp.highly_variable_genes(adata, flavor=""seurat"", n_top_genes=2000). sc.pp.pca(adata). sc.pp.neighbors(adata). sc.tl.umap(adata). sc.tl.leiden(. adata, key_added=""clusters"", flavor=""igraph"", directed=False, n_iterations=2. ). ```. ### Minimal code sample. ```python. sc.pp.normalize_total(adata, inplace=True). sc.pp.log1p(adata). sc.pp.highly_variable_genes(adata, flavor=""seurat"", n_top_genes=2000). sc.pp.pca(adata). sc.pp.neighbors(adata). sc.tl.umap(adata). sc.tl.leiden(. adata, key_added=""clusters"", flavor=""igraph"", directed=False, n_iterations=2. ). ```. ```. ### Error output. _No response_. ### Versions. <details>. ```. anndata 0.10.3. scanpy 1.9.8. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2963
https://github.com/scverse/scanpy/issues/2963:198,modifiability,version,version,198,"why scale is not in spatial ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Thanks a lot, I am new to scanpy. https://scanpy-tutorials.readthedocs.io/en/latest/spatial/basic-analysis.html. why scale is not here,which is needed in traditional sc-rna seq. ```. sc.pp.normalize_total(adata, inplace=True). sc.pp.log1p(adata). sc.pp.highly_variable_genes(adata, flavor=""seurat"", n_top_genes=2000). sc.pp.pca(adata). sc.pp.neighbors(adata). sc.tl.umap(adata). sc.tl.leiden(. adata, key_added=""clusters"", flavor=""igraph"", directed=False, n_iterations=2. ). ```. ### Minimal code sample. ```python. sc.pp.normalize_total(adata, inplace=True). sc.pp.log1p(adata). sc.pp.highly_variable_genes(adata, flavor=""seurat"", n_top_genes=2000). sc.pp.pca(adata). sc.pp.neighbors(adata). sc.tl.umap(adata). sc.tl.leiden(. adata, key_added=""clusters"", flavor=""igraph"", directed=False, n_iterations=2. ). ```. ```. ### Error output. _No response_. ### Versions. <details>. ```. anndata 0.10.3. scanpy 1.9.8. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2963
https://github.com/scverse/scanpy/issues/2963:433,modifiability,scal,scale,433,"why scale is not in spatial ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Thanks a lot, I am new to scanpy. https://scanpy-tutorials.readthedocs.io/en/latest/spatial/basic-analysis.html. why scale is not here,which is needed in traditional sc-rna seq. ```. sc.pp.normalize_total(adata, inplace=True). sc.pp.log1p(adata). sc.pp.highly_variable_genes(adata, flavor=""seurat"", n_top_genes=2000). sc.pp.pca(adata). sc.pp.neighbors(adata). sc.tl.umap(adata). sc.tl.leiden(. adata, key_added=""clusters"", flavor=""igraph"", directed=False, n_iterations=2. ). ```. ### Minimal code sample. ```python. sc.pp.normalize_total(adata, inplace=True). sc.pp.log1p(adata). sc.pp.highly_variable_genes(adata, flavor=""seurat"", n_top_genes=2000). sc.pp.pca(adata). sc.pp.neighbors(adata). sc.tl.umap(adata). sc.tl.leiden(. adata, key_added=""clusters"", flavor=""igraph"", directed=False, n_iterations=2. ). ```. ```. ### Error output. _No response_. ### Versions. <details>. ```. anndata 0.10.3. scanpy 1.9.8. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2963
https://github.com/scverse/scanpy/issues/2963:1171,modifiability,Version,Versions,1171,"why scale is not in spatial ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Thanks a lot, I am new to scanpy. https://scanpy-tutorials.readthedocs.io/en/latest/spatial/basic-analysis.html. why scale is not here,which is needed in traditional sc-rna seq. ```. sc.pp.normalize_total(adata, inplace=True). sc.pp.log1p(adata). sc.pp.highly_variable_genes(adata, flavor=""seurat"", n_top_genes=2000). sc.pp.pca(adata). sc.pp.neighbors(adata). sc.tl.umap(adata). sc.tl.leiden(. adata, key_added=""clusters"", flavor=""igraph"", directed=False, n_iterations=2. ). ```. ### Minimal code sample. ```python. sc.pp.normalize_total(adata, inplace=True). sc.pp.log1p(adata). sc.pp.highly_variable_genes(adata, flavor=""seurat"", n_top_genes=2000). sc.pp.pca(adata). sc.pp.neighbors(adata). sc.tl.umap(adata). sc.tl.leiden(. adata, key_added=""clusters"", flavor=""igraph"", directed=False, n_iterations=2. ). ```. ```. ### Error output. _No response_. ### Versions. <details>. ```. anndata 0.10.3. scanpy 1.9.8. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2963
https://github.com/scverse/scanpy/issues/2963:4,performance,scale,scale,4,"why scale is not in spatial ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Thanks a lot, I am new to scanpy. https://scanpy-tutorials.readthedocs.io/en/latest/spatial/basic-analysis.html. why scale is not here,which is needed in traditional sc-rna seq. ```. sc.pp.normalize_total(adata, inplace=True). sc.pp.log1p(adata). sc.pp.highly_variable_genes(adata, flavor=""seurat"", n_top_genes=2000). sc.pp.pca(adata). sc.pp.neighbors(adata). sc.tl.umap(adata). sc.tl.leiden(. adata, key_added=""clusters"", flavor=""igraph"", directed=False, n_iterations=2. ). ```. ### Minimal code sample. ```python. sc.pp.normalize_total(adata, inplace=True). sc.pp.log1p(adata). sc.pp.highly_variable_genes(adata, flavor=""seurat"", n_top_genes=2000). sc.pp.pca(adata). sc.pp.neighbors(adata). sc.tl.umap(adata). sc.tl.leiden(. adata, key_added=""clusters"", flavor=""igraph"", directed=False, n_iterations=2. ). ```. ```. ### Error output. _No response_. ### Versions. <details>. ```. anndata 0.10.3. scanpy 1.9.8. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2963
https://github.com/scverse/scanpy/issues/2963:433,performance,scale,scale,433,"why scale is not in spatial ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Thanks a lot, I am new to scanpy. https://scanpy-tutorials.readthedocs.io/en/latest/spatial/basic-analysis.html. why scale is not here,which is needed in traditional sc-rna seq. ```. sc.pp.normalize_total(adata, inplace=True). sc.pp.log1p(adata). sc.pp.highly_variable_genes(adata, flavor=""seurat"", n_top_genes=2000). sc.pp.pca(adata). sc.pp.neighbors(adata). sc.tl.umap(adata). sc.tl.leiden(. adata, key_added=""clusters"", flavor=""igraph"", directed=False, n_iterations=2. ). ```. ### Minimal code sample. ```python. sc.pp.normalize_total(adata, inplace=True). sc.pp.log1p(adata). sc.pp.highly_variable_genes(adata, flavor=""seurat"", n_top_genes=2000). sc.pp.pca(adata). sc.pp.neighbors(adata). sc.tl.umap(adata). sc.tl.leiden(. adata, key_added=""clusters"", flavor=""igraph"", directed=False, n_iterations=2. ). ```. ```. ### Error output. _No response_. ### Versions. <details>. ```. anndata 0.10.3. scanpy 1.9.8. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2963
https://github.com/scverse/scanpy/issues/2963:1138,performance,Error,Error,1138,"why scale is not in spatial ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Thanks a lot, I am new to scanpy. https://scanpy-tutorials.readthedocs.io/en/latest/spatial/basic-analysis.html. why scale is not here,which is needed in traditional sc-rna seq. ```. sc.pp.normalize_total(adata, inplace=True). sc.pp.log1p(adata). sc.pp.highly_variable_genes(adata, flavor=""seurat"", n_top_genes=2000). sc.pp.pca(adata). sc.pp.neighbors(adata). sc.tl.umap(adata). sc.tl.leiden(. adata, key_added=""clusters"", flavor=""igraph"", directed=False, n_iterations=2. ). ```. ### Minimal code sample. ```python. sc.pp.normalize_total(adata, inplace=True). sc.pp.log1p(adata). sc.pp.highly_variable_genes(adata, flavor=""seurat"", n_top_genes=2000). sc.pp.pca(adata). sc.pp.neighbors(adata). sc.tl.umap(adata). sc.tl.leiden(. adata, key_added=""clusters"", flavor=""igraph"", directed=False, n_iterations=2. ). ```. ```. ### Error output. _No response_. ### Versions. <details>. ```. anndata 0.10.3. scanpy 1.9.8. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2963
https://github.com/scverse/scanpy/issues/2963:1138,safety,Error,Error,1138,"why scale is not in spatial ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Thanks a lot, I am new to scanpy. https://scanpy-tutorials.readthedocs.io/en/latest/spatial/basic-analysis.html. why scale is not here,which is needed in traditional sc-rna seq. ```. sc.pp.normalize_total(adata, inplace=True). sc.pp.log1p(adata). sc.pp.highly_variable_genes(adata, flavor=""seurat"", n_top_genes=2000). sc.pp.pca(adata). sc.pp.neighbors(adata). sc.tl.umap(adata). sc.tl.leiden(. adata, key_added=""clusters"", flavor=""igraph"", directed=False, n_iterations=2. ). ```. ### Minimal code sample. ```python. sc.pp.normalize_total(adata, inplace=True). sc.pp.log1p(adata). sc.pp.highly_variable_genes(adata, flavor=""seurat"", n_top_genes=2000). sc.pp.pca(adata). sc.pp.neighbors(adata). sc.tl.umap(adata). sc.tl.leiden(. adata, key_added=""clusters"", flavor=""igraph"", directed=False, n_iterations=2. ). ```. ```. ### Error output. _No response_. ### Versions. <details>. ```. anndata 0.10.3. scanpy 1.9.8. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2963
https://github.com/scverse/scanpy/issues/2963:158,usability,confirm,confirmed,158,"why scale is not in spatial ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Thanks a lot, I am new to scanpy. https://scanpy-tutorials.readthedocs.io/en/latest/spatial/basic-analysis.html. why scale is not here,which is needed in traditional sc-rna seq. ```. sc.pp.normalize_total(adata, inplace=True). sc.pp.log1p(adata). sc.pp.highly_variable_genes(adata, flavor=""seurat"", n_top_genes=2000). sc.pp.pca(adata). sc.pp.neighbors(adata). sc.tl.umap(adata). sc.tl.leiden(. adata, key_added=""clusters"", flavor=""igraph"", directed=False, n_iterations=2. ). ```. ### Minimal code sample. ```python. sc.pp.normalize_total(adata, inplace=True). sc.pp.log1p(adata). sc.pp.highly_variable_genes(adata, flavor=""seurat"", n_top_genes=2000). sc.pp.pca(adata). sc.pp.neighbors(adata). sc.tl.umap(adata). sc.tl.leiden(. adata, key_added=""clusters"", flavor=""igraph"", directed=False, n_iterations=2. ). ```. ```. ### Error output. _No response_. ### Versions. <details>. ```. anndata 0.10.3. scanpy 1.9.8. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2963
https://github.com/scverse/scanpy/issues/2963:241,usability,confirm,confirmed,241,"why scale is not in spatial ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Thanks a lot, I am new to scanpy. https://scanpy-tutorials.readthedocs.io/en/latest/spatial/basic-analysis.html. why scale is not here,which is needed in traditional sc-rna seq. ```. sc.pp.normalize_total(adata, inplace=True). sc.pp.log1p(adata). sc.pp.highly_variable_genes(adata, flavor=""seurat"", n_top_genes=2000). sc.pp.pca(adata). sc.pp.neighbors(adata). sc.tl.umap(adata). sc.tl.leiden(. adata, key_added=""clusters"", flavor=""igraph"", directed=False, n_iterations=2. ). ```. ### Minimal code sample. ```python. sc.pp.normalize_total(adata, inplace=True). sc.pp.log1p(adata). sc.pp.highly_variable_genes(adata, flavor=""seurat"", n_top_genes=2000). sc.pp.pca(adata). sc.pp.neighbors(adata). sc.tl.umap(adata). sc.tl.leiden(. adata, key_added=""clusters"", flavor=""igraph"", directed=False, n_iterations=2. ). ```. ```. ### Error output. _No response_. ### Versions. <details>. ```. anndata 0.10.3. scanpy 1.9.8. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2963
https://github.com/scverse/scanpy/issues/2963:800,usability,Minim,Minimal,800,"why scale is not in spatial ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Thanks a lot, I am new to scanpy. https://scanpy-tutorials.readthedocs.io/en/latest/spatial/basic-analysis.html. why scale is not here,which is needed in traditional sc-rna seq. ```. sc.pp.normalize_total(adata, inplace=True). sc.pp.log1p(adata). sc.pp.highly_variable_genes(adata, flavor=""seurat"", n_top_genes=2000). sc.pp.pca(adata). sc.pp.neighbors(adata). sc.tl.umap(adata). sc.tl.leiden(. adata, key_added=""clusters"", flavor=""igraph"", directed=False, n_iterations=2. ). ```. ### Minimal code sample. ```python. sc.pp.normalize_total(adata, inplace=True). sc.pp.log1p(adata). sc.pp.highly_variable_genes(adata, flavor=""seurat"", n_top_genes=2000). sc.pp.pca(adata). sc.pp.neighbors(adata). sc.tl.umap(adata). sc.tl.leiden(. adata, key_added=""clusters"", flavor=""igraph"", directed=False, n_iterations=2. ). ```. ```. ### Error output. _No response_. ### Versions. <details>. ```. anndata 0.10.3. scanpy 1.9.8. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2963
https://github.com/scverse/scanpy/issues/2963:1138,usability,Error,Error,1138,"why scale is not in spatial ; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? Thanks a lot, I am new to scanpy. https://scanpy-tutorials.readthedocs.io/en/latest/spatial/basic-analysis.html. why scale is not here,which is needed in traditional sc-rna seq. ```. sc.pp.normalize_total(adata, inplace=True). sc.pp.log1p(adata). sc.pp.highly_variable_genes(adata, flavor=""seurat"", n_top_genes=2000). sc.pp.pca(adata). sc.pp.neighbors(adata). sc.tl.umap(adata). sc.tl.leiden(. adata, key_added=""clusters"", flavor=""igraph"", directed=False, n_iterations=2. ). ```. ### Minimal code sample. ```python. sc.pp.normalize_total(adata, inplace=True). sc.pp.log1p(adata). sc.pp.highly_variable_genes(adata, flavor=""seurat"", n_top_genes=2000). sc.pp.pca(adata). sc.pp.neighbors(adata). sc.tl.umap(adata). sc.tl.leiden(. adata, key_added=""clusters"", flavor=""igraph"", directed=False, n_iterations=2. ). ```. ```. ### Error output. _No response_. ### Versions. <details>. ```. anndata 0.10.3. scanpy 1.9.8. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2963
https://github.com/scverse/scanpy/issues/2964:1397,availability,Error,Error,1397,". In certain combinations of `groupby` variables, some valuese get lost. . I wasn't able to make a minimal reproducible example, but I obfuscated the `obs` table of my real data and can share it here: . https://www.dropbox.com/scl/fi/jsbrb2ulki7mmih2242kc/adata_aggregate_bug.h5ad?rlkey=qczuaf2v5vlwb00zyuxmzjkix&dl=1. ### Minimal code sample. ```python. >>> test_adata = sc.read_h5ad(""adata_aggregate_bug.h5ad""). >>> test_adata.obs[""patient_id""].nunique(). 69. >>> test_adata.obs.isnull().sum(). patient_id 0. timepoint 0. external_batch_id 0. dtype: int64. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 15. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. ```. ### Error output. ```pytb. So only if using all three variables, some patient IDs are lost. I don't see why this would be happening. ```. ### Versions. <details>. ```. Package Version Editable project location. ------------------------- --------------- -------------------------------------------------------------------------------------------------------------------------. aiohttp 3.9.3. aiosignal 1.3.1. anndata 0.10.5.post1. anyio 4.3.0. appdirs 1.4.4. argon2-cffi 23.1.0. argon2-cffi-bindings 21.2.0. array_api_compat 1.5. arrow 1.3.0. asciitree 0.3.3. asttokens 2.4.1. async-lru 2.0.4. async-timeout 4.0.3. attrs 23.2.0. Babel 2.14.0. beautifulsoup4 4.12.3. bleach 6.1.0. bokeh 3.3.4. branca 0.7.1. Brotli 1.1.0. cached-property 1.5.2. cachetools 5.3.3. certifi 2024.2.2. cffi 1.16.0. charset-normalizer 3.3.2. click 8.1.7. click-plugins 1.1.1. cligj 0.7.2. cloudpickle 3.0.0. colorama 0.4.6. colorcet 3.1.0. comm 0.2.1. confluent-kafka 1.9.2. contourpy 1.2.0. cubinlinker 0.3.0. cucim 24.2.0. cuda-p",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:200,deployability,version,version,200,"sc.get.aggregate looses values; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I'm working with the `sc.get.aggregate` function from the latest release candidate. In certain combinations of `groupby` variables, some valuese get lost. . I wasn't able to make a minimal reproducible example, but I obfuscated the `obs` table of my real data and can share it here: . https://www.dropbox.com/scl/fi/jsbrb2ulki7mmih2242kc/adata_aggregate_bug.h5ad?rlkey=qczuaf2v5vlwb00zyuxmzjkix&dl=1. ### Minimal code sample. ```python. >>> test_adata = sc.read_h5ad(""adata_aggregate_bug.h5ad""). >>> test_adata.obs[""patient_id""].nunique(). 69. >>> test_adata.obs.isnull().sum(). patient_id 0. timepoint 0. external_batch_id 0. dtype: int64. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 15. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. ```. ### Error output. ```pytb. So only if using all three variables, some patient IDs are lost. I don't see why this would be happening. ```. ### Versions. <details>. ```. Package Version Editable project location. ------------------------- --------------- -------------------------------------------------------------------------------------------------------------------------. aiohttp 3.9.3. aiosignal 1.3.1. anndata 0.10.5.post1. anyio 4.3.0. appdirs 1.4.4. argon2-cffi 23.1.0. argon2-cffi-bindings 21.2.0. array_api_compat 1.5. arrow 1.3.0. asciitree 0.3.3. asttokens 2.4.1. async-lru 2.0.4. async-timeout ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:383,deployability,releas,release,383,"sc.get.aggregate looses values; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I'm working with the `sc.get.aggregate` function from the latest release candidate. In certain combinations of `groupby` variables, some valuese get lost. . I wasn't able to make a minimal reproducible example, but I obfuscated the `obs` table of my real data and can share it here: . https://www.dropbox.com/scl/fi/jsbrb2ulki7mmih2242kc/adata_aggregate_bug.h5ad?rlkey=qczuaf2v5vlwb00zyuxmzjkix&dl=1. ### Minimal code sample. ```python. >>> test_adata = sc.read_h5ad(""adata_aggregate_bug.h5ad""). >>> test_adata.obs[""patient_id""].nunique(). 69. >>> test_adata.obs.isnull().sum(). patient_id 0. timepoint 0. external_batch_id 0. dtype: int64. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 15. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. ```. ### Error output. ```pytb. So only if using all three variables, some patient IDs are lost. I don't see why this would be happening. ```. ### Versions. <details>. ```. Package Version Editable project location. ------------------------- --------------- -------------------------------------------------------------------------------------------------------------------------. aiohttp 3.9.3. aiosignal 1.3.1. anndata 0.10.5.post1. anyio 4.3.0. appdirs 1.4.4. argon2-cffi 23.1.0. argon2-cffi-bindings 21.2.0. array_api_compat 1.5. arrow 1.3.0. asciitree 0.3.3. asttokens 2.4.1. async-lru 2.0.4. async-timeout ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:1535,deployability,Version,Versions,1535,"scated the `obs` table of my real data and can share it here: . https://www.dropbox.com/scl/fi/jsbrb2ulki7mmih2242kc/adata_aggregate_bug.h5ad?rlkey=qczuaf2v5vlwb00zyuxmzjkix&dl=1. ### Minimal code sample. ```python. >>> test_adata = sc.read_h5ad(""adata_aggregate_bug.h5ad""). >>> test_adata.obs[""patient_id""].nunique(). 69. >>> test_adata.obs.isnull().sum(). patient_id 0. timepoint 0. external_batch_id 0. dtype: int64. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 15. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. ```. ### Error output. ```pytb. So only if using all three variables, some patient IDs are lost. I don't see why this would be happening. ```. ### Versions. <details>. ```. Package Version Editable project location. ------------------------- --------------- -------------------------------------------------------------------------------------------------------------------------. aiohttp 3.9.3. aiosignal 1.3.1. anndata 0.10.5.post1. anyio 4.3.0. appdirs 1.4.4. argon2-cffi 23.1.0. argon2-cffi-bindings 21.2.0. array_api_compat 1.5. arrow 1.3.0. asciitree 0.3.3. asttokens 2.4.1. async-lru 2.0.4. async-timeout 4.0.3. attrs 23.2.0. Babel 2.14.0. beautifulsoup4 4.12.3. bleach 6.1.0. bokeh 3.3.4. branca 0.7.1. Brotli 1.1.0. cached-property 1.5.2. cachetools 5.3.3. certifi 2024.2.2. cffi 1.16.0. charset-normalizer 3.3.2. click 8.1.7. click-plugins 1.1.1. cligj 0.7.2. cloudpickle 3.0.0. colorama 0.4.6. colorcet 3.1.0. comm 0.2.1. confluent-kafka 1.9.2. contourpy 1.2.0. cubinlinker 0.3.0. cucim 24.2.0. cuda-python 11.8.3. cudf 24.2.2. cudf_kafka 24.2.2. cugraph 24.2.0. cuml 24.2.0. cuproj 24.2.0. cupy 12.2.0. cuspatial 24.2.0. custreamz 24.2.2. ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:1569,deployability,Version,Version,1569,"data and can share it here: . https://www.dropbox.com/scl/fi/jsbrb2ulki7mmih2242kc/adata_aggregate_bug.h5ad?rlkey=qczuaf2v5vlwb00zyuxmzjkix&dl=1. ### Minimal code sample. ```python. >>> test_adata = sc.read_h5ad(""adata_aggregate_bug.h5ad""). >>> test_adata.obs[""patient_id""].nunique(). 69. >>> test_adata.obs.isnull().sum(). patient_id 0. timepoint 0. external_batch_id 0. dtype: int64. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 15. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. ```. ### Error output. ```pytb. So only if using all three variables, some patient IDs are lost. I don't see why this would be happening. ```. ### Versions. <details>. ```. Package Version Editable project location. ------------------------- --------------- -------------------------------------------------------------------------------------------------------------------------. aiohttp 3.9.3. aiosignal 1.3.1. anndata 0.10.5.post1. anyio 4.3.0. appdirs 1.4.4. argon2-cffi 23.1.0. argon2-cffi-bindings 21.2.0. array_api_compat 1.5. arrow 1.3.0. asciitree 0.3.3. asttokens 2.4.1. async-lru 2.0.4. async-timeout 4.0.3. attrs 23.2.0. Babel 2.14.0. beautifulsoup4 4.12.3. bleach 6.1.0. bokeh 3.3.4. branca 0.7.1. Brotli 1.1.0. cached-property 1.5.2. cachetools 5.3.3. certifi 2024.2.2. cffi 1.16.0. charset-normalizer 3.3.2. click 8.1.7. click-plugins 1.1.1. cligj 0.7.2. cloudpickle 3.0.0. colorama 0.4.6. colorcet 3.1.0. comm 0.2.1. confluent-kafka 1.9.2. contourpy 1.2.0. cubinlinker 0.3.0. cucim 24.2.0. cuda-python 11.8.3. cudf 24.2.2. cudf_kafka 24.2.2. cugraph 24.2.0. cuml 24.2.0. cuproj 24.2.0. cupy 12.2.0. cuspatial 24.2.0. custreamz 24.2.2. cuxfilter 24.2.0. cycler 0.12.1. c",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:3875,deployability,api,api-wrap,3875,19.1. fastrlock 0.8.2. fcsparser 0.2.8. filelock 3.13.1. fiona 1.9.5. folium 0.16.0. fonttools 4.49.0. fqdn 1.5.1. frozenlist 1.4.1. fsspec 2024.2.0. GDAL 3.8.1. gdown 5.1.0. geopandas 0.14.3. h11 0.14.0. h2 4.1.0. h5py 3.10.0. harmonypy 0.0.9. holoviews 1.18.3. hpack 4.0.0. httpcore 1.0.4. httpx 0.27.0. hyperframe 6.0.1. idna 3.6. igraph 0.11.4. imagecodecs 2024.1.1. imageio 2.34.0. importlib_metadata 7.0.2. importlib_resources 6.1.3. inflect 7.0.0. ipykernel 6.29.3. ipylab 1.0.0. ipython 8.22.2. ipywidgets 8.1.2. isoduration 20.11.0. jedi 0.19.1. Jinja2 3.1.3. joblib 1.3.2. json5 0.9.22. jsonpointer 2.4. jsonschema 4.21.1. jsonschema-specifications 2023.12.1. jupyter_client 8.6.0. jupyter_core 5.7.1. jupyter-events 0.9.0. jupyter-lsp 2.2.4. jupyter_server 2.13.0. jupyter_server_proxy 4.1.0. jupyter_server_terminals 0.5.2. jupyterlab 4.1.4. jupyterlab_pygments 0.3.0. jupyterlab_server 2.25.3. jupyterlab_widgets 3.0.10. kiwisolver 1.4.5. lamin_utils 0.13.0. lazy_loader 0.3. legacy-api-wrap 1.4. leidenalg 0.10.2. linkify-it-py 2.0.3. llvmlite 0.42.0. locket 1.0.0. louvain 0.8.1. lz4 4.3.3. mapclassify 2.6.1. Markdown 3.5.2. markdown-it-py 3.0.0. MarkupSafe 2.1.5. matplotlib 3.8.3. matplotlib-inline 0.1.6. mdit-py-plugins 0.4.0. mdurl 0.1.2. mistune 3.0.2. msgpack 1.0.7. mudata 0.2.3. multidict 6.0.5. multipledispatch 0.6.0. munkres 1.1.4. muon 0.1.5. natsort 8.4.0. nbclient 0.8.0. nbconvert 7.16.2. nbformat 5.9.2. nbproject 0.10.1. nest_asyncio 1.6.0. networkx 3.2.1. notebook 7.1.1. notebook_shim 0.2.4. numba 0.59.0. numcodecs 0.12.1. numpy 1.24.4. nvtx 0.2.10. omnipath 1.0.8. openpyxl 3.1.2. orjson 3.9.15. overrides 7.7.0. packaging 24.0. pandas 1.5.3. pandocfilters 1.5.0. panel 1.3.8. param 2.0.2. parso 0.8.3. partd 1.4.1. patsy 0.5.6. pexpect 4.9.0. pickleshare 0.7.5. pillow 10.2.0. pip 24.0. pkgutil_resolve_name 1.3.10. platformdirs 4.2.0. pooch 1.8.1. prometheus_client 0.20.0. prompt-toolkit 3.0.42. protobuf 4.25.3. psutil 5.9.8. ptxcompiler 0.8.1. ptyprocess 0.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:5184,deployability,log,logger,5184,idict 6.0.5. multipledispatch 0.6.0. munkres 1.1.4. muon 0.1.5. natsort 8.4.0. nbclient 0.8.0. nbconvert 7.16.2. nbformat 5.9.2. nbproject 0.10.1. nest_asyncio 1.6.0. networkx 3.2.1. notebook 7.1.1. notebook_shim 0.2.4. numba 0.59.0. numcodecs 0.12.1. numpy 1.24.4. nvtx 0.2.10. omnipath 1.0.8. openpyxl 3.1.2. orjson 3.9.15. overrides 7.7.0. packaging 24.0. pandas 1.5.3. pandocfilters 1.5.0. panel 1.3.8. param 2.0.2. parso 0.8.3. partd 1.4.1. patsy 0.5.6. pexpect 4.9.0. pickleshare 0.7.5. pillow 10.2.0. pip 24.0. pkgutil_resolve_name 1.3.10. platformdirs 4.2.0. pooch 1.8.1. prometheus_client 0.20.0. prompt-toolkit 3.0.42. protobuf 4.25.3. psutil 5.9.8. ptxcompiler 0.8.1. ptyprocess 0.7.0. pure-eval 0.2.2. pyarrow 14.0.2. pyarrow-hotfix 0.6. pycparser 2.21. pyct 0.5.0. pydantic 1.10.14. pyee 8.1.0. Pygments 2.17.2. pylibcugraph 24.2.0. pylibraft 24.2.0. pynndescent 0.5.11. pynvml 11.4.1. pyparsing 3.1.2. pyppeteer 1.0.2. pyproj 3.6.1. PySocks 1.7.1. python-dateutil 2.9.0. python-json-logger 2.0.7. pytometry 0.1.4. pytz 2024.1. pyviz_comms 3.0.1. PyWavelets 1.4.1. PyYAML 6.0.1. pyzmq 25.1.2. raft-dask 24.2.0. rapids_singlecell 0.9.6. readfcs 1.1.7. referencing 0.33.0. requests 2.31.0. rfc3339-validator 0.1.4. rfc3986-validator 0.1.1. rich 13.7.1. rmm 24.2.0. rpds-py 0.18.0. Rtree 1.2.0. scanpy 1.10.0rc2. scikit-image 0.22.0. scikit-learn 1.4.1.post1. scikit-misc 0.3.1. scipy 1.12.0. seaborn 0.13.2. Send2Trash 1.8.2. session-info 1.0.0. setuptools 69.1.1. shapely 2.0.3. simpervisor 1.0.0. single_cell_helper 0.0.1 . six 1.16.0. sniffio 1.3.1. sortedcontainers 2.4.0. soupsieve 2.5. stack-data 0.6.2. statsmodels 0.14.1. stdlib-list 0.10.0. streamz 0.6.4. tblib 3.0.0. terminado 0.18.0. texttable 1.7.0. threadpoolctl 3.3.0. tifffile 2024.2.12. tinycss2 1.2.1. tomli 2.0.1. toolz 0.12.1. tornado 6.4. tqdm 4.66.2. traitlets 5.14.1. treelite 4.0.0. types-python-dateutil 2.8.19.20240311. typing_extensions 4.10.0. typing-utils 0.1.0. uc-micro-py 1.0.3. ucx-py 0.36.0. umap-learn 0.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:5790,deployability,stack,stack-data,5790, packaging 24.0. pandas 1.5.3. pandocfilters 1.5.0. panel 1.3.8. param 2.0.2. parso 0.8.3. partd 1.4.1. patsy 0.5.6. pexpect 4.9.0. pickleshare 0.7.5. pillow 10.2.0. pip 24.0. pkgutil_resolve_name 1.3.10. platformdirs 4.2.0. pooch 1.8.1. prometheus_client 0.20.0. prompt-toolkit 3.0.42. protobuf 4.25.3. psutil 5.9.8. ptxcompiler 0.8.1. ptyprocess 0.7.0. pure-eval 0.2.2. pyarrow 14.0.2. pyarrow-hotfix 0.6. pycparser 2.21. pyct 0.5.0. pydantic 1.10.14. pyee 8.1.0. Pygments 2.17.2. pylibcugraph 24.2.0. pylibraft 24.2.0. pynndescent 0.5.11. pynvml 11.4.1. pyparsing 3.1.2. pyppeteer 1.0.2. pyproj 3.6.1. PySocks 1.7.1. python-dateutil 2.9.0. python-json-logger 2.0.7. pytometry 0.1.4. pytz 2024.1. pyviz_comms 3.0.1. PyWavelets 1.4.1. PyYAML 6.0.1. pyzmq 25.1.2. raft-dask 24.2.0. rapids_singlecell 0.9.6. readfcs 1.1.7. referencing 0.33.0. requests 2.31.0. rfc3339-validator 0.1.4. rfc3986-validator 0.1.1. rich 13.7.1. rmm 24.2.0. rpds-py 0.18.0. Rtree 1.2.0. scanpy 1.10.0rc2. scikit-image 0.22.0. scikit-learn 1.4.1.post1. scikit-misc 0.3.1. scipy 1.12.0. seaborn 0.13.2. Send2Trash 1.8.2. session-info 1.0.0. setuptools 69.1.1. shapely 2.0.3. simpervisor 1.0.0. single_cell_helper 0.0.1 . six 1.16.0. sniffio 1.3.1. sortedcontainers 2.4.0. soupsieve 2.5. stack-data 0.6.2. statsmodels 0.14.1. stdlib-list 0.10.0. streamz 0.6.4. tblib 3.0.0. terminado 0.18.0. texttable 1.7.0. threadpoolctl 3.3.0. tifffile 2024.2.12. tinycss2 1.2.1. tomli 2.0.1. toolz 0.12.1. tornado 6.4. tqdm 4.66.2. traitlets 5.14.1. treelite 4.0.0. types-python-dateutil 2.8.19.20240311. typing_extensions 4.10.0. typing-utils 0.1.0. uc-micro-py 1.0.3. ucx-py 0.36.0. umap-learn 0.5.5. unicodedata2 15.1.0. uri-template 1.3.0. urllib3 1.26.18. wcwidth 0.2.13. webcolors 1.13. webencodings 0.5.1. websocket-client 1.7.0. websockets 10.4. wget 3.2. wheel 0.42.0. widgetsnbextension 4.0.10. wrapt 1.16.0. xarray 2024.2.0. xgboost 2.0.3. xyzservices 2023.10.1. yarl 1.9.4. zarr 2.17.1. zict 3.0.0. zipp 3.17.0. ```. </details>.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:2258,energy efficiency,cloud,cloudpickle,2258,"sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. ```. ### Error output. ```pytb. So only if using all three variables, some patient IDs are lost. I don't see why this would be happening. ```. ### Versions. <details>. ```. Package Version Editable project location. ------------------------- --------------- -------------------------------------------------------------------------------------------------------------------------. aiohttp 3.9.3. aiosignal 1.3.1. anndata 0.10.5.post1. anyio 4.3.0. appdirs 1.4.4. argon2-cffi 23.1.0. argon2-cffi-bindings 21.2.0. array_api_compat 1.5. arrow 1.3.0. asciitree 0.3.3. asttokens 2.4.1. async-lru 2.0.4. async-timeout 4.0.3. attrs 23.2.0. Babel 2.14.0. beautifulsoup4 4.12.3. bleach 6.1.0. bokeh 3.3.4. branca 0.7.1. Brotli 1.1.0. cached-property 1.5.2. cachetools 5.3.3. certifi 2024.2.2. cffi 1.16.0. charset-normalizer 3.3.2. click 8.1.7. click-plugins 1.1.1. cligj 0.7.2. cloudpickle 3.0.0. colorama 0.4.6. colorcet 3.1.0. comm 0.2.1. confluent-kafka 1.9.2. contourpy 1.2.0. cubinlinker 0.3.0. cucim 24.2.0. cuda-python 11.8.3. cudf 24.2.2. cudf_kafka 24.2.2. cugraph 24.2.0. cuml 24.2.0. cuproj 24.2.0. cupy 12.2.0. cuspatial 24.2.0. custreamz 24.2.2. cuxfilter 24.2.0. cycler 0.12.1. cytoolz 0.12.3. dask 2024.1.1. dask-cuda 24.2.0. dask-cudf 24.2.2. datashader 0.16.0. debugpy 1.8.1. decorator 5.1.1. decoupler 1.6.0. defusedxml 0.7.1. distributed 2024.1.1. docrep 0.3.2. entrypoints 0.4. et-xmlfile 1.1.0. exceptiongroup 1.2.0. executing 2.0.1. fa2 0.3.5. fasteners 0.19. fastjsonschema 2.19.1. fastrlock 0.8.2. fcsparser 0.2.8. filelock 3.13.1. fiona 1.9.5. folium 0.16.0. fonttools 4.49.0. fqdn 1.5.1. frozenlist 1.4.1. fsspec 2024.2.0. GDAL 3.8.1. gdown 5.1.0. geopandas 0.14.3. h11 0.14.0. h2 4.1.0. h5py 3.10.0. harmonypy 0.0.9. holoviews 1.18.3. hpack 4.0.0. httpcore 1.0.4. httpx 0.27.0. hyperframe 6.0.1. idna 3.6. igraph 0.11.4. imagecodecs 2024.1.1. imageio 2.34.0",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:200,integrability,version,version,200,"sc.get.aggregate looses values; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I'm working with the `sc.get.aggregate` function from the latest release candidate. In certain combinations of `groupby` variables, some valuese get lost. . I wasn't able to make a minimal reproducible example, but I obfuscated the `obs` table of my real data and can share it here: . https://www.dropbox.com/scl/fi/jsbrb2ulki7mmih2242kc/adata_aggregate_bug.h5ad?rlkey=qczuaf2v5vlwb00zyuxmzjkix&dl=1. ### Minimal code sample. ```python. >>> test_adata = sc.read_h5ad(""adata_aggregate_bug.h5ad""). >>> test_adata.obs[""patient_id""].nunique(). 69. >>> test_adata.obs.isnull().sum(). patient_id 0. timepoint 0. external_batch_id 0. dtype: int64. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 15. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. ```. ### Error output. ```pytb. So only if using all three variables, some patient IDs are lost. I don't see why this would be happening. ```. ### Versions. <details>. ```. Package Version Editable project location. ------------------------- --------------- -------------------------------------------------------------------------------------------------------------------------. aiohttp 3.9.3. aiosignal 1.3.1. anndata 0.10.5.post1. anyio 4.3.0. appdirs 1.4.4. argon2-cffi 23.1.0. argon2-cffi-bindings 21.2.0. array_api_compat 1.5. arrow 1.3.0. asciitree 0.3.3. asttokens 2.4.1. async-lru 2.0.4. async-timeout ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:1535,integrability,Version,Versions,1535,"scated the `obs` table of my real data and can share it here: . https://www.dropbox.com/scl/fi/jsbrb2ulki7mmih2242kc/adata_aggregate_bug.h5ad?rlkey=qczuaf2v5vlwb00zyuxmzjkix&dl=1. ### Minimal code sample. ```python. >>> test_adata = sc.read_h5ad(""adata_aggregate_bug.h5ad""). >>> test_adata.obs[""patient_id""].nunique(). 69. >>> test_adata.obs.isnull().sum(). patient_id 0. timepoint 0. external_batch_id 0. dtype: int64. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 15. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. ```. ### Error output. ```pytb. So only if using all three variables, some patient IDs are lost. I don't see why this would be happening. ```. ### Versions. <details>. ```. Package Version Editable project location. ------------------------- --------------- -------------------------------------------------------------------------------------------------------------------------. aiohttp 3.9.3. aiosignal 1.3.1. anndata 0.10.5.post1. anyio 4.3.0. appdirs 1.4.4. argon2-cffi 23.1.0. argon2-cffi-bindings 21.2.0. array_api_compat 1.5. arrow 1.3.0. asciitree 0.3.3. asttokens 2.4.1. async-lru 2.0.4. async-timeout 4.0.3. attrs 23.2.0. Babel 2.14.0. beautifulsoup4 4.12.3. bleach 6.1.0. bokeh 3.3.4. branca 0.7.1. Brotli 1.1.0. cached-property 1.5.2. cachetools 5.3.3. certifi 2024.2.2. cffi 1.16.0. charset-normalizer 3.3.2. click 8.1.7. click-plugins 1.1.1. cligj 0.7.2. cloudpickle 3.0.0. colorama 0.4.6. colorcet 3.1.0. comm 0.2.1. confluent-kafka 1.9.2. contourpy 1.2.0. cubinlinker 0.3.0. cucim 24.2.0. cuda-python 11.8.3. cudf 24.2.2. cudf_kafka 24.2.2. cugraph 24.2.0. cuml 24.2.0. cuproj 24.2.0. cupy 12.2.0. cuspatial 24.2.0. custreamz 24.2.2. ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:1569,integrability,Version,Version,1569,"data and can share it here: . https://www.dropbox.com/scl/fi/jsbrb2ulki7mmih2242kc/adata_aggregate_bug.h5ad?rlkey=qczuaf2v5vlwb00zyuxmzjkix&dl=1. ### Minimal code sample. ```python. >>> test_adata = sc.read_h5ad(""adata_aggregate_bug.h5ad""). >>> test_adata.obs[""patient_id""].nunique(). 69. >>> test_adata.obs.isnull().sum(). patient_id 0. timepoint 0. external_batch_id 0. dtype: int64. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 15. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. ```. ### Error output. ```pytb. So only if using all three variables, some patient IDs are lost. I don't see why this would be happening. ```. ### Versions. <details>. ```. Package Version Editable project location. ------------------------- --------------- -------------------------------------------------------------------------------------------------------------------------. aiohttp 3.9.3. aiosignal 1.3.1. anndata 0.10.5.post1. anyio 4.3.0. appdirs 1.4.4. argon2-cffi 23.1.0. argon2-cffi-bindings 21.2.0. array_api_compat 1.5. arrow 1.3.0. asciitree 0.3.3. asttokens 2.4.1. async-lru 2.0.4. async-timeout 4.0.3. attrs 23.2.0. Babel 2.14.0. beautifulsoup4 4.12.3. bleach 6.1.0. bokeh 3.3.4. branca 0.7.1. Brotli 1.1.0. cached-property 1.5.2. cachetools 5.3.3. certifi 2024.2.2. cffi 1.16.0. charset-normalizer 3.3.2. click 8.1.7. click-plugins 1.1.1. cligj 0.7.2. cloudpickle 3.0.0. colorama 0.4.6. colorcet 3.1.0. comm 0.2.1. confluent-kafka 1.9.2. contourpy 1.2.0. cubinlinker 0.3.0. cucim 24.2.0. cuda-python 11.8.3. cudf 24.2.2. cudf_kafka 24.2.2. cugraph 24.2.0. cuml 24.2.0. cuproj 24.2.0. cupy 12.2.0. cuspatial 24.2.0. custreamz 24.2.2. cuxfilter 24.2.0. cycler 0.12.1. c",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:3599,integrability,event,events,3599, dask-cuda 24.2.0. dask-cudf 24.2.2. datashader 0.16.0. debugpy 1.8.1. decorator 5.1.1. decoupler 1.6.0. defusedxml 0.7.1. distributed 2024.1.1. docrep 0.3.2. entrypoints 0.4. et-xmlfile 1.1.0. exceptiongroup 1.2.0. executing 2.0.1. fa2 0.3.5. fasteners 0.19. fastjsonschema 2.19.1. fastrlock 0.8.2. fcsparser 0.2.8. filelock 3.13.1. fiona 1.9.5. folium 0.16.0. fonttools 4.49.0. fqdn 1.5.1. frozenlist 1.4.1. fsspec 2024.2.0. GDAL 3.8.1. gdown 5.1.0. geopandas 0.14.3. h11 0.14.0. h2 4.1.0. h5py 3.10.0. harmonypy 0.0.9. holoviews 1.18.3. hpack 4.0.0. httpcore 1.0.4. httpx 0.27.0. hyperframe 6.0.1. idna 3.6. igraph 0.11.4. imagecodecs 2024.1.1. imageio 2.34.0. importlib_metadata 7.0.2. importlib_resources 6.1.3. inflect 7.0.0. ipykernel 6.29.3. ipylab 1.0.0. ipython 8.22.2. ipywidgets 8.1.2. isoduration 20.11.0. jedi 0.19.1. Jinja2 3.1.3. joblib 1.3.2. json5 0.9.22. jsonpointer 2.4. jsonschema 4.21.1. jsonschema-specifications 2023.12.1. jupyter_client 8.6.0. jupyter_core 5.7.1. jupyter-events 0.9.0. jupyter-lsp 2.2.4. jupyter_server 2.13.0. jupyter_server_proxy 4.1.0. jupyter_server_terminals 0.5.2. jupyterlab 4.1.4. jupyterlab_pygments 0.3.0. jupyterlab_server 2.25.3. jupyterlab_widgets 3.0.10. kiwisolver 1.4.5. lamin_utils 0.13.0. lazy_loader 0.3. legacy-api-wrap 1.4. leidenalg 0.10.2. linkify-it-py 2.0.3. llvmlite 0.42.0. locket 1.0.0. louvain 0.8.1. lz4 4.3.3. mapclassify 2.6.1. Markdown 3.5.2. markdown-it-py 3.0.0. MarkupSafe 2.1.5. matplotlib 3.8.3. matplotlib-inline 0.1.6. mdit-py-plugins 0.4.0. mdurl 0.1.2. mistune 3.0.2. msgpack 1.0.7. mudata 0.2.3. multidict 6.0.5. multipledispatch 0.6.0. munkres 1.1.4. muon 0.1.5. natsort 8.4.0. nbclient 0.8.0. nbconvert 7.16.2. nbformat 5.9.2. nbproject 0.10.1. nest_asyncio 1.6.0. networkx 3.2.1. notebook 7.1.1. notebook_shim 0.2.4. numba 0.59.0. numcodecs 0.12.1. numpy 1.24.4. nvtx 0.2.10. omnipath 1.0.8. openpyxl 3.1.2. orjson 3.9.15. overrides 7.7.0. packaging 24.0. pandas 1.5.3. pandocfilters 1.5.0. panel 1.3.8. param 2.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:3875,integrability,api,api-wrap,3875,19.1. fastrlock 0.8.2. fcsparser 0.2.8. filelock 3.13.1. fiona 1.9.5. folium 0.16.0. fonttools 4.49.0. fqdn 1.5.1. frozenlist 1.4.1. fsspec 2024.2.0. GDAL 3.8.1. gdown 5.1.0. geopandas 0.14.3. h11 0.14.0. h2 4.1.0. h5py 3.10.0. harmonypy 0.0.9. holoviews 1.18.3. hpack 4.0.0. httpcore 1.0.4. httpx 0.27.0. hyperframe 6.0.1. idna 3.6. igraph 0.11.4. imagecodecs 2024.1.1. imageio 2.34.0. importlib_metadata 7.0.2. importlib_resources 6.1.3. inflect 7.0.0. ipykernel 6.29.3. ipylab 1.0.0. ipython 8.22.2. ipywidgets 8.1.2. isoduration 20.11.0. jedi 0.19.1. Jinja2 3.1.3. joblib 1.3.2. json5 0.9.22. jsonpointer 2.4. jsonschema 4.21.1. jsonschema-specifications 2023.12.1. jupyter_client 8.6.0. jupyter_core 5.7.1. jupyter-events 0.9.0. jupyter-lsp 2.2.4. jupyter_server 2.13.0. jupyter_server_proxy 4.1.0. jupyter_server_terminals 0.5.2. jupyterlab 4.1.4. jupyterlab_pygments 0.3.0. jupyterlab_server 2.25.3. jupyterlab_widgets 3.0.10. kiwisolver 1.4.5. lamin_utils 0.13.0. lazy_loader 0.3. legacy-api-wrap 1.4. leidenalg 0.10.2. linkify-it-py 2.0.3. llvmlite 0.42.0. locket 1.0.0. louvain 0.8.1. lz4 4.3.3. mapclassify 2.6.1. Markdown 3.5.2. markdown-it-py 3.0.0. MarkupSafe 2.1.5. matplotlib 3.8.3. matplotlib-inline 0.1.6. mdit-py-plugins 0.4.0. mdurl 0.1.2. mistune 3.0.2. msgpack 1.0.7. mudata 0.2.3. multidict 6.0.5. multipledispatch 0.6.0. munkres 1.1.4. muon 0.1.5. natsort 8.4.0. nbclient 0.8.0. nbconvert 7.16.2. nbformat 5.9.2. nbproject 0.10.1. nest_asyncio 1.6.0. networkx 3.2.1. notebook 7.1.1. notebook_shim 0.2.4. numba 0.59.0. numcodecs 0.12.1. numpy 1.24.4. nvtx 0.2.10. omnipath 1.0.8. openpyxl 3.1.2. orjson 3.9.15. overrides 7.7.0. packaging 24.0. pandas 1.5.3. pandocfilters 1.5.0. panel 1.3.8. param 2.0.2. parso 0.8.3. partd 1.4.1. patsy 0.5.6. pexpect 4.9.0. pickleshare 0.7.5. pillow 10.2.0. pip 24.0. pkgutil_resolve_name 1.3.10. platformdirs 4.2.0. pooch 1.8.1. prometheus_client 0.20.0. prompt-toolkit 3.0.42. protobuf 4.25.3. psutil 5.9.8. ptxcompiler 0.8.1. ptyprocess 0.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:6394,integrability,wrap,wrapt,6394, packaging 24.0. pandas 1.5.3. pandocfilters 1.5.0. panel 1.3.8. param 2.0.2. parso 0.8.3. partd 1.4.1. patsy 0.5.6. pexpect 4.9.0. pickleshare 0.7.5. pillow 10.2.0. pip 24.0. pkgutil_resolve_name 1.3.10. platformdirs 4.2.0. pooch 1.8.1. prometheus_client 0.20.0. prompt-toolkit 3.0.42. protobuf 4.25.3. psutil 5.9.8. ptxcompiler 0.8.1. ptyprocess 0.7.0. pure-eval 0.2.2. pyarrow 14.0.2. pyarrow-hotfix 0.6. pycparser 2.21. pyct 0.5.0. pydantic 1.10.14. pyee 8.1.0. Pygments 2.17.2. pylibcugraph 24.2.0. pylibraft 24.2.0. pynndescent 0.5.11. pynvml 11.4.1. pyparsing 3.1.2. pyppeteer 1.0.2. pyproj 3.6.1. PySocks 1.7.1. python-dateutil 2.9.0. python-json-logger 2.0.7. pytometry 0.1.4. pytz 2024.1. pyviz_comms 3.0.1. PyWavelets 1.4.1. PyYAML 6.0.1. pyzmq 25.1.2. raft-dask 24.2.0. rapids_singlecell 0.9.6. readfcs 1.1.7. referencing 0.33.0. requests 2.31.0. rfc3339-validator 0.1.4. rfc3986-validator 0.1.1. rich 13.7.1. rmm 24.2.0. rpds-py 0.18.0. Rtree 1.2.0. scanpy 1.10.0rc2. scikit-image 0.22.0. scikit-learn 1.4.1.post1. scikit-misc 0.3.1. scipy 1.12.0. seaborn 0.13.2. Send2Trash 1.8.2. session-info 1.0.0. setuptools 69.1.1. shapely 2.0.3. simpervisor 1.0.0. single_cell_helper 0.0.1 . six 1.16.0. sniffio 1.3.1. sortedcontainers 2.4.0. soupsieve 2.5. stack-data 0.6.2. statsmodels 0.14.1. stdlib-list 0.10.0. streamz 0.6.4. tblib 3.0.0. terminado 0.18.0. texttable 1.7.0. threadpoolctl 3.3.0. tifffile 2024.2.12. tinycss2 1.2.1. tomli 2.0.1. toolz 0.12.1. tornado 6.4. tqdm 4.66.2. traitlets 5.14.1. treelite 4.0.0. types-python-dateutil 2.8.19.20240311. typing_extensions 4.10.0. typing-utils 0.1.0. uc-micro-py 1.0.3. ucx-py 0.36.0. umap-learn 0.5.5. unicodedata2 15.1.0. uri-template 1.3.0. urllib3 1.26.18. wcwidth 0.2.13. webcolors 1.13. webencodings 0.5.1. websocket-client 1.7.0. websockets 10.4. wget 3.2. wheel 0.42.0. widgetsnbextension 4.0.10. wrapt 1.16.0. xarray 2024.2.0. xgboost 2.0.3. xyzservices 2023.10.1. yarl 1.9.4. zarr 2.17.1. zict 3.0.0. zipp 3.17.0. ```. </details>.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:586,interoperability,share,share,586,"sc.get.aggregate looses values; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I'm working with the `sc.get.aggregate` function from the latest release candidate. In certain combinations of `groupby` variables, some valuese get lost. . I wasn't able to make a minimal reproducible example, but I obfuscated the `obs` table of my real data and can share it here: . https://www.dropbox.com/scl/fi/jsbrb2ulki7mmih2242kc/adata_aggregate_bug.h5ad?rlkey=qczuaf2v5vlwb00zyuxmzjkix&dl=1. ### Minimal code sample. ```python. >>> test_adata = sc.read_h5ad(""adata_aggregate_bug.h5ad""). >>> test_adata.obs[""patient_id""].nunique(). 69. >>> test_adata.obs.isnull().sum(). patient_id 0. timepoint 0. external_batch_id 0. dtype: int64. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 15. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. ```. ### Error output. ```pytb. So only if using all three variables, some patient IDs are lost. I don't see why this would be happening. ```. ### Versions. <details>. ```. Package Version Editable project location. ------------------------- --------------- -------------------------------------------------------------------------------------------------------------------------. aiohttp 3.9.3. aiosignal 1.3.1. anndata 0.10.5.post1. anyio 4.3.0. appdirs 1.4.4. argon2-cffi 23.1.0. argon2-cffi-bindings 21.2.0. array_api_compat 1.5. arrow 1.3.0. asciitree 0.3.3. asttokens 2.4.1. async-lru 2.0.4. async-timeout ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:1883,interoperability,bind,bindings,1883,"().sum(). patient_id 0. timepoint 0. external_batch_id 0. dtype: int64. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 15. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. ```. ### Error output. ```pytb. So only if using all three variables, some patient IDs are lost. I don't see why this would be happening. ```. ### Versions. <details>. ```. Package Version Editable project location. ------------------------- --------------- -------------------------------------------------------------------------------------------------------------------------. aiohttp 3.9.3. aiosignal 1.3.1. anndata 0.10.5.post1. anyio 4.3.0. appdirs 1.4.4. argon2-cffi 23.1.0. argon2-cffi-bindings 21.2.0. array_api_compat 1.5. arrow 1.3.0. asciitree 0.3.3. asttokens 2.4.1. async-lru 2.0.4. async-timeout 4.0.3. attrs 23.2.0. Babel 2.14.0. beautifulsoup4 4.12.3. bleach 6.1.0. bokeh 3.3.4. branca 0.7.1. Brotli 1.1.0. cached-property 1.5.2. cachetools 5.3.3. certifi 2024.2.2. cffi 1.16.0. charset-normalizer 3.3.2. click 8.1.7. click-plugins 1.1.1. cligj 0.7.2. cloudpickle 3.0.0. colorama 0.4.6. colorcet 3.1.0. comm 0.2.1. confluent-kafka 1.9.2. contourpy 1.2.0. cubinlinker 0.3.0. cucim 24.2.0. cuda-python 11.8.3. cudf 24.2.2. cudf_kafka 24.2.2. cugraph 24.2.0. cuml 24.2.0. cuproj 24.2.0. cupy 12.2.0. cuspatial 24.2.0. custreamz 24.2.2. cuxfilter 24.2.0. cycler 0.12.1. cytoolz 0.12.3. dask 2024.1.1. dask-cuda 24.2.0. dask-cudf 24.2.2. datashader 0.16.0. debugpy 1.8.1. decorator 5.1.1. decoupler 1.6.0. defusedxml 0.7.1. distributed 2024.1.1. docrep 0.3.2. entrypoints 0.4. et-xmlfile 1.1.0. exceptiongroup 1.2.0. executing 2.0.1. fa2 0.3.5. fasteners 0.19. fastjsonschema 2.19.1. fa",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:2230,interoperability,plug,plugins,2230,"_id""].nunique(). 69. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. ```. ### Error output. ```pytb. So only if using all three variables, some patient IDs are lost. I don't see why this would be happening. ```. ### Versions. <details>. ```. Package Version Editable project location. ------------------------- --------------- -------------------------------------------------------------------------------------------------------------------------. aiohttp 3.9.3. aiosignal 1.3.1. anndata 0.10.5.post1. anyio 4.3.0. appdirs 1.4.4. argon2-cffi 23.1.0. argon2-cffi-bindings 21.2.0. array_api_compat 1.5. arrow 1.3.0. asciitree 0.3.3. asttokens 2.4.1. async-lru 2.0.4. async-timeout 4.0.3. attrs 23.2.0. Babel 2.14.0. beautifulsoup4 4.12.3. bleach 6.1.0. bokeh 3.3.4. branca 0.7.1. Brotli 1.1.0. cached-property 1.5.2. cachetools 5.3.3. certifi 2024.2.2. cffi 1.16.0. charset-normalizer 3.3.2. click 8.1.7. click-plugins 1.1.1. cligj 0.7.2. cloudpickle 3.0.0. colorama 0.4.6. colorcet 3.1.0. comm 0.2.1. confluent-kafka 1.9.2. contourpy 1.2.0. cubinlinker 0.3.0. cucim 24.2.0. cuda-python 11.8.3. cudf 24.2.2. cudf_kafka 24.2.2. cugraph 24.2.0. cuml 24.2.0. cuproj 24.2.0. cupy 12.2.0. cuspatial 24.2.0. custreamz 24.2.2. cuxfilter 24.2.0. cycler 0.12.1. cytoolz 0.12.3. dask 2024.1.1. dask-cuda 24.2.0. dask-cudf 24.2.2. datashader 0.16.0. debugpy 1.8.1. decorator 5.1.1. decoupler 1.6.0. defusedxml 0.7.1. distributed 2024.1.1. docrep 0.3.2. entrypoints 0.4. et-xmlfile 1.1.0. exceptiongroup 1.2.0. executing 2.0.1. fa2 0.3.5. fasteners 0.19. fastjsonschema 2.19.1. fastrlock 0.8.2. fcsparser 0.2.8. filelock 3.13.1. fiona 1.9.5. folium 0.16.0. fonttools 4.49.0. fqdn 1.5.1. frozenlist 1.4.1. fsspec 2024.2.0. GDAL 3.8.1. gdown 5.1.0. geopandas 0.14.3. h11 0.14.0. h2 4.1.0. h5py 3.10.0. harmonypy 0.0.9. holoviews 1.18.3. hpack 4.0.0. httpcore 1.0.4. httpx 0.27.0. hyperframe 6.0.1. idna 3.6. igraph 0.11.4. imagec",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:2725,interoperability,distribut,distributed,2725,------------------------------------. aiohttp 3.9.3. aiosignal 1.3.1. anndata 0.10.5.post1. anyio 4.3.0. appdirs 1.4.4. argon2-cffi 23.1.0. argon2-cffi-bindings 21.2.0. array_api_compat 1.5. arrow 1.3.0. asciitree 0.3.3. asttokens 2.4.1. async-lru 2.0.4. async-timeout 4.0.3. attrs 23.2.0. Babel 2.14.0. beautifulsoup4 4.12.3. bleach 6.1.0. bokeh 3.3.4. branca 0.7.1. Brotli 1.1.0. cached-property 1.5.2. cachetools 5.3.3. certifi 2024.2.2. cffi 1.16.0. charset-normalizer 3.3.2. click 8.1.7. click-plugins 1.1.1. cligj 0.7.2. cloudpickle 3.0.0. colorama 0.4.6. colorcet 3.1.0. comm 0.2.1. confluent-kafka 1.9.2. contourpy 1.2.0. cubinlinker 0.3.0. cucim 24.2.0. cuda-python 11.8.3. cudf 24.2.2. cudf_kafka 24.2.2. cugraph 24.2.0. cuml 24.2.0. cuproj 24.2.0. cupy 12.2.0. cuspatial 24.2.0. custreamz 24.2.2. cuxfilter 24.2.0. cycler 0.12.1. cytoolz 0.12.3. dask 2024.1.1. dask-cuda 24.2.0. dask-cudf 24.2.2. datashader 0.16.0. debugpy 1.8.1. decorator 5.1.1. decoupler 1.6.0. defusedxml 0.7.1. distributed 2024.1.1. docrep 0.3.2. entrypoints 0.4. et-xmlfile 1.1.0. exceptiongroup 1.2.0. executing 2.0.1. fa2 0.3.5. fasteners 0.19. fastjsonschema 2.19.1. fastrlock 0.8.2. fcsparser 0.2.8. filelock 3.13.1. fiona 1.9.5. folium 0.16.0. fonttools 4.49.0. fqdn 1.5.1. frozenlist 1.4.1. fsspec 2024.2.0. GDAL 3.8.1. gdown 5.1.0. geopandas 0.14.3. h11 0.14.0. h2 4.1.0. h5py 3.10.0. harmonypy 0.0.9. holoviews 1.18.3. hpack 4.0.0. httpcore 1.0.4. httpx 0.27.0. hyperframe 6.0.1. idna 3.6. igraph 0.11.4. imagecodecs 2024.1.1. imageio 2.34.0. importlib_metadata 7.0.2. importlib_resources 6.1.3. inflect 7.0.0. ipykernel 6.29.3. ipylab 1.0.0. ipython 8.22.2. ipywidgets 8.1.2. isoduration 20.11.0. jedi 0.19.1. Jinja2 3.1.3. joblib 1.3.2. json5 0.9.22. jsonpointer 2.4. jsonschema 4.21.1. jsonschema-specifications 2023.12.1. jupyter_client 8.6.0. jupyter_core 5.7.1. jupyter-events 0.9.0. jupyter-lsp 2.2.4. jupyter_server 2.13.0. jupyter_server_proxy 4.1.0. jupyter_server_terminals 0.5.2. jupyterlab 4.1.4,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:2781,interoperability,xml,xmlfile,2781,iosignal 1.3.1. anndata 0.10.5.post1. anyio 4.3.0. appdirs 1.4.4. argon2-cffi 23.1.0. argon2-cffi-bindings 21.2.0. array_api_compat 1.5. arrow 1.3.0. asciitree 0.3.3. asttokens 2.4.1. async-lru 2.0.4. async-timeout 4.0.3. attrs 23.2.0. Babel 2.14.0. beautifulsoup4 4.12.3. bleach 6.1.0. bokeh 3.3.4. branca 0.7.1. Brotli 1.1.0. cached-property 1.5.2. cachetools 5.3.3. certifi 2024.2.2. cffi 1.16.0. charset-normalizer 3.3.2. click 8.1.7. click-plugins 1.1.1. cligj 0.7.2. cloudpickle 3.0.0. colorama 0.4.6. colorcet 3.1.0. comm 0.2.1. confluent-kafka 1.9.2. contourpy 1.2.0. cubinlinker 0.3.0. cucim 24.2.0. cuda-python 11.8.3. cudf 24.2.2. cudf_kafka 24.2.2. cugraph 24.2.0. cuml 24.2.0. cuproj 24.2.0. cupy 12.2.0. cuspatial 24.2.0. custreamz 24.2.2. cuxfilter 24.2.0. cycler 0.12.1. cytoolz 0.12.3. dask 2024.1.1. dask-cuda 24.2.0. dask-cudf 24.2.2. datashader 0.16.0. debugpy 1.8.1. decorator 5.1.1. decoupler 1.6.0. defusedxml 0.7.1. distributed 2024.1.1. docrep 0.3.2. entrypoints 0.4. et-xmlfile 1.1.0. exceptiongroup 1.2.0. executing 2.0.1. fa2 0.3.5. fasteners 0.19. fastjsonschema 2.19.1. fastrlock 0.8.2. fcsparser 0.2.8. filelock 3.13.1. fiona 1.9.5. folium 0.16.0. fonttools 4.49.0. fqdn 1.5.1. frozenlist 1.4.1. fsspec 2024.2.0. GDAL 3.8.1. gdown 5.1.0. geopandas 0.14.3. h11 0.14.0. h2 4.1.0. h5py 3.10.0. harmonypy 0.0.9. holoviews 1.18.3. hpack 4.0.0. httpcore 1.0.4. httpx 0.27.0. hyperframe 6.0.1. idna 3.6. igraph 0.11.4. imagecodecs 2024.1.1. imageio 2.34.0. importlib_metadata 7.0.2. importlib_resources 6.1.3. inflect 7.0.0. ipykernel 6.29.3. ipylab 1.0.0. ipython 8.22.2. ipywidgets 8.1.2. isoduration 20.11.0. jedi 0.19.1. Jinja2 3.1.3. joblib 1.3.2. json5 0.9.22. jsonpointer 2.4. jsonschema 4.21.1. jsonschema-specifications 2023.12.1. jupyter_client 8.6.0. jupyter_core 5.7.1. jupyter-events 0.9.0. jupyter-lsp 2.2.4. jupyter_server 2.13.0. jupyter_server_proxy 4.1.0. jupyter_server_terminals 0.5.2. jupyterlab 4.1.4. jupyterlab_pygments 0.3.0. jupyterlab_server 2.25.3.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:3523,interoperability,specif,specifications,3523, 24.2.2. cuxfilter 24.2.0. cycler 0.12.1. cytoolz 0.12.3. dask 2024.1.1. dask-cuda 24.2.0. dask-cudf 24.2.2. datashader 0.16.0. debugpy 1.8.1. decorator 5.1.1. decoupler 1.6.0. defusedxml 0.7.1. distributed 2024.1.1. docrep 0.3.2. entrypoints 0.4. et-xmlfile 1.1.0. exceptiongroup 1.2.0. executing 2.0.1. fa2 0.3.5. fasteners 0.19. fastjsonschema 2.19.1. fastrlock 0.8.2. fcsparser 0.2.8. filelock 3.13.1. fiona 1.9.5. folium 0.16.0. fonttools 4.49.0. fqdn 1.5.1. frozenlist 1.4.1. fsspec 2024.2.0. GDAL 3.8.1. gdown 5.1.0. geopandas 0.14.3. h11 0.14.0. h2 4.1.0. h5py 3.10.0. harmonypy 0.0.9. holoviews 1.18.3. hpack 4.0.0. httpcore 1.0.4. httpx 0.27.0. hyperframe 6.0.1. idna 3.6. igraph 0.11.4. imagecodecs 2024.1.1. imageio 2.34.0. importlib_metadata 7.0.2. importlib_resources 6.1.3. inflect 7.0.0. ipykernel 6.29.3. ipylab 1.0.0. ipython 8.22.2. ipywidgets 8.1.2. isoduration 20.11.0. jedi 0.19.1. Jinja2 3.1.3. joblib 1.3.2. json5 0.9.22. jsonpointer 2.4. jsonschema 4.21.1. jsonschema-specifications 2023.12.1. jupyter_client 8.6.0. jupyter_core 5.7.1. jupyter-events 0.9.0. jupyter-lsp 2.2.4. jupyter_server 2.13.0. jupyter_server_proxy 4.1.0. jupyter_server_terminals 0.5.2. jupyterlab 4.1.4. jupyterlab_pygments 0.3.0. jupyterlab_server 2.25.3. jupyterlab_widgets 3.0.10. kiwisolver 1.4.5. lamin_utils 0.13.0. lazy_loader 0.3. legacy-api-wrap 1.4. leidenalg 0.10.2. linkify-it-py 2.0.3. llvmlite 0.42.0. locket 1.0.0. louvain 0.8.1. lz4 4.3.3. mapclassify 2.6.1. Markdown 3.5.2. markdown-it-py 3.0.0. MarkupSafe 2.1.5. matplotlib 3.8.3. matplotlib-inline 0.1.6. mdit-py-plugins 0.4.0. mdurl 0.1.2. mistune 3.0.2. msgpack 1.0.7. mudata 0.2.3. multidict 6.0.5. multipledispatch 0.6.0. munkres 1.1.4. muon 0.1.5. natsort 8.4.0. nbclient 0.8.0. nbconvert 7.16.2. nbformat 5.9.2. nbproject 0.10.1. nest_asyncio 1.6.0. networkx 3.2.1. notebook 7.1.1. notebook_shim 0.2.4. numba 0.59.0. numcodecs 0.12.1. numpy 1.24.4. nvtx 0.2.10. omnipath 1.0.8. openpyxl 3.1.2. orjson 3.9.15. overrides 7.7.0. ,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:3875,interoperability,api,api-wrap,3875,19.1. fastrlock 0.8.2. fcsparser 0.2.8. filelock 3.13.1. fiona 1.9.5. folium 0.16.0. fonttools 4.49.0. fqdn 1.5.1. frozenlist 1.4.1. fsspec 2024.2.0. GDAL 3.8.1. gdown 5.1.0. geopandas 0.14.3. h11 0.14.0. h2 4.1.0. h5py 3.10.0. harmonypy 0.0.9. holoviews 1.18.3. hpack 4.0.0. httpcore 1.0.4. httpx 0.27.0. hyperframe 6.0.1. idna 3.6. igraph 0.11.4. imagecodecs 2024.1.1. imageio 2.34.0. importlib_metadata 7.0.2. importlib_resources 6.1.3. inflect 7.0.0. ipykernel 6.29.3. ipylab 1.0.0. ipython 8.22.2. ipywidgets 8.1.2. isoduration 20.11.0. jedi 0.19.1. Jinja2 3.1.3. joblib 1.3.2. json5 0.9.22. jsonpointer 2.4. jsonschema 4.21.1. jsonschema-specifications 2023.12.1. jupyter_client 8.6.0. jupyter_core 5.7.1. jupyter-events 0.9.0. jupyter-lsp 2.2.4. jupyter_server 2.13.0. jupyter_server_proxy 4.1.0. jupyter_server_terminals 0.5.2. jupyterlab 4.1.4. jupyterlab_pygments 0.3.0. jupyterlab_server 2.25.3. jupyterlab_widgets 3.0.10. kiwisolver 1.4.5. lamin_utils 0.13.0. lazy_loader 0.3. legacy-api-wrap 1.4. leidenalg 0.10.2. linkify-it-py 2.0.3. llvmlite 0.42.0. locket 1.0.0. louvain 0.8.1. lz4 4.3.3. mapclassify 2.6.1. Markdown 3.5.2. markdown-it-py 3.0.0. MarkupSafe 2.1.5. matplotlib 3.8.3. matplotlib-inline 0.1.6. mdit-py-plugins 0.4.0. mdurl 0.1.2. mistune 3.0.2. msgpack 1.0.7. mudata 0.2.3. multidict 6.0.5. multipledispatch 0.6.0. munkres 1.1.4. muon 0.1.5. natsort 8.4.0. nbclient 0.8.0. nbconvert 7.16.2. nbformat 5.9.2. nbproject 0.10.1. nest_asyncio 1.6.0. networkx 3.2.1. notebook 7.1.1. notebook_shim 0.2.4. numba 0.59.0. numcodecs 0.12.1. numpy 1.24.4. nvtx 0.2.10. omnipath 1.0.8. openpyxl 3.1.2. orjson 3.9.15. overrides 7.7.0. packaging 24.0. pandas 1.5.3. pandocfilters 1.5.0. panel 1.3.8. param 2.0.2. parso 0.8.3. partd 1.4.1. patsy 0.5.6. pexpect 4.9.0. pickleshare 0.7.5. pillow 10.2.0. pip 24.0. pkgutil_resolve_name 1.3.10. platformdirs 4.2.0. pooch 1.8.1. prometheus_client 0.20.0. prompt-toolkit 3.0.42. protobuf 4.25.3. psutil 5.9.8. ptxcompiler 0.8.1. ptyprocess 0.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:4111,interoperability,plug,plugins,4111,y 0.0.9. holoviews 1.18.3. hpack 4.0.0. httpcore 1.0.4. httpx 0.27.0. hyperframe 6.0.1. idna 3.6. igraph 0.11.4. imagecodecs 2024.1.1. imageio 2.34.0. importlib_metadata 7.0.2. importlib_resources 6.1.3. inflect 7.0.0. ipykernel 6.29.3. ipylab 1.0.0. ipython 8.22.2. ipywidgets 8.1.2. isoduration 20.11.0. jedi 0.19.1. Jinja2 3.1.3. joblib 1.3.2. json5 0.9.22. jsonpointer 2.4. jsonschema 4.21.1. jsonschema-specifications 2023.12.1. jupyter_client 8.6.0. jupyter_core 5.7.1. jupyter-events 0.9.0. jupyter-lsp 2.2.4. jupyter_server 2.13.0. jupyter_server_proxy 4.1.0. jupyter_server_terminals 0.5.2. jupyterlab 4.1.4. jupyterlab_pygments 0.3.0. jupyterlab_server 2.25.3. jupyterlab_widgets 3.0.10. kiwisolver 1.4.5. lamin_utils 0.13.0. lazy_loader 0.3. legacy-api-wrap 1.4. leidenalg 0.10.2. linkify-it-py 2.0.3. llvmlite 0.42.0. locket 1.0.0. louvain 0.8.1. lz4 4.3.3. mapclassify 2.6.1. Markdown 3.5.2. markdown-it-py 3.0.0. MarkupSafe 2.1.5. matplotlib 3.8.3. matplotlib-inline 0.1.6. mdit-py-plugins 0.4.0. mdurl 0.1.2. mistune 3.0.2. msgpack 1.0.7. mudata 0.2.3. multidict 6.0.5. multipledispatch 0.6.0. munkres 1.1.4. muon 0.1.5. natsort 8.4.0. nbclient 0.8.0. nbconvert 7.16.2. nbformat 5.9.2. nbproject 0.10.1. nest_asyncio 1.6.0. networkx 3.2.1. notebook 7.1.1. notebook_shim 0.2.4. numba 0.59.0. numcodecs 0.12.1. numpy 1.24.4. nvtx 0.2.10. omnipath 1.0.8. openpyxl 3.1.2. orjson 3.9.15. overrides 7.7.0. packaging 24.0. pandas 1.5.3. pandocfilters 1.5.0. panel 1.3.8. param 2.0.2. parso 0.8.3. partd 1.4.1. patsy 0.5.6. pexpect 4.9.0. pickleshare 0.7.5. pillow 10.2.0. pip 24.0. pkgutil_resolve_name 1.3.10. platformdirs 4.2.0. pooch 1.8.1. prometheus_client 0.20.0. prompt-toolkit 3.0.42. protobuf 4.25.3. psutil 5.9.8. ptxcompiler 0.8.1. ptyprocess 0.7.0. pure-eval 0.2.2. pyarrow 14.0.2. pyarrow-hotfix 0.6. pycparser 2.21. pyct 0.5.0. pydantic 1.10.14. pyee 8.1.0. Pygments 2.17.2. pylibcugraph 24.2.0. pylibraft 24.2.0. pynndescent 0.5.11. pynvml 11.4.1. pyparsing 3.1.2. pyppeteer 1.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:4734,interoperability,platform,platformdirs,4734,lab_pygments 0.3.0. jupyterlab_server 2.25.3. jupyterlab_widgets 3.0.10. kiwisolver 1.4.5. lamin_utils 0.13.0. lazy_loader 0.3. legacy-api-wrap 1.4. leidenalg 0.10.2. linkify-it-py 2.0.3. llvmlite 0.42.0. locket 1.0.0. louvain 0.8.1. lz4 4.3.3. mapclassify 2.6.1. Markdown 3.5.2. markdown-it-py 3.0.0. MarkupSafe 2.1.5. matplotlib 3.8.3. matplotlib-inline 0.1.6. mdit-py-plugins 0.4.0. mdurl 0.1.2. mistune 3.0.2. msgpack 1.0.7. mudata 0.2.3. multidict 6.0.5. multipledispatch 0.6.0. munkres 1.1.4. muon 0.1.5. natsort 8.4.0. nbclient 0.8.0. nbconvert 7.16.2. nbformat 5.9.2. nbproject 0.10.1. nest_asyncio 1.6.0. networkx 3.2.1. notebook 7.1.1. notebook_shim 0.2.4. numba 0.59.0. numcodecs 0.12.1. numpy 1.24.4. nvtx 0.2.10. omnipath 1.0.8. openpyxl 3.1.2. orjson 3.9.15. overrides 7.7.0. packaging 24.0. pandas 1.5.3. pandocfilters 1.5.0. panel 1.3.8. param 2.0.2. parso 0.8.3. partd 1.4.1. patsy 0.5.6. pexpect 4.9.0. pickleshare 0.7.5. pillow 10.2.0. pip 24.0. pkgutil_resolve_name 1.3.10. platformdirs 4.2.0. pooch 1.8.1. prometheus_client 0.20.0. prompt-toolkit 3.0.42. protobuf 4.25.3. psutil 5.9.8. ptxcompiler 0.8.1. ptyprocess 0.7.0. pure-eval 0.2.2. pyarrow 14.0.2. pyarrow-hotfix 0.6. pycparser 2.21. pyct 0.5.0. pydantic 1.10.14. pyee 8.1.0. Pygments 2.17.2. pylibcugraph 24.2.0. pylibraft 24.2.0. pynndescent 0.5.11. pynvml 11.4.1. pyparsing 3.1.2. pyppeteer 1.0.2. pyproj 3.6.1. PySocks 1.7.1. python-dateutil 2.9.0. python-json-logger 2.0.7. pytometry 0.1.4. pytz 2024.1. pyviz_comms 3.0.1. PyWavelets 1.4.1. PyYAML 6.0.1. pyzmq 25.1.2. raft-dask 24.2.0. rapids_singlecell 0.9.6. readfcs 1.1.7. referencing 0.33.0. requests 2.31.0. rfc3339-validator 0.1.4. rfc3986-validator 0.1.1. rich 13.7.1. rmm 24.2.0. rpds-py 0.18.0. Rtree 1.2.0. scanpy 1.10.0rc2. scikit-image 0.22.0. scikit-learn 1.4.1.post1. scikit-misc 0.3.1. scipy 1.12.0. seaborn 0.13.2. Send2Trash 1.8.2. session-info 1.0.0. setuptools 69.1.1. shapely 2.0.3. simpervisor 1.0.0. single_cell_helper 0.0.1 . six 1.16.0. snif,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:200,modifiability,version,version,200,"sc.get.aggregate looses values; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I'm working with the `sc.get.aggregate` function from the latest release candidate. In certain combinations of `groupby` variables, some valuese get lost. . I wasn't able to make a minimal reproducible example, but I obfuscated the `obs` table of my real data and can share it here: . https://www.dropbox.com/scl/fi/jsbrb2ulki7mmih2242kc/adata_aggregate_bug.h5ad?rlkey=qczuaf2v5vlwb00zyuxmzjkix&dl=1. ### Minimal code sample. ```python. >>> test_adata = sc.read_h5ad(""adata_aggregate_bug.h5ad""). >>> test_adata.obs[""patient_id""].nunique(). 69. >>> test_adata.obs.isnull().sum(). patient_id 0. timepoint 0. external_batch_id 0. dtype: int64. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 15. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. ```. ### Error output. ```pytb. So only if using all three variables, some patient IDs are lost. I don't see why this would be happening. ```. ### Versions. <details>. ```. Package Version Editable project location. ------------------------- --------------- -------------------------------------------------------------------------------------------------------------------------. aiohttp 3.9.3. aiosignal 1.3.1. anndata 0.10.5.post1. anyio 4.3.0. appdirs 1.4.4. argon2-cffi 23.1.0. argon2-cffi-bindings 21.2.0. array_api_compat 1.5. arrow 1.3.0. asciitree 0.3.3. asttokens 2.4.1. async-lru 2.0.4. async-timeout ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:439,modifiability,variab,variables,439,"sc.get.aggregate looses values; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I'm working with the `sc.get.aggregate` function from the latest release candidate. In certain combinations of `groupby` variables, some valuese get lost. . I wasn't able to make a minimal reproducible example, but I obfuscated the `obs` table of my real data and can share it here: . https://www.dropbox.com/scl/fi/jsbrb2ulki7mmih2242kc/adata_aggregate_bug.h5ad?rlkey=qczuaf2v5vlwb00zyuxmzjkix&dl=1. ### Minimal code sample. ```python. >>> test_adata = sc.read_h5ad(""adata_aggregate_bug.h5ad""). >>> test_adata.obs[""patient_id""].nunique(). 69. >>> test_adata.obs.isnull().sum(). patient_id 0. timepoint 0. external_batch_id 0. dtype: int64. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 15. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. ```. ### Error output. ```pytb. So only if using all three variables, some patient IDs are lost. I don't see why this would be happening. ```. ### Versions. <details>. ```. Package Version Editable project location. ------------------------- --------------- -------------------------------------------------------------------------------------------------------------------------. aiohttp 3.9.3. aiosignal 1.3.1. anndata 0.10.5.post1. anyio 4.3.0. appdirs 1.4.4. argon2-cffi 23.1.0. argon2-cffi-bindings 21.2.0. array_api_compat 1.5. arrow 1.3.0. asciitree 0.3.3. asttokens 2.4.1. async-lru 2.0.4. async-timeout ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:1447,modifiability,variab,variables,1447,"me valuese get lost. . I wasn't able to make a minimal reproducible example, but I obfuscated the `obs` table of my real data and can share it here: . https://www.dropbox.com/scl/fi/jsbrb2ulki7mmih2242kc/adata_aggregate_bug.h5ad?rlkey=qczuaf2v5vlwb00zyuxmzjkix&dl=1. ### Minimal code sample. ```python. >>> test_adata = sc.read_h5ad(""adata_aggregate_bug.h5ad""). >>> test_adata.obs[""patient_id""].nunique(). 69. >>> test_adata.obs.isnull().sum(). patient_id 0. timepoint 0. external_batch_id 0. dtype: int64. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 15. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. ```. ### Error output. ```pytb. So only if using all three variables, some patient IDs are lost. I don't see why this would be happening. ```. ### Versions. <details>. ```. Package Version Editable project location. ------------------------- --------------- -------------------------------------------------------------------------------------------------------------------------. aiohttp 3.9.3. aiosignal 1.3.1. anndata 0.10.5.post1. anyio 4.3.0. appdirs 1.4.4. argon2-cffi 23.1.0. argon2-cffi-bindings 21.2.0. array_api_compat 1.5. arrow 1.3.0. asciitree 0.3.3. asttokens 2.4.1. async-lru 2.0.4. async-timeout 4.0.3. attrs 23.2.0. Babel 2.14.0. beautifulsoup4 4.12.3. bleach 6.1.0. bokeh 3.3.4. branca 0.7.1. Brotli 1.1.0. cached-property 1.5.2. cachetools 5.3.3. certifi 2024.2.2. cffi 1.16.0. charset-normalizer 3.3.2. click 8.1.7. click-plugins 1.1.1. cligj 0.7.2. cloudpickle 3.0.0. colorama 0.4.6. colorcet 3.1.0. comm 0.2.1. confluent-kafka 1.9.2. contourpy 1.2.0. cubinlinker 0.3.0. cucim 24.2.0. cuda-python 11.8.3. cudf 24.2.2. cudf_kafka 24.2.2. cugrap",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:1535,modifiability,Version,Versions,1535,"scated the `obs` table of my real data and can share it here: . https://www.dropbox.com/scl/fi/jsbrb2ulki7mmih2242kc/adata_aggregate_bug.h5ad?rlkey=qczuaf2v5vlwb00zyuxmzjkix&dl=1. ### Minimal code sample. ```python. >>> test_adata = sc.read_h5ad(""adata_aggregate_bug.h5ad""). >>> test_adata.obs[""patient_id""].nunique(). 69. >>> test_adata.obs.isnull().sum(). patient_id 0. timepoint 0. external_batch_id 0. dtype: int64. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 15. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. ```. ### Error output. ```pytb. So only if using all three variables, some patient IDs are lost. I don't see why this would be happening. ```. ### Versions. <details>. ```. Package Version Editable project location. ------------------------- --------------- -------------------------------------------------------------------------------------------------------------------------. aiohttp 3.9.3. aiosignal 1.3.1. anndata 0.10.5.post1. anyio 4.3.0. appdirs 1.4.4. argon2-cffi 23.1.0. argon2-cffi-bindings 21.2.0. array_api_compat 1.5. arrow 1.3.0. asciitree 0.3.3. asttokens 2.4.1. async-lru 2.0.4. async-timeout 4.0.3. attrs 23.2.0. Babel 2.14.0. beautifulsoup4 4.12.3. bleach 6.1.0. bokeh 3.3.4. branca 0.7.1. Brotli 1.1.0. cached-property 1.5.2. cachetools 5.3.3. certifi 2024.2.2. cffi 1.16.0. charset-normalizer 3.3.2. click 8.1.7. click-plugins 1.1.1. cligj 0.7.2. cloudpickle 3.0.0. colorama 0.4.6. colorcet 3.1.0. comm 0.2.1. confluent-kafka 1.9.2. contourpy 1.2.0. cubinlinker 0.3.0. cucim 24.2.0. cuda-python 11.8.3. cudf 24.2.2. cudf_kafka 24.2.2. cugraph 24.2.0. cuml 24.2.0. cuproj 24.2.0. cupy 12.2.0. cuspatial 24.2.0. custreamz 24.2.2. ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:1561,modifiability,Pac,Package,1561,"my real data and can share it here: . https://www.dropbox.com/scl/fi/jsbrb2ulki7mmih2242kc/adata_aggregate_bug.h5ad?rlkey=qczuaf2v5vlwb00zyuxmzjkix&dl=1. ### Minimal code sample. ```python. >>> test_adata = sc.read_h5ad(""adata_aggregate_bug.h5ad""). >>> test_adata.obs[""patient_id""].nunique(). 69. >>> test_adata.obs.isnull().sum(). patient_id 0. timepoint 0. external_batch_id 0. dtype: int64. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 15. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. ```. ### Error output. ```pytb. So only if using all three variables, some patient IDs are lost. I don't see why this would be happening. ```. ### Versions. <details>. ```. Package Version Editable project location. ------------------------- --------------- -------------------------------------------------------------------------------------------------------------------------. aiohttp 3.9.3. aiosignal 1.3.1. anndata 0.10.5.post1. anyio 4.3.0. appdirs 1.4.4. argon2-cffi 23.1.0. argon2-cffi-bindings 21.2.0. array_api_compat 1.5. arrow 1.3.0. asciitree 0.3.3. asttokens 2.4.1. async-lru 2.0.4. async-timeout 4.0.3. attrs 23.2.0. Babel 2.14.0. beautifulsoup4 4.12.3. bleach 6.1.0. bokeh 3.3.4. branca 0.7.1. Brotli 1.1.0. cached-property 1.5.2. cachetools 5.3.3. certifi 2024.2.2. cffi 1.16.0. charset-normalizer 3.3.2. click 8.1.7. click-plugins 1.1.1. cligj 0.7.2. cloudpickle 3.0.0. colorama 0.4.6. colorcet 3.1.0. comm 0.2.1. confluent-kafka 1.9.2. contourpy 1.2.0. cubinlinker 0.3.0. cucim 24.2.0. cuda-python 11.8.3. cudf 24.2.2. cudf_kafka 24.2.2. cugraph 24.2.0. cuml 24.2.0. cuproj 24.2.0. cupy 12.2.0. cuspatial 24.2.0. custreamz 24.2.2. cuxfilter 24.2.0. cycler 0",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:1569,modifiability,Version,Version,1569,"data and can share it here: . https://www.dropbox.com/scl/fi/jsbrb2ulki7mmih2242kc/adata_aggregate_bug.h5ad?rlkey=qczuaf2v5vlwb00zyuxmzjkix&dl=1. ### Minimal code sample. ```python. >>> test_adata = sc.read_h5ad(""adata_aggregate_bug.h5ad""). >>> test_adata.obs[""patient_id""].nunique(). 69. >>> test_adata.obs.isnull().sum(). patient_id 0. timepoint 0. external_batch_id 0. dtype: int64. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 15. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. ```. ### Error output. ```pytb. So only if using all three variables, some patient IDs are lost. I don't see why this would be happening. ```. ### Versions. <details>. ```. Package Version Editable project location. ------------------------- --------------- -------------------------------------------------------------------------------------------------------------------------. aiohttp 3.9.3. aiosignal 1.3.1. anndata 0.10.5.post1. anyio 4.3.0. appdirs 1.4.4. argon2-cffi 23.1.0. argon2-cffi-bindings 21.2.0. array_api_compat 1.5. arrow 1.3.0. asciitree 0.3.3. asttokens 2.4.1. async-lru 2.0.4. async-timeout 4.0.3. attrs 23.2.0. Babel 2.14.0. beautifulsoup4 4.12.3. bleach 6.1.0. bokeh 3.3.4. branca 0.7.1. Brotli 1.1.0. cached-property 1.5.2. cachetools 5.3.3. certifi 2024.2.2. cffi 1.16.0. charset-normalizer 3.3.2. click 8.1.7. click-plugins 1.1.1. cligj 0.7.2. cloudpickle 3.0.0. colorama 0.4.6. colorcet 3.1.0. comm 0.2.1. confluent-kafka 1.9.2. contourpy 1.2.0. cubinlinker 0.3.0. cucim 24.2.0. cuda-python 11.8.3. cudf 24.2.2. cudf_kafka 24.2.2. cugraph 24.2.0. cuml 24.2.0. cuproj 24.2.0. cupy 12.2.0. cuspatial 24.2.0. custreamz 24.2.2. cuxfilter 24.2.0. cycler 0.12.1. c",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:1883,modifiability,bind,bindings,1883,"().sum(). patient_id 0. timepoint 0. external_batch_id 0. dtype: int64. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 15. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. ```. ### Error output. ```pytb. So only if using all three variables, some patient IDs are lost. I don't see why this would be happening. ```. ### Versions. <details>. ```. Package Version Editable project location. ------------------------- --------------- -------------------------------------------------------------------------------------------------------------------------. aiohttp 3.9.3. aiosignal 1.3.1. anndata 0.10.5.post1. anyio 4.3.0. appdirs 1.4.4. argon2-cffi 23.1.0. argon2-cffi-bindings 21.2.0. array_api_compat 1.5. arrow 1.3.0. asciitree 0.3.3. asttokens 2.4.1. async-lru 2.0.4. async-timeout 4.0.3. attrs 23.2.0. Babel 2.14.0. beautifulsoup4 4.12.3. bleach 6.1.0. bokeh 3.3.4. branca 0.7.1. Brotli 1.1.0. cached-property 1.5.2. cachetools 5.3.3. certifi 2024.2.2. cffi 1.16.0. charset-normalizer 3.3.2. click 8.1.7. click-plugins 1.1.1. cligj 0.7.2. cloudpickle 3.0.0. colorama 0.4.6. colorcet 3.1.0. comm 0.2.1. confluent-kafka 1.9.2. contourpy 1.2.0. cubinlinker 0.3.0. cucim 24.2.0. cuda-python 11.8.3. cudf 24.2.2. cudf_kafka 24.2.2. cugraph 24.2.0. cuml 24.2.0. cuproj 24.2.0. cupy 12.2.0. cuspatial 24.2.0. custreamz 24.2.2. cuxfilter 24.2.0. cycler 0.12.1. cytoolz 0.12.3. dask 2024.1.1. dask-cuda 24.2.0. dask-cudf 24.2.2. datashader 0.16.0. debugpy 1.8.1. decorator 5.1.1. decoupler 1.6.0. defusedxml 0.7.1. distributed 2024.1.1. docrep 0.3.2. entrypoints 0.4. et-xmlfile 1.1.0. exceptiongroup 1.2.0. executing 2.0.1. fa2 0.3.5. fasteners 0.19. fastjsonschema 2.19.1. fa",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:2673,modifiability,deco,decorator,2673,-----------------------------------------------------------------------------------------. aiohttp 3.9.3. aiosignal 1.3.1. anndata 0.10.5.post1. anyio 4.3.0. appdirs 1.4.4. argon2-cffi 23.1.0. argon2-cffi-bindings 21.2.0. array_api_compat 1.5. arrow 1.3.0. asciitree 0.3.3. asttokens 2.4.1. async-lru 2.0.4. async-timeout 4.0.3. attrs 23.2.0. Babel 2.14.0. beautifulsoup4 4.12.3. bleach 6.1.0. bokeh 3.3.4. branca 0.7.1. Brotli 1.1.0. cached-property 1.5.2. cachetools 5.3.3. certifi 2024.2.2. cffi 1.16.0. charset-normalizer 3.3.2. click 8.1.7. click-plugins 1.1.1. cligj 0.7.2. cloudpickle 3.0.0. colorama 0.4.6. colorcet 3.1.0. comm 0.2.1. confluent-kafka 1.9.2. contourpy 1.2.0. cubinlinker 0.3.0. cucim 24.2.0. cuda-python 11.8.3. cudf 24.2.2. cudf_kafka 24.2.2. cugraph 24.2.0. cuml 24.2.0. cuproj 24.2.0. cupy 12.2.0. cuspatial 24.2.0. custreamz 24.2.2. cuxfilter 24.2.0. cycler 0.12.1. cytoolz 0.12.3. dask 2024.1.1. dask-cuda 24.2.0. dask-cudf 24.2.2. datashader 0.16.0. debugpy 1.8.1. decorator 5.1.1. decoupler 1.6.0. defusedxml 0.7.1. distributed 2024.1.1. docrep 0.3.2. entrypoints 0.4. et-xmlfile 1.1.0. exceptiongroup 1.2.0. executing 2.0.1. fa2 0.3.5. fasteners 0.19. fastjsonschema 2.19.1. fastrlock 0.8.2. fcsparser 0.2.8. filelock 3.13.1. fiona 1.9.5. folium 0.16.0. fonttools 4.49.0. fqdn 1.5.1. frozenlist 1.4.1. fsspec 2024.2.0. GDAL 3.8.1. gdown 5.1.0. geopandas 0.14.3. h11 0.14.0. h2 4.1.0. h5py 3.10.0. harmonypy 0.0.9. holoviews 1.18.3. hpack 4.0.0. httpcore 1.0.4. httpx 0.27.0. hyperframe 6.0.1. idna 3.6. igraph 0.11.4. imagecodecs 2024.1.1. imageio 2.34.0. importlib_metadata 7.0.2. importlib_resources 6.1.3. inflect 7.0.0. ipykernel 6.29.3. ipylab 1.0.0. ipython 8.22.2. ipywidgets 8.1.2. isoduration 20.11.0. jedi 0.19.1. Jinja2 3.1.3. joblib 1.3.2. json5 0.9.22. jsonpointer 2.4. jsonschema 4.21.1. jsonschema-specifications 2023.12.1. jupyter_client 8.6.0. jupyter_core 5.7.1. jupyter-events 0.9.0. jupyter-lsp 2.2.4. jupyter_server 2.13.0. jupyter_server_proxy 4.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:2690,modifiability,deco,decoupler,2690,------------------------------------------------------------------------. aiohttp 3.9.3. aiosignal 1.3.1. anndata 0.10.5.post1. anyio 4.3.0. appdirs 1.4.4. argon2-cffi 23.1.0. argon2-cffi-bindings 21.2.0. array_api_compat 1.5. arrow 1.3.0. asciitree 0.3.3. asttokens 2.4.1. async-lru 2.0.4. async-timeout 4.0.3. attrs 23.2.0. Babel 2.14.0. beautifulsoup4 4.12.3. bleach 6.1.0. bokeh 3.3.4. branca 0.7.1. Brotli 1.1.0. cached-property 1.5.2. cachetools 5.3.3. certifi 2024.2.2. cffi 1.16.0. charset-normalizer 3.3.2. click 8.1.7. click-plugins 1.1.1. cligj 0.7.2. cloudpickle 3.0.0. colorama 0.4.6. colorcet 3.1.0. comm 0.2.1. confluent-kafka 1.9.2. contourpy 1.2.0. cubinlinker 0.3.0. cucim 24.2.0. cuda-python 11.8.3. cudf 24.2.2. cudf_kafka 24.2.2. cugraph 24.2.0. cuml 24.2.0. cuproj 24.2.0. cupy 12.2.0. cuspatial 24.2.0. custreamz 24.2.2. cuxfilter 24.2.0. cycler 0.12.1. cytoolz 0.12.3. dask 2024.1.1. dask-cuda 24.2.0. dask-cudf 24.2.2. datashader 0.16.0. debugpy 1.8.1. decorator 5.1.1. decoupler 1.6.0. defusedxml 0.7.1. distributed 2024.1.1. docrep 0.3.2. entrypoints 0.4. et-xmlfile 1.1.0. exceptiongroup 1.2.0. executing 2.0.1. fa2 0.3.5. fasteners 0.19. fastjsonschema 2.19.1. fastrlock 0.8.2. fcsparser 0.2.8. filelock 3.13.1. fiona 1.9.5. folium 0.16.0. fonttools 4.49.0. fqdn 1.5.1. frozenlist 1.4.1. fsspec 2024.2.0. GDAL 3.8.1. gdown 5.1.0. geopandas 0.14.3. h11 0.14.0. h2 4.1.0. h5py 3.10.0. harmonypy 0.0.9. holoviews 1.18.3. hpack 4.0.0. httpcore 1.0.4. httpx 0.27.0. hyperframe 6.0.1. idna 3.6. igraph 0.11.4. imagecodecs 2024.1.1. imageio 2.34.0. importlib_metadata 7.0.2. importlib_resources 6.1.3. inflect 7.0.0. ipykernel 6.29.3. ipylab 1.0.0. ipython 8.22.2. ipywidgets 8.1.2. isoduration 20.11.0. jedi 0.19.1. Jinja2 3.1.3. joblib 1.3.2. json5 0.9.22. jsonpointer 2.4. jsonschema 4.21.1. jsonschema-specifications 2023.12.1. jupyter_client 8.6.0. jupyter_core 5.7.1. jupyter-events 0.9.0. jupyter-lsp 2.2.4. jupyter_server 2.13.0. jupyter_server_proxy 4.1.0. jupyter_serv,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:4530,modifiability,pac,packaging,4530,ns 2023.12.1. jupyter_client 8.6.0. jupyter_core 5.7.1. jupyter-events 0.9.0. jupyter-lsp 2.2.4. jupyter_server 2.13.0. jupyter_server_proxy 4.1.0. jupyter_server_terminals 0.5.2. jupyterlab 4.1.4. jupyterlab_pygments 0.3.0. jupyterlab_server 2.25.3. jupyterlab_widgets 3.0.10. kiwisolver 1.4.5. lamin_utils 0.13.0. lazy_loader 0.3. legacy-api-wrap 1.4. leidenalg 0.10.2. linkify-it-py 2.0.3. llvmlite 0.42.0. locket 1.0.0. louvain 0.8.1. lz4 4.3.3. mapclassify 2.6.1. Markdown 3.5.2. markdown-it-py 3.0.0. MarkupSafe 2.1.5. matplotlib 3.8.3. matplotlib-inline 0.1.6. mdit-py-plugins 0.4.0. mdurl 0.1.2. mistune 3.0.2. msgpack 1.0.7. mudata 0.2.3. multidict 6.0.5. multipledispatch 0.6.0. munkres 1.1.4. muon 0.1.5. natsort 8.4.0. nbclient 0.8.0. nbconvert 7.16.2. nbformat 5.9.2. nbproject 0.10.1. nest_asyncio 1.6.0. networkx 3.2.1. notebook 7.1.1. notebook_shim 0.2.4. numba 0.59.0. numcodecs 0.12.1. numpy 1.24.4. nvtx 0.2.10. omnipath 1.0.8. openpyxl 3.1.2. orjson 3.9.15. overrides 7.7.0. packaging 24.0. pandas 1.5.3. pandocfilters 1.5.0. panel 1.3.8. param 2.0.2. parso 0.8.3. partd 1.4.1. patsy 0.5.6. pexpect 4.9.0. pickleshare 0.7.5. pillow 10.2.0. pip 24.0. pkgutil_resolve_name 1.3.10. platformdirs 4.2.0. pooch 1.8.1. prometheus_client 0.20.0. prompt-toolkit 3.0.42. protobuf 4.25.3. psutil 5.9.8. ptxcompiler 0.8.1. ptyprocess 0.7.0. pure-eval 0.2.2. pyarrow 14.0.2. pyarrow-hotfix 0.6. pycparser 2.21. pyct 0.5.0. pydantic 1.10.14. pyee 8.1.0. Pygments 2.17.2. pylibcugraph 24.2.0. pylibraft 24.2.0. pynndescent 0.5.11. pynvml 11.4.1. pyparsing 3.1.2. pyppeteer 1.0.2. pyproj 3.6.1. PySocks 1.7.1. python-dateutil 2.9.0. python-json-logger 2.0.7. pytometry 0.1.4. pytz 2024.1. pyviz_comms 3.0.1. PyWavelets 1.4.1. PyYAML 6.0.1. pyzmq 25.1.2. raft-dask 24.2.0. rapids_singlecell 0.9.6. readfcs 1.1.7. referencing 0.33.0. requests 2.31.0. rfc3339-validator 0.1.4. rfc3986-validator 0.1.1. rich 13.7.1. rmm 24.2.0. rpds-py 0.18.0. Rtree 1.2.0. scanpy 1.10.0rc2. scikit-image 0.22.0. scik,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:911,performance,time,timepoint,911,"sc.get.aggregate looses values; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I'm working with the `sc.get.aggregate` function from the latest release candidate. In certain combinations of `groupby` variables, some valuese get lost. . I wasn't able to make a minimal reproducible example, but I obfuscated the `obs` table of my real data and can share it here: . https://www.dropbox.com/scl/fi/jsbrb2ulki7mmih2242kc/adata_aggregate_bug.h5ad?rlkey=qczuaf2v5vlwb00zyuxmzjkix&dl=1. ### Minimal code sample. ```python. >>> test_adata = sc.read_h5ad(""adata_aggregate_bug.h5ad""). >>> test_adata.obs[""patient_id""].nunique(). 69. >>> test_adata.obs.isnull().sum(). patient_id 0. timepoint 0. external_batch_id 0. dtype: int64. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 15. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. ```. ### Error output. ```pytb. So only if using all three variables, some patient IDs are lost. I don't see why this would be happening. ```. ### Versions. <details>. ```. Package Version Editable project location. ------------------------- --------------- -------------------------------------------------------------------------------------------------------------------------. aiohttp 3.9.3. aiosignal 1.3.1. anndata 0.10.5.post1. anyio 4.3.0. appdirs 1.4.4. argon2-cffi 23.1.0. argon2-cffi-bindings 21.2.0. array_api_compat 1.5. arrow 1.3.0. asciitree 0.3.3. asttokens 2.4.1. async-lru 2.0.4. async-timeout ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:1022,performance,time,timepoint,1022,"ues; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I'm working with the `sc.get.aggregate` function from the latest release candidate. In certain combinations of `groupby` variables, some valuese get lost. . I wasn't able to make a minimal reproducible example, but I obfuscated the `obs` table of my real data and can share it here: . https://www.dropbox.com/scl/fi/jsbrb2ulki7mmih2242kc/adata_aggregate_bug.h5ad?rlkey=qczuaf2v5vlwb00zyuxmzjkix&dl=1. ### Minimal code sample. ```python. >>> test_adata = sc.read_h5ad(""adata_aggregate_bug.h5ad""). >>> test_adata.obs[""patient_id""].nunique(). 69. >>> test_adata.obs.isnull().sum(). patient_id 0. timepoint 0. external_batch_id 0. dtype: int64. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 15. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. ```. ### Error output. ```pytb. So only if using all three variables, some patient IDs are lost. I don't see why this would be happening. ```. ### Versions. <details>. ```. Package Version Editable project location. ------------------------- --------------- -------------------------------------------------------------------------------------------------------------------------. aiohttp 3.9.3. aiosignal 1.3.1. anndata 0.10.5.post1. anyio 4.3.0. appdirs 1.4.4. argon2-cffi 23.1.0. argon2-cffi-bindings 21.2.0. array_api_compat 1.5. arrow 1.3.0. asciitree 0.3.3. asttokens 2.4.1. async-lru 2.0.4. async-timeout 4.0.3. attrs 23.2.0. Babel ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:1318,performance,time,timepoint,1318,"orking with the `sc.get.aggregate` function from the latest release candidate. In certain combinations of `groupby` variables, some valuese get lost. . I wasn't able to make a minimal reproducible example, but I obfuscated the `obs` table of my real data and can share it here: . https://www.dropbox.com/scl/fi/jsbrb2ulki7mmih2242kc/adata_aggregate_bug.h5ad?rlkey=qczuaf2v5vlwb00zyuxmzjkix&dl=1. ### Minimal code sample. ```python. >>> test_adata = sc.read_h5ad(""adata_aggregate_bug.h5ad""). >>> test_adata.obs[""patient_id""].nunique(). 69. >>> test_adata.obs.isnull().sum(). patient_id 0. timepoint 0. external_batch_id 0. dtype: int64. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 15. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. ```. ### Error output. ```pytb. So only if using all three variables, some patient IDs are lost. I don't see why this would be happening. ```. ### Versions. <details>. ```. Package Version Editable project location. ------------------------- --------------- -------------------------------------------------------------------------------------------------------------------------. aiohttp 3.9.3. aiosignal 1.3.1. anndata 0.10.5.post1. anyio 4.3.0. appdirs 1.4.4. argon2-cffi 23.1.0. argon2-cffi-bindings 21.2.0. array_api_compat 1.5. arrow 1.3.0. asciitree 0.3.3. asttokens 2.4.1. async-lru 2.0.4. async-timeout 4.0.3. attrs 23.2.0. Babel 2.14.0. beautifulsoup4 4.12.3. bleach 6.1.0. bokeh 3.3.4. branca 0.7.1. Brotli 1.1.0. cached-property 1.5.2. cachetools 5.3.3. certifi 2024.2.2. cffi 1.16.0. charset-normalizer 3.3.2. click 8.1.7. click-plugins 1.1.1. cligj 0.7.2. cloudpickle 3.0.0. colorama 0.4.6. colorcet 3.1.0. comm 0.2.1. co",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:1397,performance,Error,Error,1397,". In certain combinations of `groupby` variables, some valuese get lost. . I wasn't able to make a minimal reproducible example, but I obfuscated the `obs` table of my real data and can share it here: . https://www.dropbox.com/scl/fi/jsbrb2ulki7mmih2242kc/adata_aggregate_bug.h5ad?rlkey=qczuaf2v5vlwb00zyuxmzjkix&dl=1. ### Minimal code sample. ```python. >>> test_adata = sc.read_h5ad(""adata_aggregate_bug.h5ad""). >>> test_adata.obs[""patient_id""].nunique(). 69. >>> test_adata.obs.isnull().sum(). patient_id 0. timepoint 0. external_batch_id 0. dtype: int64. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 15. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. ```. ### Error output. ```pytb. So only if using all three variables, some patient IDs are lost. I don't see why this would be happening. ```. ### Versions. <details>. ```. Package Version Editable project location. ------------------------- --------------- -------------------------------------------------------------------------------------------------------------------------. aiohttp 3.9.3. aiosignal 1.3.1. anndata 0.10.5.post1. anyio 4.3.0. appdirs 1.4.4. argon2-cffi 23.1.0. argon2-cffi-bindings 21.2.0. array_api_compat 1.5. arrow 1.3.0. asciitree 0.3.3. asttokens 2.4.1. async-lru 2.0.4. async-timeout 4.0.3. attrs 23.2.0. Babel 2.14.0. beautifulsoup4 4.12.3. bleach 6.1.0. bokeh 3.3.4. branca 0.7.1. Brotli 1.1.0. cached-property 1.5.2. cachetools 5.3.3. certifi 2024.2.2. cffi 1.16.0. charset-normalizer 3.3.2. click 8.1.7. click-plugins 1.1.1. cligj 0.7.2. cloudpickle 3.0.0. colorama 0.4.6. colorcet 3.1.0. comm 0.2.1. confluent-kafka 1.9.2. contourpy 1.2.0. cubinlinker 0.3.0. cucim 24.2.0. cuda-p",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:1992,performance,time,timeout,1992,"a,. by=[. ""patient_id"",. ""timepoint"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 15. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. ```. ### Error output. ```pytb. So only if using all three variables, some patient IDs are lost. I don't see why this would be happening. ```. ### Versions. <details>. ```. Package Version Editable project location. ------------------------- --------------- -------------------------------------------------------------------------------------------------------------------------. aiohttp 3.9.3. aiosignal 1.3.1. anndata 0.10.5.post1. anyio 4.3.0. appdirs 1.4.4. argon2-cffi 23.1.0. argon2-cffi-bindings 21.2.0. array_api_compat 1.5. arrow 1.3.0. asciitree 0.3.3. asttokens 2.4.1. async-lru 2.0.4. async-timeout 4.0.3. attrs 23.2.0. Babel 2.14.0. beautifulsoup4 4.12.3. bleach 6.1.0. bokeh 3.3.4. branca 0.7.1. Brotli 1.1.0. cached-property 1.5.2. cachetools 5.3.3. certifi 2024.2.2. cffi 1.16.0. charset-normalizer 3.3.2. click 8.1.7. click-plugins 1.1.1. cligj 0.7.2. cloudpickle 3.0.0. colorama 0.4.6. colorcet 3.1.0. comm 0.2.1. confluent-kafka 1.9.2. contourpy 1.2.0. cubinlinker 0.3.0. cucim 24.2.0. cuda-python 11.8.3. cudf 24.2.2. cudf_kafka 24.2.2. cugraph 24.2.0. cuml 24.2.0. cuproj 24.2.0. cupy 12.2.0. cuspatial 24.2.0. custreamz 24.2.2. cuxfilter 24.2.0. cycler 0.12.1. cytoolz 0.12.3. dask 2024.1.1. dask-cuda 24.2.0. dask-cudf 24.2.2. datashader 0.16.0. debugpy 1.8.1. decorator 5.1.1. decoupler 1.6.0. defusedxml 0.7.1. distributed 2024.1.1. docrep 0.3.2. entrypoints 0.4. et-xmlfile 1.1.0. exceptiongroup 1.2.0. executing 2.0.1. fa2 0.3.5. fasteners 0.19. fastjsonschema 2.19.1. fastrlock 0.8.2. fcsparser 0.2.8. filelock 3.13.1. fiona 1.9.5. folium 0.16.0. fonttools 4.49.0. fqdn 1.5.1. fr",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:2113,performance,cach,cached-property,2113,"= sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. ```. ### Error output. ```pytb. So only if using all three variables, some patient IDs are lost. I don't see why this would be happening. ```. ### Versions. <details>. ```. Package Version Editable project location. ------------------------- --------------- -------------------------------------------------------------------------------------------------------------------------. aiohttp 3.9.3. aiosignal 1.3.1. anndata 0.10.5.post1. anyio 4.3.0. appdirs 1.4.4. argon2-cffi 23.1.0. argon2-cffi-bindings 21.2.0. array_api_compat 1.5. arrow 1.3.0. asciitree 0.3.3. asttokens 2.4.1. async-lru 2.0.4. async-timeout 4.0.3. attrs 23.2.0. Babel 2.14.0. beautifulsoup4 4.12.3. bleach 6.1.0. bokeh 3.3.4. branca 0.7.1. Brotli 1.1.0. cached-property 1.5.2. cachetools 5.3.3. certifi 2024.2.2. cffi 1.16.0. charset-normalizer 3.3.2. click 8.1.7. click-plugins 1.1.1. cligj 0.7.2. cloudpickle 3.0.0. colorama 0.4.6. colorcet 3.1.0. comm 0.2.1. confluent-kafka 1.9.2. contourpy 1.2.0. cubinlinker 0.3.0. cucim 24.2.0. cuda-python 11.8.3. cudf 24.2.2. cudf_kafka 24.2.2. cugraph 24.2.0. cuml 24.2.0. cuproj 24.2.0. cupy 12.2.0. cuspatial 24.2.0. custreamz 24.2.2. cuxfilter 24.2.0. cycler 0.12.1. cytoolz 0.12.3. dask 2024.1.1. dask-cuda 24.2.0. dask-cudf 24.2.2. datashader 0.16.0. debugpy 1.8.1. decorator 5.1.1. decoupler 1.6.0. defusedxml 0.7.1. distributed 2024.1.1. docrep 0.3.2. entrypoints 0.4. et-xmlfile 1.1.0. exceptiongroup 1.2.0. executing 2.0.1. fa2 0.3.5. fasteners 0.19. fastjsonschema 2.19.1. fastrlock 0.8.2. fcsparser 0.2.8. filelock 3.13.1. fiona 1.9.5. folium 0.16.0. fonttools 4.49.0. fqdn 1.5.1. frozenlist 1.4.1. fsspec 2024.2.0. GDAL 3.8.1. gdown 5.1.0. geopandas 0.14.3. h11 0.14.0. h2 4.1.0. h5py 3.10.0. harmonypy 0.0.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:2136,performance,cach,cachetools,2136," test_adata,. by=[. ""patient_id"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. ```. ### Error output. ```pytb. So only if using all three variables, some patient IDs are lost. I don't see why this would be happening. ```. ### Versions. <details>. ```. Package Version Editable project location. ------------------------- --------------- -------------------------------------------------------------------------------------------------------------------------. aiohttp 3.9.3. aiosignal 1.3.1. anndata 0.10.5.post1. anyio 4.3.0. appdirs 1.4.4. argon2-cffi 23.1.0. argon2-cffi-bindings 21.2.0. array_api_compat 1.5. arrow 1.3.0. asciitree 0.3.3. asttokens 2.4.1. async-lru 2.0.4. async-timeout 4.0.3. attrs 23.2.0. Babel 2.14.0. beautifulsoup4 4.12.3. bleach 6.1.0. bokeh 3.3.4. branca 0.7.1. Brotli 1.1.0. cached-property 1.5.2. cachetools 5.3.3. certifi 2024.2.2. cffi 1.16.0. charset-normalizer 3.3.2. click 8.1.7. click-plugins 1.1.1. cligj 0.7.2. cloudpickle 3.0.0. colorama 0.4.6. colorcet 3.1.0. comm 0.2.1. confluent-kafka 1.9.2. contourpy 1.2.0. cubinlinker 0.3.0. cucim 24.2.0. cuda-python 11.8.3. cudf 24.2.2. cudf_kafka 24.2.2. cugraph 24.2.0. cuml 24.2.0. cuproj 24.2.0. cupy 12.2.0. cuspatial 24.2.0. custreamz 24.2.2. cuxfilter 24.2.0. cycler 0.12.1. cytoolz 0.12.3. dask 2024.1.1. dask-cuda 24.2.0. dask-cudf 24.2.2. datashader 0.16.0. debugpy 1.8.1. decorator 5.1.1. decoupler 1.6.0. defusedxml 0.7.1. distributed 2024.1.1. docrep 0.3.2. entrypoints 0.4. et-xmlfile 1.1.0. exceptiongroup 1.2.0. executing 2.0.1. fa2 0.3.5. fasteners 0.19. fastjsonschema 2.19.1. fastrlock 0.8.2. fcsparser 0.2.8. filelock 3.13.1. fiona 1.9.5. folium 0.16.0. fonttools 4.49.0. fqdn 1.5.1. frozenlist 1.4.1. fsspec 2024.2.0. GDAL 3.8.1. gdown 5.1.0. geopandas 0.14.3. h11 0.14.0. h2 4.1.0. h5py 3.10.0. harmonypy 0.0.9. holoviews 1.18.3.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:3945,performance,lock,locket,3945, folium 0.16.0. fonttools 4.49.0. fqdn 1.5.1. frozenlist 1.4.1. fsspec 2024.2.0. GDAL 3.8.1. gdown 5.1.0. geopandas 0.14.3. h11 0.14.0. h2 4.1.0. h5py 3.10.0. harmonypy 0.0.9. holoviews 1.18.3. hpack 4.0.0. httpcore 1.0.4. httpx 0.27.0. hyperframe 6.0.1. idna 3.6. igraph 0.11.4. imagecodecs 2024.1.1. imageio 2.34.0. importlib_metadata 7.0.2. importlib_resources 6.1.3. inflect 7.0.0. ipykernel 6.29.3. ipylab 1.0.0. ipython 8.22.2. ipywidgets 8.1.2. isoduration 20.11.0. jedi 0.19.1. Jinja2 3.1.3. joblib 1.3.2. json5 0.9.22. jsonpointer 2.4. jsonschema 4.21.1. jsonschema-specifications 2023.12.1. jupyter_client 8.6.0. jupyter_core 5.7.1. jupyter-events 0.9.0. jupyter-lsp 2.2.4. jupyter_server 2.13.0. jupyter_server_proxy 4.1.0. jupyter_server_terminals 0.5.2. jupyterlab 4.1.4. jupyterlab_pygments 0.3.0. jupyterlab_server 2.25.3. jupyterlab_widgets 3.0.10. kiwisolver 1.4.5. lamin_utils 0.13.0. lazy_loader 0.3. legacy-api-wrap 1.4. leidenalg 0.10.2. linkify-it-py 2.0.3. llvmlite 0.42.0. locket 1.0.0. louvain 0.8.1. lz4 4.3.3. mapclassify 2.6.1. Markdown 3.5.2. markdown-it-py 3.0.0. MarkupSafe 2.1.5. matplotlib 3.8.3. matplotlib-inline 0.1.6. mdit-py-plugins 0.4.0. mdurl 0.1.2. mistune 3.0.2. msgpack 1.0.7. mudata 0.2.3. multidict 6.0.5. multipledispatch 0.6.0. munkres 1.1.4. muon 0.1.5. natsort 8.4.0. nbclient 0.8.0. nbconvert 7.16.2. nbformat 5.9.2. nbproject 0.10.1. nest_asyncio 1.6.0. networkx 3.2.1. notebook 7.1.1. notebook_shim 0.2.4. numba 0.59.0. numcodecs 0.12.1. numpy 1.24.4. nvtx 0.2.10. omnipath 1.0.8. openpyxl 3.1.2. orjson 3.9.15. overrides 7.7.0. packaging 24.0. pandas 1.5.3. pandocfilters 1.5.0. panel 1.3.8. param 2.0.2. parso 0.8.3. partd 1.4.1. patsy 0.5.6. pexpect 4.9.0. pickleshare 0.7.5. pillow 10.2.0. pip 24.0. pkgutil_resolve_name 1.3.10. platformdirs 4.2.0. pooch 1.8.1. prometheus_client 0.20.0. prompt-toolkit 3.0.42. protobuf 4.25.3. psutil 5.9.8. ptxcompiler 0.8.1. ptyprocess 0.7.0. pure-eval 0.2.2. pyarrow 14.0.2. pyarrow-hotfix 0.6. pycparser 2,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:4354,performance,network,networkx,4354, 1.0.0. ipython 8.22.2. ipywidgets 8.1.2. isoduration 20.11.0. jedi 0.19.1. Jinja2 3.1.3. joblib 1.3.2. json5 0.9.22. jsonpointer 2.4. jsonschema 4.21.1. jsonschema-specifications 2023.12.1. jupyter_client 8.6.0. jupyter_core 5.7.1. jupyter-events 0.9.0. jupyter-lsp 2.2.4. jupyter_server 2.13.0. jupyter_server_proxy 4.1.0. jupyter_server_terminals 0.5.2. jupyterlab 4.1.4. jupyterlab_pygments 0.3.0. jupyterlab_server 2.25.3. jupyterlab_widgets 3.0.10. kiwisolver 1.4.5. lamin_utils 0.13.0. lazy_loader 0.3. legacy-api-wrap 1.4. leidenalg 0.10.2. linkify-it-py 2.0.3. llvmlite 0.42.0. locket 1.0.0. louvain 0.8.1. lz4 4.3.3. mapclassify 2.6.1. Markdown 3.5.2. markdown-it-py 3.0.0. MarkupSafe 2.1.5. matplotlib 3.8.3. matplotlib-inline 0.1.6. mdit-py-plugins 0.4.0. mdurl 0.1.2. mistune 3.0.2. msgpack 1.0.7. mudata 0.2.3. multidict 6.0.5. multipledispatch 0.6.0. munkres 1.1.4. muon 0.1.5. natsort 8.4.0. nbclient 0.8.0. nbconvert 7.16.2. nbformat 5.9.2. nbproject 0.10.1. nest_asyncio 1.6.0. networkx 3.2.1. notebook 7.1.1. notebook_shim 0.2.4. numba 0.59.0. numcodecs 0.12.1. numpy 1.24.4. nvtx 0.2.10. omnipath 1.0.8. openpyxl 3.1.2. orjson 3.9.15. overrides 7.7.0. packaging 24.0. pandas 1.5.3. pandocfilters 1.5.0. panel 1.3.8. param 2.0.2. parso 0.8.3. partd 1.4.1. patsy 0.5.6. pexpect 4.9.0. pickleshare 0.7.5. pillow 10.2.0. pip 24.0. pkgutil_resolve_name 1.3.10. platformdirs 4.2.0. pooch 1.8.1. prometheus_client 0.20.0. prompt-toolkit 3.0.42. protobuf 4.25.3. psutil 5.9.8. ptxcompiler 0.8.1. ptyprocess 0.7.0. pure-eval 0.2.2. pyarrow 14.0.2. pyarrow-hotfix 0.6. pycparser 2.21. pyct 0.5.0. pydantic 1.10.14. pyee 8.1.0. Pygments 2.17.2. pylibcugraph 24.2.0. pylibraft 24.2.0. pynndescent 0.5.11. pynvml 11.4.1. pyparsing 3.1.2. pyppeteer 1.0.2. pyproj 3.6.1. PySocks 1.7.1. python-dateutil 2.9.0. python-json-logger 2.0.7. pytometry 0.1.4. pytz 2024.1. pyviz_comms 3.0.1. PyWavelets 1.4.1. PyYAML 6.0.1. pyzmq 25.1.2. raft-dask 24.2.0. rapids_singlecell 0.9.6. readfcs 1.1.7. referen,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:1397,safety,Error,Error,1397,". In certain combinations of `groupby` variables, some valuese get lost. . I wasn't able to make a minimal reproducible example, but I obfuscated the `obs` table of my real data and can share it here: . https://www.dropbox.com/scl/fi/jsbrb2ulki7mmih2242kc/adata_aggregate_bug.h5ad?rlkey=qczuaf2v5vlwb00zyuxmzjkix&dl=1. ### Minimal code sample. ```python. >>> test_adata = sc.read_h5ad(""adata_aggregate_bug.h5ad""). >>> test_adata.obs[""patient_id""].nunique(). 69. >>> test_adata.obs.isnull().sum(). patient_id 0. timepoint 0. external_batch_id 0. dtype: int64. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 15. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. ```. ### Error output. ```pytb. So only if using all three variables, some patient IDs are lost. I don't see why this would be happening. ```. ### Versions. <details>. ```. Package Version Editable project location. ------------------------- --------------- -------------------------------------------------------------------------------------------------------------------------. aiohttp 3.9.3. aiosignal 1.3.1. anndata 0.10.5.post1. anyio 4.3.0. appdirs 1.4.4. argon2-cffi 23.1.0. argon2-cffi-bindings 21.2.0. array_api_compat 1.5. arrow 1.3.0. asciitree 0.3.3. asttokens 2.4.1. async-lru 2.0.4. async-timeout 4.0.3. attrs 23.2.0. Babel 2.14.0. beautifulsoup4 4.12.3. bleach 6.1.0. bokeh 3.3.4. branca 0.7.1. Brotli 1.1.0. cached-property 1.5.2. cachetools 5.3.3. certifi 2024.2.2. cffi 1.16.0. charset-normalizer 3.3.2. click 8.1.7. click-plugins 1.1.1. cligj 0.7.2. cloudpickle 3.0.0. colorama 0.4.6. colorcet 3.1.0. comm 0.2.1. confluent-kafka 1.9.2. contourpy 1.2.0. cubinlinker 0.3.0. cucim 24.2.0. cuda-p",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:1992,safety,timeout,timeout,1992,"a,. by=[. ""patient_id"",. ""timepoint"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 15. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. ```. ### Error output. ```pytb. So only if using all three variables, some patient IDs are lost. I don't see why this would be happening. ```. ### Versions. <details>. ```. Package Version Editable project location. ------------------------- --------------- -------------------------------------------------------------------------------------------------------------------------. aiohttp 3.9.3. aiosignal 1.3.1. anndata 0.10.5.post1. anyio 4.3.0. appdirs 1.4.4. argon2-cffi 23.1.0. argon2-cffi-bindings 21.2.0. array_api_compat 1.5. arrow 1.3.0. asciitree 0.3.3. asttokens 2.4.1. async-lru 2.0.4. async-timeout 4.0.3. attrs 23.2.0. Babel 2.14.0. beautifulsoup4 4.12.3. bleach 6.1.0. bokeh 3.3.4. branca 0.7.1. Brotli 1.1.0. cached-property 1.5.2. cachetools 5.3.3. certifi 2024.2.2. cffi 1.16.0. charset-normalizer 3.3.2. click 8.1.7. click-plugins 1.1.1. cligj 0.7.2. cloudpickle 3.0.0. colorama 0.4.6. colorcet 3.1.0. comm 0.2.1. confluent-kafka 1.9.2. contourpy 1.2.0. cubinlinker 0.3.0. cucim 24.2.0. cuda-python 11.8.3. cudf 24.2.2. cudf_kafka 24.2.2. cugraph 24.2.0. cuml 24.2.0. cuproj 24.2.0. cupy 12.2.0. cuspatial 24.2.0. custreamz 24.2.2. cuxfilter 24.2.0. cycler 0.12.1. cytoolz 0.12.3. dask 2024.1.1. dask-cuda 24.2.0. dask-cudf 24.2.2. datashader 0.16.0. debugpy 1.8.1. decorator 5.1.1. decoupler 1.6.0. defusedxml 0.7.1. distributed 2024.1.1. docrep 0.3.2. entrypoints 0.4. et-xmlfile 1.1.0. exceptiongroup 1.2.0. executing 2.0.1. fa2 0.3.5. fasteners 0.19. fastjsonschema 2.19.1. fastrlock 0.8.2. fcsparser 0.2.8. filelock 3.13.1. fiona 1.9.5. folium 0.16.0. fonttools 4.49.0. fqdn 1.5.1. fr",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:2796,safety,except,exceptiongroup,2796,ndata 0.10.5.post1. anyio 4.3.0. appdirs 1.4.4. argon2-cffi 23.1.0. argon2-cffi-bindings 21.2.0. array_api_compat 1.5. arrow 1.3.0. asciitree 0.3.3. asttokens 2.4.1. async-lru 2.0.4. async-timeout 4.0.3. attrs 23.2.0. Babel 2.14.0. beautifulsoup4 4.12.3. bleach 6.1.0. bokeh 3.3.4. branca 0.7.1. Brotli 1.1.0. cached-property 1.5.2. cachetools 5.3.3. certifi 2024.2.2. cffi 1.16.0. charset-normalizer 3.3.2. click 8.1.7. click-plugins 1.1.1. cligj 0.7.2. cloudpickle 3.0.0. colorama 0.4.6. colorcet 3.1.0. comm 0.2.1. confluent-kafka 1.9.2. contourpy 1.2.0. cubinlinker 0.3.0. cucim 24.2.0. cuda-python 11.8.3. cudf 24.2.2. cudf_kafka 24.2.2. cugraph 24.2.0. cuml 24.2.0. cuproj 24.2.0. cupy 12.2.0. cuspatial 24.2.0. custreamz 24.2.2. cuxfilter 24.2.0. cycler 0.12.1. cytoolz 0.12.3. dask 2024.1.1. dask-cuda 24.2.0. dask-cudf 24.2.2. datashader 0.16.0. debugpy 1.8.1. decorator 5.1.1. decoupler 1.6.0. defusedxml 0.7.1. distributed 2024.1.1. docrep 0.3.2. entrypoints 0.4. et-xmlfile 1.1.0. exceptiongroup 1.2.0. executing 2.0.1. fa2 0.3.5. fasteners 0.19. fastjsonschema 2.19.1. fastrlock 0.8.2. fcsparser 0.2.8. filelock 3.13.1. fiona 1.9.5. folium 0.16.0. fonttools 4.49.0. fqdn 1.5.1. frozenlist 1.4.1. fsspec 2024.2.0. GDAL 3.8.1. gdown 5.1.0. geopandas 0.14.3. h11 0.14.0. h2 4.1.0. h5py 3.10.0. harmonypy 0.0.9. holoviews 1.18.3. hpack 4.0.0. httpcore 1.0.4. httpx 0.27.0. hyperframe 6.0.1. idna 3.6. igraph 0.11.4. imagecodecs 2024.1.1. imageio 2.34.0. importlib_metadata 7.0.2. importlib_resources 6.1.3. inflect 7.0.0. ipykernel 6.29.3. ipylab 1.0.0. ipython 8.22.2. ipywidgets 8.1.2. isoduration 20.11.0. jedi 0.19.1. Jinja2 3.1.3. joblib 1.3.2. json5 0.9.22. jsonpointer 2.4. jsonschema 4.21.1. jsonschema-specifications 2023.12.1. jupyter_client 8.6.0. jupyter_core 5.7.1. jupyter-events 0.9.0. jupyter-lsp 2.2.4. jupyter_server 2.13.0. jupyter_server_proxy 4.1.0. jupyter_server_terminals 0.5.2. jupyterlab 4.1.4. jupyterlab_pygments 0.3.0. jupyterlab_server 2.25.3. jupyterlab_widget,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:4925,safety,hot,hotfix,4925,llvmlite 0.42.0. locket 1.0.0. louvain 0.8.1. lz4 4.3.3. mapclassify 2.6.1. Markdown 3.5.2. markdown-it-py 3.0.0. MarkupSafe 2.1.5. matplotlib 3.8.3. matplotlib-inline 0.1.6. mdit-py-plugins 0.4.0. mdurl 0.1.2. mistune 3.0.2. msgpack 1.0.7. mudata 0.2.3. multidict 6.0.5. multipledispatch 0.6.0. munkres 1.1.4. muon 0.1.5. natsort 8.4.0. nbclient 0.8.0. nbconvert 7.16.2. nbformat 5.9.2. nbproject 0.10.1. nest_asyncio 1.6.0. networkx 3.2.1. notebook 7.1.1. notebook_shim 0.2.4. numba 0.59.0. numcodecs 0.12.1. numpy 1.24.4. nvtx 0.2.10. omnipath 1.0.8. openpyxl 3.1.2. orjson 3.9.15. overrides 7.7.0. packaging 24.0. pandas 1.5.3. pandocfilters 1.5.0. panel 1.3.8. param 2.0.2. parso 0.8.3. partd 1.4.1. patsy 0.5.6. pexpect 4.9.0. pickleshare 0.7.5. pillow 10.2.0. pip 24.0. pkgutil_resolve_name 1.3.10. platformdirs 4.2.0. pooch 1.8.1. prometheus_client 0.20.0. prompt-toolkit 3.0.42. protobuf 4.25.3. psutil 5.9.8. ptxcompiler 0.8.1. ptyprocess 0.7.0. pure-eval 0.2.2. pyarrow 14.0.2. pyarrow-hotfix 0.6. pycparser 2.21. pyct 0.5.0. pydantic 1.10.14. pyee 8.1.0. Pygments 2.17.2. pylibcugraph 24.2.0. pylibraft 24.2.0. pynndescent 0.5.11. pynvml 11.4.1. pyparsing 3.1.2. pyppeteer 1.0.2. pyproj 3.6.1. PySocks 1.7.1. python-dateutil 2.9.0. python-json-logger 2.0.7. pytometry 0.1.4. pytz 2024.1. pyviz_comms 3.0.1. PyWavelets 1.4.1. PyYAML 6.0.1. pyzmq 25.1.2. raft-dask 24.2.0. rapids_singlecell 0.9.6. readfcs 1.1.7. referencing 0.33.0. requests 2.31.0. rfc3339-validator 0.1.4. rfc3986-validator 0.1.1. rich 13.7.1. rmm 24.2.0. rpds-py 0.18.0. Rtree 1.2.0. scanpy 1.10.0rc2. scikit-image 0.22.0. scikit-learn 1.4.1.post1. scikit-misc 0.3.1. scipy 1.12.0. seaborn 0.13.2. Send2Trash 1.8.2. session-info 1.0.0. setuptools 69.1.1. shapely 2.0.3. simpervisor 1.0.0. single_cell_helper 0.0.1 . six 1.16.0. sniffio 1.3.1. sortedcontainers 2.4.0. soupsieve 2.5. stack-data 0.6.2. statsmodels 0.14.1. stdlib-list 0.10.0. streamz 0.6.4. tblib 3.0.0. terminado 0.18.0. texttable 1.7.0. threadpoolctl 3.3,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:5184,safety,log,logger,5184,idict 6.0.5. multipledispatch 0.6.0. munkres 1.1.4. muon 0.1.5. natsort 8.4.0. nbclient 0.8.0. nbconvert 7.16.2. nbformat 5.9.2. nbproject 0.10.1. nest_asyncio 1.6.0. networkx 3.2.1. notebook 7.1.1. notebook_shim 0.2.4. numba 0.59.0. numcodecs 0.12.1. numpy 1.24.4. nvtx 0.2.10. omnipath 1.0.8. openpyxl 3.1.2. orjson 3.9.15. overrides 7.7.0. packaging 24.0. pandas 1.5.3. pandocfilters 1.5.0. panel 1.3.8. param 2.0.2. parso 0.8.3. partd 1.4.1. patsy 0.5.6. pexpect 4.9.0. pickleshare 0.7.5. pillow 10.2.0. pip 24.0. pkgutil_resolve_name 1.3.10. platformdirs 4.2.0. pooch 1.8.1. prometheus_client 0.20.0. prompt-toolkit 3.0.42. protobuf 4.25.3. psutil 5.9.8. ptxcompiler 0.8.1. ptyprocess 0.7.0. pure-eval 0.2.2. pyarrow 14.0.2. pyarrow-hotfix 0.6. pycparser 2.21. pyct 0.5.0. pydantic 1.10.14. pyee 8.1.0. Pygments 2.17.2. pylibcugraph 24.2.0. pylibraft 24.2.0. pynndescent 0.5.11. pynvml 11.4.1. pyparsing 3.1.2. pyppeteer 1.0.2. pyproj 3.6.1. PySocks 1.7.1. python-dateutil 2.9.0. python-json-logger 2.0.7. pytometry 0.1.4. pytz 2024.1. pyviz_comms 3.0.1. PyWavelets 1.4.1. PyYAML 6.0.1. pyzmq 25.1.2. raft-dask 24.2.0. rapids_singlecell 0.9.6. readfcs 1.1.7. referencing 0.33.0. requests 2.31.0. rfc3339-validator 0.1.4. rfc3986-validator 0.1.1. rich 13.7.1. rmm 24.2.0. rpds-py 0.18.0. Rtree 1.2.0. scanpy 1.10.0rc2. scikit-image 0.22.0. scikit-learn 1.4.1.post1. scikit-misc 0.3.1. scipy 1.12.0. seaborn 0.13.2. Send2Trash 1.8.2. session-info 1.0.0. setuptools 69.1.1. shapely 2.0.3. simpervisor 1.0.0. single_cell_helper 0.0.1 . six 1.16.0. sniffio 1.3.1. sortedcontainers 2.4.0. soupsieve 2.5. stack-data 0.6.2. statsmodels 0.14.1. stdlib-list 0.10.0. streamz 0.6.4. tblib 3.0.0. terminado 0.18.0. texttable 1.7.0. threadpoolctl 3.3.0. tifffile 2024.2.12. tinycss2 1.2.1. tomli 2.0.1. toolz 0.12.1. tornado 6.4. tqdm 4.66.2. traitlets 5.14.1. treelite 4.0.0. types-python-dateutil 2.8.19.20240311. typing_extensions 4.10.0. typing-utils 0.1.0. uc-micro-py 1.0.3. ucx-py 0.36.0. umap-learn 0.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:5396,safety,valid,validator,5396,.2.4. numba 0.59.0. numcodecs 0.12.1. numpy 1.24.4. nvtx 0.2.10. omnipath 1.0.8. openpyxl 3.1.2. orjson 3.9.15. overrides 7.7.0. packaging 24.0. pandas 1.5.3. pandocfilters 1.5.0. panel 1.3.8. param 2.0.2. parso 0.8.3. partd 1.4.1. patsy 0.5.6. pexpect 4.9.0. pickleshare 0.7.5. pillow 10.2.0. pip 24.0. pkgutil_resolve_name 1.3.10. platformdirs 4.2.0. pooch 1.8.1. prometheus_client 0.20.0. prompt-toolkit 3.0.42. protobuf 4.25.3. psutil 5.9.8. ptxcompiler 0.8.1. ptyprocess 0.7.0. pure-eval 0.2.2. pyarrow 14.0.2. pyarrow-hotfix 0.6. pycparser 2.21. pyct 0.5.0. pydantic 1.10.14. pyee 8.1.0. Pygments 2.17.2. pylibcugraph 24.2.0. pylibraft 24.2.0. pynndescent 0.5.11. pynvml 11.4.1. pyparsing 3.1.2. pyppeteer 1.0.2. pyproj 3.6.1. PySocks 1.7.1. python-dateutil 2.9.0. python-json-logger 2.0.7. pytometry 0.1.4. pytz 2024.1. pyviz_comms 3.0.1. PyWavelets 1.4.1. PyYAML 6.0.1. pyzmq 25.1.2. raft-dask 24.2.0. rapids_singlecell 0.9.6. readfcs 1.1.7. referencing 0.33.0. requests 2.31.0. rfc3339-validator 0.1.4. rfc3986-validator 0.1.1. rich 13.7.1. rmm 24.2.0. rpds-py 0.18.0. Rtree 1.2.0. scanpy 1.10.0rc2. scikit-image 0.22.0. scikit-learn 1.4.1.post1. scikit-misc 0.3.1. scipy 1.12.0. seaborn 0.13.2. Send2Trash 1.8.2. session-info 1.0.0. setuptools 69.1.1. shapely 2.0.3. simpervisor 1.0.0. single_cell_helper 0.0.1 . six 1.16.0. sniffio 1.3.1. sortedcontainers 2.4.0. soupsieve 2.5. stack-data 0.6.2. statsmodels 0.14.1. stdlib-list 0.10.0. streamz 0.6.4. tblib 3.0.0. terminado 0.18.0. texttable 1.7.0. threadpoolctl 3.3.0. tifffile 2024.2.12. tinycss2 1.2.1. tomli 2.0.1. toolz 0.12.1. tornado 6.4. tqdm 4.66.2. traitlets 5.14.1. treelite 4.0.0. types-python-dateutil 2.8.19.20240311. typing_extensions 4.10.0. typing-utils 0.1.0. uc-micro-py 1.0.3. ucx-py 0.36.0. umap-learn 0.5.5. unicodedata2 15.1.0. uri-template 1.3.0. urllib3 1.26.18. wcwidth 0.2.13. webcolors 1.13. webencodings 0.5.1. websocket-client 1.7.0. websockets 10.4. wget 3.2. wheel 0.42.0. widgetsnbextension 4.0.10. wrapt 1,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:5421,safety,valid,validator,5421,decs 0.12.1. numpy 1.24.4. nvtx 0.2.10. omnipath 1.0.8. openpyxl 3.1.2. orjson 3.9.15. overrides 7.7.0. packaging 24.0. pandas 1.5.3. pandocfilters 1.5.0. panel 1.3.8. param 2.0.2. parso 0.8.3. partd 1.4.1. patsy 0.5.6. pexpect 4.9.0. pickleshare 0.7.5. pillow 10.2.0. pip 24.0. pkgutil_resolve_name 1.3.10. platformdirs 4.2.0. pooch 1.8.1. prometheus_client 0.20.0. prompt-toolkit 3.0.42. protobuf 4.25.3. psutil 5.9.8. ptxcompiler 0.8.1. ptyprocess 0.7.0. pure-eval 0.2.2. pyarrow 14.0.2. pyarrow-hotfix 0.6. pycparser 2.21. pyct 0.5.0. pydantic 1.10.14. pyee 8.1.0. Pygments 2.17.2. pylibcugraph 24.2.0. pylibraft 24.2.0. pynndescent 0.5.11. pynvml 11.4.1. pyparsing 3.1.2. pyppeteer 1.0.2. pyproj 3.6.1. PySocks 1.7.1. python-dateutil 2.9.0. python-json-logger 2.0.7. pytometry 0.1.4. pytz 2024.1. pyviz_comms 3.0.1. PyWavelets 1.4.1. PyYAML 6.0.1. pyzmq 25.1.2. raft-dask 24.2.0. rapids_singlecell 0.9.6. readfcs 1.1.7. referencing 0.33.0. requests 2.31.0. rfc3339-validator 0.1.4. rfc3986-validator 0.1.1. rich 13.7.1. rmm 24.2.0. rpds-py 0.18.0. Rtree 1.2.0. scanpy 1.10.0rc2. scikit-image 0.22.0. scikit-learn 1.4.1.post1. scikit-misc 0.3.1. scipy 1.12.0. seaborn 0.13.2. Send2Trash 1.8.2. session-info 1.0.0. setuptools 69.1.1. shapely 2.0.3. simpervisor 1.0.0. single_cell_helper 0.0.1 . six 1.16.0. sniffio 1.3.1. sortedcontainers 2.4.0. soupsieve 2.5. stack-data 0.6.2. statsmodels 0.14.1. stdlib-list 0.10.0. streamz 0.6.4. tblib 3.0.0. terminado 0.18.0. texttable 1.7.0. threadpoolctl 3.3.0. tifffile 2024.2.12. tinycss2 1.2.1. tomli 2.0.1. toolz 0.12.1. tornado 6.4. tqdm 4.66.2. traitlets 5.14.1. treelite 4.0.0. types-python-dateutil 2.8.19.20240311. typing_extensions 4.10.0. typing-utils 0.1.0. uc-micro-py 1.0.3. ucx-py 0.36.0. umap-learn 0.5.5. unicodedata2 15.1.0. uri-template 1.3.0. urllib3 1.26.18. wcwidth 0.2.13. webcolors 1.13. webencodings 0.5.1. websocket-client 1.7.0. websockets 10.4. wget 3.2. wheel 0.42.0. widgetsnbextension 4.0.10. wrapt 1.16.0. xarray 2024.2.0. x,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:535,security,obfusc,obfuscated,535,"sc.get.aggregate looses values; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I'm working with the `sc.get.aggregate` function from the latest release candidate. In certain combinations of `groupby` variables, some valuese get lost. . I wasn't able to make a minimal reproducible example, but I obfuscated the `obs` table of my real data and can share it here: . https://www.dropbox.com/scl/fi/jsbrb2ulki7mmih2242kc/adata_aggregate_bug.h5ad?rlkey=qczuaf2v5vlwb00zyuxmzjkix&dl=1. ### Minimal code sample. ```python. >>> test_adata = sc.read_h5ad(""adata_aggregate_bug.h5ad""). >>> test_adata.obs[""patient_id""].nunique(). 69. >>> test_adata.obs.isnull().sum(). patient_id 0. timepoint 0. external_batch_id 0. dtype: int64. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 15. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. ```. ### Error output. ```pytb. So only if using all three variables, some patient IDs are lost. I don't see why this would be happening. ```. ### Versions. <details>. ```. Package Version Editable project location. ------------------------- --------------- -------------------------------------------------------------------------------------------------------------------------. aiohttp 3.9.3. aiosignal 1.3.1. anndata 0.10.5.post1. anyio 4.3.0. appdirs 1.4.4. argon2-cffi 23.1.0. argon2-cffi-bindings 21.2.0. array_api_compat 1.5. arrow 1.3.0. asciitree 0.3.3. asttokens 2.4.1. async-lru 2.0.4. async-timeout ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:2154,security,certif,certifi,2154,"[. ""patient_id"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. ```. ### Error output. ```pytb. So only if using all three variables, some patient IDs are lost. I don't see why this would be happening. ```. ### Versions. <details>. ```. Package Version Editable project location. ------------------------- --------------- -------------------------------------------------------------------------------------------------------------------------. aiohttp 3.9.3. aiosignal 1.3.1. anndata 0.10.5.post1. anyio 4.3.0. appdirs 1.4.4. argon2-cffi 23.1.0. argon2-cffi-bindings 21.2.0. array_api_compat 1.5. arrow 1.3.0. asciitree 0.3.3. asttokens 2.4.1. async-lru 2.0.4. async-timeout 4.0.3. attrs 23.2.0. Babel 2.14.0. beautifulsoup4 4.12.3. bleach 6.1.0. bokeh 3.3.4. branca 0.7.1. Brotli 1.1.0. cached-property 1.5.2. cachetools 5.3.3. certifi 2024.2.2. cffi 1.16.0. charset-normalizer 3.3.2. click 8.1.7. click-plugins 1.1.1. cligj 0.7.2. cloudpickle 3.0.0. colorama 0.4.6. colorcet 3.1.0. comm 0.2.1. confluent-kafka 1.9.2. contourpy 1.2.0. cubinlinker 0.3.0. cucim 24.2.0. cuda-python 11.8.3. cudf 24.2.2. cudf_kafka 24.2.2. cugraph 24.2.0. cuml 24.2.0. cuproj 24.2.0. cupy 12.2.0. cuspatial 24.2.0. custreamz 24.2.2. cuxfilter 24.2.0. cycler 0.12.1. cytoolz 0.12.3. dask 2024.1.1. dask-cuda 24.2.0. dask-cudf 24.2.2. datashader 0.16.0. debugpy 1.8.1. decorator 5.1.1. decoupler 1.6.0. defusedxml 0.7.1. distributed 2024.1.1. docrep 0.3.2. entrypoints 0.4. et-xmlfile 1.1.0. exceptiongroup 1.2.0. executing 2.0.1. fa2 0.3.5. fasteners 0.19. fastjsonschema 2.19.1. fastrlock 0.8.2. fcsparser 0.2.8. filelock 3.13.1. fiona 1.9.5. folium 0.16.0. fonttools 4.49.0. fqdn 1.5.1. frozenlist 1.4.1. fsspec 2024.2.0. GDAL 3.8.1. gdown 5.1.0. geopandas 0.14.3. h11 0.14.0. h2 4.1.0. h5py 3.10.0. harmonypy 0.0.9. holoviews 1.18.3. hpack 4.0.0. htt",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:3400,security,iso,isoduration,3400,11.8.3. cudf 24.2.2. cudf_kafka 24.2.2. cugraph 24.2.0. cuml 24.2.0. cuproj 24.2.0. cupy 12.2.0. cuspatial 24.2.0. custreamz 24.2.2. cuxfilter 24.2.0. cycler 0.12.1. cytoolz 0.12.3. dask 2024.1.1. dask-cuda 24.2.0. dask-cudf 24.2.2. datashader 0.16.0. debugpy 1.8.1. decorator 5.1.1. decoupler 1.6.0. defusedxml 0.7.1. distributed 2024.1.1. docrep 0.3.2. entrypoints 0.4. et-xmlfile 1.1.0. exceptiongroup 1.2.0. executing 2.0.1. fa2 0.3.5. fasteners 0.19. fastjsonschema 2.19.1. fastrlock 0.8.2. fcsparser 0.2.8. filelock 3.13.1. fiona 1.9.5. folium 0.16.0. fonttools 4.49.0. fqdn 1.5.1. frozenlist 1.4.1. fsspec 2024.2.0. GDAL 3.8.1. gdown 5.1.0. geopandas 0.14.3. h11 0.14.0. h2 4.1.0. h5py 3.10.0. harmonypy 0.0.9. holoviews 1.18.3. hpack 4.0.0. httpcore 1.0.4. httpx 0.27.0. hyperframe 6.0.1. idna 3.6. igraph 0.11.4. imagecodecs 2024.1.1. imageio 2.34.0. importlib_metadata 7.0.2. importlib_resources 6.1.3. inflect 7.0.0. ipykernel 6.29.3. ipylab 1.0.0. ipython 8.22.2. ipywidgets 8.1.2. isoduration 20.11.0. jedi 0.19.1. Jinja2 3.1.3. joblib 1.3.2. json5 0.9.22. jsonpointer 2.4. jsonschema 4.21.1. jsonschema-specifications 2023.12.1. jupyter_client 8.6.0. jupyter_core 5.7.1. jupyter-events 0.9.0. jupyter-lsp 2.2.4. jupyter_server 2.13.0. jupyter_server_proxy 4.1.0. jupyter_server_terminals 0.5.2. jupyterlab 4.1.4. jupyterlab_pygments 0.3.0. jupyterlab_server 2.25.3. jupyterlab_widgets 3.0.10. kiwisolver 1.4.5. lamin_utils 0.13.0. lazy_loader 0.3. legacy-api-wrap 1.4. leidenalg 0.10.2. linkify-it-py 2.0.3. llvmlite 0.42.0. locket 1.0.0. louvain 0.8.1. lz4 4.3.3. mapclassify 2.6.1. Markdown 3.5.2. markdown-it-py 3.0.0. MarkupSafe 2.1.5. matplotlib 3.8.3. matplotlib-inline 0.1.6. mdit-py-plugins 0.4.0. mdurl 0.1.2. mistune 3.0.2. msgpack 1.0.7. mudata 0.2.3. multidict 6.0.5. multipledispatch 0.6.0. munkres 1.1.4. muon 0.1.5. natsort 8.4.0. nbclient 0.8.0. nbconvert 7.16.2. nbformat 5.9.2. nbproject 0.10.1. nest_asyncio 1.6.0. networkx 3.2.1. notebook 7.1.1. notebook_shim 0.2.4.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:3945,security,lock,locket,3945, folium 0.16.0. fonttools 4.49.0. fqdn 1.5.1. frozenlist 1.4.1. fsspec 2024.2.0. GDAL 3.8.1. gdown 5.1.0. geopandas 0.14.3. h11 0.14.0. h2 4.1.0. h5py 3.10.0. harmonypy 0.0.9. holoviews 1.18.3. hpack 4.0.0. httpcore 1.0.4. httpx 0.27.0. hyperframe 6.0.1. idna 3.6. igraph 0.11.4. imagecodecs 2024.1.1. imageio 2.34.0. importlib_metadata 7.0.2. importlib_resources 6.1.3. inflect 7.0.0. ipykernel 6.29.3. ipylab 1.0.0. ipython 8.22.2. ipywidgets 8.1.2. isoduration 20.11.0. jedi 0.19.1. Jinja2 3.1.3. joblib 1.3.2. json5 0.9.22. jsonpointer 2.4. jsonschema 4.21.1. jsonschema-specifications 2023.12.1. jupyter_client 8.6.0. jupyter_core 5.7.1. jupyter-events 0.9.0. jupyter-lsp 2.2.4. jupyter_server 2.13.0. jupyter_server_proxy 4.1.0. jupyter_server_terminals 0.5.2. jupyterlab 4.1.4. jupyterlab_pygments 0.3.0. jupyterlab_server 2.25.3. jupyterlab_widgets 3.0.10. kiwisolver 1.4.5. lamin_utils 0.13.0. lazy_loader 0.3. legacy-api-wrap 1.4. leidenalg 0.10.2. linkify-it-py 2.0.3. llvmlite 0.42.0. locket 1.0.0. louvain 0.8.1. lz4 4.3.3. mapclassify 2.6.1. Markdown 3.5.2. markdown-it-py 3.0.0. MarkupSafe 2.1.5. matplotlib 3.8.3. matplotlib-inline 0.1.6. mdit-py-plugins 0.4.0. mdurl 0.1.2. mistune 3.0.2. msgpack 1.0.7. mudata 0.2.3. multidict 6.0.5. multipledispatch 0.6.0. munkres 1.1.4. muon 0.1.5. natsort 8.4.0. nbclient 0.8.0. nbconvert 7.16.2. nbformat 5.9.2. nbproject 0.10.1. nest_asyncio 1.6.0. networkx 3.2.1. notebook 7.1.1. notebook_shim 0.2.4. numba 0.59.0. numcodecs 0.12.1. numpy 1.24.4. nvtx 0.2.10. omnipath 1.0.8. openpyxl 3.1.2. orjson 3.9.15. overrides 7.7.0. packaging 24.0. pandas 1.5.3. pandocfilters 1.5.0. panel 1.3.8. param 2.0.2. parso 0.8.3. partd 1.4.1. patsy 0.5.6. pexpect 4.9.0. pickleshare 0.7.5. pillow 10.2.0. pip 24.0. pkgutil_resolve_name 1.3.10. platformdirs 4.2.0. pooch 1.8.1. prometheus_client 0.20.0. prompt-toolkit 3.0.42. protobuf 4.25.3. psutil 5.9.8. ptxcompiler 0.8.1. ptyprocess 0.7.0. pure-eval 0.2.2. pyarrow 14.0.2. pyarrow-hotfix 0.6. pycparser 2,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:4354,security,network,networkx,4354, 1.0.0. ipython 8.22.2. ipywidgets 8.1.2. isoduration 20.11.0. jedi 0.19.1. Jinja2 3.1.3. joblib 1.3.2. json5 0.9.22. jsonpointer 2.4. jsonschema 4.21.1. jsonschema-specifications 2023.12.1. jupyter_client 8.6.0. jupyter_core 5.7.1. jupyter-events 0.9.0. jupyter-lsp 2.2.4. jupyter_server 2.13.0. jupyter_server_proxy 4.1.0. jupyter_server_terminals 0.5.2. jupyterlab 4.1.4. jupyterlab_pygments 0.3.0. jupyterlab_server 2.25.3. jupyterlab_widgets 3.0.10. kiwisolver 1.4.5. lamin_utils 0.13.0. lazy_loader 0.3. legacy-api-wrap 1.4. leidenalg 0.10.2. linkify-it-py 2.0.3. llvmlite 0.42.0. locket 1.0.0. louvain 0.8.1. lz4 4.3.3. mapclassify 2.6.1. Markdown 3.5.2. markdown-it-py 3.0.0. MarkupSafe 2.1.5. matplotlib 3.8.3. matplotlib-inline 0.1.6. mdit-py-plugins 0.4.0. mdurl 0.1.2. mistune 3.0.2. msgpack 1.0.7. mudata 0.2.3. multidict 6.0.5. multipledispatch 0.6.0. munkres 1.1.4. muon 0.1.5. natsort 8.4.0. nbclient 0.8.0. nbconvert 7.16.2. nbformat 5.9.2. nbproject 0.10.1. nest_asyncio 1.6.0. networkx 3.2.1. notebook 7.1.1. notebook_shim 0.2.4. numba 0.59.0. numcodecs 0.12.1. numpy 1.24.4. nvtx 0.2.10. omnipath 1.0.8. openpyxl 3.1.2. orjson 3.9.15. overrides 7.7.0. packaging 24.0. pandas 1.5.3. pandocfilters 1.5.0. panel 1.3.8. param 2.0.2. parso 0.8.3. partd 1.4.1. patsy 0.5.6. pexpect 4.9.0. pickleshare 0.7.5. pillow 10.2.0. pip 24.0. pkgutil_resolve_name 1.3.10. platformdirs 4.2.0. pooch 1.8.1. prometheus_client 0.20.0. prompt-toolkit 3.0.42. protobuf 4.25.3. psutil 5.9.8. ptxcompiler 0.8.1. ptyprocess 0.7.0. pure-eval 0.2.2. pyarrow 14.0.2. pyarrow-hotfix 0.6. pycparser 2.21. pyct 0.5.0. pydantic 1.10.14. pyee 8.1.0. Pygments 2.17.2. pylibcugraph 24.2.0. pylibraft 24.2.0. pynndescent 0.5.11. pynvml 11.4.1. pyparsing 3.1.2. pyppeteer 1.0.2. pyproj 3.6.1. PySocks 1.7.1. python-dateutil 2.9.0. python-json-logger 2.0.7. pytometry 0.1.4. pytz 2024.1. pyviz_comms 3.0.1. PyWavelets 1.4.1. PyYAML 6.0.1. pyzmq 25.1.2. raft-dask 24.2.0. rapids_singlecell 0.9.6. readfcs 1.1.7. referen,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:5184,security,log,logger,5184,idict 6.0.5. multipledispatch 0.6.0. munkres 1.1.4. muon 0.1.5. natsort 8.4.0. nbclient 0.8.0. nbconvert 7.16.2. nbformat 5.9.2. nbproject 0.10.1. nest_asyncio 1.6.0. networkx 3.2.1. notebook 7.1.1. notebook_shim 0.2.4. numba 0.59.0. numcodecs 0.12.1. numpy 1.24.4. nvtx 0.2.10. omnipath 1.0.8. openpyxl 3.1.2. orjson 3.9.15. overrides 7.7.0. packaging 24.0. pandas 1.5.3. pandocfilters 1.5.0. panel 1.3.8. param 2.0.2. parso 0.8.3. partd 1.4.1. patsy 0.5.6. pexpect 4.9.0. pickleshare 0.7.5. pillow 10.2.0. pip 24.0. pkgutil_resolve_name 1.3.10. platformdirs 4.2.0. pooch 1.8.1. prometheus_client 0.20.0. prompt-toolkit 3.0.42. protobuf 4.25.3. psutil 5.9.8. ptxcompiler 0.8.1. ptyprocess 0.7.0. pure-eval 0.2.2. pyarrow 14.0.2. pyarrow-hotfix 0.6. pycparser 2.21. pyct 0.5.0. pydantic 1.10.14. pyee 8.1.0. Pygments 2.17.2. pylibcugraph 24.2.0. pylibraft 24.2.0. pynndescent 0.5.11. pynvml 11.4.1. pyparsing 3.1.2. pyppeteer 1.0.2. pyproj 3.6.1. PySocks 1.7.1. python-dateutil 2.9.0. python-json-logger 2.0.7. pytometry 0.1.4. pytz 2024.1. pyviz_comms 3.0.1. PyWavelets 1.4.1. PyYAML 6.0.1. pyzmq 25.1.2. raft-dask 24.2.0. rapids_singlecell 0.9.6. readfcs 1.1.7. referencing 0.33.0. requests 2.31.0. rfc3339-validator 0.1.4. rfc3986-validator 0.1.1. rich 13.7.1. rmm 24.2.0. rpds-py 0.18.0. Rtree 1.2.0. scanpy 1.10.0rc2. scikit-image 0.22.0. scikit-learn 1.4.1.post1. scikit-misc 0.3.1. scipy 1.12.0. seaborn 0.13.2. Send2Trash 1.8.2. session-info 1.0.0. setuptools 69.1.1. shapely 2.0.3. simpervisor 1.0.0. single_cell_helper 0.0.1 . six 1.16.0. sniffio 1.3.1. sortedcontainers 2.4.0. soupsieve 2.5. stack-data 0.6.2. statsmodels 0.14.1. stdlib-list 0.10.0. streamz 0.6.4. tblib 3.0.0. terminado 0.18.0. texttable 1.7.0. threadpoolctl 3.3.0. tifffile 2024.2.12. tinycss2 1.2.1. tomli 2.0.1. toolz 0.12.1. tornado 6.4. tqdm 4.66.2. traitlets 5.14.1. treelite 4.0.0. types-python-dateutil 2.8.19.20240311. typing_extensions 4.10.0. typing-utils 0.1.0. uc-micro-py 1.0.3. ucx-py 0.36.0. umap-learn 0.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:5396,security,validat,validator,5396,.2.4. numba 0.59.0. numcodecs 0.12.1. numpy 1.24.4. nvtx 0.2.10. omnipath 1.0.8. openpyxl 3.1.2. orjson 3.9.15. overrides 7.7.0. packaging 24.0. pandas 1.5.3. pandocfilters 1.5.0. panel 1.3.8. param 2.0.2. parso 0.8.3. partd 1.4.1. patsy 0.5.6. pexpect 4.9.0. pickleshare 0.7.5. pillow 10.2.0. pip 24.0. pkgutil_resolve_name 1.3.10. platformdirs 4.2.0. pooch 1.8.1. prometheus_client 0.20.0. prompt-toolkit 3.0.42. protobuf 4.25.3. psutil 5.9.8. ptxcompiler 0.8.1. ptyprocess 0.7.0. pure-eval 0.2.2. pyarrow 14.0.2. pyarrow-hotfix 0.6. pycparser 2.21. pyct 0.5.0. pydantic 1.10.14. pyee 8.1.0. Pygments 2.17.2. pylibcugraph 24.2.0. pylibraft 24.2.0. pynndescent 0.5.11. pynvml 11.4.1. pyparsing 3.1.2. pyppeteer 1.0.2. pyproj 3.6.1. PySocks 1.7.1. python-dateutil 2.9.0. python-json-logger 2.0.7. pytometry 0.1.4. pytz 2024.1. pyviz_comms 3.0.1. PyWavelets 1.4.1. PyYAML 6.0.1. pyzmq 25.1.2. raft-dask 24.2.0. rapids_singlecell 0.9.6. readfcs 1.1.7. referencing 0.33.0. requests 2.31.0. rfc3339-validator 0.1.4. rfc3986-validator 0.1.1. rich 13.7.1. rmm 24.2.0. rpds-py 0.18.0. Rtree 1.2.0. scanpy 1.10.0rc2. scikit-image 0.22.0. scikit-learn 1.4.1.post1. scikit-misc 0.3.1. scipy 1.12.0. seaborn 0.13.2. Send2Trash 1.8.2. session-info 1.0.0. setuptools 69.1.1. shapely 2.0.3. simpervisor 1.0.0. single_cell_helper 0.0.1 . six 1.16.0. sniffio 1.3.1. sortedcontainers 2.4.0. soupsieve 2.5. stack-data 0.6.2. statsmodels 0.14.1. stdlib-list 0.10.0. streamz 0.6.4. tblib 3.0.0. terminado 0.18.0. texttable 1.7.0. threadpoolctl 3.3.0. tifffile 2024.2.12. tinycss2 1.2.1. tomli 2.0.1. toolz 0.12.1. tornado 6.4. tqdm 4.66.2. traitlets 5.14.1. treelite 4.0.0. types-python-dateutil 2.8.19.20240311. typing_extensions 4.10.0. typing-utils 0.1.0. uc-micro-py 1.0.3. ucx-py 0.36.0. umap-learn 0.5.5. unicodedata2 15.1.0. uri-template 1.3.0. urllib3 1.26.18. wcwidth 0.2.13. webcolors 1.13. webencodings 0.5.1. websocket-client 1.7.0. websockets 10.4. wget 3.2. wheel 0.42.0. widgetsnbextension 4.0.10. wrapt 1,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:5421,security,validat,validator,5421,decs 0.12.1. numpy 1.24.4. nvtx 0.2.10. omnipath 1.0.8. openpyxl 3.1.2. orjson 3.9.15. overrides 7.7.0. packaging 24.0. pandas 1.5.3. pandocfilters 1.5.0. panel 1.3.8. param 2.0.2. parso 0.8.3. partd 1.4.1. patsy 0.5.6. pexpect 4.9.0. pickleshare 0.7.5. pillow 10.2.0. pip 24.0. pkgutil_resolve_name 1.3.10. platformdirs 4.2.0. pooch 1.8.1. prometheus_client 0.20.0. prompt-toolkit 3.0.42. protobuf 4.25.3. psutil 5.9.8. ptxcompiler 0.8.1. ptyprocess 0.7.0. pure-eval 0.2.2. pyarrow 14.0.2. pyarrow-hotfix 0.6. pycparser 2.21. pyct 0.5.0. pydantic 1.10.14. pyee 8.1.0. Pygments 2.17.2. pylibcugraph 24.2.0. pylibraft 24.2.0. pynndescent 0.5.11. pynvml 11.4.1. pyparsing 3.1.2. pyppeteer 1.0.2. pyproj 3.6.1. PySocks 1.7.1. python-dateutil 2.9.0. python-json-logger 2.0.7. pytometry 0.1.4. pytz 2024.1. pyviz_comms 3.0.1. PyWavelets 1.4.1. PyYAML 6.0.1. pyzmq 25.1.2. raft-dask 24.2.0. rapids_singlecell 0.9.6. readfcs 1.1.7. referencing 0.33.0. requests 2.31.0. rfc3339-validator 0.1.4. rfc3986-validator 0.1.1. rich 13.7.1. rmm 24.2.0. rpds-py 0.18.0. Rtree 1.2.0. scanpy 1.10.0rc2. scikit-image 0.22.0. scikit-learn 1.4.1.post1. scikit-misc 0.3.1. scipy 1.12.0. seaborn 0.13.2. Send2Trash 1.8.2. session-info 1.0.0. setuptools 69.1.1. shapely 2.0.3. simpervisor 1.0.0. single_cell_helper 0.0.1 . six 1.16.0. sniffio 1.3.1. sortedcontainers 2.4.0. soupsieve 2.5. stack-data 0.6.2. statsmodels 0.14.1. stdlib-list 0.10.0. streamz 0.6.4. tblib 3.0.0. terminado 0.18.0. texttable 1.7.0. threadpoolctl 3.3.0. tifffile 2024.2.12. tinycss2 1.2.1. tomli 2.0.1. toolz 0.12.1. tornado 6.4. tqdm 4.66.2. traitlets 5.14.1. treelite 4.0.0. types-python-dateutil 2.8.19.20240311. typing_extensions 4.10.0. typing-utils 0.1.0. uc-micro-py 1.0.3. ucx-py 0.36.0. umap-learn 0.5.5. unicodedata2 15.1.0. uri-template 1.3.0. urllib3 1.26.18. wcwidth 0.2.13. webcolors 1.13. webencodings 0.5.1. websocket-client 1.7.0. websockets 10.4. wget 3.2. wheel 0.42.0. widgetsnbextension 4.0.10. wrapt 1.16.0. xarray 2024.2.0. x,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:5624,security,session,session-info,5624, packaging 24.0. pandas 1.5.3. pandocfilters 1.5.0. panel 1.3.8. param 2.0.2. parso 0.8.3. partd 1.4.1. patsy 0.5.6. pexpect 4.9.0. pickleshare 0.7.5. pillow 10.2.0. pip 24.0. pkgutil_resolve_name 1.3.10. platformdirs 4.2.0. pooch 1.8.1. prometheus_client 0.20.0. prompt-toolkit 3.0.42. protobuf 4.25.3. psutil 5.9.8. ptxcompiler 0.8.1. ptyprocess 0.7.0. pure-eval 0.2.2. pyarrow 14.0.2. pyarrow-hotfix 0.6. pycparser 2.21. pyct 0.5.0. pydantic 1.10.14. pyee 8.1.0. Pygments 2.17.2. pylibcugraph 24.2.0. pylibraft 24.2.0. pynndescent 0.5.11. pynvml 11.4.1. pyparsing 3.1.2. pyppeteer 1.0.2. pyproj 3.6.1. PySocks 1.7.1. python-dateutil 2.9.0. python-json-logger 2.0.7. pytometry 0.1.4. pytz 2024.1. pyviz_comms 3.0.1. PyWavelets 1.4.1. PyYAML 6.0.1. pyzmq 25.1.2. raft-dask 24.2.0. rapids_singlecell 0.9.6. readfcs 1.1.7. referencing 0.33.0. requests 2.31.0. rfc3339-validator 0.1.4. rfc3986-validator 0.1.1. rich 13.7.1. rmm 24.2.0. rpds-py 0.18.0. Rtree 1.2.0. scanpy 1.10.0rc2. scikit-image 0.22.0. scikit-learn 1.4.1.post1. scikit-misc 0.3.1. scipy 1.12.0. seaborn 0.13.2. Send2Trash 1.8.2. session-info 1.0.0. setuptools 69.1.1. shapely 2.0.3. simpervisor 1.0.0. single_cell_helper 0.0.1 . six 1.16.0. sniffio 1.3.1. sortedcontainers 2.4.0. soupsieve 2.5. stack-data 0.6.2. statsmodels 0.14.1. stdlib-list 0.10.0. streamz 0.6.4. tblib 3.0.0. terminado 0.18.0. texttable 1.7.0. threadpoolctl 3.3.0. tifffile 2024.2.12. tinycss2 1.2.1. tomli 2.0.1. toolz 0.12.1. tornado 6.4. tqdm 4.66.2. traitlets 5.14.1. treelite 4.0.0. types-python-dateutil 2.8.19.20240311. typing_extensions 4.10.0. typing-utils 0.1.0. uc-micro-py 1.0.3. ucx-py 0.36.0. umap-learn 0.5.5. unicodedata2 15.1.0. uri-template 1.3.0. urllib3 1.26.18. wcwidth 0.2.13. webcolors 1.13. webencodings 0.5.1. websocket-client 1.7.0. websockets 10.4. wget 3.2. wheel 0.42.0. widgetsnbextension 4.0.10. wrapt 1.16.0. xarray 2024.2.0. xgboost 2.0.3. xyzservices 2023.10.1. yarl 1.9.4. zarr 2.17.1. zict 3.0.0. zipp 3.17.0. ```. </details>.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:5184,testability,log,logger,5184,idict 6.0.5. multipledispatch 0.6.0. munkres 1.1.4. muon 0.1.5. natsort 8.4.0. nbclient 0.8.0. nbconvert 7.16.2. nbformat 5.9.2. nbproject 0.10.1. nest_asyncio 1.6.0. networkx 3.2.1. notebook 7.1.1. notebook_shim 0.2.4. numba 0.59.0. numcodecs 0.12.1. numpy 1.24.4. nvtx 0.2.10. omnipath 1.0.8. openpyxl 3.1.2. orjson 3.9.15. overrides 7.7.0. packaging 24.0. pandas 1.5.3. pandocfilters 1.5.0. panel 1.3.8. param 2.0.2. parso 0.8.3. partd 1.4.1. patsy 0.5.6. pexpect 4.9.0. pickleshare 0.7.5. pillow 10.2.0. pip 24.0. pkgutil_resolve_name 1.3.10. platformdirs 4.2.0. pooch 1.8.1. prometheus_client 0.20.0. prompt-toolkit 3.0.42. protobuf 4.25.3. psutil 5.9.8. ptxcompiler 0.8.1. ptyprocess 0.7.0. pure-eval 0.2.2. pyarrow 14.0.2. pyarrow-hotfix 0.6. pycparser 2.21. pyct 0.5.0. pydantic 1.10.14. pyee 8.1.0. Pygments 2.17.2. pylibcugraph 24.2.0. pylibraft 24.2.0. pynndescent 0.5.11. pynvml 11.4.1. pyparsing 3.1.2. pyppeteer 1.0.2. pyproj 3.6.1. PySocks 1.7.1. python-dateutil 2.9.0. python-json-logger 2.0.7. pytometry 0.1.4. pytz 2024.1. pyviz_comms 3.0.1. PyWavelets 1.4.1. PyYAML 6.0.1. pyzmq 25.1.2. raft-dask 24.2.0. rapids_singlecell 0.9.6. readfcs 1.1.7. referencing 0.33.0. requests 2.31.0. rfc3339-validator 0.1.4. rfc3986-validator 0.1.1. rich 13.7.1. rmm 24.2.0. rpds-py 0.18.0. Rtree 1.2.0. scanpy 1.10.0rc2. scikit-image 0.22.0. scikit-learn 1.4.1.post1. scikit-misc 0.3.1. scipy 1.12.0. seaborn 0.13.2. Send2Trash 1.8.2. session-info 1.0.0. setuptools 69.1.1. shapely 2.0.3. simpervisor 1.0.0. single_cell_helper 0.0.1 . six 1.16.0. sniffio 1.3.1. sortedcontainers 2.4.0. soupsieve 2.5. stack-data 0.6.2. statsmodels 0.14.1. stdlib-list 0.10.0. streamz 0.6.4. tblib 3.0.0. terminado 0.18.0. texttable 1.7.0. threadpoolctl 3.3.0. tifffile 2024.2.12. tinycss2 1.2.1. tomli 2.0.1. toolz 0.12.1. tornado 6.4. tqdm 4.66.2. traitlets 5.14.1. treelite 4.0.0. types-python-dateutil 2.8.19.20240311. typing_extensions 4.10.0. typing-utils 0.1.0. uc-micro-py 1.0.3. ucx-py 0.36.0. umap-learn 0.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:160,usability,confirm,confirmed,160,"sc.get.aggregate looses values; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I'm working with the `sc.get.aggregate` function from the latest release candidate. In certain combinations of `groupby` variables, some valuese get lost. . I wasn't able to make a minimal reproducible example, but I obfuscated the `obs` table of my real data and can share it here: . https://www.dropbox.com/scl/fi/jsbrb2ulki7mmih2242kc/adata_aggregate_bug.h5ad?rlkey=qczuaf2v5vlwb00zyuxmzjkix&dl=1. ### Minimal code sample. ```python. >>> test_adata = sc.read_h5ad(""adata_aggregate_bug.h5ad""). >>> test_adata.obs[""patient_id""].nunique(). 69. >>> test_adata.obs.isnull().sum(). patient_id 0. timepoint 0. external_batch_id 0. dtype: int64. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 15. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. ```. ### Error output. ```pytb. So only if using all three variables, some patient IDs are lost. I don't see why this would be happening. ```. ### Versions. <details>. ```. Package Version Editable project location. ------------------------- --------------- -------------------------------------------------------------------------------------------------------------------------. aiohttp 3.9.3. aiosignal 1.3.1. anndata 0.10.5.post1. anyio 4.3.0. appdirs 1.4.4. argon2-cffi 23.1.0. argon2-cffi-bindings 21.2.0. array_api_compat 1.5. arrow 1.3.0. asciitree 0.3.3. asttokens 2.4.1. async-lru 2.0.4. async-timeout ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:243,usability,confirm,confirmed,243,"sc.get.aggregate looses values; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I'm working with the `sc.get.aggregate` function from the latest release candidate. In certain combinations of `groupby` variables, some valuese get lost. . I wasn't able to make a minimal reproducible example, but I obfuscated the `obs` table of my real data and can share it here: . https://www.dropbox.com/scl/fi/jsbrb2ulki7mmih2242kc/adata_aggregate_bug.h5ad?rlkey=qczuaf2v5vlwb00zyuxmzjkix&dl=1. ### Minimal code sample. ```python. >>> test_adata = sc.read_h5ad(""adata_aggregate_bug.h5ad""). >>> test_adata.obs[""patient_id""].nunique(). 69. >>> test_adata.obs.isnull().sum(). patient_id 0. timepoint 0. external_batch_id 0. dtype: int64. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 15. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. ```. ### Error output. ```pytb. So only if using all three variables, some patient IDs are lost. I don't see why this would be happening. ```. ### Versions. <details>. ```. Package Version Editable project location. ------------------------- --------------- -------------------------------------------------------------------------------------------------------------------------. aiohttp 3.9.3. aiosignal 1.3.1. anndata 0.10.5.post1. anyio 4.3.0. appdirs 1.4.4. argon2-cffi 23.1.0. argon2-cffi-bindings 21.2.0. array_api_compat 1.5. arrow 1.3.0. asciitree 0.3.3. asttokens 2.4.1. async-lru 2.0.4. async-timeout ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:499,usability,minim,minimal,499,"sc.get.aggregate looses values; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I'm working with the `sc.get.aggregate` function from the latest release candidate. In certain combinations of `groupby` variables, some valuese get lost. . I wasn't able to make a minimal reproducible example, but I obfuscated the `obs` table of my real data and can share it here: . https://www.dropbox.com/scl/fi/jsbrb2ulki7mmih2242kc/adata_aggregate_bug.h5ad?rlkey=qczuaf2v5vlwb00zyuxmzjkix&dl=1. ### Minimal code sample. ```python. >>> test_adata = sc.read_h5ad(""adata_aggregate_bug.h5ad""). >>> test_adata.obs[""patient_id""].nunique(). 69. >>> test_adata.obs.isnull().sum(). patient_id 0. timepoint 0. external_batch_id 0. dtype: int64. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 15. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. ```. ### Error output. ```pytb. So only if using all three variables, some patient IDs are lost. I don't see why this would be happening. ```. ### Versions. <details>. ```. Package Version Editable project location. ------------------------- --------------- -------------------------------------------------------------------------------------------------------------------------. aiohttp 3.9.3. aiosignal 1.3.1. anndata 0.10.5.post1. anyio 4.3.0. appdirs 1.4.4. argon2-cffi 23.1.0. argon2-cffi-bindings 21.2.0. array_api_compat 1.5. arrow 1.3.0. asciitree 0.3.3. asttokens 2.4.1. async-lru 2.0.4. async-timeout ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:723,usability,Minim,Minimal,723,"sc.get.aggregate looses values; ### Please make sure these conditions are met. - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the main branch of scanpy. ### What happened? I'm working with the `sc.get.aggregate` function from the latest release candidate. In certain combinations of `groupby` variables, some valuese get lost. . I wasn't able to make a minimal reproducible example, but I obfuscated the `obs` table of my real data and can share it here: . https://www.dropbox.com/scl/fi/jsbrb2ulki7mmih2242kc/adata_aggregate_bug.h5ad?rlkey=qczuaf2v5vlwb00zyuxmzjkix&dl=1. ### Minimal code sample. ```python. >>> test_adata = sc.read_h5ad(""adata_aggregate_bug.h5ad""). >>> test_adata.obs[""patient_id""].nunique(). 69. >>> test_adata.obs.isnull().sum(). patient_id 0. timepoint 0. external_batch_id 0. dtype: int64. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 15. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. ```. ### Error output. ```pytb. So only if using all three variables, some patient IDs are lost. I don't see why this would be happening. ```. ### Versions. <details>. ```. Package Version Editable project location. ------------------------- --------------- -------------------------------------------------------------------------------------------------------------------------. aiohttp 3.9.3. aiosignal 1.3.1. anndata 0.10.5.post1. anyio 4.3.0. appdirs 1.4.4. argon2-cffi 23.1.0. argon2-cffi-bindings 21.2.0. array_api_compat 1.5. arrow 1.3.0. asciitree 0.3.3. asttokens 2.4.1. async-lru 2.0.4. async-timeout ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:1397,usability,Error,Error,1397,". In certain combinations of `groupby` variables, some valuese get lost. . I wasn't able to make a minimal reproducible example, but I obfuscated the `obs` table of my real data and can share it here: . https://www.dropbox.com/scl/fi/jsbrb2ulki7mmih2242kc/adata_aggregate_bug.h5ad?rlkey=qczuaf2v5vlwb00zyuxmzjkix&dl=1. ### Minimal code sample. ```python. >>> test_adata = sc.read_h5ad(""adata_aggregate_bug.h5ad""). >>> test_adata.obs[""patient_id""].nunique(). 69. >>> test_adata.obs.isnull().sum(). patient_id 0. timepoint 0. external_batch_id 0. dtype: int64. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 15. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""external_batch_id"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. >>> pb = sc.get.aggregate(. test_adata,. by=[. ""patient_id"",. ""timepoint"",. ],. func=""mean"",. ). pb.obs[""patient_id""].nunique(). 69. ```. ### Error output. ```pytb. So only if using all three variables, some patient IDs are lost. I don't see why this would be happening. ```. ### Versions. <details>. ```. Package Version Editable project location. ------------------------- --------------- -------------------------------------------------------------------------------------------------------------------------. aiohttp 3.9.3. aiosignal 1.3.1. anndata 0.10.5.post1. anyio 4.3.0. appdirs 1.4.4. argon2-cffi 23.1.0. argon2-cffi-bindings 21.2.0. array_api_compat 1.5. arrow 1.3.0. asciitree 0.3.3. asttokens 2.4.1. async-lru 2.0.4. async-timeout 4.0.3. attrs 23.2.0. Babel 2.14.0. beautifulsoup4 4.12.3. bleach 6.1.0. bokeh 3.3.4. branca 0.7.1. Brotli 1.1.0. cached-property 1.5.2. cachetools 5.3.3. certifi 2024.2.2. cffi 1.16.0. charset-normalizer 3.3.2. click 8.1.7. click-plugins 1.1.1. cligj 0.7.2. cloudpickle 3.0.0. colorama 0.4.6. colorcet 3.1.0. comm 0.2.1. confluent-kafka 1.9.2. contourpy 1.2.0. cubinlinker 0.3.0. cucim 24.2.0. cuda-p",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
https://github.com/scverse/scanpy/issues/2964:4800,usability,tool,toolkit,4800, 3.0.10. kiwisolver 1.4.5. lamin_utils 0.13.0. lazy_loader 0.3. legacy-api-wrap 1.4. leidenalg 0.10.2. linkify-it-py 2.0.3. llvmlite 0.42.0. locket 1.0.0. louvain 0.8.1. lz4 4.3.3. mapclassify 2.6.1. Markdown 3.5.2. markdown-it-py 3.0.0. MarkupSafe 2.1.5. matplotlib 3.8.3. matplotlib-inline 0.1.6. mdit-py-plugins 0.4.0. mdurl 0.1.2. mistune 3.0.2. msgpack 1.0.7. mudata 0.2.3. multidict 6.0.5. multipledispatch 0.6.0. munkres 1.1.4. muon 0.1.5. natsort 8.4.0. nbclient 0.8.0. nbconvert 7.16.2. nbformat 5.9.2. nbproject 0.10.1. nest_asyncio 1.6.0. networkx 3.2.1. notebook 7.1.1. notebook_shim 0.2.4. numba 0.59.0. numcodecs 0.12.1. numpy 1.24.4. nvtx 0.2.10. omnipath 1.0.8. openpyxl 3.1.2. orjson 3.9.15. overrides 7.7.0. packaging 24.0. pandas 1.5.3. pandocfilters 1.5.0. panel 1.3.8. param 2.0.2. parso 0.8.3. partd 1.4.1. patsy 0.5.6. pexpect 4.9.0. pickleshare 0.7.5. pillow 10.2.0. pip 24.0. pkgutil_resolve_name 1.3.10. platformdirs 4.2.0. pooch 1.8.1. prometheus_client 0.20.0. prompt-toolkit 3.0.42. protobuf 4.25.3. psutil 5.9.8. ptxcompiler 0.8.1. ptyprocess 0.7.0. pure-eval 0.2.2. pyarrow 14.0.2. pyarrow-hotfix 0.6. pycparser 2.21. pyct 0.5.0. pydantic 1.10.14. pyee 8.1.0. Pygments 2.17.2. pylibcugraph 24.2.0. pylibraft 24.2.0. pynndescent 0.5.11. pynvml 11.4.1. pyparsing 3.1.2. pyppeteer 1.0.2. pyproj 3.6.1. PySocks 1.7.1. python-dateutil 2.9.0. python-json-logger 2.0.7. pytometry 0.1.4. pytz 2024.1. pyviz_comms 3.0.1. PyWavelets 1.4.1. PyYAML 6.0.1. pyzmq 25.1.2. raft-dask 24.2.0. rapids_singlecell 0.9.6. readfcs 1.1.7. referencing 0.33.0. requests 2.31.0. rfc3339-validator 0.1.4. rfc3986-validator 0.1.1. rich 13.7.1. rmm 24.2.0. rpds-py 0.18.0. Rtree 1.2.0. scanpy 1.10.0rc2. scikit-image 0.22.0. scikit-learn 1.4.1.post1. scikit-misc 0.3.1. scipy 1.12.0. seaborn 0.13.2. Send2Trash 1.8.2. session-info 1.0.0. setuptools 69.1.1. shapely 2.0.3. simpervisor 1.0.0. single_cell_helper 0.0.1 . six 1.16.0. sniffio 1.3.1. sortedcontainers 2.4.0. soupsieve 2.5. stack-data 0.6,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2964
