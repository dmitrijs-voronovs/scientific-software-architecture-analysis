id,quality_attribute,keyword,matched_word,match_idx,sentence,source,author,repo,version,wiki,url
https://github.com/scverse/scanpy/issues/2004:61,integrability,integr,integrate,61,"bbknn integrates multiple variables; Dear author,. Can bbknn integrate multiple variables？such as Platform and Individual. Looking forward your reply. Siyu. >>> sc.external.pp.bbknn(mydata, batch_key=[""Platform"",""Individual_2""],n_pcs=50,set_op_mix_ratio=ratio). computing batch balanced neighbors. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/scanpy/external/pp/_bbknn.py"", line 134, in bbknn. return bbknn(. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/bbknn/__init__.py"", line 110, in bbknn. if batch_key not in adata.obs:. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/pandas/core/generic.py"", line 1721, in __contains__. return key in self._info_axis. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/pandas/core/indexes/base.py"", line 4071, in __contains__. hash(key). TypeError: unhashable type: 'list",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2004
https://github.com/scverse/scanpy/issues/2004:272,integrability,batch,batch,272,"bbknn integrates multiple variables; Dear author,. Can bbknn integrate multiple variables？such as Platform and Individual. Looking forward your reply. Siyu. >>> sc.external.pp.bbknn(mydata, batch_key=[""Platform"",""Individual_2""],n_pcs=50,set_op_mix_ratio=ratio). computing batch balanced neighbors. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/scanpy/external/pp/_bbknn.py"", line 134, in bbknn. return bbknn(. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/bbknn/__init__.py"", line 110, in bbknn. if batch_key not in adata.obs:. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/pandas/core/generic.py"", line 1721, in __contains__. return key in self._info_axis. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/pandas/core/indexes/base.py"", line 4071, in __contains__. hash(key). TypeError: unhashable type: 'list",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2004
https://github.com/scverse/scanpy/issues/2004:6,interoperability,integr,integrates,6,"bbknn integrates multiple variables; Dear author,. Can bbknn integrate multiple variables？such as Platform and Individual. Looking forward your reply. Siyu. >>> sc.external.pp.bbknn(mydata, batch_key=[""Platform"",""Individual_2""],n_pcs=50,set_op_mix_ratio=ratio). computing batch balanced neighbors. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/scanpy/external/pp/_bbknn.py"", line 134, in bbknn. return bbknn(. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/bbknn/__init__.py"", line 110, in bbknn. if batch_key not in adata.obs:. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/pandas/core/generic.py"", line 1721, in __contains__. return key in self._info_axis. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/pandas/core/indexes/base.py"", line 4071, in __contains__. hash(key). TypeError: unhashable type: 'list",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2004
https://github.com/scverse/scanpy/issues/2004:61,interoperability,integr,integrate,61,"bbknn integrates multiple variables; Dear author,. Can bbknn integrate multiple variables？such as Platform and Individual. Looking forward your reply. Siyu. >>> sc.external.pp.bbknn(mydata, batch_key=[""Platform"",""Individual_2""],n_pcs=50,set_op_mix_ratio=ratio). computing batch balanced neighbors. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/scanpy/external/pp/_bbknn.py"", line 134, in bbknn. return bbknn(. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/bbknn/__init__.py"", line 110, in bbknn. if batch_key not in adata.obs:. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/pandas/core/generic.py"", line 1721, in __contains__. return key in self._info_axis. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/pandas/core/indexes/base.py"", line 4071, in __contains__. hash(key). TypeError: unhashable type: 'list",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2004
https://github.com/scverse/scanpy/issues/2004:98,interoperability,Platform,Platform,98,"bbknn integrates multiple variables; Dear author,. Can bbknn integrate multiple variables？such as Platform and Individual. Looking forward your reply. Siyu. >>> sc.external.pp.bbknn(mydata, batch_key=[""Platform"",""Individual_2""],n_pcs=50,set_op_mix_ratio=ratio). computing batch balanced neighbors. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/scanpy/external/pp/_bbknn.py"", line 134, in bbknn. return bbknn(. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/bbknn/__init__.py"", line 110, in bbknn. if batch_key not in adata.obs:. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/pandas/core/generic.py"", line 1721, in __contains__. return key in self._info_axis. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/pandas/core/indexes/base.py"", line 4071, in __contains__. hash(key). TypeError: unhashable type: 'list",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2004
https://github.com/scverse/scanpy/issues/2004:202,interoperability,Platform,Platform,202,"bbknn integrates multiple variables; Dear author,. Can bbknn integrate multiple variables？such as Platform and Individual. Looking forward your reply. Siyu. >>> sc.external.pp.bbknn(mydata, batch_key=[""Platform"",""Individual_2""],n_pcs=50,set_op_mix_ratio=ratio). computing batch balanced neighbors. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/scanpy/external/pp/_bbknn.py"", line 134, in bbknn. return bbknn(. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/bbknn/__init__.py"", line 110, in bbknn. if batch_key not in adata.obs:. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/pandas/core/generic.py"", line 1721, in __contains__. return key in self._info_axis. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/pandas/core/indexes/base.py"", line 4071, in __contains__. hash(key). TypeError: unhashable type: 'list",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2004
https://github.com/scverse/scanpy/issues/2004:6,modifiability,integr,integrates,6,"bbknn integrates multiple variables; Dear author,. Can bbknn integrate multiple variables？such as Platform and Individual. Looking forward your reply. Siyu. >>> sc.external.pp.bbknn(mydata, batch_key=[""Platform"",""Individual_2""],n_pcs=50,set_op_mix_ratio=ratio). computing batch balanced neighbors. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/scanpy/external/pp/_bbknn.py"", line 134, in bbknn. return bbknn(. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/bbknn/__init__.py"", line 110, in bbknn. if batch_key not in adata.obs:. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/pandas/core/generic.py"", line 1721, in __contains__. return key in self._info_axis. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/pandas/core/indexes/base.py"", line 4071, in __contains__. hash(key). TypeError: unhashable type: 'list",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2004
https://github.com/scverse/scanpy/issues/2004:26,modifiability,variab,variables,26,"bbknn integrates multiple variables; Dear author,. Can bbknn integrate multiple variables？such as Platform and Individual. Looking forward your reply. Siyu. >>> sc.external.pp.bbknn(mydata, batch_key=[""Platform"",""Individual_2""],n_pcs=50,set_op_mix_ratio=ratio). computing batch balanced neighbors. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/scanpy/external/pp/_bbknn.py"", line 134, in bbknn. return bbknn(. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/bbknn/__init__.py"", line 110, in bbknn. if batch_key not in adata.obs:. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/pandas/core/generic.py"", line 1721, in __contains__. return key in self._info_axis. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/pandas/core/indexes/base.py"", line 4071, in __contains__. hash(key). TypeError: unhashable type: 'list",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2004
https://github.com/scverse/scanpy/issues/2004:61,modifiability,integr,integrate,61,"bbknn integrates multiple variables; Dear author,. Can bbknn integrate multiple variables？such as Platform and Individual. Looking forward your reply. Siyu. >>> sc.external.pp.bbknn(mydata, batch_key=[""Platform"",""Individual_2""],n_pcs=50,set_op_mix_ratio=ratio). computing batch balanced neighbors. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/scanpy/external/pp/_bbknn.py"", line 134, in bbknn. return bbknn(. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/bbknn/__init__.py"", line 110, in bbknn. if batch_key not in adata.obs:. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/pandas/core/generic.py"", line 1721, in __contains__. return key in self._info_axis. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/pandas/core/indexes/base.py"", line 4071, in __contains__. hash(key). TypeError: unhashable type: 'list",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2004
https://github.com/scverse/scanpy/issues/2004:80,modifiability,variab,variables,80,"bbknn integrates multiple variables; Dear author,. Can bbknn integrate multiple variables？such as Platform and Individual. Looking forward your reply. Siyu. >>> sc.external.pp.bbknn(mydata, batch_key=[""Platform"",""Individual_2""],n_pcs=50,set_op_mix_ratio=ratio). computing batch balanced neighbors. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/scanpy/external/pp/_bbknn.py"", line 134, in bbknn. return bbknn(. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/bbknn/__init__.py"", line 110, in bbknn. if batch_key not in adata.obs:. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/pandas/core/generic.py"", line 1721, in __contains__. return key in self._info_axis. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/pandas/core/indexes/base.py"", line 4071, in __contains__. hash(key). TypeError: unhashable type: 'list",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2004
https://github.com/scverse/scanpy/issues/2004:362,modifiability,modul,module,362,"bbknn integrates multiple variables; Dear author,. Can bbknn integrate multiple variables？such as Platform and Individual. Looking forward your reply. Siyu. >>> sc.external.pp.bbknn(mydata, batch_key=[""Platform"",""Individual_2""],n_pcs=50,set_op_mix_ratio=ratio). computing batch balanced neighbors. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/scanpy/external/pp/_bbknn.py"", line 134, in bbknn. return bbknn(. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/bbknn/__init__.py"", line 110, in bbknn. if batch_key not in adata.obs:. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/pandas/core/generic.py"", line 1721, in __contains__. return key in self._info_axis. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/pandas/core/indexes/base.py"", line 4071, in __contains__. hash(key). TypeError: unhashable type: 'list",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2004
https://github.com/scverse/scanpy/issues/2004:421,modifiability,pac,packages,421,"bbknn integrates multiple variables; Dear author,. Can bbknn integrate multiple variables？such as Platform and Individual. Looking forward your reply. Siyu. >>> sc.external.pp.bbknn(mydata, batch_key=[""Platform"",""Individual_2""],n_pcs=50,set_op_mix_ratio=ratio). computing batch balanced neighbors. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/scanpy/external/pp/_bbknn.py"", line 134, in bbknn. return bbknn(. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/bbknn/__init__.py"", line 110, in bbknn. if batch_key not in adata.obs:. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/pandas/core/generic.py"", line 1721, in __contains__. return key in self._info_axis. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/pandas/core/indexes/base.py"", line 4071, in __contains__. hash(key). TypeError: unhashable type: 'list",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2004
https://github.com/scverse/scanpy/issues/2004:546,modifiability,pac,packages,546,"bbknn integrates multiple variables; Dear author,. Can bbknn integrate multiple variables？such as Platform and Individual. Looking forward your reply. Siyu. >>> sc.external.pp.bbknn(mydata, batch_key=[""Platform"",""Individual_2""],n_pcs=50,set_op_mix_ratio=ratio). computing batch balanced neighbors. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/scanpy/external/pp/_bbknn.py"", line 134, in bbknn. return bbknn(. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/bbknn/__init__.py"", line 110, in bbknn. if batch_key not in adata.obs:. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/pandas/core/generic.py"", line 1721, in __contains__. return key in self._info_axis. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/pandas/core/indexes/base.py"", line 4071, in __contains__. hash(key). TypeError: unhashable type: 'list",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2004
https://github.com/scverse/scanpy/issues/2004:677,modifiability,pac,packages,677,"bbknn integrates multiple variables; Dear author,. Can bbknn integrate multiple variables？such as Platform and Individual. Looking forward your reply. Siyu. >>> sc.external.pp.bbknn(mydata, batch_key=[""Platform"",""Individual_2""],n_pcs=50,set_op_mix_ratio=ratio). computing batch balanced neighbors. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/scanpy/external/pp/_bbknn.py"", line 134, in bbknn. return bbknn(. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/bbknn/__init__.py"", line 110, in bbknn. if batch_key not in adata.obs:. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/pandas/core/generic.py"", line 1721, in __contains__. return key in self._info_axis. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/pandas/core/indexes/base.py"", line 4071, in __contains__. hash(key). TypeError: unhashable type: 'list",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2004
https://github.com/scverse/scanpy/issues/2004:820,modifiability,pac,packages,820,"bbknn integrates multiple variables; Dear author,. Can bbknn integrate multiple variables？such as Platform and Individual. Looking forward your reply. Siyu. >>> sc.external.pp.bbknn(mydata, batch_key=[""Platform"",""Individual_2""],n_pcs=50,set_op_mix_ratio=ratio). computing batch balanced neighbors. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/scanpy/external/pp/_bbknn.py"", line 134, in bbknn. return bbknn(. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/bbknn/__init__.py"", line 110, in bbknn. if batch_key not in adata.obs:. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/pandas/core/generic.py"", line 1721, in __contains__. return key in self._info_axis. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/pandas/core/indexes/base.py"", line 4071, in __contains__. hash(key). TypeError: unhashable type: 'list",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2004
https://github.com/scverse/scanpy/issues/2004:272,performance,batch,batch,272,"bbknn integrates multiple variables; Dear author,. Can bbknn integrate multiple variables？such as Platform and Individual. Looking forward your reply. Siyu. >>> sc.external.pp.bbknn(mydata, batch_key=[""Platform"",""Individual_2""],n_pcs=50,set_op_mix_ratio=ratio). computing batch balanced neighbors. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/scanpy/external/pp/_bbknn.py"", line 134, in bbknn. return bbknn(. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/bbknn/__init__.py"", line 110, in bbknn. if batch_key not in adata.obs:. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/pandas/core/generic.py"", line 1721, in __contains__. return key in self._info_axis. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/pandas/core/indexes/base.py"", line 4071, in __contains__. hash(key). TypeError: unhashable type: 'list",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2004
https://github.com/scverse/scanpy/issues/2004:6,reliability,integr,integrates,6,"bbknn integrates multiple variables; Dear author,. Can bbknn integrate multiple variables？such as Platform and Individual. Looking forward your reply. Siyu. >>> sc.external.pp.bbknn(mydata, batch_key=[""Platform"",""Individual_2""],n_pcs=50,set_op_mix_ratio=ratio). computing batch balanced neighbors. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/scanpy/external/pp/_bbknn.py"", line 134, in bbknn. return bbknn(. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/bbknn/__init__.py"", line 110, in bbknn. if batch_key not in adata.obs:. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/pandas/core/generic.py"", line 1721, in __contains__. return key in self._info_axis. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/pandas/core/indexes/base.py"", line 4071, in __contains__. hash(key). TypeError: unhashable type: 'list",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2004
https://github.com/scverse/scanpy/issues/2004:61,reliability,integr,integrate,61,"bbknn integrates multiple variables; Dear author,. Can bbknn integrate multiple variables？such as Platform and Individual. Looking forward your reply. Siyu. >>> sc.external.pp.bbknn(mydata, batch_key=[""Platform"",""Individual_2""],n_pcs=50,set_op_mix_ratio=ratio). computing batch balanced neighbors. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/scanpy/external/pp/_bbknn.py"", line 134, in bbknn. return bbknn(. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/bbknn/__init__.py"", line 110, in bbknn. if batch_key not in adata.obs:. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/pandas/core/generic.py"", line 1721, in __contains__. return key in self._info_axis. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/pandas/core/indexes/base.py"", line 4071, in __contains__. hash(key). TypeError: unhashable type: 'list",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2004
https://github.com/scverse/scanpy/issues/2004:362,safety,modul,module,362,"bbknn integrates multiple variables; Dear author,. Can bbknn integrate multiple variables？such as Platform and Individual. Looking forward your reply. Siyu. >>> sc.external.pp.bbknn(mydata, batch_key=[""Platform"",""Individual_2""],n_pcs=50,set_op_mix_ratio=ratio). computing batch balanced neighbors. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/scanpy/external/pp/_bbknn.py"", line 134, in bbknn. return bbknn(. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/bbknn/__init__.py"", line 110, in bbknn. if batch_key not in adata.obs:. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/pandas/core/generic.py"", line 1721, in __contains__. return key in self._info_axis. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/pandas/core/indexes/base.py"", line 4071, in __contains__. hash(key). TypeError: unhashable type: 'list",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2004
https://github.com/scverse/scanpy/issues/2004:6,security,integr,integrates,6,"bbknn integrates multiple variables; Dear author,. Can bbknn integrate multiple variables？such as Platform and Individual. Looking forward your reply. Siyu. >>> sc.external.pp.bbknn(mydata, batch_key=[""Platform"",""Individual_2""],n_pcs=50,set_op_mix_ratio=ratio). computing batch balanced neighbors. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/scanpy/external/pp/_bbknn.py"", line 134, in bbknn. return bbknn(. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/bbknn/__init__.py"", line 110, in bbknn. if batch_key not in adata.obs:. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/pandas/core/generic.py"", line 1721, in __contains__. return key in self._info_axis. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/pandas/core/indexes/base.py"", line 4071, in __contains__. hash(key). TypeError: unhashable type: 'list",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2004
https://github.com/scverse/scanpy/issues/2004:42,security,auth,author,42,"bbknn integrates multiple variables; Dear author,. Can bbknn integrate multiple variables？such as Platform and Individual. Looking forward your reply. Siyu. >>> sc.external.pp.bbknn(mydata, batch_key=[""Platform"",""Individual_2""],n_pcs=50,set_op_mix_ratio=ratio). computing batch balanced neighbors. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/scanpy/external/pp/_bbknn.py"", line 134, in bbknn. return bbknn(. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/bbknn/__init__.py"", line 110, in bbknn. if batch_key not in adata.obs:. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/pandas/core/generic.py"", line 1721, in __contains__. return key in self._info_axis. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/pandas/core/indexes/base.py"", line 4071, in __contains__. hash(key). TypeError: unhashable type: 'list",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2004
https://github.com/scverse/scanpy/issues/2004:61,security,integr,integrate,61,"bbknn integrates multiple variables; Dear author,. Can bbknn integrate multiple variables？such as Platform and Individual. Looking forward your reply. Siyu. >>> sc.external.pp.bbknn(mydata, batch_key=[""Platform"",""Individual_2""],n_pcs=50,set_op_mix_ratio=ratio). computing batch balanced neighbors. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/scanpy/external/pp/_bbknn.py"", line 134, in bbknn. return bbknn(. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/bbknn/__init__.py"", line 110, in bbknn. if batch_key not in adata.obs:. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/pandas/core/generic.py"", line 1721, in __contains__. return key in self._info_axis. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/pandas/core/indexes/base.py"", line 4071, in __contains__. hash(key). TypeError: unhashable type: 'list",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2004
https://github.com/scverse/scanpy/issues/2004:887,security,hash,hash,887,"bbknn integrates multiple variables; Dear author,. Can bbknn integrate multiple variables？such as Platform and Individual. Looking forward your reply. Siyu. >>> sc.external.pp.bbknn(mydata, batch_key=[""Platform"",""Individual_2""],n_pcs=50,set_op_mix_ratio=ratio). computing batch balanced neighbors. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/scanpy/external/pp/_bbknn.py"", line 134, in bbknn. return bbknn(. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/bbknn/__init__.py"", line 110, in bbknn. if batch_key not in adata.obs:. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/pandas/core/generic.py"", line 1721, in __contains__. return key in self._info_axis. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/pandas/core/indexes/base.py"", line 4071, in __contains__. hash(key). TypeError: unhashable type: 'list",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2004
https://github.com/scverse/scanpy/issues/2004:6,testability,integr,integrates,6,"bbknn integrates multiple variables; Dear author,. Can bbknn integrate multiple variables？such as Platform and Individual. Looking forward your reply. Siyu. >>> sc.external.pp.bbknn(mydata, batch_key=[""Platform"",""Individual_2""],n_pcs=50,set_op_mix_ratio=ratio). computing batch balanced neighbors. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/scanpy/external/pp/_bbknn.py"", line 134, in bbknn. return bbknn(. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/bbknn/__init__.py"", line 110, in bbknn. if batch_key not in adata.obs:. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/pandas/core/generic.py"", line 1721, in __contains__. return key in self._info_axis. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/pandas/core/indexes/base.py"", line 4071, in __contains__. hash(key). TypeError: unhashable type: 'list",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2004
https://github.com/scverse/scanpy/issues/2004:61,testability,integr,integrate,61,"bbknn integrates multiple variables; Dear author,. Can bbknn integrate multiple variables？such as Platform and Individual. Looking forward your reply. Siyu. >>> sc.external.pp.bbknn(mydata, batch_key=[""Platform"",""Individual_2""],n_pcs=50,set_op_mix_ratio=ratio). computing batch balanced neighbors. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/scanpy/external/pp/_bbknn.py"", line 134, in bbknn. return bbknn(. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/bbknn/__init__.py"", line 110, in bbknn. if batch_key not in adata.obs:. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/pandas/core/generic.py"", line 1721, in __contains__. return key in self._info_axis. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/pandas/core/indexes/base.py"", line 4071, in __contains__. hash(key). TypeError: unhashable type: 'list",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2004
https://github.com/scverse/scanpy/issues/2004:298,testability,Trace,Traceback,298,"bbknn integrates multiple variables; Dear author,. Can bbknn integrate multiple variables？such as Platform and Individual. Looking forward your reply. Siyu. >>> sc.external.pp.bbknn(mydata, batch_key=[""Platform"",""Individual_2""],n_pcs=50,set_op_mix_ratio=ratio). computing batch balanced neighbors. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/scanpy/external/pp/_bbknn.py"", line 134, in bbknn. return bbknn(. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/bbknn/__init__.py"", line 110, in bbknn. if batch_key not in adata.obs:. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/pandas/core/generic.py"", line 1721, in __contains__. return key in self._info_axis. File ""/home/scCell2/miniconda3/lib/python3.8/site-packages/pandas/core/indexes/base.py"", line 4071, in __contains__. hash(key). TypeError: unhashable type: 'list",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2004
https://github.com/scverse/scanpy/issues/2005:171,deployability,version,version,171,"Rasterisation/vector_friendly not always working; - [x] I have checked that this issue has not already been reported. - [ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I tried setting `sc._settings.settings._vector_friendly=True`. This rasterises some of my figures, but not as expected. UMAPs: Rasterized when saved, but if I save figures they are no longer rasterized in the notebook when shown (leading to large notebook). If I do not save the figure then the notebook stays small. Scatterplots: Not saved rasterized. Not sure about the notebook. Maybe someone should also check other plots, such as violinplots with stripplots.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2005
https://github.com/scverse/scanpy/issues/2005:171,integrability,version,version,171,"Rasterisation/vector_friendly not always working; - [x] I have checked that this issue has not already been reported. - [ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I tried setting `sc._settings.settings._vector_friendly=True`. This rasterises some of my figures, but not as expected. UMAPs: Rasterized when saved, but if I save figures they are no longer rasterized in the notebook when shown (leading to large notebook). If I do not save the figure then the notebook stays small. Scatterplots: Not saved rasterized. Not sure about the notebook. Maybe someone should also check other plots, such as violinplots with stripplots.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2005
https://github.com/scverse/scanpy/issues/2005:171,modifiability,version,version,171,"Rasterisation/vector_friendly not always working; - [x] I have checked that this issue has not already been reported. - [ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I tried setting `sc._settings.settings._vector_friendly=True`. This rasterises some of my figures, but not as expected. UMAPs: Rasterized when saved, but if I save figures they are no longer rasterized in the notebook when shown (leading to large notebook). If I do not save the figure then the notebook stays small. Scatterplots: Not saved rasterized. Not sure about the notebook. Maybe someone should also check other plots, such as violinplots with stripplots.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2005
https://github.com/scverse/scanpy/issues/2005:131,usability,confirm,confirmed,131,"Rasterisation/vector_friendly not always working; - [x] I have checked that this issue has not already been reported. - [ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I tried setting `sc._settings.settings._vector_friendly=True`. This rasterises some of my figures, but not as expected. UMAPs: Rasterized when saved, but if I save figures they are no longer rasterized in the notebook when shown (leading to large notebook). If I do not save the figure then the notebook stays small. Scatterplots: Not saved rasterized. Not sure about the notebook. Maybe someone should also check other plots, such as violinplots with stripplots.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2005
https://github.com/scverse/scanpy/issues/2005:214,usability,confirm,confirmed,214,"Rasterisation/vector_friendly not always working; - [x] I have checked that this issue has not already been reported. - [ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I tried setting `sc._settings.settings._vector_friendly=True`. This rasterises some of my figures, but not as expected. UMAPs: Rasterized when saved, but if I save figures they are no longer rasterized in the notebook when shown (leading to large notebook). If I do not save the figure then the notebook stays small. Scatterplots: Not saved rasterized. Not sure about the notebook. Maybe someone should also check other plots, such as violinplots with stripplots.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2005
https://github.com/scverse/scanpy/issues/2006:294,deployability,Stack,StackedViolin,294,"Disable the ""scatter"" prefix in scanpy.pl.scatter; Hello,. Looking through the detailed documentation it appears as if many of the plotting functions have an option to set the filename prefix, e.g. `scanpy.pl.DotPlot.DEFAULT_SAVE_PREFIX`, `scanpy.pl.MatrixPlot.DEFAULT_SAVE_PREFIX`, `scanpy.pl.StackedViolin.DEFAULT_SAVE_PREFIX`, however, there appears to be no such option for scanpy.pl.scatter. . No matter what I do, every scatterplot is prefixed with 'scatter'. . For example: `sc.pl.scatter(adata, x='total_counts', y='pct_counts_mt', save = 'experimentname' + '_qc_pct_counts_mitochondrial.png')` comes out saved as `scattertest_qc_pct_counts_mitochondrial.png`. . Is there a particular reason the scatter plotting function lacks this option? Or perhaps am I just missing the way to disable this? I did already note scanpy.settings.figdir which lets me disable the creation of the 'figures' folder. Thanks!",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2006
https://github.com/scverse/scanpy/issues/2006:88,usability,document,documentation,88,"Disable the ""scatter"" prefix in scanpy.pl.scatter; Hello,. Looking through the detailed documentation it appears as if many of the plotting functions have an option to set the filename prefix, e.g. `scanpy.pl.DotPlot.DEFAULT_SAVE_PREFIX`, `scanpy.pl.MatrixPlot.DEFAULT_SAVE_PREFIX`, `scanpy.pl.StackedViolin.DEFAULT_SAVE_PREFIX`, however, there appears to be no such option for scanpy.pl.scatter. . No matter what I do, every scatterplot is prefixed with 'scatter'. . For example: `sc.pl.scatter(adata, x='total_counts', y='pct_counts_mt', save = 'experimentname' + '_qc_pct_counts_mitochondrial.png')` comes out saved as `scattertest_qc_pct_counts_mitochondrial.png`. . Is there a particular reason the scatter plotting function lacks this option? Or perhaps am I just missing the way to disable this? I did already note scanpy.settings.figdir which lets me disable the creation of the 'figures' folder. Thanks!",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2006
https://github.com/scverse/scanpy/issues/2007:495,availability,cluster,clustering,495,"Subsetted adata object not behaving as expected; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Hello, I am working with an `adata` object (`adata.shape` produces `(8648, 18074)`) that I have subset to only include 990 genes of interest (and only include cells that express my genes of interest), with the hopes of clustering cells based on expression of my genes of interest (I got this idea from issue #510). After I subset my `adata` object, I confirmed that the shape of `adata_sub` is as expected (`adata_sub.shape` produces `(6603, 990)`). However, after running a new embedding and clustering on `adata_sub`, I have noticed that I can plot genes that shouldn't be in `adata_sub` (but were in `adata`), and that when I run `sc.tl.rank_genes_groups` my results aren't restricted to my 990 genes of interest. I am guessing that I subsetted my data incorrectly (though, why would I have the correct shape?). ### Minimal code sample (that we can copy&paste without having any data). ```python. # subset adata to genes of interest. adata_sub = adata[:, [g in genes_list for g in adata.var_names]].copy(). # filter out cells that don't express any genes of interest. sc.pp.filter_cells(adata_sub, min_genes=1). # run new embedding and clustering. sc.pp.pca(adata_sub, n_comps=50, use_highly_variable=False, svd_solver='arpack'). sc.pp.neighbors(adata_sub). sc.tl.umap(adata_sub). sc.tl.leiden(adata_sub, key_added='leiden_sub'). ```. When I use `sc.pl.umap(adata_sub)` to plot expression of a gene that is _not_ one of my genes of interest, it is still plotted (I would expect an error telling me that the gene is not found in my `adata_sub` object). Similarly, the results of `sc.tl.rank_genes_groups(adata_sub, groupby='leiden_sub', key_added='rank_genes_sub', method='wilcoxon')` returns top ranked genes that are not",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2007
https://github.com/scverse/scanpy/issues/2007:769,availability,cluster,clustering,769,"Subsetted adata object not behaving as expected; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Hello, I am working with an `adata` object (`adata.shape` produces `(8648, 18074)`) that I have subset to only include 990 genes of interest (and only include cells that express my genes of interest), with the hopes of clustering cells based on expression of my genes of interest (I got this idea from issue #510). After I subset my `adata` object, I confirmed that the shape of `adata_sub` is as expected (`adata_sub.shape` produces `(6603, 990)`). However, after running a new embedding and clustering on `adata_sub`, I have noticed that I can plot genes that shouldn't be in `adata_sub` (but were in `adata`), and that when I run `sc.tl.rank_genes_groups` my results aren't restricted to my 990 genes of interest. I am guessing that I subsetted my data incorrectly (though, why would I have the correct shape?). ### Minimal code sample (that we can copy&paste without having any data). ```python. # subset adata to genes of interest. adata_sub = adata[:, [g in genes_list for g in adata.var_names]].copy(). # filter out cells that don't express any genes of interest. sc.pp.filter_cells(adata_sub, min_genes=1). # run new embedding and clustering. sc.pp.pca(adata_sub, n_comps=50, use_highly_variable=False, svd_solver='arpack'). sc.pp.neighbors(adata_sub). sc.tl.umap(adata_sub). sc.tl.leiden(adata_sub, key_added='leiden_sub'). ```. When I use `sc.pl.umap(adata_sub)` to plot expression of a gene that is _not_ one of my genes of interest, it is still plotted (I would expect an error telling me that the gene is not found in my `adata_sub` object). Similarly, the results of `sc.tl.rank_genes_groups(adata_sub, groupby='leiden_sub', key_added='rank_genes_sub', method='wilcoxon')` returns top ranked genes that are not",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2007
https://github.com/scverse/scanpy/issues/2007:1415,availability,cluster,clustering,1415,"d only include cells that express my genes of interest), with the hopes of clustering cells based on expression of my genes of interest (I got this idea from issue #510). After I subset my `adata` object, I confirmed that the shape of `adata_sub` is as expected (`adata_sub.shape` produces `(6603, 990)`). However, after running a new embedding and clustering on `adata_sub`, I have noticed that I can plot genes that shouldn't be in `adata_sub` (but were in `adata`), and that when I run `sc.tl.rank_genes_groups` my results aren't restricted to my 990 genes of interest. I am guessing that I subsetted my data incorrectly (though, why would I have the correct shape?). ### Minimal code sample (that we can copy&paste without having any data). ```python. # subset adata to genes of interest. adata_sub = adata[:, [g in genes_list for g in adata.var_names]].copy(). # filter out cells that don't express any genes of interest. sc.pp.filter_cells(adata_sub, min_genes=1). # run new embedding and clustering. sc.pp.pca(adata_sub, n_comps=50, use_highly_variable=False, svd_solver='arpack'). sc.pp.neighbors(adata_sub). sc.tl.umap(adata_sub). sc.tl.leiden(adata_sub, key_added='leiden_sub'). ```. When I use `sc.pl.umap(adata_sub)` to plot expression of a gene that is _not_ one of my genes of interest, it is still plotted (I would expect an error telling me that the gene is not found in my `adata_sub` object). Similarly, the results of `sc.tl.rank_genes_groups(adata_sub, groupby='leiden_sub', key_added='rank_genes_sub', method='wilcoxon')` returns top ranked genes that are not (or should not be) in my `adata_sub` object. Thank you for any help/clarification as to what's going on! #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.8.1. sinfo 0.3.4. -----. PIL 8.3.2. anyio NA. attr 21.2.0. babel 2.9.1. backcall 0.2.0. beta_ufunc NA. binom_ufunc NA. certifi 2019.11.28. cffi 1.14.6. chardet 3.0.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. debugpy 1.4.3. decorator 5.1.0. defusedx",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2007
https://github.com/scverse/scanpy/issues/2007:1760,availability,error,error,1760,"g and clustering on `adata_sub`, I have noticed that I can plot genes that shouldn't be in `adata_sub` (but were in `adata`), and that when I run `sc.tl.rank_genes_groups` my results aren't restricted to my 990 genes of interest. I am guessing that I subsetted my data incorrectly (though, why would I have the correct shape?). ### Minimal code sample (that we can copy&paste without having any data). ```python. # subset adata to genes of interest. adata_sub = adata[:, [g in genes_list for g in adata.var_names]].copy(). # filter out cells that don't express any genes of interest. sc.pp.filter_cells(adata_sub, min_genes=1). # run new embedding and clustering. sc.pp.pca(adata_sub, n_comps=50, use_highly_variable=False, svd_solver='arpack'). sc.pp.neighbors(adata_sub). sc.tl.umap(adata_sub). sc.tl.leiden(adata_sub, key_added='leiden_sub'). ```. When I use `sc.pl.umap(adata_sub)` to plot expression of a gene that is _not_ one of my genes of interest, it is still plotted (I would expect an error telling me that the gene is not found in my `adata_sub` object). Similarly, the results of `sc.tl.rank_genes_groups(adata_sub, groupby='leiden_sub', key_added='rank_genes_sub', method='wilcoxon')` returns top ranked genes that are not (or should not be) in my `adata_sub` object. Thank you for any help/clarification as to what's going on! #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.8.1. sinfo 0.3.4. -----. PIL 8.3.2. anyio NA. attr 21.2.0. babel 2.9.1. backcall 0.2.0. beta_ufunc NA. binom_ufunc NA. certifi 2019.11.28. cffi 1.14.6. chardet 3.0.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. debugpy 1.4.3. decorator 5.1.0. defusedxml 0.7.1. entrypoints 0.3. gi 3.36.0. gio NA. glib NA. gobject NA. gtk NA. h5py 3.4.0. idna 2.8. igraph 0.9.6. ipykernel 6.4.1. ipython_genutils 0.2.0. ipywidgets 7.6.4. jedi 0.18.0. jinja2 3.0.1. joblib 1.0.1. json5 NA. jsonschema 3.2.0. jupyter_server 1.11.0. jupyterlab_server 2.8.1. kiwisolver 1.3.2. leidenalg 0.8.7. llvmlite 0.37.0. mark",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2007
https://github.com/scverse/scanpy/issues/2007:170,deployability,version,version,170,"Subsetted adata object not behaving as expected; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Hello, I am working with an `adata` object (`adata.shape` produces `(8648, 18074)`) that I have subset to only include 990 genes of interest (and only include cells that express my genes of interest), with the hopes of clustering cells based on expression of my genes of interest (I got this idea from issue #510). After I subset my `adata` object, I confirmed that the shape of `adata_sub` is as expected (`adata_sub.shape` produces `(6603, 990)`). However, after running a new embedding and clustering on `adata_sub`, I have noticed that I can plot genes that shouldn't be in `adata_sub` (but were in `adata`), and that when I run `sc.tl.rank_genes_groups` my results aren't restricted to my 990 genes of interest. I am guessing that I subsetted my data incorrectly (though, why would I have the correct shape?). ### Minimal code sample (that we can copy&paste without having any data). ```python. # subset adata to genes of interest. adata_sub = adata[:, [g in genes_list for g in adata.var_names]].copy(). # filter out cells that don't express any genes of interest. sc.pp.filter_cells(adata_sub, min_genes=1). # run new embedding and clustering. sc.pp.pca(adata_sub, n_comps=50, use_highly_variable=False, svd_solver='arpack'). sc.pp.neighbors(adata_sub). sc.tl.umap(adata_sub). sc.tl.leiden(adata_sub, key_added='leiden_sub'). ```. When I use `sc.pl.umap(adata_sub)` to plot expression of a gene that is _not_ one of my genes of interest, it is still plotted (I would expect an error telling me that the gene is not found in my `adata_sub` object). Similarly, the results of `sc.tl.rank_genes_groups(adata_sub, groupby='leiden_sub', key_added='rank_genes_sub', method='wilcoxon')` returns top ranked genes that are not",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2007
https://github.com/scverse/scanpy/issues/2007:495,deployability,cluster,clustering,495,"Subsetted adata object not behaving as expected; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Hello, I am working with an `adata` object (`adata.shape` produces `(8648, 18074)`) that I have subset to only include 990 genes of interest (and only include cells that express my genes of interest), with the hopes of clustering cells based on expression of my genes of interest (I got this idea from issue #510). After I subset my `adata` object, I confirmed that the shape of `adata_sub` is as expected (`adata_sub.shape` produces `(6603, 990)`). However, after running a new embedding and clustering on `adata_sub`, I have noticed that I can plot genes that shouldn't be in `adata_sub` (but were in `adata`), and that when I run `sc.tl.rank_genes_groups` my results aren't restricted to my 990 genes of interest. I am guessing that I subsetted my data incorrectly (though, why would I have the correct shape?). ### Minimal code sample (that we can copy&paste without having any data). ```python. # subset adata to genes of interest. adata_sub = adata[:, [g in genes_list for g in adata.var_names]].copy(). # filter out cells that don't express any genes of interest. sc.pp.filter_cells(adata_sub, min_genes=1). # run new embedding and clustering. sc.pp.pca(adata_sub, n_comps=50, use_highly_variable=False, svd_solver='arpack'). sc.pp.neighbors(adata_sub). sc.tl.umap(adata_sub). sc.tl.leiden(adata_sub, key_added='leiden_sub'). ```. When I use `sc.pl.umap(adata_sub)` to plot expression of a gene that is _not_ one of my genes of interest, it is still plotted (I would expect an error telling me that the gene is not found in my `adata_sub` object). Similarly, the results of `sc.tl.rank_genes_groups(adata_sub, groupby='leiden_sub', key_added='rank_genes_sub', method='wilcoxon')` returns top ranked genes that are not",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2007
https://github.com/scverse/scanpy/issues/2007:769,deployability,cluster,clustering,769,"Subsetted adata object not behaving as expected; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Hello, I am working with an `adata` object (`adata.shape` produces `(8648, 18074)`) that I have subset to only include 990 genes of interest (and only include cells that express my genes of interest), with the hopes of clustering cells based on expression of my genes of interest (I got this idea from issue #510). After I subset my `adata` object, I confirmed that the shape of `adata_sub` is as expected (`adata_sub.shape` produces `(6603, 990)`). However, after running a new embedding and clustering on `adata_sub`, I have noticed that I can plot genes that shouldn't be in `adata_sub` (but were in `adata`), and that when I run `sc.tl.rank_genes_groups` my results aren't restricted to my 990 genes of interest. I am guessing that I subsetted my data incorrectly (though, why would I have the correct shape?). ### Minimal code sample (that we can copy&paste without having any data). ```python. # subset adata to genes of interest. adata_sub = adata[:, [g in genes_list for g in adata.var_names]].copy(). # filter out cells that don't express any genes of interest. sc.pp.filter_cells(adata_sub, min_genes=1). # run new embedding and clustering. sc.pp.pca(adata_sub, n_comps=50, use_highly_variable=False, svd_solver='arpack'). sc.pp.neighbors(adata_sub). sc.tl.umap(adata_sub). sc.tl.leiden(adata_sub, key_added='leiden_sub'). ```. When I use `sc.pl.umap(adata_sub)` to plot expression of a gene that is _not_ one of my genes of interest, it is still plotted (I would expect an error telling me that the gene is not found in my `adata_sub` object). Similarly, the results of `sc.tl.rank_genes_groups(adata_sub, groupby='leiden_sub', key_added='rank_genes_sub', method='wilcoxon')` returns top ranked genes that are not",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2007
https://github.com/scverse/scanpy/issues/2007:1415,deployability,cluster,clustering,1415,"d only include cells that express my genes of interest), with the hopes of clustering cells based on expression of my genes of interest (I got this idea from issue #510). After I subset my `adata` object, I confirmed that the shape of `adata_sub` is as expected (`adata_sub.shape` produces `(6603, 990)`). However, after running a new embedding and clustering on `adata_sub`, I have noticed that I can plot genes that shouldn't be in `adata_sub` (but were in `adata`), and that when I run `sc.tl.rank_genes_groups` my results aren't restricted to my 990 genes of interest. I am guessing that I subsetted my data incorrectly (though, why would I have the correct shape?). ### Minimal code sample (that we can copy&paste without having any data). ```python. # subset adata to genes of interest. adata_sub = adata[:, [g in genes_list for g in adata.var_names]].copy(). # filter out cells that don't express any genes of interest. sc.pp.filter_cells(adata_sub, min_genes=1). # run new embedding and clustering. sc.pp.pca(adata_sub, n_comps=50, use_highly_variable=False, svd_solver='arpack'). sc.pp.neighbors(adata_sub). sc.tl.umap(adata_sub). sc.tl.leiden(adata_sub, key_added='leiden_sub'). ```. When I use `sc.pl.umap(adata_sub)` to plot expression of a gene that is _not_ one of my genes of interest, it is still plotted (I would expect an error telling me that the gene is not found in my `adata_sub` object). Similarly, the results of `sc.tl.rank_genes_groups(adata_sub, groupby='leiden_sub', key_added='rank_genes_sub', method='wilcoxon')` returns top ranked genes that are not (or should not be) in my `adata_sub` object. Thank you for any help/clarification as to what's going on! #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.8.1. sinfo 0.3.4. -----. PIL 8.3.2. anyio NA. attr 21.2.0. babel 2.9.1. backcall 0.2.0. beta_ufunc NA. binom_ufunc NA. certifi 2019.11.28. cffi 1.14.6. chardet 3.0.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. debugpy 1.4.3. decorator 5.1.0. defusedx",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2007
https://github.com/scverse/scanpy/issues/2007:2111,deployability,Version,Versions,2111,"(that we can copy&paste without having any data). ```python. # subset adata to genes of interest. adata_sub = adata[:, [g in genes_list for g in adata.var_names]].copy(). # filter out cells that don't express any genes of interest. sc.pp.filter_cells(adata_sub, min_genes=1). # run new embedding and clustering. sc.pp.pca(adata_sub, n_comps=50, use_highly_variable=False, svd_solver='arpack'). sc.pp.neighbors(adata_sub). sc.tl.umap(adata_sub). sc.tl.leiden(adata_sub, key_added='leiden_sub'). ```. When I use `sc.pl.umap(adata_sub)` to plot expression of a gene that is _not_ one of my genes of interest, it is still plotted (I would expect an error telling me that the gene is not found in my `adata_sub` object). Similarly, the results of `sc.tl.rank_genes_groups(adata_sub, groupby='leiden_sub', key_added='rank_genes_sub', method='wilcoxon')` returns top ranked genes that are not (or should not be) in my `adata_sub` object. Thank you for any help/clarification as to what's going on! #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.8.1. sinfo 0.3.4. -----. PIL 8.3.2. anyio NA. attr 21.2.0. babel 2.9.1. backcall 0.2.0. beta_ufunc NA. binom_ufunc NA. certifi 2019.11.28. cffi 1.14.6. chardet 3.0.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. debugpy 1.4.3. decorator 5.1.0. defusedxml 0.7.1. entrypoints 0.3. gi 3.36.0. gio NA. glib NA. gobject NA. gtk NA. h5py 3.4.0. idna 2.8. igraph 0.9.6. ipykernel 6.4.1. ipython_genutils 0.2.0. ipywidgets 7.6.4. jedi 0.18.0. jinja2 3.0.1. joblib 1.0.1. json5 NA. jsonschema 3.2.0. jupyter_server 1.11.0. jupyterlab_server 2.8.1. kiwisolver 1.3.2. leidenalg 0.8.7. llvmlite 0.37.0. markupsafe 2.0.1. matplotlib 3.4.3. matplotlib_inline NA. mpl_toolkits NA. natsort 7.1.1. nbclassic NA. nbformat 5.1.3. nbinom_ufunc NA. networkx 2.6.3. numba 0.54.0. numexpr 2.7.3. numpy 1.20.0. packaging 21.0. pandas 1.3.2. parso 0.8.2. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prometheus_client NA. prompt_toolkit 3.0.20. ptyprocess 0.7.0. pv",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2007
https://github.com/scverse/scanpy/issues/2007:3911,deployability,log,logical,3911,"should not be) in my `adata_sub` object. Thank you for any help/clarification as to what's going on! #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.8.1. sinfo 0.3.4. -----. PIL 8.3.2. anyio NA. attr 21.2.0. babel 2.9.1. backcall 0.2.0. beta_ufunc NA. binom_ufunc NA. certifi 2019.11.28. cffi 1.14.6. chardet 3.0.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. debugpy 1.4.3. decorator 5.1.0. defusedxml 0.7.1. entrypoints 0.3. gi 3.36.0. gio NA. glib NA. gobject NA. gtk NA. h5py 3.4.0. idna 2.8. igraph 0.9.6. ipykernel 6.4.1. ipython_genutils 0.2.0. ipywidgets 7.6.4. jedi 0.18.0. jinja2 3.0.1. joblib 1.0.1. json5 NA. jsonschema 3.2.0. jupyter_server 1.11.0. jupyterlab_server 2.8.1. kiwisolver 1.3.2. leidenalg 0.8.7. llvmlite 0.37.0. markupsafe 2.0.1. matplotlib 3.4.3. matplotlib_inline NA. mpl_toolkits NA. natsort 7.1.1. nbclassic NA. nbformat 5.1.3. nbinom_ufunc NA. networkx 2.6.3. numba 0.54.0. numexpr 2.7.3. numpy 1.20.0. packaging 21.0. pandas 1.3.2. parso 0.8.2. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prometheus_client NA. prompt_toolkit 3.0.20. ptyprocess 0.7.0. pvectorc NA. pycparser 2.20. pydev_ipython NA. pydevconsole NA. pydevd 2.4.1. pydevd_concurrency_analyser NA. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.10.0. pynndescent 0.5.4. pyparsing 2.4.7. pyrsistent NA. pytz 2021.1. requests 2.22.0. scipy 1.7.1. seaborn 0.11.2. send2trash NA. sitecustomize NA. six 1.14.0. sklearn 0.24.2. sniffio 1.2.0. statsmodels 0.13.0rc0. storemagic NA. tables 3.6.1. terminado 0.12.1. texttable 1.6.4. tornado 6.1. traitlets 5.1.0. typing_extensions NA. umap 0.5.1. urllib3 1.25.8. wcwidth 0.2.5. websocket 1.2.1. zmq 22.3.0. -----. IPython 7.27.0. jupyter_client 7.0.2. jupyter_core 4.7.1. jupyterlab 3.1.11. notebook 6.4.3. -----. Python 3.8.10 (default, Jun 2 2021, 10:49:15) [GCC 9.4.0]. Linux-5.10.25-linuxkit-x86_64-with-glibc2.29. 6 logical CPU cores, x86_64. -----. Session information updated at 2021-09-30 18:02. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2007
https://github.com/scverse/scanpy/issues/2007:3965,deployability,updat,updated,3965,"should not be) in my `adata_sub` object. Thank you for any help/clarification as to what's going on! #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.8.1. sinfo 0.3.4. -----. PIL 8.3.2. anyio NA. attr 21.2.0. babel 2.9.1. backcall 0.2.0. beta_ufunc NA. binom_ufunc NA. certifi 2019.11.28. cffi 1.14.6. chardet 3.0.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. debugpy 1.4.3. decorator 5.1.0. defusedxml 0.7.1. entrypoints 0.3. gi 3.36.0. gio NA. glib NA. gobject NA. gtk NA. h5py 3.4.0. idna 2.8. igraph 0.9.6. ipykernel 6.4.1. ipython_genutils 0.2.0. ipywidgets 7.6.4. jedi 0.18.0. jinja2 3.0.1. joblib 1.0.1. json5 NA. jsonschema 3.2.0. jupyter_server 1.11.0. jupyterlab_server 2.8.1. kiwisolver 1.3.2. leidenalg 0.8.7. llvmlite 0.37.0. markupsafe 2.0.1. matplotlib 3.4.3. matplotlib_inline NA. mpl_toolkits NA. natsort 7.1.1. nbclassic NA. nbformat 5.1.3. nbinom_ufunc NA. networkx 2.6.3. numba 0.54.0. numexpr 2.7.3. numpy 1.20.0. packaging 21.0. pandas 1.3.2. parso 0.8.2. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prometheus_client NA. prompt_toolkit 3.0.20. ptyprocess 0.7.0. pvectorc NA. pycparser 2.20. pydev_ipython NA. pydevconsole NA. pydevd 2.4.1. pydevd_concurrency_analyser NA. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.10.0. pynndescent 0.5.4. pyparsing 2.4.7. pyrsistent NA. pytz 2021.1. requests 2.22.0. scipy 1.7.1. seaborn 0.11.2. send2trash NA. sitecustomize NA. six 1.14.0. sklearn 0.24.2. sniffio 1.2.0. statsmodels 0.13.0rc0. storemagic NA. tables 3.6.1. terminado 0.12.1. texttable 1.6.4. tornado 6.1. traitlets 5.1.0. typing_extensions NA. umap 0.5.1. urllib3 1.25.8. wcwidth 0.2.5. websocket 1.2.1. zmq 22.3.0. -----. IPython 7.27.0. jupyter_client 7.0.2. jupyter_core 4.7.1. jupyterlab 3.1.11. notebook 6.4.3. -----. Python 3.8.10 (default, Jun 2 2021, 10:49:15) [GCC 9.4.0]. Linux-5.10.25-linuxkit-x86_64-with-glibc2.29. 6 logical CPU cores, x86_64. -----. Session information updated at 2021-09-30 18:02. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2007
https://github.com/scverse/scanpy/issues/2007:3919,energy efficiency,CPU,CPU,3919,"should not be) in my `adata_sub` object. Thank you for any help/clarification as to what's going on! #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.8.1. sinfo 0.3.4. -----. PIL 8.3.2. anyio NA. attr 21.2.0. babel 2.9.1. backcall 0.2.0. beta_ufunc NA. binom_ufunc NA. certifi 2019.11.28. cffi 1.14.6. chardet 3.0.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. debugpy 1.4.3. decorator 5.1.0. defusedxml 0.7.1. entrypoints 0.3. gi 3.36.0. gio NA. glib NA. gobject NA. gtk NA. h5py 3.4.0. idna 2.8. igraph 0.9.6. ipykernel 6.4.1. ipython_genutils 0.2.0. ipywidgets 7.6.4. jedi 0.18.0. jinja2 3.0.1. joblib 1.0.1. json5 NA. jsonschema 3.2.0. jupyter_server 1.11.0. jupyterlab_server 2.8.1. kiwisolver 1.3.2. leidenalg 0.8.7. llvmlite 0.37.0. markupsafe 2.0.1. matplotlib 3.4.3. matplotlib_inline NA. mpl_toolkits NA. natsort 7.1.1. nbclassic NA. nbformat 5.1.3. nbinom_ufunc NA. networkx 2.6.3. numba 0.54.0. numexpr 2.7.3. numpy 1.20.0. packaging 21.0. pandas 1.3.2. parso 0.8.2. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prometheus_client NA. prompt_toolkit 3.0.20. ptyprocess 0.7.0. pvectorc NA. pycparser 2.20. pydev_ipython NA. pydevconsole NA. pydevd 2.4.1. pydevd_concurrency_analyser NA. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.10.0. pynndescent 0.5.4. pyparsing 2.4.7. pyrsistent NA. pytz 2021.1. requests 2.22.0. scipy 1.7.1. seaborn 0.11.2. send2trash NA. sitecustomize NA. six 1.14.0. sklearn 0.24.2. sniffio 1.2.0. statsmodels 0.13.0rc0. storemagic NA. tables 3.6.1. terminado 0.12.1. texttable 1.6.4. tornado 6.1. traitlets 5.1.0. typing_extensions NA. umap 0.5.1. urllib3 1.25.8. wcwidth 0.2.5. websocket 1.2.1. zmq 22.3.0. -----. IPython 7.27.0. jupyter_client 7.0.2. jupyter_core 4.7.1. jupyterlab 3.1.11. notebook 6.4.3. -----. Python 3.8.10 (default, Jun 2 2021, 10:49:15) [GCC 9.4.0]. Linux-5.10.25-linuxkit-x86_64-with-glibc2.29. 6 logical CPU cores, x86_64. -----. Session information updated at 2021-09-30 18:02. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2007
https://github.com/scverse/scanpy/issues/2007:3923,energy efficiency,core,cores,3923,"should not be) in my `adata_sub` object. Thank you for any help/clarification as to what's going on! #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.8.1. sinfo 0.3.4. -----. PIL 8.3.2. anyio NA. attr 21.2.0. babel 2.9.1. backcall 0.2.0. beta_ufunc NA. binom_ufunc NA. certifi 2019.11.28. cffi 1.14.6. chardet 3.0.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. debugpy 1.4.3. decorator 5.1.0. defusedxml 0.7.1. entrypoints 0.3. gi 3.36.0. gio NA. glib NA. gobject NA. gtk NA. h5py 3.4.0. idna 2.8. igraph 0.9.6. ipykernel 6.4.1. ipython_genutils 0.2.0. ipywidgets 7.6.4. jedi 0.18.0. jinja2 3.0.1. joblib 1.0.1. json5 NA. jsonschema 3.2.0. jupyter_server 1.11.0. jupyterlab_server 2.8.1. kiwisolver 1.3.2. leidenalg 0.8.7. llvmlite 0.37.0. markupsafe 2.0.1. matplotlib 3.4.3. matplotlib_inline NA. mpl_toolkits NA. natsort 7.1.1. nbclassic NA. nbformat 5.1.3. nbinom_ufunc NA. networkx 2.6.3. numba 0.54.0. numexpr 2.7.3. numpy 1.20.0. packaging 21.0. pandas 1.3.2. parso 0.8.2. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prometheus_client NA. prompt_toolkit 3.0.20. ptyprocess 0.7.0. pvectorc NA. pycparser 2.20. pydev_ipython NA. pydevconsole NA. pydevd 2.4.1. pydevd_concurrency_analyser NA. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.10.0. pynndescent 0.5.4. pyparsing 2.4.7. pyrsistent NA. pytz 2021.1. requests 2.22.0. scipy 1.7.1. seaborn 0.11.2. send2trash NA. sitecustomize NA. six 1.14.0. sklearn 0.24.2. sniffio 1.2.0. statsmodels 0.13.0rc0. storemagic NA. tables 3.6.1. terminado 0.12.1. texttable 1.6.4. tornado 6.1. traitlets 5.1.0. typing_extensions NA. umap 0.5.1. urllib3 1.25.8. wcwidth 0.2.5. websocket 1.2.1. zmq 22.3.0. -----. IPython 7.27.0. jupyter_client 7.0.2. jupyter_core 4.7.1. jupyterlab 3.1.11. notebook 6.4.3. -----. Python 3.8.10 (default, Jun 2 2021, 10:49:15) [GCC 9.4.0]. Linux-5.10.25-linuxkit-x86_64-with-glibc2.29. 6 logical CPU cores, x86_64. -----. Session information updated at 2021-09-30 18:02. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2007
https://github.com/scverse/scanpy/issues/2007:0,integrability,Sub,Subsetted,0,"Subsetted adata object not behaving as expected; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Hello, I am working with an `adata` object (`adata.shape` produces `(8648, 18074)`) that I have subset to only include 990 genes of interest (and only include cells that express my genes of interest), with the hopes of clustering cells based on expression of my genes of interest (I got this idea from issue #510). After I subset my `adata` object, I confirmed that the shape of `adata_sub` is as expected (`adata_sub.shape` produces `(6603, 990)`). However, after running a new embedding and clustering on `adata_sub`, I have noticed that I can plot genes that shouldn't be in `adata_sub` (but were in `adata`), and that when I run `sc.tl.rank_genes_groups` my results aren't restricted to my 990 genes of interest. I am guessing that I subsetted my data incorrectly (though, why would I have the correct shape?). ### Minimal code sample (that we can copy&paste without having any data). ```python. # subset adata to genes of interest. adata_sub = adata[:, [g in genes_list for g in adata.var_names]].copy(). # filter out cells that don't express any genes of interest. sc.pp.filter_cells(adata_sub, min_genes=1). # run new embedding and clustering. sc.pp.pca(adata_sub, n_comps=50, use_highly_variable=False, svd_solver='arpack'). sc.pp.neighbors(adata_sub). sc.tl.umap(adata_sub). sc.tl.leiden(adata_sub, key_added='leiden_sub'). ```. When I use `sc.pl.umap(adata_sub)` to plot expression of a gene that is _not_ one of my genes of interest, it is still plotted (I would expect an error telling me that the gene is not found in my `adata_sub` object). Similarly, the results of `sc.tl.rank_genes_groups(adata_sub, groupby='leiden_sub', key_added='rank_genes_sub', method='wilcoxon')` returns top ranked genes that are not",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2007
https://github.com/scverse/scanpy/issues/2007:170,integrability,version,version,170,"Subsetted adata object not behaving as expected; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Hello, I am working with an `adata` object (`adata.shape` produces `(8648, 18074)`) that I have subset to only include 990 genes of interest (and only include cells that express my genes of interest), with the hopes of clustering cells based on expression of my genes of interest (I got this idea from issue #510). After I subset my `adata` object, I confirmed that the shape of `adata_sub` is as expected (`adata_sub.shape` produces `(6603, 990)`). However, after running a new embedding and clustering on `adata_sub`, I have noticed that I can plot genes that shouldn't be in `adata_sub` (but were in `adata`), and that when I run `sc.tl.rank_genes_groups` my results aren't restricted to my 990 genes of interest. I am guessing that I subsetted my data incorrectly (though, why would I have the correct shape?). ### Minimal code sample (that we can copy&paste without having any data). ```python. # subset adata to genes of interest. adata_sub = adata[:, [g in genes_list for g in adata.var_names]].copy(). # filter out cells that don't express any genes of interest. sc.pp.filter_cells(adata_sub, min_genes=1). # run new embedding and clustering. sc.pp.pca(adata_sub, n_comps=50, use_highly_variable=False, svd_solver='arpack'). sc.pp.neighbors(adata_sub). sc.tl.umap(adata_sub). sc.tl.leiden(adata_sub, key_added='leiden_sub'). ```. When I use `sc.pl.umap(adata_sub)` to plot expression of a gene that is _not_ one of my genes of interest, it is still plotted (I would expect an error telling me that the gene is not found in my `adata_sub` object). Similarly, the results of `sc.tl.rank_genes_groups(adata_sub, groupby='leiden_sub', key_added='rank_genes_sub', method='wilcoxon')` returns top ranked genes that are not",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2007
https://github.com/scverse/scanpy/issues/2007:372,integrability,sub,subset,372,"Subsetted adata object not behaving as expected; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Hello, I am working with an `adata` object (`adata.shape` produces `(8648, 18074)`) that I have subset to only include 990 genes of interest (and only include cells that express my genes of interest), with the hopes of clustering cells based on expression of my genes of interest (I got this idea from issue #510). After I subset my `adata` object, I confirmed that the shape of `adata_sub` is as expected (`adata_sub.shape` produces `(6603, 990)`). However, after running a new embedding and clustering on `adata_sub`, I have noticed that I can plot genes that shouldn't be in `adata_sub` (but were in `adata`), and that when I run `sc.tl.rank_genes_groups` my results aren't restricted to my 990 genes of interest. I am guessing that I subsetted my data incorrectly (though, why would I have the correct shape?). ### Minimal code sample (that we can copy&paste without having any data). ```python. # subset adata to genes of interest. adata_sub = adata[:, [g in genes_list for g in adata.var_names]].copy(). # filter out cells that don't express any genes of interest. sc.pp.filter_cells(adata_sub, min_genes=1). # run new embedding and clustering. sc.pp.pca(adata_sub, n_comps=50, use_highly_variable=False, svd_solver='arpack'). sc.pp.neighbors(adata_sub). sc.tl.umap(adata_sub). sc.tl.leiden(adata_sub, key_added='leiden_sub'). ```. When I use `sc.pl.umap(adata_sub)` to plot expression of a gene that is _not_ one of my genes of interest, it is still plotted (I would expect an error telling me that the gene is not found in my `adata_sub` object). Similarly, the results of `sc.tl.rank_genes_groups(adata_sub, groupby='leiden_sub', key_added='rank_genes_sub', method='wilcoxon')` returns top ranked genes that are not",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2007
https://github.com/scverse/scanpy/issues/2007:599,integrability,sub,subset,599,"Subsetted adata object not behaving as expected; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Hello, I am working with an `adata` object (`adata.shape` produces `(8648, 18074)`) that I have subset to only include 990 genes of interest (and only include cells that express my genes of interest), with the hopes of clustering cells based on expression of my genes of interest (I got this idea from issue #510). After I subset my `adata` object, I confirmed that the shape of `adata_sub` is as expected (`adata_sub.shape` produces `(6603, 990)`). However, after running a new embedding and clustering on `adata_sub`, I have noticed that I can plot genes that shouldn't be in `adata_sub` (but were in `adata`), and that when I run `sc.tl.rank_genes_groups` my results aren't restricted to my 990 genes of interest. I am guessing that I subsetted my data incorrectly (though, why would I have the correct shape?). ### Minimal code sample (that we can copy&paste without having any data). ```python. # subset adata to genes of interest. adata_sub = adata[:, [g in genes_list for g in adata.var_names]].copy(). # filter out cells that don't express any genes of interest. sc.pp.filter_cells(adata_sub, min_genes=1). # run new embedding and clustering. sc.pp.pca(adata_sub, n_comps=50, use_highly_variable=False, svd_solver='arpack'). sc.pp.neighbors(adata_sub). sc.tl.umap(adata_sub). sc.tl.leiden(adata_sub, key_added='leiden_sub'). ```. When I use `sc.pl.umap(adata_sub)` to plot expression of a gene that is _not_ one of my genes of interest, it is still plotted (I would expect an error telling me that the gene is not found in my `adata_sub` object). Similarly, the results of `sc.tl.rank_genes_groups(adata_sub, groupby='leiden_sub', key_added='rank_genes_sub', method='wilcoxon')` returns top ranked genes that are not",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2007
https://github.com/scverse/scanpy/issues/2007:1014,integrability,sub,subsetted,1014,"ect not behaving as expected; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Hello, I am working with an `adata` object (`adata.shape` produces `(8648, 18074)`) that I have subset to only include 990 genes of interest (and only include cells that express my genes of interest), with the hopes of clustering cells based on expression of my genes of interest (I got this idea from issue #510). After I subset my `adata` object, I confirmed that the shape of `adata_sub` is as expected (`adata_sub.shape` produces `(6603, 990)`). However, after running a new embedding and clustering on `adata_sub`, I have noticed that I can plot genes that shouldn't be in `adata_sub` (but were in `adata`), and that when I run `sc.tl.rank_genes_groups` my results aren't restricted to my 990 genes of interest. I am guessing that I subsetted my data incorrectly (though, why would I have the correct shape?). ### Minimal code sample (that we can copy&paste without having any data). ```python. # subset adata to genes of interest. adata_sub = adata[:, [g in genes_list for g in adata.var_names]].copy(). # filter out cells that don't express any genes of interest. sc.pp.filter_cells(adata_sub, min_genes=1). # run new embedding and clustering. sc.pp.pca(adata_sub, n_comps=50, use_highly_variable=False, svd_solver='arpack'). sc.pp.neighbors(adata_sub). sc.tl.umap(adata_sub). sc.tl.leiden(adata_sub, key_added='leiden_sub'). ```. When I use `sc.pl.umap(adata_sub)` to plot expression of a gene that is _not_ one of my genes of interest, it is still plotted (I would expect an error telling me that the gene is not found in my `adata_sub` object). Similarly, the results of `sc.tl.rank_genes_groups(adata_sub, groupby='leiden_sub', key_added='rank_genes_sub', method='wilcoxon')` returns top ranked genes that are not (or should not be)",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2007
https://github.com/scverse/scanpy/issues/2007:1178,integrability,sub,subset,1178,"scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Hello, I am working with an `adata` object (`adata.shape` produces `(8648, 18074)`) that I have subset to only include 990 genes of interest (and only include cells that express my genes of interest), with the hopes of clustering cells based on expression of my genes of interest (I got this idea from issue #510). After I subset my `adata` object, I confirmed that the shape of `adata_sub` is as expected (`adata_sub.shape` produces `(6603, 990)`). However, after running a new embedding and clustering on `adata_sub`, I have noticed that I can plot genes that shouldn't be in `adata_sub` (but were in `adata`), and that when I run `sc.tl.rank_genes_groups` my results aren't restricted to my 990 genes of interest. I am guessing that I subsetted my data incorrectly (though, why would I have the correct shape?). ### Minimal code sample (that we can copy&paste without having any data). ```python. # subset adata to genes of interest. adata_sub = adata[:, [g in genes_list for g in adata.var_names]].copy(). # filter out cells that don't express any genes of interest. sc.pp.filter_cells(adata_sub, min_genes=1). # run new embedding and clustering. sc.pp.pca(adata_sub, n_comps=50, use_highly_variable=False, svd_solver='arpack'). sc.pp.neighbors(adata_sub). sc.tl.umap(adata_sub). sc.tl.leiden(adata_sub, key_added='leiden_sub'). ```. When I use `sc.pl.umap(adata_sub)` to plot expression of a gene that is _not_ one of my genes of interest, it is still plotted (I would expect an error telling me that the gene is not found in my `adata_sub` object). Similarly, the results of `sc.tl.rank_genes_groups(adata_sub, groupby='leiden_sub', key_added='rank_genes_sub', method='wilcoxon')` returns top ranked genes that are not (or should not be) in my `adata_sub` object. Thank you for any help/clarification as to what's going on! #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.8.1. sinfo 0.3.4. ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2007
https://github.com/scverse/scanpy/issues/2007:1288,integrability,filter,filter,1288,"king with an `adata` object (`adata.shape` produces `(8648, 18074)`) that I have subset to only include 990 genes of interest (and only include cells that express my genes of interest), with the hopes of clustering cells based on expression of my genes of interest (I got this idea from issue #510). After I subset my `adata` object, I confirmed that the shape of `adata_sub` is as expected (`adata_sub.shape` produces `(6603, 990)`). However, after running a new embedding and clustering on `adata_sub`, I have noticed that I can plot genes that shouldn't be in `adata_sub` (but were in `adata`), and that when I run `sc.tl.rank_genes_groups` my results aren't restricted to my 990 genes of interest. I am guessing that I subsetted my data incorrectly (though, why would I have the correct shape?). ### Minimal code sample (that we can copy&paste without having any data). ```python. # subset adata to genes of interest. adata_sub = adata[:, [g in genes_list for g in adata.var_names]].copy(). # filter out cells that don't express any genes of interest. sc.pp.filter_cells(adata_sub, min_genes=1). # run new embedding and clustering. sc.pp.pca(adata_sub, n_comps=50, use_highly_variable=False, svd_solver='arpack'). sc.pp.neighbors(adata_sub). sc.tl.umap(adata_sub). sc.tl.leiden(adata_sub, key_added='leiden_sub'). ```. When I use `sc.pl.umap(adata_sub)` to plot expression of a gene that is _not_ one of my genes of interest, it is still plotted (I would expect an error telling me that the gene is not found in my `adata_sub` object). Similarly, the results of `sc.tl.rank_genes_groups(adata_sub, groupby='leiden_sub', key_added='rank_genes_sub', method='wilcoxon')` returns top ranked genes that are not (or should not be) in my `adata_sub` object. Thank you for any help/clarification as to what's going on! #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.8.1. sinfo 0.3.4. -----. PIL 8.3.2. anyio NA. attr 21.2.0. babel 2.9.1. backcall 0.2.0. beta_ufunc NA. binom_ufunc NA. certifi 2",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2007
https://github.com/scverse/scanpy/issues/2007:2111,integrability,Version,Versions,2111,"(that we can copy&paste without having any data). ```python. # subset adata to genes of interest. adata_sub = adata[:, [g in genes_list for g in adata.var_names]].copy(). # filter out cells that don't express any genes of interest. sc.pp.filter_cells(adata_sub, min_genes=1). # run new embedding and clustering. sc.pp.pca(adata_sub, n_comps=50, use_highly_variable=False, svd_solver='arpack'). sc.pp.neighbors(adata_sub). sc.tl.umap(adata_sub). sc.tl.leiden(adata_sub, key_added='leiden_sub'). ```. When I use `sc.pl.umap(adata_sub)` to plot expression of a gene that is _not_ one of my genes of interest, it is still plotted (I would expect an error telling me that the gene is not found in my `adata_sub` object). Similarly, the results of `sc.tl.rank_genes_groups(adata_sub, groupby='leiden_sub', key_added='rank_genes_sub', method='wilcoxon')` returns top ranked genes that are not (or should not be) in my `adata_sub` object. Thank you for any help/clarification as to what's going on! #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.8.1. sinfo 0.3.4. -----. PIL 8.3.2. anyio NA. attr 21.2.0. babel 2.9.1. backcall 0.2.0. beta_ufunc NA. binom_ufunc NA. certifi 2019.11.28. cffi 1.14.6. chardet 3.0.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. debugpy 1.4.3. decorator 5.1.0. defusedxml 0.7.1. entrypoints 0.3. gi 3.36.0. gio NA. glib NA. gobject NA. gtk NA. h5py 3.4.0. idna 2.8. igraph 0.9.6. ipykernel 6.4.1. ipython_genutils 0.2.0. ipywidgets 7.6.4. jedi 0.18.0. jinja2 3.0.1. joblib 1.0.1. json5 NA. jsonschema 3.2.0. jupyter_server 1.11.0. jupyterlab_server 2.8.1. kiwisolver 1.3.2. leidenalg 0.8.7. llvmlite 0.37.0. markupsafe 2.0.1. matplotlib 3.4.3. matplotlib_inline NA. mpl_toolkits NA. natsort 7.1.1. nbclassic NA. nbformat 5.1.3. nbinom_ufunc NA. networkx 2.6.3. numba 0.54.0. numexpr 2.7.3. numpy 1.20.0. packaging 21.0. pandas 1.3.2. parso 0.8.2. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prometheus_client NA. prompt_toolkit 3.0.20. ptyprocess 0.7.0. pv",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2007
https://github.com/scverse/scanpy/issues/2007:170,modifiability,version,version,170,"Subsetted adata object not behaving as expected; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Hello, I am working with an `adata` object (`adata.shape` produces `(8648, 18074)`) that I have subset to only include 990 genes of interest (and only include cells that express my genes of interest), with the hopes of clustering cells based on expression of my genes of interest (I got this idea from issue #510). After I subset my `adata` object, I confirmed that the shape of `adata_sub` is as expected (`adata_sub.shape` produces `(6603, 990)`). However, after running a new embedding and clustering on `adata_sub`, I have noticed that I can plot genes that shouldn't be in `adata_sub` (but were in `adata`), and that when I run `sc.tl.rank_genes_groups` my results aren't restricted to my 990 genes of interest. I am guessing that I subsetted my data incorrectly (though, why would I have the correct shape?). ### Minimal code sample (that we can copy&paste without having any data). ```python. # subset adata to genes of interest. adata_sub = adata[:, [g in genes_list for g in adata.var_names]].copy(). # filter out cells that don't express any genes of interest. sc.pp.filter_cells(adata_sub, min_genes=1). # run new embedding and clustering. sc.pp.pca(adata_sub, n_comps=50, use_highly_variable=False, svd_solver='arpack'). sc.pp.neighbors(adata_sub). sc.tl.umap(adata_sub). sc.tl.leiden(adata_sub, key_added='leiden_sub'). ```. When I use `sc.pl.umap(adata_sub)` to plot expression of a gene that is _not_ one of my genes of interest, it is still plotted (I would expect an error telling me that the gene is not found in my `adata_sub` object). Similarly, the results of `sc.tl.rank_genes_groups(adata_sub, groupby='leiden_sub', key_added='rank_genes_sub', method='wilcoxon')` returns top ranked genes that are not",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2007
https://github.com/scverse/scanpy/issues/2007:2111,modifiability,Version,Versions,2111,"(that we can copy&paste without having any data). ```python. # subset adata to genes of interest. adata_sub = adata[:, [g in genes_list for g in adata.var_names]].copy(). # filter out cells that don't express any genes of interest. sc.pp.filter_cells(adata_sub, min_genes=1). # run new embedding and clustering. sc.pp.pca(adata_sub, n_comps=50, use_highly_variable=False, svd_solver='arpack'). sc.pp.neighbors(adata_sub). sc.tl.umap(adata_sub). sc.tl.leiden(adata_sub, key_added='leiden_sub'). ```. When I use `sc.pl.umap(adata_sub)` to plot expression of a gene that is _not_ one of my genes of interest, it is still plotted (I would expect an error telling me that the gene is not found in my `adata_sub` object). Similarly, the results of `sc.tl.rank_genes_groups(adata_sub, groupby='leiden_sub', key_added='rank_genes_sub', method='wilcoxon')` returns top ranked genes that are not (or should not be) in my `adata_sub` object. Thank you for any help/clarification as to what's going on! #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.8.1. sinfo 0.3.4. -----. PIL 8.3.2. anyio NA. attr 21.2.0. babel 2.9.1. backcall 0.2.0. beta_ufunc NA. binom_ufunc NA. certifi 2019.11.28. cffi 1.14.6. chardet 3.0.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. debugpy 1.4.3. decorator 5.1.0. defusedxml 0.7.1. entrypoints 0.3. gi 3.36.0. gio NA. glib NA. gobject NA. gtk NA. h5py 3.4.0. idna 2.8. igraph 0.9.6. ipykernel 6.4.1. ipython_genutils 0.2.0. ipywidgets 7.6.4. jedi 0.18.0. jinja2 3.0.1. joblib 1.0.1. json5 NA. jsonschema 3.2.0. jupyter_server 1.11.0. jupyterlab_server 2.8.1. kiwisolver 1.3.2. leidenalg 0.8.7. llvmlite 0.37.0. markupsafe 2.0.1. matplotlib 3.4.3. matplotlib_inline NA. mpl_toolkits NA. natsort 7.1.1. nbclassic NA. nbformat 5.1.3. nbinom_ufunc NA. networkx 2.6.3. numba 0.54.0. numexpr 2.7.3. numpy 1.20.0. packaging 21.0. pandas 1.3.2. parso 0.8.2. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prometheus_client NA. prompt_toolkit 3.0.20. ptyprocess 0.7.0. pv",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2007
https://github.com/scverse/scanpy/issues/2007:2395,modifiability,deco,decorator,2395," embedding and clustering. sc.pp.pca(adata_sub, n_comps=50, use_highly_variable=False, svd_solver='arpack'). sc.pp.neighbors(adata_sub). sc.tl.umap(adata_sub). sc.tl.leiden(adata_sub, key_added='leiden_sub'). ```. When I use `sc.pl.umap(adata_sub)` to plot expression of a gene that is _not_ one of my genes of interest, it is still plotted (I would expect an error telling me that the gene is not found in my `adata_sub` object). Similarly, the results of `sc.tl.rank_genes_groups(adata_sub, groupby='leiden_sub', key_added='rank_genes_sub', method='wilcoxon')` returns top ranked genes that are not (or should not be) in my `adata_sub` object. Thank you for any help/clarification as to what's going on! #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.8.1. sinfo 0.3.4. -----. PIL 8.3.2. anyio NA. attr 21.2.0. babel 2.9.1. backcall 0.2.0. beta_ufunc NA. binom_ufunc NA. certifi 2019.11.28. cffi 1.14.6. chardet 3.0.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. debugpy 1.4.3. decorator 5.1.0. defusedxml 0.7.1. entrypoints 0.3. gi 3.36.0. gio NA. glib NA. gobject NA. gtk NA. h5py 3.4.0. idna 2.8. igraph 0.9.6. ipykernel 6.4.1. ipython_genutils 0.2.0. ipywidgets 7.6.4. jedi 0.18.0. jinja2 3.0.1. joblib 1.0.1. json5 NA. jsonschema 3.2.0. jupyter_server 1.11.0. jupyterlab_server 2.8.1. kiwisolver 1.3.2. leidenalg 0.8.7. llvmlite 0.37.0. markupsafe 2.0.1. matplotlib 3.4.3. matplotlib_inline NA. mpl_toolkits NA. natsort 7.1.1. nbclassic NA. nbformat 5.1.3. nbinom_ufunc NA. networkx 2.6.3. numba 0.54.0. numexpr 2.7.3. numpy 1.20.0. packaging 21.0. pandas 1.3.2. parso 0.8.2. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prometheus_client NA. prompt_toolkit 3.0.20. ptyprocess 0.7.0. pvectorc NA. pycparser 2.20. pydev_ipython NA. pydevconsole NA. pydevd 2.4.1. pydevd_concurrency_analyser NA. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.10.0. pynndescent 0.5.4. pyparsing 2.4.7. pyrsistent NA. pytz 2021.1. requests 2.22.0. scipy 1.7.1. seabor",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2007
https://github.com/scverse/scanpy/issues/2007:2955,modifiability,pac,packaging,2955,")` returns top ranked genes that are not (or should not be) in my `adata_sub` object. Thank you for any help/clarification as to what's going on! #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.8.1. sinfo 0.3.4. -----. PIL 8.3.2. anyio NA. attr 21.2.0. babel 2.9.1. backcall 0.2.0. beta_ufunc NA. binom_ufunc NA. certifi 2019.11.28. cffi 1.14.6. chardet 3.0.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. debugpy 1.4.3. decorator 5.1.0. defusedxml 0.7.1. entrypoints 0.3. gi 3.36.0. gio NA. glib NA. gobject NA. gtk NA. h5py 3.4.0. idna 2.8. igraph 0.9.6. ipykernel 6.4.1. ipython_genutils 0.2.0. ipywidgets 7.6.4. jedi 0.18.0. jinja2 3.0.1. joblib 1.0.1. json5 NA. jsonschema 3.2.0. jupyter_server 1.11.0. jupyterlab_server 2.8.1. kiwisolver 1.3.2. leidenalg 0.8.7. llvmlite 0.37.0. markupsafe 2.0.1. matplotlib 3.4.3. matplotlib_inline NA. mpl_toolkits NA. natsort 7.1.1. nbclassic NA. nbformat 5.1.3. nbinom_ufunc NA. networkx 2.6.3. numba 0.54.0. numexpr 2.7.3. numpy 1.20.0. packaging 21.0. pandas 1.3.2. parso 0.8.2. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prometheus_client NA. prompt_toolkit 3.0.20. ptyprocess 0.7.0. pvectorc NA. pycparser 2.20. pydev_ipython NA. pydevconsole NA. pydevd 2.4.1. pydevd_concurrency_analyser NA. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.10.0. pynndescent 0.5.4. pyparsing 2.4.7. pyrsistent NA. pytz 2021.1. requests 2.22.0. scipy 1.7.1. seaborn 0.11.2. send2trash NA. sitecustomize NA. six 1.14.0. sklearn 0.24.2. sniffio 1.2.0. statsmodels 0.13.0rc0. storemagic NA. tables 3.6.1. terminado 0.12.1. texttable 1.6.4. tornado 6.1. traitlets 5.1.0. typing_extensions NA. umap 0.5.1. urllib3 1.25.8. wcwidth 0.2.5. websocket 1.2.1. zmq 22.3.0. -----. IPython 7.27.0. jupyter_client 7.0.2. jupyter_core 4.7.1. jupyterlab 3.1.11. notebook 6.4.3. -----. Python 3.8.10 (default, Jun 2 2021, 10:49:15) [GCC 9.4.0]. Linux-5.10.25-linuxkit-x86_64-with-glibc2.29. 6 logical CPU cores, x86_64. -----. Session informa",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2007
https://github.com/scverse/scanpy/issues/2007:1760,performance,error,error,1760,"g and clustering on `adata_sub`, I have noticed that I can plot genes that shouldn't be in `adata_sub` (but were in `adata`), and that when I run `sc.tl.rank_genes_groups` my results aren't restricted to my 990 genes of interest. I am guessing that I subsetted my data incorrectly (though, why would I have the correct shape?). ### Minimal code sample (that we can copy&paste without having any data). ```python. # subset adata to genes of interest. adata_sub = adata[:, [g in genes_list for g in adata.var_names]].copy(). # filter out cells that don't express any genes of interest. sc.pp.filter_cells(adata_sub, min_genes=1). # run new embedding and clustering. sc.pp.pca(adata_sub, n_comps=50, use_highly_variable=False, svd_solver='arpack'). sc.pp.neighbors(adata_sub). sc.tl.umap(adata_sub). sc.tl.leiden(adata_sub, key_added='leiden_sub'). ```. When I use `sc.pl.umap(adata_sub)` to plot expression of a gene that is _not_ one of my genes of interest, it is still plotted (I would expect an error telling me that the gene is not found in my `adata_sub` object). Similarly, the results of `sc.tl.rank_genes_groups(adata_sub, groupby='leiden_sub', key_added='rank_genes_sub', method='wilcoxon')` returns top ranked genes that are not (or should not be) in my `adata_sub` object. Thank you for any help/clarification as to what's going on! #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.8.1. sinfo 0.3.4. -----. PIL 8.3.2. anyio NA. attr 21.2.0. babel 2.9.1. backcall 0.2.0. beta_ufunc NA. binom_ufunc NA. certifi 2019.11.28. cffi 1.14.6. chardet 3.0.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. debugpy 1.4.3. decorator 5.1.0. defusedxml 0.7.1. entrypoints 0.3. gi 3.36.0. gio NA. glib NA. gobject NA. gtk NA. h5py 3.4.0. idna 2.8. igraph 0.9.6. ipykernel 6.4.1. ipython_genutils 0.2.0. ipywidgets 7.6.4. jedi 0.18.0. jinja2 3.0.1. joblib 1.0.1. json5 NA. jsonschema 3.2.0. jupyter_server 1.11.0. jupyterlab_server 2.8.1. kiwisolver 1.3.2. leidenalg 0.8.7. llvmlite 0.37.0. mark",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2007
https://github.com/scverse/scanpy/issues/2007:2896,performance,network,networkx,2896,"='leiden_sub', key_added='rank_genes_sub', method='wilcoxon')` returns top ranked genes that are not (or should not be) in my `adata_sub` object. Thank you for any help/clarification as to what's going on! #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.8.1. sinfo 0.3.4. -----. PIL 8.3.2. anyio NA. attr 21.2.0. babel 2.9.1. backcall 0.2.0. beta_ufunc NA. binom_ufunc NA. certifi 2019.11.28. cffi 1.14.6. chardet 3.0.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. debugpy 1.4.3. decorator 5.1.0. defusedxml 0.7.1. entrypoints 0.3. gi 3.36.0. gio NA. glib NA. gobject NA. gtk NA. h5py 3.4.0. idna 2.8. igraph 0.9.6. ipykernel 6.4.1. ipython_genutils 0.2.0. ipywidgets 7.6.4. jedi 0.18.0. jinja2 3.0.1. joblib 1.0.1. json5 NA. jsonschema 3.2.0. jupyter_server 1.11.0. jupyterlab_server 2.8.1. kiwisolver 1.3.2. leidenalg 0.8.7. llvmlite 0.37.0. markupsafe 2.0.1. matplotlib 3.4.3. matplotlib_inline NA. mpl_toolkits NA. natsort 7.1.1. nbclassic NA. nbformat 5.1.3. nbinom_ufunc NA. networkx 2.6.3. numba 0.54.0. numexpr 2.7.3. numpy 1.20.0. packaging 21.0. pandas 1.3.2. parso 0.8.2. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prometheus_client NA. prompt_toolkit 3.0.20. ptyprocess 0.7.0. pvectorc NA. pycparser 2.20. pydev_ipython NA. pydevconsole NA. pydevd 2.4.1. pydevd_concurrency_analyser NA. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.10.0. pynndescent 0.5.4. pyparsing 2.4.7. pyrsistent NA. pytz 2021.1. requests 2.22.0. scipy 1.7.1. seaborn 0.11.2. send2trash NA. sitecustomize NA. six 1.14.0. sklearn 0.24.2. sniffio 1.2.0. statsmodels 0.13.0rc0. storemagic NA. tables 3.6.1. terminado 0.12.1. texttable 1.6.4. tornado 6.1. traitlets 5.1.0. typing_extensions NA. umap 0.5.1. urllib3 1.25.8. wcwidth 0.2.5. websocket 1.2.1. zmq 22.3.0. -----. IPython 7.27.0. jupyter_client 7.0.2. jupyter_core 4.7.1. jupyterlab 3.1.11. notebook 6.4.3. -----. Python 3.8.10 (default, Jun 2 2021, 10:49:15) [GCC 9.4.0]. Linux-5.10.25-linuxkit-x86_64-with-gl",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2007
https://github.com/scverse/scanpy/issues/2007:3919,performance,CPU,CPU,3919,"should not be) in my `adata_sub` object. Thank you for any help/clarification as to what's going on! #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.8.1. sinfo 0.3.4. -----. PIL 8.3.2. anyio NA. attr 21.2.0. babel 2.9.1. backcall 0.2.0. beta_ufunc NA. binom_ufunc NA. certifi 2019.11.28. cffi 1.14.6. chardet 3.0.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. debugpy 1.4.3. decorator 5.1.0. defusedxml 0.7.1. entrypoints 0.3. gi 3.36.0. gio NA. glib NA. gobject NA. gtk NA. h5py 3.4.0. idna 2.8. igraph 0.9.6. ipykernel 6.4.1. ipython_genutils 0.2.0. ipywidgets 7.6.4. jedi 0.18.0. jinja2 3.0.1. joblib 1.0.1. json5 NA. jsonschema 3.2.0. jupyter_server 1.11.0. jupyterlab_server 2.8.1. kiwisolver 1.3.2. leidenalg 0.8.7. llvmlite 0.37.0. markupsafe 2.0.1. matplotlib 3.4.3. matplotlib_inline NA. mpl_toolkits NA. natsort 7.1.1. nbclassic NA. nbformat 5.1.3. nbinom_ufunc NA. networkx 2.6.3. numba 0.54.0. numexpr 2.7.3. numpy 1.20.0. packaging 21.0. pandas 1.3.2. parso 0.8.2. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prometheus_client NA. prompt_toolkit 3.0.20. ptyprocess 0.7.0. pvectorc NA. pycparser 2.20. pydev_ipython NA. pydevconsole NA. pydevd 2.4.1. pydevd_concurrency_analyser NA. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.10.0. pynndescent 0.5.4. pyparsing 2.4.7. pyrsistent NA. pytz 2021.1. requests 2.22.0. scipy 1.7.1. seaborn 0.11.2. send2trash NA. sitecustomize NA. six 1.14.0. sklearn 0.24.2. sniffio 1.2.0. statsmodels 0.13.0rc0. storemagic NA. tables 3.6.1. terminado 0.12.1. texttable 1.6.4. tornado 6.1. traitlets 5.1.0. typing_extensions NA. umap 0.5.1. urllib3 1.25.8. wcwidth 0.2.5. websocket 1.2.1. zmq 22.3.0. -----. IPython 7.27.0. jupyter_client 7.0.2. jupyter_core 4.7.1. jupyterlab 3.1.11. notebook 6.4.3. -----. Python 3.8.10 (default, Jun 2 2021, 10:49:15) [GCC 9.4.0]. Linux-5.10.25-linuxkit-x86_64-with-glibc2.29. 6 logical CPU cores, x86_64. -----. Session information updated at 2021-09-30 18:02. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2007
https://github.com/scverse/scanpy/issues/2007:1760,safety,error,error,1760,"g and clustering on `adata_sub`, I have noticed that I can plot genes that shouldn't be in `adata_sub` (but were in `adata`), and that when I run `sc.tl.rank_genes_groups` my results aren't restricted to my 990 genes of interest. I am guessing that I subsetted my data incorrectly (though, why would I have the correct shape?). ### Minimal code sample (that we can copy&paste without having any data). ```python. # subset adata to genes of interest. adata_sub = adata[:, [g in genes_list for g in adata.var_names]].copy(). # filter out cells that don't express any genes of interest. sc.pp.filter_cells(adata_sub, min_genes=1). # run new embedding and clustering. sc.pp.pca(adata_sub, n_comps=50, use_highly_variable=False, svd_solver='arpack'). sc.pp.neighbors(adata_sub). sc.tl.umap(adata_sub). sc.tl.leiden(adata_sub, key_added='leiden_sub'). ```. When I use `sc.pl.umap(adata_sub)` to plot expression of a gene that is _not_ one of my genes of interest, it is still plotted (I would expect an error telling me that the gene is not found in my `adata_sub` object). Similarly, the results of `sc.tl.rank_genes_groups(adata_sub, groupby='leiden_sub', key_added='rank_genes_sub', method='wilcoxon')` returns top ranked genes that are not (or should not be) in my `adata_sub` object. Thank you for any help/clarification as to what's going on! #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.8.1. sinfo 0.3.4. -----. PIL 8.3.2. anyio NA. attr 21.2.0. babel 2.9.1. backcall 0.2.0. beta_ufunc NA. binom_ufunc NA. certifi 2019.11.28. cffi 1.14.6. chardet 3.0.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. debugpy 1.4.3. decorator 5.1.0. defusedxml 0.7.1. entrypoints 0.3. gi 3.36.0. gio NA. glib NA. gobject NA. gtk NA. h5py 3.4.0. idna 2.8. igraph 0.9.6. ipykernel 6.4.1. ipython_genutils 0.2.0. ipywidgets 7.6.4. jedi 0.18.0. jinja2 3.0.1. joblib 1.0.1. json5 NA. jsonschema 3.2.0. jupyter_server 1.11.0. jupyterlab_server 2.8.1. kiwisolver 1.3.2. leidenalg 0.8.7. llvmlite 0.37.0. mark",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2007
https://github.com/scverse/scanpy/issues/2007:3911,safety,log,logical,3911,"should not be) in my `adata_sub` object. Thank you for any help/clarification as to what's going on! #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.8.1. sinfo 0.3.4. -----. PIL 8.3.2. anyio NA. attr 21.2.0. babel 2.9.1. backcall 0.2.0. beta_ufunc NA. binom_ufunc NA. certifi 2019.11.28. cffi 1.14.6. chardet 3.0.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. debugpy 1.4.3. decorator 5.1.0. defusedxml 0.7.1. entrypoints 0.3. gi 3.36.0. gio NA. glib NA. gobject NA. gtk NA. h5py 3.4.0. idna 2.8. igraph 0.9.6. ipykernel 6.4.1. ipython_genutils 0.2.0. ipywidgets 7.6.4. jedi 0.18.0. jinja2 3.0.1. joblib 1.0.1. json5 NA. jsonschema 3.2.0. jupyter_server 1.11.0. jupyterlab_server 2.8.1. kiwisolver 1.3.2. leidenalg 0.8.7. llvmlite 0.37.0. markupsafe 2.0.1. matplotlib 3.4.3. matplotlib_inline NA. mpl_toolkits NA. natsort 7.1.1. nbclassic NA. nbformat 5.1.3. nbinom_ufunc NA. networkx 2.6.3. numba 0.54.0. numexpr 2.7.3. numpy 1.20.0. packaging 21.0. pandas 1.3.2. parso 0.8.2. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prometheus_client NA. prompt_toolkit 3.0.20. ptyprocess 0.7.0. pvectorc NA. pycparser 2.20. pydev_ipython NA. pydevconsole NA. pydevd 2.4.1. pydevd_concurrency_analyser NA. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.10.0. pynndescent 0.5.4. pyparsing 2.4.7. pyrsistent NA. pytz 2021.1. requests 2.22.0. scipy 1.7.1. seaborn 0.11.2. send2trash NA. sitecustomize NA. six 1.14.0. sklearn 0.24.2. sniffio 1.2.0. statsmodels 0.13.0rc0. storemagic NA. tables 3.6.1. terminado 0.12.1. texttable 1.6.4. tornado 6.1. traitlets 5.1.0. typing_extensions NA. umap 0.5.1. urllib3 1.25.8. wcwidth 0.2.5. websocket 1.2.1. zmq 22.3.0. -----. IPython 7.27.0. jupyter_client 7.0.2. jupyter_core 4.7.1. jupyterlab 3.1.11. notebook 6.4.3. -----. Python 3.8.10 (default, Jun 2 2021, 10:49:15) [GCC 9.4.0]. Linux-5.10.25-linuxkit-x86_64-with-glibc2.29. 6 logical CPU cores, x86_64. -----. Session information updated at 2021-09-30 18:02. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2007
https://github.com/scverse/scanpy/issues/2007:3965,safety,updat,updated,3965,"should not be) in my `adata_sub` object. Thank you for any help/clarification as to what's going on! #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.8.1. sinfo 0.3.4. -----. PIL 8.3.2. anyio NA. attr 21.2.0. babel 2.9.1. backcall 0.2.0. beta_ufunc NA. binom_ufunc NA. certifi 2019.11.28. cffi 1.14.6. chardet 3.0.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. debugpy 1.4.3. decorator 5.1.0. defusedxml 0.7.1. entrypoints 0.3. gi 3.36.0. gio NA. glib NA. gobject NA. gtk NA. h5py 3.4.0. idna 2.8. igraph 0.9.6. ipykernel 6.4.1. ipython_genutils 0.2.0. ipywidgets 7.6.4. jedi 0.18.0. jinja2 3.0.1. joblib 1.0.1. json5 NA. jsonschema 3.2.0. jupyter_server 1.11.0. jupyterlab_server 2.8.1. kiwisolver 1.3.2. leidenalg 0.8.7. llvmlite 0.37.0. markupsafe 2.0.1. matplotlib 3.4.3. matplotlib_inline NA. mpl_toolkits NA. natsort 7.1.1. nbclassic NA. nbformat 5.1.3. nbinom_ufunc NA. networkx 2.6.3. numba 0.54.0. numexpr 2.7.3. numpy 1.20.0. packaging 21.0. pandas 1.3.2. parso 0.8.2. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prometheus_client NA. prompt_toolkit 3.0.20. ptyprocess 0.7.0. pvectorc NA. pycparser 2.20. pydev_ipython NA. pydevconsole NA. pydevd 2.4.1. pydevd_concurrency_analyser NA. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.10.0. pynndescent 0.5.4. pyparsing 2.4.7. pyrsistent NA. pytz 2021.1. requests 2.22.0. scipy 1.7.1. seaborn 0.11.2. send2trash NA. sitecustomize NA. six 1.14.0. sklearn 0.24.2. sniffio 1.2.0. statsmodels 0.13.0rc0. storemagic NA. tables 3.6.1. terminado 0.12.1. texttable 1.6.4. tornado 6.1. traitlets 5.1.0. typing_extensions NA. umap 0.5.1. urllib3 1.25.8. wcwidth 0.2.5. websocket 1.2.1. zmq 22.3.0. -----. IPython 7.27.0. jupyter_client 7.0.2. jupyter_core 4.7.1. jupyterlab 3.1.11. notebook 6.4.3. -----. Python 3.8.10 (default, Jun 2 2021, 10:49:15) [GCC 9.4.0]. Linux-5.10.25-linuxkit-x86_64-with-glibc2.29. 6 logical CPU cores, x86_64. -----. Session information updated at 2021-09-30 18:02. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2007
https://github.com/scverse/scanpy/issues/2007:2282,security,certif,certifi,2282,"# filter out cells that don't express any genes of interest. sc.pp.filter_cells(adata_sub, min_genes=1). # run new embedding and clustering. sc.pp.pca(adata_sub, n_comps=50, use_highly_variable=False, svd_solver='arpack'). sc.pp.neighbors(adata_sub). sc.tl.umap(adata_sub). sc.tl.leiden(adata_sub, key_added='leiden_sub'). ```. When I use `sc.pl.umap(adata_sub)` to plot expression of a gene that is _not_ one of my genes of interest, it is still plotted (I would expect an error telling me that the gene is not found in my `adata_sub` object). Similarly, the results of `sc.tl.rank_genes_groups(adata_sub, groupby='leiden_sub', key_added='rank_genes_sub', method='wilcoxon')` returns top ranked genes that are not (or should not be) in my `adata_sub` object. Thank you for any help/clarification as to what's going on! #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.8.1. sinfo 0.3.4. -----. PIL 8.3.2. anyio NA. attr 21.2.0. babel 2.9.1. backcall 0.2.0. beta_ufunc NA. binom_ufunc NA. certifi 2019.11.28. cffi 1.14.6. chardet 3.0.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. debugpy 1.4.3. decorator 5.1.0. defusedxml 0.7.1. entrypoints 0.3. gi 3.36.0. gio NA. glib NA. gobject NA. gtk NA. h5py 3.4.0. idna 2.8. igraph 0.9.6. ipykernel 6.4.1. ipython_genutils 0.2.0. ipywidgets 7.6.4. jedi 0.18.0. jinja2 3.0.1. joblib 1.0.1. json5 NA. jsonschema 3.2.0. jupyter_server 1.11.0. jupyterlab_server 2.8.1. kiwisolver 1.3.2. leidenalg 0.8.7. llvmlite 0.37.0. markupsafe 2.0.1. matplotlib 3.4.3. matplotlib_inline NA. mpl_toolkits NA. natsort 7.1.1. nbclassic NA. nbformat 5.1.3. nbinom_ufunc NA. networkx 2.6.3. numba 0.54.0. numexpr 2.7.3. numpy 1.20.0. packaging 21.0. pandas 1.3.2. parso 0.8.2. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prometheus_client NA. prompt_toolkit 3.0.20. ptyprocess 0.7.0. pvectorc NA. pycparser 2.20. pydev_ipython NA. pydevconsole NA. pydevd 2.4.1. pydevd_concurrency_analyser NA. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pyg",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2007
https://github.com/scverse/scanpy/issues/2007:2896,security,network,networkx,2896,"='leiden_sub', key_added='rank_genes_sub', method='wilcoxon')` returns top ranked genes that are not (or should not be) in my `adata_sub` object. Thank you for any help/clarification as to what's going on! #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.8.1. sinfo 0.3.4. -----. PIL 8.3.2. anyio NA. attr 21.2.0. babel 2.9.1. backcall 0.2.0. beta_ufunc NA. binom_ufunc NA. certifi 2019.11.28. cffi 1.14.6. chardet 3.0.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. debugpy 1.4.3. decorator 5.1.0. defusedxml 0.7.1. entrypoints 0.3. gi 3.36.0. gio NA. glib NA. gobject NA. gtk NA. h5py 3.4.0. idna 2.8. igraph 0.9.6. ipykernel 6.4.1. ipython_genutils 0.2.0. ipywidgets 7.6.4. jedi 0.18.0. jinja2 3.0.1. joblib 1.0.1. json5 NA. jsonschema 3.2.0. jupyter_server 1.11.0. jupyterlab_server 2.8.1. kiwisolver 1.3.2. leidenalg 0.8.7. llvmlite 0.37.0. markupsafe 2.0.1. matplotlib 3.4.3. matplotlib_inline NA. mpl_toolkits NA. natsort 7.1.1. nbclassic NA. nbformat 5.1.3. nbinom_ufunc NA. networkx 2.6.3. numba 0.54.0. numexpr 2.7.3. numpy 1.20.0. packaging 21.0. pandas 1.3.2. parso 0.8.2. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prometheus_client NA. prompt_toolkit 3.0.20. ptyprocess 0.7.0. pvectorc NA. pycparser 2.20. pydev_ipython NA. pydevconsole NA. pydevd 2.4.1. pydevd_concurrency_analyser NA. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.10.0. pynndescent 0.5.4. pyparsing 2.4.7. pyrsistent NA. pytz 2021.1. requests 2.22.0. scipy 1.7.1. seaborn 0.11.2. send2trash NA. sitecustomize NA. six 1.14.0. sklearn 0.24.2. sniffio 1.2.0. statsmodels 0.13.0rc0. storemagic NA. tables 3.6.1. terminado 0.12.1. texttable 1.6.4. tornado 6.1. traitlets 5.1.0. typing_extensions NA. umap 0.5.1. urllib3 1.25.8. wcwidth 0.2.5. websocket 1.2.1. zmq 22.3.0. -----. IPython 7.27.0. jupyter_client 7.0.2. jupyter_core 4.7.1. jupyterlab 3.1.11. notebook 6.4.3. -----. Python 3.8.10 (default, Jun 2 2021, 10:49:15) [GCC 9.4.0]. Linux-5.10.25-linuxkit-x86_64-with-gl",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2007
https://github.com/scverse/scanpy/issues/2007:3911,security,log,logical,3911,"should not be) in my `adata_sub` object. Thank you for any help/clarification as to what's going on! #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.8.1. sinfo 0.3.4. -----. PIL 8.3.2. anyio NA. attr 21.2.0. babel 2.9.1. backcall 0.2.0. beta_ufunc NA. binom_ufunc NA. certifi 2019.11.28. cffi 1.14.6. chardet 3.0.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. debugpy 1.4.3. decorator 5.1.0. defusedxml 0.7.1. entrypoints 0.3. gi 3.36.0. gio NA. glib NA. gobject NA. gtk NA. h5py 3.4.0. idna 2.8. igraph 0.9.6. ipykernel 6.4.1. ipython_genutils 0.2.0. ipywidgets 7.6.4. jedi 0.18.0. jinja2 3.0.1. joblib 1.0.1. json5 NA. jsonschema 3.2.0. jupyter_server 1.11.0. jupyterlab_server 2.8.1. kiwisolver 1.3.2. leidenalg 0.8.7. llvmlite 0.37.0. markupsafe 2.0.1. matplotlib 3.4.3. matplotlib_inline NA. mpl_toolkits NA. natsort 7.1.1. nbclassic NA. nbformat 5.1.3. nbinom_ufunc NA. networkx 2.6.3. numba 0.54.0. numexpr 2.7.3. numpy 1.20.0. packaging 21.0. pandas 1.3.2. parso 0.8.2. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prometheus_client NA. prompt_toolkit 3.0.20. ptyprocess 0.7.0. pvectorc NA. pycparser 2.20. pydev_ipython NA. pydevconsole NA. pydevd 2.4.1. pydevd_concurrency_analyser NA. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.10.0. pynndescent 0.5.4. pyparsing 2.4.7. pyrsistent NA. pytz 2021.1. requests 2.22.0. scipy 1.7.1. seaborn 0.11.2. send2trash NA. sitecustomize NA. six 1.14.0. sklearn 0.24.2. sniffio 1.2.0. statsmodels 0.13.0rc0. storemagic NA. tables 3.6.1. terminado 0.12.1. texttable 1.6.4. tornado 6.1. traitlets 5.1.0. typing_extensions NA. umap 0.5.1. urllib3 1.25.8. wcwidth 0.2.5. websocket 1.2.1. zmq 22.3.0. -----. IPython 7.27.0. jupyter_client 7.0.2. jupyter_core 4.7.1. jupyterlab 3.1.11. notebook 6.4.3. -----. Python 3.8.10 (default, Jun 2 2021, 10:49:15) [GCC 9.4.0]. Linux-5.10.25-linuxkit-x86_64-with-glibc2.29. 6 logical CPU cores, x86_64. -----. Session information updated at 2021-09-30 18:02. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2007
https://github.com/scverse/scanpy/issues/2007:3945,security,Session,Session,3945,"should not be) in my `adata_sub` object. Thank you for any help/clarification as to what's going on! #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.8.1. sinfo 0.3.4. -----. PIL 8.3.2. anyio NA. attr 21.2.0. babel 2.9.1. backcall 0.2.0. beta_ufunc NA. binom_ufunc NA. certifi 2019.11.28. cffi 1.14.6. chardet 3.0.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. debugpy 1.4.3. decorator 5.1.0. defusedxml 0.7.1. entrypoints 0.3. gi 3.36.0. gio NA. glib NA. gobject NA. gtk NA. h5py 3.4.0. idna 2.8. igraph 0.9.6. ipykernel 6.4.1. ipython_genutils 0.2.0. ipywidgets 7.6.4. jedi 0.18.0. jinja2 3.0.1. joblib 1.0.1. json5 NA. jsonschema 3.2.0. jupyter_server 1.11.0. jupyterlab_server 2.8.1. kiwisolver 1.3.2. leidenalg 0.8.7. llvmlite 0.37.0. markupsafe 2.0.1. matplotlib 3.4.3. matplotlib_inline NA. mpl_toolkits NA. natsort 7.1.1. nbclassic NA. nbformat 5.1.3. nbinom_ufunc NA. networkx 2.6.3. numba 0.54.0. numexpr 2.7.3. numpy 1.20.0. packaging 21.0. pandas 1.3.2. parso 0.8.2. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prometheus_client NA. prompt_toolkit 3.0.20. ptyprocess 0.7.0. pvectorc NA. pycparser 2.20. pydev_ipython NA. pydevconsole NA. pydevd 2.4.1. pydevd_concurrency_analyser NA. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.10.0. pynndescent 0.5.4. pyparsing 2.4.7. pyrsistent NA. pytz 2021.1. requests 2.22.0. scipy 1.7.1. seaborn 0.11.2. send2trash NA. sitecustomize NA. six 1.14.0. sklearn 0.24.2. sniffio 1.2.0. statsmodels 0.13.0rc0. storemagic NA. tables 3.6.1. terminado 0.12.1. texttable 1.6.4. tornado 6.1. traitlets 5.1.0. typing_extensions NA. umap 0.5.1. urllib3 1.25.8. wcwidth 0.2.5. websocket 1.2.1. zmq 22.3.0. -----. IPython 7.27.0. jupyter_client 7.0.2. jupyter_core 4.7.1. jupyterlab 3.1.11. notebook 6.4.3. -----. Python 3.8.10 (default, Jun 2 2021, 10:49:15) [GCC 9.4.0]. Linux-5.10.25-linuxkit-x86_64-with-glibc2.29. 6 logical CPU cores, x86_64. -----. Session information updated at 2021-09-30 18:02. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2007
https://github.com/scverse/scanpy/issues/2007:3965,security,updat,updated,3965,"should not be) in my `adata_sub` object. Thank you for any help/clarification as to what's going on! #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.8.1. sinfo 0.3.4. -----. PIL 8.3.2. anyio NA. attr 21.2.0. babel 2.9.1. backcall 0.2.0. beta_ufunc NA. binom_ufunc NA. certifi 2019.11.28. cffi 1.14.6. chardet 3.0.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. debugpy 1.4.3. decorator 5.1.0. defusedxml 0.7.1. entrypoints 0.3. gi 3.36.0. gio NA. glib NA. gobject NA. gtk NA. h5py 3.4.0. idna 2.8. igraph 0.9.6. ipykernel 6.4.1. ipython_genutils 0.2.0. ipywidgets 7.6.4. jedi 0.18.0. jinja2 3.0.1. joblib 1.0.1. json5 NA. jsonschema 3.2.0. jupyter_server 1.11.0. jupyterlab_server 2.8.1. kiwisolver 1.3.2. leidenalg 0.8.7. llvmlite 0.37.0. markupsafe 2.0.1. matplotlib 3.4.3. matplotlib_inline NA. mpl_toolkits NA. natsort 7.1.1. nbclassic NA. nbformat 5.1.3. nbinom_ufunc NA. networkx 2.6.3. numba 0.54.0. numexpr 2.7.3. numpy 1.20.0. packaging 21.0. pandas 1.3.2. parso 0.8.2. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prometheus_client NA. prompt_toolkit 3.0.20. ptyprocess 0.7.0. pvectorc NA. pycparser 2.20. pydev_ipython NA. pydevconsole NA. pydevd 2.4.1. pydevd_concurrency_analyser NA. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.10.0. pynndescent 0.5.4. pyparsing 2.4.7. pyrsistent NA. pytz 2021.1. requests 2.22.0. scipy 1.7.1. seaborn 0.11.2. send2trash NA. sitecustomize NA. six 1.14.0. sklearn 0.24.2. sniffio 1.2.0. statsmodels 0.13.0rc0. storemagic NA. tables 3.6.1. terminado 0.12.1. texttable 1.6.4. tornado 6.1. traitlets 5.1.0. typing_extensions NA. umap 0.5.1. urllib3 1.25.8. wcwidth 0.2.5. websocket 1.2.1. zmq 22.3.0. -----. IPython 7.27.0. jupyter_client 7.0.2. jupyter_core 4.7.1. jupyterlab 3.1.11. notebook 6.4.3. -----. Python 3.8.10 (default, Jun 2 2021, 10:49:15) [GCC 9.4.0]. Linux-5.10.25-linuxkit-x86_64-with-glibc2.29. 6 logical CPU cores, x86_64. -----. Session information updated at 2021-09-30 18:02. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2007
https://github.com/scverse/scanpy/issues/2007:3911,testability,log,logical,3911,"should not be) in my `adata_sub` object. Thank you for any help/clarification as to what's going on! #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.8.1. sinfo 0.3.4. -----. PIL 8.3.2. anyio NA. attr 21.2.0. babel 2.9.1. backcall 0.2.0. beta_ufunc NA. binom_ufunc NA. certifi 2019.11.28. cffi 1.14.6. chardet 3.0.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. debugpy 1.4.3. decorator 5.1.0. defusedxml 0.7.1. entrypoints 0.3. gi 3.36.0. gio NA. glib NA. gobject NA. gtk NA. h5py 3.4.0. idna 2.8. igraph 0.9.6. ipykernel 6.4.1. ipython_genutils 0.2.0. ipywidgets 7.6.4. jedi 0.18.0. jinja2 3.0.1. joblib 1.0.1. json5 NA. jsonschema 3.2.0. jupyter_server 1.11.0. jupyterlab_server 2.8.1. kiwisolver 1.3.2. leidenalg 0.8.7. llvmlite 0.37.0. markupsafe 2.0.1. matplotlib 3.4.3. matplotlib_inline NA. mpl_toolkits NA. natsort 7.1.1. nbclassic NA. nbformat 5.1.3. nbinom_ufunc NA. networkx 2.6.3. numba 0.54.0. numexpr 2.7.3. numpy 1.20.0. packaging 21.0. pandas 1.3.2. parso 0.8.2. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prometheus_client NA. prompt_toolkit 3.0.20. ptyprocess 0.7.0. pvectorc NA. pycparser 2.20. pydev_ipython NA. pydevconsole NA. pydevd 2.4.1. pydevd_concurrency_analyser NA. pydevd_file_utils NA. pydevd_plugins NA. pydevd_tracing NA. pygments 2.10.0. pynndescent 0.5.4. pyparsing 2.4.7. pyrsistent NA. pytz 2021.1. requests 2.22.0. scipy 1.7.1. seaborn 0.11.2. send2trash NA. sitecustomize NA. six 1.14.0. sklearn 0.24.2. sniffio 1.2.0. statsmodels 0.13.0rc0. storemagic NA. tables 3.6.1. terminado 0.12.1. texttable 1.6.4. tornado 6.1. traitlets 5.1.0. typing_extensions NA. umap 0.5.1. urllib3 1.25.8. wcwidth 0.2.5. websocket 1.2.1. zmq 22.3.0. -----. IPython 7.27.0. jupyter_client 7.0.2. jupyter_core 4.7.1. jupyterlab 3.1.11. notebook 6.4.3. -----. Python 3.8.10 (default, Jun 2 2021, 10:49:15) [GCC 9.4.0]. Linux-5.10.25-linuxkit-x86_64-with-glibc2.29. 6 logical CPU cores, x86_64. -----. Session information updated at 2021-09-30 18:02. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2007
https://github.com/scverse/scanpy/issues/2007:27,usability,behavi,behaving,27,"Subsetted adata object not behaving as expected; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Hello, I am working with an `adata` object (`adata.shape` produces `(8648, 18074)`) that I have subset to only include 990 genes of interest (and only include cells that express my genes of interest), with the hopes of clustering cells based on expression of my genes of interest (I got this idea from issue #510). After I subset my `adata` object, I confirmed that the shape of `adata_sub` is as expected (`adata_sub.shape` produces `(6603, 990)`). However, after running a new embedding and clustering on `adata_sub`, I have noticed that I can plot genes that shouldn't be in `adata_sub` (but were in `adata`), and that when I run `sc.tl.rank_genes_groups` my results aren't restricted to my 990 genes of interest. I am guessing that I subsetted my data incorrectly (though, why would I have the correct shape?). ### Minimal code sample (that we can copy&paste without having any data). ```python. # subset adata to genes of interest. adata_sub = adata[:, [g in genes_list for g in adata.var_names]].copy(). # filter out cells that don't express any genes of interest. sc.pp.filter_cells(adata_sub, min_genes=1). # run new embedding and clustering. sc.pp.pca(adata_sub, n_comps=50, use_highly_variable=False, svd_solver='arpack'). sc.pp.neighbors(adata_sub). sc.tl.umap(adata_sub). sc.tl.leiden(adata_sub, key_added='leiden_sub'). ```. When I use `sc.pl.umap(adata_sub)` to plot expression of a gene that is _not_ one of my genes of interest, it is still plotted (I would expect an error telling me that the gene is not found in my `adata_sub` object). Similarly, the results of `sc.tl.rank_genes_groups(adata_sub, groupby='leiden_sub', key_added='rank_genes_sub', method='wilcoxon')` returns top ranked genes that are not",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2007
https://github.com/scverse/scanpy/issues/2007:130,usability,confirm,confirmed,130,"Subsetted adata object not behaving as expected; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Hello, I am working with an `adata` object (`adata.shape` produces `(8648, 18074)`) that I have subset to only include 990 genes of interest (and only include cells that express my genes of interest), with the hopes of clustering cells based on expression of my genes of interest (I got this idea from issue #510). After I subset my `adata` object, I confirmed that the shape of `adata_sub` is as expected (`adata_sub.shape` produces `(6603, 990)`). However, after running a new embedding and clustering on `adata_sub`, I have noticed that I can plot genes that shouldn't be in `adata_sub` (but were in `adata`), and that when I run `sc.tl.rank_genes_groups` my results aren't restricted to my 990 genes of interest. I am guessing that I subsetted my data incorrectly (though, why would I have the correct shape?). ### Minimal code sample (that we can copy&paste without having any data). ```python. # subset adata to genes of interest. adata_sub = adata[:, [g in genes_list for g in adata.var_names]].copy(). # filter out cells that don't express any genes of interest. sc.pp.filter_cells(adata_sub, min_genes=1). # run new embedding and clustering. sc.pp.pca(adata_sub, n_comps=50, use_highly_variable=False, svd_solver='arpack'). sc.pp.neighbors(adata_sub). sc.tl.umap(adata_sub). sc.tl.leiden(adata_sub, key_added='leiden_sub'). ```. When I use `sc.pl.umap(adata_sub)` to plot expression of a gene that is _not_ one of my genes of interest, it is still plotted (I would expect an error telling me that the gene is not found in my `adata_sub` object). Similarly, the results of `sc.tl.rank_genes_groups(adata_sub, groupby='leiden_sub', key_added='rank_genes_sub', method='wilcoxon')` returns top ranked genes that are not",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2007
https://github.com/scverse/scanpy/issues/2007:213,usability,confirm,confirmed,213,"Subsetted adata object not behaving as expected; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Hello, I am working with an `adata` object (`adata.shape` produces `(8648, 18074)`) that I have subset to only include 990 genes of interest (and only include cells that express my genes of interest), with the hopes of clustering cells based on expression of my genes of interest (I got this idea from issue #510). After I subset my `adata` object, I confirmed that the shape of `adata_sub` is as expected (`adata_sub.shape` produces `(6603, 990)`). However, after running a new embedding and clustering on `adata_sub`, I have noticed that I can plot genes that shouldn't be in `adata_sub` (but were in `adata`), and that when I run `sc.tl.rank_genes_groups` my results aren't restricted to my 990 genes of interest. I am guessing that I subsetted my data incorrectly (though, why would I have the correct shape?). ### Minimal code sample (that we can copy&paste without having any data). ```python. # subset adata to genes of interest. adata_sub = adata[:, [g in genes_list for g in adata.var_names]].copy(). # filter out cells that don't express any genes of interest. sc.pp.filter_cells(adata_sub, min_genes=1). # run new embedding and clustering. sc.pp.pca(adata_sub, n_comps=50, use_highly_variable=False, svd_solver='arpack'). sc.pp.neighbors(adata_sub). sc.tl.umap(adata_sub). sc.tl.leiden(adata_sub, key_added='leiden_sub'). ```. When I use `sc.pl.umap(adata_sub)` to plot expression of a gene that is _not_ one of my genes of interest, it is still plotted (I would expect an error telling me that the gene is not found in my `adata_sub` object). Similarly, the results of `sc.tl.rank_genes_groups(adata_sub, groupby='leiden_sub', key_added='rank_genes_sub', method='wilcoxon')` returns top ranked genes that are not",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2007
https://github.com/scverse/scanpy/issues/2007:627,usability,confirm,confirmed,627,"Subsetted adata object not behaving as expected; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Hello, I am working with an `adata` object (`adata.shape` produces `(8648, 18074)`) that I have subset to only include 990 genes of interest (and only include cells that express my genes of interest), with the hopes of clustering cells based on expression of my genes of interest (I got this idea from issue #510). After I subset my `adata` object, I confirmed that the shape of `adata_sub` is as expected (`adata_sub.shape` produces `(6603, 990)`). However, after running a new embedding and clustering on `adata_sub`, I have noticed that I can plot genes that shouldn't be in `adata_sub` (but were in `adata`), and that when I run `sc.tl.rank_genes_groups` my results aren't restricted to my 990 genes of interest. I am guessing that I subsetted my data incorrectly (though, why would I have the correct shape?). ### Minimal code sample (that we can copy&paste without having any data). ```python. # subset adata to genes of interest. adata_sub = adata[:, [g in genes_list for g in adata.var_names]].copy(). # filter out cells that don't express any genes of interest. sc.pp.filter_cells(adata_sub, min_genes=1). # run new embedding and clustering. sc.pp.pca(adata_sub, n_comps=50, use_highly_variable=False, svd_solver='arpack'). sc.pp.neighbors(adata_sub). sc.tl.umap(adata_sub). sc.tl.leiden(adata_sub, key_added='leiden_sub'). ```. When I use `sc.pl.umap(adata_sub)` to plot expression of a gene that is _not_ one of my genes of interest, it is still plotted (I would expect an error telling me that the gene is not found in my `adata_sub` object). Similarly, the results of `sc.tl.rank_genes_groups(adata_sub, groupby='leiden_sub', key_added='rank_genes_sub', method='wilcoxon')` returns top ranked genes that are not",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2007
https://github.com/scverse/scanpy/issues/2007:1095,usability,Minim,Minimal,1095,"dy been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Hello, I am working with an `adata` object (`adata.shape` produces `(8648, 18074)`) that I have subset to only include 990 genes of interest (and only include cells that express my genes of interest), with the hopes of clustering cells based on expression of my genes of interest (I got this idea from issue #510). After I subset my `adata` object, I confirmed that the shape of `adata_sub` is as expected (`adata_sub.shape` produces `(6603, 990)`). However, after running a new embedding and clustering on `adata_sub`, I have noticed that I can plot genes that shouldn't be in `adata_sub` (but were in `adata`), and that when I run `sc.tl.rank_genes_groups` my results aren't restricted to my 990 genes of interest. I am guessing that I subsetted my data incorrectly (though, why would I have the correct shape?). ### Minimal code sample (that we can copy&paste without having any data). ```python. # subset adata to genes of interest. adata_sub = adata[:, [g in genes_list for g in adata.var_names]].copy(). # filter out cells that don't express any genes of interest. sc.pp.filter_cells(adata_sub, min_genes=1). # run new embedding and clustering. sc.pp.pca(adata_sub, n_comps=50, use_highly_variable=False, svd_solver='arpack'). sc.pp.neighbors(adata_sub). sc.tl.umap(adata_sub). sc.tl.leiden(adata_sub, key_added='leiden_sub'). ```. When I use `sc.pl.umap(adata_sub)` to plot expression of a gene that is _not_ one of my genes of interest, it is still plotted (I would expect an error telling me that the gene is not found in my `adata_sub` object). Similarly, the results of `sc.tl.rank_genes_groups(adata_sub, groupby='leiden_sub', key_added='rank_genes_sub', method='wilcoxon')` returns top ranked genes that are not (or should not be) in my `adata_sub` object. Thank you for any help/clarification as to what's goi",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2007
https://github.com/scverse/scanpy/issues/2007:1760,usability,error,error,1760,"g and clustering on `adata_sub`, I have noticed that I can plot genes that shouldn't be in `adata_sub` (but were in `adata`), and that when I run `sc.tl.rank_genes_groups` my results aren't restricted to my 990 genes of interest. I am guessing that I subsetted my data incorrectly (though, why would I have the correct shape?). ### Minimal code sample (that we can copy&paste without having any data). ```python. # subset adata to genes of interest. adata_sub = adata[:, [g in genes_list for g in adata.var_names]].copy(). # filter out cells that don't express any genes of interest. sc.pp.filter_cells(adata_sub, min_genes=1). # run new embedding and clustering. sc.pp.pca(adata_sub, n_comps=50, use_highly_variable=False, svd_solver='arpack'). sc.pp.neighbors(adata_sub). sc.tl.umap(adata_sub). sc.tl.leiden(adata_sub, key_added='leiden_sub'). ```. When I use `sc.pl.umap(adata_sub)` to plot expression of a gene that is _not_ one of my genes of interest, it is still plotted (I would expect an error telling me that the gene is not found in my `adata_sub` object). Similarly, the results of `sc.tl.rank_genes_groups(adata_sub, groupby='leiden_sub', key_added='rank_genes_sub', method='wilcoxon')` returns top ranked genes that are not (or should not be) in my `adata_sub` object. Thank you for any help/clarification as to what's going on! #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.8.1. sinfo 0.3.4. -----. PIL 8.3.2. anyio NA. attr 21.2.0. babel 2.9.1. backcall 0.2.0. beta_ufunc NA. binom_ufunc NA. certifi 2019.11.28. cffi 1.14.6. chardet 3.0.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. debugpy 1.4.3. decorator 5.1.0. defusedxml 0.7.1. entrypoints 0.3. gi 3.36.0. gio NA. glib NA. gobject NA. gtk NA. h5py 3.4.0. idna 2.8. igraph 0.9.6. ipykernel 6.4.1. ipython_genutils 0.2.0. ipywidgets 7.6.4. jedi 0.18.0. jinja2 3.0.1. joblib 1.0.1. json5 NA. jsonschema 3.2.0. jupyter_server 1.11.0. jupyterlab_server 2.8.1. kiwisolver 1.3.2. leidenalg 0.8.7. llvmlite 0.37.0. mark",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2007
https://github.com/scverse/scanpy/issues/2007:2064,usability,help,help,2064,"ave the correct shape?). ### Minimal code sample (that we can copy&paste without having any data). ```python. # subset adata to genes of interest. adata_sub = adata[:, [g in genes_list for g in adata.var_names]].copy(). # filter out cells that don't express any genes of interest. sc.pp.filter_cells(adata_sub, min_genes=1). # run new embedding and clustering. sc.pp.pca(adata_sub, n_comps=50, use_highly_variable=False, svd_solver='arpack'). sc.pp.neighbors(adata_sub). sc.tl.umap(adata_sub). sc.tl.leiden(adata_sub, key_added='leiden_sub'). ```. When I use `sc.pl.umap(adata_sub)` to plot expression of a gene that is _not_ one of my genes of interest, it is still plotted (I would expect an error telling me that the gene is not found in my `adata_sub` object). Similarly, the results of `sc.tl.rank_genes_groups(adata_sub, groupby='leiden_sub', key_added='rank_genes_sub', method='wilcoxon')` returns top ranked genes that are not (or should not be) in my `adata_sub` object. Thank you for any help/clarification as to what's going on! #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.8.1. sinfo 0.3.4. -----. PIL 8.3.2. anyio NA. attr 21.2.0. babel 2.9.1. backcall 0.2.0. beta_ufunc NA. binom_ufunc NA. certifi 2019.11.28. cffi 1.14.6. chardet 3.0.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. debugpy 1.4.3. decorator 5.1.0. defusedxml 0.7.1. entrypoints 0.3. gi 3.36.0. gio NA. glib NA. gobject NA. gtk NA. h5py 3.4.0. idna 2.8. igraph 0.9.6. ipykernel 6.4.1. ipython_genutils 0.2.0. ipywidgets 7.6.4. jedi 0.18.0. jinja2 3.0.1. joblib 1.0.1. json5 NA. jsonschema 3.2.0. jupyter_server 1.11.0. jupyterlab_server 2.8.1. kiwisolver 1.3.2. leidenalg 0.8.7. llvmlite 0.37.0. markupsafe 2.0.1. matplotlib 3.4.3. matplotlib_inline NA. mpl_toolkits NA. natsort 7.1.1. nbclassic NA. nbformat 5.1.3. nbinom_ufunc NA. networkx 2.6.3. numba 0.54.0. numexpr 2.7.3. numpy 1.20.0. packaging 21.0. pandas 1.3.2. parso 0.8.2. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prometheus_clien",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2007
https://github.com/scverse/scanpy/issues/2008:383,availability,error,error,383,"ValueError: Length of values (1) does not match length of index with sc.pp.calculate_qc_metrics(adata); - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I also tried 'log1p = False' and produced the other error. Thank you. . ```python. sc.pp.calculate_qc_metrics(adata). ```. ```pytb. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 294, in calculate_qc_metrics. obs_metrics = describe_obs(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 111, in describe_obs. obs_metrics[f""log1p_total_{expr_type}""] = np.log1p(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3612, in __setitem__. self._set_item(key, value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3784, in _set_item. value = self._sanitize_column(value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 4509, in _sanitize_column. com.require_length_match(value, self.index). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/common.py"", line 531, in require_length_match. raise ValueError(. ValueError: Length of values (1) does not match length of index (35255). >. ```. `sc.pp.calculate_qc_metrics(adata, log1p = False)`. ```. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 995, in __repr__. self.to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 1131, in to_string. return fmt.DataFrameRenderer(formatter).to_string(. File ""/root/miniconda3/envs/scanpy/lib/p",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:225,deployability,version,version,225,"ValueError: Length of values (1) does not match length of index with sc.pp.calculate_qc_metrics(adata); - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I also tried 'log1p = False' and produced the other error. Thank you. . ```python. sc.pp.calculate_qc_metrics(adata). ```. ```pytb. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 294, in calculate_qc_metrics. obs_metrics = describe_obs(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 111, in describe_obs. obs_metrics[f""log1p_total_{expr_type}""] = np.log1p(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3612, in __setitem__. self._set_item(key, value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3784, in _set_item. value = self._sanitize_column(value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 4509, in _sanitize_column. com.require_length_match(value, self.index). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/common.py"", line 531, in require_length_match. raise ValueError(. ValueError: Length of values (1) does not match length of index (35255). >. ```. `sc.pp.calculate_qc_metrics(adata, log1p = False)`. ```. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 995, in __repr__. self.to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 1131, in to_string. return fmt.DataFrameRenderer(formatter).to_string(. File ""/root/miniconda3/envs/scanpy/lib/p",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:527,deployability,modul,module,527,"ValueError: Length of values (1) does not match length of index with sc.pp.calculate_qc_metrics(adata); - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I also tried 'log1p = False' and produced the other error. Thank you. . ```python. sc.pp.calculate_qc_metrics(adata). ```. ```pytb. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 294, in calculate_qc_metrics. obs_metrics = describe_obs(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 111, in describe_obs. obs_metrics[f""log1p_total_{expr_type}""] = np.log1p(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3612, in __setitem__. self._set_item(key, value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3784, in _set_item. value = self._sanitize_column(value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 4509, in _sanitize_column. com.require_length_match(value, self.index). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/common.py"", line 531, in require_length_match. raise ValueError(. ValueError: Length of values (1) does not match length of index (35255). >. ```. `sc.pp.calculate_qc_metrics(adata, log1p = False)`. ```. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 995, in __repr__. self.to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 1131, in to_string. return fmt.DataFrameRenderer(formatter).to_string(. File ""/root/miniconda3/envs/scanpy/lib/p",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:1662,deployability,modul,module,1662,"bs_metrics = describe_obs(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 111, in describe_obs. obs_metrics[f""log1p_total_{expr_type}""] = np.log1p(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3612, in __setitem__. self._set_item(key, value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3784, in _set_item. value = self._sanitize_column(value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 4509, in _sanitize_column. com.require_length_match(value, self.index). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/common.py"", line 531, in require_length_match. raise ValueError(. ValueError: Length of values (1) does not match length of index (35255). >. ```. `sc.pp.calculate_qc_metrics(adata, log1p = False)`. ```. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 995, in __repr__. self.to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 1131, in to_string. return fmt.DataFrameRenderer(formatter).to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1053, in to_string. string = string_formatter.to_string(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 25, in to_string. text = self._get_string_representation(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 40, in _get_string_representation. strcols = self._get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 31, in _get_strcols. strcols = self.fmt.get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:4299,deployability,Version,Versions,4299,""", line 1271, in get_result. fmt_values = self._format_strings(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1518, in _format_strings. return list(self.get_result_as_array()). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1482, in get_result_as_array. formatted_values = format_values_with(float_format). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1456, in format_values_with. values = format_with_na_rep(values, formatter, na_rep). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1427, in format_with_na_rep. [. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1428, in <listcomp>. formatter(val) if not m else na_rep. ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all(). ```. #### Versions. <details>. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.1. -----. PIL 8.3.2. anndata 0.7.6. beta_ufunc NA. binom_ufunc NA. cffi 1.14.6. colorama 0.4.4. concurrent NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. dunamai 1.6.0. encodings NA. genericpath NA. get_version 3.5. h5py 3.4.0. joblib 1.0.1. kiwisolver 1.3.2. legacy_api_wrap 0.0.0. llvmlite 0.37.0. matplotlib 3.4.3. mpl_toolkits NA. natsort 7.1.1. nbinom_ufunc NA. ntpath NA. numba 0.54.0. numexpr 2.7.3. numpy 1.20.3. opcode NA. packaging 21.0. pandas 1.3.3. pkg_resources NA. posixpath NA. pycparser 2.20. pyexpat NA. pyparsing 2.4.7. pytz 2021.1. scanpy 1.7.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. six 1.16.0. sklearn 1.0. sphinxcontrib NA. sre_compile NA. sre_constants NA. sre_parse NA. tables 3.6.1. -----. Python 3.9.7 | packaged by conda-forge | (default, Sep 29 2021, 19:20:46) [GCC 9.4.0]. Linux-5.4.72-microsoft-standard-WSL2-x86_64-with-glibc2.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:5310,deployability,log,logical,5310,"lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1518, in _format_strings. return list(self.get_result_as_array()). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1482, in get_result_as_array. formatted_values = format_values_with(float_format). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1456, in format_values_with. values = format_with_na_rep(values, formatter, na_rep). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1427, in format_with_na_rep. [. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1428, in <listcomp>. formatter(val) if not m else na_rep. ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all(). ```. #### Versions. <details>. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.1. -----. PIL 8.3.2. anndata 0.7.6. beta_ufunc NA. binom_ufunc NA. cffi 1.14.6. colorama 0.4.4. concurrent NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. dunamai 1.6.0. encodings NA. genericpath NA. get_version 3.5. h5py 3.4.0. joblib 1.0.1. kiwisolver 1.3.2. legacy_api_wrap 0.0.0. llvmlite 0.37.0. matplotlib 3.4.3. mpl_toolkits NA. natsort 7.1.1. nbinom_ufunc NA. ntpath NA. numba 0.54.0. numexpr 2.7.3. numpy 1.20.3. opcode NA. packaging 21.0. pandas 1.3.3. pkg_resources NA. posixpath NA. pycparser 2.20. pyexpat NA. pyparsing 2.4.7. pytz 2021.1. scanpy 1.7.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. six 1.16.0. sklearn 1.0. sphinxcontrib NA. sre_compile NA. sre_constants NA. sre_parse NA. tables 3.6.1. -----. Python 3.9.7 | packaged by conda-forge | (default, Sep 29 2021, 19:20:46) [GCC 9.4.0]. Linux-5.4.72-microsoft-standard-WSL2-x86_64-with-glibc2.31. 24 logical CPU cores, x86_64. -----. Session information updated at 2021-10-01 14:56. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:5364,deployability,updat,updated,5364,"lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1518, in _format_strings. return list(self.get_result_as_array()). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1482, in get_result_as_array. formatted_values = format_values_with(float_format). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1456, in format_values_with. values = format_with_na_rep(values, formatter, na_rep). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1427, in format_with_na_rep. [. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1428, in <listcomp>. formatter(val) if not m else na_rep. ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all(). ```. #### Versions. <details>. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.1. -----. PIL 8.3.2. anndata 0.7.6. beta_ufunc NA. binom_ufunc NA. cffi 1.14.6. colorama 0.4.4. concurrent NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. dunamai 1.6.0. encodings NA. genericpath NA. get_version 3.5. h5py 3.4.0. joblib 1.0.1. kiwisolver 1.3.2. legacy_api_wrap 0.0.0. llvmlite 0.37.0. matplotlib 3.4.3. mpl_toolkits NA. natsort 7.1.1. nbinom_ufunc NA. ntpath NA. numba 0.54.0. numexpr 2.7.3. numpy 1.20.3. opcode NA. packaging 21.0. pandas 1.3.3. pkg_resources NA. posixpath NA. pycparser 2.20. pyexpat NA. pyparsing 2.4.7. pytz 2021.1. scanpy 1.7.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. six 1.16.0. sklearn 1.0. sphinxcontrib NA. sre_compile NA. sre_constants NA. sre_parse NA. tables 3.6.1. -----. Python 3.9.7 | packaged by conda-forge | (default, Sep 29 2021, 19:20:46) [GCC 9.4.0]. Linux-5.4.72-microsoft-standard-WSL2-x86_64-with-glibc2.31. 24 logical CPU cores, x86_64. -----. Session information updated at 2021-10-01 14:56. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:936,energy efficiency,core,core,936,"ValueError: Length of values (1) does not match length of index with sc.pp.calculate_qc_metrics(adata); - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I also tried 'log1p = False' and produced the other error. Thank you. . ```python. sc.pp.calculate_qc_metrics(adata). ```. ```pytb. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 294, in calculate_qc_metrics. obs_metrics = describe_obs(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 111, in describe_obs. obs_metrics[f""log1p_total_{expr_type}""] = np.log1p(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3612, in __setitem__. self._set_item(key, value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3784, in _set_item. value = self._sanitize_column(value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 4509, in _sanitize_column. com.require_length_match(value, self.index). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/common.py"", line 531, in require_length_match. raise ValueError(. ValueError: Length of values (1) does not match length of index (35255). >. ```. `sc.pp.calculate_qc_metrics(adata, log1p = False)`. ```. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 995, in __repr__. self.to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 1131, in to_string. return fmt.DataFrameRenderer(formatter).to_string(. File ""/root/miniconda3/envs/scanpy/lib/p",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:1077,energy efficiency,core,core,1077,"ulate_qc_metrics(adata); - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I also tried 'log1p = False' and produced the other error. Thank you. . ```python. sc.pp.calculate_qc_metrics(adata). ```. ```pytb. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 294, in calculate_qc_metrics. obs_metrics = describe_obs(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 111, in describe_obs. obs_metrics[f""log1p_total_{expr_type}""] = np.log1p(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3612, in __setitem__. self._set_item(key, value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3784, in _set_item. value = self._sanitize_column(value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 4509, in _sanitize_column. com.require_length_match(value, self.index). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/common.py"", line 531, in require_length_match. raise ValueError(. ValueError: Length of values (1) does not match length of index (35255). >. ```. `sc.pp.calculate_qc_metrics(adata, log1p = False)`. ```. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 995, in __repr__. self.to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 1131, in to_string. return fmt.DataFrameRenderer(formatter).to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1053, in to_string. s",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:1226,energy efficiency,core,core,1226,"sion of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I also tried 'log1p = False' and produced the other error. Thank you. . ```python. sc.pp.calculate_qc_metrics(adata). ```. ```pytb. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 294, in calculate_qc_metrics. obs_metrics = describe_obs(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 111, in describe_obs. obs_metrics[f""log1p_total_{expr_type}""] = np.log1p(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3612, in __setitem__. self._set_item(key, value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3784, in _set_item. value = self._sanitize_column(value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 4509, in _sanitize_column. com.require_length_match(value, self.index). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/common.py"", line 531, in require_length_match. raise ValueError(. ValueError: Length of values (1) does not match length of index (35255). >. ```. `sc.pp.calculate_qc_metrics(adata, log1p = False)`. ```. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 995, in __repr__. self.to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 1131, in to_string. return fmt.DataFrameRenderer(formatter).to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1053, in to_string. string = string_formatter.to_string(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 25, in to_str",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:1389,energy efficiency,core,core,1389,"hank you. . ```python. sc.pp.calculate_qc_metrics(adata). ```. ```pytb. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 294, in calculate_qc_metrics. obs_metrics = describe_obs(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 111, in describe_obs. obs_metrics[f""log1p_total_{expr_type}""] = np.log1p(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3612, in __setitem__. self._set_item(key, value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3784, in _set_item. value = self._sanitize_column(value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 4509, in _sanitize_column. com.require_length_match(value, self.index). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/common.py"", line 531, in require_length_match. raise ValueError(. ValueError: Length of values (1) does not match length of index (35255). >. ```. `sc.pp.calculate_qc_metrics(adata, log1p = False)`. ```. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 995, in __repr__. self.to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 1131, in to_string. return fmt.DataFrameRenderer(formatter).to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1053, in to_string. string = string_formatter.to_string(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 25, in to_string. text = self._get_string_representation(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 40, in _get_string",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:1741,energy efficiency,core,core,1741,"ite-packages/scanpy/preprocessing/_qc.py"", line 111, in describe_obs. obs_metrics[f""log1p_total_{expr_type}""] = np.log1p(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3612, in __setitem__. self._set_item(key, value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3784, in _set_item. value = self._sanitize_column(value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 4509, in _sanitize_column. com.require_length_match(value, self.index). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/common.py"", line 531, in require_length_match. raise ValueError(. ValueError: Length of values (1) does not match length of index (35255). >. ```. `sc.pp.calculate_qc_metrics(adata, log1p = False)`. ```. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 995, in __repr__. self.to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 1131, in to_string. return fmt.DataFrameRenderer(formatter).to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1053, in to_string. string = string_formatter.to_string(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 25, in to_string. text = self._get_string_representation(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 40, in _get_string_representation. strcols = self._get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 31, in _get_strcols. strcols = self.fmt.get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 540, in get_strcols. strcols = self._get_strcols_with",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:1867,energy efficiency,core,core,1867,"e ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3612, in __setitem__. self._set_item(key, value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3784, in _set_item. value = self._sanitize_column(value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 4509, in _sanitize_column. com.require_length_match(value, self.index). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/common.py"", line 531, in require_length_match. raise ValueError(. ValueError: Length of values (1) does not match length of index (35255). >. ```. `sc.pp.calculate_qc_metrics(adata, log1p = False)`. ```. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 995, in __repr__. self.to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 1131, in to_string. return fmt.DataFrameRenderer(formatter).to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1053, in to_string. string = string_formatter.to_string(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 25, in to_string. text = self._get_string_representation(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 40, in _get_string_representation. strcols = self._get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 31, in _get_strcols. strcols = self.fmt.get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 540, in get_strcols. strcols = self._get_strcols_without_index(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 804, in _get_st",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:5318,energy efficiency,CPU,CPU,5318,"lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1518, in _format_strings. return list(self.get_result_as_array()). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1482, in get_result_as_array. formatted_values = format_values_with(float_format). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1456, in format_values_with. values = format_with_na_rep(values, formatter, na_rep). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1427, in format_with_na_rep. [. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1428, in <listcomp>. formatter(val) if not m else na_rep. ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all(). ```. #### Versions. <details>. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.1. -----. PIL 8.3.2. anndata 0.7.6. beta_ufunc NA. binom_ufunc NA. cffi 1.14.6. colorama 0.4.4. concurrent NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. dunamai 1.6.0. encodings NA. genericpath NA. get_version 3.5. h5py 3.4.0. joblib 1.0.1. kiwisolver 1.3.2. legacy_api_wrap 0.0.0. llvmlite 0.37.0. matplotlib 3.4.3. mpl_toolkits NA. natsort 7.1.1. nbinom_ufunc NA. ntpath NA. numba 0.54.0. numexpr 2.7.3. numpy 1.20.3. opcode NA. packaging 21.0. pandas 1.3.3. pkg_resources NA. posixpath NA. pycparser 2.20. pyexpat NA. pyparsing 2.4.7. pytz 2021.1. scanpy 1.7.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. six 1.16.0. sklearn 1.0. sphinxcontrib NA. sre_compile NA. sre_constants NA. sre_parse NA. tables 3.6.1. -----. Python 3.9.7 | packaged by conda-forge | (default, Sep 29 2021, 19:20:46) [GCC 9.4.0]. Linux-5.4.72-microsoft-standard-WSL2-x86_64-with-glibc2.31. 24 logical CPU cores, x86_64. -----. Session information updated at 2021-10-01 14:56. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:5322,energy efficiency,core,cores,5322,"lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1518, in _format_strings. return list(self.get_result_as_array()). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1482, in get_result_as_array. formatted_values = format_values_with(float_format). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1456, in format_values_with. values = format_with_na_rep(values, formatter, na_rep). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1427, in format_with_na_rep. [. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1428, in <listcomp>. formatter(val) if not m else na_rep. ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all(). ```. #### Versions. <details>. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.1. -----. PIL 8.3.2. anndata 0.7.6. beta_ufunc NA. binom_ufunc NA. cffi 1.14.6. colorama 0.4.4. concurrent NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. dunamai 1.6.0. encodings NA. genericpath NA. get_version 3.5. h5py 3.4.0. joblib 1.0.1. kiwisolver 1.3.2. legacy_api_wrap 0.0.0. llvmlite 0.37.0. matplotlib 3.4.3. mpl_toolkits NA. natsort 7.1.1. nbinom_ufunc NA. ntpath NA. numba 0.54.0. numexpr 2.7.3. numpy 1.20.3. opcode NA. packaging 21.0. pandas 1.3.3. pkg_resources NA. posixpath NA. pycparser 2.20. pyexpat NA. pyparsing 2.4.7. pytz 2021.1. scanpy 1.7.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. six 1.16.0. sklearn 1.0. sphinxcontrib NA. sre_compile NA. sre_constants NA. sre_parse NA. tables 3.6.1. -----. Python 3.9.7 | packaged by conda-forge | (default, Sep 29 2021, 19:20:46) [GCC 9.4.0]. Linux-5.4.72-microsoft-standard-WSL2-x86_64-with-glibc2.31. 24 logical CPU cores, x86_64. -----. Session information updated at 2021-10-01 14:56. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:225,integrability,version,version,225,"ValueError: Length of values (1) does not match length of index with sc.pp.calculate_qc_metrics(adata); - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I also tried 'log1p = False' and produced the other error. Thank you. . ```python. sc.pp.calculate_qc_metrics(adata). ```. ```pytb. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 294, in calculate_qc_metrics. obs_metrics = describe_obs(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 111, in describe_obs. obs_metrics[f""log1p_total_{expr_type}""] = np.log1p(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3612, in __setitem__. self._set_item(key, value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3784, in _set_item. value = self._sanitize_column(value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 4509, in _sanitize_column. com.require_length_match(value, self.index). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/common.py"", line 531, in require_length_match. raise ValueError(. ValueError: Length of values (1) does not match length of index (35255). >. ```. `sc.pp.calculate_qc_metrics(adata, log1p = False)`. ```. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 995, in __repr__. self.to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 1131, in to_string. return fmt.DataFrameRenderer(formatter).to_string(. File ""/root/miniconda3/envs/scanpy/lib/p",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:4299,integrability,Version,Versions,4299,""", line 1271, in get_result. fmt_values = self._format_strings(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1518, in _format_strings. return list(self.get_result_as_array()). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1482, in get_result_as_array. formatted_values = format_values_with(float_format). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1456, in format_values_with. values = format_with_na_rep(values, formatter, na_rep). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1427, in format_with_na_rep. [. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1428, in <listcomp>. formatter(val) if not m else na_rep. ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all(). ```. #### Versions. <details>. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.1. -----. PIL 8.3.2. anndata 0.7.6. beta_ufunc NA. binom_ufunc NA. cffi 1.14.6. colorama 0.4.4. concurrent NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. dunamai 1.6.0. encodings NA. genericpath NA. get_version 3.5. h5py 3.4.0. joblib 1.0.1. kiwisolver 1.3.2. legacy_api_wrap 0.0.0. llvmlite 0.37.0. matplotlib 3.4.3. mpl_toolkits NA. natsort 7.1.1. nbinom_ufunc NA. ntpath NA. numba 0.54.0. numexpr 2.7.3. numpy 1.20.3. opcode NA. packaging 21.0. pandas 1.3.3. pkg_resources NA. posixpath NA. pycparser 2.20. pyexpat NA. pyparsing 2.4.7. pytz 2021.1. scanpy 1.7.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. six 1.16.0. sklearn 1.0. sphinxcontrib NA. sre_compile NA. sre_constants NA. sre_parse NA. tables 3.6.1. -----. Python 3.9.7 | packaged by conda-forge | (default, Sep 29 2021, 19:20:46) [GCC 9.4.0]. Linux-5.4.72-microsoft-standard-WSL2-x86_64-with-glibc2.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:1937,interoperability,format,formatter,1937,"rame.py"", line 3612, in __setitem__. self._set_item(key, value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3784, in _set_item. value = self._sanitize_column(value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 4509, in _sanitize_column. com.require_length_match(value, self.index). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/common.py"", line 531, in require_length_match. raise ValueError(. ValueError: Length of values (1) does not match length of index (35255). >. ```. `sc.pp.calculate_qc_metrics(adata, log1p = False)`. ```. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 995, in __repr__. self.to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 1131, in to_string. return fmt.DataFrameRenderer(formatter).to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1053, in to_string. string = string_formatter.to_string(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 25, in to_string. text = self._get_string_representation(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 40, in _get_string_representation. strcols = self._get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 31, in _get_strcols. strcols = self.fmt.get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 540, in get_strcols. strcols = self._get_strcols_without_index(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 804, in _get_strcols_without_index. fmt_values = self.format_col(i). File ""/root/minicon",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:2033,interoperability,format,formats,2033,"anpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3784, in _set_item. value = self._sanitize_column(value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 4509, in _sanitize_column. com.require_length_match(value, self.index). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/common.py"", line 531, in require_length_match. raise ValueError(. ValueError: Length of values (1) does not match length of index (35255). >. ```. `sc.pp.calculate_qc_metrics(adata, log1p = False)`. ```. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 995, in __repr__. self.to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 1131, in to_string. return fmt.DataFrameRenderer(formatter).to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1053, in to_string. string = string_formatter.to_string(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 25, in to_string. text = self._get_string_representation(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 40, in _get_string_representation. strcols = self._get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 31, in _get_strcols. strcols = self.fmt.get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 540, in get_strcols. strcols = self._get_strcols_without_index(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 804, in _get_strcols_without_index. fmt_values = self.format_col(i). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 818, in format_c",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:2041,interoperability,format,format,2041,"b/python3.9/site-packages/pandas/core/frame.py"", line 3784, in _set_item. value = self._sanitize_column(value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 4509, in _sanitize_column. com.require_length_match(value, self.index). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/common.py"", line 531, in require_length_match. raise ValueError(. ValueError: Length of values (1) does not match length of index (35255). >. ```. `sc.pp.calculate_qc_metrics(adata, log1p = False)`. ```. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 995, in __repr__. self.to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 1131, in to_string. return fmt.DataFrameRenderer(formatter).to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1053, in to_string. string = string_formatter.to_string(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 25, in to_string. text = self._get_string_representation(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 40, in _get_string_representation. strcols = self._get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 31, in _get_strcols. strcols = self.fmt.get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 540, in get_strcols. strcols = self._get_strcols_without_index(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 804, in _get_strcols_without_index. fmt_values = self.format_col(i). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 818, in format_col. ret",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:2190,interoperability,format,formats,2190,"/python3.9/site-packages/pandas/core/frame.py"", line 4509, in _sanitize_column. com.require_length_match(value, self.index). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/common.py"", line 531, in require_length_match. raise ValueError(. ValueError: Length of values (1) does not match length of index (35255). >. ```. `sc.pp.calculate_qc_metrics(adata, log1p = False)`. ```. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 995, in __repr__. self.to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 1131, in to_string. return fmt.DataFrameRenderer(formatter).to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1053, in to_string. string = string_formatter.to_string(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 25, in to_string. text = self._get_string_representation(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 40, in _get_string_representation. strcols = self._get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 31, in _get_strcols. strcols = self.fmt.get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 540, in get_strcols. strcols = self._get_strcols_without_index(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 804, in _get_strcols_without_index. fmt_values = self.format_col(i). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 818, in format_col. return format_array(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1240, in format_array. return fmt",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:2348,interoperability,format,formats,2348,"y/lib/python3.9/site-packages/pandas/core/common.py"", line 531, in require_length_match. raise ValueError(. ValueError: Length of values (1) does not match length of index (35255). >. ```. `sc.pp.calculate_qc_metrics(adata, log1p = False)`. ```. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 995, in __repr__. self.to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 1131, in to_string. return fmt.DataFrameRenderer(formatter).to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1053, in to_string. string = string_formatter.to_string(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 25, in to_string. text = self._get_string_representation(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 40, in _get_string_representation. strcols = self._get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 31, in _get_strcols. strcols = self.fmt.get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 540, in get_strcols. strcols = self._get_strcols_without_index(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 804, in _get_strcols_without_index. fmt_values = self.format_col(i). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 818, in format_col. return format_array(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1240, in format_array. return fmt_obj.get_result(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1271, in get_result. fmt_values = self._f",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:2512,interoperability,format,formats,2512,"f index (35255). >. ```. `sc.pp.calculate_qc_metrics(adata, log1p = False)`. ```. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 995, in __repr__. self.to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 1131, in to_string. return fmt.DataFrameRenderer(formatter).to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1053, in to_string. string = string_formatter.to_string(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 25, in to_string. text = self._get_string_representation(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 40, in _get_string_representation. strcols = self._get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 31, in _get_strcols. strcols = self.fmt.get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 540, in get_strcols. strcols = self._get_strcols_without_index(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 804, in _get_strcols_without_index. fmt_values = self.format_col(i). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 818, in format_col. return format_array(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1240, in format_array. return fmt_obj.get_result(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1271, in get_result. fmt_values = self._format_strings(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1518, in _format_strings. return list(self.get_re",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:2665,interoperability,format,formats,2665,". File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 995, in __repr__. self.to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 1131, in to_string. return fmt.DataFrameRenderer(formatter).to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1053, in to_string. string = string_formatter.to_string(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 25, in to_string. text = self._get_string_representation(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 40, in _get_string_representation. strcols = self._get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 31, in _get_strcols. strcols = self.fmt.get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 540, in get_strcols. strcols = self._get_strcols_without_index(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 804, in _get_strcols_without_index. fmt_values = self.format_col(i). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 818, in format_col. return format_array(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1240, in format_array. return fmt_obj.get_result(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1271, in get_result. fmt_values = self._format_strings(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1518, in _format_strings. return list(self.get_result_as_array()). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1482, in get_result_as_array. formatt",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:2673,interoperability,format,format,2673,"""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 995, in __repr__. self.to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 1131, in to_string. return fmt.DataFrameRenderer(formatter).to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1053, in to_string. string = string_formatter.to_string(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 25, in to_string. text = self._get_string_representation(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 40, in _get_string_representation. strcols = self._get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 31, in _get_strcols. strcols = self.fmt.get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 540, in get_strcols. strcols = self._get_strcols_without_index(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 804, in _get_strcols_without_index. fmt_values = self.format_col(i). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 818, in format_col. return format_array(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1240, in format_array. return fmt_obj.get_result(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1271, in get_result. fmt_values = self._format_strings(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1518, in _format_strings. return list(self.get_result_as_array()). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1482, in get_result_as_array. formatted_valu",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:2829,interoperability,format,formats,2829,"ib/python3.9/site-packages/pandas/core/frame.py"", line 1131, in to_string. return fmt.DataFrameRenderer(formatter).to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1053, in to_string. string = string_formatter.to_string(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 25, in to_string. text = self._get_string_representation(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 40, in _get_string_representation. strcols = self._get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 31, in _get_strcols. strcols = self.fmt.get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 540, in get_strcols. strcols = self._get_strcols_without_index(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 804, in _get_strcols_without_index. fmt_values = self.format_col(i). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 818, in format_col. return format_array(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1240, in format_array. return fmt_obj.get_result(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1271, in get_result. fmt_values = self._format_strings(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1518, in _format_strings. return list(self.get_result_as_array()). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1482, in get_result_as_array. formatted_values = format_values_with(float_format). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1456, in format_valu",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:2837,interoperability,format,format,2837,"on3.9/site-packages/pandas/core/frame.py"", line 1131, in to_string. return fmt.DataFrameRenderer(formatter).to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1053, in to_string. string = string_formatter.to_string(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 25, in to_string. text = self._get_string_representation(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 40, in _get_string_representation. strcols = self._get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 31, in _get_strcols. strcols = self.fmt.get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 540, in get_strcols. strcols = self._get_strcols_without_index(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 804, in _get_strcols_without_index. fmt_values = self.format_col(i). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 818, in format_col. return format_array(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1240, in format_array. return fmt_obj.get_result(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1271, in get_result. fmt_values = self._format_strings(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1518, in _format_strings. return list(self.get_result_as_array()). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1482, in get_result_as_array. formatted_values = format_values_with(float_format). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1456, in format_values_with",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:2996,interoperability,format,formats,2996,"ython3.9/site-packages/pandas/io/formats/format.py"", line 1053, in to_string. string = string_formatter.to_string(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 25, in to_string. text = self._get_string_representation(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 40, in _get_string_representation. strcols = self._get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 31, in _get_strcols. strcols = self.fmt.get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 540, in get_strcols. strcols = self._get_strcols_without_index(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 804, in _get_strcols_without_index. fmt_values = self.format_col(i). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 818, in format_col. return format_array(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1240, in format_array. return fmt_obj.get_result(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1271, in get_result. fmt_values = self._format_strings(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1518, in _format_strings. return list(self.get_result_as_array()). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1482, in get_result_as_array. formatted_values = format_values_with(float_format). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1456, in format_values_with. values = format_with_na_rep(values, formatter, na_rep). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1427",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:3004,interoperability,format,format,3004,"9/site-packages/pandas/io/formats/format.py"", line 1053, in to_string. string = string_formatter.to_string(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 25, in to_string. text = self._get_string_representation(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 40, in _get_string_representation. strcols = self._get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 31, in _get_strcols. strcols = self.fmt.get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 540, in get_strcols. strcols = self._get_strcols_without_index(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 804, in _get_strcols_without_index. fmt_values = self.format_col(i). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 818, in format_col. return format_array(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1240, in format_array. return fmt_obj.get_result(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1271, in get_result. fmt_values = self._format_strings(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1518, in _format_strings. return list(self.get_result_as_array()). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1482, in get_result_as_array. formatted_values = format_values_with(float_format). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1456, in format_values_with. values = format_with_na_rep(values, formatter, na_rep). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1427, in fo",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:3136,interoperability,format,formats,3136,"envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 25, in to_string. text = self._get_string_representation(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 40, in _get_string_representation. strcols = self._get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 31, in _get_strcols. strcols = self.fmt.get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 540, in get_strcols. strcols = self._get_strcols_without_index(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 804, in _get_strcols_without_index. fmt_values = self.format_col(i). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 818, in format_col. return format_array(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1240, in format_array. return fmt_obj.get_result(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1271, in get_result. fmt_values = self._format_strings(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1518, in _format_strings. return list(self.get_result_as_array()). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1482, in get_result_as_array. formatted_values = format_values_with(float_format). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1456, in format_values_with. values = format_with_na_rep(values, formatter, na_rep). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1427, in format_with_na_rep. [. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1428, in <list",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:3144,interoperability,format,format,3144,"anpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 25, in to_string. text = self._get_string_representation(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 40, in _get_string_representation. strcols = self._get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 31, in _get_strcols. strcols = self.fmt.get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 540, in get_strcols. strcols = self._get_strcols_without_index(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 804, in _get_strcols_without_index. fmt_values = self.format_col(i). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 818, in format_col. return format_array(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1240, in format_array. return fmt_obj.get_result(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1271, in get_result. fmt_values = self._format_strings(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1518, in _format_strings. return list(self.get_result_as_array()). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1482, in get_result_as_array. formatted_values = format_values_with(float_format). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1456, in format_values_with. values = format_with_na_rep(values, formatter, na_rep). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1427, in format_with_na_rep. [. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1428, in <listcomp>. ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:3286,interoperability,format,formats,3286,"iconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 40, in _get_string_representation. strcols = self._get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 31, in _get_strcols. strcols = self.fmt.get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 540, in get_strcols. strcols = self._get_strcols_without_index(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 804, in _get_strcols_without_index. fmt_values = self.format_col(i). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 818, in format_col. return format_array(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1240, in format_array. return fmt_obj.get_result(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1271, in get_result. fmt_values = self._format_strings(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1518, in _format_strings. return list(self.get_result_as_array()). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1482, in get_result_as_array. formatted_values = format_values_with(float_format). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1456, in format_values_with. values = format_with_na_rep(values, formatter, na_rep). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1427, in format_with_na_rep. [. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1428, in <listcomp>. formatter(val) if not m else na_rep. ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all(). `",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:3294,interoperability,format,format,3294,"/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 40, in _get_string_representation. strcols = self._get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 31, in _get_strcols. strcols = self.fmt.get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 540, in get_strcols. strcols = self._get_strcols_without_index(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 804, in _get_strcols_without_index. fmt_values = self.format_col(i). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 818, in format_col. return format_array(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1240, in format_array. return fmt_obj.get_result(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1271, in get_result. fmt_values = self._format_strings(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1518, in _format_strings. return list(self.get_result_as_array()). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1482, in get_result_as_array. formatted_values = format_values_with(float_format). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1456, in format_values_with. values = format_with_na_rep(values, formatter, na_rep). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1427, in format_with_na_rep. [. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1428, in <listcomp>. formatter(val) if not m else na_rep. ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all(). ```. ###",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:3442,interoperability,format,formats,3442,"root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 31, in _get_strcols. strcols = self.fmt.get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 540, in get_strcols. strcols = self._get_strcols_without_index(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 804, in _get_strcols_without_index. fmt_values = self.format_col(i). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 818, in format_col. return format_array(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1240, in format_array. return fmt_obj.get_result(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1271, in get_result. fmt_values = self._format_strings(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1518, in _format_strings. return list(self.get_result_as_array()). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1482, in get_result_as_array. formatted_values = format_values_with(float_format). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1456, in format_values_with. values = format_with_na_rep(values, formatter, na_rep). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1427, in format_with_na_rep. [. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1428, in <listcomp>. formatter(val) if not m else na_rep. ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all(). ```. #### Versions. <details>. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.1. -----. PIL 8.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:3450,interoperability,format,format,3450,"niconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 31, in _get_strcols. strcols = self.fmt.get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 540, in get_strcols. strcols = self._get_strcols_without_index(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 804, in _get_strcols_without_index. fmt_values = self.format_col(i). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 818, in format_col. return format_array(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1240, in format_array. return fmt_obj.get_result(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1271, in get_result. fmt_values = self._format_strings(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1518, in _format_strings. return list(self.get_result_as_array()). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1482, in get_result_as_array. formatted_values = format_values_with(float_format). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1456, in format_values_with. values = format_with_na_rep(values, formatter, na_rep). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1427, in format_with_na_rep. [. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1428, in <listcomp>. formatter(val) if not m else na_rep. ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all(). ```. #### Versions. <details>. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.1. -----. PIL 8.3.2. an",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:3607,interoperability,format,formats,3607,"da3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 540, in get_strcols. strcols = self._get_strcols_without_index(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 804, in _get_strcols_without_index. fmt_values = self.format_col(i). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 818, in format_col. return format_array(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1240, in format_array. return fmt_obj.get_result(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1271, in get_result. fmt_values = self._format_strings(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1518, in _format_strings. return list(self.get_result_as_array()). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1482, in get_result_as_array. formatted_values = format_values_with(float_format). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1456, in format_values_with. values = format_with_na_rep(values, formatter, na_rep). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1427, in format_with_na_rep. [. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1428, in <listcomp>. formatter(val) if not m else na_rep. ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all(). ```. #### Versions. <details>. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.1. -----. PIL 8.3.2. anndata 0.7.6. beta_ufunc NA. binom_ufunc NA. cffi 1.14.6. colorama 0.4.4. concurrent NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. dunamai 1.6.0. encod",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:3615,interoperability,format,format,3615,"s/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 540, in get_strcols. strcols = self._get_strcols_without_index(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 804, in _get_strcols_without_index. fmt_values = self.format_col(i). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 818, in format_col. return format_array(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1240, in format_array. return fmt_obj.get_result(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1271, in get_result. fmt_values = self._format_strings(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1518, in _format_strings. return list(self.get_result_as_array()). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1482, in get_result_as_array. formatted_values = format_values_with(float_format). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1456, in format_values_with. values = format_with_na_rep(values, formatter, na_rep). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1427, in format_with_na_rep. [. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1428, in <listcomp>. formatter(val) if not m else na_rep. ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all(). ```. #### Versions. <details>. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.1. -----. PIL 8.3.2. anndata 0.7.6. beta_ufunc NA. binom_ufunc NA. cffi 1.14.6. colorama 0.4.4. concurrent NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. dunamai 1.6.0. encodings NA",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:3788,interoperability,format,formats,3788,"ib/python3.9/site-packages/pandas/io/formats/format.py"", line 804, in _get_strcols_without_index. fmt_values = self.format_col(i). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 818, in format_col. return format_array(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1240, in format_array. return fmt_obj.get_result(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1271, in get_result. fmt_values = self._format_strings(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1518, in _format_strings. return list(self.get_result_as_array()). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1482, in get_result_as_array. formatted_values = format_values_with(float_format). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1456, in format_values_with. values = format_with_na_rep(values, formatter, na_rep). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1427, in format_with_na_rep. [. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1428, in <listcomp>. formatter(val) if not m else na_rep. ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all(). ```. #### Versions. <details>. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.1. -----. PIL 8.3.2. anndata 0.7.6. beta_ufunc NA. binom_ufunc NA. cffi 1.14.6. colorama 0.4.4. concurrent NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. dunamai 1.6.0. encodings NA. genericpath NA. get_version 3.5. h5py 3.4.0. joblib 1.0.1. kiwisolver 1.3.2. legacy_api_wrap 0.0.0. llvmlite 0.37.0. matplotlib 3.4.3. mpl_toolkits NA. natsort 7.1.1. nbino",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:3796,interoperability,format,format,3796,"on3.9/site-packages/pandas/io/formats/format.py"", line 804, in _get_strcols_without_index. fmt_values = self.format_col(i). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 818, in format_col. return format_array(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1240, in format_array. return fmt_obj.get_result(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1271, in get_result. fmt_values = self._format_strings(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1518, in _format_strings. return list(self.get_result_as_array()). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1482, in get_result_as_array. formatted_values = format_values_with(float_format). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1456, in format_values_with. values = format_with_na_rep(values, formatter, na_rep). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1427, in format_with_na_rep. [. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1428, in <listcomp>. formatter(val) if not m else na_rep. ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all(). ```. #### Versions. <details>. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.1. -----. PIL 8.3.2. anndata 0.7.6. beta_ufunc NA. binom_ufunc NA. cffi 1.14.6. colorama 0.4.4. concurrent NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. dunamai 1.6.0. encodings NA. genericpath NA. get_version 3.5. h5py 3.4.0. joblib 1.0.1. kiwisolver 1.3.2. legacy_api_wrap 0.0.0. llvmlite 0.37.0. matplotlib 3.4.3. mpl_toolkits NA. natsort 7.1.1. nbinom_ufunc",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:3878,interoperability,format,formatter,3878,"index. fmt_values = self.format_col(i). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 818, in format_col. return format_array(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1240, in format_array. return fmt_obj.get_result(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1271, in get_result. fmt_values = self._format_strings(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1518, in _format_strings. return list(self.get_result_as_array()). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1482, in get_result_as_array. formatted_values = format_values_with(float_format). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1456, in format_values_with. values = format_with_na_rep(values, formatter, na_rep). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1427, in format_with_na_rep. [. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1428, in <listcomp>. formatter(val) if not m else na_rep. ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all(). ```. #### Versions. <details>. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.1. -----. PIL 8.3.2. anndata 0.7.6. beta_ufunc NA. binom_ufunc NA. cffi 1.14.6. colorama 0.4.4. concurrent NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. dunamai 1.6.0. encodings NA. genericpath NA. get_version 3.5. h5py 3.4.0. joblib 1.0.1. kiwisolver 1.3.2. legacy_api_wrap 0.0.0. llvmlite 0.37.0. matplotlib 3.4.3. mpl_toolkits NA. natsort 7.1.1. nbinom_ufunc NA. ntpath NA. numba 0.54.0. numexpr 2.7.3. numpy 1.20.3. opcode NA. packaging 21.0",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:3971,interoperability,format,formats,3971,"e-packages/pandas/io/formats/format.py"", line 818, in format_col. return format_array(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1240, in format_array. return fmt_obj.get_result(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1271, in get_result. fmt_values = self._format_strings(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1518, in _format_strings. return list(self.get_result_as_array()). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1482, in get_result_as_array. formatted_values = format_values_with(float_format). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1456, in format_values_with. values = format_with_na_rep(values, formatter, na_rep). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1427, in format_with_na_rep. [. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1428, in <listcomp>. formatter(val) if not m else na_rep. ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all(). ```. #### Versions. <details>. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.1. -----. PIL 8.3.2. anndata 0.7.6. beta_ufunc NA. binom_ufunc NA. cffi 1.14.6. colorama 0.4.4. concurrent NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. dunamai 1.6.0. encodings NA. genericpath NA. get_version 3.5. h5py 3.4.0. joblib 1.0.1. kiwisolver 1.3.2. legacy_api_wrap 0.0.0. llvmlite 0.37.0. matplotlib 3.4.3. mpl_toolkits NA. natsort 7.1.1. nbinom_ufunc NA. ntpath NA. numba 0.54.0. numexpr 2.7.3. numpy 1.20.3. opcode NA. packaging 21.0. pandas 1.3.3. pkg_resources NA. posixpath NA. pycparser 2.20. pyexpat NA. pyparsing 2.4.7.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:3979,interoperability,format,format,3979,"ges/pandas/io/formats/format.py"", line 818, in format_col. return format_array(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1240, in format_array. return fmt_obj.get_result(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1271, in get_result. fmt_values = self._format_strings(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1518, in _format_strings. return list(self.get_result_as_array()). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1482, in get_result_as_array. formatted_values = format_values_with(float_format). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1456, in format_values_with. values = format_with_na_rep(values, formatter, na_rep). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1427, in format_with_na_rep. [. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1428, in <listcomp>. formatter(val) if not m else na_rep. ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all(). ```. #### Versions. <details>. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.1. -----. PIL 8.3.2. anndata 0.7.6. beta_ufunc NA. binom_ufunc NA. cffi 1.14.6. colorama 0.4.4. concurrent NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. dunamai 1.6.0. encodings NA. genericpath NA. get_version 3.5. h5py 3.4.0. joblib 1.0.1. kiwisolver 1.3.2. legacy_api_wrap 0.0.0. llvmlite 0.37.0. matplotlib 3.4.3. mpl_toolkits NA. natsort 7.1.1. nbinom_ufunc NA. ntpath NA. numba 0.54.0. numexpr 2.7.3. numpy 1.20.3. opcode NA. packaging 21.0. pandas 1.3.3. pkg_resources NA. posixpath NA. pycparser 2.20. pyexpat NA. pyparsing 2.4.7. pytz 2",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:4101,interoperability,format,formats,4101,"hon3.9/site-packages/pandas/io/formats/format.py"", line 1240, in format_array. return fmt_obj.get_result(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1271, in get_result. fmt_values = self._format_strings(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1518, in _format_strings. return list(self.get_result_as_array()). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1482, in get_result_as_array. formatted_values = format_values_with(float_format). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1456, in format_values_with. values = format_with_na_rep(values, formatter, na_rep). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1427, in format_with_na_rep. [. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1428, in <listcomp>. formatter(val) if not m else na_rep. ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all(). ```. #### Versions. <details>. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.1. -----. PIL 8.3.2. anndata 0.7.6. beta_ufunc NA. binom_ufunc NA. cffi 1.14.6. colorama 0.4.4. concurrent NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. dunamai 1.6.0. encodings NA. genericpath NA. get_version 3.5. h5py 3.4.0. joblib 1.0.1. kiwisolver 1.3.2. legacy_api_wrap 0.0.0. llvmlite 0.37.0. matplotlib 3.4.3. mpl_toolkits NA. natsort 7.1.1. nbinom_ufunc NA. ntpath NA. numba 0.54.0. numexpr 2.7.3. numpy 1.20.3. opcode NA. packaging 21.0. pandas 1.3.3. pkg_resources NA. posixpath NA. pycparser 2.20. pyexpat NA. pyparsing 2.4.7. pytz 2021.1. scanpy 1.7.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. six 1.16.0. sklearn 1.0. sphinxcontrib NA. sre_compile NA",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:4109,interoperability,format,format,4109,"site-packages/pandas/io/formats/format.py"", line 1240, in format_array. return fmt_obj.get_result(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1271, in get_result. fmt_values = self._format_strings(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1518, in _format_strings. return list(self.get_result_as_array()). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1482, in get_result_as_array. formatted_values = format_values_with(float_format). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1456, in format_values_with. values = format_with_na_rep(values, formatter, na_rep). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1427, in format_with_na_rep. [. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1428, in <listcomp>. formatter(val) if not m else na_rep. ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all(). ```. #### Versions. <details>. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.1. -----. PIL 8.3.2. anndata 0.7.6. beta_ufunc NA. binom_ufunc NA. cffi 1.14.6. colorama 0.4.4. concurrent NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. dunamai 1.6.0. encodings NA. genericpath NA. get_version 3.5. h5py 3.4.0. joblib 1.0.1. kiwisolver 1.3.2. legacy_api_wrap 0.0.0. llvmlite 0.37.0. matplotlib 3.4.3. mpl_toolkits NA. natsort 7.1.1. nbinom_ufunc NA. ntpath NA. numba 0.54.0. numexpr 2.7.3. numpy 1.20.3. opcode NA. packaging 21.0. pandas 1.3.3. pkg_resources NA. posixpath NA. pycparser 2.20. pyexpat NA. pyparsing 2.4.7. pytz 2021.1. scanpy 1.7.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. six 1.16.0. sklearn 1.0. sphinxcontrib NA. sre_compile NA. sre_c",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:4147,interoperability,format,formatter,4147,"y"", line 1240, in format_array. return fmt_obj.get_result(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1271, in get_result. fmt_values = self._format_strings(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1518, in _format_strings. return list(self.get_result_as_array()). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1482, in get_result_as_array. formatted_values = format_values_with(float_format). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1456, in format_values_with. values = format_with_na_rep(values, formatter, na_rep). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1427, in format_with_na_rep. [. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1428, in <listcomp>. formatter(val) if not m else na_rep. ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all(). ```. #### Versions. <details>. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.1. -----. PIL 8.3.2. anndata 0.7.6. beta_ufunc NA. binom_ufunc NA. cffi 1.14.6. colorama 0.4.4. concurrent NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. dunamai 1.6.0. encodings NA. genericpath NA. get_version 3.5. h5py 3.4.0. joblib 1.0.1. kiwisolver 1.3.2. legacy_api_wrap 0.0.0. llvmlite 0.37.0. matplotlib 3.4.3. mpl_toolkits NA. natsort 7.1.1. nbinom_ufunc NA. ntpath NA. numba 0.54.0. numexpr 2.7.3. numpy 1.20.3. opcode NA. packaging 21.0. pandas 1.3.3. pkg_resources NA. posixpath NA. pycparser 2.20. pyexpat NA. pyparsing 2.4.7. pytz 2021.1. scanpy 1.7.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. six 1.16.0. sklearn 1.0. sphinxcontrib NA. sre_compile NA. sre_constants NA. sre_parse NA. tables 3.6.1.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:5270,interoperability,standard,standard-,5270,"lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1518, in _format_strings. return list(self.get_result_as_array()). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1482, in get_result_as_array. formatted_values = format_values_with(float_format). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1456, in format_values_with. values = format_with_na_rep(values, formatter, na_rep). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1427, in format_with_na_rep. [. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1428, in <listcomp>. formatter(val) if not m else na_rep. ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all(). ```. #### Versions. <details>. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.1. -----. PIL 8.3.2. anndata 0.7.6. beta_ufunc NA. binom_ufunc NA. cffi 1.14.6. colorama 0.4.4. concurrent NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. dunamai 1.6.0. encodings NA. genericpath NA. get_version 3.5. h5py 3.4.0. joblib 1.0.1. kiwisolver 1.3.2. legacy_api_wrap 0.0.0. llvmlite 0.37.0. matplotlib 3.4.3. mpl_toolkits NA. natsort 7.1.1. nbinom_ufunc NA. ntpath NA. numba 0.54.0. numexpr 2.7.3. numpy 1.20.3. opcode NA. packaging 21.0. pandas 1.3.3. pkg_resources NA. posixpath NA. pycparser 2.20. pyexpat NA. pyparsing 2.4.7. pytz 2021.1. scanpy 1.7.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. six 1.16.0. sklearn 1.0. sphinxcontrib NA. sre_compile NA. sre_constants NA. sre_parse NA. tables 3.6.1. -----. Python 3.9.7 | packaged by conda-forge | (default, Sep 29 2021, 19:20:46) [GCC 9.4.0]. Linux-5.4.72-microsoft-standard-WSL2-x86_64-with-glibc2.31. 24 logical CPU cores, x86_64. -----. Session information updated at 2021-10-01 14:56. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:225,modifiability,version,version,225,"ValueError: Length of values (1) does not match length of index with sc.pp.calculate_qc_metrics(adata); - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I also tried 'log1p = False' and produced the other error. Thank you. . ```python. sc.pp.calculate_qc_metrics(adata). ```. ```pytb. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 294, in calculate_qc_metrics. obs_metrics = describe_obs(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 111, in describe_obs. obs_metrics[f""log1p_total_{expr_type}""] = np.log1p(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3612, in __setitem__. self._set_item(key, value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3784, in _set_item. value = self._sanitize_column(value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 4509, in _sanitize_column. com.require_length_match(value, self.index). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/common.py"", line 531, in require_length_match. raise ValueError(. ValueError: Length of values (1) does not match length of index (35255). >. ```. `sc.pp.calculate_qc_metrics(adata, log1p = False)`. ```. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 995, in __repr__. self.to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 1131, in to_string. return fmt.DataFrameRenderer(formatter).to_string(. File ""/root/miniconda3/envs/scanpy/lib/p",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:527,modifiability,modul,module,527,"ValueError: Length of values (1) does not match length of index with sc.pp.calculate_qc_metrics(adata); - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I also tried 'log1p = False' and produced the other error. Thank you. . ```python. sc.pp.calculate_qc_metrics(adata). ```. ```pytb. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 294, in calculate_qc_metrics. obs_metrics = describe_obs(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 111, in describe_obs. obs_metrics[f""log1p_total_{expr_type}""] = np.log1p(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3612, in __setitem__. self._set_item(key, value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3784, in _set_item. value = self._sanitize_column(value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 4509, in _sanitize_column. com.require_length_match(value, self.index). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/common.py"", line 531, in require_length_match. raise ValueError(. ValueError: Length of values (1) does not match length of index (35255). >. ```. `sc.pp.calculate_qc_metrics(adata, log1p = False)`. ```. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 995, in __repr__. self.to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 1131, in to_string. return fmt.DataFrameRenderer(formatter).to_string(. File ""/root/miniconda3/envs/scanpy/lib/p",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:590,modifiability,pac,packages,590,"ValueError: Length of values (1) does not match length of index with sc.pp.calculate_qc_metrics(adata); - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I also tried 'log1p = False' and produced the other error. Thank you. . ```python. sc.pp.calculate_qc_metrics(adata). ```. ```pytb. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 294, in calculate_qc_metrics. obs_metrics = describe_obs(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 111, in describe_obs. obs_metrics[f""log1p_total_{expr_type}""] = np.log1p(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3612, in __setitem__. self._set_item(key, value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3784, in _set_item. value = self._sanitize_column(value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 4509, in _sanitize_column. com.require_length_match(value, self.index). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/common.py"", line 531, in require_length_match. raise ValueError(. ValueError: Length of values (1) does not match length of index (35255). >. ```. `sc.pp.calculate_qc_metrics(adata, log1p = False)`. ```. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 995, in __repr__. self.to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 1131, in to_string. return fmt.DataFrameRenderer(formatter).to_string(. File ""/root/miniconda3/envs/scanpy/lib/p",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:747,modifiability,pac,packages,747,"ValueError: Length of values (1) does not match length of index with sc.pp.calculate_qc_metrics(adata); - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I also tried 'log1p = False' and produced the other error. Thank you. . ```python. sc.pp.calculate_qc_metrics(adata). ```. ```pytb. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 294, in calculate_qc_metrics. obs_metrics = describe_obs(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 111, in describe_obs. obs_metrics[f""log1p_total_{expr_type}""] = np.log1p(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3612, in __setitem__. self._set_item(key, value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3784, in _set_item. value = self._sanitize_column(value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 4509, in _sanitize_column. com.require_length_match(value, self.index). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/common.py"", line 531, in require_length_match. raise ValueError(. ValueError: Length of values (1) does not match length of index (35255). >. ```. `sc.pp.calculate_qc_metrics(adata, log1p = False)`. ```. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 995, in __repr__. self.to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 1131, in to_string. return fmt.DataFrameRenderer(formatter).to_string(. File ""/root/miniconda3/envs/scanpy/lib/p",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:920,modifiability,pac,packages,920,"ValueError: Length of values (1) does not match length of index with sc.pp.calculate_qc_metrics(adata); - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I also tried 'log1p = False' and produced the other error. Thank you. . ```python. sc.pp.calculate_qc_metrics(adata). ```. ```pytb. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 294, in calculate_qc_metrics. obs_metrics = describe_obs(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 111, in describe_obs. obs_metrics[f""log1p_total_{expr_type}""] = np.log1p(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3612, in __setitem__. self._set_item(key, value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3784, in _set_item. value = self._sanitize_column(value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 4509, in _sanitize_column. com.require_length_match(value, self.index). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/common.py"", line 531, in require_length_match. raise ValueError(. ValueError: Length of values (1) does not match length of index (35255). >. ```. `sc.pp.calculate_qc_metrics(adata, log1p = False)`. ```. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 995, in __repr__. self.to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 1131, in to_string. return fmt.DataFrameRenderer(formatter).to_string(. File ""/root/miniconda3/envs/scanpy/lib/p",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:1061,modifiability,pac,packages,1061,"ith sc.pp.calculate_qc_metrics(adata); - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I also tried 'log1p = False' and produced the other error. Thank you. . ```python. sc.pp.calculate_qc_metrics(adata). ```. ```pytb. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 294, in calculate_qc_metrics. obs_metrics = describe_obs(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 111, in describe_obs. obs_metrics[f""log1p_total_{expr_type}""] = np.log1p(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3612, in __setitem__. self._set_item(key, value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3784, in _set_item. value = self._sanitize_column(value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 4509, in _sanitize_column. com.require_length_match(value, self.index). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/common.py"", line 531, in require_length_match. raise ValueError(. ValueError: Length of values (1) does not match length of index (35255). >. ```. `sc.pp.calculate_qc_metrics(adata, log1p = False)`. ```. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 995, in __repr__. self.to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 1131, in to_string. return fmt.DataFrameRenderer(formatter).to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1053, i",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:1210,modifiability,pac,packages,1210,"the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I also tried 'log1p = False' and produced the other error. Thank you. . ```python. sc.pp.calculate_qc_metrics(adata). ```. ```pytb. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 294, in calculate_qc_metrics. obs_metrics = describe_obs(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 111, in describe_obs. obs_metrics[f""log1p_total_{expr_type}""] = np.log1p(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3612, in __setitem__. self._set_item(key, value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3784, in _set_item. value = self._sanitize_column(value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 4509, in _sanitize_column. com.require_length_match(value, self.index). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/common.py"", line 531, in require_length_match. raise ValueError(. ValueError: Length of values (1) does not match length of index (35255). >. ```. `sc.pp.calculate_qc_metrics(adata, log1p = False)`. ```. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 995, in __repr__. self.to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 1131, in to_string. return fmt.DataFrameRenderer(formatter).to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1053, in to_string. string = string_formatter.to_string(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:1373,modifiability,pac,packages,1373,"other error. Thank you. . ```python. sc.pp.calculate_qc_metrics(adata). ```. ```pytb. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 294, in calculate_qc_metrics. obs_metrics = describe_obs(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 111, in describe_obs. obs_metrics[f""log1p_total_{expr_type}""] = np.log1p(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3612, in __setitem__. self._set_item(key, value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3784, in _set_item. value = self._sanitize_column(value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 4509, in _sanitize_column. com.require_length_match(value, self.index). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/common.py"", line 531, in require_length_match. raise ValueError(. ValueError: Length of values (1) does not match length of index (35255). >. ```. `sc.pp.calculate_qc_metrics(adata, log1p = False)`. ```. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 995, in __repr__. self.to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 1131, in to_string. return fmt.DataFrameRenderer(formatter).to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1053, in to_string. string = string_formatter.to_string(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 25, in to_string. text = self._get_string_representation(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 40, ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:1662,modifiability,modul,module,1662,"bs_metrics = describe_obs(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 111, in describe_obs. obs_metrics[f""log1p_total_{expr_type}""] = np.log1p(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3612, in __setitem__. self._set_item(key, value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3784, in _set_item. value = self._sanitize_column(value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 4509, in _sanitize_column. com.require_length_match(value, self.index). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/common.py"", line 531, in require_length_match. raise ValueError(. ValueError: Length of values (1) does not match length of index (35255). >. ```. `sc.pp.calculate_qc_metrics(adata, log1p = False)`. ```. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 995, in __repr__. self.to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 1131, in to_string. return fmt.DataFrameRenderer(formatter).to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1053, in to_string. string = string_formatter.to_string(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 25, in to_string. text = self._get_string_representation(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 40, in _get_string_representation. strcols = self._get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 31, in _get_strcols. strcols = self.fmt.get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:1725,modifiability,pac,packages,1725,"ib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 111, in describe_obs. obs_metrics[f""log1p_total_{expr_type}""] = np.log1p(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3612, in __setitem__. self._set_item(key, value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3784, in _set_item. value = self._sanitize_column(value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 4509, in _sanitize_column. com.require_length_match(value, self.index). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/common.py"", line 531, in require_length_match. raise ValueError(. ValueError: Length of values (1) does not match length of index (35255). >. ```. `sc.pp.calculate_qc_metrics(adata, log1p = False)`. ```. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 995, in __repr__. self.to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 1131, in to_string. return fmt.DataFrameRenderer(formatter).to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1053, in to_string. string = string_formatter.to_string(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 25, in to_string. text = self._get_string_representation(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 40, in _get_string_representation. strcols = self._get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 31, in _get_strcols. strcols = self.fmt.get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 540, in get_strcols. strcols = self._ge",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:1851,modifiability,pac,packages,1851,"np.log1p(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3612, in __setitem__. self._set_item(key, value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3784, in _set_item. value = self._sanitize_column(value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 4509, in _sanitize_column. com.require_length_match(value, self.index). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/common.py"", line 531, in require_length_match. raise ValueError(. ValueError: Length of values (1) does not match length of index (35255). >. ```. `sc.pp.calculate_qc_metrics(adata, log1p = False)`. ```. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 995, in __repr__. self.to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 1131, in to_string. return fmt.DataFrameRenderer(formatter).to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1053, in to_string. string = string_formatter.to_string(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 25, in to_string. text = self._get_string_representation(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 40, in _get_string_representation. strcols = self._get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 31, in _get_strcols. strcols = self.fmt.get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 540, in get_strcols. strcols = self._get_strcols_without_index(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 8",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:2014,modifiability,pac,packages,2014,"/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3784, in _set_item. value = self._sanitize_column(value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 4509, in _sanitize_column. com.require_length_match(value, self.index). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/common.py"", line 531, in require_length_match. raise ValueError(. ValueError: Length of values (1) does not match length of index (35255). >. ```. `sc.pp.calculate_qc_metrics(adata, log1p = False)`. ```. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 995, in __repr__. self.to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 1131, in to_string. return fmt.DataFrameRenderer(formatter).to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1053, in to_string. string = string_formatter.to_string(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 25, in to_string. text = self._get_string_representation(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 40, in _get_string_representation. strcols = self._get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 31, in _get_strcols. strcols = self.fmt.get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 540, in get_strcols. strcols = self._get_strcols_without_index(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 804, in _get_strcols_without_index. fmt_values = self.format_col(i). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", li",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:2171,modifiability,pac,packages,2171,"da3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 4509, in _sanitize_column. com.require_length_match(value, self.index). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/common.py"", line 531, in require_length_match. raise ValueError(. ValueError: Length of values (1) does not match length of index (35255). >. ```. `sc.pp.calculate_qc_metrics(adata, log1p = False)`. ```. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 995, in __repr__. self.to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 1131, in to_string. return fmt.DataFrameRenderer(formatter).to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1053, in to_string. string = string_formatter.to_string(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 25, in to_string. text = self._get_string_representation(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 40, in _get_string_representation. strcols = self._get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 31, in _get_strcols. strcols = self.fmt.get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 540, in get_strcols. strcols = self._get_strcols_without_index(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 804, in _get_strcols_without_index. fmt_values = self.format_col(i). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 818, in format_col. return format_array(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1240, in forma",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:2329,modifiability,pac,packages,2329,"niconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/common.py"", line 531, in require_length_match. raise ValueError(. ValueError: Length of values (1) does not match length of index (35255). >. ```. `sc.pp.calculate_qc_metrics(adata, log1p = False)`. ```. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 995, in __repr__. self.to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 1131, in to_string. return fmt.DataFrameRenderer(formatter).to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1053, in to_string. string = string_formatter.to_string(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 25, in to_string. text = self._get_string_representation(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 40, in _get_string_representation. strcols = self._get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 31, in _get_strcols. strcols = self.fmt.get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 540, in get_strcols. strcols = self._get_strcols_without_index(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 804, in _get_strcols_without_index. fmt_values = self.format_col(i). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 818, in format_col. return format_array(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1240, in format_array. return fmt_obj.get_result(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1271, in get_result. f",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:2493,modifiability,pac,packages,2493," not match length of index (35255). >. ```. `sc.pp.calculate_qc_metrics(adata, log1p = False)`. ```. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 995, in __repr__. self.to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 1131, in to_string. return fmt.DataFrameRenderer(formatter).to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1053, in to_string. string = string_formatter.to_string(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 25, in to_string. text = self._get_string_representation(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 40, in _get_string_representation. strcols = self._get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 31, in _get_strcols. strcols = self.fmt.get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 540, in get_strcols. strcols = self._get_strcols_without_index(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 804, in _get_strcols_without_index. fmt_values = self.format_col(i). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 818, in format_col. return format_array(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1240, in format_array. return fmt_obj.get_result(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1271, in get_result. fmt_values = self._format_strings(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1518, in _format_strings. retu",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:2646,modifiability,pac,packages,2646,"line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 995, in __repr__. self.to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 1131, in to_string. return fmt.DataFrameRenderer(formatter).to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1053, in to_string. string = string_formatter.to_string(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 25, in to_string. text = self._get_string_representation(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 40, in _get_string_representation. strcols = self._get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 31, in _get_strcols. strcols = self.fmt.get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 540, in get_strcols. strcols = self._get_strcols_without_index(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 804, in _get_strcols_without_index. fmt_values = self.format_col(i). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 818, in format_col. return format_array(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1240, in format_array. return fmt_obj.get_result(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1271, in get_result. fmt_values = self._format_strings(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1518, in _format_strings. return list(self.get_result_as_array()). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1482, in get_resul",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:2810,modifiability,pac,packages,2810,"onda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 1131, in to_string. return fmt.DataFrameRenderer(formatter).to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1053, in to_string. string = string_formatter.to_string(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 25, in to_string. text = self._get_string_representation(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 40, in _get_string_representation. strcols = self._get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 31, in _get_strcols. strcols = self.fmt.get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 540, in get_strcols. strcols = self._get_strcols_without_index(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 804, in _get_strcols_without_index. fmt_values = self.format_col(i). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 818, in format_col. return format_array(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1240, in format_array. return fmt_obj.get_result(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1271, in get_result. fmt_values = self._format_strings(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1518, in _format_strings. return list(self.get_result_as_array()). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1482, in get_result_as_array. formatted_values = format_values_with(float_format). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:2977,modifiability,pac,packages,2977,"3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1053, in to_string. string = string_formatter.to_string(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 25, in to_string. text = self._get_string_representation(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 40, in _get_string_representation. strcols = self._get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 31, in _get_strcols. strcols = self.fmt.get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 540, in get_strcols. strcols = self._get_strcols_without_index(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 804, in _get_strcols_without_index. fmt_values = self.format_col(i). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 818, in format_col. return format_array(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1240, in format_array. return fmt_obj.get_result(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1271, in get_result. fmt_values = self._format_strings(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1518, in _format_strings. return list(self.get_result_as_array()). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1482, in get_result_as_array. formatted_values = format_values_with(float_format). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1456, in format_values_with. values = format_with_na_rep(values, formatter, na_rep). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/fo",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:3117,modifiability,pac,packages,3117," ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 25, in to_string. text = self._get_string_representation(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 40, in _get_string_representation. strcols = self._get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 31, in _get_strcols. strcols = self.fmt.get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 540, in get_strcols. strcols = self._get_strcols_without_index(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 804, in _get_strcols_without_index. fmt_values = self.format_col(i). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 818, in format_col. return format_array(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1240, in format_array. return fmt_obj.get_result(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1271, in get_result. fmt_values = self._format_strings(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1518, in _format_strings. return list(self.get_result_as_array()). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1482, in get_result_as_array. formatted_values = format_values_with(float_format). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1456, in format_values_with. values = format_with_na_rep(values, formatter, na_rep). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1427, in format_with_na_rep. [. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:3267,modifiability,pac,packages,3267,"(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 40, in _get_string_representation. strcols = self._get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 31, in _get_strcols. strcols = self.fmt.get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 540, in get_strcols. strcols = self._get_strcols_without_index(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 804, in _get_strcols_without_index. fmt_values = self.format_col(i). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 818, in format_col. return format_array(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1240, in format_array. return fmt_obj.get_result(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1271, in get_result. fmt_values = self._format_strings(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1518, in _format_strings. return list(self.get_result_as_array()). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1482, in get_result_as_array. formatted_values = format_values_with(float_format). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1456, in format_values_with. values = format_with_na_rep(values, formatter, na_rep). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1427, in format_with_na_rep. [. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1428, in <listcomp>. formatter(val) if not m else na_rep. ValueError: The truth value of an array with more than one element is ambiguous. Use a.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:3423,modifiability,pac,packages,3423,"_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 31, in _get_strcols. strcols = self.fmt.get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 540, in get_strcols. strcols = self._get_strcols_without_index(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 804, in _get_strcols_without_index. fmt_values = self.format_col(i). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 818, in format_col. return format_array(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1240, in format_array. return fmt_obj.get_result(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1271, in get_result. fmt_values = self._format_strings(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1518, in _format_strings. return list(self.get_result_as_array()). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1482, in get_result_as_array. formatted_values = format_values_with(float_format). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1456, in format_values_with. values = format_with_na_rep(values, formatter, na_rep). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1427, in format_with_na_rep. [. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1428, in <listcomp>. formatter(val) if not m else na_rep. ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all(). ```. #### Versions. <details>. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:3588,modifiability,pac,packages,3588,"File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 540, in get_strcols. strcols = self._get_strcols_without_index(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 804, in _get_strcols_without_index. fmt_values = self.format_col(i). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 818, in format_col. return format_array(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1240, in format_array. return fmt_obj.get_result(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1271, in get_result. fmt_values = self._format_strings(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1518, in _format_strings. return list(self.get_result_as_array()). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1482, in get_result_as_array. formatted_values = format_values_with(float_format). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1456, in format_values_with. values = format_with_na_rep(values, formatter, na_rep). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1427, in format_with_na_rep. [. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1428, in <listcomp>. formatter(val) if not m else na_rep. ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all(). ```. #### Versions. <details>. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.1. -----. PIL 8.3.2. anndata 0.7.6. beta_ufunc NA. binom_ufunc NA. cffi 1.14.6. colorama 0.4.4. concurrent NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. d",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:3769,modifiability,pac,packages,3769,"onda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 804, in _get_strcols_without_index. fmt_values = self.format_col(i). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 818, in format_col. return format_array(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1240, in format_array. return fmt_obj.get_result(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1271, in get_result. fmt_values = self._format_strings(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1518, in _format_strings. return list(self.get_result_as_array()). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1482, in get_result_as_array. formatted_values = format_values_with(float_format). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1456, in format_values_with. values = format_with_na_rep(values, formatter, na_rep). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1427, in format_with_na_rep. [. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1428, in <listcomp>. formatter(val) if not m else na_rep. ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all(). ```. #### Versions. <details>. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.1. -----. PIL 8.3.2. anndata 0.7.6. beta_ufunc NA. binom_ufunc NA. cffi 1.14.6. colorama 0.4.4. concurrent NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. dunamai 1.6.0. encodings NA. genericpath NA. get_version 3.5. h5py 3.4.0. joblib 1.0.1. kiwisolver 1.3.2. legacy_api_wrap 0.0.0. llvmlite 0.37.0. matplotlib 3.4.3. mpl_toolkits NA. n",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:3952,modifiability,pac,packages,3952,"y/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 818, in format_col. return format_array(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1240, in format_array. return fmt_obj.get_result(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1271, in get_result. fmt_values = self._format_strings(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1518, in _format_strings. return list(self.get_result_as_array()). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1482, in get_result_as_array. formatted_values = format_values_with(float_format). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1456, in format_values_with. values = format_with_na_rep(values, formatter, na_rep). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1427, in format_with_na_rep. [. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1428, in <listcomp>. formatter(val) if not m else na_rep. ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all(). ```. #### Versions. <details>. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.1. -----. PIL 8.3.2. anndata 0.7.6. beta_ufunc NA. binom_ufunc NA. cffi 1.14.6. colorama 0.4.4. concurrent NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. dunamai 1.6.0. encodings NA. genericpath NA. get_version 3.5. h5py 3.4.0. joblib 1.0.1. kiwisolver 1.3.2. legacy_api_wrap 0.0.0. llvmlite 0.37.0. matplotlib 3.4.3. mpl_toolkits NA. natsort 7.1.1. nbinom_ufunc NA. ntpath NA. numba 0.54.0. numexpr 2.7.3. numpy 1.20.3. opcode NA. packaging 21.0. pandas 1.3.3. pkg_resources NA. posixpath NA. pycparser 2.20. pyexpat N",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:4082,modifiability,pac,packages,4082,"envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1240, in format_array. return fmt_obj.get_result(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1271, in get_result. fmt_values = self._format_strings(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1518, in _format_strings. return list(self.get_result_as_array()). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1482, in get_result_as_array. formatted_values = format_values_with(float_format). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1456, in format_values_with. values = format_with_na_rep(values, formatter, na_rep). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1427, in format_with_na_rep. [. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1428, in <listcomp>. formatter(val) if not m else na_rep. ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all(). ```. #### Versions. <details>. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.1. -----. PIL 8.3.2. anndata 0.7.6. beta_ufunc NA. binom_ufunc NA. cffi 1.14.6. colorama 0.4.4. concurrent NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. dunamai 1.6.0. encodings NA. genericpath NA. get_version 3.5. h5py 3.4.0. joblib 1.0.1. kiwisolver 1.3.2. legacy_api_wrap 0.0.0. llvmlite 0.37.0. matplotlib 3.4.3. mpl_toolkits NA. natsort 7.1.1. nbinom_ufunc NA. ntpath NA. numba 0.54.0. numexpr 2.7.3. numpy 1.20.3. opcode NA. packaging 21.0. pandas 1.3.3. pkg_resources NA. posixpath NA. pycparser 2.20. pyexpat NA. pyparsing 2.4.7. pytz 2021.1. scanpy 1.7.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. six 1.16.0. sklearn 1.0. sphinxcontrib",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:4299,modifiability,Version,Versions,4299,""", line 1271, in get_result. fmt_values = self._format_strings(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1518, in _format_strings. return list(self.get_result_as_array()). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1482, in get_result_as_array. formatted_values = format_values_with(float_format). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1456, in format_values_with. values = format_with_na_rep(values, formatter, na_rep). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1427, in format_with_na_rep. [. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1428, in <listcomp>. formatter(val) if not m else na_rep. ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all(). ```. #### Versions. <details>. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.1. -----. PIL 8.3.2. anndata 0.7.6. beta_ufunc NA. binom_ufunc NA. cffi 1.14.6. colorama 0.4.4. concurrent NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. dunamai 1.6.0. encodings NA. genericpath NA. get_version 3.5. h5py 3.4.0. joblib 1.0.1. kiwisolver 1.3.2. legacy_api_wrap 0.0.0. llvmlite 0.37.0. matplotlib 3.4.3. mpl_toolkits NA. natsort 7.1.1. nbinom_ufunc NA. ntpath NA. numba 0.54.0. numexpr 2.7.3. numpy 1.20.3. opcode NA. packaging 21.0. pandas 1.3.3. pkg_resources NA. posixpath NA. pycparser 2.20. pyexpat NA. pyparsing 2.4.7. pytz 2021.1. scanpy 1.7.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. six 1.16.0. sklearn 1.0. sphinxcontrib NA. sre_compile NA. sre_constants NA. sre_parse NA. tables 3.6.1. -----. Python 3.9.7 | packaged by conda-forge | (default, Sep 29 2021, 19:20:46) [GCC 9.4.0]. Linux-5.4.72-microsoft-standard-WSL2-x86_64-with-glibc2.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:4869,modifiability,pac,packaging,4869,"lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1518, in _format_strings. return list(self.get_result_as_array()). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1482, in get_result_as_array. formatted_values = format_values_with(float_format). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1456, in format_values_with. values = format_with_na_rep(values, formatter, na_rep). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1427, in format_with_na_rep. [. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1428, in <listcomp>. formatter(val) if not m else na_rep. ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all(). ```. #### Versions. <details>. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.1. -----. PIL 8.3.2. anndata 0.7.6. beta_ufunc NA. binom_ufunc NA. cffi 1.14.6. colorama 0.4.4. concurrent NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. dunamai 1.6.0. encodings NA. genericpath NA. get_version 3.5. h5py 3.4.0. joblib 1.0.1. kiwisolver 1.3.2. legacy_api_wrap 0.0.0. llvmlite 0.37.0. matplotlib 3.4.3. mpl_toolkits NA. natsort 7.1.1. nbinom_ufunc NA. ntpath NA. numba 0.54.0. numexpr 2.7.3. numpy 1.20.3. opcode NA. packaging 21.0. pandas 1.3.3. pkg_resources NA. posixpath NA. pycparser 2.20. pyexpat NA. pyparsing 2.4.7. pytz 2021.1. scanpy 1.7.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. six 1.16.0. sklearn 1.0. sphinxcontrib NA. sre_compile NA. sre_constants NA. sre_parse NA. tables 3.6.1. -----. Python 3.9.7 | packaged by conda-forge | (default, Sep 29 2021, 19:20:46) [GCC 9.4.0]. Linux-5.4.72-microsoft-standard-WSL2-x86_64-with-glibc2.31. 24 logical CPU cores, x86_64. -----. Session information updated at 2021-10-01 14:56. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:5175,modifiability,pac,packaged,5175,"lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1518, in _format_strings. return list(self.get_result_as_array()). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1482, in get_result_as_array. formatted_values = format_values_with(float_format). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1456, in format_values_with. values = format_with_na_rep(values, formatter, na_rep). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1427, in format_with_na_rep. [. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1428, in <listcomp>. formatter(val) if not m else na_rep. ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all(). ```. #### Versions. <details>. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.1. -----. PIL 8.3.2. anndata 0.7.6. beta_ufunc NA. binom_ufunc NA. cffi 1.14.6. colorama 0.4.4. concurrent NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. dunamai 1.6.0. encodings NA. genericpath NA. get_version 3.5. h5py 3.4.0. joblib 1.0.1. kiwisolver 1.3.2. legacy_api_wrap 0.0.0. llvmlite 0.37.0. matplotlib 3.4.3. mpl_toolkits NA. natsort 7.1.1. nbinom_ufunc NA. ntpath NA. numba 0.54.0. numexpr 2.7.3. numpy 1.20.3. opcode NA. packaging 21.0. pandas 1.3.3. pkg_resources NA. posixpath NA. pycparser 2.20. pyexpat NA. pyparsing 2.4.7. pytz 2021.1. scanpy 1.7.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. six 1.16.0. sklearn 1.0. sphinxcontrib NA. sre_compile NA. sre_constants NA. sre_parse NA. tables 3.6.1. -----. Python 3.9.7 | packaged by conda-forge | (default, Sep 29 2021, 19:20:46) [GCC 9.4.0]. Linux-5.4.72-microsoft-standard-WSL2-x86_64-with-glibc2.31. 24 logical CPU cores, x86_64. -----. Session information updated at 2021-10-01 14:56. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:383,performance,error,error,383,"ValueError: Length of values (1) does not match length of index with sc.pp.calculate_qc_metrics(adata); - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I also tried 'log1p = False' and produced the other error. Thank you. . ```python. sc.pp.calculate_qc_metrics(adata). ```. ```pytb. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 294, in calculate_qc_metrics. obs_metrics = describe_obs(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 111, in describe_obs. obs_metrics[f""log1p_total_{expr_type}""] = np.log1p(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3612, in __setitem__. self._set_item(key, value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3784, in _set_item. value = self._sanitize_column(value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 4509, in _sanitize_column. com.require_length_match(value, self.index). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/common.py"", line 531, in require_length_match. raise ValueError(. ValueError: Length of values (1) does not match length of index (35255). >. ```. `sc.pp.calculate_qc_metrics(adata, log1p = False)`. ```. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 995, in __repr__. self.to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 1131, in to_string. return fmt.DataFrameRenderer(formatter).to_string(. File ""/root/miniconda3/envs/scanpy/lib/p",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:4526,performance,concurren,concurrent,4526,"lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1518, in _format_strings. return list(self.get_result_as_array()). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1482, in get_result_as_array. formatted_values = format_values_with(float_format). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1456, in format_values_with. values = format_with_na_rep(values, formatter, na_rep). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1427, in format_with_na_rep. [. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1428, in <listcomp>. formatter(val) if not m else na_rep. ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all(). ```. #### Versions. <details>. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.1. -----. PIL 8.3.2. anndata 0.7.6. beta_ufunc NA. binom_ufunc NA. cffi 1.14.6. colorama 0.4.4. concurrent NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. dunamai 1.6.0. encodings NA. genericpath NA. get_version 3.5. h5py 3.4.0. joblib 1.0.1. kiwisolver 1.3.2. legacy_api_wrap 0.0.0. llvmlite 0.37.0. matplotlib 3.4.3. mpl_toolkits NA. natsort 7.1.1. nbinom_ufunc NA. ntpath NA. numba 0.54.0. numexpr 2.7.3. numpy 1.20.3. opcode NA. packaging 21.0. pandas 1.3.3. pkg_resources NA. posixpath NA. pycparser 2.20. pyexpat NA. pyparsing 2.4.7. pytz 2021.1. scanpy 1.7.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. six 1.16.0. sklearn 1.0. sphinxcontrib NA. sre_compile NA. sre_constants NA. sre_parse NA. tables 3.6.1. -----. Python 3.9.7 | packaged by conda-forge | (default, Sep 29 2021, 19:20:46) [GCC 9.4.0]. Linux-5.4.72-microsoft-standard-WSL2-x86_64-with-glibc2.31. 24 logical CPU cores, x86_64. -----. Session information updated at 2021-10-01 14:56. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:5318,performance,CPU,CPU,5318,"lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1518, in _format_strings. return list(self.get_result_as_array()). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1482, in get_result_as_array. formatted_values = format_values_with(float_format). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1456, in format_values_with. values = format_with_na_rep(values, formatter, na_rep). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1427, in format_with_na_rep. [. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1428, in <listcomp>. formatter(val) if not m else na_rep. ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all(). ```. #### Versions. <details>. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.1. -----. PIL 8.3.2. anndata 0.7.6. beta_ufunc NA. binom_ufunc NA. cffi 1.14.6. colorama 0.4.4. concurrent NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. dunamai 1.6.0. encodings NA. genericpath NA. get_version 3.5. h5py 3.4.0. joblib 1.0.1. kiwisolver 1.3.2. legacy_api_wrap 0.0.0. llvmlite 0.37.0. matplotlib 3.4.3. mpl_toolkits NA. natsort 7.1.1. nbinom_ufunc NA. ntpath NA. numba 0.54.0. numexpr 2.7.3. numpy 1.20.3. opcode NA. packaging 21.0. pandas 1.3.3. pkg_resources NA. posixpath NA. pycparser 2.20. pyexpat NA. pyparsing 2.4.7. pytz 2021.1. scanpy 1.7.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. six 1.16.0. sklearn 1.0. sphinxcontrib NA. sre_compile NA. sre_constants NA. sre_parse NA. tables 3.6.1. -----. Python 3.9.7 | packaged by conda-forge | (default, Sep 29 2021, 19:20:46) [GCC 9.4.0]. Linux-5.4.72-microsoft-standard-WSL2-x86_64-with-glibc2.31. 24 logical CPU cores, x86_64. -----. Session information updated at 2021-10-01 14:56. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:33,reliability,doe,does,33,"ValueError: Length of values (1) does not match length of index with sc.pp.calculate_qc_metrics(adata); - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I also tried 'log1p = False' and produced the other error. Thank you. . ```python. sc.pp.calculate_qc_metrics(adata). ```. ```pytb. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 294, in calculate_qc_metrics. obs_metrics = describe_obs(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 111, in describe_obs. obs_metrics[f""log1p_total_{expr_type}""] = np.log1p(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3612, in __setitem__. self._set_item(key, value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3784, in _set_item. value = self._sanitize_column(value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 4509, in _sanitize_column. com.require_length_match(value, self.index). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/common.py"", line 531, in require_length_match. raise ValueError(. ValueError: Length of values (1) does not match length of index (35255). >. ```. `sc.pp.calculate_qc_metrics(adata, log1p = False)`. ```. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 995, in __repr__. self.to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 1131, in to_string. return fmt.DataFrameRenderer(formatter).to_string(. File ""/root/miniconda3/envs/scanpy/lib/p",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:1493,reliability,doe,does,1493,"):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 294, in calculate_qc_metrics. obs_metrics = describe_obs(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 111, in describe_obs. obs_metrics[f""log1p_total_{expr_type}""] = np.log1p(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3612, in __setitem__. self._set_item(key, value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3784, in _set_item. value = self._sanitize_column(value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 4509, in _sanitize_column. com.require_length_match(value, self.index). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/common.py"", line 531, in require_length_match. raise ValueError(. ValueError: Length of values (1) does not match length of index (35255). >. ```. `sc.pp.calculate_qc_metrics(adata, log1p = False)`. ```. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 995, in __repr__. self.to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 1131, in to_string. return fmt.DataFrameRenderer(formatter).to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1053, in to_string. string = string_formatter.to_string(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 25, in to_string. text = self._get_string_representation(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 40, in _get_string_representation. strcols = self._get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-pa",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:383,safety,error,error,383,"ValueError: Length of values (1) does not match length of index with sc.pp.calculate_qc_metrics(adata); - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I also tried 'log1p = False' and produced the other error. Thank you. . ```python. sc.pp.calculate_qc_metrics(adata). ```. ```pytb. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 294, in calculate_qc_metrics. obs_metrics = describe_obs(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 111, in describe_obs. obs_metrics[f""log1p_total_{expr_type}""] = np.log1p(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3612, in __setitem__. self._set_item(key, value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3784, in _set_item. value = self._sanitize_column(value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 4509, in _sanitize_column. com.require_length_match(value, self.index). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/common.py"", line 531, in require_length_match. raise ValueError(. ValueError: Length of values (1) does not match length of index (35255). >. ```. `sc.pp.calculate_qc_metrics(adata, log1p = False)`. ```. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 995, in __repr__. self.to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 1131, in to_string. return fmt.DataFrameRenderer(formatter).to_string(. File ""/root/miniconda3/envs/scanpy/lib/p",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:527,safety,modul,module,527,"ValueError: Length of values (1) does not match length of index with sc.pp.calculate_qc_metrics(adata); - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I also tried 'log1p = False' and produced the other error. Thank you. . ```python. sc.pp.calculate_qc_metrics(adata). ```. ```pytb. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 294, in calculate_qc_metrics. obs_metrics = describe_obs(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 111, in describe_obs. obs_metrics[f""log1p_total_{expr_type}""] = np.log1p(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3612, in __setitem__. self._set_item(key, value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3784, in _set_item. value = self._sanitize_column(value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 4509, in _sanitize_column. com.require_length_match(value, self.index). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/common.py"", line 531, in require_length_match. raise ValueError(. ValueError: Length of values (1) does not match length of index (35255). >. ```. `sc.pp.calculate_qc_metrics(adata, log1p = False)`. ```. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 995, in __repr__. self.to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 1131, in to_string. return fmt.DataFrameRenderer(formatter).to_string(. File ""/root/miniconda3/envs/scanpy/lib/p",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:1662,safety,modul,module,1662,"bs_metrics = describe_obs(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 111, in describe_obs. obs_metrics[f""log1p_total_{expr_type}""] = np.log1p(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3612, in __setitem__. self._set_item(key, value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3784, in _set_item. value = self._sanitize_column(value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 4509, in _sanitize_column. com.require_length_match(value, self.index). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/common.py"", line 531, in require_length_match. raise ValueError(. ValueError: Length of values (1) does not match length of index (35255). >. ```. `sc.pp.calculate_qc_metrics(adata, log1p = False)`. ```. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 995, in __repr__. self.to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 1131, in to_string. return fmt.DataFrameRenderer(formatter).to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1053, in to_string. string = string_formatter.to_string(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 25, in to_string. text = self._get_string_representation(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 40, in _get_string_representation. strcols = self._get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 31, in _get_strcols. strcols = self.fmt.get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:5310,safety,log,logical,5310,"lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1518, in _format_strings. return list(self.get_result_as_array()). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1482, in get_result_as_array. formatted_values = format_values_with(float_format). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1456, in format_values_with. values = format_with_na_rep(values, formatter, na_rep). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1427, in format_with_na_rep. [. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1428, in <listcomp>. formatter(val) if not m else na_rep. ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all(). ```. #### Versions. <details>. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.1. -----. PIL 8.3.2. anndata 0.7.6. beta_ufunc NA. binom_ufunc NA. cffi 1.14.6. colorama 0.4.4. concurrent NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. dunamai 1.6.0. encodings NA. genericpath NA. get_version 3.5. h5py 3.4.0. joblib 1.0.1. kiwisolver 1.3.2. legacy_api_wrap 0.0.0. llvmlite 0.37.0. matplotlib 3.4.3. mpl_toolkits NA. natsort 7.1.1. nbinom_ufunc NA. ntpath NA. numba 0.54.0. numexpr 2.7.3. numpy 1.20.3. opcode NA. packaging 21.0. pandas 1.3.3. pkg_resources NA. posixpath NA. pycparser 2.20. pyexpat NA. pyparsing 2.4.7. pytz 2021.1. scanpy 1.7.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. six 1.16.0. sklearn 1.0. sphinxcontrib NA. sre_compile NA. sre_constants NA. sre_parse NA. tables 3.6.1. -----. Python 3.9.7 | packaged by conda-forge | (default, Sep 29 2021, 19:20:46) [GCC 9.4.0]. Linux-5.4.72-microsoft-standard-WSL2-x86_64-with-glibc2.31. 24 logical CPU cores, x86_64. -----. Session information updated at 2021-10-01 14:56. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:5364,safety,updat,updated,5364,"lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1518, in _format_strings. return list(self.get_result_as_array()). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1482, in get_result_as_array. formatted_values = format_values_with(float_format). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1456, in format_values_with. values = format_with_na_rep(values, formatter, na_rep). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1427, in format_with_na_rep. [. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1428, in <listcomp>. formatter(val) if not m else na_rep. ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all(). ```. #### Versions. <details>. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.1. -----. PIL 8.3.2. anndata 0.7.6. beta_ufunc NA. binom_ufunc NA. cffi 1.14.6. colorama 0.4.4. concurrent NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. dunamai 1.6.0. encodings NA. genericpath NA. get_version 3.5. h5py 3.4.0. joblib 1.0.1. kiwisolver 1.3.2. legacy_api_wrap 0.0.0. llvmlite 0.37.0. matplotlib 3.4.3. mpl_toolkits NA. natsort 7.1.1. nbinom_ufunc NA. ntpath NA. numba 0.54.0. numexpr 2.7.3. numpy 1.20.3. opcode NA. packaging 21.0. pandas 1.3.3. pkg_resources NA. posixpath NA. pycparser 2.20. pyexpat NA. pyparsing 2.4.7. pytz 2021.1. scanpy 1.7.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. six 1.16.0. sklearn 1.0. sphinxcontrib NA. sre_compile NA. sre_constants NA. sre_parse NA. tables 3.6.1. -----. Python 3.9.7 | packaged by conda-forge | (default, Sep 29 2021, 19:20:46) [GCC 9.4.0]. Linux-5.4.72-microsoft-standard-WSL2-x86_64-with-glibc2.31. 24 logical CPU cores, x86_64. -----. Session information updated at 2021-10-01 14:56. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:5310,security,log,logical,5310,"lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1518, in _format_strings. return list(self.get_result_as_array()). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1482, in get_result_as_array. formatted_values = format_values_with(float_format). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1456, in format_values_with. values = format_with_na_rep(values, formatter, na_rep). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1427, in format_with_na_rep. [. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1428, in <listcomp>. formatter(val) if not m else na_rep. ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all(). ```. #### Versions. <details>. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.1. -----. PIL 8.3.2. anndata 0.7.6. beta_ufunc NA. binom_ufunc NA. cffi 1.14.6. colorama 0.4.4. concurrent NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. dunamai 1.6.0. encodings NA. genericpath NA. get_version 3.5. h5py 3.4.0. joblib 1.0.1. kiwisolver 1.3.2. legacy_api_wrap 0.0.0. llvmlite 0.37.0. matplotlib 3.4.3. mpl_toolkits NA. natsort 7.1.1. nbinom_ufunc NA. ntpath NA. numba 0.54.0. numexpr 2.7.3. numpy 1.20.3. opcode NA. packaging 21.0. pandas 1.3.3. pkg_resources NA. posixpath NA. pycparser 2.20. pyexpat NA. pyparsing 2.4.7. pytz 2021.1. scanpy 1.7.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. six 1.16.0. sklearn 1.0. sphinxcontrib NA. sre_compile NA. sre_constants NA. sre_parse NA. tables 3.6.1. -----. Python 3.9.7 | packaged by conda-forge | (default, Sep 29 2021, 19:20:46) [GCC 9.4.0]. Linux-5.4.72-microsoft-standard-WSL2-x86_64-with-glibc2.31. 24 logical CPU cores, x86_64. -----. Session information updated at 2021-10-01 14:56. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:5344,security,Session,Session,5344,"lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1518, in _format_strings. return list(self.get_result_as_array()). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1482, in get_result_as_array. formatted_values = format_values_with(float_format). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1456, in format_values_with. values = format_with_na_rep(values, formatter, na_rep). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1427, in format_with_na_rep. [. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1428, in <listcomp>. formatter(val) if not m else na_rep. ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all(). ```. #### Versions. <details>. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.1. -----. PIL 8.3.2. anndata 0.7.6. beta_ufunc NA. binom_ufunc NA. cffi 1.14.6. colorama 0.4.4. concurrent NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. dunamai 1.6.0. encodings NA. genericpath NA. get_version 3.5. h5py 3.4.0. joblib 1.0.1. kiwisolver 1.3.2. legacy_api_wrap 0.0.0. llvmlite 0.37.0. matplotlib 3.4.3. mpl_toolkits NA. natsort 7.1.1. nbinom_ufunc NA. ntpath NA. numba 0.54.0. numexpr 2.7.3. numpy 1.20.3. opcode NA. packaging 21.0. pandas 1.3.3. pkg_resources NA. posixpath NA. pycparser 2.20. pyexpat NA. pyparsing 2.4.7. pytz 2021.1. scanpy 1.7.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. six 1.16.0. sklearn 1.0. sphinxcontrib NA. sre_compile NA. sre_constants NA. sre_parse NA. tables 3.6.1. -----. Python 3.9.7 | packaged by conda-forge | (default, Sep 29 2021, 19:20:46) [GCC 9.4.0]. Linux-5.4.72-microsoft-standard-WSL2-x86_64-with-glibc2.31. 24 logical CPU cores, x86_64. -----. Session information updated at 2021-10-01 14:56. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:5364,security,updat,updated,5364,"lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1518, in _format_strings. return list(self.get_result_as_array()). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1482, in get_result_as_array. formatted_values = format_values_with(float_format). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1456, in format_values_with. values = format_with_na_rep(values, formatter, na_rep). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1427, in format_with_na_rep. [. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1428, in <listcomp>. formatter(val) if not m else na_rep. ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all(). ```. #### Versions. <details>. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.1. -----. PIL 8.3.2. anndata 0.7.6. beta_ufunc NA. binom_ufunc NA. cffi 1.14.6. colorama 0.4.4. concurrent NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. dunamai 1.6.0. encodings NA. genericpath NA. get_version 3.5. h5py 3.4.0. joblib 1.0.1. kiwisolver 1.3.2. legacy_api_wrap 0.0.0. llvmlite 0.37.0. matplotlib 3.4.3. mpl_toolkits NA. natsort 7.1.1. nbinom_ufunc NA. ntpath NA. numba 0.54.0. numexpr 2.7.3. numpy 1.20.3. opcode NA. packaging 21.0. pandas 1.3.3. pkg_resources NA. posixpath NA. pycparser 2.20. pyexpat NA. pyparsing 2.4.7. pytz 2021.1. scanpy 1.7.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. six 1.16.0. sklearn 1.0. sphinxcontrib NA. sre_compile NA. sre_constants NA. sre_parse NA. tables 3.6.1. -----. Python 3.9.7 | packaged by conda-forge | (default, Sep 29 2021, 19:20:46) [GCC 9.4.0]. Linux-5.4.72-microsoft-standard-WSL2-x86_64-with-glibc2.31. 24 logical CPU cores, x86_64. -----. Session information updated at 2021-10-01 14:56. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:463,testability,Trace,Traceback,463,"ValueError: Length of values (1) does not match length of index with sc.pp.calculate_qc_metrics(adata); - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I also tried 'log1p = False' and produced the other error. Thank you. . ```python. sc.pp.calculate_qc_metrics(adata). ```. ```pytb. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 294, in calculate_qc_metrics. obs_metrics = describe_obs(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 111, in describe_obs. obs_metrics[f""log1p_total_{expr_type}""] = np.log1p(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3612, in __setitem__. self._set_item(key, value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3784, in _set_item. value = self._sanitize_column(value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 4509, in _sanitize_column. com.require_length_match(value, self.index). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/common.py"", line 531, in require_length_match. raise ValueError(. ValueError: Length of values (1) does not match length of index (35255). >. ```. `sc.pp.calculate_qc_metrics(adata, log1p = False)`. ```. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 995, in __repr__. self.to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 1131, in to_string. return fmt.DataFrameRenderer(formatter).to_string(. File ""/root/miniconda3/envs/scanpy/lib/p",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:1598,testability,Trace,Traceback,1598,"py/preprocessing/_qc.py"", line 294, in calculate_qc_metrics. obs_metrics = describe_obs(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 111, in describe_obs. obs_metrics[f""log1p_total_{expr_type}""] = np.log1p(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3612, in __setitem__. self._set_item(key, value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3784, in _set_item. value = self._sanitize_column(value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 4509, in _sanitize_column. com.require_length_match(value, self.index). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/common.py"", line 531, in require_length_match. raise ValueError(. ValueError: Length of values (1) does not match length of index (35255). >. ```. `sc.pp.calculate_qc_metrics(adata, log1p = False)`. ```. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 995, in __repr__. self.to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 1131, in to_string. return fmt.DataFrameRenderer(formatter).to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1053, in to_string. string = string_formatter.to_string(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 25, in to_string. text = self._get_string_representation(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 40, in _get_string_representation. strcols = self._get_strcols(). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/string.py"", line 31, in _get_strcols. strcols = self.fmt.get_strcols(). File ""/root",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:5310,testability,log,logical,5310,"lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1518, in _format_strings. return list(self.get_result_as_array()). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1482, in get_result_as_array. formatted_values = format_values_with(float_format). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1456, in format_values_with. values = format_with_na_rep(values, formatter, na_rep). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1427, in format_with_na_rep. [. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/io/formats/format.py"", line 1428, in <listcomp>. formatter(val) if not m else na_rep. ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all(). ```. #### Versions. <details>. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.1. -----. PIL 8.3.2. anndata 0.7.6. beta_ufunc NA. binom_ufunc NA. cffi 1.14.6. colorama 0.4.4. concurrent NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.2. dunamai 1.6.0. encodings NA. genericpath NA. get_version 3.5. h5py 3.4.0. joblib 1.0.1. kiwisolver 1.3.2. legacy_api_wrap 0.0.0. llvmlite 0.37.0. matplotlib 3.4.3. mpl_toolkits NA. natsort 7.1.1. nbinom_ufunc NA. ntpath NA. numba 0.54.0. numexpr 2.7.3. numpy 1.20.3. opcode NA. packaging 21.0. pandas 1.3.3. pkg_resources NA. posixpath NA. pycparser 2.20. pyexpat NA. pyparsing 2.4.7. pytz 2021.1. scanpy 1.7.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. six 1.16.0. sklearn 1.0. sphinxcontrib NA. sre_compile NA. sre_constants NA. sre_parse NA. tables 3.6.1. -----. Python 3.9.7 | packaged by conda-forge | (default, Sep 29 2021, 19:20:46) [GCC 9.4.0]. Linux-5.4.72-microsoft-standard-WSL2-x86_64-with-glibc2.31. 24 logical CPU cores, x86_64. -----. Session information updated at 2021-10-01 14:56. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:185,usability,confirm,confirmed,185,"ValueError: Length of values (1) does not match length of index with sc.pp.calculate_qc_metrics(adata); - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I also tried 'log1p = False' and produced the other error. Thank you. . ```python. sc.pp.calculate_qc_metrics(adata). ```. ```pytb. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 294, in calculate_qc_metrics. obs_metrics = describe_obs(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 111, in describe_obs. obs_metrics[f""log1p_total_{expr_type}""] = np.log1p(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3612, in __setitem__. self._set_item(key, value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3784, in _set_item. value = self._sanitize_column(value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 4509, in _sanitize_column. com.require_length_match(value, self.index). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/common.py"", line 531, in require_length_match. raise ValueError(. ValueError: Length of values (1) does not match length of index (35255). >. ```. `sc.pp.calculate_qc_metrics(adata, log1p = False)`. ```. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 995, in __repr__. self.to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 1131, in to_string. return fmt.DataFrameRenderer(formatter).to_string(. File ""/root/miniconda3/envs/scanpy/lib/p",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:268,usability,confirm,confirmed,268,"ValueError: Length of values (1) does not match length of index with sc.pp.calculate_qc_metrics(adata); - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I also tried 'log1p = False' and produced the other error. Thank you. . ```python. sc.pp.calculate_qc_metrics(adata). ```. ```pytb. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 294, in calculate_qc_metrics. obs_metrics = describe_obs(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 111, in describe_obs. obs_metrics[f""log1p_total_{expr_type}""] = np.log1p(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3612, in __setitem__. self._set_item(key, value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3784, in _set_item. value = self._sanitize_column(value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 4509, in _sanitize_column. com.require_length_match(value, self.index). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/common.py"", line 531, in require_length_match. raise ValueError(. ValueError: Length of values (1) does not match length of index (35255). >. ```. `sc.pp.calculate_qc_metrics(adata, log1p = False)`. ```. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 995, in __repr__. self.to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 1131, in to_string. return fmt.DataFrameRenderer(formatter).to_string(. File ""/root/miniconda3/envs/scanpy/lib/p",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2008:383,usability,error,error,383,"ValueError: Length of values (1) does not match length of index with sc.pp.calculate_qc_metrics(adata); - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I also tried 'log1p = False' and produced the other error. Thank you. . ```python. sc.pp.calculate_qc_metrics(adata). ```. ```pytb. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 294, in calculate_qc_metrics. obs_metrics = describe_obs(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/scanpy/preprocessing/_qc.py"", line 111, in describe_obs. obs_metrics[f""log1p_total_{expr_type}""] = np.log1p(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3612, in __setitem__. self._set_item(key, value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 3784, in _set_item. value = self._sanitize_column(value). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 4509, in _sanitize_column. com.require_length_match(value, self.index). File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/common.py"", line 531, in require_length_match. raise ValueError(. ValueError: Length of values (1) does not match length of index (35255). >. ```. `sc.pp.calculate_qc_metrics(adata, log1p = False)`. ```. Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 995, in __repr__. self.to_string(. File ""/root/miniconda3/envs/scanpy/lib/python3.9/site-packages/pandas/core/frame.py"", line 1131, in to_string. return fmt.DataFrameRenderer(formatter).to_string(. File ""/root/miniconda3/envs/scanpy/lib/p",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2008
https://github.com/scverse/scanpy/issues/2010:378,reliability,doe,does,378,"potential bug with gene_symbols with pl.umap; https://github.com/theislab/scanpy/blob/63b42e4bff46a9e1386abfede4adeef3a8100c7b/scanpy/plotting/_tools/scatterplots.py#L1216. checks for presence in var_names. . If the gene name supplied to the color ( in sc.pl.umap) is present in both var_name and gene_symbol ( but corresponding to different expression levels ), the line above does not check for a match with gene_symbol if a match with var_name is found. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2010
https://github.com/scverse/scanpy/issues/2012:16,deployability,version,version,16,Increase pinned version of UMAP; Recent discussions on speed demonstrated that UMAP >= 0.5 implementations increase the speed. Should we increase the minimal version? https://github.com/theislab/scanpy/blob/master/pyproject.toml#L63. CC @le-ander,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2012
https://github.com/scverse/scanpy/issues/2012:158,deployability,version,version,158,Increase pinned version of UMAP; Recent discussions on speed demonstrated that UMAP >= 0.5 implementations increase the speed. Should we increase the minimal version? https://github.com/theislab/scanpy/blob/master/pyproject.toml#L63. CC @le-ander,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2012
https://github.com/scverse/scanpy/issues/2012:16,integrability,version,version,16,Increase pinned version of UMAP; Recent discussions on speed demonstrated that UMAP >= 0.5 implementations increase the speed. Should we increase the minimal version? https://github.com/theislab/scanpy/blob/master/pyproject.toml#L63. CC @le-ander,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2012
https://github.com/scverse/scanpy/issues/2012:158,integrability,version,version,158,Increase pinned version of UMAP; Recent discussions on speed demonstrated that UMAP >= 0.5 implementations increase the speed. Should we increase the minimal version? https://github.com/theislab/scanpy/blob/master/pyproject.toml#L63. CC @le-ander,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2012
https://github.com/scverse/scanpy/issues/2012:16,modifiability,version,version,16,Increase pinned version of UMAP; Recent discussions on speed demonstrated that UMAP >= 0.5 implementations increase the speed. Should we increase the minimal version? https://github.com/theislab/scanpy/blob/master/pyproject.toml#L63. CC @le-ander,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2012
https://github.com/scverse/scanpy/issues/2012:158,modifiability,version,version,158,Increase pinned version of UMAP; Recent discussions on speed demonstrated that UMAP >= 0.5 implementations increase the speed. Should we increase the minimal version? https://github.com/theislab/scanpy/blob/master/pyproject.toml#L63. CC @le-ander,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2012
https://github.com/scverse/scanpy/issues/2012:150,usability,minim,minimal,150,Increase pinned version of UMAP; Recent discussions on speed demonstrated that UMAP >= 0.5 implementations increase the speed. Should we increase the minimal version? https://github.com/theislab/scanpy/blob/master/pyproject.toml#L63. CC @le-ander,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2012
https://github.com/scverse/scanpy/issues/2013:829,deployability,patch,patches,829,"Improve gene expression visualisatio non UMAP; <!-- What kind of feature would you like to request? -->. - [ x] Additional function parameters / changed functionality / changed defaults? - [ ] New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? - [x ] New plotting function: A kind of plot you would like to seein `sc.pl`? - [ ] External tools: Do you know an existing package that should go into `sc.external.*`? - [ ] Other? ... It would be nice to have something like https://github.com/powellgenomicslab/Nebulosa to plot sparse genes. On one hand, ordering with highest value on top (top plot) does not always work as what is below top layer is hidden and decreasing point size to combat this is not always good if different regions of UMAP are differently dense, thus creating white patches. On the other hand, random ordering (middle plot) can be hard to look at for sparse genes. The gene on the plot is highly correlated with pattern from the bottom plot, but this is not so clear when plotting the gene alone. Sort order=True. <img width=""221"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395395-ec372b26-6552-4136-ae91-875713f700cb.png"">. Random cell ordering. <img width=""217"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395363-9e9fad24-e451-4d47-ac64-ff9b6b7b5774.png"">. Strongly correlated with. <img width=""194"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395551-1d6731aa-0749-425b-be68-f57344df0376.png"">.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2013
https://github.com/scverse/scanpy/issues/2013:132,modifiability,paramet,parameters,132,"Improve gene expression visualisatio non UMAP; <!-- What kind of feature would you like to request? -->. - [ x] Additional function parameters / changed functionality / changed defaults? - [ ] New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? - [x ] New plotting function: A kind of plot you would like to seein `sc.pl`? - [ ] External tools: Do you know an existing package that should go into `sc.external.*`? - [ ] Other? ... It would be nice to have something like https://github.com/powellgenomicslab/Nebulosa to plot sparse genes. On one hand, ordering with highest value on top (top plot) does not always work as what is below top layer is hidden and decreasing point size to combat this is not always good if different regions of UMAP are differently dense, thus creating white patches. On the other hand, random ordering (middle plot) can be hard to look at for sparse genes. The gene on the plot is highly correlated with pattern from the bottom plot, but this is not so clear when plotting the gene alone. Sort order=True. <img width=""221"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395395-ec372b26-6552-4136-ae91-875713f700cb.png"">. Random cell ordering. <img width=""217"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395363-9e9fad24-e451-4d47-ac64-ff9b6b7b5774.png"">. Strongly correlated with. <img width=""194"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395551-1d6731aa-0749-425b-be68-f57344df0376.png"">.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2013
https://github.com/scverse/scanpy/issues/2013:410,modifiability,pac,package,410,"Improve gene expression visualisatio non UMAP; <!-- What kind of feature would you like to request? -->. - [ x] Additional function parameters / changed functionality / changed defaults? - [ ] New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? - [x ] New plotting function: A kind of plot you would like to seein `sc.pl`? - [ ] External tools: Do you know an existing package that should go into `sc.external.*`? - [ ] Other? ... It would be nice to have something like https://github.com/powellgenomicslab/Nebulosa to plot sparse genes. On one hand, ordering with highest value on top (top plot) does not always work as what is below top layer is hidden and decreasing point size to combat this is not always good if different regions of UMAP are differently dense, thus creating white patches. On the other hand, random ordering (middle plot) can be hard to look at for sparse genes. The gene on the plot is highly correlated with pattern from the bottom plot, but this is not so clear when plotting the gene alone. Sort order=True. <img width=""221"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395395-ec372b26-6552-4136-ae91-875713f700cb.png"">. Random cell ordering. <img width=""217"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395363-9e9fad24-e451-4d47-ac64-ff9b6b7b5774.png"">. Strongly correlated with. <img width=""194"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395551-1d6731aa-0749-425b-be68-f57344df0376.png"">.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2013
https://github.com/scverse/scanpy/issues/2013:681,modifiability,layer,layer,681,"Improve gene expression visualisatio non UMAP; <!-- What kind of feature would you like to request? -->. - [ x] Additional function parameters / changed functionality / changed defaults? - [ ] New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? - [x ] New plotting function: A kind of plot you would like to seein `sc.pl`? - [ ] External tools: Do you know an existing package that should go into `sc.external.*`? - [ ] Other? ... It would be nice to have something like https://github.com/powellgenomicslab/Nebulosa to plot sparse genes. On one hand, ordering with highest value on top (top plot) does not always work as what is below top layer is hidden and decreasing point size to combat this is not always good if different regions of UMAP are differently dense, thus creating white patches. On the other hand, random ordering (middle plot) can be hard to look at for sparse genes. The gene on the plot is highly correlated with pattern from the bottom plot, but this is not so clear when plotting the gene alone. Sort order=True. <img width=""221"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395395-ec372b26-6552-4136-ae91-875713f700cb.png"">. Random cell ordering. <img width=""217"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395363-9e9fad24-e451-4d47-ac64-ff9b6b7b5774.png"">. Strongly correlated with. <img width=""194"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395551-1d6731aa-0749-425b-be68-f57344df0376.png"">.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2013
https://github.com/scverse/scanpy/issues/2013:639,reliability,doe,does,639,"Improve gene expression visualisatio non UMAP; <!-- What kind of feature would you like to request? -->. - [ x] Additional function parameters / changed functionality / changed defaults? - [ ] New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? - [x ] New plotting function: A kind of plot you would like to seein `sc.pl`? - [ ] External tools: Do you know an existing package that should go into `sc.external.*`? - [ ] Other? ... It would be nice to have something like https://github.com/powellgenomicslab/Nebulosa to plot sparse genes. On one hand, ordering with highest value on top (top plot) does not always work as what is below top layer is hidden and decreasing point size to combat this is not always good if different regions of UMAP are differently dense, thus creating white patches. On the other hand, random ordering (middle plot) can be hard to look at for sparse genes. The gene on the plot is highly correlated with pattern from the bottom plot, but this is not so clear when plotting the gene alone. Sort order=True. <img width=""221"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395395-ec372b26-6552-4136-ae91-875713f700cb.png"">. Random cell ordering. <img width=""217"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395363-9e9fad24-e451-4d47-ac64-ff9b6b7b5774.png"">. Strongly correlated with. <img width=""194"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395551-1d6731aa-0749-425b-be68-f57344df0376.png"">.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2013
https://github.com/scverse/scanpy/issues/2013:829,safety,patch,patches,829,"Improve gene expression visualisatio non UMAP; <!-- What kind of feature would you like to request? -->. - [ x] Additional function parameters / changed functionality / changed defaults? - [ ] New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? - [x ] New plotting function: A kind of plot you would like to seein `sc.pl`? - [ ] External tools: Do you know an existing package that should go into `sc.external.*`? - [ ] Other? ... It would be nice to have something like https://github.com/powellgenomicslab/Nebulosa to plot sparse genes. On one hand, ordering with highest value on top (top plot) does not always work as what is below top layer is hidden and decreasing point size to combat this is not always good if different regions of UMAP are differently dense, thus creating white patches. On the other hand, random ordering (middle plot) can be hard to look at for sparse genes. The gene on the plot is highly correlated with pattern from the bottom plot, but this is not so clear when plotting the gene alone. Sort order=True. <img width=""221"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395395-ec372b26-6552-4136-ae91-875713f700cb.png"">. Random cell ordering. <img width=""217"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395363-9e9fad24-e451-4d47-ac64-ff9b6b7b5774.png"">. Strongly correlated with. <img width=""194"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395551-1d6731aa-0749-425b-be68-f57344df0376.png"">.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2013
https://github.com/scverse/scanpy/issues/2013:829,security,patch,patches,829,"Improve gene expression visualisatio non UMAP; <!-- What kind of feature would you like to request? -->. - [ x] Additional function parameters / changed functionality / changed defaults? - [ ] New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? - [x ] New plotting function: A kind of plot you would like to seein `sc.pl`? - [ ] External tools: Do you know an existing package that should go into `sc.external.*`? - [ ] Other? ... It would be nice to have something like https://github.com/powellgenomicslab/Nebulosa to plot sparse genes. On one hand, ordering with highest value on top (top plot) does not always work as what is below top layer is hidden and decreasing point size to combat this is not always good if different regions of UMAP are differently dense, thus creating white patches. On the other hand, random ordering (middle plot) can be hard to look at for sparse genes. The gene on the plot is highly correlated with pattern from the bottom plot, but this is not so clear when plotting the gene alone. Sort order=True. <img width=""221"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395395-ec372b26-6552-4136-ae91-875713f700cb.png"">. Random cell ordering. <img width=""217"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395363-9e9fad24-e451-4d47-ac64-ff9b6b7b5774.png"">. Strongly correlated with. <img width=""194"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395551-1d6731aa-0749-425b-be68-f57344df0376.png"">.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2013
https://github.com/scverse/scanpy/issues/2013:214,testability,simpl,simple,214,"Improve gene expression visualisatio non UMAP; <!-- What kind of feature would you like to request? -->. - [ x] Additional function parameters / changed functionality / changed defaults? - [ ] New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? - [x ] New plotting function: A kind of plot you would like to seein `sc.pl`? - [ ] External tools: Do you know an existing package that should go into `sc.external.*`? - [ ] Other? ... It would be nice to have something like https://github.com/powellgenomicslab/Nebulosa to plot sparse genes. On one hand, ordering with highest value on top (top plot) does not always work as what is below top layer is hidden and decreasing point size to combat this is not always good if different regions of UMAP are differently dense, thus creating white patches. On the other hand, random ordering (middle plot) can be hard to look at for sparse genes. The gene on the plot is highly correlated with pattern from the bottom plot, but this is not so clear when plotting the gene alone. Sort order=True. <img width=""221"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395395-ec372b26-6552-4136-ae91-875713f700cb.png"">. Random cell ordering. <img width=""217"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395363-9e9fad24-e451-4d47-ac64-ff9b6b7b5774.png"">. Strongly correlated with. <img width=""194"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395551-1d6731aa-0749-425b-be68-f57344df0376.png"">.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2013
https://github.com/scverse/scanpy/issues/2013:24,usability,visual,visualisatio,24,"Improve gene expression visualisatio non UMAP; <!-- What kind of feature would you like to request? -->. - [ x] Additional function parameters / changed functionality / changed defaults? - [ ] New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? - [x ] New plotting function: A kind of plot you would like to seein `sc.pl`? - [ ] External tools: Do you know an existing package that should go into `sc.external.*`? - [ ] Other? ... It would be nice to have something like https://github.com/powellgenomicslab/Nebulosa to plot sparse genes. On one hand, ordering with highest value on top (top plot) does not always work as what is below top layer is hidden and decreasing point size to combat this is not always good if different regions of UMAP are differently dense, thus creating white patches. On the other hand, random ordering (middle plot) can be hard to look at for sparse genes. The gene on the plot is highly correlated with pattern from the bottom plot, but this is not so clear when plotting the gene alone. Sort order=True. <img width=""221"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395395-ec372b26-6552-4136-ae91-875713f700cb.png"">. Random cell ordering. <img width=""217"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395363-9e9fad24-e451-4d47-ac64-ff9b6b7b5774.png"">. Strongly correlated with. <img width=""194"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395551-1d6731aa-0749-425b-be68-f57344df0376.png"">.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2013
https://github.com/scverse/scanpy/issues/2013:206,usability,tool,tool,206,"Improve gene expression visualisatio non UMAP; <!-- What kind of feature would you like to request? -->. - [ x] Additional function parameters / changed functionality / changed defaults? - [ ] New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? - [x ] New plotting function: A kind of plot you would like to seein `sc.pl`? - [ ] External tools: Do you know an existing package that should go into `sc.external.*`? - [ ] Other? ... It would be nice to have something like https://github.com/powellgenomicslab/Nebulosa to plot sparse genes. On one hand, ordering with highest value on top (top plot) does not always work as what is below top layer is hidden and decreasing point size to combat this is not always good if different regions of UMAP are differently dense, thus creating white patches. On the other hand, random ordering (middle plot) can be hard to look at for sparse genes. The gene on the plot is highly correlated with pattern from the bottom plot, but this is not so clear when plotting the gene alone. Sort order=True. <img width=""221"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395395-ec372b26-6552-4136-ae91-875713f700cb.png"">. Random cell ordering. <img width=""217"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395363-9e9fad24-e451-4d47-ac64-ff9b6b7b5774.png"">. Strongly correlated with. <img width=""194"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395551-1d6731aa-0749-425b-be68-f57344df0376.png"">.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2013
https://github.com/scverse/scanpy/issues/2013:214,usability,simpl,simple,214,"Improve gene expression visualisatio non UMAP; <!-- What kind of feature would you like to request? -->. - [ x] Additional function parameters / changed functionality / changed defaults? - [ ] New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? - [x ] New plotting function: A kind of plot you would like to seein `sc.pl`? - [ ] External tools: Do you know an existing package that should go into `sc.external.*`? - [ ] Other? ... It would be nice to have something like https://github.com/powellgenomicslab/Nebulosa to plot sparse genes. On one hand, ordering with highest value on top (top plot) does not always work as what is below top layer is hidden and decreasing point size to combat this is not always good if different regions of UMAP are differently dense, thus creating white patches. On the other hand, random ordering (middle plot) can be hard to look at for sparse genes. The gene on the plot is highly correlated with pattern from the bottom plot, but this is not so clear when plotting the gene alone. Sort order=True. <img width=""221"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395395-ec372b26-6552-4136-ae91-875713f700cb.png"">. Random cell ordering. <img width=""217"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395363-9e9fad24-e451-4d47-ac64-ff9b6b7b5774.png"">. Strongly correlated with. <img width=""194"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395551-1d6731aa-0749-425b-be68-f57344df0376.png"">.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2013
https://github.com/scverse/scanpy/issues/2013:230,usability,tool,tool,230,"Improve gene expression visualisatio non UMAP; <!-- What kind of feature would you like to request? -->. - [ x] Additional function parameters / changed functionality / changed defaults? - [ ] New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? - [x ] New plotting function: A kind of plot you would like to seein `sc.pl`? - [ ] External tools: Do you know an existing package that should go into `sc.external.*`? - [ ] Other? ... It would be nice to have something like https://github.com/powellgenomicslab/Nebulosa to plot sparse genes. On one hand, ordering with highest value on top (top plot) does not always work as what is below top layer is hidden and decreasing point size to combat this is not always good if different regions of UMAP are differently dense, thus creating white patches. On the other hand, random ordering (middle plot) can be hard to look at for sparse genes. The gene on the plot is highly correlated with pattern from the bottom plot, but this is not so clear when plotting the gene alone. Sort order=True. <img width=""221"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395395-ec372b26-6552-4136-ae91-875713f700cb.png"">. Random cell ordering. <img width=""217"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395363-9e9fad24-e451-4d47-ac64-ff9b6b7b5774.png"">. Strongly correlated with. <img width=""194"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395551-1d6731aa-0749-425b-be68-f57344df0376.png"">.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2013
https://github.com/scverse/scanpy/issues/2013:278,usability,tool,tools,278,"Improve gene expression visualisatio non UMAP; <!-- What kind of feature would you like to request? -->. - [ x] Additional function parameters / changed functionality / changed defaults? - [ ] New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? - [x ] New plotting function: A kind of plot you would like to seein `sc.pl`? - [ ] External tools: Do you know an existing package that should go into `sc.external.*`? - [ ] Other? ... It would be nice to have something like https://github.com/powellgenomicslab/Nebulosa to plot sparse genes. On one hand, ordering with highest value on top (top plot) does not always work as what is below top layer is hidden and decreasing point size to combat this is not always good if different regions of UMAP are differently dense, thus creating white patches. On the other hand, random ordering (middle plot) can be hard to look at for sparse genes. The gene on the plot is highly correlated with pattern from the bottom plot, but this is not so clear when plotting the gene alone. Sort order=True. <img width=""221"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395395-ec372b26-6552-4136-ae91-875713f700cb.png"">. Random cell ordering. <img width=""217"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395363-9e9fad24-e451-4d47-ac64-ff9b6b7b5774.png"">. Strongly correlated with. <img width=""194"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395551-1d6731aa-0749-425b-be68-f57344df0376.png"">.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2013
https://github.com/scverse/scanpy/issues/2013:379,usability,tool,tools,379,"Improve gene expression visualisatio non UMAP; <!-- What kind of feature would you like to request? -->. - [ x] Additional function parameters / changed functionality / changed defaults? - [ ] New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? - [x ] New plotting function: A kind of plot you would like to seein `sc.pl`? - [ ] External tools: Do you know an existing package that should go into `sc.external.*`? - [ ] Other? ... It would be nice to have something like https://github.com/powellgenomicslab/Nebulosa to plot sparse genes. On one hand, ordering with highest value on top (top plot) does not always work as what is below top layer is hidden and decreasing point size to combat this is not always good if different regions of UMAP are differently dense, thus creating white patches. On the other hand, random ordering (middle plot) can be hard to look at for sparse genes. The gene on the plot is highly correlated with pattern from the bottom plot, but this is not so clear when plotting the gene alone. Sort order=True. <img width=""221"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395395-ec372b26-6552-4136-ae91-875713f700cb.png"">. Random cell ordering. <img width=""217"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395363-9e9fad24-e451-4d47-ac64-ff9b6b7b5774.png"">. Strongly correlated with. <img width=""194"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395551-1d6731aa-0749-425b-be68-f57344df0376.png"">.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2013
https://github.com/scverse/scanpy/issues/2013:1024,usability,clear,clear,1024,"Improve gene expression visualisatio non UMAP; <!-- What kind of feature would you like to request? -->. - [ x] Additional function parameters / changed functionality / changed defaults? - [ ] New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? - [x ] New plotting function: A kind of plot you would like to seein `sc.pl`? - [ ] External tools: Do you know an existing package that should go into `sc.external.*`? - [ ] Other? ... It would be nice to have something like https://github.com/powellgenomicslab/Nebulosa to plot sparse genes. On one hand, ordering with highest value on top (top plot) does not always work as what is below top layer is hidden and decreasing point size to combat this is not always good if different regions of UMAP are differently dense, thus creating white patches. On the other hand, random ordering (middle plot) can be hard to look at for sparse genes. The gene on the plot is highly correlated with pattern from the bottom plot, but this is not so clear when plotting the gene alone. Sort order=True. <img width=""221"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395395-ec372b26-6552-4136-ae91-875713f700cb.png"">. Random cell ordering. <img width=""217"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395363-9e9fad24-e451-4d47-ac64-ff9b6b7b5774.png"">. Strongly correlated with. <img width=""194"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395551-1d6731aa-0749-425b-be68-f57344df0376.png"">.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2013
https://github.com/scverse/scanpy/issues/2013:1119,usability,user,user-images,1119,"Improve gene expression visualisatio non UMAP; <!-- What kind of feature would you like to request? -->. - [ x] Additional function parameters / changed functionality / changed defaults? - [ ] New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? - [x ] New plotting function: A kind of plot you would like to seein `sc.pl`? - [ ] External tools: Do you know an existing package that should go into `sc.external.*`? - [ ] Other? ... It would be nice to have something like https://github.com/powellgenomicslab/Nebulosa to plot sparse genes. On one hand, ordering with highest value on top (top plot) does not always work as what is below top layer is hidden and decreasing point size to combat this is not always good if different regions of UMAP are differently dense, thus creating white patches. On the other hand, random ordering (middle plot) can be hard to look at for sparse genes. The gene on the plot is highly correlated with pattern from the bottom plot, but this is not so clear when plotting the gene alone. Sort order=True. <img width=""221"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395395-ec372b26-6552-4136-ae91-875713f700cb.png"">. Random cell ordering. <img width=""217"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395363-9e9fad24-e451-4d47-ac64-ff9b6b7b5774.png"">. Strongly correlated with. <img width=""194"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395551-1d6731aa-0749-425b-be68-f57344df0376.png"">.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2013
https://github.com/scverse/scanpy/issues/2013:1280,usability,user,user-images,1280,"Improve gene expression visualisatio non UMAP; <!-- What kind of feature would you like to request? -->. - [ x] Additional function parameters / changed functionality / changed defaults? - [ ] New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? - [x ] New plotting function: A kind of plot you would like to seein `sc.pl`? - [ ] External tools: Do you know an existing package that should go into `sc.external.*`? - [ ] Other? ... It would be nice to have something like https://github.com/powellgenomicslab/Nebulosa to plot sparse genes. On one hand, ordering with highest value on top (top plot) does not always work as what is below top layer is hidden and decreasing point size to combat this is not always good if different regions of UMAP are differently dense, thus creating white patches. On the other hand, random ordering (middle plot) can be hard to look at for sparse genes. The gene on the plot is highly correlated with pattern from the bottom plot, but this is not so clear when plotting the gene alone. Sort order=True. <img width=""221"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395395-ec372b26-6552-4136-ae91-875713f700cb.png"">. Random cell ordering. <img width=""217"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395363-9e9fad24-e451-4d47-ac64-ff9b6b7b5774.png"">. Strongly correlated with. <img width=""194"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395551-1d6731aa-0749-425b-be68-f57344df0376.png"">.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2013
https://github.com/scverse/scanpy/issues/2013:1445,usability,user,user-images,1445,"Improve gene expression visualisatio non UMAP; <!-- What kind of feature would you like to request? -->. - [ x] Additional function parameters / changed functionality / changed defaults? - [ ] New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? - [x ] New plotting function: A kind of plot you would like to seein `sc.pl`? - [ ] External tools: Do you know an existing package that should go into `sc.external.*`? - [ ] Other? ... It would be nice to have something like https://github.com/powellgenomicslab/Nebulosa to plot sparse genes. On one hand, ordering with highest value on top (top plot) does not always work as what is below top layer is hidden and decreasing point size to combat this is not always good if different regions of UMAP are differently dense, thus creating white patches. On the other hand, random ordering (middle plot) can be hard to look at for sparse genes. The gene on the plot is highly correlated with pattern from the bottom plot, but this is not so clear when plotting the gene alone. Sort order=True. <img width=""221"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395395-ec372b26-6552-4136-ae91-875713f700cb.png"">. Random cell ordering. <img width=""217"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395363-9e9fad24-e451-4d47-ac64-ff9b6b7b5774.png"">. Strongly correlated with. <img width=""194"" alt=""image"" src=""https://user-images.githubusercontent.com/47607471/136395551-1d6731aa-0749-425b-be68-f57344df0376.png"">.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2013
https://github.com/scverse/scanpy/issues/2014:501,availability,cluster,clustering,501,"leiden and umap not reproducible on different CPUs; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I noticed that running the same single-cell analyses on different nodes of our HPC produces different results. . Starting from the same anndata object with a precomputed `X_scVI` latent representation, the UMAP and leiden-clustering looks different. . On . * Intel(R) Xeon(R) CPU E5-2699A v4 @ 2.40GHz. * AMD EPYC 7352 24-Core Processor. * Intel(R) Xeon(R) CPU E7-4850 v4 @ 2.10GHz. ![image](https://user-images.githubusercontent.com/7051479/137452257-b88f24fc-bb08-4620-9c1a-98d865ae5956.png). ```python. adata.obs[""leiden""].value_counts(). ```. ```console. 0 4268. 1 2132. 2 1691. 3 1662. 4 1659. 5 1563. ... ```. On . * Intel(R) Xeon(R) CPU E7- 4870 @ 2.40GHz. ![image](https://user-images.githubusercontent.com/7051479/137452439-7a094705-6473-4d22-8916-da3139273c6c.png). ```console. 0 3856. 1 2168. 2 2029. 3 1659. 4 1636. 5 1536. ... ```. ### Minimal code sample (that we can copy&paste without having any data). A git repository with example data, notebook and a nextflow pipeline is available here:. https://github.com/grst/scanpy_reproducibility. A report of the analysis executed on four different CPU architectures is available here:. https://grst.github.io/scanpy_reproducibility/. #### Versions. <details>. ```. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.5. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 8.0.1. anndata 0.7.5. backcall 0.2.0. cairo 1.20.0. cffi 1.14.4. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 3.1.0. igraph 0.8.3. ipykernel 5.3.4. ipython_genutils 0.2.0. jedi 0.17.2. joblib 0.17.0. kiwisolver 1.3.1. legacy_api_wrap 0.0.0. leidenalg 0.8.3. llvmlite 0.35.0. matplotlib 3.3.3. mpl_toolkits NA. na",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2014
https://github.com/scverse/scanpy/issues/2014:1270,availability,avail,available,1270,"--. I noticed that running the same single-cell analyses on different nodes of our HPC produces different results. . Starting from the same anndata object with a precomputed `X_scVI` latent representation, the UMAP and leiden-clustering looks different. . On . * Intel(R) Xeon(R) CPU E5-2699A v4 @ 2.40GHz. * AMD EPYC 7352 24-Core Processor. * Intel(R) Xeon(R) CPU E7-4850 v4 @ 2.10GHz. ![image](https://user-images.githubusercontent.com/7051479/137452257-b88f24fc-bb08-4620-9c1a-98d865ae5956.png). ```python. adata.obs[""leiden""].value_counts(). ```. ```console. 0 4268. 1 2132. 2 1691. 3 1662. 4 1659. 5 1563. ... ```. On . * Intel(R) Xeon(R) CPU E7- 4870 @ 2.40GHz. ![image](https://user-images.githubusercontent.com/7051479/137452439-7a094705-6473-4d22-8916-da3139273c6c.png). ```console. 0 3856. 1 2168. 2 2029. 3 1659. 4 1636. 5 1536. ... ```. ### Minimal code sample (that we can copy&paste without having any data). A git repository with example data, notebook and a nextflow pipeline is available here:. https://github.com/grst/scanpy_reproducibility. A report of the analysis executed on four different CPU architectures is available here:. https://grst.github.io/scanpy_reproducibility/. #### Versions. <details>. ```. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.5. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 8.0.1. anndata 0.7.5. backcall 0.2.0. cairo 1.20.0. cffi 1.14.4. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 3.1.0. igraph 0.8.3. ipykernel 5.3.4. ipython_genutils 0.2.0. jedi 0.17.2. joblib 0.17.0. kiwisolver 1.3.1. legacy_api_wrap 0.0.0. leidenalg 0.8.3. llvmlite 0.35.0. matplotlib 3.3.3. mpl_toolkits NA. natsort 7.1.0. numba 0.52.0. numexpr 2.7.1. numpy 1.19.4. packaging 20.7. pandas 1.1.4. parso 0.7.1. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.8. ptyprocess 0.6.0. pycparser 2.20. pygments 2.7.2. pyparsing 2.4.7. pytz 2020.4. scanpy 1.6.0. scipy 1.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2014
https://github.com/scverse/scanpy/issues/2014:1408,availability,avail,available,1408,"e anndata object with a precomputed `X_scVI` latent representation, the UMAP and leiden-clustering looks different. . On . * Intel(R) Xeon(R) CPU E5-2699A v4 @ 2.40GHz. * AMD EPYC 7352 24-Core Processor. * Intel(R) Xeon(R) CPU E7-4850 v4 @ 2.10GHz. ![image](https://user-images.githubusercontent.com/7051479/137452257-b88f24fc-bb08-4620-9c1a-98d865ae5956.png). ```python. adata.obs[""leiden""].value_counts(). ```. ```console. 0 4268. 1 2132. 2 1691. 3 1662. 4 1659. 5 1563. ... ```. On . * Intel(R) Xeon(R) CPU E7- 4870 @ 2.40GHz. ![image](https://user-images.githubusercontent.com/7051479/137452439-7a094705-6473-4d22-8916-da3139273c6c.png). ```console. 0 3856. 1 2168. 2 2029. 3 1659. 4 1636. 5 1536. ... ```. ### Minimal code sample (that we can copy&paste without having any data). A git repository with example data, notebook and a nextflow pipeline is available here:. https://github.com/grst/scanpy_reproducibility. A report of the analysis executed on four different CPU architectures is available here:. https://grst.github.io/scanpy_reproducibility/. #### Versions. <details>. ```. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.5. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 8.0.1. anndata 0.7.5. backcall 0.2.0. cairo 1.20.0. cffi 1.14.4. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 3.1.0. igraph 0.8.3. ipykernel 5.3.4. ipython_genutils 0.2.0. jedi 0.17.2. joblib 0.17.0. kiwisolver 1.3.1. legacy_api_wrap 0.0.0. leidenalg 0.8.3. llvmlite 0.35.0. matplotlib 3.3.3. mpl_toolkits NA. natsort 7.1.0. numba 0.52.0. numexpr 2.7.1. numpy 1.19.4. packaging 20.7. pandas 1.1.4. parso 0.7.1. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.8. ptyprocess 0.6.0. pycparser 2.20. pygments 2.7.2. pyparsing 2.4.7. pytz 2020.4. scanpy 1.6.0. scipy 1.5.3. setuptools_scm NA. sinfo 0.3.1. six 1.15.0. sklearn 0.23.2. sphinxcontrib NA. storemagic NA. tables 3.6.1. texttable 1.6.3. tornado 6",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2014
https://github.com/scverse/scanpy/issues/2014:173,deployability,version,version,173,"leiden and umap not reproducible on different CPUs; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I noticed that running the same single-cell analyses on different nodes of our HPC produces different results. . Starting from the same anndata object with a precomputed `X_scVI` latent representation, the UMAP and leiden-clustering looks different. . On . * Intel(R) Xeon(R) CPU E5-2699A v4 @ 2.40GHz. * AMD EPYC 7352 24-Core Processor. * Intel(R) Xeon(R) CPU E7-4850 v4 @ 2.10GHz. ![image](https://user-images.githubusercontent.com/7051479/137452257-b88f24fc-bb08-4620-9c1a-98d865ae5956.png). ```python. adata.obs[""leiden""].value_counts(). ```. ```console. 0 4268. 1 2132. 2 1691. 3 1662. 4 1659. 5 1563. ... ```. On . * Intel(R) Xeon(R) CPU E7- 4870 @ 2.40GHz. ![image](https://user-images.githubusercontent.com/7051479/137452439-7a094705-6473-4d22-8916-da3139273c6c.png). ```console. 0 3856. 1 2168. 2 2029. 3 1659. 4 1636. 5 1536. ... ```. ### Minimal code sample (that we can copy&paste without having any data). A git repository with example data, notebook and a nextflow pipeline is available here:. https://github.com/grst/scanpy_reproducibility. A report of the analysis executed on four different CPU architectures is available here:. https://grst.github.io/scanpy_reproducibility/. #### Versions. <details>. ```. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.5. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 8.0.1. anndata 0.7.5. backcall 0.2.0. cairo 1.20.0. cffi 1.14.4. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 3.1.0. igraph 0.8.3. ipykernel 5.3.4. ipython_genutils 0.2.0. jedi 0.17.2. joblib 0.17.0. kiwisolver 1.3.1. legacy_api_wrap 0.0.0. leidenalg 0.8.3. llvmlite 0.35.0. matplotlib 3.3.3. mpl_toolkits NA. na",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2014
https://github.com/scverse/scanpy/issues/2014:501,deployability,cluster,clustering,501,"leiden and umap not reproducible on different CPUs; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I noticed that running the same single-cell analyses on different nodes of our HPC produces different results. . Starting from the same anndata object with a precomputed `X_scVI` latent representation, the UMAP and leiden-clustering looks different. . On . * Intel(R) Xeon(R) CPU E5-2699A v4 @ 2.40GHz. * AMD EPYC 7352 24-Core Processor. * Intel(R) Xeon(R) CPU E7-4850 v4 @ 2.10GHz. ![image](https://user-images.githubusercontent.com/7051479/137452257-b88f24fc-bb08-4620-9c1a-98d865ae5956.png). ```python. adata.obs[""leiden""].value_counts(). ```. ```console. 0 4268. 1 2132. 2 1691. 3 1662. 4 1659. 5 1563. ... ```. On . * Intel(R) Xeon(R) CPU E7- 4870 @ 2.40GHz. ![image](https://user-images.githubusercontent.com/7051479/137452439-7a094705-6473-4d22-8916-da3139273c6c.png). ```console. 0 3856. 1 2168. 2 2029. 3 1659. 4 1636. 5 1536. ... ```. ### Minimal code sample (that we can copy&paste without having any data). A git repository with example data, notebook and a nextflow pipeline is available here:. https://github.com/grst/scanpy_reproducibility. A report of the analysis executed on four different CPU architectures is available here:. https://grst.github.io/scanpy_reproducibility/. #### Versions. <details>. ```. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.5. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 8.0.1. anndata 0.7.5. backcall 0.2.0. cairo 1.20.0. cffi 1.14.4. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 3.1.0. igraph 0.8.3. ipykernel 5.3.4. ipython_genutils 0.2.0. jedi 0.17.2. joblib 0.17.0. kiwisolver 1.3.1. legacy_api_wrap 0.0.0. leidenalg 0.8.3. llvmlite 0.35.0. matplotlib 3.3.3. mpl_toolkits NA. na",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2014
https://github.com/scverse/scanpy/issues/2014:1258,deployability,pipelin,pipeline,1258," of scanpy. ---. I noticed that running the same single-cell analyses on different nodes of our HPC produces different results. . Starting from the same anndata object with a precomputed `X_scVI` latent representation, the UMAP and leiden-clustering looks different. . On . * Intel(R) Xeon(R) CPU E5-2699A v4 @ 2.40GHz. * AMD EPYC 7352 24-Core Processor. * Intel(R) Xeon(R) CPU E7-4850 v4 @ 2.10GHz. ![image](https://user-images.githubusercontent.com/7051479/137452257-b88f24fc-bb08-4620-9c1a-98d865ae5956.png). ```python. adata.obs[""leiden""].value_counts(). ```. ```console. 0 4268. 1 2132. 2 1691. 3 1662. 4 1659. 5 1563. ... ```. On . * Intel(R) Xeon(R) CPU E7- 4870 @ 2.40GHz. ![image](https://user-images.githubusercontent.com/7051479/137452439-7a094705-6473-4d22-8916-da3139273c6c.png). ```console. 0 3856. 1 2168. 2 2029. 3 1659. 4 1636. 5 1536. ... ```. ### Minimal code sample (that we can copy&paste without having any data). A git repository with example data, notebook and a nextflow pipeline is available here:. https://github.com/grst/scanpy_reproducibility. A report of the analysis executed on four different CPU architectures is available here:. https://grst.github.io/scanpy_reproducibility/. #### Versions. <details>. ```. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.5. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 8.0.1. anndata 0.7.5. backcall 0.2.0. cairo 1.20.0. cffi 1.14.4. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 3.1.0. igraph 0.8.3. ipykernel 5.3.4. ipython_genutils 0.2.0. jedi 0.17.2. joblib 0.17.0. kiwisolver 1.3.1. legacy_api_wrap 0.0.0. leidenalg 0.8.3. llvmlite 0.35.0. matplotlib 3.3.3. mpl_toolkits NA. natsort 7.1.0. numba 0.52.0. numexpr 2.7.1. numpy 1.19.4. packaging 20.7. pandas 1.1.4. parso 0.7.1. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.8. ptyprocess 0.6.0. pycparser 2.20. pygments 2.7.2. pyparsing 2.4.7. pytz 2020.4. scanpy 1.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2014
https://github.com/scverse/scanpy/issues/2014:1478,deployability,Version,Versions,1478,"he UMAP and leiden-clustering looks different. . On . * Intel(R) Xeon(R) CPU E5-2699A v4 @ 2.40GHz. * AMD EPYC 7352 24-Core Processor. * Intel(R) Xeon(R) CPU E7-4850 v4 @ 2.10GHz. ![image](https://user-images.githubusercontent.com/7051479/137452257-b88f24fc-bb08-4620-9c1a-98d865ae5956.png). ```python. adata.obs[""leiden""].value_counts(). ```. ```console. 0 4268. 1 2132. 2 1691. 3 1662. 4 1659. 5 1563. ... ```. On . * Intel(R) Xeon(R) CPU E7- 4870 @ 2.40GHz. ![image](https://user-images.githubusercontent.com/7051479/137452439-7a094705-6473-4d22-8916-da3139273c6c.png). ```console. 0 3856. 1 2168. 2 2029. 3 1659. 4 1636. 5 1536. ... ```. ### Minimal code sample (that we can copy&paste without having any data). A git repository with example data, notebook and a nextflow pipeline is available here:. https://github.com/grst/scanpy_reproducibility. A report of the analysis executed on four different CPU architectures is available here:. https://grst.github.io/scanpy_reproducibility/. #### Versions. <details>. ```. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.5. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 8.0.1. anndata 0.7.5. backcall 0.2.0. cairo 1.20.0. cffi 1.14.4. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 3.1.0. igraph 0.8.3. ipykernel 5.3.4. ipython_genutils 0.2.0. jedi 0.17.2. joblib 0.17.0. kiwisolver 1.3.1. legacy_api_wrap 0.0.0. leidenalg 0.8.3. llvmlite 0.35.0. matplotlib 3.3.3. mpl_toolkits NA. natsort 7.1.0. numba 0.52.0. numexpr 2.7.1. numpy 1.19.4. packaging 20.7. pandas 1.1.4. parso 0.7.1. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.8. ptyprocess 0.6.0. pycparser 2.20. pygments 2.7.2. pyparsing 2.4.7. pytz 2020.4. scanpy 1.6.0. scipy 1.5.3. setuptools_scm NA. sinfo 0.3.1. six 1.15.0. sklearn 0.23.2. sphinxcontrib NA. storemagic NA. tables 3.6.1. texttable 1.6.3. tornado 6.1. traitlets 5.0.5. umap 0.4.6. wcwidth 0.2.5. yaml 5.3.1. zmq 20.0.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2014
https://github.com/scverse/scanpy/issues/2014:2704,deployability,log,logical,2704,"].value_counts(). ```. ```console. 0 4268. 1 2132. 2 1691. 3 1662. 4 1659. 5 1563. ... ```. On . * Intel(R) Xeon(R) CPU E7- 4870 @ 2.40GHz. ![image](https://user-images.githubusercontent.com/7051479/137452439-7a094705-6473-4d22-8916-da3139273c6c.png). ```console. 0 3856. 1 2168. 2 2029. 3 1659. 4 1636. 5 1536. ... ```. ### Minimal code sample (that we can copy&paste without having any data). A git repository with example data, notebook and a nextflow pipeline is available here:. https://github.com/grst/scanpy_reproducibility. A report of the analysis executed on four different CPU architectures is available here:. https://grst.github.io/scanpy_reproducibility/. #### Versions. <details>. ```. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.5. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 8.0.1. anndata 0.7.5. backcall 0.2.0. cairo 1.20.0. cffi 1.14.4. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 3.1.0. igraph 0.8.3. ipykernel 5.3.4. ipython_genutils 0.2.0. jedi 0.17.2. joblib 0.17.0. kiwisolver 1.3.1. legacy_api_wrap 0.0.0. leidenalg 0.8.3. llvmlite 0.35.0. matplotlib 3.3.3. mpl_toolkits NA. natsort 7.1.0. numba 0.52.0. numexpr 2.7.1. numpy 1.19.4. packaging 20.7. pandas 1.1.4. parso 0.7.1. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.8. ptyprocess 0.6.0. pycparser 2.20. pygments 2.7.2. pyparsing 2.4.7. pytz 2020.4. scanpy 1.6.0. scipy 1.5.3. setuptools_scm NA. sinfo 0.3.1. six 1.15.0. sklearn 0.23.2. sphinxcontrib NA. storemagic NA. tables 3.6.1. texttable 1.6.3. tornado 6.1. traitlets 5.0.5. umap 0.4.6. wcwidth 0.2.5. yaml 5.3.1. zmq 20.0.0. -----. IPython 7.19.0. jupyter_client 6.1.7. jupyter_core 4.7.0. -----. Python 3.8.6 | packaged by conda-forge | (default, Nov 27 2020, 19:31:52) [GCC 9.3.0]. Linux-3.10.0-1160.11.1.el7.x86_64-x86_64-with-glibc2.10. 64 logical CPU cores, x86_64. -----. Session information updated at 2021-10-15 09:58. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2014
https://github.com/scverse/scanpy/issues/2014:2758,deployability,updat,updated,2758,"].value_counts(). ```. ```console. 0 4268. 1 2132. 2 1691. 3 1662. 4 1659. 5 1563. ... ```. On . * Intel(R) Xeon(R) CPU E7- 4870 @ 2.40GHz. ![image](https://user-images.githubusercontent.com/7051479/137452439-7a094705-6473-4d22-8916-da3139273c6c.png). ```console. 0 3856. 1 2168. 2 2029. 3 1659. 4 1636. 5 1536. ... ```. ### Minimal code sample (that we can copy&paste without having any data). A git repository with example data, notebook and a nextflow pipeline is available here:. https://github.com/grst/scanpy_reproducibility. A report of the analysis executed on four different CPU architectures is available here:. https://grst.github.io/scanpy_reproducibility/. #### Versions. <details>. ```. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.5. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 8.0.1. anndata 0.7.5. backcall 0.2.0. cairo 1.20.0. cffi 1.14.4. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 3.1.0. igraph 0.8.3. ipykernel 5.3.4. ipython_genutils 0.2.0. jedi 0.17.2. joblib 0.17.0. kiwisolver 1.3.1. legacy_api_wrap 0.0.0. leidenalg 0.8.3. llvmlite 0.35.0. matplotlib 3.3.3. mpl_toolkits NA. natsort 7.1.0. numba 0.52.0. numexpr 2.7.1. numpy 1.19.4. packaging 20.7. pandas 1.1.4. parso 0.7.1. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.8. ptyprocess 0.6.0. pycparser 2.20. pygments 2.7.2. pyparsing 2.4.7. pytz 2020.4. scanpy 1.6.0. scipy 1.5.3. setuptools_scm NA. sinfo 0.3.1. six 1.15.0. sklearn 0.23.2. sphinxcontrib NA. storemagic NA. tables 3.6.1. texttable 1.6.3. tornado 6.1. traitlets 5.0.5. umap 0.4.6. wcwidth 0.2.5. yaml 5.3.1. zmq 20.0.0. -----. IPython 7.19.0. jupyter_client 6.1.7. jupyter_core 4.7.0. -----. Python 3.8.6 | packaged by conda-forge | (default, Nov 27 2020, 19:31:52) [GCC 9.3.0]. Linux-3.10.0-1160.11.1.el7.x86_64-x86_64-with-glibc2.10. 64 logical CPU cores, x86_64. -----. Session information updated at 2021-10-15 09:58. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2014
https://github.com/scverse/scanpy/issues/2014:46,energy efficiency,CPU,CPUs,46,"leiden and umap not reproducible on different CPUs; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I noticed that running the same single-cell analyses on different nodes of our HPC produces different results. . Starting from the same anndata object with a precomputed `X_scVI` latent representation, the UMAP and leiden-clustering looks different. . On . * Intel(R) Xeon(R) CPU E5-2699A v4 @ 2.40GHz. * AMD EPYC 7352 24-Core Processor. * Intel(R) Xeon(R) CPU E7-4850 v4 @ 2.10GHz. ![image](https://user-images.githubusercontent.com/7051479/137452257-b88f24fc-bb08-4620-9c1a-98d865ae5956.png). ```python. adata.obs[""leiden""].value_counts(). ```. ```console. 0 4268. 1 2132. 2 1691. 3 1662. 4 1659. 5 1563. ... ```. On . * Intel(R) Xeon(R) CPU E7- 4870 @ 2.40GHz. ![image](https://user-images.githubusercontent.com/7051479/137452439-7a094705-6473-4d22-8916-da3139273c6c.png). ```console. 0 3856. 1 2168. 2 2029. 3 1659. 4 1636. 5 1536. ... ```. ### Minimal code sample (that we can copy&paste without having any data). A git repository with example data, notebook and a nextflow pipeline is available here:. https://github.com/grst/scanpy_reproducibility. A report of the analysis executed on four different CPU architectures is available here:. https://grst.github.io/scanpy_reproducibility/. #### Versions. <details>. ```. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.5. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 8.0.1. anndata 0.7.5. backcall 0.2.0. cairo 1.20.0. cffi 1.14.4. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 3.1.0. igraph 0.8.3. ipykernel 5.3.4. ipython_genutils 0.2.0. jedi 0.17.2. joblib 0.17.0. kiwisolver 1.3.1. legacy_api_wrap 0.0.0. leidenalg 0.8.3. llvmlite 0.35.0. matplotlib 3.3.3. mpl_toolkits NA. na",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2014
https://github.com/scverse/scanpy/issues/2014:555,energy efficiency,CPU,CPU,555,"leiden and umap not reproducible on different CPUs; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I noticed that running the same single-cell analyses on different nodes of our HPC produces different results. . Starting from the same anndata object with a precomputed `X_scVI` latent representation, the UMAP and leiden-clustering looks different. . On . * Intel(R) Xeon(R) CPU E5-2699A v4 @ 2.40GHz. * AMD EPYC 7352 24-Core Processor. * Intel(R) Xeon(R) CPU E7-4850 v4 @ 2.10GHz. ![image](https://user-images.githubusercontent.com/7051479/137452257-b88f24fc-bb08-4620-9c1a-98d865ae5956.png). ```python. adata.obs[""leiden""].value_counts(). ```. ```console. 0 4268. 1 2132. 2 1691. 3 1662. 4 1659. 5 1563. ... ```. On . * Intel(R) Xeon(R) CPU E7- 4870 @ 2.40GHz. ![image](https://user-images.githubusercontent.com/7051479/137452439-7a094705-6473-4d22-8916-da3139273c6c.png). ```console. 0 3856. 1 2168. 2 2029. 3 1659. 4 1636. 5 1536. ... ```. ### Minimal code sample (that we can copy&paste without having any data). A git repository with example data, notebook and a nextflow pipeline is available here:. https://github.com/grst/scanpy_reproducibility. A report of the analysis executed on four different CPU architectures is available here:. https://grst.github.io/scanpy_reproducibility/. #### Versions. <details>. ```. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.5. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 8.0.1. anndata 0.7.5. backcall 0.2.0. cairo 1.20.0. cffi 1.14.4. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 3.1.0. igraph 0.8.3. ipykernel 5.3.4. ipython_genutils 0.2.0. jedi 0.17.2. joblib 0.17.0. kiwisolver 1.3.1. legacy_api_wrap 0.0.0. leidenalg 0.8.3. llvmlite 0.35.0. matplotlib 3.3.3. mpl_toolkits NA. na",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2014
https://github.com/scverse/scanpy/issues/2014:601,energy efficiency,Core,Core,601,"leiden and umap not reproducible on different CPUs; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I noticed that running the same single-cell analyses on different nodes of our HPC produces different results. . Starting from the same anndata object with a precomputed `X_scVI` latent representation, the UMAP and leiden-clustering looks different. . On . * Intel(R) Xeon(R) CPU E5-2699A v4 @ 2.40GHz. * AMD EPYC 7352 24-Core Processor. * Intel(R) Xeon(R) CPU E7-4850 v4 @ 2.10GHz. ![image](https://user-images.githubusercontent.com/7051479/137452257-b88f24fc-bb08-4620-9c1a-98d865ae5956.png). ```python. adata.obs[""leiden""].value_counts(). ```. ```console. 0 4268. 1 2132. 2 1691. 3 1662. 4 1659. 5 1563. ... ```. On . * Intel(R) Xeon(R) CPU E7- 4870 @ 2.40GHz. ![image](https://user-images.githubusercontent.com/7051479/137452439-7a094705-6473-4d22-8916-da3139273c6c.png). ```console. 0 3856. 1 2168. 2 2029. 3 1659. 4 1636. 5 1536. ... ```. ### Minimal code sample (that we can copy&paste without having any data). A git repository with example data, notebook and a nextflow pipeline is available here:. https://github.com/grst/scanpy_reproducibility. A report of the analysis executed on four different CPU architectures is available here:. https://grst.github.io/scanpy_reproducibility/. #### Versions. <details>. ```. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.5. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 8.0.1. anndata 0.7.5. backcall 0.2.0. cairo 1.20.0. cffi 1.14.4. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 3.1.0. igraph 0.8.3. ipykernel 5.3.4. ipython_genutils 0.2.0. jedi 0.17.2. joblib 0.17.0. kiwisolver 1.3.1. legacy_api_wrap 0.0.0. leidenalg 0.8.3. llvmlite 0.35.0. matplotlib 3.3.3. mpl_toolkits NA. na",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2014
https://github.com/scverse/scanpy/issues/2014:636,energy efficiency,CPU,CPU,636,"leiden and umap not reproducible on different CPUs; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I noticed that running the same single-cell analyses on different nodes of our HPC produces different results. . Starting from the same anndata object with a precomputed `X_scVI` latent representation, the UMAP and leiden-clustering looks different. . On . * Intel(R) Xeon(R) CPU E5-2699A v4 @ 2.40GHz. * AMD EPYC 7352 24-Core Processor. * Intel(R) Xeon(R) CPU E7-4850 v4 @ 2.10GHz. ![image](https://user-images.githubusercontent.com/7051479/137452257-b88f24fc-bb08-4620-9c1a-98d865ae5956.png). ```python. adata.obs[""leiden""].value_counts(). ```. ```console. 0 4268. 1 2132. 2 1691. 3 1662. 4 1659. 5 1563. ... ```. On . * Intel(R) Xeon(R) CPU E7- 4870 @ 2.40GHz. ![image](https://user-images.githubusercontent.com/7051479/137452439-7a094705-6473-4d22-8916-da3139273c6c.png). ```console. 0 3856. 1 2168. 2 2029. 3 1659. 4 1636. 5 1536. ... ```. ### Minimal code sample (that we can copy&paste without having any data). A git repository with example data, notebook and a nextflow pipeline is available here:. https://github.com/grst/scanpy_reproducibility. A report of the analysis executed on four different CPU architectures is available here:. https://grst.github.io/scanpy_reproducibility/. #### Versions. <details>. ```. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.5. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 8.0.1. anndata 0.7.5. backcall 0.2.0. cairo 1.20.0. cffi 1.14.4. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 3.1.0. igraph 0.8.3. ipykernel 5.3.4. ipython_genutils 0.2.0. jedi 0.17.2. joblib 0.17.0. kiwisolver 1.3.1. legacy_api_wrap 0.0.0. leidenalg 0.8.3. llvmlite 0.35.0. matplotlib 3.3.3. mpl_toolkits NA. na",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2014
https://github.com/scverse/scanpy/issues/2014:919,energy efficiency,CPU,CPU,919,"leiden and umap not reproducible on different CPUs; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I noticed that running the same single-cell analyses on different nodes of our HPC produces different results. . Starting from the same anndata object with a precomputed `X_scVI` latent representation, the UMAP and leiden-clustering looks different. . On . * Intel(R) Xeon(R) CPU E5-2699A v4 @ 2.40GHz. * AMD EPYC 7352 24-Core Processor. * Intel(R) Xeon(R) CPU E7-4850 v4 @ 2.10GHz. ![image](https://user-images.githubusercontent.com/7051479/137452257-b88f24fc-bb08-4620-9c1a-98d865ae5956.png). ```python. adata.obs[""leiden""].value_counts(). ```. ```console. 0 4268. 1 2132. 2 1691. 3 1662. 4 1659. 5 1563. ... ```. On . * Intel(R) Xeon(R) CPU E7- 4870 @ 2.40GHz. ![image](https://user-images.githubusercontent.com/7051479/137452439-7a094705-6473-4d22-8916-da3139273c6c.png). ```console. 0 3856. 1 2168. 2 2029. 3 1659. 4 1636. 5 1536. ... ```. ### Minimal code sample (that we can copy&paste without having any data). A git repository with example data, notebook and a nextflow pipeline is available here:. https://github.com/grst/scanpy_reproducibility. A report of the analysis executed on four different CPU architectures is available here:. https://grst.github.io/scanpy_reproducibility/. #### Versions. <details>. ```. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.5. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 8.0.1. anndata 0.7.5. backcall 0.2.0. cairo 1.20.0. cffi 1.14.4. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 3.1.0. igraph 0.8.3. ipykernel 5.3.4. ipython_genutils 0.2.0. jedi 0.17.2. joblib 0.17.0. kiwisolver 1.3.1. legacy_api_wrap 0.0.0. leidenalg 0.8.3. llvmlite 0.35.0. matplotlib 3.3.3. mpl_toolkits NA. na",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2014
https://github.com/scverse/scanpy/issues/2014:1387,energy efficiency,CPU,CPU,1387," . Starting from the same anndata object with a precomputed `X_scVI` latent representation, the UMAP and leiden-clustering looks different. . On . * Intel(R) Xeon(R) CPU E5-2699A v4 @ 2.40GHz. * AMD EPYC 7352 24-Core Processor. * Intel(R) Xeon(R) CPU E7-4850 v4 @ 2.10GHz. ![image](https://user-images.githubusercontent.com/7051479/137452257-b88f24fc-bb08-4620-9c1a-98d865ae5956.png). ```python. adata.obs[""leiden""].value_counts(). ```. ```console. 0 4268. 1 2132. 2 1691. 3 1662. 4 1659. 5 1563. ... ```. On . * Intel(R) Xeon(R) CPU E7- 4870 @ 2.40GHz. ![image](https://user-images.githubusercontent.com/7051479/137452439-7a094705-6473-4d22-8916-da3139273c6c.png). ```console. 0 3856. 1 2168. 2 2029. 3 1659. 4 1636. 5 1536. ... ```. ### Minimal code sample (that we can copy&paste without having any data). A git repository with example data, notebook and a nextflow pipeline is available here:. https://github.com/grst/scanpy_reproducibility. A report of the analysis executed on four different CPU architectures is available here:. https://grst.github.io/scanpy_reproducibility/. #### Versions. <details>. ```. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.5. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 8.0.1. anndata 0.7.5. backcall 0.2.0. cairo 1.20.0. cffi 1.14.4. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 3.1.0. igraph 0.8.3. ipykernel 5.3.4. ipython_genutils 0.2.0. jedi 0.17.2. joblib 0.17.0. kiwisolver 1.3.1. legacy_api_wrap 0.0.0. leidenalg 0.8.3. llvmlite 0.35.0. matplotlib 3.3.3. mpl_toolkits NA. natsort 7.1.0. numba 0.52.0. numexpr 2.7.1. numpy 1.19.4. packaging 20.7. pandas 1.1.4. parso 0.7.1. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.8. ptyprocess 0.6.0. pycparser 2.20. pygments 2.7.2. pyparsing 2.4.7. pytz 2020.4. scanpy 1.6.0. scipy 1.5.3. setuptools_scm NA. sinfo 0.3.1. six 1.15.0. sklearn 0.23.2. sphinxcontrib NA. storemagic NA. tables 3.6.1. te",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2014
https://github.com/scverse/scanpy/issues/2014:2712,energy efficiency,CPU,CPU,2712,"].value_counts(). ```. ```console. 0 4268. 1 2132. 2 1691. 3 1662. 4 1659. 5 1563. ... ```. On . * Intel(R) Xeon(R) CPU E7- 4870 @ 2.40GHz. ![image](https://user-images.githubusercontent.com/7051479/137452439-7a094705-6473-4d22-8916-da3139273c6c.png). ```console. 0 3856. 1 2168. 2 2029. 3 1659. 4 1636. 5 1536. ... ```. ### Minimal code sample (that we can copy&paste without having any data). A git repository with example data, notebook and a nextflow pipeline is available here:. https://github.com/grst/scanpy_reproducibility. A report of the analysis executed on four different CPU architectures is available here:. https://grst.github.io/scanpy_reproducibility/. #### Versions. <details>. ```. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.5. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 8.0.1. anndata 0.7.5. backcall 0.2.0. cairo 1.20.0. cffi 1.14.4. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 3.1.0. igraph 0.8.3. ipykernel 5.3.4. ipython_genutils 0.2.0. jedi 0.17.2. joblib 0.17.0. kiwisolver 1.3.1. legacy_api_wrap 0.0.0. leidenalg 0.8.3. llvmlite 0.35.0. matplotlib 3.3.3. mpl_toolkits NA. natsort 7.1.0. numba 0.52.0. numexpr 2.7.1. numpy 1.19.4. packaging 20.7. pandas 1.1.4. parso 0.7.1. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.8. ptyprocess 0.6.0. pycparser 2.20. pygments 2.7.2. pyparsing 2.4.7. pytz 2020.4. scanpy 1.6.0. scipy 1.5.3. setuptools_scm NA. sinfo 0.3.1. six 1.15.0. sklearn 0.23.2. sphinxcontrib NA. storemagic NA. tables 3.6.1. texttable 1.6.3. tornado 6.1. traitlets 5.0.5. umap 0.4.6. wcwidth 0.2.5. yaml 5.3.1. zmq 20.0.0. -----. IPython 7.19.0. jupyter_client 6.1.7. jupyter_core 4.7.0. -----. Python 3.8.6 | packaged by conda-forge | (default, Nov 27 2020, 19:31:52) [GCC 9.3.0]. Linux-3.10.0-1160.11.1.el7.x86_64-x86_64-with-glibc2.10. 64 logical CPU cores, x86_64. -----. Session information updated at 2021-10-15 09:58. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2014
https://github.com/scverse/scanpy/issues/2014:2716,energy efficiency,core,cores,2716,"].value_counts(). ```. ```console. 0 4268. 1 2132. 2 1691. 3 1662. 4 1659. 5 1563. ... ```. On . * Intel(R) Xeon(R) CPU E7- 4870 @ 2.40GHz. ![image](https://user-images.githubusercontent.com/7051479/137452439-7a094705-6473-4d22-8916-da3139273c6c.png). ```console. 0 3856. 1 2168. 2 2029. 3 1659. 4 1636. 5 1536. ... ```. ### Minimal code sample (that we can copy&paste without having any data). A git repository with example data, notebook and a nextflow pipeline is available here:. https://github.com/grst/scanpy_reproducibility. A report of the analysis executed on four different CPU architectures is available here:. https://grst.github.io/scanpy_reproducibility/. #### Versions. <details>. ```. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.5. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 8.0.1. anndata 0.7.5. backcall 0.2.0. cairo 1.20.0. cffi 1.14.4. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 3.1.0. igraph 0.8.3. ipykernel 5.3.4. ipython_genutils 0.2.0. jedi 0.17.2. joblib 0.17.0. kiwisolver 1.3.1. legacy_api_wrap 0.0.0. leidenalg 0.8.3. llvmlite 0.35.0. matplotlib 3.3.3. mpl_toolkits NA. natsort 7.1.0. numba 0.52.0. numexpr 2.7.1. numpy 1.19.4. packaging 20.7. pandas 1.1.4. parso 0.7.1. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.8. ptyprocess 0.6.0. pycparser 2.20. pygments 2.7.2. pyparsing 2.4.7. pytz 2020.4. scanpy 1.6.0. scipy 1.5.3. setuptools_scm NA. sinfo 0.3.1. six 1.15.0. sklearn 0.23.2. sphinxcontrib NA. storemagic NA. tables 3.6.1. texttable 1.6.3. tornado 6.1. traitlets 5.0.5. umap 0.4.6. wcwidth 0.2.5. yaml 5.3.1. zmq 20.0.0. -----. IPython 7.19.0. jupyter_client 6.1.7. jupyter_core 4.7.0. -----. Python 3.8.6 | packaged by conda-forge | (default, Nov 27 2020, 19:31:52) [GCC 9.3.0]. Linux-3.10.0-1160.11.1.el7.x86_64-x86_64-with-glibc2.10. 64 logical CPU cores, x86_64. -----. Session information updated at 2021-10-15 09:58. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2014
https://github.com/scverse/scanpy/issues/2014:173,integrability,version,version,173,"leiden and umap not reproducible on different CPUs; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I noticed that running the same single-cell analyses on different nodes of our HPC produces different results. . Starting from the same anndata object with a precomputed `X_scVI` latent representation, the UMAP and leiden-clustering looks different. . On . * Intel(R) Xeon(R) CPU E5-2699A v4 @ 2.40GHz. * AMD EPYC 7352 24-Core Processor. * Intel(R) Xeon(R) CPU E7-4850 v4 @ 2.10GHz. ![image](https://user-images.githubusercontent.com/7051479/137452257-b88f24fc-bb08-4620-9c1a-98d865ae5956.png). ```python. adata.obs[""leiden""].value_counts(). ```. ```console. 0 4268. 1 2132. 2 1691. 3 1662. 4 1659. 5 1563. ... ```. On . * Intel(R) Xeon(R) CPU E7- 4870 @ 2.40GHz. ![image](https://user-images.githubusercontent.com/7051479/137452439-7a094705-6473-4d22-8916-da3139273c6c.png). ```console. 0 3856. 1 2168. 2 2029. 3 1659. 4 1636. 5 1536. ... ```. ### Minimal code sample (that we can copy&paste without having any data). A git repository with example data, notebook and a nextflow pipeline is available here:. https://github.com/grst/scanpy_reproducibility. A report of the analysis executed on four different CPU architectures is available here:. https://grst.github.io/scanpy_reproducibility/. #### Versions. <details>. ```. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.5. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 8.0.1. anndata 0.7.5. backcall 0.2.0. cairo 1.20.0. cffi 1.14.4. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 3.1.0. igraph 0.8.3. ipykernel 5.3.4. ipython_genutils 0.2.0. jedi 0.17.2. joblib 0.17.0. kiwisolver 1.3.1. legacy_api_wrap 0.0.0. leidenalg 0.8.3. llvmlite 0.35.0. matplotlib 3.3.3. mpl_toolkits NA. na",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2014
https://github.com/scverse/scanpy/issues/2014:1204,integrability,repositor,repository,1204,"I have confirmed this bug exists on the master branch of scanpy. ---. I noticed that running the same single-cell analyses on different nodes of our HPC produces different results. . Starting from the same anndata object with a precomputed `X_scVI` latent representation, the UMAP and leiden-clustering looks different. . On . * Intel(R) Xeon(R) CPU E5-2699A v4 @ 2.40GHz. * AMD EPYC 7352 24-Core Processor. * Intel(R) Xeon(R) CPU E7-4850 v4 @ 2.10GHz. ![image](https://user-images.githubusercontent.com/7051479/137452257-b88f24fc-bb08-4620-9c1a-98d865ae5956.png). ```python. adata.obs[""leiden""].value_counts(). ```. ```console. 0 4268. 1 2132. 2 1691. 3 1662. 4 1659. 5 1563. ... ```. On . * Intel(R) Xeon(R) CPU E7- 4870 @ 2.40GHz. ![image](https://user-images.githubusercontent.com/7051479/137452439-7a094705-6473-4d22-8916-da3139273c6c.png). ```console. 0 3856. 1 2168. 2 2029. 3 1659. 4 1636. 5 1536. ... ```. ### Minimal code sample (that we can copy&paste without having any data). A git repository with example data, notebook and a nextflow pipeline is available here:. https://github.com/grst/scanpy_reproducibility. A report of the analysis executed on four different CPU architectures is available here:. https://grst.github.io/scanpy_reproducibility/. #### Versions. <details>. ```. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.5. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 8.0.1. anndata 0.7.5. backcall 0.2.0. cairo 1.20.0. cffi 1.14.4. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 3.1.0. igraph 0.8.3. ipykernel 5.3.4. ipython_genutils 0.2.0. jedi 0.17.2. joblib 0.17.0. kiwisolver 1.3.1. legacy_api_wrap 0.0.0. leidenalg 0.8.3. llvmlite 0.35.0. matplotlib 3.3.3. mpl_toolkits NA. natsort 7.1.0. numba 0.52.0. numexpr 2.7.1. numpy 1.19.4. packaging 20.7. pandas 1.1.4. parso 0.7.1. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.8. ptyprocess 0.6.0. pycparser 2.20. py",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2014
https://github.com/scverse/scanpy/issues/2014:1258,integrability,pipelin,pipeline,1258," of scanpy. ---. I noticed that running the same single-cell analyses on different nodes of our HPC produces different results. . Starting from the same anndata object with a precomputed `X_scVI` latent representation, the UMAP and leiden-clustering looks different. . On . * Intel(R) Xeon(R) CPU E5-2699A v4 @ 2.40GHz. * AMD EPYC 7352 24-Core Processor. * Intel(R) Xeon(R) CPU E7-4850 v4 @ 2.10GHz. ![image](https://user-images.githubusercontent.com/7051479/137452257-b88f24fc-bb08-4620-9c1a-98d865ae5956.png). ```python. adata.obs[""leiden""].value_counts(). ```. ```console. 0 4268. 1 2132. 2 1691. 3 1662. 4 1659. 5 1563. ... ```. On . * Intel(R) Xeon(R) CPU E7- 4870 @ 2.40GHz. ![image](https://user-images.githubusercontent.com/7051479/137452439-7a094705-6473-4d22-8916-da3139273c6c.png). ```console. 0 3856. 1 2168. 2 2029. 3 1659. 4 1636. 5 1536. ... ```. ### Minimal code sample (that we can copy&paste without having any data). A git repository with example data, notebook and a nextflow pipeline is available here:. https://github.com/grst/scanpy_reproducibility. A report of the analysis executed on four different CPU architectures is available here:. https://grst.github.io/scanpy_reproducibility/. #### Versions. <details>. ```. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.5. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 8.0.1. anndata 0.7.5. backcall 0.2.0. cairo 1.20.0. cffi 1.14.4. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 3.1.0. igraph 0.8.3. ipykernel 5.3.4. ipython_genutils 0.2.0. jedi 0.17.2. joblib 0.17.0. kiwisolver 1.3.1. legacy_api_wrap 0.0.0. leidenalg 0.8.3. llvmlite 0.35.0. matplotlib 3.3.3. mpl_toolkits NA. natsort 7.1.0. numba 0.52.0. numexpr 2.7.1. numpy 1.19.4. packaging 20.7. pandas 1.1.4. parso 0.7.1. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.8. ptyprocess 0.6.0. pycparser 2.20. pygments 2.7.2. pyparsing 2.4.7. pytz 2020.4. scanpy 1.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2014
https://github.com/scverse/scanpy/issues/2014:1478,integrability,Version,Versions,1478,"he UMAP and leiden-clustering looks different. . On . * Intel(R) Xeon(R) CPU E5-2699A v4 @ 2.40GHz. * AMD EPYC 7352 24-Core Processor. * Intel(R) Xeon(R) CPU E7-4850 v4 @ 2.10GHz. ![image](https://user-images.githubusercontent.com/7051479/137452257-b88f24fc-bb08-4620-9c1a-98d865ae5956.png). ```python. adata.obs[""leiden""].value_counts(). ```. ```console. 0 4268. 1 2132. 2 1691. 3 1662. 4 1659. 5 1563. ... ```. On . * Intel(R) Xeon(R) CPU E7- 4870 @ 2.40GHz. ![image](https://user-images.githubusercontent.com/7051479/137452439-7a094705-6473-4d22-8916-da3139273c6c.png). ```console. 0 3856. 1 2168. 2 2029. 3 1659. 4 1636. 5 1536. ... ```. ### Minimal code sample (that we can copy&paste without having any data). A git repository with example data, notebook and a nextflow pipeline is available here:. https://github.com/grst/scanpy_reproducibility. A report of the analysis executed on four different CPU architectures is available here:. https://grst.github.io/scanpy_reproducibility/. #### Versions. <details>. ```. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.5. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 8.0.1. anndata 0.7.5. backcall 0.2.0. cairo 1.20.0. cffi 1.14.4. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 3.1.0. igraph 0.8.3. ipykernel 5.3.4. ipython_genutils 0.2.0. jedi 0.17.2. joblib 0.17.0. kiwisolver 1.3.1. legacy_api_wrap 0.0.0. leidenalg 0.8.3. llvmlite 0.35.0. matplotlib 3.3.3. mpl_toolkits NA. natsort 7.1.0. numba 0.52.0. numexpr 2.7.1. numpy 1.19.4. packaging 20.7. pandas 1.1.4. parso 0.7.1. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.8. ptyprocess 0.6.0. pycparser 2.20. pygments 2.7.2. pyparsing 2.4.7. pytz 2020.4. scanpy 1.6.0. scipy 1.5.3. setuptools_scm NA. sinfo 0.3.1. six 1.15.0. sklearn 0.23.2. sphinxcontrib NA. storemagic NA. tables 3.6.1. texttable 1.6.3. tornado 6.1. traitlets 5.0.5. umap 0.4.6. wcwidth 0.2.5. yaml 5.3.1. zmq 20.0.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2014
https://github.com/scverse/scanpy/issues/2014:1204,interoperability,repositor,repository,1204,"I have confirmed this bug exists on the master branch of scanpy. ---. I noticed that running the same single-cell analyses on different nodes of our HPC produces different results. . Starting from the same anndata object with a precomputed `X_scVI` latent representation, the UMAP and leiden-clustering looks different. . On . * Intel(R) Xeon(R) CPU E5-2699A v4 @ 2.40GHz. * AMD EPYC 7352 24-Core Processor. * Intel(R) Xeon(R) CPU E7-4850 v4 @ 2.10GHz. ![image](https://user-images.githubusercontent.com/7051479/137452257-b88f24fc-bb08-4620-9c1a-98d865ae5956.png). ```python. adata.obs[""leiden""].value_counts(). ```. ```console. 0 4268. 1 2132. 2 1691. 3 1662. 4 1659. 5 1563. ... ```. On . * Intel(R) Xeon(R) CPU E7- 4870 @ 2.40GHz. ![image](https://user-images.githubusercontent.com/7051479/137452439-7a094705-6473-4d22-8916-da3139273c6c.png). ```console. 0 3856. 1 2168. 2 2029. 3 1659. 4 1636. 5 1536. ... ```. ### Minimal code sample (that we can copy&paste without having any data). A git repository with example data, notebook and a nextflow pipeline is available here:. https://github.com/grst/scanpy_reproducibility. A report of the analysis executed on four different CPU architectures is available here:. https://grst.github.io/scanpy_reproducibility/. #### Versions. <details>. ```. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.5. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 8.0.1. anndata 0.7.5. backcall 0.2.0. cairo 1.20.0. cffi 1.14.4. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 3.1.0. igraph 0.8.3. ipykernel 5.3.4. ipython_genutils 0.2.0. jedi 0.17.2. joblib 0.17.0. kiwisolver 1.3.1. legacy_api_wrap 0.0.0. leidenalg 0.8.3. llvmlite 0.35.0. matplotlib 3.3.3. mpl_toolkits NA. natsort 7.1.0. numba 0.52.0. numexpr 2.7.1. numpy 1.19.4. packaging 20.7. pandas 1.1.4. parso 0.7.1. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.8. ptyprocess 0.6.0. pycparser 2.20. py",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2014
https://github.com/scverse/scanpy/issues/2014:1391,interoperability,architectur,architectures,1391,"ng from the same anndata object with a precomputed `X_scVI` latent representation, the UMAP and leiden-clustering looks different. . On . * Intel(R) Xeon(R) CPU E5-2699A v4 @ 2.40GHz. * AMD EPYC 7352 24-Core Processor. * Intel(R) Xeon(R) CPU E7-4850 v4 @ 2.10GHz. ![image](https://user-images.githubusercontent.com/7051479/137452257-b88f24fc-bb08-4620-9c1a-98d865ae5956.png). ```python. adata.obs[""leiden""].value_counts(). ```. ```console. 0 4268. 1 2132. 2 1691. 3 1662. 4 1659. 5 1563. ... ```. On . * Intel(R) Xeon(R) CPU E7- 4870 @ 2.40GHz. ![image](https://user-images.githubusercontent.com/7051479/137452439-7a094705-6473-4d22-8916-da3139273c6c.png). ```console. 0 3856. 1 2168. 2 2029. 3 1659. 4 1636. 5 1536. ... ```. ### Minimal code sample (that we can copy&paste without having any data). A git repository with example data, notebook and a nextflow pipeline is available here:. https://github.com/grst/scanpy_reproducibility. A report of the analysis executed on four different CPU architectures is available here:. https://grst.github.io/scanpy_reproducibility/. #### Versions. <details>. ```. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.5. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 8.0.1. anndata 0.7.5. backcall 0.2.0. cairo 1.20.0. cffi 1.14.4. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 3.1.0. igraph 0.8.3. ipykernel 5.3.4. ipython_genutils 0.2.0. jedi 0.17.2. joblib 0.17.0. kiwisolver 1.3.1. legacy_api_wrap 0.0.0. leidenalg 0.8.3. llvmlite 0.35.0. matplotlib 3.3.3. mpl_toolkits NA. natsort 7.1.0. numba 0.52.0. numexpr 2.7.1. numpy 1.19.4. packaging 20.7. pandas 1.1.4. parso 0.7.1. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.8. ptyprocess 0.6.0. pycparser 2.20. pygments 2.7.2. pyparsing 2.4.7. pytz 2020.4. scanpy 1.6.0. scipy 1.5.3. setuptools_scm NA. sinfo 0.3.1. six 1.15.0. sklearn 0.23.2. sphinxcontrib NA. storemagic NA. tables 3.6.1. texttable 1",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2014
https://github.com/scverse/scanpy/issues/2014:173,modifiability,version,version,173,"leiden and umap not reproducible on different CPUs; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I noticed that running the same single-cell analyses on different nodes of our HPC produces different results. . Starting from the same anndata object with a precomputed `X_scVI` latent representation, the UMAP and leiden-clustering looks different. . On . * Intel(R) Xeon(R) CPU E5-2699A v4 @ 2.40GHz. * AMD EPYC 7352 24-Core Processor. * Intel(R) Xeon(R) CPU E7-4850 v4 @ 2.10GHz. ![image](https://user-images.githubusercontent.com/7051479/137452257-b88f24fc-bb08-4620-9c1a-98d865ae5956.png). ```python. adata.obs[""leiden""].value_counts(). ```. ```console. 0 4268. 1 2132. 2 1691. 3 1662. 4 1659. 5 1563. ... ```. On . * Intel(R) Xeon(R) CPU E7- 4870 @ 2.40GHz. ![image](https://user-images.githubusercontent.com/7051479/137452439-7a094705-6473-4d22-8916-da3139273c6c.png). ```console. 0 3856. 1 2168. 2 2029. 3 1659. 4 1636. 5 1536. ... ```. ### Minimal code sample (that we can copy&paste without having any data). A git repository with example data, notebook and a nextflow pipeline is available here:. https://github.com/grst/scanpy_reproducibility. A report of the analysis executed on four different CPU architectures is available here:. https://grst.github.io/scanpy_reproducibility/. #### Versions. <details>. ```. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.5. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 8.0.1. anndata 0.7.5. backcall 0.2.0. cairo 1.20.0. cffi 1.14.4. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 3.1.0. igraph 0.8.3. ipykernel 5.3.4. ipython_genutils 0.2.0. jedi 0.17.2. joblib 0.17.0. kiwisolver 1.3.1. legacy_api_wrap 0.0.0. leidenalg 0.8.3. llvmlite 0.35.0. matplotlib 3.3.3. mpl_toolkits NA. na",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2014
https://github.com/scverse/scanpy/issues/2014:1478,modifiability,Version,Versions,1478,"he UMAP and leiden-clustering looks different. . On . * Intel(R) Xeon(R) CPU E5-2699A v4 @ 2.40GHz. * AMD EPYC 7352 24-Core Processor. * Intel(R) Xeon(R) CPU E7-4850 v4 @ 2.10GHz. ![image](https://user-images.githubusercontent.com/7051479/137452257-b88f24fc-bb08-4620-9c1a-98d865ae5956.png). ```python. adata.obs[""leiden""].value_counts(). ```. ```console. 0 4268. 1 2132. 2 1691. 3 1662. 4 1659. 5 1563. ... ```. On . * Intel(R) Xeon(R) CPU E7- 4870 @ 2.40GHz. ![image](https://user-images.githubusercontent.com/7051479/137452439-7a094705-6473-4d22-8916-da3139273c6c.png). ```console. 0 3856. 1 2168. 2 2029. 3 1659. 4 1636. 5 1536. ... ```. ### Minimal code sample (that we can copy&paste without having any data). A git repository with example data, notebook and a nextflow pipeline is available here:. https://github.com/grst/scanpy_reproducibility. A report of the analysis executed on four different CPU architectures is available here:. https://grst.github.io/scanpy_reproducibility/. #### Versions. <details>. ```. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.5. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 8.0.1. anndata 0.7.5. backcall 0.2.0. cairo 1.20.0. cffi 1.14.4. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 3.1.0. igraph 0.8.3. ipykernel 5.3.4. ipython_genutils 0.2.0. jedi 0.17.2. joblib 0.17.0. kiwisolver 1.3.1. legacy_api_wrap 0.0.0. leidenalg 0.8.3. llvmlite 0.35.0. matplotlib 3.3.3. mpl_toolkits NA. natsort 7.1.0. numba 0.52.0. numexpr 2.7.1. numpy 1.19.4. packaging 20.7. pandas 1.1.4. parso 0.7.1. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.8. ptyprocess 0.6.0. pycparser 2.20. pygments 2.7.2. pyparsing 2.4.7. pytz 2020.4. scanpy 1.6.0. scipy 1.5.3. setuptools_scm NA. sinfo 0.3.1. six 1.15.0. sklearn 0.23.2. sphinxcontrib NA. storemagic NA. tables 3.6.1. texttable 1.6.3. tornado 6.1. traitlets 5.0.5. umap 0.4.6. wcwidth 0.2.5. yaml 5.3.1. zmq 20.0.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2014
https://github.com/scverse/scanpy/issues/2014:1759,modifiability,deco,decorator,1759,"956.png). ```python. adata.obs[""leiden""].value_counts(). ```. ```console. 0 4268. 1 2132. 2 1691. 3 1662. 4 1659. 5 1563. ... ```. On . * Intel(R) Xeon(R) CPU E7- 4870 @ 2.40GHz. ![image](https://user-images.githubusercontent.com/7051479/137452439-7a094705-6473-4d22-8916-da3139273c6c.png). ```console. 0 3856. 1 2168. 2 2029. 3 1659. 4 1636. 5 1536. ... ```. ### Minimal code sample (that we can copy&paste without having any data). A git repository with example data, notebook and a nextflow pipeline is available here:. https://github.com/grst/scanpy_reproducibility. A report of the analysis executed on four different CPU architectures is available here:. https://grst.github.io/scanpy_reproducibility/. #### Versions. <details>. ```. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.5. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 8.0.1. anndata 0.7.5. backcall 0.2.0. cairo 1.20.0. cffi 1.14.4. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 3.1.0. igraph 0.8.3. ipykernel 5.3.4. ipython_genutils 0.2.0. jedi 0.17.2. joblib 0.17.0. kiwisolver 1.3.1. legacy_api_wrap 0.0.0. leidenalg 0.8.3. llvmlite 0.35.0. matplotlib 3.3.3. mpl_toolkits NA. natsort 7.1.0. numba 0.52.0. numexpr 2.7.1. numpy 1.19.4. packaging 20.7. pandas 1.1.4. parso 0.7.1. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.8. ptyprocess 0.6.0. pycparser 2.20. pygments 2.7.2. pyparsing 2.4.7. pytz 2020.4. scanpy 1.6.0. scipy 1.5.3. setuptools_scm NA. sinfo 0.3.1. six 1.15.0. sklearn 0.23.2. sphinxcontrib NA. storemagic NA. tables 3.6.1. texttable 1.6.3. tornado 6.1. traitlets 5.0.5. umap 0.4.6. wcwidth 0.2.5. yaml 5.3.1. zmq 20.0.0. -----. IPython 7.19.0. jupyter_client 6.1.7. jupyter_core 4.7.0. -----. Python 3.8.6 | packaged by conda-forge | (default, Nov 27 2020, 19:31:52) [GCC 9.3.0]. Linux-3.10.0-1160.11.1.el7.x86_64-x86_64-with-glibc2.10. 64 logical CPU cores, x86_64. -----. Session information update",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2014
https://github.com/scverse/scanpy/issues/2014:2056,modifiability,pac,packaging,2056,"].value_counts(). ```. ```console. 0 4268. 1 2132. 2 1691. 3 1662. 4 1659. 5 1563. ... ```. On . * Intel(R) Xeon(R) CPU E7- 4870 @ 2.40GHz. ![image](https://user-images.githubusercontent.com/7051479/137452439-7a094705-6473-4d22-8916-da3139273c6c.png). ```console. 0 3856. 1 2168. 2 2029. 3 1659. 4 1636. 5 1536. ... ```. ### Minimal code sample (that we can copy&paste without having any data). A git repository with example data, notebook and a nextflow pipeline is available here:. https://github.com/grst/scanpy_reproducibility. A report of the analysis executed on four different CPU architectures is available here:. https://grst.github.io/scanpy_reproducibility/. #### Versions. <details>. ```. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.5. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 8.0.1. anndata 0.7.5. backcall 0.2.0. cairo 1.20.0. cffi 1.14.4. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 3.1.0. igraph 0.8.3. ipykernel 5.3.4. ipython_genutils 0.2.0. jedi 0.17.2. joblib 0.17.0. kiwisolver 1.3.1. legacy_api_wrap 0.0.0. leidenalg 0.8.3. llvmlite 0.35.0. matplotlib 3.3.3. mpl_toolkits NA. natsort 7.1.0. numba 0.52.0. numexpr 2.7.1. numpy 1.19.4. packaging 20.7. pandas 1.1.4. parso 0.7.1. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.8. ptyprocess 0.6.0. pycparser 2.20. pygments 2.7.2. pyparsing 2.4.7. pytz 2020.4. scanpy 1.6.0. scipy 1.5.3. setuptools_scm NA. sinfo 0.3.1. six 1.15.0. sklearn 0.23.2. sphinxcontrib NA. storemagic NA. tables 3.6.1. texttable 1.6.3. tornado 6.1. traitlets 5.0.5. umap 0.4.6. wcwidth 0.2.5. yaml 5.3.1. zmq 20.0.0. -----. IPython 7.19.0. jupyter_client 6.1.7. jupyter_core 4.7.0. -----. Python 3.8.6 | packaged by conda-forge | (default, Nov 27 2020, 19:31:52) [GCC 9.3.0]. Linux-3.10.0-1160.11.1.el7.x86_64-x86_64-with-glibc2.10. 64 logical CPU cores, x86_64. -----. Session information updated at 2021-10-15 09:58. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2014
https://github.com/scverse/scanpy/issues/2014:2572,modifiability,pac,packaged,2572,"].value_counts(). ```. ```console. 0 4268. 1 2132. 2 1691. 3 1662. 4 1659. 5 1563. ... ```. On . * Intel(R) Xeon(R) CPU E7- 4870 @ 2.40GHz. ![image](https://user-images.githubusercontent.com/7051479/137452439-7a094705-6473-4d22-8916-da3139273c6c.png). ```console. 0 3856. 1 2168. 2 2029. 3 1659. 4 1636. 5 1536. ... ```. ### Minimal code sample (that we can copy&paste without having any data). A git repository with example data, notebook and a nextflow pipeline is available here:. https://github.com/grst/scanpy_reproducibility. A report of the analysis executed on four different CPU architectures is available here:. https://grst.github.io/scanpy_reproducibility/. #### Versions. <details>. ```. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.5. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 8.0.1. anndata 0.7.5. backcall 0.2.0. cairo 1.20.0. cffi 1.14.4. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 3.1.0. igraph 0.8.3. ipykernel 5.3.4. ipython_genutils 0.2.0. jedi 0.17.2. joblib 0.17.0. kiwisolver 1.3.1. legacy_api_wrap 0.0.0. leidenalg 0.8.3. llvmlite 0.35.0. matplotlib 3.3.3. mpl_toolkits NA. natsort 7.1.0. numba 0.52.0. numexpr 2.7.1. numpy 1.19.4. packaging 20.7. pandas 1.1.4. parso 0.7.1. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.8. ptyprocess 0.6.0. pycparser 2.20. pygments 2.7.2. pyparsing 2.4.7. pytz 2020.4. scanpy 1.6.0. scipy 1.5.3. setuptools_scm NA. sinfo 0.3.1. six 1.15.0. sklearn 0.23.2. sphinxcontrib NA. storemagic NA. tables 3.6.1. texttable 1.6.3. tornado 6.1. traitlets 5.0.5. umap 0.4.6. wcwidth 0.2.5. yaml 5.3.1. zmq 20.0.0. -----. IPython 7.19.0. jupyter_client 6.1.7. jupyter_core 4.7.0. -----. Python 3.8.6 | packaged by conda-forge | (default, Nov 27 2020, 19:31:52) [GCC 9.3.0]. Linux-3.10.0-1160.11.1.el7.x86_64-x86_64-with-glibc2.10. 64 logical CPU cores, x86_64. -----. Session information updated at 2021-10-15 09:58. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2014
https://github.com/scverse/scanpy/issues/2014:46,performance,CPU,CPUs,46,"leiden and umap not reproducible on different CPUs; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I noticed that running the same single-cell analyses on different nodes of our HPC produces different results. . Starting from the same anndata object with a precomputed `X_scVI` latent representation, the UMAP and leiden-clustering looks different. . On . * Intel(R) Xeon(R) CPU E5-2699A v4 @ 2.40GHz. * AMD EPYC 7352 24-Core Processor. * Intel(R) Xeon(R) CPU E7-4850 v4 @ 2.10GHz. ![image](https://user-images.githubusercontent.com/7051479/137452257-b88f24fc-bb08-4620-9c1a-98d865ae5956.png). ```python. adata.obs[""leiden""].value_counts(). ```. ```console. 0 4268. 1 2132. 2 1691. 3 1662. 4 1659. 5 1563. ... ```. On . * Intel(R) Xeon(R) CPU E7- 4870 @ 2.40GHz. ![image](https://user-images.githubusercontent.com/7051479/137452439-7a094705-6473-4d22-8916-da3139273c6c.png). ```console. 0 3856. 1 2168. 2 2029. 3 1659. 4 1636. 5 1536. ... ```. ### Minimal code sample (that we can copy&paste without having any data). A git repository with example data, notebook and a nextflow pipeline is available here:. https://github.com/grst/scanpy_reproducibility. A report of the analysis executed on four different CPU architectures is available here:. https://grst.github.io/scanpy_reproducibility/. #### Versions. <details>. ```. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.5. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 8.0.1. anndata 0.7.5. backcall 0.2.0. cairo 1.20.0. cffi 1.14.4. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 3.1.0. igraph 0.8.3. ipykernel 5.3.4. ipython_genutils 0.2.0. jedi 0.17.2. joblib 0.17.0. kiwisolver 1.3.1. legacy_api_wrap 0.0.0. leidenalg 0.8.3. llvmlite 0.35.0. matplotlib 3.3.3. mpl_toolkits NA. na",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2014
https://github.com/scverse/scanpy/issues/2014:555,performance,CPU,CPU,555,"leiden and umap not reproducible on different CPUs; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I noticed that running the same single-cell analyses on different nodes of our HPC produces different results. . Starting from the same anndata object with a precomputed `X_scVI` latent representation, the UMAP and leiden-clustering looks different. . On . * Intel(R) Xeon(R) CPU E5-2699A v4 @ 2.40GHz. * AMD EPYC 7352 24-Core Processor. * Intel(R) Xeon(R) CPU E7-4850 v4 @ 2.10GHz. ![image](https://user-images.githubusercontent.com/7051479/137452257-b88f24fc-bb08-4620-9c1a-98d865ae5956.png). ```python. adata.obs[""leiden""].value_counts(). ```. ```console. 0 4268. 1 2132. 2 1691. 3 1662. 4 1659. 5 1563. ... ```. On . * Intel(R) Xeon(R) CPU E7- 4870 @ 2.40GHz. ![image](https://user-images.githubusercontent.com/7051479/137452439-7a094705-6473-4d22-8916-da3139273c6c.png). ```console. 0 3856. 1 2168. 2 2029. 3 1659. 4 1636. 5 1536. ... ```. ### Minimal code sample (that we can copy&paste without having any data). A git repository with example data, notebook and a nextflow pipeline is available here:. https://github.com/grst/scanpy_reproducibility. A report of the analysis executed on four different CPU architectures is available here:. https://grst.github.io/scanpy_reproducibility/. #### Versions. <details>. ```. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.5. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 8.0.1. anndata 0.7.5. backcall 0.2.0. cairo 1.20.0. cffi 1.14.4. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 3.1.0. igraph 0.8.3. ipykernel 5.3.4. ipython_genutils 0.2.0. jedi 0.17.2. joblib 0.17.0. kiwisolver 1.3.1. legacy_api_wrap 0.0.0. leidenalg 0.8.3. llvmlite 0.35.0. matplotlib 3.3.3. mpl_toolkits NA. na",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2014
https://github.com/scverse/scanpy/issues/2014:636,performance,CPU,CPU,636,"leiden and umap not reproducible on different CPUs; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I noticed that running the same single-cell analyses on different nodes of our HPC produces different results. . Starting from the same anndata object with a precomputed `X_scVI` latent representation, the UMAP and leiden-clustering looks different. . On . * Intel(R) Xeon(R) CPU E5-2699A v4 @ 2.40GHz. * AMD EPYC 7352 24-Core Processor. * Intel(R) Xeon(R) CPU E7-4850 v4 @ 2.10GHz. ![image](https://user-images.githubusercontent.com/7051479/137452257-b88f24fc-bb08-4620-9c1a-98d865ae5956.png). ```python. adata.obs[""leiden""].value_counts(). ```. ```console. 0 4268. 1 2132. 2 1691. 3 1662. 4 1659. 5 1563. ... ```. On . * Intel(R) Xeon(R) CPU E7- 4870 @ 2.40GHz. ![image](https://user-images.githubusercontent.com/7051479/137452439-7a094705-6473-4d22-8916-da3139273c6c.png). ```console. 0 3856. 1 2168. 2 2029. 3 1659. 4 1636. 5 1536. ... ```. ### Minimal code sample (that we can copy&paste without having any data). A git repository with example data, notebook and a nextflow pipeline is available here:. https://github.com/grst/scanpy_reproducibility. A report of the analysis executed on four different CPU architectures is available here:. https://grst.github.io/scanpy_reproducibility/. #### Versions. <details>. ```. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.5. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 8.0.1. anndata 0.7.5. backcall 0.2.0. cairo 1.20.0. cffi 1.14.4. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 3.1.0. igraph 0.8.3. ipykernel 5.3.4. ipython_genutils 0.2.0. jedi 0.17.2. joblib 0.17.0. kiwisolver 1.3.1. legacy_api_wrap 0.0.0. leidenalg 0.8.3. llvmlite 0.35.0. matplotlib 3.3.3. mpl_toolkits NA. na",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2014
https://github.com/scverse/scanpy/issues/2014:919,performance,CPU,CPU,919,"leiden and umap not reproducible on different CPUs; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I noticed that running the same single-cell analyses on different nodes of our HPC produces different results. . Starting from the same anndata object with a precomputed `X_scVI` latent representation, the UMAP and leiden-clustering looks different. . On . * Intel(R) Xeon(R) CPU E5-2699A v4 @ 2.40GHz. * AMD EPYC 7352 24-Core Processor. * Intel(R) Xeon(R) CPU E7-4850 v4 @ 2.10GHz. ![image](https://user-images.githubusercontent.com/7051479/137452257-b88f24fc-bb08-4620-9c1a-98d865ae5956.png). ```python. adata.obs[""leiden""].value_counts(). ```. ```console. 0 4268. 1 2132. 2 1691. 3 1662. 4 1659. 5 1563. ... ```. On . * Intel(R) Xeon(R) CPU E7- 4870 @ 2.40GHz. ![image](https://user-images.githubusercontent.com/7051479/137452439-7a094705-6473-4d22-8916-da3139273c6c.png). ```console. 0 3856. 1 2168. 2 2029. 3 1659. 4 1636. 5 1536. ... ```. ### Minimal code sample (that we can copy&paste without having any data). A git repository with example data, notebook and a nextflow pipeline is available here:. https://github.com/grst/scanpy_reproducibility. A report of the analysis executed on four different CPU architectures is available here:. https://grst.github.io/scanpy_reproducibility/. #### Versions. <details>. ```. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.5. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 8.0.1. anndata 0.7.5. backcall 0.2.0. cairo 1.20.0. cffi 1.14.4. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 3.1.0. igraph 0.8.3. ipykernel 5.3.4. ipython_genutils 0.2.0. jedi 0.17.2. joblib 0.17.0. kiwisolver 1.3.1. legacy_api_wrap 0.0.0. leidenalg 0.8.3. llvmlite 0.35.0. matplotlib 3.3.3. mpl_toolkits NA. na",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2014
https://github.com/scverse/scanpy/issues/2014:1387,performance,CPU,CPU,1387," . Starting from the same anndata object with a precomputed `X_scVI` latent representation, the UMAP and leiden-clustering looks different. . On . * Intel(R) Xeon(R) CPU E5-2699A v4 @ 2.40GHz. * AMD EPYC 7352 24-Core Processor. * Intel(R) Xeon(R) CPU E7-4850 v4 @ 2.10GHz. ![image](https://user-images.githubusercontent.com/7051479/137452257-b88f24fc-bb08-4620-9c1a-98d865ae5956.png). ```python. adata.obs[""leiden""].value_counts(). ```. ```console. 0 4268. 1 2132. 2 1691. 3 1662. 4 1659. 5 1563. ... ```. On . * Intel(R) Xeon(R) CPU E7- 4870 @ 2.40GHz. ![image](https://user-images.githubusercontent.com/7051479/137452439-7a094705-6473-4d22-8916-da3139273c6c.png). ```console. 0 3856. 1 2168. 2 2029. 3 1659. 4 1636. 5 1536. ... ```. ### Minimal code sample (that we can copy&paste without having any data). A git repository with example data, notebook and a nextflow pipeline is available here:. https://github.com/grst/scanpy_reproducibility. A report of the analysis executed on four different CPU architectures is available here:. https://grst.github.io/scanpy_reproducibility/. #### Versions. <details>. ```. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.5. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 8.0.1. anndata 0.7.5. backcall 0.2.0. cairo 1.20.0. cffi 1.14.4. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 3.1.0. igraph 0.8.3. ipykernel 5.3.4. ipython_genutils 0.2.0. jedi 0.17.2. joblib 0.17.0. kiwisolver 1.3.1. legacy_api_wrap 0.0.0. leidenalg 0.8.3. llvmlite 0.35.0. matplotlib 3.3.3. mpl_toolkits NA. natsort 7.1.0. numba 0.52.0. numexpr 2.7.1. numpy 1.19.4. packaging 20.7. pandas 1.1.4. parso 0.7.1. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.8. ptyprocess 0.6.0. pycparser 2.20. pygments 2.7.2. pyparsing 2.4.7. pytz 2020.4. scanpy 1.6.0. scipy 1.5.3. setuptools_scm NA. sinfo 0.3.1. six 1.15.0. sklearn 0.23.2. sphinxcontrib NA. storemagic NA. tables 3.6.1. te",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2014
https://github.com/scverse/scanpy/issues/2014:2712,performance,CPU,CPU,2712,"].value_counts(). ```. ```console. 0 4268. 1 2132. 2 1691. 3 1662. 4 1659. 5 1563. ... ```. On . * Intel(R) Xeon(R) CPU E7- 4870 @ 2.40GHz. ![image](https://user-images.githubusercontent.com/7051479/137452439-7a094705-6473-4d22-8916-da3139273c6c.png). ```console. 0 3856. 1 2168. 2 2029. 3 1659. 4 1636. 5 1536. ... ```. ### Minimal code sample (that we can copy&paste without having any data). A git repository with example data, notebook and a nextflow pipeline is available here:. https://github.com/grst/scanpy_reproducibility. A report of the analysis executed on four different CPU architectures is available here:. https://grst.github.io/scanpy_reproducibility/. #### Versions. <details>. ```. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.5. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 8.0.1. anndata 0.7.5. backcall 0.2.0. cairo 1.20.0. cffi 1.14.4. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 3.1.0. igraph 0.8.3. ipykernel 5.3.4. ipython_genutils 0.2.0. jedi 0.17.2. joblib 0.17.0. kiwisolver 1.3.1. legacy_api_wrap 0.0.0. leidenalg 0.8.3. llvmlite 0.35.0. matplotlib 3.3.3. mpl_toolkits NA. natsort 7.1.0. numba 0.52.0. numexpr 2.7.1. numpy 1.19.4. packaging 20.7. pandas 1.1.4. parso 0.7.1. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.8. ptyprocess 0.6.0. pycparser 2.20. pygments 2.7.2. pyparsing 2.4.7. pytz 2020.4. scanpy 1.6.0. scipy 1.5.3. setuptools_scm NA. sinfo 0.3.1. six 1.15.0. sklearn 0.23.2. sphinxcontrib NA. storemagic NA. tables 3.6.1. texttable 1.6.3. tornado 6.1. traitlets 5.0.5. umap 0.4.6. wcwidth 0.2.5. yaml 5.3.1. zmq 20.0.0. -----. IPython 7.19.0. jupyter_client 6.1.7. jupyter_core 4.7.0. -----. Python 3.8.6 | packaged by conda-forge | (default, Nov 27 2020, 19:31:52) [GCC 9.3.0]. Linux-3.10.0-1160.11.1.el7.x86_64-x86_64-with-glibc2.10. 64 logical CPU cores, x86_64. -----. Session information updated at 2021-10-15 09:58. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2014
https://github.com/scverse/scanpy/issues/2014:1270,reliability,availab,available,1270,"--. I noticed that running the same single-cell analyses on different nodes of our HPC produces different results. . Starting from the same anndata object with a precomputed `X_scVI` latent representation, the UMAP and leiden-clustering looks different. . On . * Intel(R) Xeon(R) CPU E5-2699A v4 @ 2.40GHz. * AMD EPYC 7352 24-Core Processor. * Intel(R) Xeon(R) CPU E7-4850 v4 @ 2.10GHz. ![image](https://user-images.githubusercontent.com/7051479/137452257-b88f24fc-bb08-4620-9c1a-98d865ae5956.png). ```python. adata.obs[""leiden""].value_counts(). ```. ```console. 0 4268. 1 2132. 2 1691. 3 1662. 4 1659. 5 1563. ... ```. On . * Intel(R) Xeon(R) CPU E7- 4870 @ 2.40GHz. ![image](https://user-images.githubusercontent.com/7051479/137452439-7a094705-6473-4d22-8916-da3139273c6c.png). ```console. 0 3856. 1 2168. 2 2029. 3 1659. 4 1636. 5 1536. ... ```. ### Minimal code sample (that we can copy&paste without having any data). A git repository with example data, notebook and a nextflow pipeline is available here:. https://github.com/grst/scanpy_reproducibility. A report of the analysis executed on four different CPU architectures is available here:. https://grst.github.io/scanpy_reproducibility/. #### Versions. <details>. ```. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.5. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 8.0.1. anndata 0.7.5. backcall 0.2.0. cairo 1.20.0. cffi 1.14.4. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 3.1.0. igraph 0.8.3. ipykernel 5.3.4. ipython_genutils 0.2.0. jedi 0.17.2. joblib 0.17.0. kiwisolver 1.3.1. legacy_api_wrap 0.0.0. leidenalg 0.8.3. llvmlite 0.35.0. matplotlib 3.3.3. mpl_toolkits NA. natsort 7.1.0. numba 0.52.0. numexpr 2.7.1. numpy 1.19.4. packaging 20.7. pandas 1.1.4. parso 0.7.1. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.8. ptyprocess 0.6.0. pycparser 2.20. pygments 2.7.2. pyparsing 2.4.7. pytz 2020.4. scanpy 1.6.0. scipy 1.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2014
https://github.com/scverse/scanpy/issues/2014:1408,reliability,availab,available,1408,"e anndata object with a precomputed `X_scVI` latent representation, the UMAP and leiden-clustering looks different. . On . * Intel(R) Xeon(R) CPU E5-2699A v4 @ 2.40GHz. * AMD EPYC 7352 24-Core Processor. * Intel(R) Xeon(R) CPU E7-4850 v4 @ 2.10GHz. ![image](https://user-images.githubusercontent.com/7051479/137452257-b88f24fc-bb08-4620-9c1a-98d865ae5956.png). ```python. adata.obs[""leiden""].value_counts(). ```. ```console. 0 4268. 1 2132. 2 1691. 3 1662. 4 1659. 5 1563. ... ```. On . * Intel(R) Xeon(R) CPU E7- 4870 @ 2.40GHz. ![image](https://user-images.githubusercontent.com/7051479/137452439-7a094705-6473-4d22-8916-da3139273c6c.png). ```console. 0 3856. 1 2168. 2 2029. 3 1659. 4 1636. 5 1536. ... ```. ### Minimal code sample (that we can copy&paste without having any data). A git repository with example data, notebook and a nextflow pipeline is available here:. https://github.com/grst/scanpy_reproducibility. A report of the analysis executed on four different CPU architectures is available here:. https://grst.github.io/scanpy_reproducibility/. #### Versions. <details>. ```. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.5. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 8.0.1. anndata 0.7.5. backcall 0.2.0. cairo 1.20.0. cffi 1.14.4. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 3.1.0. igraph 0.8.3. ipykernel 5.3.4. ipython_genutils 0.2.0. jedi 0.17.2. joblib 0.17.0. kiwisolver 1.3.1. legacy_api_wrap 0.0.0. leidenalg 0.8.3. llvmlite 0.35.0. matplotlib 3.3.3. mpl_toolkits NA. natsort 7.1.0. numba 0.52.0. numexpr 2.7.1. numpy 1.19.4. packaging 20.7. pandas 1.1.4. parso 0.7.1. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.8. ptyprocess 0.6.0. pycparser 2.20. pygments 2.7.2. pyparsing 2.4.7. pytz 2020.4. scanpy 1.6.0. scipy 1.5.3. setuptools_scm NA. sinfo 0.3.1. six 1.15.0. sklearn 0.23.2. sphinxcontrib NA. storemagic NA. tables 3.6.1. texttable 1.6.3. tornado 6",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2014
https://github.com/scverse/scanpy/issues/2014:1270,safety,avail,available,1270,"--. I noticed that running the same single-cell analyses on different nodes of our HPC produces different results. . Starting from the same anndata object with a precomputed `X_scVI` latent representation, the UMAP and leiden-clustering looks different. . On . * Intel(R) Xeon(R) CPU E5-2699A v4 @ 2.40GHz. * AMD EPYC 7352 24-Core Processor. * Intel(R) Xeon(R) CPU E7-4850 v4 @ 2.10GHz. ![image](https://user-images.githubusercontent.com/7051479/137452257-b88f24fc-bb08-4620-9c1a-98d865ae5956.png). ```python. adata.obs[""leiden""].value_counts(). ```. ```console. 0 4268. 1 2132. 2 1691. 3 1662. 4 1659. 5 1563. ... ```. On . * Intel(R) Xeon(R) CPU E7- 4870 @ 2.40GHz. ![image](https://user-images.githubusercontent.com/7051479/137452439-7a094705-6473-4d22-8916-da3139273c6c.png). ```console. 0 3856. 1 2168. 2 2029. 3 1659. 4 1636. 5 1536. ... ```. ### Minimal code sample (that we can copy&paste without having any data). A git repository with example data, notebook and a nextflow pipeline is available here:. https://github.com/grst/scanpy_reproducibility. A report of the analysis executed on four different CPU architectures is available here:. https://grst.github.io/scanpy_reproducibility/. #### Versions. <details>. ```. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.5. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 8.0.1. anndata 0.7.5. backcall 0.2.0. cairo 1.20.0. cffi 1.14.4. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 3.1.0. igraph 0.8.3. ipykernel 5.3.4. ipython_genutils 0.2.0. jedi 0.17.2. joblib 0.17.0. kiwisolver 1.3.1. legacy_api_wrap 0.0.0. leidenalg 0.8.3. llvmlite 0.35.0. matplotlib 3.3.3. mpl_toolkits NA. natsort 7.1.0. numba 0.52.0. numexpr 2.7.1. numpy 1.19.4. packaging 20.7. pandas 1.1.4. parso 0.7.1. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.8. ptyprocess 0.6.0. pycparser 2.20. pygments 2.7.2. pyparsing 2.4.7. pytz 2020.4. scanpy 1.6.0. scipy 1.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2014
https://github.com/scverse/scanpy/issues/2014:1408,safety,avail,available,1408,"e anndata object with a precomputed `X_scVI` latent representation, the UMAP and leiden-clustering looks different. . On . * Intel(R) Xeon(R) CPU E5-2699A v4 @ 2.40GHz. * AMD EPYC 7352 24-Core Processor. * Intel(R) Xeon(R) CPU E7-4850 v4 @ 2.10GHz. ![image](https://user-images.githubusercontent.com/7051479/137452257-b88f24fc-bb08-4620-9c1a-98d865ae5956.png). ```python. adata.obs[""leiden""].value_counts(). ```. ```console. 0 4268. 1 2132. 2 1691. 3 1662. 4 1659. 5 1563. ... ```. On . * Intel(R) Xeon(R) CPU E7- 4870 @ 2.40GHz. ![image](https://user-images.githubusercontent.com/7051479/137452439-7a094705-6473-4d22-8916-da3139273c6c.png). ```console. 0 3856. 1 2168. 2 2029. 3 1659. 4 1636. 5 1536. ... ```. ### Minimal code sample (that we can copy&paste without having any data). A git repository with example data, notebook and a nextflow pipeline is available here:. https://github.com/grst/scanpy_reproducibility. A report of the analysis executed on four different CPU architectures is available here:. https://grst.github.io/scanpy_reproducibility/. #### Versions. <details>. ```. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.5. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 8.0.1. anndata 0.7.5. backcall 0.2.0. cairo 1.20.0. cffi 1.14.4. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 3.1.0. igraph 0.8.3. ipykernel 5.3.4. ipython_genutils 0.2.0. jedi 0.17.2. joblib 0.17.0. kiwisolver 1.3.1. legacy_api_wrap 0.0.0. leidenalg 0.8.3. llvmlite 0.35.0. matplotlib 3.3.3. mpl_toolkits NA. natsort 7.1.0. numba 0.52.0. numexpr 2.7.1. numpy 1.19.4. packaging 20.7. pandas 1.1.4. parso 0.7.1. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.8. ptyprocess 0.6.0. pycparser 2.20. pygments 2.7.2. pyparsing 2.4.7. pytz 2020.4. scanpy 1.6.0. scipy 1.5.3. setuptools_scm NA. sinfo 0.3.1. six 1.15.0. sklearn 0.23.2. sphinxcontrib NA. storemagic NA. tables 3.6.1. texttable 1.6.3. tornado 6",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2014
https://github.com/scverse/scanpy/issues/2014:2704,safety,log,logical,2704,"].value_counts(). ```. ```console. 0 4268. 1 2132. 2 1691. 3 1662. 4 1659. 5 1563. ... ```. On . * Intel(R) Xeon(R) CPU E7- 4870 @ 2.40GHz. ![image](https://user-images.githubusercontent.com/7051479/137452439-7a094705-6473-4d22-8916-da3139273c6c.png). ```console. 0 3856. 1 2168. 2 2029. 3 1659. 4 1636. 5 1536. ... ```. ### Minimal code sample (that we can copy&paste without having any data). A git repository with example data, notebook and a nextflow pipeline is available here:. https://github.com/grst/scanpy_reproducibility. A report of the analysis executed on four different CPU architectures is available here:. https://grst.github.io/scanpy_reproducibility/. #### Versions. <details>. ```. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.5. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 8.0.1. anndata 0.7.5. backcall 0.2.0. cairo 1.20.0. cffi 1.14.4. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 3.1.0. igraph 0.8.3. ipykernel 5.3.4. ipython_genutils 0.2.0. jedi 0.17.2. joblib 0.17.0. kiwisolver 1.3.1. legacy_api_wrap 0.0.0. leidenalg 0.8.3. llvmlite 0.35.0. matplotlib 3.3.3. mpl_toolkits NA. natsort 7.1.0. numba 0.52.0. numexpr 2.7.1. numpy 1.19.4. packaging 20.7. pandas 1.1.4. parso 0.7.1. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.8. ptyprocess 0.6.0. pycparser 2.20. pygments 2.7.2. pyparsing 2.4.7. pytz 2020.4. scanpy 1.6.0. scipy 1.5.3. setuptools_scm NA. sinfo 0.3.1. six 1.15.0. sklearn 0.23.2. sphinxcontrib NA. storemagic NA. tables 3.6.1. texttable 1.6.3. tornado 6.1. traitlets 5.0.5. umap 0.4.6. wcwidth 0.2.5. yaml 5.3.1. zmq 20.0.0. -----. IPython 7.19.0. jupyter_client 6.1.7. jupyter_core 4.7.0. -----. Python 3.8.6 | packaged by conda-forge | (default, Nov 27 2020, 19:31:52) [GCC 9.3.0]. Linux-3.10.0-1160.11.1.el7.x86_64-x86_64-with-glibc2.10. 64 logical CPU cores, x86_64. -----. Session information updated at 2021-10-15 09:58. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2014
https://github.com/scverse/scanpy/issues/2014:2758,safety,updat,updated,2758,"].value_counts(). ```. ```console. 0 4268. 1 2132. 2 1691. 3 1662. 4 1659. 5 1563. ... ```. On . * Intel(R) Xeon(R) CPU E7- 4870 @ 2.40GHz. ![image](https://user-images.githubusercontent.com/7051479/137452439-7a094705-6473-4d22-8916-da3139273c6c.png). ```console. 0 3856. 1 2168. 2 2029. 3 1659. 4 1636. 5 1536. ... ```. ### Minimal code sample (that we can copy&paste without having any data). A git repository with example data, notebook and a nextflow pipeline is available here:. https://github.com/grst/scanpy_reproducibility. A report of the analysis executed on four different CPU architectures is available here:. https://grst.github.io/scanpy_reproducibility/. #### Versions. <details>. ```. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.5. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 8.0.1. anndata 0.7.5. backcall 0.2.0. cairo 1.20.0. cffi 1.14.4. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 3.1.0. igraph 0.8.3. ipykernel 5.3.4. ipython_genutils 0.2.0. jedi 0.17.2. joblib 0.17.0. kiwisolver 1.3.1. legacy_api_wrap 0.0.0. leidenalg 0.8.3. llvmlite 0.35.0. matplotlib 3.3.3. mpl_toolkits NA. natsort 7.1.0. numba 0.52.0. numexpr 2.7.1. numpy 1.19.4. packaging 20.7. pandas 1.1.4. parso 0.7.1. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.8. ptyprocess 0.6.0. pycparser 2.20. pygments 2.7.2. pyparsing 2.4.7. pytz 2020.4. scanpy 1.6.0. scipy 1.5.3. setuptools_scm NA. sinfo 0.3.1. six 1.15.0. sklearn 0.23.2. sphinxcontrib NA. storemagic NA. tables 3.6.1. texttable 1.6.3. tornado 6.1. traitlets 5.0.5. umap 0.4.6. wcwidth 0.2.5. yaml 5.3.1. zmq 20.0.0. -----. IPython 7.19.0. jupyter_client 6.1.7. jupyter_core 4.7.0. -----. Python 3.8.6 | packaged by conda-forge | (default, Nov 27 2020, 19:31:52) [GCC 9.3.0]. Linux-3.10.0-1160.11.1.el7.x86_64-x86_64-with-glibc2.10. 64 logical CPU cores, x86_64. -----. Session information updated at 2021-10-15 09:58. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2014
https://github.com/scverse/scanpy/issues/2014:1270,security,availab,available,1270,"--. I noticed that running the same single-cell analyses on different nodes of our HPC produces different results. . Starting from the same anndata object with a precomputed `X_scVI` latent representation, the UMAP and leiden-clustering looks different. . On . * Intel(R) Xeon(R) CPU E5-2699A v4 @ 2.40GHz. * AMD EPYC 7352 24-Core Processor. * Intel(R) Xeon(R) CPU E7-4850 v4 @ 2.10GHz. ![image](https://user-images.githubusercontent.com/7051479/137452257-b88f24fc-bb08-4620-9c1a-98d865ae5956.png). ```python. adata.obs[""leiden""].value_counts(). ```. ```console. 0 4268. 1 2132. 2 1691. 3 1662. 4 1659. 5 1563. ... ```. On . * Intel(R) Xeon(R) CPU E7- 4870 @ 2.40GHz. ![image](https://user-images.githubusercontent.com/7051479/137452439-7a094705-6473-4d22-8916-da3139273c6c.png). ```console. 0 3856. 1 2168. 2 2029. 3 1659. 4 1636. 5 1536. ... ```. ### Minimal code sample (that we can copy&paste without having any data). A git repository with example data, notebook and a nextflow pipeline is available here:. https://github.com/grst/scanpy_reproducibility. A report of the analysis executed on four different CPU architectures is available here:. https://grst.github.io/scanpy_reproducibility/. #### Versions. <details>. ```. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.5. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 8.0.1. anndata 0.7.5. backcall 0.2.0. cairo 1.20.0. cffi 1.14.4. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 3.1.0. igraph 0.8.3. ipykernel 5.3.4. ipython_genutils 0.2.0. jedi 0.17.2. joblib 0.17.0. kiwisolver 1.3.1. legacy_api_wrap 0.0.0. leidenalg 0.8.3. llvmlite 0.35.0. matplotlib 3.3.3. mpl_toolkits NA. natsort 7.1.0. numba 0.52.0. numexpr 2.7.1. numpy 1.19.4. packaging 20.7. pandas 1.1.4. parso 0.7.1. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.8. ptyprocess 0.6.0. pycparser 2.20. pygments 2.7.2. pyparsing 2.4.7. pytz 2020.4. scanpy 1.6.0. scipy 1.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2014
https://github.com/scverse/scanpy/issues/2014:1408,security,availab,available,1408,"e anndata object with a precomputed `X_scVI` latent representation, the UMAP and leiden-clustering looks different. . On . * Intel(R) Xeon(R) CPU E5-2699A v4 @ 2.40GHz. * AMD EPYC 7352 24-Core Processor. * Intel(R) Xeon(R) CPU E7-4850 v4 @ 2.10GHz. ![image](https://user-images.githubusercontent.com/7051479/137452257-b88f24fc-bb08-4620-9c1a-98d865ae5956.png). ```python. adata.obs[""leiden""].value_counts(). ```. ```console. 0 4268. 1 2132. 2 1691. 3 1662. 4 1659. 5 1563. ... ```. On . * Intel(R) Xeon(R) CPU E7- 4870 @ 2.40GHz. ![image](https://user-images.githubusercontent.com/7051479/137452439-7a094705-6473-4d22-8916-da3139273c6c.png). ```console. 0 3856. 1 2168. 2 2029. 3 1659. 4 1636. 5 1536. ... ```. ### Minimal code sample (that we can copy&paste without having any data). A git repository with example data, notebook and a nextflow pipeline is available here:. https://github.com/grst/scanpy_reproducibility. A report of the analysis executed on four different CPU architectures is available here:. https://grst.github.io/scanpy_reproducibility/. #### Versions. <details>. ```. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.5. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 8.0.1. anndata 0.7.5. backcall 0.2.0. cairo 1.20.0. cffi 1.14.4. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 3.1.0. igraph 0.8.3. ipykernel 5.3.4. ipython_genutils 0.2.0. jedi 0.17.2. joblib 0.17.0. kiwisolver 1.3.1. legacy_api_wrap 0.0.0. leidenalg 0.8.3. llvmlite 0.35.0. matplotlib 3.3.3. mpl_toolkits NA. natsort 7.1.0. numba 0.52.0. numexpr 2.7.1. numpy 1.19.4. packaging 20.7. pandas 1.1.4. parso 0.7.1. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.8. ptyprocess 0.6.0. pycparser 2.20. pygments 2.7.2. pyparsing 2.4.7. pytz 2020.4. scanpy 1.6.0. scipy 1.5.3. setuptools_scm NA. sinfo 0.3.1. six 1.15.0. sklearn 0.23.2. sphinxcontrib NA. storemagic NA. tables 3.6.1. texttable 1.6.3. tornado 6",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2014
https://github.com/scverse/scanpy/issues/2014:2704,security,log,logical,2704,"].value_counts(). ```. ```console. 0 4268. 1 2132. 2 1691. 3 1662. 4 1659. 5 1563. ... ```. On . * Intel(R) Xeon(R) CPU E7- 4870 @ 2.40GHz. ![image](https://user-images.githubusercontent.com/7051479/137452439-7a094705-6473-4d22-8916-da3139273c6c.png). ```console. 0 3856. 1 2168. 2 2029. 3 1659. 4 1636. 5 1536. ... ```. ### Minimal code sample (that we can copy&paste without having any data). A git repository with example data, notebook and a nextflow pipeline is available here:. https://github.com/grst/scanpy_reproducibility. A report of the analysis executed on four different CPU architectures is available here:. https://grst.github.io/scanpy_reproducibility/. #### Versions. <details>. ```. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.5. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 8.0.1. anndata 0.7.5. backcall 0.2.0. cairo 1.20.0. cffi 1.14.4. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 3.1.0. igraph 0.8.3. ipykernel 5.3.4. ipython_genutils 0.2.0. jedi 0.17.2. joblib 0.17.0. kiwisolver 1.3.1. legacy_api_wrap 0.0.0. leidenalg 0.8.3. llvmlite 0.35.0. matplotlib 3.3.3. mpl_toolkits NA. natsort 7.1.0. numba 0.52.0. numexpr 2.7.1. numpy 1.19.4. packaging 20.7. pandas 1.1.4. parso 0.7.1. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.8. ptyprocess 0.6.0. pycparser 2.20. pygments 2.7.2. pyparsing 2.4.7. pytz 2020.4. scanpy 1.6.0. scipy 1.5.3. setuptools_scm NA. sinfo 0.3.1. six 1.15.0. sklearn 0.23.2. sphinxcontrib NA. storemagic NA. tables 3.6.1. texttable 1.6.3. tornado 6.1. traitlets 5.0.5. umap 0.4.6. wcwidth 0.2.5. yaml 5.3.1. zmq 20.0.0. -----. IPython 7.19.0. jupyter_client 6.1.7. jupyter_core 4.7.0. -----. Python 3.8.6 | packaged by conda-forge | (default, Nov 27 2020, 19:31:52) [GCC 9.3.0]. Linux-3.10.0-1160.11.1.el7.x86_64-x86_64-with-glibc2.10. 64 logical CPU cores, x86_64. -----. Session information updated at 2021-10-15 09:58. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2014
https://github.com/scverse/scanpy/issues/2014:2738,security,Session,Session,2738,"].value_counts(). ```. ```console. 0 4268. 1 2132. 2 1691. 3 1662. 4 1659. 5 1563. ... ```. On . * Intel(R) Xeon(R) CPU E7- 4870 @ 2.40GHz. ![image](https://user-images.githubusercontent.com/7051479/137452439-7a094705-6473-4d22-8916-da3139273c6c.png). ```console. 0 3856. 1 2168. 2 2029. 3 1659. 4 1636. 5 1536. ... ```. ### Minimal code sample (that we can copy&paste without having any data). A git repository with example data, notebook and a nextflow pipeline is available here:. https://github.com/grst/scanpy_reproducibility. A report of the analysis executed on four different CPU architectures is available here:. https://grst.github.io/scanpy_reproducibility/. #### Versions. <details>. ```. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.5. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 8.0.1. anndata 0.7.5. backcall 0.2.0. cairo 1.20.0. cffi 1.14.4. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 3.1.0. igraph 0.8.3. ipykernel 5.3.4. ipython_genutils 0.2.0. jedi 0.17.2. joblib 0.17.0. kiwisolver 1.3.1. legacy_api_wrap 0.0.0. leidenalg 0.8.3. llvmlite 0.35.0. matplotlib 3.3.3. mpl_toolkits NA. natsort 7.1.0. numba 0.52.0. numexpr 2.7.1. numpy 1.19.4. packaging 20.7. pandas 1.1.4. parso 0.7.1. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.8. ptyprocess 0.6.0. pycparser 2.20. pygments 2.7.2. pyparsing 2.4.7. pytz 2020.4. scanpy 1.6.0. scipy 1.5.3. setuptools_scm NA. sinfo 0.3.1. six 1.15.0. sklearn 0.23.2. sphinxcontrib NA. storemagic NA. tables 3.6.1. texttable 1.6.3. tornado 6.1. traitlets 5.0.5. umap 0.4.6. wcwidth 0.2.5. yaml 5.3.1. zmq 20.0.0. -----. IPython 7.19.0. jupyter_client 6.1.7. jupyter_core 4.7.0. -----. Python 3.8.6 | packaged by conda-forge | (default, Nov 27 2020, 19:31:52) [GCC 9.3.0]. Linux-3.10.0-1160.11.1.el7.x86_64-x86_64-with-glibc2.10. 64 logical CPU cores, x86_64. -----. Session information updated at 2021-10-15 09:58. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2014
https://github.com/scverse/scanpy/issues/2014:2758,security,updat,updated,2758,"].value_counts(). ```. ```console. 0 4268. 1 2132. 2 1691. 3 1662. 4 1659. 5 1563. ... ```. On . * Intel(R) Xeon(R) CPU E7- 4870 @ 2.40GHz. ![image](https://user-images.githubusercontent.com/7051479/137452439-7a094705-6473-4d22-8916-da3139273c6c.png). ```console. 0 3856. 1 2168. 2 2029. 3 1659. 4 1636. 5 1536. ... ```. ### Minimal code sample (that we can copy&paste without having any data). A git repository with example data, notebook and a nextflow pipeline is available here:. https://github.com/grst/scanpy_reproducibility. A report of the analysis executed on four different CPU architectures is available here:. https://grst.github.io/scanpy_reproducibility/. #### Versions. <details>. ```. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.5. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 8.0.1. anndata 0.7.5. backcall 0.2.0. cairo 1.20.0. cffi 1.14.4. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 3.1.0. igraph 0.8.3. ipykernel 5.3.4. ipython_genutils 0.2.0. jedi 0.17.2. joblib 0.17.0. kiwisolver 1.3.1. legacy_api_wrap 0.0.0. leidenalg 0.8.3. llvmlite 0.35.0. matplotlib 3.3.3. mpl_toolkits NA. natsort 7.1.0. numba 0.52.0. numexpr 2.7.1. numpy 1.19.4. packaging 20.7. pandas 1.1.4. parso 0.7.1. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.8. ptyprocess 0.6.0. pycparser 2.20. pygments 2.7.2. pyparsing 2.4.7. pytz 2020.4. scanpy 1.6.0. scipy 1.5.3. setuptools_scm NA. sinfo 0.3.1. six 1.15.0. sklearn 0.23.2. sphinxcontrib NA. storemagic NA. tables 3.6.1. texttable 1.6.3. tornado 6.1. traitlets 5.0.5. umap 0.4.6. wcwidth 0.2.5. yaml 5.3.1. zmq 20.0.0. -----. IPython 7.19.0. jupyter_client 6.1.7. jupyter_core 4.7.0. -----. Python 3.8.6 | packaged by conda-forge | (default, Nov 27 2020, 19:31:52) [GCC 9.3.0]. Linux-3.10.0-1160.11.1.el7.x86_64-x86_64-with-glibc2.10. 64 logical CPU cores, x86_64. -----. Session information updated at 2021-10-15 09:58. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2014
https://github.com/scverse/scanpy/issues/2014:2704,testability,log,logical,2704,"].value_counts(). ```. ```console. 0 4268. 1 2132. 2 1691. 3 1662. 4 1659. 5 1563. ... ```. On . * Intel(R) Xeon(R) CPU E7- 4870 @ 2.40GHz. ![image](https://user-images.githubusercontent.com/7051479/137452439-7a094705-6473-4d22-8916-da3139273c6c.png). ```console. 0 3856. 1 2168. 2 2029. 3 1659. 4 1636. 5 1536. ... ```. ### Minimal code sample (that we can copy&paste without having any data). A git repository with example data, notebook and a nextflow pipeline is available here:. https://github.com/grst/scanpy_reproducibility. A report of the analysis executed on four different CPU architectures is available here:. https://grst.github.io/scanpy_reproducibility/. #### Versions. <details>. ```. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.5. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 8.0.1. anndata 0.7.5. backcall 0.2.0. cairo 1.20.0. cffi 1.14.4. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 3.1.0. igraph 0.8.3. ipykernel 5.3.4. ipython_genutils 0.2.0. jedi 0.17.2. joblib 0.17.0. kiwisolver 1.3.1. legacy_api_wrap 0.0.0. leidenalg 0.8.3. llvmlite 0.35.0. matplotlib 3.3.3. mpl_toolkits NA. natsort 7.1.0. numba 0.52.0. numexpr 2.7.1. numpy 1.19.4. packaging 20.7. pandas 1.1.4. parso 0.7.1. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.8. ptyprocess 0.6.0. pycparser 2.20. pygments 2.7.2. pyparsing 2.4.7. pytz 2020.4. scanpy 1.6.0. scipy 1.5.3. setuptools_scm NA. sinfo 0.3.1. six 1.15.0. sklearn 0.23.2. sphinxcontrib NA. storemagic NA. tables 3.6.1. texttable 1.6.3. tornado 6.1. traitlets 5.0.5. umap 0.4.6. wcwidth 0.2.5. yaml 5.3.1. zmq 20.0.0. -----. IPython 7.19.0. jupyter_client 6.1.7. jupyter_core 4.7.0. -----. Python 3.8.6 | packaged by conda-forge | (default, Nov 27 2020, 19:31:52) [GCC 9.3.0]. Linux-3.10.0-1160.11.1.el7.x86_64-x86_64-with-glibc2.10. 64 logical CPU cores, x86_64. -----. Session information updated at 2021-10-15 09:58. ```. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2014
https://github.com/scverse/scanpy/issues/2014:133,usability,confirm,confirmed,133,"leiden and umap not reproducible on different CPUs; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I noticed that running the same single-cell analyses on different nodes of our HPC produces different results. . Starting from the same anndata object with a precomputed `X_scVI` latent representation, the UMAP and leiden-clustering looks different. . On . * Intel(R) Xeon(R) CPU E5-2699A v4 @ 2.40GHz. * AMD EPYC 7352 24-Core Processor. * Intel(R) Xeon(R) CPU E7-4850 v4 @ 2.10GHz. ![image](https://user-images.githubusercontent.com/7051479/137452257-b88f24fc-bb08-4620-9c1a-98d865ae5956.png). ```python. adata.obs[""leiden""].value_counts(). ```. ```console. 0 4268. 1 2132. 2 1691. 3 1662. 4 1659. 5 1563. ... ```. On . * Intel(R) Xeon(R) CPU E7- 4870 @ 2.40GHz. ![image](https://user-images.githubusercontent.com/7051479/137452439-7a094705-6473-4d22-8916-da3139273c6c.png). ```console. 0 3856. 1 2168. 2 2029. 3 1659. 4 1636. 5 1536. ... ```. ### Minimal code sample (that we can copy&paste without having any data). A git repository with example data, notebook and a nextflow pipeline is available here:. https://github.com/grst/scanpy_reproducibility. A report of the analysis executed on four different CPU architectures is available here:. https://grst.github.io/scanpy_reproducibility/. #### Versions. <details>. ```. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.5. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 8.0.1. anndata 0.7.5. backcall 0.2.0. cairo 1.20.0. cffi 1.14.4. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 3.1.0. igraph 0.8.3. ipykernel 5.3.4. ipython_genutils 0.2.0. jedi 0.17.2. joblib 0.17.0. kiwisolver 1.3.1. legacy_api_wrap 0.0.0. leidenalg 0.8.3. llvmlite 0.35.0. matplotlib 3.3.3. mpl_toolkits NA. na",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2014
https://github.com/scverse/scanpy/issues/2014:216,usability,confirm,confirmed,216,"leiden and umap not reproducible on different CPUs; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I noticed that running the same single-cell analyses on different nodes of our HPC produces different results. . Starting from the same anndata object with a precomputed `X_scVI` latent representation, the UMAP and leiden-clustering looks different. . On . * Intel(R) Xeon(R) CPU E5-2699A v4 @ 2.40GHz. * AMD EPYC 7352 24-Core Processor. * Intel(R) Xeon(R) CPU E7-4850 v4 @ 2.10GHz. ![image](https://user-images.githubusercontent.com/7051479/137452257-b88f24fc-bb08-4620-9c1a-98d865ae5956.png). ```python. adata.obs[""leiden""].value_counts(). ```. ```console. 0 4268. 1 2132. 2 1691. 3 1662. 4 1659. 5 1563. ... ```. On . * Intel(R) Xeon(R) CPU E7- 4870 @ 2.40GHz. ![image](https://user-images.githubusercontent.com/7051479/137452439-7a094705-6473-4d22-8916-da3139273c6c.png). ```console. 0 3856. 1 2168. 2 2029. 3 1659. 4 1636. 5 1536. ... ```. ### Minimal code sample (that we can copy&paste without having any data). A git repository with example data, notebook and a nextflow pipeline is available here:. https://github.com/grst/scanpy_reproducibility. A report of the analysis executed on four different CPU architectures is available here:. https://grst.github.io/scanpy_reproducibility/. #### Versions. <details>. ```. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.5. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 8.0.1. anndata 0.7.5. backcall 0.2.0. cairo 1.20.0. cffi 1.14.4. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 3.1.0. igraph 0.8.3. ipykernel 5.3.4. ipython_genutils 0.2.0. jedi 0.17.2. joblib 0.17.0. kiwisolver 1.3.1. legacy_api_wrap 0.0.0. leidenalg 0.8.3. llvmlite 0.35.0. matplotlib 3.3.3. mpl_toolkits NA. na",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2014
https://github.com/scverse/scanpy/issues/2014:679,usability,user,user-images,679,"leiden and umap not reproducible on different CPUs; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I noticed that running the same single-cell analyses on different nodes of our HPC produces different results. . Starting from the same anndata object with a precomputed `X_scVI` latent representation, the UMAP and leiden-clustering looks different. . On . * Intel(R) Xeon(R) CPU E5-2699A v4 @ 2.40GHz. * AMD EPYC 7352 24-Core Processor. * Intel(R) Xeon(R) CPU E7-4850 v4 @ 2.10GHz. ![image](https://user-images.githubusercontent.com/7051479/137452257-b88f24fc-bb08-4620-9c1a-98d865ae5956.png). ```python. adata.obs[""leiden""].value_counts(). ```. ```console. 0 4268. 1 2132. 2 1691. 3 1662. 4 1659. 5 1563. ... ```. On . * Intel(R) Xeon(R) CPU E7- 4870 @ 2.40GHz. ![image](https://user-images.githubusercontent.com/7051479/137452439-7a094705-6473-4d22-8916-da3139273c6c.png). ```console. 0 3856. 1 2168. 2 2029. 3 1659. 4 1636. 5 1536. ... ```. ### Minimal code sample (that we can copy&paste without having any data). A git repository with example data, notebook and a nextflow pipeline is available here:. https://github.com/grst/scanpy_reproducibility. A report of the analysis executed on four different CPU architectures is available here:. https://grst.github.io/scanpy_reproducibility/. #### Versions. <details>. ```. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.5. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 8.0.1. anndata 0.7.5. backcall 0.2.0. cairo 1.20.0. cffi 1.14.4. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 3.1.0. igraph 0.8.3. ipykernel 5.3.4. ipython_genutils 0.2.0. jedi 0.17.2. joblib 0.17.0. kiwisolver 1.3.1. legacy_api_wrap 0.0.0. leidenalg 0.8.3. llvmlite 0.35.0. matplotlib 3.3.3. mpl_toolkits NA. na",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2014
https://github.com/scverse/scanpy/issues/2014:960,usability,user,user-images,960,"leiden and umap not reproducible on different CPUs; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I noticed that running the same single-cell analyses on different nodes of our HPC produces different results. . Starting from the same anndata object with a precomputed `X_scVI` latent representation, the UMAP and leiden-clustering looks different. . On . * Intel(R) Xeon(R) CPU E5-2699A v4 @ 2.40GHz. * AMD EPYC 7352 24-Core Processor. * Intel(R) Xeon(R) CPU E7-4850 v4 @ 2.10GHz. ![image](https://user-images.githubusercontent.com/7051479/137452257-b88f24fc-bb08-4620-9c1a-98d865ae5956.png). ```python. adata.obs[""leiden""].value_counts(). ```. ```console. 0 4268. 1 2132. 2 1691. 3 1662. 4 1659. 5 1563. ... ```. On . * Intel(R) Xeon(R) CPU E7- 4870 @ 2.40GHz. ![image](https://user-images.githubusercontent.com/7051479/137452439-7a094705-6473-4d22-8916-da3139273c6c.png). ```console. 0 3856. 1 2168. 2 2029. 3 1659. 4 1636. 5 1536. ... ```. ### Minimal code sample (that we can copy&paste without having any data). A git repository with example data, notebook and a nextflow pipeline is available here:. https://github.com/grst/scanpy_reproducibility. A report of the analysis executed on four different CPU architectures is available here:. https://grst.github.io/scanpy_reproducibility/. #### Versions. <details>. ```. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.5. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 8.0.1. anndata 0.7.5. backcall 0.2.0. cairo 1.20.0. cffi 1.14.4. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 3.1.0. igraph 0.8.3. ipykernel 5.3.4. ipython_genutils 0.2.0. jedi 0.17.2. joblib 0.17.0. kiwisolver 1.3.1. legacy_api_wrap 0.0.0. leidenalg 0.8.3. llvmlite 0.35.0. matplotlib 3.3.3. mpl_toolkits NA. na",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2014
https://github.com/scverse/scanpy/issues/2014:1128,usability,Minim,Minimal,1128," confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I noticed that running the same single-cell analyses on different nodes of our HPC produces different results. . Starting from the same anndata object with a precomputed `X_scVI` latent representation, the UMAP and leiden-clustering looks different. . On . * Intel(R) Xeon(R) CPU E5-2699A v4 @ 2.40GHz. * AMD EPYC 7352 24-Core Processor. * Intel(R) Xeon(R) CPU E7-4850 v4 @ 2.10GHz. ![image](https://user-images.githubusercontent.com/7051479/137452257-b88f24fc-bb08-4620-9c1a-98d865ae5956.png). ```python. adata.obs[""leiden""].value_counts(). ```. ```console. 0 4268. 1 2132. 2 1691. 3 1662. 4 1659. 5 1563. ... ```. On . * Intel(R) Xeon(R) CPU E7- 4870 @ 2.40GHz. ![image](https://user-images.githubusercontent.com/7051479/137452439-7a094705-6473-4d22-8916-da3139273c6c.png). ```console. 0 3856. 1 2168. 2 2029. 3 1659. 4 1636. 5 1536. ... ```. ### Minimal code sample (that we can copy&paste without having any data). A git repository with example data, notebook and a nextflow pipeline is available here:. https://github.com/grst/scanpy_reproducibility. A report of the analysis executed on four different CPU architectures is available here:. https://grst.github.io/scanpy_reproducibility/. #### Versions. <details>. ```. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.5. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 8.0.1. anndata 0.7.5. backcall 0.2.0. cairo 1.20.0. cffi 1.14.4. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 3.1.0. igraph 0.8.3. ipykernel 5.3.4. ipython_genutils 0.2.0. jedi 0.17.2. joblib 0.17.0. kiwisolver 1.3.1. legacy_api_wrap 0.0.0. leidenalg 0.8.3. llvmlite 0.35.0. matplotlib 3.3.3. mpl_toolkits NA. natsort 7.1.0. numba 0.52.0. numexpr 2.7.1. numpy 1.19.4. packaging 20.7. pandas 1.1.4. parso 0.7.1. pexpect 4.8.0. pickleshare 0.7.5.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2014
https://github.com/scverse/scanpy/issues/2015:2641,availability,error,error,2641,"rovide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Your code here. ```. import numpy as np. import pandas as pd. import matplotlib.pyplot as pl. from matplotlib import rcParams. import scanpy as sc. sc.settings.verbosity = 3. sc.logging.print_versions(). adata = sc.read_h5ad(""/home/dell/at scanpy/pbmc3k.h5ad""). adata. adata.X=adata.X.astype('float64'). sc.tl.pca(adata, svd_solver='arpack'). sc.pp.neighbors(adata, n_neighbors=4, n_pcs=20). sc.tl.draw_graph(adata). adata.obs['seurat_clusters']= adata.obs['seurat_clusters'].astype('category'). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='right margin',title = """"). sc.tl.diffmap(adata). sc.pp.neighbors(adata, n_neighbors=10, use_rep='X_diffmap'). sc.tl.draw_graph(adata). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='on data',title = """"). sc.tl.paga(adata, groups='seurat_clusters'). sc.pl.paga(adata, color=['seurat_clusters'],title = """"). new_cluster_names = [. 'A', 'B',. 'C', 'D',. 'E', 'F',. G', 'H',. 'I', 'J',. 'K', 'L']. adata.obs['seurat_clusters'] = adata.obs['seurat_clusters'].cat.rename_categories(new_cluster_names). sc.tl.paga(adata, groups='seurat_clusters'). sc.pl.paga(adata, threshold=0.03). sc.tl.draw_graph(adata, init_pos='paga'). sc.pl.draw_graph(adata, color=['seurat_clusters'], legend_loc='right margin'). adata.uns['iroot'] = np.flatnonzero(adata.obs['seurat_clusters'] == 'C')[0]. sc.tl.dpt(adata). adata.obs['dpt_pseudotime']. adata. sc.pl.draw_graph(adata, color=['seurat_clusters', 'dpt_pseudotime'], legend_loc='right margin',title = ['','pseudotime']). ```pytb. [Paste the error output produced by the above code here]. ```. ![1634300003(1)](https://user-images.githubusercontent.com/92583306/137486504-8a01bfc7-cbdf-409f-a730-dfec94f8c4f7.png). #### Versions. <details>. [Paste the output of scanpy.logging.print_versions() leaving a blank line after the details tag]. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2015
https://github.com/scverse/scanpy/issues/2015:158,deployability,version,version,158,"The results of sc.tl.dpt is too bad; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I do not know if it is the scanpy to be blamed. But two of my data both face this problem. When I run trajectory analysis upon. sc.tl.dpt(adata). sc.pl.draw_graph(adata, color=['seurat_clusters', 'dpt_pseudotime'], legend_loc='right margin',title = ['','pseudotime']). branches of image for dpt_pseudotime were all deep blue, which indicated close to zero. And. adata.obs['dpt_pseudotime']. also print number(0.07, 0.06, etc) that close to zero. Therefore, I do not know if there is something wrong with my previous code, or there is something wrong with scanpy. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Your code here. ```. import numpy as np. import pandas as pd. import matplotlib.pyplot as pl. from matplotlib import rcParams. import scanpy as sc. sc.settings.verbosity = 3. sc.logging.print_versions(). adata = sc.read_h5ad(""/home/dell/at scanpy/pbmc3k.h5ad""). adata. adata.X=adata.X.astype('float64'). sc.tl.pca(adata, svd_solver='arpack'). sc.pp.neighbors(adata, n_neighbors=4, n_pcs=20). sc.tl.draw_graph(adata). adata.obs['seurat_clusters']= adata.obs['seurat_clusters'].astype('category'). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='right margin',title = """"). sc.tl.diffmap(adata). sc.pp.neighbors(adata, n_neighbors=10, use_rep='X_diffmap'). sc.tl.draw_graph(adata). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='on data',title = """"). sc.tl.paga(adata, groups='seurat_clusters'). sc.pl.paga(adata, color=['seurat_clusters'],title = """"). new_cluster_names = [. '",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2015
https://github.com/scverse/scanpy/issues/2015:1277,deployability,log,logging,1277,"it is the scanpy to be blamed. But two of my data both face this problem. When I run trajectory analysis upon. sc.tl.dpt(adata). sc.pl.draw_graph(adata, color=['seurat_clusters', 'dpt_pseudotime'], legend_loc='right margin',title = ['','pseudotime']). branches of image for dpt_pseudotime were all deep blue, which indicated close to zero. And. adata.obs['dpt_pseudotime']. also print number(0.07, 0.06, etc) that close to zero. Therefore, I do not know if there is something wrong with my previous code, or there is something wrong with scanpy. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Your code here. ```. import numpy as np. import pandas as pd. import matplotlib.pyplot as pl. from matplotlib import rcParams. import scanpy as sc. sc.settings.verbosity = 3. sc.logging.print_versions(). adata = sc.read_h5ad(""/home/dell/at scanpy/pbmc3k.h5ad""). adata. adata.X=adata.X.astype('float64'). sc.tl.pca(adata, svd_solver='arpack'). sc.pp.neighbors(adata, n_neighbors=4, n_pcs=20). sc.tl.draw_graph(adata). adata.obs['seurat_clusters']= adata.obs['seurat_clusters'].astype('category'). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='right margin',title = """"). sc.tl.diffmap(adata). sc.pp.neighbors(adata, n_neighbors=10, use_rep='X_diffmap'). sc.tl.draw_graph(adata). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='on data',title = """"). sc.tl.paga(adata, groups='seurat_clusters'). sc.pl.paga(adata, color=['seurat_clusters'],title = """"). new_cluster_names = [. 'A', 'B',. 'C', 'D',. 'E', 'F',. G', 'H',. 'I', 'J',. 'K', 'L']. adata.obs['seurat_clusters'] = adata.obs['seurat_clusters'].cat.rename_categories(new_cluster_names). sc.tl.paga(adata, groups='seurat_clusters'). sc.pl.paga(adata, threshold=0.03). sc.tl.draw_graph(adata, init_pos='p",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2015
https://github.com/scverse/scanpy/issues/2015:2819,deployability,Version,Versions,2819,"rovide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Your code here. ```. import numpy as np. import pandas as pd. import matplotlib.pyplot as pl. from matplotlib import rcParams. import scanpy as sc. sc.settings.verbosity = 3. sc.logging.print_versions(). adata = sc.read_h5ad(""/home/dell/at scanpy/pbmc3k.h5ad""). adata. adata.X=adata.X.astype('float64'). sc.tl.pca(adata, svd_solver='arpack'). sc.pp.neighbors(adata, n_neighbors=4, n_pcs=20). sc.tl.draw_graph(adata). adata.obs['seurat_clusters']= adata.obs['seurat_clusters'].astype('category'). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='right margin',title = """"). sc.tl.diffmap(adata). sc.pp.neighbors(adata, n_neighbors=10, use_rep='X_diffmap'). sc.tl.draw_graph(adata). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='on data',title = """"). sc.tl.paga(adata, groups='seurat_clusters'). sc.pl.paga(adata, color=['seurat_clusters'],title = """"). new_cluster_names = [. 'A', 'B',. 'C', 'D',. 'E', 'F',. G', 'H',. 'I', 'J',. 'K', 'L']. adata.obs['seurat_clusters'] = adata.obs['seurat_clusters'].cat.rename_categories(new_cluster_names). sc.tl.paga(adata, groups='seurat_clusters'). sc.pl.paga(adata, threshold=0.03). sc.tl.draw_graph(adata, init_pos='paga'). sc.pl.draw_graph(adata, color=['seurat_clusters'], legend_loc='right margin'). adata.uns['iroot'] = np.flatnonzero(adata.obs['seurat_clusters'] == 'C')[0]. sc.tl.dpt(adata). adata.obs['dpt_pseudotime']. adata. sc.pl.draw_graph(adata, color=['seurat_clusters', 'dpt_pseudotime'], legend_loc='right margin',title = ['','pseudotime']). ```pytb. [Paste the error output produced by the above code here]. ```. ![1634300003(1)](https://user-images.githubusercontent.com/92583306/137486504-8a01bfc7-cbdf-409f-a730-dfec94f8c4f7.png). #### Versions. <details>. [Paste the output of scanpy.logging.print_versions() leaving a blank line after the details tag]. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2015
https://github.com/scverse/scanpy/issues/2015:2868,deployability,log,logging,2868,"rovide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Your code here. ```. import numpy as np. import pandas as pd. import matplotlib.pyplot as pl. from matplotlib import rcParams. import scanpy as sc. sc.settings.verbosity = 3. sc.logging.print_versions(). adata = sc.read_h5ad(""/home/dell/at scanpy/pbmc3k.h5ad""). adata. adata.X=adata.X.astype('float64'). sc.tl.pca(adata, svd_solver='arpack'). sc.pp.neighbors(adata, n_neighbors=4, n_pcs=20). sc.tl.draw_graph(adata). adata.obs['seurat_clusters']= adata.obs['seurat_clusters'].astype('category'). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='right margin',title = """"). sc.tl.diffmap(adata). sc.pp.neighbors(adata, n_neighbors=10, use_rep='X_diffmap'). sc.tl.draw_graph(adata). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='on data',title = """"). sc.tl.paga(adata, groups='seurat_clusters'). sc.pl.paga(adata, color=['seurat_clusters'],title = """"). new_cluster_names = [. 'A', 'B',. 'C', 'D',. 'E', 'F',. G', 'H',. 'I', 'J',. 'K', 'L']. adata.obs['seurat_clusters'] = adata.obs['seurat_clusters'].cat.rename_categories(new_cluster_names). sc.tl.paga(adata, groups='seurat_clusters'). sc.pl.paga(adata, threshold=0.03). sc.tl.draw_graph(adata, init_pos='paga'). sc.pl.draw_graph(adata, color=['seurat_clusters'], legend_loc='right margin'). adata.uns['iroot'] = np.flatnonzero(adata.obs['seurat_clusters'] == 'C')[0]. sc.tl.dpt(adata). adata.obs['dpt_pseudotime']. adata. sc.pl.draw_graph(adata, color=['seurat_clusters', 'dpt_pseudotime'], legend_loc='right margin',title = ['','pseudotime']). ```pytb. [Paste the error output produced by the above code here]. ```. ![1634300003(1)](https://user-images.githubusercontent.com/92583306/137486504-8a01bfc7-cbdf-409f-a730-dfec94f8c4f7.png). #### Versions. <details>. [Paste the output of scanpy.logging.print_versions() leaving a blank line after the details tag]. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2015
https://github.com/scverse/scanpy/issues/2015:158,integrability,version,version,158,"The results of sc.tl.dpt is too bad; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I do not know if it is the scanpy to be blamed. But two of my data both face this problem. When I run trajectory analysis upon. sc.tl.dpt(adata). sc.pl.draw_graph(adata, color=['seurat_clusters', 'dpt_pseudotime'], legend_loc='right margin',title = ['','pseudotime']). branches of image for dpt_pseudotime were all deep blue, which indicated close to zero. And. adata.obs['dpt_pseudotime']. also print number(0.07, 0.06, etc) that close to zero. Therefore, I do not know if there is something wrong with my previous code, or there is something wrong with scanpy. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Your code here. ```. import numpy as np. import pandas as pd. import matplotlib.pyplot as pl. from matplotlib import rcParams. import scanpy as sc. sc.settings.verbosity = 3. sc.logging.print_versions(). adata = sc.read_h5ad(""/home/dell/at scanpy/pbmc3k.h5ad""). adata. adata.X=adata.X.astype('float64'). sc.tl.pca(adata, svd_solver='arpack'). sc.pp.neighbors(adata, n_neighbors=4, n_pcs=20). sc.tl.draw_graph(adata). adata.obs['seurat_clusters']= adata.obs['seurat_clusters'].astype('category'). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='right margin',title = """"). sc.tl.diffmap(adata). sc.pp.neighbors(adata, n_neighbors=10, use_rep='X_diffmap'). sc.tl.draw_graph(adata). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='on data',title = """"). sc.tl.paga(adata, groups='seurat_clusters'). sc.pl.paga(adata, color=['seurat_clusters'],title = """"). new_cluster_names = [. '",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2015
https://github.com/scverse/scanpy/issues/2015:2819,integrability,Version,Versions,2819,"rovide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Your code here. ```. import numpy as np. import pandas as pd. import matplotlib.pyplot as pl. from matplotlib import rcParams. import scanpy as sc. sc.settings.verbosity = 3. sc.logging.print_versions(). adata = sc.read_h5ad(""/home/dell/at scanpy/pbmc3k.h5ad""). adata. adata.X=adata.X.astype('float64'). sc.tl.pca(adata, svd_solver='arpack'). sc.pp.neighbors(adata, n_neighbors=4, n_pcs=20). sc.tl.draw_graph(adata). adata.obs['seurat_clusters']= adata.obs['seurat_clusters'].astype('category'). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='right margin',title = """"). sc.tl.diffmap(adata). sc.pp.neighbors(adata, n_neighbors=10, use_rep='X_diffmap'). sc.tl.draw_graph(adata). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='on data',title = """"). sc.tl.paga(adata, groups='seurat_clusters'). sc.pl.paga(adata, color=['seurat_clusters'],title = """"). new_cluster_names = [. 'A', 'B',. 'C', 'D',. 'E', 'F',. G', 'H',. 'I', 'J',. 'K', 'L']. adata.obs['seurat_clusters'] = adata.obs['seurat_clusters'].cat.rename_categories(new_cluster_names). sc.tl.paga(adata, groups='seurat_clusters'). sc.pl.paga(adata, threshold=0.03). sc.tl.draw_graph(adata, init_pos='paga'). sc.pl.draw_graph(adata, color=['seurat_clusters'], legend_loc='right margin'). adata.uns['iroot'] = np.flatnonzero(adata.obs['seurat_clusters'] == 'C')[0]. sc.tl.dpt(adata). adata.obs['dpt_pseudotime']. adata. sc.pl.draw_graph(adata, color=['seurat_clusters', 'dpt_pseudotime'], legend_loc='right margin',title = ['','pseudotime']). ```pytb. [Paste the error output produced by the above code here]. ```. ![1634300003(1)](https://user-images.githubusercontent.com/92583306/137486504-8a01bfc7-cbdf-409f-a730-dfec94f8c4f7.png). #### Versions. <details>. [Paste the output of scanpy.logging.print_versions() leaving a blank line after the details tag]. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2015
https://github.com/scverse/scanpy/issues/2015:158,modifiability,version,version,158,"The results of sc.tl.dpt is too bad; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I do not know if it is the scanpy to be blamed. But two of my data both face this problem. When I run trajectory analysis upon. sc.tl.dpt(adata). sc.pl.draw_graph(adata, color=['seurat_clusters', 'dpt_pseudotime'], legend_loc='right margin',title = ['','pseudotime']). branches of image for dpt_pseudotime were all deep blue, which indicated close to zero. And. adata.obs['dpt_pseudotime']. also print number(0.07, 0.06, etc) that close to zero. Therefore, I do not know if there is something wrong with my previous code, or there is something wrong with scanpy. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Your code here. ```. import numpy as np. import pandas as pd. import matplotlib.pyplot as pl. from matplotlib import rcParams. import scanpy as sc. sc.settings.verbosity = 3. sc.logging.print_versions(). adata = sc.read_h5ad(""/home/dell/at scanpy/pbmc3k.h5ad""). adata. adata.X=adata.X.astype('float64'). sc.tl.pca(adata, svd_solver='arpack'). sc.pp.neighbors(adata, n_neighbors=4, n_pcs=20). sc.tl.draw_graph(adata). adata.obs['seurat_clusters']= adata.obs['seurat_clusters'].astype('category'). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='right margin',title = """"). sc.tl.diffmap(adata). sc.pp.neighbors(adata, n_neighbors=10, use_rep='X_diffmap'). sc.tl.draw_graph(adata). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='on data',title = """"). sc.tl.paga(adata, groups='seurat_clusters'). sc.pl.paga(adata, color=['seurat_clusters'],title = """"). new_cluster_names = [. '",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2015
https://github.com/scverse/scanpy/issues/2015:2819,modifiability,Version,Versions,2819,"rovide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Your code here. ```. import numpy as np. import pandas as pd. import matplotlib.pyplot as pl. from matplotlib import rcParams. import scanpy as sc. sc.settings.verbosity = 3. sc.logging.print_versions(). adata = sc.read_h5ad(""/home/dell/at scanpy/pbmc3k.h5ad""). adata. adata.X=adata.X.astype('float64'). sc.tl.pca(adata, svd_solver='arpack'). sc.pp.neighbors(adata, n_neighbors=4, n_pcs=20). sc.tl.draw_graph(adata). adata.obs['seurat_clusters']= adata.obs['seurat_clusters'].astype('category'). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='right margin',title = """"). sc.tl.diffmap(adata). sc.pp.neighbors(adata, n_neighbors=10, use_rep='X_diffmap'). sc.tl.draw_graph(adata). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='on data',title = """"). sc.tl.paga(adata, groups='seurat_clusters'). sc.pl.paga(adata, color=['seurat_clusters'],title = """"). new_cluster_names = [. 'A', 'B',. 'C', 'D',. 'E', 'F',. G', 'H',. 'I', 'J',. 'K', 'L']. adata.obs['seurat_clusters'] = adata.obs['seurat_clusters'].cat.rename_categories(new_cluster_names). sc.tl.paga(adata, groups='seurat_clusters'). sc.pl.paga(adata, threshold=0.03). sc.tl.draw_graph(adata, init_pos='paga'). sc.pl.draw_graph(adata, color=['seurat_clusters'], legend_loc='right margin'). adata.uns['iroot'] = np.flatnonzero(adata.obs['seurat_clusters'] == 'C')[0]. sc.tl.dpt(adata). adata.obs['dpt_pseudotime']. adata. sc.pl.draw_graph(adata, color=['seurat_clusters', 'dpt_pseudotime'], legend_loc='right margin',title = ['','pseudotime']). ```pytb. [Paste the error output produced by the above code here]. ```. ![1634300003(1)](https://user-images.githubusercontent.com/92583306/137486504-8a01bfc7-cbdf-409f-a730-dfec94f8c4f7.png). #### Versions. <details>. [Paste the output of scanpy.logging.print_versions() leaving a blank line after the details tag]. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2015
https://github.com/scverse/scanpy/issues/2015:2641,performance,error,error,2641,"rovide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Your code here. ```. import numpy as np. import pandas as pd. import matplotlib.pyplot as pl. from matplotlib import rcParams. import scanpy as sc. sc.settings.verbosity = 3. sc.logging.print_versions(). adata = sc.read_h5ad(""/home/dell/at scanpy/pbmc3k.h5ad""). adata. adata.X=adata.X.astype('float64'). sc.tl.pca(adata, svd_solver='arpack'). sc.pp.neighbors(adata, n_neighbors=4, n_pcs=20). sc.tl.draw_graph(adata). adata.obs['seurat_clusters']= adata.obs['seurat_clusters'].astype('category'). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='right margin',title = """"). sc.tl.diffmap(adata). sc.pp.neighbors(adata, n_neighbors=10, use_rep='X_diffmap'). sc.tl.draw_graph(adata). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='on data',title = """"). sc.tl.paga(adata, groups='seurat_clusters'). sc.pl.paga(adata, color=['seurat_clusters'],title = """"). new_cluster_names = [. 'A', 'B',. 'C', 'D',. 'E', 'F',. G', 'H',. 'I', 'J',. 'K', 'L']. adata.obs['seurat_clusters'] = adata.obs['seurat_clusters'].cat.rename_categories(new_cluster_names). sc.tl.paga(adata, groups='seurat_clusters'). sc.pl.paga(adata, threshold=0.03). sc.tl.draw_graph(adata, init_pos='paga'). sc.pl.draw_graph(adata, color=['seurat_clusters'], legend_loc='right margin'). adata.uns['iroot'] = np.flatnonzero(adata.obs['seurat_clusters'] == 'C')[0]. sc.tl.dpt(adata). adata.obs['dpt_pseudotime']. adata. sc.pl.draw_graph(adata, color=['seurat_clusters', 'dpt_pseudotime'], legend_loc='right margin',title = ['','pseudotime']). ```pytb. [Paste the error output produced by the above code here]. ```. ![1634300003(1)](https://user-images.githubusercontent.com/92583306/137486504-8a01bfc7-cbdf-409f-a730-dfec94f8c4f7.png). #### Versions. <details>. [Paste the output of scanpy.logging.print_versions() leaving a blank line after the details tag]. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2015
https://github.com/scverse/scanpy/issues/2015:1277,safety,log,logging,1277,"it is the scanpy to be blamed. But two of my data both face this problem. When I run trajectory analysis upon. sc.tl.dpt(adata). sc.pl.draw_graph(adata, color=['seurat_clusters', 'dpt_pseudotime'], legend_loc='right margin',title = ['','pseudotime']). branches of image for dpt_pseudotime were all deep blue, which indicated close to zero. And. adata.obs['dpt_pseudotime']. also print number(0.07, 0.06, etc) that close to zero. Therefore, I do not know if there is something wrong with my previous code, or there is something wrong with scanpy. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Your code here. ```. import numpy as np. import pandas as pd. import matplotlib.pyplot as pl. from matplotlib import rcParams. import scanpy as sc. sc.settings.verbosity = 3. sc.logging.print_versions(). adata = sc.read_h5ad(""/home/dell/at scanpy/pbmc3k.h5ad""). adata. adata.X=adata.X.astype('float64'). sc.tl.pca(adata, svd_solver='arpack'). sc.pp.neighbors(adata, n_neighbors=4, n_pcs=20). sc.tl.draw_graph(adata). adata.obs['seurat_clusters']= adata.obs['seurat_clusters'].astype('category'). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='right margin',title = """"). sc.tl.diffmap(adata). sc.pp.neighbors(adata, n_neighbors=10, use_rep='X_diffmap'). sc.tl.draw_graph(adata). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='on data',title = """"). sc.tl.paga(adata, groups='seurat_clusters'). sc.pl.paga(adata, color=['seurat_clusters'],title = """"). new_cluster_names = [. 'A', 'B',. 'C', 'D',. 'E', 'F',. G', 'H',. 'I', 'J',. 'K', 'L']. adata.obs['seurat_clusters'] = adata.obs['seurat_clusters'].cat.rename_categories(new_cluster_names). sc.tl.paga(adata, groups='seurat_clusters'). sc.pl.paga(adata, threshold=0.03). sc.tl.draw_graph(adata, init_pos='p",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2015
https://github.com/scverse/scanpy/issues/2015:2641,safety,error,error,2641,"rovide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Your code here. ```. import numpy as np. import pandas as pd. import matplotlib.pyplot as pl. from matplotlib import rcParams. import scanpy as sc. sc.settings.verbosity = 3. sc.logging.print_versions(). adata = sc.read_h5ad(""/home/dell/at scanpy/pbmc3k.h5ad""). adata. adata.X=adata.X.astype('float64'). sc.tl.pca(adata, svd_solver='arpack'). sc.pp.neighbors(adata, n_neighbors=4, n_pcs=20). sc.tl.draw_graph(adata). adata.obs['seurat_clusters']= adata.obs['seurat_clusters'].astype('category'). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='right margin',title = """"). sc.tl.diffmap(adata). sc.pp.neighbors(adata, n_neighbors=10, use_rep='X_diffmap'). sc.tl.draw_graph(adata). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='on data',title = """"). sc.tl.paga(adata, groups='seurat_clusters'). sc.pl.paga(adata, color=['seurat_clusters'],title = """"). new_cluster_names = [. 'A', 'B',. 'C', 'D',. 'E', 'F',. G', 'H',. 'I', 'J',. 'K', 'L']. adata.obs['seurat_clusters'] = adata.obs['seurat_clusters'].cat.rename_categories(new_cluster_names). sc.tl.paga(adata, groups='seurat_clusters'). sc.pl.paga(adata, threshold=0.03). sc.tl.draw_graph(adata, init_pos='paga'). sc.pl.draw_graph(adata, color=['seurat_clusters'], legend_loc='right margin'). adata.uns['iroot'] = np.flatnonzero(adata.obs['seurat_clusters'] == 'C')[0]. sc.tl.dpt(adata). adata.obs['dpt_pseudotime']. adata. sc.pl.draw_graph(adata, color=['seurat_clusters', 'dpt_pseudotime'], legend_loc='right margin',title = ['','pseudotime']). ```pytb. [Paste the error output produced by the above code here]. ```. ![1634300003(1)](https://user-images.githubusercontent.com/92583306/137486504-8a01bfc7-cbdf-409f-a730-dfec94f8c4f7.png). #### Versions. <details>. [Paste the output of scanpy.logging.print_versions() leaving a blank line after the details tag]. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2015
https://github.com/scverse/scanpy/issues/2015:2868,safety,log,logging,2868,"rovide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Your code here. ```. import numpy as np. import pandas as pd. import matplotlib.pyplot as pl. from matplotlib import rcParams. import scanpy as sc. sc.settings.verbosity = 3. sc.logging.print_versions(). adata = sc.read_h5ad(""/home/dell/at scanpy/pbmc3k.h5ad""). adata. adata.X=adata.X.astype('float64'). sc.tl.pca(adata, svd_solver='arpack'). sc.pp.neighbors(adata, n_neighbors=4, n_pcs=20). sc.tl.draw_graph(adata). adata.obs['seurat_clusters']= adata.obs['seurat_clusters'].astype('category'). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='right margin',title = """"). sc.tl.diffmap(adata). sc.pp.neighbors(adata, n_neighbors=10, use_rep='X_diffmap'). sc.tl.draw_graph(adata). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='on data',title = """"). sc.tl.paga(adata, groups='seurat_clusters'). sc.pl.paga(adata, color=['seurat_clusters'],title = """"). new_cluster_names = [. 'A', 'B',. 'C', 'D',. 'E', 'F',. G', 'H',. 'I', 'J',. 'K', 'L']. adata.obs['seurat_clusters'] = adata.obs['seurat_clusters'].cat.rename_categories(new_cluster_names). sc.tl.paga(adata, groups='seurat_clusters'). sc.pl.paga(adata, threshold=0.03). sc.tl.draw_graph(adata, init_pos='paga'). sc.pl.draw_graph(adata, color=['seurat_clusters'], legend_loc='right margin'). adata.uns['iroot'] = np.flatnonzero(adata.obs['seurat_clusters'] == 'C')[0]. sc.tl.dpt(adata). adata.obs['dpt_pseudotime']. adata. sc.pl.draw_graph(adata, color=['seurat_clusters', 'dpt_pseudotime'], legend_loc='right margin',title = ['','pseudotime']). ```pytb. [Paste the error output produced by the above code here]. ```. ![1634300003(1)](https://user-images.githubusercontent.com/92583306/137486504-8a01bfc7-cbdf-409f-a730-dfec94f8c4f7.png). #### Versions. <details>. [Paste the output of scanpy.logging.print_versions() leaving a blank line after the details tag]. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2015
https://github.com/scverse/scanpy/issues/2015:1277,security,log,logging,1277,"it is the scanpy to be blamed. But two of my data both face this problem. When I run trajectory analysis upon. sc.tl.dpt(adata). sc.pl.draw_graph(adata, color=['seurat_clusters', 'dpt_pseudotime'], legend_loc='right margin',title = ['','pseudotime']). branches of image for dpt_pseudotime were all deep blue, which indicated close to zero. And. adata.obs['dpt_pseudotime']. also print number(0.07, 0.06, etc) that close to zero. Therefore, I do not know if there is something wrong with my previous code, or there is something wrong with scanpy. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Your code here. ```. import numpy as np. import pandas as pd. import matplotlib.pyplot as pl. from matplotlib import rcParams. import scanpy as sc. sc.settings.verbosity = 3. sc.logging.print_versions(). adata = sc.read_h5ad(""/home/dell/at scanpy/pbmc3k.h5ad""). adata. adata.X=adata.X.astype('float64'). sc.tl.pca(adata, svd_solver='arpack'). sc.pp.neighbors(adata, n_neighbors=4, n_pcs=20). sc.tl.draw_graph(adata). adata.obs['seurat_clusters']= adata.obs['seurat_clusters'].astype('category'). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='right margin',title = """"). sc.tl.diffmap(adata). sc.pp.neighbors(adata, n_neighbors=10, use_rep='X_diffmap'). sc.tl.draw_graph(adata). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='on data',title = """"). sc.tl.paga(adata, groups='seurat_clusters'). sc.pl.paga(adata, color=['seurat_clusters'],title = """"). new_cluster_names = [. 'A', 'B',. 'C', 'D',. 'E', 'F',. G', 'H',. 'I', 'J',. 'K', 'L']. adata.obs['seurat_clusters'] = adata.obs['seurat_clusters'].cat.rename_categories(new_cluster_names). sc.tl.paga(adata, groups='seurat_clusters'). sc.pl.paga(adata, threshold=0.03). sc.tl.draw_graph(adata, init_pos='p",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2015
https://github.com/scverse/scanpy/issues/2015:2868,security,log,logging,2868,"rovide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Your code here. ```. import numpy as np. import pandas as pd. import matplotlib.pyplot as pl. from matplotlib import rcParams. import scanpy as sc. sc.settings.verbosity = 3. sc.logging.print_versions(). adata = sc.read_h5ad(""/home/dell/at scanpy/pbmc3k.h5ad""). adata. adata.X=adata.X.astype('float64'). sc.tl.pca(adata, svd_solver='arpack'). sc.pp.neighbors(adata, n_neighbors=4, n_pcs=20). sc.tl.draw_graph(adata). adata.obs['seurat_clusters']= adata.obs['seurat_clusters'].astype('category'). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='right margin',title = """"). sc.tl.diffmap(adata). sc.pp.neighbors(adata, n_neighbors=10, use_rep='X_diffmap'). sc.tl.draw_graph(adata). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='on data',title = """"). sc.tl.paga(adata, groups='seurat_clusters'). sc.pl.paga(adata, color=['seurat_clusters'],title = """"). new_cluster_names = [. 'A', 'B',. 'C', 'D',. 'E', 'F',. G', 'H',. 'I', 'J',. 'K', 'L']. adata.obs['seurat_clusters'] = adata.obs['seurat_clusters'].cat.rename_categories(new_cluster_names). sc.tl.paga(adata, groups='seurat_clusters'). sc.pl.paga(adata, threshold=0.03). sc.tl.draw_graph(adata, init_pos='paga'). sc.pl.draw_graph(adata, color=['seurat_clusters'], legend_loc='right margin'). adata.uns['iroot'] = np.flatnonzero(adata.obs['seurat_clusters'] == 'C')[0]. sc.tl.dpt(adata). adata.obs['dpt_pseudotime']. adata. sc.pl.draw_graph(adata, color=['seurat_clusters', 'dpt_pseudotime'], legend_loc='right margin',title = ['','pseudotime']). ```pytb. [Paste the error output produced by the above code here]. ```. ![1634300003(1)](https://user-images.githubusercontent.com/92583306/137486504-8a01bfc7-cbdf-409f-a730-dfec94f8c4f7.png). #### Versions. <details>. [Paste the output of scanpy.logging.print_versions() leaving a blank line after the details tag]. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2015
https://github.com/scverse/scanpy/issues/2015:1277,testability,log,logging,1277,"it is the scanpy to be blamed. But two of my data both face this problem. When I run trajectory analysis upon. sc.tl.dpt(adata). sc.pl.draw_graph(adata, color=['seurat_clusters', 'dpt_pseudotime'], legend_loc='right margin',title = ['','pseudotime']). branches of image for dpt_pseudotime were all deep blue, which indicated close to zero. And. adata.obs['dpt_pseudotime']. also print number(0.07, 0.06, etc) that close to zero. Therefore, I do not know if there is something wrong with my previous code, or there is something wrong with scanpy. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Your code here. ```. import numpy as np. import pandas as pd. import matplotlib.pyplot as pl. from matplotlib import rcParams. import scanpy as sc. sc.settings.verbosity = 3. sc.logging.print_versions(). adata = sc.read_h5ad(""/home/dell/at scanpy/pbmc3k.h5ad""). adata. adata.X=adata.X.astype('float64'). sc.tl.pca(adata, svd_solver='arpack'). sc.pp.neighbors(adata, n_neighbors=4, n_pcs=20). sc.tl.draw_graph(adata). adata.obs['seurat_clusters']= adata.obs['seurat_clusters'].astype('category'). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='right margin',title = """"). sc.tl.diffmap(adata). sc.pp.neighbors(adata, n_neighbors=10, use_rep='X_diffmap'). sc.tl.draw_graph(adata). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='on data',title = """"). sc.tl.paga(adata, groups='seurat_clusters'). sc.pl.paga(adata, color=['seurat_clusters'],title = """"). new_cluster_names = [. 'A', 'B',. 'C', 'D',. 'E', 'F',. G', 'H',. 'I', 'J',. 'K', 'L']. adata.obs['seurat_clusters'] = adata.obs['seurat_clusters'].cat.rename_categories(new_cluster_names). sc.tl.paga(adata, groups='seurat_clusters'). sc.pl.paga(adata, threshold=0.03). sc.tl.draw_graph(adata, init_pos='p",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2015
https://github.com/scverse/scanpy/issues/2015:2868,testability,log,logging,2868,"rovide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Your code here. ```. import numpy as np. import pandas as pd. import matplotlib.pyplot as pl. from matplotlib import rcParams. import scanpy as sc. sc.settings.verbosity = 3. sc.logging.print_versions(). adata = sc.read_h5ad(""/home/dell/at scanpy/pbmc3k.h5ad""). adata. adata.X=adata.X.astype('float64'). sc.tl.pca(adata, svd_solver='arpack'). sc.pp.neighbors(adata, n_neighbors=4, n_pcs=20). sc.tl.draw_graph(adata). adata.obs['seurat_clusters']= adata.obs['seurat_clusters'].astype('category'). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='right margin',title = """"). sc.tl.diffmap(adata). sc.pp.neighbors(adata, n_neighbors=10, use_rep='X_diffmap'). sc.tl.draw_graph(adata). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='on data',title = """"). sc.tl.paga(adata, groups='seurat_clusters'). sc.pl.paga(adata, color=['seurat_clusters'],title = """"). new_cluster_names = [. 'A', 'B',. 'C', 'D',. 'E', 'F',. G', 'H',. 'I', 'J',. 'K', 'L']. adata.obs['seurat_clusters'] = adata.obs['seurat_clusters'].cat.rename_categories(new_cluster_names). sc.tl.paga(adata, groups='seurat_clusters'). sc.pl.paga(adata, threshold=0.03). sc.tl.draw_graph(adata, init_pos='paga'). sc.pl.draw_graph(adata, color=['seurat_clusters'], legend_loc='right margin'). adata.uns['iroot'] = np.flatnonzero(adata.obs['seurat_clusters'] == 'C')[0]. sc.tl.dpt(adata). adata.obs['dpt_pseudotime']. adata. sc.pl.draw_graph(adata, color=['seurat_clusters', 'dpt_pseudotime'], legend_loc='right margin',title = ['','pseudotime']). ```pytb. [Paste the error output produced by the above code here]. ```. ![1634300003(1)](https://user-images.githubusercontent.com/92583306/137486504-8a01bfc7-cbdf-409f-a730-dfec94f8c4f7.png). #### Versions. <details>. [Paste the output of scanpy.logging.print_versions() leaving a blank line after the details tag]. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2015
https://github.com/scverse/scanpy/issues/2015:118,usability,confirm,confirmed,118,"The results of sc.tl.dpt is too bad; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I do not know if it is the scanpy to be blamed. But two of my data both face this problem. When I run trajectory analysis upon. sc.tl.dpt(adata). sc.pl.draw_graph(adata, color=['seurat_clusters', 'dpt_pseudotime'], legend_loc='right margin',title = ['','pseudotime']). branches of image for dpt_pseudotime were all deep blue, which indicated close to zero. And. adata.obs['dpt_pseudotime']. also print number(0.07, 0.06, etc) that close to zero. Therefore, I do not know if there is something wrong with my previous code, or there is something wrong with scanpy. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Your code here. ```. import numpy as np. import pandas as pd. import matplotlib.pyplot as pl. from matplotlib import rcParams. import scanpy as sc. sc.settings.verbosity = 3. sc.logging.print_versions(). adata = sc.read_h5ad(""/home/dell/at scanpy/pbmc3k.h5ad""). adata. adata.X=adata.X.astype('float64'). sc.tl.pca(adata, svd_solver='arpack'). sc.pp.neighbors(adata, n_neighbors=4, n_pcs=20). sc.tl.draw_graph(adata). adata.obs['seurat_clusters']= adata.obs['seurat_clusters'].astype('category'). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='right margin',title = """"). sc.tl.diffmap(adata). sc.pp.neighbors(adata, n_neighbors=10, use_rep='X_diffmap'). sc.tl.draw_graph(adata). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='on data',title = """"). sc.tl.paga(adata, groups='seurat_clusters'). sc.pl.paga(adata, color=['seurat_clusters'],title = """"). new_cluster_names = [. '",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2015
https://github.com/scverse/scanpy/issues/2015:201,usability,confirm,confirmed,201,"The results of sc.tl.dpt is too bad; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I do not know if it is the scanpy to be blamed. But two of my data both face this problem. When I run trajectory analysis upon. sc.tl.dpt(adata). sc.pl.draw_graph(adata, color=['seurat_clusters', 'dpt_pseudotime'], legend_loc='right margin',title = ['','pseudotime']). branches of image for dpt_pseudotime were all deep blue, which indicated close to zero. And. adata.obs['dpt_pseudotime']. also print number(0.07, 0.06, etc) that close to zero. Therefore, I do not know if there is something wrong with my previous code, or there is something wrong with scanpy. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Your code here. ```. import numpy as np. import pandas as pd. import matplotlib.pyplot as pl. from matplotlib import rcParams. import scanpy as sc. sc.settings.verbosity = 3. sc.logging.print_versions(). adata = sc.read_h5ad(""/home/dell/at scanpy/pbmc3k.h5ad""). adata. adata.X=adata.X.astype('float64'). sc.tl.pca(adata, svd_solver='arpack'). sc.pp.neighbors(adata, n_neighbors=4, n_pcs=20). sc.tl.draw_graph(adata). adata.obs['seurat_clusters']= adata.obs['seurat_clusters'].astype('category'). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='right margin',title = """"). sc.tl.diffmap(adata). sc.pp.neighbors(adata, n_neighbors=10, use_rep='X_diffmap'). sc.tl.draw_graph(adata). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='on data',title = """"). sc.tl.paga(adata, groups='seurat_clusters'). sc.pl.paga(adata, color=['seurat_clusters'],title = """"). new_cluster_names = [. '",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2015
https://github.com/scverse/scanpy/issues/2015:596,usability,indicat,indicated,596,"The results of sc.tl.dpt is too bad; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I do not know if it is the scanpy to be blamed. But two of my data both face this problem. When I run trajectory analysis upon. sc.tl.dpt(adata). sc.pl.draw_graph(adata, color=['seurat_clusters', 'dpt_pseudotime'], legend_loc='right margin',title = ['','pseudotime']). branches of image for dpt_pseudotime were all deep blue, which indicated close to zero. And. adata.obs['dpt_pseudotime']. also print number(0.07, 0.06, etc) that close to zero. Therefore, I do not know if there is something wrong with my previous code, or there is something wrong with scanpy. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Your code here. ```. import numpy as np. import pandas as pd. import matplotlib.pyplot as pl. from matplotlib import rcParams. import scanpy as sc. sc.settings.verbosity = 3. sc.logging.print_versions(). adata = sc.read_h5ad(""/home/dell/at scanpy/pbmc3k.h5ad""). adata. adata.X=adata.X.astype('float64'). sc.tl.pca(adata, svd_solver='arpack'). sc.pp.neighbors(adata, n_neighbors=4, n_pcs=20). sc.tl.draw_graph(adata). adata.obs['seurat_clusters']= adata.obs['seurat_clusters'].astype('category'). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='right margin',title = """"). sc.tl.diffmap(adata). sc.pp.neighbors(adata, n_neighbors=10, use_rep='X_diffmap'). sc.tl.draw_graph(adata). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='on data',title = """"). sc.tl.paga(adata, groups='seurat_clusters'). sc.pl.paga(adata, color=['seurat_clusters'],title = """"). new_cluster_names = [. '",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2015
https://github.com/scverse/scanpy/issues/2015:606,usability,close,close,606,"The results of sc.tl.dpt is too bad; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I do not know if it is the scanpy to be blamed. But two of my data both face this problem. When I run trajectory analysis upon. sc.tl.dpt(adata). sc.pl.draw_graph(adata, color=['seurat_clusters', 'dpt_pseudotime'], legend_loc='right margin',title = ['','pseudotime']). branches of image for dpt_pseudotime were all deep blue, which indicated close to zero. And. adata.obs['dpt_pseudotime']. also print number(0.07, 0.06, etc) that close to zero. Therefore, I do not know if there is something wrong with my previous code, or there is something wrong with scanpy. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Your code here. ```. import numpy as np. import pandas as pd. import matplotlib.pyplot as pl. from matplotlib import rcParams. import scanpy as sc. sc.settings.verbosity = 3. sc.logging.print_versions(). adata = sc.read_h5ad(""/home/dell/at scanpy/pbmc3k.h5ad""). adata. adata.X=adata.X.astype('float64'). sc.tl.pca(adata, svd_solver='arpack'). sc.pp.neighbors(adata, n_neighbors=4, n_pcs=20). sc.tl.draw_graph(adata). adata.obs['seurat_clusters']= adata.obs['seurat_clusters'].astype('category'). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='right margin',title = """"). sc.tl.diffmap(adata). sc.pp.neighbors(adata, n_neighbors=10, use_rep='X_diffmap'). sc.tl.draw_graph(adata). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='on data',title = """"). sc.tl.paga(adata, groups='seurat_clusters'). sc.pl.paga(adata, color=['seurat_clusters'],title = """"). new_cluster_names = [. '",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2015
https://github.com/scverse/scanpy/issues/2015:695,usability,close,close,695,"The results of sc.tl.dpt is too bad; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I do not know if it is the scanpy to be blamed. But two of my data both face this problem. When I run trajectory analysis upon. sc.tl.dpt(adata). sc.pl.draw_graph(adata, color=['seurat_clusters', 'dpt_pseudotime'], legend_loc='right margin',title = ['','pseudotime']). branches of image for dpt_pseudotime were all deep blue, which indicated close to zero. And. adata.obs['dpt_pseudotime']. also print number(0.07, 0.06, etc) that close to zero. Therefore, I do not know if there is something wrong with my previous code, or there is something wrong with scanpy. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Your code here. ```. import numpy as np. import pandas as pd. import matplotlib.pyplot as pl. from matplotlib import rcParams. import scanpy as sc. sc.settings.verbosity = 3. sc.logging.print_versions(). adata = sc.read_h5ad(""/home/dell/at scanpy/pbmc3k.h5ad""). adata. adata.X=adata.X.astype('float64'). sc.tl.pca(adata, svd_solver='arpack'). sc.pp.neighbors(adata, n_neighbors=4, n_pcs=20). sc.tl.draw_graph(adata). adata.obs['seurat_clusters']= adata.obs['seurat_clusters'].astype('category'). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='right margin',title = """"). sc.tl.diffmap(adata). sc.pp.neighbors(adata, n_neighbors=10, use_rep='X_diffmap'). sc.tl.draw_graph(adata). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='on data',title = """"). sc.tl.paga(adata, groups='seurat_clusters'). sc.pl.paga(adata, color=['seurat_clusters'],title = """"). new_cluster_names = [. '",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2015
https://github.com/scverse/scanpy/issues/2015:855,usability,guid,guide,855,"The results of sc.tl.dpt is too bad; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I do not know if it is the scanpy to be blamed. But two of my data both face this problem. When I run trajectory analysis upon. sc.tl.dpt(adata). sc.pl.draw_graph(adata, color=['seurat_clusters', 'dpt_pseudotime'], legend_loc='right margin',title = ['','pseudotime']). branches of image for dpt_pseudotime were all deep blue, which indicated close to zero. And. adata.obs['dpt_pseudotime']. also print number(0.07, 0.06, etc) that close to zero. Therefore, I do not know if there is something wrong with my previous code, or there is something wrong with scanpy. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Your code here. ```. import numpy as np. import pandas as pd. import matplotlib.pyplot as pl. from matplotlib import rcParams. import scanpy as sc. sc.settings.verbosity = 3. sc.logging.print_versions(). adata = sc.read_h5ad(""/home/dell/at scanpy/pbmc3k.h5ad""). adata. adata.X=adata.X.astype('float64'). sc.tl.pca(adata, svd_solver='arpack'). sc.pp.neighbors(adata, n_neighbors=4, n_pcs=20). sc.tl.draw_graph(adata). adata.obs['seurat_clusters']= adata.obs['seurat_clusters'].astype('category'). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='right margin',title = """"). sc.tl.diffmap(adata). sc.pp.neighbors(adata, n_neighbors=10, use_rep='X_diffmap'). sc.tl.draw_graph(adata). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='on data',title = """"). sc.tl.paga(adata, groups='seurat_clusters'). sc.pl.paga(adata, color=['seurat_clusters'],title = """"). new_cluster_names = [. '",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2015
https://github.com/scverse/scanpy/issues/2015:910,usability,minim,minimal-bug-reports,910,"The results of sc.tl.dpt is too bad; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I do not know if it is the scanpy to be blamed. But two of my data both face this problem. When I run trajectory analysis upon. sc.tl.dpt(adata). sc.pl.draw_graph(adata, color=['seurat_clusters', 'dpt_pseudotime'], legend_loc='right margin',title = ['','pseudotime']). branches of image for dpt_pseudotime were all deep blue, which indicated close to zero. And. adata.obs['dpt_pseudotime']. also print number(0.07, 0.06, etc) that close to zero. Therefore, I do not know if there is something wrong with my previous code, or there is something wrong with scanpy. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Your code here. ```. import numpy as np. import pandas as pd. import matplotlib.pyplot as pl. from matplotlib import rcParams. import scanpy as sc. sc.settings.verbosity = 3. sc.logging.print_versions(). adata = sc.read_h5ad(""/home/dell/at scanpy/pbmc3k.h5ad""). adata. adata.X=adata.X.astype('float64'). sc.tl.pca(adata, svd_solver='arpack'). sc.pp.neighbors(adata, n_neighbors=4, n_pcs=20). sc.tl.draw_graph(adata). adata.obs['seurat_clusters']= adata.obs['seurat_clusters'].astype('category'). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='right margin',title = """"). sc.tl.diffmap(adata). sc.pp.neighbors(adata, n_neighbors=10, use_rep='X_diffmap'). sc.tl.draw_graph(adata). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='on data',title = """"). sc.tl.paga(adata, groups='seurat_clusters'). sc.pl.paga(adata, color=['seurat_clusters'],title = """"). new_cluster_names = [. '",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2015
https://github.com/scverse/scanpy/issues/2015:1016,usability,Minim,Minimal,1016,".dpt is too bad; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I do not know if it is the scanpy to be blamed. But two of my data both face this problem. When I run trajectory analysis upon. sc.tl.dpt(adata). sc.pl.draw_graph(adata, color=['seurat_clusters', 'dpt_pseudotime'], legend_loc='right margin',title = ['','pseudotime']). branches of image for dpt_pseudotime were all deep blue, which indicated close to zero. And. adata.obs['dpt_pseudotime']. also print number(0.07, 0.06, etc) that close to zero. Therefore, I do not know if there is something wrong with my previous code, or there is something wrong with scanpy. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Your code here. ```. import numpy as np. import pandas as pd. import matplotlib.pyplot as pl. from matplotlib import rcParams. import scanpy as sc. sc.settings.verbosity = 3. sc.logging.print_versions(). adata = sc.read_h5ad(""/home/dell/at scanpy/pbmc3k.h5ad""). adata. adata.X=adata.X.astype('float64'). sc.tl.pca(adata, svd_solver='arpack'). sc.pp.neighbors(adata, n_neighbors=4, n_pcs=20). sc.tl.draw_graph(adata). adata.obs['seurat_clusters']= adata.obs['seurat_clusters'].astype('category'). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='right margin',title = """"). sc.tl.diffmap(adata). sc.pp.neighbors(adata, n_neighbors=10, use_rep='X_diffmap'). sc.tl.draw_graph(adata). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='on data',title = """"). sc.tl.paga(adata, groups='seurat_clusters'). sc.pl.paga(adata, color=['seurat_clusters'],title = """"). new_cluster_names = [. 'A', 'B',. 'C', 'D',.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2015
https://github.com/scverse/scanpy/issues/2015:2641,usability,error,error,2641,"rovide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Your code here. ```. import numpy as np. import pandas as pd. import matplotlib.pyplot as pl. from matplotlib import rcParams. import scanpy as sc. sc.settings.verbosity = 3. sc.logging.print_versions(). adata = sc.read_h5ad(""/home/dell/at scanpy/pbmc3k.h5ad""). adata. adata.X=adata.X.astype('float64'). sc.tl.pca(adata, svd_solver='arpack'). sc.pp.neighbors(adata, n_neighbors=4, n_pcs=20). sc.tl.draw_graph(adata). adata.obs['seurat_clusters']= adata.obs['seurat_clusters'].astype('category'). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='right margin',title = """"). sc.tl.diffmap(adata). sc.pp.neighbors(adata, n_neighbors=10, use_rep='X_diffmap'). sc.tl.draw_graph(adata). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='on data',title = """"). sc.tl.paga(adata, groups='seurat_clusters'). sc.pl.paga(adata, color=['seurat_clusters'],title = """"). new_cluster_names = [. 'A', 'B',. 'C', 'D',. 'E', 'F',. G', 'H',. 'I', 'J',. 'K', 'L']. adata.obs['seurat_clusters'] = adata.obs['seurat_clusters'].cat.rename_categories(new_cluster_names). sc.tl.paga(adata, groups='seurat_clusters'). sc.pl.paga(adata, threshold=0.03). sc.tl.draw_graph(adata, init_pos='paga'). sc.pl.draw_graph(adata, color=['seurat_clusters'], legend_loc='right margin'). adata.uns['iroot'] = np.flatnonzero(adata.obs['seurat_clusters'] == 'C')[0]. sc.tl.dpt(adata). adata.obs['dpt_pseudotime']. adata. sc.pl.draw_graph(adata, color=['seurat_clusters', 'dpt_pseudotime'], legend_loc='right margin',title = ['','pseudotime']). ```pytb. [Paste the error output produced by the above code here]. ```. ![1634300003(1)](https://user-images.githubusercontent.com/92583306/137486504-8a01bfc7-cbdf-409f-a730-dfec94f8c4f7.png). #### Versions. <details>. [Paste the output of scanpy.logging.print_versions() leaving a blank line after the details tag]. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2015
https://github.com/scverse/scanpy/issues/2015:2718,usability,user,user-images,2718,"rovide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Your code here. ```. import numpy as np. import pandas as pd. import matplotlib.pyplot as pl. from matplotlib import rcParams. import scanpy as sc. sc.settings.verbosity = 3. sc.logging.print_versions(). adata = sc.read_h5ad(""/home/dell/at scanpy/pbmc3k.h5ad""). adata. adata.X=adata.X.astype('float64'). sc.tl.pca(adata, svd_solver='arpack'). sc.pp.neighbors(adata, n_neighbors=4, n_pcs=20). sc.tl.draw_graph(adata). adata.obs['seurat_clusters']= adata.obs['seurat_clusters'].astype('category'). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='right margin',title = """"). sc.tl.diffmap(adata). sc.pp.neighbors(adata, n_neighbors=10, use_rep='X_diffmap'). sc.tl.draw_graph(adata). sc.pl.draw_graph(adata, color='seurat_clusters', legend_loc='on data',title = """"). sc.tl.paga(adata, groups='seurat_clusters'). sc.pl.paga(adata, color=['seurat_clusters'],title = """"). new_cluster_names = [. 'A', 'B',. 'C', 'D',. 'E', 'F',. G', 'H',. 'I', 'J',. 'K', 'L']. adata.obs['seurat_clusters'] = adata.obs['seurat_clusters'].cat.rename_categories(new_cluster_names). sc.tl.paga(adata, groups='seurat_clusters'). sc.pl.paga(adata, threshold=0.03). sc.tl.draw_graph(adata, init_pos='paga'). sc.pl.draw_graph(adata, color=['seurat_clusters'], legend_loc='right margin'). adata.uns['iroot'] = np.flatnonzero(adata.obs['seurat_clusters'] == 'C')[0]. sc.tl.dpt(adata). adata.obs['dpt_pseudotime']. adata. sc.pl.draw_graph(adata, color=['seurat_clusters', 'dpt_pseudotime'], legend_loc='right margin',title = ['','pseudotime']). ```pytb. [Paste the error output produced by the above code here]. ```. ![1634300003(1)](https://user-images.githubusercontent.com/92583306/137486504-8a01bfc7-cbdf-409f-a730-dfec94f8c4f7.png). #### Versions. <details>. [Paste the output of scanpy.logging.print_versions() leaving a blank line after the details tag]. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2015
https://github.com/scverse/scanpy/issues/2016:0,availability,Cluster,Cluster,0,"Cluster No. ordering; Currently, it seems that Scanpy is ordering clusters based on cluster size, which isn't informative to a biologist. Is it possible to order clusters based on PAGA or other types of relatedness so that Cluster 0 and Cluster 1 at least belong to the same or adjacent lineages? I know ArchR package already achieves that. Thanks!",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2016
https://github.com/scverse/scanpy/issues/2016:66,availability,cluster,clusters,66,"Cluster No. ordering; Currently, it seems that Scanpy is ordering clusters based on cluster size, which isn't informative to a biologist. Is it possible to order clusters based on PAGA or other types of relatedness so that Cluster 0 and Cluster 1 at least belong to the same or adjacent lineages? I know ArchR package already achieves that. Thanks!",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2016
https://github.com/scverse/scanpy/issues/2016:84,availability,cluster,cluster,84,"Cluster No. ordering; Currently, it seems that Scanpy is ordering clusters based on cluster size, which isn't informative to a biologist. Is it possible to order clusters based on PAGA or other types of relatedness so that Cluster 0 and Cluster 1 at least belong to the same or adjacent lineages? I know ArchR package already achieves that. Thanks!",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2016
https://github.com/scverse/scanpy/issues/2016:162,availability,cluster,clusters,162,"Cluster No. ordering; Currently, it seems that Scanpy is ordering clusters based on cluster size, which isn't informative to a biologist. Is it possible to order clusters based on PAGA or other types of relatedness so that Cluster 0 and Cluster 1 at least belong to the same or adjacent lineages? I know ArchR package already achieves that. Thanks!",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2016
https://github.com/scverse/scanpy/issues/2016:223,availability,Cluster,Cluster,223,"Cluster No. ordering; Currently, it seems that Scanpy is ordering clusters based on cluster size, which isn't informative to a biologist. Is it possible to order clusters based on PAGA or other types of relatedness so that Cluster 0 and Cluster 1 at least belong to the same or adjacent lineages? I know ArchR package already achieves that. Thanks!",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2016
https://github.com/scverse/scanpy/issues/2016:237,availability,Cluster,Cluster,237,"Cluster No. ordering; Currently, it seems that Scanpy is ordering clusters based on cluster size, which isn't informative to a biologist. Is it possible to order clusters based on PAGA or other types of relatedness so that Cluster 0 and Cluster 1 at least belong to the same or adjacent lineages? I know ArchR package already achieves that. Thanks!",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2016
https://github.com/scverse/scanpy/issues/2016:0,deployability,Cluster,Cluster,0,"Cluster No. ordering; Currently, it seems that Scanpy is ordering clusters based on cluster size, which isn't informative to a biologist. Is it possible to order clusters based on PAGA or other types of relatedness so that Cluster 0 and Cluster 1 at least belong to the same or adjacent lineages? I know ArchR package already achieves that. Thanks!",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2016
https://github.com/scverse/scanpy/issues/2016:66,deployability,cluster,clusters,66,"Cluster No. ordering; Currently, it seems that Scanpy is ordering clusters based on cluster size, which isn't informative to a biologist. Is it possible to order clusters based on PAGA or other types of relatedness so that Cluster 0 and Cluster 1 at least belong to the same or adjacent lineages? I know ArchR package already achieves that. Thanks!",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2016
https://github.com/scverse/scanpy/issues/2016:84,deployability,cluster,cluster,84,"Cluster No. ordering; Currently, it seems that Scanpy is ordering clusters based on cluster size, which isn't informative to a biologist. Is it possible to order clusters based on PAGA or other types of relatedness so that Cluster 0 and Cluster 1 at least belong to the same or adjacent lineages? I know ArchR package already achieves that. Thanks!",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2016
https://github.com/scverse/scanpy/issues/2016:162,deployability,cluster,clusters,162,"Cluster No. ordering; Currently, it seems that Scanpy is ordering clusters based on cluster size, which isn't informative to a biologist. Is it possible to order clusters based on PAGA or other types of relatedness so that Cluster 0 and Cluster 1 at least belong to the same or adjacent lineages? I know ArchR package already achieves that. Thanks!",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2016
https://github.com/scverse/scanpy/issues/2016:223,deployability,Cluster,Cluster,223,"Cluster No. ordering; Currently, it seems that Scanpy is ordering clusters based on cluster size, which isn't informative to a biologist. Is it possible to order clusters based on PAGA or other types of relatedness so that Cluster 0 and Cluster 1 at least belong to the same or adjacent lineages? I know ArchR package already achieves that. Thanks!",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2016
https://github.com/scverse/scanpy/issues/2016:237,deployability,Cluster,Cluster,237,"Cluster No. ordering; Currently, it seems that Scanpy is ordering clusters based on cluster size, which isn't informative to a biologist. Is it possible to order clusters based on PAGA or other types of relatedness so that Cluster 0 and Cluster 1 at least belong to the same or adjacent lineages? I know ArchR package already achieves that. Thanks!",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2016
https://github.com/scverse/scanpy/issues/2016:22,energy efficiency,Current,Currently,22,"Cluster No. ordering; Currently, it seems that Scanpy is ordering clusters based on cluster size, which isn't informative to a biologist. Is it possible to order clusters based on PAGA or other types of relatedness so that Cluster 0 and Cluster 1 at least belong to the same or adjacent lineages? I know ArchR package already achieves that. Thanks!",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2016
https://github.com/scverse/scanpy/issues/2016:310,modifiability,pac,package,310,"Cluster No. ordering; Currently, it seems that Scanpy is ordering clusters based on cluster size, which isn't informative to a biologist. Is it possible to order clusters based on PAGA or other types of relatedness so that Cluster 0 and Cluster 1 at least belong to the same or adjacent lineages? I know ArchR package already achieves that. Thanks!",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2016
https://github.com/scverse/scanpy/issues/2016:287,security,lineag,lineages,287,"Cluster No. ordering; Currently, it seems that Scanpy is ordering clusters based on cluster size, which isn't informative to a biologist. Is it possible to order clusters based on PAGA or other types of relatedness so that Cluster 0 and Cluster 1 at least belong to the same or adjacent lineages? I know ArchR package already achieves that. Thanks!",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2016
https://github.com/scverse/scanpy/issues/2017:178,deployability,version,version,178,"Order of cell plotting differs in UMAP and scatterplot; - [ x] I have checked that this issue has not already been reported. - [ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Scanpy version:1.8.1. May be related to: https://github.com/theislab/scanpy/issues/1263. ---. In some scatterplot-based plots it is possible to set custom cell order (e.g. UMAP), while it others it is not possible (e.g. scatterplot). Solution: preserve cell order in scatterplot when possible. Reproduce:. Want the class 2 not to be on class 1 - works on UMAp but not on scatterplot. ```. import scanpy as sc. import pandas as pd. import numpy as np. x=np.random.normal(size=200). y=np.random.normal(size=200). adata=sc.AnnData(obs=pd.DataFrame({'color':['1']*100+['2']*100,'x':x,'y':y})). adata.obsm['X_umap']=np.array([x,y]).T. ```. Scatterplot, default order. ```. sc.pl.scatter(adata, x='x', y='y', color='color') . ```. ![image](https://user-images.githubusercontent.com/47607471/138505855-ca7d2013-e11e-47f7-8671-5ebd96c49269.png). Scatterplot, try to set random order, not working. ```. np.random.seed(0). random_indices=np.random.permutation(list(range(adata.shape[0]))). sc.pl.scatter(adata[random_indices,:], x='x', y='y', color='color') . ```. ![image](https://user-images.githubusercontent.com/47607471/138506009-7b53deee-7fb2-4702-9ed7-6e23c78f6487.png). UMAP, default order. ```. sc.pl.umap(adata, color='color') . ```. ![image](https://user-images.githubusercontent.com/47607471/138506068-6f3d4e8a-698c-43ca-814d-e3df95aca36b.png). UMAP, try to set random order, works. ```. np.random.seed(0). random_indices=np.random.permutation(list(range(adata.shape[0]))). sc.pl.umap(adata[random_indices,:], color='color') . ```. ![image](https://user-images.githubusercontent.com/47607471/138506110-def908e1-d02f-43d3-aef2-143977cf48c1.png).",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2017
https://github.com/scverse/scanpy/issues/2017:286,deployability,version,version,286,"Order of cell plotting differs in UMAP and scatterplot; - [ x] I have checked that this issue has not already been reported. - [ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Scanpy version:1.8.1. May be related to: https://github.com/theislab/scanpy/issues/1263. ---. In some scatterplot-based plots it is possible to set custom cell order (e.g. UMAP), while it others it is not possible (e.g. scatterplot). Solution: preserve cell order in scatterplot when possible. Reproduce:. Want the class 2 not to be on class 1 - works on UMAp but not on scatterplot. ```. import scanpy as sc. import pandas as pd. import numpy as np. x=np.random.normal(size=200). y=np.random.normal(size=200). adata=sc.AnnData(obs=pd.DataFrame({'color':['1']*100+['2']*100,'x':x,'y':y})). adata.obsm['X_umap']=np.array([x,y]).T. ```. Scatterplot, default order. ```. sc.pl.scatter(adata, x='x', y='y', color='color') . ```. ![image](https://user-images.githubusercontent.com/47607471/138505855-ca7d2013-e11e-47f7-8671-5ebd96c49269.png). Scatterplot, try to set random order, not working. ```. np.random.seed(0). random_indices=np.random.permutation(list(range(adata.shape[0]))). sc.pl.scatter(adata[random_indices,:], x='x', y='y', color='color') . ```. ![image](https://user-images.githubusercontent.com/47607471/138506009-7b53deee-7fb2-4702-9ed7-6e23c78f6487.png). UMAP, default order. ```. sc.pl.umap(adata, color='color') . ```. ![image](https://user-images.githubusercontent.com/47607471/138506068-6f3d4e8a-698c-43ca-814d-e3df95aca36b.png). UMAP, try to set random order, works. ```. np.random.seed(0). random_indices=np.random.permutation(list(range(adata.shape[0]))). sc.pl.umap(adata[random_indices,:], color='color') . ```. ![image](https://user-images.githubusercontent.com/47607471/138506110-def908e1-d02f-43d3-aef2-143977cf48c1.png).",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2017
https://github.com/scverse/scanpy/issues/2017:178,integrability,version,version,178,"Order of cell plotting differs in UMAP and scatterplot; - [ x] I have checked that this issue has not already been reported. - [ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Scanpy version:1.8.1. May be related to: https://github.com/theislab/scanpy/issues/1263. ---. In some scatterplot-based plots it is possible to set custom cell order (e.g. UMAP), while it others it is not possible (e.g. scatterplot). Solution: preserve cell order in scatterplot when possible. Reproduce:. Want the class 2 not to be on class 1 - works on UMAp but not on scatterplot. ```. import scanpy as sc. import pandas as pd. import numpy as np. x=np.random.normal(size=200). y=np.random.normal(size=200). adata=sc.AnnData(obs=pd.DataFrame({'color':['1']*100+['2']*100,'x':x,'y':y})). adata.obsm['X_umap']=np.array([x,y]).T. ```. Scatterplot, default order. ```. sc.pl.scatter(adata, x='x', y='y', color='color') . ```. ![image](https://user-images.githubusercontent.com/47607471/138505855-ca7d2013-e11e-47f7-8671-5ebd96c49269.png). Scatterplot, try to set random order, not working. ```. np.random.seed(0). random_indices=np.random.permutation(list(range(adata.shape[0]))). sc.pl.scatter(adata[random_indices,:], x='x', y='y', color='color') . ```. ![image](https://user-images.githubusercontent.com/47607471/138506009-7b53deee-7fb2-4702-9ed7-6e23c78f6487.png). UMAP, default order. ```. sc.pl.umap(adata, color='color') . ```. ![image](https://user-images.githubusercontent.com/47607471/138506068-6f3d4e8a-698c-43ca-814d-e3df95aca36b.png). UMAP, try to set random order, works. ```. np.random.seed(0). random_indices=np.random.permutation(list(range(adata.shape[0]))). sc.pl.umap(adata[random_indices,:], color='color') . ```. ![image](https://user-images.githubusercontent.com/47607471/138506110-def908e1-d02f-43d3-aef2-143977cf48c1.png).",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2017
https://github.com/scverse/scanpy/issues/2017:286,integrability,version,version,286,"Order of cell plotting differs in UMAP and scatterplot; - [ x] I have checked that this issue has not already been reported. - [ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Scanpy version:1.8.1. May be related to: https://github.com/theislab/scanpy/issues/1263. ---. In some scatterplot-based plots it is possible to set custom cell order (e.g. UMAP), while it others it is not possible (e.g. scatterplot). Solution: preserve cell order in scatterplot when possible. Reproduce:. Want the class 2 not to be on class 1 - works on UMAp but not on scatterplot. ```. import scanpy as sc. import pandas as pd. import numpy as np. x=np.random.normal(size=200). y=np.random.normal(size=200). adata=sc.AnnData(obs=pd.DataFrame({'color':['1']*100+['2']*100,'x':x,'y':y})). adata.obsm['X_umap']=np.array([x,y]).T. ```. Scatterplot, default order. ```. sc.pl.scatter(adata, x='x', y='y', color='color') . ```. ![image](https://user-images.githubusercontent.com/47607471/138505855-ca7d2013-e11e-47f7-8671-5ebd96c49269.png). Scatterplot, try to set random order, not working. ```. np.random.seed(0). random_indices=np.random.permutation(list(range(adata.shape[0]))). sc.pl.scatter(adata[random_indices,:], x='x', y='y', color='color') . ```. ![image](https://user-images.githubusercontent.com/47607471/138506009-7b53deee-7fb2-4702-9ed7-6e23c78f6487.png). UMAP, default order. ```. sc.pl.umap(adata, color='color') . ```. ![image](https://user-images.githubusercontent.com/47607471/138506068-6f3d4e8a-698c-43ca-814d-e3df95aca36b.png). UMAP, try to set random order, works. ```. np.random.seed(0). random_indices=np.random.permutation(list(range(adata.shape[0]))). sc.pl.umap(adata[random_indices,:], color='color') . ```. ![image](https://user-images.githubusercontent.com/47607471/138506110-def908e1-d02f-43d3-aef2-143977cf48c1.png).",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2017
https://github.com/scverse/scanpy/issues/2017:178,modifiability,version,version,178,"Order of cell plotting differs in UMAP and scatterplot; - [ x] I have checked that this issue has not already been reported. - [ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Scanpy version:1.8.1. May be related to: https://github.com/theislab/scanpy/issues/1263. ---. In some scatterplot-based plots it is possible to set custom cell order (e.g. UMAP), while it others it is not possible (e.g. scatterplot). Solution: preserve cell order in scatterplot when possible. Reproduce:. Want the class 2 not to be on class 1 - works on UMAp but not on scatterplot. ```. import scanpy as sc. import pandas as pd. import numpy as np. x=np.random.normal(size=200). y=np.random.normal(size=200). adata=sc.AnnData(obs=pd.DataFrame({'color':['1']*100+['2']*100,'x':x,'y':y})). adata.obsm['X_umap']=np.array([x,y]).T. ```. Scatterplot, default order. ```. sc.pl.scatter(adata, x='x', y='y', color='color') . ```. ![image](https://user-images.githubusercontent.com/47607471/138505855-ca7d2013-e11e-47f7-8671-5ebd96c49269.png). Scatterplot, try to set random order, not working. ```. np.random.seed(0). random_indices=np.random.permutation(list(range(adata.shape[0]))). sc.pl.scatter(adata[random_indices,:], x='x', y='y', color='color') . ```. ![image](https://user-images.githubusercontent.com/47607471/138506009-7b53deee-7fb2-4702-9ed7-6e23c78f6487.png). UMAP, default order. ```. sc.pl.umap(adata, color='color') . ```. ![image](https://user-images.githubusercontent.com/47607471/138506068-6f3d4e8a-698c-43ca-814d-e3df95aca36b.png). UMAP, try to set random order, works. ```. np.random.seed(0). random_indices=np.random.permutation(list(range(adata.shape[0]))). sc.pl.umap(adata[random_indices,:], color='color') . ```. ![image](https://user-images.githubusercontent.com/47607471/138506110-def908e1-d02f-43d3-aef2-143977cf48c1.png).",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2017
https://github.com/scverse/scanpy/issues/2017:286,modifiability,version,version,286,"Order of cell plotting differs in UMAP and scatterplot; - [ x] I have checked that this issue has not already been reported. - [ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Scanpy version:1.8.1. May be related to: https://github.com/theislab/scanpy/issues/1263. ---. In some scatterplot-based plots it is possible to set custom cell order (e.g. UMAP), while it others it is not possible (e.g. scatterplot). Solution: preserve cell order in scatterplot when possible. Reproduce:. Want the class 2 not to be on class 1 - works on UMAp but not on scatterplot. ```. import scanpy as sc. import pandas as pd. import numpy as np. x=np.random.normal(size=200). y=np.random.normal(size=200). adata=sc.AnnData(obs=pd.DataFrame({'color':['1']*100+['2']*100,'x':x,'y':y})). adata.obsm['X_umap']=np.array([x,y]).T. ```. Scatterplot, default order. ```. sc.pl.scatter(adata, x='x', y='y', color='color') . ```. ![image](https://user-images.githubusercontent.com/47607471/138505855-ca7d2013-e11e-47f7-8671-5ebd96c49269.png). Scatterplot, try to set random order, not working. ```. np.random.seed(0). random_indices=np.random.permutation(list(range(adata.shape[0]))). sc.pl.scatter(adata[random_indices,:], x='x', y='y', color='color') . ```. ![image](https://user-images.githubusercontent.com/47607471/138506009-7b53deee-7fb2-4702-9ed7-6e23c78f6487.png). UMAP, default order. ```. sc.pl.umap(adata, color='color') . ```. ![image](https://user-images.githubusercontent.com/47607471/138506068-6f3d4e8a-698c-43ca-814d-e3df95aca36b.png). UMAP, try to set random order, works. ```. np.random.seed(0). random_indices=np.random.permutation(list(range(adata.shape[0]))). sc.pl.umap(adata[random_indices,:], color='color') . ```. ![image](https://user-images.githubusercontent.com/47607471/138506110-def908e1-d02f-43d3-aef2-143977cf48c1.png).",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2017
https://github.com/scverse/scanpy/issues/2017:138,usability,confirm,confirmed,138,"Order of cell plotting differs in UMAP and scatterplot; - [ x] I have checked that this issue has not already been reported. - [ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Scanpy version:1.8.1. May be related to: https://github.com/theislab/scanpy/issues/1263. ---. In some scatterplot-based plots it is possible to set custom cell order (e.g. UMAP), while it others it is not possible (e.g. scatterplot). Solution: preserve cell order in scatterplot when possible. Reproduce:. Want the class 2 not to be on class 1 - works on UMAp but not on scatterplot. ```. import scanpy as sc. import pandas as pd. import numpy as np. x=np.random.normal(size=200). y=np.random.normal(size=200). adata=sc.AnnData(obs=pd.DataFrame({'color':['1']*100+['2']*100,'x':x,'y':y})). adata.obsm['X_umap']=np.array([x,y]).T. ```. Scatterplot, default order. ```. sc.pl.scatter(adata, x='x', y='y', color='color') . ```. ![image](https://user-images.githubusercontent.com/47607471/138505855-ca7d2013-e11e-47f7-8671-5ebd96c49269.png). Scatterplot, try to set random order, not working. ```. np.random.seed(0). random_indices=np.random.permutation(list(range(adata.shape[0]))). sc.pl.scatter(adata[random_indices,:], x='x', y='y', color='color') . ```. ![image](https://user-images.githubusercontent.com/47607471/138506009-7b53deee-7fb2-4702-9ed7-6e23c78f6487.png). UMAP, default order. ```. sc.pl.umap(adata, color='color') . ```. ![image](https://user-images.githubusercontent.com/47607471/138506068-6f3d4e8a-698c-43ca-814d-e3df95aca36b.png). UMAP, try to set random order, works. ```. np.random.seed(0). random_indices=np.random.permutation(list(range(adata.shape[0]))). sc.pl.umap(adata[random_indices,:], color='color') . ```. ![image](https://user-images.githubusercontent.com/47607471/138506110-def908e1-d02f-43d3-aef2-143977cf48c1.png).",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2017
https://github.com/scverse/scanpy/issues/2017:221,usability,confirm,confirmed,221,"Order of cell plotting differs in UMAP and scatterplot; - [ x] I have checked that this issue has not already been reported. - [ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Scanpy version:1.8.1. May be related to: https://github.com/theislab/scanpy/issues/1263. ---. In some scatterplot-based plots it is possible to set custom cell order (e.g. UMAP), while it others it is not possible (e.g. scatterplot). Solution: preserve cell order in scatterplot when possible. Reproduce:. Want the class 2 not to be on class 1 - works on UMAp but not on scatterplot. ```. import scanpy as sc. import pandas as pd. import numpy as np. x=np.random.normal(size=200). y=np.random.normal(size=200). adata=sc.AnnData(obs=pd.DataFrame({'color':['1']*100+['2']*100,'x':x,'y':y})). adata.obsm['X_umap']=np.array([x,y]).T. ```. Scatterplot, default order. ```. sc.pl.scatter(adata, x='x', y='y', color='color') . ```. ![image](https://user-images.githubusercontent.com/47607471/138505855-ca7d2013-e11e-47f7-8671-5ebd96c49269.png). Scatterplot, try to set random order, not working. ```. np.random.seed(0). random_indices=np.random.permutation(list(range(adata.shape[0]))). sc.pl.scatter(adata[random_indices,:], x='x', y='y', color='color') . ```. ![image](https://user-images.githubusercontent.com/47607471/138506009-7b53deee-7fb2-4702-9ed7-6e23c78f6487.png). UMAP, default order. ```. sc.pl.umap(adata, color='color') . ```. ![image](https://user-images.githubusercontent.com/47607471/138506068-6f3d4e8a-698c-43ca-814d-e3df95aca36b.png). UMAP, try to set random order, works. ```. np.random.seed(0). random_indices=np.random.permutation(list(range(adata.shape[0]))). sc.pl.umap(adata[random_indices,:], color='color') . ```. ![image](https://user-images.githubusercontent.com/47607471/138506110-def908e1-d02f-43d3-aef2-143977cf48c1.png).",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2017
https://github.com/scverse/scanpy/issues/2017:427,usability,custom,custom,427,"Order of cell plotting differs in UMAP and scatterplot; - [ x] I have checked that this issue has not already been reported. - [ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Scanpy version:1.8.1. May be related to: https://github.com/theislab/scanpy/issues/1263. ---. In some scatterplot-based plots it is possible to set custom cell order (e.g. UMAP), while it others it is not possible (e.g. scatterplot). Solution: preserve cell order in scatterplot when possible. Reproduce:. Want the class 2 not to be on class 1 - works on UMAp but not on scatterplot. ```. import scanpy as sc. import pandas as pd. import numpy as np. x=np.random.normal(size=200). y=np.random.normal(size=200). adata=sc.AnnData(obs=pd.DataFrame({'color':['1']*100+['2']*100,'x':x,'y':y})). adata.obsm['X_umap']=np.array([x,y]).T. ```. Scatterplot, default order. ```. sc.pl.scatter(adata, x='x', y='y', color='color') . ```. ![image](https://user-images.githubusercontent.com/47607471/138505855-ca7d2013-e11e-47f7-8671-5ebd96c49269.png). Scatterplot, try to set random order, not working. ```. np.random.seed(0). random_indices=np.random.permutation(list(range(adata.shape[0]))). sc.pl.scatter(adata[random_indices,:], x='x', y='y', color='color') . ```. ![image](https://user-images.githubusercontent.com/47607471/138506009-7b53deee-7fb2-4702-9ed7-6e23c78f6487.png). UMAP, default order. ```. sc.pl.umap(adata, color='color') . ```. ![image](https://user-images.githubusercontent.com/47607471/138506068-6f3d4e8a-698c-43ca-814d-e3df95aca36b.png). UMAP, try to set random order, works. ```. np.random.seed(0). random_indices=np.random.permutation(list(range(adata.shape[0]))). sc.pl.umap(adata[random_indices,:], color='color') . ```. ![image](https://user-images.githubusercontent.com/47607471/138506110-def908e1-d02f-43d3-aef2-143977cf48c1.png).",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2017
https://github.com/scverse/scanpy/issues/2017:1021,usability,user,user-images,1021,"Order of cell plotting differs in UMAP and scatterplot; - [ x] I have checked that this issue has not already been reported. - [ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Scanpy version:1.8.1. May be related to: https://github.com/theislab/scanpy/issues/1263. ---. In some scatterplot-based plots it is possible to set custom cell order (e.g. UMAP), while it others it is not possible (e.g. scatterplot). Solution: preserve cell order in scatterplot when possible. Reproduce:. Want the class 2 not to be on class 1 - works on UMAp but not on scatterplot. ```. import scanpy as sc. import pandas as pd. import numpy as np. x=np.random.normal(size=200). y=np.random.normal(size=200). adata=sc.AnnData(obs=pd.DataFrame({'color':['1']*100+['2']*100,'x':x,'y':y})). adata.obsm['X_umap']=np.array([x,y]).T. ```. Scatterplot, default order. ```. sc.pl.scatter(adata, x='x', y='y', color='color') . ```. ![image](https://user-images.githubusercontent.com/47607471/138505855-ca7d2013-e11e-47f7-8671-5ebd96c49269.png). Scatterplot, try to set random order, not working. ```. np.random.seed(0). random_indices=np.random.permutation(list(range(adata.shape[0]))). sc.pl.scatter(adata[random_indices,:], x='x', y='y', color='color') . ```. ![image](https://user-images.githubusercontent.com/47607471/138506009-7b53deee-7fb2-4702-9ed7-6e23c78f6487.png). UMAP, default order. ```. sc.pl.umap(adata, color='color') . ```. ![image](https://user-images.githubusercontent.com/47607471/138506068-6f3d4e8a-698c-43ca-814d-e3df95aca36b.png). UMAP, try to set random order, works. ```. np.random.seed(0). random_indices=np.random.permutation(list(range(adata.shape[0]))). sc.pl.umap(adata[random_indices,:], color='color') . ```. ![image](https://user-images.githubusercontent.com/47607471/138506110-def908e1-d02f-43d3-aef2-143977cf48c1.png).",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2017
https://github.com/scverse/scanpy/issues/2017:1351,usability,user,user-images,1351,"Order of cell plotting differs in UMAP and scatterplot; - [ x] I have checked that this issue has not already been reported. - [ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Scanpy version:1.8.1. May be related to: https://github.com/theislab/scanpy/issues/1263. ---. In some scatterplot-based plots it is possible to set custom cell order (e.g. UMAP), while it others it is not possible (e.g. scatterplot). Solution: preserve cell order in scatterplot when possible. Reproduce:. Want the class 2 not to be on class 1 - works on UMAp but not on scatterplot. ```. import scanpy as sc. import pandas as pd. import numpy as np. x=np.random.normal(size=200). y=np.random.normal(size=200). adata=sc.AnnData(obs=pd.DataFrame({'color':['1']*100+['2']*100,'x':x,'y':y})). adata.obsm['X_umap']=np.array([x,y]).T. ```. Scatterplot, default order. ```. sc.pl.scatter(adata, x='x', y='y', color='color') . ```. ![image](https://user-images.githubusercontent.com/47607471/138505855-ca7d2013-e11e-47f7-8671-5ebd96c49269.png). Scatterplot, try to set random order, not working. ```. np.random.seed(0). random_indices=np.random.permutation(list(range(adata.shape[0]))). sc.pl.scatter(adata[random_indices,:], x='x', y='y', color='color') . ```. ![image](https://user-images.githubusercontent.com/47607471/138506009-7b53deee-7fb2-4702-9ed7-6e23c78f6487.png). UMAP, default order. ```. sc.pl.umap(adata, color='color') . ```. ![image](https://user-images.githubusercontent.com/47607471/138506068-6f3d4e8a-698c-43ca-814d-e3df95aca36b.png). UMAP, try to set random order, works. ```. np.random.seed(0). random_indices=np.random.permutation(list(range(adata.shape[0]))). sc.pl.umap(adata[random_indices,:], color='color') . ```. ![image](https://user-images.githubusercontent.com/47607471/138506110-def908e1-d02f-43d3-aef2-143977cf48c1.png).",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2017
https://github.com/scverse/scanpy/issues/2017:1530,usability,user,user-images,1530,"Order of cell plotting differs in UMAP and scatterplot; - [ x] I have checked that this issue has not already been reported. - [ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Scanpy version:1.8.1. May be related to: https://github.com/theislab/scanpy/issues/1263. ---. In some scatterplot-based plots it is possible to set custom cell order (e.g. UMAP), while it others it is not possible (e.g. scatterplot). Solution: preserve cell order in scatterplot when possible. Reproduce:. Want the class 2 not to be on class 1 - works on UMAp but not on scatterplot. ```. import scanpy as sc. import pandas as pd. import numpy as np. x=np.random.normal(size=200). y=np.random.normal(size=200). adata=sc.AnnData(obs=pd.DataFrame({'color':['1']*100+['2']*100,'x':x,'y':y})). adata.obsm['X_umap']=np.array([x,y]).T. ```. Scatterplot, default order. ```. sc.pl.scatter(adata, x='x', y='y', color='color') . ```. ![image](https://user-images.githubusercontent.com/47607471/138505855-ca7d2013-e11e-47f7-8671-5ebd96c49269.png). Scatterplot, try to set random order, not working. ```. np.random.seed(0). random_indices=np.random.permutation(list(range(adata.shape[0]))). sc.pl.scatter(adata[random_indices,:], x='x', y='y', color='color') . ```. ![image](https://user-images.githubusercontent.com/47607471/138506009-7b53deee-7fb2-4702-9ed7-6e23c78f6487.png). UMAP, default order. ```. sc.pl.umap(adata, color='color') . ```. ![image](https://user-images.githubusercontent.com/47607471/138506068-6f3d4e8a-698c-43ca-814d-e3df95aca36b.png). UMAP, try to set random order, works. ```. np.random.seed(0). random_indices=np.random.permutation(list(range(adata.shape[0]))). sc.pl.umap(adata[random_indices,:], color='color') . ```. ![image](https://user-images.githubusercontent.com/47607471/138506110-def908e1-d02f-43d3-aef2-143977cf48c1.png).",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2017
https://github.com/scverse/scanpy/issues/2017:1830,usability,user,user-images,1830,"Order of cell plotting differs in UMAP and scatterplot; - [ x] I have checked that this issue has not already been reported. - [ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Scanpy version:1.8.1. May be related to: https://github.com/theislab/scanpy/issues/1263. ---. In some scatterplot-based plots it is possible to set custom cell order (e.g. UMAP), while it others it is not possible (e.g. scatterplot). Solution: preserve cell order in scatterplot when possible. Reproduce:. Want the class 2 not to be on class 1 - works on UMAp but not on scatterplot. ```. import scanpy as sc. import pandas as pd. import numpy as np. x=np.random.normal(size=200). y=np.random.normal(size=200). adata=sc.AnnData(obs=pd.DataFrame({'color':['1']*100+['2']*100,'x':x,'y':y})). adata.obsm['X_umap']=np.array([x,y]).T. ```. Scatterplot, default order. ```. sc.pl.scatter(adata, x='x', y='y', color='color') . ```. ![image](https://user-images.githubusercontent.com/47607471/138505855-ca7d2013-e11e-47f7-8671-5ebd96c49269.png). Scatterplot, try to set random order, not working. ```. np.random.seed(0). random_indices=np.random.permutation(list(range(adata.shape[0]))). sc.pl.scatter(adata[random_indices,:], x='x', y='y', color='color') . ```. ![image](https://user-images.githubusercontent.com/47607471/138506009-7b53deee-7fb2-4702-9ed7-6e23c78f6487.png). UMAP, default order. ```. sc.pl.umap(adata, color='color') . ```. ![image](https://user-images.githubusercontent.com/47607471/138506068-6f3d4e8a-698c-43ca-814d-e3df95aca36b.png). UMAP, try to set random order, works. ```. np.random.seed(0). random_indices=np.random.permutation(list(range(adata.shape[0]))). sc.pl.umap(adata[random_indices,:], color='color') . ```. ![image](https://user-images.githubusercontent.com/47607471/138506110-def908e1-d02f-43d3-aef2-143977cf48c1.png).",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2017
https://github.com/scverse/scanpy/issues/2018:667,availability,toler,tolerance,667,"KeyError when plotting gene expression ; Hello, . Whenever I try to plot gene expression I get the following KeyError, regardless of the gene/plotting function. I have confirmed that all genes I have tried do exist in adata.var_names. Id like to highlight that my adata object was created from h5ad converted from seurat. How can I check the keys? . Thank you! Lucy. ---. ```python. sc.pl.draw_graph(myeloid, color=['SPP1']). ```. ```pytb. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). /software/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 2645 try:. -> 2646 return self._engine.get_loc(key). 2647 except KeyError:. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. During handling of the above exception, another exception occurred:. KeyError Traceback (most recent call last). <ipython-input-94-440b32bde3cc> in <module>(). ----> 1 sc.pl.draw_graph(myeloid, color=['SPP1']). /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in draw_graph(adata, layout, **kwargs). 701 ). 702 . --> 703 return embedding(adata, basis, **kwargs). 704 . 705 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in embedding(adata, basis, color, gene_symbols, use_raw, sort_order, edges, edges_width, edges_color, neighbors_key, arrows, arrows_kwds, groups, components, layer, projection, img_key, crop_coord, alpha_img, bw, library_id, color_map, palette, size, frameon, legend_fontsize, legend_fontweight, legend_loc, legend_fontoutline, vmax, vmin, add_outline, outline_width, outline_color, ncols, hspace, w",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:2353,availability,error,error,2353,"ges/scanpy/plotting/_tools/scatterplots.py in draw_graph(adata, layout, **kwargs). 701 ). 702 . --> 703 return embedding(adata, basis, **kwargs). 704 . 705 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in embedding(adata, basis, color, gene_symbols, use_raw, sort_order, edges, edges_width, edges_color, neighbors_key, arrows, arrows_kwds, groups, components, layer, projection, img_key, crop_coord, alpha_img, bw, library_id, color_map, palette, size, frameon, legend_fontsize, legend_fontweight, legend_loc, legend_fontoutline, vmax, vmin, add_outline, outline_width, outline_color, ncols, hspace, wspace, title, show, save, ax, return_fig, **kwargs). 233 palette=palette,. 234 use_raw=use_raw,. --> 235 gene_symbols=gene_symbols,. 236 ). 237 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in _get_color_values(adata, value_to_plot, groups, palette, use_raw, gene_symbols, layer). 1035 ] # TODO: Throw helpful error if this doesn't work. 1036 if use_raw and value_to_plot not in adata.obs.columns:. -> 1037 values = adata.raw.obs_vector(value_to_plot). 1038 else:. 1039 values = adata.obs_vector(value_to_plot, layer=layer). /software/anaconda3/lib/python3.6/site-packages/anndata/_core/raw.py in obs_vector(self, k). 168 def obs_vector(self, k: str) -> np.ndarray:. 169 # TODO decorator to copy AnnData.obs_vector docstring. --> 170 idx = self._normalize_indices((slice(None), k)). 171 a = self.X[idx]. 172 if issparse(a):. /software/anaconda3/lib/python3.6/site-packages/anndata/_core/raw.py in _normalize_indices(self, packed_index). 159 obs, var = unpack_index(packed_index). 160 obs = _normalize_index(obs, self._adata.obs_names). --> 161 var = _normalize_index(var, self.var_names). 162 return obs, var. 163 . /software/anaconda3/lib/python3.6/site-packages/anndata/_core/index.py in _normalize_index(indexer, index). 72 return indexer. 73 elif isinstance(indexer, str):. ---> 74 return index.get_loc(indexe",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:2808,availability,sli,slice,2808,"w, library_id, color_map, palette, size, frameon, legend_fontsize, legend_fontweight, legend_loc, legend_fontoutline, vmax, vmin, add_outline, outline_width, outline_color, ncols, hspace, wspace, title, show, save, ax, return_fig, **kwargs). 233 palette=palette,. 234 use_raw=use_raw,. --> 235 gene_symbols=gene_symbols,. 236 ). 237 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in _get_color_values(adata, value_to_plot, groups, palette, use_raw, gene_symbols, layer). 1035 ] # TODO: Throw helpful error if this doesn't work. 1036 if use_raw and value_to_plot not in adata.obs.columns:. -> 1037 values = adata.raw.obs_vector(value_to_plot). 1038 else:. 1039 values = adata.obs_vector(value_to_plot, layer=layer). /software/anaconda3/lib/python3.6/site-packages/anndata/_core/raw.py in obs_vector(self, k). 168 def obs_vector(self, k: str) -> np.ndarray:. 169 # TODO decorator to copy AnnData.obs_vector docstring. --> 170 idx = self._normalize_indices((slice(None), k)). 171 a = self.X[idx]. 172 if issparse(a):. /software/anaconda3/lib/python3.6/site-packages/anndata/_core/raw.py in _normalize_indices(self, packed_index). 159 obs, var = unpack_index(packed_index). 160 obs = _normalize_index(obs, self._adata.obs_names). --> 161 var = _normalize_index(var, self.var_names). 162 return obs, var. 163 . /software/anaconda3/lib/python3.6/site-packages/anndata/_core/index.py in _normalize_index(indexer, index). 72 return indexer. 73 elif isinstance(indexer, str):. ---> 74 return index.get_loc(indexer) # int. 75 elif isinstance(indexer, (Sequence, np.ndarray, pd.Index, spmatrix, np.matrix)):. 76 if hasattr(indexer, ""shape"") and (. /software/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 2646 return self._engine.get_loc(key). 2647 except KeyError:. -> 2648 return self._engine.get_loc(self._maybe_cast_indexer(key)). 2649 indexer = self.get_indexer([key], method=method, tolerance=tolerance",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:3596,availability,toler,tolerance,3596,"/site-packages/anndata/_core/raw.py in obs_vector(self, k). 168 def obs_vector(self, k: str) -> np.ndarray:. 169 # TODO decorator to copy AnnData.obs_vector docstring. --> 170 idx = self._normalize_indices((slice(None), k)). 171 a = self.X[idx]. 172 if issparse(a):. /software/anaconda3/lib/python3.6/site-packages/anndata/_core/raw.py in _normalize_indices(self, packed_index). 159 obs, var = unpack_index(packed_index). 160 obs = _normalize_index(obs, self._adata.obs_names). --> 161 var = _normalize_index(var, self.var_names). 162 return obs, var. 163 . /software/anaconda3/lib/python3.6/site-packages/anndata/_core/index.py in _normalize_index(indexer, index). 72 return indexer. 73 elif isinstance(indexer, str):. ---> 74 return index.get_loc(indexer) # int. 75 elif isinstance(indexer, (Sequence, np.ndarray, pd.Index, spmatrix, np.matrix)):. 76 if hasattr(indexer, ""shape"") and (. /software/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 2646 return self._engine.get_loc(key). 2647 except KeyError:. -> 2648 return self._engine.get_loc(self._maybe_cast_indexer(key)). 2649 indexer = self.get_indexer([key], method=method, tolerance=tolerance). 2650 if indexer.ndim > 1 or indexer.size > 1:. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. ```. #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.4. -----. PIL 8.4.0. backcall 0.1.0. bottleneck 1.2.1. cffi 1.11.5. cloudpickle 0.5.3. colorama 0.3.9. cycler 0.10.0. cython_runtime NA. cytoolz 0.9.0.1. dask 0.17.5. dateutil 2.7.3. decorator 4.3.0. fa2 NA. flaskext NA. get_version 2.1. google NA. h5py 2.10.0. igraph 0.9.7. ipykernel 4.8.2. ipython_genutils 0.2.0. ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:3792,availability,toler,tolerance,3792,"e_indices((slice(None), k)). 171 a = self.X[idx]. 172 if issparse(a):. /software/anaconda3/lib/python3.6/site-packages/anndata/_core/raw.py in _normalize_indices(self, packed_index). 159 obs, var = unpack_index(packed_index). 160 obs = _normalize_index(obs, self._adata.obs_names). --> 161 var = _normalize_index(var, self.var_names). 162 return obs, var. 163 . /software/anaconda3/lib/python3.6/site-packages/anndata/_core/index.py in _normalize_index(indexer, index). 72 return indexer. 73 elif isinstance(indexer, str):. ---> 74 return index.get_loc(indexer) # int. 75 elif isinstance(indexer, (Sequence, np.ndarray, pd.Index, spmatrix, np.matrix)):. 76 if hasattr(indexer, ""shape"") and (. /software/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 2646 return self._engine.get_loc(key). 2647 except KeyError:. -> 2648 return self._engine.get_loc(self._maybe_cast_indexer(key)). 2649 indexer = self.get_indexer([key], method=method, tolerance=tolerance). 2650 if indexer.ndim > 1 or indexer.size > 1:. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. ```. #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.4. -----. PIL 8.4.0. backcall 0.1.0. bottleneck 1.2.1. cffi 1.11.5. cloudpickle 0.5.3. colorama 0.3.9. cycler 0.10.0. cython_runtime NA. cytoolz 0.9.0.1. dask 0.17.5. dateutil 2.7.3. decorator 4.3.0. fa2 NA. flaskext NA. get_version 2.1. google NA. h5py 2.10.0. igraph 0.9.7. ipykernel 4.8.2. ipython_genutils 0.2.0. ipywidgets 7.2.1. jedi 0.12.0. joblib 0.13.2. kiwisolver 1.0.1. legacy_api_wrap 1.2. leidenalg 0.8.8. llvmlite 0.34.0. louvain 0.6.1. lxml NA. matplotlib 3.3.4. mpl_toolkits NA. natsort 6.0.0. net",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:3802,availability,toler,tolerance,3802,"(slice(None), k)). 171 a = self.X[idx]. 172 if issparse(a):. /software/anaconda3/lib/python3.6/site-packages/anndata/_core/raw.py in _normalize_indices(self, packed_index). 159 obs, var = unpack_index(packed_index). 160 obs = _normalize_index(obs, self._adata.obs_names). --> 161 var = _normalize_index(var, self.var_names). 162 return obs, var. 163 . /software/anaconda3/lib/python3.6/site-packages/anndata/_core/index.py in _normalize_index(indexer, index). 72 return indexer. 73 elif isinstance(indexer, str):. ---> 74 return index.get_loc(indexer) # int. 75 elif isinstance(indexer, (Sequence, np.ndarray, pd.Index, spmatrix, np.matrix)):. 76 if hasattr(indexer, ""shape"") and (. /software/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 2646 return self._engine.get_loc(key). 2647 except KeyError:. -> 2648 return self._engine.get_loc(self._maybe_cast_indexer(key)). 2649 indexer = self.get_indexer([key], method=method, tolerance=tolerance). 2650 if indexer.ndim > 1 or indexer.size > 1:. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. ```. #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.4. -----. PIL 8.4.0. backcall 0.1.0. bottleneck 1.2.1. cffi 1.11.5. cloudpickle 0.5.3. colorama 0.3.9. cycler 0.10.0. cython_runtime NA. cytoolz 0.9.0.1. dask 0.17.5. dateutil 2.7.3. decorator 4.3.0. fa2 NA. flaskext NA. get_version 2.1. google NA. h5py 2.10.0. igraph 0.9.7. ipykernel 4.8.2. ipython_genutils 0.2.0. ipywidgets 7.2.1. jedi 0.12.0. joblib 0.13.2. kiwisolver 1.0.1. legacy_api_wrap 1.2. leidenalg 0.8.8. llvmlite 0.34.0. louvain 0.6.1. lxml NA. matplotlib 3.3.4. mpl_toolkits NA. natsort 6.0.0. networkx 2.5.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:1250,deployability,modul,module,1250,"ht that my adata object was created from h5ad converted from seurat. How can I check the keys? . Thank you! Lucy. ---. ```python. sc.pl.draw_graph(myeloid, color=['SPP1']). ```. ```pytb. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). /software/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 2645 try:. -> 2646 return self._engine.get_loc(key). 2647 except KeyError:. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. During handling of the above exception, another exception occurred:. KeyError Traceback (most recent call last). <ipython-input-94-440b32bde3cc> in <module>(). ----> 1 sc.pl.draw_graph(myeloid, color=['SPP1']). /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in draw_graph(adata, layout, **kwargs). 701 ). 702 . --> 703 return embedding(adata, basis, **kwargs). 704 . 705 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in embedding(adata, basis, color, gene_symbols, use_raw, sort_order, edges, edges_width, edges_color, neighbors_key, arrows, arrows_kwds, groups, components, layer, projection, img_key, crop_coord, alpha_img, bw, library_id, color_map, palette, size, frameon, legend_fontsize, legend_fontweight, legend_loc, legend_fontoutline, vmax, vmin, add_outline, outline_width, outline_color, ncols, hspace, wspace, title, show, save, ax, return_fig, **kwargs). 233 palette=palette,. 234 use_raw=use_raw,. --> 235 gene_symbols=gene_symbols,. 236 ). 237 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in _get_color_values",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:4217,deployability,Version,Versions,4217,"index.py in _normalize_index(indexer, index). 72 return indexer. 73 elif isinstance(indexer, str):. ---> 74 return index.get_loc(indexer) # int. 75 elif isinstance(indexer, (Sequence, np.ndarray, pd.Index, spmatrix, np.matrix)):. 76 if hasattr(indexer, ""shape"") and (. /software/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 2646 return self._engine.get_loc(key). 2647 except KeyError:. -> 2648 return self._engine.get_loc(self._maybe_cast_indexer(key)). 2649 indexer = self.get_indexer([key], method=method, tolerance=tolerance). 2650 if indexer.ndim > 1 or indexer.size > 1:. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. ```. #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.4. -----. PIL 8.4.0. backcall 0.1.0. bottleneck 1.2.1. cffi 1.11.5. cloudpickle 0.5.3. colorama 0.3.9. cycler 0.10.0. cython_runtime NA. cytoolz 0.9.0.1. dask 0.17.5. dateutil 2.7.3. decorator 4.3.0. fa2 NA. flaskext NA. get_version 2.1. google NA. h5py 2.10.0. igraph 0.9.7. ipykernel 4.8.2. ipython_genutils 0.2.0. ipywidgets 7.2.1. jedi 0.12.0. joblib 0.13.2. kiwisolver 1.0.1. legacy_api_wrap 1.2. leidenalg 0.8.8. llvmlite 0.34.0. louvain 0.6.1. lxml NA. matplotlib 3.3.4. mpl_toolkits NA. natsort 6.0.0. networkx 2.5.1. numba 0.51.2. numexpr 2.6.5. numpy 1.19.5. packaging 21.0. pandas 1.1.5. parso 0.2.0. pexpect 4.5.0. pickleshare 0.7.4. pkg_resources NA. prompt_toolkit 1.0.15. psutil 5.4.5. ptyprocess 0.5.2. pycparser 2.18. pygments 2.2.0. pynndescent 0.5.0. pyparsing 2.2.0. pytz 2018.4. ruamel NA. scipy 1.4.1. scvelo 0.2.4. setuptools_scm NA. simplegeneric NA. six 1.11.0. sklearn 0.24.2. sphinxcontrib NA. storemagic NA. t",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:5641,deployability,log,logical,5641,"elf._engine.get_loc(self._maybe_cast_indexer(key)). 2649 indexer = self.get_indexer([key], method=method, tolerance=tolerance). 2650 if indexer.ndim > 1 or indexer.size > 1:. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. ```. #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.4. -----. PIL 8.4.0. backcall 0.1.0. bottleneck 1.2.1. cffi 1.11.5. cloudpickle 0.5.3. colorama 0.3.9. cycler 0.10.0. cython_runtime NA. cytoolz 0.9.0.1. dask 0.17.5. dateutil 2.7.3. decorator 4.3.0. fa2 NA. flaskext NA. get_version 2.1. google NA. h5py 2.10.0. igraph 0.9.7. ipykernel 4.8.2. ipython_genutils 0.2.0. ipywidgets 7.2.1. jedi 0.12.0. joblib 0.13.2. kiwisolver 1.0.1. legacy_api_wrap 1.2. leidenalg 0.8.8. llvmlite 0.34.0. louvain 0.6.1. lxml NA. matplotlib 3.3.4. mpl_toolkits NA. natsort 6.0.0. networkx 2.5.1. numba 0.51.2. numexpr 2.6.5. numpy 1.19.5. packaging 21.0. pandas 1.1.5. parso 0.2.0. pexpect 4.5.0. pickleshare 0.7.4. pkg_resources NA. prompt_toolkit 1.0.15. psutil 5.4.5. ptyprocess 0.5.2. pycparser 2.18. pygments 2.2.0. pynndescent 0.5.0. pyparsing 2.2.0. pytz 2018.4. ruamel NA. scipy 1.4.1. scvelo 0.2.4. setuptools_scm NA. simplegeneric NA. six 1.11.0. sklearn 0.24.2. sphinxcontrib NA. storemagic NA. tables 3.4.3. texttable 1.6.2. toolz 0.9.0. tornado 5.0.2. tqdm 4.32.1. traitlets 4.3.2. typing_extensions NA. umap 0.4.6. wcwidth NA. yaml 5.1.2. zipp NA. zmq 17.0.0. -----. IPython 6.4.0. jupyter_client 5.2.3. jupyter_core 4.4.0. jupyterlab 0.32.1. notebook 5.5.0. -----. Python 3.6.5 |Anaconda, Inc.| (default, Apr 29 2018, 16:14:56) [GCC 7.2.0]. Linux-3.10.0-957.21.3.el7.x86_64-x86_64-with-centos-7.6.1810-Core. 120 logical CPU cores, x86_64. -----. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:616,energy efficiency,core,core,616,"KeyError when plotting gene expression ; Hello, . Whenever I try to plot gene expression I get the following KeyError, regardless of the gene/plotting function. I have confirmed that all genes I have tried do exist in adata.var_names. Id like to highlight that my adata object was created from h5ad converted from seurat. How can I check the keys? . Thank you! Lucy. ---. ```python. sc.pl.draw_graph(myeloid, color=['SPP1']). ```. ```pytb. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). /software/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 2645 try:. -> 2646 return self._engine.get_loc(key). 2647 except KeyError:. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. During handling of the above exception, another exception occurred:. KeyError Traceback (most recent call last). <ipython-input-94-440b32bde3cc> in <module>(). ----> 1 sc.pl.draw_graph(myeloid, color=['SPP1']). /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in draw_graph(adata, layout, **kwargs). 701 ). 702 . --> 703 return embedding(adata, basis, **kwargs). 704 . 705 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in embedding(adata, basis, color, gene_symbols, use_raw, sort_order, edges, edges_width, edges_color, neighbors_key, arrows, arrows_kwds, groups, components, layer, projection, img_key, crop_coord, alpha_img, bw, library_id, color_map, palette, size, frameon, legend_fontsize, legend_fontweight, legend_loc, legend_fontoutline, vmax, vmin, add_outline, outline_width, outline_color, ncols, hspace, w",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:3545,energy efficiency,core,core,3545,"_plot, layer=layer). /software/anaconda3/lib/python3.6/site-packages/anndata/_core/raw.py in obs_vector(self, k). 168 def obs_vector(self, k: str) -> np.ndarray:. 169 # TODO decorator to copy AnnData.obs_vector docstring. --> 170 idx = self._normalize_indices((slice(None), k)). 171 a = self.X[idx]. 172 if issparse(a):. /software/anaconda3/lib/python3.6/site-packages/anndata/_core/raw.py in _normalize_indices(self, packed_index). 159 obs, var = unpack_index(packed_index). 160 obs = _normalize_index(obs, self._adata.obs_names). --> 161 var = _normalize_index(var, self.var_names). 162 return obs, var. 163 . /software/anaconda3/lib/python3.6/site-packages/anndata/_core/index.py in _normalize_index(indexer, index). 72 return indexer. 73 elif isinstance(indexer, str):. ---> 74 return index.get_loc(indexer) # int. 75 elif isinstance(indexer, (Sequence, np.ndarray, pd.Index, spmatrix, np.matrix)):. 76 if hasattr(indexer, ""shape"") and (. /software/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 2646 return self._engine.get_loc(key). 2647 except KeyError:. -> 2648 return self._engine.get_loc(self._maybe_cast_indexer(key)). 2649 indexer = self.get_indexer([key], method=method, tolerance=tolerance). 2650 if indexer.ndim > 1 or indexer.size > 1:. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. ```. #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.4. -----. PIL 8.4.0. backcall 0.1.0. bottleneck 1.2.1. cffi 1.11.5. cloudpickle 0.5.3. colorama 0.3.9. cycler 0.10.0. cython_runtime NA. cytoolz 0.9.0.1. dask 0.17.5. dateutil 2.7.3. decorator 4.3.0. fa2 NA. flaskext NA. get_version 2.1. google NA. h5py 2.10.0. i",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:4352,energy efficiency,cloud,cloudpickle,4352," # int. 75 elif isinstance(indexer, (Sequence, np.ndarray, pd.Index, spmatrix, np.matrix)):. 76 if hasattr(indexer, ""shape"") and (. /software/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 2646 return self._engine.get_loc(key). 2647 except KeyError:. -> 2648 return self._engine.get_loc(self._maybe_cast_indexer(key)). 2649 indexer = self.get_indexer([key], method=method, tolerance=tolerance). 2650 if indexer.ndim > 1 or indexer.size > 1:. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. ```. #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.4. -----. PIL 8.4.0. backcall 0.1.0. bottleneck 1.2.1. cffi 1.11.5. cloudpickle 0.5.3. colorama 0.3.9. cycler 0.10.0. cython_runtime NA. cytoolz 0.9.0.1. dask 0.17.5. dateutil 2.7.3. decorator 4.3.0. fa2 NA. flaskext NA. get_version 2.1. google NA. h5py 2.10.0. igraph 0.9.7. ipykernel 4.8.2. ipython_genutils 0.2.0. ipywidgets 7.2.1. jedi 0.12.0. joblib 0.13.2. kiwisolver 1.0.1. legacy_api_wrap 1.2. leidenalg 0.8.8. llvmlite 0.34.0. louvain 0.6.1. lxml NA. matplotlib 3.3.4. mpl_toolkits NA. natsort 6.0.0. networkx 2.5.1. numba 0.51.2. numexpr 2.6.5. numpy 1.19.5. packaging 21.0. pandas 1.1.5. parso 0.2.0. pexpect 4.5.0. pickleshare 0.7.4. pkg_resources NA. prompt_toolkit 1.0.15. psutil 5.4.5. ptyprocess 0.5.2. pycparser 2.18. pygments 2.2.0. pynndescent 0.5.0. pyparsing 2.2.0. pytz 2018.4. ruamel NA. scipy 1.4.1. scvelo 0.2.4. setuptools_scm NA. simplegeneric NA. six 1.11.0. sklearn 0.24.2. sphinxcontrib NA. storemagic NA. tables 3.4.3. texttable 1.6.2. toolz 0.9.0. tornado 5.0.2. tqdm 4.32.1. traitlets 4.3.2. typing_extensions NA. umap 0.4.6. wcwidth NA. yam",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:5631,energy efficiency,Core,Core,5631,"elf._engine.get_loc(self._maybe_cast_indexer(key)). 2649 indexer = self.get_indexer([key], method=method, tolerance=tolerance). 2650 if indexer.ndim > 1 or indexer.size > 1:. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. ```. #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.4. -----. PIL 8.4.0. backcall 0.1.0. bottleneck 1.2.1. cffi 1.11.5. cloudpickle 0.5.3. colorama 0.3.9. cycler 0.10.0. cython_runtime NA. cytoolz 0.9.0.1. dask 0.17.5. dateutil 2.7.3. decorator 4.3.0. fa2 NA. flaskext NA. get_version 2.1. google NA. h5py 2.10.0. igraph 0.9.7. ipykernel 4.8.2. ipython_genutils 0.2.0. ipywidgets 7.2.1. jedi 0.12.0. joblib 0.13.2. kiwisolver 1.0.1. legacy_api_wrap 1.2. leidenalg 0.8.8. llvmlite 0.34.0. louvain 0.6.1. lxml NA. matplotlib 3.3.4. mpl_toolkits NA. natsort 6.0.0. networkx 2.5.1. numba 0.51.2. numexpr 2.6.5. numpy 1.19.5. packaging 21.0. pandas 1.1.5. parso 0.2.0. pexpect 4.5.0. pickleshare 0.7.4. pkg_resources NA. prompt_toolkit 1.0.15. psutil 5.4.5. ptyprocess 0.5.2. pycparser 2.18. pygments 2.2.0. pynndescent 0.5.0. pyparsing 2.2.0. pytz 2018.4. ruamel NA. scipy 1.4.1. scvelo 0.2.4. setuptools_scm NA. simplegeneric NA. six 1.11.0. sklearn 0.24.2. sphinxcontrib NA. storemagic NA. tables 3.4.3. texttable 1.6.2. toolz 0.9.0. tornado 5.0.2. tqdm 4.32.1. traitlets 4.3.2. typing_extensions NA. umap 0.4.6. wcwidth NA. yaml 5.1.2. zipp NA. zmq 17.0.0. -----. IPython 6.4.0. jupyter_client 5.2.3. jupyter_core 4.4.0. jupyterlab 0.32.1. notebook 5.5.0. -----. Python 3.6.5 |Anaconda, Inc.| (default, Apr 29 2018, 16:14:56) [GCC 7.2.0]. Linux-3.10.0-957.21.3.el7.x86_64-x86_64-with-centos-7.6.1810-Core. 120 logical CPU cores, x86_64. -----. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:5649,energy efficiency,CPU,CPU,5649,"elf._engine.get_loc(self._maybe_cast_indexer(key)). 2649 indexer = self.get_indexer([key], method=method, tolerance=tolerance). 2650 if indexer.ndim > 1 or indexer.size > 1:. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. ```. #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.4. -----. PIL 8.4.0. backcall 0.1.0. bottleneck 1.2.1. cffi 1.11.5. cloudpickle 0.5.3. colorama 0.3.9. cycler 0.10.0. cython_runtime NA. cytoolz 0.9.0.1. dask 0.17.5. dateutil 2.7.3. decorator 4.3.0. fa2 NA. flaskext NA. get_version 2.1. google NA. h5py 2.10.0. igraph 0.9.7. ipykernel 4.8.2. ipython_genutils 0.2.0. ipywidgets 7.2.1. jedi 0.12.0. joblib 0.13.2. kiwisolver 1.0.1. legacy_api_wrap 1.2. leidenalg 0.8.8. llvmlite 0.34.0. louvain 0.6.1. lxml NA. matplotlib 3.3.4. mpl_toolkits NA. natsort 6.0.0. networkx 2.5.1. numba 0.51.2. numexpr 2.6.5. numpy 1.19.5. packaging 21.0. pandas 1.1.5. parso 0.2.0. pexpect 4.5.0. pickleshare 0.7.4. pkg_resources NA. prompt_toolkit 1.0.15. psutil 5.4.5. ptyprocess 0.5.2. pycparser 2.18. pygments 2.2.0. pynndescent 0.5.0. pyparsing 2.2.0. pytz 2018.4. ruamel NA. scipy 1.4.1. scvelo 0.2.4. setuptools_scm NA. simplegeneric NA. six 1.11.0. sklearn 0.24.2. sphinxcontrib NA. storemagic NA. tables 3.4.3. texttable 1.6.2. toolz 0.9.0. tornado 5.0.2. tqdm 4.32.1. traitlets 4.3.2. typing_extensions NA. umap 0.4.6. wcwidth NA. yaml 5.1.2. zipp NA. zmq 17.0.0. -----. IPython 6.4.0. jupyter_client 5.2.3. jupyter_core 4.4.0. jupyterlab 0.32.1. notebook 5.5.0. -----. Python 3.6.5 |Anaconda, Inc.| (default, Apr 29 2018, 16:14:56) [GCC 7.2.0]. Linux-3.10.0-957.21.3.el7.x86_64-x86_64-with-centos-7.6.1810-Core. 120 logical CPU cores, x86_64. -----. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:5653,energy efficiency,core,cores,5653,"elf._engine.get_loc(self._maybe_cast_indexer(key)). 2649 indexer = self.get_indexer([key], method=method, tolerance=tolerance). 2650 if indexer.ndim > 1 or indexer.size > 1:. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. ```. #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.4. -----. PIL 8.4.0. backcall 0.1.0. bottleneck 1.2.1. cffi 1.11.5. cloudpickle 0.5.3. colorama 0.3.9. cycler 0.10.0. cython_runtime NA. cytoolz 0.9.0.1. dask 0.17.5. dateutil 2.7.3. decorator 4.3.0. fa2 NA. flaskext NA. get_version 2.1. google NA. h5py 2.10.0. igraph 0.9.7. ipykernel 4.8.2. ipython_genutils 0.2.0. ipywidgets 7.2.1. jedi 0.12.0. joblib 0.13.2. kiwisolver 1.0.1. legacy_api_wrap 1.2. leidenalg 0.8.8. llvmlite 0.34.0. louvain 0.6.1. lxml NA. matplotlib 3.3.4. mpl_toolkits NA. natsort 6.0.0. networkx 2.5.1. numba 0.51.2. numexpr 2.6.5. numpy 1.19.5. packaging 21.0. pandas 1.1.5. parso 0.2.0. pexpect 4.5.0. pickleshare 0.7.4. pkg_resources NA. prompt_toolkit 1.0.15. psutil 5.4.5. ptyprocess 0.5.2. pycparser 2.18. pygments 2.2.0. pynndescent 0.5.0. pyparsing 2.2.0. pytz 2018.4. ruamel NA. scipy 1.4.1. scvelo 0.2.4. setuptools_scm NA. simplegeneric NA. six 1.11.0. sklearn 0.24.2. sphinxcontrib NA. storemagic NA. tables 3.4.3. texttable 1.6.2. toolz 0.9.0. tornado 5.0.2. tqdm 4.32.1. traitlets 4.3.2. typing_extensions NA. umap 0.4.6. wcwidth NA. yaml 5.1.2. zipp NA. zmq 17.0.0. -----. IPython 6.4.0. jupyter_client 5.2.3. jupyter_core 4.4.0. jupyterlab 0.32.1. notebook 5.5.0. -----. Python 3.6.5 |Anaconda, Inc.| (default, Apr 29 2018, 16:14:56) [GCC 7.2.0]. Linux-3.10.0-957.21.3.el7.x86_64-x86_64-with-centos-7.6.1810-Core. 120 logical CPU cores, x86_64. -----. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:1747,integrability,compon,components,1747,":. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. During handling of the above exception, another exception occurred:. KeyError Traceback (most recent call last). <ipython-input-94-440b32bde3cc> in <module>(). ----> 1 sc.pl.draw_graph(myeloid, color=['SPP1']). /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in draw_graph(adata, layout, **kwargs). 701 ). 702 . --> 703 return embedding(adata, basis, **kwargs). 704 . 705 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in embedding(adata, basis, color, gene_symbols, use_raw, sort_order, edges, edges_width, edges_color, neighbors_key, arrows, arrows_kwds, groups, components, layer, projection, img_key, crop_coord, alpha_img, bw, library_id, color_map, palette, size, frameon, legend_fontsize, legend_fontweight, legend_loc, legend_fontoutline, vmax, vmin, add_outline, outline_width, outline_color, ncols, hspace, wspace, title, show, save, ax, return_fig, **kwargs). 233 palette=palette,. 234 use_raw=use_raw,. --> 235 gene_symbols=gene_symbols,. 236 ). 237 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in _get_color_values(adata, value_to_plot, groups, palette, use_raw, gene_symbols, layer). 1035 ] # TODO: Throw helpful error if this doesn't work. 1036 if use_raw and value_to_plot not in adata.obs.columns:. -> 1037 values = adata.raw.obs_vector(value_to_plot). 1038 else:. 1039 values = adata.obs_vector(value_to_plot, layer=layer). /software/anaconda3/lib/python3.6/site-packages/anndata/_core/raw.py in obs_vector(self, k). 168 def obs_vector(self, k: str) -> np.ndarray:. 169 # TODO decorator to copy AnnData.obs_v",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:4217,integrability,Version,Versions,4217,"index.py in _normalize_index(indexer, index). 72 return indexer. 73 elif isinstance(indexer, str):. ---> 74 return index.get_loc(indexer) # int. 75 elif isinstance(indexer, (Sequence, np.ndarray, pd.Index, spmatrix, np.matrix)):. 76 if hasattr(indexer, ""shape"") and (. /software/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 2646 return self._engine.get_loc(key). 2647 except KeyError:. -> 2648 return self._engine.get_loc(self._maybe_cast_indexer(key)). 2649 indexer = self.get_indexer([key], method=method, tolerance=tolerance). 2650 if indexer.ndim > 1 or indexer.size > 1:. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. ```. #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.4. -----. PIL 8.4.0. backcall 0.1.0. bottleneck 1.2.1. cffi 1.11.5. cloudpickle 0.5.3. colorama 0.3.9. cycler 0.10.0. cython_runtime NA. cytoolz 0.9.0.1. dask 0.17.5. dateutil 2.7.3. decorator 4.3.0. fa2 NA. flaskext NA. get_version 2.1. google NA. h5py 2.10.0. igraph 0.9.7. ipykernel 4.8.2. ipython_genutils 0.2.0. ipywidgets 7.2.1. jedi 0.12.0. joblib 0.13.2. kiwisolver 1.0.1. legacy_api_wrap 1.2. leidenalg 0.8.8. llvmlite 0.34.0. louvain 0.6.1. lxml NA. matplotlib 3.3.4. mpl_toolkits NA. natsort 6.0.0. networkx 2.5.1. numba 0.51.2. numexpr 2.6.5. numpy 1.19.5. packaging 21.0. pandas 1.1.5. parso 0.2.0. pexpect 4.5.0. pickleshare 0.7.4. pkg_resources NA. prompt_toolkit 1.0.15. psutil 5.4.5. ptyprocess 0.5.2. pycparser 2.18. pygments 2.2.0. pynndescent 0.5.0. pyparsing 2.2.0. pytz 2018.4. ruamel NA. scipy 1.4.1. scvelo 0.2.4. setuptools_scm NA. simplegeneric NA. six 1.11.0. sklearn 0.24.2. sphinxcontrib NA. storemagic NA. t",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:1747,interoperability,compon,components,1747,":. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. During handling of the above exception, another exception occurred:. KeyError Traceback (most recent call last). <ipython-input-94-440b32bde3cc> in <module>(). ----> 1 sc.pl.draw_graph(myeloid, color=['SPP1']). /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in draw_graph(adata, layout, **kwargs). 701 ). 702 . --> 703 return embedding(adata, basis, **kwargs). 704 . 705 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in embedding(adata, basis, color, gene_symbols, use_raw, sort_order, edges, edges_width, edges_color, neighbors_key, arrows, arrows_kwds, groups, components, layer, projection, img_key, crop_coord, alpha_img, bw, library_id, color_map, palette, size, frameon, legend_fontsize, legend_fontweight, legend_loc, legend_fontoutline, vmax, vmin, add_outline, outline_width, outline_color, ncols, hspace, wspace, title, show, save, ax, return_fig, **kwargs). 233 palette=palette,. 234 use_raw=use_raw,. --> 235 gene_symbols=gene_symbols,. 236 ). 237 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in _get_color_values(adata, value_to_plot, groups, palette, use_raw, gene_symbols, layer). 1035 ] # TODO: Throw helpful error if this doesn't work. 1036 if use_raw and value_to_plot not in adata.obs.columns:. -> 1037 values = adata.raw.obs_vector(value_to_plot). 1038 else:. 1039 values = adata.obs_vector(value_to_plot, layer=layer). /software/anaconda3/lib/python3.6/site-packages/anndata/_core/raw.py in obs_vector(self, k). 168 def obs_vector(self, k: str) -> np.ndarray:. 169 # TODO decorator to copy AnnData.obs_v",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:600,modifiability,pac,packages,600,"KeyError when plotting gene expression ; Hello, . Whenever I try to plot gene expression I get the following KeyError, regardless of the gene/plotting function. I have confirmed that all genes I have tried do exist in adata.var_names. Id like to highlight that my adata object was created from h5ad converted from seurat. How can I check the keys? . Thank you! Lucy. ---. ```python. sc.pl.draw_graph(myeloid, color=['SPP1']). ```. ```pytb. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). /software/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 2645 try:. -> 2646 return self._engine.get_loc(key). 2647 except KeyError:. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. During handling of the above exception, another exception occurred:. KeyError Traceback (most recent call last). <ipython-input-94-440b32bde3cc> in <module>(). ----> 1 sc.pl.draw_graph(myeloid, color=['SPP1']). /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in draw_graph(adata, layout, **kwargs). 701 ). 702 . --> 703 return embedding(adata, basis, **kwargs). 704 . 705 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in embedding(adata, basis, color, gene_symbols, use_raw, sort_order, edges, edges_width, edges_color, neighbors_key, arrows, arrows_kwds, groups, components, layer, projection, img_key, crop_coord, alpha_img, bw, library_id, color_map, palette, size, frameon, legend_fontsize, legend_fontweight, legend_loc, legend_fontoutline, vmax, vmin, add_outline, outline_width, outline_color, ncols, hspace, w",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:1250,modifiability,modul,module,1250,"ht that my adata object was created from h5ad converted from seurat. How can I check the keys? . Thank you! Lucy. ---. ```python. sc.pl.draw_graph(myeloid, color=['SPP1']). ```. ```pytb. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). /software/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 2645 try:. -> 2646 return self._engine.get_loc(key). 2647 except KeyError:. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. During handling of the above exception, another exception occurred:. KeyError Traceback (most recent call last). <ipython-input-94-440b32bde3cc> in <module>(). ----> 1 sc.pl.draw_graph(myeloid, color=['SPP1']). /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in draw_graph(adata, layout, **kwargs). 701 ). 702 . --> 703 return embedding(adata, basis, **kwargs). 704 . 705 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in embedding(adata, basis, color, gene_symbols, use_raw, sort_order, edges, edges_width, edges_color, neighbors_key, arrows, arrows_kwds, groups, components, layer, projection, img_key, crop_coord, alpha_img, bw, library_id, color_map, palette, size, frameon, legend_fontsize, legend_fontweight, legend_loc, legend_fontoutline, vmax, vmin, add_outline, outline_width, outline_color, ncols, hspace, wspace, title, show, save, ax, return_fig, **kwargs). 233 palette=palette,. 234 use_raw=use_raw,. --> 235 gene_symbols=gene_symbols,. 236 ). 237 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in _get_color_values",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:1351,modifiability,pac,packages,1351," you! Lucy. ---. ```python. sc.pl.draw_graph(myeloid, color=['SPP1']). ```. ```pytb. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). /software/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 2645 try:. -> 2646 return self._engine.get_loc(key). 2647 except KeyError:. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. During handling of the above exception, another exception occurred:. KeyError Traceback (most recent call last). <ipython-input-94-440b32bde3cc> in <module>(). ----> 1 sc.pl.draw_graph(myeloid, color=['SPP1']). /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in draw_graph(adata, layout, **kwargs). 701 ). 702 . --> 703 return embedding(adata, basis, **kwargs). 704 . 705 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in embedding(adata, basis, color, gene_symbols, use_raw, sort_order, edges, edges_width, edges_color, neighbors_key, arrows, arrows_kwds, groups, components, layer, projection, img_key, crop_coord, alpha_img, bw, library_id, color_map, palette, size, frameon, legend_fontsize, legend_fontweight, legend_loc, legend_fontoutline, vmax, vmin, add_outline, outline_width, outline_color, ncols, hspace, wspace, title, show, save, ax, return_fig, **kwargs). 233 palette=palette,. 234 use_raw=use_raw,. --> 235 gene_symbols=gene_symbols,. 236 ). 237 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in _get_color_values(adata, value_to_plot, groups, palette, use_raw, gene_symbols, layer). 1035 ] # TODO: Throw helpful er",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:1553,modifiability,pac,packages,1553,"t). /software/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 2645 try:. -> 2646 return self._engine.get_loc(key). 2647 except KeyError:. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. During handling of the above exception, another exception occurred:. KeyError Traceback (most recent call last). <ipython-input-94-440b32bde3cc> in <module>(). ----> 1 sc.pl.draw_graph(myeloid, color=['SPP1']). /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in draw_graph(adata, layout, **kwargs). 701 ). 702 . --> 703 return embedding(adata, basis, **kwargs). 704 . 705 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in embedding(adata, basis, color, gene_symbols, use_raw, sort_order, edges, edges_width, edges_color, neighbors_key, arrows, arrows_kwds, groups, components, layer, projection, img_key, crop_coord, alpha_img, bw, library_id, color_map, palette, size, frameon, legend_fontsize, legend_fontweight, legend_loc, legend_fontoutline, vmax, vmin, add_outline, outline_width, outline_color, ncols, hspace, wspace, title, show, save, ax, return_fig, **kwargs). 233 palette=palette,. 234 use_raw=use_raw,. --> 235 gene_symbols=gene_symbols,. 236 ). 237 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in _get_color_values(adata, value_to_plot, groups, palette, use_raw, gene_symbols, layer). 1035 ] # TODO: Throw helpful error if this doesn't work. 1036 if use_raw and value_to_plot not in adata.obs.columns:. -> 1037 values = adata.raw.obs_vector(value_to_plot). 1038 else:. 1039 values = adata.obs_vector(value_to_plot, lay",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:1747,modifiability,compon,components,1747,":. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. During handling of the above exception, another exception occurred:. KeyError Traceback (most recent call last). <ipython-input-94-440b32bde3cc> in <module>(). ----> 1 sc.pl.draw_graph(myeloid, color=['SPP1']). /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in draw_graph(adata, layout, **kwargs). 701 ). 702 . --> 703 return embedding(adata, basis, **kwargs). 704 . 705 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in embedding(adata, basis, color, gene_symbols, use_raw, sort_order, edges, edges_width, edges_color, neighbors_key, arrows, arrows_kwds, groups, components, layer, projection, img_key, crop_coord, alpha_img, bw, library_id, color_map, palette, size, frameon, legend_fontsize, legend_fontweight, legend_loc, legend_fontoutline, vmax, vmin, add_outline, outline_width, outline_color, ncols, hspace, wspace, title, show, save, ax, return_fig, **kwargs). 233 palette=palette,. 234 use_raw=use_raw,. --> 235 gene_symbols=gene_symbols,. 236 ). 237 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in _get_color_values(adata, value_to_plot, groups, palette, use_raw, gene_symbols, layer). 1035 ] # TODO: Throw helpful error if this doesn't work. 1036 if use_raw and value_to_plot not in adata.obs.columns:. -> 1037 values = adata.raw.obs_vector(value_to_plot). 1038 else:. 1039 values = adata.obs_vector(value_to_plot, layer=layer). /software/anaconda3/lib/python3.6/site-packages/anndata/_core/raw.py in obs_vector(self, k). 168 def obs_vector(self, k: str) -> np.ndarray:. 169 # TODO decorator to copy AnnData.obs_v",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:1759,modifiability,layer,layer,1759,"_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. During handling of the above exception, another exception occurred:. KeyError Traceback (most recent call last). <ipython-input-94-440b32bde3cc> in <module>(). ----> 1 sc.pl.draw_graph(myeloid, color=['SPP1']). /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in draw_graph(adata, layout, **kwargs). 701 ). 702 . --> 703 return embedding(adata, basis, **kwargs). 704 . 705 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in embedding(adata, basis, color, gene_symbols, use_raw, sort_order, edges, edges_width, edges_color, neighbors_key, arrows, arrows_kwds, groups, components, layer, projection, img_key, crop_coord, alpha_img, bw, library_id, color_map, palette, size, frameon, legend_fontsize, legend_fontweight, legend_loc, legend_fontoutline, vmax, vmin, add_outline, outline_width, outline_color, ncols, hspace, wspace, title, show, save, ax, return_fig, **kwargs). 233 palette=palette,. 234 use_raw=use_raw,. --> 235 gene_symbols=gene_symbols,. 236 ). 237 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in _get_color_values(adata, value_to_plot, groups, palette, use_raw, gene_symbols, layer). 1035 ] # TODO: Throw helpful error if this doesn't work. 1036 if use_raw and value_to_plot not in adata.obs.columns:. -> 1037 values = adata.raw.obs_vector(value_to_plot). 1038 else:. 1039 values = adata.obs_vector(value_to_plot, layer=layer). /software/anaconda3/lib/python3.6/site-packages/anndata/_core/raw.py in obs_vector(self, k). 168 def obs_vector(self, k: str) -> np.ndarray:. 169 # TODO decorator to copy AnnData.obs_vector docs",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:2185,modifiability,pac,packages,2185,"(most recent call last). <ipython-input-94-440b32bde3cc> in <module>(). ----> 1 sc.pl.draw_graph(myeloid, color=['SPP1']). /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in draw_graph(adata, layout, **kwargs). 701 ). 702 . --> 703 return embedding(adata, basis, **kwargs). 704 . 705 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in embedding(adata, basis, color, gene_symbols, use_raw, sort_order, edges, edges_width, edges_color, neighbors_key, arrows, arrows_kwds, groups, components, layer, projection, img_key, crop_coord, alpha_img, bw, library_id, color_map, palette, size, frameon, legend_fontsize, legend_fontweight, legend_loc, legend_fontoutline, vmax, vmin, add_outline, outline_width, outline_color, ncols, hspace, wspace, title, show, save, ax, return_fig, **kwargs). 233 palette=palette,. 234 use_raw=use_raw,. --> 235 gene_symbols=gene_symbols,. 236 ). 237 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in _get_color_values(adata, value_to_plot, groups, palette, use_raw, gene_symbols, layer). 1035 ] # TODO: Throw helpful error if this doesn't work. 1036 if use_raw and value_to_plot not in adata.obs.columns:. -> 1037 values = adata.raw.obs_vector(value_to_plot). 1038 else:. 1039 values = adata.obs_vector(value_to_plot, layer=layer). /software/anaconda3/lib/python3.6/site-packages/anndata/_core/raw.py in obs_vector(self, k). 168 def obs_vector(self, k: str) -> np.ndarray:. 169 # TODO decorator to copy AnnData.obs_vector docstring. --> 170 idx = self._normalize_indices((slice(None), k)). 171 a = self.X[idx]. 172 if issparse(a):. /software/anaconda3/lib/python3.6/site-packages/anndata/_core/raw.py in _normalize_indices(self, packed_index). 159 obs, var = unpack_index(packed_index). 160 obs = _normalize_index(obs, self._adata.obs_names). --> 161 var = _normalize_index(var, self.var_names). 162 return obs, var. 163 . /software/anaconda3/lib/python",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:2316,modifiability,layer,layer,2316,"re/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in draw_graph(adata, layout, **kwargs). 701 ). 702 . --> 703 return embedding(adata, basis, **kwargs). 704 . 705 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in embedding(adata, basis, color, gene_symbols, use_raw, sort_order, edges, edges_width, edges_color, neighbors_key, arrows, arrows_kwds, groups, components, layer, projection, img_key, crop_coord, alpha_img, bw, library_id, color_map, palette, size, frameon, legend_fontsize, legend_fontweight, legend_loc, legend_fontoutline, vmax, vmin, add_outline, outline_width, outline_color, ncols, hspace, wspace, title, show, save, ax, return_fig, **kwargs). 233 palette=palette,. 234 use_raw=use_raw,. --> 235 gene_symbols=gene_symbols,. 236 ). 237 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in _get_color_values(adata, value_to_plot, groups, palette, use_raw, gene_symbols, layer). 1035 ] # TODO: Throw helpful error if this doesn't work. 1036 if use_raw and value_to_plot not in adata.obs.columns:. -> 1037 values = adata.raw.obs_vector(value_to_plot). 1038 else:. 1039 values = adata.obs_vector(value_to_plot, layer=layer). /software/anaconda3/lib/python3.6/site-packages/anndata/_core/raw.py in obs_vector(self, k). 168 def obs_vector(self, k: str) -> np.ndarray:. 169 # TODO decorator to copy AnnData.obs_vector docstring. --> 170 idx = self._normalize_indices((slice(None), k)). 171 a = self.X[idx]. 172 if issparse(a):. /software/anaconda3/lib/python3.6/site-packages/anndata/_core/raw.py in _normalize_indices(self, packed_index). 159 obs, var = unpack_index(packed_index). 160 obs = _normalize_index(obs, self._adata.obs_names). --> 161 var = _normalize_index(var, self.var_names). 162 return obs, var. 163 . /software/anaconda3/lib/python3.6/site-packages/anndata/_core/index.py in _normalize_index(indexer, index). 72 return indexer. 73 elif isinstance(indexer, str):",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:2554,modifiability,layer,layer,2554,"ages/scanpy/plotting/_tools/scatterplots.py in embedding(adata, basis, color, gene_symbols, use_raw, sort_order, edges, edges_width, edges_color, neighbors_key, arrows, arrows_kwds, groups, components, layer, projection, img_key, crop_coord, alpha_img, bw, library_id, color_map, palette, size, frameon, legend_fontsize, legend_fontweight, legend_loc, legend_fontoutline, vmax, vmin, add_outline, outline_width, outline_color, ncols, hspace, wspace, title, show, save, ax, return_fig, **kwargs). 233 palette=palette,. 234 use_raw=use_raw,. --> 235 gene_symbols=gene_symbols,. 236 ). 237 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in _get_color_values(adata, value_to_plot, groups, palette, use_raw, gene_symbols, layer). 1035 ] # TODO: Throw helpful error if this doesn't work. 1036 if use_raw and value_to_plot not in adata.obs.columns:. -> 1037 values = adata.raw.obs_vector(value_to_plot). 1038 else:. 1039 values = adata.obs_vector(value_to_plot, layer=layer). /software/anaconda3/lib/python3.6/site-packages/anndata/_core/raw.py in obs_vector(self, k). 168 def obs_vector(self, k: str) -> np.ndarray:. 169 # TODO decorator to copy AnnData.obs_vector docstring. --> 170 idx = self._normalize_indices((slice(None), k)). 171 a = self.X[idx]. 172 if issparse(a):. /software/anaconda3/lib/python3.6/site-packages/anndata/_core/raw.py in _normalize_indices(self, packed_index). 159 obs, var = unpack_index(packed_index). 160 obs = _normalize_index(obs, self._adata.obs_names). --> 161 var = _normalize_index(var, self.var_names). 162 return obs, var. 163 . /software/anaconda3/lib/python3.6/site-packages/anndata/_core/index.py in _normalize_index(indexer, index). 72 return indexer. 73 elif isinstance(indexer, str):. ---> 74 return index.get_loc(indexer) # int. 75 elif isinstance(indexer, (Sequence, np.ndarray, pd.Index, spmatrix, np.matrix)):. 76 if hasattr(indexer, ""shape"") and (. /software/anaconda3/lib/python3.6/site-packages/pandas/core/indexes",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:2560,modifiability,layer,layer,2560,"canpy/plotting/_tools/scatterplots.py in embedding(adata, basis, color, gene_symbols, use_raw, sort_order, edges, edges_width, edges_color, neighbors_key, arrows, arrows_kwds, groups, components, layer, projection, img_key, crop_coord, alpha_img, bw, library_id, color_map, palette, size, frameon, legend_fontsize, legend_fontweight, legend_loc, legend_fontoutline, vmax, vmin, add_outline, outline_width, outline_color, ncols, hspace, wspace, title, show, save, ax, return_fig, **kwargs). 233 palette=palette,. 234 use_raw=use_raw,. --> 235 gene_symbols=gene_symbols,. 236 ). 237 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in _get_color_values(adata, value_to_plot, groups, palette, use_raw, gene_symbols, layer). 1035 ] # TODO: Throw helpful error if this doesn't work. 1036 if use_raw and value_to_plot not in adata.obs.columns:. -> 1037 values = adata.raw.obs_vector(value_to_plot). 1038 else:. 1039 values = adata.obs_vector(value_to_plot, layer=layer). /software/anaconda3/lib/python3.6/site-packages/anndata/_core/raw.py in obs_vector(self, k). 168 def obs_vector(self, k: str) -> np.ndarray:. 169 # TODO decorator to copy AnnData.obs_vector docstring. --> 170 idx = self._normalize_indices((slice(None), k)). 171 a = self.X[idx]. 172 if issparse(a):. /software/anaconda3/lib/python3.6/site-packages/anndata/_core/raw.py in _normalize_indices(self, packed_index). 159 obs, var = unpack_index(packed_index). 160 obs = _normalize_index(obs, self._adata.obs_names). --> 161 var = _normalize_index(var, self.var_names). 162 return obs, var. 163 . /software/anaconda3/lib/python3.6/site-packages/anndata/_core/index.py in _normalize_index(indexer, index). 72 return indexer. 73 elif isinstance(indexer, str):. ---> 74 return index.get_loc(indexer) # int. 75 elif isinstance(indexer, (Sequence, np.ndarray, pd.Index, spmatrix, np.matrix)):. 76 if hasattr(indexer, ""shape"") and (. /software/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:2607,modifiability,pac,packages,2607,"ng(adata, basis, color, gene_symbols, use_raw, sort_order, edges, edges_width, edges_color, neighbors_key, arrows, arrows_kwds, groups, components, layer, projection, img_key, crop_coord, alpha_img, bw, library_id, color_map, palette, size, frameon, legend_fontsize, legend_fontweight, legend_loc, legend_fontoutline, vmax, vmin, add_outline, outline_width, outline_color, ncols, hspace, wspace, title, show, save, ax, return_fig, **kwargs). 233 palette=palette,. 234 use_raw=use_raw,. --> 235 gene_symbols=gene_symbols,. 236 ). 237 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in _get_color_values(adata, value_to_plot, groups, palette, use_raw, gene_symbols, layer). 1035 ] # TODO: Throw helpful error if this doesn't work. 1036 if use_raw and value_to_plot not in adata.obs.columns:. -> 1037 values = adata.raw.obs_vector(value_to_plot). 1038 else:. 1039 values = adata.obs_vector(value_to_plot, layer=layer). /software/anaconda3/lib/python3.6/site-packages/anndata/_core/raw.py in obs_vector(self, k). 168 def obs_vector(self, k: str) -> np.ndarray:. 169 # TODO decorator to copy AnnData.obs_vector docstring. --> 170 idx = self._normalize_indices((slice(None), k)). 171 a = self.X[idx]. 172 if issparse(a):. /software/anaconda3/lib/python3.6/site-packages/anndata/_core/raw.py in _normalize_indices(self, packed_index). 159 obs, var = unpack_index(packed_index). 160 obs = _normalize_index(obs, self._adata.obs_names). --> 161 var = _normalize_index(var, self.var_names). 162 return obs, var. 163 . /software/anaconda3/lib/python3.6/site-packages/anndata/_core/index.py in _normalize_index(indexer, index). 72 return indexer. 73 elif isinstance(indexer, str):. ---> 74 return index.get_loc(indexer) # int. 75 elif isinstance(indexer, (Sequence, np.ndarray, pd.Index, spmatrix, np.matrix)):. 76 if hasattr(indexer, ""shape"") and (. /software/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 264",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:2721,modifiability,deco,decorator,2721,"arrows_kwds, groups, components, layer, projection, img_key, crop_coord, alpha_img, bw, library_id, color_map, palette, size, frameon, legend_fontsize, legend_fontweight, legend_loc, legend_fontoutline, vmax, vmin, add_outline, outline_width, outline_color, ncols, hspace, wspace, title, show, save, ax, return_fig, **kwargs). 233 palette=palette,. 234 use_raw=use_raw,. --> 235 gene_symbols=gene_symbols,. 236 ). 237 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in _get_color_values(adata, value_to_plot, groups, palette, use_raw, gene_symbols, layer). 1035 ] # TODO: Throw helpful error if this doesn't work. 1036 if use_raw and value_to_plot not in adata.obs.columns:. -> 1037 values = adata.raw.obs_vector(value_to_plot). 1038 else:. 1039 values = adata.obs_vector(value_to_plot, layer=layer). /software/anaconda3/lib/python3.6/site-packages/anndata/_core/raw.py in obs_vector(self, k). 168 def obs_vector(self, k: str) -> np.ndarray:. 169 # TODO decorator to copy AnnData.obs_vector docstring. --> 170 idx = self._normalize_indices((slice(None), k)). 171 a = self.X[idx]. 172 if issparse(a):. /software/anaconda3/lib/python3.6/site-packages/anndata/_core/raw.py in _normalize_indices(self, packed_index). 159 obs, var = unpack_index(packed_index). 160 obs = _normalize_index(obs, self._adata.obs_names). --> 161 var = _normalize_index(var, self.var_names). 162 return obs, var. 163 . /software/anaconda3/lib/python3.6/site-packages/anndata/_core/index.py in _normalize_index(indexer, index). 72 return indexer. 73 elif isinstance(indexer, str):. ---> 74 return index.get_loc(indexer) # int. 75 elif isinstance(indexer, (Sequence, np.ndarray, pd.Index, spmatrix, np.matrix)):. 76 if hasattr(indexer, ""shape"") and (. /software/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 2646 return self._engine.get_loc(key). 2647 except KeyError:. -> 2648 return self._engine.get_loc(self._maybe_cast_ind",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:2907,modifiability,pac,packages,2907,"gend_fontoutline, vmax, vmin, add_outline, outline_width, outline_color, ncols, hspace, wspace, title, show, save, ax, return_fig, **kwargs). 233 palette=palette,. 234 use_raw=use_raw,. --> 235 gene_symbols=gene_symbols,. 236 ). 237 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in _get_color_values(adata, value_to_plot, groups, palette, use_raw, gene_symbols, layer). 1035 ] # TODO: Throw helpful error if this doesn't work. 1036 if use_raw and value_to_plot not in adata.obs.columns:. -> 1037 values = adata.raw.obs_vector(value_to_plot). 1038 else:. 1039 values = adata.obs_vector(value_to_plot, layer=layer). /software/anaconda3/lib/python3.6/site-packages/anndata/_core/raw.py in obs_vector(self, k). 168 def obs_vector(self, k: str) -> np.ndarray:. 169 # TODO decorator to copy AnnData.obs_vector docstring. --> 170 idx = self._normalize_indices((slice(None), k)). 171 a = self.X[idx]. 172 if issparse(a):. /software/anaconda3/lib/python3.6/site-packages/anndata/_core/raw.py in _normalize_indices(self, packed_index). 159 obs, var = unpack_index(packed_index). 160 obs = _normalize_index(obs, self._adata.obs_names). --> 161 var = _normalize_index(var, self.var_names). 162 return obs, var. 163 . /software/anaconda3/lib/python3.6/site-packages/anndata/_core/index.py in _normalize_index(indexer, index). 72 return indexer. 73 elif isinstance(indexer, str):. ---> 74 return index.get_loc(indexer) # int. 75 elif isinstance(indexer, (Sequence, np.ndarray, pd.Index, spmatrix, np.matrix)):. 76 if hasattr(indexer, ""shape"") and (. /software/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 2646 return self._engine.get_loc(key). 2647 except KeyError:. -> 2648 return self._engine.get_loc(self._maybe_cast_indexer(key)). 2649 indexer = self.get_indexer([key], method=method, tolerance=tolerance). 2650 if indexer.ndim > 1 or indexer.size > 1:. pandas/_libs/index.pyx in pandas._libs.index.Index",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:3198,modifiability,pac,packages,3198,"lotting/_tools/scatterplots.py in _get_color_values(adata, value_to_plot, groups, palette, use_raw, gene_symbols, layer). 1035 ] # TODO: Throw helpful error if this doesn't work. 1036 if use_raw and value_to_plot not in adata.obs.columns:. -> 1037 values = adata.raw.obs_vector(value_to_plot). 1038 else:. 1039 values = adata.obs_vector(value_to_plot, layer=layer). /software/anaconda3/lib/python3.6/site-packages/anndata/_core/raw.py in obs_vector(self, k). 168 def obs_vector(self, k: str) -> np.ndarray:. 169 # TODO decorator to copy AnnData.obs_vector docstring. --> 170 idx = self._normalize_indices((slice(None), k)). 171 a = self.X[idx]. 172 if issparse(a):. /software/anaconda3/lib/python3.6/site-packages/anndata/_core/raw.py in _normalize_indices(self, packed_index). 159 obs, var = unpack_index(packed_index). 160 obs = _normalize_index(obs, self._adata.obs_names). --> 161 var = _normalize_index(var, self.var_names). 162 return obs, var. 163 . /software/anaconda3/lib/python3.6/site-packages/anndata/_core/index.py in _normalize_index(indexer, index). 72 return indexer. 73 elif isinstance(indexer, str):. ---> 74 return index.get_loc(indexer) # int. 75 elif isinstance(indexer, (Sequence, np.ndarray, pd.Index, spmatrix, np.matrix)):. 76 if hasattr(indexer, ""shape"") and (. /software/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 2646 return self._engine.get_loc(key). 2647 except KeyError:. -> 2648 return self._engine.get_loc(self._maybe_cast_indexer(key)). 2649 indexer = self.get_indexer([key], method=method, tolerance=tolerance). 2650 if indexer.ndim > 1 or indexer.size > 1:. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SP",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:3529,modifiability,pac,packages,3529,"ector(value_to_plot, layer=layer). /software/anaconda3/lib/python3.6/site-packages/anndata/_core/raw.py in obs_vector(self, k). 168 def obs_vector(self, k: str) -> np.ndarray:. 169 # TODO decorator to copy AnnData.obs_vector docstring. --> 170 idx = self._normalize_indices((slice(None), k)). 171 a = self.X[idx]. 172 if issparse(a):. /software/anaconda3/lib/python3.6/site-packages/anndata/_core/raw.py in _normalize_indices(self, packed_index). 159 obs, var = unpack_index(packed_index). 160 obs = _normalize_index(obs, self._adata.obs_names). --> 161 var = _normalize_index(var, self.var_names). 162 return obs, var. 163 . /software/anaconda3/lib/python3.6/site-packages/anndata/_core/index.py in _normalize_index(indexer, index). 72 return indexer. 73 elif isinstance(indexer, str):. ---> 74 return index.get_loc(indexer) # int. 75 elif isinstance(indexer, (Sequence, np.ndarray, pd.Index, spmatrix, np.matrix)):. 76 if hasattr(indexer, ""shape"") and (. /software/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 2646 return self._engine.get_loc(key). 2647 except KeyError:. -> 2648 return self._engine.get_loc(self._maybe_cast_indexer(key)). 2649 indexer = self.get_indexer([key], method=method, tolerance=tolerance). 2650 if indexer.ndim > 1 or indexer.size > 1:. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. ```. #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.4. -----. PIL 8.4.0. backcall 0.1.0. bottleneck 1.2.1. cffi 1.11.5. cloudpickle 0.5.3. colorama 0.3.9. cycler 0.10.0. cython_runtime NA. cytoolz 0.9.0.1. dask 0.17.5. dateutil 2.7.3. decorator 4.3.0. fa2 NA. flaskext NA. get_version 2.1. google NA. ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:4217,modifiability,Version,Versions,4217,"index.py in _normalize_index(indexer, index). 72 return indexer. 73 elif isinstance(indexer, str):. ---> 74 return index.get_loc(indexer) # int. 75 elif isinstance(indexer, (Sequence, np.ndarray, pd.Index, spmatrix, np.matrix)):. 76 if hasattr(indexer, ""shape"") and (. /software/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 2646 return self._engine.get_loc(key). 2647 except KeyError:. -> 2648 return self._engine.get_loc(self._maybe_cast_indexer(key)). 2649 indexer = self.get_indexer([key], method=method, tolerance=tolerance). 2650 if indexer.ndim > 1 or indexer.size > 1:. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. ```. #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.4. -----. PIL 8.4.0. backcall 0.1.0. bottleneck 1.2.1. cffi 1.11.5. cloudpickle 0.5.3. colorama 0.3.9. cycler 0.10.0. cython_runtime NA. cytoolz 0.9.0.1. dask 0.17.5. dateutil 2.7.3. decorator 4.3.0. fa2 NA. flaskext NA. get_version 2.1. google NA. h5py 2.10.0. igraph 0.9.7. ipykernel 4.8.2. ipython_genutils 0.2.0. ipywidgets 7.2.1. jedi 0.12.0. joblib 0.13.2. kiwisolver 1.0.1. legacy_api_wrap 1.2. leidenalg 0.8.8. llvmlite 0.34.0. louvain 0.6.1. lxml NA. matplotlib 3.3.4. mpl_toolkits NA. natsort 6.0.0. networkx 2.5.1. numba 0.51.2. numexpr 2.6.5. numpy 1.19.5. packaging 21.0. pandas 1.1.5. parso 0.2.0. pexpect 4.5.0. pickleshare 0.7.4. pkg_resources NA. prompt_toolkit 1.0.15. psutil 5.4.5. ptyprocess 0.5.2. pycparser 2.18. pygments 2.2.0. pynndescent 0.5.0. pyparsing 2.2.0. pytz 2018.4. ruamel NA. scipy 1.4.1. scvelo 0.2.4. setuptools_scm NA. simplegeneric NA. six 1.11.0. sklearn 0.24.2. sphinxcontrib NA. storemagic NA. t",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:4467,modifiability,deco,decorator,4467,", ""shape"") and (. /software/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 2646 return self._engine.get_loc(key). 2647 except KeyError:. -> 2648 return self._engine.get_loc(self._maybe_cast_indexer(key)). 2649 indexer = self.get_indexer([key], method=method, tolerance=tolerance). 2650 if indexer.ndim > 1 or indexer.size > 1:. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. ```. #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.4. -----. PIL 8.4.0. backcall 0.1.0. bottleneck 1.2.1. cffi 1.11.5. cloudpickle 0.5.3. colorama 0.3.9. cycler 0.10.0. cython_runtime NA. cytoolz 0.9.0.1. dask 0.17.5. dateutil 2.7.3. decorator 4.3.0. fa2 NA. flaskext NA. get_version 2.1. google NA. h5py 2.10.0. igraph 0.9.7. ipykernel 4.8.2. ipython_genutils 0.2.0. ipywidgets 7.2.1. jedi 0.12.0. joblib 0.13.2. kiwisolver 1.0.1. legacy_api_wrap 1.2. leidenalg 0.8.8. llvmlite 0.34.0. louvain 0.6.1. lxml NA. matplotlib 3.3.4. mpl_toolkits NA. natsort 6.0.0. networkx 2.5.1. numba 0.51.2. numexpr 2.6.5. numpy 1.19.5. packaging 21.0. pandas 1.1.5. parso 0.2.0. pexpect 4.5.0. pickleshare 0.7.4. pkg_resources NA. prompt_toolkit 1.0.15. psutil 5.4.5. ptyprocess 0.5.2. pycparser 2.18. pygments 2.2.0. pynndescent 0.5.0. pyparsing 2.2.0. pytz 2018.4. ruamel NA. scipy 1.4.1. scvelo 0.2.4. setuptools_scm NA. simplegeneric NA. six 1.11.0. sklearn 0.24.2. sphinxcontrib NA. storemagic NA. tables 3.4.3. texttable 1.6.2. toolz 0.9.0. tornado 5.0.2. tqdm 4.32.1. traitlets 4.3.2. typing_extensions NA. umap 0.4.6. wcwidth NA. yaml 5.1.2. zipp NA. zmq 17.0.0. -----. IPython 6.4.0. jupyter_client 5.2.3. jupyter_core 4.4.0. jupyterlab 0.32.1. n",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:4853,modifiability,pac,packaging,4853,"elf._engine.get_loc(self._maybe_cast_indexer(key)). 2649 indexer = self.get_indexer([key], method=method, tolerance=tolerance). 2650 if indexer.ndim > 1 or indexer.size > 1:. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. ```. #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.4. -----. PIL 8.4.0. backcall 0.1.0. bottleneck 1.2.1. cffi 1.11.5. cloudpickle 0.5.3. colorama 0.3.9. cycler 0.10.0. cython_runtime NA. cytoolz 0.9.0.1. dask 0.17.5. dateutil 2.7.3. decorator 4.3.0. fa2 NA. flaskext NA. get_version 2.1. google NA. h5py 2.10.0. igraph 0.9.7. ipykernel 4.8.2. ipython_genutils 0.2.0. ipywidgets 7.2.1. jedi 0.12.0. joblib 0.13.2. kiwisolver 1.0.1. legacy_api_wrap 1.2. leidenalg 0.8.8. llvmlite 0.34.0. louvain 0.6.1. lxml NA. matplotlib 3.3.4. mpl_toolkits NA. natsort 6.0.0. networkx 2.5.1. numba 0.51.2. numexpr 2.6.5. numpy 1.19.5. packaging 21.0. pandas 1.1.5. parso 0.2.0. pexpect 4.5.0. pickleshare 0.7.4. pkg_resources NA. prompt_toolkit 1.0.15. psutil 5.4.5. ptyprocess 0.5.2. pycparser 2.18. pygments 2.2.0. pynndescent 0.5.0. pyparsing 2.2.0. pytz 2018.4. ruamel NA. scipy 1.4.1. scvelo 0.2.4. setuptools_scm NA. simplegeneric NA. six 1.11.0. sklearn 0.24.2. sphinxcontrib NA. storemagic NA. tables 3.4.3. texttable 1.6.2. toolz 0.9.0. tornado 5.0.2. tqdm 4.32.1. traitlets 4.3.2. typing_extensions NA. umap 0.4.6. wcwidth NA. yaml 5.1.2. zipp NA. zmq 17.0.0. -----. IPython 6.4.0. jupyter_client 5.2.3. jupyter_core 4.4.0. jupyterlab 0.32.1. notebook 5.5.0. -----. Python 3.6.5 |Anaconda, Inc.| (default, Apr 29 2018, 16:14:56) [GCC 7.2.0]. Linux-3.10.0-957.21.3.el7.x86_64-x86_64-with-centos-7.6.1810-Core. 120 logical CPU cores, x86_64. -----. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:2353,performance,error,error,2353,"ges/scanpy/plotting/_tools/scatterplots.py in draw_graph(adata, layout, **kwargs). 701 ). 702 . --> 703 return embedding(adata, basis, **kwargs). 704 . 705 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in embedding(adata, basis, color, gene_symbols, use_raw, sort_order, edges, edges_width, edges_color, neighbors_key, arrows, arrows_kwds, groups, components, layer, projection, img_key, crop_coord, alpha_img, bw, library_id, color_map, palette, size, frameon, legend_fontsize, legend_fontweight, legend_loc, legend_fontoutline, vmax, vmin, add_outline, outline_width, outline_color, ncols, hspace, wspace, title, show, save, ax, return_fig, **kwargs). 233 palette=palette,. 234 use_raw=use_raw,. --> 235 gene_symbols=gene_symbols,. 236 ). 237 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in _get_color_values(adata, value_to_plot, groups, palette, use_raw, gene_symbols, layer). 1035 ] # TODO: Throw helpful error if this doesn't work. 1036 if use_raw and value_to_plot not in adata.obs.columns:. -> 1037 values = adata.raw.obs_vector(value_to_plot). 1038 else:. 1039 values = adata.obs_vector(value_to_plot, layer=layer). /software/anaconda3/lib/python3.6/site-packages/anndata/_core/raw.py in obs_vector(self, k). 168 def obs_vector(self, k: str) -> np.ndarray:. 169 # TODO decorator to copy AnnData.obs_vector docstring. --> 170 idx = self._normalize_indices((slice(None), k)). 171 a = self.X[idx]. 172 if issparse(a):. /software/anaconda3/lib/python3.6/site-packages/anndata/_core/raw.py in _normalize_indices(self, packed_index). 159 obs, var = unpack_index(packed_index). 160 obs = _normalize_index(obs, self._adata.obs_names). --> 161 var = _normalize_index(var, self.var_names). 162 return obs, var. 163 . /software/anaconda3/lib/python3.6/site-packages/anndata/_core/index.py in _normalize_index(indexer, index). 72 return indexer. 73 elif isinstance(indexer, str):. ---> 74 return index.get_loc(indexe",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:4321,performance,bottleneck,bottleneck,4321,"74 return index.get_loc(indexer) # int. 75 elif isinstance(indexer, (Sequence, np.ndarray, pd.Index, spmatrix, np.matrix)):. 76 if hasattr(indexer, ""shape"") and (. /software/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 2646 return self._engine.get_loc(key). 2647 except KeyError:. -> 2648 return self._engine.get_loc(self._maybe_cast_indexer(key)). 2649 indexer = self.get_indexer([key], method=method, tolerance=tolerance). 2650 if indexer.ndim > 1 or indexer.size > 1:. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. ```. #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.4. -----. PIL 8.4.0. backcall 0.1.0. bottleneck 1.2.1. cffi 1.11.5. cloudpickle 0.5.3. colorama 0.3.9. cycler 0.10.0. cython_runtime NA. cytoolz 0.9.0.1. dask 0.17.5. dateutil 2.7.3. decorator 4.3.0. fa2 NA. flaskext NA. get_version 2.1. google NA. h5py 2.10.0. igraph 0.9.7. ipykernel 4.8.2. ipython_genutils 0.2.0. ipywidgets 7.2.1. jedi 0.12.0. joblib 0.13.2. kiwisolver 1.0.1. legacy_api_wrap 1.2. leidenalg 0.8.8. llvmlite 0.34.0. louvain 0.6.1. lxml NA. matplotlib 3.3.4. mpl_toolkits NA. natsort 6.0.0. networkx 2.5.1. numba 0.51.2. numexpr 2.6.5. numpy 1.19.5. packaging 21.0. pandas 1.1.5. parso 0.2.0. pexpect 4.5.0. pickleshare 0.7.4. pkg_resources NA. prompt_toolkit 1.0.15. psutil 5.4.5. ptyprocess 0.5.2. pycparser 2.18. pygments 2.2.0. pynndescent 0.5.0. pyparsing 2.2.0. pytz 2018.4. ruamel NA. scipy 1.4.1. scvelo 0.2.4. setuptools_scm NA. simplegeneric NA. six 1.11.0. sklearn 0.24.2. sphinxcontrib NA. storemagic NA. tables 3.4.3. texttable 1.6.2. toolz 0.9.0. tornado 5.0.2. tqdm 4.32.1. traitlets 4.3.2. typing_extensions",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:4794,performance,network,networkx,4794,"elf._engine.get_loc(self._maybe_cast_indexer(key)). 2649 indexer = self.get_indexer([key], method=method, tolerance=tolerance). 2650 if indexer.ndim > 1 or indexer.size > 1:. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. ```. #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.4. -----. PIL 8.4.0. backcall 0.1.0. bottleneck 1.2.1. cffi 1.11.5. cloudpickle 0.5.3. colorama 0.3.9. cycler 0.10.0. cython_runtime NA. cytoolz 0.9.0.1. dask 0.17.5. dateutil 2.7.3. decorator 4.3.0. fa2 NA. flaskext NA. get_version 2.1. google NA. h5py 2.10.0. igraph 0.9.7. ipykernel 4.8.2. ipython_genutils 0.2.0. ipywidgets 7.2.1. jedi 0.12.0. joblib 0.13.2. kiwisolver 1.0.1. legacy_api_wrap 1.2. leidenalg 0.8.8. llvmlite 0.34.0. louvain 0.6.1. lxml NA. matplotlib 3.3.4. mpl_toolkits NA. natsort 6.0.0. networkx 2.5.1. numba 0.51.2. numexpr 2.6.5. numpy 1.19.5. packaging 21.0. pandas 1.1.5. parso 0.2.0. pexpect 4.5.0. pickleshare 0.7.4. pkg_resources NA. prompt_toolkit 1.0.15. psutil 5.4.5. ptyprocess 0.5.2. pycparser 2.18. pygments 2.2.0. pynndescent 0.5.0. pyparsing 2.2.0. pytz 2018.4. ruamel NA. scipy 1.4.1. scvelo 0.2.4. setuptools_scm NA. simplegeneric NA. six 1.11.0. sklearn 0.24.2. sphinxcontrib NA. storemagic NA. tables 3.4.3. texttable 1.6.2. toolz 0.9.0. tornado 5.0.2. tqdm 4.32.1. traitlets 4.3.2. typing_extensions NA. umap 0.4.6. wcwidth NA. yaml 5.1.2. zipp NA. zmq 17.0.0. -----. IPython 6.4.0. jupyter_client 5.2.3. jupyter_core 4.4.0. jupyterlab 0.32.1. notebook 5.5.0. -----. Python 3.6.5 |Anaconda, Inc.| (default, Apr 29 2018, 16:14:56) [GCC 7.2.0]. Linux-3.10.0-957.21.3.el7.x86_64-x86_64-with-centos-7.6.1810-Core. 120 logical CPU cores, x86_64. -----. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:5649,performance,CPU,CPU,5649,"elf._engine.get_loc(self._maybe_cast_indexer(key)). 2649 indexer = self.get_indexer([key], method=method, tolerance=tolerance). 2650 if indexer.ndim > 1 or indexer.size > 1:. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. ```. #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.4. -----. PIL 8.4.0. backcall 0.1.0. bottleneck 1.2.1. cffi 1.11.5. cloudpickle 0.5.3. colorama 0.3.9. cycler 0.10.0. cython_runtime NA. cytoolz 0.9.0.1. dask 0.17.5. dateutil 2.7.3. decorator 4.3.0. fa2 NA. flaskext NA. get_version 2.1. google NA. h5py 2.10.0. igraph 0.9.7. ipykernel 4.8.2. ipython_genutils 0.2.0. ipywidgets 7.2.1. jedi 0.12.0. joblib 0.13.2. kiwisolver 1.0.1. legacy_api_wrap 1.2. leidenalg 0.8.8. llvmlite 0.34.0. louvain 0.6.1. lxml NA. matplotlib 3.3.4. mpl_toolkits NA. natsort 6.0.0. networkx 2.5.1. numba 0.51.2. numexpr 2.6.5. numpy 1.19.5. packaging 21.0. pandas 1.1.5. parso 0.2.0. pexpect 4.5.0. pickleshare 0.7.4. pkg_resources NA. prompt_toolkit 1.0.15. psutil 5.4.5. ptyprocess 0.5.2. pycparser 2.18. pygments 2.2.0. pynndescent 0.5.0. pyparsing 2.2.0. pytz 2018.4. ruamel NA. scipy 1.4.1. scvelo 0.2.4. setuptools_scm NA. simplegeneric NA. six 1.11.0. sklearn 0.24.2. sphinxcontrib NA. storemagic NA. tables 3.4.3. texttable 1.6.2. toolz 0.9.0. tornado 5.0.2. tqdm 4.32.1. traitlets 4.3.2. typing_extensions NA. umap 0.4.6. wcwidth NA. yaml 5.1.2. zipp NA. zmq 17.0.0. -----. IPython 6.4.0. jupyter_client 5.2.3. jupyter_core 4.4.0. jupyterlab 0.32.1. notebook 5.5.0. -----. Python 3.6.5 |Anaconda, Inc.| (default, Apr 29 2018, 16:14:56) [GCC 7.2.0]. Linux-3.10.0-957.21.3.el7.x86_64-x86_64-with-centos-7.6.1810-Core. 120 logical CPU cores, x86_64. -----. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:667,reliability,toleran,tolerance,667,"KeyError when plotting gene expression ; Hello, . Whenever I try to plot gene expression I get the following KeyError, regardless of the gene/plotting function. I have confirmed that all genes I have tried do exist in adata.var_names. Id like to highlight that my adata object was created from h5ad converted from seurat. How can I check the keys? . Thank you! Lucy. ---. ```python. sc.pl.draw_graph(myeloid, color=['SPP1']). ```. ```pytb. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). /software/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 2645 try:. -> 2646 return self._engine.get_loc(key). 2647 except KeyError:. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. During handling of the above exception, another exception occurred:. KeyError Traceback (most recent call last). <ipython-input-94-440b32bde3cc> in <module>(). ----> 1 sc.pl.draw_graph(myeloid, color=['SPP1']). /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in draw_graph(adata, layout, **kwargs). 701 ). 702 . --> 703 return embedding(adata, basis, **kwargs). 704 . 705 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in embedding(adata, basis, color, gene_symbols, use_raw, sort_order, edges, edges_width, edges_color, neighbors_key, arrows, arrows_kwds, groups, components, layer, projection, img_key, crop_coord, alpha_img, bw, library_id, color_map, palette, size, frameon, legend_fontsize, legend_fontweight, legend_loc, legend_fontoutline, vmax, vmin, add_outline, outline_width, outline_color, ncols, hspace, w",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:2367,reliability,doe,doesn,2367,"tting/_tools/scatterplots.py in draw_graph(adata, layout, **kwargs). 701 ). 702 . --> 703 return embedding(adata, basis, **kwargs). 704 . 705 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in embedding(adata, basis, color, gene_symbols, use_raw, sort_order, edges, edges_width, edges_color, neighbors_key, arrows, arrows_kwds, groups, components, layer, projection, img_key, crop_coord, alpha_img, bw, library_id, color_map, palette, size, frameon, legend_fontsize, legend_fontweight, legend_loc, legend_fontoutline, vmax, vmin, add_outline, outline_width, outline_color, ncols, hspace, wspace, title, show, save, ax, return_fig, **kwargs). 233 palette=palette,. 234 use_raw=use_raw,. --> 235 gene_symbols=gene_symbols,. 236 ). 237 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in _get_color_values(adata, value_to_plot, groups, palette, use_raw, gene_symbols, layer). 1035 ] # TODO: Throw helpful error if this doesn't work. 1036 if use_raw and value_to_plot not in adata.obs.columns:. -> 1037 values = adata.raw.obs_vector(value_to_plot). 1038 else:. 1039 values = adata.obs_vector(value_to_plot, layer=layer). /software/anaconda3/lib/python3.6/site-packages/anndata/_core/raw.py in obs_vector(self, k). 168 def obs_vector(self, k: str) -> np.ndarray:. 169 # TODO decorator to copy AnnData.obs_vector docstring. --> 170 idx = self._normalize_indices((slice(None), k)). 171 a = self.X[idx]. 172 if issparse(a):. /software/anaconda3/lib/python3.6/site-packages/anndata/_core/raw.py in _normalize_indices(self, packed_index). 159 obs, var = unpack_index(packed_index). 160 obs = _normalize_index(obs, self._adata.obs_names). --> 161 var = _normalize_index(var, self.var_names). 162 return obs, var. 163 . /software/anaconda3/lib/python3.6/site-packages/anndata/_core/index.py in _normalize_index(indexer, index). 72 return indexer. 73 elif isinstance(indexer, str):. ---> 74 return index.get_loc(indexer) # int. 75 e",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:2808,reliability,sli,slice,2808,"w, library_id, color_map, palette, size, frameon, legend_fontsize, legend_fontweight, legend_loc, legend_fontoutline, vmax, vmin, add_outline, outline_width, outline_color, ncols, hspace, wspace, title, show, save, ax, return_fig, **kwargs). 233 palette=palette,. 234 use_raw=use_raw,. --> 235 gene_symbols=gene_symbols,. 236 ). 237 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in _get_color_values(adata, value_to_plot, groups, palette, use_raw, gene_symbols, layer). 1035 ] # TODO: Throw helpful error if this doesn't work. 1036 if use_raw and value_to_plot not in adata.obs.columns:. -> 1037 values = adata.raw.obs_vector(value_to_plot). 1038 else:. 1039 values = adata.obs_vector(value_to_plot, layer=layer). /software/anaconda3/lib/python3.6/site-packages/anndata/_core/raw.py in obs_vector(self, k). 168 def obs_vector(self, k: str) -> np.ndarray:. 169 # TODO decorator to copy AnnData.obs_vector docstring. --> 170 idx = self._normalize_indices((slice(None), k)). 171 a = self.X[idx]. 172 if issparse(a):. /software/anaconda3/lib/python3.6/site-packages/anndata/_core/raw.py in _normalize_indices(self, packed_index). 159 obs, var = unpack_index(packed_index). 160 obs = _normalize_index(obs, self._adata.obs_names). --> 161 var = _normalize_index(var, self.var_names). 162 return obs, var. 163 . /software/anaconda3/lib/python3.6/site-packages/anndata/_core/index.py in _normalize_index(indexer, index). 72 return indexer. 73 elif isinstance(indexer, str):. ---> 74 return index.get_loc(indexer) # int. 75 elif isinstance(indexer, (Sequence, np.ndarray, pd.Index, spmatrix, np.matrix)):. 76 if hasattr(indexer, ""shape"") and (. /software/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 2646 return self._engine.get_loc(key). 2647 except KeyError:. -> 2648 return self._engine.get_loc(self._maybe_cast_indexer(key)). 2649 indexer = self.get_indexer([key], method=method, tolerance=tolerance",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:3596,reliability,toleran,tolerance,3596,"/site-packages/anndata/_core/raw.py in obs_vector(self, k). 168 def obs_vector(self, k: str) -> np.ndarray:. 169 # TODO decorator to copy AnnData.obs_vector docstring. --> 170 idx = self._normalize_indices((slice(None), k)). 171 a = self.X[idx]. 172 if issparse(a):. /software/anaconda3/lib/python3.6/site-packages/anndata/_core/raw.py in _normalize_indices(self, packed_index). 159 obs, var = unpack_index(packed_index). 160 obs = _normalize_index(obs, self._adata.obs_names). --> 161 var = _normalize_index(var, self.var_names). 162 return obs, var. 163 . /software/anaconda3/lib/python3.6/site-packages/anndata/_core/index.py in _normalize_index(indexer, index). 72 return indexer. 73 elif isinstance(indexer, str):. ---> 74 return index.get_loc(indexer) # int. 75 elif isinstance(indexer, (Sequence, np.ndarray, pd.Index, spmatrix, np.matrix)):. 76 if hasattr(indexer, ""shape"") and (. /software/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 2646 return self._engine.get_loc(key). 2647 except KeyError:. -> 2648 return self._engine.get_loc(self._maybe_cast_indexer(key)). 2649 indexer = self.get_indexer([key], method=method, tolerance=tolerance). 2650 if indexer.ndim > 1 or indexer.size > 1:. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. ```. #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.4. -----. PIL 8.4.0. backcall 0.1.0. bottleneck 1.2.1. cffi 1.11.5. cloudpickle 0.5.3. colorama 0.3.9. cycler 0.10.0. cython_runtime NA. cytoolz 0.9.0.1. dask 0.17.5. dateutil 2.7.3. decorator 4.3.0. fa2 NA. flaskext NA. get_version 2.1. google NA. h5py 2.10.0. igraph 0.9.7. ipykernel 4.8.2. ipython_genutils 0.2.0. ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:3792,reliability,toleran,tolerance,3792,"e_indices((slice(None), k)). 171 a = self.X[idx]. 172 if issparse(a):. /software/anaconda3/lib/python3.6/site-packages/anndata/_core/raw.py in _normalize_indices(self, packed_index). 159 obs, var = unpack_index(packed_index). 160 obs = _normalize_index(obs, self._adata.obs_names). --> 161 var = _normalize_index(var, self.var_names). 162 return obs, var. 163 . /software/anaconda3/lib/python3.6/site-packages/anndata/_core/index.py in _normalize_index(indexer, index). 72 return indexer. 73 elif isinstance(indexer, str):. ---> 74 return index.get_loc(indexer) # int. 75 elif isinstance(indexer, (Sequence, np.ndarray, pd.Index, spmatrix, np.matrix)):. 76 if hasattr(indexer, ""shape"") and (. /software/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 2646 return self._engine.get_loc(key). 2647 except KeyError:. -> 2648 return self._engine.get_loc(self._maybe_cast_indexer(key)). 2649 indexer = self.get_indexer([key], method=method, tolerance=tolerance). 2650 if indexer.ndim > 1 or indexer.size > 1:. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. ```. #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.4. -----. PIL 8.4.0. backcall 0.1.0. bottleneck 1.2.1. cffi 1.11.5. cloudpickle 0.5.3. colorama 0.3.9. cycler 0.10.0. cython_runtime NA. cytoolz 0.9.0.1. dask 0.17.5. dateutil 2.7.3. decorator 4.3.0. fa2 NA. flaskext NA. get_version 2.1. google NA. h5py 2.10.0. igraph 0.9.7. ipykernel 4.8.2. ipython_genutils 0.2.0. ipywidgets 7.2.1. jedi 0.12.0. joblib 0.13.2. kiwisolver 1.0.1. legacy_api_wrap 1.2. leidenalg 0.8.8. llvmlite 0.34.0. louvain 0.6.1. lxml NA. matplotlib 3.3.4. mpl_toolkits NA. natsort 6.0.0. net",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:3802,reliability,toleran,tolerance,3802,"(slice(None), k)). 171 a = self.X[idx]. 172 if issparse(a):. /software/anaconda3/lib/python3.6/site-packages/anndata/_core/raw.py in _normalize_indices(self, packed_index). 159 obs, var = unpack_index(packed_index). 160 obs = _normalize_index(obs, self._adata.obs_names). --> 161 var = _normalize_index(var, self.var_names). 162 return obs, var. 163 . /software/anaconda3/lib/python3.6/site-packages/anndata/_core/index.py in _normalize_index(indexer, index). 72 return indexer. 73 elif isinstance(indexer, str):. ---> 74 return index.get_loc(indexer) # int. 75 elif isinstance(indexer, (Sequence, np.ndarray, pd.Index, spmatrix, np.matrix)):. 76 if hasattr(indexer, ""shape"") and (. /software/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 2646 return self._engine.get_loc(key). 2647 except KeyError:. -> 2648 return self._engine.get_loc(self._maybe_cast_indexer(key)). 2649 indexer = self.get_indexer([key], method=method, tolerance=tolerance). 2650 if indexer.ndim > 1 or indexer.size > 1:. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. ```. #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.4. -----. PIL 8.4.0. backcall 0.1.0. bottleneck 1.2.1. cffi 1.11.5. cloudpickle 0.5.3. colorama 0.3.9. cycler 0.10.0. cython_runtime NA. cytoolz 0.9.0.1. dask 0.17.5. dateutil 2.7.3. decorator 4.3.0. fa2 NA. flaskext NA. get_version 2.1. google NA. h5py 2.10.0. igraph 0.9.7. ipykernel 4.8.2. ipython_genutils 0.2.0. ipywidgets 7.2.1. jedi 0.12.0. joblib 0.13.2. kiwisolver 1.0.1. legacy_api_wrap 1.2. leidenalg 0.8.8. llvmlite 0.34.0. louvain 0.6.1. lxml NA. matplotlib 3.3.4. mpl_toolkits NA. natsort 6.0.0. networkx 2.5.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:737,safety,except,except,737,"KeyError when plotting gene expression ; Hello, . Whenever I try to plot gene expression I get the following KeyError, regardless of the gene/plotting function. I have confirmed that all genes I have tried do exist in adata.var_names. Id like to highlight that my adata object was created from h5ad converted from seurat. How can I check the keys? . Thank you! Lucy. ---. ```python. sc.pl.draw_graph(myeloid, color=['SPP1']). ```. ```pytb. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). /software/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 2645 try:. -> 2646 return self._engine.get_loc(key). 2647 except KeyError:. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. During handling of the above exception, another exception occurred:. KeyError Traceback (most recent call last). <ipython-input-94-440b32bde3cc> in <module>(). ----> 1 sc.pl.draw_graph(myeloid, color=['SPP1']). /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in draw_graph(adata, layout, **kwargs). 701 ). 702 . --> 703 return embedding(adata, basis, **kwargs). 704 . 705 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in embedding(adata, basis, color, gene_symbols, use_raw, sort_order, edges, edges_width, edges_color, neighbors_key, arrows, arrows_kwds, groups, components, layer, projection, img_key, crop_coord, alpha_img, bw, library_id, color_map, palette, size, frameon, legend_fontsize, legend_fontweight, legend_loc, legend_fontoutline, vmax, vmin, add_outline, outline_width, outline_color, ncols, hspace, w",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:1130,safety,except,exception,1130,"e gene/plotting function. I have confirmed that all genes I have tried do exist in adata.var_names. Id like to highlight that my adata object was created from h5ad converted from seurat. How can I check the keys? . Thank you! Lucy. ---. ```python. sc.pl.draw_graph(myeloid, color=['SPP1']). ```. ```pytb. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). /software/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 2645 try:. -> 2646 return self._engine.get_loc(key). 2647 except KeyError:. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. During handling of the above exception, another exception occurred:. KeyError Traceback (most recent call last). <ipython-input-94-440b32bde3cc> in <module>(). ----> 1 sc.pl.draw_graph(myeloid, color=['SPP1']). /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in draw_graph(adata, layout, **kwargs). 701 ). 702 . --> 703 return embedding(adata, basis, **kwargs). 704 . 705 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in embedding(adata, basis, color, gene_symbols, use_raw, sort_order, edges, edges_width, edges_color, neighbors_key, arrows, arrows_kwds, groups, components, layer, projection, img_key, crop_coord, alpha_img, bw, library_id, color_map, palette, size, frameon, legend_fontsize, legend_fontweight, legend_loc, legend_fontoutline, vmax, vmin, add_outline, outline_width, outline_color, ncols, hspace, wspace, title, show, save, ax, return_fig, **kwargs). 233 palette=palette,. 234 use_raw=use_raw,. --> 235 gene_symbols=gene_symbols,. 23",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:1149,safety,except,exception,1149,"ction. I have confirmed that all genes I have tried do exist in adata.var_names. Id like to highlight that my adata object was created from h5ad converted from seurat. How can I check the keys? . Thank you! Lucy. ---. ```python. sc.pl.draw_graph(myeloid, color=['SPP1']). ```. ```pytb. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). /software/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 2645 try:. -> 2646 return self._engine.get_loc(key). 2647 except KeyError:. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. During handling of the above exception, another exception occurred:. KeyError Traceback (most recent call last). <ipython-input-94-440b32bde3cc> in <module>(). ----> 1 sc.pl.draw_graph(myeloid, color=['SPP1']). /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in draw_graph(adata, layout, **kwargs). 701 ). 702 . --> 703 return embedding(adata, basis, **kwargs). 704 . 705 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in embedding(adata, basis, color, gene_symbols, use_raw, sort_order, edges, edges_width, edges_color, neighbors_key, arrows, arrows_kwds, groups, components, layer, projection, img_key, crop_coord, alpha_img, bw, library_id, color_map, palette, size, frameon, legend_fontsize, legend_fontweight, legend_loc, legend_fontoutline, vmax, vmin, add_outline, outline_width, outline_color, ncols, hspace, wspace, title, show, save, ax, return_fig, **kwargs). 233 palette=palette,. 234 use_raw=use_raw,. --> 235 gene_symbols=gene_symbols,. 236 ). 237 . /softwar",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:1223,safety,input,input-,1223,"r_names. Id like to highlight that my adata object was created from h5ad converted from seurat. How can I check the keys? . Thank you! Lucy. ---. ```python. sc.pl.draw_graph(myeloid, color=['SPP1']). ```. ```pytb. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). /software/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 2645 try:. -> 2646 return self._engine.get_loc(key). 2647 except KeyError:. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. During handling of the above exception, another exception occurred:. KeyError Traceback (most recent call last). <ipython-input-94-440b32bde3cc> in <module>(). ----> 1 sc.pl.draw_graph(myeloid, color=['SPP1']). /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in draw_graph(adata, layout, **kwargs). 701 ). 702 . --> 703 return embedding(adata, basis, **kwargs). 704 . 705 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in embedding(adata, basis, color, gene_symbols, use_raw, sort_order, edges, edges_width, edges_color, neighbors_key, arrows, arrows_kwds, groups, components, layer, projection, img_key, crop_coord, alpha_img, bw, library_id, color_map, palette, size, frameon, legend_fontsize, legend_fontweight, legend_loc, legend_fontoutline, vmax, vmin, add_outline, outline_width, outline_color, ncols, hspace, wspace, title, show, save, ax, return_fig, **kwargs). 233 palette=palette,. 234 use_raw=use_raw,. --> 235 gene_symbols=gene_symbols,. 236 ). 237 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterpl",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:1250,safety,modul,module,1250,"ht that my adata object was created from h5ad converted from seurat. How can I check the keys? . Thank you! Lucy. ---. ```python. sc.pl.draw_graph(myeloid, color=['SPP1']). ```. ```pytb. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). /software/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 2645 try:. -> 2646 return self._engine.get_loc(key). 2647 except KeyError:. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. During handling of the above exception, another exception occurred:. KeyError Traceback (most recent call last). <ipython-input-94-440b32bde3cc> in <module>(). ----> 1 sc.pl.draw_graph(myeloid, color=['SPP1']). /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in draw_graph(adata, layout, **kwargs). 701 ). 702 . --> 703 return embedding(adata, basis, **kwargs). 704 . 705 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in embedding(adata, basis, color, gene_symbols, use_raw, sort_order, edges, edges_width, edges_color, neighbors_key, arrows, arrows_kwds, groups, components, layer, projection, img_key, crop_coord, alpha_img, bw, library_id, color_map, palette, size, frameon, legend_fontsize, legend_fontweight, legend_loc, legend_fontoutline, vmax, vmin, add_outline, outline_width, outline_color, ncols, hspace, wspace, title, show, save, ax, return_fig, **kwargs). 233 palette=palette,. 234 use_raw=use_raw,. --> 235 gene_symbols=gene_symbols,. 236 ). 237 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in _get_color_values",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:2353,safety,error,error,2353,"ges/scanpy/plotting/_tools/scatterplots.py in draw_graph(adata, layout, **kwargs). 701 ). 702 . --> 703 return embedding(adata, basis, **kwargs). 704 . 705 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in embedding(adata, basis, color, gene_symbols, use_raw, sort_order, edges, edges_width, edges_color, neighbors_key, arrows, arrows_kwds, groups, components, layer, projection, img_key, crop_coord, alpha_img, bw, library_id, color_map, palette, size, frameon, legend_fontsize, legend_fontweight, legend_loc, legend_fontoutline, vmax, vmin, add_outline, outline_width, outline_color, ncols, hspace, wspace, title, show, save, ax, return_fig, **kwargs). 233 palette=palette,. 234 use_raw=use_raw,. --> 235 gene_symbols=gene_symbols,. 236 ). 237 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in _get_color_values(adata, value_to_plot, groups, palette, use_raw, gene_symbols, layer). 1035 ] # TODO: Throw helpful error if this doesn't work. 1036 if use_raw and value_to_plot not in adata.obs.columns:. -> 1037 values = adata.raw.obs_vector(value_to_plot). 1038 else:. 1039 values = adata.obs_vector(value_to_plot, layer=layer). /software/anaconda3/lib/python3.6/site-packages/anndata/_core/raw.py in obs_vector(self, k). 168 def obs_vector(self, k: str) -> np.ndarray:. 169 # TODO decorator to copy AnnData.obs_vector docstring. --> 170 idx = self._normalize_indices((slice(None), k)). 171 a = self.X[idx]. 172 if issparse(a):. /software/anaconda3/lib/python3.6/site-packages/anndata/_core/raw.py in _normalize_indices(self, packed_index). 159 obs, var = unpack_index(packed_index). 160 obs = _normalize_index(obs, self._adata.obs_names). --> 161 var = _normalize_index(var, self.var_names). 162 return obs, var. 163 . /software/anaconda3/lib/python3.6/site-packages/anndata/_core/index.py in _normalize_index(indexer, index). 72 return indexer. 73 elif isinstance(indexer, str):. ---> 74 return index.get_loc(indexe",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:3652,safety,except,except,3652,", k). 168 def obs_vector(self, k: str) -> np.ndarray:. 169 # TODO decorator to copy AnnData.obs_vector docstring. --> 170 idx = self._normalize_indices((slice(None), k)). 171 a = self.X[idx]. 172 if issparse(a):. /software/anaconda3/lib/python3.6/site-packages/anndata/_core/raw.py in _normalize_indices(self, packed_index). 159 obs, var = unpack_index(packed_index). 160 obs = _normalize_index(obs, self._adata.obs_names). --> 161 var = _normalize_index(var, self.var_names). 162 return obs, var. 163 . /software/anaconda3/lib/python3.6/site-packages/anndata/_core/index.py in _normalize_index(indexer, index). 72 return indexer. 73 elif isinstance(indexer, str):. ---> 74 return index.get_loc(indexer) # int. 75 elif isinstance(indexer, (Sequence, np.ndarray, pd.Index, spmatrix, np.matrix)):. 76 if hasattr(indexer, ""shape"") and (. /software/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 2646 return self._engine.get_loc(key). 2647 except KeyError:. -> 2648 return self._engine.get_loc(self._maybe_cast_indexer(key)). 2649 indexer = self.get_indexer([key], method=method, tolerance=tolerance). 2650 if indexer.ndim > 1 or indexer.size > 1:. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. ```. #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.4. -----. PIL 8.4.0. backcall 0.1.0. bottleneck 1.2.1. cffi 1.11.5. cloudpickle 0.5.3. colorama 0.3.9. cycler 0.10.0. cython_runtime NA. cytoolz 0.9.0.1. dask 0.17.5. dateutil 2.7.3. decorator 4.3.0. fa2 NA. flaskext NA. get_version 2.1. google NA. h5py 2.10.0. igraph 0.9.7. ipykernel 4.8.2. ipython_genutils 0.2.0. ipywidgets 7.2.1. jedi 0.12.0. joblib 0.13.2. kiwisolv",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:5641,safety,log,logical,5641,"elf._engine.get_loc(self._maybe_cast_indexer(key)). 2649 indexer = self.get_indexer([key], method=method, tolerance=tolerance). 2650 if indexer.ndim > 1 or indexer.size > 1:. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. ```. #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.4. -----. PIL 8.4.0. backcall 0.1.0. bottleneck 1.2.1. cffi 1.11.5. cloudpickle 0.5.3. colorama 0.3.9. cycler 0.10.0. cython_runtime NA. cytoolz 0.9.0.1. dask 0.17.5. dateutil 2.7.3. decorator 4.3.0. fa2 NA. flaskext NA. get_version 2.1. google NA. h5py 2.10.0. igraph 0.9.7. ipykernel 4.8.2. ipython_genutils 0.2.0. ipywidgets 7.2.1. jedi 0.12.0. joblib 0.13.2. kiwisolver 1.0.1. legacy_api_wrap 1.2. leidenalg 0.8.8. llvmlite 0.34.0. louvain 0.6.1. lxml NA. matplotlib 3.3.4. mpl_toolkits NA. natsort 6.0.0. networkx 2.5.1. numba 0.51.2. numexpr 2.6.5. numpy 1.19.5. packaging 21.0. pandas 1.1.5. parso 0.2.0. pexpect 4.5.0. pickleshare 0.7.4. pkg_resources NA. prompt_toolkit 1.0.15. psutil 5.4.5. ptyprocess 0.5.2. pycparser 2.18. pygments 2.2.0. pynndescent 0.5.0. pyparsing 2.2.0. pytz 2018.4. ruamel NA. scipy 1.4.1. scvelo 0.2.4. setuptools_scm NA. simplegeneric NA. six 1.11.0. sklearn 0.24.2. sphinxcontrib NA. storemagic NA. tables 3.4.3. texttable 1.6.2. toolz 0.9.0. tornado 5.0.2. tqdm 4.32.1. traitlets 4.3.2. typing_extensions NA. umap 0.4.6. wcwidth NA. yaml 5.1.2. zipp NA. zmq 17.0.0. -----. IPython 6.4.0. jupyter_client 5.2.3. jupyter_core 4.4.0. jupyterlab 0.32.1. notebook 5.5.0. -----. Python 3.6.5 |Anaconda, Inc.| (default, Apr 29 2018, 16:14:56) [GCC 7.2.0]. Linux-3.10.0-957.21.3.el7.x86_64-x86_64-with-centos-7.6.1810-Core. 120 logical CPU cores, x86_64. -----. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:947,security,hash,hashtable,947,"KeyError when plotting gene expression ; Hello, . Whenever I try to plot gene expression I get the following KeyError, regardless of the gene/plotting function. I have confirmed that all genes I have tried do exist in adata.var_names. Id like to highlight that my adata object was created from h5ad converted from seurat. How can I check the keys? . Thank you! Lucy. ---. ```python. sc.pl.draw_graph(myeloid, color=['SPP1']). ```. ```pytb. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). /software/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 2645 try:. -> 2646 return self._engine.get_loc(key). 2647 except KeyError:. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. During handling of the above exception, another exception occurred:. KeyError Traceback (most recent call last). <ipython-input-94-440b32bde3cc> in <module>(). ----> 1 sc.pl.draw_graph(myeloid, color=['SPP1']). /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in draw_graph(adata, layout, **kwargs). 701 ). 702 . --> 703 return embedding(adata, basis, **kwargs). 704 . 705 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in embedding(adata, basis, color, gene_symbols, use_raw, sort_order, edges, edges_width, edges_color, neighbors_key, arrows, arrows_kwds, groups, components, layer, projection, img_key, crop_coord, alpha_img, bw, library_id, color_map, palette, size, frameon, legend_fontsize, legend_fontweight, legend_loc, legend_fontoutline, vmax, vmin, add_outline, outline_width, outline_color, ncols, hspace, w",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:1043,security,hash,hashtable,1043,". Whenever I try to plot gene expression I get the following KeyError, regardless of the gene/plotting function. I have confirmed that all genes I have tried do exist in adata.var_names. Id like to highlight that my adata object was created from h5ad converted from seurat. How can I check the keys? . Thank you! Lucy. ---. ```python. sc.pl.draw_graph(myeloid, color=['SPP1']). ```. ```pytb. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). /software/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 2645 try:. -> 2646 return self._engine.get_loc(key). 2647 except KeyError:. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. During handling of the above exception, another exception occurred:. KeyError Traceback (most recent call last). <ipython-input-94-440b32bde3cc> in <module>(). ----> 1 sc.pl.draw_graph(myeloid, color=['SPP1']). /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in draw_graph(adata, layout, **kwargs). 701 ). 702 . --> 703 return embedding(adata, basis, **kwargs). 704 . 705 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in embedding(adata, basis, color, gene_symbols, use_raw, sort_order, edges, edges_width, edges_color, neighbors_key, arrows, arrows_kwds, groups, components, layer, projection, img_key, crop_coord, alpha_img, bw, library_id, color_map, palette, size, frameon, legend_fontsize, legend_fontweight, legend_loc, legend_fontoutline, vmax, vmin, add_outline, outline_width, outline_color, ncols, hspace, wspace, title, show, save, ax, return_fig, **kwar",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:4053,security,hash,hashtable,4053,"f._adata.obs_names). --> 161 var = _normalize_index(var, self.var_names). 162 return obs, var. 163 . /software/anaconda3/lib/python3.6/site-packages/anndata/_core/index.py in _normalize_index(indexer, index). 72 return indexer. 73 elif isinstance(indexer, str):. ---> 74 return index.get_loc(indexer) # int. 75 elif isinstance(indexer, (Sequence, np.ndarray, pd.Index, spmatrix, np.matrix)):. 76 if hasattr(indexer, ""shape"") and (. /software/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 2646 return self._engine.get_loc(key). 2647 except KeyError:. -> 2648 return self._engine.get_loc(self._maybe_cast_indexer(key)). 2649 indexer = self.get_indexer([key], method=method, tolerance=tolerance). 2650 if indexer.ndim > 1 or indexer.size > 1:. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. ```. #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.4. -----. PIL 8.4.0. backcall 0.1.0. bottleneck 1.2.1. cffi 1.11.5. cloudpickle 0.5.3. colorama 0.3.9. cycler 0.10.0. cython_runtime NA. cytoolz 0.9.0.1. dask 0.17.5. dateutil 2.7.3. decorator 4.3.0. fa2 NA. flaskext NA. get_version 2.1. google NA. h5py 2.10.0. igraph 0.9.7. ipykernel 4.8.2. ipython_genutils 0.2.0. ipywidgets 7.2.1. jedi 0.12.0. joblib 0.13.2. kiwisolver 1.0.1. legacy_api_wrap 1.2. leidenalg 0.8.8. llvmlite 0.34.0. louvain 0.6.1. lxml NA. matplotlib 3.3.4. mpl_toolkits NA. natsort 6.0.0. networkx 2.5.1. numba 0.51.2. numexpr 2.6.5. numpy 1.19.5. packaging 21.0. pandas 1.1.5. parso 0.2.0. pexpect 4.5.0. pickleshare 0.7.4. pkg_resources NA. prompt_toolkit 1.0.15. psutil 5.4.5. ptyprocess 0.5.2. pycparser 2.18. pygments 2.2.0. pynndescent 0.5.0. pypa",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:4149,security,hash,hashtable,4149,"63 . /software/anaconda3/lib/python3.6/site-packages/anndata/_core/index.py in _normalize_index(indexer, index). 72 return indexer. 73 elif isinstance(indexer, str):. ---> 74 return index.get_loc(indexer) # int. 75 elif isinstance(indexer, (Sequence, np.ndarray, pd.Index, spmatrix, np.matrix)):. 76 if hasattr(indexer, ""shape"") and (. /software/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 2646 return self._engine.get_loc(key). 2647 except KeyError:. -> 2648 return self._engine.get_loc(self._maybe_cast_indexer(key)). 2649 indexer = self.get_indexer([key], method=method, tolerance=tolerance). 2650 if indexer.ndim > 1 or indexer.size > 1:. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. ```. #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.4. -----. PIL 8.4.0. backcall 0.1.0. bottleneck 1.2.1. cffi 1.11.5. cloudpickle 0.5.3. colorama 0.3.9. cycler 0.10.0. cython_runtime NA. cytoolz 0.9.0.1. dask 0.17.5. dateutil 2.7.3. decorator 4.3.0. fa2 NA. flaskext NA. get_version 2.1. google NA. h5py 2.10.0. igraph 0.9.7. ipykernel 4.8.2. ipython_genutils 0.2.0. ipywidgets 7.2.1. jedi 0.12.0. joblib 0.13.2. kiwisolver 1.0.1. legacy_api_wrap 1.2. leidenalg 0.8.8. llvmlite 0.34.0. louvain 0.6.1. lxml NA. matplotlib 3.3.4. mpl_toolkits NA. natsort 6.0.0. networkx 2.5.1. numba 0.51.2. numexpr 2.6.5. numpy 1.19.5. packaging 21.0. pandas 1.1.5. parso 0.2.0. pexpect 4.5.0. pickleshare 0.7.4. pkg_resources NA. prompt_toolkit 1.0.15. psutil 5.4.5. ptyprocess 0.5.2. pycparser 2.18. pygments 2.2.0. pynndescent 0.5.0. pyparsing 2.2.0. pytz 2018.4. ruamel NA. scipy 1.4.1. scvelo 0.2.4. setuptools_scm NA. simplegeneric",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:4794,security,network,networkx,4794,"elf._engine.get_loc(self._maybe_cast_indexer(key)). 2649 indexer = self.get_indexer([key], method=method, tolerance=tolerance). 2650 if indexer.ndim > 1 or indexer.size > 1:. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. ```. #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.4. -----. PIL 8.4.0. backcall 0.1.0. bottleneck 1.2.1. cffi 1.11.5. cloudpickle 0.5.3. colorama 0.3.9. cycler 0.10.0. cython_runtime NA. cytoolz 0.9.0.1. dask 0.17.5. dateutil 2.7.3. decorator 4.3.0. fa2 NA. flaskext NA. get_version 2.1. google NA. h5py 2.10.0. igraph 0.9.7. ipykernel 4.8.2. ipython_genutils 0.2.0. ipywidgets 7.2.1. jedi 0.12.0. joblib 0.13.2. kiwisolver 1.0.1. legacy_api_wrap 1.2. leidenalg 0.8.8. llvmlite 0.34.0. louvain 0.6.1. lxml NA. matplotlib 3.3.4. mpl_toolkits NA. natsort 6.0.0. networkx 2.5.1. numba 0.51.2. numexpr 2.6.5. numpy 1.19.5. packaging 21.0. pandas 1.1.5. parso 0.2.0. pexpect 4.5.0. pickleshare 0.7.4. pkg_resources NA. prompt_toolkit 1.0.15. psutil 5.4.5. ptyprocess 0.5.2. pycparser 2.18. pygments 2.2.0. pynndescent 0.5.0. pyparsing 2.2.0. pytz 2018.4. ruamel NA. scipy 1.4.1. scvelo 0.2.4. setuptools_scm NA. simplegeneric NA. six 1.11.0. sklearn 0.24.2. sphinxcontrib NA. storemagic NA. tables 3.4.3. texttable 1.6.2. toolz 0.9.0. tornado 5.0.2. tqdm 4.32.1. traitlets 4.3.2. typing_extensions NA. umap 0.4.6. wcwidth NA. yaml 5.1.2. zipp NA. zmq 17.0.0. -----. IPython 6.4.0. jupyter_client 5.2.3. jupyter_core 4.4.0. jupyterlab 0.32.1. notebook 5.5.0. -----. Python 3.6.5 |Anaconda, Inc.| (default, Apr 29 2018, 16:14:56) [GCC 7.2.0]. Linux-3.10.0-957.21.3.el7.x86_64-x86_64-with-centos-7.6.1810-Core. 120 logical CPU cores, x86_64. -----. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:5641,security,log,logical,5641,"elf._engine.get_loc(self._maybe_cast_indexer(key)). 2649 indexer = self.get_indexer([key], method=method, tolerance=tolerance). 2650 if indexer.ndim > 1 or indexer.size > 1:. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. ```. #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.4. -----. PIL 8.4.0. backcall 0.1.0. bottleneck 1.2.1. cffi 1.11.5. cloudpickle 0.5.3. colorama 0.3.9. cycler 0.10.0. cython_runtime NA. cytoolz 0.9.0.1. dask 0.17.5. dateutil 2.7.3. decorator 4.3.0. fa2 NA. flaskext NA. get_version 2.1. google NA. h5py 2.10.0. igraph 0.9.7. ipykernel 4.8.2. ipython_genutils 0.2.0. ipywidgets 7.2.1. jedi 0.12.0. joblib 0.13.2. kiwisolver 1.0.1. legacy_api_wrap 1.2. leidenalg 0.8.8. llvmlite 0.34.0. louvain 0.6.1. lxml NA. matplotlib 3.3.4. mpl_toolkits NA. natsort 6.0.0. networkx 2.5.1. numba 0.51.2. numexpr 2.6.5. numpy 1.19.5. packaging 21.0. pandas 1.1.5. parso 0.2.0. pexpect 4.5.0. pickleshare 0.7.4. pkg_resources NA. prompt_toolkit 1.0.15. psutil 5.4.5. ptyprocess 0.5.2. pycparser 2.18. pygments 2.2.0. pynndescent 0.5.0. pyparsing 2.2.0. pytz 2018.4. ruamel NA. scipy 1.4.1. scvelo 0.2.4. setuptools_scm NA. simplegeneric NA. six 1.11.0. sklearn 0.24.2. sphinxcontrib NA. storemagic NA. tables 3.4.3. texttable 1.6.2. toolz 0.9.0. tornado 5.0.2. tqdm 4.32.1. traitlets 4.3.2. typing_extensions NA. umap 0.4.6. wcwidth NA. yaml 5.1.2. zipp NA. zmq 17.0.0. -----. IPython 6.4.0. jupyter_client 5.2.3. jupyter_core 4.4.0. jupyterlab 0.32.1. notebook 5.5.0. -----. Python 3.6.5 |Anaconda, Inc.| (default, Apr 29 2018, 16:14:56) [GCC 7.2.0]. Linux-3.10.0-957.21.3.el7.x86_64-x86_64-with-centos-7.6.1810-Core. 120 logical CPU cores, x86_64. -----. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:526,testability,Trace,Traceback,526,"KeyError when plotting gene expression ; Hello, . Whenever I try to plot gene expression I get the following KeyError, regardless of the gene/plotting function. I have confirmed that all genes I have tried do exist in adata.var_names. Id like to highlight that my adata object was created from h5ad converted from seurat. How can I check the keys? . Thank you! Lucy. ---. ```python. sc.pl.draw_graph(myeloid, color=['SPP1']). ```. ```pytb. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). /software/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 2645 try:. -> 2646 return self._engine.get_loc(key). 2647 except KeyError:. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. During handling of the above exception, another exception occurred:. KeyError Traceback (most recent call last). <ipython-input-94-440b32bde3cc> in <module>(). ----> 1 sc.pl.draw_graph(myeloid, color=['SPP1']). /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in draw_graph(adata, layout, **kwargs). 701 ). 702 . --> 703 return embedding(adata, basis, **kwargs). 704 . 705 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in embedding(adata, basis, color, gene_symbols, use_raw, sort_order, edges, edges_width, edges_color, neighbors_key, arrows, arrows_kwds, groups, components, layer, projection, img_key, crop_coord, alpha_img, bw, library_id, color_map, palette, size, frameon, legend_fontsize, legend_fontweight, legend_loc, legend_fontoutline, vmax, vmin, add_outline, outline_width, outline_color, ncols, hspace, w",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:1179,testability,Trace,Traceback,1179,"ll genes I have tried do exist in adata.var_names. Id like to highlight that my adata object was created from h5ad converted from seurat. How can I check the keys? . Thank you! Lucy. ---. ```python. sc.pl.draw_graph(myeloid, color=['SPP1']). ```. ```pytb. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). /software/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 2645 try:. -> 2646 return self._engine.get_loc(key). 2647 except KeyError:. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. During handling of the above exception, another exception occurred:. KeyError Traceback (most recent call last). <ipython-input-94-440b32bde3cc> in <module>(). ----> 1 sc.pl.draw_graph(myeloid, color=['SPP1']). /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in draw_graph(adata, layout, **kwargs). 701 ). 702 . --> 703 return embedding(adata, basis, **kwargs). 704 . 705 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in embedding(adata, basis, color, gene_symbols, use_raw, sort_order, edges, edges_width, edges_color, neighbors_key, arrows, arrows_kwds, groups, components, layer, projection, img_key, crop_coord, alpha_img, bw, library_id, color_map, palette, size, frameon, legend_fontsize, legend_fontweight, legend_loc, legend_fontoutline, vmax, vmin, add_outline, outline_width, outline_color, ncols, hspace, wspace, title, show, save, ax, return_fig, **kwargs). 233 palette=palette,. 234 use_raw=use_raw,. --> 235 gene_symbols=gene_symbols,. 236 ). 237 . /software/anaconda3/lib/python3.6/site",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:5141,testability,simpl,simplegeneric,5141,"elf._engine.get_loc(self._maybe_cast_indexer(key)). 2649 indexer = self.get_indexer([key], method=method, tolerance=tolerance). 2650 if indexer.ndim > 1 or indexer.size > 1:. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. ```. #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.4. -----. PIL 8.4.0. backcall 0.1.0. bottleneck 1.2.1. cffi 1.11.5. cloudpickle 0.5.3. colorama 0.3.9. cycler 0.10.0. cython_runtime NA. cytoolz 0.9.0.1. dask 0.17.5. dateutil 2.7.3. decorator 4.3.0. fa2 NA. flaskext NA. get_version 2.1. google NA. h5py 2.10.0. igraph 0.9.7. ipykernel 4.8.2. ipython_genutils 0.2.0. ipywidgets 7.2.1. jedi 0.12.0. joblib 0.13.2. kiwisolver 1.0.1. legacy_api_wrap 1.2. leidenalg 0.8.8. llvmlite 0.34.0. louvain 0.6.1. lxml NA. matplotlib 3.3.4. mpl_toolkits NA. natsort 6.0.0. networkx 2.5.1. numba 0.51.2. numexpr 2.6.5. numpy 1.19.5. packaging 21.0. pandas 1.1.5. parso 0.2.0. pexpect 4.5.0. pickleshare 0.7.4. pkg_resources NA. prompt_toolkit 1.0.15. psutil 5.4.5. ptyprocess 0.5.2. pycparser 2.18. pygments 2.2.0. pynndescent 0.5.0. pyparsing 2.2.0. pytz 2018.4. ruamel NA. scipy 1.4.1. scvelo 0.2.4. setuptools_scm NA. simplegeneric NA. six 1.11.0. sklearn 0.24.2. sphinxcontrib NA. storemagic NA. tables 3.4.3. texttable 1.6.2. toolz 0.9.0. tornado 5.0.2. tqdm 4.32.1. traitlets 4.3.2. typing_extensions NA. umap 0.4.6. wcwidth NA. yaml 5.1.2. zipp NA. zmq 17.0.0. -----. IPython 6.4.0. jupyter_client 5.2.3. jupyter_core 4.4.0. jupyterlab 0.32.1. notebook 5.5.0. -----. Python 3.6.5 |Anaconda, Inc.| (default, Apr 29 2018, 16:14:56) [GCC 7.2.0]. Linux-3.10.0-957.21.3.el7.x86_64-x86_64-with-centos-7.6.1810-Core. 120 logical CPU cores, x86_64. -----. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:5641,testability,log,logical,5641,"elf._engine.get_loc(self._maybe_cast_indexer(key)). 2649 indexer = self.get_indexer([key], method=method, tolerance=tolerance). 2650 if indexer.ndim > 1 or indexer.size > 1:. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. ```. #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.4. -----. PIL 8.4.0. backcall 0.1.0. bottleneck 1.2.1. cffi 1.11.5. cloudpickle 0.5.3. colorama 0.3.9. cycler 0.10.0. cython_runtime NA. cytoolz 0.9.0.1. dask 0.17.5. dateutil 2.7.3. decorator 4.3.0. fa2 NA. flaskext NA. get_version 2.1. google NA. h5py 2.10.0. igraph 0.9.7. ipykernel 4.8.2. ipython_genutils 0.2.0. ipywidgets 7.2.1. jedi 0.12.0. joblib 0.13.2. kiwisolver 1.0.1. legacy_api_wrap 1.2. leidenalg 0.8.8. llvmlite 0.34.0. louvain 0.6.1. lxml NA. matplotlib 3.3.4. mpl_toolkits NA. natsort 6.0.0. networkx 2.5.1. numba 0.51.2. numexpr 2.6.5. numpy 1.19.5. packaging 21.0. pandas 1.1.5. parso 0.2.0. pexpect 4.5.0. pickleshare 0.7.4. pkg_resources NA. prompt_toolkit 1.0.15. psutil 5.4.5. ptyprocess 0.5.2. pycparser 2.18. pygments 2.2.0. pynndescent 0.5.0. pyparsing 2.2.0. pytz 2018.4. ruamel NA. scipy 1.4.1. scvelo 0.2.4. setuptools_scm NA. simplegeneric NA. six 1.11.0. sklearn 0.24.2. sphinxcontrib NA. storemagic NA. tables 3.4.3. texttable 1.6.2. toolz 0.9.0. tornado 5.0.2. tqdm 4.32.1. traitlets 4.3.2. typing_extensions NA. umap 0.4.6. wcwidth NA. yaml 5.1.2. zipp NA. zmq 17.0.0. -----. IPython 6.4.0. jupyter_client 5.2.3. jupyter_core 4.4.0. jupyterlab 0.32.1. notebook 5.5.0. -----. Python 3.6.5 |Anaconda, Inc.| (default, Apr 29 2018, 16:14:56) [GCC 7.2.0]. Linux-3.10.0-957.21.3.el7.x86_64-x86_64-with-centos-7.6.1810-Core. 120 logical CPU cores, x86_64. -----. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:168,usability,confirm,confirmed,168,"KeyError when plotting gene expression ; Hello, . Whenever I try to plot gene expression I get the following KeyError, regardless of the gene/plotting function. I have confirmed that all genes I have tried do exist in adata.var_names. Id like to highlight that my adata object was created from h5ad converted from seurat. How can I check the keys? . Thank you! Lucy. ---. ```python. sc.pl.draw_graph(myeloid, color=['SPP1']). ```. ```pytb. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). /software/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 2645 try:. -> 2646 return self._engine.get_loc(key). 2647 except KeyError:. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. During handling of the above exception, another exception occurred:. KeyError Traceback (most recent call last). <ipython-input-94-440b32bde3cc> in <module>(). ----> 1 sc.pl.draw_graph(myeloid, color=['SPP1']). /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in draw_graph(adata, layout, **kwargs). 701 ). 702 . --> 703 return embedding(adata, basis, **kwargs). 704 . 705 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in embedding(adata, basis, color, gene_symbols, use_raw, sort_order, edges, edges_width, edges_color, neighbors_key, arrows, arrows_kwds, groups, components, layer, projection, img_key, crop_coord, alpha_img, bw, library_id, color_map, palette, size, frameon, legend_fontsize, legend_fontweight, legend_loc, legend_fontoutline, vmax, vmin, add_outline, outline_width, outline_color, ncols, hspace, w",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:1223,usability,input,input-,1223,"r_names. Id like to highlight that my adata object was created from h5ad converted from seurat. How can I check the keys? . Thank you! Lucy. ---. ```python. sc.pl.draw_graph(myeloid, color=['SPP1']). ```. ```pytb. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). /software/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 2645 try:. -> 2646 return self._engine.get_loc(key). 2647 except KeyError:. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. During handling of the above exception, another exception occurred:. KeyError Traceback (most recent call last). <ipython-input-94-440b32bde3cc> in <module>(). ----> 1 sc.pl.draw_graph(myeloid, color=['SPP1']). /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in draw_graph(adata, layout, **kwargs). 701 ). 702 . --> 703 return embedding(adata, basis, **kwargs). 704 . 705 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in embedding(adata, basis, color, gene_symbols, use_raw, sort_order, edges, edges_width, edges_color, neighbors_key, arrows, arrows_kwds, groups, components, layer, projection, img_key, crop_coord, alpha_img, bw, library_id, color_map, palette, size, frameon, legend_fontsize, legend_fontweight, legend_loc, legend_fontoutline, vmax, vmin, add_outline, outline_width, outline_color, ncols, hspace, wspace, title, show, save, ax, return_fig, **kwargs). 233 palette=palette,. 234 use_raw=use_raw,. --> 235 gene_symbols=gene_symbols,. 236 ). 237 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterpl",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:2345,usability,help,helpful,2345,"e-packages/scanpy/plotting/_tools/scatterplots.py in draw_graph(adata, layout, **kwargs). 701 ). 702 . --> 703 return embedding(adata, basis, **kwargs). 704 . 705 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in embedding(adata, basis, color, gene_symbols, use_raw, sort_order, edges, edges_width, edges_color, neighbors_key, arrows, arrows_kwds, groups, components, layer, projection, img_key, crop_coord, alpha_img, bw, library_id, color_map, palette, size, frameon, legend_fontsize, legend_fontweight, legend_loc, legend_fontoutline, vmax, vmin, add_outline, outline_width, outline_color, ncols, hspace, wspace, title, show, save, ax, return_fig, **kwargs). 233 palette=palette,. 234 use_raw=use_raw,. --> 235 gene_symbols=gene_symbols,. 236 ). 237 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in _get_color_values(adata, value_to_plot, groups, palette, use_raw, gene_symbols, layer). 1035 ] # TODO: Throw helpful error if this doesn't work. 1036 if use_raw and value_to_plot not in adata.obs.columns:. -> 1037 values = adata.raw.obs_vector(value_to_plot). 1038 else:. 1039 values = adata.obs_vector(value_to_plot, layer=layer). /software/anaconda3/lib/python3.6/site-packages/anndata/_core/raw.py in obs_vector(self, k). 168 def obs_vector(self, k: str) -> np.ndarray:. 169 # TODO decorator to copy AnnData.obs_vector docstring. --> 170 idx = self._normalize_indices((slice(None), k)). 171 a = self.X[idx]. 172 if issparse(a):. /software/anaconda3/lib/python3.6/site-packages/anndata/_core/raw.py in _normalize_indices(self, packed_index). 159 obs, var = unpack_index(packed_index). 160 obs = _normalize_index(obs, self._adata.obs_names). --> 161 var = _normalize_index(var, self.var_names). 162 return obs, var. 163 . /software/anaconda3/lib/python3.6/site-packages/anndata/_core/index.py in _normalize_index(indexer, index). 72 return indexer. 73 elif isinstance(indexer, str):. ---> 74 return index.get_loc",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:2353,usability,error,error,2353,"ges/scanpy/plotting/_tools/scatterplots.py in draw_graph(adata, layout, **kwargs). 701 ). 702 . --> 703 return embedding(adata, basis, **kwargs). 704 . 705 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in embedding(adata, basis, color, gene_symbols, use_raw, sort_order, edges, edges_width, edges_color, neighbors_key, arrows, arrows_kwds, groups, components, layer, projection, img_key, crop_coord, alpha_img, bw, library_id, color_map, palette, size, frameon, legend_fontsize, legend_fontweight, legend_loc, legend_fontoutline, vmax, vmin, add_outline, outline_width, outline_color, ncols, hspace, wspace, title, show, save, ax, return_fig, **kwargs). 233 palette=palette,. 234 use_raw=use_raw,. --> 235 gene_symbols=gene_symbols,. 236 ). 237 . /software/anaconda3/lib/python3.6/site-packages/scanpy/plotting/_tools/scatterplots.py in _get_color_values(adata, value_to_plot, groups, palette, use_raw, gene_symbols, layer). 1035 ] # TODO: Throw helpful error if this doesn't work. 1036 if use_raw and value_to_plot not in adata.obs.columns:. -> 1037 values = adata.raw.obs_vector(value_to_plot). 1038 else:. 1039 values = adata.obs_vector(value_to_plot, layer=layer). /software/anaconda3/lib/python3.6/site-packages/anndata/_core/raw.py in obs_vector(self, k). 168 def obs_vector(self, k: str) -> np.ndarray:. 169 # TODO decorator to copy AnnData.obs_vector docstring. --> 170 idx = self._normalize_indices((slice(None), k)). 171 a = self.X[idx]. 172 if issparse(a):. /software/anaconda3/lib/python3.6/site-packages/anndata/_core/raw.py in _normalize_indices(self, packed_index). 159 obs, var = unpack_index(packed_index). 160 obs = _normalize_index(obs, self._adata.obs_names). --> 161 var = _normalize_index(var, self.var_names). 162 return obs, var. 163 . /software/anaconda3/lib/python3.6/site-packages/anndata/_core/index.py in _normalize_index(indexer, index). 72 return indexer. 73 elif isinstance(indexer, str):. ---> 74 return index.get_loc(indexe",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:5141,usability,simpl,simplegeneric,5141,"elf._engine.get_loc(self._maybe_cast_indexer(key)). 2649 indexer = self.get_indexer([key], method=method, tolerance=tolerance). 2650 if indexer.ndim > 1 or indexer.size > 1:. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. ```. #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.4. -----. PIL 8.4.0. backcall 0.1.0. bottleneck 1.2.1. cffi 1.11.5. cloudpickle 0.5.3. colorama 0.3.9. cycler 0.10.0. cython_runtime NA. cytoolz 0.9.0.1. dask 0.17.5. dateutil 2.7.3. decorator 4.3.0. fa2 NA. flaskext NA. get_version 2.1. google NA. h5py 2.10.0. igraph 0.9.7. ipykernel 4.8.2. ipython_genutils 0.2.0. ipywidgets 7.2.1. jedi 0.12.0. joblib 0.13.2. kiwisolver 1.0.1. legacy_api_wrap 1.2. leidenalg 0.8.8. llvmlite 0.34.0. louvain 0.6.1. lxml NA. matplotlib 3.3.4. mpl_toolkits NA. natsort 6.0.0. networkx 2.5.1. numba 0.51.2. numexpr 2.6.5. numpy 1.19.5. packaging 21.0. pandas 1.1.5. parso 0.2.0. pexpect 4.5.0. pickleshare 0.7.4. pkg_resources NA. prompt_toolkit 1.0.15. psutil 5.4.5. ptyprocess 0.5.2. pycparser 2.18. pygments 2.2.0. pynndescent 0.5.0. pyparsing 2.2.0. pytz 2018.4. ruamel NA. scipy 1.4.1. scvelo 0.2.4. setuptools_scm NA. simplegeneric NA. six 1.11.0. sklearn 0.24.2. sphinxcontrib NA. storemagic NA. tables 3.4.3. texttable 1.6.2. toolz 0.9.0. tornado 5.0.2. tqdm 4.32.1. traitlets 4.3.2. typing_extensions NA. umap 0.4.6. wcwidth NA. yaml 5.1.2. zipp NA. zmq 17.0.0. -----. IPython 6.4.0. jupyter_client 5.2.3. jupyter_core 4.4.0. jupyterlab 0.32.1. notebook 5.5.0. -----. Python 3.6.5 |Anaconda, Inc.| (default, Apr 29 2018, 16:14:56) [GCC 7.2.0]. Linux-3.10.0-957.21.3.el7.x86_64-x86_64-with-centos-7.6.1810-Core. 120 logical CPU cores, x86_64. -----. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/issues/2018:5251,usability,tool,toolz,5251,"elf._engine.get_loc(self._maybe_cast_indexer(key)). 2649 indexer = self.get_indexer([key], method=method, tolerance=tolerance). 2650 if indexer.ndim > 1 or indexer.size > 1:. pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item(). KeyError: 'SPP1'. ```. #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.7.2. sinfo 0.3.4. -----. PIL 8.4.0. backcall 0.1.0. bottleneck 1.2.1. cffi 1.11.5. cloudpickle 0.5.3. colorama 0.3.9. cycler 0.10.0. cython_runtime NA. cytoolz 0.9.0.1. dask 0.17.5. dateutil 2.7.3. decorator 4.3.0. fa2 NA. flaskext NA. get_version 2.1. google NA. h5py 2.10.0. igraph 0.9.7. ipykernel 4.8.2. ipython_genutils 0.2.0. ipywidgets 7.2.1. jedi 0.12.0. joblib 0.13.2. kiwisolver 1.0.1. legacy_api_wrap 1.2. leidenalg 0.8.8. llvmlite 0.34.0. louvain 0.6.1. lxml NA. matplotlib 3.3.4. mpl_toolkits NA. natsort 6.0.0. networkx 2.5.1. numba 0.51.2. numexpr 2.6.5. numpy 1.19.5. packaging 21.0. pandas 1.1.5. parso 0.2.0. pexpect 4.5.0. pickleshare 0.7.4. pkg_resources NA. prompt_toolkit 1.0.15. psutil 5.4.5. ptyprocess 0.5.2. pycparser 2.18. pygments 2.2.0. pynndescent 0.5.0. pyparsing 2.2.0. pytz 2018.4. ruamel NA. scipy 1.4.1. scvelo 0.2.4. setuptools_scm NA. simplegeneric NA. six 1.11.0. sklearn 0.24.2. sphinxcontrib NA. storemagic NA. tables 3.4.3. texttable 1.6.2. toolz 0.9.0. tornado 5.0.2. tqdm 4.32.1. traitlets 4.3.2. typing_extensions NA. umap 0.4.6. wcwidth NA. yaml 5.1.2. zipp NA. zmq 17.0.0. -----. IPython 6.4.0. jupyter_client 5.2.3. jupyter_core 4.4.0. jupyterlab 0.32.1. notebook 5.5.0. -----. Python 3.6.5 |Anaconda, Inc.| (default, Apr 29 2018, 16:14:56) [GCC 7.2.0]. Linux-3.10.0-957.21.3.el7.x86_64-x86_64-with-centos-7.6.1810-Core. 120 logical CPU cores, x86_64. -----. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2018
https://github.com/scverse/scanpy/pull/2020:72,deployability,version,versions,72,"Backport PR #2019 on branch 1.8.x (CI bugfixes); Conflict in the sphinx versions, manual backport of #2019. * pin sphinx<4.2. * update violin plots.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2020
https://github.com/scverse/scanpy/pull/2020:128,deployability,updat,update,128,"Backport PR #2019 on branch 1.8.x (CI bugfixes); Conflict in the sphinx versions, manual backport of #2019. * pin sphinx<4.2. * update violin plots.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2020
https://github.com/scverse/scanpy/pull/2020:72,integrability,version,versions,72,"Backport PR #2019 on branch 1.8.x (CI bugfixes); Conflict in the sphinx versions, manual backport of #2019. * pin sphinx<4.2. * update violin plots.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2020
https://github.com/scverse/scanpy/pull/2020:49,interoperability,Conflict,Conflict,49,"Backport PR #2019 on branch 1.8.x (CI bugfixes); Conflict in the sphinx versions, manual backport of #2019. * pin sphinx<4.2. * update violin plots.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2020
https://github.com/scverse/scanpy/pull/2020:72,modifiability,version,versions,72,"Backport PR #2019 on branch 1.8.x (CI bugfixes); Conflict in the sphinx versions, manual backport of #2019. * pin sphinx<4.2. * update violin plots.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2020
https://github.com/scverse/scanpy/pull/2020:128,safety,updat,update,128,"Backport PR #2019 on branch 1.8.x (CI bugfixes); Conflict in the sphinx versions, manual backport of #2019. * pin sphinx<4.2. * update violin plots.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2020
https://github.com/scverse/scanpy/pull/2020:128,security,updat,update,128,"Backport PR #2019 on branch 1.8.x (CI bugfixes); Conflict in the sphinx versions, manual backport of #2019. * pin sphinx<4.2. * update violin plots.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2020
https://github.com/scverse/scanpy/pull/2023:143,energy efficiency,predict,predictions,143,"Bugfix for undefined threshold from Scrublet; This is a bugfix to allow for the fact that Scrublet doesn't always find a threshold and produce predictions by:. - Detecting when threshold not present, and setting prediction column to False'. - Not assuming presence of threshold in plot functions. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2023
https://github.com/scverse/scanpy/pull/2023:212,energy efficiency,predict,prediction,212,"Bugfix for undefined threshold from Scrublet; This is a bugfix to allow for the fact that Scrublet doesn't always find a threshold and produce predictions by:. - Detecting when threshold not present, and setting prediction column to False'. - Not assuming presence of threshold in plot functions. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2023
https://github.com/scverse/scanpy/pull/2023:99,reliability,doe,doesn,99,"Bugfix for undefined threshold from Scrublet; This is a bugfix to allow for the fact that Scrublet doesn't always find a threshold and produce predictions by:. - Detecting when threshold not present, and setting prediction column to False'. - Not assuming presence of threshold in plot functions. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2023
https://github.com/scverse/scanpy/pull/2023:143,safety,predict,predictions,143,"Bugfix for undefined threshold from Scrublet; This is a bugfix to allow for the fact that Scrublet doesn't always find a threshold and produce predictions by:. - Detecting when threshold not present, and setting prediction column to False'. - Not assuming presence of threshold in plot functions. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2023
https://github.com/scverse/scanpy/pull/2023:162,safety,Detect,Detecting,162,"Bugfix for undefined threshold from Scrublet; This is a bugfix to allow for the fact that Scrublet doesn't always find a threshold and produce predictions by:. - Detecting when threshold not present, and setting prediction column to False'. - Not assuming presence of threshold in plot functions. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2023
https://github.com/scverse/scanpy/pull/2023:212,safety,predict,prediction,212,"Bugfix for undefined threshold from Scrublet; This is a bugfix to allow for the fact that Scrublet doesn't always find a threshold and produce predictions by:. - Detecting when threshold not present, and setting prediction column to False'. - Not assuming presence of threshold in plot functions. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2023
https://github.com/scverse/scanpy/pull/2023:162,security,Detect,Detecting,162,"Bugfix for undefined threshold from Scrublet; This is a bugfix to allow for the fact that Scrublet doesn't always find a threshold and produce predictions by:. - Detecting when threshold not present, and setting prediction column to False'. - Not assuming presence of threshold in plot functions. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2023
https://github.com/scverse/scanpy/issues/2024:0,integrability,Sub,Sublevels,0,Sublevels in legends of plots; <!-- What kind of feature would you like to request? -->. - [x] Additional function parameters / changed functionality / changed defaults? - [ ] New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? - [ ] New plotting function: A kind of plot you would like to seein `sc.pl`? - [ ] External tools: Do you know an existing package that should go into `sc.external.*`? - [ ] Other? <!-- Please describe your wishes below: -->. ![](https://els-jbs-prod-cdn.jbs.elsevierhealth.com/cms/attachment/e9e581b0-24ce-4e5b-a848-11de803dba32/gr3_lrg.jpg). Hi! It would be great if Scanpy could create sublevels of annotation like the the attached figure 3D of the seurat v4 paper. This would make legends clearer in cases where you have different subtypes of T cells for example. For instance the `color` argument could take as an input a dictionary with the label categories.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2024
https://github.com/scverse/scanpy/issues/2024:658,integrability,sub,sublevels,658,Sublevels in legends of plots; <!-- What kind of feature would you like to request? -->. - [x] Additional function parameters / changed functionality / changed defaults? - [ ] New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? - [ ] New plotting function: A kind of plot you would like to seein `sc.pl`? - [ ] External tools: Do you know an existing package that should go into `sc.external.*`? - [ ] Other? <!-- Please describe your wishes below: -->. ![](https://els-jbs-prod-cdn.jbs.elsevierhealth.com/cms/attachment/e9e581b0-24ce-4e5b-a848-11de803dba32/gr3_lrg.jpg). Hi! It would be great if Scanpy could create sublevels of annotation like the the attached figure 3D of the seurat v4 paper. This would make legends clearer in cases where you have different subtypes of T cells for example. For instance the `color` argument could take as an input a dictionary with the label categories.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2024
https://github.com/scverse/scanpy/issues/2024:804,integrability,sub,subtypes,804,Sublevels in legends of plots; <!-- What kind of feature would you like to request? -->. - [x] Additional function parameters / changed functionality / changed defaults? - [ ] New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? - [ ] New plotting function: A kind of plot you would like to seein `sc.pl`? - [ ] External tools: Do you know an existing package that should go into `sc.external.*`? - [ ] Other? <!-- Please describe your wishes below: -->. ![](https://els-jbs-prod-cdn.jbs.elsevierhealth.com/cms/attachment/e9e581b0-24ce-4e5b-a848-11de803dba32/gr3_lrg.jpg). Hi! It would be great if Scanpy could create sublevels of annotation like the the attached figure 3D of the seurat v4 paper. This would make legends clearer in cases where you have different subtypes of T cells for example. For instance the `color` argument could take as an input a dictionary with the label categories.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2024
https://github.com/scverse/scanpy/issues/2024:115,modifiability,paramet,parameters,115,Sublevels in legends of plots; <!-- What kind of feature would you like to request? -->. - [x] Additional function parameters / changed functionality / changed defaults? - [ ] New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? - [ ] New plotting function: A kind of plot you would like to seein `sc.pl`? - [ ] External tools: Do you know an existing package that should go into `sc.external.*`? - [ ] Other? <!-- Please describe your wishes below: -->. ![](https://els-jbs-prod-cdn.jbs.elsevierhealth.com/cms/attachment/e9e581b0-24ce-4e5b-a848-11de803dba32/gr3_lrg.jpg). Hi! It would be great if Scanpy could create sublevels of annotation like the the attached figure 3D of the seurat v4 paper. This would make legends clearer in cases where you have different subtypes of T cells for example. For instance the `color` argument could take as an input a dictionary with the label categories.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2024
https://github.com/scverse/scanpy/issues/2024:392,modifiability,pac,package,392,Sublevels in legends of plots; <!-- What kind of feature would you like to request? -->. - [x] Additional function parameters / changed functionality / changed defaults? - [ ] New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? - [ ] New plotting function: A kind of plot you would like to seein `sc.pl`? - [ ] External tools: Do you know an existing package that should go into `sc.external.*`? - [ ] Other? <!-- Please describe your wishes below: -->. ![](https://els-jbs-prod-cdn.jbs.elsevierhealth.com/cms/attachment/e9e581b0-24ce-4e5b-a848-11de803dba32/gr3_lrg.jpg). Hi! It would be great if Scanpy could create sublevels of annotation like the the attached figure 3D of the seurat v4 paper. This would make legends clearer in cases where you have different subtypes of T cells for example. For instance the `color` argument could take as an input a dictionary with the label categories.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2024
https://github.com/scverse/scanpy/issues/2024:888,safety,input,input,888,Sublevels in legends of plots; <!-- What kind of feature would you like to request? -->. - [x] Additional function parameters / changed functionality / changed defaults? - [ ] New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? - [ ] New plotting function: A kind of plot you would like to seein `sc.pl`? - [ ] External tools: Do you know an existing package that should go into `sc.external.*`? - [ ] Other? <!-- Please describe your wishes below: -->. ![](https://els-jbs-prod-cdn.jbs.elsevierhealth.com/cms/attachment/e9e581b0-24ce-4e5b-a848-11de803dba32/gr3_lrg.jpg). Hi! It would be great if Scanpy could create sublevels of annotation like the the attached figure 3D of the seurat v4 paper. This would make legends clearer in cases where you have different subtypes of T cells for example. For instance the `color` argument could take as an input a dictionary with the label categories.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2024
https://github.com/scverse/scanpy/issues/2024:197,testability,simpl,simple,197,Sublevels in legends of plots; <!-- What kind of feature would you like to request? -->. - [x] Additional function parameters / changed functionality / changed defaults? - [ ] New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? - [ ] New plotting function: A kind of plot you would like to seein `sc.pl`? - [ ] External tools: Do you know an existing package that should go into `sc.external.*`? - [ ] Other? <!-- Please describe your wishes below: -->. ![](https://els-jbs-prod-cdn.jbs.elsevierhealth.com/cms/attachment/e9e581b0-24ce-4e5b-a848-11de803dba32/gr3_lrg.jpg). Hi! It would be great if Scanpy could create sublevels of annotation like the the attached figure 3D of the seurat v4 paper. This would make legends clearer in cases where you have different subtypes of T cells for example. For instance the `color` argument could take as an input a dictionary with the label categories.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2024
https://github.com/scverse/scanpy/issues/2024:189,usability,tool,tool,189,Sublevels in legends of plots; <!-- What kind of feature would you like to request? -->. - [x] Additional function parameters / changed functionality / changed defaults? - [ ] New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? - [ ] New plotting function: A kind of plot you would like to seein `sc.pl`? - [ ] External tools: Do you know an existing package that should go into `sc.external.*`? - [ ] Other? <!-- Please describe your wishes below: -->. ![](https://els-jbs-prod-cdn.jbs.elsevierhealth.com/cms/attachment/e9e581b0-24ce-4e5b-a848-11de803dba32/gr3_lrg.jpg). Hi! It would be great if Scanpy could create sublevels of annotation like the the attached figure 3D of the seurat v4 paper. This would make legends clearer in cases where you have different subtypes of T cells for example. For instance the `color` argument could take as an input a dictionary with the label categories.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2024
https://github.com/scverse/scanpy/issues/2024:197,usability,simpl,simple,197,Sublevels in legends of plots; <!-- What kind of feature would you like to request? -->. - [x] Additional function parameters / changed functionality / changed defaults? - [ ] New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? - [ ] New plotting function: A kind of plot you would like to seein `sc.pl`? - [ ] External tools: Do you know an existing package that should go into `sc.external.*`? - [ ] Other? <!-- Please describe your wishes below: -->. ![](https://els-jbs-prod-cdn.jbs.elsevierhealth.com/cms/attachment/e9e581b0-24ce-4e5b-a848-11de803dba32/gr3_lrg.jpg). Hi! It would be great if Scanpy could create sublevels of annotation like the the attached figure 3D of the seurat v4 paper. This would make legends clearer in cases where you have different subtypes of T cells for example. For instance the `color` argument could take as an input a dictionary with the label categories.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2024
https://github.com/scverse/scanpy/issues/2024:213,usability,tool,tool,213,Sublevels in legends of plots; <!-- What kind of feature would you like to request? -->. - [x] Additional function parameters / changed functionality / changed defaults? - [ ] New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? - [ ] New plotting function: A kind of plot you would like to seein `sc.pl`? - [ ] External tools: Do you know an existing package that should go into `sc.external.*`? - [ ] Other? <!-- Please describe your wishes below: -->. ![](https://els-jbs-prod-cdn.jbs.elsevierhealth.com/cms/attachment/e9e581b0-24ce-4e5b-a848-11de803dba32/gr3_lrg.jpg). Hi! It would be great if Scanpy could create sublevels of annotation like the the attached figure 3D of the seurat v4 paper. This would make legends clearer in cases where you have different subtypes of T cells for example. For instance the `color` argument could take as an input a dictionary with the label categories.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2024
https://github.com/scverse/scanpy/issues/2024:261,usability,tool,tools,261,Sublevels in legends of plots; <!-- What kind of feature would you like to request? -->. - [x] Additional function parameters / changed functionality / changed defaults? - [ ] New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? - [ ] New plotting function: A kind of plot you would like to seein `sc.pl`? - [ ] External tools: Do you know an existing package that should go into `sc.external.*`? - [ ] Other? <!-- Please describe your wishes below: -->. ![](https://els-jbs-prod-cdn.jbs.elsevierhealth.com/cms/attachment/e9e581b0-24ce-4e5b-a848-11de803dba32/gr3_lrg.jpg). Hi! It would be great if Scanpy could create sublevels of annotation like the the attached figure 3D of the seurat v4 paper. This would make legends clearer in cases where you have different subtypes of T cells for example. For instance the `color` argument could take as an input a dictionary with the label categories.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2024
https://github.com/scverse/scanpy/issues/2024:361,usability,tool,tools,361,Sublevels in legends of plots; <!-- What kind of feature would you like to request? -->. - [x] Additional function parameters / changed functionality / changed defaults? - [ ] New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? - [ ] New plotting function: A kind of plot you would like to seein `sc.pl`? - [ ] External tools: Do you know an existing package that should go into `sc.external.*`? - [ ] Other? <!-- Please describe your wishes below: -->. ![](https://els-jbs-prod-cdn.jbs.elsevierhealth.com/cms/attachment/e9e581b0-24ce-4e5b-a848-11de803dba32/gr3_lrg.jpg). Hi! It would be great if Scanpy could create sublevels of annotation like the the attached figure 3D of the seurat v4 paper. This would make legends clearer in cases where you have different subtypes of T cells for example. For instance the `color` argument could take as an input a dictionary with the label categories.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2024
https://github.com/scverse/scanpy/issues/2024:762,usability,clear,clearer,762,Sublevels in legends of plots; <!-- What kind of feature would you like to request? -->. - [x] Additional function parameters / changed functionality / changed defaults? - [ ] New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? - [ ] New plotting function: A kind of plot you would like to seein `sc.pl`? - [ ] External tools: Do you know an existing package that should go into `sc.external.*`? - [ ] Other? <!-- Please describe your wishes below: -->. ![](https://els-jbs-prod-cdn.jbs.elsevierhealth.com/cms/attachment/e9e581b0-24ce-4e5b-a848-11de803dba32/gr3_lrg.jpg). Hi! It would be great if Scanpy could create sublevels of annotation like the the attached figure 3D of the seurat v4 paper. This would make legends clearer in cases where you have different subtypes of T cells for example. For instance the `color` argument could take as an input a dictionary with the label categories.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2024
https://github.com/scverse/scanpy/issues/2024:888,usability,input,input,888,Sublevels in legends of plots; <!-- What kind of feature would you like to request? -->. - [x] Additional function parameters / changed functionality / changed defaults? - [ ] New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? - [ ] New plotting function: A kind of plot you would like to seein `sc.pl`? - [ ] External tools: Do you know an existing package that should go into `sc.external.*`? - [ ] Other? <!-- Please describe your wishes below: -->. ![](https://els-jbs-prod-cdn.jbs.elsevierhealth.com/cms/attachment/e9e581b0-24ce-4e5b-a848-11de803dba32/gr3_lrg.jpg). Hi! It would be great if Scanpy could create sublevels of annotation like the the attached figure 3D of the seurat v4 paper. This would make legends clearer in cases where you have different subtypes of T cells for example. For instance the `color` argument could take as an input a dictionary with the label categories.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2024
https://github.com/scverse/scanpy/pull/2025:260,testability,simul,simulation,260,"Misc scrublet buxfixes; This is a factoring-out of Scrublet bugfixes in https://github.com/theislab/scanpy/pull/1965, namely:. - A fix for https://github.com/theislab/scanpy/issues/1957, doing a full copy of .X where required. - Ensure raw counts are used for simulation",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2025
https://github.com/scverse/scanpy/issues/2026:181,deployability,version,version,181,umap embedding not working as expected in umap-learn 0.5.2; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. ### Minimal code sample . The UMAP embeddings appear incorrect using the 0.5.2 version of umap-learn Scanpy [pbmc3k tutorial example](https://scanpy-tutorials.readthedocs.io/en/latest/pbmc3k.html). These results can be reproduced using the Google Colab links. . * colab notebook [scanpy_pbmc3k_umap-learn_0.5.1.ipynb](https://colab.research.google.com/drive/1kAPRClaUWoZdao458Q_6fwnxQaQ4xwsP?usp=sharing). ![Screen Shot 2021-10-29 at 4 25 46 PM](https://user-images.githubusercontent.com/8352840/139497658-454d28e8-1988-4e1e-8014-2d234348d271.png). * colab notebook [scanpy_pbmc3k_umap-learn_0.5.2.ipynb](https://colab.research.google.com/drive/1_J5Kzx-Qja_rIvCW3ziAamgdagq2x0op?usp=sharing). ![Screen Shot 2021-10-29 at 4 25 52 PM](https://user-images.githubusercontent.com/8352840/139497674-93d80465-5c2c-4865-a0d3-04dde2a76b17.png). ```python. # we copied the code from the pbmc3k example: https://scanpy-tutorials.readthedocs.io/en/latest/pbmc3k.html. ```. #### Versions. Scanpy 1.8.1. The issue seems to be the new version of umap-learn 0.5.2. We also raised this issue on the umap-learn repo here https://github.com/lmcinnes/umap/issues/798.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2026
https://github.com/scverse/scanpy/issues/2026:366,deployability,version,version,366,umap embedding not working as expected in umap-learn 0.5.2; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. ### Minimal code sample . The UMAP embeddings appear incorrect using the 0.5.2 version of umap-learn Scanpy [pbmc3k tutorial example](https://scanpy-tutorials.readthedocs.io/en/latest/pbmc3k.html). These results can be reproduced using the Google Colab links. . * colab notebook [scanpy_pbmc3k_umap-learn_0.5.1.ipynb](https://colab.research.google.com/drive/1kAPRClaUWoZdao458Q_6fwnxQaQ4xwsP?usp=sharing). ![Screen Shot 2021-10-29 at 4 25 46 PM](https://user-images.githubusercontent.com/8352840/139497658-454d28e8-1988-4e1e-8014-2d234348d271.png). * colab notebook [scanpy_pbmc3k_umap-learn_0.5.2.ipynb](https://colab.research.google.com/drive/1_J5Kzx-Qja_rIvCW3ziAamgdagq2x0op?usp=sharing). ![Screen Shot 2021-10-29 at 4 25 52 PM](https://user-images.githubusercontent.com/8352840/139497674-93d80465-5c2c-4865-a0d3-04dde2a76b17.png). ```python. # we copied the code from the pbmc3k example: https://scanpy-tutorials.readthedocs.io/en/latest/pbmc3k.html. ```. #### Versions. Scanpy 1.8.1. The issue seems to be the new version of umap-learn 0.5.2. We also raised this issue on the umap-learn repo here https://github.com/lmcinnes/umap/issues/798.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2026
https://github.com/scverse/scanpy/issues/2026:1253,deployability,Version,Versions,1253,umap embedding not working as expected in umap-learn 0.5.2; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. ### Minimal code sample . The UMAP embeddings appear incorrect using the 0.5.2 version of umap-learn Scanpy [pbmc3k tutorial example](https://scanpy-tutorials.readthedocs.io/en/latest/pbmc3k.html). These results can be reproduced using the Google Colab links. . * colab notebook [scanpy_pbmc3k_umap-learn_0.5.1.ipynb](https://colab.research.google.com/drive/1kAPRClaUWoZdao458Q_6fwnxQaQ4xwsP?usp=sharing). ![Screen Shot 2021-10-29 at 4 25 46 PM](https://user-images.githubusercontent.com/8352840/139497658-454d28e8-1988-4e1e-8014-2d234348d271.png). * colab notebook [scanpy_pbmc3k_umap-learn_0.5.2.ipynb](https://colab.research.google.com/drive/1_J5Kzx-Qja_rIvCW3ziAamgdagq2x0op?usp=sharing). ![Screen Shot 2021-10-29 at 4 25 52 PM](https://user-images.githubusercontent.com/8352840/139497674-93d80465-5c2c-4865-a0d3-04dde2a76b17.png). ```python. # we copied the code from the pbmc3k example: https://scanpy-tutorials.readthedocs.io/en/latest/pbmc3k.html. ```. #### Versions. Scanpy 1.8.1. The issue seems to be the new version of umap-learn 0.5.2. We also raised this issue on the umap-learn repo here https://github.com/lmcinnes/umap/issues/798.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2026
https://github.com/scverse/scanpy/issues/2026:1307,deployability,version,version,1307,umap embedding not working as expected in umap-learn 0.5.2; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. ### Minimal code sample . The UMAP embeddings appear incorrect using the 0.5.2 version of umap-learn Scanpy [pbmc3k tutorial example](https://scanpy-tutorials.readthedocs.io/en/latest/pbmc3k.html). These results can be reproduced using the Google Colab links. . * colab notebook [scanpy_pbmc3k_umap-learn_0.5.1.ipynb](https://colab.research.google.com/drive/1kAPRClaUWoZdao458Q_6fwnxQaQ4xwsP?usp=sharing). ![Screen Shot 2021-10-29 at 4 25 46 PM](https://user-images.githubusercontent.com/8352840/139497658-454d28e8-1988-4e1e-8014-2d234348d271.png). * colab notebook [scanpy_pbmc3k_umap-learn_0.5.2.ipynb](https://colab.research.google.com/drive/1_J5Kzx-Qja_rIvCW3ziAamgdagq2x0op?usp=sharing). ![Screen Shot 2021-10-29 at 4 25 52 PM](https://user-images.githubusercontent.com/8352840/139497674-93d80465-5c2c-4865-a0d3-04dde2a76b17.png). ```python. # we copied the code from the pbmc3k example: https://scanpy-tutorials.readthedocs.io/en/latest/pbmc3k.html. ```. #### Versions. Scanpy 1.8.1. The issue seems to be the new version of umap-learn 0.5.2. We also raised this issue on the umap-learn repo here https://github.com/lmcinnes/umap/issues/798.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2026
https://github.com/scverse/scanpy/issues/2026:181,integrability,version,version,181,umap embedding not working as expected in umap-learn 0.5.2; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. ### Minimal code sample . The UMAP embeddings appear incorrect using the 0.5.2 version of umap-learn Scanpy [pbmc3k tutorial example](https://scanpy-tutorials.readthedocs.io/en/latest/pbmc3k.html). These results can be reproduced using the Google Colab links. . * colab notebook [scanpy_pbmc3k_umap-learn_0.5.1.ipynb](https://colab.research.google.com/drive/1kAPRClaUWoZdao458Q_6fwnxQaQ4xwsP?usp=sharing). ![Screen Shot 2021-10-29 at 4 25 46 PM](https://user-images.githubusercontent.com/8352840/139497658-454d28e8-1988-4e1e-8014-2d234348d271.png). * colab notebook [scanpy_pbmc3k_umap-learn_0.5.2.ipynb](https://colab.research.google.com/drive/1_J5Kzx-Qja_rIvCW3ziAamgdagq2x0op?usp=sharing). ![Screen Shot 2021-10-29 at 4 25 52 PM](https://user-images.githubusercontent.com/8352840/139497674-93d80465-5c2c-4865-a0d3-04dde2a76b17.png). ```python. # we copied the code from the pbmc3k example: https://scanpy-tutorials.readthedocs.io/en/latest/pbmc3k.html. ```. #### Versions. Scanpy 1.8.1. The issue seems to be the new version of umap-learn 0.5.2. We also raised this issue on the umap-learn repo here https://github.com/lmcinnes/umap/issues/798.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2026
https://github.com/scverse/scanpy/issues/2026:366,integrability,version,version,366,umap embedding not working as expected in umap-learn 0.5.2; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. ### Minimal code sample . The UMAP embeddings appear incorrect using the 0.5.2 version of umap-learn Scanpy [pbmc3k tutorial example](https://scanpy-tutorials.readthedocs.io/en/latest/pbmc3k.html). These results can be reproduced using the Google Colab links. . * colab notebook [scanpy_pbmc3k_umap-learn_0.5.1.ipynb](https://colab.research.google.com/drive/1kAPRClaUWoZdao458Q_6fwnxQaQ4xwsP?usp=sharing). ![Screen Shot 2021-10-29 at 4 25 46 PM](https://user-images.githubusercontent.com/8352840/139497658-454d28e8-1988-4e1e-8014-2d234348d271.png). * colab notebook [scanpy_pbmc3k_umap-learn_0.5.2.ipynb](https://colab.research.google.com/drive/1_J5Kzx-Qja_rIvCW3ziAamgdagq2x0op?usp=sharing). ![Screen Shot 2021-10-29 at 4 25 52 PM](https://user-images.githubusercontent.com/8352840/139497674-93d80465-5c2c-4865-a0d3-04dde2a76b17.png). ```python. # we copied the code from the pbmc3k example: https://scanpy-tutorials.readthedocs.io/en/latest/pbmc3k.html. ```. #### Versions. Scanpy 1.8.1. The issue seems to be the new version of umap-learn 0.5.2. We also raised this issue on the umap-learn repo here https://github.com/lmcinnes/umap/issues/798.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2026
https://github.com/scverse/scanpy/issues/2026:1253,integrability,Version,Versions,1253,umap embedding not working as expected in umap-learn 0.5.2; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. ### Minimal code sample . The UMAP embeddings appear incorrect using the 0.5.2 version of umap-learn Scanpy [pbmc3k tutorial example](https://scanpy-tutorials.readthedocs.io/en/latest/pbmc3k.html). These results can be reproduced using the Google Colab links. . * colab notebook [scanpy_pbmc3k_umap-learn_0.5.1.ipynb](https://colab.research.google.com/drive/1kAPRClaUWoZdao458Q_6fwnxQaQ4xwsP?usp=sharing). ![Screen Shot 2021-10-29 at 4 25 46 PM](https://user-images.githubusercontent.com/8352840/139497658-454d28e8-1988-4e1e-8014-2d234348d271.png). * colab notebook [scanpy_pbmc3k_umap-learn_0.5.2.ipynb](https://colab.research.google.com/drive/1_J5Kzx-Qja_rIvCW3ziAamgdagq2x0op?usp=sharing). ![Screen Shot 2021-10-29 at 4 25 52 PM](https://user-images.githubusercontent.com/8352840/139497674-93d80465-5c2c-4865-a0d3-04dde2a76b17.png). ```python. # we copied the code from the pbmc3k example: https://scanpy-tutorials.readthedocs.io/en/latest/pbmc3k.html. ```. #### Versions. Scanpy 1.8.1. The issue seems to be the new version of umap-learn 0.5.2. We also raised this issue on the umap-learn repo here https://github.com/lmcinnes/umap/issues/798.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2026
https://github.com/scverse/scanpy/issues/2026:1307,integrability,version,version,1307,umap embedding not working as expected in umap-learn 0.5.2; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. ### Minimal code sample . The UMAP embeddings appear incorrect using the 0.5.2 version of umap-learn Scanpy [pbmc3k tutorial example](https://scanpy-tutorials.readthedocs.io/en/latest/pbmc3k.html). These results can be reproduced using the Google Colab links. . * colab notebook [scanpy_pbmc3k_umap-learn_0.5.1.ipynb](https://colab.research.google.com/drive/1kAPRClaUWoZdao458Q_6fwnxQaQ4xwsP?usp=sharing). ![Screen Shot 2021-10-29 at 4 25 46 PM](https://user-images.githubusercontent.com/8352840/139497658-454d28e8-1988-4e1e-8014-2d234348d271.png). * colab notebook [scanpy_pbmc3k_umap-learn_0.5.2.ipynb](https://colab.research.google.com/drive/1_J5Kzx-Qja_rIvCW3ziAamgdagq2x0op?usp=sharing). ![Screen Shot 2021-10-29 at 4 25 52 PM](https://user-images.githubusercontent.com/8352840/139497674-93d80465-5c2c-4865-a0d3-04dde2a76b17.png). ```python. # we copied the code from the pbmc3k example: https://scanpy-tutorials.readthedocs.io/en/latest/pbmc3k.html. ```. #### Versions. Scanpy 1.8.1. The issue seems to be the new version of umap-learn 0.5.2. We also raised this issue on the umap-learn repo here https://github.com/lmcinnes/umap/issues/798.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2026
https://github.com/scverse/scanpy/issues/2026:181,modifiability,version,version,181,umap embedding not working as expected in umap-learn 0.5.2; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. ### Minimal code sample . The UMAP embeddings appear incorrect using the 0.5.2 version of umap-learn Scanpy [pbmc3k tutorial example](https://scanpy-tutorials.readthedocs.io/en/latest/pbmc3k.html). These results can be reproduced using the Google Colab links. . * colab notebook [scanpy_pbmc3k_umap-learn_0.5.1.ipynb](https://colab.research.google.com/drive/1kAPRClaUWoZdao458Q_6fwnxQaQ4xwsP?usp=sharing). ![Screen Shot 2021-10-29 at 4 25 46 PM](https://user-images.githubusercontent.com/8352840/139497658-454d28e8-1988-4e1e-8014-2d234348d271.png). * colab notebook [scanpy_pbmc3k_umap-learn_0.5.2.ipynb](https://colab.research.google.com/drive/1_J5Kzx-Qja_rIvCW3ziAamgdagq2x0op?usp=sharing). ![Screen Shot 2021-10-29 at 4 25 52 PM](https://user-images.githubusercontent.com/8352840/139497674-93d80465-5c2c-4865-a0d3-04dde2a76b17.png). ```python. # we copied the code from the pbmc3k example: https://scanpy-tutorials.readthedocs.io/en/latest/pbmc3k.html. ```. #### Versions. Scanpy 1.8.1. The issue seems to be the new version of umap-learn 0.5.2. We also raised this issue on the umap-learn repo here https://github.com/lmcinnes/umap/issues/798.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2026
https://github.com/scverse/scanpy/issues/2026:366,modifiability,version,version,366,umap embedding not working as expected in umap-learn 0.5.2; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. ### Minimal code sample . The UMAP embeddings appear incorrect using the 0.5.2 version of umap-learn Scanpy [pbmc3k tutorial example](https://scanpy-tutorials.readthedocs.io/en/latest/pbmc3k.html). These results can be reproduced using the Google Colab links. . * colab notebook [scanpy_pbmc3k_umap-learn_0.5.1.ipynb](https://colab.research.google.com/drive/1kAPRClaUWoZdao458Q_6fwnxQaQ4xwsP?usp=sharing). ![Screen Shot 2021-10-29 at 4 25 46 PM](https://user-images.githubusercontent.com/8352840/139497658-454d28e8-1988-4e1e-8014-2d234348d271.png). * colab notebook [scanpy_pbmc3k_umap-learn_0.5.2.ipynb](https://colab.research.google.com/drive/1_J5Kzx-Qja_rIvCW3ziAamgdagq2x0op?usp=sharing). ![Screen Shot 2021-10-29 at 4 25 52 PM](https://user-images.githubusercontent.com/8352840/139497674-93d80465-5c2c-4865-a0d3-04dde2a76b17.png). ```python. # we copied the code from the pbmc3k example: https://scanpy-tutorials.readthedocs.io/en/latest/pbmc3k.html. ```. #### Versions. Scanpy 1.8.1. The issue seems to be the new version of umap-learn 0.5.2. We also raised this issue on the umap-learn repo here https://github.com/lmcinnes/umap/issues/798.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2026
https://github.com/scverse/scanpy/issues/2026:1253,modifiability,Version,Versions,1253,umap embedding not working as expected in umap-learn 0.5.2; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. ### Minimal code sample . The UMAP embeddings appear incorrect using the 0.5.2 version of umap-learn Scanpy [pbmc3k tutorial example](https://scanpy-tutorials.readthedocs.io/en/latest/pbmc3k.html). These results can be reproduced using the Google Colab links. . * colab notebook [scanpy_pbmc3k_umap-learn_0.5.1.ipynb](https://colab.research.google.com/drive/1kAPRClaUWoZdao458Q_6fwnxQaQ4xwsP?usp=sharing). ![Screen Shot 2021-10-29 at 4 25 46 PM](https://user-images.githubusercontent.com/8352840/139497658-454d28e8-1988-4e1e-8014-2d234348d271.png). * colab notebook [scanpy_pbmc3k_umap-learn_0.5.2.ipynb](https://colab.research.google.com/drive/1_J5Kzx-Qja_rIvCW3ziAamgdagq2x0op?usp=sharing). ![Screen Shot 2021-10-29 at 4 25 52 PM](https://user-images.githubusercontent.com/8352840/139497674-93d80465-5c2c-4865-a0d3-04dde2a76b17.png). ```python. # we copied the code from the pbmc3k example: https://scanpy-tutorials.readthedocs.io/en/latest/pbmc3k.html. ```. #### Versions. Scanpy 1.8.1. The issue seems to be the new version of umap-learn 0.5.2. We also raised this issue on the umap-learn repo here https://github.com/lmcinnes/umap/issues/798.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2026
https://github.com/scverse/scanpy/issues/2026:1307,modifiability,version,version,1307,umap embedding not working as expected in umap-learn 0.5.2; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. ### Minimal code sample . The UMAP embeddings appear incorrect using the 0.5.2 version of umap-learn Scanpy [pbmc3k tutorial example](https://scanpy-tutorials.readthedocs.io/en/latest/pbmc3k.html). These results can be reproduced using the Google Colab links. . * colab notebook [scanpy_pbmc3k_umap-learn_0.5.1.ipynb](https://colab.research.google.com/drive/1kAPRClaUWoZdao458Q_6fwnxQaQ4xwsP?usp=sharing). ![Screen Shot 2021-10-29 at 4 25 46 PM](https://user-images.githubusercontent.com/8352840/139497658-454d28e8-1988-4e1e-8014-2d234348d271.png). * colab notebook [scanpy_pbmc3k_umap-learn_0.5.2.ipynb](https://colab.research.google.com/drive/1_J5Kzx-Qja_rIvCW3ziAamgdagq2x0op?usp=sharing). ![Screen Shot 2021-10-29 at 4 25 52 PM](https://user-images.githubusercontent.com/8352840/139497674-93d80465-5c2c-4865-a0d3-04dde2a76b17.png). ```python. # we copied the code from the pbmc3k example: https://scanpy-tutorials.readthedocs.io/en/latest/pbmc3k.html. ```. #### Versions. Scanpy 1.8.1. The issue seems to be the new version of umap-learn 0.5.2. We also raised this issue on the umap-learn repo here https://github.com/lmcinnes/umap/issues/798.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2026
https://github.com/scverse/scanpy/issues/2026:47,usability,learn,learn,47,umap embedding not working as expected in umap-learn 0.5.2; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. ### Minimal code sample . The UMAP embeddings appear incorrect using the 0.5.2 version of umap-learn Scanpy [pbmc3k tutorial example](https://scanpy-tutorials.readthedocs.io/en/latest/pbmc3k.html). These results can be reproduced using the Google Colab links. . * colab notebook [scanpy_pbmc3k_umap-learn_0.5.1.ipynb](https://colab.research.google.com/drive/1kAPRClaUWoZdao458Q_6fwnxQaQ4xwsP?usp=sharing). ![Screen Shot 2021-10-29 at 4 25 46 PM](https://user-images.githubusercontent.com/8352840/139497658-454d28e8-1988-4e1e-8014-2d234348d271.png). * colab notebook [scanpy_pbmc3k_umap-learn_0.5.2.ipynb](https://colab.research.google.com/drive/1_J5Kzx-Qja_rIvCW3ziAamgdagq2x0op?usp=sharing). ![Screen Shot 2021-10-29 at 4 25 52 PM](https://user-images.githubusercontent.com/8352840/139497674-93d80465-5c2c-4865-a0d3-04dde2a76b17.png). ```python. # we copied the code from the pbmc3k example: https://scanpy-tutorials.readthedocs.io/en/latest/pbmc3k.html. ```. #### Versions. Scanpy 1.8.1. The issue seems to be the new version of umap-learn 0.5.2. We also raised this issue on the umap-learn repo here https://github.com/lmcinnes/umap/issues/798.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2026
https://github.com/scverse/scanpy/issues/2026:141,usability,confirm,confirmed,141,umap embedding not working as expected in umap-learn 0.5.2; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. ### Minimal code sample . The UMAP embeddings appear incorrect using the 0.5.2 version of umap-learn Scanpy [pbmc3k tutorial example](https://scanpy-tutorials.readthedocs.io/en/latest/pbmc3k.html). These results can be reproduced using the Google Colab links. . * colab notebook [scanpy_pbmc3k_umap-learn_0.5.1.ipynb](https://colab.research.google.com/drive/1kAPRClaUWoZdao458Q_6fwnxQaQ4xwsP?usp=sharing). ![Screen Shot 2021-10-29 at 4 25 46 PM](https://user-images.githubusercontent.com/8352840/139497658-454d28e8-1988-4e1e-8014-2d234348d271.png). * colab notebook [scanpy_pbmc3k_umap-learn_0.5.2.ipynb](https://colab.research.google.com/drive/1_J5Kzx-Qja_rIvCW3ziAamgdagq2x0op?usp=sharing). ![Screen Shot 2021-10-29 at 4 25 52 PM](https://user-images.githubusercontent.com/8352840/139497674-93d80465-5c2c-4865-a0d3-04dde2a76b17.png). ```python. # we copied the code from the pbmc3k example: https://scanpy-tutorials.readthedocs.io/en/latest/pbmc3k.html. ```. #### Versions. Scanpy 1.8.1. The issue seems to be the new version of umap-learn 0.5.2. We also raised this issue on the umap-learn repo here https://github.com/lmcinnes/umap/issues/798.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2026
https://github.com/scverse/scanpy/issues/2026:224,usability,confirm,confirmed,224,umap embedding not working as expected in umap-learn 0.5.2; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. ### Minimal code sample . The UMAP embeddings appear incorrect using the 0.5.2 version of umap-learn Scanpy [pbmc3k tutorial example](https://scanpy-tutorials.readthedocs.io/en/latest/pbmc3k.html). These results can be reproduced using the Google Colab links. . * colab notebook [scanpy_pbmc3k_umap-learn_0.5.1.ipynb](https://colab.research.google.com/drive/1kAPRClaUWoZdao458Q_6fwnxQaQ4xwsP?usp=sharing). ![Screen Shot 2021-10-29 at 4 25 46 PM](https://user-images.githubusercontent.com/8352840/139497658-454d28e8-1988-4e1e-8014-2d234348d271.png). * colab notebook [scanpy_pbmc3k_umap-learn_0.5.2.ipynb](https://colab.research.google.com/drive/1_J5Kzx-Qja_rIvCW3ziAamgdagq2x0op?usp=sharing). ![Screen Shot 2021-10-29 at 4 25 52 PM](https://user-images.githubusercontent.com/8352840/139497674-93d80465-5c2c-4865-a0d3-04dde2a76b17.png). ```python. # we copied the code from the pbmc3k example: https://scanpy-tutorials.readthedocs.io/en/latest/pbmc3k.html. ```. #### Versions. Scanpy 1.8.1. The issue seems to be the new version of umap-learn 0.5.2. We also raised this issue on the umap-learn repo here https://github.com/lmcinnes/umap/issues/798.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2026
https://github.com/scverse/scanpy/issues/2026:291,usability,Minim,Minimal,291,umap embedding not working as expected in umap-learn 0.5.2; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. ### Minimal code sample . The UMAP embeddings appear incorrect using the 0.5.2 version of umap-learn Scanpy [pbmc3k tutorial example](https://scanpy-tutorials.readthedocs.io/en/latest/pbmc3k.html). These results can be reproduced using the Google Colab links. . * colab notebook [scanpy_pbmc3k_umap-learn_0.5.1.ipynb](https://colab.research.google.com/drive/1kAPRClaUWoZdao458Q_6fwnxQaQ4xwsP?usp=sharing). ![Screen Shot 2021-10-29 at 4 25 46 PM](https://user-images.githubusercontent.com/8352840/139497658-454d28e8-1988-4e1e-8014-2d234348d271.png). * colab notebook [scanpy_pbmc3k_umap-learn_0.5.2.ipynb](https://colab.research.google.com/drive/1_J5Kzx-Qja_rIvCW3ziAamgdagq2x0op?usp=sharing). ![Screen Shot 2021-10-29 at 4 25 52 PM](https://user-images.githubusercontent.com/8352840/139497674-93d80465-5c2c-4865-a0d3-04dde2a76b17.png). ```python. # we copied the code from the pbmc3k example: https://scanpy-tutorials.readthedocs.io/en/latest/pbmc3k.html. ```. #### Versions. Scanpy 1.8.1. The issue seems to be the new version of umap-learn 0.5.2. We also raised this issue on the umap-learn repo here https://github.com/lmcinnes/umap/issues/798.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2026
https://github.com/scverse/scanpy/issues/2026:382,usability,learn,learn,382,umap embedding not working as expected in umap-learn 0.5.2; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. ### Minimal code sample . The UMAP embeddings appear incorrect using the 0.5.2 version of umap-learn Scanpy [pbmc3k tutorial example](https://scanpy-tutorials.readthedocs.io/en/latest/pbmc3k.html). These results can be reproduced using the Google Colab links. . * colab notebook [scanpy_pbmc3k_umap-learn_0.5.1.ipynb](https://colab.research.google.com/drive/1kAPRClaUWoZdao458Q_6fwnxQaQ4xwsP?usp=sharing). ![Screen Shot 2021-10-29 at 4 25 46 PM](https://user-images.githubusercontent.com/8352840/139497658-454d28e8-1988-4e1e-8014-2d234348d271.png). * colab notebook [scanpy_pbmc3k_umap-learn_0.5.2.ipynb](https://colab.research.google.com/drive/1_J5Kzx-Qja_rIvCW3ziAamgdagq2x0op?usp=sharing). ![Screen Shot 2021-10-29 at 4 25 52 PM](https://user-images.githubusercontent.com/8352840/139497674-93d80465-5c2c-4865-a0d3-04dde2a76b17.png). ```python. # we copied the code from the pbmc3k example: https://scanpy-tutorials.readthedocs.io/en/latest/pbmc3k.html. ```. #### Versions. Scanpy 1.8.1. The issue seems to be the new version of umap-learn 0.5.2. We also raised this issue on the umap-learn repo here https://github.com/lmcinnes/umap/issues/798.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2026
https://github.com/scverse/scanpy/issues/2026:741,usability,user,user-images,741,umap embedding not working as expected in umap-learn 0.5.2; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. ### Minimal code sample . The UMAP embeddings appear incorrect using the 0.5.2 version of umap-learn Scanpy [pbmc3k tutorial example](https://scanpy-tutorials.readthedocs.io/en/latest/pbmc3k.html). These results can be reproduced using the Google Colab links. . * colab notebook [scanpy_pbmc3k_umap-learn_0.5.1.ipynb](https://colab.research.google.com/drive/1kAPRClaUWoZdao458Q_6fwnxQaQ4xwsP?usp=sharing). ![Screen Shot 2021-10-29 at 4 25 46 PM](https://user-images.githubusercontent.com/8352840/139497658-454d28e8-1988-4e1e-8014-2d234348d271.png). * colab notebook [scanpy_pbmc3k_umap-learn_0.5.2.ipynb](https://colab.research.google.com/drive/1_J5Kzx-Qja_rIvCW3ziAamgdagq2x0op?usp=sharing). ![Screen Shot 2021-10-29 at 4 25 52 PM](https://user-images.githubusercontent.com/8352840/139497674-93d80465-5c2c-4865-a0d3-04dde2a76b17.png). ```python. # we copied the code from the pbmc3k example: https://scanpy-tutorials.readthedocs.io/en/latest/pbmc3k.html. ```. #### Versions. Scanpy 1.8.1. The issue seems to be the new version of umap-learn 0.5.2. We also raised this issue on the umap-learn repo here https://github.com/lmcinnes/umap/issues/798.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2026
https://github.com/scverse/scanpy/issues/2026:1028,usability,user,user-images,1028,umap embedding not working as expected in umap-learn 0.5.2; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. ### Minimal code sample . The UMAP embeddings appear incorrect using the 0.5.2 version of umap-learn Scanpy [pbmc3k tutorial example](https://scanpy-tutorials.readthedocs.io/en/latest/pbmc3k.html). These results can be reproduced using the Google Colab links. . * colab notebook [scanpy_pbmc3k_umap-learn_0.5.1.ipynb](https://colab.research.google.com/drive/1kAPRClaUWoZdao458Q_6fwnxQaQ4xwsP?usp=sharing). ![Screen Shot 2021-10-29 at 4 25 46 PM](https://user-images.githubusercontent.com/8352840/139497658-454d28e8-1988-4e1e-8014-2d234348d271.png). * colab notebook [scanpy_pbmc3k_umap-learn_0.5.2.ipynb](https://colab.research.google.com/drive/1_J5Kzx-Qja_rIvCW3ziAamgdagq2x0op?usp=sharing). ![Screen Shot 2021-10-29 at 4 25 52 PM](https://user-images.githubusercontent.com/8352840/139497674-93d80465-5c2c-4865-a0d3-04dde2a76b17.png). ```python. # we copied the code from the pbmc3k example: https://scanpy-tutorials.readthedocs.io/en/latest/pbmc3k.html. ```. #### Versions. Scanpy 1.8.1. The issue seems to be the new version of umap-learn 0.5.2. We also raised this issue on the umap-learn repo here https://github.com/lmcinnes/umap/issues/798.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2026
https://github.com/scverse/scanpy/issues/2026:1323,usability,learn,learn,1323,umap embedding not working as expected in umap-learn 0.5.2; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. ### Minimal code sample . The UMAP embeddings appear incorrect using the 0.5.2 version of umap-learn Scanpy [pbmc3k tutorial example](https://scanpy-tutorials.readthedocs.io/en/latest/pbmc3k.html). These results can be reproduced using the Google Colab links. . * colab notebook [scanpy_pbmc3k_umap-learn_0.5.1.ipynb](https://colab.research.google.com/drive/1kAPRClaUWoZdao458Q_6fwnxQaQ4xwsP?usp=sharing). ![Screen Shot 2021-10-29 at 4 25 46 PM](https://user-images.githubusercontent.com/8352840/139497658-454d28e8-1988-4e1e-8014-2d234348d271.png). * colab notebook [scanpy_pbmc3k_umap-learn_0.5.2.ipynb](https://colab.research.google.com/drive/1_J5Kzx-Qja_rIvCW3ziAamgdagq2x0op?usp=sharing). ![Screen Shot 2021-10-29 at 4 25 52 PM](https://user-images.githubusercontent.com/8352840/139497674-93d80465-5c2c-4865-a0d3-04dde2a76b17.png). ```python. # we copied the code from the pbmc3k example: https://scanpy-tutorials.readthedocs.io/en/latest/pbmc3k.html. ```. #### Versions. Scanpy 1.8.1. The issue seems to be the new version of umap-learn 0.5.2. We also raised this issue on the umap-learn repo here https://github.com/lmcinnes/umap/issues/798.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2026
https://github.com/scverse/scanpy/issues/2026:1374,usability,learn,learn,1374,umap embedding not working as expected in umap-learn 0.5.2; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. ### Minimal code sample . The UMAP embeddings appear incorrect using the 0.5.2 version of umap-learn Scanpy [pbmc3k tutorial example](https://scanpy-tutorials.readthedocs.io/en/latest/pbmc3k.html). These results can be reproduced using the Google Colab links. . * colab notebook [scanpy_pbmc3k_umap-learn_0.5.1.ipynb](https://colab.research.google.com/drive/1kAPRClaUWoZdao458Q_6fwnxQaQ4xwsP?usp=sharing). ![Screen Shot 2021-10-29 at 4 25 46 PM](https://user-images.githubusercontent.com/8352840/139497658-454d28e8-1988-4e1e-8014-2d234348d271.png). * colab notebook [scanpy_pbmc3k_umap-learn_0.5.2.ipynb](https://colab.research.google.com/drive/1_J5Kzx-Qja_rIvCW3ziAamgdagq2x0op?usp=sharing). ![Screen Shot 2021-10-29 at 4 25 52 PM](https://user-images.githubusercontent.com/8352840/139497674-93d80465-5c2c-4865-a0d3-04dde2a76b17.png). ```python. # we copied the code from the pbmc3k example: https://scanpy-tutorials.readthedocs.io/en/latest/pbmc3k.html. ```. #### Versions. Scanpy 1.8.1. The issue seems to be the new version of umap-learn 0.5.2. We also raised this issue on the umap-learn repo here https://github.com/lmcinnes/umap/issues/798.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2026
https://github.com/scverse/scanpy/pull/2027:339,availability,error,errors,339,"Fix finding variables with sc.pl.scatter(..., use_raw=True); sc.pl.scatter() is a wrapper for _scatter_obs(). It checks to make sure. the variable names the caller is requesting to plot exist in var and/or. obs, but does not take into account whether it should look in raw based. on the use_raw flag, as _scatter_obs() does. This leads to errors when a. user asks to plot variables that are in the raw but not the filtered. matrix of adata. This commit fixes that bug. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2027
https://github.com/scverse/scanpy/pull/2027:82,integrability,wrap,wrapper,82,"Fix finding variables with sc.pl.scatter(..., use_raw=True); sc.pl.scatter() is a wrapper for _scatter_obs(). It checks to make sure. the variable names the caller is requesting to plot exist in var and/or. obs, but does not take into account whether it should look in raw based. on the use_raw flag, as _scatter_obs() does. This leads to errors when a. user asks to plot variables that are in the raw but not the filtered. matrix of adata. This commit fixes that bug. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2027
https://github.com/scverse/scanpy/pull/2027:414,integrability,filter,filtered,414,"Fix finding variables with sc.pl.scatter(..., use_raw=True); sc.pl.scatter() is a wrapper for _scatter_obs(). It checks to make sure. the variable names the caller is requesting to plot exist in var and/or. obs, but does not take into account whether it should look in raw based. on the use_raw flag, as _scatter_obs() does. This leads to errors when a. user asks to plot variables that are in the raw but not the filtered. matrix of adata. This commit fixes that bug. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2027
https://github.com/scverse/scanpy/pull/2027:82,interoperability,wrapper,wrapper,82,"Fix finding variables with sc.pl.scatter(..., use_raw=True); sc.pl.scatter() is a wrapper for _scatter_obs(). It checks to make sure. the variable names the caller is requesting to plot exist in var and/or. obs, but does not take into account whether it should look in raw based. on the use_raw flag, as _scatter_obs() does. This leads to errors when a. user asks to plot variables that are in the raw but not the filtered. matrix of adata. This commit fixes that bug. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2027
https://github.com/scverse/scanpy/pull/2027:12,modifiability,variab,variables,12,"Fix finding variables with sc.pl.scatter(..., use_raw=True); sc.pl.scatter() is a wrapper for _scatter_obs(). It checks to make sure. the variable names the caller is requesting to plot exist in var and/or. obs, but does not take into account whether it should look in raw based. on the use_raw flag, as _scatter_obs() does. This leads to errors when a. user asks to plot variables that are in the raw but not the filtered. matrix of adata. This commit fixes that bug. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2027
https://github.com/scverse/scanpy/pull/2027:138,modifiability,variab,variable,138,"Fix finding variables with sc.pl.scatter(..., use_raw=True); sc.pl.scatter() is a wrapper for _scatter_obs(). It checks to make sure. the variable names the caller is requesting to plot exist in var and/or. obs, but does not take into account whether it should look in raw based. on the use_raw flag, as _scatter_obs() does. This leads to errors when a. user asks to plot variables that are in the raw but not the filtered. matrix of adata. This commit fixes that bug. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2027
https://github.com/scverse/scanpy/pull/2027:372,modifiability,variab,variables,372,"Fix finding variables with sc.pl.scatter(..., use_raw=True); sc.pl.scatter() is a wrapper for _scatter_obs(). It checks to make sure. the variable names the caller is requesting to plot exist in var and/or. obs, but does not take into account whether it should look in raw based. on the use_raw flag, as _scatter_obs() does. This leads to errors when a. user asks to plot variables that are in the raw but not the filtered. matrix of adata. This commit fixes that bug. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2027
https://github.com/scverse/scanpy/pull/2027:339,performance,error,errors,339,"Fix finding variables with sc.pl.scatter(..., use_raw=True); sc.pl.scatter() is a wrapper for _scatter_obs(). It checks to make sure. the variable names the caller is requesting to plot exist in var and/or. obs, but does not take into account whether it should look in raw based. on the use_raw flag, as _scatter_obs() does. This leads to errors when a. user asks to plot variables that are in the raw but not the filtered. matrix of adata. This commit fixes that bug. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2027
https://github.com/scverse/scanpy/pull/2027:216,reliability,doe,does,216,"Fix finding variables with sc.pl.scatter(..., use_raw=True); sc.pl.scatter() is a wrapper for _scatter_obs(). It checks to make sure. the variable names the caller is requesting to plot exist in var and/or. obs, but does not take into account whether it should look in raw based. on the use_raw flag, as _scatter_obs() does. This leads to errors when a. user asks to plot variables that are in the raw but not the filtered. matrix of adata. This commit fixes that bug. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2027
https://github.com/scverse/scanpy/pull/2027:319,reliability,doe,does,319,"Fix finding variables with sc.pl.scatter(..., use_raw=True); sc.pl.scatter() is a wrapper for _scatter_obs(). It checks to make sure. the variable names the caller is requesting to plot exist in var and/or. obs, but does not take into account whether it should look in raw based. on the use_raw flag, as _scatter_obs() does. This leads to errors when a. user asks to plot variables that are in the raw but not the filtered. matrix of adata. This commit fixes that bug. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2027
https://github.com/scverse/scanpy/pull/2027:339,safety,error,errors,339,"Fix finding variables with sc.pl.scatter(..., use_raw=True); sc.pl.scatter() is a wrapper for _scatter_obs(). It checks to make sure. the variable names the caller is requesting to plot exist in var and/or. obs, but does not take into account whether it should look in raw based. on the use_raw flag, as _scatter_obs() does. This leads to errors when a. user asks to plot variables that are in the raw but not the filtered. matrix of adata. This commit fixes that bug. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2027
https://github.com/scverse/scanpy/pull/2027:688,safety,review,review,688,"Fix finding variables with sc.pl.scatter(..., use_raw=True); sc.pl.scatter() is a wrapper for _scatter_obs(). It checks to make sure. the variable names the caller is requesting to plot exist in var and/or. obs, but does not take into account whether it should look in raw based. on the use_raw flag, as _scatter_obs() does. This leads to errors when a. user asks to plot variables that are in the raw but not the filtered. matrix of adata. This commit fixes that bug. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2027
https://github.com/scverse/scanpy/pull/2027:688,testability,review,review,688,"Fix finding variables with sc.pl.scatter(..., use_raw=True); sc.pl.scatter() is a wrapper for _scatter_obs(). It checks to make sure. the variable names the caller is requesting to plot exist in var and/or. obs, but does not take into account whether it should look in raw based. on the use_raw flag, as _scatter_obs() does. This leads to errors when a. user asks to plot variables that are in the raw but not the filtered. matrix of adata. This commit fixes that bug. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2027
https://github.com/scverse/scanpy/pull/2027:339,usability,error,errors,339,"Fix finding variables with sc.pl.scatter(..., use_raw=True); sc.pl.scatter() is a wrapper for _scatter_obs(). It checks to make sure. the variable names the caller is requesting to plot exist in var and/or. obs, but does not take into account whether it should look in raw based. on the use_raw flag, as _scatter_obs() does. This leads to errors when a. user asks to plot variables that are in the raw but not the filtered. matrix of adata. This commit fixes that bug. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2027
https://github.com/scverse/scanpy/pull/2027:354,usability,user,user,354,"Fix finding variables with sc.pl.scatter(..., use_raw=True); sc.pl.scatter() is a wrapper for _scatter_obs(). It checks to make sure. the variable names the caller is requesting to plot exist in var and/or. obs, but does not take into account whether it should look in raw based. on the use_raw flag, as _scatter_obs() does. This leads to errors when a. user asks to plot variables that are in the raw but not the filtered. matrix of adata. This commit fixes that bug. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2027
https://github.com/scverse/scanpy/pull/2027:539,usability,guid,guidelines,539,"Fix finding variables with sc.pl.scatter(..., use_raw=True); sc.pl.scatter() is a wrapper for _scatter_obs(). It checks to make sure. the variable names the caller is requesting to plot exist in var and/or. obs, but does not take into account whether it should look in raw based. on the use_raw flag, as _scatter_obs() does. This leads to errors when a. user asks to plot variables that are in the raw but not the filtered. matrix of adata. This commit fixes that bug. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2027
https://github.com/scverse/scanpy/pull/2027:570,usability,guid,guide,570,"Fix finding variables with sc.pl.scatter(..., use_raw=True); sc.pl.scatter() is a wrapper for _scatter_obs(). It checks to make sure. the variable names the caller is requesting to plot exist in var and/or. obs, but does not take into account whether it should look in raw based. on the use_raw flag, as _scatter_obs() does. This leads to errors when a. user asks to plot variables that are in the raw but not the filtered. matrix of adata. This commit fixes that bug. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2027
https://github.com/scverse/scanpy/pull/2027:666,usability,workflow,workflow,666,"Fix finding variables with sc.pl.scatter(..., use_raw=True); sc.pl.scatter() is a wrapper for _scatter_obs(). It checks to make sure. the variable names the caller is requesting to plot exist in var and/or. obs, but does not take into account whether it should look in raw based. on the use_raw flag, as _scatter_obs() does. This leads to errors when a. user asks to plot variables that are in the raw but not the filtered. matrix of adata. This commit fixes that bug. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2027
https://github.com/scverse/scanpy/pull/2028:0,deployability,Updat,Update,0,Update for cope with issue introduced in umap-learn 0.5.2; As of umap-learn 0.5.2 an ``n_epochs`` value of 0 is now a valid value and None is used instead to indicate a value should be generated. To maintain forward compatability and backward compatibility with older umap-learn versions we instead make use of the epch setting criterion internal to umap-learn here directly. This should resolve issue #2026 and lmcinnes/umap#798. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2028
https://github.com/scverse/scanpy/pull/2028:279,deployability,version,versions,279,Update for cope with issue introduced in umap-learn 0.5.2; As of umap-learn 0.5.2 an ``n_epochs`` value of 0 is now a valid value and None is used instead to indicate a value should be generated. To maintain forward compatability and backward compatibility with older umap-learn versions we instead make use of the epch setting criterion internal to umap-learn here directly. This should resolve issue #2026 and lmcinnes/umap#798. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2028
https://github.com/scverse/scanpy/pull/2028:279,integrability,version,versions,279,Update for cope with issue introduced in umap-learn 0.5.2; As of umap-learn 0.5.2 an ``n_epochs`` value of 0 is now a valid value and None is used instead to indicate a value should be generated. To maintain forward compatability and backward compatibility with older umap-learn versions we instead make use of the epch setting criterion internal to umap-learn here directly. This should resolve issue #2026 and lmcinnes/umap#798. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2028
https://github.com/scverse/scanpy/pull/2028:243,interoperability,compatib,compatibility,243,Update for cope with issue introduced in umap-learn 0.5.2; As of umap-learn 0.5.2 an ``n_epochs`` value of 0 is now a valid value and None is used instead to indicate a value should be generated. To maintain forward compatability and backward compatibility with older umap-learn versions we instead make use of the epch setting criterion internal to umap-learn here directly. This should resolve issue #2026 and lmcinnes/umap#798. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2028
https://github.com/scverse/scanpy/pull/2028:199,modifiability,maintain,maintain,199,Update for cope with issue introduced in umap-learn 0.5.2; As of umap-learn 0.5.2 an ``n_epochs`` value of 0 is now a valid value and None is used instead to indicate a value should be generated. To maintain forward compatability and backward compatibility with older umap-learn versions we instead make use of the epch setting criterion internal to umap-learn here directly. This should resolve issue #2026 and lmcinnes/umap#798. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2028
https://github.com/scverse/scanpy/pull/2028:279,modifiability,version,versions,279,Update for cope with issue introduced in umap-learn 0.5.2; As of umap-learn 0.5.2 an ``n_epochs`` value of 0 is now a valid value and None is used instead to indicate a value should be generated. To maintain forward compatability and backward compatibility with older umap-learn versions we instead make use of the epch setting criterion internal to umap-learn here directly. This should resolve issue #2026 and lmcinnes/umap#798. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2028
https://github.com/scverse/scanpy/pull/2028:0,safety,Updat,Update,0,Update for cope with issue introduced in umap-learn 0.5.2; As of umap-learn 0.5.2 an ``n_epochs`` value of 0 is now a valid value and None is used instead to indicate a value should be generated. To maintain forward compatability and backward compatibility with older umap-learn versions we instead make use of the epch setting criterion internal to umap-learn here directly. This should resolve issue #2026 and lmcinnes/umap#798. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2028
https://github.com/scverse/scanpy/pull/2028:118,safety,valid,valid,118,Update for cope with issue introduced in umap-learn 0.5.2; As of umap-learn 0.5.2 an ``n_epochs`` value of 0 is now a valid value and None is used instead to indicate a value should be generated. To maintain forward compatability and backward compatibility with older umap-learn versions we instead make use of the epch setting criterion internal to umap-learn here directly. This should resolve issue #2026 and lmcinnes/umap#798. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2028
https://github.com/scverse/scanpy/pull/2028:199,safety,maintain,maintain,199,Update for cope with issue introduced in umap-learn 0.5.2; As of umap-learn 0.5.2 an ``n_epochs`` value of 0 is now a valid value and None is used instead to indicate a value should be generated. To maintain forward compatability and backward compatibility with older umap-learn versions we instead make use of the epch setting criterion internal to umap-learn here directly. This should resolve issue #2026 and lmcinnes/umap#798. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2028
https://github.com/scverse/scanpy/pull/2028:650,safety,review,review,650,Update for cope with issue introduced in umap-learn 0.5.2; As of umap-learn 0.5.2 an ``n_epochs`` value of 0 is now a valid value and None is used instead to indicate a value should be generated. To maintain forward compatability and backward compatibility with older umap-learn versions we instead make use of the epch setting criterion internal to umap-learn here directly. This should resolve issue #2026 and lmcinnes/umap#798. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2028
https://github.com/scverse/scanpy/pull/2028:0,security,Updat,Update,0,Update for cope with issue introduced in umap-learn 0.5.2; As of umap-learn 0.5.2 an ``n_epochs`` value of 0 is now a valid value and None is used instead to indicate a value should be generated. To maintain forward compatability and backward compatibility with older umap-learn versions we instead make use of the epch setting criterion internal to umap-learn here directly. This should resolve issue #2026 and lmcinnes/umap#798. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2028
https://github.com/scverse/scanpy/pull/2028:650,testability,review,review,650,Update for cope with issue introduced in umap-learn 0.5.2; As of umap-learn 0.5.2 an ``n_epochs`` value of 0 is now a valid value and None is used instead to indicate a value should be generated. To maintain forward compatability and backward compatibility with older umap-learn versions we instead make use of the epch setting criterion internal to umap-learn here directly. This should resolve issue #2026 and lmcinnes/umap#798. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2028
https://github.com/scverse/scanpy/pull/2028:46,usability,learn,learn,46,Update for cope with issue introduced in umap-learn 0.5.2; As of umap-learn 0.5.2 an ``n_epochs`` value of 0 is now a valid value and None is used instead to indicate a value should be generated. To maintain forward compatability and backward compatibility with older umap-learn versions we instead make use of the epch setting criterion internal to umap-learn here directly. This should resolve issue #2026 and lmcinnes/umap#798. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2028
https://github.com/scverse/scanpy/pull/2028:70,usability,learn,learn,70,Update for cope with issue introduced in umap-learn 0.5.2; As of umap-learn 0.5.2 an ``n_epochs`` value of 0 is now a valid value and None is used instead to indicate a value should be generated. To maintain forward compatability and backward compatibility with older umap-learn versions we instead make use of the epch setting criterion internal to umap-learn here directly. This should resolve issue #2026 and lmcinnes/umap#798. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2028
https://github.com/scverse/scanpy/pull/2028:158,usability,indicat,indicate,158,Update for cope with issue introduced in umap-learn 0.5.2; As of umap-learn 0.5.2 an ``n_epochs`` value of 0 is now a valid value and None is used instead to indicate a value should be generated. To maintain forward compatability and backward compatibility with older umap-learn versions we instead make use of the epch setting criterion internal to umap-learn here directly. This should resolve issue #2026 and lmcinnes/umap#798. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2028
https://github.com/scverse/scanpy/pull/2028:273,usability,learn,learn,273,Update for cope with issue introduced in umap-learn 0.5.2; As of umap-learn 0.5.2 an ``n_epochs`` value of 0 is now a valid value and None is used instead to indicate a value should be generated. To maintain forward compatability and backward compatibility with older umap-learn versions we instead make use of the epch setting criterion internal to umap-learn here directly. This should resolve issue #2026 and lmcinnes/umap#798. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2028
https://github.com/scverse/scanpy/pull/2028:355,usability,learn,learn,355,Update for cope with issue introduced in umap-learn 0.5.2; As of umap-learn 0.5.2 an ``n_epochs`` value of 0 is now a valid value and None is used instead to indicate a value should be generated. To maintain forward compatability and backward compatibility with older umap-learn versions we instead make use of the epch setting criterion internal to umap-learn here directly. This should resolve issue #2026 and lmcinnes/umap#798. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2028
https://github.com/scverse/scanpy/pull/2028:501,usability,guid,guidelines,501,Update for cope with issue introduced in umap-learn 0.5.2; As of umap-learn 0.5.2 an ``n_epochs`` value of 0 is now a valid value and None is used instead to indicate a value should be generated. To maintain forward compatability and backward compatibility with older umap-learn versions we instead make use of the epch setting criterion internal to umap-learn here directly. This should resolve issue #2026 and lmcinnes/umap#798. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2028
https://github.com/scverse/scanpy/pull/2028:532,usability,guid,guide,532,Update for cope with issue introduced in umap-learn 0.5.2; As of umap-learn 0.5.2 an ``n_epochs`` value of 0 is now a valid value and None is used instead to indicate a value should be generated. To maintain forward compatability and backward compatibility with older umap-learn versions we instead make use of the epch setting criterion internal to umap-learn here directly. This should resolve issue #2026 and lmcinnes/umap#798. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2028
https://github.com/scverse/scanpy/pull/2028:628,usability,workflow,workflow,628,Update for cope with issue introduced in umap-learn 0.5.2; As of umap-learn 0.5.2 an ``n_epochs`` value of 0 is now a valid value and None is used instead to indicate a value should be generated. To maintain forward compatability and backward compatibility with older umap-learn versions we instead make use of the epch setting criterion internal to umap-learn here directly. This should resolve issue #2026 and lmcinnes/umap#798. <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2028
https://github.com/scverse/scanpy/issues/2029:564,modifiability,scal,scaling,564,"Which data should be used for finding marker genes?; Hello all,. In the “Finding marker genes” part of PBMC3K tutorial, the authors mentioned that “For this, by default, the .raw attribute of AnnData is used in case it has been initialized before” and the fuction `sc.tl.rank_genes_groups(adata, ‘leiden’, method=‘t-test’)` setting `use_raw=True` as default. I tried `use_raw=False` in this `sc.tl.rank_genes_groups()` function and found that the results of marker genes are quite different. So, which data is recommended for finding the marker genes, adata after scaling, which is `use_raw=False`, or `adata.raw`? Thanks! Best. YJ.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2029
https://github.com/scverse/scanpy/issues/2029:316,safety,test,test,316,"Which data should be used for finding marker genes?; Hello all,. In the “Finding marker genes” part of PBMC3K tutorial, the authors mentioned that “For this, by default, the .raw attribute of AnnData is used in case it has been initialized before” and the fuction `sc.tl.rank_genes_groups(adata, ‘leiden’, method=‘t-test’)` setting `use_raw=True` as default. I tried `use_raw=False` in this `sc.tl.rank_genes_groups()` function and found that the results of marker genes are quite different. So, which data is recommended for finding the marker genes, adata after scaling, which is `use_raw=False`, or `adata.raw`? Thanks! Best. YJ.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2029
https://github.com/scverse/scanpy/issues/2029:124,security,auth,authors,124,"Which data should be used for finding marker genes?; Hello all,. In the “Finding marker genes” part of PBMC3K tutorial, the authors mentioned that “For this, by default, the .raw attribute of AnnData is used in case it has been initialized before” and the fuction `sc.tl.rank_genes_groups(adata, ‘leiden’, method=‘t-test’)` setting `use_raw=True` as default. I tried `use_raw=False` in this `sc.tl.rank_genes_groups()` function and found that the results of marker genes are quite different. So, which data is recommended for finding the marker genes, adata after scaling, which is `use_raw=False`, or `adata.raw`? Thanks! Best. YJ.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2029
https://github.com/scverse/scanpy/issues/2029:316,testability,test,test,316,"Which data should be used for finding marker genes?; Hello all,. In the “Finding marker genes” part of PBMC3K tutorial, the authors mentioned that “For this, by default, the .raw attribute of AnnData is used in case it has been initialized before” and the fuction `sc.tl.rank_genes_groups(adata, ‘leiden’, method=‘t-test’)` setting `use_raw=True` as default. I tried `use_raw=False` in this `sc.tl.rank_genes_groups()` function and found that the results of marker genes are quite different. So, which data is recommended for finding the marker genes, adata after scaling, which is `use_raw=False`, or `adata.raw`? Thanks! Best. YJ.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2029
https://github.com/scverse/scanpy/issues/2030:442,availability,error,errors,442,"Why we cannot tranfer adata along with functions?; Hello all,. For these 2 functions,. `sc.pp.filter_cells(adata, min_genes=200)`. `sc.pp.filter_genes(adata, min_cells=3)`. the authors make `inplace=True` as default. Because I want to tranfer the output into an variable, I change these functions to. ```python. a=sc.pp.filter_cells(adata, min_genes=200, inplace=False). sc.pp.filter_genes(a, min_cells=3, inplace=False). ```. but it creates errors and the output of a is NoType:. ```python. aceback (most recent call last):. File “C:\Users\Yuanjian\AppData\Local\Programs\Python\Python36\lib\site-packages\IPython\core\interactiveshell.py”, line 3343, in run_code. exec(code_obj, self.user_global_ns, self.user_ns). File “”, line 2, in. sc.pp.filter_genes(a, min_cells=3, inplace=False) # exclude genes only expressed in <3 cells. File “C:\Users\Yuanjian\AppData\Local\Programs\Python\Python36\lib\site-packages\scanpy\preprocessing_simple.py”, line 259, in filter_genes. X if min_cells is None and max_cells is None else X > 0, axis=0. ```. Does anybody know why inplace=False doesn’t work? Thanks! Best,. YJ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2030
https://github.com/scverse/scanpy/issues/2030:615,energy efficiency,core,core,615,"Why we cannot tranfer adata along with functions?; Hello all,. For these 2 functions,. `sc.pp.filter_cells(adata, min_genes=200)`. `sc.pp.filter_genes(adata, min_cells=3)`. the authors make `inplace=True` as default. Because I want to tranfer the output into an variable, I change these functions to. ```python. a=sc.pp.filter_cells(adata, min_genes=200, inplace=False). sc.pp.filter_genes(a, min_cells=3, inplace=False). ```. but it creates errors and the output of a is NoType:. ```python. aceback (most recent call last):. File “C:\Users\Yuanjian\AppData\Local\Programs\Python\Python36\lib\site-packages\IPython\core\interactiveshell.py”, line 3343, in run_code. exec(code_obj, self.user_global_ns, self.user_ns). File “”, line 2, in. sc.pp.filter_genes(a, min_cells=3, inplace=False) # exclude genes only expressed in <3 cells. File “C:\Users\Yuanjian\AppData\Local\Programs\Python\Python36\lib\site-packages\scanpy\preprocessing_simple.py”, line 259, in filter_genes. X if min_cells is None and max_cells is None else X > 0, axis=0. ```. Does anybody know why inplace=False doesn’t work? Thanks! Best,. YJ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2030
https://github.com/scverse/scanpy/issues/2030:262,modifiability,variab,variable,262,"Why we cannot tranfer adata along with functions?; Hello all,. For these 2 functions,. `sc.pp.filter_cells(adata, min_genes=200)`. `sc.pp.filter_genes(adata, min_cells=3)`. the authors make `inplace=True` as default. Because I want to tranfer the output into an variable, I change these functions to. ```python. a=sc.pp.filter_cells(adata, min_genes=200, inplace=False). sc.pp.filter_genes(a, min_cells=3, inplace=False). ```. but it creates errors and the output of a is NoType:. ```python. aceback (most recent call last):. File “C:\Users\Yuanjian\AppData\Local\Programs\Python\Python36\lib\site-packages\IPython\core\interactiveshell.py”, line 3343, in run_code. exec(code_obj, self.user_global_ns, self.user_ns). File “”, line 2, in. sc.pp.filter_genes(a, min_cells=3, inplace=False) # exclude genes only expressed in <3 cells. File “C:\Users\Yuanjian\AppData\Local\Programs\Python\Python36\lib\site-packages\scanpy\preprocessing_simple.py”, line 259, in filter_genes. X if min_cells is None and max_cells is None else X > 0, axis=0. ```. Does anybody know why inplace=False doesn’t work? Thanks! Best,. YJ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2030
https://github.com/scverse/scanpy/issues/2030:598,modifiability,pac,packages,598,"Why we cannot tranfer adata along with functions?; Hello all,. For these 2 functions,. `sc.pp.filter_cells(adata, min_genes=200)`. `sc.pp.filter_genes(adata, min_cells=3)`. the authors make `inplace=True` as default. Because I want to tranfer the output into an variable, I change these functions to. ```python. a=sc.pp.filter_cells(adata, min_genes=200, inplace=False). sc.pp.filter_genes(a, min_cells=3, inplace=False). ```. but it creates errors and the output of a is NoType:. ```python. aceback (most recent call last):. File “C:\Users\Yuanjian\AppData\Local\Programs\Python\Python36\lib\site-packages\IPython\core\interactiveshell.py”, line 3343, in run_code. exec(code_obj, self.user_global_ns, self.user_ns). File “”, line 2, in. sc.pp.filter_genes(a, min_cells=3, inplace=False) # exclude genes only expressed in <3 cells. File “C:\Users\Yuanjian\AppData\Local\Programs\Python\Python36\lib\site-packages\scanpy\preprocessing_simple.py”, line 259, in filter_genes. X if min_cells is None and max_cells is None else X > 0, axis=0. ```. Does anybody know why inplace=False doesn’t work? Thanks! Best,. YJ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2030
https://github.com/scverse/scanpy/issues/2030:904,modifiability,pac,packages,904,"Why we cannot tranfer adata along with functions?; Hello all,. For these 2 functions,. `sc.pp.filter_cells(adata, min_genes=200)`. `sc.pp.filter_genes(adata, min_cells=3)`. the authors make `inplace=True` as default. Because I want to tranfer the output into an variable, I change these functions to. ```python. a=sc.pp.filter_cells(adata, min_genes=200, inplace=False). sc.pp.filter_genes(a, min_cells=3, inplace=False). ```. but it creates errors and the output of a is NoType:. ```python. aceback (most recent call last):. File “C:\Users\Yuanjian\AppData\Local\Programs\Python\Python36\lib\site-packages\IPython\core\interactiveshell.py”, line 3343, in run_code. exec(code_obj, self.user_global_ns, self.user_ns). File “”, line 2, in. sc.pp.filter_genes(a, min_cells=3, inplace=False) # exclude genes only expressed in <3 cells. File “C:\Users\Yuanjian\AppData\Local\Programs\Python\Python36\lib\site-packages\scanpy\preprocessing_simple.py”, line 259, in filter_genes. X if min_cells is None and max_cells is None else X > 0, axis=0. ```. Does anybody know why inplace=False doesn’t work? Thanks! Best,. YJ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2030
https://github.com/scverse/scanpy/issues/2030:442,performance,error,errors,442,"Why we cannot tranfer adata along with functions?; Hello all,. For these 2 functions,. `sc.pp.filter_cells(adata, min_genes=200)`. `sc.pp.filter_genes(adata, min_cells=3)`. the authors make `inplace=True` as default. Because I want to tranfer the output into an variable, I change these functions to. ```python. a=sc.pp.filter_cells(adata, min_genes=200, inplace=False). sc.pp.filter_genes(a, min_cells=3, inplace=False). ```. but it creates errors and the output of a is NoType:. ```python. aceback (most recent call last):. File “C:\Users\Yuanjian\AppData\Local\Programs\Python\Python36\lib\site-packages\IPython\core\interactiveshell.py”, line 3343, in run_code. exec(code_obj, self.user_global_ns, self.user_ns). File “”, line 2, in. sc.pp.filter_genes(a, min_cells=3, inplace=False) # exclude genes only expressed in <3 cells. File “C:\Users\Yuanjian\AppData\Local\Programs\Python\Python36\lib\site-packages\scanpy\preprocessing_simple.py”, line 259, in filter_genes. X if min_cells is None and max_cells is None else X > 0, axis=0. ```. Does anybody know why inplace=False doesn’t work? Thanks! Best,. YJ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2030
https://github.com/scverse/scanpy/issues/2030:1043,reliability,Doe,Does,1043,"Why we cannot tranfer adata along with functions?; Hello all,. For these 2 functions,. `sc.pp.filter_cells(adata, min_genes=200)`. `sc.pp.filter_genes(adata, min_cells=3)`. the authors make `inplace=True` as default. Because I want to tranfer the output into an variable, I change these functions to. ```python. a=sc.pp.filter_cells(adata, min_genes=200, inplace=False). sc.pp.filter_genes(a, min_cells=3, inplace=False). ```. but it creates errors and the output of a is NoType:. ```python. aceback (most recent call last):. File “C:\Users\Yuanjian\AppData\Local\Programs\Python\Python36\lib\site-packages\IPython\core\interactiveshell.py”, line 3343, in run_code. exec(code_obj, self.user_global_ns, self.user_ns). File “”, line 2, in. sc.pp.filter_genes(a, min_cells=3, inplace=False) # exclude genes only expressed in <3 cells. File “C:\Users\Yuanjian\AppData\Local\Programs\Python\Python36\lib\site-packages\scanpy\preprocessing_simple.py”, line 259, in filter_genes. X if min_cells is None and max_cells is None else X > 0, axis=0. ```. Does anybody know why inplace=False doesn’t work? Thanks! Best,. YJ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2030
https://github.com/scverse/scanpy/issues/2030:1079,reliability,doe,doesn,1079,"Why we cannot tranfer adata along with functions?; Hello all,. For these 2 functions,. `sc.pp.filter_cells(adata, min_genes=200)`. `sc.pp.filter_genes(adata, min_cells=3)`. the authors make `inplace=True` as default. Because I want to tranfer the output into an variable, I change these functions to. ```python. a=sc.pp.filter_cells(adata, min_genes=200, inplace=False). sc.pp.filter_genes(a, min_cells=3, inplace=False). ```. but it creates errors and the output of a is NoType:. ```python. aceback (most recent call last):. File “C:\Users\Yuanjian\AppData\Local\Programs\Python\Python36\lib\site-packages\IPython\core\interactiveshell.py”, line 3343, in run_code. exec(code_obj, self.user_global_ns, self.user_ns). File “”, line 2, in. sc.pp.filter_genes(a, min_cells=3, inplace=False) # exclude genes only expressed in <3 cells. File “C:\Users\Yuanjian\AppData\Local\Programs\Python\Python36\lib\site-packages\scanpy\preprocessing_simple.py”, line 259, in filter_genes. X if min_cells is None and max_cells is None else X > 0, axis=0. ```. Does anybody know why inplace=False doesn’t work? Thanks! Best,. YJ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2030
https://github.com/scverse/scanpy/issues/2030:442,safety,error,errors,442,"Why we cannot tranfer adata along with functions?; Hello all,. For these 2 functions,. `sc.pp.filter_cells(adata, min_genes=200)`. `sc.pp.filter_genes(adata, min_cells=3)`. the authors make `inplace=True` as default. Because I want to tranfer the output into an variable, I change these functions to. ```python. a=sc.pp.filter_cells(adata, min_genes=200, inplace=False). sc.pp.filter_genes(a, min_cells=3, inplace=False). ```. but it creates errors and the output of a is NoType:. ```python. aceback (most recent call last):. File “C:\Users\Yuanjian\AppData\Local\Programs\Python\Python36\lib\site-packages\IPython\core\interactiveshell.py”, line 3343, in run_code. exec(code_obj, self.user_global_ns, self.user_ns). File “”, line 2, in. sc.pp.filter_genes(a, min_cells=3, inplace=False) # exclude genes only expressed in <3 cells. File “C:\Users\Yuanjian\AppData\Local\Programs\Python\Python36\lib\site-packages\scanpy\preprocessing_simple.py”, line 259, in filter_genes. X if min_cells is None and max_cells is None else X > 0, axis=0. ```. Does anybody know why inplace=False doesn’t work? Thanks! Best,. YJ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2030
https://github.com/scverse/scanpy/issues/2030:177,security,auth,authors,177,"Why we cannot tranfer adata along with functions?; Hello all,. For these 2 functions,. `sc.pp.filter_cells(adata, min_genes=200)`. `sc.pp.filter_genes(adata, min_cells=3)`. the authors make `inplace=True` as default. Because I want to tranfer the output into an variable, I change these functions to. ```python. a=sc.pp.filter_cells(adata, min_genes=200, inplace=False). sc.pp.filter_genes(a, min_cells=3, inplace=False). ```. but it creates errors and the output of a is NoType:. ```python. aceback (most recent call last):. File “C:\Users\Yuanjian\AppData\Local\Programs\Python\Python36\lib\site-packages\IPython\core\interactiveshell.py”, line 3343, in run_code. exec(code_obj, self.user_global_ns, self.user_ns). File “”, line 2, in. sc.pp.filter_genes(a, min_cells=3, inplace=False) # exclude genes only expressed in <3 cells. File “C:\Users\Yuanjian\AppData\Local\Programs\Python\Python36\lib\site-packages\scanpy\preprocessing_simple.py”, line 259, in filter_genes. X if min_cells is None and max_cells is None else X > 0, axis=0. ```. Does anybody know why inplace=False doesn’t work? Thanks! Best,. YJ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2030
https://github.com/scverse/scanpy/issues/2030:442,usability,error,errors,442,"Why we cannot tranfer adata along with functions?; Hello all,. For these 2 functions,. `sc.pp.filter_cells(adata, min_genes=200)`. `sc.pp.filter_genes(adata, min_cells=3)`. the authors make `inplace=True` as default. Because I want to tranfer the output into an variable, I change these functions to. ```python. a=sc.pp.filter_cells(adata, min_genes=200, inplace=False). sc.pp.filter_genes(a, min_cells=3, inplace=False). ```. but it creates errors and the output of a is NoType:. ```python. aceback (most recent call last):. File “C:\Users\Yuanjian\AppData\Local\Programs\Python\Python36\lib\site-packages\IPython\core\interactiveshell.py”, line 3343, in run_code. exec(code_obj, self.user_global_ns, self.user_ns). File “”, line 2, in. sc.pp.filter_genes(a, min_cells=3, inplace=False) # exclude genes only expressed in <3 cells. File “C:\Users\Yuanjian\AppData\Local\Programs\Python\Python36\lib\site-packages\scanpy\preprocessing_simple.py”, line 259, in filter_genes. X if min_cells is None and max_cells is None else X > 0, axis=0. ```. Does anybody know why inplace=False doesn’t work? Thanks! Best,. YJ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2030
https://github.com/scverse/scanpy/issues/2030:535,usability,User,Users,535,"Why we cannot tranfer adata along with functions?; Hello all,. For these 2 functions,. `sc.pp.filter_cells(adata, min_genes=200)`. `sc.pp.filter_genes(adata, min_cells=3)`. the authors make `inplace=True` as default. Because I want to tranfer the output into an variable, I change these functions to. ```python. a=sc.pp.filter_cells(adata, min_genes=200, inplace=False). sc.pp.filter_genes(a, min_cells=3, inplace=False). ```. but it creates errors and the output of a is NoType:. ```python. aceback (most recent call last):. File “C:\Users\Yuanjian\AppData\Local\Programs\Python\Python36\lib\site-packages\IPython\core\interactiveshell.py”, line 3343, in run_code. exec(code_obj, self.user_global_ns, self.user_ns). File “”, line 2, in. sc.pp.filter_genes(a, min_cells=3, inplace=False) # exclude genes only expressed in <3 cells. File “C:\Users\Yuanjian\AppData\Local\Programs\Python\Python36\lib\site-packages\scanpy\preprocessing_simple.py”, line 259, in filter_genes. X if min_cells is None and max_cells is None else X > 0, axis=0. ```. Does anybody know why inplace=False doesn’t work? Thanks! Best,. YJ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2030
https://github.com/scverse/scanpy/issues/2030:620,usability,interact,interactiveshell,620,"Why we cannot tranfer adata along with functions?; Hello all,. For these 2 functions,. `sc.pp.filter_cells(adata, min_genes=200)`. `sc.pp.filter_genes(adata, min_cells=3)`. the authors make `inplace=True` as default. Because I want to tranfer the output into an variable, I change these functions to. ```python. a=sc.pp.filter_cells(adata, min_genes=200, inplace=False). sc.pp.filter_genes(a, min_cells=3, inplace=False). ```. but it creates errors and the output of a is NoType:. ```python. aceback (most recent call last):. File “C:\Users\Yuanjian\AppData\Local\Programs\Python\Python36\lib\site-packages\IPython\core\interactiveshell.py”, line 3343, in run_code. exec(code_obj, self.user_global_ns, self.user_ns). File “”, line 2, in. sc.pp.filter_genes(a, min_cells=3, inplace=False) # exclude genes only expressed in <3 cells. File “C:\Users\Yuanjian\AppData\Local\Programs\Python\Python36\lib\site-packages\scanpy\preprocessing_simple.py”, line 259, in filter_genes. X if min_cells is None and max_cells is None else X > 0, axis=0. ```. Does anybody know why inplace=False doesn’t work? Thanks! Best,. YJ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2030
https://github.com/scverse/scanpy/issues/2030:841,usability,User,Users,841,"Why we cannot tranfer adata along with functions?; Hello all,. For these 2 functions,. `sc.pp.filter_cells(adata, min_genes=200)`. `sc.pp.filter_genes(adata, min_cells=3)`. the authors make `inplace=True` as default. Because I want to tranfer the output into an variable, I change these functions to. ```python. a=sc.pp.filter_cells(adata, min_genes=200, inplace=False). sc.pp.filter_genes(a, min_cells=3, inplace=False). ```. but it creates errors and the output of a is NoType:. ```python. aceback (most recent call last):. File “C:\Users\Yuanjian\AppData\Local\Programs\Python\Python36\lib\site-packages\IPython\core\interactiveshell.py”, line 3343, in run_code. exec(code_obj, self.user_global_ns, self.user_ns). File “”, line 2, in. sc.pp.filter_genes(a, min_cells=3, inplace=False) # exclude genes only expressed in <3 cells. File “C:\Users\Yuanjian\AppData\Local\Programs\Python\Python36\lib\site-packages\scanpy\preprocessing_simple.py”, line 259, in filter_genes. X if min_cells is None and max_cells is None else X > 0, axis=0. ```. Does anybody know why inplace=False doesn’t work? Thanks! Best,. YJ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2030
https://github.com/scverse/scanpy/issues/2032:41,reliability,doe,does,41,"Change the sc.pl.paga edge color; Hello, does anyone knows how to change the color of the edge in the output of sc.pl.paga?",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2032
https://github.com/scverse/scanpy/pull/2033:35,deployability,Updat,Update,35,Backport PR #2028 on branch 1.8.x (Update for cope with issue introduced in umap-learn 0.5.2); Backport PR #2028: Update for cope with issue introduced in umap-learn 0.5.2,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2033
https://github.com/scverse/scanpy/pull/2033:114,deployability,Updat,Update,114,Backport PR #2028 on branch 1.8.x (Update for cope with issue introduced in umap-learn 0.5.2); Backport PR #2028: Update for cope with issue introduced in umap-learn 0.5.2,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2033
https://github.com/scverse/scanpy/pull/2033:35,safety,Updat,Update,35,Backport PR #2028 on branch 1.8.x (Update for cope with issue introduced in umap-learn 0.5.2); Backport PR #2028: Update for cope with issue introduced in umap-learn 0.5.2,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2033
https://github.com/scverse/scanpy/pull/2033:114,safety,Updat,Update,114,Backport PR #2028 on branch 1.8.x (Update for cope with issue introduced in umap-learn 0.5.2); Backport PR #2028: Update for cope with issue introduced in umap-learn 0.5.2,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2033
https://github.com/scverse/scanpy/pull/2033:35,security,Updat,Update,35,Backport PR #2028 on branch 1.8.x (Update for cope with issue introduced in umap-learn 0.5.2); Backport PR #2028: Update for cope with issue introduced in umap-learn 0.5.2,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2033
https://github.com/scverse/scanpy/pull/2033:114,security,Updat,Update,114,Backport PR #2028 on branch 1.8.x (Update for cope with issue introduced in umap-learn 0.5.2); Backport PR #2028: Update for cope with issue introduced in umap-learn 0.5.2,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2033
https://github.com/scverse/scanpy/pull/2033:81,usability,learn,learn,81,Backport PR #2028 on branch 1.8.x (Update for cope with issue introduced in umap-learn 0.5.2); Backport PR #2028: Update for cope with issue introduced in umap-learn 0.5.2,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2033
https://github.com/scverse/scanpy/pull/2033:160,usability,learn,learn,160,Backport PR #2028 on branch 1.8.x (Update for cope with issue introduced in umap-learn 0.5.2); Backport PR #2028: Update for cope with issue introduced in umap-learn 0.5.2,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2033
https://github.com/scverse/scanpy/issues/2034:378,availability,error,error,378,"ValueError: b'svddc failed in l2fit when using flavor = 'seurat_v3'; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Selection of highly variable genes works fine in default settings, but I get an error when I try to use seurat_v3 flavor. ```python. adata2.layers[""counts""] = adata2.X.copy(). adata2.raw = adata2 # keep full dimension safe. sc.pp.normalize_total(adata2, target_sum=1e4). sc.pp.log1p(adata2). sc.pp.highly_variable_genes(. adata2,. flavor=""seurat_v3"",. n_top_genes=3000,. layer=""counts"",. batch_key=""Sample"",. subset=True. ). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-18-64d280f5029c> in <module>. 3 sc.pp.normalize_total(adata2, target_sum=1e4). 4 sc.pp.log1p(adata2). ----> 5 sc.pp.highly_variable_genes(. 6 adata2,. 7 flavor=""seurat_v3"",. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in highly_variable_genes(adata, layer, n_top_genes, min_disp, max_disp, min_mean, max_mean, span, n_bins, flavor, subset, inplace, batch_key, check_values). 417 . 418 if flavor == 'seurat_v3':. --> 419 return _highly_variable_genes_seurat_v3(. 420 adata,. 421 layer=layer,. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in _highly_variable_genes_seurat_v3(adata, layer, n_top_genes, batch_key, check_values, span, subset, inplace). 83 x = np.log10(mean[not_const]). 84 model = loess(x, y, span=span, degree=2). ---> 85 model.fit(). 86 estimat_var[not_const] = model.outputs.fitted_values. 87 reg_std = np.sqrt(10 ** estimat_var). _loess.pyx in _loess.loess.fit(). ValueError: b'svddc failed in l2fit.'. ```. #### Versions. 0.10.00.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2034
https://github.com/scverse/scanpy/issues/2034:20,deployability,fail,failed,20,"ValueError: b'svddc failed in l2fit when using flavor = 'seurat_v3'; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Selection of highly variable genes works fine in default settings, but I get an error when I try to use seurat_v3 flavor. ```python. adata2.layers[""counts""] = adata2.X.copy(). adata2.raw = adata2 # keep full dimension safe. sc.pp.normalize_total(adata2, target_sum=1e4). sc.pp.log1p(adata2). sc.pp.highly_variable_genes(. adata2,. flavor=""seurat_v3"",. n_top_genes=3000,. layer=""counts"",. batch_key=""Sample"",. subset=True. ). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-18-64d280f5029c> in <module>. 3 sc.pp.normalize_total(adata2, target_sum=1e4). 4 sc.pp.log1p(adata2). ----> 5 sc.pp.highly_variable_genes(. 6 adata2,. 7 flavor=""seurat_v3"",. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in highly_variable_genes(adata, layer, n_top_genes, min_disp, max_disp, min_mean, max_mean, span, n_bins, flavor, subset, inplace, batch_key, check_values). 417 . 418 if flavor == 'seurat_v3':. --> 419 return _highly_variable_genes_seurat_v3(. 420 adata,. 421 layer=layer,. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in _highly_variable_genes_seurat_v3(adata, layer, n_top_genes, batch_key, check_values, span, subset, inplace). 83 x = np.log10(mean[not_const]). 84 model = loess(x, y, span=span, degree=2). ---> 85 model.fit(). 86 estimat_var[not_const] = model.outputs.fitted_values. 87 reg_std = np.sqrt(10 ** estimat_var). _loess.pyx in _loess.loess.fit(). ValueError: b'svddc failed in l2fit.'. ```. #### Versions. 0.10.00.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2034
https://github.com/scverse/scanpy/issues/2034:192,deployability,version,version,192,"ValueError: b'svddc failed in l2fit when using flavor = 'seurat_v3'; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Selection of highly variable genes works fine in default settings, but I get an error when I try to use seurat_v3 flavor. ```python. adata2.layers[""counts""] = adata2.X.copy(). adata2.raw = adata2 # keep full dimension safe. sc.pp.normalize_total(adata2, target_sum=1e4). sc.pp.log1p(adata2). sc.pp.highly_variable_genes(. adata2,. flavor=""seurat_v3"",. n_top_genes=3000,. layer=""counts"",. batch_key=""Sample"",. subset=True. ). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-18-64d280f5029c> in <module>. 3 sc.pp.normalize_total(adata2, target_sum=1e4). 4 sc.pp.log1p(adata2). ----> 5 sc.pp.highly_variable_genes(. 6 adata2,. 7 flavor=""seurat_v3"",. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in highly_variable_genes(adata, layer, n_top_genes, min_disp, max_disp, min_mean, max_mean, span, n_bins, flavor, subset, inplace, batch_key, check_values). 417 . 418 if flavor == 'seurat_v3':. --> 419 return _highly_variable_genes_seurat_v3(. 420 adata,. 421 layer=layer,. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in _highly_variable_genes_seurat_v3(adata, layer, n_top_genes, batch_key, check_values, span, subset, inplace). 83 x = np.log10(mean[not_const]). 84 model = loess(x, y, span=span, degree=2). ---> 85 model.fit(). 86 estimat_var[not_const] = model.outputs.fitted_values. 87 reg_std = np.sqrt(10 ** estimat_var). _loess.pyx in _loess.loess.fit(). ValueError: b'svddc failed in l2fit.'. ```. #### Versions. 0.10.00.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2034
https://github.com/scverse/scanpy/issues/2034:819,deployability,modul,module,819,"ValueError: b'svddc failed in l2fit when using flavor = 'seurat_v3'; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Selection of highly variable genes works fine in default settings, but I get an error when I try to use seurat_v3 flavor. ```python. adata2.layers[""counts""] = adata2.X.copy(). adata2.raw = adata2 # keep full dimension safe. sc.pp.normalize_total(adata2, target_sum=1e4). sc.pp.log1p(adata2). sc.pp.highly_variable_genes(. adata2,. flavor=""seurat_v3"",. n_top_genes=3000,. layer=""counts"",. batch_key=""Sample"",. subset=True. ). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-18-64d280f5029c> in <module>. 3 sc.pp.normalize_total(adata2, target_sum=1e4). 4 sc.pp.log1p(adata2). ----> 5 sc.pp.highly_variable_genes(. 6 adata2,. 7 flavor=""seurat_v3"",. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in highly_variable_genes(adata, layer, n_top_genes, min_disp, max_disp, min_mean, max_mean, span, n_bins, flavor, subset, inplace, batch_key, check_values). 417 . 418 if flavor == 'seurat_v3':. --> 419 return _highly_variable_genes_seurat_v3(. 420 adata,. 421 layer=layer,. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in _highly_variable_genes_seurat_v3(adata, layer, n_top_genes, batch_key, check_values, span, subset, inplace). 83 x = np.log10(mean[not_const]). 84 model = loess(x, y, span=span, degree=2). ---> 85 model.fit(). 86 estimat_var[not_const] = model.outputs.fitted_values. 87 reg_std = np.sqrt(10 ** estimat_var). _loess.pyx in _loess.loess.fit(). ValueError: b'svddc failed in l2fit.'. ```. #### Versions. 0.10.00.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2034
https://github.com/scverse/scanpy/issues/2034:1900,deployability,fail,failed,1900,"ValueError: b'svddc failed in l2fit when using flavor = 'seurat_v3'; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Selection of highly variable genes works fine in default settings, but I get an error when I try to use seurat_v3 flavor. ```python. adata2.layers[""counts""] = adata2.X.copy(). adata2.raw = adata2 # keep full dimension safe. sc.pp.normalize_total(adata2, target_sum=1e4). sc.pp.log1p(adata2). sc.pp.highly_variable_genes(. adata2,. flavor=""seurat_v3"",. n_top_genes=3000,. layer=""counts"",. batch_key=""Sample"",. subset=True. ). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-18-64d280f5029c> in <module>. 3 sc.pp.normalize_total(adata2, target_sum=1e4). 4 sc.pp.log1p(adata2). ----> 5 sc.pp.highly_variable_genes(. 6 adata2,. 7 flavor=""seurat_v3"",. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in highly_variable_genes(adata, layer, n_top_genes, min_disp, max_disp, min_mean, max_mean, span, n_bins, flavor, subset, inplace, batch_key, check_values). 417 . 418 if flavor == 'seurat_v3':. --> 419 return _highly_variable_genes_seurat_v3(. 420 adata,. 421 layer=layer,. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in _highly_variable_genes_seurat_v3(adata, layer, n_top_genes, batch_key, check_values, span, subset, inplace). 83 x = np.log10(mean[not_const]). 84 model = loess(x, y, span=span, degree=2). ---> 85 model.fit(). 86 estimat_var[not_const] = model.outputs.fitted_values. 87 reg_std = np.sqrt(10 ** estimat_var). _loess.pyx in _loess.loess.fit(). ValueError: b'svddc failed in l2fit.'. ```. #### Versions. 0.10.00.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2034
https://github.com/scverse/scanpy/issues/2034:1929,deployability,Version,Versions,1929,"ValueError: b'svddc failed in l2fit when using flavor = 'seurat_v3'; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Selection of highly variable genes works fine in default settings, but I get an error when I try to use seurat_v3 flavor. ```python. adata2.layers[""counts""] = adata2.X.copy(). adata2.raw = adata2 # keep full dimension safe. sc.pp.normalize_total(adata2, target_sum=1e4). sc.pp.log1p(adata2). sc.pp.highly_variable_genes(. adata2,. flavor=""seurat_v3"",. n_top_genes=3000,. layer=""counts"",. batch_key=""Sample"",. subset=True. ). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-18-64d280f5029c> in <module>. 3 sc.pp.normalize_total(adata2, target_sum=1e4). 4 sc.pp.log1p(adata2). ----> 5 sc.pp.highly_variable_genes(. 6 adata2,. 7 flavor=""seurat_v3"",. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in highly_variable_genes(adata, layer, n_top_genes, min_disp, max_disp, min_mean, max_mean, span, n_bins, flavor, subset, inplace, batch_key, check_values). 417 . 418 if flavor == 'seurat_v3':. --> 419 return _highly_variable_genes_seurat_v3(. 420 adata,. 421 layer=layer,. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in _highly_variable_genes_seurat_v3(adata, layer, n_top_genes, batch_key, check_values, span, subset, inplace). 83 x = np.log10(mean[not_const]). 84 model = loess(x, y, span=span, degree=2). ---> 85 model.fit(). 86 estimat_var[not_const] = model.outputs.fitted_values. 87 reg_std = np.sqrt(10 ** estimat_var). _loess.pyx in _loess.loess.fit(). ValueError: b'svddc failed in l2fit.'. ```. #### Versions. 0.10.00.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2034
https://github.com/scverse/scanpy/issues/2034:1685,energy efficiency,model,model,1685,"ValueError: b'svddc failed in l2fit when using flavor = 'seurat_v3'; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Selection of highly variable genes works fine in default settings, but I get an error when I try to use seurat_v3 flavor. ```python. adata2.layers[""counts""] = adata2.X.copy(). adata2.raw = adata2 # keep full dimension safe. sc.pp.normalize_total(adata2, target_sum=1e4). sc.pp.log1p(adata2). sc.pp.highly_variable_genes(. adata2,. flavor=""seurat_v3"",. n_top_genes=3000,. layer=""counts"",. batch_key=""Sample"",. subset=True. ). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-18-64d280f5029c> in <module>. 3 sc.pp.normalize_total(adata2, target_sum=1e4). 4 sc.pp.log1p(adata2). ----> 5 sc.pp.highly_variable_genes(. 6 adata2,. 7 flavor=""seurat_v3"",. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in highly_variable_genes(adata, layer, n_top_genes, min_disp, max_disp, min_mean, max_mean, span, n_bins, flavor, subset, inplace, batch_key, check_values). 417 . 418 if flavor == 'seurat_v3':. --> 419 return _highly_variable_genes_seurat_v3(. 420 adata,. 421 layer=layer,. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in _highly_variable_genes_seurat_v3(adata, layer, n_top_genes, batch_key, check_values, span, subset, inplace). 83 x = np.log10(mean[not_const]). 84 model = loess(x, y, span=span, degree=2). ---> 85 model.fit(). 86 estimat_var[not_const] = model.outputs.fitted_values. 87 reg_std = np.sqrt(10 ** estimat_var). _loess.pyx in _loess.loess.fit(). ValueError: b'svddc failed in l2fit.'. ```. #### Versions. 0.10.00.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2034
https://github.com/scverse/scanpy/issues/2034:1735,energy efficiency,model,model,1735,"ValueError: b'svddc failed in l2fit when using flavor = 'seurat_v3'; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Selection of highly variable genes works fine in default settings, but I get an error when I try to use seurat_v3 flavor. ```python. adata2.layers[""counts""] = adata2.X.copy(). adata2.raw = adata2 # keep full dimension safe. sc.pp.normalize_total(adata2, target_sum=1e4). sc.pp.log1p(adata2). sc.pp.highly_variable_genes(. adata2,. flavor=""seurat_v3"",. n_top_genes=3000,. layer=""counts"",. batch_key=""Sample"",. subset=True. ). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-18-64d280f5029c> in <module>. 3 sc.pp.normalize_total(adata2, target_sum=1e4). 4 sc.pp.log1p(adata2). ----> 5 sc.pp.highly_variable_genes(. 6 adata2,. 7 flavor=""seurat_v3"",. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in highly_variable_genes(adata, layer, n_top_genes, min_disp, max_disp, min_mean, max_mean, span, n_bins, flavor, subset, inplace, batch_key, check_values). 417 . 418 if flavor == 'seurat_v3':. --> 419 return _highly_variable_genes_seurat_v3(. 420 adata,. 421 layer=layer,. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in _highly_variable_genes_seurat_v3(adata, layer, n_top_genes, batch_key, check_values, span, subset, inplace). 83 x = np.log10(mean[not_const]). 84 model = loess(x, y, span=span, degree=2). ---> 85 model.fit(). 86 estimat_var[not_const] = model.outputs.fitted_values. 87 reg_std = np.sqrt(10 ** estimat_var). _loess.pyx in _loess.loess.fit(). ValueError: b'svddc failed in l2fit.'. ```. #### Versions. 0.10.00.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2034
https://github.com/scverse/scanpy/issues/2034:1776,energy efficiency,model,model,1776,"ValueError: b'svddc failed in l2fit when using flavor = 'seurat_v3'; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Selection of highly variable genes works fine in default settings, but I get an error when I try to use seurat_v3 flavor. ```python. adata2.layers[""counts""] = adata2.X.copy(). adata2.raw = adata2 # keep full dimension safe. sc.pp.normalize_total(adata2, target_sum=1e4). sc.pp.log1p(adata2). sc.pp.highly_variable_genes(. adata2,. flavor=""seurat_v3"",. n_top_genes=3000,. layer=""counts"",. batch_key=""Sample"",. subset=True. ). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-18-64d280f5029c> in <module>. 3 sc.pp.normalize_total(adata2, target_sum=1e4). 4 sc.pp.log1p(adata2). ----> 5 sc.pp.highly_variable_genes(. 6 adata2,. 7 flavor=""seurat_v3"",. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in highly_variable_genes(adata, layer, n_top_genes, min_disp, max_disp, min_mean, max_mean, span, n_bins, flavor, subset, inplace, batch_key, check_values). 417 . 418 if flavor == 'seurat_v3':. --> 419 return _highly_variable_genes_seurat_v3(. 420 adata,. 421 layer=layer,. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in _highly_variable_genes_seurat_v3(adata, layer, n_top_genes, batch_key, check_values, span, subset, inplace). 83 x = np.log10(mean[not_const]). 84 model = loess(x, y, span=span, degree=2). ---> 85 model.fit(). 86 estimat_var[not_const] = model.outputs.fitted_values. 87 reg_std = np.sqrt(10 ** estimat_var). _loess.pyx in _loess.loess.fit(). ValueError: b'svddc failed in l2fit.'. ```. #### Versions. 0.10.00.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2034
https://github.com/scverse/scanpy/issues/2034:192,integrability,version,version,192,"ValueError: b'svddc failed in l2fit when using flavor = 'seurat_v3'; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Selection of highly variable genes works fine in default settings, but I get an error when I try to use seurat_v3 flavor. ```python. adata2.layers[""counts""] = adata2.X.copy(). adata2.raw = adata2 # keep full dimension safe. sc.pp.normalize_total(adata2, target_sum=1e4). sc.pp.log1p(adata2). sc.pp.highly_variable_genes(. adata2,. flavor=""seurat_v3"",. n_top_genes=3000,. layer=""counts"",. batch_key=""Sample"",. subset=True. ). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-18-64d280f5029c> in <module>. 3 sc.pp.normalize_total(adata2, target_sum=1e4). 4 sc.pp.log1p(adata2). ----> 5 sc.pp.highly_variable_genes(. 6 adata2,. 7 flavor=""seurat_v3"",. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in highly_variable_genes(adata, layer, n_top_genes, min_disp, max_disp, min_mean, max_mean, span, n_bins, flavor, subset, inplace, batch_key, check_values). 417 . 418 if flavor == 'seurat_v3':. --> 419 return _highly_variable_genes_seurat_v3(. 420 adata,. 421 layer=layer,. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in _highly_variable_genes_seurat_v3(adata, layer, n_top_genes, batch_key, check_values, span, subset, inplace). 83 x = np.log10(mean[not_const]). 84 model = loess(x, y, span=span, degree=2). ---> 85 model.fit(). 86 estimat_var[not_const] = model.outputs.fitted_values. 87 reg_std = np.sqrt(10 ** estimat_var). _loess.pyx in _loess.loess.fit(). ValueError: b'svddc failed in l2fit.'. ```. #### Versions. 0.10.00.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2034
https://github.com/scverse/scanpy/issues/2034:707,integrability,sub,subset,707,"ValueError: b'svddc failed in l2fit when using flavor = 'seurat_v3'; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Selection of highly variable genes works fine in default settings, but I get an error when I try to use seurat_v3 flavor. ```python. adata2.layers[""counts""] = adata2.X.copy(). adata2.raw = adata2 # keep full dimension safe. sc.pp.normalize_total(adata2, target_sum=1e4). sc.pp.log1p(adata2). sc.pp.highly_variable_genes(. adata2,. flavor=""seurat_v3"",. n_top_genes=3000,. layer=""counts"",. batch_key=""Sample"",. subset=True. ). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-18-64d280f5029c> in <module>. 3 sc.pp.normalize_total(adata2, target_sum=1e4). 4 sc.pp.log1p(adata2). ----> 5 sc.pp.highly_variable_genes(. 6 adata2,. 7 flavor=""seurat_v3"",. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in highly_variable_genes(adata, layer, n_top_genes, min_disp, max_disp, min_mean, max_mean, span, n_bins, flavor, subset, inplace, batch_key, check_values). 417 . 418 if flavor == 'seurat_v3':. --> 419 return _highly_variable_genes_seurat_v3(. 420 adata,. 421 layer=layer,. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in _highly_variable_genes_seurat_v3(adata, layer, n_top_genes, batch_key, check_values, span, subset, inplace). 83 x = np.log10(mean[not_const]). 84 model = loess(x, y, span=span, degree=2). ---> 85 model.fit(). 86 estimat_var[not_const] = model.outputs.fitted_values. 87 reg_std = np.sqrt(10 ** estimat_var). _loess.pyx in _loess.loess.fit(). ValueError: b'svddc failed in l2fit.'. ```. #### Versions. 0.10.00.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2034
https://github.com/scverse/scanpy/issues/2034:1231,integrability,sub,subset,1231,"ValueError: b'svddc failed in l2fit when using flavor = 'seurat_v3'; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Selection of highly variable genes works fine in default settings, but I get an error when I try to use seurat_v3 flavor. ```python. adata2.layers[""counts""] = adata2.X.copy(). adata2.raw = adata2 # keep full dimension safe. sc.pp.normalize_total(adata2, target_sum=1e4). sc.pp.log1p(adata2). sc.pp.highly_variable_genes(. adata2,. flavor=""seurat_v3"",. n_top_genes=3000,. layer=""counts"",. batch_key=""Sample"",. subset=True. ). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-18-64d280f5029c> in <module>. 3 sc.pp.normalize_total(adata2, target_sum=1e4). 4 sc.pp.log1p(adata2). ----> 5 sc.pp.highly_variable_genes(. 6 adata2,. 7 flavor=""seurat_v3"",. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in highly_variable_genes(adata, layer, n_top_genes, min_disp, max_disp, min_mean, max_mean, span, n_bins, flavor, subset, inplace, batch_key, check_values). 417 . 418 if flavor == 'seurat_v3':. --> 419 return _highly_variable_genes_seurat_v3(. 420 adata,. 421 layer=layer,. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in _highly_variable_genes_seurat_v3(adata, layer, n_top_genes, batch_key, check_values, span, subset, inplace). 83 x = np.log10(mean[not_const]). 84 model = loess(x, y, span=span, degree=2). ---> 85 model.fit(). 86 estimat_var[not_const] = model.outputs.fitted_values. 87 reg_std = np.sqrt(10 ** estimat_var). _loess.pyx in _loess.loess.fit(). ValueError: b'svddc failed in l2fit.'. ```. #### Versions. 0.10.00.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2034
https://github.com/scverse/scanpy/issues/2034:1630,integrability,sub,subset,1630,"ValueError: b'svddc failed in l2fit when using flavor = 'seurat_v3'; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Selection of highly variable genes works fine in default settings, but I get an error when I try to use seurat_v3 flavor. ```python. adata2.layers[""counts""] = adata2.X.copy(). adata2.raw = adata2 # keep full dimension safe. sc.pp.normalize_total(adata2, target_sum=1e4). sc.pp.log1p(adata2). sc.pp.highly_variable_genes(. adata2,. flavor=""seurat_v3"",. n_top_genes=3000,. layer=""counts"",. batch_key=""Sample"",. subset=True. ). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-18-64d280f5029c> in <module>. 3 sc.pp.normalize_total(adata2, target_sum=1e4). 4 sc.pp.log1p(adata2). ----> 5 sc.pp.highly_variable_genes(. 6 adata2,. 7 flavor=""seurat_v3"",. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in highly_variable_genes(adata, layer, n_top_genes, min_disp, max_disp, min_mean, max_mean, span, n_bins, flavor, subset, inplace, batch_key, check_values). 417 . 418 if flavor == 'seurat_v3':. --> 419 return _highly_variable_genes_seurat_v3(. 420 adata,. 421 layer=layer,. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in _highly_variable_genes_seurat_v3(adata, layer, n_top_genes, batch_key, check_values, span, subset, inplace). 83 x = np.log10(mean[not_const]). 84 model = loess(x, y, span=span, degree=2). ---> 85 model.fit(). 86 estimat_var[not_const] = model.outputs.fitted_values. 87 reg_std = np.sqrt(10 ** estimat_var). _loess.pyx in _loess.loess.fit(). ValueError: b'svddc failed in l2fit.'. ```. #### Versions. 0.10.00.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2034
https://github.com/scverse/scanpy/issues/2034:1929,integrability,Version,Versions,1929,"ValueError: b'svddc failed in l2fit when using flavor = 'seurat_v3'; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Selection of highly variable genes works fine in default settings, but I get an error when I try to use seurat_v3 flavor. ```python. adata2.layers[""counts""] = adata2.X.copy(). adata2.raw = adata2 # keep full dimension safe. sc.pp.normalize_total(adata2, target_sum=1e4). sc.pp.log1p(adata2). sc.pp.highly_variable_genes(. adata2,. flavor=""seurat_v3"",. n_top_genes=3000,. layer=""counts"",. batch_key=""Sample"",. subset=True. ). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-18-64d280f5029c> in <module>. 3 sc.pp.normalize_total(adata2, target_sum=1e4). 4 sc.pp.log1p(adata2). ----> 5 sc.pp.highly_variable_genes(. 6 adata2,. 7 flavor=""seurat_v3"",. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in highly_variable_genes(adata, layer, n_top_genes, min_disp, max_disp, min_mean, max_mean, span, n_bins, flavor, subset, inplace, batch_key, check_values). 417 . 418 if flavor == 'seurat_v3':. --> 419 return _highly_variable_genes_seurat_v3(. 420 adata,. 421 layer=layer,. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in _highly_variable_genes_seurat_v3(adata, layer, n_top_genes, batch_key, check_values, span, subset, inplace). 83 x = np.log10(mean[not_const]). 84 model = loess(x, y, span=span, degree=2). ---> 85 model.fit(). 86 estimat_var[not_const] = model.outputs.fitted_values. 87 reg_std = np.sqrt(10 ** estimat_var). _loess.pyx in _loess.loess.fit(). ValueError: b'svddc failed in l2fit.'. ```. #### Versions. 0.10.00.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2034
https://github.com/scverse/scanpy/issues/2034:192,modifiability,version,version,192,"ValueError: b'svddc failed in l2fit when using flavor = 'seurat_v3'; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Selection of highly variable genes works fine in default settings, but I get an error when I try to use seurat_v3 flavor. ```python. adata2.layers[""counts""] = adata2.X.copy(). adata2.raw = adata2 # keep full dimension safe. sc.pp.normalize_total(adata2, target_sum=1e4). sc.pp.log1p(adata2). sc.pp.highly_variable_genes(. adata2,. flavor=""seurat_v3"",. n_top_genes=3000,. layer=""counts"",. batch_key=""Sample"",. subset=True. ). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-18-64d280f5029c> in <module>. 3 sc.pp.normalize_total(adata2, target_sum=1e4). 4 sc.pp.log1p(adata2). ----> 5 sc.pp.highly_variable_genes(. 6 adata2,. 7 flavor=""seurat_v3"",. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in highly_variable_genes(adata, layer, n_top_genes, min_disp, max_disp, min_mean, max_mean, span, n_bins, flavor, subset, inplace, batch_key, check_values). 417 . 418 if flavor == 'seurat_v3':. --> 419 return _highly_variable_genes_seurat_v3(. 420 adata,. 421 layer=layer,. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in _highly_variable_genes_seurat_v3(adata, layer, n_top_genes, batch_key, check_values, span, subset, inplace). 83 x = np.log10(mean[not_const]). 84 model = loess(x, y, span=span, degree=2). ---> 85 model.fit(). 86 estimat_var[not_const] = model.outputs.fitted_values. 87 reg_std = np.sqrt(10 ** estimat_var). _loess.pyx in _loess.loess.fit(). ValueError: b'svddc failed in l2fit.'. ```. #### Versions. 0.10.00.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2034
https://github.com/scverse/scanpy/issues/2034:318,modifiability,variab,variable,318,"ValueError: b'svddc failed in l2fit when using flavor = 'seurat_v3'; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Selection of highly variable genes works fine in default settings, but I get an error when I try to use seurat_v3 flavor. ```python. adata2.layers[""counts""] = adata2.X.copy(). adata2.raw = adata2 # keep full dimension safe. sc.pp.normalize_total(adata2, target_sum=1e4). sc.pp.log1p(adata2). sc.pp.highly_variable_genes(. adata2,. flavor=""seurat_v3"",. n_top_genes=3000,. layer=""counts"",. batch_key=""Sample"",. subset=True. ). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-18-64d280f5029c> in <module>. 3 sc.pp.normalize_total(adata2, target_sum=1e4). 4 sc.pp.log1p(adata2). ----> 5 sc.pp.highly_variable_genes(. 6 adata2,. 7 flavor=""seurat_v3"",. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in highly_variable_genes(adata, layer, n_top_genes, min_disp, max_disp, min_mean, max_mean, span, n_bins, flavor, subset, inplace, batch_key, check_values). 417 . 418 if flavor == 'seurat_v3':. --> 419 return _highly_variable_genes_seurat_v3(. 420 adata,. 421 layer=layer,. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in _highly_variable_genes_seurat_v3(adata, layer, n_top_genes, batch_key, check_values, span, subset, inplace). 83 x = np.log10(mean[not_const]). 84 model = loess(x, y, span=span, degree=2). ---> 85 model.fit(). 86 estimat_var[not_const] = model.outputs.fitted_values. 87 reg_std = np.sqrt(10 ** estimat_var). _loess.pyx in _loess.loess.fit(). ValueError: b'svddc failed in l2fit.'. ```. #### Versions. 0.10.00.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2034
https://github.com/scverse/scanpy/issues/2034:438,modifiability,layer,layers,438,"ValueError: b'svddc failed in l2fit when using flavor = 'seurat_v3'; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Selection of highly variable genes works fine in default settings, but I get an error when I try to use seurat_v3 flavor. ```python. adata2.layers[""counts""] = adata2.X.copy(). adata2.raw = adata2 # keep full dimension safe. sc.pp.normalize_total(adata2, target_sum=1e4). sc.pp.log1p(adata2). sc.pp.highly_variable_genes(. adata2,. flavor=""seurat_v3"",. n_top_genes=3000,. layer=""counts"",. batch_key=""Sample"",. subset=True. ). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-18-64d280f5029c> in <module>. 3 sc.pp.normalize_total(adata2, target_sum=1e4). 4 sc.pp.log1p(adata2). ----> 5 sc.pp.highly_variable_genes(. 6 adata2,. 7 flavor=""seurat_v3"",. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in highly_variable_genes(adata, layer, n_top_genes, min_disp, max_disp, min_mean, max_mean, span, n_bins, flavor, subset, inplace, batch_key, check_values). 417 . 418 if flavor == 'seurat_v3':. --> 419 return _highly_variable_genes_seurat_v3(. 420 adata,. 421 layer=layer,. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in _highly_variable_genes_seurat_v3(adata, layer, n_top_genes, batch_key, check_values, span, subset, inplace). 83 x = np.log10(mean[not_const]). 84 model = loess(x, y, span=span, degree=2). ---> 85 model.fit(). 86 estimat_var[not_const] = model.outputs.fitted_values. 87 reg_std = np.sqrt(10 ** estimat_var). _loess.pyx in _loess.loess.fit(). ValueError: b'svddc failed in l2fit.'. ```. #### Versions. 0.10.00.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2034
https://github.com/scverse/scanpy/issues/2034:669,modifiability,layer,layer,669,"ValueError: b'svddc failed in l2fit when using flavor = 'seurat_v3'; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Selection of highly variable genes works fine in default settings, but I get an error when I try to use seurat_v3 flavor. ```python. adata2.layers[""counts""] = adata2.X.copy(). adata2.raw = adata2 # keep full dimension safe. sc.pp.normalize_total(adata2, target_sum=1e4). sc.pp.log1p(adata2). sc.pp.highly_variable_genes(. adata2,. flavor=""seurat_v3"",. n_top_genes=3000,. layer=""counts"",. batch_key=""Sample"",. subset=True. ). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-18-64d280f5029c> in <module>. 3 sc.pp.normalize_total(adata2, target_sum=1e4). 4 sc.pp.log1p(adata2). ----> 5 sc.pp.highly_variable_genes(. 6 adata2,. 7 flavor=""seurat_v3"",. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in highly_variable_genes(adata, layer, n_top_genes, min_disp, max_disp, min_mean, max_mean, span, n_bins, flavor, subset, inplace, batch_key, check_values). 417 . 418 if flavor == 'seurat_v3':. --> 419 return _highly_variable_genes_seurat_v3(. 420 adata,. 421 layer=layer,. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in _highly_variable_genes_seurat_v3(adata, layer, n_top_genes, batch_key, check_values, span, subset, inplace). 83 x = np.log10(mean[not_const]). 84 model = loess(x, y, span=span, degree=2). ---> 85 model.fit(). 86 estimat_var[not_const] = model.outputs.fitted_values. 87 reg_std = np.sqrt(10 ** estimat_var). _loess.pyx in _loess.loess.fit(). ValueError: b'svddc failed in l2fit.'. ```. #### Versions. 0.10.00.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2034
https://github.com/scverse/scanpy/issues/2034:819,modifiability,modul,module,819,"ValueError: b'svddc failed in l2fit when using flavor = 'seurat_v3'; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Selection of highly variable genes works fine in default settings, but I get an error when I try to use seurat_v3 flavor. ```python. adata2.layers[""counts""] = adata2.X.copy(). adata2.raw = adata2 # keep full dimension safe. sc.pp.normalize_total(adata2, target_sum=1e4). sc.pp.log1p(adata2). sc.pp.highly_variable_genes(. adata2,. flavor=""seurat_v3"",. n_top_genes=3000,. layer=""counts"",. batch_key=""Sample"",. subset=True. ). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-18-64d280f5029c> in <module>. 3 sc.pp.normalize_total(adata2, target_sum=1e4). 4 sc.pp.log1p(adata2). ----> 5 sc.pp.highly_variable_genes(. 6 adata2,. 7 flavor=""seurat_v3"",. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in highly_variable_genes(adata, layer, n_top_genes, min_disp, max_disp, min_mean, max_mean, span, n_bins, flavor, subset, inplace, batch_key, check_values). 417 . 418 if flavor == 'seurat_v3':. --> 419 return _highly_variable_genes_seurat_v3(. 420 adata,. 421 layer=layer,. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in _highly_variable_genes_seurat_v3(adata, layer, n_top_genes, batch_key, check_values, span, subset, inplace). 83 x = np.log10(mean[not_const]). 84 model = loess(x, y, span=span, degree=2). ---> 85 model.fit(). 86 estimat_var[not_const] = model.outputs.fitted_values. 87 reg_std = np.sqrt(10 ** estimat_var). _loess.pyx in _loess.loess.fit(). ValueError: b'svddc failed in l2fit.'. ```. #### Versions. 0.10.00.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2034
https://github.com/scverse/scanpy/issues/2034:1061,modifiability,pac,packages,1061,"ValueError: b'svddc failed in l2fit when using flavor = 'seurat_v3'; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Selection of highly variable genes works fine in default settings, but I get an error when I try to use seurat_v3 flavor. ```python. adata2.layers[""counts""] = adata2.X.copy(). adata2.raw = adata2 # keep full dimension safe. sc.pp.normalize_total(adata2, target_sum=1e4). sc.pp.log1p(adata2). sc.pp.highly_variable_genes(. adata2,. flavor=""seurat_v3"",. n_top_genes=3000,. layer=""counts"",. batch_key=""Sample"",. subset=True. ). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-18-64d280f5029c> in <module>. 3 sc.pp.normalize_total(adata2, target_sum=1e4). 4 sc.pp.log1p(adata2). ----> 5 sc.pp.highly_variable_genes(. 6 adata2,. 7 flavor=""seurat_v3"",. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in highly_variable_genes(adata, layer, n_top_genes, min_disp, max_disp, min_mean, max_mean, span, n_bins, flavor, subset, inplace, batch_key, check_values). 417 . 418 if flavor == 'seurat_v3':. --> 419 return _highly_variable_genes_seurat_v3(. 420 adata,. 421 layer=layer,. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in _highly_variable_genes_seurat_v3(adata, layer, n_top_genes, batch_key, check_values, span, subset, inplace). 83 x = np.log10(mean[not_const]). 84 model = loess(x, y, span=span, degree=2). ---> 85 model.fit(). 86 estimat_var[not_const] = model.outputs.fitted_values. 87 reg_std = np.sqrt(10 ** estimat_var). _loess.pyx in _loess.loess.fit(). ValueError: b'svddc failed in l2fit.'. ```. #### Versions. 0.10.00.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2034
https://github.com/scverse/scanpy/issues/2034:1149,modifiability,layer,layer,1149,"ValueError: b'svddc failed in l2fit when using flavor = 'seurat_v3'; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Selection of highly variable genes works fine in default settings, but I get an error when I try to use seurat_v3 flavor. ```python. adata2.layers[""counts""] = adata2.X.copy(). adata2.raw = adata2 # keep full dimension safe. sc.pp.normalize_total(adata2, target_sum=1e4). sc.pp.log1p(adata2). sc.pp.highly_variable_genes(. adata2,. flavor=""seurat_v3"",. n_top_genes=3000,. layer=""counts"",. batch_key=""Sample"",. subset=True. ). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-18-64d280f5029c> in <module>. 3 sc.pp.normalize_total(adata2, target_sum=1e4). 4 sc.pp.log1p(adata2). ----> 5 sc.pp.highly_variable_genes(. 6 adata2,. 7 flavor=""seurat_v3"",. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in highly_variable_genes(adata, layer, n_top_genes, min_disp, max_disp, min_mean, max_mean, span, n_bins, flavor, subset, inplace, batch_key, check_values). 417 . 418 if flavor == 'seurat_v3':. --> 419 return _highly_variable_genes_seurat_v3(. 420 adata,. 421 layer=layer,. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in _highly_variable_genes_seurat_v3(adata, layer, n_top_genes, batch_key, check_values, span, subset, inplace). 83 x = np.log10(mean[not_const]). 84 model = loess(x, y, span=span, degree=2). ---> 85 model.fit(). 86 estimat_var[not_const] = model.outputs.fitted_values. 87 reg_std = np.sqrt(10 ** estimat_var). _loess.pyx in _loess.loess.fit(). ValueError: b'svddc failed in l2fit.'. ```. #### Versions. 0.10.00.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2034
https://github.com/scverse/scanpy/issues/2034:1377,modifiability,layer,layer,1377,"ValueError: b'svddc failed in l2fit when using flavor = 'seurat_v3'; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Selection of highly variable genes works fine in default settings, but I get an error when I try to use seurat_v3 flavor. ```python. adata2.layers[""counts""] = adata2.X.copy(). adata2.raw = adata2 # keep full dimension safe. sc.pp.normalize_total(adata2, target_sum=1e4). sc.pp.log1p(adata2). sc.pp.highly_variable_genes(. adata2,. flavor=""seurat_v3"",. n_top_genes=3000,. layer=""counts"",. batch_key=""Sample"",. subset=True. ). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-18-64d280f5029c> in <module>. 3 sc.pp.normalize_total(adata2, target_sum=1e4). 4 sc.pp.log1p(adata2). ----> 5 sc.pp.highly_variable_genes(. 6 adata2,. 7 flavor=""seurat_v3"",. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in highly_variable_genes(adata, layer, n_top_genes, min_disp, max_disp, min_mean, max_mean, span, n_bins, flavor, subset, inplace, batch_key, check_values). 417 . 418 if flavor == 'seurat_v3':. --> 419 return _highly_variable_genes_seurat_v3(. 420 adata,. 421 layer=layer,. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in _highly_variable_genes_seurat_v3(adata, layer, n_top_genes, batch_key, check_values, span, subset, inplace). 83 x = np.log10(mean[not_const]). 84 model = loess(x, y, span=span, degree=2). ---> 85 model.fit(). 86 estimat_var[not_const] = model.outputs.fitted_values. 87 reg_std = np.sqrt(10 ** estimat_var). _loess.pyx in _loess.loess.fit(). ValueError: b'svddc failed in l2fit.'. ```. #### Versions. 0.10.00.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2034
https://github.com/scverse/scanpy/issues/2034:1383,modifiability,layer,layer,1383,"ValueError: b'svddc failed in l2fit when using flavor = 'seurat_v3'; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Selection of highly variable genes works fine in default settings, but I get an error when I try to use seurat_v3 flavor. ```python. adata2.layers[""counts""] = adata2.X.copy(). adata2.raw = adata2 # keep full dimension safe. sc.pp.normalize_total(adata2, target_sum=1e4). sc.pp.log1p(adata2). sc.pp.highly_variable_genes(. adata2,. flavor=""seurat_v3"",. n_top_genes=3000,. layer=""counts"",. batch_key=""Sample"",. subset=True. ). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-18-64d280f5029c> in <module>. 3 sc.pp.normalize_total(adata2, target_sum=1e4). 4 sc.pp.log1p(adata2). ----> 5 sc.pp.highly_variable_genes(. 6 adata2,. 7 flavor=""seurat_v3"",. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in highly_variable_genes(adata, layer, n_top_genes, min_disp, max_disp, min_mean, max_mean, span, n_bins, flavor, subset, inplace, batch_key, check_values). 417 . 418 if flavor == 'seurat_v3':. --> 419 return _highly_variable_genes_seurat_v3(. 420 adata,. 421 layer=layer,. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in _highly_variable_genes_seurat_v3(adata, layer, n_top_genes, batch_key, check_values, span, subset, inplace). 83 x = np.log10(mean[not_const]). 84 model = loess(x, y, span=span, degree=2). ---> 85 model.fit(). 86 estimat_var[not_const] = model.outputs.fitted_values. 87 reg_std = np.sqrt(10 ** estimat_var). _loess.pyx in _loess.loess.fit(). ValueError: b'svddc failed in l2fit.'. ```. #### Versions. 0.10.00.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2034
https://github.com/scverse/scanpy/issues/2034:1480,modifiability,pac,packages,1480,"ValueError: b'svddc failed in l2fit when using flavor = 'seurat_v3'; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Selection of highly variable genes works fine in default settings, but I get an error when I try to use seurat_v3 flavor. ```python. adata2.layers[""counts""] = adata2.X.copy(). adata2.raw = adata2 # keep full dimension safe. sc.pp.normalize_total(adata2, target_sum=1e4). sc.pp.log1p(adata2). sc.pp.highly_variable_genes(. adata2,. flavor=""seurat_v3"",. n_top_genes=3000,. layer=""counts"",. batch_key=""Sample"",. subset=True. ). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-18-64d280f5029c> in <module>. 3 sc.pp.normalize_total(adata2, target_sum=1e4). 4 sc.pp.log1p(adata2). ----> 5 sc.pp.highly_variable_genes(. 6 adata2,. 7 flavor=""seurat_v3"",. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in highly_variable_genes(adata, layer, n_top_genes, min_disp, max_disp, min_mean, max_mean, span, n_bins, flavor, subset, inplace, batch_key, check_values). 417 . 418 if flavor == 'seurat_v3':. --> 419 return _highly_variable_genes_seurat_v3(. 420 adata,. 421 layer=layer,. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in _highly_variable_genes_seurat_v3(adata, layer, n_top_genes, batch_key, check_values, span, subset, inplace). 83 x = np.log10(mean[not_const]). 84 model = loess(x, y, span=span, degree=2). ---> 85 model.fit(). 86 estimat_var[not_const] = model.outputs.fitted_values. 87 reg_std = np.sqrt(10 ** estimat_var). _loess.pyx in _loess.loess.fit(). ValueError: b'svddc failed in l2fit.'. ```. #### Versions. 0.10.00.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2034
https://github.com/scverse/scanpy/issues/2034:1579,modifiability,layer,layer,1579,"ValueError: b'svddc failed in l2fit when using flavor = 'seurat_v3'; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Selection of highly variable genes works fine in default settings, but I get an error when I try to use seurat_v3 flavor. ```python. adata2.layers[""counts""] = adata2.X.copy(). adata2.raw = adata2 # keep full dimension safe. sc.pp.normalize_total(adata2, target_sum=1e4). sc.pp.log1p(adata2). sc.pp.highly_variable_genes(. adata2,. flavor=""seurat_v3"",. n_top_genes=3000,. layer=""counts"",. batch_key=""Sample"",. subset=True. ). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-18-64d280f5029c> in <module>. 3 sc.pp.normalize_total(adata2, target_sum=1e4). 4 sc.pp.log1p(adata2). ----> 5 sc.pp.highly_variable_genes(. 6 adata2,. 7 flavor=""seurat_v3"",. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in highly_variable_genes(adata, layer, n_top_genes, min_disp, max_disp, min_mean, max_mean, span, n_bins, flavor, subset, inplace, batch_key, check_values). 417 . 418 if flavor == 'seurat_v3':. --> 419 return _highly_variable_genes_seurat_v3(. 420 adata,. 421 layer=layer,. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in _highly_variable_genes_seurat_v3(adata, layer, n_top_genes, batch_key, check_values, span, subset, inplace). 83 x = np.log10(mean[not_const]). 84 model = loess(x, y, span=span, degree=2). ---> 85 model.fit(). 86 estimat_var[not_const] = model.outputs.fitted_values. 87 reg_std = np.sqrt(10 ** estimat_var). _loess.pyx in _loess.loess.fit(). ValueError: b'svddc failed in l2fit.'. ```. #### Versions. 0.10.00.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2034
https://github.com/scverse/scanpy/issues/2034:1929,modifiability,Version,Versions,1929,"ValueError: b'svddc failed in l2fit when using flavor = 'seurat_v3'; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Selection of highly variable genes works fine in default settings, but I get an error when I try to use seurat_v3 flavor. ```python. adata2.layers[""counts""] = adata2.X.copy(). adata2.raw = adata2 # keep full dimension safe. sc.pp.normalize_total(adata2, target_sum=1e4). sc.pp.log1p(adata2). sc.pp.highly_variable_genes(. adata2,. flavor=""seurat_v3"",. n_top_genes=3000,. layer=""counts"",. batch_key=""Sample"",. subset=True. ). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-18-64d280f5029c> in <module>. 3 sc.pp.normalize_total(adata2, target_sum=1e4). 4 sc.pp.log1p(adata2). ----> 5 sc.pp.highly_variable_genes(. 6 adata2,. 7 flavor=""seurat_v3"",. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in highly_variable_genes(adata, layer, n_top_genes, min_disp, max_disp, min_mean, max_mean, span, n_bins, flavor, subset, inplace, batch_key, check_values). 417 . 418 if flavor == 'seurat_v3':. --> 419 return _highly_variable_genes_seurat_v3(. 420 adata,. 421 layer=layer,. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in _highly_variable_genes_seurat_v3(adata, layer, n_top_genes, batch_key, check_values, span, subset, inplace). 83 x = np.log10(mean[not_const]). 84 model = loess(x, y, span=span, degree=2). ---> 85 model.fit(). 86 estimat_var[not_const] = model.outputs.fitted_values. 87 reg_std = np.sqrt(10 ** estimat_var). _loess.pyx in _loess.loess.fit(). ValueError: b'svddc failed in l2fit.'. ```. #### Versions. 0.10.00.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2034
https://github.com/scverse/scanpy/issues/2034:378,performance,error,error,378,"ValueError: b'svddc failed in l2fit when using flavor = 'seurat_v3'; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Selection of highly variable genes works fine in default settings, but I get an error when I try to use seurat_v3 flavor. ```python. adata2.layers[""counts""] = adata2.X.copy(). adata2.raw = adata2 # keep full dimension safe. sc.pp.normalize_total(adata2, target_sum=1e4). sc.pp.log1p(adata2). sc.pp.highly_variable_genes(. adata2,. flavor=""seurat_v3"",. n_top_genes=3000,. layer=""counts"",. batch_key=""Sample"",. subset=True. ). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-18-64d280f5029c> in <module>. 3 sc.pp.normalize_total(adata2, target_sum=1e4). 4 sc.pp.log1p(adata2). ----> 5 sc.pp.highly_variable_genes(. 6 adata2,. 7 flavor=""seurat_v3"",. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in highly_variable_genes(adata, layer, n_top_genes, min_disp, max_disp, min_mean, max_mean, span, n_bins, flavor, subset, inplace, batch_key, check_values). 417 . 418 if flavor == 'seurat_v3':. --> 419 return _highly_variable_genes_seurat_v3(. 420 adata,. 421 layer=layer,. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in _highly_variable_genes_seurat_v3(adata, layer, n_top_genes, batch_key, check_values, span, subset, inplace). 83 x = np.log10(mean[not_const]). 84 model = loess(x, y, span=span, degree=2). ---> 85 model.fit(). 86 estimat_var[not_const] = model.outputs.fitted_values. 87 reg_std = np.sqrt(10 ** estimat_var). _loess.pyx in _loess.loess.fit(). ValueError: b'svddc failed in l2fit.'. ```. #### Versions. 0.10.00.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2034
https://github.com/scverse/scanpy/issues/2034:20,reliability,fail,failed,20,"ValueError: b'svddc failed in l2fit when using flavor = 'seurat_v3'; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Selection of highly variable genes works fine in default settings, but I get an error when I try to use seurat_v3 flavor. ```python. adata2.layers[""counts""] = adata2.X.copy(). adata2.raw = adata2 # keep full dimension safe. sc.pp.normalize_total(adata2, target_sum=1e4). sc.pp.log1p(adata2). sc.pp.highly_variable_genes(. adata2,. flavor=""seurat_v3"",. n_top_genes=3000,. layer=""counts"",. batch_key=""Sample"",. subset=True. ). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-18-64d280f5029c> in <module>. 3 sc.pp.normalize_total(adata2, target_sum=1e4). 4 sc.pp.log1p(adata2). ----> 5 sc.pp.highly_variable_genes(. 6 adata2,. 7 flavor=""seurat_v3"",. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in highly_variable_genes(adata, layer, n_top_genes, min_disp, max_disp, min_mean, max_mean, span, n_bins, flavor, subset, inplace, batch_key, check_values). 417 . 418 if flavor == 'seurat_v3':. --> 419 return _highly_variable_genes_seurat_v3(. 420 adata,. 421 layer=layer,. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in _highly_variable_genes_seurat_v3(adata, layer, n_top_genes, batch_key, check_values, span, subset, inplace). 83 x = np.log10(mean[not_const]). 84 model = loess(x, y, span=span, degree=2). ---> 85 model.fit(). 86 estimat_var[not_const] = model.outputs.fitted_values. 87 reg_std = np.sqrt(10 ** estimat_var). _loess.pyx in _loess.loess.fit(). ValueError: b'svddc failed in l2fit.'. ```. #### Versions. 0.10.00.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2034
https://github.com/scverse/scanpy/issues/2034:1900,reliability,fail,failed,1900,"ValueError: b'svddc failed in l2fit when using flavor = 'seurat_v3'; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Selection of highly variable genes works fine in default settings, but I get an error when I try to use seurat_v3 flavor. ```python. adata2.layers[""counts""] = adata2.X.copy(). adata2.raw = adata2 # keep full dimension safe. sc.pp.normalize_total(adata2, target_sum=1e4). sc.pp.log1p(adata2). sc.pp.highly_variable_genes(. adata2,. flavor=""seurat_v3"",. n_top_genes=3000,. layer=""counts"",. batch_key=""Sample"",. subset=True. ). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-18-64d280f5029c> in <module>. 3 sc.pp.normalize_total(adata2, target_sum=1e4). 4 sc.pp.log1p(adata2). ----> 5 sc.pp.highly_variable_genes(. 6 adata2,. 7 flavor=""seurat_v3"",. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in highly_variable_genes(adata, layer, n_top_genes, min_disp, max_disp, min_mean, max_mean, span, n_bins, flavor, subset, inplace, batch_key, check_values). 417 . 418 if flavor == 'seurat_v3':. --> 419 return _highly_variable_genes_seurat_v3(. 420 adata,. 421 layer=layer,. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in _highly_variable_genes_seurat_v3(adata, layer, n_top_genes, batch_key, check_values, span, subset, inplace). 83 x = np.log10(mean[not_const]). 84 model = loess(x, y, span=span, degree=2). ---> 85 model.fit(). 86 estimat_var[not_const] = model.outputs.fitted_values. 87 reg_std = np.sqrt(10 ** estimat_var). _loess.pyx in _loess.loess.fit(). ValueError: b'svddc failed in l2fit.'. ```. #### Versions. 0.10.00.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2034
https://github.com/scverse/scanpy/issues/2034:378,safety,error,error,378,"ValueError: b'svddc failed in l2fit when using flavor = 'seurat_v3'; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Selection of highly variable genes works fine in default settings, but I get an error when I try to use seurat_v3 flavor. ```python. adata2.layers[""counts""] = adata2.X.copy(). adata2.raw = adata2 # keep full dimension safe. sc.pp.normalize_total(adata2, target_sum=1e4). sc.pp.log1p(adata2). sc.pp.highly_variable_genes(. adata2,. flavor=""seurat_v3"",. n_top_genes=3000,. layer=""counts"",. batch_key=""Sample"",. subset=True. ). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-18-64d280f5029c> in <module>. 3 sc.pp.normalize_total(adata2, target_sum=1e4). 4 sc.pp.log1p(adata2). ----> 5 sc.pp.highly_variable_genes(. 6 adata2,. 7 flavor=""seurat_v3"",. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in highly_variable_genes(adata, layer, n_top_genes, min_disp, max_disp, min_mean, max_mean, span, n_bins, flavor, subset, inplace, batch_key, check_values). 417 . 418 if flavor == 'seurat_v3':. --> 419 return _highly_variable_genes_seurat_v3(. 420 adata,. 421 layer=layer,. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in _highly_variable_genes_seurat_v3(adata, layer, n_top_genes, batch_key, check_values, span, subset, inplace). 83 x = np.log10(mean[not_const]). 84 model = loess(x, y, span=span, degree=2). ---> 85 model.fit(). 86 estimat_var[not_const] = model.outputs.fitted_values. 87 reg_std = np.sqrt(10 ** estimat_var). _loess.pyx in _loess.loess.fit(). ValueError: b'svddc failed in l2fit.'. ```. #### Versions. 0.10.00.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2034
https://github.com/scverse/scanpy/issues/2034:516,safety,safe,safe,516,"ValueError: b'svddc failed in l2fit when using flavor = 'seurat_v3'; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Selection of highly variable genes works fine in default settings, but I get an error when I try to use seurat_v3 flavor. ```python. adata2.layers[""counts""] = adata2.X.copy(). adata2.raw = adata2 # keep full dimension safe. sc.pp.normalize_total(adata2, target_sum=1e4). sc.pp.log1p(adata2). sc.pp.highly_variable_genes(. adata2,. flavor=""seurat_v3"",. n_top_genes=3000,. layer=""counts"",. batch_key=""Sample"",. subset=True. ). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-18-64d280f5029c> in <module>. 3 sc.pp.normalize_total(adata2, target_sum=1e4). 4 sc.pp.log1p(adata2). ----> 5 sc.pp.highly_variable_genes(. 6 adata2,. 7 flavor=""seurat_v3"",. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in highly_variable_genes(adata, layer, n_top_genes, min_disp, max_disp, min_mean, max_mean, span, n_bins, flavor, subset, inplace, batch_key, check_values). 417 . 418 if flavor == 'seurat_v3':. --> 419 return _highly_variable_genes_seurat_v3(. 420 adata,. 421 layer=layer,. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in _highly_variable_genes_seurat_v3(adata, layer, n_top_genes, batch_key, check_values, span, subset, inplace). 83 x = np.log10(mean[not_const]). 84 model = loess(x, y, span=span, degree=2). ---> 85 model.fit(). 86 estimat_var[not_const] = model.outputs.fitted_values. 87 reg_std = np.sqrt(10 ** estimat_var). _loess.pyx in _loess.loess.fit(). ValueError: b'svddc failed in l2fit.'. ```. #### Versions. 0.10.00.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2034
https://github.com/scverse/scanpy/issues/2034:792,safety,input,input-,792,"ValueError: b'svddc failed in l2fit when using flavor = 'seurat_v3'; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Selection of highly variable genes works fine in default settings, but I get an error when I try to use seurat_v3 flavor. ```python. adata2.layers[""counts""] = adata2.X.copy(). adata2.raw = adata2 # keep full dimension safe. sc.pp.normalize_total(adata2, target_sum=1e4). sc.pp.log1p(adata2). sc.pp.highly_variable_genes(. adata2,. flavor=""seurat_v3"",. n_top_genes=3000,. layer=""counts"",. batch_key=""Sample"",. subset=True. ). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-18-64d280f5029c> in <module>. 3 sc.pp.normalize_total(adata2, target_sum=1e4). 4 sc.pp.log1p(adata2). ----> 5 sc.pp.highly_variable_genes(. 6 adata2,. 7 flavor=""seurat_v3"",. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in highly_variable_genes(adata, layer, n_top_genes, min_disp, max_disp, min_mean, max_mean, span, n_bins, flavor, subset, inplace, batch_key, check_values). 417 . 418 if flavor == 'seurat_v3':. --> 419 return _highly_variable_genes_seurat_v3(. 420 adata,. 421 layer=layer,. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in _highly_variable_genes_seurat_v3(adata, layer, n_top_genes, batch_key, check_values, span, subset, inplace). 83 x = np.log10(mean[not_const]). 84 model = loess(x, y, span=span, degree=2). ---> 85 model.fit(). 86 estimat_var[not_const] = model.outputs.fitted_values. 87 reg_std = np.sqrt(10 ** estimat_var). _loess.pyx in _loess.loess.fit(). ValueError: b'svddc failed in l2fit.'. ```. #### Versions. 0.10.00.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2034
https://github.com/scverse/scanpy/issues/2034:819,safety,modul,module,819,"ValueError: b'svddc failed in l2fit when using flavor = 'seurat_v3'; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Selection of highly variable genes works fine in default settings, but I get an error when I try to use seurat_v3 flavor. ```python. adata2.layers[""counts""] = adata2.X.copy(). adata2.raw = adata2 # keep full dimension safe. sc.pp.normalize_total(adata2, target_sum=1e4). sc.pp.log1p(adata2). sc.pp.highly_variable_genes(. adata2,. flavor=""seurat_v3"",. n_top_genes=3000,. layer=""counts"",. batch_key=""Sample"",. subset=True. ). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-18-64d280f5029c> in <module>. 3 sc.pp.normalize_total(adata2, target_sum=1e4). 4 sc.pp.log1p(adata2). ----> 5 sc.pp.highly_variable_genes(. 6 adata2,. 7 flavor=""seurat_v3"",. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in highly_variable_genes(adata, layer, n_top_genes, min_disp, max_disp, min_mean, max_mean, span, n_bins, flavor, subset, inplace, batch_key, check_values). 417 . 418 if flavor == 'seurat_v3':. --> 419 return _highly_variable_genes_seurat_v3(. 420 adata,. 421 layer=layer,. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in _highly_variable_genes_seurat_v3(adata, layer, n_top_genes, batch_key, check_values, span, subset, inplace). 83 x = np.log10(mean[not_const]). 84 model = loess(x, y, span=span, degree=2). ---> 85 model.fit(). 86 estimat_var[not_const] = model.outputs.fitted_values. 87 reg_std = np.sqrt(10 ** estimat_var). _loess.pyx in _loess.loess.fit(). ValueError: b'svddc failed in l2fit.'. ```. #### Versions. 0.10.00.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2034
https://github.com/scverse/scanpy/issues/2034:1685,security,model,model,1685,"ValueError: b'svddc failed in l2fit when using flavor = 'seurat_v3'; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Selection of highly variable genes works fine in default settings, but I get an error when I try to use seurat_v3 flavor. ```python. adata2.layers[""counts""] = adata2.X.copy(). adata2.raw = adata2 # keep full dimension safe. sc.pp.normalize_total(adata2, target_sum=1e4). sc.pp.log1p(adata2). sc.pp.highly_variable_genes(. adata2,. flavor=""seurat_v3"",. n_top_genes=3000,. layer=""counts"",. batch_key=""Sample"",. subset=True. ). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-18-64d280f5029c> in <module>. 3 sc.pp.normalize_total(adata2, target_sum=1e4). 4 sc.pp.log1p(adata2). ----> 5 sc.pp.highly_variable_genes(. 6 adata2,. 7 flavor=""seurat_v3"",. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in highly_variable_genes(adata, layer, n_top_genes, min_disp, max_disp, min_mean, max_mean, span, n_bins, flavor, subset, inplace, batch_key, check_values). 417 . 418 if flavor == 'seurat_v3':. --> 419 return _highly_variable_genes_seurat_v3(. 420 adata,. 421 layer=layer,. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in _highly_variable_genes_seurat_v3(adata, layer, n_top_genes, batch_key, check_values, span, subset, inplace). 83 x = np.log10(mean[not_const]). 84 model = loess(x, y, span=span, degree=2). ---> 85 model.fit(). 86 estimat_var[not_const] = model.outputs.fitted_values. 87 reg_std = np.sqrt(10 ** estimat_var). _loess.pyx in _loess.loess.fit(). ValueError: b'svddc failed in l2fit.'. ```. #### Versions. 0.10.00.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2034
https://github.com/scverse/scanpy/issues/2034:1735,security,model,model,1735,"ValueError: b'svddc failed in l2fit when using flavor = 'seurat_v3'; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Selection of highly variable genes works fine in default settings, but I get an error when I try to use seurat_v3 flavor. ```python. adata2.layers[""counts""] = adata2.X.copy(). adata2.raw = adata2 # keep full dimension safe. sc.pp.normalize_total(adata2, target_sum=1e4). sc.pp.log1p(adata2). sc.pp.highly_variable_genes(. adata2,. flavor=""seurat_v3"",. n_top_genes=3000,. layer=""counts"",. batch_key=""Sample"",. subset=True. ). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-18-64d280f5029c> in <module>. 3 sc.pp.normalize_total(adata2, target_sum=1e4). 4 sc.pp.log1p(adata2). ----> 5 sc.pp.highly_variable_genes(. 6 adata2,. 7 flavor=""seurat_v3"",. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in highly_variable_genes(adata, layer, n_top_genes, min_disp, max_disp, min_mean, max_mean, span, n_bins, flavor, subset, inplace, batch_key, check_values). 417 . 418 if flavor == 'seurat_v3':. --> 419 return _highly_variable_genes_seurat_v3(. 420 adata,. 421 layer=layer,. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in _highly_variable_genes_seurat_v3(adata, layer, n_top_genes, batch_key, check_values, span, subset, inplace). 83 x = np.log10(mean[not_const]). 84 model = loess(x, y, span=span, degree=2). ---> 85 model.fit(). 86 estimat_var[not_const] = model.outputs.fitted_values. 87 reg_std = np.sqrt(10 ** estimat_var). _loess.pyx in _loess.loess.fit(). ValueError: b'svddc failed in l2fit.'. ```. #### Versions. 0.10.00.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2034
https://github.com/scverse/scanpy/issues/2034:1776,security,model,model,1776,"ValueError: b'svddc failed in l2fit when using flavor = 'seurat_v3'; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Selection of highly variable genes works fine in default settings, but I get an error when I try to use seurat_v3 flavor. ```python. adata2.layers[""counts""] = adata2.X.copy(). adata2.raw = adata2 # keep full dimension safe. sc.pp.normalize_total(adata2, target_sum=1e4). sc.pp.log1p(adata2). sc.pp.highly_variable_genes(. adata2,. flavor=""seurat_v3"",. n_top_genes=3000,. layer=""counts"",. batch_key=""Sample"",. subset=True. ). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-18-64d280f5029c> in <module>. 3 sc.pp.normalize_total(adata2, target_sum=1e4). 4 sc.pp.log1p(adata2). ----> 5 sc.pp.highly_variable_genes(. 6 adata2,. 7 flavor=""seurat_v3"",. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in highly_variable_genes(adata, layer, n_top_genes, min_disp, max_disp, min_mean, max_mean, span, n_bins, flavor, subset, inplace, batch_key, check_values). 417 . 418 if flavor == 'seurat_v3':. --> 419 return _highly_variable_genes_seurat_v3(. 420 adata,. 421 layer=layer,. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in _highly_variable_genes_seurat_v3(adata, layer, n_top_genes, batch_key, check_values, span, subset, inplace). 83 x = np.log10(mean[not_const]). 84 model = loess(x, y, span=span, degree=2). ---> 85 model.fit(). 86 estimat_var[not_const] = model.outputs.fitted_values. 87 reg_std = np.sqrt(10 ** estimat_var). _loess.pyx in _loess.loess.fit(). ValueError: b'svddc failed in l2fit.'. ```. #### Versions. 0.10.00.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2034
https://github.com/scverse/scanpy/issues/2034:748,testability,Trace,Traceback,748,"ValueError: b'svddc failed in l2fit when using flavor = 'seurat_v3'; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Selection of highly variable genes works fine in default settings, but I get an error when I try to use seurat_v3 flavor. ```python. adata2.layers[""counts""] = adata2.X.copy(). adata2.raw = adata2 # keep full dimension safe. sc.pp.normalize_total(adata2, target_sum=1e4). sc.pp.log1p(adata2). sc.pp.highly_variable_genes(. adata2,. flavor=""seurat_v3"",. n_top_genes=3000,. layer=""counts"",. batch_key=""Sample"",. subset=True. ). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-18-64d280f5029c> in <module>. 3 sc.pp.normalize_total(adata2, target_sum=1e4). 4 sc.pp.log1p(adata2). ----> 5 sc.pp.highly_variable_genes(. 6 adata2,. 7 flavor=""seurat_v3"",. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in highly_variable_genes(adata, layer, n_top_genes, min_disp, max_disp, min_mean, max_mean, span, n_bins, flavor, subset, inplace, batch_key, check_values). 417 . 418 if flavor == 'seurat_v3':. --> 419 return _highly_variable_genes_seurat_v3(. 420 adata,. 421 layer=layer,. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in _highly_variable_genes_seurat_v3(adata, layer, n_top_genes, batch_key, check_values, span, subset, inplace). 83 x = np.log10(mean[not_const]). 84 model = loess(x, y, span=span, degree=2). ---> 85 model.fit(). 86 estimat_var[not_const] = model.outputs.fitted_values. 87 reg_std = np.sqrt(10 ** estimat_var). _loess.pyx in _loess.loess.fit(). ValueError: b'svddc failed in l2fit.'. ```. #### Versions. 0.10.00.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2034
https://github.com/scverse/scanpy/issues/2034:152,usability,confirm,confirmed,152,"ValueError: b'svddc failed in l2fit when using flavor = 'seurat_v3'; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Selection of highly variable genes works fine in default settings, but I get an error when I try to use seurat_v3 flavor. ```python. adata2.layers[""counts""] = adata2.X.copy(). adata2.raw = adata2 # keep full dimension safe. sc.pp.normalize_total(adata2, target_sum=1e4). sc.pp.log1p(adata2). sc.pp.highly_variable_genes(. adata2,. flavor=""seurat_v3"",. n_top_genes=3000,. layer=""counts"",. batch_key=""Sample"",. subset=True. ). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-18-64d280f5029c> in <module>. 3 sc.pp.normalize_total(adata2, target_sum=1e4). 4 sc.pp.log1p(adata2). ----> 5 sc.pp.highly_variable_genes(. 6 adata2,. 7 flavor=""seurat_v3"",. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in highly_variable_genes(adata, layer, n_top_genes, min_disp, max_disp, min_mean, max_mean, span, n_bins, flavor, subset, inplace, batch_key, check_values). 417 . 418 if flavor == 'seurat_v3':. --> 419 return _highly_variable_genes_seurat_v3(. 420 adata,. 421 layer=layer,. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in _highly_variable_genes_seurat_v3(adata, layer, n_top_genes, batch_key, check_values, span, subset, inplace). 83 x = np.log10(mean[not_const]). 84 model = loess(x, y, span=span, degree=2). ---> 85 model.fit(). 86 estimat_var[not_const] = model.outputs.fitted_values. 87 reg_std = np.sqrt(10 ** estimat_var). _loess.pyx in _loess.loess.fit(). ValueError: b'svddc failed in l2fit.'. ```. #### Versions. 0.10.00.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2034
https://github.com/scverse/scanpy/issues/2034:235,usability,confirm,confirmed,235,"ValueError: b'svddc failed in l2fit when using flavor = 'seurat_v3'; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Selection of highly variable genes works fine in default settings, but I get an error when I try to use seurat_v3 flavor. ```python. adata2.layers[""counts""] = adata2.X.copy(). adata2.raw = adata2 # keep full dimension safe. sc.pp.normalize_total(adata2, target_sum=1e4). sc.pp.log1p(adata2). sc.pp.highly_variable_genes(. adata2,. flavor=""seurat_v3"",. n_top_genes=3000,. layer=""counts"",. batch_key=""Sample"",. subset=True. ). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-18-64d280f5029c> in <module>. 3 sc.pp.normalize_total(adata2, target_sum=1e4). 4 sc.pp.log1p(adata2). ----> 5 sc.pp.highly_variable_genes(. 6 adata2,. 7 flavor=""seurat_v3"",. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in highly_variable_genes(adata, layer, n_top_genes, min_disp, max_disp, min_mean, max_mean, span, n_bins, flavor, subset, inplace, batch_key, check_values). 417 . 418 if flavor == 'seurat_v3':. --> 419 return _highly_variable_genes_seurat_v3(. 420 adata,. 421 layer=layer,. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in _highly_variable_genes_seurat_v3(adata, layer, n_top_genes, batch_key, check_values, span, subset, inplace). 83 x = np.log10(mean[not_const]). 84 model = loess(x, y, span=span, degree=2). ---> 85 model.fit(). 86 estimat_var[not_const] = model.outputs.fitted_values. 87 reg_std = np.sqrt(10 ** estimat_var). _loess.pyx in _loess.loess.fit(). ValueError: b'svddc failed in l2fit.'. ```. #### Versions. 0.10.00.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2034
https://github.com/scverse/scanpy/issues/2034:378,usability,error,error,378,"ValueError: b'svddc failed in l2fit when using flavor = 'seurat_v3'; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Selection of highly variable genes works fine in default settings, but I get an error when I try to use seurat_v3 flavor. ```python. adata2.layers[""counts""] = adata2.X.copy(). adata2.raw = adata2 # keep full dimension safe. sc.pp.normalize_total(adata2, target_sum=1e4). sc.pp.log1p(adata2). sc.pp.highly_variable_genes(. adata2,. flavor=""seurat_v3"",. n_top_genes=3000,. layer=""counts"",. batch_key=""Sample"",. subset=True. ). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-18-64d280f5029c> in <module>. 3 sc.pp.normalize_total(adata2, target_sum=1e4). 4 sc.pp.log1p(adata2). ----> 5 sc.pp.highly_variable_genes(. 6 adata2,. 7 flavor=""seurat_v3"",. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in highly_variable_genes(adata, layer, n_top_genes, min_disp, max_disp, min_mean, max_mean, span, n_bins, flavor, subset, inplace, batch_key, check_values). 417 . 418 if flavor == 'seurat_v3':. --> 419 return _highly_variable_genes_seurat_v3(. 420 adata,. 421 layer=layer,. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in _highly_variable_genes_seurat_v3(adata, layer, n_top_genes, batch_key, check_values, span, subset, inplace). 83 x = np.log10(mean[not_const]). 84 model = loess(x, y, span=span, degree=2). ---> 85 model.fit(). 86 estimat_var[not_const] = model.outputs.fitted_values. 87 reg_std = np.sqrt(10 ** estimat_var). _loess.pyx in _loess.loess.fit(). ValueError: b'svddc failed in l2fit.'. ```. #### Versions. 0.10.00.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2034
https://github.com/scverse/scanpy/issues/2034:792,usability,input,input-,792,"ValueError: b'svddc failed in l2fit when using flavor = 'seurat_v3'; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. Selection of highly variable genes works fine in default settings, but I get an error when I try to use seurat_v3 flavor. ```python. adata2.layers[""counts""] = adata2.X.copy(). adata2.raw = adata2 # keep full dimension safe. sc.pp.normalize_total(adata2, target_sum=1e4). sc.pp.log1p(adata2). sc.pp.highly_variable_genes(. adata2,. flavor=""seurat_v3"",. n_top_genes=3000,. layer=""counts"",. batch_key=""Sample"",. subset=True. ). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-18-64d280f5029c> in <module>. 3 sc.pp.normalize_total(adata2, target_sum=1e4). 4 sc.pp.log1p(adata2). ----> 5 sc.pp.highly_variable_genes(. 6 adata2,. 7 flavor=""seurat_v3"",. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in highly_variable_genes(adata, layer, n_top_genes, min_disp, max_disp, min_mean, max_mean, span, n_bins, flavor, subset, inplace, batch_key, check_values). 417 . 418 if flavor == 'seurat_v3':. --> 419 return _highly_variable_genes_seurat_v3(. 420 adata,. 421 layer=layer,. /data04/projects04/MarianaBoroni/lbbc_members/lib/conda_envs/diogoamb/lib/python3.9/site-packages/scanpy/preprocessing/_highly_variable_genes.py in _highly_variable_genes_seurat_v3(adata, layer, n_top_genes, batch_key, check_values, span, subset, inplace). 83 x = np.log10(mean[not_const]). 84 model = loess(x, y, span=span, degree=2). ---> 85 model.fit(). 86 estimat_var[not_const] = model.outputs.fitted_values. 87 reg_std = np.sqrt(10 ** estimat_var). _loess.pyx in _loess.loess.fit(). ValueError: b'svddc failed in l2fit.'. ```. #### Versions. 0.10.00.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2034
https://github.com/scverse/scanpy/pull/2037:11,deployability,releas,release,11,Prep 1.8.2 release; Prepping the 1.8.2 release,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2037
https://github.com/scverse/scanpy/pull/2037:39,deployability,releas,release,39,Prep 1.8.2 release; Prepping the 1.8.2 release,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2037
https://github.com/scverse/scanpy/pull/2038:46,deployability,releas,release,46,Backport PR #2037 on branch 1.8.x (Prep 1.8.2 release); Backport PR #2037: Prep 1.8.2 release,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2038
https://github.com/scverse/scanpy/pull/2038:86,deployability,releas,release,86,Backport PR #2037 on branch 1.8.x (Prep 1.8.2 release); Backport PR #2037: Prep 1.8.2 release,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2038
https://github.com/scverse/scanpy/pull/2039:17,deployability,releas,release,17,Start 1.8.3; Add release notes template for 1.8.3,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2039
https://github.com/scverse/scanpy/issues/2040:36,availability,error,error,36,"read_loom on HCA loom files returns error; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). Download HCA loom dataset (tested with data from: https://data.humancellatlas.org/explore/projects/0c3b7785-f74d-4091-8616-a68757e4c2a8/m/project-matrices). ```python. import scanpy. loomdata = scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). #I also tried:. loomdata=scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom"", obs_names='CellID', var_names='ensembl_ids'. ```. ```pytb. scanpy.read_loom(""/Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/compat/__init__.py"", line 253, in inner_f. return f(*args, **kwargs). File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/_io/read.py"", line 261, in read_loom. with connect(filename, ""r"", **kwargs) as lc:. File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 1140, in connect. return LoomConnection(filename, mode, validate=validate, spec_version=spec_version). File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 84, in __init__. raise ValueError(""\n"".join(lv.errors) + f""\n{filename} does not appead to be a valid Loom file according to Loom spec version '{spec_version}'""). ValueError: Row attribute 'Gene' dtype object is not allowed. Row attribute 'ensembl_ids' dtype object is not allowed. Row attribute 'gene_names' dtype object is no",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2040
https://github.com/scverse/scanpy/issues/2040:529,availability,Down,Download,529,"read_loom on HCA loom files returns error; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). Download HCA loom dataset (tested with data from: https://data.humancellatlas.org/explore/projects/0c3b7785-f74d-4091-8616-a68757e4c2a8/m/project-matrices). ```python. import scanpy. loomdata = scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). #I also tried:. loomdata=scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom"", obs_names='CellID', var_names='ensembl_ids'. ```. ```pytb. scanpy.read_loom(""/Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/compat/__init__.py"", line 253, in inner_f. return f(*args, **kwargs). File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/_io/read.py"", line 261, in read_loom. with connect(filename, ""r"", **kwargs) as lc:. File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 1140, in connect. return LoomConnection(filename, mode, validate=validate, spec_version=spec_version). File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 84, in __init__. raise ValueError(""\n"".join(lv.errors) + f""\n{filename} does not appead to be a valid Loom file according to Loom spec version '{spec_version}'""). ValueError: Row attribute 'Gene' dtype object is not allowed. Row attribute 'ensembl_ids' dtype object is not allowed. Row attribute 'gene_names' dtype object is no",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2040
https://github.com/scverse/scanpy/issues/2040:995,availability,Down,Downloads,995,"read_loom on HCA loom files returns error; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). Download HCA loom dataset (tested with data from: https://data.humancellatlas.org/explore/projects/0c3b7785-f74d-4091-8616-a68757e4c2a8/m/project-matrices). ```python. import scanpy. loomdata = scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). #I also tried:. loomdata=scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom"", obs_names='CellID', var_names='ensembl_ids'. ```. ```pytb. scanpy.read_loom(""/Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/compat/__init__.py"", line 253, in inner_f. return f(*args, **kwargs). File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/_io/read.py"", line 261, in read_loom. with connect(filename, ""r"", **kwargs) as lc:. File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 1140, in connect. return LoomConnection(filename, mode, validate=validate, spec_version=spec_version). File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 84, in __init__. raise ValueError(""\n"".join(lv.errors) + f""\n{filename} does not appead to be a valid Loom file according to Loom spec version '{spec_version}'""). ValueError: Row attribute 'Gene' dtype object is not allowed. Row attribute 'ensembl_ids' dtype object is not allowed. Row attribute 'gene_names' dtype object is no",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2040
https://github.com/scverse/scanpy/issues/2040:1720,availability,error,errors,1720,"re/projects/0c3b7785-f74d-4091-8616-a68757e4c2a8/m/project-matrices). ```python. import scanpy. loomdata = scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). #I also tried:. loomdata=scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom"", obs_names='CellID', var_names='ensembl_ids'. ```. ```pytb. scanpy.read_loom(""/Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/compat/__init__.py"", line 253, in inner_f. return f(*args, **kwargs). File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/_io/read.py"", line 261, in read_loom. with connect(filename, ""r"", **kwargs) as lc:. File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 1140, in connect. return LoomConnection(filename, mode, validate=validate, spec_version=spec_version). File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 84, in __init__. raise ValueError(""\n"".join(lv.errors) + f""\n{filename} does not appead to be a valid Loom file according to Loom spec version '{spec_version}'""). ValueError: Row attribute 'Gene' dtype object is not allowed. Row attribute 'ensembl_ids' dtype object is not allowed. Row attribute 'gene_names' dtype object is not allowed. Column attribute 'CellID' dtype object is not allowed. Column attribute 'cell_names' dtype object is not allowed. Column attribute 'input_id' dtype object is not allowed. For help, see http://linnarssonlab.org/loompy/format/. /Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom does not appead to be a valid Loom file according to Loom spec version '2.0.1'. ```. #### Versions. <details>. scanpy==1.8.1 anndata==0.7.6.dev49+g19ba44d umap==0.5.1 numpy==1.19.2 scipy==1.7.1 pandas==1.2.4 scikit-learn==0.24.2 statsmodels==0.11.1 python-igraph==0.9.6 pynndescent==0.5.4. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2040
https://github.com/scverse/scanpy/issues/2040:2254,availability,Down,Downloads,2254,"re/projects/0c3b7785-f74d-4091-8616-a68757e4c2a8/m/project-matrices). ```python. import scanpy. loomdata = scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). #I also tried:. loomdata=scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom"", obs_names='CellID', var_names='ensembl_ids'. ```. ```pytb. scanpy.read_loom(""/Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/compat/__init__.py"", line 253, in inner_f. return f(*args, **kwargs). File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/_io/read.py"", line 261, in read_loom. with connect(filename, ""r"", **kwargs) as lc:. File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 1140, in connect. return LoomConnection(filename, mode, validate=validate, spec_version=spec_version). File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 84, in __init__. raise ValueError(""\n"".join(lv.errors) + f""\n{filename} does not appead to be a valid Loom file according to Loom spec version '{spec_version}'""). ValueError: Row attribute 'Gene' dtype object is not allowed. Row attribute 'ensembl_ids' dtype object is not allowed. Row attribute 'gene_names' dtype object is not allowed. Column attribute 'CellID' dtype object is not allowed. Column attribute 'cell_names' dtype object is not allowed. Column attribute 'input_id' dtype object is not allowed. For help, see http://linnarssonlab.org/loompy/format/. /Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom does not appead to be a valid Loom file according to Loom spec version '2.0.1'. ```. #### Versions. <details>. scanpy==1.8.1 anndata==0.7.6.dev49+g19ba44d umap==0.5.1 numpy==1.19.2 scipy==1.7.1 pandas==1.2.4 scikit-learn==0.24.2 statsmodels==0.11.1 python-igraph==0.9.6 pynndescent==0.5.4. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2040
https://github.com/scverse/scanpy/issues/2040:164,deployability,version,version,164,"read_loom on HCA loom files returns error; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). Download HCA loom dataset (tested with data from: https://data.humancellatlas.org/explore/projects/0c3b7785-f74d-4091-8616-a68757e4c2a8/m/project-matrices). ```python. import scanpy. loomdata = scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). #I also tried:. loomdata=scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom"", obs_names='CellID', var_names='ensembl_ids'. ```. ```pytb. scanpy.read_loom(""/Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/compat/__init__.py"", line 253, in inner_f. return f(*args, **kwargs). File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/_io/read.py"", line 261, in read_loom. with connect(filename, ""r"", **kwargs) as lc:. File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 1140, in connect. return LoomConnection(filename, mode, validate=validate, spec_version=spec_version). File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 84, in __init__. raise ValueError(""\n"".join(lv.errors) + f""\n{filename} does not appead to be a valid Loom file according to Loom spec version '{spec_version}'""). ValueError: Row attribute 'Gene' dtype object is not allowed. Row attribute 'ensembl_ids' dtype object is not allowed. Row attribute 'gene_names' dtype object is no",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2040
https://github.com/scverse/scanpy/issues/2040:1123,deployability,modul,module,1123,"nfirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). Download HCA loom dataset (tested with data from: https://data.humancellatlas.org/explore/projects/0c3b7785-f74d-4091-8616-a68757e4c2a8/m/project-matrices). ```python. import scanpy. loomdata = scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). #I also tried:. loomdata=scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom"", obs_names='CellID', var_names='ensembl_ids'. ```. ```pytb. scanpy.read_loom(""/Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/compat/__init__.py"", line 253, in inner_f. return f(*args, **kwargs). File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/_io/read.py"", line 261, in read_loom. with connect(filename, ""r"", **kwargs) as lc:. File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 1140, in connect. return LoomConnection(filename, mode, validate=validate, spec_version=spec_version). File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 84, in __init__. raise ValueError(""\n"".join(lv.errors) + f""\n{filename} does not appead to be a valid Loom file according to Loom spec version '{spec_version}'""). ValueError: Row attribute 'Gene' dtype object is not allowed. Row attribute 'ensembl_ids' dtype object is not allowed. Row attribute 'gene_names' dtype object is not allowed. Column attribute 'CellID' dtype object is not allowed. Column attribute 'cell_names' dtype object is not allowed. C",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2040
https://github.com/scverse/scanpy/issues/2040:1808,deployability,version,version,1808,"re/projects/0c3b7785-f74d-4091-8616-a68757e4c2a8/m/project-matrices). ```python. import scanpy. loomdata = scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). #I also tried:. loomdata=scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom"", obs_names='CellID', var_names='ensembl_ids'. ```. ```pytb. scanpy.read_loom(""/Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/compat/__init__.py"", line 253, in inner_f. return f(*args, **kwargs). File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/_io/read.py"", line 261, in read_loom. with connect(filename, ""r"", **kwargs) as lc:. File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 1140, in connect. return LoomConnection(filename, mode, validate=validate, spec_version=spec_version). File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 84, in __init__. raise ValueError(""\n"".join(lv.errors) + f""\n{filename} does not appead to be a valid Loom file according to Loom spec version '{spec_version}'""). ValueError: Row attribute 'Gene' dtype object is not allowed. Row attribute 'ensembl_ids' dtype object is not allowed. Row attribute 'gene_names' dtype object is not allowed. Column attribute 'CellID' dtype object is not allowed. Column attribute 'cell_names' dtype object is not allowed. Column attribute 'input_id' dtype object is not allowed. For help, see http://linnarssonlab.org/loompy/format/. /Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom does not appead to be a valid Loom file according to Loom spec version '2.0.1'. ```. #### Versions. <details>. scanpy==1.8.1 anndata==0.7.6.dev49+g19ba44d umap==0.5.1 numpy==1.19.2 scipy==1.7.1 pandas==1.2.4 scikit-learn==0.24.2 statsmodels==0.11.1 python-igraph==0.9.6 pynndescent==0.5.4. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2040
https://github.com/scverse/scanpy/issues/2040:2378,deployability,version,version,2378,"re/projects/0c3b7785-f74d-4091-8616-a68757e4c2a8/m/project-matrices). ```python. import scanpy. loomdata = scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). #I also tried:. loomdata=scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom"", obs_names='CellID', var_names='ensembl_ids'. ```. ```pytb. scanpy.read_loom(""/Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/compat/__init__.py"", line 253, in inner_f. return f(*args, **kwargs). File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/_io/read.py"", line 261, in read_loom. with connect(filename, ""r"", **kwargs) as lc:. File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 1140, in connect. return LoomConnection(filename, mode, validate=validate, spec_version=spec_version). File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 84, in __init__. raise ValueError(""\n"".join(lv.errors) + f""\n{filename} does not appead to be a valid Loom file according to Loom spec version '{spec_version}'""). ValueError: Row attribute 'Gene' dtype object is not allowed. Row attribute 'ensembl_ids' dtype object is not allowed. Row attribute 'gene_names' dtype object is not allowed. Column attribute 'CellID' dtype object is not allowed. Column attribute 'cell_names' dtype object is not allowed. Column attribute 'input_id' dtype object is not allowed. For help, see http://linnarssonlab.org/loompy/format/. /Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom does not appead to be a valid Loom file according to Loom spec version '2.0.1'. ```. #### Versions. <details>. scanpy==1.8.1 anndata==0.7.6.dev49+g19ba44d umap==0.5.1 numpy==1.19.2 scipy==1.7.1 pandas==1.2.4 scikit-learn==0.24.2 statsmodels==0.11.1 python-igraph==0.9.6 pynndescent==0.5.4. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2040
https://github.com/scverse/scanpy/issues/2040:2405,deployability,Version,Versions,2405,"re/projects/0c3b7785-f74d-4091-8616-a68757e4c2a8/m/project-matrices). ```python. import scanpy. loomdata = scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). #I also tried:. loomdata=scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom"", obs_names='CellID', var_names='ensembl_ids'. ```. ```pytb. scanpy.read_loom(""/Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/compat/__init__.py"", line 253, in inner_f. return f(*args, **kwargs). File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/_io/read.py"", line 261, in read_loom. with connect(filename, ""r"", **kwargs) as lc:. File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 1140, in connect. return LoomConnection(filename, mode, validate=validate, spec_version=spec_version). File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 84, in __init__. raise ValueError(""\n"".join(lv.errors) + f""\n{filename} does not appead to be a valid Loom file according to Loom spec version '{spec_version}'""). ValueError: Row attribute 'Gene' dtype object is not allowed. Row attribute 'ensembl_ids' dtype object is not allowed. Row attribute 'gene_names' dtype object is not allowed. Column attribute 'CellID' dtype object is not allowed. Column attribute 'cell_names' dtype object is not allowed. Column attribute 'input_id' dtype object is not allowed. For help, see http://linnarssonlab.org/loompy/format/. /Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom does not appead to be a valid Loom file according to Loom spec version '2.0.1'. ```. #### Versions. <details>. scanpy==1.8.1 anndata==0.7.6.dev49+g19ba44d umap==0.5.1 numpy==1.19.2 scipy==1.7.1 pandas==1.2.4 scikit-learn==0.24.2 statsmodels==0.11.1 python-igraph==0.9.6 pynndescent==0.5.4. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2040
https://github.com/scverse/scanpy/issues/2040:164,integrability,version,version,164,"read_loom on HCA loom files returns error; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). Download HCA loom dataset (tested with data from: https://data.humancellatlas.org/explore/projects/0c3b7785-f74d-4091-8616-a68757e4c2a8/m/project-matrices). ```python. import scanpy. loomdata = scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). #I also tried:. loomdata=scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom"", obs_names='CellID', var_names='ensembl_ids'. ```. ```pytb. scanpy.read_loom(""/Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/compat/__init__.py"", line 253, in inner_f. return f(*args, **kwargs). File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/_io/read.py"", line 261, in read_loom. with connect(filename, ""r"", **kwargs) as lc:. File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 1140, in connect. return LoomConnection(filename, mode, validate=validate, spec_version=spec_version). File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 84, in __init__. raise ValueError(""\n"".join(lv.errors) + f""\n{filename} does not appead to be a valid Loom file according to Loom spec version '{spec_version}'""). ValueError: Row attribute 'Gene' dtype object is not allowed. Row attribute 'ensembl_ids' dtype object is not allowed. Row attribute 'gene_names' dtype object is no",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2040
https://github.com/scverse/scanpy/issues/2040:1808,integrability,version,version,1808,"re/projects/0c3b7785-f74d-4091-8616-a68757e4c2a8/m/project-matrices). ```python. import scanpy. loomdata = scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). #I also tried:. loomdata=scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom"", obs_names='CellID', var_names='ensembl_ids'. ```. ```pytb. scanpy.read_loom(""/Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/compat/__init__.py"", line 253, in inner_f. return f(*args, **kwargs). File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/_io/read.py"", line 261, in read_loom. with connect(filename, ""r"", **kwargs) as lc:. File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 1140, in connect. return LoomConnection(filename, mode, validate=validate, spec_version=spec_version). File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 84, in __init__. raise ValueError(""\n"".join(lv.errors) + f""\n{filename} does not appead to be a valid Loom file according to Loom spec version '{spec_version}'""). ValueError: Row attribute 'Gene' dtype object is not allowed. Row attribute 'ensembl_ids' dtype object is not allowed. Row attribute 'gene_names' dtype object is not allowed. Column attribute 'CellID' dtype object is not allowed. Column attribute 'cell_names' dtype object is not allowed. Column attribute 'input_id' dtype object is not allowed. For help, see http://linnarssonlab.org/loompy/format/. /Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom does not appead to be a valid Loom file according to Loom spec version '2.0.1'. ```. #### Versions. <details>. scanpy==1.8.1 anndata==0.7.6.dev49+g19ba44d umap==0.5.1 numpy==1.19.2 scipy==1.7.1 pandas==1.2.4 scikit-learn==0.24.2 statsmodels==0.11.1 python-igraph==0.9.6 pynndescent==0.5.4. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2040
https://github.com/scverse/scanpy/issues/2040:2378,integrability,version,version,2378,"re/projects/0c3b7785-f74d-4091-8616-a68757e4c2a8/m/project-matrices). ```python. import scanpy. loomdata = scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). #I also tried:. loomdata=scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom"", obs_names='CellID', var_names='ensembl_ids'. ```. ```pytb. scanpy.read_loom(""/Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/compat/__init__.py"", line 253, in inner_f. return f(*args, **kwargs). File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/_io/read.py"", line 261, in read_loom. with connect(filename, ""r"", **kwargs) as lc:. File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 1140, in connect. return LoomConnection(filename, mode, validate=validate, spec_version=spec_version). File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 84, in __init__. raise ValueError(""\n"".join(lv.errors) + f""\n{filename} does not appead to be a valid Loom file according to Loom spec version '{spec_version}'""). ValueError: Row attribute 'Gene' dtype object is not allowed. Row attribute 'ensembl_ids' dtype object is not allowed. Row attribute 'gene_names' dtype object is not allowed. Column attribute 'CellID' dtype object is not allowed. Column attribute 'cell_names' dtype object is not allowed. Column attribute 'input_id' dtype object is not allowed. For help, see http://linnarssonlab.org/loompy/format/. /Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom does not appead to be a valid Loom file according to Loom spec version '2.0.1'. ```. #### Versions. <details>. scanpy==1.8.1 anndata==0.7.6.dev49+g19ba44d umap==0.5.1 numpy==1.19.2 scipy==1.7.1 pandas==1.2.4 scikit-learn==0.24.2 statsmodels==0.11.1 python-igraph==0.9.6 pynndescent==0.5.4. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2040
https://github.com/scverse/scanpy/issues/2040:2405,integrability,Version,Versions,2405,"re/projects/0c3b7785-f74d-4091-8616-a68757e4c2a8/m/project-matrices). ```python. import scanpy. loomdata = scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). #I also tried:. loomdata=scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom"", obs_names='CellID', var_names='ensembl_ids'. ```. ```pytb. scanpy.read_loom(""/Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/compat/__init__.py"", line 253, in inner_f. return f(*args, **kwargs). File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/_io/read.py"", line 261, in read_loom. with connect(filename, ""r"", **kwargs) as lc:. File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 1140, in connect. return LoomConnection(filename, mode, validate=validate, spec_version=spec_version). File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 84, in __init__. raise ValueError(""\n"".join(lv.errors) + f""\n{filename} does not appead to be a valid Loom file according to Loom spec version '{spec_version}'""). ValueError: Row attribute 'Gene' dtype object is not allowed. Row attribute 'ensembl_ids' dtype object is not allowed. Row attribute 'gene_names' dtype object is not allowed. Column attribute 'CellID' dtype object is not allowed. Column attribute 'cell_names' dtype object is not allowed. Column attribute 'input_id' dtype object is not allowed. For help, see http://linnarssonlab.org/loompy/format/. /Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom does not appead to be a valid Loom file according to Loom spec version '2.0.1'. ```. #### Versions. <details>. scanpy==1.8.1 anndata==0.7.6.dev49+g19ba44d umap==0.5.1 numpy==1.19.2 scipy==1.7.1 pandas==1.2.4 scikit-learn==0.24.2 statsmodels==0.11.1 python-igraph==0.9.6 pynndescent==0.5.4. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2040
https://github.com/scverse/scanpy/issues/2040:2228,interoperability,format,format,2228,"re/projects/0c3b7785-f74d-4091-8616-a68757e4c2a8/m/project-matrices). ```python. import scanpy. loomdata = scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). #I also tried:. loomdata=scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom"", obs_names='CellID', var_names='ensembl_ids'. ```. ```pytb. scanpy.read_loom(""/Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/compat/__init__.py"", line 253, in inner_f. return f(*args, **kwargs). File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/_io/read.py"", line 261, in read_loom. with connect(filename, ""r"", **kwargs) as lc:. File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 1140, in connect. return LoomConnection(filename, mode, validate=validate, spec_version=spec_version). File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 84, in __init__. raise ValueError(""\n"".join(lv.errors) + f""\n{filename} does not appead to be a valid Loom file according to Loom spec version '{spec_version}'""). ValueError: Row attribute 'Gene' dtype object is not allowed. Row attribute 'ensembl_ids' dtype object is not allowed. Row attribute 'gene_names' dtype object is not allowed. Column attribute 'CellID' dtype object is not allowed. Column attribute 'cell_names' dtype object is not allowed. Column attribute 'input_id' dtype object is not allowed. For help, see http://linnarssonlab.org/loompy/format/. /Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom does not appead to be a valid Loom file according to Loom spec version '2.0.1'. ```. #### Versions. <details>. scanpy==1.8.1 anndata==0.7.6.dev49+g19ba44d umap==0.5.1 numpy==1.19.2 scipy==1.7.1 pandas==1.2.4 scikit-learn==0.24.2 statsmodels==0.11.1 python-igraph==0.9.6 pynndescent==0.5.4. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2040
https://github.com/scverse/scanpy/issues/2040:164,modifiability,version,version,164,"read_loom on HCA loom files returns error; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). Download HCA loom dataset (tested with data from: https://data.humancellatlas.org/explore/projects/0c3b7785-f74d-4091-8616-a68757e4c2a8/m/project-matrices). ```python. import scanpy. loomdata = scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). #I also tried:. loomdata=scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom"", obs_names='CellID', var_names='ensembl_ids'. ```. ```pytb. scanpy.read_loom(""/Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/compat/__init__.py"", line 253, in inner_f. return f(*args, **kwargs). File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/_io/read.py"", line 261, in read_loom. with connect(filename, ""r"", **kwargs) as lc:. File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 1140, in connect. return LoomConnection(filename, mode, validate=validate, spec_version=spec_version). File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 84, in __init__. raise ValueError(""\n"".join(lv.errors) + f""\n{filename} does not appead to be a valid Loom file according to Loom spec version '{spec_version}'""). ValueError: Row attribute 'Gene' dtype object is not allowed. Row attribute 'ensembl_ids' dtype object is not allowed. Row attribute 'gene_names' dtype object is no",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2040
https://github.com/scverse/scanpy/issues/2040:1123,modifiability,modul,module,1123,"nfirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). Download HCA loom dataset (tested with data from: https://data.humancellatlas.org/explore/projects/0c3b7785-f74d-4091-8616-a68757e4c2a8/m/project-matrices). ```python. import scanpy. loomdata = scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). #I also tried:. loomdata=scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom"", obs_names='CellID', var_names='ensembl_ids'. ```. ```pytb. scanpy.read_loom(""/Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/compat/__init__.py"", line 253, in inner_f. return f(*args, **kwargs). File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/_io/read.py"", line 261, in read_loom. with connect(filename, ""r"", **kwargs) as lc:. File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 1140, in connect. return LoomConnection(filename, mode, validate=validate, spec_version=spec_version). File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 84, in __init__. raise ValueError(""\n"".join(lv.errors) + f""\n{filename} does not appead to be a valid Loom file according to Loom spec version '{spec_version}'""). ValueError: Row attribute 'Gene' dtype object is not allowed. Row attribute 'ensembl_ids' dtype object is not allowed. Row attribute 'gene_names' dtype object is not allowed. Column attribute 'CellID' dtype object is not allowed. Column attribute 'cell_names' dtype object is not allowed. C",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2040
https://github.com/scverse/scanpy/issues/2040:1178,modifiability,pac,packages,1178," - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). Download HCA loom dataset (tested with data from: https://data.humancellatlas.org/explore/projects/0c3b7785-f74d-4091-8616-a68757e4c2a8/m/project-matrices). ```python. import scanpy. loomdata = scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). #I also tried:. loomdata=scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom"", obs_names='CellID', var_names='ensembl_ids'. ```. ```pytb. scanpy.read_loom(""/Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/compat/__init__.py"", line 253, in inner_f. return f(*args, **kwargs). File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/_io/read.py"", line 261, in read_loom. with connect(filename, ""r"", **kwargs) as lc:. File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 1140, in connect. return LoomConnection(filename, mode, validate=validate, spec_version=spec_version). File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 84, in __init__. raise ValueError(""\n"".join(lv.errors) + f""\n{filename} does not appead to be a valid Loom file according to Loom spec version '{spec_version}'""). ValueError: Row attribute 'Gene' dtype object is not allowed. Row attribute 'ensembl_ids' dtype object is not allowed. Row attribute 'gene_names' dtype object is not allowed. Column attribute 'CellID' dtype object is not allowed. Column attribute 'cell_names' dtype object is not allowed. Column attribute 'input_id' dtype object is not allowed. ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2040
https://github.com/scverse/scanpy/issues/2040:1311,modifiability,pac,packages,1311,"tthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). Download HCA loom dataset (tested with data from: https://data.humancellatlas.org/explore/projects/0c3b7785-f74d-4091-8616-a68757e4c2a8/m/project-matrices). ```python. import scanpy. loomdata = scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). #I also tried:. loomdata=scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom"", obs_names='CellID', var_names='ensembl_ids'. ```. ```pytb. scanpy.read_loom(""/Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/compat/__init__.py"", line 253, in inner_f. return f(*args, **kwargs). File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/_io/read.py"", line 261, in read_loom. with connect(filename, ""r"", **kwargs) as lc:. File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 1140, in connect. return LoomConnection(filename, mode, validate=validate, spec_version=spec_version). File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 84, in __init__. raise ValueError(""\n"".join(lv.errors) + f""\n{filename} does not appead to be a valid Loom file according to Loom spec version '{spec_version}'""). ValueError: Row attribute 'Gene' dtype object is not allowed. Row attribute 'ensembl_ids' dtype object is not allowed. Row attribute 'gene_names' dtype object is not allowed. Column attribute 'CellID' dtype object is not allowed. Column attribute 'cell_names' dtype object is not allowed. Column attribute 'input_id' dtype object is not allowed. For help, see http://linnarssonlab.org/loompy/format/. /Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2040
https://github.com/scverse/scanpy/issues/2040:1458,modifiability,pac,packages,1458,"imal code sample (that we can copy&paste without having any data). Download HCA loom dataset (tested with data from: https://data.humancellatlas.org/explore/projects/0c3b7785-f74d-4091-8616-a68757e4c2a8/m/project-matrices). ```python. import scanpy. loomdata = scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). #I also tried:. loomdata=scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom"", obs_names='CellID', var_names='ensembl_ids'. ```. ```pytb. scanpy.read_loom(""/Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/compat/__init__.py"", line 253, in inner_f. return f(*args, **kwargs). File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/_io/read.py"", line 261, in read_loom. with connect(filename, ""r"", **kwargs) as lc:. File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 1140, in connect. return LoomConnection(filename, mode, validate=validate, spec_version=spec_version). File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 84, in __init__. raise ValueError(""\n"".join(lv.errors) + f""\n{filename} does not appead to be a valid Loom file according to Loom spec version '{spec_version}'""). ValueError: Row attribute 'Gene' dtype object is not allowed. Row attribute 'ensembl_ids' dtype object is not allowed. Row attribute 'gene_names' dtype object is not allowed. Column attribute 'CellID' dtype object is not allowed. Column attribute 'cell_names' dtype object is not allowed. Column attribute 'input_id' dtype object is not allowed. For help, see http://linnarssonlab.org/loompy/format/. /Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom does not appead to be a valid Loom file according to Loom spec version '2.0.1'. ```. #### Versions. <details>. scanpy==1.8.1 anndata==0.7.6.dev49+g",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2040
https://github.com/scverse/scanpy/issues/2040:1640,modifiability,pac,packages,1640,"re/projects/0c3b7785-f74d-4091-8616-a68757e4c2a8/m/project-matrices). ```python. import scanpy. loomdata = scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). #I also tried:. loomdata=scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom"", obs_names='CellID', var_names='ensembl_ids'. ```. ```pytb. scanpy.read_loom(""/Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/compat/__init__.py"", line 253, in inner_f. return f(*args, **kwargs). File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/_io/read.py"", line 261, in read_loom. with connect(filename, ""r"", **kwargs) as lc:. File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 1140, in connect. return LoomConnection(filename, mode, validate=validate, spec_version=spec_version). File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 84, in __init__. raise ValueError(""\n"".join(lv.errors) + f""\n{filename} does not appead to be a valid Loom file according to Loom spec version '{spec_version}'""). ValueError: Row attribute 'Gene' dtype object is not allowed. Row attribute 'ensembl_ids' dtype object is not allowed. Row attribute 'gene_names' dtype object is not allowed. Column attribute 'CellID' dtype object is not allowed. Column attribute 'cell_names' dtype object is not allowed. Column attribute 'input_id' dtype object is not allowed. For help, see http://linnarssonlab.org/loompy/format/. /Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom does not appead to be a valid Loom file according to Loom spec version '2.0.1'. ```. #### Versions. <details>. scanpy==1.8.1 anndata==0.7.6.dev49+g19ba44d umap==0.5.1 numpy==1.19.2 scipy==1.7.1 pandas==1.2.4 scikit-learn==0.24.2 statsmodels==0.11.1 python-igraph==0.9.6 pynndescent==0.5.4. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2040
https://github.com/scverse/scanpy/issues/2040:1808,modifiability,version,version,1808,"re/projects/0c3b7785-f74d-4091-8616-a68757e4c2a8/m/project-matrices). ```python. import scanpy. loomdata = scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). #I also tried:. loomdata=scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom"", obs_names='CellID', var_names='ensembl_ids'. ```. ```pytb. scanpy.read_loom(""/Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/compat/__init__.py"", line 253, in inner_f. return f(*args, **kwargs). File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/_io/read.py"", line 261, in read_loom. with connect(filename, ""r"", **kwargs) as lc:. File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 1140, in connect. return LoomConnection(filename, mode, validate=validate, spec_version=spec_version). File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 84, in __init__. raise ValueError(""\n"".join(lv.errors) + f""\n{filename} does not appead to be a valid Loom file according to Loom spec version '{spec_version}'""). ValueError: Row attribute 'Gene' dtype object is not allowed. Row attribute 'ensembl_ids' dtype object is not allowed. Row attribute 'gene_names' dtype object is not allowed. Column attribute 'CellID' dtype object is not allowed. Column attribute 'cell_names' dtype object is not allowed. Column attribute 'input_id' dtype object is not allowed. For help, see http://linnarssonlab.org/loompy/format/. /Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom does not appead to be a valid Loom file according to Loom spec version '2.0.1'. ```. #### Versions. <details>. scanpy==1.8.1 anndata==0.7.6.dev49+g19ba44d umap==0.5.1 numpy==1.19.2 scipy==1.7.1 pandas==1.2.4 scikit-learn==0.24.2 statsmodels==0.11.1 python-igraph==0.9.6 pynndescent==0.5.4. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2040
https://github.com/scverse/scanpy/issues/2040:2378,modifiability,version,version,2378,"re/projects/0c3b7785-f74d-4091-8616-a68757e4c2a8/m/project-matrices). ```python. import scanpy. loomdata = scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). #I also tried:. loomdata=scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom"", obs_names='CellID', var_names='ensembl_ids'. ```. ```pytb. scanpy.read_loom(""/Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/compat/__init__.py"", line 253, in inner_f. return f(*args, **kwargs). File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/_io/read.py"", line 261, in read_loom. with connect(filename, ""r"", **kwargs) as lc:. File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 1140, in connect. return LoomConnection(filename, mode, validate=validate, spec_version=spec_version). File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 84, in __init__. raise ValueError(""\n"".join(lv.errors) + f""\n{filename} does not appead to be a valid Loom file according to Loom spec version '{spec_version}'""). ValueError: Row attribute 'Gene' dtype object is not allowed. Row attribute 'ensembl_ids' dtype object is not allowed. Row attribute 'gene_names' dtype object is not allowed. Column attribute 'CellID' dtype object is not allowed. Column attribute 'cell_names' dtype object is not allowed. Column attribute 'input_id' dtype object is not allowed. For help, see http://linnarssonlab.org/loompy/format/. /Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom does not appead to be a valid Loom file according to Loom spec version '2.0.1'. ```. #### Versions. <details>. scanpy==1.8.1 anndata==0.7.6.dev49+g19ba44d umap==0.5.1 numpy==1.19.2 scipy==1.7.1 pandas==1.2.4 scikit-learn==0.24.2 statsmodels==0.11.1 python-igraph==0.9.6 pynndescent==0.5.4. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2040
https://github.com/scverse/scanpy/issues/2040:2405,modifiability,Version,Versions,2405,"re/projects/0c3b7785-f74d-4091-8616-a68757e4c2a8/m/project-matrices). ```python. import scanpy. loomdata = scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). #I also tried:. loomdata=scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom"", obs_names='CellID', var_names='ensembl_ids'. ```. ```pytb. scanpy.read_loom(""/Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/compat/__init__.py"", line 253, in inner_f. return f(*args, **kwargs). File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/_io/read.py"", line 261, in read_loom. with connect(filename, ""r"", **kwargs) as lc:. File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 1140, in connect. return LoomConnection(filename, mode, validate=validate, spec_version=spec_version). File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 84, in __init__. raise ValueError(""\n"".join(lv.errors) + f""\n{filename} does not appead to be a valid Loom file according to Loom spec version '{spec_version}'""). ValueError: Row attribute 'Gene' dtype object is not allowed. Row attribute 'ensembl_ids' dtype object is not allowed. Row attribute 'gene_names' dtype object is not allowed. Column attribute 'CellID' dtype object is not allowed. Column attribute 'cell_names' dtype object is not allowed. Column attribute 'input_id' dtype object is not allowed. For help, see http://linnarssonlab.org/loompy/format/. /Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom does not appead to be a valid Loom file according to Loom spec version '2.0.1'. ```. #### Versions. <details>. scanpy==1.8.1 anndata==0.7.6.dev49+g19ba44d umap==0.5.1 numpy==1.19.2 scipy==1.7.1 pandas==1.2.4 scikit-learn==0.24.2 statsmodels==0.11.1 python-igraph==0.9.6 pynndescent==0.5.4. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2040
https://github.com/scverse/scanpy/issues/2040:36,performance,error,error,36,"read_loom on HCA loom files returns error; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). Download HCA loom dataset (tested with data from: https://data.humancellatlas.org/explore/projects/0c3b7785-f74d-4091-8616-a68757e4c2a8/m/project-matrices). ```python. import scanpy. loomdata = scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). #I also tried:. loomdata=scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom"", obs_names='CellID', var_names='ensembl_ids'. ```. ```pytb. scanpy.read_loom(""/Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/compat/__init__.py"", line 253, in inner_f. return f(*args, **kwargs). File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/_io/read.py"", line 261, in read_loom. with connect(filename, ""r"", **kwargs) as lc:. File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 1140, in connect. return LoomConnection(filename, mode, validate=validate, spec_version=spec_version). File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 84, in __init__. raise ValueError(""\n"".join(lv.errors) + f""\n{filename} does not appead to be a valid Loom file according to Loom spec version '{spec_version}'""). ValueError: Row attribute 'Gene' dtype object is not allowed. Row attribute 'ensembl_ids' dtype object is not allowed. Row attribute 'gene_names' dtype object is no",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2040
https://github.com/scverse/scanpy/issues/2040:1720,performance,error,errors,1720,"re/projects/0c3b7785-f74d-4091-8616-a68757e4c2a8/m/project-matrices). ```python. import scanpy. loomdata = scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). #I also tried:. loomdata=scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom"", obs_names='CellID', var_names='ensembl_ids'. ```. ```pytb. scanpy.read_loom(""/Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/compat/__init__.py"", line 253, in inner_f. return f(*args, **kwargs). File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/_io/read.py"", line 261, in read_loom. with connect(filename, ""r"", **kwargs) as lc:. File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 1140, in connect. return LoomConnection(filename, mode, validate=validate, spec_version=spec_version). File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 84, in __init__. raise ValueError(""\n"".join(lv.errors) + f""\n{filename} does not appead to be a valid Loom file according to Loom spec version '{spec_version}'""). ValueError: Row attribute 'Gene' dtype object is not allowed. Row attribute 'ensembl_ids' dtype object is not allowed. Row attribute 'gene_names' dtype object is not allowed. Column attribute 'CellID' dtype object is not allowed. Column attribute 'cell_names' dtype object is not allowed. Column attribute 'input_id' dtype object is not allowed. For help, see http://linnarssonlab.org/loompy/format/. /Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom does not appead to be a valid Loom file according to Loom spec version '2.0.1'. ```. #### Versions. <details>. scanpy==1.8.1 anndata==0.7.6.dev49+g19ba44d umap==0.5.1 numpy==1.19.2 scipy==1.7.1 pandas==1.2.4 scikit-learn==0.24.2 statsmodels==0.11.1 python-igraph==0.9.6 pynndescent==0.5.4. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2040
https://github.com/scverse/scanpy/issues/2040:1745,reliability,doe,does,1745,"re/projects/0c3b7785-f74d-4091-8616-a68757e4c2a8/m/project-matrices). ```python. import scanpy. loomdata = scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). #I also tried:. loomdata=scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom"", obs_names='CellID', var_names='ensembl_ids'. ```. ```pytb. scanpy.read_loom(""/Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/compat/__init__.py"", line 253, in inner_f. return f(*args, **kwargs). File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/_io/read.py"", line 261, in read_loom. with connect(filename, ""r"", **kwargs) as lc:. File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 1140, in connect. return LoomConnection(filename, mode, validate=validate, spec_version=spec_version). File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 84, in __init__. raise ValueError(""\n"".join(lv.errors) + f""\n{filename} does not appead to be a valid Loom file according to Loom spec version '{spec_version}'""). ValueError: Row attribute 'Gene' dtype object is not allowed. Row attribute 'ensembl_ids' dtype object is not allowed. Row attribute 'gene_names' dtype object is not allowed. Column attribute 'CellID' dtype object is not allowed. Column attribute 'cell_names' dtype object is not allowed. Column attribute 'input_id' dtype object is not allowed. For help, see http://linnarssonlab.org/loompy/format/. /Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom does not appead to be a valid Loom file according to Loom spec version '2.0.1'. ```. #### Versions. <details>. scanpy==1.8.1 anndata==0.7.6.dev49+g19ba44d umap==0.5.1 numpy==1.19.2 scipy==1.7.1 pandas==1.2.4 scikit-learn==0.24.2 statsmodels==0.11.1 python-igraph==0.9.6 pynndescent==0.5.4. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2040
https://github.com/scverse/scanpy/issues/2040:2315,reliability,doe,does,2315,"re/projects/0c3b7785-f74d-4091-8616-a68757e4c2a8/m/project-matrices). ```python. import scanpy. loomdata = scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). #I also tried:. loomdata=scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom"", obs_names='CellID', var_names='ensembl_ids'. ```. ```pytb. scanpy.read_loom(""/Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/compat/__init__.py"", line 253, in inner_f. return f(*args, **kwargs). File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/_io/read.py"", line 261, in read_loom. with connect(filename, ""r"", **kwargs) as lc:. File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 1140, in connect. return LoomConnection(filename, mode, validate=validate, spec_version=spec_version). File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 84, in __init__. raise ValueError(""\n"".join(lv.errors) + f""\n{filename} does not appead to be a valid Loom file according to Loom spec version '{spec_version}'""). ValueError: Row attribute 'Gene' dtype object is not allowed. Row attribute 'ensembl_ids' dtype object is not allowed. Row attribute 'gene_names' dtype object is not allowed. Column attribute 'CellID' dtype object is not allowed. Column attribute 'cell_names' dtype object is not allowed. Column attribute 'input_id' dtype object is not allowed. For help, see http://linnarssonlab.org/loompy/format/. /Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom does not appead to be a valid Loom file according to Loom spec version '2.0.1'. ```. #### Versions. <details>. scanpy==1.8.1 anndata==0.7.6.dev49+g19ba44d umap==0.5.1 numpy==1.19.2 scipy==1.7.1 pandas==1.2.4 scikit-learn==0.24.2 statsmodels==0.11.1 python-igraph==0.9.6 pynndescent==0.5.4. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2040
https://github.com/scverse/scanpy/issues/2040:36,safety,error,error,36,"read_loom on HCA loom files returns error; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). Download HCA loom dataset (tested with data from: https://data.humancellatlas.org/explore/projects/0c3b7785-f74d-4091-8616-a68757e4c2a8/m/project-matrices). ```python. import scanpy. loomdata = scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). #I also tried:. loomdata=scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom"", obs_names='CellID', var_names='ensembl_ids'. ```. ```pytb. scanpy.read_loom(""/Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/compat/__init__.py"", line 253, in inner_f. return f(*args, **kwargs). File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/_io/read.py"", line 261, in read_loom. with connect(filename, ""r"", **kwargs) as lc:. File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 1140, in connect. return LoomConnection(filename, mode, validate=validate, spec_version=spec_version). File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 84, in __init__. raise ValueError(""\n"".join(lv.errors) + f""\n{filename} does not appead to be a valid Loom file according to Loom spec version '{spec_version}'""). ValueError: Row attribute 'Gene' dtype object is not allowed. Row attribute 'ensembl_ids' dtype object is not allowed. Row attribute 'gene_names' dtype object is no",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2040
https://github.com/scverse/scanpy/issues/2040:556,safety,test,tested,556,"read_loom on HCA loom files returns error; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). Download HCA loom dataset (tested with data from: https://data.humancellatlas.org/explore/projects/0c3b7785-f74d-4091-8616-a68757e4c2a8/m/project-matrices). ```python. import scanpy. loomdata = scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). #I also tried:. loomdata=scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom"", obs_names='CellID', var_names='ensembl_ids'. ```. ```pytb. scanpy.read_loom(""/Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/compat/__init__.py"", line 253, in inner_f. return f(*args, **kwargs). File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/_io/read.py"", line 261, in read_loom. with connect(filename, ""r"", **kwargs) as lc:. File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 1140, in connect. return LoomConnection(filename, mode, validate=validate, spec_version=spec_version). File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 84, in __init__. raise ValueError(""\n"".join(lv.errors) + f""\n{filename} does not appead to be a valid Loom file according to Loom spec version '{spec_version}'""). ValueError: Row attribute 'Gene' dtype object is not allowed. Row attribute 'ensembl_ids' dtype object is not allowed. Row attribute 'gene_names' dtype object is no",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2040
https://github.com/scverse/scanpy/issues/2040:1123,safety,modul,module,1123,"nfirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). Download HCA loom dataset (tested with data from: https://data.humancellatlas.org/explore/projects/0c3b7785-f74d-4091-8616-a68757e4c2a8/m/project-matrices). ```python. import scanpy. loomdata = scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). #I also tried:. loomdata=scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom"", obs_names='CellID', var_names='ensembl_ids'. ```. ```pytb. scanpy.read_loom(""/Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/compat/__init__.py"", line 253, in inner_f. return f(*args, **kwargs). File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/_io/read.py"", line 261, in read_loom. with connect(filename, ""r"", **kwargs) as lc:. File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 1140, in connect. return LoomConnection(filename, mode, validate=validate, spec_version=spec_version). File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 84, in __init__. raise ValueError(""\n"".join(lv.errors) + f""\n{filename} does not appead to be a valid Loom file according to Loom spec version '{spec_version}'""). ValueError: Row attribute 'Gene' dtype object is not allowed. Row attribute 'ensembl_ids' dtype object is not allowed. Row attribute 'gene_names' dtype object is not allowed. Column attribute 'CellID' dtype object is not allowed. Column attribute 'cell_names' dtype object is not allowed. C",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2040
https://github.com/scverse/scanpy/issues/2040:1547,safety,valid,validate,1547,"set (tested with data from: https://data.humancellatlas.org/explore/projects/0c3b7785-f74d-4091-8616-a68757e4c2a8/m/project-matrices). ```python. import scanpy. loomdata = scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). #I also tried:. loomdata=scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom"", obs_names='CellID', var_names='ensembl_ids'. ```. ```pytb. scanpy.read_loom(""/Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/compat/__init__.py"", line 253, in inner_f. return f(*args, **kwargs). File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/_io/read.py"", line 261, in read_loom. with connect(filename, ""r"", **kwargs) as lc:. File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 1140, in connect. return LoomConnection(filename, mode, validate=validate, spec_version=spec_version). File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 84, in __init__. raise ValueError(""\n"".join(lv.errors) + f""\n{filename} does not appead to be a valid Loom file according to Loom spec version '{spec_version}'""). ValueError: Row attribute 'Gene' dtype object is not allowed. Row attribute 'ensembl_ids' dtype object is not allowed. Row attribute 'gene_names' dtype object is not allowed. Column attribute 'CellID' dtype object is not allowed. Column attribute 'cell_names' dtype object is not allowed. Column attribute 'input_id' dtype object is not allowed. For help, see http://linnarssonlab.org/loompy/format/. /Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom does not appead to be a valid Loom file according to Loom spec version '2.0.1'. ```. #### Versions. <details>. scanpy==1.8.1 anndata==0.7.6.dev49+g19ba44d umap==0.5.1 numpy==1.19.2 scipy==1.7.1 pandas==1.2.4 scikit-learn==0.24.2 statsmo",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2040
https://github.com/scverse/scanpy/issues/2040:1556,safety,valid,validate,1556,"ed with data from: https://data.humancellatlas.org/explore/projects/0c3b7785-f74d-4091-8616-a68757e4c2a8/m/project-matrices). ```python. import scanpy. loomdata = scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). #I also tried:. loomdata=scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom"", obs_names='CellID', var_names='ensembl_ids'. ```. ```pytb. scanpy.read_loom(""/Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/compat/__init__.py"", line 253, in inner_f. return f(*args, **kwargs). File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/_io/read.py"", line 261, in read_loom. with connect(filename, ""r"", **kwargs) as lc:. File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 1140, in connect. return LoomConnection(filename, mode, validate=validate, spec_version=spec_version). File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 84, in __init__. raise ValueError(""\n"".join(lv.errors) + f""\n{filename} does not appead to be a valid Loom file according to Loom spec version '{spec_version}'""). ValueError: Row attribute 'Gene' dtype object is not allowed. Row attribute 'ensembl_ids' dtype object is not allowed. Row attribute 'gene_names' dtype object is not allowed. Column attribute 'CellID' dtype object is not allowed. Column attribute 'cell_names' dtype object is not allowed. Column attribute 'input_id' dtype object is not allowed. For help, see http://linnarssonlab.org/loompy/format/. /Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom does not appead to be a valid Loom file according to Loom spec version '2.0.1'. ```. #### Versions. <details>. scanpy==1.8.1 anndata==0.7.6.dev49+g19ba44d umap==0.5.1 numpy==1.19.2 scipy==1.7.1 pandas==1.2.4 scikit-learn==0.24.2 statsmodels==0.1",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2040
https://github.com/scverse/scanpy/issues/2040:1720,safety,error,errors,1720,"re/projects/0c3b7785-f74d-4091-8616-a68757e4c2a8/m/project-matrices). ```python. import scanpy. loomdata = scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). #I also tried:. loomdata=scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom"", obs_names='CellID', var_names='ensembl_ids'. ```. ```pytb. scanpy.read_loom(""/Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/compat/__init__.py"", line 253, in inner_f. return f(*args, **kwargs). File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/_io/read.py"", line 261, in read_loom. with connect(filename, ""r"", **kwargs) as lc:. File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 1140, in connect. return LoomConnection(filename, mode, validate=validate, spec_version=spec_version). File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 84, in __init__. raise ValueError(""\n"".join(lv.errors) + f""\n{filename} does not appead to be a valid Loom file according to Loom spec version '{spec_version}'""). ValueError: Row attribute 'Gene' dtype object is not allowed. Row attribute 'ensembl_ids' dtype object is not allowed. Row attribute 'gene_names' dtype object is not allowed. Column attribute 'CellID' dtype object is not allowed. Column attribute 'cell_names' dtype object is not allowed. Column attribute 'input_id' dtype object is not allowed. For help, see http://linnarssonlab.org/loompy/format/. /Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom does not appead to be a valid Loom file according to Loom spec version '2.0.1'. ```. #### Versions. <details>. scanpy==1.8.1 anndata==0.7.6.dev49+g19ba44d umap==0.5.1 numpy==1.19.2 scipy==1.7.1 pandas==1.2.4 scikit-learn==0.24.2 statsmodels==0.11.1 python-igraph==0.9.6 pynndescent==0.5.4. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2040
https://github.com/scverse/scanpy/issues/2040:1769,safety,valid,valid,1769,"re/projects/0c3b7785-f74d-4091-8616-a68757e4c2a8/m/project-matrices). ```python. import scanpy. loomdata = scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). #I also tried:. loomdata=scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom"", obs_names='CellID', var_names='ensembl_ids'. ```. ```pytb. scanpy.read_loom(""/Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/compat/__init__.py"", line 253, in inner_f. return f(*args, **kwargs). File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/_io/read.py"", line 261, in read_loom. with connect(filename, ""r"", **kwargs) as lc:. File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 1140, in connect. return LoomConnection(filename, mode, validate=validate, spec_version=spec_version). File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 84, in __init__. raise ValueError(""\n"".join(lv.errors) + f""\n{filename} does not appead to be a valid Loom file according to Loom spec version '{spec_version}'""). ValueError: Row attribute 'Gene' dtype object is not allowed. Row attribute 'ensembl_ids' dtype object is not allowed. Row attribute 'gene_names' dtype object is not allowed. Column attribute 'CellID' dtype object is not allowed. Column attribute 'cell_names' dtype object is not allowed. Column attribute 'input_id' dtype object is not allowed. For help, see http://linnarssonlab.org/loompy/format/. /Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom does not appead to be a valid Loom file according to Loom spec version '2.0.1'. ```. #### Versions. <details>. scanpy==1.8.1 anndata==0.7.6.dev49+g19ba44d umap==0.5.1 numpy==1.19.2 scipy==1.7.1 pandas==1.2.4 scikit-learn==0.24.2 statsmodels==0.11.1 python-igraph==0.9.6 pynndescent==0.5.4. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2040
https://github.com/scverse/scanpy/issues/2040:2339,safety,valid,valid,2339,"re/projects/0c3b7785-f74d-4091-8616-a68757e4c2a8/m/project-matrices). ```python. import scanpy. loomdata = scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). #I also tried:. loomdata=scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom"", obs_names='CellID', var_names='ensembl_ids'. ```. ```pytb. scanpy.read_loom(""/Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/compat/__init__.py"", line 253, in inner_f. return f(*args, **kwargs). File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/_io/read.py"", line 261, in read_loom. with connect(filename, ""r"", **kwargs) as lc:. File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 1140, in connect. return LoomConnection(filename, mode, validate=validate, spec_version=spec_version). File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 84, in __init__. raise ValueError(""\n"".join(lv.errors) + f""\n{filename} does not appead to be a valid Loom file according to Loom spec version '{spec_version}'""). ValueError: Row attribute 'Gene' dtype object is not allowed. Row attribute 'ensembl_ids' dtype object is not allowed. Row attribute 'gene_names' dtype object is not allowed. Column attribute 'CellID' dtype object is not allowed. Column attribute 'cell_names' dtype object is not allowed. Column attribute 'input_id' dtype object is not allowed. For help, see http://linnarssonlab.org/loompy/format/. /Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom does not appead to be a valid Loom file according to Loom spec version '2.0.1'. ```. #### Versions. <details>. scanpy==1.8.1 anndata==0.7.6.dev49+g19ba44d umap==0.5.1 numpy==1.19.2 scipy==1.7.1 pandas==1.2.4 scikit-learn==0.24.2 statsmodels==0.11.1 python-igraph==0.9.6 pynndescent==0.5.4. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2040
https://github.com/scverse/scanpy/issues/2040:1547,security,validat,validate,1547,"set (tested with data from: https://data.humancellatlas.org/explore/projects/0c3b7785-f74d-4091-8616-a68757e4c2a8/m/project-matrices). ```python. import scanpy. loomdata = scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). #I also tried:. loomdata=scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom"", obs_names='CellID', var_names='ensembl_ids'. ```. ```pytb. scanpy.read_loom(""/Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/compat/__init__.py"", line 253, in inner_f. return f(*args, **kwargs). File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/_io/read.py"", line 261, in read_loom. with connect(filename, ""r"", **kwargs) as lc:. File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 1140, in connect. return LoomConnection(filename, mode, validate=validate, spec_version=spec_version). File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 84, in __init__. raise ValueError(""\n"".join(lv.errors) + f""\n{filename} does not appead to be a valid Loom file according to Loom spec version '{spec_version}'""). ValueError: Row attribute 'Gene' dtype object is not allowed. Row attribute 'ensembl_ids' dtype object is not allowed. Row attribute 'gene_names' dtype object is not allowed. Column attribute 'CellID' dtype object is not allowed. Column attribute 'cell_names' dtype object is not allowed. Column attribute 'input_id' dtype object is not allowed. For help, see http://linnarssonlab.org/loompy/format/. /Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom does not appead to be a valid Loom file according to Loom spec version '2.0.1'. ```. #### Versions. <details>. scanpy==1.8.1 anndata==0.7.6.dev49+g19ba44d umap==0.5.1 numpy==1.19.2 scipy==1.7.1 pandas==1.2.4 scikit-learn==0.24.2 statsmo",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2040
https://github.com/scverse/scanpy/issues/2040:1556,security,validat,validate,1556,"ed with data from: https://data.humancellatlas.org/explore/projects/0c3b7785-f74d-4091-8616-a68757e4c2a8/m/project-matrices). ```python. import scanpy. loomdata = scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). #I also tried:. loomdata=scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom"", obs_names='CellID', var_names='ensembl_ids'. ```. ```pytb. scanpy.read_loom(""/Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/compat/__init__.py"", line 253, in inner_f. return f(*args, **kwargs). File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/_io/read.py"", line 261, in read_loom. with connect(filename, ""r"", **kwargs) as lc:. File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 1140, in connect. return LoomConnection(filename, mode, validate=validate, spec_version=spec_version). File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 84, in __init__. raise ValueError(""\n"".join(lv.errors) + f""\n{filename} does not appead to be a valid Loom file according to Loom spec version '{spec_version}'""). ValueError: Row attribute 'Gene' dtype object is not allowed. Row attribute 'ensembl_ids' dtype object is not allowed. Row attribute 'gene_names' dtype object is not allowed. Column attribute 'CellID' dtype object is not allowed. Column attribute 'cell_names' dtype object is not allowed. Column attribute 'input_id' dtype object is not allowed. For help, see http://linnarssonlab.org/loompy/format/. /Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom does not appead to be a valid Loom file according to Loom spec version '2.0.1'. ```. #### Versions. <details>. scanpy==1.8.1 anndata==0.7.6.dev49+g19ba44d umap==0.5.1 numpy==1.19.2 scipy==1.7.1 pandas==1.2.4 scikit-learn==0.24.2 statsmodels==0.1",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2040
https://github.com/scverse/scanpy/issues/2040:556,testability,test,tested,556,"read_loom on HCA loom files returns error; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). Download HCA loom dataset (tested with data from: https://data.humancellatlas.org/explore/projects/0c3b7785-f74d-4091-8616-a68757e4c2a8/m/project-matrices). ```python. import scanpy. loomdata = scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). #I also tried:. loomdata=scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom"", obs_names='CellID', var_names='ensembl_ids'. ```. ```pytb. scanpy.read_loom(""/Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/compat/__init__.py"", line 253, in inner_f. return f(*args, **kwargs). File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/_io/read.py"", line 261, in read_loom. with connect(filename, ""r"", **kwargs) as lc:. File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 1140, in connect. return LoomConnection(filename, mode, validate=validate, spec_version=spec_version). File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 84, in __init__. raise ValueError(""\n"".join(lv.errors) + f""\n{filename} does not appead to be a valid Loom file according to Loom spec version '{spec_version}'""). ValueError: Row attribute 'Gene' dtype object is not allowed. Row attribute 'ensembl_ids' dtype object is not allowed. Row attribute 'gene_names' dtype object is no",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2040
https://github.com/scverse/scanpy/issues/2040:1059,testability,Trace,Traceback,1059,"that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). Download HCA loom dataset (tested with data from: https://data.humancellatlas.org/explore/projects/0c3b7785-f74d-4091-8616-a68757e4c2a8/m/project-matrices). ```python. import scanpy. loomdata = scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). #I also tried:. loomdata=scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom"", obs_names='CellID', var_names='ensembl_ids'. ```. ```pytb. scanpy.read_loom(""/Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/compat/__init__.py"", line 253, in inner_f. return f(*args, **kwargs). File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/_io/read.py"", line 261, in read_loom. with connect(filename, ""r"", **kwargs) as lc:. File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 1140, in connect. return LoomConnection(filename, mode, validate=validate, spec_version=spec_version). File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 84, in __init__. raise ValueError(""\n"".join(lv.errors) + f""\n{filename} does not appead to be a valid Loom file according to Loom spec version '{spec_version}'""). ValueError: Row attribute 'Gene' dtype object is not allowed. Row attribute 'ensembl_ids' dtype object is not allowed. Row attribute 'gene_names' dtype object is not allowed. Column attribute 'CellID' dtype object is not allowed",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2040
https://github.com/scverse/scanpy/issues/2040:36,usability,error,error,36,"read_loom on HCA loom files returns error; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). Download HCA loom dataset (tested with data from: https://data.humancellatlas.org/explore/projects/0c3b7785-f74d-4091-8616-a68757e4c2a8/m/project-matrices). ```python. import scanpy. loomdata = scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). #I also tried:. loomdata=scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom"", obs_names='CellID', var_names='ensembl_ids'. ```. ```pytb. scanpy.read_loom(""/Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/compat/__init__.py"", line 253, in inner_f. return f(*args, **kwargs). File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/_io/read.py"", line 261, in read_loom. with connect(filename, ""r"", **kwargs) as lc:. File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 1140, in connect. return LoomConnection(filename, mode, validate=validate, spec_version=spec_version). File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 84, in __init__. raise ValueError(""\n"".join(lv.errors) + f""\n{filename} does not appead to be a valid Loom file according to Loom spec version '{spec_version}'""). ValueError: Row attribute 'Gene' dtype object is not allowed. Row attribute 'ensembl_ids' dtype object is not allowed. Row attribute 'gene_names' dtype object is no",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2040
https://github.com/scverse/scanpy/issues/2040:124,usability,confirm,confirmed,124,"read_loom on HCA loom files returns error; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). Download HCA loom dataset (tested with data from: https://data.humancellatlas.org/explore/projects/0c3b7785-f74d-4091-8616-a68757e4c2a8/m/project-matrices). ```python. import scanpy. loomdata = scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). #I also tried:. loomdata=scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom"", obs_names='CellID', var_names='ensembl_ids'. ```. ```pytb. scanpy.read_loom(""/Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/compat/__init__.py"", line 253, in inner_f. return f(*args, **kwargs). File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/_io/read.py"", line 261, in read_loom. with connect(filename, ""r"", **kwargs) as lc:. File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 1140, in connect. return LoomConnection(filename, mode, validate=validate, spec_version=spec_version). File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 84, in __init__. raise ValueError(""\n"".join(lv.errors) + f""\n{filename} does not appead to be a valid Loom file according to Loom spec version '{spec_version}'""). ValueError: Row attribute 'Gene' dtype object is not allowed. Row attribute 'ensembl_ids' dtype object is not allowed. Row attribute 'gene_names' dtype object is no",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2040
https://github.com/scverse/scanpy/issues/2040:207,usability,confirm,confirmed,207,"read_loom on HCA loom files returns error; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). Download HCA loom dataset (tested with data from: https://data.humancellatlas.org/explore/projects/0c3b7785-f74d-4091-8616-a68757e4c2a8/m/project-matrices). ```python. import scanpy. loomdata = scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). #I also tried:. loomdata=scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom"", obs_names='CellID', var_names='ensembl_ids'. ```. ```pytb. scanpy.read_loom(""/Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/compat/__init__.py"", line 253, in inner_f. return f(*args, **kwargs). File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/_io/read.py"", line 261, in read_loom. with connect(filename, ""r"", **kwargs) as lc:. File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 1140, in connect. return LoomConnection(filename, mode, validate=validate, spec_version=spec_version). File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 84, in __init__. raise ValueError(""\n"".join(lv.errors) + f""\n{filename} does not appead to be a valid Loom file according to Loom spec version '{spec_version}'""). ValueError: Row attribute 'Gene' dtype object is not allowed. Row attribute 'ensembl_ids' dtype object is not allowed. Row attribute 'gene_names' dtype object is no",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2040
https://github.com/scverse/scanpy/issues/2040:298,usability,guid,guide,298,"read_loom on HCA loom files returns error; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). Download HCA loom dataset (tested with data from: https://data.humancellatlas.org/explore/projects/0c3b7785-f74d-4091-8616-a68757e4c2a8/m/project-matrices). ```python. import scanpy. loomdata = scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). #I also tried:. loomdata=scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom"", obs_names='CellID', var_names='ensembl_ids'. ```. ```pytb. scanpy.read_loom(""/Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/compat/__init__.py"", line 253, in inner_f. return f(*args, **kwargs). File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/_io/read.py"", line 261, in read_loom. with connect(filename, ""r"", **kwargs) as lc:. File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 1140, in connect. return LoomConnection(filename, mode, validate=validate, spec_version=spec_version). File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 84, in __init__. raise ValueError(""\n"".join(lv.errors) + f""\n{filename} does not appead to be a valid Loom file according to Loom spec version '{spec_version}'""). ValueError: Row attribute 'Gene' dtype object is not allowed. Row attribute 'ensembl_ids' dtype object is not allowed. Row attribute 'gene_names' dtype object is no",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2040
https://github.com/scverse/scanpy/issues/2040:353,usability,minim,minimal-bug-reports,353,"read_loom on HCA loom files returns error; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). Download HCA loom dataset (tested with data from: https://data.humancellatlas.org/explore/projects/0c3b7785-f74d-4091-8616-a68757e4c2a8/m/project-matrices). ```python. import scanpy. loomdata = scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). #I also tried:. loomdata=scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom"", obs_names='CellID', var_names='ensembl_ids'. ```. ```pytb. scanpy.read_loom(""/Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/compat/__init__.py"", line 253, in inner_f. return f(*args, **kwargs). File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/_io/read.py"", line 261, in read_loom. with connect(filename, ""r"", **kwargs) as lc:. File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 1140, in connect. return LoomConnection(filename, mode, validate=validate, spec_version=spec_version). File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 84, in __init__. raise ValueError(""\n"".join(lv.errors) + f""\n{filename} does not appead to be a valid Loom file according to Loom spec version '{spec_version}'""). ValueError: Row attribute 'Gene' dtype object is not allowed. Row attribute 'ensembl_ids' dtype object is not allowed. Row attribute 'gene_names' dtype object is no",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2040
https://github.com/scverse/scanpy/issues/2040:459,usability,Minim,Minimal,459,"read_loom on HCA loom files returns error; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). Download HCA loom dataset (tested with data from: https://data.humancellatlas.org/explore/projects/0c3b7785-f74d-4091-8616-a68757e4c2a8/m/project-matrices). ```python. import scanpy. loomdata = scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). #I also tried:. loomdata=scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom"", obs_names='CellID', var_names='ensembl_ids'. ```. ```pytb. scanpy.read_loom(""/Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/compat/__init__.py"", line 253, in inner_f. return f(*args, **kwargs). File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/_io/read.py"", line 261, in read_loom. with connect(filename, ""r"", **kwargs) as lc:. File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 1140, in connect. return LoomConnection(filename, mode, validate=validate, spec_version=spec_version). File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 84, in __init__. raise ValueError(""\n"".join(lv.errors) + f""\n{filename} does not appead to be a valid Loom file according to Loom spec version '{spec_version}'""). ValueError: Row attribute 'Gene' dtype object is not allowed. Row attribute 'ensembl_ids' dtype object is not allowed. Row attribute 'gene_names' dtype object is no",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2040
https://github.com/scverse/scanpy/issues/2040:979,usability,User,Users,979,"read_loom on HCA loom files returns error; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). Download HCA loom dataset (tested with data from: https://data.humancellatlas.org/explore/projects/0c3b7785-f74d-4091-8616-a68757e4c2a8/m/project-matrices). ```python. import scanpy. loomdata = scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). #I also tried:. loomdata=scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom"", obs_names='CellID', var_names='ensembl_ids'. ```. ```pytb. scanpy.read_loom(""/Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/compat/__init__.py"", line 253, in inner_f. return f(*args, **kwargs). File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/_io/read.py"", line 261, in read_loom. with connect(filename, ""r"", **kwargs) as lc:. File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 1140, in connect. return LoomConnection(filename, mode, validate=validate, spec_version=spec_version). File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 84, in __init__. raise ValueError(""\n"".join(lv.errors) + f""\n{filename} does not appead to be a valid Loom file according to Loom spec version '{spec_version}'""). ValueError: Row attribute 'Gene' dtype object is not allowed. Row attribute 'ensembl_ids' dtype object is not allowed. Row attribute 'gene_names' dtype object is no",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2040
https://github.com/scverse/scanpy/issues/2040:1720,usability,error,errors,1720,"re/projects/0c3b7785-f74d-4091-8616-a68757e4c2a8/m/project-matrices). ```python. import scanpy. loomdata = scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). #I also tried:. loomdata=scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom"", obs_names='CellID', var_names='ensembl_ids'. ```. ```pytb. scanpy.read_loom(""/Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/compat/__init__.py"", line 253, in inner_f. return f(*args, **kwargs). File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/_io/read.py"", line 261, in read_loom. with connect(filename, ""r"", **kwargs) as lc:. File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 1140, in connect. return LoomConnection(filename, mode, validate=validate, spec_version=spec_version). File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 84, in __init__. raise ValueError(""\n"".join(lv.errors) + f""\n{filename} does not appead to be a valid Loom file according to Loom spec version '{spec_version}'""). ValueError: Row attribute 'Gene' dtype object is not allowed. Row attribute 'ensembl_ids' dtype object is not allowed. Row attribute 'gene_names' dtype object is not allowed. Column attribute 'CellID' dtype object is not allowed. Column attribute 'cell_names' dtype object is not allowed. Column attribute 'input_id' dtype object is not allowed. For help, see http://linnarssonlab.org/loompy/format/. /Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom does not appead to be a valid Loom file according to Loom spec version '2.0.1'. ```. #### Versions. <details>. scanpy==1.8.1 anndata==0.7.6.dev49+g19ba44d umap==0.5.1 numpy==1.19.2 scipy==1.7.1 pandas==1.2.4 scikit-learn==0.24.2 statsmodels==0.11.1 python-igraph==0.9.6 pynndescent==0.5.4. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2040
https://github.com/scverse/scanpy/issues/2040:2186,usability,help,help,2186,"re/projects/0c3b7785-f74d-4091-8616-a68757e4c2a8/m/project-matrices). ```python. import scanpy. loomdata = scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). #I also tried:. loomdata=scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom"", obs_names='CellID', var_names='ensembl_ids'. ```. ```pytb. scanpy.read_loom(""/Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/compat/__init__.py"", line 253, in inner_f. return f(*args, **kwargs). File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/_io/read.py"", line 261, in read_loom. with connect(filename, ""r"", **kwargs) as lc:. File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 1140, in connect. return LoomConnection(filename, mode, validate=validate, spec_version=spec_version). File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 84, in __init__. raise ValueError(""\n"".join(lv.errors) + f""\n{filename} does not appead to be a valid Loom file according to Loom spec version '{spec_version}'""). ValueError: Row attribute 'Gene' dtype object is not allowed. Row attribute 'ensembl_ids' dtype object is not allowed. Row attribute 'gene_names' dtype object is not allowed. Column attribute 'CellID' dtype object is not allowed. Column attribute 'cell_names' dtype object is not allowed. Column attribute 'input_id' dtype object is not allowed. For help, see http://linnarssonlab.org/loompy/format/. /Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom does not appead to be a valid Loom file according to Loom spec version '2.0.1'. ```. #### Versions. <details>. scanpy==1.8.1 anndata==0.7.6.dev49+g19ba44d umap==0.5.1 numpy==1.19.2 scipy==1.7.1 pandas==1.2.4 scikit-learn==0.24.2 statsmodels==0.11.1 python-igraph==0.9.6 pynndescent==0.5.4. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2040
https://github.com/scverse/scanpy/issues/2040:2238,usability,User,Users,2238,"re/projects/0c3b7785-f74d-4091-8616-a68757e4c2a8/m/project-matrices). ```python. import scanpy. loomdata = scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). #I also tried:. loomdata=scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom"", obs_names='CellID', var_names='ensembl_ids'. ```. ```pytb. scanpy.read_loom(""/Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/compat/__init__.py"", line 253, in inner_f. return f(*args, **kwargs). File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/_io/read.py"", line 261, in read_loom. with connect(filename, ""r"", **kwargs) as lc:. File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 1140, in connect. return LoomConnection(filename, mode, validate=validate, spec_version=spec_version). File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 84, in __init__. raise ValueError(""\n"".join(lv.errors) + f""\n{filename} does not appead to be a valid Loom file according to Loom spec version '{spec_version}'""). ValueError: Row attribute 'Gene' dtype object is not allowed. Row attribute 'ensembl_ids' dtype object is not allowed. Row attribute 'gene_names' dtype object is not allowed. Column attribute 'CellID' dtype object is not allowed. Column attribute 'cell_names' dtype object is not allowed. Column attribute 'input_id' dtype object is not allowed. For help, see http://linnarssonlab.org/loompy/format/. /Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom does not appead to be a valid Loom file according to Loom spec version '2.0.1'. ```. #### Versions. <details>. scanpy==1.8.1 anndata==0.7.6.dev49+g19ba44d umap==0.5.1 numpy==1.19.2 scipy==1.7.1 pandas==1.2.4 scikit-learn==0.24.2 statsmodels==0.11.1 python-igraph==0.9.6 pynndescent==0.5.4. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2040
https://github.com/scverse/scanpy/issues/2040:2530,usability,learn,learn,2530,"re/projects/0c3b7785-f74d-4091-8616-a68757e4c2a8/m/project-matrices). ```python. import scanpy. loomdata = scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). #I also tried:. loomdata=scanpy.read_loom(""path/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom"", obs_names='CellID', var_names='ensembl_ids'. ```. ```pytb. scanpy.read_loom(""/Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom""). Traceback (most recent call last):. File ""<stdin>"", line 1, in <module>. File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/compat/__init__.py"", line 253, in inner_f. return f(*args, **kwargs). File ""/usr/local/anaconda3/lib/python3.8/site-packages/anndata/_io/read.py"", line 261, in read_loom. with connect(filename, ""r"", **kwargs) as lc:. File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 1140, in connect. return LoomConnection(filename, mode, validate=validate, spec_version=spec_version). File ""/usr/local/anaconda3/lib/python3.8/site-packages/loompy/loompy.py"", line 84, in __init__. raise ValueError(""\n"".join(lv.errors) + f""\n{filename} does not appead to be a valid Loom file according to Loom spec version '{spec_version}'""). ValueError: Row attribute 'Gene' dtype object is not allowed. Row attribute 'ensembl_ids' dtype object is not allowed. Row attribute 'gene_names' dtype object is not allowed. Column attribute 'CellID' dtype object is not allowed. Column attribute 'cell_names' dtype object is not allowed. Column attribute 'input_id' dtype object is not allowed. For help, see http://linnarssonlab.org/loompy/format/. /Users/acastanza/Downloads/bone-marrow-myeloma-human-hematopoeitic-10XV2.loom does not appead to be a valid Loom file according to Loom spec version '2.0.1'. ```. #### Versions. <details>. scanpy==1.8.1 anndata==0.7.6.dev49+g19ba44d umap==0.5.1 numpy==1.19.2 scipy==1.7.1 pandas==1.2.4 scikit-learn==0.24.2 statsmodels==0.11.1 python-igraph==0.9.6 pynndescent==0.5.4. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2040
https://github.com/scverse/scanpy/pull/2042:119,deployability,updat,updating,119,"pep-621 pyproject.toml; Testing if I did the pyproject.toml right for pep-621. Still need to decide if it's also worth updating it for the 1.8.x branch, or if this should wait until we're near `1.9`. Fixes #1776 if merged.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2042
https://github.com/scverse/scanpy/pull/2042:24,safety,Test,Testing,24,"pep-621 pyproject.toml; Testing if I did the pyproject.toml right for pep-621. Still need to decide if it's also worth updating it for the 1.8.x branch, or if this should wait until we're near `1.9`. Fixes #1776 if merged.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2042
https://github.com/scverse/scanpy/pull/2042:119,safety,updat,updating,119,"pep-621 pyproject.toml; Testing if I did the pyproject.toml right for pep-621. Still need to decide if it's also worth updating it for the 1.8.x branch, or if this should wait until we're near `1.9`. Fixes #1776 if merged.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2042
https://github.com/scverse/scanpy/pull/2042:119,security,updat,updating,119,"pep-621 pyproject.toml; Testing if I did the pyproject.toml right for pep-621. Still need to decide if it's also worth updating it for the 1.8.x branch, or if this should wait until we're near `1.9`. Fixes #1776 if merged.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2042
https://github.com/scverse/scanpy/pull/2042:24,testability,Test,Testing,24,"pep-621 pyproject.toml; Testing if I did the pyproject.toml right for pep-621. Still need to decide if it's also worth updating it for the 1.8.x branch, or if this should wait until we're near `1.9`. Fixes #1776 if merged.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2042
https://github.com/scverse/scanpy/issues/2043:24,availability,error,errors,24,"sc.tl.embedding_density errors when a category has one observation; Haven't done much investigation into why, but the [Fly Cell Atlas](https://flycellatlas.org) head dataset (10x, Stringent, H5AD) causes `sc.tl.embedding_density` to error when `groupby=""annotation_broad_extrapolated""`. ```python. import scanpy as sc. # Warning: 2.5gb. !wget -O s_fca_biohub_head_10x.h5ad https://cloud.flycellatlas.org/index.php/s/LAEybPc2HZnpzKs/download. adata = sc.read_h5ad(""s_fca_biohub_head_10x.h5ad""). sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ```. <details>. <summary> traceback </summary>. ```pytb. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py:563: RuntimeWarning: Degrees of freedom <= 0 for slice. self._data_covariance = atleast_2d(cov(self.dataset, rowvar=1,. /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: divide by zero encountered in true_divide. c *= np.true_divide(1, fact). /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: invalid value encountered in multiply. c *= np.true_divide(1, fact). ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). /var/folders/bd/43q20k0n6z15tdfzxvd22r7c0000gn/T/ipykernel_4569/1429565136.py in <module>. ----> 1 sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ~/github/scanpy/scanpy/tools/_embedding_density.py in embedding_density(adata, basis, groupby, key_added, components). 164 embed_y = adata.obsm[f'X_{basis}'][cat_mask, components[1]]. 165 . --> 166 dens_embed = _calc_density(embed_x, embed_y). 167 density_values[cat_mask] = dens_embed. 168 . ~/github/scanpy/scanpy/tools/_embedding_density.py in _calc_density(x, y). 19 # Calculate the point density. 20 xy = np.vstack([x, y]). ---> 21 z = gaussian_kde(xy)(xy). 22 . 23 min_z = np.min(z). /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in __init__(self, dataset, bw_method,",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2043
https://github.com/scverse/scanpy/issues/2043:233,availability,error,error,233,"sc.tl.embedding_density errors when a category has one observation; Haven't done much investigation into why, but the [Fly Cell Atlas](https://flycellatlas.org) head dataset (10x, Stringent, H5AD) causes `sc.tl.embedding_density` to error when `groupby=""annotation_broad_extrapolated""`. ```python. import scanpy as sc. # Warning: 2.5gb. !wget -O s_fca_biohub_head_10x.h5ad https://cloud.flycellatlas.org/index.php/s/LAEybPc2HZnpzKs/download. adata = sc.read_h5ad(""s_fca_biohub_head_10x.h5ad""). sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ```. <details>. <summary> traceback </summary>. ```pytb. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py:563: RuntimeWarning: Degrees of freedom <= 0 for slice. self._data_covariance = atleast_2d(cov(self.dataset, rowvar=1,. /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: divide by zero encountered in true_divide. c *= np.true_divide(1, fact). /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: invalid value encountered in multiply. c *= np.true_divide(1, fact). ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). /var/folders/bd/43q20k0n6z15tdfzxvd22r7c0000gn/T/ipykernel_4569/1429565136.py in <module>. ----> 1 sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ~/github/scanpy/scanpy/tools/_embedding_density.py in embedding_density(adata, basis, groupby, key_added, components). 164 embed_y = adata.obsm[f'X_{basis}'][cat_mask, components[1]]. 165 . --> 166 dens_embed = _calc_density(embed_x, embed_y). 167 density_values[cat_mask] = dens_embed. 168 . ~/github/scanpy/scanpy/tools/_embedding_density.py in _calc_density(x, y). 19 # Calculate the point density. 20 xy = np.vstack([x, y]). ---> 21 z = gaussian_kde(xy)(xy). 22 . 23 min_z = np.min(z). /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in __init__(self, dataset, bw_method,",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2043
https://github.com/scverse/scanpy/issues/2043:432,availability,down,download,432,"sc.tl.embedding_density errors when a category has one observation; Haven't done much investigation into why, but the [Fly Cell Atlas](https://flycellatlas.org) head dataset (10x, Stringent, H5AD) causes `sc.tl.embedding_density` to error when `groupby=""annotation_broad_extrapolated""`. ```python. import scanpy as sc. # Warning: 2.5gb. !wget -O s_fca_biohub_head_10x.h5ad https://cloud.flycellatlas.org/index.php/s/LAEybPc2HZnpzKs/download. adata = sc.read_h5ad(""s_fca_biohub_head_10x.h5ad""). sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ```. <details>. <summary> traceback </summary>. ```pytb. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py:563: RuntimeWarning: Degrees of freedom <= 0 for slice. self._data_covariance = atleast_2d(cov(self.dataset, rowvar=1,. /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: divide by zero encountered in true_divide. c *= np.true_divide(1, fact). /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: invalid value encountered in multiply. c *= np.true_divide(1, fact). ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). /var/folders/bd/43q20k0n6z15tdfzxvd22r7c0000gn/T/ipykernel_4569/1429565136.py in <module>. ----> 1 sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ~/github/scanpy/scanpy/tools/_embedding_density.py in embedding_density(adata, basis, groupby, key_added, components). 164 embed_y = adata.obsm[f'X_{basis}'][cat_mask, components[1]]. 165 . --> 166 dens_embed = _calc_density(embed_x, embed_y). 167 density_values[cat_mask] = dens_embed. 168 . ~/github/scanpy/scanpy/tools/_embedding_density.py in _calc_density(x, y). 19 # Calculate the point density. 20 xy = np.vstack([x, y]). ---> 21 z = gaussian_kde(xy)(xy). 22 . 23 min_z = np.min(z). /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in __init__(self, dataset, bw_method,",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2043
https://github.com/scverse/scanpy/issues/2043:731,availability,sli,slice,731,"sc.tl.embedding_density errors when a category has one observation; Haven't done much investigation into why, but the [Fly Cell Atlas](https://flycellatlas.org) head dataset (10x, Stringent, H5AD) causes `sc.tl.embedding_density` to error when `groupby=""annotation_broad_extrapolated""`. ```python. import scanpy as sc. # Warning: 2.5gb. !wget -O s_fca_biohub_head_10x.h5ad https://cloud.flycellatlas.org/index.php/s/LAEybPc2HZnpzKs/download. adata = sc.read_h5ad(""s_fca_biohub_head_10x.h5ad""). sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ```. <details>. <summary> traceback </summary>. ```pytb. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py:563: RuntimeWarning: Degrees of freedom <= 0 for slice. self._data_covariance = atleast_2d(cov(self.dataset, rowvar=1,. /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: divide by zero encountered in true_divide. c *= np.true_divide(1, fact). /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: invalid value encountered in multiply. c *= np.true_divide(1, fact). ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). /var/folders/bd/43q20k0n6z15tdfzxvd22r7c0000gn/T/ipykernel_4569/1429565136.py in <module>. ----> 1 sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ~/github/scanpy/scanpy/tools/_embedding_density.py in embedding_density(adata, basis, groupby, key_added, components). 164 embed_y = adata.obsm[f'X_{basis}'][cat_mask, components[1]]. 165 . --> 166 dens_embed = _calc_density(embed_x, embed_y). 167 density_values[cat_mask] = dens_embed. 168 . ~/github/scanpy/scanpy/tools/_embedding_density.py in _calc_density(x, y). 19 # Calculate the point density. 20 xy = np.vstack([x, y]). ---> 21 z = gaussian_kde(xy)(xy). 22 . 23 min_z = np.min(z). /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in __init__(self, dataset, bw_method,",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2043
https://github.com/scverse/scanpy/issues/2043:3055,availability,mask,masked,3055,"ts/kde.py in __init__(self, dataset, bw_method, weights). 204 self._neff = 1/sum(self._weights**2). 205 . --> 206 self.set_bandwidth(bw_method=bw_method). 207 . 208 def evaluate(self, points):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in set_bandwidth(self, bw_method). 552 raise ValueError(msg). 553 . --> 554 self._compute_covariance(). 555 . 556 def _compute_covariance(self):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in _compute_covariance(self). 564 bias=False,. 565 aweights=self.weights)). --> 566 self._data_inv_cov = linalg.inv(self._data_covariance). 567 . 568 self.covariance = self._data_covariance * self.factor**2. /usr/local/lib/python3.8/site-packages/scipy/linalg/basic.py in inv(a, overwrite_a, check_finite). 937 . 938 """""". --> 939 a1 = _asarray_validated(a, check_finite=. ). 940 if len(a1.shape) != 2 or a1.shape[0] != a1.shape[1]:. 941 raise ValueError('expected square matrix'). /usr/local/lib/python3.8/site-packages/scipy/_lib/_util.py in _asarray_validated(a, check_finite, sparse_ok, objects_ok, mask_ok, as_inexact). 291 raise ValueError('masked arrays are not supported'). 292 toarray = np.asarray_chkfinite if check_finite else np.asarray. --> 293 a = toarray(a). 294 if not objects_ok:. 295 if a.dtype is np.dtype('O'):. /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py in asarray_chkfinite(a, dtype, order). 486 a = asarray(a, dtype=dtype, order=order). 487 if a.dtype.char in typecodes['AllFloat'] and not np.isfinite(a).all():. --> 488 raise ValueError(. 489 ""array must not contain infs or NaNs""). 490 return a. ValueError: array must not contain infs or NaNs. ```. </details>. I think it's that one of the categories only has one observation. Probably just needs a better error. ------------. Yup, one obs reproduces:. ```python. adata = sc.datasets.pbmc3k_processed().raw.to_adata(). mask = adata.obs[""louvain""] != ""CD4 T cells"". mask.iloc[0] = True. sc.tl.embedding_density(adata[mask], groupby=""louvain""). ```",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2043
https://github.com/scverse/scanpy/issues/2043:3713,availability,error,error,3713,"ts/kde.py in __init__(self, dataset, bw_method, weights). 204 self._neff = 1/sum(self._weights**2). 205 . --> 206 self.set_bandwidth(bw_method=bw_method). 207 . 208 def evaluate(self, points):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in set_bandwidth(self, bw_method). 552 raise ValueError(msg). 553 . --> 554 self._compute_covariance(). 555 . 556 def _compute_covariance(self):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in _compute_covariance(self). 564 bias=False,. 565 aweights=self.weights)). --> 566 self._data_inv_cov = linalg.inv(self._data_covariance). 567 . 568 self.covariance = self._data_covariance * self.factor**2. /usr/local/lib/python3.8/site-packages/scipy/linalg/basic.py in inv(a, overwrite_a, check_finite). 937 . 938 """""". --> 939 a1 = _asarray_validated(a, check_finite=. ). 940 if len(a1.shape) != 2 or a1.shape[0] != a1.shape[1]:. 941 raise ValueError('expected square matrix'). /usr/local/lib/python3.8/site-packages/scipy/_lib/_util.py in _asarray_validated(a, check_finite, sparse_ok, objects_ok, mask_ok, as_inexact). 291 raise ValueError('masked arrays are not supported'). 292 toarray = np.asarray_chkfinite if check_finite else np.asarray. --> 293 a = toarray(a). 294 if not objects_ok:. 295 if a.dtype is np.dtype('O'):. /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py in asarray_chkfinite(a, dtype, order). 486 a = asarray(a, dtype=dtype, order=order). 487 if a.dtype.char in typecodes['AllFloat'] and not np.isfinite(a).all():. --> 488 raise ValueError(. 489 ""array must not contain infs or NaNs""). 490 return a. ValueError: array must not contain infs or NaNs. ```. </details>. I think it's that one of the categories only has one observation. Probably just needs a better error. ------------. Yup, one obs reproduces:. ```python. adata = sc.datasets.pbmc3k_processed().raw.to_adata(). mask = adata.obs[""louvain""] != ""CD4 T cells"". mask.iloc[0] = True. sc.tl.embedding_density(adata[mask], groupby=""louvain""). ```",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2043
https://github.com/scverse/scanpy/issues/2043:3826,availability,mask,mask,3826,"ts/kde.py in __init__(self, dataset, bw_method, weights). 204 self._neff = 1/sum(self._weights**2). 205 . --> 206 self.set_bandwidth(bw_method=bw_method). 207 . 208 def evaluate(self, points):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in set_bandwidth(self, bw_method). 552 raise ValueError(msg). 553 . --> 554 self._compute_covariance(). 555 . 556 def _compute_covariance(self):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in _compute_covariance(self). 564 bias=False,. 565 aweights=self.weights)). --> 566 self._data_inv_cov = linalg.inv(self._data_covariance). 567 . 568 self.covariance = self._data_covariance * self.factor**2. /usr/local/lib/python3.8/site-packages/scipy/linalg/basic.py in inv(a, overwrite_a, check_finite). 937 . 938 """""". --> 939 a1 = _asarray_validated(a, check_finite=. ). 940 if len(a1.shape) != 2 or a1.shape[0] != a1.shape[1]:. 941 raise ValueError('expected square matrix'). /usr/local/lib/python3.8/site-packages/scipy/_lib/_util.py in _asarray_validated(a, check_finite, sparse_ok, objects_ok, mask_ok, as_inexact). 291 raise ValueError('masked arrays are not supported'). 292 toarray = np.asarray_chkfinite if check_finite else np.asarray. --> 293 a = toarray(a). 294 if not objects_ok:. 295 if a.dtype is np.dtype('O'):. /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py in asarray_chkfinite(a, dtype, order). 486 a = asarray(a, dtype=dtype, order=order). 487 if a.dtype.char in typecodes['AllFloat'] and not np.isfinite(a).all():. --> 488 raise ValueError(. 489 ""array must not contain infs or NaNs""). 490 return a. ValueError: array must not contain infs or NaNs. ```. </details>. I think it's that one of the categories only has one observation. Probably just needs a better error. ------------. Yup, one obs reproduces:. ```python. adata = sc.datasets.pbmc3k_processed().raw.to_adata(). mask = adata.obs[""louvain""] != ""CD4 T cells"". mask.iloc[0] = True. sc.tl.embedding_density(adata[mask], groupby=""louvain""). ```",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2043
https://github.com/scverse/scanpy/issues/2043:3872,availability,mask,mask,3872,"ts/kde.py in __init__(self, dataset, bw_method, weights). 204 self._neff = 1/sum(self._weights**2). 205 . --> 206 self.set_bandwidth(bw_method=bw_method). 207 . 208 def evaluate(self, points):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in set_bandwidth(self, bw_method). 552 raise ValueError(msg). 553 . --> 554 self._compute_covariance(). 555 . 556 def _compute_covariance(self):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in _compute_covariance(self). 564 bias=False,. 565 aweights=self.weights)). --> 566 self._data_inv_cov = linalg.inv(self._data_covariance). 567 . 568 self.covariance = self._data_covariance * self.factor**2. /usr/local/lib/python3.8/site-packages/scipy/linalg/basic.py in inv(a, overwrite_a, check_finite). 937 . 938 """""". --> 939 a1 = _asarray_validated(a, check_finite=. ). 940 if len(a1.shape) != 2 or a1.shape[0] != a1.shape[1]:. 941 raise ValueError('expected square matrix'). /usr/local/lib/python3.8/site-packages/scipy/_lib/_util.py in _asarray_validated(a, check_finite, sparse_ok, objects_ok, mask_ok, as_inexact). 291 raise ValueError('masked arrays are not supported'). 292 toarray = np.asarray_chkfinite if check_finite else np.asarray. --> 293 a = toarray(a). 294 if not objects_ok:. 295 if a.dtype is np.dtype('O'):. /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py in asarray_chkfinite(a, dtype, order). 486 a = asarray(a, dtype=dtype, order=order). 487 if a.dtype.char in typecodes['AllFloat'] and not np.isfinite(a).all():. --> 488 raise ValueError(. 489 ""array must not contain infs or NaNs""). 490 return a. ValueError: array must not contain infs or NaNs. ```. </details>. I think it's that one of the categories only has one observation. Probably just needs a better error. ------------. Yup, one obs reproduces:. ```python. adata = sc.datasets.pbmc3k_processed().raw.to_adata(). mask = adata.obs[""louvain""] != ""CD4 T cells"". mask.iloc[0] = True. sc.tl.embedding_density(adata[mask], groupby=""louvain""). ```",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2043
https://github.com/scverse/scanpy/issues/2043:3923,availability,mask,mask,3923,"ts/kde.py in __init__(self, dataset, bw_method, weights). 204 self._neff = 1/sum(self._weights**2). 205 . --> 206 self.set_bandwidth(bw_method=bw_method). 207 . 208 def evaluate(self, points):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in set_bandwidth(self, bw_method). 552 raise ValueError(msg). 553 . --> 554 self._compute_covariance(). 555 . 556 def _compute_covariance(self):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in _compute_covariance(self). 564 bias=False,. 565 aweights=self.weights)). --> 566 self._data_inv_cov = linalg.inv(self._data_covariance). 567 . 568 self.covariance = self._data_covariance * self.factor**2. /usr/local/lib/python3.8/site-packages/scipy/linalg/basic.py in inv(a, overwrite_a, check_finite). 937 . 938 """""". --> 939 a1 = _asarray_validated(a, check_finite=. ). 940 if len(a1.shape) != 2 or a1.shape[0] != a1.shape[1]:. 941 raise ValueError('expected square matrix'). /usr/local/lib/python3.8/site-packages/scipy/_lib/_util.py in _asarray_validated(a, check_finite, sparse_ok, objects_ok, mask_ok, as_inexact). 291 raise ValueError('masked arrays are not supported'). 292 toarray = np.asarray_chkfinite if check_finite else np.asarray. --> 293 a = toarray(a). 294 if not objects_ok:. 295 if a.dtype is np.dtype('O'):. /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py in asarray_chkfinite(a, dtype, order). 486 a = asarray(a, dtype=dtype, order=order). 487 if a.dtype.char in typecodes['AllFloat'] and not np.isfinite(a).all():. --> 488 raise ValueError(. 489 ""array must not contain infs or NaNs""). 490 return a. ValueError: array must not contain infs or NaNs. ```. </details>. I think it's that one of the categories only has one observation. Probably just needs a better error. ------------. Yup, one obs reproduces:. ```python. adata = sc.datasets.pbmc3k_processed().raw.to_adata(). mask = adata.obs[""louvain""] != ""CD4 T cells"". mask.iloc[0] = True. sc.tl.embedding_density(adata[mask], groupby=""louvain""). ```",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2043
https://github.com/scverse/scanpy/issues/2043:55,deployability,observ,observation,55,"sc.tl.embedding_density errors when a category has one observation; Haven't done much investigation into why, but the [Fly Cell Atlas](https://flycellatlas.org) head dataset (10x, Stringent, H5AD) causes `sc.tl.embedding_density` to error when `groupby=""annotation_broad_extrapolated""`. ```python. import scanpy as sc. # Warning: 2.5gb. !wget -O s_fca_biohub_head_10x.h5ad https://cloud.flycellatlas.org/index.php/s/LAEybPc2HZnpzKs/download. adata = sc.read_h5ad(""s_fca_biohub_head_10x.h5ad""). sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ```. <details>. <summary> traceback </summary>. ```pytb. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py:563: RuntimeWarning: Degrees of freedom <= 0 for slice. self._data_covariance = atleast_2d(cov(self.dataset, rowvar=1,. /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: divide by zero encountered in true_divide. c *= np.true_divide(1, fact). /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: invalid value encountered in multiply. c *= np.true_divide(1, fact). ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). /var/folders/bd/43q20k0n6z15tdfzxvd22r7c0000gn/T/ipykernel_4569/1429565136.py in <module>. ----> 1 sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ~/github/scanpy/scanpy/tools/_embedding_density.py in embedding_density(adata, basis, groupby, key_added, components). 164 embed_y = adata.obsm[f'X_{basis}'][cat_mask, components[1]]. 165 . --> 166 dens_embed = _calc_density(embed_x, embed_y). 167 density_values[cat_mask] = dens_embed. 168 . ~/github/scanpy/scanpy/tools/_embedding_density.py in _calc_density(x, y). 19 # Calculate the point density. 20 xy = np.vstack([x, y]). ---> 21 z = gaussian_kde(xy)(xy). 22 . 23 min_z = np.min(z). /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in __init__(self, dataset, bw_method,",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2043
https://github.com/scverse/scanpy/issues/2043:1325,deployability,modul,module,1325,": 2.5gb. !wget -O s_fca_biohub_head_10x.h5ad https://cloud.flycellatlas.org/index.php/s/LAEybPc2HZnpzKs/download. adata = sc.read_h5ad(""s_fca_biohub_head_10x.h5ad""). sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ```. <details>. <summary> traceback </summary>. ```pytb. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py:563: RuntimeWarning: Degrees of freedom <= 0 for slice. self._data_covariance = atleast_2d(cov(self.dataset, rowvar=1,. /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: divide by zero encountered in true_divide. c *= np.true_divide(1, fact). /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: invalid value encountered in multiply. c *= np.true_divide(1, fact). ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). /var/folders/bd/43q20k0n6z15tdfzxvd22r7c0000gn/T/ipykernel_4569/1429565136.py in <module>. ----> 1 sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ~/github/scanpy/scanpy/tools/_embedding_density.py in embedding_density(adata, basis, groupby, key_added, components). 164 embed_y = adata.obsm[f'X_{basis}'][cat_mask, components[1]]. 165 . --> 166 dens_embed = _calc_density(embed_x, embed_y). 167 density_values[cat_mask] = dens_embed. 168 . ~/github/scanpy/scanpy/tools/_embedding_density.py in _calc_density(x, y). 19 # Calculate the point density. 20 xy = np.vstack([x, y]). ---> 21 z = gaussian_kde(xy)(xy). 22 . 23 min_z = np.min(z). /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in __init__(self, dataset, bw_method, weights). 204 self._neff = 1/sum(self._weights**2). 205 . --> 206 self.set_bandwidth(bw_method=bw_method). 207 . 208 def evaluate(self, points):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in set_bandwidth(self, bw_method). 552 raise ValueError(msg). 553 . --> 554 self._compute_covariance(). 555 . 556 def _comp",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2043
https://github.com/scverse/scanpy/issues/2043:3514,deployability,contain,contain,3514,"ts/kde.py in __init__(self, dataset, bw_method, weights). 204 self._neff = 1/sum(self._weights**2). 205 . --> 206 self.set_bandwidth(bw_method=bw_method). 207 . 208 def evaluate(self, points):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in set_bandwidth(self, bw_method). 552 raise ValueError(msg). 553 . --> 554 self._compute_covariance(). 555 . 556 def _compute_covariance(self):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in _compute_covariance(self). 564 bias=False,. 565 aweights=self.weights)). --> 566 self._data_inv_cov = linalg.inv(self._data_covariance). 567 . 568 self.covariance = self._data_covariance * self.factor**2. /usr/local/lib/python3.8/site-packages/scipy/linalg/basic.py in inv(a, overwrite_a, check_finite). 937 . 938 """""". --> 939 a1 = _asarray_validated(a, check_finite=. ). 940 if len(a1.shape) != 2 or a1.shape[0] != a1.shape[1]:. 941 raise ValueError('expected square matrix'). /usr/local/lib/python3.8/site-packages/scipy/_lib/_util.py in _asarray_validated(a, check_finite, sparse_ok, objects_ok, mask_ok, as_inexact). 291 raise ValueError('masked arrays are not supported'). 292 toarray = np.asarray_chkfinite if check_finite else np.asarray. --> 293 a = toarray(a). 294 if not objects_ok:. 295 if a.dtype is np.dtype('O'):. /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py in asarray_chkfinite(a, dtype, order). 486 a = asarray(a, dtype=dtype, order=order). 487 if a.dtype.char in typecodes['AllFloat'] and not np.isfinite(a).all():. --> 488 raise ValueError(. 489 ""array must not contain infs or NaNs""). 490 return a. ValueError: array must not contain infs or NaNs. ```. </details>. I think it's that one of the categories only has one observation. Probably just needs a better error. ------------. Yup, one obs reproduces:. ```python. adata = sc.datasets.pbmc3k_processed().raw.to_adata(). mask = adata.obs[""louvain""] != ""CD4 T cells"". mask.iloc[0] = True. sc.tl.embedding_density(adata[mask], groupby=""louvain""). ```",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2043
https://github.com/scverse/scanpy/issues/2043:3579,deployability,contain,contain,3579,"ts/kde.py in __init__(self, dataset, bw_method, weights). 204 self._neff = 1/sum(self._weights**2). 205 . --> 206 self.set_bandwidth(bw_method=bw_method). 207 . 208 def evaluate(self, points):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in set_bandwidth(self, bw_method). 552 raise ValueError(msg). 553 . --> 554 self._compute_covariance(). 555 . 556 def _compute_covariance(self):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in _compute_covariance(self). 564 bias=False,. 565 aweights=self.weights)). --> 566 self._data_inv_cov = linalg.inv(self._data_covariance). 567 . 568 self.covariance = self._data_covariance * self.factor**2. /usr/local/lib/python3.8/site-packages/scipy/linalg/basic.py in inv(a, overwrite_a, check_finite). 937 . 938 """""". --> 939 a1 = _asarray_validated(a, check_finite=. ). 940 if len(a1.shape) != 2 or a1.shape[0] != a1.shape[1]:. 941 raise ValueError('expected square matrix'). /usr/local/lib/python3.8/site-packages/scipy/_lib/_util.py in _asarray_validated(a, check_finite, sparse_ok, objects_ok, mask_ok, as_inexact). 291 raise ValueError('masked arrays are not supported'). 292 toarray = np.asarray_chkfinite if check_finite else np.asarray. --> 293 a = toarray(a). 294 if not objects_ok:. 295 if a.dtype is np.dtype('O'):. /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py in asarray_chkfinite(a, dtype, order). 486 a = asarray(a, dtype=dtype, order=order). 487 if a.dtype.char in typecodes['AllFloat'] and not np.isfinite(a).all():. --> 488 raise ValueError(. 489 ""array must not contain infs or NaNs""). 490 return a. ValueError: array must not contain infs or NaNs. ```. </details>. I think it's that one of the categories only has one observation. Probably just needs a better error. ------------. Yup, one obs reproduces:. ```python. adata = sc.datasets.pbmc3k_processed().raw.to_adata(). mask = adata.obs[""louvain""] != ""CD4 T cells"". mask.iloc[0] = True. sc.tl.embedding_density(adata[mask], groupby=""louvain""). ```",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2043
https://github.com/scverse/scanpy/issues/2043:3671,deployability,observ,observation,3671,"ts/kde.py in __init__(self, dataset, bw_method, weights). 204 self._neff = 1/sum(self._weights**2). 205 . --> 206 self.set_bandwidth(bw_method=bw_method). 207 . 208 def evaluate(self, points):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in set_bandwidth(self, bw_method). 552 raise ValueError(msg). 553 . --> 554 self._compute_covariance(). 555 . 556 def _compute_covariance(self):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in _compute_covariance(self). 564 bias=False,. 565 aweights=self.weights)). --> 566 self._data_inv_cov = linalg.inv(self._data_covariance). 567 . 568 self.covariance = self._data_covariance * self.factor**2. /usr/local/lib/python3.8/site-packages/scipy/linalg/basic.py in inv(a, overwrite_a, check_finite). 937 . 938 """""". --> 939 a1 = _asarray_validated(a, check_finite=. ). 940 if len(a1.shape) != 2 or a1.shape[0] != a1.shape[1]:. 941 raise ValueError('expected square matrix'). /usr/local/lib/python3.8/site-packages/scipy/_lib/_util.py in _asarray_validated(a, check_finite, sparse_ok, objects_ok, mask_ok, as_inexact). 291 raise ValueError('masked arrays are not supported'). 292 toarray = np.asarray_chkfinite if check_finite else np.asarray. --> 293 a = toarray(a). 294 if not objects_ok:. 295 if a.dtype is np.dtype('O'):. /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py in asarray_chkfinite(a, dtype, order). 486 a = asarray(a, dtype=dtype, order=order). 487 if a.dtype.char in typecodes['AllFloat'] and not np.isfinite(a).all():. --> 488 raise ValueError(. 489 ""array must not contain infs or NaNs""). 490 return a. ValueError: array must not contain infs or NaNs. ```. </details>. I think it's that one of the categories only has one observation. Probably just needs a better error. ------------. Yup, one obs reproduces:. ```python. adata = sc.datasets.pbmc3k_processed().raw.to_adata(). mask = adata.obs[""louvain""] != ""CD4 T cells"". mask.iloc[0] = True. sc.tl.embedding_density(adata[mask], groupby=""louvain""). ```",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2043
https://github.com/scverse/scanpy/issues/2043:381,energy efficiency,cloud,cloud,381,"sc.tl.embedding_density errors when a category has one observation; Haven't done much investigation into why, but the [Fly Cell Atlas](https://flycellatlas.org) head dataset (10x, Stringent, H5AD) causes `sc.tl.embedding_density` to error when `groupby=""annotation_broad_extrapolated""`. ```python. import scanpy as sc. # Warning: 2.5gb. !wget -O s_fca_biohub_head_10x.h5ad https://cloud.flycellatlas.org/index.php/s/LAEybPc2HZnpzKs/download. adata = sc.read_h5ad(""s_fca_biohub_head_10x.h5ad""). sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ```. <details>. <summary> traceback </summary>. ```pytb. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py:563: RuntimeWarning: Degrees of freedom <= 0 for slice. self._data_covariance = atleast_2d(cov(self.dataset, rowvar=1,. /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: divide by zero encountered in true_divide. c *= np.true_divide(1, fact). /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: invalid value encountered in multiply. c *= np.true_divide(1, fact). ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). /var/folders/bd/43q20k0n6z15tdfzxvd22r7c0000gn/T/ipykernel_4569/1429565136.py in <module>. ----> 1 sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ~/github/scanpy/scanpy/tools/_embedding_density.py in embedding_density(adata, basis, groupby, key_added, components). 164 embed_y = adata.obsm[f'X_{basis}'][cat_mask, components[1]]. 165 . --> 166 dens_embed = _calc_density(embed_x, embed_y). 167 density_values[cat_mask] = dens_embed. 168 . ~/github/scanpy/scanpy/tools/_embedding_density.py in _calc_density(x, y). 19 # Calculate the point density. 20 xy = np.vstack([x, y]). ---> 21 z = gaussian_kde(xy)(xy). 22 . 23 min_z = np.min(z). /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in __init__(self, dataset, bw_method,",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2043
https://github.com/scverse/scanpy/issues/2043:1521,integrability,compon,components,1521,"roupby=""annotation_broad_extrapolated""). ```. <details>. <summary> traceback </summary>. ```pytb. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py:563: RuntimeWarning: Degrees of freedom <= 0 for slice. self._data_covariance = atleast_2d(cov(self.dataset, rowvar=1,. /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: divide by zero encountered in true_divide. c *= np.true_divide(1, fact). /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: invalid value encountered in multiply. c *= np.true_divide(1, fact). ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). /var/folders/bd/43q20k0n6z15tdfzxvd22r7c0000gn/T/ipykernel_4569/1429565136.py in <module>. ----> 1 sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ~/github/scanpy/scanpy/tools/_embedding_density.py in embedding_density(adata, basis, groupby, key_added, components). 164 embed_y = adata.obsm[f'X_{basis}'][cat_mask, components[1]]. 165 . --> 166 dens_embed = _calc_density(embed_x, embed_y). 167 density_values[cat_mask] = dens_embed. 168 . ~/github/scanpy/scanpy/tools/_embedding_density.py in _calc_density(x, y). 19 # Calculate the point density. 20 xy = np.vstack([x, y]). ---> 21 z = gaussian_kde(xy)(xy). 22 . 23 min_z = np.min(z). /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in __init__(self, dataset, bw_method, weights). 204 self._neff = 1/sum(self._weights**2). 205 . --> 206 self.set_bandwidth(bw_method=bw_method). 207 . 208 def evaluate(self, points):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in set_bandwidth(self, bw_method). 552 raise ValueError(msg). 553 . --> 554 self._compute_covariance(). 555 . 556 def _compute_covariance(self):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in _compute_covariance(self). 564 bias=False,. 565 aweights=self.weights)). --> 566 self._data_inv_cov = linalg.inv(s",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2043
https://github.com/scverse/scanpy/issues/2043:1583,integrability,compon,components,1583,"ary> traceback </summary>. ```pytb. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py:563: RuntimeWarning: Degrees of freedom <= 0 for slice. self._data_covariance = atleast_2d(cov(self.dataset, rowvar=1,. /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: divide by zero encountered in true_divide. c *= np.true_divide(1, fact). /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: invalid value encountered in multiply. c *= np.true_divide(1, fact). ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). /var/folders/bd/43q20k0n6z15tdfzxvd22r7c0000gn/T/ipykernel_4569/1429565136.py in <module>. ----> 1 sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ~/github/scanpy/scanpy/tools/_embedding_density.py in embedding_density(adata, basis, groupby, key_added, components). 164 embed_y = adata.obsm[f'X_{basis}'][cat_mask, components[1]]. 165 . --> 166 dens_embed = _calc_density(embed_x, embed_y). 167 density_values[cat_mask] = dens_embed. 168 . ~/github/scanpy/scanpy/tools/_embedding_density.py in _calc_density(x, y). 19 # Calculate the point density. 20 xy = np.vstack([x, y]). ---> 21 z = gaussian_kde(xy)(xy). 22 . 23 min_z = np.min(z). /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in __init__(self, dataset, bw_method, weights). 204 self._neff = 1/sum(self._weights**2). 205 . --> 206 self.set_bandwidth(bw_method=bw_method). 207 . 208 def evaluate(self, points):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in set_bandwidth(self, bw_method). 552 raise ValueError(msg). 553 . --> 554 self._compute_covariance(). 555 . 556 def _compute_covariance(self):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in _compute_covariance(self). 564 bias=False,. 565 aweights=self.weights)). --> 566 self._data_inv_cov = linalg.inv(self._data_covariance). 567 . 568 self.covariance = self._data_",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2043
https://github.com/scverse/scanpy/issues/2043:1521,interoperability,compon,components,1521,"roupby=""annotation_broad_extrapolated""). ```. <details>. <summary> traceback </summary>. ```pytb. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py:563: RuntimeWarning: Degrees of freedom <= 0 for slice. self._data_covariance = atleast_2d(cov(self.dataset, rowvar=1,. /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: divide by zero encountered in true_divide. c *= np.true_divide(1, fact). /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: invalid value encountered in multiply. c *= np.true_divide(1, fact). ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). /var/folders/bd/43q20k0n6z15tdfzxvd22r7c0000gn/T/ipykernel_4569/1429565136.py in <module>. ----> 1 sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ~/github/scanpy/scanpy/tools/_embedding_density.py in embedding_density(adata, basis, groupby, key_added, components). 164 embed_y = adata.obsm[f'X_{basis}'][cat_mask, components[1]]. 165 . --> 166 dens_embed = _calc_density(embed_x, embed_y). 167 density_values[cat_mask] = dens_embed. 168 . ~/github/scanpy/scanpy/tools/_embedding_density.py in _calc_density(x, y). 19 # Calculate the point density. 20 xy = np.vstack([x, y]). ---> 21 z = gaussian_kde(xy)(xy). 22 . 23 min_z = np.min(z). /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in __init__(self, dataset, bw_method, weights). 204 self._neff = 1/sum(self._weights**2). 205 . --> 206 self.set_bandwidth(bw_method=bw_method). 207 . 208 def evaluate(self, points):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in set_bandwidth(self, bw_method). 552 raise ValueError(msg). 553 . --> 554 self._compute_covariance(). 555 . 556 def _compute_covariance(self):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in _compute_covariance(self). 564 bias=False,. 565 aweights=self.weights)). --> 566 self._data_inv_cov = linalg.inv(s",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2043
https://github.com/scverse/scanpy/issues/2043:1583,interoperability,compon,components,1583,"ary> traceback </summary>. ```pytb. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py:563: RuntimeWarning: Degrees of freedom <= 0 for slice. self._data_covariance = atleast_2d(cov(self.dataset, rowvar=1,. /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: divide by zero encountered in true_divide. c *= np.true_divide(1, fact). /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: invalid value encountered in multiply. c *= np.true_divide(1, fact). ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). /var/folders/bd/43q20k0n6z15tdfzxvd22r7c0000gn/T/ipykernel_4569/1429565136.py in <module>. ----> 1 sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ~/github/scanpy/scanpy/tools/_embedding_density.py in embedding_density(adata, basis, groupby, key_added, components). 164 embed_y = adata.obsm[f'X_{basis}'][cat_mask, components[1]]. 165 . --> 166 dens_embed = _calc_density(embed_x, embed_y). 167 density_values[cat_mask] = dens_embed. 168 . ~/github/scanpy/scanpy/tools/_embedding_density.py in _calc_density(x, y). 19 # Calculate the point density. 20 xy = np.vstack([x, y]). ---> 21 z = gaussian_kde(xy)(xy). 22 . 23 min_z = np.min(z). /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in __init__(self, dataset, bw_method, weights). 204 self._neff = 1/sum(self._weights**2). 205 . --> 206 self.set_bandwidth(bw_method=bw_method). 207 . 208 def evaluate(self, points):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in set_bandwidth(self, bw_method). 552 raise ValueError(msg). 553 . --> 554 self._compute_covariance(). 555 . 556 def _compute_covariance(self):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in _compute_covariance(self). 564 bias=False,. 565 aweights=self.weights)). --> 566 self._data_inv_cov = linalg.inv(self._data_covariance). 567 . 568 self.covariance = self._data_",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2043
https://github.com/scverse/scanpy/issues/2043:654,modifiability,pac,packages,654,"sc.tl.embedding_density errors when a category has one observation; Haven't done much investigation into why, but the [Fly Cell Atlas](https://flycellatlas.org) head dataset (10x, Stringent, H5AD) causes `sc.tl.embedding_density` to error when `groupby=""annotation_broad_extrapolated""`. ```python. import scanpy as sc. # Warning: 2.5gb. !wget -O s_fca_biohub_head_10x.h5ad https://cloud.flycellatlas.org/index.php/s/LAEybPc2HZnpzKs/download. adata = sc.read_h5ad(""s_fca_biohub_head_10x.h5ad""). sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ```. <details>. <summary> traceback </summary>. ```pytb. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py:563: RuntimeWarning: Degrees of freedom <= 0 for slice. self._data_covariance = atleast_2d(cov(self.dataset, rowvar=1,. /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: divide by zero encountered in true_divide. c *= np.true_divide(1, fact). /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: invalid value encountered in multiply. c *= np.true_divide(1, fact). ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). /var/folders/bd/43q20k0n6z15tdfzxvd22r7c0000gn/T/ipykernel_4569/1429565136.py in <module>. ----> 1 sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ~/github/scanpy/scanpy/tools/_embedding_density.py in embedding_density(adata, basis, groupby, key_added, components). 164 embed_y = adata.obsm[f'X_{basis}'][cat_mask, components[1]]. 165 . --> 166 dens_embed = _calc_density(embed_x, embed_y). 167 density_values[cat_mask] = dens_embed. 168 . ~/github/scanpy/scanpy/tools/_embedding_density.py in _calc_density(x, y). 19 # Calculate the point density. 20 xy = np.vstack([x, y]). ---> 21 z = gaussian_kde(xy)(xy). 22 . 23 min_z = np.min(z). /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in __init__(self, dataset, bw_method,",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2043
https://github.com/scverse/scanpy/issues/2043:832,modifiability,pac,packages,832,"sc.tl.embedding_density errors when a category has one observation; Haven't done much investigation into why, but the [Fly Cell Atlas](https://flycellatlas.org) head dataset (10x, Stringent, H5AD) causes `sc.tl.embedding_density` to error when `groupby=""annotation_broad_extrapolated""`. ```python. import scanpy as sc. # Warning: 2.5gb. !wget -O s_fca_biohub_head_10x.h5ad https://cloud.flycellatlas.org/index.php/s/LAEybPc2HZnpzKs/download. adata = sc.read_h5ad(""s_fca_biohub_head_10x.h5ad""). sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ```. <details>. <summary> traceback </summary>. ```pytb. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py:563: RuntimeWarning: Degrees of freedom <= 0 for slice. self._data_covariance = atleast_2d(cov(self.dataset, rowvar=1,. /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: divide by zero encountered in true_divide. c *= np.true_divide(1, fact). /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: invalid value encountered in multiply. c *= np.true_divide(1, fact). ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). /var/folders/bd/43q20k0n6z15tdfzxvd22r7c0000gn/T/ipykernel_4569/1429565136.py in <module>. ----> 1 sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ~/github/scanpy/scanpy/tools/_embedding_density.py in embedding_density(adata, basis, groupby, key_added, components). 164 embed_y = adata.obsm[f'X_{basis}'][cat_mask, components[1]]. 165 . --> 166 dens_embed = _calc_density(embed_x, embed_y). 167 density_values[cat_mask] = dens_embed. 168 . ~/github/scanpy/scanpy/tools/_embedding_density.py in _calc_density(x, y). 19 # Calculate the point density. 20 xy = np.vstack([x, y]). ---> 21 z = gaussian_kde(xy)(xy). 22 . 23 min_z = np.min(z). /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in __init__(self, dataset, bw_method,",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2043
https://github.com/scverse/scanpy/issues/2043:993,modifiability,pac,packages,993,"sc.tl.embedding_density errors when a category has one observation; Haven't done much investigation into why, but the [Fly Cell Atlas](https://flycellatlas.org) head dataset (10x, Stringent, H5AD) causes `sc.tl.embedding_density` to error when `groupby=""annotation_broad_extrapolated""`. ```python. import scanpy as sc. # Warning: 2.5gb. !wget -O s_fca_biohub_head_10x.h5ad https://cloud.flycellatlas.org/index.php/s/LAEybPc2HZnpzKs/download. adata = sc.read_h5ad(""s_fca_biohub_head_10x.h5ad""). sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ```. <details>. <summary> traceback </summary>. ```pytb. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py:563: RuntimeWarning: Degrees of freedom <= 0 for slice. self._data_covariance = atleast_2d(cov(self.dataset, rowvar=1,. /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: divide by zero encountered in true_divide. c *= np.true_divide(1, fact). /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: invalid value encountered in multiply. c *= np.true_divide(1, fact). ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). /var/folders/bd/43q20k0n6z15tdfzxvd22r7c0000gn/T/ipykernel_4569/1429565136.py in <module>. ----> 1 sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ~/github/scanpy/scanpy/tools/_embedding_density.py in embedding_density(adata, basis, groupby, key_added, components). 164 embed_y = adata.obsm[f'X_{basis}'][cat_mask, components[1]]. 165 . --> 166 dens_embed = _calc_density(embed_x, embed_y). 167 density_values[cat_mask] = dens_embed. 168 . ~/github/scanpy/scanpy/tools/_embedding_density.py in _calc_density(x, y). 19 # Calculate the point density. 20 xy = np.vstack([x, y]). ---> 21 z = gaussian_kde(xy)(xy). 22 . 23 min_z = np.min(z). /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in __init__(self, dataset, bw_method,",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2043
https://github.com/scverse/scanpy/issues/2043:1325,modifiability,modul,module,1325,": 2.5gb. !wget -O s_fca_biohub_head_10x.h5ad https://cloud.flycellatlas.org/index.php/s/LAEybPc2HZnpzKs/download. adata = sc.read_h5ad(""s_fca_biohub_head_10x.h5ad""). sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ```. <details>. <summary> traceback </summary>. ```pytb. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py:563: RuntimeWarning: Degrees of freedom <= 0 for slice. self._data_covariance = atleast_2d(cov(self.dataset, rowvar=1,. /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: divide by zero encountered in true_divide. c *= np.true_divide(1, fact). /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: invalid value encountered in multiply. c *= np.true_divide(1, fact). ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). /var/folders/bd/43q20k0n6z15tdfzxvd22r7c0000gn/T/ipykernel_4569/1429565136.py in <module>. ----> 1 sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ~/github/scanpy/scanpy/tools/_embedding_density.py in embedding_density(adata, basis, groupby, key_added, components). 164 embed_y = adata.obsm[f'X_{basis}'][cat_mask, components[1]]. 165 . --> 166 dens_embed = _calc_density(embed_x, embed_y). 167 density_values[cat_mask] = dens_embed. 168 . ~/github/scanpy/scanpy/tools/_embedding_density.py in _calc_density(x, y). 19 # Calculate the point density. 20 xy = np.vstack([x, y]). ---> 21 z = gaussian_kde(xy)(xy). 22 . 23 min_z = np.min(z). /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in __init__(self, dataset, bw_method, weights). 204 self._neff = 1/sum(self._weights**2). 205 . --> 206 self.set_bandwidth(bw_method=bw_method). 207 . 208 def evaluate(self, points):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in set_bandwidth(self, bw_method). 552 raise ValueError(msg). 553 . --> 554 self._compute_covariance(). 555 . 556 def _comp",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2043
https://github.com/scverse/scanpy/issues/2043:1521,modifiability,compon,components,1521,"roupby=""annotation_broad_extrapolated""). ```. <details>. <summary> traceback </summary>. ```pytb. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py:563: RuntimeWarning: Degrees of freedom <= 0 for slice. self._data_covariance = atleast_2d(cov(self.dataset, rowvar=1,. /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: divide by zero encountered in true_divide. c *= np.true_divide(1, fact). /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: invalid value encountered in multiply. c *= np.true_divide(1, fact). ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). /var/folders/bd/43q20k0n6z15tdfzxvd22r7c0000gn/T/ipykernel_4569/1429565136.py in <module>. ----> 1 sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ~/github/scanpy/scanpy/tools/_embedding_density.py in embedding_density(adata, basis, groupby, key_added, components). 164 embed_y = adata.obsm[f'X_{basis}'][cat_mask, components[1]]. 165 . --> 166 dens_embed = _calc_density(embed_x, embed_y). 167 density_values[cat_mask] = dens_embed. 168 . ~/github/scanpy/scanpy/tools/_embedding_density.py in _calc_density(x, y). 19 # Calculate the point density. 20 xy = np.vstack([x, y]). ---> 21 z = gaussian_kde(xy)(xy). 22 . 23 min_z = np.min(z). /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in __init__(self, dataset, bw_method, weights). 204 self._neff = 1/sum(self._weights**2). 205 . --> 206 self.set_bandwidth(bw_method=bw_method). 207 . 208 def evaluate(self, points):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in set_bandwidth(self, bw_method). 552 raise ValueError(msg). 553 . --> 554 self._compute_covariance(). 555 . 556 def _compute_covariance(self):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in _compute_covariance(self). 564 bias=False,. 565 aweights=self.weights)). --> 566 self._data_inv_cov = linalg.inv(s",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2043
https://github.com/scverse/scanpy/issues/2043:1583,modifiability,compon,components,1583,"ary> traceback </summary>. ```pytb. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py:563: RuntimeWarning: Degrees of freedom <= 0 for slice. self._data_covariance = atleast_2d(cov(self.dataset, rowvar=1,. /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: divide by zero encountered in true_divide. c *= np.true_divide(1, fact). /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: invalid value encountered in multiply. c *= np.true_divide(1, fact). ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). /var/folders/bd/43q20k0n6z15tdfzxvd22r7c0000gn/T/ipykernel_4569/1429565136.py in <module>. ----> 1 sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ~/github/scanpy/scanpy/tools/_embedding_density.py in embedding_density(adata, basis, groupby, key_added, components). 164 embed_y = adata.obsm[f'X_{basis}'][cat_mask, components[1]]. 165 . --> 166 dens_embed = _calc_density(embed_x, embed_y). 167 density_values[cat_mask] = dens_embed. 168 . ~/github/scanpy/scanpy/tools/_embedding_density.py in _calc_density(x, y). 19 # Calculate the point density. 20 xy = np.vstack([x, y]). ---> 21 z = gaussian_kde(xy)(xy). 22 . 23 min_z = np.min(z). /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in __init__(self, dataset, bw_method, weights). 204 self._neff = 1/sum(self._weights**2). 205 . --> 206 self.set_bandwidth(bw_method=bw_method). 207 . 208 def evaluate(self, points):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in set_bandwidth(self, bw_method). 552 raise ValueError(msg). 553 . --> 554 self._compute_covariance(). 555 . 556 def _compute_covariance(self):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in _compute_covariance(self). 564 bias=False,. 565 aweights=self.weights)). --> 566 self._data_inv_cov = linalg.inv(self._data_covariance). 567 . 568 self.covariance = self._data_",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2043
https://github.com/scverse/scanpy/issues/2043:1935,modifiability,pac,packages,1935,"p.true_divide(1, fact). /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: invalid value encountered in multiply. c *= np.true_divide(1, fact). ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). /var/folders/bd/43q20k0n6z15tdfzxvd22r7c0000gn/T/ipykernel_4569/1429565136.py in <module>. ----> 1 sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ~/github/scanpy/scanpy/tools/_embedding_density.py in embedding_density(adata, basis, groupby, key_added, components). 164 embed_y = adata.obsm[f'X_{basis}'][cat_mask, components[1]]. 165 . --> 166 dens_embed = _calc_density(embed_x, embed_y). 167 density_values[cat_mask] = dens_embed. 168 . ~/github/scanpy/scanpy/tools/_embedding_density.py in _calc_density(x, y). 19 # Calculate the point density. 20 xy = np.vstack([x, y]). ---> 21 z = gaussian_kde(xy)(xy). 22 . 23 min_z = np.min(z). /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in __init__(self, dataset, bw_method, weights). 204 self._neff = 1/sum(self._weights**2). 205 . --> 206 self.set_bandwidth(bw_method=bw_method). 207 . 208 def evaluate(self, points):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in set_bandwidth(self, bw_method). 552 raise ValueError(msg). 553 . --> 554 self._compute_covariance(). 555 . 556 def _compute_covariance(self):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in _compute_covariance(self). 564 bias=False,. 565 aweights=self.weights)). --> 566 self._data_inv_cov = linalg.inv(self._data_covariance). 567 . 568 self.covariance = self._data_covariance * self.factor**2. /usr/local/lib/python3.8/site-packages/scipy/linalg/basic.py in inv(a, overwrite_a, check_finite). 937 . 938 """""". --> 939 a1 = _asarray_validated(a, check_finite=. ). 940 if len(a1.shape) != 2 or a1.shape[0] != a1.shape[1]:. 941 raise ValueError('expected square matrix'). /usr/local/lib/python3.8/site-packages/scipy/_lib",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2043
https://github.com/scverse/scanpy/issues/2043:2177,modifiability,pac,packages,2177,"--------------. ValueError Traceback (most recent call last). /var/folders/bd/43q20k0n6z15tdfzxvd22r7c0000gn/T/ipykernel_4569/1429565136.py in <module>. ----> 1 sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ~/github/scanpy/scanpy/tools/_embedding_density.py in embedding_density(adata, basis, groupby, key_added, components). 164 embed_y = adata.obsm[f'X_{basis}'][cat_mask, components[1]]. 165 . --> 166 dens_embed = _calc_density(embed_x, embed_y). 167 density_values[cat_mask] = dens_embed. 168 . ~/github/scanpy/scanpy/tools/_embedding_density.py in _calc_density(x, y). 19 # Calculate the point density. 20 xy = np.vstack([x, y]). ---> 21 z = gaussian_kde(xy)(xy). 22 . 23 min_z = np.min(z). /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in __init__(self, dataset, bw_method, weights). 204 self._neff = 1/sum(self._weights**2). 205 . --> 206 self.set_bandwidth(bw_method=bw_method). 207 . 208 def evaluate(self, points):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in set_bandwidth(self, bw_method). 552 raise ValueError(msg). 553 . --> 554 self._compute_covariance(). 555 . 556 def _compute_covariance(self):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in _compute_covariance(self). 564 bias=False,. 565 aweights=self.weights)). --> 566 self._data_inv_cov = linalg.inv(self._data_covariance). 567 . 568 self.covariance = self._data_covariance * self.factor**2. /usr/local/lib/python3.8/site-packages/scipy/linalg/basic.py in inv(a, overwrite_a, check_finite). 937 . 938 """""". --> 939 a1 = _asarray_validated(a, check_finite=. ). 940 if len(a1.shape) != 2 or a1.shape[0] != a1.shape[1]:. 941 raise ValueError('expected square matrix'). /usr/local/lib/python3.8/site-packages/scipy/_lib/_util.py in _asarray_validated(a, check_finite, sparse_ok, objects_ok, mask_ok, as_inexact). 291 raise ValueError('masked arrays are not supported'). 292 toarray = np.asarray_chkfinite if check_finite else np.asarray. --> 293 a = toarray(a).",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2043
https://github.com/scverse/scanpy/issues/2043:2381,modifiability,pac,packages,2381,"otation_broad_extrapolated""). ~/github/scanpy/scanpy/tools/_embedding_density.py in embedding_density(adata, basis, groupby, key_added, components). 164 embed_y = adata.obsm[f'X_{basis}'][cat_mask, components[1]]. 165 . --> 166 dens_embed = _calc_density(embed_x, embed_y). 167 density_values[cat_mask] = dens_embed. 168 . ~/github/scanpy/scanpy/tools/_embedding_density.py in _calc_density(x, y). 19 # Calculate the point density. 20 xy = np.vstack([x, y]). ---> 21 z = gaussian_kde(xy)(xy). 22 . 23 min_z = np.min(z). /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in __init__(self, dataset, bw_method, weights). 204 self._neff = 1/sum(self._weights**2). 205 . --> 206 self.set_bandwidth(bw_method=bw_method). 207 . 208 def evaluate(self, points):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in set_bandwidth(self, bw_method). 552 raise ValueError(msg). 553 . --> 554 self._compute_covariance(). 555 . 556 def _compute_covariance(self):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in _compute_covariance(self). 564 bias=False,. 565 aweights=self.weights)). --> 566 self._data_inv_cov = linalg.inv(self._data_covariance). 567 . 568 self.covariance = self._data_covariance * self.factor**2. /usr/local/lib/python3.8/site-packages/scipy/linalg/basic.py in inv(a, overwrite_a, check_finite). 937 . 938 """""". --> 939 a1 = _asarray_validated(a, check_finite=. ). 940 if len(a1.shape) != 2 or a1.shape[0] != a1.shape[1]:. 941 raise ValueError('expected square matrix'). /usr/local/lib/python3.8/site-packages/scipy/_lib/_util.py in _asarray_validated(a, check_finite, sparse_ok, objects_ok, mask_ok, as_inexact). 291 raise ValueError('masked arrays are not supported'). 292 toarray = np.asarray_chkfinite if check_finite else np.asarray. --> 293 a = toarray(a). 294 if not objects_ok:. 295 if a.dtype is np.dtype('O'):. /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py in asarray_chkfinite(a, dtype, order). 486 a = asarray(a, dtype=dtype, order=or",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2043
https://github.com/scverse/scanpy/issues/2043:2647,modifiability,pac,packages,2647,"bed_y). 167 density_values[cat_mask] = dens_embed. 168 . ~/github/scanpy/scanpy/tools/_embedding_density.py in _calc_density(x, y). 19 # Calculate the point density. 20 xy = np.vstack([x, y]). ---> 21 z = gaussian_kde(xy)(xy). 22 . 23 min_z = np.min(z). /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in __init__(self, dataset, bw_method, weights). 204 self._neff = 1/sum(self._weights**2). 205 . --> 206 self.set_bandwidth(bw_method=bw_method). 207 . 208 def evaluate(self, points):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in set_bandwidth(self, bw_method). 552 raise ValueError(msg). 553 . --> 554 self._compute_covariance(). 555 . 556 def _compute_covariance(self):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in _compute_covariance(self). 564 bias=False,. 565 aweights=self.weights)). --> 566 self._data_inv_cov = linalg.inv(self._data_covariance). 567 . 568 self.covariance = self._data_covariance * self.factor**2. /usr/local/lib/python3.8/site-packages/scipy/linalg/basic.py in inv(a, overwrite_a, check_finite). 937 . 938 """""". --> 939 a1 = _asarray_validated(a, check_finite=. ). 940 if len(a1.shape) != 2 or a1.shape[0] != a1.shape[1]:. 941 raise ValueError('expected square matrix'). /usr/local/lib/python3.8/site-packages/scipy/_lib/_util.py in _asarray_validated(a, check_finite, sparse_ok, objects_ok, mask_ok, as_inexact). 291 raise ValueError('masked arrays are not supported'). 292 toarray = np.asarray_chkfinite if check_finite else np.asarray. --> 293 a = toarray(a). 294 if not objects_ok:. 295 if a.dtype is np.dtype('O'):. /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py in asarray_chkfinite(a, dtype, order). 486 a = asarray(a, dtype=dtype, order=order). 487 if a.dtype.char in typecodes['AllFloat'] and not np.isfinite(a).all():. --> 488 raise ValueError(. 489 ""array must not contain infs or NaNs""). 490 return a. ValueError: array must not contain infs or NaNs. ```. </details>. I think it's that one of the cate",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2043
https://github.com/scverse/scanpy/issues/2043:2920,modifiability,pac,packages,2920,"on3.8/site-packages/scipy/stats/kde.py in __init__(self, dataset, bw_method, weights). 204 self._neff = 1/sum(self._weights**2). 205 . --> 206 self.set_bandwidth(bw_method=bw_method). 207 . 208 def evaluate(self, points):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in set_bandwidth(self, bw_method). 552 raise ValueError(msg). 553 . --> 554 self._compute_covariance(). 555 . 556 def _compute_covariance(self):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in _compute_covariance(self). 564 bias=False,. 565 aweights=self.weights)). --> 566 self._data_inv_cov = linalg.inv(self._data_covariance). 567 . 568 self.covariance = self._data_covariance * self.factor**2. /usr/local/lib/python3.8/site-packages/scipy/linalg/basic.py in inv(a, overwrite_a, check_finite). 937 . 938 """""". --> 939 a1 = _asarray_validated(a, check_finite=. ). 940 if len(a1.shape) != 2 or a1.shape[0] != a1.shape[1]:. 941 raise ValueError('expected square matrix'). /usr/local/lib/python3.8/site-packages/scipy/_lib/_util.py in _asarray_validated(a, check_finite, sparse_ok, objects_ok, mask_ok, as_inexact). 291 raise ValueError('masked arrays are not supported'). 292 toarray = np.asarray_chkfinite if check_finite else np.asarray. --> 293 a = toarray(a). 294 if not objects_ok:. 295 if a.dtype is np.dtype('O'):. /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py in asarray_chkfinite(a, dtype, order). 486 a = asarray(a, dtype=dtype, order=order). 487 if a.dtype.char in typecodes['AllFloat'] and not np.isfinite(a).all():. --> 488 raise ValueError(. 489 ""array must not contain infs or NaNs""). 490 return a. ValueError: array must not contain infs or NaNs. ```. </details>. I think it's that one of the categories only has one observation. Probably just needs a better error. ------------. Yup, one obs reproduces:. ```python. adata = sc.datasets.pbmc3k_processed().raw.to_adata(). mask = adata.obs[""louvain""] != ""CD4 T cells"". mask.iloc[0] = True. sc.tl.embedding_density(adata[m",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2043
https://github.com/scverse/scanpy/issues/2043:3270,modifiability,pac,packages,3270,"ts/kde.py in __init__(self, dataset, bw_method, weights). 204 self._neff = 1/sum(self._weights**2). 205 . --> 206 self.set_bandwidth(bw_method=bw_method). 207 . 208 def evaluate(self, points):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in set_bandwidth(self, bw_method). 552 raise ValueError(msg). 553 . --> 554 self._compute_covariance(). 555 . 556 def _compute_covariance(self):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in _compute_covariance(self). 564 bias=False,. 565 aweights=self.weights)). --> 566 self._data_inv_cov = linalg.inv(self._data_covariance). 567 . 568 self.covariance = self._data_covariance * self.factor**2. /usr/local/lib/python3.8/site-packages/scipy/linalg/basic.py in inv(a, overwrite_a, check_finite). 937 . 938 """""". --> 939 a1 = _asarray_validated(a, check_finite=. ). 940 if len(a1.shape) != 2 or a1.shape[0] != a1.shape[1]:. 941 raise ValueError('expected square matrix'). /usr/local/lib/python3.8/site-packages/scipy/_lib/_util.py in _asarray_validated(a, check_finite, sparse_ok, objects_ok, mask_ok, as_inexact). 291 raise ValueError('masked arrays are not supported'). 292 toarray = np.asarray_chkfinite if check_finite else np.asarray. --> 293 a = toarray(a). 294 if not objects_ok:. 295 if a.dtype is np.dtype('O'):. /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py in asarray_chkfinite(a, dtype, order). 486 a = asarray(a, dtype=dtype, order=order). 487 if a.dtype.char in typecodes['AllFloat'] and not np.isfinite(a).all():. --> 488 raise ValueError(. 489 ""array must not contain infs or NaNs""). 490 return a. ValueError: array must not contain infs or NaNs. ```. </details>. I think it's that one of the categories only has one observation. Probably just needs a better error. ------------. Yup, one obs reproduces:. ```python. adata = sc.datasets.pbmc3k_processed().raw.to_adata(). mask = adata.obs[""louvain""] != ""CD4 T cells"". mask.iloc[0] = True. sc.tl.embedding_density(adata[mask], groupby=""louvain""). ```",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2043
https://github.com/scverse/scanpy/issues/2043:24,performance,error,errors,24,"sc.tl.embedding_density errors when a category has one observation; Haven't done much investigation into why, but the [Fly Cell Atlas](https://flycellatlas.org) head dataset (10x, Stringent, H5AD) causes `sc.tl.embedding_density` to error when `groupby=""annotation_broad_extrapolated""`. ```python. import scanpy as sc. # Warning: 2.5gb. !wget -O s_fca_biohub_head_10x.h5ad https://cloud.flycellatlas.org/index.php/s/LAEybPc2HZnpzKs/download. adata = sc.read_h5ad(""s_fca_biohub_head_10x.h5ad""). sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ```. <details>. <summary> traceback </summary>. ```pytb. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py:563: RuntimeWarning: Degrees of freedom <= 0 for slice. self._data_covariance = atleast_2d(cov(self.dataset, rowvar=1,. /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: divide by zero encountered in true_divide. c *= np.true_divide(1, fact). /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: invalid value encountered in multiply. c *= np.true_divide(1, fact). ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). /var/folders/bd/43q20k0n6z15tdfzxvd22r7c0000gn/T/ipykernel_4569/1429565136.py in <module>. ----> 1 sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ~/github/scanpy/scanpy/tools/_embedding_density.py in embedding_density(adata, basis, groupby, key_added, components). 164 embed_y = adata.obsm[f'X_{basis}'][cat_mask, components[1]]. 165 . --> 166 dens_embed = _calc_density(embed_x, embed_y). 167 density_values[cat_mask] = dens_embed. 168 . ~/github/scanpy/scanpy/tools/_embedding_density.py in _calc_density(x, y). 19 # Calculate the point density. 20 xy = np.vstack([x, y]). ---> 21 z = gaussian_kde(xy)(xy). 22 . 23 min_z = np.min(z). /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in __init__(self, dataset, bw_method,",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2043
https://github.com/scverse/scanpy/issues/2043:233,performance,error,error,233,"sc.tl.embedding_density errors when a category has one observation; Haven't done much investigation into why, but the [Fly Cell Atlas](https://flycellatlas.org) head dataset (10x, Stringent, H5AD) causes `sc.tl.embedding_density` to error when `groupby=""annotation_broad_extrapolated""`. ```python. import scanpy as sc. # Warning: 2.5gb. !wget -O s_fca_biohub_head_10x.h5ad https://cloud.flycellatlas.org/index.php/s/LAEybPc2HZnpzKs/download. adata = sc.read_h5ad(""s_fca_biohub_head_10x.h5ad""). sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ```. <details>. <summary> traceback </summary>. ```pytb. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py:563: RuntimeWarning: Degrees of freedom <= 0 for slice. self._data_covariance = atleast_2d(cov(self.dataset, rowvar=1,. /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: divide by zero encountered in true_divide. c *= np.true_divide(1, fact). /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: invalid value encountered in multiply. c *= np.true_divide(1, fact). ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). /var/folders/bd/43q20k0n6z15tdfzxvd22r7c0000gn/T/ipykernel_4569/1429565136.py in <module>. ----> 1 sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ~/github/scanpy/scanpy/tools/_embedding_density.py in embedding_density(adata, basis, groupby, key_added, components). 164 embed_y = adata.obsm[f'X_{basis}'][cat_mask, components[1]]. 165 . --> 166 dens_embed = _calc_density(embed_x, embed_y). 167 density_values[cat_mask] = dens_embed. 168 . ~/github/scanpy/scanpy/tools/_embedding_density.py in _calc_density(x, y). 19 # Calculate the point density. 20 xy = np.vstack([x, y]). ---> 21 z = gaussian_kde(xy)(xy). 22 . 23 min_z = np.min(z). /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in __init__(self, dataset, bw_method,",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2043
https://github.com/scverse/scanpy/issues/2043:3713,performance,error,error,3713,"ts/kde.py in __init__(self, dataset, bw_method, weights). 204 self._neff = 1/sum(self._weights**2). 205 . --> 206 self.set_bandwidth(bw_method=bw_method). 207 . 208 def evaluate(self, points):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in set_bandwidth(self, bw_method). 552 raise ValueError(msg). 553 . --> 554 self._compute_covariance(). 555 . 556 def _compute_covariance(self):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in _compute_covariance(self). 564 bias=False,. 565 aweights=self.weights)). --> 566 self._data_inv_cov = linalg.inv(self._data_covariance). 567 . 568 self.covariance = self._data_covariance * self.factor**2. /usr/local/lib/python3.8/site-packages/scipy/linalg/basic.py in inv(a, overwrite_a, check_finite). 937 . 938 """""". --> 939 a1 = _asarray_validated(a, check_finite=. ). 940 if len(a1.shape) != 2 or a1.shape[0] != a1.shape[1]:. 941 raise ValueError('expected square matrix'). /usr/local/lib/python3.8/site-packages/scipy/_lib/_util.py in _asarray_validated(a, check_finite, sparse_ok, objects_ok, mask_ok, as_inexact). 291 raise ValueError('masked arrays are not supported'). 292 toarray = np.asarray_chkfinite if check_finite else np.asarray. --> 293 a = toarray(a). 294 if not objects_ok:. 295 if a.dtype is np.dtype('O'):. /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py in asarray_chkfinite(a, dtype, order). 486 a = asarray(a, dtype=dtype, order=order). 487 if a.dtype.char in typecodes['AllFloat'] and not np.isfinite(a).all():. --> 488 raise ValueError(. 489 ""array must not contain infs or NaNs""). 490 return a. ValueError: array must not contain infs or NaNs. ```. </details>. I think it's that one of the categories only has one observation. Probably just needs a better error. ------------. Yup, one obs reproduces:. ```python. adata = sc.datasets.pbmc3k_processed().raw.to_adata(). mask = adata.obs[""louvain""] != ""CD4 T cells"". mask.iloc[0] = True. sc.tl.embedding_density(adata[mask], groupby=""louvain""). ```",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2043
https://github.com/scverse/scanpy/issues/2043:731,reliability,sli,slice,731,"sc.tl.embedding_density errors when a category has one observation; Haven't done much investigation into why, but the [Fly Cell Atlas](https://flycellatlas.org) head dataset (10x, Stringent, H5AD) causes `sc.tl.embedding_density` to error when `groupby=""annotation_broad_extrapolated""`. ```python. import scanpy as sc. # Warning: 2.5gb. !wget -O s_fca_biohub_head_10x.h5ad https://cloud.flycellatlas.org/index.php/s/LAEybPc2HZnpzKs/download. adata = sc.read_h5ad(""s_fca_biohub_head_10x.h5ad""). sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ```. <details>. <summary> traceback </summary>. ```pytb. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py:563: RuntimeWarning: Degrees of freedom <= 0 for slice. self._data_covariance = atleast_2d(cov(self.dataset, rowvar=1,. /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: divide by zero encountered in true_divide. c *= np.true_divide(1, fact). /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: invalid value encountered in multiply. c *= np.true_divide(1, fact). ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). /var/folders/bd/43q20k0n6z15tdfzxvd22r7c0000gn/T/ipykernel_4569/1429565136.py in <module>. ----> 1 sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ~/github/scanpy/scanpy/tools/_embedding_density.py in embedding_density(adata, basis, groupby, key_added, components). 164 embed_y = adata.obsm[f'X_{basis}'][cat_mask, components[1]]. 165 . --> 166 dens_embed = _calc_density(embed_x, embed_y). 167 density_values[cat_mask] = dens_embed. 168 . ~/github/scanpy/scanpy/tools/_embedding_density.py in _calc_density(x, y). 19 # Calculate the point density. 20 xy = np.vstack([x, y]). ---> 21 z = gaussian_kde(xy)(xy). 22 . 23 min_z = np.min(z). /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in __init__(self, dataset, bw_method,",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2043
https://github.com/scverse/scanpy/issues/2043:24,safety,error,errors,24,"sc.tl.embedding_density errors when a category has one observation; Haven't done much investigation into why, but the [Fly Cell Atlas](https://flycellatlas.org) head dataset (10x, Stringent, H5AD) causes `sc.tl.embedding_density` to error when `groupby=""annotation_broad_extrapolated""`. ```python. import scanpy as sc. # Warning: 2.5gb. !wget -O s_fca_biohub_head_10x.h5ad https://cloud.flycellatlas.org/index.php/s/LAEybPc2HZnpzKs/download. adata = sc.read_h5ad(""s_fca_biohub_head_10x.h5ad""). sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ```. <details>. <summary> traceback </summary>. ```pytb. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py:563: RuntimeWarning: Degrees of freedom <= 0 for slice. self._data_covariance = atleast_2d(cov(self.dataset, rowvar=1,. /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: divide by zero encountered in true_divide. c *= np.true_divide(1, fact). /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: invalid value encountered in multiply. c *= np.true_divide(1, fact). ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). /var/folders/bd/43q20k0n6z15tdfzxvd22r7c0000gn/T/ipykernel_4569/1429565136.py in <module>. ----> 1 sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ~/github/scanpy/scanpy/tools/_embedding_density.py in embedding_density(adata, basis, groupby, key_added, components). 164 embed_y = adata.obsm[f'X_{basis}'][cat_mask, components[1]]. 165 . --> 166 dens_embed = _calc_density(embed_x, embed_y). 167 density_values[cat_mask] = dens_embed. 168 . ~/github/scanpy/scanpy/tools/_embedding_density.py in _calc_density(x, y). 19 # Calculate the point density. 20 xy = np.vstack([x, y]). ---> 21 z = gaussian_kde(xy)(xy). 22 . 23 min_z = np.min(z). /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in __init__(self, dataset, bw_method,",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2043
https://github.com/scverse/scanpy/issues/2043:233,safety,error,error,233,"sc.tl.embedding_density errors when a category has one observation; Haven't done much investigation into why, but the [Fly Cell Atlas](https://flycellatlas.org) head dataset (10x, Stringent, H5AD) causes `sc.tl.embedding_density` to error when `groupby=""annotation_broad_extrapolated""`. ```python. import scanpy as sc. # Warning: 2.5gb. !wget -O s_fca_biohub_head_10x.h5ad https://cloud.flycellatlas.org/index.php/s/LAEybPc2HZnpzKs/download. adata = sc.read_h5ad(""s_fca_biohub_head_10x.h5ad""). sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ```. <details>. <summary> traceback </summary>. ```pytb. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py:563: RuntimeWarning: Degrees of freedom <= 0 for slice. self._data_covariance = atleast_2d(cov(self.dataset, rowvar=1,. /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: divide by zero encountered in true_divide. c *= np.true_divide(1, fact). /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: invalid value encountered in multiply. c *= np.true_divide(1, fact). ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). /var/folders/bd/43q20k0n6z15tdfzxvd22r7c0000gn/T/ipykernel_4569/1429565136.py in <module>. ----> 1 sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ~/github/scanpy/scanpy/tools/_embedding_density.py in embedding_density(adata, basis, groupby, key_added, components). 164 embed_y = adata.obsm[f'X_{basis}'][cat_mask, components[1]]. 165 . --> 166 dens_embed = _calc_density(embed_x, embed_y). 167 density_values[cat_mask] = dens_embed. 168 . ~/github/scanpy/scanpy/tools/_embedding_density.py in _calc_density(x, y). 19 # Calculate the point density. 20 xy = np.vstack([x, y]). ---> 21 z = gaussian_kde(xy)(xy). 22 . 23 min_z = np.min(z). /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in __init__(self, dataset, bw_method,",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2043
https://github.com/scverse/scanpy/issues/2043:1325,safety,modul,module,1325,": 2.5gb. !wget -O s_fca_biohub_head_10x.h5ad https://cloud.flycellatlas.org/index.php/s/LAEybPc2HZnpzKs/download. adata = sc.read_h5ad(""s_fca_biohub_head_10x.h5ad""). sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ```. <details>. <summary> traceback </summary>. ```pytb. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py:563: RuntimeWarning: Degrees of freedom <= 0 for slice. self._data_covariance = atleast_2d(cov(self.dataset, rowvar=1,. /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: divide by zero encountered in true_divide. c *= np.true_divide(1, fact). /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: invalid value encountered in multiply. c *= np.true_divide(1, fact). ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). /var/folders/bd/43q20k0n6z15tdfzxvd22r7c0000gn/T/ipykernel_4569/1429565136.py in <module>. ----> 1 sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ~/github/scanpy/scanpy/tools/_embedding_density.py in embedding_density(adata, basis, groupby, key_added, components). 164 embed_y = adata.obsm[f'X_{basis}'][cat_mask, components[1]]. 165 . --> 166 dens_embed = _calc_density(embed_x, embed_y). 167 density_values[cat_mask] = dens_embed. 168 . ~/github/scanpy/scanpy/tools/_embedding_density.py in _calc_density(x, y). 19 # Calculate the point density. 20 xy = np.vstack([x, y]). ---> 21 z = gaussian_kde(xy)(xy). 22 . 23 min_z = np.min(z). /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in __init__(self, dataset, bw_method, weights). 204 self._neff = 1/sum(self._weights**2). 205 . --> 206 self.set_bandwidth(bw_method=bw_method). 207 . 208 def evaluate(self, points):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in set_bandwidth(self, bw_method). 552 raise ValueError(msg). 553 . --> 554 self._compute_covariance(). 555 . 556 def _comp",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2043
https://github.com/scverse/scanpy/issues/2043:3713,safety,error,error,3713,"ts/kde.py in __init__(self, dataset, bw_method, weights). 204 self._neff = 1/sum(self._weights**2). 205 . --> 206 self.set_bandwidth(bw_method=bw_method). 207 . 208 def evaluate(self, points):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in set_bandwidth(self, bw_method). 552 raise ValueError(msg). 553 . --> 554 self._compute_covariance(). 555 . 556 def _compute_covariance(self):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in _compute_covariance(self). 564 bias=False,. 565 aweights=self.weights)). --> 566 self._data_inv_cov = linalg.inv(self._data_covariance). 567 . 568 self.covariance = self._data_covariance * self.factor**2. /usr/local/lib/python3.8/site-packages/scipy/linalg/basic.py in inv(a, overwrite_a, check_finite). 937 . 938 """""". --> 939 a1 = _asarray_validated(a, check_finite=. ). 940 if len(a1.shape) != 2 or a1.shape[0] != a1.shape[1]:. 941 raise ValueError('expected square matrix'). /usr/local/lib/python3.8/site-packages/scipy/_lib/_util.py in _asarray_validated(a, check_finite, sparse_ok, objects_ok, mask_ok, as_inexact). 291 raise ValueError('masked arrays are not supported'). 292 toarray = np.asarray_chkfinite if check_finite else np.asarray. --> 293 a = toarray(a). 294 if not objects_ok:. 295 if a.dtype is np.dtype('O'):. /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py in asarray_chkfinite(a, dtype, order). 486 a = asarray(a, dtype=dtype, order=order). 487 if a.dtype.char in typecodes['AllFloat'] and not np.isfinite(a).all():. --> 488 raise ValueError(. 489 ""array must not contain infs or NaNs""). 490 return a. ValueError: array must not contain infs or NaNs. ```. </details>. I think it's that one of the categories only has one observation. Probably just needs a better error. ------------. Yup, one obs reproduces:. ```python. adata = sc.datasets.pbmc3k_processed().raw.to_adata(). mask = adata.obs[""louvain""] != ""CD4 T cells"". mask.iloc[0] = True. sc.tl.embedding_density(adata[mask], groupby=""louvain""). ```",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2043
https://github.com/scverse/scanpy/issues/2043:55,testability,observ,observation,55,"sc.tl.embedding_density errors when a category has one observation; Haven't done much investigation into why, but the [Fly Cell Atlas](https://flycellatlas.org) head dataset (10x, Stringent, H5AD) causes `sc.tl.embedding_density` to error when `groupby=""annotation_broad_extrapolated""`. ```python. import scanpy as sc. # Warning: 2.5gb. !wget -O s_fca_biohub_head_10x.h5ad https://cloud.flycellatlas.org/index.php/s/LAEybPc2HZnpzKs/download. adata = sc.read_h5ad(""s_fca_biohub_head_10x.h5ad""). sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ```. <details>. <summary> traceback </summary>. ```pytb. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py:563: RuntimeWarning: Degrees of freedom <= 0 for slice. self._data_covariance = atleast_2d(cov(self.dataset, rowvar=1,. /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: divide by zero encountered in true_divide. c *= np.true_divide(1, fact). /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: invalid value encountered in multiply. c *= np.true_divide(1, fact). ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). /var/folders/bd/43q20k0n6z15tdfzxvd22r7c0000gn/T/ipykernel_4569/1429565136.py in <module>. ----> 1 sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ~/github/scanpy/scanpy/tools/_embedding_density.py in embedding_density(adata, basis, groupby, key_added, components). 164 embed_y = adata.obsm[f'X_{basis}'][cat_mask, components[1]]. 165 . --> 166 dens_embed = _calc_density(embed_x, embed_y). 167 density_values[cat_mask] = dens_embed. 168 . ~/github/scanpy/scanpy/tools/_embedding_density.py in _calc_density(x, y). 19 # Calculate the point density. 20 xy = np.vstack([x, y]). ---> 21 z = gaussian_kde(xy)(xy). 22 . 23 min_z = np.min(z). /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in __init__(self, dataset, bw_method,",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2043
https://github.com/scverse/scanpy/issues/2043:593,testability,trace,traceback,593,"sc.tl.embedding_density errors when a category has one observation; Haven't done much investigation into why, but the [Fly Cell Atlas](https://flycellatlas.org) head dataset (10x, Stringent, H5AD) causes `sc.tl.embedding_density` to error when `groupby=""annotation_broad_extrapolated""`. ```python. import scanpy as sc. # Warning: 2.5gb. !wget -O s_fca_biohub_head_10x.h5ad https://cloud.flycellatlas.org/index.php/s/LAEybPc2HZnpzKs/download. adata = sc.read_h5ad(""s_fca_biohub_head_10x.h5ad""). sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ```. <details>. <summary> traceback </summary>. ```pytb. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py:563: RuntimeWarning: Degrees of freedom <= 0 for slice. self._data_covariance = atleast_2d(cov(self.dataset, rowvar=1,. /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: divide by zero encountered in true_divide. c *= np.true_divide(1, fact). /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: invalid value encountered in multiply. c *= np.true_divide(1, fact). ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). /var/folders/bd/43q20k0n6z15tdfzxvd22r7c0000gn/T/ipykernel_4569/1429565136.py in <module>. ----> 1 sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ~/github/scanpy/scanpy/tools/_embedding_density.py in embedding_density(adata, basis, groupby, key_added, components). 164 embed_y = adata.obsm[f'X_{basis}'][cat_mask, components[1]]. 165 . --> 166 dens_embed = _calc_density(embed_x, embed_y). 167 density_values[cat_mask] = dens_embed. 168 . ~/github/scanpy/scanpy/tools/_embedding_density.py in _calc_density(x, y). 19 # Calculate the point density. 20 xy = np.vstack([x, y]). ---> 21 z = gaussian_kde(xy)(xy). 22 . 23 min_z = np.min(z). /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in __init__(self, dataset, bw_method,",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2043
https://github.com/scverse/scanpy/issues/2043:1208,testability,Trace,Traceback,1208,"bedding_density` to error when `groupby=""annotation_broad_extrapolated""`. ```python. import scanpy as sc. # Warning: 2.5gb. !wget -O s_fca_biohub_head_10x.h5ad https://cloud.flycellatlas.org/index.php/s/LAEybPc2HZnpzKs/download. adata = sc.read_h5ad(""s_fca_biohub_head_10x.h5ad""). sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ```. <details>. <summary> traceback </summary>. ```pytb. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py:563: RuntimeWarning: Degrees of freedom <= 0 for slice. self._data_covariance = atleast_2d(cov(self.dataset, rowvar=1,. /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: divide by zero encountered in true_divide. c *= np.true_divide(1, fact). /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: invalid value encountered in multiply. c *= np.true_divide(1, fact). ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). /var/folders/bd/43q20k0n6z15tdfzxvd22r7c0000gn/T/ipykernel_4569/1429565136.py in <module>. ----> 1 sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ~/github/scanpy/scanpy/tools/_embedding_density.py in embedding_density(adata, basis, groupby, key_added, components). 164 embed_y = adata.obsm[f'X_{basis}'][cat_mask, components[1]]. 165 . --> 166 dens_embed = _calc_density(embed_x, embed_y). 167 density_values[cat_mask] = dens_embed. 168 . ~/github/scanpy/scanpy/tools/_embedding_density.py in _calc_density(x, y). 19 # Calculate the point density. 20 xy = np.vstack([x, y]). ---> 21 z = gaussian_kde(xy)(xy). 22 . 23 min_z = np.min(z). /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in __init__(self, dataset, bw_method, weights). 204 self._neff = 1/sum(self._weights**2). 205 . --> 206 self.set_bandwidth(bw_method=bw_method). 207 . 208 def evaluate(self, points):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in set_b",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2043
https://github.com/scverse/scanpy/issues/2043:3671,testability,observ,observation,3671,"ts/kde.py in __init__(self, dataset, bw_method, weights). 204 self._neff = 1/sum(self._weights**2). 205 . --> 206 self.set_bandwidth(bw_method=bw_method). 207 . 208 def evaluate(self, points):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in set_bandwidth(self, bw_method). 552 raise ValueError(msg). 553 . --> 554 self._compute_covariance(). 555 . 556 def _compute_covariance(self):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in _compute_covariance(self). 564 bias=False,. 565 aweights=self.weights)). --> 566 self._data_inv_cov = linalg.inv(self._data_covariance). 567 . 568 self.covariance = self._data_covariance * self.factor**2. /usr/local/lib/python3.8/site-packages/scipy/linalg/basic.py in inv(a, overwrite_a, check_finite). 937 . 938 """""". --> 939 a1 = _asarray_validated(a, check_finite=. ). 940 if len(a1.shape) != 2 or a1.shape[0] != a1.shape[1]:. 941 raise ValueError('expected square matrix'). /usr/local/lib/python3.8/site-packages/scipy/_lib/_util.py in _asarray_validated(a, check_finite, sparse_ok, objects_ok, mask_ok, as_inexact). 291 raise ValueError('masked arrays are not supported'). 292 toarray = np.asarray_chkfinite if check_finite else np.asarray. --> 293 a = toarray(a). 294 if not objects_ok:. 295 if a.dtype is np.dtype('O'):. /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py in asarray_chkfinite(a, dtype, order). 486 a = asarray(a, dtype=dtype, order=order). 487 if a.dtype.char in typecodes['AllFloat'] and not np.isfinite(a).all():. --> 488 raise ValueError(. 489 ""array must not contain infs or NaNs""). 490 return a. ValueError: array must not contain infs or NaNs. ```. </details>. I think it's that one of the categories only has one observation. Probably just needs a better error. ------------. Yup, one obs reproduces:. ```python. adata = sc.datasets.pbmc3k_processed().raw.to_adata(). mask = adata.obs[""louvain""] != ""CD4 T cells"". mask.iloc[0] = True. sc.tl.embedding_density(adata[mask], groupby=""louvain""). ```",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2043
https://github.com/scverse/scanpy/issues/2043:24,usability,error,errors,24,"sc.tl.embedding_density errors when a category has one observation; Haven't done much investigation into why, but the [Fly Cell Atlas](https://flycellatlas.org) head dataset (10x, Stringent, H5AD) causes `sc.tl.embedding_density` to error when `groupby=""annotation_broad_extrapolated""`. ```python. import scanpy as sc. # Warning: 2.5gb. !wget -O s_fca_biohub_head_10x.h5ad https://cloud.flycellatlas.org/index.php/s/LAEybPc2HZnpzKs/download. adata = sc.read_h5ad(""s_fca_biohub_head_10x.h5ad""). sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ```. <details>. <summary> traceback </summary>. ```pytb. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py:563: RuntimeWarning: Degrees of freedom <= 0 for slice. self._data_covariance = atleast_2d(cov(self.dataset, rowvar=1,. /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: divide by zero encountered in true_divide. c *= np.true_divide(1, fact). /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: invalid value encountered in multiply. c *= np.true_divide(1, fact). ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). /var/folders/bd/43q20k0n6z15tdfzxvd22r7c0000gn/T/ipykernel_4569/1429565136.py in <module>. ----> 1 sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ~/github/scanpy/scanpy/tools/_embedding_density.py in embedding_density(adata, basis, groupby, key_added, components). 164 embed_y = adata.obsm[f'X_{basis}'][cat_mask, components[1]]. 165 . --> 166 dens_embed = _calc_density(embed_x, embed_y). 167 density_values[cat_mask] = dens_embed. 168 . ~/github/scanpy/scanpy/tools/_embedding_density.py in _calc_density(x, y). 19 # Calculate the point density. 20 xy = np.vstack([x, y]). ---> 21 z = gaussian_kde(xy)(xy). 22 . 23 min_z = np.min(z). /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in __init__(self, dataset, bw_method,",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2043
https://github.com/scverse/scanpy/issues/2043:233,usability,error,error,233,"sc.tl.embedding_density errors when a category has one observation; Haven't done much investigation into why, but the [Fly Cell Atlas](https://flycellatlas.org) head dataset (10x, Stringent, H5AD) causes `sc.tl.embedding_density` to error when `groupby=""annotation_broad_extrapolated""`. ```python. import scanpy as sc. # Warning: 2.5gb. !wget -O s_fca_biohub_head_10x.h5ad https://cloud.flycellatlas.org/index.php/s/LAEybPc2HZnpzKs/download. adata = sc.read_h5ad(""s_fca_biohub_head_10x.h5ad""). sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ```. <details>. <summary> traceback </summary>. ```pytb. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py:563: RuntimeWarning: Degrees of freedom <= 0 for slice. self._data_covariance = atleast_2d(cov(self.dataset, rowvar=1,. /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: divide by zero encountered in true_divide. c *= np.true_divide(1, fact). /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: invalid value encountered in multiply. c *= np.true_divide(1, fact). ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). /var/folders/bd/43q20k0n6z15tdfzxvd22r7c0000gn/T/ipykernel_4569/1429565136.py in <module>. ----> 1 sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ~/github/scanpy/scanpy/tools/_embedding_density.py in embedding_density(adata, basis, groupby, key_added, components). 164 embed_y = adata.obsm[f'X_{basis}'][cat_mask, components[1]]. 165 . --> 166 dens_embed = _calc_density(embed_x, embed_y). 167 density_values[cat_mask] = dens_embed. 168 . ~/github/scanpy/scanpy/tools/_embedding_density.py in _calc_density(x, y). 19 # Calculate the point density. 20 xy = np.vstack([x, y]). ---> 21 z = gaussian_kde(xy)(xy). 22 . 23 min_z = np.min(z). /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in __init__(self, dataset, bw_method,",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2043
https://github.com/scverse/scanpy/issues/2043:1438,usability,tool,tools,1438," adata = sc.read_h5ad(""s_fca_biohub_head_10x.h5ad""). sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ```. <details>. <summary> traceback </summary>. ```pytb. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py:563: RuntimeWarning: Degrees of freedom <= 0 for slice. self._data_covariance = atleast_2d(cov(self.dataset, rowvar=1,. /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: divide by zero encountered in true_divide. c *= np.true_divide(1, fact). /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: invalid value encountered in multiply. c *= np.true_divide(1, fact). ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). /var/folders/bd/43q20k0n6z15tdfzxvd22r7c0000gn/T/ipykernel_4569/1429565136.py in <module>. ----> 1 sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ~/github/scanpy/scanpy/tools/_embedding_density.py in embedding_density(adata, basis, groupby, key_added, components). 164 embed_y = adata.obsm[f'X_{basis}'][cat_mask, components[1]]. 165 . --> 166 dens_embed = _calc_density(embed_x, embed_y). 167 density_values[cat_mask] = dens_embed. 168 . ~/github/scanpy/scanpy/tools/_embedding_density.py in _calc_density(x, y). 19 # Calculate the point density. 20 xy = np.vstack([x, y]). ---> 21 z = gaussian_kde(xy)(xy). 22 . 23 min_z = np.min(z). /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in __init__(self, dataset, bw_method, weights). 204 self._neff = 1/sum(self._weights**2). 205 . --> 206 self.set_bandwidth(bw_method=bw_method). 207 . 208 def evaluate(self, points):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in set_bandwidth(self, bw_method). 552 raise ValueError(msg). 553 . --> 554 self._compute_covariance(). 555 . 556 def _compute_covariance(self):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in _compute_covariance(self). 56",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2043
https://github.com/scverse/scanpy/issues/2043:1731,usability,tool,tools,1731,"ce. self._data_covariance = atleast_2d(cov(self.dataset, rowvar=1,. /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: divide by zero encountered in true_divide. c *= np.true_divide(1, fact). /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py:2493: RuntimeWarning: invalid value encountered in multiply. c *= np.true_divide(1, fact). ---------------------------------------------------------------------------. ValueError Traceback (most recent call last). /var/folders/bd/43q20k0n6z15tdfzxvd22r7c0000gn/T/ipykernel_4569/1429565136.py in <module>. ----> 1 sc.tl.embedding_density(adata, groupby=""annotation_broad_extrapolated""). ~/github/scanpy/scanpy/tools/_embedding_density.py in embedding_density(adata, basis, groupby, key_added, components). 164 embed_y = adata.obsm[f'X_{basis}'][cat_mask, components[1]]. 165 . --> 166 dens_embed = _calc_density(embed_x, embed_y). 167 density_values[cat_mask] = dens_embed. 168 . ~/github/scanpy/scanpy/tools/_embedding_density.py in _calc_density(x, y). 19 # Calculate the point density. 20 xy = np.vstack([x, y]). ---> 21 z = gaussian_kde(xy)(xy). 22 . 23 min_z = np.min(z). /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in __init__(self, dataset, bw_method, weights). 204 self._neff = 1/sum(self._weights**2). 205 . --> 206 self.set_bandwidth(bw_method=bw_method). 207 . 208 def evaluate(self, points):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in set_bandwidth(self, bw_method). 552 raise ValueError(msg). 553 . --> 554 self._compute_covariance(). 555 . 556 def _compute_covariance(self):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in _compute_covariance(self). 564 bias=False,. 565 aweights=self.weights)). --> 566 self._data_inv_cov = linalg.inv(self._data_covariance). 567 . 568 self.covariance = self._data_covariance * self.factor**2. /usr/local/lib/python3.8/site-packages/scipy/linalg/basic.py in inv(a, overwrite_a, check_finite). 937 . 938 """""". -->",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2043
https://github.com/scverse/scanpy/issues/2043:3077,usability,support,supported,3077,"ts/kde.py in __init__(self, dataset, bw_method, weights). 204 self._neff = 1/sum(self._weights**2). 205 . --> 206 self.set_bandwidth(bw_method=bw_method). 207 . 208 def evaluate(self, points):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in set_bandwidth(self, bw_method). 552 raise ValueError(msg). 553 . --> 554 self._compute_covariance(). 555 . 556 def _compute_covariance(self):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in _compute_covariance(self). 564 bias=False,. 565 aweights=self.weights)). --> 566 self._data_inv_cov = linalg.inv(self._data_covariance). 567 . 568 self.covariance = self._data_covariance * self.factor**2. /usr/local/lib/python3.8/site-packages/scipy/linalg/basic.py in inv(a, overwrite_a, check_finite). 937 . 938 """""". --> 939 a1 = _asarray_validated(a, check_finite=. ). 940 if len(a1.shape) != 2 or a1.shape[0] != a1.shape[1]:. 941 raise ValueError('expected square matrix'). /usr/local/lib/python3.8/site-packages/scipy/_lib/_util.py in _asarray_validated(a, check_finite, sparse_ok, objects_ok, mask_ok, as_inexact). 291 raise ValueError('masked arrays are not supported'). 292 toarray = np.asarray_chkfinite if check_finite else np.asarray. --> 293 a = toarray(a). 294 if not objects_ok:. 295 if a.dtype is np.dtype('O'):. /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py in asarray_chkfinite(a, dtype, order). 486 a = asarray(a, dtype=dtype, order=order). 487 if a.dtype.char in typecodes['AllFloat'] and not np.isfinite(a).all():. --> 488 raise ValueError(. 489 ""array must not contain infs or NaNs""). 490 return a. ValueError: array must not contain infs or NaNs. ```. </details>. I think it's that one of the categories only has one observation. Probably just needs a better error. ------------. Yup, one obs reproduces:. ```python. adata = sc.datasets.pbmc3k_processed().raw.to_adata(). mask = adata.obs[""louvain""] != ""CD4 T cells"". mask.iloc[0] = True. sc.tl.embedding_density(adata[mask], groupby=""louvain""). ```",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2043
https://github.com/scverse/scanpy/issues/2043:3713,usability,error,error,3713,"ts/kde.py in __init__(self, dataset, bw_method, weights). 204 self._neff = 1/sum(self._weights**2). 205 . --> 206 self.set_bandwidth(bw_method=bw_method). 207 . 208 def evaluate(self, points):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in set_bandwidth(self, bw_method). 552 raise ValueError(msg). 553 . --> 554 self._compute_covariance(). 555 . 556 def _compute_covariance(self):. /usr/local/lib/python3.8/site-packages/scipy/stats/kde.py in _compute_covariance(self). 564 bias=False,. 565 aweights=self.weights)). --> 566 self._data_inv_cov = linalg.inv(self._data_covariance). 567 . 568 self.covariance = self._data_covariance * self.factor**2. /usr/local/lib/python3.8/site-packages/scipy/linalg/basic.py in inv(a, overwrite_a, check_finite). 937 . 938 """""". --> 939 a1 = _asarray_validated(a, check_finite=. ). 940 if len(a1.shape) != 2 or a1.shape[0] != a1.shape[1]:. 941 raise ValueError('expected square matrix'). /usr/local/lib/python3.8/site-packages/scipy/_lib/_util.py in _asarray_validated(a, check_finite, sparse_ok, objects_ok, mask_ok, as_inexact). 291 raise ValueError('masked arrays are not supported'). 292 toarray = np.asarray_chkfinite if check_finite else np.asarray. --> 293 a = toarray(a). 294 if not objects_ok:. 295 if a.dtype is np.dtype('O'):. /usr/local/lib/python3.8/site-packages/numpy/lib/function_base.py in asarray_chkfinite(a, dtype, order). 486 a = asarray(a, dtype=dtype, order=order). 487 if a.dtype.char in typecodes['AllFloat'] and not np.isfinite(a).all():. --> 488 raise ValueError(. 489 ""array must not contain infs or NaNs""). 490 return a. ValueError: array must not contain infs or NaNs. ```. </details>. I think it's that one of the categories only has one observation. Probably just needs a better error. ------------. Yup, one obs reproduces:. ```python. adata = sc.datasets.pbmc3k_processed().raw.to_adata(). mask = adata.obs[""louvain""] != ""CD4 T cells"". mask.iloc[0] = True. sc.tl.embedding_density(adata[mask], groupby=""louvain""). ```",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2043
https://github.com/scverse/scanpy/issues/2044:624,deployability,Version,Versions,624,"illegal hardware instruction (core dumped) when calling sc.external.pp.mnn_correct; ### Minimal code sample (that we can copy&paste without having any data). when I follow your tutorial on https://nbisweden.github.io/workshop-scRNAseq/labs/compiled/scanpy/scanpy_03_integration.html. to the . ```python. cdata = sc.external.pp.mnn_correct(alldata['covid_1'],alldata['covid_15'],alldata['covid_17'],. alldata['ctrl_5'],alldata['ctrl_13'],alldata['ctrl_14'], . svd_dim = 50, batch_key = 'sample', save_raw = True, var_subset = var_genes). ```. line, then it said. `[1] 1764091 illegal hardware instruction (core dumped`. #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.8.2. sinfo 0.3.4. -----. PIL 8.2.0. bottleneck 1.3.2. cffi 1.14.5. cloudpickle 1.6.0. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. cytoolz 0.11.0. dask 2021.04.0. dateutil 2.8.1. fsspec 0.9.0. h5py 2.10.0. igraph 0.9.8. joblib 1.0.1. kiwisolver 1.3.1. leidenalg 0.8.8. llvmlite 0.36.0. matplotlib 3.3.4. mkl 2.3.0. mpl_toolkits NA. natsort 8.0.0. numba 0.53.1. numexpr 2.7.3. numpy 1.20.1. packaging 20.9. pandas 1.2.4. pkg_resources NA. psutil 5.8.0. pyparsing 2.4.7. pytz 2021.1. scipy 1.6.2. six 1.15.0. sklearn 0.24.1. sphinxcontrib NA. tables 3.6.1. tblib 1.7.0. texttable 1.6.4. tlz 0.11.0. toolz 0.11.1. typing_extensions NA. wcwidth 0.2.5. yaml 5.4.1. zope NA. -----. Python 3.8.8 (default, Apr 13 2021, 19:58:26) [GCC 7.3.0]. Linux-5.11.0-38-generic-x86_64-with-glibc2.10. 64 logical CPU cores. -----. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2044
https://github.com/scverse/scanpy/issues/2044:1466,deployability,log,logical,1466,"illegal hardware instruction (core dumped) when calling sc.external.pp.mnn_correct; ### Minimal code sample (that we can copy&paste without having any data). when I follow your tutorial on https://nbisweden.github.io/workshop-scRNAseq/labs/compiled/scanpy/scanpy_03_integration.html. to the . ```python. cdata = sc.external.pp.mnn_correct(alldata['covid_1'],alldata['covid_15'],alldata['covid_17'],. alldata['ctrl_5'],alldata['ctrl_13'],alldata['ctrl_14'], . svd_dim = 50, batch_key = 'sample', save_raw = True, var_subset = var_genes). ```. line, then it said. `[1] 1764091 illegal hardware instruction (core dumped`. #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.8.2. sinfo 0.3.4. -----. PIL 8.2.0. bottleneck 1.3.2. cffi 1.14.5. cloudpickle 1.6.0. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. cytoolz 0.11.0. dask 2021.04.0. dateutil 2.8.1. fsspec 0.9.0. h5py 2.10.0. igraph 0.9.8. joblib 1.0.1. kiwisolver 1.3.1. leidenalg 0.8.8. llvmlite 0.36.0. matplotlib 3.3.4. mkl 2.3.0. mpl_toolkits NA. natsort 8.0.0. numba 0.53.1. numexpr 2.7.3. numpy 1.20.1. packaging 20.9. pandas 1.2.4. pkg_resources NA. psutil 5.8.0. pyparsing 2.4.7. pytz 2021.1. scipy 1.6.2. six 1.15.0. sklearn 0.24.1. sphinxcontrib NA. tables 3.6.1. tblib 1.7.0. texttable 1.6.4. tlz 0.11.0. toolz 0.11.1. typing_extensions NA. wcwidth 0.2.5. yaml 5.4.1. zope NA. -----. Python 3.8.8 (default, Apr 13 2021, 19:58:26) [GCC 7.3.0]. Linux-5.11.0-38-generic-x86_64-with-glibc2.10. 64 logical CPU cores. -----. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2044
https://github.com/scverse/scanpy/issues/2044:30,energy efficiency,core,core,30,"illegal hardware instruction (core dumped) when calling sc.external.pp.mnn_correct; ### Minimal code sample (that we can copy&paste without having any data). when I follow your tutorial on https://nbisweden.github.io/workshop-scRNAseq/labs/compiled/scanpy/scanpy_03_integration.html. to the . ```python. cdata = sc.external.pp.mnn_correct(alldata['covid_1'],alldata['covid_15'],alldata['covid_17'],. alldata['ctrl_5'],alldata['ctrl_13'],alldata['ctrl_14'], . svd_dim = 50, batch_key = 'sample', save_raw = True, var_subset = var_genes). ```. line, then it said. `[1] 1764091 illegal hardware instruction (core dumped`. #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.8.2. sinfo 0.3.4. -----. PIL 8.2.0. bottleneck 1.3.2. cffi 1.14.5. cloudpickle 1.6.0. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. cytoolz 0.11.0. dask 2021.04.0. dateutil 2.8.1. fsspec 0.9.0. h5py 2.10.0. igraph 0.9.8. joblib 1.0.1. kiwisolver 1.3.1. leidenalg 0.8.8. llvmlite 0.36.0. matplotlib 3.3.4. mkl 2.3.0. mpl_toolkits NA. natsort 8.0.0. numba 0.53.1. numexpr 2.7.3. numpy 1.20.1. packaging 20.9. pandas 1.2.4. pkg_resources NA. psutil 5.8.0. pyparsing 2.4.7. pytz 2021.1. scipy 1.6.2. six 1.15.0. sklearn 0.24.1. sphinxcontrib NA. tables 3.6.1. tblib 1.7.0. texttable 1.6.4. tlz 0.11.0. toolz 0.11.1. typing_extensions NA. wcwidth 0.2.5. yaml 5.4.1. zope NA. -----. Python 3.8.8 (default, Apr 13 2021, 19:58:26) [GCC 7.3.0]. Linux-5.11.0-38-generic-x86_64-with-glibc2.10. 64 logical CPU cores. -----. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2044
https://github.com/scverse/scanpy/issues/2044:605,energy efficiency,core,core,605,"illegal hardware instruction (core dumped) when calling sc.external.pp.mnn_correct; ### Minimal code sample (that we can copy&paste without having any data). when I follow your tutorial on https://nbisweden.github.io/workshop-scRNAseq/labs/compiled/scanpy/scanpy_03_integration.html. to the . ```python. cdata = sc.external.pp.mnn_correct(alldata['covid_1'],alldata['covid_15'],alldata['covid_17'],. alldata['ctrl_5'],alldata['ctrl_13'],alldata['ctrl_14'], . svd_dim = 50, batch_key = 'sample', save_raw = True, var_subset = var_genes). ```. line, then it said. `[1] 1764091 illegal hardware instruction (core dumped`. #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.8.2. sinfo 0.3.4. -----. PIL 8.2.0. bottleneck 1.3.2. cffi 1.14.5. cloudpickle 1.6.0. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. cytoolz 0.11.0. dask 2021.04.0. dateutil 2.8.1. fsspec 0.9.0. h5py 2.10.0. igraph 0.9.8. joblib 1.0.1. kiwisolver 1.3.1. leidenalg 0.8.8. llvmlite 0.36.0. matplotlib 3.3.4. mkl 2.3.0. mpl_toolkits NA. natsort 8.0.0. numba 0.53.1. numexpr 2.7.3. numpy 1.20.1. packaging 20.9. pandas 1.2.4. pkg_resources NA. psutil 5.8.0. pyparsing 2.4.7. pytz 2021.1. scipy 1.6.2. six 1.15.0. sklearn 0.24.1. sphinxcontrib NA. tables 3.6.1. tblib 1.7.0. texttable 1.6.4. tlz 0.11.0. toolz 0.11.1. typing_extensions NA. wcwidth 0.2.5. yaml 5.4.1. zope NA. -----. Python 3.8.8 (default, Apr 13 2021, 19:58:26) [GCC 7.3.0]. Linux-5.11.0-38-generic-x86_64-with-glibc2.10. 64 logical CPU cores. -----. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2044
https://github.com/scverse/scanpy/issues/2044:743,energy efficiency,cloud,cloudpickle,743,"illegal hardware instruction (core dumped) when calling sc.external.pp.mnn_correct; ### Minimal code sample (that we can copy&paste without having any data). when I follow your tutorial on https://nbisweden.github.io/workshop-scRNAseq/labs/compiled/scanpy/scanpy_03_integration.html. to the . ```python. cdata = sc.external.pp.mnn_correct(alldata['covid_1'],alldata['covid_15'],alldata['covid_17'],. alldata['ctrl_5'],alldata['ctrl_13'],alldata['ctrl_14'], . svd_dim = 50, batch_key = 'sample', save_raw = True, var_subset = var_genes). ```. line, then it said. `[1] 1764091 illegal hardware instruction (core dumped`. #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.8.2. sinfo 0.3.4. -----. PIL 8.2.0. bottleneck 1.3.2. cffi 1.14.5. cloudpickle 1.6.0. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. cytoolz 0.11.0. dask 2021.04.0. dateutil 2.8.1. fsspec 0.9.0. h5py 2.10.0. igraph 0.9.8. joblib 1.0.1. kiwisolver 1.3.1. leidenalg 0.8.8. llvmlite 0.36.0. matplotlib 3.3.4. mkl 2.3.0. mpl_toolkits NA. natsort 8.0.0. numba 0.53.1. numexpr 2.7.3. numpy 1.20.1. packaging 20.9. pandas 1.2.4. pkg_resources NA. psutil 5.8.0. pyparsing 2.4.7. pytz 2021.1. scipy 1.6.2. six 1.15.0. sklearn 0.24.1. sphinxcontrib NA. tables 3.6.1. tblib 1.7.0. texttable 1.6.4. tlz 0.11.0. toolz 0.11.1. typing_extensions NA. wcwidth 0.2.5. yaml 5.4.1. zope NA. -----. Python 3.8.8 (default, Apr 13 2021, 19:58:26) [GCC 7.3.0]. Linux-5.11.0-38-generic-x86_64-with-glibc2.10. 64 logical CPU cores. -----. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2044
https://github.com/scverse/scanpy/issues/2044:1474,energy efficiency,CPU,CPU,1474,"illegal hardware instruction (core dumped) when calling sc.external.pp.mnn_correct; ### Minimal code sample (that we can copy&paste without having any data). when I follow your tutorial on https://nbisweden.github.io/workshop-scRNAseq/labs/compiled/scanpy/scanpy_03_integration.html. to the . ```python. cdata = sc.external.pp.mnn_correct(alldata['covid_1'],alldata['covid_15'],alldata['covid_17'],. alldata['ctrl_5'],alldata['ctrl_13'],alldata['ctrl_14'], . svd_dim = 50, batch_key = 'sample', save_raw = True, var_subset = var_genes). ```. line, then it said. `[1] 1764091 illegal hardware instruction (core dumped`. #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.8.2. sinfo 0.3.4. -----. PIL 8.2.0. bottleneck 1.3.2. cffi 1.14.5. cloudpickle 1.6.0. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. cytoolz 0.11.0. dask 2021.04.0. dateutil 2.8.1. fsspec 0.9.0. h5py 2.10.0. igraph 0.9.8. joblib 1.0.1. kiwisolver 1.3.1. leidenalg 0.8.8. llvmlite 0.36.0. matplotlib 3.3.4. mkl 2.3.0. mpl_toolkits NA. natsort 8.0.0. numba 0.53.1. numexpr 2.7.3. numpy 1.20.1. packaging 20.9. pandas 1.2.4. pkg_resources NA. psutil 5.8.0. pyparsing 2.4.7. pytz 2021.1. scipy 1.6.2. six 1.15.0. sklearn 0.24.1. sphinxcontrib NA. tables 3.6.1. tblib 1.7.0. texttable 1.6.4. tlz 0.11.0. toolz 0.11.1. typing_extensions NA. wcwidth 0.2.5. yaml 5.4.1. zope NA. -----. Python 3.8.8 (default, Apr 13 2021, 19:58:26) [GCC 7.3.0]. Linux-5.11.0-38-generic-x86_64-with-glibc2.10. 64 logical CPU cores. -----. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2044
https://github.com/scverse/scanpy/issues/2044:1478,energy efficiency,core,cores,1478,"illegal hardware instruction (core dumped) when calling sc.external.pp.mnn_correct; ### Minimal code sample (that we can copy&paste without having any data). when I follow your tutorial on https://nbisweden.github.io/workshop-scRNAseq/labs/compiled/scanpy/scanpy_03_integration.html. to the . ```python. cdata = sc.external.pp.mnn_correct(alldata['covid_1'],alldata['covid_15'],alldata['covid_17'],. alldata['ctrl_5'],alldata['ctrl_13'],alldata['ctrl_14'], . svd_dim = 50, batch_key = 'sample', save_raw = True, var_subset = var_genes). ```. line, then it said. `[1] 1764091 illegal hardware instruction (core dumped`. #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.8.2. sinfo 0.3.4. -----. PIL 8.2.0. bottleneck 1.3.2. cffi 1.14.5. cloudpickle 1.6.0. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. cytoolz 0.11.0. dask 2021.04.0. dateutil 2.8.1. fsspec 0.9.0. h5py 2.10.0. igraph 0.9.8. joblib 1.0.1. kiwisolver 1.3.1. leidenalg 0.8.8. llvmlite 0.36.0. matplotlib 3.3.4. mkl 2.3.0. mpl_toolkits NA. natsort 8.0.0. numba 0.53.1. numexpr 2.7.3. numpy 1.20.1. packaging 20.9. pandas 1.2.4. pkg_resources NA. psutil 5.8.0. pyparsing 2.4.7. pytz 2021.1. scipy 1.6.2. six 1.15.0. sklearn 0.24.1. sphinxcontrib NA. tables 3.6.1. tblib 1.7.0. texttable 1.6.4. tlz 0.11.0. toolz 0.11.1. typing_extensions NA. wcwidth 0.2.5. yaml 5.4.1. zope NA. -----. Python 3.8.8 (default, Apr 13 2021, 19:58:26) [GCC 7.3.0]. Linux-5.11.0-38-generic-x86_64-with-glibc2.10. 64 logical CPU cores. -----. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2044
https://github.com/scverse/scanpy/issues/2044:624,integrability,Version,Versions,624,"illegal hardware instruction (core dumped) when calling sc.external.pp.mnn_correct; ### Minimal code sample (that we can copy&paste without having any data). when I follow your tutorial on https://nbisweden.github.io/workshop-scRNAseq/labs/compiled/scanpy/scanpy_03_integration.html. to the . ```python. cdata = sc.external.pp.mnn_correct(alldata['covid_1'],alldata['covid_15'],alldata['covid_17'],. alldata['ctrl_5'],alldata['ctrl_13'],alldata['ctrl_14'], . svd_dim = 50, batch_key = 'sample', save_raw = True, var_subset = var_genes). ```. line, then it said. `[1] 1764091 illegal hardware instruction (core dumped`. #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.8.2. sinfo 0.3.4. -----. PIL 8.2.0. bottleneck 1.3.2. cffi 1.14.5. cloudpickle 1.6.0. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. cytoolz 0.11.0. dask 2021.04.0. dateutil 2.8.1. fsspec 0.9.0. h5py 2.10.0. igraph 0.9.8. joblib 1.0.1. kiwisolver 1.3.1. leidenalg 0.8.8. llvmlite 0.36.0. matplotlib 3.3.4. mkl 2.3.0. mpl_toolkits NA. natsort 8.0.0. numba 0.53.1. numexpr 2.7.3. numpy 1.20.1. packaging 20.9. pandas 1.2.4. pkg_resources NA. psutil 5.8.0. pyparsing 2.4.7. pytz 2021.1. scipy 1.6.2. six 1.15.0. sklearn 0.24.1. sphinxcontrib NA. tables 3.6.1. tblib 1.7.0. texttable 1.6.4. tlz 0.11.0. toolz 0.11.1. typing_extensions NA. wcwidth 0.2.5. yaml 5.4.1. zope NA. -----. Python 3.8.8 (default, Apr 13 2021, 19:58:26) [GCC 7.3.0]. Linux-5.11.0-38-generic-x86_64-with-glibc2.10. 64 logical CPU cores. -----. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2044
https://github.com/scverse/scanpy/issues/2044:624,modifiability,Version,Versions,624,"illegal hardware instruction (core dumped) when calling sc.external.pp.mnn_correct; ### Minimal code sample (that we can copy&paste without having any data). when I follow your tutorial on https://nbisweden.github.io/workshop-scRNAseq/labs/compiled/scanpy/scanpy_03_integration.html. to the . ```python. cdata = sc.external.pp.mnn_correct(alldata['covid_1'],alldata['covid_15'],alldata['covid_17'],. alldata['ctrl_5'],alldata['ctrl_13'],alldata['ctrl_14'], . svd_dim = 50, batch_key = 'sample', save_raw = True, var_subset = var_genes). ```. line, then it said. `[1] 1764091 illegal hardware instruction (core dumped`. #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.8.2. sinfo 0.3.4. -----. PIL 8.2.0. bottleneck 1.3.2. cffi 1.14.5. cloudpickle 1.6.0. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. cytoolz 0.11.0. dask 2021.04.0. dateutil 2.8.1. fsspec 0.9.0. h5py 2.10.0. igraph 0.9.8. joblib 1.0.1. kiwisolver 1.3.1. leidenalg 0.8.8. llvmlite 0.36.0. matplotlib 3.3.4. mkl 2.3.0. mpl_toolkits NA. natsort 8.0.0. numba 0.53.1. numexpr 2.7.3. numpy 1.20.1. packaging 20.9. pandas 1.2.4. pkg_resources NA. psutil 5.8.0. pyparsing 2.4.7. pytz 2021.1. scipy 1.6.2. six 1.15.0. sklearn 0.24.1. sphinxcontrib NA. tables 3.6.1. tblib 1.7.0. texttable 1.6.4. tlz 0.11.0. toolz 0.11.1. typing_extensions NA. wcwidth 0.2.5. yaml 5.4.1. zope NA. -----. Python 3.8.8 (default, Apr 13 2021, 19:58:26) [GCC 7.3.0]. Linux-5.11.0-38-generic-x86_64-with-glibc2.10. 64 logical CPU cores. -----. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2044
https://github.com/scverse/scanpy/issues/2044:1071,modifiability,pac,packaging,1071,"illegal hardware instruction (core dumped) when calling sc.external.pp.mnn_correct; ### Minimal code sample (that we can copy&paste without having any data). when I follow your tutorial on https://nbisweden.github.io/workshop-scRNAseq/labs/compiled/scanpy/scanpy_03_integration.html. to the . ```python. cdata = sc.external.pp.mnn_correct(alldata['covid_1'],alldata['covid_15'],alldata['covid_17'],. alldata['ctrl_5'],alldata['ctrl_13'],alldata['ctrl_14'], . svd_dim = 50, batch_key = 'sample', save_raw = True, var_subset = var_genes). ```. line, then it said. `[1] 1764091 illegal hardware instruction (core dumped`. #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.8.2. sinfo 0.3.4. -----. PIL 8.2.0. bottleneck 1.3.2. cffi 1.14.5. cloudpickle 1.6.0. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. cytoolz 0.11.0. dask 2021.04.0. dateutil 2.8.1. fsspec 0.9.0. h5py 2.10.0. igraph 0.9.8. joblib 1.0.1. kiwisolver 1.3.1. leidenalg 0.8.8. llvmlite 0.36.0. matplotlib 3.3.4. mkl 2.3.0. mpl_toolkits NA. natsort 8.0.0. numba 0.53.1. numexpr 2.7.3. numpy 1.20.1. packaging 20.9. pandas 1.2.4. pkg_resources NA. psutil 5.8.0. pyparsing 2.4.7. pytz 2021.1. scipy 1.6.2. six 1.15.0. sklearn 0.24.1. sphinxcontrib NA. tables 3.6.1. tblib 1.7.0. texttable 1.6.4. tlz 0.11.0. toolz 0.11.1. typing_extensions NA. wcwidth 0.2.5. yaml 5.4.1. zope NA. -----. Python 3.8.8 (default, Apr 13 2021, 19:58:26) [GCC 7.3.0]. Linux-5.11.0-38-generic-x86_64-with-glibc2.10. 64 logical CPU cores. -----. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2044
https://github.com/scverse/scanpy/issues/2044:712,performance,bottleneck,bottleneck,712,"illegal hardware instruction (core dumped) when calling sc.external.pp.mnn_correct; ### Minimal code sample (that we can copy&paste without having any data). when I follow your tutorial on https://nbisweden.github.io/workshop-scRNAseq/labs/compiled/scanpy/scanpy_03_integration.html. to the . ```python. cdata = sc.external.pp.mnn_correct(alldata['covid_1'],alldata['covid_15'],alldata['covid_17'],. alldata['ctrl_5'],alldata['ctrl_13'],alldata['ctrl_14'], . svd_dim = 50, batch_key = 'sample', save_raw = True, var_subset = var_genes). ```. line, then it said. `[1] 1764091 illegal hardware instruction (core dumped`. #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.8.2. sinfo 0.3.4. -----. PIL 8.2.0. bottleneck 1.3.2. cffi 1.14.5. cloudpickle 1.6.0. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. cytoolz 0.11.0. dask 2021.04.0. dateutil 2.8.1. fsspec 0.9.0. h5py 2.10.0. igraph 0.9.8. joblib 1.0.1. kiwisolver 1.3.1. leidenalg 0.8.8. llvmlite 0.36.0. matplotlib 3.3.4. mkl 2.3.0. mpl_toolkits NA. natsort 8.0.0. numba 0.53.1. numexpr 2.7.3. numpy 1.20.1. packaging 20.9. pandas 1.2.4. pkg_resources NA. psutil 5.8.0. pyparsing 2.4.7. pytz 2021.1. scipy 1.6.2. six 1.15.0. sklearn 0.24.1. sphinxcontrib NA. tables 3.6.1. tblib 1.7.0. texttable 1.6.4. tlz 0.11.0. toolz 0.11.1. typing_extensions NA. wcwidth 0.2.5. yaml 5.4.1. zope NA. -----. Python 3.8.8 (default, Apr 13 2021, 19:58:26) [GCC 7.3.0]. Linux-5.11.0-38-generic-x86_64-with-glibc2.10. 64 logical CPU cores. -----. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2044
https://github.com/scverse/scanpy/issues/2044:1474,performance,CPU,CPU,1474,"illegal hardware instruction (core dumped) when calling sc.external.pp.mnn_correct; ### Minimal code sample (that we can copy&paste without having any data). when I follow your tutorial on https://nbisweden.github.io/workshop-scRNAseq/labs/compiled/scanpy/scanpy_03_integration.html. to the . ```python. cdata = sc.external.pp.mnn_correct(alldata['covid_1'],alldata['covid_15'],alldata['covid_17'],. alldata['ctrl_5'],alldata['ctrl_13'],alldata['ctrl_14'], . svd_dim = 50, batch_key = 'sample', save_raw = True, var_subset = var_genes). ```. line, then it said. `[1] 1764091 illegal hardware instruction (core dumped`. #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.8.2. sinfo 0.3.4. -----. PIL 8.2.0. bottleneck 1.3.2. cffi 1.14.5. cloudpickle 1.6.0. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. cytoolz 0.11.0. dask 2021.04.0. dateutil 2.8.1. fsspec 0.9.0. h5py 2.10.0. igraph 0.9.8. joblib 1.0.1. kiwisolver 1.3.1. leidenalg 0.8.8. llvmlite 0.36.0. matplotlib 3.3.4. mkl 2.3.0. mpl_toolkits NA. natsort 8.0.0. numba 0.53.1. numexpr 2.7.3. numpy 1.20.1. packaging 20.9. pandas 1.2.4. pkg_resources NA. psutil 5.8.0. pyparsing 2.4.7. pytz 2021.1. scipy 1.6.2. six 1.15.0. sklearn 0.24.1. sphinxcontrib NA. tables 3.6.1. tblib 1.7.0. texttable 1.6.4. tlz 0.11.0. toolz 0.11.1. typing_extensions NA. wcwidth 0.2.5. yaml 5.4.1. zope NA. -----. Python 3.8.8 (default, Apr 13 2021, 19:58:26) [GCC 7.3.0]. Linux-5.11.0-38-generic-x86_64-with-glibc2.10. 64 logical CPU cores. -----. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2044
https://github.com/scverse/scanpy/issues/2044:1466,safety,log,logical,1466,"illegal hardware instruction (core dumped) when calling sc.external.pp.mnn_correct; ### Minimal code sample (that we can copy&paste without having any data). when I follow your tutorial on https://nbisweden.github.io/workshop-scRNAseq/labs/compiled/scanpy/scanpy_03_integration.html. to the . ```python. cdata = sc.external.pp.mnn_correct(alldata['covid_1'],alldata['covid_15'],alldata['covid_17'],. alldata['ctrl_5'],alldata['ctrl_13'],alldata['ctrl_14'], . svd_dim = 50, batch_key = 'sample', save_raw = True, var_subset = var_genes). ```. line, then it said. `[1] 1764091 illegal hardware instruction (core dumped`. #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.8.2. sinfo 0.3.4. -----. PIL 8.2.0. bottleneck 1.3.2. cffi 1.14.5. cloudpickle 1.6.0. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. cytoolz 0.11.0. dask 2021.04.0. dateutil 2.8.1. fsspec 0.9.0. h5py 2.10.0. igraph 0.9.8. joblib 1.0.1. kiwisolver 1.3.1. leidenalg 0.8.8. llvmlite 0.36.0. matplotlib 3.3.4. mkl 2.3.0. mpl_toolkits NA. natsort 8.0.0. numba 0.53.1. numexpr 2.7.3. numpy 1.20.1. packaging 20.9. pandas 1.2.4. pkg_resources NA. psutil 5.8.0. pyparsing 2.4.7. pytz 2021.1. scipy 1.6.2. six 1.15.0. sklearn 0.24.1. sphinxcontrib NA. tables 3.6.1. tblib 1.7.0. texttable 1.6.4. tlz 0.11.0. toolz 0.11.1. typing_extensions NA. wcwidth 0.2.5. yaml 5.4.1. zope NA. -----. Python 3.8.8 (default, Apr 13 2021, 19:58:26) [GCC 7.3.0]. Linux-5.11.0-38-generic-x86_64-with-glibc2.10. 64 logical CPU cores. -----. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2044
https://github.com/scverse/scanpy/issues/2044:1466,security,log,logical,1466,"illegal hardware instruction (core dumped) when calling sc.external.pp.mnn_correct; ### Minimal code sample (that we can copy&paste without having any data). when I follow your tutorial on https://nbisweden.github.io/workshop-scRNAseq/labs/compiled/scanpy/scanpy_03_integration.html. to the . ```python. cdata = sc.external.pp.mnn_correct(alldata['covid_1'],alldata['covid_15'],alldata['covid_17'],. alldata['ctrl_5'],alldata['ctrl_13'],alldata['ctrl_14'], . svd_dim = 50, batch_key = 'sample', save_raw = True, var_subset = var_genes). ```. line, then it said. `[1] 1764091 illegal hardware instruction (core dumped`. #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.8.2. sinfo 0.3.4. -----. PIL 8.2.0. bottleneck 1.3.2. cffi 1.14.5. cloudpickle 1.6.0. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. cytoolz 0.11.0. dask 2021.04.0. dateutil 2.8.1. fsspec 0.9.0. h5py 2.10.0. igraph 0.9.8. joblib 1.0.1. kiwisolver 1.3.1. leidenalg 0.8.8. llvmlite 0.36.0. matplotlib 3.3.4. mkl 2.3.0. mpl_toolkits NA. natsort 8.0.0. numba 0.53.1. numexpr 2.7.3. numpy 1.20.1. packaging 20.9. pandas 1.2.4. pkg_resources NA. psutil 5.8.0. pyparsing 2.4.7. pytz 2021.1. scipy 1.6.2. six 1.15.0. sklearn 0.24.1. sphinxcontrib NA. tables 3.6.1. tblib 1.7.0. texttable 1.6.4. tlz 0.11.0. toolz 0.11.1. typing_extensions NA. wcwidth 0.2.5. yaml 5.4.1. zope NA. -----. Python 3.8.8 (default, Apr 13 2021, 19:58:26) [GCC 7.3.0]. Linux-5.11.0-38-generic-x86_64-with-glibc2.10. 64 logical CPU cores. -----. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2044
https://github.com/scverse/scanpy/issues/2044:1466,testability,log,logical,1466,"illegal hardware instruction (core dumped) when calling sc.external.pp.mnn_correct; ### Minimal code sample (that we can copy&paste without having any data). when I follow your tutorial on https://nbisweden.github.io/workshop-scRNAseq/labs/compiled/scanpy/scanpy_03_integration.html. to the . ```python. cdata = sc.external.pp.mnn_correct(alldata['covid_1'],alldata['covid_15'],alldata['covid_17'],. alldata['ctrl_5'],alldata['ctrl_13'],alldata['ctrl_14'], . svd_dim = 50, batch_key = 'sample', save_raw = True, var_subset = var_genes). ```. line, then it said. `[1] 1764091 illegal hardware instruction (core dumped`. #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.8.2. sinfo 0.3.4. -----. PIL 8.2.0. bottleneck 1.3.2. cffi 1.14.5. cloudpickle 1.6.0. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. cytoolz 0.11.0. dask 2021.04.0. dateutil 2.8.1. fsspec 0.9.0. h5py 2.10.0. igraph 0.9.8. joblib 1.0.1. kiwisolver 1.3.1. leidenalg 0.8.8. llvmlite 0.36.0. matplotlib 3.3.4. mkl 2.3.0. mpl_toolkits NA. natsort 8.0.0. numba 0.53.1. numexpr 2.7.3. numpy 1.20.1. packaging 20.9. pandas 1.2.4. pkg_resources NA. psutil 5.8.0. pyparsing 2.4.7. pytz 2021.1. scipy 1.6.2. six 1.15.0. sklearn 0.24.1. sphinxcontrib NA. tables 3.6.1. tblib 1.7.0. texttable 1.6.4. tlz 0.11.0. toolz 0.11.1. typing_extensions NA. wcwidth 0.2.5. yaml 5.4.1. zope NA. -----. Python 3.8.8 (default, Apr 13 2021, 19:58:26) [GCC 7.3.0]. Linux-5.11.0-38-generic-x86_64-with-glibc2.10. 64 logical CPU cores. -----. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2044
https://github.com/scverse/scanpy/issues/2044:88,usability,Minim,Minimal,88,"illegal hardware instruction (core dumped) when calling sc.external.pp.mnn_correct; ### Minimal code sample (that we can copy&paste without having any data). when I follow your tutorial on https://nbisweden.github.io/workshop-scRNAseq/labs/compiled/scanpy/scanpy_03_integration.html. to the . ```python. cdata = sc.external.pp.mnn_correct(alldata['covid_1'],alldata['covid_15'],alldata['covid_17'],. alldata['ctrl_5'],alldata['ctrl_13'],alldata['ctrl_14'], . svd_dim = 50, batch_key = 'sample', save_raw = True, var_subset = var_genes). ```. line, then it said. `[1] 1764091 illegal hardware instruction (core dumped`. #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.8.2. sinfo 0.3.4. -----. PIL 8.2.0. bottleneck 1.3.2. cffi 1.14.5. cloudpickle 1.6.0. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. cytoolz 0.11.0. dask 2021.04.0. dateutil 2.8.1. fsspec 0.9.0. h5py 2.10.0. igraph 0.9.8. joblib 1.0.1. kiwisolver 1.3.1. leidenalg 0.8.8. llvmlite 0.36.0. matplotlib 3.3.4. mkl 2.3.0. mpl_toolkits NA. natsort 8.0.0. numba 0.53.1. numexpr 2.7.3. numpy 1.20.1. packaging 20.9. pandas 1.2.4. pkg_resources NA. psutil 5.8.0. pyparsing 2.4.7. pytz 2021.1. scipy 1.6.2. six 1.15.0. sklearn 0.24.1. sphinxcontrib NA. tables 3.6.1. tblib 1.7.0. texttable 1.6.4. tlz 0.11.0. toolz 0.11.1. typing_extensions NA. wcwidth 0.2.5. yaml 5.4.1. zope NA. -----. Python 3.8.8 (default, Apr 13 2021, 19:58:26) [GCC 7.3.0]. Linux-5.11.0-38-generic-x86_64-with-glibc2.10. 64 logical CPU cores. -----. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2044
https://github.com/scverse/scanpy/issues/2044:1278,usability,tool,toolz,1278,"illegal hardware instruction (core dumped) when calling sc.external.pp.mnn_correct; ### Minimal code sample (that we can copy&paste without having any data). when I follow your tutorial on https://nbisweden.github.io/workshop-scRNAseq/labs/compiled/scanpy/scanpy_03_integration.html. to the . ```python. cdata = sc.external.pp.mnn_correct(alldata['covid_1'],alldata['covid_15'],alldata['covid_17'],. alldata['ctrl_5'],alldata['ctrl_13'],alldata['ctrl_14'], . svd_dim = 50, batch_key = 'sample', save_raw = True, var_subset = var_genes). ```. line, then it said. `[1] 1764091 illegal hardware instruction (core dumped`. #### Versions. <details>. -----. anndata 0.7.6. scanpy 1.8.2. sinfo 0.3.4. -----. PIL 8.2.0. bottleneck 1.3.2. cffi 1.14.5. cloudpickle 1.6.0. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. cytoolz 0.11.0. dask 2021.04.0. dateutil 2.8.1. fsspec 0.9.0. h5py 2.10.0. igraph 0.9.8. joblib 1.0.1. kiwisolver 1.3.1. leidenalg 0.8.8. llvmlite 0.36.0. matplotlib 3.3.4. mkl 2.3.0. mpl_toolkits NA. natsort 8.0.0. numba 0.53.1. numexpr 2.7.3. numpy 1.20.1. packaging 20.9. pandas 1.2.4. pkg_resources NA. psutil 5.8.0. pyparsing 2.4.7. pytz 2021.1. scipy 1.6.2. six 1.15.0. sklearn 0.24.1. sphinxcontrib NA. tables 3.6.1. tblib 1.7.0. texttable 1.6.4. tlz 0.11.0. toolz 0.11.1. typing_extensions NA. wcwidth 0.2.5. yaml 5.4.1. zope NA. -----. Python 3.8.8 (default, Apr 13 2021, 19:58:26) [GCC 7.3.0]. Linux-5.11.0-38-generic-x86_64-with-glibc2.10. 64 logical CPU cores. -----. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2044
https://github.com/scverse/scanpy/issues/2045:686,deployability,instal,installed,686,"UMAP goes wrong on scanpy v1.7.2; Hello Scanpy,. I reimaged my Windows from 20H2 to 21H1 today and reinstalled the environment for scanpy. However, in the new environment, when I run the official workflow of pbmc3k by just using the official pbmc3k notebook. The UMAP becomes different from the pbmc3k tutorial like below. But all other codings generate the same results and plots as the pbmc3k tutorial. ![image](https://user-images.githubusercontent.com/75048821/140598534-5425f05c-4bb1-4bb7-97d9-d37a0ce1f9dc.png). ![image](https://user-images.githubusercontent.com/75048821/140598551-5cd98b37-48b9-44ba-bacb-b4b2ac155576.png). Then I run the same coding on my older computer, which installed scanpy one month ago, the UMAP is the same as the standard workflow. ![image](https://user-images.githubusercontent.com/75048821/140632101-6536d00e-f180-407d-9cd1-a79991280e8a.png). **Is it because of the packages' problem or Windows 21H1? I list the packages information here. Could you please help me to solve this issue?**. <html xmlns:v=""urn:schemas-microsoft-com:vml"". xmlns:o=""urn:schemas-microsoft-com:office:office"". xmlns:x=""urn:schemas-microsoft-com:office:excel"". xmlns=""http://www.w3.org/TR/REC-html40"">. <head>. <meta name=ProgId content=Excel.Sheet>. <meta name=Generator content=""Microsoft Excel 15"">. <link id=Main-File rel=Main-File. href=""file:///C:/Users/Yuanjian/AppData/Local/Temp/msohtmlclip1/01/clip.htm"">. <link rel=File-List. href=""file:///C:/Users/Yuanjian/AppData/Local/Temp/msohtmlclip1/01/clip_filelist.xml"">. <style>. <!--table. 	{mso-displayed-decimal-separator:""\."";. 	mso-displayed-thousand-separator:""\,"";}. @page. 	{margin:.75in .7in .75in .7in;. 	mso-header-margin:.3in;. 	mso-footer-margin:.3in;}. .font5. 	{color:windowtext;. 	font-size:9.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;}. tr. 	{mso-height-source:auto;. 	mso-ruby-visibility:none;}. col. 	{mso-width-sourc",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:3161,deployability,Version,Version,3161,"olor:black;. 	font-size:11.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;. 	mso-number-format:General;. 	text-align:general;. 	vertical-align:middle;. 	border:none;. 	mso-background-source:auto;. 	mso-pattern:auto;. 	mso-protection:locked visible;. 	white-space:nowrap;. 	mso-rotate:0;}. .xl65. 	{text-align:center;}. .xl66. 	{text-align:center;. 	border:.5pt solid windowtext;}. .xl67. 	{color:red;. 	text-align:center;. 	border:.5pt solid windowtext;}. .xl68. 	{font-weight:700;. 	text-align:center;. 	border:.5pt solid windowtext;}. ruby. 	{ruby-align:left;}. rt. 	{color:windowtext;. 	font-size:9.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;. 	mso-char-type:none;. 	display:none;}. -->. </style>. </head>. <body link=""#0563C1"" vlink=""#954F72"">.   | Right UMAP | Wrong UMAP. -- | -- | --. Package | Version | Version. Anaconda | 2.1.0 | 2.1.0. Python | 3.6.13 | 3.6.13. anndata | 0.7.6 | 0.7.6. anyio | 2.2.0 | 2.2.0. argon2-cffi | 20.1.0 | 20.1.0. async-generator | 1.1 | 1.1. attrs | 21.2.0 | 21.2.0. Babel | 2.9.1 | 2.9.1. backcall | 0.2.0 | 0.2.0. bleach | 4.0.0 | 4.0.0. brotlipy | 0.7.0 | 0.7.0. cached-property | 1.5.2 | 1.5.2. certifi | 2021.5.30 | 2021.5.30. cffi | 1.14.6 | 1.14.6. charset-normalizer | 2.0.4 | 2.0.4. colorama | 0.4.4 | 0.4.4. contextvars | 2.4 | 2.4. **cryptography | 3.4.7 | 35.0.0**. cycler | 0.10.0 | 0.11.0. dataclasses | 0.8 | 0.8. decorator | 4.4.2 | 4.4.2. defusedxml | 0.7.1 | 0.7.1. entrypoints | 0.3 | 0.3. get-version | 2.1 | 2.1. h5py | 3.1.0 | 3.1.0. idna | 3.2 | 3.2. igraph | 0.9.8 | 0.9.8. immutables | 0.16 | 0.16. importlib-metadata | 4.8.1 | 4.8.1. ipykernel | 5.3.4 | 5.3.4. ipython | 7.16.1 | 7.16.1. ipython-genutils | 0.2.0 | 0.2.0. jedi | 0.17.0 | 0.17.0. **Jinja2 | 3.0.1 | 3.0.2**. joblib | 1.1.0 | 1.1.0. json5 | 0.9.6 | 0.9.6. jsonschema | 3.2.0 |",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:3171,deployability,Version,Version,3171,";. 	font-size:11.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;. 	mso-number-format:General;. 	text-align:general;. 	vertical-align:middle;. 	border:none;. 	mso-background-source:auto;. 	mso-pattern:auto;. 	mso-protection:locked visible;. 	white-space:nowrap;. 	mso-rotate:0;}. .xl65. 	{text-align:center;}. .xl66. 	{text-align:center;. 	border:.5pt solid windowtext;}. .xl67. 	{color:red;. 	text-align:center;. 	border:.5pt solid windowtext;}. .xl68. 	{font-weight:700;. 	text-align:center;. 	border:.5pt solid windowtext;}. ruby. 	{ruby-align:left;}. rt. 	{color:windowtext;. 	font-size:9.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;. 	mso-char-type:none;. 	display:none;}. -->. </style>. </head>. <body link=""#0563C1"" vlink=""#954F72"">.   | Right UMAP | Wrong UMAP. -- | -- | --. Package | Version | Version. Anaconda | 2.1.0 | 2.1.0. Python | 3.6.13 | 3.6.13. anndata | 0.7.6 | 0.7.6. anyio | 2.2.0 | 2.2.0. argon2-cffi | 20.1.0 | 20.1.0. async-generator | 1.1 | 1.1. attrs | 21.2.0 | 21.2.0. Babel | 2.9.1 | 2.9.1. backcall | 0.2.0 | 0.2.0. bleach | 4.0.0 | 4.0.0. brotlipy | 0.7.0 | 0.7.0. cached-property | 1.5.2 | 1.5.2. certifi | 2021.5.30 | 2021.5.30. cffi | 1.14.6 | 1.14.6. charset-normalizer | 2.0.4 | 2.0.4. colorama | 0.4.4 | 0.4.4. contextvars | 2.4 | 2.4. **cryptography | 3.4.7 | 35.0.0**. cycler | 0.10.0 | 0.11.0. dataclasses | 0.8 | 0.8. decorator | 4.4.2 | 4.4.2. defusedxml | 0.7.1 | 0.7.1. entrypoints | 0.3 | 0.3. get-version | 2.1 | 2.1. h5py | 3.1.0 | 3.1.0. idna | 3.2 | 3.2. igraph | 0.9.8 | 0.9.8. immutables | 0.16 | 0.16. importlib-metadata | 4.8.1 | 4.8.1. ipykernel | 5.3.4 | 5.3.4. ipython | 7.16.1 | 7.16.1. ipython-genutils | 0.2.0 | 0.2.0. jedi | 0.17.0 | 0.17.0. **Jinja2 | 3.0.1 | 3.0.2**. joblib | 1.1.0 | 1.1.0. json5 | 0.9.6 | 0.9.6. jsonschema | 3.2.0 | 3.2.0. ju",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:3811,deployability,version,version,3811,":left;}. rt. 	{color:windowtext;. 	font-size:9.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;. 	mso-char-type:none;. 	display:none;}. -->. </style>. </head>. <body link=""#0563C1"" vlink=""#954F72"">.   | Right UMAP | Wrong UMAP. -- | -- | --. Package | Version | Version. Anaconda | 2.1.0 | 2.1.0. Python | 3.6.13 | 3.6.13. anndata | 0.7.6 | 0.7.6. anyio | 2.2.0 | 2.2.0. argon2-cffi | 20.1.0 | 20.1.0. async-generator | 1.1 | 1.1. attrs | 21.2.0 | 21.2.0. Babel | 2.9.1 | 2.9.1. backcall | 0.2.0 | 0.2.0. bleach | 4.0.0 | 4.0.0. brotlipy | 0.7.0 | 0.7.0. cached-property | 1.5.2 | 1.5.2. certifi | 2021.5.30 | 2021.5.30. cffi | 1.14.6 | 1.14.6. charset-normalizer | 2.0.4 | 2.0.4. colorama | 0.4.4 | 0.4.4. contextvars | 2.4 | 2.4. **cryptography | 3.4.7 | 35.0.0**. cycler | 0.10.0 | 0.11.0. dataclasses | 0.8 | 0.8. decorator | 4.4.2 | 4.4.2. defusedxml | 0.7.1 | 0.7.1. entrypoints | 0.3 | 0.3. get-version | 2.1 | 2.1. h5py | 3.1.0 | 3.1.0. idna | 3.2 | 3.2. igraph | 0.9.8 | 0.9.8. immutables | 0.16 | 0.16. importlib-metadata | 4.8.1 | 4.8.1. ipykernel | 5.3.4 | 5.3.4. ipython | 7.16.1 | 7.16.1. ipython-genutils | 0.2.0 | 0.2.0. jedi | 0.17.0 | 0.17.0. **Jinja2 | 3.0.1 | 3.0.2**. joblib | 1.1.0 | 1.1.0. json5 | 0.9.6 | 0.9.6. jsonschema | 3.2.0 | 3.2.0. jupyter-client | 7.0.1 | 7.0.1. jupyter-core | 4.8.1 | 4.8.1. jupyter-server | 1.4.1 | 1.4.1. **jupyterlab | 3.1.7 | 3.2.1**. jupyterlab-pygments | 0.1.2 | 0.1.2. jupyterlab-server | 2.8.2 | 2.8.2. kiwisolver | 1.3.1 | 1.3.1. legacy-api-wrap | 1.2 | 1.2. leidenalg | 0.8.8 | 0.8.8. llvmlite | 0.36.0 | 0.36.0. MarkupSafe | 2.0.1 | 2.0.1. matplotlib | 3.3.4 | 3.3.4. mistune | 0.8.4 | 0.8.4. **natsort | 7.1.1 | 8.0.0**. nbclassic | 0.2.6 | 0.2.6. nbclient | 0.5.3 | 0.5.3. nbconvert | 6.0.7 | 6.0.7. nbformat | 5.1.3 | 5.1.3. nest-asyncio | 1.5.1 | 1.5.1. networkx | 2.5.1 | 2.5.1. notebook | 6.4.3 | 6.4.3. numba | 0.53.1 | 0.53.1. numexpr |",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:4406,deployability,api,api-wrap,4406,.0. bleach | 4.0.0 | 4.0.0. brotlipy | 0.7.0 | 0.7.0. cached-property | 1.5.2 | 1.5.2. certifi | 2021.5.30 | 2021.5.30. cffi | 1.14.6 | 1.14.6. charset-normalizer | 2.0.4 | 2.0.4. colorama | 0.4.4 | 0.4.4. contextvars | 2.4 | 2.4. **cryptography | 3.4.7 | 35.0.0**. cycler | 0.10.0 | 0.11.0. dataclasses | 0.8 | 0.8. decorator | 4.4.2 | 4.4.2. defusedxml | 0.7.1 | 0.7.1. entrypoints | 0.3 | 0.3. get-version | 2.1 | 2.1. h5py | 3.1.0 | 3.1.0. idna | 3.2 | 3.2. igraph | 0.9.8 | 0.9.8. immutables | 0.16 | 0.16. importlib-metadata | 4.8.1 | 4.8.1. ipykernel | 5.3.4 | 5.3.4. ipython | 7.16.1 | 7.16.1. ipython-genutils | 0.2.0 | 0.2.0. jedi | 0.17.0 | 0.17.0. **Jinja2 | 3.0.1 | 3.0.2**. joblib | 1.1.0 | 1.1.0. json5 | 0.9.6 | 0.9.6. jsonschema | 3.2.0 | 3.2.0. jupyter-client | 7.0.1 | 7.0.1. jupyter-core | 4.8.1 | 4.8.1. jupyter-server | 1.4.1 | 1.4.1. **jupyterlab | 3.1.7 | 3.2.1**. jupyterlab-pygments | 0.1.2 | 0.1.2. jupyterlab-server | 2.8.2 | 2.8.2. kiwisolver | 1.3.1 | 1.3.1. legacy-api-wrap | 1.2 | 1.2. leidenalg | 0.8.8 | 0.8.8. llvmlite | 0.36.0 | 0.36.0. MarkupSafe | 2.0.1 | 2.0.1. matplotlib | 3.3.4 | 3.3.4. mistune | 0.8.4 | 0.8.4. **natsort | 7.1.1 | 8.0.0**. nbclassic | 0.2.6 | 0.2.6. nbclient | 0.5.3 | 0.5.3. nbconvert | 6.0.7 | 6.0.7. nbformat | 5.1.3 | 5.1.3. nest-asyncio | 1.5.1 | 1.5.1. networkx | 2.5.1 | 2.5.1. notebook | 6.4.3 | 6.4.3. numba | 0.53.1 | 0.53.1. numexpr | 2.7.3 | 2.7.3. numpy | 1.19.5 | 1.19.5. packaging | 21 | 21. pandas | 1.1.5 | 1.1.5. pandocfilters | 1.4.3 | 1.4.3. parso | 0.8.2 | 0.8.2. patsy | 0.5.2 | 0.5.2. pickleshare | 0.7.5 | 0.7.5. Pillow | 8.4.0 | 8.4.0. pip | 21.0.1 | 21.2.2. prometheus-client | 0.11.0 | 0.11.0. prompt-toolkit | 3.0.20 | 3.0.20. pycparser | 2.2 | 2.2. Pygments | 2.10.0 | 2.10.0. pynndescent | 0.5.5 | 0.5.5. pyOpenSSL | 20.0.1 | 21.0.0. **pyparsing | 2.4.7 | 3.0.4**. pyrsistent | 0.17.3 | 0.17.3. PySocks | 1.7.1 | 1.7.1. python-dateutil | 2.8.2 | 2.8.2. python-igraph | 0.9.8 | 0.9.8. pytz | 2021.3 | 2021.3. py,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:4213,energy efficiency,core,core,4213,3.6.13 | 3.6.13. anndata | 0.7.6 | 0.7.6. anyio | 2.2.0 | 2.2.0. argon2-cffi | 20.1.0 | 20.1.0. async-generator | 1.1 | 1.1. attrs | 21.2.0 | 21.2.0. Babel | 2.9.1 | 2.9.1. backcall | 0.2.0 | 0.2.0. bleach | 4.0.0 | 4.0.0. brotlipy | 0.7.0 | 0.7.0. cached-property | 1.5.2 | 1.5.2. certifi | 2021.5.30 | 2021.5.30. cffi | 1.14.6 | 1.14.6. charset-normalizer | 2.0.4 | 2.0.4. colorama | 0.4.4 | 0.4.4. contextvars | 2.4 | 2.4. **cryptography | 3.4.7 | 35.0.0**. cycler | 0.10.0 | 0.11.0. dataclasses | 0.8 | 0.8. decorator | 4.4.2 | 4.4.2. defusedxml | 0.7.1 | 0.7.1. entrypoints | 0.3 | 0.3. get-version | 2.1 | 2.1. h5py | 3.1.0 | 3.1.0. idna | 3.2 | 3.2. igraph | 0.9.8 | 0.9.8. immutables | 0.16 | 0.16. importlib-metadata | 4.8.1 | 4.8.1. ipykernel | 5.3.4 | 5.3.4. ipython | 7.16.1 | 7.16.1. ipython-genutils | 0.2.0 | 0.2.0. jedi | 0.17.0 | 0.17.0. **Jinja2 | 3.0.1 | 3.0.2**. joblib | 1.1.0 | 1.1.0. json5 | 0.9.6 | 0.9.6. jsonschema | 3.2.0 | 3.2.0. jupyter-client | 7.0.1 | 7.0.1. jupyter-core | 4.8.1 | 4.8.1. jupyter-server | 1.4.1 | 1.4.1. **jupyterlab | 3.1.7 | 3.2.1**. jupyterlab-pygments | 0.1.2 | 0.1.2. jupyterlab-server | 2.8.2 | 2.8.2. kiwisolver | 1.3.1 | 1.3.1. legacy-api-wrap | 1.2 | 1.2. leidenalg | 0.8.8 | 0.8.8. llvmlite | 0.36.0 | 0.36.0. MarkupSafe | 2.0.1 | 2.0.1. matplotlib | 3.3.4 | 3.3.4. mistune | 0.8.4 | 0.8.4. **natsort | 7.1.1 | 8.0.0**. nbclassic | 0.2.6 | 0.2.6. nbclient | 0.5.3 | 0.5.3. nbconvert | 6.0.7 | 6.0.7. nbformat | 5.1.3 | 5.1.3. nest-asyncio | 1.5.1 | 1.5.1. networkx | 2.5.1 | 2.5.1. notebook | 6.4.3 | 6.4.3. numba | 0.53.1 | 0.53.1. numexpr | 2.7.3 | 2.7.3. numpy | 1.19.5 | 1.19.5. packaging | 21 | 21. pandas | 1.1.5 | 1.1.5. pandocfilters | 1.4.3 | 1.4.3. parso | 0.8.2 | 0.8.2. patsy | 0.5.2 | 0.5.2. pickleshare | 0.7.5 | 0.7.5. Pillow | 8.4.0 | 8.4.0. pip | 21.0.1 | 21.2.2. prometheus-client | 0.11.0 | 0.11.0. prompt-toolkit | 3.0.20 | 3.0.20. pycparser | 2.2 | 2.2. Pygments | 2.10.0 | 2.10.0. pynndescent | 0.5.5 | 0.5.5. pyOpenSSL ,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:1042,integrability,schema,schemas-microsoft-com,1042,"imaged my Windows from 20H2 to 21H1 today and reinstalled the environment for scanpy. However, in the new environment, when I run the official workflow of pbmc3k by just using the official pbmc3k notebook. The UMAP becomes different from the pbmc3k tutorial like below. But all other codings generate the same results and plots as the pbmc3k tutorial. ![image](https://user-images.githubusercontent.com/75048821/140598534-5425f05c-4bb1-4bb7-97d9-d37a0ce1f9dc.png). ![image](https://user-images.githubusercontent.com/75048821/140598551-5cd98b37-48b9-44ba-bacb-b4b2ac155576.png). Then I run the same coding on my older computer, which installed scanpy one month ago, the UMAP is the same as the standard workflow. ![image](https://user-images.githubusercontent.com/75048821/140632101-6536d00e-f180-407d-9cd1-a79991280e8a.png). **Is it because of the packages' problem or Windows 21H1? I list the packages information here. Could you please help me to solve this issue?**. <html xmlns:v=""urn:schemas-microsoft-com:vml"". xmlns:o=""urn:schemas-microsoft-com:office:office"". xmlns:x=""urn:schemas-microsoft-com:office:excel"". xmlns=""http://www.w3.org/TR/REC-html40"">. <head>. <meta name=ProgId content=Excel.Sheet>. <meta name=Generator content=""Microsoft Excel 15"">. <link id=Main-File rel=Main-File. href=""file:///C:/Users/Yuanjian/AppData/Local/Temp/msohtmlclip1/01/clip.htm"">. <link rel=File-List. href=""file:///C:/Users/Yuanjian/AppData/Local/Temp/msohtmlclip1/01/clip_filelist.xml"">. <style>. <!--table. 	{mso-displayed-decimal-separator:""\."";. 	mso-displayed-thousand-separator:""\,"";}. @page. 	{margin:.75in .7in .75in .7in;. 	mso-header-margin:.3in;. 	mso-footer-margin:.3in;}. .font5. 	{color:windowtext;. 	font-size:9.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;}. tr. 	{mso-height-source:auto;. 	mso-ruby-visibility:none;}. col. 	{mso-width-source:auto;. 	mso-ruby-visibility:none;}. br. 	{mso-data-",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:1083,integrability,schema,schemas-microsoft-com,1083," and reinstalled the environment for scanpy. However, in the new environment, when I run the official workflow of pbmc3k by just using the official pbmc3k notebook. The UMAP becomes different from the pbmc3k tutorial like below. But all other codings generate the same results and plots as the pbmc3k tutorial. ![image](https://user-images.githubusercontent.com/75048821/140598534-5425f05c-4bb1-4bb7-97d9-d37a0ce1f9dc.png). ![image](https://user-images.githubusercontent.com/75048821/140598551-5cd98b37-48b9-44ba-bacb-b4b2ac155576.png). Then I run the same coding on my older computer, which installed scanpy one month ago, the UMAP is the same as the standard workflow. ![image](https://user-images.githubusercontent.com/75048821/140632101-6536d00e-f180-407d-9cd1-a79991280e8a.png). **Is it because of the packages' problem or Windows 21H1? I list the packages information here. Could you please help me to solve this issue?**. <html xmlns:v=""urn:schemas-microsoft-com:vml"". xmlns:o=""urn:schemas-microsoft-com:office:office"". xmlns:x=""urn:schemas-microsoft-com:office:excel"". xmlns=""http://www.w3.org/TR/REC-html40"">. <head>. <meta name=ProgId content=Excel.Sheet>. <meta name=Generator content=""Microsoft Excel 15"">. <link id=Main-File rel=Main-File. href=""file:///C:/Users/Yuanjian/AppData/Local/Temp/msohtmlclip1/01/clip.htm"">. <link rel=File-List. href=""file:///C:/Users/Yuanjian/AppData/Local/Temp/msohtmlclip1/01/clip_filelist.xml"">. <style>. <!--table. 	{mso-displayed-decimal-separator:""\."";. 	mso-displayed-thousand-separator:""\,"";}. @page. 	{margin:.75in .7in .75in .7in;. 	mso-header-margin:.3in;. 	mso-footer-margin:.3in;}. .font5. 	{color:windowtext;. 	font-size:9.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;}. tr. 	{mso-height-source:auto;. 	mso-ruby-visibility:none;}. col. 	{mso-width-source:auto;. 	mso-ruby-visibility:none;}. br. 	{mso-data-placement:same-cell;}. td. 	{padding-top:",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:1134,integrability,schema,schemas-microsoft-com,1134,"r, in the new environment, when I run the official workflow of pbmc3k by just using the official pbmc3k notebook. The UMAP becomes different from the pbmc3k tutorial like below. But all other codings generate the same results and plots as the pbmc3k tutorial. ![image](https://user-images.githubusercontent.com/75048821/140598534-5425f05c-4bb1-4bb7-97d9-d37a0ce1f9dc.png). ![image](https://user-images.githubusercontent.com/75048821/140598551-5cd98b37-48b9-44ba-bacb-b4b2ac155576.png). Then I run the same coding on my older computer, which installed scanpy one month ago, the UMAP is the same as the standard workflow. ![image](https://user-images.githubusercontent.com/75048821/140632101-6536d00e-f180-407d-9cd1-a79991280e8a.png). **Is it because of the packages' problem or Windows 21H1? I list the packages information here. Could you please help me to solve this issue?**. <html xmlns:v=""urn:schemas-microsoft-com:vml"". xmlns:o=""urn:schemas-microsoft-com:office:office"". xmlns:x=""urn:schemas-microsoft-com:office:excel"". xmlns=""http://www.w3.org/TR/REC-html40"">. <head>. <meta name=ProgId content=Excel.Sheet>. <meta name=Generator content=""Microsoft Excel 15"">. <link id=Main-File rel=Main-File. href=""file:///C:/Users/Yuanjian/AppData/Local/Temp/msohtmlclip1/01/clip.htm"">. <link rel=File-List. href=""file:///C:/Users/Yuanjian/AppData/Local/Temp/msohtmlclip1/01/clip_filelist.xml"">. <style>. <!--table. 	{mso-displayed-decimal-separator:""\."";. 	mso-displayed-thousand-separator:""\,"";}. @page. 	{margin:.75in .7in .75in .7in;. 	mso-header-margin:.3in;. 	mso-footer-margin:.3in;}. .font5. 	{color:windowtext;. 	font-size:9.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;}. tr. 	{mso-height-source:auto;. 	mso-ruby-visibility:none;}. col. 	{mso-width-source:auto;. 	mso-ruby-visibility:none;}. br. 	{mso-data-placement:same-cell;}. td. 	{padding-top:1px;. 	padding-right:1px;. 	padding-left:1px;. 	mso",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:3161,integrability,Version,Version,3161,"olor:black;. 	font-size:11.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;. 	mso-number-format:General;. 	text-align:general;. 	vertical-align:middle;. 	border:none;. 	mso-background-source:auto;. 	mso-pattern:auto;. 	mso-protection:locked visible;. 	white-space:nowrap;. 	mso-rotate:0;}. .xl65. 	{text-align:center;}. .xl66. 	{text-align:center;. 	border:.5pt solid windowtext;}. .xl67. 	{color:red;. 	text-align:center;. 	border:.5pt solid windowtext;}. .xl68. 	{font-weight:700;. 	text-align:center;. 	border:.5pt solid windowtext;}. ruby. 	{ruby-align:left;}. rt. 	{color:windowtext;. 	font-size:9.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;. 	mso-char-type:none;. 	display:none;}. -->. </style>. </head>. <body link=""#0563C1"" vlink=""#954F72"">.   | Right UMAP | Wrong UMAP. -- | -- | --. Package | Version | Version. Anaconda | 2.1.0 | 2.1.0. Python | 3.6.13 | 3.6.13. anndata | 0.7.6 | 0.7.6. anyio | 2.2.0 | 2.2.0. argon2-cffi | 20.1.0 | 20.1.0. async-generator | 1.1 | 1.1. attrs | 21.2.0 | 21.2.0. Babel | 2.9.1 | 2.9.1. backcall | 0.2.0 | 0.2.0. bleach | 4.0.0 | 4.0.0. brotlipy | 0.7.0 | 0.7.0. cached-property | 1.5.2 | 1.5.2. certifi | 2021.5.30 | 2021.5.30. cffi | 1.14.6 | 1.14.6. charset-normalizer | 2.0.4 | 2.0.4. colorama | 0.4.4 | 0.4.4. contextvars | 2.4 | 2.4. **cryptography | 3.4.7 | 35.0.0**. cycler | 0.10.0 | 0.11.0. dataclasses | 0.8 | 0.8. decorator | 4.4.2 | 4.4.2. defusedxml | 0.7.1 | 0.7.1. entrypoints | 0.3 | 0.3. get-version | 2.1 | 2.1. h5py | 3.1.0 | 3.1.0. idna | 3.2 | 3.2. igraph | 0.9.8 | 0.9.8. immutables | 0.16 | 0.16. importlib-metadata | 4.8.1 | 4.8.1. ipykernel | 5.3.4 | 5.3.4. ipython | 7.16.1 | 7.16.1. ipython-genutils | 0.2.0 | 0.2.0. jedi | 0.17.0 | 0.17.0. **Jinja2 | 3.0.1 | 3.0.2**. joblib | 1.1.0 | 1.1.0. json5 | 0.9.6 | 0.9.6. jsonschema | 3.2.0 |",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:3171,integrability,Version,Version,3171,";. 	font-size:11.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;. 	mso-number-format:General;. 	text-align:general;. 	vertical-align:middle;. 	border:none;. 	mso-background-source:auto;. 	mso-pattern:auto;. 	mso-protection:locked visible;. 	white-space:nowrap;. 	mso-rotate:0;}. .xl65. 	{text-align:center;}. .xl66. 	{text-align:center;. 	border:.5pt solid windowtext;}. .xl67. 	{color:red;. 	text-align:center;. 	border:.5pt solid windowtext;}. .xl68. 	{font-weight:700;. 	text-align:center;. 	border:.5pt solid windowtext;}. ruby. 	{ruby-align:left;}. rt. 	{color:windowtext;. 	font-size:9.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;. 	mso-char-type:none;. 	display:none;}. -->. </style>. </head>. <body link=""#0563C1"" vlink=""#954F72"">.   | Right UMAP | Wrong UMAP. -- | -- | --. Package | Version | Version. Anaconda | 2.1.0 | 2.1.0. Python | 3.6.13 | 3.6.13. anndata | 0.7.6 | 0.7.6. anyio | 2.2.0 | 2.2.0. argon2-cffi | 20.1.0 | 20.1.0. async-generator | 1.1 | 1.1. attrs | 21.2.0 | 21.2.0. Babel | 2.9.1 | 2.9.1. backcall | 0.2.0 | 0.2.0. bleach | 4.0.0 | 4.0.0. brotlipy | 0.7.0 | 0.7.0. cached-property | 1.5.2 | 1.5.2. certifi | 2021.5.30 | 2021.5.30. cffi | 1.14.6 | 1.14.6. charset-normalizer | 2.0.4 | 2.0.4. colorama | 0.4.4 | 0.4.4. contextvars | 2.4 | 2.4. **cryptography | 3.4.7 | 35.0.0**. cycler | 0.10.0 | 0.11.0. dataclasses | 0.8 | 0.8. decorator | 4.4.2 | 4.4.2. defusedxml | 0.7.1 | 0.7.1. entrypoints | 0.3 | 0.3. get-version | 2.1 | 2.1. h5py | 3.1.0 | 3.1.0. idna | 3.2 | 3.2. igraph | 0.9.8 | 0.9.8. immutables | 0.16 | 0.16. importlib-metadata | 4.8.1 | 4.8.1. ipykernel | 5.3.4 | 5.3.4. ipython | 7.16.1 | 7.16.1. ipython-genutils | 0.2.0 | 0.2.0. jedi | 0.17.0 | 0.17.0. **Jinja2 | 3.0.1 | 3.0.2**. joblib | 1.1.0 | 1.1.0. json5 | 0.9.6 | 0.9.6. jsonschema | 3.2.0 | 3.2.0. ju",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:3811,integrability,version,version,3811,":left;}. rt. 	{color:windowtext;. 	font-size:9.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;. 	mso-char-type:none;. 	display:none;}. -->. </style>. </head>. <body link=""#0563C1"" vlink=""#954F72"">.   | Right UMAP | Wrong UMAP. -- | -- | --. Package | Version | Version. Anaconda | 2.1.0 | 2.1.0. Python | 3.6.13 | 3.6.13. anndata | 0.7.6 | 0.7.6. anyio | 2.2.0 | 2.2.0. argon2-cffi | 20.1.0 | 20.1.0. async-generator | 1.1 | 1.1. attrs | 21.2.0 | 21.2.0. Babel | 2.9.1 | 2.9.1. backcall | 0.2.0 | 0.2.0. bleach | 4.0.0 | 4.0.0. brotlipy | 0.7.0 | 0.7.0. cached-property | 1.5.2 | 1.5.2. certifi | 2021.5.30 | 2021.5.30. cffi | 1.14.6 | 1.14.6. charset-normalizer | 2.0.4 | 2.0.4. colorama | 0.4.4 | 0.4.4. contextvars | 2.4 | 2.4. **cryptography | 3.4.7 | 35.0.0**. cycler | 0.10.0 | 0.11.0. dataclasses | 0.8 | 0.8. decorator | 4.4.2 | 4.4.2. defusedxml | 0.7.1 | 0.7.1. entrypoints | 0.3 | 0.3. get-version | 2.1 | 2.1. h5py | 3.1.0 | 3.1.0. idna | 3.2 | 3.2. igraph | 0.9.8 | 0.9.8. immutables | 0.16 | 0.16. importlib-metadata | 4.8.1 | 4.8.1. ipykernel | 5.3.4 | 5.3.4. ipython | 7.16.1 | 7.16.1. ipython-genutils | 0.2.0 | 0.2.0. jedi | 0.17.0 | 0.17.0. **Jinja2 | 3.0.1 | 3.0.2**. joblib | 1.1.0 | 1.1.0. json5 | 0.9.6 | 0.9.6. jsonschema | 3.2.0 | 3.2.0. jupyter-client | 7.0.1 | 7.0.1. jupyter-core | 4.8.1 | 4.8.1. jupyter-server | 1.4.1 | 1.4.1. **jupyterlab | 3.1.7 | 3.2.1**. jupyterlab-pygments | 0.1.2 | 0.1.2. jupyterlab-server | 2.8.2 | 2.8.2. kiwisolver | 1.3.1 | 1.3.1. legacy-api-wrap | 1.2 | 1.2. leidenalg | 0.8.8 | 0.8.8. llvmlite | 0.36.0 | 0.36.0. MarkupSafe | 2.0.1 | 2.0.1. matplotlib | 3.3.4 | 3.3.4. mistune | 0.8.4 | 0.8.4. **natsort | 7.1.1 | 8.0.0**. nbclassic | 0.2.6 | 0.2.6. nbclient | 0.5.3 | 0.5.3. nbconvert | 6.0.7 | 6.0.7. nbformat | 5.1.3 | 5.1.3. nest-asyncio | 1.5.1 | 1.5.1. networkx | 2.5.1 | 2.5.1. notebook | 6.4.3 | 6.4.3. numba | 0.53.1 | 0.53.1. numexpr |",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:4406,integrability,api,api-wrap,4406,.0. bleach | 4.0.0 | 4.0.0. brotlipy | 0.7.0 | 0.7.0. cached-property | 1.5.2 | 1.5.2. certifi | 2021.5.30 | 2021.5.30. cffi | 1.14.6 | 1.14.6. charset-normalizer | 2.0.4 | 2.0.4. colorama | 0.4.4 | 0.4.4. contextvars | 2.4 | 2.4. **cryptography | 3.4.7 | 35.0.0**. cycler | 0.10.0 | 0.11.0. dataclasses | 0.8 | 0.8. decorator | 4.4.2 | 4.4.2. defusedxml | 0.7.1 | 0.7.1. entrypoints | 0.3 | 0.3. get-version | 2.1 | 2.1. h5py | 3.1.0 | 3.1.0. idna | 3.2 | 3.2. igraph | 0.9.8 | 0.9.8. immutables | 0.16 | 0.16. importlib-metadata | 4.8.1 | 4.8.1. ipykernel | 5.3.4 | 5.3.4. ipython | 7.16.1 | 7.16.1. ipython-genutils | 0.2.0 | 0.2.0. jedi | 0.17.0 | 0.17.0. **Jinja2 | 3.0.1 | 3.0.2**. joblib | 1.1.0 | 1.1.0. json5 | 0.9.6 | 0.9.6. jsonschema | 3.2.0 | 3.2.0. jupyter-client | 7.0.1 | 7.0.1. jupyter-core | 4.8.1 | 4.8.1. jupyter-server | 1.4.1 | 1.4.1. **jupyterlab | 3.1.7 | 3.2.1**. jupyterlab-pygments | 0.1.2 | 0.1.2. jupyterlab-server | 2.8.2 | 2.8.2. kiwisolver | 1.3.1 | 1.3.1. legacy-api-wrap | 1.2 | 1.2. leidenalg | 0.8.8 | 0.8.8. llvmlite | 0.36.0 | 0.36.0. MarkupSafe | 2.0.1 | 2.0.1. matplotlib | 3.3.4 | 3.3.4. mistune | 0.8.4 | 0.8.4. **natsort | 7.1.1 | 8.0.0**. nbclassic | 0.2.6 | 0.2.6. nbclient | 0.5.3 | 0.5.3. nbconvert | 6.0.7 | 6.0.7. nbformat | 5.1.3 | 5.1.3. nest-asyncio | 1.5.1 | 1.5.1. networkx | 2.5.1 | 2.5.1. notebook | 6.4.3 | 6.4.3. numba | 0.53.1 | 0.53.1. numexpr | 2.7.3 | 2.7.3. numpy | 1.19.5 | 1.19.5. packaging | 21 | 21. pandas | 1.1.5 | 1.1.5. pandocfilters | 1.4.3 | 1.4.3. parso | 0.8.2 | 0.8.2. patsy | 0.5.2 | 0.5.2. pickleshare | 0.7.5 | 0.7.5. Pillow | 8.4.0 | 8.4.0. pip | 21.0.1 | 21.2.2. prometheus-client | 0.11.0 | 0.11.0. prompt-toolkit | 3.0.20 | 3.0.20. pycparser | 2.2 | 2.2. Pygments | 2.10.0 | 2.10.0. pynndescent | 0.5.5 | 0.5.5. pyOpenSSL | 20.0.1 | 21.0.0. **pyparsing | 2.4.7 | 3.0.4**. pyrsistent | 0.17.3 | 0.17.3. PySocks | 1.7.1 | 1.7.1. python-dateutil | 2.8.2 | 2.8.2. python-igraph | 0.9.8 | 0.9.8. pytz | 2021.3 | 2021.3. py,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:746,interoperability,standard,standard,746,"UMAP goes wrong on scanpy v1.7.2; Hello Scanpy,. I reimaged my Windows from 20H2 to 21H1 today and reinstalled the environment for scanpy. However, in the new environment, when I run the official workflow of pbmc3k by just using the official pbmc3k notebook. The UMAP becomes different from the pbmc3k tutorial like below. But all other codings generate the same results and plots as the pbmc3k tutorial. ![image](https://user-images.githubusercontent.com/75048821/140598534-5425f05c-4bb1-4bb7-97d9-d37a0ce1f9dc.png). ![image](https://user-images.githubusercontent.com/75048821/140598551-5cd98b37-48b9-44ba-bacb-b4b2ac155576.png). Then I run the same coding on my older computer, which installed scanpy one month ago, the UMAP is the same as the standard workflow. ![image](https://user-images.githubusercontent.com/75048821/140632101-6536d00e-f180-407d-9cd1-a79991280e8a.png). **Is it because of the packages' problem or Windows 21H1? I list the packages information here. Could you please help me to solve this issue?**. <html xmlns:v=""urn:schemas-microsoft-com:vml"". xmlns:o=""urn:schemas-microsoft-com:office:office"". xmlns:x=""urn:schemas-microsoft-com:office:excel"". xmlns=""http://www.w3.org/TR/REC-html40"">. <head>. <meta name=ProgId content=Excel.Sheet>. <meta name=Generator content=""Microsoft Excel 15"">. <link id=Main-File rel=Main-File. href=""file:///C:/Users/Yuanjian/AppData/Local/Temp/msohtmlclip1/01/clip.htm"">. <link rel=File-List. href=""file:///C:/Users/Yuanjian/AppData/Local/Temp/msohtmlclip1/01/clip_filelist.xml"">. <style>. <!--table. 	{mso-displayed-decimal-separator:""\."";. 	mso-displayed-thousand-separator:""\,"";}. @page. 	{margin:.75in .7in .75in .7in;. 	mso-header-margin:.3in;. 	mso-footer-margin:.3in;}. .font5. 	{color:windowtext;. 	font-size:9.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;}. tr. 	{mso-height-source:auto;. 	mso-ruby-visibility:none;}. col. 	{mso-width-sourc",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:1029,interoperability,xml,xmlns,1029,"; Hello Scanpy,. I reimaged my Windows from 20H2 to 21H1 today and reinstalled the environment for scanpy. However, in the new environment, when I run the official workflow of pbmc3k by just using the official pbmc3k notebook. The UMAP becomes different from the pbmc3k tutorial like below. But all other codings generate the same results and plots as the pbmc3k tutorial. ![image](https://user-images.githubusercontent.com/75048821/140598534-5425f05c-4bb1-4bb7-97d9-d37a0ce1f9dc.png). ![image](https://user-images.githubusercontent.com/75048821/140598551-5cd98b37-48b9-44ba-bacb-b4b2ac155576.png). Then I run the same coding on my older computer, which installed scanpy one month ago, the UMAP is the same as the standard workflow. ![image](https://user-images.githubusercontent.com/75048821/140632101-6536d00e-f180-407d-9cd1-a79991280e8a.png). **Is it because of the packages' problem or Windows 21H1? I list the packages information here. Could you please help me to solve this issue?**. <html xmlns:v=""urn:schemas-microsoft-com:vml"". xmlns:o=""urn:schemas-microsoft-com:office:office"". xmlns:x=""urn:schemas-microsoft-com:office:excel"". xmlns=""http://www.w3.org/TR/REC-html40"">. <head>. <meta name=ProgId content=Excel.Sheet>. <meta name=Generator content=""Microsoft Excel 15"">. <link id=Main-File rel=Main-File. href=""file:///C:/Users/Yuanjian/AppData/Local/Temp/msohtmlclip1/01/clip.htm"">. <link rel=File-List. href=""file:///C:/Users/Yuanjian/AppData/Local/Temp/msohtmlclip1/01/clip_filelist.xml"">. <style>. <!--table. 	{mso-displayed-decimal-separator:""\."";. 	mso-displayed-thousand-separator:""\,"";}. @page. 	{margin:.75in .7in .75in .7in;. 	mso-header-margin:.3in;. 	mso-footer-margin:.3in;}. .font5. 	{color:windowtext;. 	font-size:9.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;}. tr. 	{mso-height-source:auto;. 	mso-ruby-visibility:none;}. col. 	{mso-width-source:auto;. 	mso-ruby-visibility:no",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:1070,interoperability,xml,xmlns,1070,"om 20H2 to 21H1 today and reinstalled the environment for scanpy. However, in the new environment, when I run the official workflow of pbmc3k by just using the official pbmc3k notebook. The UMAP becomes different from the pbmc3k tutorial like below. But all other codings generate the same results and plots as the pbmc3k tutorial. ![image](https://user-images.githubusercontent.com/75048821/140598534-5425f05c-4bb1-4bb7-97d9-d37a0ce1f9dc.png). ![image](https://user-images.githubusercontent.com/75048821/140598551-5cd98b37-48b9-44ba-bacb-b4b2ac155576.png). Then I run the same coding on my older computer, which installed scanpy one month ago, the UMAP is the same as the standard workflow. ![image](https://user-images.githubusercontent.com/75048821/140632101-6536d00e-f180-407d-9cd1-a79991280e8a.png). **Is it because of the packages' problem or Windows 21H1? I list the packages information here. Could you please help me to solve this issue?**. <html xmlns:v=""urn:schemas-microsoft-com:vml"". xmlns:o=""urn:schemas-microsoft-com:office:office"". xmlns:x=""urn:schemas-microsoft-com:office:excel"". xmlns=""http://www.w3.org/TR/REC-html40"">. <head>. <meta name=ProgId content=Excel.Sheet>. <meta name=Generator content=""Microsoft Excel 15"">. <link id=Main-File rel=Main-File. href=""file:///C:/Users/Yuanjian/AppData/Local/Temp/msohtmlclip1/01/clip.htm"">. <link rel=File-List. href=""file:///C:/Users/Yuanjian/AppData/Local/Temp/msohtmlclip1/01/clip_filelist.xml"">. <style>. <!--table. 	{mso-displayed-decimal-separator:""\."";. 	mso-displayed-thousand-separator:""\,"";}. @page. 	{margin:.75in .7in .75in .7in;. 	mso-header-margin:.3in;. 	mso-footer-margin:.3in;}. .font5. 	{color:windowtext;. 	font-size:9.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;}. tr. 	{mso-height-source:auto;. 	mso-ruby-visibility:none;}. col. 	{mso-width-source:auto;. 	mso-ruby-visibility:none;}. br. 	{mso-data-placement:same-cell;",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:1121,interoperability,xml,xmlns,1121,"nt for scanpy. However, in the new environment, when I run the official workflow of pbmc3k by just using the official pbmc3k notebook. The UMAP becomes different from the pbmc3k tutorial like below. But all other codings generate the same results and plots as the pbmc3k tutorial. ![image](https://user-images.githubusercontent.com/75048821/140598534-5425f05c-4bb1-4bb7-97d9-d37a0ce1f9dc.png). ![image](https://user-images.githubusercontent.com/75048821/140598551-5cd98b37-48b9-44ba-bacb-b4b2ac155576.png). Then I run the same coding on my older computer, which installed scanpy one month ago, the UMAP is the same as the standard workflow. ![image](https://user-images.githubusercontent.com/75048821/140632101-6536d00e-f180-407d-9cd1-a79991280e8a.png). **Is it because of the packages' problem or Windows 21H1? I list the packages information here. Could you please help me to solve this issue?**. <html xmlns:v=""urn:schemas-microsoft-com:vml"". xmlns:o=""urn:schemas-microsoft-com:office:office"". xmlns:x=""urn:schemas-microsoft-com:office:excel"". xmlns=""http://www.w3.org/TR/REC-html40"">. <head>. <meta name=ProgId content=Excel.Sheet>. <meta name=Generator content=""Microsoft Excel 15"">. <link id=Main-File rel=Main-File. href=""file:///C:/Users/Yuanjian/AppData/Local/Temp/msohtmlclip1/01/clip.htm"">. <link rel=File-List. href=""file:///C:/Users/Yuanjian/AppData/Local/Temp/msohtmlclip1/01/clip_filelist.xml"">. <style>. <!--table. 	{mso-displayed-decimal-separator:""\."";. 	mso-displayed-thousand-separator:""\,"";}. @page. 	{margin:.75in .7in .75in .7in;. 	mso-header-margin:.3in;. 	mso-footer-margin:.3in;}. .font5. 	{color:windowtext;. 	font-size:9.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;}. tr. 	{mso-height-source:auto;. 	mso-ruby-visibility:none;}. col. 	{mso-width-source:auto;. 	mso-ruby-visibility:none;}. br. 	{mso-data-placement:same-cell;}. td. 	{padding-top:1px;. 	padding-right:1px;. 	pa",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:1171,interoperability,xml,xmlns,1171,"en I run the official workflow of pbmc3k by just using the official pbmc3k notebook. The UMAP becomes different from the pbmc3k tutorial like below. But all other codings generate the same results and plots as the pbmc3k tutorial. ![image](https://user-images.githubusercontent.com/75048821/140598534-5425f05c-4bb1-4bb7-97d9-d37a0ce1f9dc.png). ![image](https://user-images.githubusercontent.com/75048821/140598551-5cd98b37-48b9-44ba-bacb-b4b2ac155576.png). Then I run the same coding on my older computer, which installed scanpy one month ago, the UMAP is the same as the standard workflow. ![image](https://user-images.githubusercontent.com/75048821/140632101-6536d00e-f180-407d-9cd1-a79991280e8a.png). **Is it because of the packages' problem or Windows 21H1? I list the packages information here. Could you please help me to solve this issue?**. <html xmlns:v=""urn:schemas-microsoft-com:vml"". xmlns:o=""urn:schemas-microsoft-com:office:office"". xmlns:x=""urn:schemas-microsoft-com:office:excel"". xmlns=""http://www.w3.org/TR/REC-html40"">. <head>. <meta name=ProgId content=Excel.Sheet>. <meta name=Generator content=""Microsoft Excel 15"">. <link id=Main-File rel=Main-File. href=""file:///C:/Users/Yuanjian/AppData/Local/Temp/msohtmlclip1/01/clip.htm"">. <link rel=File-List. href=""file:///C:/Users/Yuanjian/AppData/Local/Temp/msohtmlclip1/01/clip_filelist.xml"">. <style>. <!--table. 	{mso-displayed-decimal-separator:""\."";. 	mso-displayed-thousand-separator:""\,"";}. @page. 	{margin:.75in .7in .75in .7in;. 	mso-header-margin:.3in;. 	mso-footer-margin:.3in;}. .font5. 	{color:windowtext;. 	font-size:9.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;}. tr. 	{mso-height-source:auto;. 	mso-ruby-visibility:none;}. col. 	{mso-width-source:auto;. 	mso-ruby-visibility:none;}. br. 	{mso-data-placement:same-cell;}. td. 	{padding-top:1px;. 	padding-right:1px;. 	padding-left:1px;. 	mso-ignore:padding;. 	color:blac",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:1528,interoperability,xml,xml,1528,"ps://user-images.githubusercontent.com/75048821/140598551-5cd98b37-48b9-44ba-bacb-b4b2ac155576.png). Then I run the same coding on my older computer, which installed scanpy one month ago, the UMAP is the same as the standard workflow. ![image](https://user-images.githubusercontent.com/75048821/140632101-6536d00e-f180-407d-9cd1-a79991280e8a.png). **Is it because of the packages' problem or Windows 21H1? I list the packages information here. Could you please help me to solve this issue?**. <html xmlns:v=""urn:schemas-microsoft-com:vml"". xmlns:o=""urn:schemas-microsoft-com:office:office"". xmlns:x=""urn:schemas-microsoft-com:office:excel"". xmlns=""http://www.w3.org/TR/REC-html40"">. <head>. <meta name=ProgId content=Excel.Sheet>. <meta name=Generator content=""Microsoft Excel 15"">. <link id=Main-File rel=Main-File. href=""file:///C:/Users/Yuanjian/AppData/Local/Temp/msohtmlclip1/01/clip.htm"">. <link rel=File-List. href=""file:///C:/Users/Yuanjian/AppData/Local/Temp/msohtmlclip1/01/clip_filelist.xml"">. <style>. <!--table. 	{mso-displayed-decimal-separator:""\."";. 	mso-displayed-thousand-separator:""\,"";}. @page. 	{margin:.75in .7in .75in .7in;. 	mso-header-margin:.3in;. 	mso-footer-margin:.3in;}. .font5. 	{color:windowtext;. 	font-size:9.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;}. tr. 	{mso-height-source:auto;. 	mso-ruby-visibility:none;}. col. 	{mso-width-source:auto;. 	mso-ruby-visibility:none;}. br. 	{mso-data-placement:same-cell;}. td. 	{padding-top:1px;. 	padding-right:1px;. 	padding-left:1px;. 	mso-ignore:padding;. 	color:black;. 	font-size:11.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;. 	mso-number-format:General;. 	text-align:general;. 	vertical-align:middle;. 	border:none;. 	mso-background-source:auto;. 	mso-pattern:auto;. 	mso-protection:locked visible;. 	white-space:nowrap;",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:2348,interoperability,format,format,2348,"=""file:///C:/Users/Yuanjian/AppData/Local/Temp/msohtmlclip1/01/clip.htm"">. <link rel=File-List. href=""file:///C:/Users/Yuanjian/AppData/Local/Temp/msohtmlclip1/01/clip_filelist.xml"">. <style>. <!--table. 	{mso-displayed-decimal-separator:""\."";. 	mso-displayed-thousand-separator:""\,"";}. @page. 	{margin:.75in .7in .75in .7in;. 	mso-header-margin:.3in;. 	mso-footer-margin:.3in;}. .font5. 	{color:windowtext;. 	font-size:9.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;}. tr. 	{mso-height-source:auto;. 	mso-ruby-visibility:none;}. col. 	{mso-width-source:auto;. 	mso-ruby-visibility:none;}. br. 	{mso-data-placement:same-cell;}. td. 	{padding-top:1px;. 	padding-right:1px;. 	padding-left:1px;. 	mso-ignore:padding;. 	color:black;. 	font-size:11.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;. 	mso-number-format:General;. 	text-align:general;. 	vertical-align:middle;. 	border:none;. 	mso-background-source:auto;. 	mso-pattern:auto;. 	mso-protection:locked visible;. 	white-space:nowrap;. 	mso-rotate:0;}. .xl65. 	{text-align:center;}. .xl66. 	{text-align:center;. 	border:.5pt solid windowtext;}. .xl67. 	{color:red;. 	text-align:center;. 	border:.5pt solid windowtext;}. .xl68. 	{font-weight:700;. 	text-align:center;. 	border:.5pt solid windowtext;}. ruby. 	{ruby-align:left;}. rt. 	{color:windowtext;. 	font-size:9.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;. 	mso-char-type:none;. 	display:none;}. -->. </style>. </head>. <body link=""#0563C1"" vlink=""#954F72"">.   | Right UMAP | Wrong UMAP. -- | -- | --. Package | Version | Version. Anaconda | 2.1.0 | 2.1.0. Python | 3.6.13 | 3.6.13. anndata | 0.7.6 | 0.7.6. anyio | 2.2.0 | 2.2.0. argon2-cffi | 20.1.0 | 20.1.0. async-generator | 1.1 | 1.1. attrs | 21.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:4406,interoperability,api,api-wrap,4406,.0. bleach | 4.0.0 | 4.0.0. brotlipy | 0.7.0 | 0.7.0. cached-property | 1.5.2 | 1.5.2. certifi | 2021.5.30 | 2021.5.30. cffi | 1.14.6 | 1.14.6. charset-normalizer | 2.0.4 | 2.0.4. colorama | 0.4.4 | 0.4.4. contextvars | 2.4 | 2.4. **cryptography | 3.4.7 | 35.0.0**. cycler | 0.10.0 | 0.11.0. dataclasses | 0.8 | 0.8. decorator | 4.4.2 | 4.4.2. defusedxml | 0.7.1 | 0.7.1. entrypoints | 0.3 | 0.3. get-version | 2.1 | 2.1. h5py | 3.1.0 | 3.1.0. idna | 3.2 | 3.2. igraph | 0.9.8 | 0.9.8. immutables | 0.16 | 0.16. importlib-metadata | 4.8.1 | 4.8.1. ipykernel | 5.3.4 | 5.3.4. ipython | 7.16.1 | 7.16.1. ipython-genutils | 0.2.0 | 0.2.0. jedi | 0.17.0 | 0.17.0. **Jinja2 | 3.0.1 | 3.0.2**. joblib | 1.1.0 | 1.1.0. json5 | 0.9.6 | 0.9.6. jsonschema | 3.2.0 | 3.2.0. jupyter-client | 7.0.1 | 7.0.1. jupyter-core | 4.8.1 | 4.8.1. jupyter-server | 1.4.1 | 1.4.1. **jupyterlab | 3.1.7 | 3.2.1**. jupyterlab-pygments | 0.1.2 | 0.1.2. jupyterlab-server | 2.8.2 | 2.8.2. kiwisolver | 1.3.1 | 1.3.1. legacy-api-wrap | 1.2 | 1.2. leidenalg | 0.8.8 | 0.8.8. llvmlite | 0.36.0 | 0.36.0. MarkupSafe | 2.0.1 | 2.0.1. matplotlib | 3.3.4 | 3.3.4. mistune | 0.8.4 | 0.8.4. **natsort | 7.1.1 | 8.0.0**. nbclassic | 0.2.6 | 0.2.6. nbclient | 0.5.3 | 0.5.3. nbconvert | 6.0.7 | 6.0.7. nbformat | 5.1.3 | 5.1.3. nest-asyncio | 1.5.1 | 1.5.1. networkx | 2.5.1 | 2.5.1. notebook | 6.4.3 | 6.4.3. numba | 0.53.1 | 0.53.1. numexpr | 2.7.3 | 2.7.3. numpy | 1.19.5 | 1.19.5. packaging | 21 | 21. pandas | 1.1.5 | 1.1.5. pandocfilters | 1.4.3 | 1.4.3. parso | 0.8.2 | 0.8.2. patsy | 0.5.2 | 0.5.2. pickleshare | 0.7.5 | 0.7.5. Pillow | 8.4.0 | 8.4.0. pip | 21.0.1 | 21.2.2. prometheus-client | 0.11.0 | 0.11.0. prompt-toolkit | 3.0.20 | 3.0.20. pycparser | 2.2 | 2.2. Pygments | 2.10.0 | 2.10.0. pynndescent | 0.5.5 | 0.5.5. pyOpenSSL | 20.0.1 | 21.0.0. **pyparsing | 2.4.7 | 3.0.4**. pyrsistent | 0.17.3 | 0.17.3. PySocks | 1.7.1 | 1.7.1. python-dateutil | 2.8.2 | 2.8.2. python-igraph | 0.9.8 | 0.9.8. pytz | 2021.3 | 2021.3. py,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:901,modifiability,pac,packages,901,"UMAP goes wrong on scanpy v1.7.2; Hello Scanpy,. I reimaged my Windows from 20H2 to 21H1 today and reinstalled the environment for scanpy. However, in the new environment, when I run the official workflow of pbmc3k by just using the official pbmc3k notebook. The UMAP becomes different from the pbmc3k tutorial like below. But all other codings generate the same results and plots as the pbmc3k tutorial. ![image](https://user-images.githubusercontent.com/75048821/140598534-5425f05c-4bb1-4bb7-97d9-d37a0ce1f9dc.png). ![image](https://user-images.githubusercontent.com/75048821/140598551-5cd98b37-48b9-44ba-bacb-b4b2ac155576.png). Then I run the same coding on my older computer, which installed scanpy one month ago, the UMAP is the same as the standard workflow. ![image](https://user-images.githubusercontent.com/75048821/140632101-6536d00e-f180-407d-9cd1-a79991280e8a.png). **Is it because of the packages' problem or Windows 21H1? I list the packages information here. Could you please help me to solve this issue?**. <html xmlns:v=""urn:schemas-microsoft-com:vml"". xmlns:o=""urn:schemas-microsoft-com:office:office"". xmlns:x=""urn:schemas-microsoft-com:office:excel"". xmlns=""http://www.w3.org/TR/REC-html40"">. <head>. <meta name=ProgId content=Excel.Sheet>. <meta name=Generator content=""Microsoft Excel 15"">. <link id=Main-File rel=Main-File. href=""file:///C:/Users/Yuanjian/AppData/Local/Temp/msohtmlclip1/01/clip.htm"">. <link rel=File-List. href=""file:///C:/Users/Yuanjian/AppData/Local/Temp/msohtmlclip1/01/clip_filelist.xml"">. <style>. <!--table. 	{mso-displayed-decimal-separator:""\."";. 	mso-displayed-thousand-separator:""\,"";}. @page. 	{margin:.75in .7in .75in .7in;. 	mso-header-margin:.3in;. 	mso-footer-margin:.3in;}. .font5. 	{color:windowtext;. 	font-size:9.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;}. tr. 	{mso-height-source:auto;. 	mso-ruby-visibility:none;}. col. 	{mso-width-sourc",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:947,modifiability,pac,packages,947,"UMAP goes wrong on scanpy v1.7.2; Hello Scanpy,. I reimaged my Windows from 20H2 to 21H1 today and reinstalled the environment for scanpy. However, in the new environment, when I run the official workflow of pbmc3k by just using the official pbmc3k notebook. The UMAP becomes different from the pbmc3k tutorial like below. But all other codings generate the same results and plots as the pbmc3k tutorial. ![image](https://user-images.githubusercontent.com/75048821/140598534-5425f05c-4bb1-4bb7-97d9-d37a0ce1f9dc.png). ![image](https://user-images.githubusercontent.com/75048821/140598551-5cd98b37-48b9-44ba-bacb-b4b2ac155576.png). Then I run the same coding on my older computer, which installed scanpy one month ago, the UMAP is the same as the standard workflow. ![image](https://user-images.githubusercontent.com/75048821/140632101-6536d00e-f180-407d-9cd1-a79991280e8a.png). **Is it because of the packages' problem or Windows 21H1? I list the packages information here. Could you please help me to solve this issue?**. <html xmlns:v=""urn:schemas-microsoft-com:vml"". xmlns:o=""urn:schemas-microsoft-com:office:office"". xmlns:x=""urn:schemas-microsoft-com:office:excel"". xmlns=""http://www.w3.org/TR/REC-html40"">. <head>. <meta name=ProgId content=Excel.Sheet>. <meta name=Generator content=""Microsoft Excel 15"">. <link id=Main-File rel=Main-File. href=""file:///C:/Users/Yuanjian/AppData/Local/Temp/msohtmlclip1/01/clip.htm"">. <link rel=File-List. href=""file:///C:/Users/Yuanjian/AppData/Local/Temp/msohtmlclip1/01/clip_filelist.xml"">. <style>. <!--table. 	{mso-displayed-decimal-separator:""\."";. 	mso-displayed-thousand-separator:""\,"";}. @page. 	{margin:.75in .7in .75in .7in;. 	mso-header-margin:.3in;. 	mso-footer-margin:.3in;}. .font5. 	{color:windowtext;. 	font-size:9.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;}. tr. 	{mso-height-source:auto;. 	mso-ruby-visibility:none;}. col. 	{mso-width-sourc",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:1825,modifiability,deco,decoration,1825,"2101-6536d00e-f180-407d-9cd1-a79991280e8a.png). **Is it because of the packages' problem or Windows 21H1? I list the packages information here. Could you please help me to solve this issue?**. <html xmlns:v=""urn:schemas-microsoft-com:vml"". xmlns:o=""urn:schemas-microsoft-com:office:office"". xmlns:x=""urn:schemas-microsoft-com:office:excel"". xmlns=""http://www.w3.org/TR/REC-html40"">. <head>. <meta name=ProgId content=Excel.Sheet>. <meta name=Generator content=""Microsoft Excel 15"">. <link id=Main-File rel=Main-File. href=""file:///C:/Users/Yuanjian/AppData/Local/Temp/msohtmlclip1/01/clip.htm"">. <link rel=File-List. href=""file:///C:/Users/Yuanjian/AppData/Local/Temp/msohtmlclip1/01/clip_filelist.xml"">. <style>. <!--table. 	{mso-displayed-decimal-separator:""\."";. 	mso-displayed-thousand-separator:""\,"";}. @page. 	{margin:.75in .7in .75in .7in;. 	mso-header-margin:.3in;. 	mso-footer-margin:.3in;}. .font5. 	{color:windowtext;. 	font-size:9.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;}. tr. 	{mso-height-source:auto;. 	mso-ruby-visibility:none;}. col. 	{mso-width-source:auto;. 	mso-ruby-visibility:none;}. br. 	{mso-data-placement:same-cell;}. td. 	{padding-top:1px;. 	padding-right:1px;. 	padding-left:1px;. 	mso-ignore:padding;. 	color:black;. 	font-size:11.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;. 	mso-number-format:General;. 	text-align:general;. 	vertical-align:middle;. 	border:none;. 	mso-background-source:auto;. 	mso-pattern:auto;. 	mso-protection:locked visible;. 	white-space:nowrap;. 	mso-rotate:0;}. .xl65. 	{text-align:center;}. .xl66. 	{text-align:center;. 	border:.5pt solid windowtext;}. .xl67. 	{color:red;. 	text-align:center;. 	border:.5pt solid windowtext;}. .xl68. 	{font-weight:700;. 	text-align:center;. 	border:.5pt solid windowtext;}. ruby. 	{ruby-align:left;}. rt. 	{",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:2244,modifiability,deco,decoration,2244,"cel.Sheet>. <meta name=Generator content=""Microsoft Excel 15"">. <link id=Main-File rel=Main-File. href=""file:///C:/Users/Yuanjian/AppData/Local/Temp/msohtmlclip1/01/clip.htm"">. <link rel=File-List. href=""file:///C:/Users/Yuanjian/AppData/Local/Temp/msohtmlclip1/01/clip_filelist.xml"">. <style>. <!--table. 	{mso-displayed-decimal-separator:""\."";. 	mso-displayed-thousand-separator:""\,"";}. @page. 	{margin:.75in .7in .75in .7in;. 	mso-header-margin:.3in;. 	mso-footer-margin:.3in;}. .font5. 	{color:windowtext;. 	font-size:9.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;}. tr. 	{mso-height-source:auto;. 	mso-ruby-visibility:none;}. col. 	{mso-width-source:auto;. 	mso-ruby-visibility:none;}. br. 	{mso-data-placement:same-cell;}. td. 	{padding-top:1px;. 	padding-right:1px;. 	padding-left:1px;. 	mso-ignore:padding;. 	color:black;. 	font-size:11.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;. 	mso-number-format:General;. 	text-align:general;. 	vertical-align:middle;. 	border:none;. 	mso-background-source:auto;. 	mso-pattern:auto;. 	mso-protection:locked visible;. 	white-space:nowrap;. 	mso-rotate:0;}. .xl65. 	{text-align:center;}. .xl66. 	{text-align:center;. 	border:.5pt solid windowtext;}. .xl67. 	{color:red;. 	text-align:center;. 	border:.5pt solid windowtext;}. .xl68. 	{font-weight:700;. 	text-align:center;. 	border:.5pt solid windowtext;}. ruby. 	{ruby-align:left;}. rt. 	{color:windowtext;. 	font-size:9.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;. 	mso-char-type:none;. 	display:none;}. -->. </style>. </head>. <body link=""#0563C1"" vlink=""#954F72"">.   | Right UMAP | Wrong UMAP. -- | -- | --. Package | Version | Version. Anaconda | 2.1.0 | 2.1.0. Python | 3.6.13 | 3.6.13. anndata | 0.7.6 |",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:2914,modifiability,deco,decoration,2914,"r. 	{mso-height-source:auto;. 	mso-ruby-visibility:none;}. col. 	{mso-width-source:auto;. 	mso-ruby-visibility:none;}. br. 	{mso-data-placement:same-cell;}. td. 	{padding-top:1px;. 	padding-right:1px;. 	padding-left:1px;. 	mso-ignore:padding;. 	color:black;. 	font-size:11.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;. 	mso-number-format:General;. 	text-align:general;. 	vertical-align:middle;. 	border:none;. 	mso-background-source:auto;. 	mso-pattern:auto;. 	mso-protection:locked visible;. 	white-space:nowrap;. 	mso-rotate:0;}. .xl65. 	{text-align:center;}. .xl66. 	{text-align:center;. 	border:.5pt solid windowtext;}. .xl67. 	{color:red;. 	text-align:center;. 	border:.5pt solid windowtext;}. .xl68. 	{font-weight:700;. 	text-align:center;. 	border:.5pt solid windowtext;}. ruby. 	{ruby-align:left;}. rt. 	{color:windowtext;. 	font-size:9.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;. 	mso-char-type:none;. 	display:none;}. -->. </style>. </head>. <body link=""#0563C1"" vlink=""#954F72"">.   | Right UMAP | Wrong UMAP. -- | -- | --. Package | Version | Version. Anaconda | 2.1.0 | 2.1.0. Python | 3.6.13 | 3.6.13. anndata | 0.7.6 | 0.7.6. anyio | 2.2.0 | 2.2.0. argon2-cffi | 20.1.0 | 20.1.0. async-generator | 1.1 | 1.1. attrs | 21.2.0 | 21.2.0. Babel | 2.9.1 | 2.9.1. backcall | 0.2.0 | 0.2.0. bleach | 4.0.0 | 4.0.0. brotlipy | 0.7.0 | 0.7.0. cached-property | 1.5.2 | 1.5.2. certifi | 2021.5.30 | 2021.5.30. cffi | 1.14.6 | 1.14.6. charset-normalizer | 2.0.4 | 2.0.4. colorama | 0.4.4 | 0.4.4. contextvars | 2.4 | 2.4. **cryptography | 3.4.7 | 35.0.0**. cycler | 0.10.0 | 0.11.0. dataclasses | 0.8 | 0.8. decorator | 4.4.2 | 4.4.2. defusedxml | 0.7.1 | 0.7.1. entrypoints | 0.3 | 0.3. get-version | 2.1 | 2.1. h5py | 3.1.0 | 3.1.0. idna | 3.2 | 3.2. igraph | 0.9.8 | 0.9.8. immutables | 0.16 | 0.1",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:3151,modifiability,Pac,Package,3151,"dding;. 	color:black;. 	font-size:11.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;. 	mso-number-format:General;. 	text-align:general;. 	vertical-align:middle;. 	border:none;. 	mso-background-source:auto;. 	mso-pattern:auto;. 	mso-protection:locked visible;. 	white-space:nowrap;. 	mso-rotate:0;}. .xl65. 	{text-align:center;}. .xl66. 	{text-align:center;. 	border:.5pt solid windowtext;}. .xl67. 	{color:red;. 	text-align:center;. 	border:.5pt solid windowtext;}. .xl68. 	{font-weight:700;. 	text-align:center;. 	border:.5pt solid windowtext;}. ruby. 	{ruby-align:left;}. rt. 	{color:windowtext;. 	font-size:9.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;. 	mso-char-type:none;. 	display:none;}. -->. </style>. </head>. <body link=""#0563C1"" vlink=""#954F72"">.   | Right UMAP | Wrong UMAP. -- | -- | --. Package | Version | Version. Anaconda | 2.1.0 | 2.1.0. Python | 3.6.13 | 3.6.13. anndata | 0.7.6 | 0.7.6. anyio | 2.2.0 | 2.2.0. argon2-cffi | 20.1.0 | 20.1.0. async-generator | 1.1 | 1.1. attrs | 21.2.0 | 21.2.0. Babel | 2.9.1 | 2.9.1. backcall | 0.2.0 | 0.2.0. bleach | 4.0.0 | 4.0.0. brotlipy | 0.7.0 | 0.7.0. cached-property | 1.5.2 | 1.5.2. certifi | 2021.5.30 | 2021.5.30. cffi | 1.14.6 | 1.14.6. charset-normalizer | 2.0.4 | 2.0.4. colorama | 0.4.4 | 0.4.4. contextvars | 2.4 | 2.4. **cryptography | 3.4.7 | 35.0.0**. cycler | 0.10.0 | 0.11.0. dataclasses | 0.8 | 0.8. decorator | 4.4.2 | 4.4.2. defusedxml | 0.7.1 | 0.7.1. entrypoints | 0.3 | 0.3. get-version | 2.1 | 2.1. h5py | 3.1.0 | 3.1.0. idna | 3.2 | 3.2. igraph | 0.9.8 | 0.9.8. immutables | 0.16 | 0.16. importlib-metadata | 4.8.1 | 4.8.1. ipykernel | 5.3.4 | 5.3.4. ipython | 7.16.1 | 7.16.1. ipython-genutils | 0.2.0 | 0.2.0. jedi | 0.17.0 | 0.17.0. **Jinja2 | 3.0.1 | 3.0.2**. joblib | 1.1.0 | 1.1.0. json5 | 0.9.6 | 0.9.6. jsonschema",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:3161,modifiability,Version,Version,3161,"olor:black;. 	font-size:11.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;. 	mso-number-format:General;. 	text-align:general;. 	vertical-align:middle;. 	border:none;. 	mso-background-source:auto;. 	mso-pattern:auto;. 	mso-protection:locked visible;. 	white-space:nowrap;. 	mso-rotate:0;}. .xl65. 	{text-align:center;}. .xl66. 	{text-align:center;. 	border:.5pt solid windowtext;}. .xl67. 	{color:red;. 	text-align:center;. 	border:.5pt solid windowtext;}. .xl68. 	{font-weight:700;. 	text-align:center;. 	border:.5pt solid windowtext;}. ruby. 	{ruby-align:left;}. rt. 	{color:windowtext;. 	font-size:9.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;. 	mso-char-type:none;. 	display:none;}. -->. </style>. </head>. <body link=""#0563C1"" vlink=""#954F72"">.   | Right UMAP | Wrong UMAP. -- | -- | --. Package | Version | Version. Anaconda | 2.1.0 | 2.1.0. Python | 3.6.13 | 3.6.13. anndata | 0.7.6 | 0.7.6. anyio | 2.2.0 | 2.2.0. argon2-cffi | 20.1.0 | 20.1.0. async-generator | 1.1 | 1.1. attrs | 21.2.0 | 21.2.0. Babel | 2.9.1 | 2.9.1. backcall | 0.2.0 | 0.2.0. bleach | 4.0.0 | 4.0.0. brotlipy | 0.7.0 | 0.7.0. cached-property | 1.5.2 | 1.5.2. certifi | 2021.5.30 | 2021.5.30. cffi | 1.14.6 | 1.14.6. charset-normalizer | 2.0.4 | 2.0.4. colorama | 0.4.4 | 0.4.4. contextvars | 2.4 | 2.4. **cryptography | 3.4.7 | 35.0.0**. cycler | 0.10.0 | 0.11.0. dataclasses | 0.8 | 0.8. decorator | 4.4.2 | 4.4.2. defusedxml | 0.7.1 | 0.7.1. entrypoints | 0.3 | 0.3. get-version | 2.1 | 2.1. h5py | 3.1.0 | 3.1.0. idna | 3.2 | 3.2. igraph | 0.9.8 | 0.9.8. immutables | 0.16 | 0.16. importlib-metadata | 4.8.1 | 4.8.1. ipykernel | 5.3.4 | 5.3.4. ipython | 7.16.1 | 7.16.1. ipython-genutils | 0.2.0 | 0.2.0. jedi | 0.17.0 | 0.17.0. **Jinja2 | 3.0.1 | 3.0.2**. joblib | 1.1.0 | 1.1.0. json5 | 0.9.6 | 0.9.6. jsonschema | 3.2.0 |",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:3171,modifiability,Version,Version,3171,";. 	font-size:11.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;. 	mso-number-format:General;. 	text-align:general;. 	vertical-align:middle;. 	border:none;. 	mso-background-source:auto;. 	mso-pattern:auto;. 	mso-protection:locked visible;. 	white-space:nowrap;. 	mso-rotate:0;}. .xl65. 	{text-align:center;}. .xl66. 	{text-align:center;. 	border:.5pt solid windowtext;}. .xl67. 	{color:red;. 	text-align:center;. 	border:.5pt solid windowtext;}. .xl68. 	{font-weight:700;. 	text-align:center;. 	border:.5pt solid windowtext;}. ruby. 	{ruby-align:left;}. rt. 	{color:windowtext;. 	font-size:9.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;. 	mso-char-type:none;. 	display:none;}. -->. </style>. </head>. <body link=""#0563C1"" vlink=""#954F72"">.   | Right UMAP | Wrong UMAP. -- | -- | --. Package | Version | Version. Anaconda | 2.1.0 | 2.1.0. Python | 3.6.13 | 3.6.13. anndata | 0.7.6 | 0.7.6. anyio | 2.2.0 | 2.2.0. argon2-cffi | 20.1.0 | 20.1.0. async-generator | 1.1 | 1.1. attrs | 21.2.0 | 21.2.0. Babel | 2.9.1 | 2.9.1. backcall | 0.2.0 | 0.2.0. bleach | 4.0.0 | 4.0.0. brotlipy | 0.7.0 | 0.7.0. cached-property | 1.5.2 | 1.5.2. certifi | 2021.5.30 | 2021.5.30. cffi | 1.14.6 | 1.14.6. charset-normalizer | 2.0.4 | 2.0.4. colorama | 0.4.4 | 0.4.4. contextvars | 2.4 | 2.4. **cryptography | 3.4.7 | 35.0.0**. cycler | 0.10.0 | 0.11.0. dataclasses | 0.8 | 0.8. decorator | 4.4.2 | 4.4.2. defusedxml | 0.7.1 | 0.7.1. entrypoints | 0.3 | 0.3. get-version | 2.1 | 2.1. h5py | 3.1.0 | 3.1.0. idna | 3.2 | 3.2. igraph | 0.9.8 | 0.9.8. immutables | 0.16 | 0.16. importlib-metadata | 4.8.1 | 4.8.1. ipykernel | 5.3.4 | 5.3.4. ipython | 7.16.1 | 7.16.1. ipython-genutils | 0.2.0 | 0.2.0. jedi | 0.17.0 | 0.17.0. **Jinja2 | 3.0.1 | 3.0.2**. joblib | 1.1.0 | 1.1.0. json5 | 0.9.6 | 0.9.6. jsonschema | 3.2.0 | 3.2.0. ju",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:3727,modifiability,deco,decorator,3727,"ight:700;. 	text-align:center;. 	border:.5pt solid windowtext;}. ruby. 	{ruby-align:left;}. rt. 	{color:windowtext;. 	font-size:9.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;. 	mso-char-type:none;. 	display:none;}. -->. </style>. </head>. <body link=""#0563C1"" vlink=""#954F72"">.   | Right UMAP | Wrong UMAP. -- | -- | --. Package | Version | Version. Anaconda | 2.1.0 | 2.1.0. Python | 3.6.13 | 3.6.13. anndata | 0.7.6 | 0.7.6. anyio | 2.2.0 | 2.2.0. argon2-cffi | 20.1.0 | 20.1.0. async-generator | 1.1 | 1.1. attrs | 21.2.0 | 21.2.0. Babel | 2.9.1 | 2.9.1. backcall | 0.2.0 | 0.2.0. bleach | 4.0.0 | 4.0.0. brotlipy | 0.7.0 | 0.7.0. cached-property | 1.5.2 | 1.5.2. certifi | 2021.5.30 | 2021.5.30. cffi | 1.14.6 | 1.14.6. charset-normalizer | 2.0.4 | 2.0.4. colorama | 0.4.4 | 0.4.4. contextvars | 2.4 | 2.4. **cryptography | 3.4.7 | 35.0.0**. cycler | 0.10.0 | 0.11.0. dataclasses | 0.8 | 0.8. decorator | 4.4.2 | 4.4.2. defusedxml | 0.7.1 | 0.7.1. entrypoints | 0.3 | 0.3. get-version | 2.1 | 2.1. h5py | 3.1.0 | 3.1.0. idna | 3.2 | 3.2. igraph | 0.9.8 | 0.9.8. immutables | 0.16 | 0.16. importlib-metadata | 4.8.1 | 4.8.1. ipykernel | 5.3.4 | 5.3.4. ipython | 7.16.1 | 7.16.1. ipython-genutils | 0.2.0 | 0.2.0. jedi | 0.17.0 | 0.17.0. **Jinja2 | 3.0.1 | 3.0.2**. joblib | 1.1.0 | 1.1.0. json5 | 0.9.6 | 0.9.6. jsonschema | 3.2.0 | 3.2.0. jupyter-client | 7.0.1 | 7.0.1. jupyter-core | 4.8.1 | 4.8.1. jupyter-server | 1.4.1 | 1.4.1. **jupyterlab | 3.1.7 | 3.2.1**. jupyterlab-pygments | 0.1.2 | 0.1.2. jupyterlab-server | 2.8.2 | 2.8.2. kiwisolver | 1.3.1 | 1.3.1. legacy-api-wrap | 1.2 | 1.2. leidenalg | 0.8.8 | 0.8.8. llvmlite | 0.36.0 | 0.36.0. MarkupSafe | 2.0.1 | 2.0.1. matplotlib | 3.3.4 | 3.3.4. mistune | 0.8.4 | 0.8.4. **natsort | 7.1.1 | 8.0.0**. nbclassic | 0.2.6 | 0.2.6. nbclient | 0.5.3 | 0.5.3. nbconvert | 6.0.7 | 6.0.7. nbformat | 5.1.3 | 5.1.3. nest-asyncio | 1.5.1 | 1.5.1. net",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:3811,modifiability,version,version,3811,":left;}. rt. 	{color:windowtext;. 	font-size:9.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;. 	mso-char-type:none;. 	display:none;}. -->. </style>. </head>. <body link=""#0563C1"" vlink=""#954F72"">.   | Right UMAP | Wrong UMAP. -- | -- | --. Package | Version | Version. Anaconda | 2.1.0 | 2.1.0. Python | 3.6.13 | 3.6.13. anndata | 0.7.6 | 0.7.6. anyio | 2.2.0 | 2.2.0. argon2-cffi | 20.1.0 | 20.1.0. async-generator | 1.1 | 1.1. attrs | 21.2.0 | 21.2.0. Babel | 2.9.1 | 2.9.1. backcall | 0.2.0 | 0.2.0. bleach | 4.0.0 | 4.0.0. brotlipy | 0.7.0 | 0.7.0. cached-property | 1.5.2 | 1.5.2. certifi | 2021.5.30 | 2021.5.30. cffi | 1.14.6 | 1.14.6. charset-normalizer | 2.0.4 | 2.0.4. colorama | 0.4.4 | 0.4.4. contextvars | 2.4 | 2.4. **cryptography | 3.4.7 | 35.0.0**. cycler | 0.10.0 | 0.11.0. dataclasses | 0.8 | 0.8. decorator | 4.4.2 | 4.4.2. defusedxml | 0.7.1 | 0.7.1. entrypoints | 0.3 | 0.3. get-version | 2.1 | 2.1. h5py | 3.1.0 | 3.1.0. idna | 3.2 | 3.2. igraph | 0.9.8 | 0.9.8. immutables | 0.16 | 0.16. importlib-metadata | 4.8.1 | 4.8.1. ipykernel | 5.3.4 | 5.3.4. ipython | 7.16.1 | 7.16.1. ipython-genutils | 0.2.0 | 0.2.0. jedi | 0.17.0 | 0.17.0. **Jinja2 | 3.0.1 | 3.0.2**. joblib | 1.1.0 | 1.1.0. json5 | 0.9.6 | 0.9.6. jsonschema | 3.2.0 | 3.2.0. jupyter-client | 7.0.1 | 7.0.1. jupyter-core | 4.8.1 | 4.8.1. jupyter-server | 1.4.1 | 1.4.1. **jupyterlab | 3.1.7 | 3.2.1**. jupyterlab-pygments | 0.1.2 | 0.1.2. jupyterlab-server | 2.8.2 | 2.8.2. kiwisolver | 1.3.1 | 1.3.1. legacy-api-wrap | 1.2 | 1.2. leidenalg | 0.8.8 | 0.8.8. llvmlite | 0.36.0 | 0.36.0. MarkupSafe | 2.0.1 | 2.0.1. matplotlib | 3.3.4 | 3.3.4. mistune | 0.8.4 | 0.8.4. **natsort | 7.1.1 | 8.0.0**. nbclassic | 0.2.6 | 0.2.6. nbclient | 0.5.3 | 0.5.3. nbconvert | 6.0.7 | 6.0.7. nbformat | 5.1.3 | 5.1.3. nest-asyncio | 1.5.1 | 1.5.1. networkx | 2.5.1 | 2.5.1. notebook | 6.4.3 | 6.4.3. numba | 0.53.1 | 0.53.1. numexpr |",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:4856,modifiability,pac,packaging,4856,3.2 | 3.2. igraph | 0.9.8 | 0.9.8. immutables | 0.16 | 0.16. importlib-metadata | 4.8.1 | 4.8.1. ipykernel | 5.3.4 | 5.3.4. ipython | 7.16.1 | 7.16.1. ipython-genutils | 0.2.0 | 0.2.0. jedi | 0.17.0 | 0.17.0. **Jinja2 | 3.0.1 | 3.0.2**. joblib | 1.1.0 | 1.1.0. json5 | 0.9.6 | 0.9.6. jsonschema | 3.2.0 | 3.2.0. jupyter-client | 7.0.1 | 7.0.1. jupyter-core | 4.8.1 | 4.8.1. jupyter-server | 1.4.1 | 1.4.1. **jupyterlab | 3.1.7 | 3.2.1**. jupyterlab-pygments | 0.1.2 | 0.1.2. jupyterlab-server | 2.8.2 | 2.8.2. kiwisolver | 1.3.1 | 1.3.1. legacy-api-wrap | 1.2 | 1.2. leidenalg | 0.8.8 | 0.8.8. llvmlite | 0.36.0 | 0.36.0. MarkupSafe | 2.0.1 | 2.0.1. matplotlib | 3.3.4 | 3.3.4. mistune | 0.8.4 | 0.8.4. **natsort | 7.1.1 | 8.0.0**. nbclassic | 0.2.6 | 0.2.6. nbclient | 0.5.3 | 0.5.3. nbconvert | 6.0.7 | 6.0.7. nbformat | 5.1.3 | 5.1.3. nest-asyncio | 1.5.1 | 1.5.1. networkx | 2.5.1 | 2.5.1. notebook | 6.4.3 | 6.4.3. numba | 0.53.1 | 0.53.1. numexpr | 2.7.3 | 2.7.3. numpy | 1.19.5 | 1.19.5. packaging | 21 | 21. pandas | 1.1.5 | 1.1.5. pandocfilters | 1.4.3 | 1.4.3. parso | 0.8.2 | 0.8.2. patsy | 0.5.2 | 0.5.2. pickleshare | 0.7.5 | 0.7.5. Pillow | 8.4.0 | 8.4.0. pip | 21.0.1 | 21.2.2. prometheus-client | 0.11.0 | 0.11.0. prompt-toolkit | 3.0.20 | 3.0.20. pycparser | 2.2 | 2.2. Pygments | 2.10.0 | 2.10.0. pynndescent | 0.5.5 | 0.5.5. pyOpenSSL | 20.0.1 | 21.0.0. **pyparsing | 2.4.7 | 3.0.4**. pyrsistent | 0.17.3 | 0.17.3. PySocks | 1.7.1 | 1.7.1. python-dateutil | 2.8.2 | 2.8.2. python-igraph | 0.9.8 | 0.9.8. pytz | 2021.3 | 2021.3. pywin32 | 228 | 228. pywinpty | 0.5.7 | 0.5.7. pyzmq | 22.2.1 | 22.2.1. requests | 2.26.0 | 2.26.0. scanpy | 1.7.2 | 1.7.2. scikit-learn | 0.24.2 | 0.24.2. scipy | 1.5.4 | 1.5.4. seaborn | 0.11.2 | 0.11.2. Send2Trash | 1.8.0 | 1.8.0. setuptools | 58.0.4 | 58.0.4. sinfo | 0.3.4 | 0.3.4. six | 1.16.0 | 1.16.0. sniffio | 1.2.0 | 1.2.0. statsmodels | 0.12.2 | 0.12.2. stdlib-list | 0.8.0 | 0.8.0. tables | 3.6.1 | 3.6.1. terminado | 0.9.4 | 0.9.4. testpat,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:6017,modifiability,extens,extensions,6017,"| 0.1.2. jupyterlab-server | 2.8.2 | 2.8.2. kiwisolver | 1.3.1 | 1.3.1. legacy-api-wrap | 1.2 | 1.2. leidenalg | 0.8.8 | 0.8.8. llvmlite | 0.36.0 | 0.36.0. MarkupSafe | 2.0.1 | 2.0.1. matplotlib | 3.3.4 | 3.3.4. mistune | 0.8.4 | 0.8.4. **natsort | 7.1.1 | 8.0.0**. nbclassic | 0.2.6 | 0.2.6. nbclient | 0.5.3 | 0.5.3. nbconvert | 6.0.7 | 6.0.7. nbformat | 5.1.3 | 5.1.3. nest-asyncio | 1.5.1 | 1.5.1. networkx | 2.5.1 | 2.5.1. notebook | 6.4.3 | 6.4.3. numba | 0.53.1 | 0.53.1. numexpr | 2.7.3 | 2.7.3. numpy | 1.19.5 | 1.19.5. packaging | 21 | 21. pandas | 1.1.5 | 1.1.5. pandocfilters | 1.4.3 | 1.4.3. parso | 0.8.2 | 0.8.2. patsy | 0.5.2 | 0.5.2. pickleshare | 0.7.5 | 0.7.5. Pillow | 8.4.0 | 8.4.0. pip | 21.0.1 | 21.2.2. prometheus-client | 0.11.0 | 0.11.0. prompt-toolkit | 3.0.20 | 3.0.20. pycparser | 2.2 | 2.2. Pygments | 2.10.0 | 2.10.0. pynndescent | 0.5.5 | 0.5.5. pyOpenSSL | 20.0.1 | 21.0.0. **pyparsing | 2.4.7 | 3.0.4**. pyrsistent | 0.17.3 | 0.17.3. PySocks | 1.7.1 | 1.7.1. python-dateutil | 2.8.2 | 2.8.2. python-igraph | 0.9.8 | 0.9.8. pytz | 2021.3 | 2021.3. pywin32 | 228 | 228. pywinpty | 0.5.7 | 0.5.7. pyzmq | 22.2.1 | 22.2.1. requests | 2.26.0 | 2.26.0. scanpy | 1.7.2 | 1.7.2. scikit-learn | 0.24.2 | 0.24.2. scipy | 1.5.4 | 1.5.4. seaborn | 0.11.2 | 0.11.2. Send2Trash | 1.8.0 | 1.8.0. setuptools | 58.0.4 | 58.0.4. sinfo | 0.3.4 | 0.3.4. six | 1.16.0 | 1.16.0. sniffio | 1.2.0 | 1.2.0. statsmodels | 0.12.2 | 0.12.2. stdlib-list | 0.8.0 | 0.8.0. tables | 3.6.1 | 3.6.1. terminado | 0.9.4 | 0.9.4. testpath | 0.5.0 | 0.5.0. texttable | 1.6.4 | 1.6.4. threadpoolctl | 3.0.0 | 3.0.0. tornado | 6.1 | 6.1. tqdm | 4.62.3 | 4.62.3. traitlets | 4.3.3 | 4.3.3. typing-extensions | 3.10.0.2 | 3.10.0.2. **umap-learn | 0.5.1 | 0.5.2**. urllib3 | 1.26.7 | 1.26.7. wcwidth | 0.2.5 | 0.2.5. webencodings | 0.5.1 | 0.5.1. wheel | 0.37.0 | 0.37.0. win-inet-pton | 1.1.0 | 1.1.0. wincertstore | 0.2 | 0.2. xlrd | 1.2.0 | 1.2.0. zipp | 3.6.0 | 3.6.0. </body>. </html>. Thanks! Best,. YJ.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:1239,performance,content,content,1239,"bmc3k notebook. The UMAP becomes different from the pbmc3k tutorial like below. But all other codings generate the same results and plots as the pbmc3k tutorial. ![image](https://user-images.githubusercontent.com/75048821/140598534-5425f05c-4bb1-4bb7-97d9-d37a0ce1f9dc.png). ![image](https://user-images.githubusercontent.com/75048821/140598551-5cd98b37-48b9-44ba-bacb-b4b2ac155576.png). Then I run the same coding on my older computer, which installed scanpy one month ago, the UMAP is the same as the standard workflow. ![image](https://user-images.githubusercontent.com/75048821/140632101-6536d00e-f180-407d-9cd1-a79991280e8a.png). **Is it because of the packages' problem or Windows 21H1? I list the packages information here. Could you please help me to solve this issue?**. <html xmlns:v=""urn:schemas-microsoft-com:vml"". xmlns:o=""urn:schemas-microsoft-com:office:office"". xmlns:x=""urn:schemas-microsoft-com:office:excel"". xmlns=""http://www.w3.org/TR/REC-html40"">. <head>. <meta name=ProgId content=Excel.Sheet>. <meta name=Generator content=""Microsoft Excel 15"">. <link id=Main-File rel=Main-File. href=""file:///C:/Users/Yuanjian/AppData/Local/Temp/msohtmlclip1/01/clip.htm"">. <link rel=File-List. href=""file:///C:/Users/Yuanjian/AppData/Local/Temp/msohtmlclip1/01/clip_filelist.xml"">. <style>. <!--table. 	{mso-displayed-decimal-separator:""\."";. 	mso-displayed-thousand-separator:""\,"";}. @page. 	{margin:.75in .7in .75in .7in;. 	mso-header-margin:.3in;. 	mso-footer-margin:.3in;}. .font5. 	{color:windowtext;. 	font-size:9.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;}. tr. 	{mso-height-source:auto;. 	mso-ruby-visibility:none;}. col. 	{mso-width-source:auto;. 	mso-ruby-visibility:none;}. br. 	{mso-data-placement:same-cell;}. td. 	{padding-top:1px;. 	padding-right:1px;. 	padding-left:1px;. 	mso-ignore:padding;. 	color:black;. 	font-size:11.0pt;. 	font-weight:400;. 	font-style:normal;. 	text",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:1282,performance,content,content,1282,"from the pbmc3k tutorial like below. But all other codings generate the same results and plots as the pbmc3k tutorial. ![image](https://user-images.githubusercontent.com/75048821/140598534-5425f05c-4bb1-4bb7-97d9-d37a0ce1f9dc.png). ![image](https://user-images.githubusercontent.com/75048821/140598551-5cd98b37-48b9-44ba-bacb-b4b2ac155576.png). Then I run the same coding on my older computer, which installed scanpy one month ago, the UMAP is the same as the standard workflow. ![image](https://user-images.githubusercontent.com/75048821/140632101-6536d00e-f180-407d-9cd1-a79991280e8a.png). **Is it because of the packages' problem or Windows 21H1? I list the packages information here. Could you please help me to solve this issue?**. <html xmlns:v=""urn:schemas-microsoft-com:vml"". xmlns:o=""urn:schemas-microsoft-com:office:office"". xmlns:x=""urn:schemas-microsoft-com:office:excel"". xmlns=""http://www.w3.org/TR/REC-html40"">. <head>. <meta name=ProgId content=Excel.Sheet>. <meta name=Generator content=""Microsoft Excel 15"">. <link id=Main-File rel=Main-File. href=""file:///C:/Users/Yuanjian/AppData/Local/Temp/msohtmlclip1/01/clip.htm"">. <link rel=File-List. href=""file:///C:/Users/Yuanjian/AppData/Local/Temp/msohtmlclip1/01/clip_filelist.xml"">. <style>. <!--table. 	{mso-displayed-decimal-separator:""\."";. 	mso-displayed-thousand-separator:""\,"";}. @page. 	{margin:.75in .7in .75in .7in;. 	mso-header-margin:.3in;. 	mso-footer-margin:.3in;}. .font5. 	{color:windowtext;. 	font-size:9.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;}. tr. 	{mso-height-source:auto;. 	mso-ruby-visibility:none;}. col. 	{mso-width-source:auto;. 	mso-ruby-visibility:none;}. br. 	{mso-data-placement:same-cell;}. td. 	{padding-top:1px;. 	padding-right:1px;. 	padding-left:1px;. 	mso-ignore:padding;. 	color:black;. 	font-size:11.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-g",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:2493,performance,lock,locked,2493,"p/msohtmlclip1/01/clip_filelist.xml"">. <style>. <!--table. 	{mso-displayed-decimal-separator:""\."";. 	mso-displayed-thousand-separator:""\,"";}. @page. 	{margin:.75in .7in .75in .7in;. 	mso-header-margin:.3in;. 	mso-footer-margin:.3in;}. .font5. 	{color:windowtext;. 	font-size:9.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;}. tr. 	{mso-height-source:auto;. 	mso-ruby-visibility:none;}. col. 	{mso-width-source:auto;. 	mso-ruby-visibility:none;}. br. 	{mso-data-placement:same-cell;}. td. 	{padding-top:1px;. 	padding-right:1px;. 	padding-left:1px;. 	mso-ignore:padding;. 	color:black;. 	font-size:11.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;. 	mso-number-format:General;. 	text-align:general;. 	vertical-align:middle;. 	border:none;. 	mso-background-source:auto;. 	mso-pattern:auto;. 	mso-protection:locked visible;. 	white-space:nowrap;. 	mso-rotate:0;}. .xl65. 	{text-align:center;}. .xl66. 	{text-align:center;. 	border:.5pt solid windowtext;}. .xl67. 	{color:red;. 	text-align:center;. 	border:.5pt solid windowtext;}. .xl68. 	{font-weight:700;. 	text-align:center;. 	border:.5pt solid windowtext;}. ruby. 	{ruby-align:left;}. rt. 	{color:windowtext;. 	font-size:9.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;. 	mso-char-type:none;. 	display:none;}. -->. </style>. </head>. <body link=""#0563C1"" vlink=""#954F72"">.   | Right UMAP | Wrong UMAP. -- | -- | --. Package | Version | Version. Anaconda | 2.1.0 | 2.1.0. Python | 3.6.13 | 3.6.13. anndata | 0.7.6 | 0.7.6. anyio | 2.2.0 | 2.2.0. argon2-cffi | 20.1.0 | 20.1.0. async-generator | 1.1 | 1.1. attrs | 21.2.0 | 21.2.0. Babel | 2.9.1 | 2.9.1. backcall | 0.2.0 | 0.2.0. bleach | 4.0.0 | 4.0.0. brotlipy | 0.7.0 | 0.7.0. cached-property | 1.5.2 | 1.5.2.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:3464,performance,cach,cached-property,3464,"to;. 	mso-protection:locked visible;. 	white-space:nowrap;. 	mso-rotate:0;}. .xl65. 	{text-align:center;}. .xl66. 	{text-align:center;. 	border:.5pt solid windowtext;}. .xl67. 	{color:red;. 	text-align:center;. 	border:.5pt solid windowtext;}. .xl68. 	{font-weight:700;. 	text-align:center;. 	border:.5pt solid windowtext;}. ruby. 	{ruby-align:left;}. rt. 	{color:windowtext;. 	font-size:9.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;. 	mso-char-type:none;. 	display:none;}. -->. </style>. </head>. <body link=""#0563C1"" vlink=""#954F72"">.   | Right UMAP | Wrong UMAP. -- | -- | --. Package | Version | Version. Anaconda | 2.1.0 | 2.1.0. Python | 3.6.13 | 3.6.13. anndata | 0.7.6 | 0.7.6. anyio | 2.2.0 | 2.2.0. argon2-cffi | 20.1.0 | 20.1.0. async-generator | 1.1 | 1.1. attrs | 21.2.0 | 21.2.0. Babel | 2.9.1 | 2.9.1. backcall | 0.2.0 | 0.2.0. bleach | 4.0.0 | 4.0.0. brotlipy | 0.7.0 | 0.7.0. cached-property | 1.5.2 | 1.5.2. certifi | 2021.5.30 | 2021.5.30. cffi | 1.14.6 | 1.14.6. charset-normalizer | 2.0.4 | 2.0.4. colorama | 0.4.4 | 0.4.4. contextvars | 2.4 | 2.4. **cryptography | 3.4.7 | 35.0.0**. cycler | 0.10.0 | 0.11.0. dataclasses | 0.8 | 0.8. decorator | 4.4.2 | 4.4.2. defusedxml | 0.7.1 | 0.7.1. entrypoints | 0.3 | 0.3. get-version | 2.1 | 2.1. h5py | 3.1.0 | 3.1.0. idna | 3.2 | 3.2. igraph | 0.9.8 | 0.9.8. immutables | 0.16 | 0.16. importlib-metadata | 4.8.1 | 4.8.1. ipykernel | 5.3.4 | 5.3.4. ipython | 7.16.1 | 7.16.1. ipython-genutils | 0.2.0 | 0.2.0. jedi | 0.17.0 | 0.17.0. **Jinja2 | 3.0.1 | 3.0.2**. joblib | 1.1.0 | 1.1.0. json5 | 0.9.6 | 0.9.6. jsonschema | 3.2.0 | 3.2.0. jupyter-client | 7.0.1 | 7.0.1. jupyter-core | 4.8.1 | 4.8.1. jupyter-server | 1.4.1 | 1.4.1. **jupyterlab | 3.1.7 | 3.2.1**. jupyterlab-pygments | 0.1.2 | 0.1.2. jupyterlab-server | 2.8.2 | 2.8.2. kiwisolver | 1.3.1 | 1.3.1. legacy-api-wrap | 1.2 | 1.2. leidenalg | 0.8.8 | 0.8.8. llvmlite | 0.36.0",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:4729,performance,network,networkx,4729,tor | 4.4.2 | 4.4.2. defusedxml | 0.7.1 | 0.7.1. entrypoints | 0.3 | 0.3. get-version | 2.1 | 2.1. h5py | 3.1.0 | 3.1.0. idna | 3.2 | 3.2. igraph | 0.9.8 | 0.9.8. immutables | 0.16 | 0.16. importlib-metadata | 4.8.1 | 4.8.1. ipykernel | 5.3.4 | 5.3.4. ipython | 7.16.1 | 7.16.1. ipython-genutils | 0.2.0 | 0.2.0. jedi | 0.17.0 | 0.17.0. **Jinja2 | 3.0.1 | 3.0.2**. joblib | 1.1.0 | 1.1.0. json5 | 0.9.6 | 0.9.6. jsonschema | 3.2.0 | 3.2.0. jupyter-client | 7.0.1 | 7.0.1. jupyter-core | 4.8.1 | 4.8.1. jupyter-server | 1.4.1 | 1.4.1. **jupyterlab | 3.1.7 | 3.2.1**. jupyterlab-pygments | 0.1.2 | 0.1.2. jupyterlab-server | 2.8.2 | 2.8.2. kiwisolver | 1.3.1 | 1.3.1. legacy-api-wrap | 1.2 | 1.2. leidenalg | 0.8.8 | 0.8.8. llvmlite | 0.36.0 | 0.36.0. MarkupSafe | 2.0.1 | 2.0.1. matplotlib | 3.3.4 | 3.3.4. mistune | 0.8.4 | 0.8.4. **natsort | 7.1.1 | 8.0.0**. nbclassic | 0.2.6 | 0.2.6. nbclient | 0.5.3 | 0.5.3. nbconvert | 6.0.7 | 6.0.7. nbformat | 5.1.3 | 5.1.3. nest-asyncio | 1.5.1 | 1.5.1. networkx | 2.5.1 | 2.5.1. notebook | 6.4.3 | 6.4.3. numba | 0.53.1 | 0.53.1. numexpr | 2.7.3 | 2.7.3. numpy | 1.19.5 | 1.19.5. packaging | 21 | 21. pandas | 1.1.5 | 1.1.5. pandocfilters | 1.4.3 | 1.4.3. parso | 0.8.2 | 0.8.2. patsy | 0.5.2 | 0.5.2. pickleshare | 0.7.5 | 0.7.5. Pillow | 8.4.0 | 8.4.0. pip | 21.0.1 | 21.2.2. prometheus-client | 0.11.0 | 0.11.0. prompt-toolkit | 3.0.20 | 3.0.20. pycparser | 2.2 | 2.2. Pygments | 2.10.0 | 2.10.0. pynndescent | 0.5.5 | 0.5.5. pyOpenSSL | 20.0.1 | 21.0.0. **pyparsing | 2.4.7 | 3.0.4**. pyrsistent | 0.17.3 | 0.17.3. PySocks | 1.7.1 | 1.7.1. python-dateutil | 2.8.2 | 2.8.2. python-igraph | 0.9.8 | 0.9.8. pytz | 2021.3 | 2021.3. pywin32 | 228 | 228. pywinpty | 0.5.7 | 0.5.7. pyzmq | 22.2.1 | 22.2.1. requests | 2.26.0 | 2.26.0. scanpy | 1.7.2 | 1.7.2. scikit-learn | 0.24.2 | 0.24.2. scipy | 1.5.4 | 1.5.4. seaborn | 0.11.2 | 0.11.2. Send2Trash | 1.8.0 | 1.8.0. setuptools | 58.0.4 | 58.0.4. sinfo | 0.3.4 | 0.3.4. six | 1.16.0 | 1.16.0. sniffio | 1.2.0,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:5854,safety,test,testpath,5854,"| 0.1.2. jupyterlab-server | 2.8.2 | 2.8.2. kiwisolver | 1.3.1 | 1.3.1. legacy-api-wrap | 1.2 | 1.2. leidenalg | 0.8.8 | 0.8.8. llvmlite | 0.36.0 | 0.36.0. MarkupSafe | 2.0.1 | 2.0.1. matplotlib | 3.3.4 | 3.3.4. mistune | 0.8.4 | 0.8.4. **natsort | 7.1.1 | 8.0.0**. nbclassic | 0.2.6 | 0.2.6. nbclient | 0.5.3 | 0.5.3. nbconvert | 6.0.7 | 6.0.7. nbformat | 5.1.3 | 5.1.3. nest-asyncio | 1.5.1 | 1.5.1. networkx | 2.5.1 | 2.5.1. notebook | 6.4.3 | 6.4.3. numba | 0.53.1 | 0.53.1. numexpr | 2.7.3 | 2.7.3. numpy | 1.19.5 | 1.19.5. packaging | 21 | 21. pandas | 1.1.5 | 1.1.5. pandocfilters | 1.4.3 | 1.4.3. parso | 0.8.2 | 0.8.2. patsy | 0.5.2 | 0.5.2. pickleshare | 0.7.5 | 0.7.5. Pillow | 8.4.0 | 8.4.0. pip | 21.0.1 | 21.2.2. prometheus-client | 0.11.0 | 0.11.0. prompt-toolkit | 3.0.20 | 3.0.20. pycparser | 2.2 | 2.2. Pygments | 2.10.0 | 2.10.0. pynndescent | 0.5.5 | 0.5.5. pyOpenSSL | 20.0.1 | 21.0.0. **pyparsing | 2.4.7 | 3.0.4**. pyrsistent | 0.17.3 | 0.17.3. PySocks | 1.7.1 | 1.7.1. python-dateutil | 2.8.2 | 2.8.2. python-igraph | 0.9.8 | 0.9.8. pytz | 2021.3 | 2021.3. pywin32 | 228 | 228. pywinpty | 0.5.7 | 0.5.7. pyzmq | 22.2.1 | 22.2.1. requests | 2.26.0 | 2.26.0. scanpy | 1.7.2 | 1.7.2. scikit-learn | 0.24.2 | 0.24.2. scipy | 1.5.4 | 1.5.4. seaborn | 0.11.2 | 0.11.2. Send2Trash | 1.8.0 | 1.8.0. setuptools | 58.0.4 | 58.0.4. sinfo | 0.3.4 | 0.3.4. six | 1.16.0 | 1.16.0. sniffio | 1.2.0 | 1.2.0. statsmodels | 0.12.2 | 0.12.2. stdlib-list | 0.8.0 | 0.8.0. tables | 3.6.1 | 3.6.1. terminado | 0.9.4 | 0.9.4. testpath | 0.5.0 | 0.5.0. texttable | 1.6.4 | 1.6.4. threadpoolctl | 3.0.0 | 3.0.0. tornado | 6.1 | 6.1. tqdm | 4.62.3 | 4.62.3. traitlets | 4.3.3 | 4.3.3. typing-extensions | 3.10.0.2 | 3.10.0.2. **umap-learn | 0.5.1 | 0.5.2**. urllib3 | 1.26.7 | 1.26.7. wcwidth | 0.2.5 | 0.2.5. webencodings | 0.5.1 | 0.5.1. wheel | 0.37.0 | 0.37.0. win-inet-pton | 1.1.0 | 1.1.0. wincertstore | 0.2 | 0.2. xlrd | 1.2.0 | 1.2.0. zipp | 3.6.0 | 3.6.0. </body>. </html>. Thanks! Best,. YJ.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:2493,security,lock,locked,2493,"p/msohtmlclip1/01/clip_filelist.xml"">. <style>. <!--table. 	{mso-displayed-decimal-separator:""\."";. 	mso-displayed-thousand-separator:""\,"";}. @page. 	{margin:.75in .7in .75in .7in;. 	mso-header-margin:.3in;. 	mso-footer-margin:.3in;}. .font5. 	{color:windowtext;. 	font-size:9.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;}. tr. 	{mso-height-source:auto;. 	mso-ruby-visibility:none;}. col. 	{mso-width-source:auto;. 	mso-ruby-visibility:none;}. br. 	{mso-data-placement:same-cell;}. td. 	{padding-top:1px;. 	padding-right:1px;. 	padding-left:1px;. 	mso-ignore:padding;. 	color:black;. 	font-size:11.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;. 	mso-number-format:General;. 	text-align:general;. 	vertical-align:middle;. 	border:none;. 	mso-background-source:auto;. 	mso-pattern:auto;. 	mso-protection:locked visible;. 	white-space:nowrap;. 	mso-rotate:0;}. .xl65. 	{text-align:center;}. .xl66. 	{text-align:center;. 	border:.5pt solid windowtext;}. .xl67. 	{color:red;. 	text-align:center;. 	border:.5pt solid windowtext;}. .xl68. 	{font-weight:700;. 	text-align:center;. 	border:.5pt solid windowtext;}. ruby. 	{ruby-align:left;}. rt. 	{color:windowtext;. 	font-size:9.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;. 	mso-char-type:none;. 	display:none;}. -->. </style>. </head>. <body link=""#0563C1"" vlink=""#954F72"">.   | Right UMAP | Wrong UMAP. -- | -- | --. Package | Version | Version. Anaconda | 2.1.0 | 2.1.0. Python | 3.6.13 | 3.6.13. anndata | 0.7.6 | 0.7.6. anyio | 2.2.0 | 2.2.0. argon2-cffi | 20.1.0 | 20.1.0. async-generator | 1.1 | 1.1. attrs | 21.2.0 | 21.2.0. Babel | 2.9.1 | 2.9.1. backcall | 0.2.0 | 0.2.0. bleach | 4.0.0 | 4.0.0. brotlipy | 0.7.0 | 0.7.0. cached-property | 1.5.2 | 1.5.2.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:2537,security,rotat,rotate,2537,"e>. <!--table. 	{mso-displayed-decimal-separator:""\."";. 	mso-displayed-thousand-separator:""\,"";}. @page. 	{margin:.75in .7in .75in .7in;. 	mso-header-margin:.3in;. 	mso-footer-margin:.3in;}. .font5. 	{color:windowtext;. 	font-size:9.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;}. tr. 	{mso-height-source:auto;. 	mso-ruby-visibility:none;}. col. 	{mso-width-source:auto;. 	mso-ruby-visibility:none;}. br. 	{mso-data-placement:same-cell;}. td. 	{padding-top:1px;. 	padding-right:1px;. 	padding-left:1px;. 	mso-ignore:padding;. 	color:black;. 	font-size:11.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;. 	mso-number-format:General;. 	text-align:general;. 	vertical-align:middle;. 	border:none;. 	mso-background-source:auto;. 	mso-pattern:auto;. 	mso-protection:locked visible;. 	white-space:nowrap;. 	mso-rotate:0;}. .xl65. 	{text-align:center;}. .xl66. 	{text-align:center;. 	border:.5pt solid windowtext;}. .xl67. 	{color:red;. 	text-align:center;. 	border:.5pt solid windowtext;}. .xl68. 	{font-weight:700;. 	text-align:center;. 	border:.5pt solid windowtext;}. ruby. 	{ruby-align:left;}. rt. 	{color:windowtext;. 	font-size:9.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;. 	mso-char-type:none;. 	display:none;}. -->. </style>. </head>. <body link=""#0563C1"" vlink=""#954F72"">.   | Right UMAP | Wrong UMAP. -- | -- | --. Package | Version | Version. Anaconda | 2.1.0 | 2.1.0. Python | 3.6.13 | 3.6.13. anndata | 0.7.6 | 0.7.6. anyio | 2.2.0 | 2.2.0. argon2-cffi | 20.1.0 | 20.1.0. async-generator | 1.1 | 1.1. attrs | 21.2.0 | 21.2.0. Babel | 2.9.1 | 2.9.1. backcall | 0.2.0 | 0.2.0. bleach | 4.0.0 | 4.0.0. brotlipy | 0.7.0 | 0.7.0. cached-property | 1.5.2 | 1.5.2. certifi | 2021.5.30 | 2021.5.30. cffi | 1.1",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:3497,security,certif,certifi,3497,"isible;. 	white-space:nowrap;. 	mso-rotate:0;}. .xl65. 	{text-align:center;}. .xl66. 	{text-align:center;. 	border:.5pt solid windowtext;}. .xl67. 	{color:red;. 	text-align:center;. 	border:.5pt solid windowtext;}. .xl68. 	{font-weight:700;. 	text-align:center;. 	border:.5pt solid windowtext;}. ruby. 	{ruby-align:left;}. rt. 	{color:windowtext;. 	font-size:9.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;. 	mso-char-type:none;. 	display:none;}. -->. </style>. </head>. <body link=""#0563C1"" vlink=""#954F72"">.   | Right UMAP | Wrong UMAP. -- | -- | --. Package | Version | Version. Anaconda | 2.1.0 | 2.1.0. Python | 3.6.13 | 3.6.13. anndata | 0.7.6 | 0.7.6. anyio | 2.2.0 | 2.2.0. argon2-cffi | 20.1.0 | 20.1.0. async-generator | 1.1 | 1.1. attrs | 21.2.0 | 21.2.0. Babel | 2.9.1 | 2.9.1. backcall | 0.2.0 | 0.2.0. bleach | 4.0.0 | 4.0.0. brotlipy | 0.7.0 | 0.7.0. cached-property | 1.5.2 | 1.5.2. certifi | 2021.5.30 | 2021.5.30. cffi | 1.14.6 | 1.14.6. charset-normalizer | 2.0.4 | 2.0.4. colorama | 0.4.4 | 0.4.4. contextvars | 2.4 | 2.4. **cryptography | 3.4.7 | 35.0.0**. cycler | 0.10.0 | 0.11.0. dataclasses | 0.8 | 0.8. decorator | 4.4.2 | 4.4.2. defusedxml | 0.7.1 | 0.7.1. entrypoints | 0.3 | 0.3. get-version | 2.1 | 2.1. h5py | 3.1.0 | 3.1.0. idna | 3.2 | 3.2. igraph | 0.9.8 | 0.9.8. immutables | 0.16 | 0.16. importlib-metadata | 4.8.1 | 4.8.1. ipykernel | 5.3.4 | 5.3.4. ipython | 7.16.1 | 7.16.1. ipython-genutils | 0.2.0 | 0.2.0. jedi | 0.17.0 | 0.17.0. **Jinja2 | 3.0.1 | 3.0.2**. joblib | 1.1.0 | 1.1.0. json5 | 0.9.6 | 0.9.6. jsonschema | 3.2.0 | 3.2.0. jupyter-client | 7.0.1 | 7.0.1. jupyter-core | 4.8.1 | 4.8.1. jupyter-server | 1.4.1 | 1.4.1. **jupyterlab | 3.1.7 | 3.2.1**. jupyterlab-pygments | 0.1.2 | 0.1.2. jupyterlab-server | 2.8.2 | 2.8.2. kiwisolver | 1.3.1 | 1.3.1. legacy-api-wrap | 1.2 | 1.2. leidenalg | 0.8.8 | 0.8.8. llvmlite | 0.36.0 | 0.36.0. MarkupSafe | 2.0.1",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:3643,security,cryptograph,cryptography,3643,"{color:red;. 	text-align:center;. 	border:.5pt solid windowtext;}. .xl68. 	{font-weight:700;. 	text-align:center;. 	border:.5pt solid windowtext;}. ruby. 	{ruby-align:left;}. rt. 	{color:windowtext;. 	font-size:9.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;. 	mso-char-type:none;. 	display:none;}. -->. </style>. </head>. <body link=""#0563C1"" vlink=""#954F72"">.   | Right UMAP | Wrong UMAP. -- | -- | --. Package | Version | Version. Anaconda | 2.1.0 | 2.1.0. Python | 3.6.13 | 3.6.13. anndata | 0.7.6 | 0.7.6. anyio | 2.2.0 | 2.2.0. argon2-cffi | 20.1.0 | 20.1.0. async-generator | 1.1 | 1.1. attrs | 21.2.0 | 21.2.0. Babel | 2.9.1 | 2.9.1. backcall | 0.2.0 | 0.2.0. bleach | 4.0.0 | 4.0.0. brotlipy | 0.7.0 | 0.7.0. cached-property | 1.5.2 | 1.5.2. certifi | 2021.5.30 | 2021.5.30. cffi | 1.14.6 | 1.14.6. charset-normalizer | 2.0.4 | 2.0.4. colorama | 0.4.4 | 0.4.4. contextvars | 2.4 | 2.4. **cryptography | 3.4.7 | 35.0.0**. cycler | 0.10.0 | 0.11.0. dataclasses | 0.8 | 0.8. decorator | 4.4.2 | 4.4.2. defusedxml | 0.7.1 | 0.7.1. entrypoints | 0.3 | 0.3. get-version | 2.1 | 2.1. h5py | 3.1.0 | 3.1.0. idna | 3.2 | 3.2. igraph | 0.9.8 | 0.9.8. immutables | 0.16 | 0.16. importlib-metadata | 4.8.1 | 4.8.1. ipykernel | 5.3.4 | 5.3.4. ipython | 7.16.1 | 7.16.1. ipython-genutils | 0.2.0 | 0.2.0. jedi | 0.17.0 | 0.17.0. **Jinja2 | 3.0.1 | 3.0.2**. joblib | 1.1.0 | 1.1.0. json5 | 0.9.6 | 0.9.6. jsonschema | 3.2.0 | 3.2.0. jupyter-client | 7.0.1 | 7.0.1. jupyter-core | 4.8.1 | 4.8.1. jupyter-server | 1.4.1 | 1.4.1. **jupyterlab | 3.1.7 | 3.2.1**. jupyterlab-pygments | 0.1.2 | 0.1.2. jupyterlab-server | 2.8.2 | 2.8.2. kiwisolver | 1.3.1 | 1.3.1. legacy-api-wrap | 1.2 | 1.2. leidenalg | 0.8.8 | 0.8.8. llvmlite | 0.36.0 | 0.36.0. MarkupSafe | 2.0.1 | 2.0.1. matplotlib | 3.3.4 | 3.3.4. mistune | 0.8.4 | 0.8.4. **natsort | 7.1.1 | 8.0.0**. nbclassic | 0.2.6 | 0.2.6. nbclient | 0.5.3 | 0.5.3. nbc",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:3896,security,immut,immutables,3896,"rmal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;. 	mso-char-type:none;. 	display:none;}. -->. </style>. </head>. <body link=""#0563C1"" vlink=""#954F72"">.   | Right UMAP | Wrong UMAP. -- | -- | --. Package | Version | Version. Anaconda | 2.1.0 | 2.1.0. Python | 3.6.13 | 3.6.13. anndata | 0.7.6 | 0.7.6. anyio | 2.2.0 | 2.2.0. argon2-cffi | 20.1.0 | 20.1.0. async-generator | 1.1 | 1.1. attrs | 21.2.0 | 21.2.0. Babel | 2.9.1 | 2.9.1. backcall | 0.2.0 | 0.2.0. bleach | 4.0.0 | 4.0.0. brotlipy | 0.7.0 | 0.7.0. cached-property | 1.5.2 | 1.5.2. certifi | 2021.5.30 | 2021.5.30. cffi | 1.14.6 | 1.14.6. charset-normalizer | 2.0.4 | 2.0.4. colorama | 0.4.4 | 0.4.4. contextvars | 2.4 | 2.4. **cryptography | 3.4.7 | 35.0.0**. cycler | 0.10.0 | 0.11.0. dataclasses | 0.8 | 0.8. decorator | 4.4.2 | 4.4.2. defusedxml | 0.7.1 | 0.7.1. entrypoints | 0.3 | 0.3. get-version | 2.1 | 2.1. h5py | 3.1.0 | 3.1.0. idna | 3.2 | 3.2. igraph | 0.9.8 | 0.9.8. immutables | 0.16 | 0.16. importlib-metadata | 4.8.1 | 4.8.1. ipykernel | 5.3.4 | 5.3.4. ipython | 7.16.1 | 7.16.1. ipython-genutils | 0.2.0 | 0.2.0. jedi | 0.17.0 | 0.17.0. **Jinja2 | 3.0.1 | 3.0.2**. joblib | 1.1.0 | 1.1.0. json5 | 0.9.6 | 0.9.6. jsonschema | 3.2.0 | 3.2.0. jupyter-client | 7.0.1 | 7.0.1. jupyter-core | 4.8.1 | 4.8.1. jupyter-server | 1.4.1 | 1.4.1. **jupyterlab | 3.1.7 | 3.2.1**. jupyterlab-pygments | 0.1.2 | 0.1.2. jupyterlab-server | 2.8.2 | 2.8.2. kiwisolver | 1.3.1 | 1.3.1. legacy-api-wrap | 1.2 | 1.2. leidenalg | 0.8.8 | 0.8.8. llvmlite | 0.36.0 | 0.36.0. MarkupSafe | 2.0.1 | 2.0.1. matplotlib | 3.3.4 | 3.3.4. mistune | 0.8.4 | 0.8.4. **natsort | 7.1.1 | 8.0.0**. nbclassic | 0.2.6 | 0.2.6. nbclient | 0.5.3 | 0.5.3. nbconvert | 6.0.7 | 6.0.7. nbformat | 5.1.3 | 5.1.3. nest-asyncio | 1.5.1 | 1.5.1. networkx | 2.5.1 | 2.5.1. notebook | 6.4.3 | 6.4.3. numba | 0.53.1 | 0.53.1. numexpr | 2.7.3 | 2.7.3. numpy | 1.19.5 | 1.19.5. packaging | 21 | 21. pandas | 1.1.5 | 1.1.5. ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:4729,security,network,networkx,4729,tor | 4.4.2 | 4.4.2. defusedxml | 0.7.1 | 0.7.1. entrypoints | 0.3 | 0.3. get-version | 2.1 | 2.1. h5py | 3.1.0 | 3.1.0. idna | 3.2 | 3.2. igraph | 0.9.8 | 0.9.8. immutables | 0.16 | 0.16. importlib-metadata | 4.8.1 | 4.8.1. ipykernel | 5.3.4 | 5.3.4. ipython | 7.16.1 | 7.16.1. ipython-genutils | 0.2.0 | 0.2.0. jedi | 0.17.0 | 0.17.0. **Jinja2 | 3.0.1 | 3.0.2**. joblib | 1.1.0 | 1.1.0. json5 | 0.9.6 | 0.9.6. jsonschema | 3.2.0 | 3.2.0. jupyter-client | 7.0.1 | 7.0.1. jupyter-core | 4.8.1 | 4.8.1. jupyter-server | 1.4.1 | 1.4.1. **jupyterlab | 3.1.7 | 3.2.1**. jupyterlab-pygments | 0.1.2 | 0.1.2. jupyterlab-server | 2.8.2 | 2.8.2. kiwisolver | 1.3.1 | 1.3.1. legacy-api-wrap | 1.2 | 1.2. leidenalg | 0.8.8 | 0.8.8. llvmlite | 0.36.0 | 0.36.0. MarkupSafe | 2.0.1 | 2.0.1. matplotlib | 3.3.4 | 3.3.4. mistune | 0.8.4 | 0.8.4. **natsort | 7.1.1 | 8.0.0**. nbclassic | 0.2.6 | 0.2.6. nbclient | 0.5.3 | 0.5.3. nbconvert | 6.0.7 | 6.0.7. nbformat | 5.1.3 | 5.1.3. nest-asyncio | 1.5.1 | 1.5.1. networkx | 2.5.1 | 2.5.1. notebook | 6.4.3 | 6.4.3. numba | 0.53.1 | 0.53.1. numexpr | 2.7.3 | 2.7.3. numpy | 1.19.5 | 1.19.5. packaging | 21 | 21. pandas | 1.1.5 | 1.1.5. pandocfilters | 1.4.3 | 1.4.3. parso | 0.8.2 | 0.8.2. patsy | 0.5.2 | 0.5.2. pickleshare | 0.7.5 | 0.7.5. Pillow | 8.4.0 | 8.4.0. pip | 21.0.1 | 21.2.2. prometheus-client | 0.11.0 | 0.11.0. prompt-toolkit | 3.0.20 | 3.0.20. pycparser | 2.2 | 2.2. Pygments | 2.10.0 | 2.10.0. pynndescent | 0.5.5 | 0.5.5. pyOpenSSL | 20.0.1 | 21.0.0. **pyparsing | 2.4.7 | 3.0.4**. pyrsistent | 0.17.3 | 0.17.3. PySocks | 1.7.1 | 1.7.1. python-dateutil | 2.8.2 | 2.8.2. python-igraph | 0.9.8 | 0.9.8. pytz | 2021.3 | 2021.3. pywin32 | 228 | 228. pywinpty | 0.5.7 | 0.5.7. pyzmq | 22.2.1 | 22.2.1. requests | 2.26.0 | 2.26.0. scanpy | 1.7.2 | 1.7.2. scikit-learn | 0.24.2 | 0.24.2. scipy | 1.5.4 | 1.5.4. seaborn | 0.11.2 | 0.11.2. Send2Trash | 1.8.0 | 1.8.0. setuptools | 58.0.4 | 58.0.4. sinfo | 0.3.4 | 0.3.4. six | 1.16.0 | 1.16.0. sniffio | 1.2.0,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:3616,testability,context,contextvars,3616,"olid windowtext;}. .xl67. 	{color:red;. 	text-align:center;. 	border:.5pt solid windowtext;}. .xl68. 	{font-weight:700;. 	text-align:center;. 	border:.5pt solid windowtext;}. ruby. 	{ruby-align:left;}. rt. 	{color:windowtext;. 	font-size:9.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;. 	mso-char-type:none;. 	display:none;}. -->. </style>. </head>. <body link=""#0563C1"" vlink=""#954F72"">.   | Right UMAP | Wrong UMAP. -- | -- | --. Package | Version | Version. Anaconda | 2.1.0 | 2.1.0. Python | 3.6.13 | 3.6.13. anndata | 0.7.6 | 0.7.6. anyio | 2.2.0 | 2.2.0. argon2-cffi | 20.1.0 | 20.1.0. async-generator | 1.1 | 1.1. attrs | 21.2.0 | 21.2.0. Babel | 2.9.1 | 2.9.1. backcall | 0.2.0 | 0.2.0. bleach | 4.0.0 | 4.0.0. brotlipy | 0.7.0 | 0.7.0. cached-property | 1.5.2 | 1.5.2. certifi | 2021.5.30 | 2021.5.30. cffi | 1.14.6 | 1.14.6. charset-normalizer | 2.0.4 | 2.0.4. colorama | 0.4.4 | 0.4.4. contextvars | 2.4 | 2.4. **cryptography | 3.4.7 | 35.0.0**. cycler | 0.10.0 | 0.11.0. dataclasses | 0.8 | 0.8. decorator | 4.4.2 | 4.4.2. defusedxml | 0.7.1 | 0.7.1. entrypoints | 0.3 | 0.3. get-version | 2.1 | 2.1. h5py | 3.1.0 | 3.1.0. idna | 3.2 | 3.2. igraph | 0.9.8 | 0.9.8. immutables | 0.16 | 0.16. importlib-metadata | 4.8.1 | 4.8.1. ipykernel | 5.3.4 | 5.3.4. ipython | 7.16.1 | 7.16.1. ipython-genutils | 0.2.0 | 0.2.0. jedi | 0.17.0 | 0.17.0. **Jinja2 | 3.0.1 | 3.0.2**. joblib | 1.1.0 | 1.1.0. json5 | 0.9.6 | 0.9.6. jsonschema | 3.2.0 | 3.2.0. jupyter-client | 7.0.1 | 7.0.1. jupyter-core | 4.8.1 | 4.8.1. jupyter-server | 1.4.1 | 1.4.1. **jupyterlab | 3.1.7 | 3.2.1**. jupyterlab-pygments | 0.1.2 | 0.1.2. jupyterlab-server | 2.8.2 | 2.8.2. kiwisolver | 1.3.1 | 1.3.1. legacy-api-wrap | 1.2 | 1.2. leidenalg | 0.8.8 | 0.8.8. llvmlite | 0.36.0 | 0.36.0. MarkupSafe | 2.0.1 | 2.0.1. matplotlib | 3.3.4 | 3.3.4. mistune | 0.8.4 | 0.8.4. **natsort | 7.1.1 | 8.0.0**. nbclassic | 0.2.6 | 0.2.6. nb",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:5854,testability,test,testpath,5854,"| 0.1.2. jupyterlab-server | 2.8.2 | 2.8.2. kiwisolver | 1.3.1 | 1.3.1. legacy-api-wrap | 1.2 | 1.2. leidenalg | 0.8.8 | 0.8.8. llvmlite | 0.36.0 | 0.36.0. MarkupSafe | 2.0.1 | 2.0.1. matplotlib | 3.3.4 | 3.3.4. mistune | 0.8.4 | 0.8.4. **natsort | 7.1.1 | 8.0.0**. nbclassic | 0.2.6 | 0.2.6. nbclient | 0.5.3 | 0.5.3. nbconvert | 6.0.7 | 6.0.7. nbformat | 5.1.3 | 5.1.3. nest-asyncio | 1.5.1 | 1.5.1. networkx | 2.5.1 | 2.5.1. notebook | 6.4.3 | 6.4.3. numba | 0.53.1 | 0.53.1. numexpr | 2.7.3 | 2.7.3. numpy | 1.19.5 | 1.19.5. packaging | 21 | 21. pandas | 1.1.5 | 1.1.5. pandocfilters | 1.4.3 | 1.4.3. parso | 0.8.2 | 0.8.2. patsy | 0.5.2 | 0.5.2. pickleshare | 0.7.5 | 0.7.5. Pillow | 8.4.0 | 8.4.0. pip | 21.0.1 | 21.2.2. prometheus-client | 0.11.0 | 0.11.0. prompt-toolkit | 3.0.20 | 3.0.20. pycparser | 2.2 | 2.2. Pygments | 2.10.0 | 2.10.0. pynndescent | 0.5.5 | 0.5.5. pyOpenSSL | 20.0.1 | 21.0.0. **pyparsing | 2.4.7 | 3.0.4**. pyrsistent | 0.17.3 | 0.17.3. PySocks | 1.7.1 | 1.7.1. python-dateutil | 2.8.2 | 2.8.2. python-igraph | 0.9.8 | 0.9.8. pytz | 2021.3 | 2021.3. pywin32 | 228 | 228. pywinpty | 0.5.7 | 0.5.7. pyzmq | 22.2.1 | 22.2.1. requests | 2.26.0 | 2.26.0. scanpy | 1.7.2 | 1.7.2. scikit-learn | 0.24.2 | 0.24.2. scipy | 1.5.4 | 1.5.4. seaborn | 0.11.2 | 0.11.2. Send2Trash | 1.8.0 | 1.8.0. setuptools | 58.0.4 | 58.0.4. sinfo | 0.3.4 | 0.3.4. six | 1.16.0 | 1.16.0. sniffio | 1.2.0 | 1.2.0. statsmodels | 0.12.2 | 0.12.2. stdlib-list | 0.8.0 | 0.8.0. tables | 3.6.1 | 3.6.1. terminado | 0.9.4 | 0.9.4. testpath | 0.5.0 | 0.5.0. texttable | 1.6.4 | 1.6.4. threadpoolctl | 3.0.0 | 3.0.0. tornado | 6.1 | 6.1. tqdm | 4.62.3 | 4.62.3. traitlets | 4.3.3 | 4.3.3. typing-extensions | 3.10.0.2 | 3.10.0.2. **umap-learn | 0.5.1 | 0.5.2**. urllib3 | 1.26.7 | 1.26.7. wcwidth | 0.2.5 | 0.2.5. webencodings | 0.5.1 | 0.5.1. wheel | 0.37.0 | 0.37.0. win-inet-pton | 1.1.0 | 1.1.0. wincertstore | 0.2 | 0.2. xlrd | 1.2.0 | 1.2.0. zipp | 3.6.0 | 3.6.0. </body>. </html>. Thanks! Best,. YJ.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:196,usability,workflow,workflow,196,"UMAP goes wrong on scanpy v1.7.2; Hello Scanpy,. I reimaged my Windows from 20H2 to 21H1 today and reinstalled the environment for scanpy. However, in the new environment, when I run the official workflow of pbmc3k by just using the official pbmc3k notebook. The UMAP becomes different from the pbmc3k tutorial like below. But all other codings generate the same results and plots as the pbmc3k tutorial. ![image](https://user-images.githubusercontent.com/75048821/140598534-5425f05c-4bb1-4bb7-97d9-d37a0ce1f9dc.png). ![image](https://user-images.githubusercontent.com/75048821/140598551-5cd98b37-48b9-44ba-bacb-b4b2ac155576.png). Then I run the same coding on my older computer, which installed scanpy one month ago, the UMAP is the same as the standard workflow. ![image](https://user-images.githubusercontent.com/75048821/140632101-6536d00e-f180-407d-9cd1-a79991280e8a.png). **Is it because of the packages' problem or Windows 21H1? I list the packages information here. Could you please help me to solve this issue?**. <html xmlns:v=""urn:schemas-microsoft-com:vml"". xmlns:o=""urn:schemas-microsoft-com:office:office"". xmlns:x=""urn:schemas-microsoft-com:office:excel"". xmlns=""http://www.w3.org/TR/REC-html40"">. <head>. <meta name=ProgId content=Excel.Sheet>. <meta name=Generator content=""Microsoft Excel 15"">. <link id=Main-File rel=Main-File. href=""file:///C:/Users/Yuanjian/AppData/Local/Temp/msohtmlclip1/01/clip.htm"">. <link rel=File-List. href=""file:///C:/Users/Yuanjian/AppData/Local/Temp/msohtmlclip1/01/clip_filelist.xml"">. <style>. <!--table. 	{mso-displayed-decimal-separator:""\."";. 	mso-displayed-thousand-separator:""\,"";}. @page. 	{margin:.75in .7in .75in .7in;. 	mso-header-margin:.3in;. 	mso-footer-margin:.3in;}. .font5. 	{color:windowtext;. 	font-size:9.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;}. tr. 	{mso-height-source:auto;. 	mso-ruby-visibility:none;}. col. 	{mso-width-sourc",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:422,usability,user,user-images,422,"UMAP goes wrong on scanpy v1.7.2; Hello Scanpy,. I reimaged my Windows from 20H2 to 21H1 today and reinstalled the environment for scanpy. However, in the new environment, when I run the official workflow of pbmc3k by just using the official pbmc3k notebook. The UMAP becomes different from the pbmc3k tutorial like below. But all other codings generate the same results and plots as the pbmc3k tutorial. ![image](https://user-images.githubusercontent.com/75048821/140598534-5425f05c-4bb1-4bb7-97d9-d37a0ce1f9dc.png). ![image](https://user-images.githubusercontent.com/75048821/140598551-5cd98b37-48b9-44ba-bacb-b4b2ac155576.png). Then I run the same coding on my older computer, which installed scanpy one month ago, the UMAP is the same as the standard workflow. ![image](https://user-images.githubusercontent.com/75048821/140632101-6536d00e-f180-407d-9cd1-a79991280e8a.png). **Is it because of the packages' problem or Windows 21H1? I list the packages information here. Could you please help me to solve this issue?**. <html xmlns:v=""urn:schemas-microsoft-com:vml"". xmlns:o=""urn:schemas-microsoft-com:office:office"". xmlns:x=""urn:schemas-microsoft-com:office:excel"". xmlns=""http://www.w3.org/TR/REC-html40"">. <head>. <meta name=ProgId content=Excel.Sheet>. <meta name=Generator content=""Microsoft Excel 15"">. <link id=Main-File rel=Main-File. href=""file:///C:/Users/Yuanjian/AppData/Local/Temp/msohtmlclip1/01/clip.htm"">. <link rel=File-List. href=""file:///C:/Users/Yuanjian/AppData/Local/Temp/msohtmlclip1/01/clip_filelist.xml"">. <style>. <!--table. 	{mso-displayed-decimal-separator:""\."";. 	mso-displayed-thousand-separator:""\,"";}. @page. 	{margin:.75in .7in .75in .7in;. 	mso-header-margin:.3in;. 	mso-footer-margin:.3in;}. .font5. 	{color:windowtext;. 	font-size:9.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;}. tr. 	{mso-height-source:auto;. 	mso-ruby-visibility:none;}. col. 	{mso-width-sourc",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:535,usability,user,user-images,535,"UMAP goes wrong on scanpy v1.7.2; Hello Scanpy,. I reimaged my Windows from 20H2 to 21H1 today and reinstalled the environment for scanpy. However, in the new environment, when I run the official workflow of pbmc3k by just using the official pbmc3k notebook. The UMAP becomes different from the pbmc3k tutorial like below. But all other codings generate the same results and plots as the pbmc3k tutorial. ![image](https://user-images.githubusercontent.com/75048821/140598534-5425f05c-4bb1-4bb7-97d9-d37a0ce1f9dc.png). ![image](https://user-images.githubusercontent.com/75048821/140598551-5cd98b37-48b9-44ba-bacb-b4b2ac155576.png). Then I run the same coding on my older computer, which installed scanpy one month ago, the UMAP is the same as the standard workflow. ![image](https://user-images.githubusercontent.com/75048821/140632101-6536d00e-f180-407d-9cd1-a79991280e8a.png). **Is it because of the packages' problem or Windows 21H1? I list the packages information here. Could you please help me to solve this issue?**. <html xmlns:v=""urn:schemas-microsoft-com:vml"". xmlns:o=""urn:schemas-microsoft-com:office:office"". xmlns:x=""urn:schemas-microsoft-com:office:excel"". xmlns=""http://www.w3.org/TR/REC-html40"">. <head>. <meta name=ProgId content=Excel.Sheet>. <meta name=Generator content=""Microsoft Excel 15"">. <link id=Main-File rel=Main-File. href=""file:///C:/Users/Yuanjian/AppData/Local/Temp/msohtmlclip1/01/clip.htm"">. <link rel=File-List. href=""file:///C:/Users/Yuanjian/AppData/Local/Temp/msohtmlclip1/01/clip_filelist.xml"">. <style>. <!--table. 	{mso-displayed-decimal-separator:""\."";. 	mso-displayed-thousand-separator:""\,"";}. @page. 	{margin:.75in .7in .75in .7in;. 	mso-header-margin:.3in;. 	mso-footer-margin:.3in;}. .font5. 	{color:windowtext;. 	font-size:9.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;}. tr. 	{mso-height-source:auto;. 	mso-ruby-visibility:none;}. col. 	{mso-width-sourc",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:755,usability,workflow,workflow,755,"UMAP goes wrong on scanpy v1.7.2; Hello Scanpy,. I reimaged my Windows from 20H2 to 21H1 today and reinstalled the environment for scanpy. However, in the new environment, when I run the official workflow of pbmc3k by just using the official pbmc3k notebook. The UMAP becomes different from the pbmc3k tutorial like below. But all other codings generate the same results and plots as the pbmc3k tutorial. ![image](https://user-images.githubusercontent.com/75048821/140598534-5425f05c-4bb1-4bb7-97d9-d37a0ce1f9dc.png). ![image](https://user-images.githubusercontent.com/75048821/140598551-5cd98b37-48b9-44ba-bacb-b4b2ac155576.png). Then I run the same coding on my older computer, which installed scanpy one month ago, the UMAP is the same as the standard workflow. ![image](https://user-images.githubusercontent.com/75048821/140632101-6536d00e-f180-407d-9cd1-a79991280e8a.png). **Is it because of the packages' problem or Windows 21H1? I list the packages information here. Could you please help me to solve this issue?**. <html xmlns:v=""urn:schemas-microsoft-com:vml"". xmlns:o=""urn:schemas-microsoft-com:office:office"". xmlns:x=""urn:schemas-microsoft-com:office:excel"". xmlns=""http://www.w3.org/TR/REC-html40"">. <head>. <meta name=ProgId content=Excel.Sheet>. <meta name=Generator content=""Microsoft Excel 15"">. <link id=Main-File rel=Main-File. href=""file:///C:/Users/Yuanjian/AppData/Local/Temp/msohtmlclip1/01/clip.htm"">. <link rel=File-List. href=""file:///C:/Users/Yuanjian/AppData/Local/Temp/msohtmlclip1/01/clip_filelist.xml"">. <style>. <!--table. 	{mso-displayed-decimal-separator:""\."";. 	mso-displayed-thousand-separator:""\,"";}. @page. 	{margin:.75in .7in .75in .7in;. 	mso-header-margin:.3in;. 	mso-footer-margin:.3in;}. .font5. 	{color:windowtext;. 	font-size:9.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;}. tr. 	{mso-height-source:auto;. 	mso-ruby-visibility:none;}. col. 	{mso-width-sourc",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:782,usability,user,user-images,782,"UMAP goes wrong on scanpy v1.7.2; Hello Scanpy,. I reimaged my Windows from 20H2 to 21H1 today and reinstalled the environment for scanpy. However, in the new environment, when I run the official workflow of pbmc3k by just using the official pbmc3k notebook. The UMAP becomes different from the pbmc3k tutorial like below. But all other codings generate the same results and plots as the pbmc3k tutorial. ![image](https://user-images.githubusercontent.com/75048821/140598534-5425f05c-4bb1-4bb7-97d9-d37a0ce1f9dc.png). ![image](https://user-images.githubusercontent.com/75048821/140598551-5cd98b37-48b9-44ba-bacb-b4b2ac155576.png). Then I run the same coding on my older computer, which installed scanpy one month ago, the UMAP is the same as the standard workflow. ![image](https://user-images.githubusercontent.com/75048821/140632101-6536d00e-f180-407d-9cd1-a79991280e8a.png). **Is it because of the packages' problem or Windows 21H1? I list the packages information here. Could you please help me to solve this issue?**. <html xmlns:v=""urn:schemas-microsoft-com:vml"". xmlns:o=""urn:schemas-microsoft-com:office:office"". xmlns:x=""urn:schemas-microsoft-com:office:excel"". xmlns=""http://www.w3.org/TR/REC-html40"">. <head>. <meta name=ProgId content=Excel.Sheet>. <meta name=Generator content=""Microsoft Excel 15"">. <link id=Main-File rel=Main-File. href=""file:///C:/Users/Yuanjian/AppData/Local/Temp/msohtmlclip1/01/clip.htm"">. <link rel=File-List. href=""file:///C:/Users/Yuanjian/AppData/Local/Temp/msohtmlclip1/01/clip_filelist.xml"">. <style>. <!--table. 	{mso-displayed-decimal-separator:""\."";. 	mso-displayed-thousand-separator:""\,"";}. @page. 	{margin:.75in .7in .75in .7in;. 	mso-header-margin:.3in;. 	mso-footer-margin:.3in;}. .font5. 	{color:windowtext;. 	font-size:9.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;}. tr. 	{mso-height-source:auto;. 	mso-ruby-visibility:none;}. col. 	{mso-width-sourc",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:991,usability,help,help,991,"UMAP goes wrong on scanpy v1.7.2; Hello Scanpy,. I reimaged my Windows from 20H2 to 21H1 today and reinstalled the environment for scanpy. However, in the new environment, when I run the official workflow of pbmc3k by just using the official pbmc3k notebook. The UMAP becomes different from the pbmc3k tutorial like below. But all other codings generate the same results and plots as the pbmc3k tutorial. ![image](https://user-images.githubusercontent.com/75048821/140598534-5425f05c-4bb1-4bb7-97d9-d37a0ce1f9dc.png). ![image](https://user-images.githubusercontent.com/75048821/140598551-5cd98b37-48b9-44ba-bacb-b4b2ac155576.png). Then I run the same coding on my older computer, which installed scanpy one month ago, the UMAP is the same as the standard workflow. ![image](https://user-images.githubusercontent.com/75048821/140632101-6536d00e-f180-407d-9cd1-a79991280e8a.png). **Is it because of the packages' problem or Windows 21H1? I list the packages information here. Could you please help me to solve this issue?**. <html xmlns:v=""urn:schemas-microsoft-com:vml"". xmlns:o=""urn:schemas-microsoft-com:office:office"". xmlns:x=""urn:schemas-microsoft-com:office:excel"". xmlns=""http://www.w3.org/TR/REC-html40"">. <head>. <meta name=ProgId content=Excel.Sheet>. <meta name=Generator content=""Microsoft Excel 15"">. <link id=Main-File rel=Main-File. href=""file:///C:/Users/Yuanjian/AppData/Local/Temp/msohtmlclip1/01/clip.htm"">. <link rel=File-List. href=""file:///C:/Users/Yuanjian/AppData/Local/Temp/msohtmlclip1/01/clip_filelist.xml"">. <style>. <!--table. 	{mso-displayed-decimal-separator:""\."";. 	mso-displayed-thousand-separator:""\,"";}. @page. 	{margin:.75in .7in .75in .7in;. 	mso-header-margin:.3in;. 	mso-footer-margin:.3in;}. .font5. 	{color:windowtext;. 	font-size:9.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;}. tr. 	{mso-height-source:auto;. 	mso-ruby-visibility:none;}. col. 	{mso-width-sourc",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:1364,usability,User,Users,1364,"lts and plots as the pbmc3k tutorial. ![image](https://user-images.githubusercontent.com/75048821/140598534-5425f05c-4bb1-4bb7-97d9-d37a0ce1f9dc.png). ![image](https://user-images.githubusercontent.com/75048821/140598551-5cd98b37-48b9-44ba-bacb-b4b2ac155576.png). Then I run the same coding on my older computer, which installed scanpy one month ago, the UMAP is the same as the standard workflow. ![image](https://user-images.githubusercontent.com/75048821/140632101-6536d00e-f180-407d-9cd1-a79991280e8a.png). **Is it because of the packages' problem or Windows 21H1? I list the packages information here. Could you please help me to solve this issue?**. <html xmlns:v=""urn:schemas-microsoft-com:vml"". xmlns:o=""urn:schemas-microsoft-com:office:office"". xmlns:x=""urn:schemas-microsoft-com:office:excel"". xmlns=""http://www.w3.org/TR/REC-html40"">. <head>. <meta name=ProgId content=Excel.Sheet>. <meta name=Generator content=""Microsoft Excel 15"">. <link id=Main-File rel=Main-File. href=""file:///C:/Users/Yuanjian/AppData/Local/Temp/msohtmlclip1/01/clip.htm"">. <link rel=File-List. href=""file:///C:/Users/Yuanjian/AppData/Local/Temp/msohtmlclip1/01/clip_filelist.xml"">. <style>. <!--table. 	{mso-displayed-decimal-separator:""\."";. 	mso-displayed-thousand-separator:""\,"";}. @page. 	{margin:.75in .7in .75in .7in;. 	mso-header-margin:.3in;. 	mso-footer-margin:.3in;}. .font5. 	{color:windowtext;. 	font-size:9.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;}. tr. 	{mso-height-source:auto;. 	mso-ruby-visibility:none;}. col. 	{mso-width-source:auto;. 	mso-ruby-visibility:none;}. br. 	{mso-data-placement:same-cell;}. td. 	{padding-top:1px;. 	padding-right:1px;. 	padding-left:1px;. 	mso-ignore:padding;. 	color:black;. 	font-size:11.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;. 	mso-number-format:General;. 	t",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:1464,usability,User,Users,1464,"0598534-5425f05c-4bb1-4bb7-97d9-d37a0ce1f9dc.png). ![image](https://user-images.githubusercontent.com/75048821/140598551-5cd98b37-48b9-44ba-bacb-b4b2ac155576.png). Then I run the same coding on my older computer, which installed scanpy one month ago, the UMAP is the same as the standard workflow. ![image](https://user-images.githubusercontent.com/75048821/140632101-6536d00e-f180-407d-9cd1-a79991280e8a.png). **Is it because of the packages' problem or Windows 21H1? I list the packages information here. Could you please help me to solve this issue?**. <html xmlns:v=""urn:schemas-microsoft-com:vml"". xmlns:o=""urn:schemas-microsoft-com:office:office"". xmlns:x=""urn:schemas-microsoft-com:office:excel"". xmlns=""http://www.w3.org/TR/REC-html40"">. <head>. <meta name=ProgId content=Excel.Sheet>. <meta name=Generator content=""Microsoft Excel 15"">. <link id=Main-File rel=Main-File. href=""file:///C:/Users/Yuanjian/AppData/Local/Temp/msohtmlclip1/01/clip.htm"">. <link rel=File-List. href=""file:///C:/Users/Yuanjian/AppData/Local/Temp/msohtmlclip1/01/clip_filelist.xml"">. <style>. <!--table. 	{mso-displayed-decimal-separator:""\."";. 	mso-displayed-thousand-separator:""\,"";}. @page. 	{margin:.75in .7in .75in .7in;. 	mso-header-margin:.3in;. 	mso-footer-margin:.3in;}. .font5. 	{color:windowtext;. 	font-size:9.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;}. tr. 	{mso-height-source:auto;. 	mso-ruby-visibility:none;}. col. 	{mso-width-source:auto;. 	mso-ruby-visibility:none;}. br. 	{mso-data-placement:same-cell;}. td. 	{padding-top:1px;. 	padding-right:1px;. 	padding-left:1px;. 	mso-ignore:padding;. 	color:black;. 	font-size:11.0pt;. 	font-weight:400;. 	font-style:normal;. 	text-decoration:none;. 	font-family:等线;. 	mso-generic-font-family:auto;. 	mso-font-charset:134;. 	mso-number-format:General;. 	text-align:general;. 	vertical-align:middle;. 	border:none;. 	mso-background-source:auto;. 	mso-patte",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:5098,usability,tool,toolkit,5098,ib | 1.1.0 | 1.1.0. json5 | 0.9.6 | 0.9.6. jsonschema | 3.2.0 | 3.2.0. jupyter-client | 7.0.1 | 7.0.1. jupyter-core | 4.8.1 | 4.8.1. jupyter-server | 1.4.1 | 1.4.1. **jupyterlab | 3.1.7 | 3.2.1**. jupyterlab-pygments | 0.1.2 | 0.1.2. jupyterlab-server | 2.8.2 | 2.8.2. kiwisolver | 1.3.1 | 1.3.1. legacy-api-wrap | 1.2 | 1.2. leidenalg | 0.8.8 | 0.8.8. llvmlite | 0.36.0 | 0.36.0. MarkupSafe | 2.0.1 | 2.0.1. matplotlib | 3.3.4 | 3.3.4. mistune | 0.8.4 | 0.8.4. **natsort | 7.1.1 | 8.0.0**. nbclassic | 0.2.6 | 0.2.6. nbclient | 0.5.3 | 0.5.3. nbconvert | 6.0.7 | 6.0.7. nbformat | 5.1.3 | 5.1.3. nest-asyncio | 1.5.1 | 1.5.1. networkx | 2.5.1 | 2.5.1. notebook | 6.4.3 | 6.4.3. numba | 0.53.1 | 0.53.1. numexpr | 2.7.3 | 2.7.3. numpy | 1.19.5 | 1.19.5. packaging | 21 | 21. pandas | 1.1.5 | 1.1.5. pandocfilters | 1.4.3 | 1.4.3. parso | 0.8.2 | 0.8.2. patsy | 0.5.2 | 0.5.2. pickleshare | 0.7.5 | 0.7.5. Pillow | 8.4.0 | 8.4.0. pip | 21.0.1 | 21.2.2. prometheus-client | 0.11.0 | 0.11.0. prompt-toolkit | 3.0.20 | 3.0.20. pycparser | 2.2 | 2.2. Pygments | 2.10.0 | 2.10.0. pynndescent | 0.5.5 | 0.5.5. pyOpenSSL | 20.0.1 | 21.0.0. **pyparsing | 2.4.7 | 3.0.4**. pyrsistent | 0.17.3 | 0.17.3. PySocks | 1.7.1 | 1.7.1. python-dateutil | 2.8.2 | 2.8.2. python-igraph | 0.9.8 | 0.9.8. pytz | 2021.3 | 2021.3. pywin32 | 228 | 228. pywinpty | 0.5.7 | 0.5.7. pyzmq | 22.2.1 | 22.2.1. requests | 2.26.0 | 2.26.0. scanpy | 1.7.2 | 1.7.2. scikit-learn | 0.24.2 | 0.24.2. scipy | 1.5.4 | 1.5.4. seaborn | 0.11.2 | 0.11.2. Send2Trash | 1.8.0 | 1.8.0. setuptools | 58.0.4 | 58.0.4. sinfo | 0.3.4 | 0.3.4. six | 1.16.0 | 1.16.0. sniffio | 1.2.0 | 1.2.0. statsmodels | 0.12.2 | 0.12.2. stdlib-list | 0.8.0 | 0.8.0. tables | 3.6.1 | 3.6.1. terminado | 0.9.4 | 0.9.4. testpath | 0.5.0 | 0.5.0. texttable | 1.6.4 | 1.6.4. threadpoolctl | 3.0.0 | 3.0.0. tornado | 6.1 | 6.1. tqdm | 4.62.3 | 4.62.3. traitlets | 4.3.3 | 4.3.3. typing-extensions | 3.10.0.2 | 3.10.0.2. **umap-learn | 0.5.1 | 0.5.2**. urllib3 | 1.26.7 | ,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:5539,usability,learn,learn,5539,"| 0.1.2. jupyterlab-server | 2.8.2 | 2.8.2. kiwisolver | 1.3.1 | 1.3.1. legacy-api-wrap | 1.2 | 1.2. leidenalg | 0.8.8 | 0.8.8. llvmlite | 0.36.0 | 0.36.0. MarkupSafe | 2.0.1 | 2.0.1. matplotlib | 3.3.4 | 3.3.4. mistune | 0.8.4 | 0.8.4. **natsort | 7.1.1 | 8.0.0**. nbclassic | 0.2.6 | 0.2.6. nbclient | 0.5.3 | 0.5.3. nbconvert | 6.0.7 | 6.0.7. nbformat | 5.1.3 | 5.1.3. nest-asyncio | 1.5.1 | 1.5.1. networkx | 2.5.1 | 2.5.1. notebook | 6.4.3 | 6.4.3. numba | 0.53.1 | 0.53.1. numexpr | 2.7.3 | 2.7.3. numpy | 1.19.5 | 1.19.5. packaging | 21 | 21. pandas | 1.1.5 | 1.1.5. pandocfilters | 1.4.3 | 1.4.3. parso | 0.8.2 | 0.8.2. patsy | 0.5.2 | 0.5.2. pickleshare | 0.7.5 | 0.7.5. Pillow | 8.4.0 | 8.4.0. pip | 21.0.1 | 21.2.2. prometheus-client | 0.11.0 | 0.11.0. prompt-toolkit | 3.0.20 | 3.0.20. pycparser | 2.2 | 2.2. Pygments | 2.10.0 | 2.10.0. pynndescent | 0.5.5 | 0.5.5. pyOpenSSL | 20.0.1 | 21.0.0. **pyparsing | 2.4.7 | 3.0.4**. pyrsistent | 0.17.3 | 0.17.3. PySocks | 1.7.1 | 1.7.1. python-dateutil | 2.8.2 | 2.8.2. python-igraph | 0.9.8 | 0.9.8. pytz | 2021.3 | 2021.3. pywin32 | 228 | 228. pywinpty | 0.5.7 | 0.5.7. pyzmq | 22.2.1 | 22.2.1. requests | 2.26.0 | 2.26.0. scanpy | 1.7.2 | 1.7.2. scikit-learn | 0.24.2 | 0.24.2. scipy | 1.5.4 | 1.5.4. seaborn | 0.11.2 | 0.11.2. Send2Trash | 1.8.0 | 1.8.0. setuptools | 58.0.4 | 58.0.4. sinfo | 0.3.4 | 0.3.4. six | 1.16.0 | 1.16.0. sniffio | 1.2.0 | 1.2.0. statsmodels | 0.12.2 | 0.12.2. stdlib-list | 0.8.0 | 0.8.0. tables | 3.6.1 | 3.6.1. terminado | 0.9.4 | 0.9.4. testpath | 0.5.0 | 0.5.0. texttable | 1.6.4 | 1.6.4. threadpoolctl | 3.0.0 | 3.0.0. tornado | 6.1 | 6.1. tqdm | 4.62.3 | 4.62.3. traitlets | 4.3.3 | 4.3.3. typing-extensions | 3.10.0.2 | 3.10.0.2. **umap-learn | 0.5.1 | 0.5.2**. urllib3 | 1.26.7 | 1.26.7. wcwidth | 0.2.5 | 0.2.5. webencodings | 0.5.1 | 0.5.1. wheel | 0.37.0 | 0.37.0. win-inet-pton | 1.1.0 | 1.1.0. wincertstore | 0.2 | 0.2. xlrd | 1.2.0 | 1.2.0. zipp | 3.6.0 | 3.6.0. </body>. </html>. Thanks! Best,. YJ.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2045:6058,usability,learn,learn,6058,"| 0.1.2. jupyterlab-server | 2.8.2 | 2.8.2. kiwisolver | 1.3.1 | 1.3.1. legacy-api-wrap | 1.2 | 1.2. leidenalg | 0.8.8 | 0.8.8. llvmlite | 0.36.0 | 0.36.0. MarkupSafe | 2.0.1 | 2.0.1. matplotlib | 3.3.4 | 3.3.4. mistune | 0.8.4 | 0.8.4. **natsort | 7.1.1 | 8.0.0**. nbclassic | 0.2.6 | 0.2.6. nbclient | 0.5.3 | 0.5.3. nbconvert | 6.0.7 | 6.0.7. nbformat | 5.1.3 | 5.1.3. nest-asyncio | 1.5.1 | 1.5.1. networkx | 2.5.1 | 2.5.1. notebook | 6.4.3 | 6.4.3. numba | 0.53.1 | 0.53.1. numexpr | 2.7.3 | 2.7.3. numpy | 1.19.5 | 1.19.5. packaging | 21 | 21. pandas | 1.1.5 | 1.1.5. pandocfilters | 1.4.3 | 1.4.3. parso | 0.8.2 | 0.8.2. patsy | 0.5.2 | 0.5.2. pickleshare | 0.7.5 | 0.7.5. Pillow | 8.4.0 | 8.4.0. pip | 21.0.1 | 21.2.2. prometheus-client | 0.11.0 | 0.11.0. prompt-toolkit | 3.0.20 | 3.0.20. pycparser | 2.2 | 2.2. Pygments | 2.10.0 | 2.10.0. pynndescent | 0.5.5 | 0.5.5. pyOpenSSL | 20.0.1 | 21.0.0. **pyparsing | 2.4.7 | 3.0.4**. pyrsistent | 0.17.3 | 0.17.3. PySocks | 1.7.1 | 1.7.1. python-dateutil | 2.8.2 | 2.8.2. python-igraph | 0.9.8 | 0.9.8. pytz | 2021.3 | 2021.3. pywin32 | 228 | 228. pywinpty | 0.5.7 | 0.5.7. pyzmq | 22.2.1 | 22.2.1. requests | 2.26.0 | 2.26.0. scanpy | 1.7.2 | 1.7.2. scikit-learn | 0.24.2 | 0.24.2. scipy | 1.5.4 | 1.5.4. seaborn | 0.11.2 | 0.11.2. Send2Trash | 1.8.0 | 1.8.0. setuptools | 58.0.4 | 58.0.4. sinfo | 0.3.4 | 0.3.4. six | 1.16.0 | 1.16.0. sniffio | 1.2.0 | 1.2.0. statsmodels | 0.12.2 | 0.12.2. stdlib-list | 0.8.0 | 0.8.0. tables | 3.6.1 | 3.6.1. terminado | 0.9.4 | 0.9.4. testpath | 0.5.0 | 0.5.0. texttable | 1.6.4 | 1.6.4. threadpoolctl | 3.0.0 | 3.0.0. tornado | 6.1 | 6.1. tqdm | 4.62.3 | 4.62.3. traitlets | 4.3.3 | 4.3.3. typing-extensions | 3.10.0.2 | 3.10.0.2. **umap-learn | 0.5.1 | 0.5.2**. urllib3 | 1.26.7 | 1.26.7. wcwidth | 0.2.5 | 0.2.5. webencodings | 0.5.1 | 0.5.1. wheel | 0.37.0 | 0.37.0. win-inet-pton | 1.1.0 | 1.1.0. wincertstore | 0.2 | 0.2. xlrd | 1.2.0 | 1.2.0. zipp | 3.6.0 | 3.6.0. </body>. </html>. Thanks! Best,. YJ.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2045
https://github.com/scverse/scanpy/issues/2046:28,availability,error,errors,28,"Adding use_raw=False create errors; Hello Scanpy,. When I add parameter use_raw=False into sc.tl.rank_genes_groups() and sc.pl.rank_genes_groups_violin(), it generates errors as below. ![image](https://user-images.githubusercontent.com/75048821/140627341-b0c08fbd-53b1-4ed8-b12d-9be71a65a6a5.png). ![image](https://user-images.githubusercontent.com/75048821/140627351-09708fcd-39ea-4602-8609-eca85ea6b843.png). ![image](https://user-images.githubusercontent.com/75048821/140627356-7faf0462-c852-436e-b69d-22f337dabae6.png). Another question is that, we shouldn't use the adata.raw for plotting becase the adata.raw doesn't regress out the mito gene expressions, should we? Thanks! Best,. YJ.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2046
https://github.com/scverse/scanpy/issues/2046:168,availability,error,errors,168,"Adding use_raw=False create errors; Hello Scanpy,. When I add parameter use_raw=False into sc.tl.rank_genes_groups() and sc.pl.rank_genes_groups_violin(), it generates errors as below. ![image](https://user-images.githubusercontent.com/75048821/140627341-b0c08fbd-53b1-4ed8-b12d-9be71a65a6a5.png). ![image](https://user-images.githubusercontent.com/75048821/140627351-09708fcd-39ea-4602-8609-eca85ea6b843.png). ![image](https://user-images.githubusercontent.com/75048821/140627356-7faf0462-c852-436e-b69d-22f337dabae6.png). Another question is that, we shouldn't use the adata.raw for plotting becase the adata.raw doesn't regress out the mito gene expressions, should we? Thanks! Best,. YJ.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2046
https://github.com/scverse/scanpy/issues/2046:62,modifiability,paramet,parameter,62,"Adding use_raw=False create errors; Hello Scanpy,. When I add parameter use_raw=False into sc.tl.rank_genes_groups() and sc.pl.rank_genes_groups_violin(), it generates errors as below. ![image](https://user-images.githubusercontent.com/75048821/140627341-b0c08fbd-53b1-4ed8-b12d-9be71a65a6a5.png). ![image](https://user-images.githubusercontent.com/75048821/140627351-09708fcd-39ea-4602-8609-eca85ea6b843.png). ![image](https://user-images.githubusercontent.com/75048821/140627356-7faf0462-c852-436e-b69d-22f337dabae6.png). Another question is that, we shouldn't use the adata.raw for plotting becase the adata.raw doesn't regress out the mito gene expressions, should we? Thanks! Best,. YJ.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2046
https://github.com/scverse/scanpy/issues/2046:28,performance,error,errors,28,"Adding use_raw=False create errors; Hello Scanpy,. When I add parameter use_raw=False into sc.tl.rank_genes_groups() and sc.pl.rank_genes_groups_violin(), it generates errors as below. ![image](https://user-images.githubusercontent.com/75048821/140627341-b0c08fbd-53b1-4ed8-b12d-9be71a65a6a5.png). ![image](https://user-images.githubusercontent.com/75048821/140627351-09708fcd-39ea-4602-8609-eca85ea6b843.png). ![image](https://user-images.githubusercontent.com/75048821/140627356-7faf0462-c852-436e-b69d-22f337dabae6.png). Another question is that, we shouldn't use the adata.raw for plotting becase the adata.raw doesn't regress out the mito gene expressions, should we? Thanks! Best,. YJ.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2046
https://github.com/scverse/scanpy/issues/2046:168,performance,error,errors,168,"Adding use_raw=False create errors; Hello Scanpy,. When I add parameter use_raw=False into sc.tl.rank_genes_groups() and sc.pl.rank_genes_groups_violin(), it generates errors as below. ![image](https://user-images.githubusercontent.com/75048821/140627341-b0c08fbd-53b1-4ed8-b12d-9be71a65a6a5.png). ![image](https://user-images.githubusercontent.com/75048821/140627351-09708fcd-39ea-4602-8609-eca85ea6b843.png). ![image](https://user-images.githubusercontent.com/75048821/140627356-7faf0462-c852-436e-b69d-22f337dabae6.png). Another question is that, we shouldn't use the adata.raw for plotting becase the adata.raw doesn't regress out the mito gene expressions, should we? Thanks! Best,. YJ.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2046
https://github.com/scverse/scanpy/issues/2046:615,reliability,doe,doesn,615,"Adding use_raw=False create errors; Hello Scanpy,. When I add parameter use_raw=False into sc.tl.rank_genes_groups() and sc.pl.rank_genes_groups_violin(), it generates errors as below. ![image](https://user-images.githubusercontent.com/75048821/140627341-b0c08fbd-53b1-4ed8-b12d-9be71a65a6a5.png). ![image](https://user-images.githubusercontent.com/75048821/140627351-09708fcd-39ea-4602-8609-eca85ea6b843.png). ![image](https://user-images.githubusercontent.com/75048821/140627356-7faf0462-c852-436e-b69d-22f337dabae6.png). Another question is that, we shouldn't use the adata.raw for plotting becase the adata.raw doesn't regress out the mito gene expressions, should we? Thanks! Best,. YJ.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2046
https://github.com/scverse/scanpy/issues/2046:28,safety,error,errors,28,"Adding use_raw=False create errors; Hello Scanpy,. When I add parameter use_raw=False into sc.tl.rank_genes_groups() and sc.pl.rank_genes_groups_violin(), it generates errors as below. ![image](https://user-images.githubusercontent.com/75048821/140627341-b0c08fbd-53b1-4ed8-b12d-9be71a65a6a5.png). ![image](https://user-images.githubusercontent.com/75048821/140627351-09708fcd-39ea-4602-8609-eca85ea6b843.png). ![image](https://user-images.githubusercontent.com/75048821/140627356-7faf0462-c852-436e-b69d-22f337dabae6.png). Another question is that, we shouldn't use the adata.raw for plotting becase the adata.raw doesn't regress out the mito gene expressions, should we? Thanks! Best,. YJ.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2046
https://github.com/scverse/scanpy/issues/2046:168,safety,error,errors,168,"Adding use_raw=False create errors; Hello Scanpy,. When I add parameter use_raw=False into sc.tl.rank_genes_groups() and sc.pl.rank_genes_groups_violin(), it generates errors as below. ![image](https://user-images.githubusercontent.com/75048821/140627341-b0c08fbd-53b1-4ed8-b12d-9be71a65a6a5.png). ![image](https://user-images.githubusercontent.com/75048821/140627351-09708fcd-39ea-4602-8609-eca85ea6b843.png). ![image](https://user-images.githubusercontent.com/75048821/140627356-7faf0462-c852-436e-b69d-22f337dabae6.png). Another question is that, we shouldn't use the adata.raw for plotting becase the adata.raw doesn't regress out the mito gene expressions, should we? Thanks! Best,. YJ.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2046
https://github.com/scverse/scanpy/issues/2046:623,testability,regress,regress,623,"Adding use_raw=False create errors; Hello Scanpy,. When I add parameter use_raw=False into sc.tl.rank_genes_groups() and sc.pl.rank_genes_groups_violin(), it generates errors as below. ![image](https://user-images.githubusercontent.com/75048821/140627341-b0c08fbd-53b1-4ed8-b12d-9be71a65a6a5.png). ![image](https://user-images.githubusercontent.com/75048821/140627351-09708fcd-39ea-4602-8609-eca85ea6b843.png). ![image](https://user-images.githubusercontent.com/75048821/140627356-7faf0462-c852-436e-b69d-22f337dabae6.png). Another question is that, we shouldn't use the adata.raw for plotting becase the adata.raw doesn't regress out the mito gene expressions, should we? Thanks! Best,. YJ.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2046
https://github.com/scverse/scanpy/issues/2046:28,usability,error,errors,28,"Adding use_raw=False create errors; Hello Scanpy,. When I add parameter use_raw=False into sc.tl.rank_genes_groups() and sc.pl.rank_genes_groups_violin(), it generates errors as below. ![image](https://user-images.githubusercontent.com/75048821/140627341-b0c08fbd-53b1-4ed8-b12d-9be71a65a6a5.png). ![image](https://user-images.githubusercontent.com/75048821/140627351-09708fcd-39ea-4602-8609-eca85ea6b843.png). ![image](https://user-images.githubusercontent.com/75048821/140627356-7faf0462-c852-436e-b69d-22f337dabae6.png). Another question is that, we shouldn't use the adata.raw for plotting becase the adata.raw doesn't regress out the mito gene expressions, should we? Thanks! Best,. YJ.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2046
https://github.com/scverse/scanpy/issues/2046:168,usability,error,errors,168,"Adding use_raw=False create errors; Hello Scanpy,. When I add parameter use_raw=False into sc.tl.rank_genes_groups() and sc.pl.rank_genes_groups_violin(), it generates errors as below. ![image](https://user-images.githubusercontent.com/75048821/140627341-b0c08fbd-53b1-4ed8-b12d-9be71a65a6a5.png). ![image](https://user-images.githubusercontent.com/75048821/140627351-09708fcd-39ea-4602-8609-eca85ea6b843.png). ![image](https://user-images.githubusercontent.com/75048821/140627356-7faf0462-c852-436e-b69d-22f337dabae6.png). Another question is that, we shouldn't use the adata.raw for plotting becase the adata.raw doesn't regress out the mito gene expressions, should we? Thanks! Best,. YJ.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2046
https://github.com/scverse/scanpy/issues/2046:202,usability,user,user-images,202,"Adding use_raw=False create errors; Hello Scanpy,. When I add parameter use_raw=False into sc.tl.rank_genes_groups() and sc.pl.rank_genes_groups_violin(), it generates errors as below. ![image](https://user-images.githubusercontent.com/75048821/140627341-b0c08fbd-53b1-4ed8-b12d-9be71a65a6a5.png). ![image](https://user-images.githubusercontent.com/75048821/140627351-09708fcd-39ea-4602-8609-eca85ea6b843.png). ![image](https://user-images.githubusercontent.com/75048821/140627356-7faf0462-c852-436e-b69d-22f337dabae6.png). Another question is that, we shouldn't use the adata.raw for plotting becase the adata.raw doesn't regress out the mito gene expressions, should we? Thanks! Best,. YJ.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2046
https://github.com/scverse/scanpy/issues/2046:315,usability,user,user-images,315,"Adding use_raw=False create errors; Hello Scanpy,. When I add parameter use_raw=False into sc.tl.rank_genes_groups() and sc.pl.rank_genes_groups_violin(), it generates errors as below. ![image](https://user-images.githubusercontent.com/75048821/140627341-b0c08fbd-53b1-4ed8-b12d-9be71a65a6a5.png). ![image](https://user-images.githubusercontent.com/75048821/140627351-09708fcd-39ea-4602-8609-eca85ea6b843.png). ![image](https://user-images.githubusercontent.com/75048821/140627356-7faf0462-c852-436e-b69d-22f337dabae6.png). Another question is that, we shouldn't use the adata.raw for plotting becase the adata.raw doesn't regress out the mito gene expressions, should we? Thanks! Best,. YJ.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2046
https://github.com/scverse/scanpy/issues/2046:428,usability,user,user-images,428,"Adding use_raw=False create errors; Hello Scanpy,. When I add parameter use_raw=False into sc.tl.rank_genes_groups() and sc.pl.rank_genes_groups_violin(), it generates errors as below. ![image](https://user-images.githubusercontent.com/75048821/140627341-b0c08fbd-53b1-4ed8-b12d-9be71a65a6a5.png). ![image](https://user-images.githubusercontent.com/75048821/140627351-09708fcd-39ea-4602-8609-eca85ea6b843.png). ![image](https://user-images.githubusercontent.com/75048821/140627356-7faf0462-c852-436e-b69d-22f337dabae6.png). Another question is that, we shouldn't use the adata.raw for plotting becase the adata.raw doesn't regress out the mito gene expressions, should we? Thanks! Best,. YJ.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2046
https://github.com/scverse/scanpy/issues/2047:123,usability,user,user-images,123,"DocSearch not working; Not getting any results for searches through DocSearch:. <img width=""1317"" alt=""image"" src=""https://user-images.githubusercontent.com/8238804/141005949-922f41fb-3d12-4e0e-a5ca-7f9532c8bc44.png"">.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2047
https://github.com/scverse/scanpy/issues/2048:10,availability,failur,failure,10,"Test case failure with test_visium_default not having any visible data points; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. (Well released version). - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, I was trying to build a Debian package for scanpy 1.8.2, and unsurprisingly ran into problems with the plot tests. Most of the problems were just slight plot layout differences, but the test_embedding_plots::test_visium_default test ends up generating a blank plot. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141199384-3696067f-c8ed-475d-b077-80bb2a0280a0.png). I can get something where the dots are visible by setting a color, but the color bar doesn't match the default. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141200671-6bbb5dd3-17ac-44ac-a9d1-28549e4c90a9.png). I also tried add_outline=True which got me closer but is still not right, and still pretty hard to see. . ![showspatial_visium_add_outline](https://user-images.githubusercontent.com/975038/141201784-4eeb070c-9be2-4db7-85c2-274f34bec6d3.png). I tried adjusting the marker size but didn't get very far. do you have any guesses what might be wrong? Thanks. anndata 0.7.5+ds. scanpy 1.8.2. sinfo 0.3.1. PIL 8.3.2. anndata 0.7.5+ds. asciitree NA. beta_ufunc NA. binom_ufunc NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. fasteners NA. h5py 3.3.0. igraph 0.9.6. joblib 0.17.0. kiwisolver 1.3.2. leidenalg 0.8.8. llvmlite 0.35.0. matplotlib 3.3.4. monotonic NA. mpl_toolkits NA. natsort 7.1.0. nbinom_ufunc NA. numba 0.52.0. numcodecs 0.8.1+ds. numexpr 2.7.3. numpy 1.19.5. packaging 21.0. pandas 1.1.5. pkg_resources NA. pyexpat NA. pyparsing 2.4.7. pytoml NA. pytz 2021.3. scanpy 1.8.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. sitecustomize NA. six 1.16.0. sklearn 0.23.2. tables 3.6.1. texttable 1.6.3. zarr 2.1",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2048
https://github.com/scverse/scanpy/issues/2048:479,availability,sli,slight,479,"Test case failure with test_visium_default not having any visible data points; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. (Well released version). - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, I was trying to build a Debian package for scanpy 1.8.2, and unsurprisingly ran into problems with the plot tests. Most of the problems were just slight plot layout differences, but the test_embedding_plots::test_visium_default test ends up generating a blank plot. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141199384-3696067f-c8ed-475d-b077-80bb2a0280a0.png). I can get something where the dots are visible by setting a color, but the color bar doesn't match the default. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141200671-6bbb5dd3-17ac-44ac-a9d1-28549e4c90a9.png). I also tried add_outline=True which got me closer but is still not right, and still pretty hard to see. . ![showspatial_visium_add_outline](https://user-images.githubusercontent.com/975038/141201784-4eeb070c-9be2-4db7-85c2-274f34bec6d3.png). I tried adjusting the marker size but didn't get very far. do you have any guesses what might be wrong? Thanks. anndata 0.7.5+ds. scanpy 1.8.2. sinfo 0.3.1. PIL 8.3.2. anndata 0.7.5+ds. asciitree NA. beta_ufunc NA. binom_ufunc NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. fasteners NA. h5py 3.3.0. igraph 0.9.6. joblib 0.17.0. kiwisolver 1.3.2. leidenalg 0.8.8. llvmlite 0.35.0. matplotlib 3.3.4. monotonic NA. mpl_toolkits NA. natsort 7.1.0. nbinom_ufunc NA. numba 0.52.0. numcodecs 0.8.1+ds. numexpr 2.7.3. numpy 1.19.5. packaging 21.0. pandas 1.1.5. pkg_resources NA. pyexpat NA. pyparsing 2.4.7. pytoml NA. pytz 2021.3. scanpy 1.8.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. sitecustomize NA. six 1.16.0. sklearn 0.23.2. tables 3.6.1. texttable 1.6.3. zarr 2.1",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2048
https://github.com/scverse/scanpy/issues/2048:10,deployability,fail,failure,10,"Test case failure with test_visium_default not having any visible data points; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. (Well released version). - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, I was trying to build a Debian package for scanpy 1.8.2, and unsurprisingly ran into problems with the plot tests. Most of the problems were just slight plot layout differences, but the test_embedding_plots::test_visium_default test ends up generating a blank plot. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141199384-3696067f-c8ed-475d-b077-80bb2a0280a0.png). I can get something where the dots are visible by setting a color, but the color bar doesn't match the default. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141200671-6bbb5dd3-17ac-44ac-a9d1-28549e4c90a9.png). I also tried add_outline=True which got me closer but is still not right, and still pretty hard to see. . ![showspatial_visium_add_outline](https://user-images.githubusercontent.com/975038/141201784-4eeb070c-9be2-4db7-85c2-274f34bec6d3.png). I tried adjusting the marker size but didn't get very far. do you have any guesses what might be wrong? Thanks. anndata 0.7.5+ds. scanpy 1.8.2. sinfo 0.3.1. PIL 8.3.2. anndata 0.7.5+ds. asciitree NA. beta_ufunc NA. binom_ufunc NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. fasteners NA. h5py 3.3.0. igraph 0.9.6. joblib 0.17.0. kiwisolver 1.3.2. leidenalg 0.8.8. llvmlite 0.35.0. matplotlib 3.3.4. monotonic NA. mpl_toolkits NA. natsort 7.1.0. nbinom_ufunc NA. numba 0.52.0. numcodecs 0.8.1+ds. numexpr 2.7.3. numpy 1.19.5. packaging 21.0. pandas 1.1.5. pkg_resources NA. pyexpat NA. pyparsing 2.4.7. pytoml NA. pytz 2021.3. scanpy 1.8.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. sitecustomize NA. six 1.16.0. sklearn 0.23.2. tables 3.6.1. texttable 1.6.3. zarr 2.1",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2048
https://github.com/scverse/scanpy/issues/2048:200,deployability,version,version,200,"Test case failure with test_visium_default not having any visible data points; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. (Well released version). - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, I was trying to build a Debian package for scanpy 1.8.2, and unsurprisingly ran into problems with the plot tests. Most of the problems were just slight plot layout differences, but the test_embedding_plots::test_visium_default test ends up generating a blank plot. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141199384-3696067f-c8ed-475d-b077-80bb2a0280a0.png). I can get something where the dots are visible by setting a color, but the color bar doesn't match the default. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141200671-6bbb5dd3-17ac-44ac-a9d1-28549e4c90a9.png). I also tried add_outline=True which got me closer but is still not right, and still pretty hard to see. . ![showspatial_visium_add_outline](https://user-images.githubusercontent.com/975038/141201784-4eeb070c-9be2-4db7-85c2-274f34bec6d3.png). I tried adjusting the marker size but didn't get very far. do you have any guesses what might be wrong? Thanks. anndata 0.7.5+ds. scanpy 1.8.2. sinfo 0.3.1. PIL 8.3.2. anndata 0.7.5+ds. asciitree NA. beta_ufunc NA. binom_ufunc NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. fasteners NA. h5py 3.3.0. igraph 0.9.6. joblib 0.17.0. kiwisolver 1.3.2. leidenalg 0.8.8. llvmlite 0.35.0. matplotlib 3.3.4. monotonic NA. mpl_toolkits NA. natsort 7.1.0. nbinom_ufunc NA. numba 0.52.0. numcodecs 0.8.1+ds. numexpr 2.7.3. numpy 1.19.5. packaging 21.0. pandas 1.1.5. pkg_resources NA. pyexpat NA. pyparsing 2.4.7. pytoml NA. pytz 2021.3. scanpy 1.8.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. sitecustomize NA. six 1.16.0. sklearn 0.23.2. tables 3.6.1. texttable 1.6.3. zarr 2.1",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2048
https://github.com/scverse/scanpy/issues/2048:225,deployability,releas,released,225,"Test case failure with test_visium_default not having any visible data points; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. (Well released version). - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, I was trying to build a Debian package for scanpy 1.8.2, and unsurprisingly ran into problems with the plot tests. Most of the problems were just slight plot layout differences, but the test_embedding_plots::test_visium_default test ends up generating a blank plot. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141199384-3696067f-c8ed-475d-b077-80bb2a0280a0.png). I can get something where the dots are visible by setting a color, but the color bar doesn't match the default. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141200671-6bbb5dd3-17ac-44ac-a9d1-28549e4c90a9.png). I also tried add_outline=True which got me closer but is still not right, and still pretty hard to see. . ![showspatial_visium_add_outline](https://user-images.githubusercontent.com/975038/141201784-4eeb070c-9be2-4db7-85c2-274f34bec6d3.png). I tried adjusting the marker size but didn't get very far. do you have any guesses what might be wrong? Thanks. anndata 0.7.5+ds. scanpy 1.8.2. sinfo 0.3.1. PIL 8.3.2. anndata 0.7.5+ds. asciitree NA. beta_ufunc NA. binom_ufunc NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. fasteners NA. h5py 3.3.0. igraph 0.9.6. joblib 0.17.0. kiwisolver 1.3.2. leidenalg 0.8.8. llvmlite 0.35.0. matplotlib 3.3.4. monotonic NA. mpl_toolkits NA. natsort 7.1.0. nbinom_ufunc NA. numba 0.52.0. numcodecs 0.8.1+ds. numexpr 2.7.3. numpy 1.19.5. packaging 21.0. pandas 1.1.5. pkg_resources NA. pyexpat NA. pyparsing 2.4.7. pytoml NA. pytz 2021.3. scanpy 1.8.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. sitecustomize NA. six 1.16.0. sklearn 0.23.2. tables 3.6.1. texttable 1.6.3. zarr 2.1",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2048
https://github.com/scverse/scanpy/issues/2048:234,deployability,version,version,234,"Test case failure with test_visium_default not having any visible data points; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. (Well released version). - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, I was trying to build a Debian package for scanpy 1.8.2, and unsurprisingly ran into problems with the plot tests. Most of the problems were just slight plot layout differences, but the test_embedding_plots::test_visium_default test ends up generating a blank plot. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141199384-3696067f-c8ed-475d-b077-80bb2a0280a0.png). I can get something where the dots are visible by setting a color, but the color bar doesn't match the default. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141200671-6bbb5dd3-17ac-44ac-a9d1-28549e4c90a9.png). I also tried add_outline=True which got me closer but is still not right, and still pretty hard to see. . ![showspatial_visium_add_outline](https://user-images.githubusercontent.com/975038/141201784-4eeb070c-9be2-4db7-85c2-274f34bec6d3.png). I tried adjusting the marker size but didn't get very far. do you have any guesses what might be wrong? Thanks. anndata 0.7.5+ds. scanpy 1.8.2. sinfo 0.3.1. PIL 8.3.2. anndata 0.7.5+ds. asciitree NA. beta_ufunc NA. binom_ufunc NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. fasteners NA. h5py 3.3.0. igraph 0.9.6. joblib 0.17.0. kiwisolver 1.3.2. leidenalg 0.8.8. llvmlite 0.35.0. matplotlib 3.3.4. monotonic NA. mpl_toolkits NA. natsort 7.1.0. nbinom_ufunc NA. numba 0.52.0. numcodecs 0.8.1+ds. numexpr 2.7.3. numpy 1.19.5. packaging 21.0. pandas 1.1.5. pkg_resources NA. pyexpat NA. pyparsing 2.4.7. pytoml NA. pytz 2021.3. scanpy 1.8.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. sitecustomize NA. six 1.16.0. sklearn 0.23.2. tables 3.6.1. texttable 1.6.3. zarr 2.1",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2048
https://github.com/scverse/scanpy/issues/2048:349,deployability,build,build,349,"Test case failure with test_visium_default not having any visible data points; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. (Well released version). - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, I was trying to build a Debian package for scanpy 1.8.2, and unsurprisingly ran into problems with the plot tests. Most of the problems were just slight plot layout differences, but the test_embedding_plots::test_visium_default test ends up generating a blank plot. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141199384-3696067f-c8ed-475d-b077-80bb2a0280a0.png). I can get something where the dots are visible by setting a color, but the color bar doesn't match the default. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141200671-6bbb5dd3-17ac-44ac-a9d1-28549e4c90a9.png). I also tried add_outline=True which got me closer but is still not right, and still pretty hard to see. . ![showspatial_visium_add_outline](https://user-images.githubusercontent.com/975038/141201784-4eeb070c-9be2-4db7-85c2-274f34bec6d3.png). I tried adjusting the marker size but didn't get very far. do you have any guesses what might be wrong? Thanks. anndata 0.7.5+ds. scanpy 1.8.2. sinfo 0.3.1. PIL 8.3.2. anndata 0.7.5+ds. asciitree NA. beta_ufunc NA. binom_ufunc NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. fasteners NA. h5py 3.3.0. igraph 0.9.6. joblib 0.17.0. kiwisolver 1.3.2. leidenalg 0.8.8. llvmlite 0.35.0. matplotlib 3.3.4. monotonic NA. mpl_toolkits NA. natsort 7.1.0. nbinom_ufunc NA. numba 0.52.0. numcodecs 0.8.1+ds. numexpr 2.7.3. numpy 1.19.5. packaging 21.0. pandas 1.1.5. pkg_resources NA. pyexpat NA. pyparsing 2.4.7. pytoml NA. pytz 2021.3. scanpy 1.8.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. sitecustomize NA. six 1.16.0. sklearn 0.23.2. tables 3.6.1. texttable 1.6.3. zarr 2.1",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2048
https://github.com/scverse/scanpy/issues/2048:2110,deployability,log,logical,2110,"g exists on the latest version of scanpy. (Well released version). - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, I was trying to build a Debian package for scanpy 1.8.2, and unsurprisingly ran into problems with the plot tests. Most of the problems were just slight plot layout differences, but the test_embedding_plots::test_visium_default test ends up generating a blank plot. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141199384-3696067f-c8ed-475d-b077-80bb2a0280a0.png). I can get something where the dots are visible by setting a color, but the color bar doesn't match the default. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141200671-6bbb5dd3-17ac-44ac-a9d1-28549e4c90a9.png). I also tried add_outline=True which got me closer but is still not right, and still pretty hard to see. . ![showspatial_visium_add_outline](https://user-images.githubusercontent.com/975038/141201784-4eeb070c-9be2-4db7-85c2-274f34bec6d3.png). I tried adjusting the marker size but didn't get very far. do you have any guesses what might be wrong? Thanks. anndata 0.7.5+ds. scanpy 1.8.2. sinfo 0.3.1. PIL 8.3.2. anndata 0.7.5+ds. asciitree NA. beta_ufunc NA. binom_ufunc NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. fasteners NA. h5py 3.3.0. igraph 0.9.6. joblib 0.17.0. kiwisolver 1.3.2. leidenalg 0.8.8. llvmlite 0.35.0. matplotlib 3.3.4. monotonic NA. mpl_toolkits NA. natsort 7.1.0. nbinom_ufunc NA. numba 0.52.0. numcodecs 0.8.1+ds. numexpr 2.7.3. numpy 1.19.5. packaging 21.0. pandas 1.1.5. pkg_resources NA. pyexpat NA. pyparsing 2.4.7. pytoml NA. pytz 2021.3. scanpy 1.8.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. sitecustomize NA. six 1.16.0. sklearn 0.23.2. tables 3.6.1. texttable 1.6.3. zarr 2.10.2+ds. Python 3.9.8 (main, Nov 7 2021, 15:47:09) [GCC 11.2.0]. Linux-5.14.0-2-amd64-x86_64-with-glibc2.32. 4 logical CPU cores. Session information updated at 2021-11-10 22:03.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2048
https://github.com/scverse/scanpy/issues/2048:2149,deployability,updat,updated,2149,"g exists on the latest version of scanpy. (Well released version). - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, I was trying to build a Debian package for scanpy 1.8.2, and unsurprisingly ran into problems with the plot tests. Most of the problems were just slight plot layout differences, but the test_embedding_plots::test_visium_default test ends up generating a blank plot. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141199384-3696067f-c8ed-475d-b077-80bb2a0280a0.png). I can get something where the dots are visible by setting a color, but the color bar doesn't match the default. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141200671-6bbb5dd3-17ac-44ac-a9d1-28549e4c90a9.png). I also tried add_outline=True which got me closer but is still not right, and still pretty hard to see. . ![showspatial_visium_add_outline](https://user-images.githubusercontent.com/975038/141201784-4eeb070c-9be2-4db7-85c2-274f34bec6d3.png). I tried adjusting the marker size but didn't get very far. do you have any guesses what might be wrong? Thanks. anndata 0.7.5+ds. scanpy 1.8.2. sinfo 0.3.1. PIL 8.3.2. anndata 0.7.5+ds. asciitree NA. beta_ufunc NA. binom_ufunc NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. fasteners NA. h5py 3.3.0. igraph 0.9.6. joblib 0.17.0. kiwisolver 1.3.2. leidenalg 0.8.8. llvmlite 0.35.0. matplotlib 3.3.4. monotonic NA. mpl_toolkits NA. natsort 7.1.0. nbinom_ufunc NA. numba 0.52.0. numcodecs 0.8.1+ds. numexpr 2.7.3. numpy 1.19.5. packaging 21.0. pandas 1.1.5. pkg_resources NA. pyexpat NA. pyparsing 2.4.7. pytoml NA. pytz 2021.3. scanpy 1.8.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. sitecustomize NA. six 1.16.0. sklearn 0.23.2. tables 3.6.1. texttable 1.6.3. zarr 2.10.2+ds. Python 3.9.8 (main, Nov 7 2021, 15:47:09) [GCC 11.2.0]. Linux-5.14.0-2-amd64-x86_64-with-glibc2.32. 4 logical CPU cores. Session information updated at 2021-11-10 22:03.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2048
https://github.com/scverse/scanpy/issues/2048:2118,energy efficiency,CPU,CPU,2118,"g exists on the latest version of scanpy. (Well released version). - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, I was trying to build a Debian package for scanpy 1.8.2, and unsurprisingly ran into problems with the plot tests. Most of the problems were just slight plot layout differences, but the test_embedding_plots::test_visium_default test ends up generating a blank plot. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141199384-3696067f-c8ed-475d-b077-80bb2a0280a0.png). I can get something where the dots are visible by setting a color, but the color bar doesn't match the default. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141200671-6bbb5dd3-17ac-44ac-a9d1-28549e4c90a9.png). I also tried add_outline=True which got me closer but is still not right, and still pretty hard to see. . ![showspatial_visium_add_outline](https://user-images.githubusercontent.com/975038/141201784-4eeb070c-9be2-4db7-85c2-274f34bec6d3.png). I tried adjusting the marker size but didn't get very far. do you have any guesses what might be wrong? Thanks. anndata 0.7.5+ds. scanpy 1.8.2. sinfo 0.3.1. PIL 8.3.2. anndata 0.7.5+ds. asciitree NA. beta_ufunc NA. binom_ufunc NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. fasteners NA. h5py 3.3.0. igraph 0.9.6. joblib 0.17.0. kiwisolver 1.3.2. leidenalg 0.8.8. llvmlite 0.35.0. matplotlib 3.3.4. monotonic NA. mpl_toolkits NA. natsort 7.1.0. nbinom_ufunc NA. numba 0.52.0. numcodecs 0.8.1+ds. numexpr 2.7.3. numpy 1.19.5. packaging 21.0. pandas 1.1.5. pkg_resources NA. pyexpat NA. pyparsing 2.4.7. pytoml NA. pytz 2021.3. scanpy 1.8.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. sitecustomize NA. six 1.16.0. sklearn 0.23.2. tables 3.6.1. texttable 1.6.3. zarr 2.10.2+ds. Python 3.9.8 (main, Nov 7 2021, 15:47:09) [GCC 11.2.0]. Linux-5.14.0-2-amd64-x86_64-with-glibc2.32. 4 logical CPU cores. Session information updated at 2021-11-10 22:03.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2048
https://github.com/scverse/scanpy/issues/2048:2122,energy efficiency,core,cores,2122,"g exists on the latest version of scanpy. (Well released version). - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, I was trying to build a Debian package for scanpy 1.8.2, and unsurprisingly ran into problems with the plot tests. Most of the problems were just slight plot layout differences, but the test_embedding_plots::test_visium_default test ends up generating a blank plot. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141199384-3696067f-c8ed-475d-b077-80bb2a0280a0.png). I can get something where the dots are visible by setting a color, but the color bar doesn't match the default. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141200671-6bbb5dd3-17ac-44ac-a9d1-28549e4c90a9.png). I also tried add_outline=True which got me closer but is still not right, and still pretty hard to see. . ![showspatial_visium_add_outline](https://user-images.githubusercontent.com/975038/141201784-4eeb070c-9be2-4db7-85c2-274f34bec6d3.png). I tried adjusting the marker size but didn't get very far. do you have any guesses what might be wrong? Thanks. anndata 0.7.5+ds. scanpy 1.8.2. sinfo 0.3.1. PIL 8.3.2. anndata 0.7.5+ds. asciitree NA. beta_ufunc NA. binom_ufunc NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. fasteners NA. h5py 3.3.0. igraph 0.9.6. joblib 0.17.0. kiwisolver 1.3.2. leidenalg 0.8.8. llvmlite 0.35.0. matplotlib 3.3.4. monotonic NA. mpl_toolkits NA. natsort 7.1.0. nbinom_ufunc NA. numba 0.52.0. numcodecs 0.8.1+ds. numexpr 2.7.3. numpy 1.19.5. packaging 21.0. pandas 1.1.5. pkg_resources NA. pyexpat NA. pyparsing 2.4.7. pytoml NA. pytz 2021.3. scanpy 1.8.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. sitecustomize NA. six 1.16.0. sklearn 0.23.2. tables 3.6.1. texttable 1.6.3. zarr 2.10.2+ds. Python 3.9.8 (main, Nov 7 2021, 15:47:09) [GCC 11.2.0]. Linux-5.14.0-2-amd64-x86_64-with-glibc2.32. 4 logical CPU cores. Session information updated at 2021-11-10 22:03.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2048
https://github.com/scverse/scanpy/issues/2048:200,integrability,version,version,200,"Test case failure with test_visium_default not having any visible data points; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. (Well released version). - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, I was trying to build a Debian package for scanpy 1.8.2, and unsurprisingly ran into problems with the plot tests. Most of the problems were just slight plot layout differences, but the test_embedding_plots::test_visium_default test ends up generating a blank plot. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141199384-3696067f-c8ed-475d-b077-80bb2a0280a0.png). I can get something where the dots are visible by setting a color, but the color bar doesn't match the default. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141200671-6bbb5dd3-17ac-44ac-a9d1-28549e4c90a9.png). I also tried add_outline=True which got me closer but is still not right, and still pretty hard to see. . ![showspatial_visium_add_outline](https://user-images.githubusercontent.com/975038/141201784-4eeb070c-9be2-4db7-85c2-274f34bec6d3.png). I tried adjusting the marker size but didn't get very far. do you have any guesses what might be wrong? Thanks. anndata 0.7.5+ds. scanpy 1.8.2. sinfo 0.3.1. PIL 8.3.2. anndata 0.7.5+ds. asciitree NA. beta_ufunc NA. binom_ufunc NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. fasteners NA. h5py 3.3.0. igraph 0.9.6. joblib 0.17.0. kiwisolver 1.3.2. leidenalg 0.8.8. llvmlite 0.35.0. matplotlib 3.3.4. monotonic NA. mpl_toolkits NA. natsort 7.1.0. nbinom_ufunc NA. numba 0.52.0. numcodecs 0.8.1+ds. numexpr 2.7.3. numpy 1.19.5. packaging 21.0. pandas 1.1.5. pkg_resources NA. pyexpat NA. pyparsing 2.4.7. pytoml NA. pytz 2021.3. scanpy 1.8.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. sitecustomize NA. six 1.16.0. sklearn 0.23.2. tables 3.6.1. texttable 1.6.3. zarr 2.1",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2048
https://github.com/scverse/scanpy/issues/2048:234,integrability,version,version,234,"Test case failure with test_visium_default not having any visible data points; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. (Well released version). - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, I was trying to build a Debian package for scanpy 1.8.2, and unsurprisingly ran into problems with the plot tests. Most of the problems were just slight plot layout differences, but the test_embedding_plots::test_visium_default test ends up generating a blank plot. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141199384-3696067f-c8ed-475d-b077-80bb2a0280a0.png). I can get something where the dots are visible by setting a color, but the color bar doesn't match the default. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141200671-6bbb5dd3-17ac-44ac-a9d1-28549e4c90a9.png). I also tried add_outline=True which got me closer but is still not right, and still pretty hard to see. . ![showspatial_visium_add_outline](https://user-images.githubusercontent.com/975038/141201784-4eeb070c-9be2-4db7-85c2-274f34bec6d3.png). I tried adjusting the marker size but didn't get very far. do you have any guesses what might be wrong? Thanks. anndata 0.7.5+ds. scanpy 1.8.2. sinfo 0.3.1. PIL 8.3.2. anndata 0.7.5+ds. asciitree NA. beta_ufunc NA. binom_ufunc NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. fasteners NA. h5py 3.3.0. igraph 0.9.6. joblib 0.17.0. kiwisolver 1.3.2. leidenalg 0.8.8. llvmlite 0.35.0. matplotlib 3.3.4. monotonic NA. mpl_toolkits NA. natsort 7.1.0. nbinom_ufunc NA. numba 0.52.0. numcodecs 0.8.1+ds. numexpr 2.7.3. numpy 1.19.5. packaging 21.0. pandas 1.1.5. pkg_resources NA. pyexpat NA. pyparsing 2.4.7. pytoml NA. pytz 2021.3. scanpy 1.8.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. sitecustomize NA. six 1.16.0. sklearn 0.23.2. tables 3.6.1. texttable 1.6.3. zarr 2.1",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2048
https://github.com/scverse/scanpy/issues/2048:200,modifiability,version,version,200,"Test case failure with test_visium_default not having any visible data points; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. (Well released version). - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, I was trying to build a Debian package for scanpy 1.8.2, and unsurprisingly ran into problems with the plot tests. Most of the problems were just slight plot layout differences, but the test_embedding_plots::test_visium_default test ends up generating a blank plot. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141199384-3696067f-c8ed-475d-b077-80bb2a0280a0.png). I can get something where the dots are visible by setting a color, but the color bar doesn't match the default. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141200671-6bbb5dd3-17ac-44ac-a9d1-28549e4c90a9.png). I also tried add_outline=True which got me closer but is still not right, and still pretty hard to see. . ![showspatial_visium_add_outline](https://user-images.githubusercontent.com/975038/141201784-4eeb070c-9be2-4db7-85c2-274f34bec6d3.png). I tried adjusting the marker size but didn't get very far. do you have any guesses what might be wrong? Thanks. anndata 0.7.5+ds. scanpy 1.8.2. sinfo 0.3.1. PIL 8.3.2. anndata 0.7.5+ds. asciitree NA. beta_ufunc NA. binom_ufunc NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. fasteners NA. h5py 3.3.0. igraph 0.9.6. joblib 0.17.0. kiwisolver 1.3.2. leidenalg 0.8.8. llvmlite 0.35.0. matplotlib 3.3.4. monotonic NA. mpl_toolkits NA. natsort 7.1.0. nbinom_ufunc NA. numba 0.52.0. numcodecs 0.8.1+ds. numexpr 2.7.3. numpy 1.19.5. packaging 21.0. pandas 1.1.5. pkg_resources NA. pyexpat NA. pyparsing 2.4.7. pytoml NA. pytz 2021.3. scanpy 1.8.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. sitecustomize NA. six 1.16.0. sklearn 0.23.2. tables 3.6.1. texttable 1.6.3. zarr 2.1",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2048
https://github.com/scverse/scanpy/issues/2048:234,modifiability,version,version,234,"Test case failure with test_visium_default not having any visible data points; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. (Well released version). - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, I was trying to build a Debian package for scanpy 1.8.2, and unsurprisingly ran into problems with the plot tests. Most of the problems were just slight plot layout differences, but the test_embedding_plots::test_visium_default test ends up generating a blank plot. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141199384-3696067f-c8ed-475d-b077-80bb2a0280a0.png). I can get something where the dots are visible by setting a color, but the color bar doesn't match the default. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141200671-6bbb5dd3-17ac-44ac-a9d1-28549e4c90a9.png). I also tried add_outline=True which got me closer but is still not right, and still pretty hard to see. . ![showspatial_visium_add_outline](https://user-images.githubusercontent.com/975038/141201784-4eeb070c-9be2-4db7-85c2-274f34bec6d3.png). I tried adjusting the marker size but didn't get very far. do you have any guesses what might be wrong? Thanks. anndata 0.7.5+ds. scanpy 1.8.2. sinfo 0.3.1. PIL 8.3.2. anndata 0.7.5+ds. asciitree NA. beta_ufunc NA. binom_ufunc NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. fasteners NA. h5py 3.3.0. igraph 0.9.6. joblib 0.17.0. kiwisolver 1.3.2. leidenalg 0.8.8. llvmlite 0.35.0. matplotlib 3.3.4. monotonic NA. mpl_toolkits NA. natsort 7.1.0. nbinom_ufunc NA. numba 0.52.0. numcodecs 0.8.1+ds. numexpr 2.7.3. numpy 1.19.5. packaging 21.0. pandas 1.1.5. pkg_resources NA. pyexpat NA. pyparsing 2.4.7. pytoml NA. pytz 2021.3. scanpy 1.8.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. sitecustomize NA. six 1.16.0. sklearn 0.23.2. tables 3.6.1. texttable 1.6.3. zarr 2.1",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2048
https://github.com/scverse/scanpy/issues/2048:364,modifiability,pac,package,364,"Test case failure with test_visium_default not having any visible data points; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. (Well released version). - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, I was trying to build a Debian package for scanpy 1.8.2, and unsurprisingly ran into problems with the plot tests. Most of the problems were just slight plot layout differences, but the test_embedding_plots::test_visium_default test ends up generating a blank plot. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141199384-3696067f-c8ed-475d-b077-80bb2a0280a0.png). I can get something where the dots are visible by setting a color, but the color bar doesn't match the default. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141200671-6bbb5dd3-17ac-44ac-a9d1-28549e4c90a9.png). I also tried add_outline=True which got me closer but is still not right, and still pretty hard to see. . ![showspatial_visium_add_outline](https://user-images.githubusercontent.com/975038/141201784-4eeb070c-9be2-4db7-85c2-274f34bec6d3.png). I tried adjusting the marker size but didn't get very far. do you have any guesses what might be wrong? Thanks. anndata 0.7.5+ds. scanpy 1.8.2. sinfo 0.3.1. PIL 8.3.2. anndata 0.7.5+ds. asciitree NA. beta_ufunc NA. binom_ufunc NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. fasteners NA. h5py 3.3.0. igraph 0.9.6. joblib 0.17.0. kiwisolver 1.3.2. leidenalg 0.8.8. llvmlite 0.35.0. matplotlib 3.3.4. monotonic NA. mpl_toolkits NA. natsort 7.1.0. nbinom_ufunc NA. numba 0.52.0. numcodecs 0.8.1+ds. numexpr 2.7.3. numpy 1.19.5. packaging 21.0. pandas 1.1.5. pkg_resources NA. pyexpat NA. pyparsing 2.4.7. pytoml NA. pytz 2021.3. scanpy 1.8.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. sitecustomize NA. six 1.16.0. sklearn 0.23.2. tables 3.6.1. texttable 1.6.3. zarr 2.1",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2048
https://github.com/scverse/scanpy/issues/2048:1755,modifiability,pac,packaging,1755,"g exists on the latest version of scanpy. (Well released version). - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, I was trying to build a Debian package for scanpy 1.8.2, and unsurprisingly ran into problems with the plot tests. Most of the problems were just slight plot layout differences, but the test_embedding_plots::test_visium_default test ends up generating a blank plot. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141199384-3696067f-c8ed-475d-b077-80bb2a0280a0.png). I can get something where the dots are visible by setting a color, but the color bar doesn't match the default. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141200671-6bbb5dd3-17ac-44ac-a9d1-28549e4c90a9.png). I also tried add_outline=True which got me closer but is still not right, and still pretty hard to see. . ![showspatial_visium_add_outline](https://user-images.githubusercontent.com/975038/141201784-4eeb070c-9be2-4db7-85c2-274f34bec6d3.png). I tried adjusting the marker size but didn't get very far. do you have any guesses what might be wrong? Thanks. anndata 0.7.5+ds. scanpy 1.8.2. sinfo 0.3.1. PIL 8.3.2. anndata 0.7.5+ds. asciitree NA. beta_ufunc NA. binom_ufunc NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. fasteners NA. h5py 3.3.0. igraph 0.9.6. joblib 0.17.0. kiwisolver 1.3.2. leidenalg 0.8.8. llvmlite 0.35.0. matplotlib 3.3.4. monotonic NA. mpl_toolkits NA. natsort 7.1.0. nbinom_ufunc NA. numba 0.52.0. numcodecs 0.8.1+ds. numexpr 2.7.3. numpy 1.19.5. packaging 21.0. pandas 1.1.5. pkg_resources NA. pyexpat NA. pyparsing 2.4.7. pytoml NA. pytz 2021.3. scanpy 1.8.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. sitecustomize NA. six 1.16.0. sklearn 0.23.2. tables 3.6.1. texttable 1.6.3. zarr 2.10.2+ds. Python 3.9.8 (main, Nov 7 2021, 15:47:09) [GCC 11.2.0]. Linux-5.14.0-2-amd64-x86_64-with-glibc2.32. 4 logical CPU cores. Session information updated at 2021-11-10 22:03.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2048
https://github.com/scverse/scanpy/issues/2048:10,performance,failur,failure,10,"Test case failure with test_visium_default not having any visible data points; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. (Well released version). - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, I was trying to build a Debian package for scanpy 1.8.2, and unsurprisingly ran into problems with the plot tests. Most of the problems were just slight plot layout differences, but the test_embedding_plots::test_visium_default test ends up generating a blank plot. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141199384-3696067f-c8ed-475d-b077-80bb2a0280a0.png). I can get something where the dots are visible by setting a color, but the color bar doesn't match the default. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141200671-6bbb5dd3-17ac-44ac-a9d1-28549e4c90a9.png). I also tried add_outline=True which got me closer but is still not right, and still pretty hard to see. . ![showspatial_visium_add_outline](https://user-images.githubusercontent.com/975038/141201784-4eeb070c-9be2-4db7-85c2-274f34bec6d3.png). I tried adjusting the marker size but didn't get very far. do you have any guesses what might be wrong? Thanks. anndata 0.7.5+ds. scanpy 1.8.2. sinfo 0.3.1. PIL 8.3.2. anndata 0.7.5+ds. asciitree NA. beta_ufunc NA. binom_ufunc NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. fasteners NA. h5py 3.3.0. igraph 0.9.6. joblib 0.17.0. kiwisolver 1.3.2. leidenalg 0.8.8. llvmlite 0.35.0. matplotlib 3.3.4. monotonic NA. mpl_toolkits NA. natsort 7.1.0. nbinom_ufunc NA. numba 0.52.0. numcodecs 0.8.1+ds. numexpr 2.7.3. numpy 1.19.5. packaging 21.0. pandas 1.1.5. pkg_resources NA. pyexpat NA. pyparsing 2.4.7. pytoml NA. pytz 2021.3. scanpy 1.8.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. sitecustomize NA. six 1.16.0. sklearn 0.23.2. tables 3.6.1. texttable 1.6.3. zarr 2.1",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2048
https://github.com/scverse/scanpy/issues/2048:2118,performance,CPU,CPU,2118,"g exists on the latest version of scanpy. (Well released version). - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, I was trying to build a Debian package for scanpy 1.8.2, and unsurprisingly ran into problems with the plot tests. Most of the problems were just slight plot layout differences, but the test_embedding_plots::test_visium_default test ends up generating a blank plot. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141199384-3696067f-c8ed-475d-b077-80bb2a0280a0.png). I can get something where the dots are visible by setting a color, but the color bar doesn't match the default. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141200671-6bbb5dd3-17ac-44ac-a9d1-28549e4c90a9.png). I also tried add_outline=True which got me closer but is still not right, and still pretty hard to see. . ![showspatial_visium_add_outline](https://user-images.githubusercontent.com/975038/141201784-4eeb070c-9be2-4db7-85c2-274f34bec6d3.png). I tried adjusting the marker size but didn't get very far. do you have any guesses what might be wrong? Thanks. anndata 0.7.5+ds. scanpy 1.8.2. sinfo 0.3.1. PIL 8.3.2. anndata 0.7.5+ds. asciitree NA. beta_ufunc NA. binom_ufunc NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. fasteners NA. h5py 3.3.0. igraph 0.9.6. joblib 0.17.0. kiwisolver 1.3.2. leidenalg 0.8.8. llvmlite 0.35.0. matplotlib 3.3.4. monotonic NA. mpl_toolkits NA. natsort 7.1.0. nbinom_ufunc NA. numba 0.52.0. numcodecs 0.8.1+ds. numexpr 2.7.3. numpy 1.19.5. packaging 21.0. pandas 1.1.5. pkg_resources NA. pyexpat NA. pyparsing 2.4.7. pytoml NA. pytz 2021.3. scanpy 1.8.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. sitecustomize NA. six 1.16.0. sklearn 0.23.2. tables 3.6.1. texttable 1.6.3. zarr 2.10.2+ds. Python 3.9.8 (main, Nov 7 2021, 15:47:09) [GCC 11.2.0]. Linux-5.14.0-2-amd64-x86_64-with-glibc2.32. 4 logical CPU cores. Session information updated at 2021-11-10 22:03.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2048
https://github.com/scverse/scanpy/issues/2048:10,reliability,fail,failure,10,"Test case failure with test_visium_default not having any visible data points; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. (Well released version). - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, I was trying to build a Debian package for scanpy 1.8.2, and unsurprisingly ran into problems with the plot tests. Most of the problems were just slight plot layout differences, but the test_embedding_plots::test_visium_default test ends up generating a blank plot. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141199384-3696067f-c8ed-475d-b077-80bb2a0280a0.png). I can get something where the dots are visible by setting a color, but the color bar doesn't match the default. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141200671-6bbb5dd3-17ac-44ac-a9d1-28549e4c90a9.png). I also tried add_outline=True which got me closer but is still not right, and still pretty hard to see. . ![showspatial_visium_add_outline](https://user-images.githubusercontent.com/975038/141201784-4eeb070c-9be2-4db7-85c2-274f34bec6d3.png). I tried adjusting the marker size but didn't get very far. do you have any guesses what might be wrong? Thanks. anndata 0.7.5+ds. scanpy 1.8.2. sinfo 0.3.1. PIL 8.3.2. anndata 0.7.5+ds. asciitree NA. beta_ufunc NA. binom_ufunc NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. fasteners NA. h5py 3.3.0. igraph 0.9.6. joblib 0.17.0. kiwisolver 1.3.2. leidenalg 0.8.8. llvmlite 0.35.0. matplotlib 3.3.4. monotonic NA. mpl_toolkits NA. natsort 7.1.0. nbinom_ufunc NA. numba 0.52.0. numcodecs 0.8.1+ds. numexpr 2.7.3. numpy 1.19.5. packaging 21.0. pandas 1.1.5. pkg_resources NA. pyexpat NA. pyparsing 2.4.7. pytoml NA. pytz 2021.3. scanpy 1.8.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. sitecustomize NA. six 1.16.0. sklearn 0.23.2. tables 3.6.1. texttable 1.6.3. zarr 2.1",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2048
https://github.com/scverse/scanpy/issues/2048:479,reliability,sli,slight,479,"Test case failure with test_visium_default not having any visible data points; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. (Well released version). - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, I was trying to build a Debian package for scanpy 1.8.2, and unsurprisingly ran into problems with the plot tests. Most of the problems were just slight plot layout differences, but the test_embedding_plots::test_visium_default test ends up generating a blank plot. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141199384-3696067f-c8ed-475d-b077-80bb2a0280a0.png). I can get something where the dots are visible by setting a color, but the color bar doesn't match the default. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141200671-6bbb5dd3-17ac-44ac-a9d1-28549e4c90a9.png). I also tried add_outline=True which got me closer but is still not right, and still pretty hard to see. . ![showspatial_visium_add_outline](https://user-images.githubusercontent.com/975038/141201784-4eeb070c-9be2-4db7-85c2-274f34bec6d3.png). I tried adjusting the marker size but didn't get very far. do you have any guesses what might be wrong? Thanks. anndata 0.7.5+ds. scanpy 1.8.2. sinfo 0.3.1. PIL 8.3.2. anndata 0.7.5+ds. asciitree NA. beta_ufunc NA. binom_ufunc NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. fasteners NA. h5py 3.3.0. igraph 0.9.6. joblib 0.17.0. kiwisolver 1.3.2. leidenalg 0.8.8. llvmlite 0.35.0. matplotlib 3.3.4. monotonic NA. mpl_toolkits NA. natsort 7.1.0. nbinom_ufunc NA. numba 0.52.0. numcodecs 0.8.1+ds. numexpr 2.7.3. numpy 1.19.5. packaging 21.0. pandas 1.1.5. pkg_resources NA. pyexpat NA. pyparsing 2.4.7. pytoml NA. pytz 2021.3. scanpy 1.8.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. sitecustomize NA. six 1.16.0. sklearn 0.23.2. tables 3.6.1. texttable 1.6.3. zarr 2.1",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2048
https://github.com/scverse/scanpy/issues/2048:819,reliability,doe,doesn,819,"Test case failure with test_visium_default not having any visible data points; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. (Well released version). - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, I was trying to build a Debian package for scanpy 1.8.2, and unsurprisingly ran into problems with the plot tests. Most of the problems were just slight plot layout differences, but the test_embedding_plots::test_visium_default test ends up generating a blank plot. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141199384-3696067f-c8ed-475d-b077-80bb2a0280a0.png). I can get something where the dots are visible by setting a color, but the color bar doesn't match the default. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141200671-6bbb5dd3-17ac-44ac-a9d1-28549e4c90a9.png). I also tried add_outline=True which got me closer but is still not right, and still pretty hard to see. . ![showspatial_visium_add_outline](https://user-images.githubusercontent.com/975038/141201784-4eeb070c-9be2-4db7-85c2-274f34bec6d3.png). I tried adjusting the marker size but didn't get very far. do you have any guesses what might be wrong? Thanks. anndata 0.7.5+ds. scanpy 1.8.2. sinfo 0.3.1. PIL 8.3.2. anndata 0.7.5+ds. asciitree NA. beta_ufunc NA. binom_ufunc NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. fasteners NA. h5py 3.3.0. igraph 0.9.6. joblib 0.17.0. kiwisolver 1.3.2. leidenalg 0.8.8. llvmlite 0.35.0. matplotlib 3.3.4. monotonic NA. mpl_toolkits NA. natsort 7.1.0. nbinom_ufunc NA. numba 0.52.0. numcodecs 0.8.1+ds. numexpr 2.7.3. numpy 1.19.5. packaging 21.0. pandas 1.1.5. pkg_resources NA. pyexpat NA. pyparsing 2.4.7. pytoml NA. pytz 2021.3. scanpy 1.8.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. sitecustomize NA. six 1.16.0. sklearn 0.23.2. tables 3.6.1. texttable 1.6.3. zarr 2.1",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2048
https://github.com/scverse/scanpy/issues/2048:0,safety,Test,Test,0,"Test case failure with test_visium_default not having any visible data points; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. (Well released version). - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, I was trying to build a Debian package for scanpy 1.8.2, and unsurprisingly ran into problems with the plot tests. Most of the problems were just slight plot layout differences, but the test_embedding_plots::test_visium_default test ends up generating a blank plot. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141199384-3696067f-c8ed-475d-b077-80bb2a0280a0.png). I can get something where the dots are visible by setting a color, but the color bar doesn't match the default. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141200671-6bbb5dd3-17ac-44ac-a9d1-28549e4c90a9.png). I also tried add_outline=True which got me closer but is still not right, and still pretty hard to see. . ![showspatial_visium_add_outline](https://user-images.githubusercontent.com/975038/141201784-4eeb070c-9be2-4db7-85c2-274f34bec6d3.png). I tried adjusting the marker size but didn't get very far. do you have any guesses what might be wrong? Thanks. anndata 0.7.5+ds. scanpy 1.8.2. sinfo 0.3.1. PIL 8.3.2. anndata 0.7.5+ds. asciitree NA. beta_ufunc NA. binom_ufunc NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. fasteners NA. h5py 3.3.0. igraph 0.9.6. joblib 0.17.0. kiwisolver 1.3.2. leidenalg 0.8.8. llvmlite 0.35.0. matplotlib 3.3.4. monotonic NA. mpl_toolkits NA. natsort 7.1.0. nbinom_ufunc NA. numba 0.52.0. numcodecs 0.8.1+ds. numexpr 2.7.3. numpy 1.19.5. packaging 21.0. pandas 1.1.5. pkg_resources NA. pyexpat NA. pyparsing 2.4.7. pytoml NA. pytz 2021.3. scanpy 1.8.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. sitecustomize NA. six 1.16.0. sklearn 0.23.2. tables 3.6.1. texttable 1.6.3. zarr 2.1",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2048
https://github.com/scverse/scanpy/issues/2048:441,safety,test,tests,441,"Test case failure with test_visium_default not having any visible data points; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. (Well released version). - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, I was trying to build a Debian package for scanpy 1.8.2, and unsurprisingly ran into problems with the plot tests. Most of the problems were just slight plot layout differences, but the test_embedding_plots::test_visium_default test ends up generating a blank plot. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141199384-3696067f-c8ed-475d-b077-80bb2a0280a0.png). I can get something where the dots are visible by setting a color, but the color bar doesn't match the default. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141200671-6bbb5dd3-17ac-44ac-a9d1-28549e4c90a9.png). I also tried add_outline=True which got me closer but is still not right, and still pretty hard to see. . ![showspatial_visium_add_outline](https://user-images.githubusercontent.com/975038/141201784-4eeb070c-9be2-4db7-85c2-274f34bec6d3.png). I tried adjusting the marker size but didn't get very far. do you have any guesses what might be wrong? Thanks. anndata 0.7.5+ds. scanpy 1.8.2. sinfo 0.3.1. PIL 8.3.2. anndata 0.7.5+ds. asciitree NA. beta_ufunc NA. binom_ufunc NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. fasteners NA. h5py 3.3.0. igraph 0.9.6. joblib 0.17.0. kiwisolver 1.3.2. leidenalg 0.8.8. llvmlite 0.35.0. matplotlib 3.3.4. monotonic NA. mpl_toolkits NA. natsort 7.1.0. nbinom_ufunc NA. numba 0.52.0. numcodecs 0.8.1+ds. numexpr 2.7.3. numpy 1.19.5. packaging 21.0. pandas 1.1.5. pkg_resources NA. pyexpat NA. pyparsing 2.4.7. pytoml NA. pytz 2021.3. scanpy 1.8.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. sitecustomize NA. six 1.16.0. sklearn 0.23.2. tables 3.6.1. texttable 1.6.3. zarr 2.1",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2048
https://github.com/scverse/scanpy/issues/2048:561,safety,test,test,561,"Test case failure with test_visium_default not having any visible data points; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. (Well released version). - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, I was trying to build a Debian package for scanpy 1.8.2, and unsurprisingly ran into problems with the plot tests. Most of the problems were just slight plot layout differences, but the test_embedding_plots::test_visium_default test ends up generating a blank plot. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141199384-3696067f-c8ed-475d-b077-80bb2a0280a0.png). I can get something where the dots are visible by setting a color, but the color bar doesn't match the default. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141200671-6bbb5dd3-17ac-44ac-a9d1-28549e4c90a9.png). I also tried add_outline=True which got me closer but is still not right, and still pretty hard to see. . ![showspatial_visium_add_outline](https://user-images.githubusercontent.com/975038/141201784-4eeb070c-9be2-4db7-85c2-274f34bec6d3.png). I tried adjusting the marker size but didn't get very far. do you have any guesses what might be wrong? Thanks. anndata 0.7.5+ds. scanpy 1.8.2. sinfo 0.3.1. PIL 8.3.2. anndata 0.7.5+ds. asciitree NA. beta_ufunc NA. binom_ufunc NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. fasteners NA. h5py 3.3.0. igraph 0.9.6. joblib 0.17.0. kiwisolver 1.3.2. leidenalg 0.8.8. llvmlite 0.35.0. matplotlib 3.3.4. monotonic NA. mpl_toolkits NA. natsort 7.1.0. nbinom_ufunc NA. numba 0.52.0. numcodecs 0.8.1+ds. numexpr 2.7.3. numpy 1.19.5. packaging 21.0. pandas 1.1.5. pkg_resources NA. pyexpat NA. pyparsing 2.4.7. pytoml NA. pytz 2021.3. scanpy 1.8.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. sitecustomize NA. six 1.16.0. sklearn 0.23.2. tables 3.6.1. texttable 1.6.3. zarr 2.1",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2048
https://github.com/scverse/scanpy/issues/2048:2110,safety,log,logical,2110,"g exists on the latest version of scanpy. (Well released version). - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, I was trying to build a Debian package for scanpy 1.8.2, and unsurprisingly ran into problems with the plot tests. Most of the problems were just slight plot layout differences, but the test_embedding_plots::test_visium_default test ends up generating a blank plot. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141199384-3696067f-c8ed-475d-b077-80bb2a0280a0.png). I can get something where the dots are visible by setting a color, but the color bar doesn't match the default. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141200671-6bbb5dd3-17ac-44ac-a9d1-28549e4c90a9.png). I also tried add_outline=True which got me closer but is still not right, and still pretty hard to see. . ![showspatial_visium_add_outline](https://user-images.githubusercontent.com/975038/141201784-4eeb070c-9be2-4db7-85c2-274f34bec6d3.png). I tried adjusting the marker size but didn't get very far. do you have any guesses what might be wrong? Thanks. anndata 0.7.5+ds. scanpy 1.8.2. sinfo 0.3.1. PIL 8.3.2. anndata 0.7.5+ds. asciitree NA. beta_ufunc NA. binom_ufunc NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. fasteners NA. h5py 3.3.0. igraph 0.9.6. joblib 0.17.0. kiwisolver 1.3.2. leidenalg 0.8.8. llvmlite 0.35.0. matplotlib 3.3.4. monotonic NA. mpl_toolkits NA. natsort 7.1.0. nbinom_ufunc NA. numba 0.52.0. numcodecs 0.8.1+ds. numexpr 2.7.3. numpy 1.19.5. packaging 21.0. pandas 1.1.5. pkg_resources NA. pyexpat NA. pyparsing 2.4.7. pytoml NA. pytz 2021.3. scanpy 1.8.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. sitecustomize NA. six 1.16.0. sklearn 0.23.2. tables 3.6.1. texttable 1.6.3. zarr 2.10.2+ds. Python 3.9.8 (main, Nov 7 2021, 15:47:09) [GCC 11.2.0]. Linux-5.14.0-2-amd64-x86_64-with-glibc2.32. 4 logical CPU cores. Session information updated at 2021-11-10 22:03.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2048
https://github.com/scverse/scanpy/issues/2048:2149,safety,updat,updated,2149,"g exists on the latest version of scanpy. (Well released version). - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, I was trying to build a Debian package for scanpy 1.8.2, and unsurprisingly ran into problems with the plot tests. Most of the problems were just slight plot layout differences, but the test_embedding_plots::test_visium_default test ends up generating a blank plot. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141199384-3696067f-c8ed-475d-b077-80bb2a0280a0.png). I can get something where the dots are visible by setting a color, but the color bar doesn't match the default. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141200671-6bbb5dd3-17ac-44ac-a9d1-28549e4c90a9.png). I also tried add_outline=True which got me closer but is still not right, and still pretty hard to see. . ![showspatial_visium_add_outline](https://user-images.githubusercontent.com/975038/141201784-4eeb070c-9be2-4db7-85c2-274f34bec6d3.png). I tried adjusting the marker size but didn't get very far. do you have any guesses what might be wrong? Thanks. anndata 0.7.5+ds. scanpy 1.8.2. sinfo 0.3.1. PIL 8.3.2. anndata 0.7.5+ds. asciitree NA. beta_ufunc NA. binom_ufunc NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. fasteners NA. h5py 3.3.0. igraph 0.9.6. joblib 0.17.0. kiwisolver 1.3.2. leidenalg 0.8.8. llvmlite 0.35.0. matplotlib 3.3.4. monotonic NA. mpl_toolkits NA. natsort 7.1.0. nbinom_ufunc NA. numba 0.52.0. numcodecs 0.8.1+ds. numexpr 2.7.3. numpy 1.19.5. packaging 21.0. pandas 1.1.5. pkg_resources NA. pyexpat NA. pyparsing 2.4.7. pytoml NA. pytz 2021.3. scanpy 1.8.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. sitecustomize NA. six 1.16.0. sklearn 0.23.2. tables 3.6.1. texttable 1.6.3. zarr 2.10.2+ds. Python 3.9.8 (main, Nov 7 2021, 15:47:09) [GCC 11.2.0]. Linux-5.14.0-2-amd64-x86_64-with-glibc2.32. 4 logical CPU cores. Session information updated at 2021-11-10 22:03.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2048
https://github.com/scverse/scanpy/issues/2048:2110,security,log,logical,2110,"g exists on the latest version of scanpy. (Well released version). - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, I was trying to build a Debian package for scanpy 1.8.2, and unsurprisingly ran into problems with the plot tests. Most of the problems were just slight plot layout differences, but the test_embedding_plots::test_visium_default test ends up generating a blank plot. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141199384-3696067f-c8ed-475d-b077-80bb2a0280a0.png). I can get something where the dots are visible by setting a color, but the color bar doesn't match the default. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141200671-6bbb5dd3-17ac-44ac-a9d1-28549e4c90a9.png). I also tried add_outline=True which got me closer but is still not right, and still pretty hard to see. . ![showspatial_visium_add_outline](https://user-images.githubusercontent.com/975038/141201784-4eeb070c-9be2-4db7-85c2-274f34bec6d3.png). I tried adjusting the marker size but didn't get very far. do you have any guesses what might be wrong? Thanks. anndata 0.7.5+ds. scanpy 1.8.2. sinfo 0.3.1. PIL 8.3.2. anndata 0.7.5+ds. asciitree NA. beta_ufunc NA. binom_ufunc NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. fasteners NA. h5py 3.3.0. igraph 0.9.6. joblib 0.17.0. kiwisolver 1.3.2. leidenalg 0.8.8. llvmlite 0.35.0. matplotlib 3.3.4. monotonic NA. mpl_toolkits NA. natsort 7.1.0. nbinom_ufunc NA. numba 0.52.0. numcodecs 0.8.1+ds. numexpr 2.7.3. numpy 1.19.5. packaging 21.0. pandas 1.1.5. pkg_resources NA. pyexpat NA. pyparsing 2.4.7. pytoml NA. pytz 2021.3. scanpy 1.8.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. sitecustomize NA. six 1.16.0. sklearn 0.23.2. tables 3.6.1. texttable 1.6.3. zarr 2.10.2+ds. Python 3.9.8 (main, Nov 7 2021, 15:47:09) [GCC 11.2.0]. Linux-5.14.0-2-amd64-x86_64-with-glibc2.32. 4 logical CPU cores. Session information updated at 2021-11-10 22:03.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2048
https://github.com/scverse/scanpy/issues/2048:2129,security,Session,Session,2129,"g exists on the latest version of scanpy. (Well released version). - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, I was trying to build a Debian package for scanpy 1.8.2, and unsurprisingly ran into problems with the plot tests. Most of the problems were just slight plot layout differences, but the test_embedding_plots::test_visium_default test ends up generating a blank plot. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141199384-3696067f-c8ed-475d-b077-80bb2a0280a0.png). I can get something where the dots are visible by setting a color, but the color bar doesn't match the default. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141200671-6bbb5dd3-17ac-44ac-a9d1-28549e4c90a9.png). I also tried add_outline=True which got me closer but is still not right, and still pretty hard to see. . ![showspatial_visium_add_outline](https://user-images.githubusercontent.com/975038/141201784-4eeb070c-9be2-4db7-85c2-274f34bec6d3.png). I tried adjusting the marker size but didn't get very far. do you have any guesses what might be wrong? Thanks. anndata 0.7.5+ds. scanpy 1.8.2. sinfo 0.3.1. PIL 8.3.2. anndata 0.7.5+ds. asciitree NA. beta_ufunc NA. binom_ufunc NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. fasteners NA. h5py 3.3.0. igraph 0.9.6. joblib 0.17.0. kiwisolver 1.3.2. leidenalg 0.8.8. llvmlite 0.35.0. matplotlib 3.3.4. monotonic NA. mpl_toolkits NA. natsort 7.1.0. nbinom_ufunc NA. numba 0.52.0. numcodecs 0.8.1+ds. numexpr 2.7.3. numpy 1.19.5. packaging 21.0. pandas 1.1.5. pkg_resources NA. pyexpat NA. pyparsing 2.4.7. pytoml NA. pytz 2021.3. scanpy 1.8.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. sitecustomize NA. six 1.16.0. sklearn 0.23.2. tables 3.6.1. texttable 1.6.3. zarr 2.10.2+ds. Python 3.9.8 (main, Nov 7 2021, 15:47:09) [GCC 11.2.0]. Linux-5.14.0-2-amd64-x86_64-with-glibc2.32. 4 logical CPU cores. Session information updated at 2021-11-10 22:03.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2048
https://github.com/scverse/scanpy/issues/2048:2149,security,updat,updated,2149,"g exists on the latest version of scanpy. (Well released version). - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, I was trying to build a Debian package for scanpy 1.8.2, and unsurprisingly ran into problems with the plot tests. Most of the problems were just slight plot layout differences, but the test_embedding_plots::test_visium_default test ends up generating a blank plot. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141199384-3696067f-c8ed-475d-b077-80bb2a0280a0.png). I can get something where the dots are visible by setting a color, but the color bar doesn't match the default. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141200671-6bbb5dd3-17ac-44ac-a9d1-28549e4c90a9.png). I also tried add_outline=True which got me closer but is still not right, and still pretty hard to see. . ![showspatial_visium_add_outline](https://user-images.githubusercontent.com/975038/141201784-4eeb070c-9be2-4db7-85c2-274f34bec6d3.png). I tried adjusting the marker size but didn't get very far. do you have any guesses what might be wrong? Thanks. anndata 0.7.5+ds. scanpy 1.8.2. sinfo 0.3.1. PIL 8.3.2. anndata 0.7.5+ds. asciitree NA. beta_ufunc NA. binom_ufunc NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. fasteners NA. h5py 3.3.0. igraph 0.9.6. joblib 0.17.0. kiwisolver 1.3.2. leidenalg 0.8.8. llvmlite 0.35.0. matplotlib 3.3.4. monotonic NA. mpl_toolkits NA. natsort 7.1.0. nbinom_ufunc NA. numba 0.52.0. numcodecs 0.8.1+ds. numexpr 2.7.3. numpy 1.19.5. packaging 21.0. pandas 1.1.5. pkg_resources NA. pyexpat NA. pyparsing 2.4.7. pytoml NA. pytz 2021.3. scanpy 1.8.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. sitecustomize NA. six 1.16.0. sklearn 0.23.2. tables 3.6.1. texttable 1.6.3. zarr 2.10.2+ds. Python 3.9.8 (main, Nov 7 2021, 15:47:09) [GCC 11.2.0]. Linux-5.14.0-2-amd64-x86_64-with-glibc2.32. 4 logical CPU cores. Session information updated at 2021-11-10 22:03.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2048
https://github.com/scverse/scanpy/issues/2048:0,testability,Test,Test,0,"Test case failure with test_visium_default not having any visible data points; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. (Well released version). - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, I was trying to build a Debian package for scanpy 1.8.2, and unsurprisingly ran into problems with the plot tests. Most of the problems were just slight plot layout differences, but the test_embedding_plots::test_visium_default test ends up generating a blank plot. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141199384-3696067f-c8ed-475d-b077-80bb2a0280a0.png). I can get something where the dots are visible by setting a color, but the color bar doesn't match the default. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141200671-6bbb5dd3-17ac-44ac-a9d1-28549e4c90a9.png). I also tried add_outline=True which got me closer but is still not right, and still pretty hard to see. . ![showspatial_visium_add_outline](https://user-images.githubusercontent.com/975038/141201784-4eeb070c-9be2-4db7-85c2-274f34bec6d3.png). I tried adjusting the marker size but didn't get very far. do you have any guesses what might be wrong? Thanks. anndata 0.7.5+ds. scanpy 1.8.2. sinfo 0.3.1. PIL 8.3.2. anndata 0.7.5+ds. asciitree NA. beta_ufunc NA. binom_ufunc NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. fasteners NA. h5py 3.3.0. igraph 0.9.6. joblib 0.17.0. kiwisolver 1.3.2. leidenalg 0.8.8. llvmlite 0.35.0. matplotlib 3.3.4. monotonic NA. mpl_toolkits NA. natsort 7.1.0. nbinom_ufunc NA. numba 0.52.0. numcodecs 0.8.1+ds. numexpr 2.7.3. numpy 1.19.5. packaging 21.0. pandas 1.1.5. pkg_resources NA. pyexpat NA. pyparsing 2.4.7. pytoml NA. pytz 2021.3. scanpy 1.8.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. sitecustomize NA. six 1.16.0. sklearn 0.23.2. tables 3.6.1. texttable 1.6.3. zarr 2.1",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2048
https://github.com/scverse/scanpy/issues/2048:441,testability,test,tests,441,"Test case failure with test_visium_default not having any visible data points; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. (Well released version). - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, I was trying to build a Debian package for scanpy 1.8.2, and unsurprisingly ran into problems with the plot tests. Most of the problems were just slight plot layout differences, but the test_embedding_plots::test_visium_default test ends up generating a blank plot. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141199384-3696067f-c8ed-475d-b077-80bb2a0280a0.png). I can get something where the dots are visible by setting a color, but the color bar doesn't match the default. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141200671-6bbb5dd3-17ac-44ac-a9d1-28549e4c90a9.png). I also tried add_outline=True which got me closer but is still not right, and still pretty hard to see. . ![showspatial_visium_add_outline](https://user-images.githubusercontent.com/975038/141201784-4eeb070c-9be2-4db7-85c2-274f34bec6d3.png). I tried adjusting the marker size but didn't get very far. do you have any guesses what might be wrong? Thanks. anndata 0.7.5+ds. scanpy 1.8.2. sinfo 0.3.1. PIL 8.3.2. anndata 0.7.5+ds. asciitree NA. beta_ufunc NA. binom_ufunc NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. fasteners NA. h5py 3.3.0. igraph 0.9.6. joblib 0.17.0. kiwisolver 1.3.2. leidenalg 0.8.8. llvmlite 0.35.0. matplotlib 3.3.4. monotonic NA. mpl_toolkits NA. natsort 7.1.0. nbinom_ufunc NA. numba 0.52.0. numcodecs 0.8.1+ds. numexpr 2.7.3. numpy 1.19.5. packaging 21.0. pandas 1.1.5. pkg_resources NA. pyexpat NA. pyparsing 2.4.7. pytoml NA. pytz 2021.3. scanpy 1.8.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. sitecustomize NA. six 1.16.0. sklearn 0.23.2. tables 3.6.1. texttable 1.6.3. zarr 2.1",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2048
https://github.com/scverse/scanpy/issues/2048:561,testability,test,test,561,"Test case failure with test_visium_default not having any visible data points; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. (Well released version). - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, I was trying to build a Debian package for scanpy 1.8.2, and unsurprisingly ran into problems with the plot tests. Most of the problems were just slight plot layout differences, but the test_embedding_plots::test_visium_default test ends up generating a blank plot. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141199384-3696067f-c8ed-475d-b077-80bb2a0280a0.png). I can get something where the dots are visible by setting a color, but the color bar doesn't match the default. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141200671-6bbb5dd3-17ac-44ac-a9d1-28549e4c90a9.png). I also tried add_outline=True which got me closer but is still not right, and still pretty hard to see. . ![showspatial_visium_add_outline](https://user-images.githubusercontent.com/975038/141201784-4eeb070c-9be2-4db7-85c2-274f34bec6d3.png). I tried adjusting the marker size but didn't get very far. do you have any guesses what might be wrong? Thanks. anndata 0.7.5+ds. scanpy 1.8.2. sinfo 0.3.1. PIL 8.3.2. anndata 0.7.5+ds. asciitree NA. beta_ufunc NA. binom_ufunc NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. fasteners NA. h5py 3.3.0. igraph 0.9.6. joblib 0.17.0. kiwisolver 1.3.2. leidenalg 0.8.8. llvmlite 0.35.0. matplotlib 3.3.4. monotonic NA. mpl_toolkits NA. natsort 7.1.0. nbinom_ufunc NA. numba 0.52.0. numcodecs 0.8.1+ds. numexpr 2.7.3. numpy 1.19.5. packaging 21.0. pandas 1.1.5. pkg_resources NA. pyexpat NA. pyparsing 2.4.7. pytoml NA. pytz 2021.3. scanpy 1.8.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. sitecustomize NA. six 1.16.0. sklearn 0.23.2. tables 3.6.1. texttable 1.6.3. zarr 2.1",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2048
https://github.com/scverse/scanpy/issues/2048:2110,testability,log,logical,2110,"g exists on the latest version of scanpy. (Well released version). - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, I was trying to build a Debian package for scanpy 1.8.2, and unsurprisingly ran into problems with the plot tests. Most of the problems were just slight plot layout differences, but the test_embedding_plots::test_visium_default test ends up generating a blank plot. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141199384-3696067f-c8ed-475d-b077-80bb2a0280a0.png). I can get something where the dots are visible by setting a color, but the color bar doesn't match the default. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141200671-6bbb5dd3-17ac-44ac-a9d1-28549e4c90a9.png). I also tried add_outline=True which got me closer but is still not right, and still pretty hard to see. . ![showspatial_visium_add_outline](https://user-images.githubusercontent.com/975038/141201784-4eeb070c-9be2-4db7-85c2-274f34bec6d3.png). I tried adjusting the marker size but didn't get very far. do you have any guesses what might be wrong? Thanks. anndata 0.7.5+ds. scanpy 1.8.2. sinfo 0.3.1. PIL 8.3.2. anndata 0.7.5+ds. asciitree NA. beta_ufunc NA. binom_ufunc NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. fasteners NA. h5py 3.3.0. igraph 0.9.6. joblib 0.17.0. kiwisolver 1.3.2. leidenalg 0.8.8. llvmlite 0.35.0. matplotlib 3.3.4. monotonic NA. mpl_toolkits NA. natsort 7.1.0. nbinom_ufunc NA. numba 0.52.0. numcodecs 0.8.1+ds. numexpr 2.7.3. numpy 1.19.5. packaging 21.0. pandas 1.1.5. pkg_resources NA. pyexpat NA. pyparsing 2.4.7. pytoml NA. pytz 2021.3. scanpy 1.8.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. sitecustomize NA. six 1.16.0. sklearn 0.23.2. tables 3.6.1. texttable 1.6.3. zarr 2.10.2+ds. Python 3.9.8 (main, Nov 7 2021, 15:47:09) [GCC 11.2.0]. Linux-5.14.0-2-amd64-x86_64-with-glibc2.32. 4 logical CPU cores. Session information updated at 2021-11-10 22:03.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2048
https://github.com/scverse/scanpy/issues/2048:160,usability,confirm,confirmed,160,"Test case failure with test_visium_default not having any visible data points; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. (Well released version). - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, I was trying to build a Debian package for scanpy 1.8.2, and unsurprisingly ran into problems with the plot tests. Most of the problems were just slight plot layout differences, but the test_embedding_plots::test_visium_default test ends up generating a blank plot. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141199384-3696067f-c8ed-475d-b077-80bb2a0280a0.png). I can get something where the dots are visible by setting a color, but the color bar doesn't match the default. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141200671-6bbb5dd3-17ac-44ac-a9d1-28549e4c90a9.png). I also tried add_outline=True which got me closer but is still not right, and still pretty hard to see. . ![showspatial_visium_add_outline](https://user-images.githubusercontent.com/975038/141201784-4eeb070c-9be2-4db7-85c2-274f34bec6d3.png). I tried adjusting the marker size but didn't get very far. do you have any guesses what might be wrong? Thanks. anndata 0.7.5+ds. scanpy 1.8.2. sinfo 0.3.1. PIL 8.3.2. anndata 0.7.5+ds. asciitree NA. beta_ufunc NA. binom_ufunc NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. fasteners NA. h5py 3.3.0. igraph 0.9.6. joblib 0.17.0. kiwisolver 1.3.2. leidenalg 0.8.8. llvmlite 0.35.0. matplotlib 3.3.4. monotonic NA. mpl_toolkits NA. natsort 7.1.0. nbinom_ufunc NA. numba 0.52.0. numcodecs 0.8.1+ds. numexpr 2.7.3. numpy 1.19.5. packaging 21.0. pandas 1.1.5. pkg_resources NA. pyexpat NA. pyparsing 2.4.7. pytoml NA. pytz 2021.3. scanpy 1.8.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. sitecustomize NA. six 1.16.0. sklearn 0.23.2. tables 3.6.1. texttable 1.6.3. zarr 2.1",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2048
https://github.com/scverse/scanpy/issues/2048:268,usability,confirm,confirmed,268,"Test case failure with test_visium_default not having any visible data points; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. (Well released version). - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, I was trying to build a Debian package for scanpy 1.8.2, and unsurprisingly ran into problems with the plot tests. Most of the problems were just slight plot layout differences, but the test_embedding_plots::test_visium_default test ends up generating a blank plot. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141199384-3696067f-c8ed-475d-b077-80bb2a0280a0.png). I can get something where the dots are visible by setting a color, but the color bar doesn't match the default. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141200671-6bbb5dd3-17ac-44ac-a9d1-28549e4c90a9.png). I also tried add_outline=True which got me closer but is still not right, and still pretty hard to see. . ![showspatial_visium_add_outline](https://user-images.githubusercontent.com/975038/141201784-4eeb070c-9be2-4db7-85c2-274f34bec6d3.png). I tried adjusting the marker size but didn't get very far. do you have any guesses what might be wrong? Thanks. anndata 0.7.5+ds. scanpy 1.8.2. sinfo 0.3.1. PIL 8.3.2. anndata 0.7.5+ds. asciitree NA. beta_ufunc NA. binom_ufunc NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. fasteners NA. h5py 3.3.0. igraph 0.9.6. joblib 0.17.0. kiwisolver 1.3.2. leidenalg 0.8.8. llvmlite 0.35.0. matplotlib 3.3.4. monotonic NA. mpl_toolkits NA. natsort 7.1.0. nbinom_ufunc NA. numba 0.52.0. numcodecs 0.8.1+ds. numexpr 2.7.3. numpy 1.19.5. packaging 21.0. pandas 1.1.5. pkg_resources NA. pyexpat NA. pyparsing 2.4.7. pytoml NA. pytz 2021.3. scanpy 1.8.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. sitecustomize NA. six 1.16.0. sklearn 0.23.2. tables 3.6.1. texttable 1.6.3. zarr 2.1",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2048
https://github.com/scverse/scanpy/issues/2048:640,usability,user,user-images,640,"Test case failure with test_visium_default not having any visible data points; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. (Well released version). - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, I was trying to build a Debian package for scanpy 1.8.2, and unsurprisingly ran into problems with the plot tests. Most of the problems were just slight plot layout differences, but the test_embedding_plots::test_visium_default test ends up generating a blank plot. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141199384-3696067f-c8ed-475d-b077-80bb2a0280a0.png). I can get something where the dots are visible by setting a color, but the color bar doesn't match the default. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141200671-6bbb5dd3-17ac-44ac-a9d1-28549e4c90a9.png). I also tried add_outline=True which got me closer but is still not right, and still pretty hard to see. . ![showspatial_visium_add_outline](https://user-images.githubusercontent.com/975038/141201784-4eeb070c-9be2-4db7-85c2-274f34bec6d3.png). I tried adjusting the marker size but didn't get very far. do you have any guesses what might be wrong? Thanks. anndata 0.7.5+ds. scanpy 1.8.2. sinfo 0.3.1. PIL 8.3.2. anndata 0.7.5+ds. asciitree NA. beta_ufunc NA. binom_ufunc NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. fasteners NA. h5py 3.3.0. igraph 0.9.6. joblib 0.17.0. kiwisolver 1.3.2. leidenalg 0.8.8. llvmlite 0.35.0. matplotlib 3.3.4. monotonic NA. mpl_toolkits NA. natsort 7.1.0. nbinom_ufunc NA. numba 0.52.0. numcodecs 0.8.1+ds. numexpr 2.7.3. numpy 1.19.5. packaging 21.0. pandas 1.1.5. pkg_resources NA. pyexpat NA. pyparsing 2.4.7. pytoml NA. pytz 2021.3. scanpy 1.8.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. sitecustomize NA. six 1.16.0. sklearn 0.23.2. tables 3.6.1. texttable 1.6.3. zarr 2.1",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2048
https://github.com/scverse/scanpy/issues/2048:887,usability,user,user-images,887,"Test case failure with test_visium_default not having any visible data points; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. (Well released version). - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, I was trying to build a Debian package for scanpy 1.8.2, and unsurprisingly ran into problems with the plot tests. Most of the problems were just slight plot layout differences, but the test_embedding_plots::test_visium_default test ends up generating a blank plot. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141199384-3696067f-c8ed-475d-b077-80bb2a0280a0.png). I can get something where the dots are visible by setting a color, but the color bar doesn't match the default. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141200671-6bbb5dd3-17ac-44ac-a9d1-28549e4c90a9.png). I also tried add_outline=True which got me closer but is still not right, and still pretty hard to see. . ![showspatial_visium_add_outline](https://user-images.githubusercontent.com/975038/141201784-4eeb070c-9be2-4db7-85c2-274f34bec6d3.png). I tried adjusting the marker size but didn't get very far. do you have any guesses what might be wrong? Thanks. anndata 0.7.5+ds. scanpy 1.8.2. sinfo 0.3.1. PIL 8.3.2. anndata 0.7.5+ds. asciitree NA. beta_ufunc NA. binom_ufunc NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. fasteners NA. h5py 3.3.0. igraph 0.9.6. joblib 0.17.0. kiwisolver 1.3.2. leidenalg 0.8.8. llvmlite 0.35.0. matplotlib 3.3.4. monotonic NA. mpl_toolkits NA. natsort 7.1.0. nbinom_ufunc NA. numba 0.52.0. numcodecs 0.8.1+ds. numexpr 2.7.3. numpy 1.19.5. packaging 21.0. pandas 1.1.5. pkg_resources NA. pyexpat NA. pyparsing 2.4.7. pytoml NA. pytz 2021.3. scanpy 1.8.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. sitecustomize NA. six 1.16.0. sklearn 0.23.2. tables 3.6.1. texttable 1.6.3. zarr 2.1",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2048
https://github.com/scverse/scanpy/issues/2048:1024,usability,close,closer,1024,"_visium_default not having any visible data points; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. (Well released version). - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, I was trying to build a Debian package for scanpy 1.8.2, and unsurprisingly ran into problems with the plot tests. Most of the problems were just slight plot layout differences, but the test_embedding_plots::test_visium_default test ends up generating a blank plot. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141199384-3696067f-c8ed-475d-b077-80bb2a0280a0.png). I can get something where the dots are visible by setting a color, but the color bar doesn't match the default. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141200671-6bbb5dd3-17ac-44ac-a9d1-28549e4c90a9.png). I also tried add_outline=True which got me closer but is still not right, and still pretty hard to see. . ![showspatial_visium_add_outline](https://user-images.githubusercontent.com/975038/141201784-4eeb070c-9be2-4db7-85c2-274f34bec6d3.png). I tried adjusting the marker size but didn't get very far. do you have any guesses what might be wrong? Thanks. anndata 0.7.5+ds. scanpy 1.8.2. sinfo 0.3.1. PIL 8.3.2. anndata 0.7.5+ds. asciitree NA. beta_ufunc NA. binom_ufunc NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. fasteners NA. h5py 3.3.0. igraph 0.9.6. joblib 0.17.0. kiwisolver 1.3.2. leidenalg 0.8.8. llvmlite 0.35.0. matplotlib 3.3.4. monotonic NA. mpl_toolkits NA. natsort 7.1.0. nbinom_ufunc NA. numba 0.52.0. numcodecs 0.8.1+ds. numexpr 2.7.3. numpy 1.19.5. packaging 21.0. pandas 1.1.5. pkg_resources NA. pyexpat NA. pyparsing 2.4.7. pytoml NA. pytz 2021.3. scanpy 1.8.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. sitecustomize NA. six 1.16.0. sklearn 0.23.2. tables 3.6.1. texttable 1.6.3. zarr 2.10.2+ds. Python 3.9.8 (main,",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2048
https://github.com/scverse/scanpy/issues/2048:1129,usability,user,user-images,1129,"n reported. - [X] I have confirmed this bug exists on the latest version of scanpy. (Well released version). - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, I was trying to build a Debian package for scanpy 1.8.2, and unsurprisingly ran into problems with the plot tests. Most of the problems were just slight plot layout differences, but the test_embedding_plots::test_visium_default test ends up generating a blank plot. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141199384-3696067f-c8ed-475d-b077-80bb2a0280a0.png). I can get something where the dots are visible by setting a color, but the color bar doesn't match the default. ![master_spatial_visium_default](https://user-images.githubusercontent.com/975038/141200671-6bbb5dd3-17ac-44ac-a9d1-28549e4c90a9.png). I also tried add_outline=True which got me closer but is still not right, and still pretty hard to see. . ![showspatial_visium_add_outline](https://user-images.githubusercontent.com/975038/141201784-4eeb070c-9be2-4db7-85c2-274f34bec6d3.png). I tried adjusting the marker size but didn't get very far. do you have any guesses what might be wrong? Thanks. anndata 0.7.5+ds. scanpy 1.8.2. sinfo 0.3.1. PIL 8.3.2. anndata 0.7.5+ds. asciitree NA. beta_ufunc NA. binom_ufunc NA. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. fasteners NA. h5py 3.3.0. igraph 0.9.6. joblib 0.17.0. kiwisolver 1.3.2. leidenalg 0.8.8. llvmlite 0.35.0. matplotlib 3.3.4. monotonic NA. mpl_toolkits NA. natsort 7.1.0. nbinom_ufunc NA. numba 0.52.0. numcodecs 0.8.1+ds. numexpr 2.7.3. numpy 1.19.5. packaging 21.0. pandas 1.1.5. pkg_resources NA. pyexpat NA. pyparsing 2.4.7. pytoml NA. pytz 2021.3. scanpy 1.8.2. scipy 1.7.1. setuptools_scm NA. sinfo 0.3.1. sitecustomize NA. six 1.16.0. sklearn 0.23.2. tables 3.6.1. texttable 1.6.3. zarr 2.10.2+ds. Python 3.9.8 (main, Nov 7 2021, 15:47:09) [GCC 11.2.0]. Linux-5.14.0-2-amd64-x86_64-with-glibc2.32. 4 logical CPU cores. Sessio",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2048
https://github.com/scverse/scanpy/pull/2049:47,modifiability,variab,variables,47,"Backport PR #2027 on branch 1.8.x (Fix finding variables with sc.pl.scatter(..., use_raw=True)); Backport PR #2027: Fix finding variables with sc.pl.scatter(..., use_raw=True)",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2049
https://github.com/scverse/scanpy/pull/2049:128,modifiability,variab,variables,128,"Backport PR #2027 on branch 1.8.x (Fix finding variables with sc.pl.scatter(..., use_raw=True)); Backport PR #2027: Fix finding variables with sc.pl.scatter(..., use_raw=True)",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2049
https://github.com/scverse/scanpy/issues/2050:128,modifiability,paramet,parameters,128,"dendogram by genes in scanpy.pl.dotplot(); <!-- What kind of feature would you like to request? -->. - [X ] Additional function parameters . ... Hi, . I would like to be able to group the genes by expression pattern in the dotplot. I see there is the `dendogram` parameter but it only groups the category given in `groupby`, would it be possible to also group what is passed in `var_names`? That would be very helpful. Thanks,. Llucia",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2050
https://github.com/scverse/scanpy/issues/2050:263,modifiability,paramet,parameter,263,"dendogram by genes in scanpy.pl.dotplot(); <!-- What kind of feature would you like to request? -->. - [X ] Additional function parameters . ... Hi, . I would like to be able to group the genes by expression pattern in the dotplot. I see there is the `dendogram` parameter but it only groups the category given in `groupby`, would it be possible to also group what is passed in `var_names`? That would be very helpful. Thanks,. Llucia",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2050
https://github.com/scverse/scanpy/issues/2050:410,usability,help,helpful,410,"dendogram by genes in scanpy.pl.dotplot(); <!-- What kind of feature would you like to request? -->. - [X ] Additional function parameters . ... Hi, . I would like to be able to group the genes by expression pattern in the dotplot. I see there is the `dendogram` parameter but it only groups the category given in `groupby`, would it be possible to also group what is passed in `var_names`? That would be very helpful. Thanks,. Llucia",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2050
https://github.com/scverse/scanpy/issues/2052:16,availability,down,downregulated,16,"How to show the downregulated marker genes by sc.pl.rank_genes_groups?; <!-- What kind of feature would you like to request? -->. - [ ] Additional function parameters / changed functionality / changed defaults? - [ ] New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? - [ ] New plotting function: A kind of plot you would like to seein `sc.pl`? - [ ] External tools: Do you know an existing package that should go into `sc.external.*`? - [✔] Other? <!-- Please describe your wishes below: -->. Hello Scanpy,. I'm wondering whether it is possible to show the downregulated marker genes by sc.pl.rank_genes_groups() or other functions, so that we can export the gene list for further GSEA analysis? I know sc.pl.rank_genes_groups_dotplot can show the downregulated genes by change n_genes to negative numbers, but it didn't work in sc.pl.rank_genes_groups(). Thanks! Best,. YJ.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2052
https://github.com/scverse/scanpy/issues/2052:600,availability,down,downregulated,600,"How to show the downregulated marker genes by sc.pl.rank_genes_groups?; <!-- What kind of feature would you like to request? -->. - [ ] Additional function parameters / changed functionality / changed defaults? - [ ] New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? - [ ] New plotting function: A kind of plot you would like to seein `sc.pl`? - [ ] External tools: Do you know an existing package that should go into `sc.external.*`? - [✔] Other? <!-- Please describe your wishes below: -->. Hello Scanpy,. I'm wondering whether it is possible to show the downregulated marker genes by sc.pl.rank_genes_groups() or other functions, so that we can export the gene list for further GSEA analysis? I know sc.pl.rank_genes_groups_dotplot can show the downregulated genes by change n_genes to negative numbers, but it didn't work in sc.pl.rank_genes_groups(). Thanks! Best,. YJ.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2052
https://github.com/scverse/scanpy/issues/2052:791,availability,down,downregulated,791,"How to show the downregulated marker genes by sc.pl.rank_genes_groups?; <!-- What kind of feature would you like to request? -->. - [ ] Additional function parameters / changed functionality / changed defaults? - [ ] New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? - [ ] New plotting function: A kind of plot you would like to seein `sc.pl`? - [ ] External tools: Do you know an existing package that should go into `sc.external.*`? - [✔] Other? <!-- Please describe your wishes below: -->. Hello Scanpy,. I'm wondering whether it is possible to show the downregulated marker genes by sc.pl.rank_genes_groups() or other functions, so that we can export the gene list for further GSEA analysis? I know sc.pl.rank_genes_groups_dotplot can show the downregulated genes by change n_genes to negative numbers, but it didn't work in sc.pl.rank_genes_groups(). Thanks! Best,. YJ.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2052
https://github.com/scverse/scanpy/issues/2052:156,modifiability,paramet,parameters,156,"How to show the downregulated marker genes by sc.pl.rank_genes_groups?; <!-- What kind of feature would you like to request? -->. - [ ] Additional function parameters / changed functionality / changed defaults? - [ ] New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? - [ ] New plotting function: A kind of plot you would like to seein `sc.pl`? - [ ] External tools: Do you know an existing package that should go into `sc.external.*`? - [✔] Other? <!-- Please describe your wishes below: -->. Hello Scanpy,. I'm wondering whether it is possible to show the downregulated marker genes by sc.pl.rank_genes_groups() or other functions, so that we can export the gene list for further GSEA analysis? I know sc.pl.rank_genes_groups_dotplot can show the downregulated genes by change n_genes to negative numbers, but it didn't work in sc.pl.rank_genes_groups(). Thanks! Best,. YJ.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2052
https://github.com/scverse/scanpy/issues/2052:433,modifiability,pac,package,433,"How to show the downregulated marker genes by sc.pl.rank_genes_groups?; <!-- What kind of feature would you like to request? -->. - [ ] Additional function parameters / changed functionality / changed defaults? - [ ] New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? - [ ] New plotting function: A kind of plot you would like to seein `sc.pl`? - [ ] External tools: Do you know an existing package that should go into `sc.external.*`? - [✔] Other? <!-- Please describe your wishes below: -->. Hello Scanpy,. I'm wondering whether it is possible to show the downregulated marker genes by sc.pl.rank_genes_groups() or other functions, so that we can export the gene list for further GSEA analysis? I know sc.pl.rank_genes_groups_dotplot can show the downregulated genes by change n_genes to negative numbers, but it didn't work in sc.pl.rank_genes_groups(). Thanks! Best,. YJ.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2052
https://github.com/scverse/scanpy/issues/2052:238,testability,simpl,simple,238,"How to show the downregulated marker genes by sc.pl.rank_genes_groups?; <!-- What kind of feature would you like to request? -->. - [ ] Additional function parameters / changed functionality / changed defaults? - [ ] New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? - [ ] New plotting function: A kind of plot you would like to seein `sc.pl`? - [ ] External tools: Do you know an existing package that should go into `sc.external.*`? - [✔] Other? <!-- Please describe your wishes below: -->. Hello Scanpy,. I'm wondering whether it is possible to show the downregulated marker genes by sc.pl.rank_genes_groups() or other functions, so that we can export the gene list for further GSEA analysis? I know sc.pl.rank_genes_groups_dotplot can show the downregulated genes by change n_genes to negative numbers, but it didn't work in sc.pl.rank_genes_groups(). Thanks! Best,. YJ.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2052
https://github.com/scverse/scanpy/issues/2052:230,usability,tool,tool,230,"How to show the downregulated marker genes by sc.pl.rank_genes_groups?; <!-- What kind of feature would you like to request? -->. - [ ] Additional function parameters / changed functionality / changed defaults? - [ ] New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? - [ ] New plotting function: A kind of plot you would like to seein `sc.pl`? - [ ] External tools: Do you know an existing package that should go into `sc.external.*`? - [✔] Other? <!-- Please describe your wishes below: -->. Hello Scanpy,. I'm wondering whether it is possible to show the downregulated marker genes by sc.pl.rank_genes_groups() or other functions, so that we can export the gene list for further GSEA analysis? I know sc.pl.rank_genes_groups_dotplot can show the downregulated genes by change n_genes to negative numbers, but it didn't work in sc.pl.rank_genes_groups(). Thanks! Best,. YJ.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2052
https://github.com/scverse/scanpy/issues/2052:238,usability,simpl,simple,238,"How to show the downregulated marker genes by sc.pl.rank_genes_groups?; <!-- What kind of feature would you like to request? -->. - [ ] Additional function parameters / changed functionality / changed defaults? - [ ] New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? - [ ] New plotting function: A kind of plot you would like to seein `sc.pl`? - [ ] External tools: Do you know an existing package that should go into `sc.external.*`? - [✔] Other? <!-- Please describe your wishes below: -->. Hello Scanpy,. I'm wondering whether it is possible to show the downregulated marker genes by sc.pl.rank_genes_groups() or other functions, so that we can export the gene list for further GSEA analysis? I know sc.pl.rank_genes_groups_dotplot can show the downregulated genes by change n_genes to negative numbers, but it didn't work in sc.pl.rank_genes_groups(). Thanks! Best,. YJ.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2052
https://github.com/scverse/scanpy/issues/2052:254,usability,tool,tool,254,"How to show the downregulated marker genes by sc.pl.rank_genes_groups?; <!-- What kind of feature would you like to request? -->. - [ ] Additional function parameters / changed functionality / changed defaults? - [ ] New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? - [ ] New plotting function: A kind of plot you would like to seein `sc.pl`? - [ ] External tools: Do you know an existing package that should go into `sc.external.*`? - [✔] Other? <!-- Please describe your wishes below: -->. Hello Scanpy,. I'm wondering whether it is possible to show the downregulated marker genes by sc.pl.rank_genes_groups() or other functions, so that we can export the gene list for further GSEA analysis? I know sc.pl.rank_genes_groups_dotplot can show the downregulated genes by change n_genes to negative numbers, but it didn't work in sc.pl.rank_genes_groups(). Thanks! Best,. YJ.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2052
https://github.com/scverse/scanpy/issues/2052:302,usability,tool,tools,302,"How to show the downregulated marker genes by sc.pl.rank_genes_groups?; <!-- What kind of feature would you like to request? -->. - [ ] Additional function parameters / changed functionality / changed defaults? - [ ] New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? - [ ] New plotting function: A kind of plot you would like to seein `sc.pl`? - [ ] External tools: Do you know an existing package that should go into `sc.external.*`? - [✔] Other? <!-- Please describe your wishes below: -->. Hello Scanpy,. I'm wondering whether it is possible to show the downregulated marker genes by sc.pl.rank_genes_groups() or other functions, so that we can export the gene list for further GSEA analysis? I know sc.pl.rank_genes_groups_dotplot can show the downregulated genes by change n_genes to negative numbers, but it didn't work in sc.pl.rank_genes_groups(). Thanks! Best,. YJ.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2052
https://github.com/scverse/scanpy/issues/2052:402,usability,tool,tools,402,"How to show the downregulated marker genes by sc.pl.rank_genes_groups?; <!-- What kind of feature would you like to request? -->. - [ ] Additional function parameters / changed functionality / changed defaults? - [ ] New analysis tool: A simple analysis tool you have been using and are missing in `sc.tools`? - [ ] New plotting function: A kind of plot you would like to seein `sc.pl`? - [ ] External tools: Do you know an existing package that should go into `sc.external.*`? - [✔] Other? <!-- Please describe your wishes below: -->. Hello Scanpy,. I'm wondering whether it is possible to show the downregulated marker genes by sc.pl.rank_genes_groups() or other functions, so that we can export the gene list for further GSEA analysis? I know sc.pl.rank_genes_groups_dotplot can show the downregulated genes by change n_genes to negative numbers, but it didn't work in sc.pl.rank_genes_groups(). Thanks! Best,. YJ.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2052
https://github.com/scverse/scanpy/issues/2053:280,availability,Error,Error,280,"KeyError: 1 in read_10x_mtx if genes.tsv has only one column; I have a similar issue to [this comment](https://github.com/theislab/scanpy/issues/1916#issuecomment-927497782). `Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids')`. Switching to `gene_symbols` didn't work. Error messages:. ```. --> This might be very slow. Consider passing `cache=True`, which enables much faster reading from a cache file. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 3360 try:. -> 3361 return self._engine.get_loc(casted_key). 3362 except KeyError as err:. ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). KeyError: 1. The above exception was the direct cause of the following exception:. KeyError Traceback (most recent call last). /tmp/ipykernel_29519/245170133.py in <module>. ----> 1 Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids'). ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in read_10x_mtx(path, var_names, make_unique, cache, cache_compression, gex_only). 452 genefile_exists = (path / 'genes.tsv').is_file(). 453 read = _read_legacy_10x_mtx if genefile_exists else _read_v3_10x_mtx. --> 454 adata = read(. 455 str(path),. 456 var_names=var_names,. ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in _read_legacy_10x_mtx(path, var_names, make_unique, cache, cache_compression). 491 elif var_names == 'gene_ids':. 492 adata.var_names = genes[0].values. --> 493 adat",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2053
https://github.com/scverse/scanpy/issues/2053:325,availability,slo,slow,325,"KeyError: 1 in read_10x_mtx if genes.tsv has only one column; I have a similar issue to [this comment](https://github.com/theislab/scanpy/issues/1916#issuecomment-927497782). `Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids')`. Switching to `gene_symbols` didn't work. Error messages:. ```. --> This might be very slow. Consider passing `cache=True`, which enables much faster reading from a cache file. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 3360 try:. -> 3361 return self._engine.get_loc(casted_key). 3362 except KeyError as err:. ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). KeyError: 1. The above exception was the direct cause of the following exception:. KeyError Traceback (most recent call last). /tmp/ipykernel_29519/245170133.py in <module>. ----> 1 Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids'). ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in read_10x_mtx(path, var_names, make_unique, cache, cache_compression, gex_only). 452 genefile_exists = (path / 'genes.tsv').is_file(). 453 read = _read_legacy_10x_mtx if genefile_exists else _read_v3_10x_mtx. --> 454 adata = read(. 455 str(path),. 456 var_names=var_names,. ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in _read_legacy_10x_mtx(path, var_names, make_unique, cache, cache_compression). 491 elif var_names == 'gene_ids':. 492 adata.var_names = genes[0].values. --> 493 adat",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2053
https://github.com/scverse/scanpy/issues/2053:645,availability,toler,tolerance,645,"KeyError: 1 in read_10x_mtx if genes.tsv has only one column; I have a similar issue to [this comment](https://github.com/theislab/scanpy/issues/1916#issuecomment-927497782). `Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids')`. Switching to `gene_symbols` didn't work. Error messages:. ```. --> This might be very slow. Consider passing `cache=True`, which enables much faster reading from a cache file. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 3360 try:. -> 3361 return self._engine.get_loc(casted_key). 3362 except KeyError as err:. ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). KeyError: 1. The above exception was the direct cause of the following exception:. KeyError Traceback (most recent call last). /tmp/ipykernel_29519/245170133.py in <module>. ----> 1 Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids'). ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in read_10x_mtx(path, var_names, make_unique, cache, cache_compression, gex_only). 452 genefile_exists = (path / 'genes.tsv').is_file(). 453 read = _read_legacy_10x_mtx if genefile_exists else _read_v3_10x_mtx. --> 454 adata = read(. 455 str(path),. 456 var_names=var_names,. ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in _read_legacy_10x_mtx(path, var_names, make_unique, cache, cache_compression). 491 elif var_names == 'gene_ids':. 492 adata.var_names = genes[0].values. --> 493 adat",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2053
https://github.com/scverse/scanpy/issues/2053:2517,availability,toler,tolerance,2517,"as err:. ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). KeyError: 1. The above exception was the direct cause of the following exception:. KeyError Traceback (most recent call last). /tmp/ipykernel_29519/245170133.py in <module>. ----> 1 Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids'). ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in read_10x_mtx(path, var_names, make_unique, cache, cache_compression, gex_only). 452 genefile_exists = (path / 'genes.tsv').is_file(). 453 read = _read_legacy_10x_mtx if genefile_exists else _read_v3_10x_mtx. --> 454 adata = read(. 455 str(path),. 456 var_names=var_names,. ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in _read_legacy_10x_mtx(path, var_names, make_unique, cache, cache_compression). 491 elif var_names == 'gene_ids':. 492 adata.var_names = genes[0].values. --> 493 adata.var['gene_symbols'] = genes[1].values. 494 else:. 495 raise ValueError(""`var_names` needs to be 'gene_symbols' or 'gene_ids'""). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/frame.py in __getitem__(self, key). 3456 if self.columns.nlevels > 1:. 3457 return self._getitem_multilevel(key). -> 3458 indexer = self.columns.get_loc(key). 3459 if is_integer(indexer):. 3460 indexer = [indexer]. ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 3361 return self._engine.get_loc(casted_key). 3362 except KeyError as err:. -> 3363 raise KeyError(key) from err. 3364 . 3365 if is_scalar(key) and isna(key) and not self.hasnans:. KeyError: 1. ```. Any ideas?",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2053
https://github.com/scverse/scanpy/issues/2053:1336,deployability,modul,module,1336," passing `cache=True`, which enables much faster reading from a cache file. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 3360 try:. -> 3361 return self._engine.get_loc(casted_key). 3362 except KeyError as err:. ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). KeyError: 1. The above exception was the direct cause of the following exception:. KeyError Traceback (most recent call last). /tmp/ipykernel_29519/245170133.py in <module>. ----> 1 Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids'). ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in read_10x_mtx(path, var_names, make_unique, cache, cache_compression, gex_only). 452 genefile_exists = (path / 'genes.tsv').is_file(). 453 read = _read_legacy_10x_mtx if genefile_exists else _read_v3_10x_mtx. --> 454 adata = read(. 455 str(path),. 456 var_names=var_names,. ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in _read_legacy_10x_mtx(path, var_names, make_unique, cache, cache_compression). 491 elif var_names == 'gene_ids':. 492 adata.var_names = genes[0].values. --> 493 adata.var['gene_symbols'] = genes[1].values. 494 else:. 495 raise ValueError(""`var_names` needs to be 'gene_symbols' or 'gene_ids'""). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/frame.py in __getitem__(self, key). 3456 if self.columns.nlevels > 1:. 3457 return self._getitem_multilevel(key). -> 3458 indexer = self.columns.g",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2053
https://github.com/scverse/scanpy/issues/2053:594,energy efficiency,core,core,594,"KeyError: 1 in read_10x_mtx if genes.tsv has only one column; I have a similar issue to [this comment](https://github.com/theislab/scanpy/issues/1916#issuecomment-927497782). `Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids')`. Switching to `gene_symbols` didn't work. Error messages:. ```. --> This might be very slow. Consider passing `cache=True`, which enables much faster reading from a cache file. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 3360 try:. -> 3361 return self._engine.get_loc(casted_key). 3362 except KeyError as err:. ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). KeyError: 1. The above exception was the direct cause of the following exception:. KeyError Traceback (most recent call last). /tmp/ipykernel_29519/245170133.py in <module>. ----> 1 Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids'). ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in read_10x_mtx(path, var_names, make_unique, cache, cache_compression, gex_only). 452 genefile_exists = (path / 'genes.tsv').is_file(). 453 read = _read_legacy_10x_mtx if genefile_exists else _read_v3_10x_mtx. --> 454 adata = read(. 455 str(path),. 456 var_names=var_names,. ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in _read_legacy_10x_mtx(path, var_names, make_unique, cache, cache_compression). 491 elif var_names == 'gene_ids':. 492 adata.var_names = genes[0].values. --> 493 adat",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2053
https://github.com/scverse/scanpy/issues/2053:2188,energy efficiency,core,core,2188,"as err:. ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). KeyError: 1. The above exception was the direct cause of the following exception:. KeyError Traceback (most recent call last). /tmp/ipykernel_29519/245170133.py in <module>. ----> 1 Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids'). ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in read_10x_mtx(path, var_names, make_unique, cache, cache_compression, gex_only). 452 genefile_exists = (path / 'genes.tsv').is_file(). 453 read = _read_legacy_10x_mtx if genefile_exists else _read_v3_10x_mtx. --> 454 adata = read(. 455 str(path),. 456 var_names=var_names,. ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in _read_legacy_10x_mtx(path, var_names, make_unique, cache, cache_compression). 491 elif var_names == 'gene_ids':. 492 adata.var_names = genes[0].values. --> 493 adata.var['gene_symbols'] = genes[1].values. 494 else:. 495 raise ValueError(""`var_names` needs to be 'gene_symbols' or 'gene_ids'""). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/frame.py in __getitem__(self, key). 3456 if self.columns.nlevels > 1:. 3457 return self._getitem_multilevel(key). -> 3458 indexer = self.columns.get_loc(key). 3459 if is_integer(indexer):. 3460 indexer = [indexer]. ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 3361 return self._engine.get_loc(casted_key). 3362 except KeyError as err:. -> 3363 raise KeyError(key) from err. 3364 . 3365 if is_scalar(key) and isna(key) and not self.hasnans:. KeyError: 1. ```. Any ideas?",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2053
https://github.com/scverse/scanpy/issues/2053:2466,energy efficiency,core,core,2466,"as err:. ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). KeyError: 1. The above exception was the direct cause of the following exception:. KeyError Traceback (most recent call last). /tmp/ipykernel_29519/245170133.py in <module>. ----> 1 Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids'). ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in read_10x_mtx(path, var_names, make_unique, cache, cache_compression, gex_only). 452 genefile_exists = (path / 'genes.tsv').is_file(). 453 read = _read_legacy_10x_mtx if genefile_exists else _read_v3_10x_mtx. --> 454 adata = read(. 455 str(path),. 456 var_names=var_names,. ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in _read_legacy_10x_mtx(path, var_names, make_unique, cache, cache_compression). 491 elif var_names == 'gene_ids':. 492 adata.var_names = genes[0].values. --> 493 adata.var['gene_symbols'] = genes[1].values. 494 else:. 495 raise ValueError(""`var_names` needs to be 'gene_symbols' or 'gene_ids'""). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/frame.py in __getitem__(self, key). 3456 if self.columns.nlevels > 1:. 3457 return self._getitem_multilevel(key). -> 3458 indexer = self.columns.get_loc(key). 3459 if is_integer(indexer):. 3460 indexer = [indexer]. ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 3361 return self._engine.get_loc(casted_key). 3362 except KeyError as err:. -> 3363 raise KeyError(key) from err. 3364 . 3365 if is_scalar(key) and isna(key) and not self.hasnans:. KeyError: 1. ```. Any ideas?",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2053
https://github.com/scverse/scanpy/issues/2053:286,integrability,messag,messages,286,"KeyError: 1 in read_10x_mtx if genes.tsv has only one column; I have a similar issue to [this comment](https://github.com/theislab/scanpy/issues/1916#issuecomment-927497782). `Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids')`. Switching to `gene_symbols` didn't work. Error messages:. ```. --> This might be very slow. Consider passing `cache=True`, which enables much faster reading from a cache file. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 3360 try:. -> 3361 return self._engine.get_loc(casted_key). 3362 except KeyError as err:. ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). KeyError: 1. The above exception was the direct cause of the following exception:. KeyError Traceback (most recent call last). /tmp/ipykernel_29519/245170133.py in <module>. ----> 1 Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids'). ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in read_10x_mtx(path, var_names, make_unique, cache, cache_compression, gex_only). 452 genefile_exists = (path / 'genes.tsv').is_file(). 453 read = _read_legacy_10x_mtx if genefile_exists else _read_v3_10x_mtx. --> 454 adata = read(. 455 str(path),. 456 var_names=var_names,. ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in _read_legacy_10x_mtx(path, var_names, make_unique, cache, cache_compression). 491 elif var_names == 'gene_ids':. 492 adata.var_names = genes[0].values. --> 493 adat",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2053
https://github.com/scverse/scanpy/issues/2053:286,interoperability,messag,messages,286,"KeyError: 1 in read_10x_mtx if genes.tsv has only one column; I have a similar issue to [this comment](https://github.com/theislab/scanpy/issues/1916#issuecomment-927497782). `Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids')`. Switching to `gene_symbols` didn't work. Error messages:. ```. --> This might be very slow. Consider passing `cache=True`, which enables much faster reading from a cache file. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 3360 try:. -> 3361 return self._engine.get_loc(casted_key). 3362 except KeyError as err:. ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). KeyError: 1. The above exception was the direct cause of the following exception:. KeyError Traceback (most recent call last). /tmp/ipykernel_29519/245170133.py in <module>. ----> 1 Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids'). ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in read_10x_mtx(path, var_names, make_unique, cache, cache_compression, gex_only). 452 genefile_exists = (path / 'genes.tsv').is_file(). 453 read = _read_legacy_10x_mtx if genefile_exists else _read_v3_10x_mtx. --> 454 adata = read(. 455 str(path),. 456 var_names=var_names,. ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in _read_legacy_10x_mtx(path, var_names, make_unique, cache, cache_compression). 491 elif var_names == 'gene_ids':. 492 adata.var_names = genes[0].values. --> 493 adat",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2053
https://github.com/scverse/scanpy/issues/2053:578,modifiability,pac,packages,578,"KeyError: 1 in read_10x_mtx if genes.tsv has only one column; I have a similar issue to [this comment](https://github.com/theislab/scanpy/issues/1916#issuecomment-927497782). `Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids')`. Switching to `gene_symbols` didn't work. Error messages:. ```. --> This might be very slow. Consider passing `cache=True`, which enables much faster reading from a cache file. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 3360 try:. -> 3361 return self._engine.get_loc(casted_key). 3362 except KeyError as err:. ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). KeyError: 1. The above exception was the direct cause of the following exception:. KeyError Traceback (most recent call last). /tmp/ipykernel_29519/245170133.py in <module>. ----> 1 Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids'). ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in read_10x_mtx(path, var_names, make_unique, cache, cache_compression, gex_only). 452 genefile_exists = (path / 'genes.tsv').is_file(). 453 read = _read_legacy_10x_mtx if genefile_exists else _read_v3_10x_mtx. --> 454 adata = read(. 455 str(path),. 456 var_names=var_names,. ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in _read_legacy_10x_mtx(path, var_names, make_unique, cache, cache_compression). 491 elif var_names == 'gene_ids':. 492 adata.var_names = genes[0].values. --> 493 adat",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2053
https://github.com/scverse/scanpy/issues/2053:789,modifiability,pac,packages,789,"KeyError: 1 in read_10x_mtx if genes.tsv has only one column; I have a similar issue to [this comment](https://github.com/theislab/scanpy/issues/1916#issuecomment-927497782). `Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids')`. Switching to `gene_symbols` didn't work. Error messages:. ```. --> This might be very slow. Consider passing `cache=True`, which enables much faster reading from a cache file. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 3360 try:. -> 3361 return self._engine.get_loc(casted_key). 3362 except KeyError as err:. ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). KeyError: 1. The above exception was the direct cause of the following exception:. KeyError Traceback (most recent call last). /tmp/ipykernel_29519/245170133.py in <module>. ----> 1 Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids'). ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in read_10x_mtx(path, var_names, make_unique, cache, cache_compression, gex_only). 452 genefile_exists = (path / 'genes.tsv').is_file(). 453 read = _read_legacy_10x_mtx if genefile_exists else _read_v3_10x_mtx. --> 454 adata = read(. 455 str(path),. 456 var_names=var_names,. ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in _read_legacy_10x_mtx(path, var_names, make_unique, cache, cache_compression). 491 elif var_names == 'gene_ids':. 492 adata.var_names = genes[0].values. --> 493 adat",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2053
https://github.com/scverse/scanpy/issues/2053:908,modifiability,pac,packages,908,"KeyError: 1 in read_10x_mtx if genes.tsv has only one column; I have a similar issue to [this comment](https://github.com/theislab/scanpy/issues/1916#issuecomment-927497782). `Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids')`. Switching to `gene_symbols` didn't work. Error messages:. ```. --> This might be very slow. Consider passing `cache=True`, which enables much faster reading from a cache file. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 3360 try:. -> 3361 return self._engine.get_loc(casted_key). 3362 except KeyError as err:. ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). KeyError: 1. The above exception was the direct cause of the following exception:. KeyError Traceback (most recent call last). /tmp/ipykernel_29519/245170133.py in <module>. ----> 1 Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids'). ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in read_10x_mtx(path, var_names, make_unique, cache, cache_compression, gex_only). 452 genefile_exists = (path / 'genes.tsv').is_file(). 453 read = _read_legacy_10x_mtx if genefile_exists else _read_v3_10x_mtx. --> 454 adata = read(. 455 str(path),. 456 var_names=var_names,. ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in _read_legacy_10x_mtx(path, var_names, make_unique, cache, cache_compression). 491 elif var_names == 'gene_ids':. 492 adata.var_names = genes[0].values. --> 493 adat",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2053
https://github.com/scverse/scanpy/issues/2053:1336,modifiability,modul,module,1336," passing `cache=True`, which enables much faster reading from a cache file. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 3360 try:. -> 3361 return self._engine.get_loc(casted_key). 3362 except KeyError as err:. ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). KeyError: 1. The above exception was the direct cause of the following exception:. KeyError Traceback (most recent call last). /tmp/ipykernel_29519/245170133.py in <module>. ----> 1 Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids'). ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in read_10x_mtx(path, var_names, make_unique, cache, cache_compression, gex_only). 452 genefile_exists = (path / 'genes.tsv').is_file(). 453 read = _read_legacy_10x_mtx if genefile_exists else _read_v3_10x_mtx. --> 454 adata = read(. 455 str(path),. 456 var_names=var_names,. ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in _read_legacy_10x_mtx(path, var_names, make_unique, cache, cache_compression). 491 elif var_names == 'gene_ids':. 492 adata.var_names = genes[0].values. --> 493 adata.var['gene_symbols'] = genes[1].values. 494 else:. 495 raise ValueError(""`var_names` needs to be 'gene_symbols' or 'gene_ids'""). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/frame.py in __getitem__(self, key). 3456 if self.columns.nlevels > 1:. 3457 return self._getitem_multilevel(key). -> 3458 indexer = self.columns.g",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2053
https://github.com/scverse/scanpy/issues/2053:1457,modifiability,pac,packages,1457,"-----------------------------. KeyError Traceback (most recent call last). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 3360 try:. -> 3361 return self._engine.get_loc(casted_key). 3362 except KeyError as err:. ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). KeyError: 1. The above exception was the direct cause of the following exception:. KeyError Traceback (most recent call last). /tmp/ipykernel_29519/245170133.py in <module>. ----> 1 Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids'). ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in read_10x_mtx(path, var_names, make_unique, cache, cache_compression, gex_only). 452 genefile_exists = (path / 'genes.tsv').is_file(). 453 read = _read_legacy_10x_mtx if genefile_exists else _read_v3_10x_mtx. --> 454 adata = read(. 455 str(path),. 456 var_names=var_names,. ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in _read_legacy_10x_mtx(path, var_names, make_unique, cache, cache_compression). 491 elif var_names == 'gene_ids':. 492 adata.var_names = genes[0].values. --> 493 adata.var['gene_symbols'] = genes[1].values. 494 else:. 495 raise ValueError(""`var_names` needs to be 'gene_symbols' or 'gene_ids'""). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/frame.py in __getitem__(self, key). 3456 if self.columns.nlevels > 1:. 3457 return self._getitem_multilevel(key). -> 3458 indexer = self.columns.get_loc(key). 3459 if is_integer(indexer):. 3460 indexer = [indexer]. ~/miniconda3/envs/flng/lib/python3.8/site-packages/pa",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2053
https://github.com/scverse/scanpy/issues/2053:1804,modifiability,pac,packages,1804,"as err:. ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). KeyError: 1. The above exception was the direct cause of the following exception:. KeyError Traceback (most recent call last). /tmp/ipykernel_29519/245170133.py in <module>. ----> 1 Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids'). ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in read_10x_mtx(path, var_names, make_unique, cache, cache_compression, gex_only). 452 genefile_exists = (path / 'genes.tsv').is_file(). 453 read = _read_legacy_10x_mtx if genefile_exists else _read_v3_10x_mtx. --> 454 adata = read(. 455 str(path),. 456 var_names=var_names,. ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in _read_legacy_10x_mtx(path, var_names, make_unique, cache, cache_compression). 491 elif var_names == 'gene_ids':. 492 adata.var_names = genes[0].values. --> 493 adata.var['gene_symbols'] = genes[1].values. 494 else:. 495 raise ValueError(""`var_names` needs to be 'gene_symbols' or 'gene_ids'""). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/frame.py in __getitem__(self, key). 3456 if self.columns.nlevels > 1:. 3457 return self._getitem_multilevel(key). -> 3458 indexer = self.columns.get_loc(key). 3459 if is_integer(indexer):. 3460 indexer = [indexer]. ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 3361 return self._engine.get_loc(casted_key). 3362 except KeyError as err:. -> 3363 raise KeyError(key) from err. 3364 . 3365 if is_scalar(key) and isna(key) and not self.hasnans:. KeyError: 1. ```. Any ideas?",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2053
https://github.com/scverse/scanpy/issues/2053:2172,modifiability,pac,packages,2172,"as err:. ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). KeyError: 1. The above exception was the direct cause of the following exception:. KeyError Traceback (most recent call last). /tmp/ipykernel_29519/245170133.py in <module>. ----> 1 Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids'). ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in read_10x_mtx(path, var_names, make_unique, cache, cache_compression, gex_only). 452 genefile_exists = (path / 'genes.tsv').is_file(). 453 read = _read_legacy_10x_mtx if genefile_exists else _read_v3_10x_mtx. --> 454 adata = read(. 455 str(path),. 456 var_names=var_names,. ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in _read_legacy_10x_mtx(path, var_names, make_unique, cache, cache_compression). 491 elif var_names == 'gene_ids':. 492 adata.var_names = genes[0].values. --> 493 adata.var['gene_symbols'] = genes[1].values. 494 else:. 495 raise ValueError(""`var_names` needs to be 'gene_symbols' or 'gene_ids'""). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/frame.py in __getitem__(self, key). 3456 if self.columns.nlevels > 1:. 3457 return self._getitem_multilevel(key). -> 3458 indexer = self.columns.get_loc(key). 3459 if is_integer(indexer):. 3460 indexer = [indexer]. ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 3361 return self._engine.get_loc(casted_key). 3362 except KeyError as err:. -> 3363 raise KeyError(key) from err. 3364 . 3365 if is_scalar(key) and isna(key) and not self.hasnans:. KeyError: 1. ```. Any ideas?",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2053
https://github.com/scverse/scanpy/issues/2053:2450,modifiability,pac,packages,2450,"as err:. ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). KeyError: 1. The above exception was the direct cause of the following exception:. KeyError Traceback (most recent call last). /tmp/ipykernel_29519/245170133.py in <module>. ----> 1 Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids'). ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in read_10x_mtx(path, var_names, make_unique, cache, cache_compression, gex_only). 452 genefile_exists = (path / 'genes.tsv').is_file(). 453 read = _read_legacy_10x_mtx if genefile_exists else _read_v3_10x_mtx. --> 454 adata = read(. 455 str(path),. 456 var_names=var_names,. ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in _read_legacy_10x_mtx(path, var_names, make_unique, cache, cache_compression). 491 elif var_names == 'gene_ids':. 492 adata.var_names = genes[0].values. --> 493 adata.var['gene_symbols'] = genes[1].values. 494 else:. 495 raise ValueError(""`var_names` needs to be 'gene_symbols' or 'gene_ids'""). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/frame.py in __getitem__(self, key). 3456 if self.columns.nlevels > 1:. 3457 return self._getitem_multilevel(key). -> 3458 indexer = self.columns.get_loc(key). 3459 if is_integer(indexer):. 3460 indexer = [indexer]. ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 3361 return self._engine.get_loc(casted_key). 3362 except KeyError as err:. -> 3363 raise KeyError(key) from err. 3364 . 3365 if is_scalar(key) and isna(key) and not self.hasnans:. KeyError: 1. ```. Any ideas?",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2053
https://github.com/scverse/scanpy/issues/2053:280,performance,Error,Error,280,"KeyError: 1 in read_10x_mtx if genes.tsv has only one column; I have a similar issue to [this comment](https://github.com/theislab/scanpy/issues/1916#issuecomment-927497782). `Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids')`. Switching to `gene_symbols` didn't work. Error messages:. ```. --> This might be very slow. Consider passing `cache=True`, which enables much faster reading from a cache file. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 3360 try:. -> 3361 return self._engine.get_loc(casted_key). 3362 except KeyError as err:. ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). KeyError: 1. The above exception was the direct cause of the following exception:. KeyError Traceback (most recent call last). /tmp/ipykernel_29519/245170133.py in <module>. ----> 1 Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids'). ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in read_10x_mtx(path, var_names, make_unique, cache, cache_compression, gex_only). 452 genefile_exists = (path / 'genes.tsv').is_file(). 453 read = _read_legacy_10x_mtx if genefile_exists else _read_v3_10x_mtx. --> 454 adata = read(. 455 str(path),. 456 var_names=var_names,. ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in _read_legacy_10x_mtx(path, var_names, make_unique, cache, cache_compression). 491 elif var_names == 'gene_ids':. 492 adata.var_names = genes[0].values. --> 493 adat",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2053
https://github.com/scverse/scanpy/issues/2053:349,performance,cach,cache,349,"KeyError: 1 in read_10x_mtx if genes.tsv has only one column; I have a similar issue to [this comment](https://github.com/theislab/scanpy/issues/1916#issuecomment-927497782). `Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids')`. Switching to `gene_symbols` didn't work. Error messages:. ```. --> This might be very slow. Consider passing `cache=True`, which enables much faster reading from a cache file. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 3360 try:. -> 3361 return self._engine.get_loc(casted_key). 3362 except KeyError as err:. ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). KeyError: 1. The above exception was the direct cause of the following exception:. KeyError Traceback (most recent call last). /tmp/ipykernel_29519/245170133.py in <module>. ----> 1 Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids'). ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in read_10x_mtx(path, var_names, make_unique, cache, cache_compression, gex_only). 452 genefile_exists = (path / 'genes.tsv').is_file(). 453 read = _read_legacy_10x_mtx if genefile_exists else _read_v3_10x_mtx. --> 454 adata = read(. 455 str(path),. 456 var_names=var_names,. ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in _read_legacy_10x_mtx(path, var_names, make_unique, cache, cache_compression). 491 elif var_names == 'gene_ids':. 492 adata.var_names = genes[0].values. --> 493 adat",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2053
https://github.com/scverse/scanpy/issues/2053:403,performance,cach,cache,403,"KeyError: 1 in read_10x_mtx if genes.tsv has only one column; I have a similar issue to [this comment](https://github.com/theislab/scanpy/issues/1916#issuecomment-927497782). `Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids')`. Switching to `gene_symbols` didn't work. Error messages:. ```. --> This might be very slow. Consider passing `cache=True`, which enables much faster reading from a cache file. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 3360 try:. -> 3361 return self._engine.get_loc(casted_key). 3362 except KeyError as err:. ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). KeyError: 1. The above exception was the direct cause of the following exception:. KeyError Traceback (most recent call last). /tmp/ipykernel_29519/245170133.py in <module>. ----> 1 Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids'). ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in read_10x_mtx(path, var_names, make_unique, cache, cache_compression, gex_only). 452 genefile_exists = (path / 'genes.tsv').is_file(). 453 read = _read_legacy_10x_mtx if genefile_exists else _read_v3_10x_mtx. --> 454 adata = read(. 455 str(path),. 456 var_names=var_names,. ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in _read_legacy_10x_mtx(path, var_names, make_unique, cache, cache_compression). 491 elif var_names == 'gene_ids':. 492 adata.var_names = genes[0].values. --> 493 adat",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2053
https://github.com/scverse/scanpy/issues/2053:1532,performance,cach,cache,1532," ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 3360 try:. -> 3361 return self._engine.get_loc(casted_key). 3362 except KeyError as err:. ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). KeyError: 1. The above exception was the direct cause of the following exception:. KeyError Traceback (most recent call last). /tmp/ipykernel_29519/245170133.py in <module>. ----> 1 Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids'). ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in read_10x_mtx(path, var_names, make_unique, cache, cache_compression, gex_only). 452 genefile_exists = (path / 'genes.tsv').is_file(). 453 read = _read_legacy_10x_mtx if genefile_exists else _read_v3_10x_mtx. --> 454 adata = read(. 455 str(path),. 456 var_names=var_names,. ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in _read_legacy_10x_mtx(path, var_names, make_unique, cache, cache_compression). 491 elif var_names == 'gene_ids':. 492 adata.var_names = genes[0].values. --> 493 adata.var['gene_symbols'] = genes[1].values. 494 else:. 495 raise ValueError(""`var_names` needs to be 'gene_symbols' or 'gene_ids'""). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/frame.py in __getitem__(self, key). 3456 if self.columns.nlevels > 1:. 3457 return self._getitem_multilevel(key). -> 3458 indexer = self.columns.get_loc(key). 3459 if is_integer(indexer):. 3460 indexer = [indexer]. ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 3361 r",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2053
https://github.com/scverse/scanpy/issues/2053:1887,performance,cach,cache,1887,"as err:. ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). KeyError: 1. The above exception was the direct cause of the following exception:. KeyError Traceback (most recent call last). /tmp/ipykernel_29519/245170133.py in <module>. ----> 1 Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids'). ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in read_10x_mtx(path, var_names, make_unique, cache, cache_compression, gex_only). 452 genefile_exists = (path / 'genes.tsv').is_file(). 453 read = _read_legacy_10x_mtx if genefile_exists else _read_v3_10x_mtx. --> 454 adata = read(. 455 str(path),. 456 var_names=var_names,. ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in _read_legacy_10x_mtx(path, var_names, make_unique, cache, cache_compression). 491 elif var_names == 'gene_ids':. 492 adata.var_names = genes[0].values. --> 493 adata.var['gene_symbols'] = genes[1].values. 494 else:. 495 raise ValueError(""`var_names` needs to be 'gene_symbols' or 'gene_ids'""). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/frame.py in __getitem__(self, key). 3456 if self.columns.nlevels > 1:. 3457 return self._getitem_multilevel(key). -> 3458 indexer = self.columns.get_loc(key). 3459 if is_integer(indexer):. 3460 indexer = [indexer]. ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 3361 return self._engine.get_loc(casted_key). 3362 except KeyError as err:. -> 3363 raise KeyError(key) from err. 3364 . 3365 if is_scalar(key) and isna(key) and not self.hasnans:. KeyError: 1. ```. Any ideas?",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2053
https://github.com/scverse/scanpy/issues/2053:325,reliability,slo,slow,325,"KeyError: 1 in read_10x_mtx if genes.tsv has only one column; I have a similar issue to [this comment](https://github.com/theislab/scanpy/issues/1916#issuecomment-927497782). `Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids')`. Switching to `gene_symbols` didn't work. Error messages:. ```. --> This might be very slow. Consider passing `cache=True`, which enables much faster reading from a cache file. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 3360 try:. -> 3361 return self._engine.get_loc(casted_key). 3362 except KeyError as err:. ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). KeyError: 1. The above exception was the direct cause of the following exception:. KeyError Traceback (most recent call last). /tmp/ipykernel_29519/245170133.py in <module>. ----> 1 Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids'). ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in read_10x_mtx(path, var_names, make_unique, cache, cache_compression, gex_only). 452 genefile_exists = (path / 'genes.tsv').is_file(). 453 read = _read_legacy_10x_mtx if genefile_exists else _read_v3_10x_mtx. --> 454 adata = read(. 455 str(path),. 456 var_names=var_names,. ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in _read_legacy_10x_mtx(path, var_names, make_unique, cache, cache_compression). 491 elif var_names == 'gene_ids':. 492 adata.var_names = genes[0].values. --> 493 adat",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2053
https://github.com/scverse/scanpy/issues/2053:645,reliability,toleran,tolerance,645,"KeyError: 1 in read_10x_mtx if genes.tsv has only one column; I have a similar issue to [this comment](https://github.com/theislab/scanpy/issues/1916#issuecomment-927497782). `Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids')`. Switching to `gene_symbols` didn't work. Error messages:. ```. --> This might be very slow. Consider passing `cache=True`, which enables much faster reading from a cache file. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 3360 try:. -> 3361 return self._engine.get_loc(casted_key). 3362 except KeyError as err:. ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). KeyError: 1. The above exception was the direct cause of the following exception:. KeyError Traceback (most recent call last). /tmp/ipykernel_29519/245170133.py in <module>. ----> 1 Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids'). ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in read_10x_mtx(path, var_names, make_unique, cache, cache_compression, gex_only). 452 genefile_exists = (path / 'genes.tsv').is_file(). 453 read = _read_legacy_10x_mtx if genefile_exists else _read_v3_10x_mtx. --> 454 adata = read(. 455 str(path),. 456 var_names=var_names,. ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in _read_legacy_10x_mtx(path, var_names, make_unique, cache, cache_compression). 491 elif var_names == 'gene_ids':. 492 adata.var_names = genes[0].values. --> 493 adat",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2053
https://github.com/scverse/scanpy/issues/2053:2517,reliability,toleran,tolerance,2517,"as err:. ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). KeyError: 1. The above exception was the direct cause of the following exception:. KeyError Traceback (most recent call last). /tmp/ipykernel_29519/245170133.py in <module>. ----> 1 Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids'). ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in read_10x_mtx(path, var_names, make_unique, cache, cache_compression, gex_only). 452 genefile_exists = (path / 'genes.tsv').is_file(). 453 read = _read_legacy_10x_mtx if genefile_exists else _read_v3_10x_mtx. --> 454 adata = read(. 455 str(path),. 456 var_names=var_names,. ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in _read_legacy_10x_mtx(path, var_names, make_unique, cache, cache_compression). 491 elif var_names == 'gene_ids':. 492 adata.var_names = genes[0].values. --> 493 adata.var['gene_symbols'] = genes[1].values. 494 else:. 495 raise ValueError(""`var_names` needs to be 'gene_symbols' or 'gene_ids'""). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/frame.py in __getitem__(self, key). 3456 if self.columns.nlevels > 1:. 3457 return self._getitem_multilevel(key). -> 3458 indexer = self.columns.get_loc(key). 3459 if is_integer(indexer):. 3460 indexer = [indexer]. ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 3361 return self._engine.get_loc(casted_key). 3362 except KeyError as err:. -> 3363 raise KeyError(key) from err. 3364 . 3365 if is_scalar(key) and isna(key) and not self.hasnans:. KeyError: 1. ```. Any ideas?",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2053
https://github.com/scverse/scanpy/issues/2053:280,safety,Error,Error,280,"KeyError: 1 in read_10x_mtx if genes.tsv has only one column; I have a similar issue to [this comment](https://github.com/theislab/scanpy/issues/1916#issuecomment-927497782). `Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids')`. Switching to `gene_symbols` didn't work. Error messages:. ```. --> This might be very slow. Consider passing `cache=True`, which enables much faster reading from a cache file. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 3360 try:. -> 3361 return self._engine.get_loc(casted_key). 3362 except KeyError as err:. ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). KeyError: 1. The above exception was the direct cause of the following exception:. KeyError Traceback (most recent call last). /tmp/ipykernel_29519/245170133.py in <module>. ----> 1 Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids'). ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in read_10x_mtx(path, var_names, make_unique, cache, cache_compression, gex_only). 452 genefile_exists = (path / 'genes.tsv').is_file(). 453 read = _read_legacy_10x_mtx if genefile_exists else _read_v3_10x_mtx. --> 454 adata = read(. 455 str(path),. 456 var_names=var_names,. ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in _read_legacy_10x_mtx(path, var_names, make_unique, cache, cache_compression). 491 elif var_names == 'gene_ids':. 492 adata.var_names = genes[0].values. --> 493 adat",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2053
https://github.com/scverse/scanpy/issues/2053:722,safety,except,except,722,"KeyError: 1 in read_10x_mtx if genes.tsv has only one column; I have a similar issue to [this comment](https://github.com/theislab/scanpy/issues/1916#issuecomment-927497782). `Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids')`. Switching to `gene_symbols` didn't work. Error messages:. ```. --> This might be very slow. Consider passing `cache=True`, which enables much faster reading from a cache file. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 3360 try:. -> 3361 return self._engine.get_loc(casted_key). 3362 except KeyError as err:. ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). KeyError: 1. The above exception was the direct cause of the following exception:. KeyError Traceback (most recent call last). /tmp/ipykernel_29519/245170133.py in <module>. ----> 1 Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids'). ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in read_10x_mtx(path, var_names, make_unique, cache, cache_compression, gex_only). 452 genefile_exists = (path / 'genes.tsv').is_file(). 453 read = _read_legacy_10x_mtx if genefile_exists else _read_v3_10x_mtx. --> 454 adata = read(. 455 str(path),. 456 var_names=var_names,. ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in _read_legacy_10x_mtx(path, var_names, make_unique, cache, cache_compression). 491 elif var_names == 'gene_ids':. 492 adata.var_names = genes[0].values. --> 493 adat",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2053
https://github.com/scverse/scanpy/issues/2053:1194,safety,except,exception,1194,"('/mnt/Carraro',var_names='gene_ids')`. Switching to `gene_symbols` didn't work. Error messages:. ```. --> This might be very slow. Consider passing `cache=True`, which enables much faster reading from a cache file. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 3360 try:. -> 3361 return self._engine.get_loc(casted_key). 3362 except KeyError as err:. ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). KeyError: 1. The above exception was the direct cause of the following exception:. KeyError Traceback (most recent call last). /tmp/ipykernel_29519/245170133.py in <module>. ----> 1 Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids'). ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in read_10x_mtx(path, var_names, make_unique, cache, cache_compression, gex_only). 452 genefile_exists = (path / 'genes.tsv').is_file(). 453 read = _read_legacy_10x_mtx if genefile_exists else _read_v3_10x_mtx. --> 454 adata = read(. 455 str(path),. 456 var_names=var_names,. ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in _read_legacy_10x_mtx(path, var_names, make_unique, cache, cache_compression). 491 elif var_names == 'gene_ids':. 492 adata.var_names = genes[0].values. --> 493 adata.var['gene_symbols'] = genes[1].values. 494 else:. 495 raise ValueError(""`var_names` needs to be 'gene_symbols' or 'gene_ids'""). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/frame.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2053
https://github.com/scverse/scanpy/issues/2053:1242,safety,except,exception,1242,"g to `gene_symbols` didn't work. Error messages:. ```. --> This might be very slow. Consider passing `cache=True`, which enables much faster reading from a cache file. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 3360 try:. -> 3361 return self._engine.get_loc(casted_key). 3362 except KeyError as err:. ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). KeyError: 1. The above exception was the direct cause of the following exception:. KeyError Traceback (most recent call last). /tmp/ipykernel_29519/245170133.py in <module>. ----> 1 Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids'). ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in read_10x_mtx(path, var_names, make_unique, cache, cache_compression, gex_only). 452 genefile_exists = (path / 'genes.tsv').is_file(). 453 read = _read_legacy_10x_mtx if genefile_exists else _read_v3_10x_mtx. --> 454 adata = read(. 455 str(path),. 456 var_names=var_names,. ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in _read_legacy_10x_mtx(path, var_names, make_unique, cache, cache_compression). 491 elif var_names == 'gene_ids':. 492 adata.var_names = genes[0].values. --> 493 adata.var['gene_symbols'] = genes[1].values. 494 else:. 495 raise ValueError(""`var_names` needs to be 'gene_symbols' or 'gene_ids'""). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/frame.py in __getitem__(self, key). 3456 if self.colum",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2053
https://github.com/scverse/scanpy/issues/2053:1336,safety,modul,module,1336," passing `cache=True`, which enables much faster reading from a cache file. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 3360 try:. -> 3361 return self._engine.get_loc(casted_key). 3362 except KeyError as err:. ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). KeyError: 1. The above exception was the direct cause of the following exception:. KeyError Traceback (most recent call last). /tmp/ipykernel_29519/245170133.py in <module>. ----> 1 Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids'). ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in read_10x_mtx(path, var_names, make_unique, cache, cache_compression, gex_only). 452 genefile_exists = (path / 'genes.tsv').is_file(). 453 read = _read_legacy_10x_mtx if genefile_exists else _read_v3_10x_mtx. --> 454 adata = read(. 455 str(path),. 456 var_names=var_names,. ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in _read_legacy_10x_mtx(path, var_names, make_unique, cache, cache_compression). 491 elif var_names == 'gene_ids':. 492 adata.var_names = genes[0].values. --> 493 adata.var['gene_symbols'] = genes[1].values. 494 else:. 495 raise ValueError(""`var_names` needs to be 'gene_symbols' or 'gene_ids'""). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/frame.py in __getitem__(self, key). 3456 if self.columns.nlevels > 1:. 3457 return self._getitem_multilevel(key). -> 3458 indexer = self.columns.g",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2053
https://github.com/scverse/scanpy/issues/2053:2580,safety,except,except,2580,"as err:. ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). KeyError: 1. The above exception was the direct cause of the following exception:. KeyError Traceback (most recent call last). /tmp/ipykernel_29519/245170133.py in <module>. ----> 1 Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids'). ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in read_10x_mtx(path, var_names, make_unique, cache, cache_compression, gex_only). 452 genefile_exists = (path / 'genes.tsv').is_file(). 453 read = _read_legacy_10x_mtx if genefile_exists else _read_v3_10x_mtx. --> 454 adata = read(. 455 str(path),. 456 var_names=var_names,. ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in _read_legacy_10x_mtx(path, var_names, make_unique, cache, cache_compression). 491 elif var_names == 'gene_ids':. 492 adata.var_names = genes[0].values. --> 493 adata.var['gene_symbols'] = genes[1].values. 494 else:. 495 raise ValueError(""`var_names` needs to be 'gene_symbols' or 'gene_ids'""). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/frame.py in __getitem__(self, key). 3456 if self.columns.nlevels > 1:. 3457 return self._getitem_multilevel(key). -> 3458 indexer = self.columns.get_loc(key). 3459 if is_integer(indexer):. 3460 indexer = [indexer]. ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 3361 return self._engine.get_loc(casted_key). 3362 except KeyError as err:. -> 3363 raise KeyError(key) from err. 3364 . 3365 if is_scalar(key) and isna(key) and not self.hasnans:. KeyError: 1. ```. Any ideas?",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2053
https://github.com/scverse/scanpy/issues/2053:1041,security,hash,hashtable,1041,"nly one column; I have a similar issue to [this comment](https://github.com/theislab/scanpy/issues/1916#issuecomment-927497782). `Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids')`. Switching to `gene_symbols` didn't work. Error messages:. ```. --> This might be very slow. Consider passing `cache=True`, which enables much faster reading from a cache file. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 3360 try:. -> 3361 return self._engine.get_loc(casted_key). 3362 except KeyError as err:. ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). KeyError: 1. The above exception was the direct cause of the following exception:. KeyError Traceback (most recent call last). /tmp/ipykernel_29519/245170133.py in <module>. ----> 1 Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids'). ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in read_10x_mtx(path, var_names, make_unique, cache, cache_compression, gex_only). 452 genefile_exists = (path / 'genes.tsv').is_file(). 453 read = _read_legacy_10x_mtx if genefile_exists else _read_v3_10x_mtx. --> 454 adata = read(. 455 str(path),. 456 var_names=var_names,. ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in _read_legacy_10x_mtx(path, var_names, make_unique, cache, cache_compression). 491 elif var_names == 'gene_ids':. 492 adata.var_names = genes[0].values. --> 493 adata.var['gene_symbols'] = genes[1].values. 494 e",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2053
https://github.com/scverse/scanpy/issues/2053:1134,security,hash,hashtable,1134,"ssues/1916#issuecomment-927497782). `Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids')`. Switching to `gene_symbols` didn't work. Error messages:. ```. --> This might be very slow. Consider passing `cache=True`, which enables much faster reading from a cache file. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 3360 try:. -> 3361 return self._engine.get_loc(casted_key). 3362 except KeyError as err:. ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). KeyError: 1. The above exception was the direct cause of the following exception:. KeyError Traceback (most recent call last). /tmp/ipykernel_29519/245170133.py in <module>. ----> 1 Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids'). ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in read_10x_mtx(path, var_names, make_unique, cache, cache_compression, gex_only). 452 genefile_exists = (path / 'genes.tsv').is_file(). 453 read = _read_legacy_10x_mtx if genefile_exists else _read_v3_10x_mtx. --> 454 adata = read(. 455 str(path),. 456 var_names=var_names,. ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in _read_legacy_10x_mtx(path, var_names, make_unique, cache, cache_compression). 491 elif var_names == 'gene_ids':. 492 adata.var_names = genes[0].values. --> 493 adata.var['gene_symbols'] = genes[1].values. 494 else:. 495 raise ValueError(""`var_names` needs to be 'gene_symbols' or 'gene_ids'""). ~/minicon",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2053
https://github.com/scverse/scanpy/issues/2053:501,testability,Trace,Traceback,501,"KeyError: 1 in read_10x_mtx if genes.tsv has only one column; I have a similar issue to [this comment](https://github.com/theislab/scanpy/issues/1916#issuecomment-927497782). `Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids')`. Switching to `gene_symbols` didn't work. Error messages:. ```. --> This might be very slow. Consider passing `cache=True`, which enables much faster reading from a cache file. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 3360 try:. -> 3361 return self._engine.get_loc(casted_key). 3362 except KeyError as err:. ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). KeyError: 1. The above exception was the direct cause of the following exception:. KeyError Traceback (most recent call last). /tmp/ipykernel_29519/245170133.py in <module>. ----> 1 Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids'). ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in read_10x_mtx(path, var_names, make_unique, cache, cache_compression, gex_only). 452 genefile_exists = (path / 'genes.tsv').is_file(). 453 read = _read_legacy_10x_mtx if genefile_exists else _read_v3_10x_mtx. --> 454 adata = read(. 455 str(path),. 456 var_names=var_names,. ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in _read_legacy_10x_mtx(path, var_names, make_unique, cache, cache_compression). 491 elif var_names == 'gene_ids':. 492 adata.var_names = genes[0].values. --> 493 adat",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2053
https://github.com/scverse/scanpy/issues/2053:1263,testability,Trace,Traceback,1263,"idn't work. Error messages:. ```. --> This might be very slow. Consider passing `cache=True`, which enables much faster reading from a cache file. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 3360 try:. -> 3361 return self._engine.get_loc(casted_key). 3362 except KeyError as err:. ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). KeyError: 1. The above exception was the direct cause of the following exception:. KeyError Traceback (most recent call last). /tmp/ipykernel_29519/245170133.py in <module>. ----> 1 Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids'). ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in read_10x_mtx(path, var_names, make_unique, cache, cache_compression, gex_only). 452 genefile_exists = (path / 'genes.tsv').is_file(). 453 read = _read_legacy_10x_mtx if genefile_exists else _read_v3_10x_mtx. --> 454 adata = read(. 455 str(path),. 456 var_names=var_names,. ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in _read_legacy_10x_mtx(path, var_names, make_unique, cache, cache_compression). 491 elif var_names == 'gene_ids':. 492 adata.var_names = genes[0].values. --> 493 adata.var['gene_symbols'] = genes[1].values. 494 else:. 495 raise ValueError(""`var_names` needs to be 'gene_symbols' or 'gene_ids'""). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/frame.py in __getitem__(self, key). 3456 if self.columns.nlevels > 1:. 3457",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2053
https://github.com/scverse/scanpy/issues/2053:280,usability,Error,Error,280,"KeyError: 1 in read_10x_mtx if genes.tsv has only one column; I have a similar issue to [this comment](https://github.com/theislab/scanpy/issues/1916#issuecomment-927497782). `Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids')`. Switching to `gene_symbols` didn't work. Error messages:. ```. --> This might be very slow. Consider passing `cache=True`, which enables much faster reading from a cache file. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance). 3360 try:. -> 3361 return self._engine.get_loc(casted_key). 3362 except KeyError as err:. ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). ~/miniconda3/envs/flng/lib/python3.8/site-packages/pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). pandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item(). KeyError: 1. The above exception was the direct cause of the following exception:. KeyError Traceback (most recent call last). /tmp/ipykernel_29519/245170133.py in <module>. ----> 1 Carraro=sc.read_10x_mtx('/mnt/Carraro',var_names='gene_ids'). ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in read_10x_mtx(path, var_names, make_unique, cache, cache_compression, gex_only). 452 genefile_exists = (path / 'genes.tsv').is_file(). 453 read = _read_legacy_10x_mtx if genefile_exists else _read_v3_10x_mtx. --> 454 adata = read(. 455 str(path),. 456 var_names=var_names,. ~/miniconda3/envs/flng/lib/python3.8/site-packages/scanpy/readwrite.py in _read_legacy_10x_mtx(path, var_names, make_unique, cache, cache_compression). 491 elif var_names == 'gene_ids':. 492 adata.var_names = genes[0].values. --> 493 adat",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2053
https://github.com/scverse/scanpy/issues/2054:240,integrability,sub,sub,240,"standard_scale done twice if not None; Hi,. I was going over the dotplot code, and found standard_scale might have been done twice? scanpy/plotting/_dotplot.py:. line 181-187. ```. if standard_scale == 'group':. dot_color_df = dot_color_df.sub(dot_color_df.min(1), axis=0). dot_color_df = dot_color_df.div(dot_color_df.max(1), axis=0).fillna(0). elif standard_scale == 'var':. dot_color_df -= dot_color_df.min(0). dot_color_df = (dot_color_df / dot_color_df.max(0)).fillna(0). elif standard_scale is None:. ```. again in line 655-662:. ```. if standard_scale == 'group':. dot_color = dot_color.sub(dot_color.min(1), axis=0). dot_color = dot_color.div(dot_color.max(1), axis=0).fillna(0). elif standard_scale == 'var':. dot_color -= dot_color.min(0). dot_color = (dot_color / dot_color.max(0)).fillna(0). elif standard_scale is None:. pass. ```",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2054
https://github.com/scverse/scanpy/issues/2054:594,integrability,sub,sub,594,"standard_scale done twice if not None; Hi,. I was going over the dotplot code, and found standard_scale might have been done twice? scanpy/plotting/_dotplot.py:. line 181-187. ```. if standard_scale == 'group':. dot_color_df = dot_color_df.sub(dot_color_df.min(1), axis=0). dot_color_df = dot_color_df.div(dot_color_df.max(1), axis=0).fillna(0). elif standard_scale == 'var':. dot_color_df -= dot_color_df.min(0). dot_color_df = (dot_color_df / dot_color_df.max(0)).fillna(0). elif standard_scale is None:. ```. again in line 655-662:. ```. if standard_scale == 'group':. dot_color = dot_color.sub(dot_color.min(1), axis=0). dot_color = dot_color.div(dot_color.max(1), axis=0).fillna(0). elif standard_scale == 'var':. dot_color -= dot_color.min(0). dot_color = (dot_color / dot_color.max(0)).fillna(0). elif standard_scale is None:. pass. ```",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2054
https://github.com/scverse/scanpy/pull/2055:28,modifiability,variab,variables,28,"allowing dotplot to use two variables in groupby as x and y axis; Hi,. This is for #1876 . I added a new variable `groupby_expand` to dotplot and baseplot to allow the function using two variables from groupby as x and y axis. . Thanks.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2055
https://github.com/scverse/scanpy/pull/2055:105,modifiability,variab,variable,105,"allowing dotplot to use two variables in groupby as x and y axis; Hi,. This is for #1876 . I added a new variable `groupby_expand` to dotplot and baseplot to allow the function using two variables from groupby as x and y axis. . Thanks.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2055
https://github.com/scverse/scanpy/pull/2055:187,modifiability,variab,variables,187,"allowing dotplot to use two variables in groupby as x and y axis; Hi,. This is for #1876 . I added a new variable `groupby_expand` to dotplot and baseplot to allow the function using two variables from groupby as x and y axis. . Thanks.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2055
https://github.com/scverse/scanpy/issues/2057:702,availability,error,error,702,"logFC becomes negative and disappear for the top ranked genes when use_raw=False; - [✔ ] I have checked that this issue has not already been reported. - [✔ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False). ```pytb. [Paste the error output produced by the above code here]. ```. ![image](https://user-images.githubusercontent.com/75048821/142975910-ee42c23e-976d-4980-a351-dcb53672b978.png). #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. ***************. Hello Scanpy,. Because the scRNA-seq data usually have mitochondrial gene contamination, it's reasonable to regress out mito genes by sc.pp.regress_out(adata, ['total_counts', 'pct_counts_mt']) and do scaling, and use this 'clear' data for determining the marker genes of each cluster by setting use_raw=False in sc.tl.rank_genes_groups(). However, I found that. 1. if using unregressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=True), the top marker genes have positive logFC, which is reasonable because these are top upregulated genes helping us to determine the annotations of clusters. . ![image](https://user-images.githubusercontent.com/75048821/142977363-a7ce9cd6-5c2b-48f7-9e21-eccc66650f78.png). 2. the weird thing is, if using regressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False), the logFC of top marker genes will become negativ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2057
https://github.com/scverse/scanpy/issues/2057:1362,availability,cluster,cluster,1362,"in.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False). ```pytb. [Paste the error output produced by the above code here]. ```. ![image](https://user-images.githubusercontent.com/75048821/142975910-ee42c23e-976d-4980-a351-dcb53672b978.png). #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. ***************. Hello Scanpy,. Because the scRNA-seq data usually have mitochondrial gene contamination, it's reasonable to regress out mito genes by sc.pp.regress_out(adata, ['total_counts', 'pct_counts_mt']) and do scaling, and use this 'clear' data for determining the marker genes of each cluster by setting use_raw=False in sc.tl.rank_genes_groups(). However, I found that. 1. if using unregressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=True), the top marker genes have positive logFC, which is reasonable because these are top upregulated genes helping us to determine the annotations of clusters. . ![image](https://user-images.githubusercontent.com/75048821/142977363-a7ce9cd6-5c2b-48f7-9e21-eccc66650f78.png). 2. the weird thing is, if using regressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False), the logFC of top marker genes will become negative and even disappear, which means the downregulated genes and genes with unknown logFC (why no logFC?) becomes the marker genes, which doesn't make sense. ![image](https://user-images.githubusercontent.com/75048821/142977508-a9d3421d-ff66-4f4c-a4f4-71bc1bbd7dda.png). This bug comes from the official jupyter notebook of pbmc by setting use_raw=False in sc.tl.rank_g",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2057
https://github.com/scverse/scanpy/issues/2057:1700,availability,cluster,clusters,1700,"essary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False). ```pytb. [Paste the error output produced by the above code here]. ```. ![image](https://user-images.githubusercontent.com/75048821/142975910-ee42c23e-976d-4980-a351-dcb53672b978.png). #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. ***************. Hello Scanpy,. Because the scRNA-seq data usually have mitochondrial gene contamination, it's reasonable to regress out mito genes by sc.pp.regress_out(adata, ['total_counts', 'pct_counts_mt']) and do scaling, and use this 'clear' data for determining the marker genes of each cluster by setting use_raw=False in sc.tl.rank_genes_groups(). However, I found that. 1. if using unregressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=True), the top marker genes have positive logFC, which is reasonable because these are top upregulated genes helping us to determine the annotations of clusters. . ![image](https://user-images.githubusercontent.com/75048821/142977363-a7ce9cd6-5c2b-48f7-9e21-eccc66650f78.png). 2. the weird thing is, if using regressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False), the logFC of top marker genes will become negative and even disappear, which means the downregulated genes and genes with unknown logFC (why no logFC?) becomes the marker genes, which doesn't make sense. ![image](https://user-images.githubusercontent.com/75048821/142977508-a9d3421d-ff66-4f4c-a4f4-71bc1bbd7dda.png). This bug comes from the official jupyter notebook of pbmc by setting use_raw=False in sc.tl.rank_genes_groups(). Could you please help us to solve this issue? Thanks! Best,. YJ. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2057
https://github.com/scverse/scanpy/issues/2057:2038,availability,down,downregulated,2038,"essary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False). ```pytb. [Paste the error output produced by the above code here]. ```. ![image](https://user-images.githubusercontent.com/75048821/142975910-ee42c23e-976d-4980-a351-dcb53672b978.png). #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. ***************. Hello Scanpy,. Because the scRNA-seq data usually have mitochondrial gene contamination, it's reasonable to regress out mito genes by sc.pp.regress_out(adata, ['total_counts', 'pct_counts_mt']) and do scaling, and use this 'clear' data for determining the marker genes of each cluster by setting use_raw=False in sc.tl.rank_genes_groups(). However, I found that. 1. if using unregressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=True), the top marker genes have positive logFC, which is reasonable because these are top upregulated genes helping us to determine the annotations of clusters. . ![image](https://user-images.githubusercontent.com/75048821/142977363-a7ce9cd6-5c2b-48f7-9e21-eccc66650f78.png). 2. the weird thing is, if using regressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False), the logFC of top marker genes will become negative and even disappear, which means the downregulated genes and genes with unknown logFC (why no logFC?) becomes the marker genes, which doesn't make sense. ![image](https://user-images.githubusercontent.com/75048821/142977508-a9d3421d-ff66-4f4c-a4f4-71bc1bbd7dda.png). This bug comes from the official jupyter notebook of pbmc by setting use_raw=False in sc.tl.rank_genes_groups(). Could you please help us to solve this issue? Thanks! Best,. YJ. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2057
https://github.com/scverse/scanpy/issues/2057:0,deployability,log,logFC,0,"logFC becomes negative and disappear for the top ranked genes when use_raw=False; - [✔ ] I have checked that this issue has not already been reported. - [✔ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False). ```pytb. [Paste the error output produced by the above code here]. ```. ![image](https://user-images.githubusercontent.com/75048821/142975910-ee42c23e-976d-4980-a351-dcb53672b978.png). #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. ***************. Hello Scanpy,. Because the scRNA-seq data usually have mitochondrial gene contamination, it's reasonable to regress out mito genes by sc.pp.regress_out(adata, ['total_counts', 'pct_counts_mt']) and do scaling, and use this 'clear' data for determining the marker genes of each cluster by setting use_raw=False in sc.tl.rank_genes_groups(). However, I found that. 1. if using unregressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=True), the top marker genes have positive logFC, which is reasonable because these are top upregulated genes helping us to determine the annotations of clusters. . ![image](https://user-images.githubusercontent.com/75048821/142977363-a7ce9cd6-5c2b-48f7-9e21-eccc66650f78.png). 2. the weird thing is, if using regressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False), the logFC of top marker genes will become negativ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2057
https://github.com/scverse/scanpy/issues/2057:205,deployability,version,version,205,"logFC becomes negative and disappear for the top ranked genes when use_raw=False; - [✔ ] I have checked that this issue has not already been reported. - [✔ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False). ```pytb. [Paste the error output produced by the above code here]. ```. ![image](https://user-images.githubusercontent.com/75048821/142975910-ee42c23e-976d-4980-a351-dcb53672b978.png). #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. ***************. Hello Scanpy,. Because the scRNA-seq data usually have mitochondrial gene contamination, it's reasonable to regress out mito genes by sc.pp.regress_out(adata, ['total_counts', 'pct_counts_mt']) and do scaling, and use this 'clear' data for determining the marker genes of each cluster by setting use_raw=False in sc.tl.rank_genes_groups(). However, I found that. 1. if using unregressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=True), the top marker genes have positive logFC, which is reasonable because these are top upregulated genes helping us to determine the annotations of clusters. . ![image](https://user-images.githubusercontent.com/75048821/142977363-a7ce9cd6-5c2b-48f7-9e21-eccc66650f78.png). 2. the weird thing is, if using regressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False), the logFC of top marker genes will become negativ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2057
https://github.com/scverse/scanpy/issues/2057:872,deployability,Version,Versions,872,"logFC becomes negative and disappear for the top ranked genes when use_raw=False; - [✔ ] I have checked that this issue has not already been reported. - [✔ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False). ```pytb. [Paste the error output produced by the above code here]. ```. ![image](https://user-images.githubusercontent.com/75048821/142975910-ee42c23e-976d-4980-a351-dcb53672b978.png). #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. ***************. Hello Scanpy,. Because the scRNA-seq data usually have mitochondrial gene contamination, it's reasonable to regress out mito genes by sc.pp.regress_out(adata, ['total_counts', 'pct_counts_mt']) and do scaling, and use this 'clear' data for determining the marker genes of each cluster by setting use_raw=False in sc.tl.rank_genes_groups(). However, I found that. 1. if using unregressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=True), the top marker genes have positive logFC, which is reasonable because these are top upregulated genes helping us to determine the annotations of clusters. . ![image](https://user-images.githubusercontent.com/75048821/142977363-a7ce9cd6-5c2b-48f7-9e21-eccc66650f78.png). 2. the weird thing is, if using regressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False), the logFC of top marker genes will become negativ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2057
https://github.com/scverse/scanpy/issues/2057:1362,deployability,cluster,cluster,1362,"in.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False). ```pytb. [Paste the error output produced by the above code here]. ```. ![image](https://user-images.githubusercontent.com/75048821/142975910-ee42c23e-976d-4980-a351-dcb53672b978.png). #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. ***************. Hello Scanpy,. Because the scRNA-seq data usually have mitochondrial gene contamination, it's reasonable to regress out mito genes by sc.pp.regress_out(adata, ['total_counts', 'pct_counts_mt']) and do scaling, and use this 'clear' data for determining the marker genes of each cluster by setting use_raw=False in sc.tl.rank_genes_groups(). However, I found that. 1. if using unregressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=True), the top marker genes have positive logFC, which is reasonable because these are top upregulated genes helping us to determine the annotations of clusters. . ![image](https://user-images.githubusercontent.com/75048821/142977363-a7ce9cd6-5c2b-48f7-9e21-eccc66650f78.png). 2. the weird thing is, if using regressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False), the logFC of top marker genes will become negative and even disappear, which means the downregulated genes and genes with unknown logFC (why no logFC?) becomes the marker genes, which doesn't make sense. ![image](https://user-images.githubusercontent.com/75048821/142977508-a9d3421d-ff66-4f4c-a4f4-71bc1bbd7dda.png). This bug comes from the official jupyter notebook of pbmc by setting use_raw=False in sc.tl.rank_g",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2057
https://github.com/scverse/scanpy/issues/2057:1590,deployability,log,logFC,1590,"essary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False). ```pytb. [Paste the error output produced by the above code here]. ```. ![image](https://user-images.githubusercontent.com/75048821/142975910-ee42c23e-976d-4980-a351-dcb53672b978.png). #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. ***************. Hello Scanpy,. Because the scRNA-seq data usually have mitochondrial gene contamination, it's reasonable to regress out mito genes by sc.pp.regress_out(adata, ['total_counts', 'pct_counts_mt']) and do scaling, and use this 'clear' data for determining the marker genes of each cluster by setting use_raw=False in sc.tl.rank_genes_groups(). However, I found that. 1. if using unregressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=True), the top marker genes have positive logFC, which is reasonable because these are top upregulated genes helping us to determine the annotations of clusters. . ![image](https://user-images.githubusercontent.com/75048821/142977363-a7ce9cd6-5c2b-48f7-9e21-eccc66650f78.png). 2. the weird thing is, if using regressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False), the logFC of top marker genes will become negative and even disappear, which means the downregulated genes and genes with unknown logFC (why no logFC?) becomes the marker genes, which doesn't make sense. ![image](https://user-images.githubusercontent.com/75048821/142977508-a9d3421d-ff66-4f4c-a4f4-71bc1bbd7dda.png). This bug comes from the official jupyter notebook of pbmc by setting use_raw=False in sc.tl.rank_genes_groups(). Could you please help us to solve this issue? Thanks! Best,. YJ. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2057
https://github.com/scverse/scanpy/issues/2057:1700,deployability,cluster,clusters,1700,"essary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False). ```pytb. [Paste the error output produced by the above code here]. ```. ![image](https://user-images.githubusercontent.com/75048821/142975910-ee42c23e-976d-4980-a351-dcb53672b978.png). #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. ***************. Hello Scanpy,. Because the scRNA-seq data usually have mitochondrial gene contamination, it's reasonable to regress out mito genes by sc.pp.regress_out(adata, ['total_counts', 'pct_counts_mt']) and do scaling, and use this 'clear' data for determining the marker genes of each cluster by setting use_raw=False in sc.tl.rank_genes_groups(). However, I found that. 1. if using unregressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=True), the top marker genes have positive logFC, which is reasonable because these are top upregulated genes helping us to determine the annotations of clusters. . ![image](https://user-images.githubusercontent.com/75048821/142977363-a7ce9cd6-5c2b-48f7-9e21-eccc66650f78.png). 2. the weird thing is, if using regressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False), the logFC of top marker genes will become negative and even disappear, which means the downregulated genes and genes with unknown logFC (why no logFC?) becomes the marker genes, which doesn't make sense. ![image](https://user-images.githubusercontent.com/75048821/142977508-a9d3421d-ff66-4f4c-a4f4-71bc1bbd7dda.png). This bug comes from the official jupyter notebook of pbmc by setting use_raw=False in sc.tl.rank_genes_groups(). Could you please help us to solve this issue? Thanks! Best,. YJ. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2057
https://github.com/scverse/scanpy/issues/2057:1955,deployability,log,logFC,1955,"essary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False). ```pytb. [Paste the error output produced by the above code here]. ```. ![image](https://user-images.githubusercontent.com/75048821/142975910-ee42c23e-976d-4980-a351-dcb53672b978.png). #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. ***************. Hello Scanpy,. Because the scRNA-seq data usually have mitochondrial gene contamination, it's reasonable to regress out mito genes by sc.pp.regress_out(adata, ['total_counts', 'pct_counts_mt']) and do scaling, and use this 'clear' data for determining the marker genes of each cluster by setting use_raw=False in sc.tl.rank_genes_groups(). However, I found that. 1. if using unregressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=True), the top marker genes have positive logFC, which is reasonable because these are top upregulated genes helping us to determine the annotations of clusters. . ![image](https://user-images.githubusercontent.com/75048821/142977363-a7ce9cd6-5c2b-48f7-9e21-eccc66650f78.png). 2. the weird thing is, if using regressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False), the logFC of top marker genes will become negative and even disappear, which means the downregulated genes and genes with unknown logFC (why no logFC?) becomes the marker genes, which doesn't make sense. ![image](https://user-images.githubusercontent.com/75048821/142977508-a9d3421d-ff66-4f4c-a4f4-71bc1bbd7dda.png). This bug comes from the official jupyter notebook of pbmc by setting use_raw=False in sc.tl.rank_genes_groups(). Could you please help us to solve this issue? Thanks! Best,. YJ. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2057
https://github.com/scverse/scanpy/issues/2057:2081,deployability,log,logFC,2081,"essary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False). ```pytb. [Paste the error output produced by the above code here]. ```. ![image](https://user-images.githubusercontent.com/75048821/142975910-ee42c23e-976d-4980-a351-dcb53672b978.png). #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. ***************. Hello Scanpy,. Because the scRNA-seq data usually have mitochondrial gene contamination, it's reasonable to regress out mito genes by sc.pp.regress_out(adata, ['total_counts', 'pct_counts_mt']) and do scaling, and use this 'clear' data for determining the marker genes of each cluster by setting use_raw=False in sc.tl.rank_genes_groups(). However, I found that. 1. if using unregressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=True), the top marker genes have positive logFC, which is reasonable because these are top upregulated genes helping us to determine the annotations of clusters. . ![image](https://user-images.githubusercontent.com/75048821/142977363-a7ce9cd6-5c2b-48f7-9e21-eccc66650f78.png). 2. the weird thing is, if using regressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False), the logFC of top marker genes will become negative and even disappear, which means the downregulated genes and genes with unknown logFC (why no logFC?) becomes the marker genes, which doesn't make sense. ![image](https://user-images.githubusercontent.com/75048821/142977508-a9d3421d-ff66-4f4c-a4f4-71bc1bbd7dda.png). This bug comes from the official jupyter notebook of pbmc by setting use_raw=False in sc.tl.rank_genes_groups(). Could you please help us to solve this issue? Thanks! Best,. YJ. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2057
https://github.com/scverse/scanpy/issues/2057:2095,deployability,log,logFC,2095,"essary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False). ```pytb. [Paste the error output produced by the above code here]. ```. ![image](https://user-images.githubusercontent.com/75048821/142975910-ee42c23e-976d-4980-a351-dcb53672b978.png). #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. ***************. Hello Scanpy,. Because the scRNA-seq data usually have mitochondrial gene contamination, it's reasonable to regress out mito genes by sc.pp.regress_out(adata, ['total_counts', 'pct_counts_mt']) and do scaling, and use this 'clear' data for determining the marker genes of each cluster by setting use_raw=False in sc.tl.rank_genes_groups(). However, I found that. 1. if using unregressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=True), the top marker genes have positive logFC, which is reasonable because these are top upregulated genes helping us to determine the annotations of clusters. . ![image](https://user-images.githubusercontent.com/75048821/142977363-a7ce9cd6-5c2b-48f7-9e21-eccc66650f78.png). 2. the weird thing is, if using regressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False), the logFC of top marker genes will become negative and even disappear, which means the downregulated genes and genes with unknown logFC (why no logFC?) becomes the marker genes, which doesn't make sense. ![image](https://user-images.githubusercontent.com/75048821/142977508-a9d3421d-ff66-4f4c-a4f4-71bc1bbd7dda.png). This bug comes from the official jupyter notebook of pbmc by setting use_raw=False in sc.tl.rank_genes_groups(). Could you please help us to solve this issue? Thanks! Best,. YJ. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2057
https://github.com/scverse/scanpy/issues/2057:205,integrability,version,version,205,"logFC becomes negative and disappear for the top ranked genes when use_raw=False; - [✔ ] I have checked that this issue has not already been reported. - [✔ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False). ```pytb. [Paste the error output produced by the above code here]. ```. ![image](https://user-images.githubusercontent.com/75048821/142975910-ee42c23e-976d-4980-a351-dcb53672b978.png). #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. ***************. Hello Scanpy,. Because the scRNA-seq data usually have mitochondrial gene contamination, it's reasonable to regress out mito genes by sc.pp.regress_out(adata, ['total_counts', 'pct_counts_mt']) and do scaling, and use this 'clear' data for determining the marker genes of each cluster by setting use_raw=False in sc.tl.rank_genes_groups(). However, I found that. 1. if using unregressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=True), the top marker genes have positive logFC, which is reasonable because these are top upregulated genes helping us to determine the annotations of clusters. . ![image](https://user-images.githubusercontent.com/75048821/142977363-a7ce9cd6-5c2b-48f7-9e21-eccc66650f78.png). 2. the weird thing is, if using regressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False), the logFC of top marker genes will become negativ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2057
https://github.com/scverse/scanpy/issues/2057:872,integrability,Version,Versions,872,"logFC becomes negative and disappear for the top ranked genes when use_raw=False; - [✔ ] I have checked that this issue has not already been reported. - [✔ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False). ```pytb. [Paste the error output produced by the above code here]. ```. ![image](https://user-images.githubusercontent.com/75048821/142975910-ee42c23e-976d-4980-a351-dcb53672b978.png). #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. ***************. Hello Scanpy,. Because the scRNA-seq data usually have mitochondrial gene contamination, it's reasonable to regress out mito genes by sc.pp.regress_out(adata, ['total_counts', 'pct_counts_mt']) and do scaling, and use this 'clear' data for determining the marker genes of each cluster by setting use_raw=False in sc.tl.rank_genes_groups(). However, I found that. 1. if using unregressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=True), the top marker genes have positive logFC, which is reasonable because these are top upregulated genes helping us to determine the annotations of clusters. . ![image](https://user-images.githubusercontent.com/75048821/142977363-a7ce9cd6-5c2b-48f7-9e21-eccc66650f78.png). 2. the weird thing is, if using regressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False), the logFC of top marker genes will become negativ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2057
https://github.com/scverse/scanpy/issues/2057:205,modifiability,version,version,205,"logFC becomes negative and disappear for the top ranked genes when use_raw=False; - [✔ ] I have checked that this issue has not already been reported. - [✔ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False). ```pytb. [Paste the error output produced by the above code here]. ```. ![image](https://user-images.githubusercontent.com/75048821/142975910-ee42c23e-976d-4980-a351-dcb53672b978.png). #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. ***************. Hello Scanpy,. Because the scRNA-seq data usually have mitochondrial gene contamination, it's reasonable to regress out mito genes by sc.pp.regress_out(adata, ['total_counts', 'pct_counts_mt']) and do scaling, and use this 'clear' data for determining the marker genes of each cluster by setting use_raw=False in sc.tl.rank_genes_groups(). However, I found that. 1. if using unregressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=True), the top marker genes have positive logFC, which is reasonable because these are top upregulated genes helping us to determine the annotations of clusters. . ![image](https://user-images.githubusercontent.com/75048821/142977363-a7ce9cd6-5c2b-48f7-9e21-eccc66650f78.png). 2. the weird thing is, if using regressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False), the logFC of top marker genes will become negativ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2057
https://github.com/scverse/scanpy/issues/2057:872,modifiability,Version,Versions,872,"logFC becomes negative and disappear for the top ranked genes when use_raw=False; - [✔ ] I have checked that this issue has not already been reported. - [✔ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False). ```pytb. [Paste the error output produced by the above code here]. ```. ![image](https://user-images.githubusercontent.com/75048821/142975910-ee42c23e-976d-4980-a351-dcb53672b978.png). #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. ***************. Hello Scanpy,. Because the scRNA-seq data usually have mitochondrial gene contamination, it's reasonable to regress out mito genes by sc.pp.regress_out(adata, ['total_counts', 'pct_counts_mt']) and do scaling, and use this 'clear' data for determining the marker genes of each cluster by setting use_raw=False in sc.tl.rank_genes_groups(). However, I found that. 1. if using unregressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=True), the top marker genes have positive logFC, which is reasonable because these are top upregulated genes helping us to determine the annotations of clusters. . ![image](https://user-images.githubusercontent.com/75048821/142977363-a7ce9cd6-5c2b-48f7-9e21-eccc66650f78.png). 2. the weird thing is, if using regressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False), the logFC of top marker genes will become negativ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2057
https://github.com/scverse/scanpy/issues/2057:1286,modifiability,scal,scaling,1286,"anch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False). ```pytb. [Paste the error output produced by the above code here]. ```. ![image](https://user-images.githubusercontent.com/75048821/142975910-ee42c23e-976d-4980-a351-dcb53672b978.png). #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. ***************. Hello Scanpy,. Because the scRNA-seq data usually have mitochondrial gene contamination, it's reasonable to regress out mito genes by sc.pp.regress_out(adata, ['total_counts', 'pct_counts_mt']) and do scaling, and use this 'clear' data for determining the marker genes of each cluster by setting use_raw=False in sc.tl.rank_genes_groups(). However, I found that. 1. if using unregressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=True), the top marker genes have positive logFC, which is reasonable because these are top upregulated genes helping us to determine the annotations of clusters. . ![image](https://user-images.githubusercontent.com/75048821/142977363-a7ce9cd6-5c2b-48f7-9e21-eccc66650f78.png). 2. the weird thing is, if using regressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False), the logFC of top marker genes will become negative and even disappear, which means the downregulated genes and genes with unknown logFC (why no logFC?) becomes the marker genes, which doesn't make sense. ![image](https://user-images.githubusercontent.com/75048821/142977508-a9d3421d-ff66-4f4c-a4f4-71bc1bbd7dda.png). This bug comes from th",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2057
https://github.com/scverse/scanpy/issues/2057:702,performance,error,error,702,"logFC becomes negative and disappear for the top ranked genes when use_raw=False; - [✔ ] I have checked that this issue has not already been reported. - [✔ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False). ```pytb. [Paste the error output produced by the above code here]. ```. ![image](https://user-images.githubusercontent.com/75048821/142975910-ee42c23e-976d-4980-a351-dcb53672b978.png). #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. ***************. Hello Scanpy,. Because the scRNA-seq data usually have mitochondrial gene contamination, it's reasonable to regress out mito genes by sc.pp.regress_out(adata, ['total_counts', 'pct_counts_mt']) and do scaling, and use this 'clear' data for determining the marker genes of each cluster by setting use_raw=False in sc.tl.rank_genes_groups(). However, I found that. 1. if using unregressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=True), the top marker genes have positive logFC, which is reasonable because these are top upregulated genes helping us to determine the annotations of clusters. . ![image](https://user-images.githubusercontent.com/75048821/142977363-a7ce9cd6-5c2b-48f7-9e21-eccc66650f78.png). 2. the weird thing is, if using regressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False), the logFC of top marker genes will become negativ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2057
https://github.com/scverse/scanpy/issues/2057:2135,reliability,doe,doesn,2135,"essary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False). ```pytb. [Paste the error output produced by the above code here]. ```. ![image](https://user-images.githubusercontent.com/75048821/142975910-ee42c23e-976d-4980-a351-dcb53672b978.png). #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. ***************. Hello Scanpy,. Because the scRNA-seq data usually have mitochondrial gene contamination, it's reasonable to regress out mito genes by sc.pp.regress_out(adata, ['total_counts', 'pct_counts_mt']) and do scaling, and use this 'clear' data for determining the marker genes of each cluster by setting use_raw=False in sc.tl.rank_genes_groups(). However, I found that. 1. if using unregressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=True), the top marker genes have positive logFC, which is reasonable because these are top upregulated genes helping us to determine the annotations of clusters. . ![image](https://user-images.githubusercontent.com/75048821/142977363-a7ce9cd6-5c2b-48f7-9e21-eccc66650f78.png). 2. the weird thing is, if using regressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False), the logFC of top marker genes will become negative and even disappear, which means the downregulated genes and genes with unknown logFC (why no logFC?) becomes the marker genes, which doesn't make sense. ![image](https://user-images.githubusercontent.com/75048821/142977508-a9d3421d-ff66-4f4c-a4f4-71bc1bbd7dda.png). This bug comes from the official jupyter notebook of pbmc by setting use_raw=False in sc.tl.rank_genes_groups(). Could you please help us to solve this issue? Thanks! Best,. YJ. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2057
https://github.com/scverse/scanpy/issues/2057:0,safety,log,logFC,0,"logFC becomes negative and disappear for the top ranked genes when use_raw=False; - [✔ ] I have checked that this issue has not already been reported. - [✔ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False). ```pytb. [Paste the error output produced by the above code here]. ```. ![image](https://user-images.githubusercontent.com/75048821/142975910-ee42c23e-976d-4980-a351-dcb53672b978.png). #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. ***************. Hello Scanpy,. Because the scRNA-seq data usually have mitochondrial gene contamination, it's reasonable to regress out mito genes by sc.pp.regress_out(adata, ['total_counts', 'pct_counts_mt']) and do scaling, and use this 'clear' data for determining the marker genes of each cluster by setting use_raw=False in sc.tl.rank_genes_groups(). However, I found that. 1. if using unregressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=True), the top marker genes have positive logFC, which is reasonable because these are top upregulated genes helping us to determine the annotations of clusters. . ![image](https://user-images.githubusercontent.com/75048821/142977363-a7ce9cd6-5c2b-48f7-9e21-eccc66650f78.png). 2. the weird thing is, if using regressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False), the logFC of top marker genes will become negativ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2057
https://github.com/scverse/scanpy/issues/2057:702,safety,error,error,702,"logFC becomes negative and disappear for the top ranked genes when use_raw=False; - [✔ ] I have checked that this issue has not already been reported. - [✔ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False). ```pytb. [Paste the error output produced by the above code here]. ```. ![image](https://user-images.githubusercontent.com/75048821/142975910-ee42c23e-976d-4980-a351-dcb53672b978.png). #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. ***************. Hello Scanpy,. Because the scRNA-seq data usually have mitochondrial gene contamination, it's reasonable to regress out mito genes by sc.pp.regress_out(adata, ['total_counts', 'pct_counts_mt']) and do scaling, and use this 'clear' data for determining the marker genes of each cluster by setting use_raw=False in sc.tl.rank_genes_groups(). However, I found that. 1. if using unregressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=True), the top marker genes have positive logFC, which is reasonable because these are top upregulated genes helping us to determine the annotations of clusters. . ![image](https://user-images.githubusercontent.com/75048821/142977363-a7ce9cd6-5c2b-48f7-9e21-eccc66650f78.png). 2. the weird thing is, if using regressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False), the logFC of top marker genes will become negativ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2057
https://github.com/scverse/scanpy/issues/2057:1590,safety,log,logFC,1590,"essary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False). ```pytb. [Paste the error output produced by the above code here]. ```. ![image](https://user-images.githubusercontent.com/75048821/142975910-ee42c23e-976d-4980-a351-dcb53672b978.png). #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. ***************. Hello Scanpy,. Because the scRNA-seq data usually have mitochondrial gene contamination, it's reasonable to regress out mito genes by sc.pp.regress_out(adata, ['total_counts', 'pct_counts_mt']) and do scaling, and use this 'clear' data for determining the marker genes of each cluster by setting use_raw=False in sc.tl.rank_genes_groups(). However, I found that. 1. if using unregressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=True), the top marker genes have positive logFC, which is reasonable because these are top upregulated genes helping us to determine the annotations of clusters. . ![image](https://user-images.githubusercontent.com/75048821/142977363-a7ce9cd6-5c2b-48f7-9e21-eccc66650f78.png). 2. the weird thing is, if using regressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False), the logFC of top marker genes will become negative and even disappear, which means the downregulated genes and genes with unknown logFC (why no logFC?) becomes the marker genes, which doesn't make sense. ![image](https://user-images.githubusercontent.com/75048821/142977508-a9d3421d-ff66-4f4c-a4f4-71bc1bbd7dda.png). This bug comes from the official jupyter notebook of pbmc by setting use_raw=False in sc.tl.rank_genes_groups(). Could you please help us to solve this issue? Thanks! Best,. YJ. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2057
https://github.com/scverse/scanpy/issues/2057:1955,safety,log,logFC,1955,"essary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False). ```pytb. [Paste the error output produced by the above code here]. ```. ![image](https://user-images.githubusercontent.com/75048821/142975910-ee42c23e-976d-4980-a351-dcb53672b978.png). #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. ***************. Hello Scanpy,. Because the scRNA-seq data usually have mitochondrial gene contamination, it's reasonable to regress out mito genes by sc.pp.regress_out(adata, ['total_counts', 'pct_counts_mt']) and do scaling, and use this 'clear' data for determining the marker genes of each cluster by setting use_raw=False in sc.tl.rank_genes_groups(). However, I found that. 1. if using unregressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=True), the top marker genes have positive logFC, which is reasonable because these are top upregulated genes helping us to determine the annotations of clusters. . ![image](https://user-images.githubusercontent.com/75048821/142977363-a7ce9cd6-5c2b-48f7-9e21-eccc66650f78.png). 2. the weird thing is, if using regressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False), the logFC of top marker genes will become negative and even disappear, which means the downregulated genes and genes with unknown logFC (why no logFC?) becomes the marker genes, which doesn't make sense. ![image](https://user-images.githubusercontent.com/75048821/142977508-a9d3421d-ff66-4f4c-a4f4-71bc1bbd7dda.png). This bug comes from the official jupyter notebook of pbmc by setting use_raw=False in sc.tl.rank_genes_groups(). Could you please help us to solve this issue? Thanks! Best,. YJ. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2057
https://github.com/scverse/scanpy/issues/2057:2081,safety,log,logFC,2081,"essary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False). ```pytb. [Paste the error output produced by the above code here]. ```. ![image](https://user-images.githubusercontent.com/75048821/142975910-ee42c23e-976d-4980-a351-dcb53672b978.png). #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. ***************. Hello Scanpy,. Because the scRNA-seq data usually have mitochondrial gene contamination, it's reasonable to regress out mito genes by sc.pp.regress_out(adata, ['total_counts', 'pct_counts_mt']) and do scaling, and use this 'clear' data for determining the marker genes of each cluster by setting use_raw=False in sc.tl.rank_genes_groups(). However, I found that. 1. if using unregressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=True), the top marker genes have positive logFC, which is reasonable because these are top upregulated genes helping us to determine the annotations of clusters. . ![image](https://user-images.githubusercontent.com/75048821/142977363-a7ce9cd6-5c2b-48f7-9e21-eccc66650f78.png). 2. the weird thing is, if using regressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False), the logFC of top marker genes will become negative and even disappear, which means the downregulated genes and genes with unknown logFC (why no logFC?) becomes the marker genes, which doesn't make sense. ![image](https://user-images.githubusercontent.com/75048821/142977508-a9d3421d-ff66-4f4c-a4f4-71bc1bbd7dda.png). This bug comes from the official jupyter notebook of pbmc by setting use_raw=False in sc.tl.rank_genes_groups(). Could you please help us to solve this issue? Thanks! Best,. YJ. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2057
https://github.com/scverse/scanpy/issues/2057:2095,safety,log,logFC,2095,"essary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False). ```pytb. [Paste the error output produced by the above code here]. ```. ![image](https://user-images.githubusercontent.com/75048821/142975910-ee42c23e-976d-4980-a351-dcb53672b978.png). #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. ***************. Hello Scanpy,. Because the scRNA-seq data usually have mitochondrial gene contamination, it's reasonable to regress out mito genes by sc.pp.regress_out(adata, ['total_counts', 'pct_counts_mt']) and do scaling, and use this 'clear' data for determining the marker genes of each cluster by setting use_raw=False in sc.tl.rank_genes_groups(). However, I found that. 1. if using unregressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=True), the top marker genes have positive logFC, which is reasonable because these are top upregulated genes helping us to determine the annotations of clusters. . ![image](https://user-images.githubusercontent.com/75048821/142977363-a7ce9cd6-5c2b-48f7-9e21-eccc66650f78.png). 2. the weird thing is, if using regressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False), the logFC of top marker genes will become negative and even disappear, which means the downregulated genes and genes with unknown logFC (why no logFC?) becomes the marker genes, which doesn't make sense. ![image](https://user-images.githubusercontent.com/75048821/142977508-a9d3421d-ff66-4f4c-a4f4-71bc1bbd7dda.png). This bug comes from the official jupyter notebook of pbmc by setting use_raw=False in sc.tl.rank_genes_groups(). Could you please help us to solve this issue? Thanks! Best,. YJ. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2057
https://github.com/scverse/scanpy/issues/2057:0,security,log,logFC,0,"logFC becomes negative and disappear for the top ranked genes when use_raw=False; - [✔ ] I have checked that this issue has not already been reported. - [✔ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False). ```pytb. [Paste the error output produced by the above code here]. ```. ![image](https://user-images.githubusercontent.com/75048821/142975910-ee42c23e-976d-4980-a351-dcb53672b978.png). #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. ***************. Hello Scanpy,. Because the scRNA-seq data usually have mitochondrial gene contamination, it's reasonable to regress out mito genes by sc.pp.regress_out(adata, ['total_counts', 'pct_counts_mt']) and do scaling, and use this 'clear' data for determining the marker genes of each cluster by setting use_raw=False in sc.tl.rank_genes_groups(). However, I found that. 1. if using unregressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=True), the top marker genes have positive logFC, which is reasonable because these are top upregulated genes helping us to determine the annotations of clusters. . ![image](https://user-images.githubusercontent.com/75048821/142977363-a7ce9cd6-5c2b-48f7-9e21-eccc66650f78.png). 2. the weird thing is, if using regressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False), the logFC of top marker genes will become negativ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2057
https://github.com/scverse/scanpy/issues/2057:1590,security,log,logFC,1590,"essary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False). ```pytb. [Paste the error output produced by the above code here]. ```. ![image](https://user-images.githubusercontent.com/75048821/142975910-ee42c23e-976d-4980-a351-dcb53672b978.png). #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. ***************. Hello Scanpy,. Because the scRNA-seq data usually have mitochondrial gene contamination, it's reasonable to regress out mito genes by sc.pp.regress_out(adata, ['total_counts', 'pct_counts_mt']) and do scaling, and use this 'clear' data for determining the marker genes of each cluster by setting use_raw=False in sc.tl.rank_genes_groups(). However, I found that. 1. if using unregressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=True), the top marker genes have positive logFC, which is reasonable because these are top upregulated genes helping us to determine the annotations of clusters. . ![image](https://user-images.githubusercontent.com/75048821/142977363-a7ce9cd6-5c2b-48f7-9e21-eccc66650f78.png). 2. the weird thing is, if using regressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False), the logFC of top marker genes will become negative and even disappear, which means the downregulated genes and genes with unknown logFC (why no logFC?) becomes the marker genes, which doesn't make sense. ![image](https://user-images.githubusercontent.com/75048821/142977508-a9d3421d-ff66-4f4c-a4f4-71bc1bbd7dda.png). This bug comes from the official jupyter notebook of pbmc by setting use_raw=False in sc.tl.rank_genes_groups(). Could you please help us to solve this issue? Thanks! Best,. YJ. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2057
https://github.com/scverse/scanpy/issues/2057:1955,security,log,logFC,1955,"essary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False). ```pytb. [Paste the error output produced by the above code here]. ```. ![image](https://user-images.githubusercontent.com/75048821/142975910-ee42c23e-976d-4980-a351-dcb53672b978.png). #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. ***************. Hello Scanpy,. Because the scRNA-seq data usually have mitochondrial gene contamination, it's reasonable to regress out mito genes by sc.pp.regress_out(adata, ['total_counts', 'pct_counts_mt']) and do scaling, and use this 'clear' data for determining the marker genes of each cluster by setting use_raw=False in sc.tl.rank_genes_groups(). However, I found that. 1. if using unregressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=True), the top marker genes have positive logFC, which is reasonable because these are top upregulated genes helping us to determine the annotations of clusters. . ![image](https://user-images.githubusercontent.com/75048821/142977363-a7ce9cd6-5c2b-48f7-9e21-eccc66650f78.png). 2. the weird thing is, if using regressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False), the logFC of top marker genes will become negative and even disappear, which means the downregulated genes and genes with unknown logFC (why no logFC?) becomes the marker genes, which doesn't make sense. ![image](https://user-images.githubusercontent.com/75048821/142977508-a9d3421d-ff66-4f4c-a4f4-71bc1bbd7dda.png). This bug comes from the official jupyter notebook of pbmc by setting use_raw=False in sc.tl.rank_genes_groups(). Could you please help us to solve this issue? Thanks! Best,. YJ. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2057
https://github.com/scverse/scanpy/issues/2057:2081,security,log,logFC,2081,"essary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False). ```pytb. [Paste the error output produced by the above code here]. ```. ![image](https://user-images.githubusercontent.com/75048821/142975910-ee42c23e-976d-4980-a351-dcb53672b978.png). #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. ***************. Hello Scanpy,. Because the scRNA-seq data usually have mitochondrial gene contamination, it's reasonable to regress out mito genes by sc.pp.regress_out(adata, ['total_counts', 'pct_counts_mt']) and do scaling, and use this 'clear' data for determining the marker genes of each cluster by setting use_raw=False in sc.tl.rank_genes_groups(). However, I found that. 1. if using unregressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=True), the top marker genes have positive logFC, which is reasonable because these are top upregulated genes helping us to determine the annotations of clusters. . ![image](https://user-images.githubusercontent.com/75048821/142977363-a7ce9cd6-5c2b-48f7-9e21-eccc66650f78.png). 2. the weird thing is, if using regressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False), the logFC of top marker genes will become negative and even disappear, which means the downregulated genes and genes with unknown logFC (why no logFC?) becomes the marker genes, which doesn't make sense. ![image](https://user-images.githubusercontent.com/75048821/142977508-a9d3421d-ff66-4f4c-a4f4-71bc1bbd7dda.png). This bug comes from the official jupyter notebook of pbmc by setting use_raw=False in sc.tl.rank_genes_groups(). Could you please help us to solve this issue? Thanks! Best,. YJ. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2057
https://github.com/scverse/scanpy/issues/2057:2095,security,log,logFC,2095,"essary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False). ```pytb. [Paste the error output produced by the above code here]. ```. ![image](https://user-images.githubusercontent.com/75048821/142975910-ee42c23e-976d-4980-a351-dcb53672b978.png). #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. ***************. Hello Scanpy,. Because the scRNA-seq data usually have mitochondrial gene contamination, it's reasonable to regress out mito genes by sc.pp.regress_out(adata, ['total_counts', 'pct_counts_mt']) and do scaling, and use this 'clear' data for determining the marker genes of each cluster by setting use_raw=False in sc.tl.rank_genes_groups(). However, I found that. 1. if using unregressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=True), the top marker genes have positive logFC, which is reasonable because these are top upregulated genes helping us to determine the annotations of clusters. . ![image](https://user-images.githubusercontent.com/75048821/142977363-a7ce9cd6-5c2b-48f7-9e21-eccc66650f78.png). 2. the weird thing is, if using regressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False), the logFC of top marker genes will become negative and even disappear, which means the downregulated genes and genes with unknown logFC (why no logFC?) becomes the marker genes, which doesn't make sense. ![image](https://user-images.githubusercontent.com/75048821/142977508-a9d3421d-ff66-4f4c-a4f4-71bc1bbd7dda.png). This bug comes from the official jupyter notebook of pbmc by setting use_raw=False in sc.tl.rank_genes_groups(). Could you please help us to solve this issue? Thanks! Best,. YJ. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2057
https://github.com/scverse/scanpy/issues/2057:0,testability,log,logFC,0,"logFC becomes negative and disappear for the top ranked genes when use_raw=False; - [✔ ] I have checked that this issue has not already been reported. - [✔ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False). ```pytb. [Paste the error output produced by the above code here]. ```. ![image](https://user-images.githubusercontent.com/75048821/142975910-ee42c23e-976d-4980-a351-dcb53672b978.png). #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. ***************. Hello Scanpy,. Because the scRNA-seq data usually have mitochondrial gene contamination, it's reasonable to regress out mito genes by sc.pp.regress_out(adata, ['total_counts', 'pct_counts_mt']) and do scaling, and use this 'clear' data for determining the marker genes of each cluster by setting use_raw=False in sc.tl.rank_genes_groups(). However, I found that. 1. if using unregressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=True), the top marker genes have positive logFC, which is reasonable because these are top upregulated genes helping us to determine the annotations of clusters. . ![image](https://user-images.githubusercontent.com/75048821/142977363-a7ce9cd6-5c2b-48f7-9e21-eccc66650f78.png). 2. the weird thing is, if using regressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False), the logFC of top marker genes will become negativ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2057
https://github.com/scverse/scanpy/issues/2057:1193,testability,regress,regress,1193," latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False). ```pytb. [Paste the error output produced by the above code here]. ```. ![image](https://user-images.githubusercontent.com/75048821/142975910-ee42c23e-976d-4980-a351-dcb53672b978.png). #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. ***************. Hello Scanpy,. Because the scRNA-seq data usually have mitochondrial gene contamination, it's reasonable to regress out mito genes by sc.pp.regress_out(adata, ['total_counts', 'pct_counts_mt']) and do scaling, and use this 'clear' data for determining the marker genes of each cluster by setting use_raw=False in sc.tl.rank_genes_groups(). However, I found that. 1. if using unregressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=True), the top marker genes have positive logFC, which is reasonable because these are top upregulated genes helping us to determine the annotations of clusters. . ![image](https://user-images.githubusercontent.com/75048821/142977363-a7ce9cd6-5c2b-48f7-9e21-eccc66650f78.png). 2. the weird thing is, if using regressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False), the logFC of top marker genes will become negative and even disappear, which means the downregulated genes and genes with unknown logFC (why no logFC?) becomes the marker genes, which doesn't make sense. ![image](https://user-images.githubusercon",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2057
https://github.com/scverse/scanpy/issues/2057:1590,testability,log,logFC,1590,"essary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False). ```pytb. [Paste the error output produced by the above code here]. ```. ![image](https://user-images.githubusercontent.com/75048821/142975910-ee42c23e-976d-4980-a351-dcb53672b978.png). #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. ***************. Hello Scanpy,. Because the scRNA-seq data usually have mitochondrial gene contamination, it's reasonable to regress out mito genes by sc.pp.regress_out(adata, ['total_counts', 'pct_counts_mt']) and do scaling, and use this 'clear' data for determining the marker genes of each cluster by setting use_raw=False in sc.tl.rank_genes_groups(). However, I found that. 1. if using unregressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=True), the top marker genes have positive logFC, which is reasonable because these are top upregulated genes helping us to determine the annotations of clusters. . ![image](https://user-images.githubusercontent.com/75048821/142977363-a7ce9cd6-5c2b-48f7-9e21-eccc66650f78.png). 2. the weird thing is, if using regressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False), the logFC of top marker genes will become negative and even disappear, which means the downregulated genes and genes with unknown logFC (why no logFC?) becomes the marker genes, which doesn't make sense. ![image](https://user-images.githubusercontent.com/75048821/142977508-a9d3421d-ff66-4f4c-a4f4-71bc1bbd7dda.png). This bug comes from the official jupyter notebook of pbmc by setting use_raw=False in sc.tl.rank_genes_groups(). Could you please help us to solve this issue? Thanks! Best,. YJ. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2057
https://github.com/scverse/scanpy/issues/2057:1857,testability,regress,regressed,1857,"essary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False). ```pytb. [Paste the error output produced by the above code here]. ```. ![image](https://user-images.githubusercontent.com/75048821/142975910-ee42c23e-976d-4980-a351-dcb53672b978.png). #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. ***************. Hello Scanpy,. Because the scRNA-seq data usually have mitochondrial gene contamination, it's reasonable to regress out mito genes by sc.pp.regress_out(adata, ['total_counts', 'pct_counts_mt']) and do scaling, and use this 'clear' data for determining the marker genes of each cluster by setting use_raw=False in sc.tl.rank_genes_groups(). However, I found that. 1. if using unregressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=True), the top marker genes have positive logFC, which is reasonable because these are top upregulated genes helping us to determine the annotations of clusters. . ![image](https://user-images.githubusercontent.com/75048821/142977363-a7ce9cd6-5c2b-48f7-9e21-eccc66650f78.png). 2. the weird thing is, if using regressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False), the logFC of top marker genes will become negative and even disappear, which means the downregulated genes and genes with unknown logFC (why no logFC?) becomes the marker genes, which doesn't make sense. ![image](https://user-images.githubusercontent.com/75048821/142977508-a9d3421d-ff66-4f4c-a4f4-71bc1bbd7dda.png). This bug comes from the official jupyter notebook of pbmc by setting use_raw=False in sc.tl.rank_genes_groups(). Could you please help us to solve this issue? Thanks! Best,. YJ. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2057
https://github.com/scverse/scanpy/issues/2057:1955,testability,log,logFC,1955,"essary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False). ```pytb. [Paste the error output produced by the above code here]. ```. ![image](https://user-images.githubusercontent.com/75048821/142975910-ee42c23e-976d-4980-a351-dcb53672b978.png). #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. ***************. Hello Scanpy,. Because the scRNA-seq data usually have mitochondrial gene contamination, it's reasonable to regress out mito genes by sc.pp.regress_out(adata, ['total_counts', 'pct_counts_mt']) and do scaling, and use this 'clear' data for determining the marker genes of each cluster by setting use_raw=False in sc.tl.rank_genes_groups(). However, I found that. 1. if using unregressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=True), the top marker genes have positive logFC, which is reasonable because these are top upregulated genes helping us to determine the annotations of clusters. . ![image](https://user-images.githubusercontent.com/75048821/142977363-a7ce9cd6-5c2b-48f7-9e21-eccc66650f78.png). 2. the weird thing is, if using regressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False), the logFC of top marker genes will become negative and even disappear, which means the downregulated genes and genes with unknown logFC (why no logFC?) becomes the marker genes, which doesn't make sense. ![image](https://user-images.githubusercontent.com/75048821/142977508-a9d3421d-ff66-4f4c-a4f4-71bc1bbd7dda.png). This bug comes from the official jupyter notebook of pbmc by setting use_raw=False in sc.tl.rank_genes_groups(). Could you please help us to solve this issue? Thanks! Best,. YJ. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2057
https://github.com/scverse/scanpy/issues/2057:2081,testability,log,logFC,2081,"essary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False). ```pytb. [Paste the error output produced by the above code here]. ```. ![image](https://user-images.githubusercontent.com/75048821/142975910-ee42c23e-976d-4980-a351-dcb53672b978.png). #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. ***************. Hello Scanpy,. Because the scRNA-seq data usually have mitochondrial gene contamination, it's reasonable to regress out mito genes by sc.pp.regress_out(adata, ['total_counts', 'pct_counts_mt']) and do scaling, and use this 'clear' data for determining the marker genes of each cluster by setting use_raw=False in sc.tl.rank_genes_groups(). However, I found that. 1. if using unregressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=True), the top marker genes have positive logFC, which is reasonable because these are top upregulated genes helping us to determine the annotations of clusters. . ![image](https://user-images.githubusercontent.com/75048821/142977363-a7ce9cd6-5c2b-48f7-9e21-eccc66650f78.png). 2. the weird thing is, if using regressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False), the logFC of top marker genes will become negative and even disappear, which means the downregulated genes and genes with unknown logFC (why no logFC?) becomes the marker genes, which doesn't make sense. ![image](https://user-images.githubusercontent.com/75048821/142977508-a9d3421d-ff66-4f4c-a4f4-71bc1bbd7dda.png). This bug comes from the official jupyter notebook of pbmc by setting use_raw=False in sc.tl.rank_genes_groups(). Could you please help us to solve this issue? Thanks! Best,. YJ. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2057
https://github.com/scverse/scanpy/issues/2057:2095,testability,log,logFC,2095,"essary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False). ```pytb. [Paste the error output produced by the above code here]. ```. ![image](https://user-images.githubusercontent.com/75048821/142975910-ee42c23e-976d-4980-a351-dcb53672b978.png). #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. ***************. Hello Scanpy,. Because the scRNA-seq data usually have mitochondrial gene contamination, it's reasonable to regress out mito genes by sc.pp.regress_out(adata, ['total_counts', 'pct_counts_mt']) and do scaling, and use this 'clear' data for determining the marker genes of each cluster by setting use_raw=False in sc.tl.rank_genes_groups(). However, I found that. 1. if using unregressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=True), the top marker genes have positive logFC, which is reasonable because these are top upregulated genes helping us to determine the annotations of clusters. . ![image](https://user-images.githubusercontent.com/75048821/142977363-a7ce9cd6-5c2b-48f7-9e21-eccc66650f78.png). 2. the weird thing is, if using regressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False), the logFC of top marker genes will become negative and even disappear, which means the downregulated genes and genes with unknown logFC (why no logFC?) becomes the marker genes, which doesn't make sense. ![image](https://user-images.githubusercontent.com/75048821/142977508-a9d3421d-ff66-4f4c-a4f4-71bc1bbd7dda.png). This bug comes from the official jupyter notebook of pbmc by setting use_raw=False in sc.tl.rank_genes_groups(). Could you please help us to solve this issue? Thanks! Best,. YJ. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2057
https://github.com/scverse/scanpy/issues/2057:165,usability,confirm,confirmed,165,"logFC becomes negative and disappear for the top ranked genes when use_raw=False; - [✔ ] I have checked that this issue has not already been reported. - [✔ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False). ```pytb. [Paste the error output produced by the above code here]. ```. ![image](https://user-images.githubusercontent.com/75048821/142975910-ee42c23e-976d-4980-a351-dcb53672b978.png). #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. ***************. Hello Scanpy,. Because the scRNA-seq data usually have mitochondrial gene contamination, it's reasonable to regress out mito genes by sc.pp.regress_out(adata, ['total_counts', 'pct_counts_mt']) and do scaling, and use this 'clear' data for determining the marker genes of each cluster by setting use_raw=False in sc.tl.rank_genes_groups(). However, I found that. 1. if using unregressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=True), the top marker genes have positive logFC, which is reasonable because these are top upregulated genes helping us to determine the annotations of clusters. . ![image](https://user-images.githubusercontent.com/75048821/142977363-a7ce9cd6-5c2b-48f7-9e21-eccc66650f78.png). 2. the weird thing is, if using regressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False), the logFC of top marker genes will become negativ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2057
https://github.com/scverse/scanpy/issues/2057:248,usability,confirm,confirmed,248,"logFC becomes negative and disappear for the top ranked genes when use_raw=False; - [✔ ] I have checked that this issue has not already been reported. - [✔ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False). ```pytb. [Paste the error output produced by the above code here]. ```. ![image](https://user-images.githubusercontent.com/75048821/142975910-ee42c23e-976d-4980-a351-dcb53672b978.png). #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. ***************. Hello Scanpy,. Because the scRNA-seq data usually have mitochondrial gene contamination, it's reasonable to regress out mito genes by sc.pp.regress_out(adata, ['total_counts', 'pct_counts_mt']) and do scaling, and use this 'clear' data for determining the marker genes of each cluster by setting use_raw=False in sc.tl.rank_genes_groups(). However, I found that. 1. if using unregressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=True), the top marker genes have positive logFC, which is reasonable because these are top upregulated genes helping us to determine the annotations of clusters. . ![image](https://user-images.githubusercontent.com/75048821/142977363-a7ce9cd6-5c2b-48f7-9e21-eccc66650f78.png). 2. the weird thing is, if using regressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False), the logFC of top marker genes will become negativ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2057
https://github.com/scverse/scanpy/issues/2057:339,usability,guid,guide,339,"logFC becomes negative and disappear for the top ranked genes when use_raw=False; - [✔ ] I have checked that this issue has not already been reported. - [✔ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False). ```pytb. [Paste the error output produced by the above code here]. ```. ![image](https://user-images.githubusercontent.com/75048821/142975910-ee42c23e-976d-4980-a351-dcb53672b978.png). #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. ***************. Hello Scanpy,. Because the scRNA-seq data usually have mitochondrial gene contamination, it's reasonable to regress out mito genes by sc.pp.regress_out(adata, ['total_counts', 'pct_counts_mt']) and do scaling, and use this 'clear' data for determining the marker genes of each cluster by setting use_raw=False in sc.tl.rank_genes_groups(). However, I found that. 1. if using unregressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=True), the top marker genes have positive logFC, which is reasonable because these are top upregulated genes helping us to determine the annotations of clusters. . ![image](https://user-images.githubusercontent.com/75048821/142977363-a7ce9cd6-5c2b-48f7-9e21-eccc66650f78.png). 2. the weird thing is, if using regressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False), the logFC of top marker genes will become negativ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2057
https://github.com/scverse/scanpy/issues/2057:394,usability,minim,minimal-bug-reports,394,"logFC becomes negative and disappear for the top ranked genes when use_raw=False; - [✔ ] I have checked that this issue has not already been reported. - [✔ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False). ```pytb. [Paste the error output produced by the above code here]. ```. ![image](https://user-images.githubusercontent.com/75048821/142975910-ee42c23e-976d-4980-a351-dcb53672b978.png). #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. ***************. Hello Scanpy,. Because the scRNA-seq data usually have mitochondrial gene contamination, it's reasonable to regress out mito genes by sc.pp.regress_out(adata, ['total_counts', 'pct_counts_mt']) and do scaling, and use this 'clear' data for determining the marker genes of each cluster by setting use_raw=False in sc.tl.rank_genes_groups(). However, I found that. 1. if using unregressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=True), the top marker genes have positive logFC, which is reasonable because these are top upregulated genes helping us to determine the annotations of clusters. . ![image](https://user-images.githubusercontent.com/75048821/142977363-a7ce9cd6-5c2b-48f7-9e21-eccc66650f78.png). 2. the weird thing is, if using regressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False), the logFC of top marker genes will become negativ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2057
https://github.com/scverse/scanpy/issues/2057:500,usability,Minim,Minimal,500,"logFC becomes negative and disappear for the top ranked genes when use_raw=False; - [✔ ] I have checked that this issue has not already been reported. - [✔ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False). ```pytb. [Paste the error output produced by the above code here]. ```. ![image](https://user-images.githubusercontent.com/75048821/142975910-ee42c23e-976d-4980-a351-dcb53672b978.png). #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. ***************. Hello Scanpy,. Because the scRNA-seq data usually have mitochondrial gene contamination, it's reasonable to regress out mito genes by sc.pp.regress_out(adata, ['total_counts', 'pct_counts_mt']) and do scaling, and use this 'clear' data for determining the marker genes of each cluster by setting use_raw=False in sc.tl.rank_genes_groups(). However, I found that. 1. if using unregressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=True), the top marker genes have positive logFC, which is reasonable because these are top upregulated genes helping us to determine the annotations of clusters. . ![image](https://user-images.githubusercontent.com/75048821/142977363-a7ce9cd6-5c2b-48f7-9e21-eccc66650f78.png). 2. the weird thing is, if using regressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False), the logFC of top marker genes will become negativ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2057
https://github.com/scverse/scanpy/issues/2057:702,usability,error,error,702,"logFC becomes negative and disappear for the top ranked genes when use_raw=False; - [✔ ] I have checked that this issue has not already been reported. - [✔ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False). ```pytb. [Paste the error output produced by the above code here]. ```. ![image](https://user-images.githubusercontent.com/75048821/142975910-ee42c23e-976d-4980-a351-dcb53672b978.png). #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. ***************. Hello Scanpy,. Because the scRNA-seq data usually have mitochondrial gene contamination, it's reasonable to regress out mito genes by sc.pp.regress_out(adata, ['total_counts', 'pct_counts_mt']) and do scaling, and use this 'clear' data for determining the marker genes of each cluster by setting use_raw=False in sc.tl.rank_genes_groups(). However, I found that. 1. if using unregressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=True), the top marker genes have positive logFC, which is reasonable because these are top upregulated genes helping us to determine the annotations of clusters. . ![image](https://user-images.githubusercontent.com/75048821/142977363-a7ce9cd6-5c2b-48f7-9e21-eccc66650f78.png). 2. the weird thing is, if using regressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False), the logFC of top marker genes will become negativ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2057
https://github.com/scverse/scanpy/issues/2057:771,usability,user,user-images,771,"logFC becomes negative and disappear for the top ranked genes when use_raw=False; - [✔ ] I have checked that this issue has not already been reported. - [✔ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False). ```pytb. [Paste the error output produced by the above code here]. ```. ![image](https://user-images.githubusercontent.com/75048821/142975910-ee42c23e-976d-4980-a351-dcb53672b978.png). #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. ***************. Hello Scanpy,. Because the scRNA-seq data usually have mitochondrial gene contamination, it's reasonable to regress out mito genes by sc.pp.regress_out(adata, ['total_counts', 'pct_counts_mt']) and do scaling, and use this 'clear' data for determining the marker genes of each cluster by setting use_raw=False in sc.tl.rank_genes_groups(). However, I found that. 1. if using unregressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=True), the top marker genes have positive logFC, which is reasonable because these are top upregulated genes helping us to determine the annotations of clusters. . ![image](https://user-images.githubusercontent.com/75048821/142977363-a7ce9cd6-5c2b-48f7-9e21-eccc66650f78.png). 2. the weird thing is, if using regressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False), the logFC of top marker genes will become negativ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2057
https://github.com/scverse/scanpy/issues/2057:982,usability,learn,learn,982,"logFC becomes negative and disappear for the top ranked genes when use_raw=False; - [✔ ] I have checked that this issue has not already been reported. - [✔ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False). ```pytb. [Paste the error output produced by the above code here]. ```. ![image](https://user-images.githubusercontent.com/75048821/142975910-ee42c23e-976d-4980-a351-dcb53672b978.png). #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. ***************. Hello Scanpy,. Because the scRNA-seq data usually have mitochondrial gene contamination, it's reasonable to regress out mito genes by sc.pp.regress_out(adata, ['total_counts', 'pct_counts_mt']) and do scaling, and use this 'clear' data for determining the marker genes of each cluster by setting use_raw=False in sc.tl.rank_genes_groups(). However, I found that. 1. if using unregressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=True), the top marker genes have positive logFC, which is reasonable because these are top upregulated genes helping us to determine the annotations of clusters. . ![image](https://user-images.githubusercontent.com/75048821/142977363-a7ce9cd6-5c2b-48f7-9e21-eccc66650f78.png). 2. the weird thing is, if using regressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False), the logFC of top marker genes will become negativ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2057
https://github.com/scverse/scanpy/issues/2057:1309,usability,clear,clear,1309,"*Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False). ```pytb. [Paste the error output produced by the above code here]. ```. ![image](https://user-images.githubusercontent.com/75048821/142975910-ee42c23e-976d-4980-a351-dcb53672b978.png). #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. ***************. Hello Scanpy,. Because the scRNA-seq data usually have mitochondrial gene contamination, it's reasonable to regress out mito genes by sc.pp.regress_out(adata, ['total_counts', 'pct_counts_mt']) and do scaling, and use this 'clear' data for determining the marker genes of each cluster by setting use_raw=False in sc.tl.rank_genes_groups(). However, I found that. 1. if using unregressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=True), the top marker genes have positive logFC, which is reasonable because these are top upregulated genes helping us to determine the annotations of clusters. . ![image](https://user-images.githubusercontent.com/75048821/142977363-a7ce9cd6-5c2b-48f7-9e21-eccc66650f78.png). 2. the weird thing is, if using regressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False), the logFC of top marker genes will become negative and even disappear, which means the downregulated genes and genes with unknown logFC (why no logFC?) becomes the marker genes, which doesn't make sense. ![image](https://user-images.githubusercontent.com/75048821/142977508-a9d3421d-ff66-4f4c-a4f4-71bc1bbd7dda.png). This bug comes from the official jupyter not",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2057
https://github.com/scverse/scanpy/issues/2057:1657,usability,help,helping,1657,"essary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False). ```pytb. [Paste the error output produced by the above code here]. ```. ![image](https://user-images.githubusercontent.com/75048821/142975910-ee42c23e-976d-4980-a351-dcb53672b978.png). #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. ***************. Hello Scanpy,. Because the scRNA-seq data usually have mitochondrial gene contamination, it's reasonable to regress out mito genes by sc.pp.regress_out(adata, ['total_counts', 'pct_counts_mt']) and do scaling, and use this 'clear' data for determining the marker genes of each cluster by setting use_raw=False in sc.tl.rank_genes_groups(). However, I found that. 1. if using unregressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=True), the top marker genes have positive logFC, which is reasonable because these are top upregulated genes helping us to determine the annotations of clusters. . ![image](https://user-images.githubusercontent.com/75048821/142977363-a7ce9cd6-5c2b-48f7-9e21-eccc66650f78.png). 2. the weird thing is, if using regressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False), the logFC of top marker genes will become negative and even disappear, which means the downregulated genes and genes with unknown logFC (why no logFC?) becomes the marker genes, which doesn't make sense. ![image](https://user-images.githubusercontent.com/75048821/142977508-a9d3421d-ff66-4f4c-a4f4-71bc1bbd7dda.png). This bug comes from the official jupyter notebook of pbmc by setting use_raw=False in sc.tl.rank_genes_groups(). Could you please help us to solve this issue? Thanks! Best,. YJ. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2057
https://github.com/scverse/scanpy/issues/2057:1729,usability,user,user-images,1729,"essary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False). ```pytb. [Paste the error output produced by the above code here]. ```. ![image](https://user-images.githubusercontent.com/75048821/142975910-ee42c23e-976d-4980-a351-dcb53672b978.png). #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. ***************. Hello Scanpy,. Because the scRNA-seq data usually have mitochondrial gene contamination, it's reasonable to regress out mito genes by sc.pp.regress_out(adata, ['total_counts', 'pct_counts_mt']) and do scaling, and use this 'clear' data for determining the marker genes of each cluster by setting use_raw=False in sc.tl.rank_genes_groups(). However, I found that. 1. if using unregressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=True), the top marker genes have positive logFC, which is reasonable because these are top upregulated genes helping us to determine the annotations of clusters. . ![image](https://user-images.githubusercontent.com/75048821/142977363-a7ce9cd6-5c2b-48f7-9e21-eccc66650f78.png). 2. the weird thing is, if using regressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False), the logFC of top marker genes will become negative and even disappear, which means the downregulated genes and genes with unknown logFC (why no logFC?) becomes the marker genes, which doesn't make sense. ![image](https://user-images.githubusercontent.com/75048821/142977508-a9d3421d-ff66-4f4c-a4f4-71bc1bbd7dda.png). This bug comes from the official jupyter notebook of pbmc by setting use_raw=False in sc.tl.rank_genes_groups(). Could you please help us to solve this issue? Thanks! Best,. YJ. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2057
https://github.com/scverse/scanpy/issues/2057:2172,usability,user,user-images,2172,"essary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False). ```pytb. [Paste the error output produced by the above code here]. ```. ![image](https://user-images.githubusercontent.com/75048821/142975910-ee42c23e-976d-4980-a351-dcb53672b978.png). #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. ***************. Hello Scanpy,. Because the scRNA-seq data usually have mitochondrial gene contamination, it's reasonable to regress out mito genes by sc.pp.regress_out(adata, ['total_counts', 'pct_counts_mt']) and do scaling, and use this 'clear' data for determining the marker genes of each cluster by setting use_raw=False in sc.tl.rank_genes_groups(). However, I found that. 1. if using unregressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=True), the top marker genes have positive logFC, which is reasonable because these are top upregulated genes helping us to determine the annotations of clusters. . ![image](https://user-images.githubusercontent.com/75048821/142977363-a7ce9cd6-5c2b-48f7-9e21-eccc66650f78.png). 2. the weird thing is, if using regressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False), the logFC of top marker genes will become negative and even disappear, which means the downregulated genes and genes with unknown logFC (why no logFC?) becomes the marker genes, which doesn't make sense. ![image](https://user-images.githubusercontent.com/75048821/142977508-a9d3421d-ff66-4f4c-a4f4-71bc1bbd7dda.png). This bug comes from the official jupyter notebook of pbmc by setting use_raw=False in sc.tl.rank_genes_groups(). Could you please help us to solve this issue? Thanks! Best,. YJ. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2057
https://github.com/scverse/scanpy/issues/2057:2398,usability,help,help,2398,"essary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False). ```pytb. [Paste the error output produced by the above code here]. ```. ![image](https://user-images.githubusercontent.com/75048821/142975910-ee42c23e-976d-4980-a351-dcb53672b978.png). #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. ***************. Hello Scanpy,. Because the scRNA-seq data usually have mitochondrial gene contamination, it's reasonable to regress out mito genes by sc.pp.regress_out(adata, ['total_counts', 'pct_counts_mt']) and do scaling, and use this 'clear' data for determining the marker genes of each cluster by setting use_raw=False in sc.tl.rank_genes_groups(). However, I found that. 1. if using unregressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=True), the top marker genes have positive logFC, which is reasonable because these are top upregulated genes helping us to determine the annotations of clusters. . ![image](https://user-images.githubusercontent.com/75048821/142977363-a7ce9cd6-5c2b-48f7-9e21-eccc66650f78.png). 2. the weird thing is, if using regressed data by sc.tl.rank_genes_groups(adata, 'leiden', method='wilcoxon', use_raw=False), the logFC of top marker genes will become negative and even disappear, which means the downregulated genes and genes with unknown logFC (why no logFC?) becomes the marker genes, which doesn't make sense. ![image](https://user-images.githubusercontent.com/75048821/142977508-a9d3421d-ff66-4f4c-a4f4-71bc1bbd7dda.png). This bug comes from the official jupyter notebook of pbmc by setting use_raw=False in sc.tl.rank_genes_groups(). Could you please help us to solve this issue? Thanks! Best,. YJ. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2057
https://github.com/scverse/scanpy/issues/2058:1132,availability,cluster,clustering,1132,"leiden UMAP becomes grey and cannot be changed back; - [ ✔] I have checked that this issue has not already been reported. - [✔ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.pca(adata, svd_solver='arpack'). sc.pp.neighbors(adata, n_pcs=50, knn=True). sc.tl.leiden(adata, resolution=10). sc.tl.umap(adata). sc.pl.umap(adata, color=['leiden'], legend_loc='on data', frameon=False, title='', use_raw=False). ```pytb. computing PCA. on highly variable genes. with n_comps=50. finished (0:00:07). computing neighbors. using 'X_pca' with n_pcs = 50. finished: added to `.uns['neighbors']`. `.obsp['distances']`, distances for each pair of neighbors. `.obsp['connectivities']`, weighted adjacency matrix (0:00:10). running Leiden clustering. finished: found 137 clusters and added. 'leiden', the cluster labels (adata.obs, categorical) (0:00:02). computing UMAP. finished: added. 'X_umap', UMAP coordinates (adata.obsm) (0:00:07). the obs value 'leiden' has more than 103 categories. Uniform 'grey' color will be used for all categories. ```. #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. Hello Scanpy,. When I make >100 clusters, the 'leiden' becomes gray and cannot be changed back in the same notebook. Could you please help me to solve this issue? Thanks! Best. YJ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2058
https://github.com/scverse/scanpy/issues/2058:1164,availability,cluster,clusters,1164,"leiden UMAP becomes grey and cannot be changed back; - [ ✔] I have checked that this issue has not already been reported. - [✔ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.pca(adata, svd_solver='arpack'). sc.pp.neighbors(adata, n_pcs=50, knn=True). sc.tl.leiden(adata, resolution=10). sc.tl.umap(adata). sc.pl.umap(adata, color=['leiden'], legend_loc='on data', frameon=False, title='', use_raw=False). ```pytb. computing PCA. on highly variable genes. with n_comps=50. finished (0:00:07). computing neighbors. using 'X_pca' with n_pcs = 50. finished: added to `.uns['neighbors']`. `.obsp['distances']`, distances for each pair of neighbors. `.obsp['connectivities']`, weighted adjacency matrix (0:00:10). running Leiden clustering. finished: found 137 clusters and added. 'leiden', the cluster labels (adata.obs, categorical) (0:00:02). computing UMAP. finished: added. 'X_umap', UMAP coordinates (adata.obsm) (0:00:07). the obs value 'leiden' has more than 103 categories. Uniform 'grey' color will be used for all categories. ```. #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. Hello Scanpy,. When I make >100 clusters, the 'leiden' becomes gray and cannot be changed back in the same notebook. Could you please help me to solve this issue? Thanks! Best. YJ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2058
https://github.com/scverse/scanpy/issues/2058:1198,availability,cluster,cluster,1198,"leiden UMAP becomes grey and cannot be changed back; - [ ✔] I have checked that this issue has not already been reported. - [✔ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.pca(adata, svd_solver='arpack'). sc.pp.neighbors(adata, n_pcs=50, knn=True). sc.tl.leiden(adata, resolution=10). sc.tl.umap(adata). sc.pl.umap(adata, color=['leiden'], legend_loc='on data', frameon=False, title='', use_raw=False). ```pytb. computing PCA. on highly variable genes. with n_comps=50. finished (0:00:07). computing neighbors. using 'X_pca' with n_pcs = 50. finished: added to `.uns['neighbors']`. `.obsp['distances']`, distances for each pair of neighbors. `.obsp['connectivities']`, weighted adjacency matrix (0:00:10). running Leiden clustering. finished: found 137 clusters and added. 'leiden', the cluster labels (adata.obs, categorical) (0:00:02). computing UMAP. finished: added. 'X_umap', UMAP coordinates (adata.obsm) (0:00:07). the obs value 'leiden' has more than 103 categories. Uniform 'grey' color will be used for all categories. ```. #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. Hello Scanpy,. When I make >100 clusters, the 'leiden' becomes gray and cannot be changed back in the same notebook. Could you please help me to solve this issue? Thanks! Best. YJ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2058
https://github.com/scverse/scanpy/issues/2058:1678,availability,cluster,clusters,1678,"leiden UMAP becomes grey and cannot be changed back; - [ ✔] I have checked that this issue has not already been reported. - [✔ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.pca(adata, svd_solver='arpack'). sc.pp.neighbors(adata, n_pcs=50, knn=True). sc.tl.leiden(adata, resolution=10). sc.tl.umap(adata). sc.pl.umap(adata, color=['leiden'], legend_loc='on data', frameon=False, title='', use_raw=False). ```pytb. computing PCA. on highly variable genes. with n_comps=50. finished (0:00:07). computing neighbors. using 'X_pca' with n_pcs = 50. finished: added to `.uns['neighbors']`. `.obsp['distances']`, distances for each pair of neighbors. `.obsp['connectivities']`, weighted adjacency matrix (0:00:10). running Leiden clustering. finished: found 137 clusters and added. 'leiden', the cluster labels (adata.obs, categorical) (0:00:02). computing UMAP. finished: added. 'X_umap', UMAP coordinates (adata.obsm) (0:00:07). the obs value 'leiden' has more than 103 categories. Uniform 'grey' color will be used for all categories. ```. #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. Hello Scanpy,. When I make >100 clusters, the 'leiden' becomes gray and cannot be changed back in the same notebook. Could you please help me to solve this issue? Thanks! Best. YJ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2058
https://github.com/scverse/scanpy/issues/2058:176,deployability,version,version,176,"leiden UMAP becomes grey and cannot be changed back; - [ ✔] I have checked that this issue has not already been reported. - [✔ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.pca(adata, svd_solver='arpack'). sc.pp.neighbors(adata, n_pcs=50, knn=True). sc.tl.leiden(adata, resolution=10). sc.tl.umap(adata). sc.pl.umap(adata, color=['leiden'], legend_loc='on data', frameon=False, title='', use_raw=False). ```pytb. computing PCA. on highly variable genes. with n_comps=50. finished (0:00:07). computing neighbors. using 'X_pca' with n_pcs = 50. finished: added to `.uns['neighbors']`. `.obsp['distances']`, distances for each pair of neighbors. `.obsp['connectivities']`, weighted adjacency matrix (0:00:10). running Leiden clustering. finished: found 137 clusters and added. 'leiden', the cluster labels (adata.obs, categorical) (0:00:02). computing UMAP. finished: added. 'X_umap', UMAP coordinates (adata.obsm) (0:00:07). the obs value 'leiden' has more than 103 categories. Uniform 'grey' color will be used for all categories. ```. #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. Hello Scanpy,. When I make >100 clusters, the 'leiden' becomes gray and cannot be changed back in the same notebook. Could you please help me to solve this issue? Thanks! Best. YJ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2058
https://github.com/scverse/scanpy/issues/2058:1132,deployability,cluster,clustering,1132,"leiden UMAP becomes grey and cannot be changed back; - [ ✔] I have checked that this issue has not already been reported. - [✔ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.pca(adata, svd_solver='arpack'). sc.pp.neighbors(adata, n_pcs=50, knn=True). sc.tl.leiden(adata, resolution=10). sc.tl.umap(adata). sc.pl.umap(adata, color=['leiden'], legend_loc='on data', frameon=False, title='', use_raw=False). ```pytb. computing PCA. on highly variable genes. with n_comps=50. finished (0:00:07). computing neighbors. using 'X_pca' with n_pcs = 50. finished: added to `.uns['neighbors']`. `.obsp['distances']`, distances for each pair of neighbors. `.obsp['connectivities']`, weighted adjacency matrix (0:00:10). running Leiden clustering. finished: found 137 clusters and added. 'leiden', the cluster labels (adata.obs, categorical) (0:00:02). computing UMAP. finished: added. 'X_umap', UMAP coordinates (adata.obsm) (0:00:07). the obs value 'leiden' has more than 103 categories. Uniform 'grey' color will be used for all categories. ```. #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. Hello Scanpy,. When I make >100 clusters, the 'leiden' becomes gray and cannot be changed back in the same notebook. Could you please help me to solve this issue? Thanks! Best. YJ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2058
https://github.com/scverse/scanpy/issues/2058:1164,deployability,cluster,clusters,1164,"leiden UMAP becomes grey and cannot be changed back; - [ ✔] I have checked that this issue has not already been reported. - [✔ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.pca(adata, svd_solver='arpack'). sc.pp.neighbors(adata, n_pcs=50, knn=True). sc.tl.leiden(adata, resolution=10). sc.tl.umap(adata). sc.pl.umap(adata, color=['leiden'], legend_loc='on data', frameon=False, title='', use_raw=False). ```pytb. computing PCA. on highly variable genes. with n_comps=50. finished (0:00:07). computing neighbors. using 'X_pca' with n_pcs = 50. finished: added to `.uns['neighbors']`. `.obsp['distances']`, distances for each pair of neighbors. `.obsp['connectivities']`, weighted adjacency matrix (0:00:10). running Leiden clustering. finished: found 137 clusters and added. 'leiden', the cluster labels (adata.obs, categorical) (0:00:02). computing UMAP. finished: added. 'X_umap', UMAP coordinates (adata.obsm) (0:00:07). the obs value 'leiden' has more than 103 categories. Uniform 'grey' color will be used for all categories. ```. #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. Hello Scanpy,. When I make >100 clusters, the 'leiden' becomes gray and cannot be changed back in the same notebook. Could you please help me to solve this issue? Thanks! Best. YJ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2058
https://github.com/scverse/scanpy/issues/2058:1198,deployability,cluster,cluster,1198,"leiden UMAP becomes grey and cannot be changed back; - [ ✔] I have checked that this issue has not already been reported. - [✔ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.pca(adata, svd_solver='arpack'). sc.pp.neighbors(adata, n_pcs=50, knn=True). sc.tl.leiden(adata, resolution=10). sc.tl.umap(adata). sc.pl.umap(adata, color=['leiden'], legend_loc='on data', frameon=False, title='', use_raw=False). ```pytb. computing PCA. on highly variable genes. with n_comps=50. finished (0:00:07). computing neighbors. using 'X_pca' with n_pcs = 50. finished: added to `.uns['neighbors']`. `.obsp['distances']`, distances for each pair of neighbors. `.obsp['connectivities']`, weighted adjacency matrix (0:00:10). running Leiden clustering. finished: found 137 clusters and added. 'leiden', the cluster labels (adata.obs, categorical) (0:00:02). computing UMAP. finished: added. 'X_umap', UMAP coordinates (adata.obsm) (0:00:07). the obs value 'leiden' has more than 103 categories. Uniform 'grey' color will be used for all categories. ```. #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. Hello Scanpy,. When I make >100 clusters, the 'leiden' becomes gray and cannot be changed back in the same notebook. Could you please help me to solve this issue? Thanks! Best. YJ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2058
https://github.com/scverse/scanpy/issues/2058:1450,deployability,Version,Versions,1450,"leiden UMAP becomes grey and cannot be changed back; - [ ✔] I have checked that this issue has not already been reported. - [✔ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.pca(adata, svd_solver='arpack'). sc.pp.neighbors(adata, n_pcs=50, knn=True). sc.tl.leiden(adata, resolution=10). sc.tl.umap(adata). sc.pl.umap(adata, color=['leiden'], legend_loc='on data', frameon=False, title='', use_raw=False). ```pytb. computing PCA. on highly variable genes. with n_comps=50. finished (0:00:07). computing neighbors. using 'X_pca' with n_pcs = 50. finished: added to `.uns['neighbors']`. `.obsp['distances']`, distances for each pair of neighbors. `.obsp['connectivities']`, weighted adjacency matrix (0:00:10). running Leiden clustering. finished: found 137 clusters and added. 'leiden', the cluster labels (adata.obs, categorical) (0:00:02). computing UMAP. finished: added. 'X_umap', UMAP coordinates (adata.obsm) (0:00:07). the obs value 'leiden' has more than 103 categories. Uniform 'grey' color will be used for all categories. ```. #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. Hello Scanpy,. When I make >100 clusters, the 'leiden' becomes gray and cannot be changed back in the same notebook. Could you please help me to solve this issue? Thanks! Best. YJ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2058
https://github.com/scverse/scanpy/issues/2058:1678,deployability,cluster,clusters,1678,"leiden UMAP becomes grey and cannot be changed back; - [ ✔] I have checked that this issue has not already been reported. - [✔ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.pca(adata, svd_solver='arpack'). sc.pp.neighbors(adata, n_pcs=50, knn=True). sc.tl.leiden(adata, resolution=10). sc.tl.umap(adata). sc.pl.umap(adata, color=['leiden'], legend_loc='on data', frameon=False, title='', use_raw=False). ```pytb. computing PCA. on highly variable genes. with n_comps=50. finished (0:00:07). computing neighbors. using 'X_pca' with n_pcs = 50. finished: added to `.uns['neighbors']`. `.obsp['distances']`, distances for each pair of neighbors. `.obsp['connectivities']`, weighted adjacency matrix (0:00:10). running Leiden clustering. finished: found 137 clusters and added. 'leiden', the cluster labels (adata.obs, categorical) (0:00:02). computing UMAP. finished: added. 'X_umap', UMAP coordinates (adata.obsm) (0:00:07). the obs value 'leiden' has more than 103 categories. Uniform 'grey' color will be used for all categories. ```. #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. Hello Scanpy,. When I make >100 clusters, the 'leiden' becomes gray and cannot be changed back in the same notebook. Could you please help me to solve this issue? Thanks! Best. YJ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2058
https://github.com/scverse/scanpy/issues/2058:176,integrability,version,version,176,"leiden UMAP becomes grey and cannot be changed back; - [ ✔] I have checked that this issue has not already been reported. - [✔ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.pca(adata, svd_solver='arpack'). sc.pp.neighbors(adata, n_pcs=50, knn=True). sc.tl.leiden(adata, resolution=10). sc.tl.umap(adata). sc.pl.umap(adata, color=['leiden'], legend_loc='on data', frameon=False, title='', use_raw=False). ```pytb. computing PCA. on highly variable genes. with n_comps=50. finished (0:00:07). computing neighbors. using 'X_pca' with n_pcs = 50. finished: added to `.uns['neighbors']`. `.obsp['distances']`, distances for each pair of neighbors. `.obsp['connectivities']`, weighted adjacency matrix (0:00:10). running Leiden clustering. finished: found 137 clusters and added. 'leiden', the cluster labels (adata.obs, categorical) (0:00:02). computing UMAP. finished: added. 'X_umap', UMAP coordinates (adata.obsm) (0:00:07). the obs value 'leiden' has more than 103 categories. Uniform 'grey' color will be used for all categories. ```. #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. Hello Scanpy,. When I make >100 clusters, the 'leiden' becomes gray and cannot be changed back in the same notebook. Could you please help me to solve this issue? Thanks! Best. YJ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2058
https://github.com/scverse/scanpy/issues/2058:1450,integrability,Version,Versions,1450,"leiden UMAP becomes grey and cannot be changed back; - [ ✔] I have checked that this issue has not already been reported. - [✔ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.pca(adata, svd_solver='arpack'). sc.pp.neighbors(adata, n_pcs=50, knn=True). sc.tl.leiden(adata, resolution=10). sc.tl.umap(adata). sc.pl.umap(adata, color=['leiden'], legend_loc='on data', frameon=False, title='', use_raw=False). ```pytb. computing PCA. on highly variable genes. with n_comps=50. finished (0:00:07). computing neighbors. using 'X_pca' with n_pcs = 50. finished: added to `.uns['neighbors']`. `.obsp['distances']`, distances for each pair of neighbors. `.obsp['connectivities']`, weighted adjacency matrix (0:00:10). running Leiden clustering. finished: found 137 clusters and added. 'leiden', the cluster labels (adata.obs, categorical) (0:00:02). computing UMAP. finished: added. 'X_umap', UMAP coordinates (adata.obsm) (0:00:07). the obs value 'leiden' has more than 103 categories. Uniform 'grey' color will be used for all categories. ```. #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. Hello Scanpy,. When I make >100 clusters, the 'leiden' becomes gray and cannot be changed back in the same notebook. Could you please help me to solve this issue? Thanks! Best. YJ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2058
https://github.com/scverse/scanpy/issues/2058:1297,interoperability,coordinat,coordinates,1297,"leiden UMAP becomes grey and cannot be changed back; - [ ✔] I have checked that this issue has not already been reported. - [✔ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.pca(adata, svd_solver='arpack'). sc.pp.neighbors(adata, n_pcs=50, knn=True). sc.tl.leiden(adata, resolution=10). sc.tl.umap(adata). sc.pl.umap(adata, color=['leiden'], legend_loc='on data', frameon=False, title='', use_raw=False). ```pytb. computing PCA. on highly variable genes. with n_comps=50. finished (0:00:07). computing neighbors. using 'X_pca' with n_pcs = 50. finished: added to `.uns['neighbors']`. `.obsp['distances']`, distances for each pair of neighbors. `.obsp['connectivities']`, weighted adjacency matrix (0:00:10). running Leiden clustering. finished: found 137 clusters and added. 'leiden', the cluster labels (adata.obs, categorical) (0:00:02). computing UMAP. finished: added. 'X_umap', UMAP coordinates (adata.obsm) (0:00:07). the obs value 'leiden' has more than 103 categories. Uniform 'grey' color will be used for all categories. ```. #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. Hello Scanpy,. When I make >100 clusters, the 'leiden' becomes gray and cannot be changed back in the same notebook. Could you please help me to solve this issue? Thanks! Best. YJ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2058
https://github.com/scverse/scanpy/issues/2058:176,modifiability,version,version,176,"leiden UMAP becomes grey and cannot be changed back; - [ ✔] I have checked that this issue has not already been reported. - [✔ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.pca(adata, svd_solver='arpack'). sc.pp.neighbors(adata, n_pcs=50, knn=True). sc.tl.leiden(adata, resolution=10). sc.tl.umap(adata). sc.pl.umap(adata, color=['leiden'], legend_loc='on data', frameon=False, title='', use_raw=False). ```pytb. computing PCA. on highly variable genes. with n_comps=50. finished (0:00:07). computing neighbors. using 'X_pca' with n_pcs = 50. finished: added to `.uns['neighbors']`. `.obsp['distances']`, distances for each pair of neighbors. `.obsp['connectivities']`, weighted adjacency matrix (0:00:10). running Leiden clustering. finished: found 137 clusters and added. 'leiden', the cluster labels (adata.obs, categorical) (0:00:02). computing UMAP. finished: added. 'X_umap', UMAP coordinates (adata.obsm) (0:00:07). the obs value 'leiden' has more than 103 categories. Uniform 'grey' color will be used for all categories. ```. #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. Hello Scanpy,. When I make >100 clusters, the 'leiden' becomes gray and cannot be changed back in the same notebook. Could you please help me to solve this issue? Thanks! Best. YJ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2058
https://github.com/scverse/scanpy/issues/2058:848,modifiability,variab,variable,848,"leiden UMAP becomes grey and cannot be changed back; - [ ✔] I have checked that this issue has not already been reported. - [✔ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.pca(adata, svd_solver='arpack'). sc.pp.neighbors(adata, n_pcs=50, knn=True). sc.tl.leiden(adata, resolution=10). sc.tl.umap(adata). sc.pl.umap(adata, color=['leiden'], legend_loc='on data', frameon=False, title='', use_raw=False). ```pytb. computing PCA. on highly variable genes. with n_comps=50. finished (0:00:07). computing neighbors. using 'X_pca' with n_pcs = 50. finished: added to `.uns['neighbors']`. `.obsp['distances']`, distances for each pair of neighbors. `.obsp['connectivities']`, weighted adjacency matrix (0:00:10). running Leiden clustering. finished: found 137 clusters and added. 'leiden', the cluster labels (adata.obs, categorical) (0:00:02). computing UMAP. finished: added. 'X_umap', UMAP coordinates (adata.obsm) (0:00:07). the obs value 'leiden' has more than 103 categories. Uniform 'grey' color will be used for all categories. ```. #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. Hello Scanpy,. When I make >100 clusters, the 'leiden' becomes gray and cannot be changed back in the same notebook. Could you please help me to solve this issue? Thanks! Best. YJ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2058
https://github.com/scverse/scanpy/issues/2058:1450,modifiability,Version,Versions,1450,"leiden UMAP becomes grey and cannot be changed back; - [ ✔] I have checked that this issue has not already been reported. - [✔ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.pca(adata, svd_solver='arpack'). sc.pp.neighbors(adata, n_pcs=50, knn=True). sc.tl.leiden(adata, resolution=10). sc.tl.umap(adata). sc.pl.umap(adata, color=['leiden'], legend_loc='on data', frameon=False, title='', use_raw=False). ```pytb. computing PCA. on highly variable genes. with n_comps=50. finished (0:00:07). computing neighbors. using 'X_pca' with n_pcs = 50. finished: added to `.uns['neighbors']`. `.obsp['distances']`, distances for each pair of neighbors. `.obsp['connectivities']`, weighted adjacency matrix (0:00:10). running Leiden clustering. finished: found 137 clusters and added. 'leiden', the cluster labels (adata.obs, categorical) (0:00:02). computing UMAP. finished: added. 'X_umap', UMAP coordinates (adata.obsm) (0:00:07). the obs value 'leiden' has more than 103 categories. Uniform 'grey' color will be used for all categories. ```. #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. Hello Scanpy,. When I make >100 clusters, the 'leiden' becomes gray and cannot be changed back in the same notebook. Could you please help me to solve this issue? Thanks! Best. YJ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2058
https://github.com/scverse/scanpy/issues/2058:136,usability,confirm,confirmed,136,"leiden UMAP becomes grey and cannot be changed back; - [ ✔] I have checked that this issue has not already been reported. - [✔ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.pca(adata, svd_solver='arpack'). sc.pp.neighbors(adata, n_pcs=50, knn=True). sc.tl.leiden(adata, resolution=10). sc.tl.umap(adata). sc.pl.umap(adata, color=['leiden'], legend_loc='on data', frameon=False, title='', use_raw=False). ```pytb. computing PCA. on highly variable genes. with n_comps=50. finished (0:00:07). computing neighbors. using 'X_pca' with n_pcs = 50. finished: added to `.uns['neighbors']`. `.obsp['distances']`, distances for each pair of neighbors. `.obsp['connectivities']`, weighted adjacency matrix (0:00:10). running Leiden clustering. finished: found 137 clusters and added. 'leiden', the cluster labels (adata.obs, categorical) (0:00:02). computing UMAP. finished: added. 'X_umap', UMAP coordinates (adata.obsm) (0:00:07). the obs value 'leiden' has more than 103 categories. Uniform 'grey' color will be used for all categories. ```. #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. Hello Scanpy,. When I make >100 clusters, the 'leiden' becomes gray and cannot be changed back in the same notebook. Could you please help me to solve this issue? Thanks! Best. YJ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2058
https://github.com/scverse/scanpy/issues/2058:219,usability,confirm,confirmed,219,"leiden UMAP becomes grey and cannot be changed back; - [ ✔] I have checked that this issue has not already been reported. - [✔ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.pca(adata, svd_solver='arpack'). sc.pp.neighbors(adata, n_pcs=50, knn=True). sc.tl.leiden(adata, resolution=10). sc.tl.umap(adata). sc.pl.umap(adata, color=['leiden'], legend_loc='on data', frameon=False, title='', use_raw=False). ```pytb. computing PCA. on highly variable genes. with n_comps=50. finished (0:00:07). computing neighbors. using 'X_pca' with n_pcs = 50. finished: added to `.uns['neighbors']`. `.obsp['distances']`, distances for each pair of neighbors. `.obsp['connectivities']`, weighted adjacency matrix (0:00:10). running Leiden clustering. finished: found 137 clusters and added. 'leiden', the cluster labels (adata.obs, categorical) (0:00:02). computing UMAP. finished: added. 'X_umap', UMAP coordinates (adata.obsm) (0:00:07). the obs value 'leiden' has more than 103 categories. Uniform 'grey' color will be used for all categories. ```. #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. Hello Scanpy,. When I make >100 clusters, the 'leiden' becomes gray and cannot be changed back in the same notebook. Could you please help me to solve this issue? Thanks! Best. YJ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2058
https://github.com/scverse/scanpy/issues/2058:310,usability,guid,guide,310,"leiden UMAP becomes grey and cannot be changed back; - [ ✔] I have checked that this issue has not already been reported. - [✔ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.pca(adata, svd_solver='arpack'). sc.pp.neighbors(adata, n_pcs=50, knn=True). sc.tl.leiden(adata, resolution=10). sc.tl.umap(adata). sc.pl.umap(adata, color=['leiden'], legend_loc='on data', frameon=False, title='', use_raw=False). ```pytb. computing PCA. on highly variable genes. with n_comps=50. finished (0:00:07). computing neighbors. using 'X_pca' with n_pcs = 50. finished: added to `.uns['neighbors']`. `.obsp['distances']`, distances for each pair of neighbors. `.obsp['connectivities']`, weighted adjacency matrix (0:00:10). running Leiden clustering. finished: found 137 clusters and added. 'leiden', the cluster labels (adata.obs, categorical) (0:00:02). computing UMAP. finished: added. 'X_umap', UMAP coordinates (adata.obsm) (0:00:07). the obs value 'leiden' has more than 103 categories. Uniform 'grey' color will be used for all categories. ```. #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. Hello Scanpy,. When I make >100 clusters, the 'leiden' becomes gray and cannot be changed back in the same notebook. Could you please help me to solve this issue? Thanks! Best. YJ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2058
https://github.com/scverse/scanpy/issues/2058:365,usability,minim,minimal-bug-reports,365,"leiden UMAP becomes grey and cannot be changed back; - [ ✔] I have checked that this issue has not already been reported. - [✔ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.pca(adata, svd_solver='arpack'). sc.pp.neighbors(adata, n_pcs=50, knn=True). sc.tl.leiden(adata, resolution=10). sc.tl.umap(adata). sc.pl.umap(adata, color=['leiden'], legend_loc='on data', frameon=False, title='', use_raw=False). ```pytb. computing PCA. on highly variable genes. with n_comps=50. finished (0:00:07). computing neighbors. using 'X_pca' with n_pcs = 50. finished: added to `.uns['neighbors']`. `.obsp['distances']`, distances for each pair of neighbors. `.obsp['connectivities']`, weighted adjacency matrix (0:00:10). running Leiden clustering. finished: found 137 clusters and added. 'leiden', the cluster labels (adata.obs, categorical) (0:00:02). computing UMAP. finished: added. 'X_umap', UMAP coordinates (adata.obsm) (0:00:07). the obs value 'leiden' has more than 103 categories. Uniform 'grey' color will be used for all categories. ```. #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. Hello Scanpy,. When I make >100 clusters, the 'leiden' becomes gray and cannot be changed back in the same notebook. Could you please help me to solve this issue? Thanks! Best. YJ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2058
https://github.com/scverse/scanpy/issues/2058:471,usability,Minim,Minimal,471,"leiden UMAP becomes grey and cannot be changed back; - [ ✔] I have checked that this issue has not already been reported. - [✔ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.pca(adata, svd_solver='arpack'). sc.pp.neighbors(adata, n_pcs=50, knn=True). sc.tl.leiden(adata, resolution=10). sc.tl.umap(adata). sc.pl.umap(adata, color=['leiden'], legend_loc='on data', frameon=False, title='', use_raw=False). ```pytb. computing PCA. on highly variable genes. with n_comps=50. finished (0:00:07). computing neighbors. using 'X_pca' with n_pcs = 50. finished: added to `.uns['neighbors']`. `.obsp['distances']`, distances for each pair of neighbors. `.obsp['connectivities']`, weighted adjacency matrix (0:00:10). running Leiden clustering. finished: found 137 clusters and added. 'leiden', the cluster labels (adata.obs, categorical) (0:00:02). computing UMAP. finished: added. 'X_umap', UMAP coordinates (adata.obsm) (0:00:07). the obs value 'leiden' has more than 103 categories. Uniform 'grey' color will be used for all categories. ```. #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. Hello Scanpy,. When I make >100 clusters, the 'leiden' becomes gray and cannot be changed back in the same notebook. Could you please help me to solve this issue? Thanks! Best. YJ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2058
https://github.com/scverse/scanpy/issues/2058:1560,usability,learn,learn,1560,"leiden UMAP becomes grey and cannot be changed back; - [ ✔] I have checked that this issue has not already been reported. - [✔ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.pca(adata, svd_solver='arpack'). sc.pp.neighbors(adata, n_pcs=50, knn=True). sc.tl.leiden(adata, resolution=10). sc.tl.umap(adata). sc.pl.umap(adata, color=['leiden'], legend_loc='on data', frameon=False, title='', use_raw=False). ```pytb. computing PCA. on highly variable genes. with n_comps=50. finished (0:00:07). computing neighbors. using 'X_pca' with n_pcs = 50. finished: added to `.uns['neighbors']`. `.obsp['distances']`, distances for each pair of neighbors. `.obsp['connectivities']`, weighted adjacency matrix (0:00:10). running Leiden clustering. finished: found 137 clusters and added. 'leiden', the cluster labels (adata.obs, categorical) (0:00:02). computing UMAP. finished: added. 'X_umap', UMAP coordinates (adata.obsm) (0:00:07). the obs value 'leiden' has more than 103 categories. Uniform 'grey' color will be used for all categories. ```. #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. Hello Scanpy,. When I make >100 clusters, the 'leiden' becomes gray and cannot be changed back in the same notebook. Could you please help me to solve this issue? Thanks! Best. YJ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2058
https://github.com/scverse/scanpy/issues/2058:1780,usability,help,help,1780,"leiden UMAP becomes grey and cannot be changed back; - [ ✔] I have checked that this issue has not already been reported. - [✔ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python 3.8. # Your code here. ```sc.tl.pca(adata, svd_solver='arpack'). sc.pp.neighbors(adata, n_pcs=50, knn=True). sc.tl.leiden(adata, resolution=10). sc.tl.umap(adata). sc.pl.umap(adata, color=['leiden'], legend_loc='on data', frameon=False, title='', use_raw=False). ```pytb. computing PCA. on highly variable genes. with n_comps=50. finished (0:00:07). computing neighbors. using 'X_pca' with n_pcs = 50. finished: added to `.uns['neighbors']`. `.obsp['distances']`, distances for each pair of neighbors. `.obsp['connectivities']`, weighted adjacency matrix (0:00:10). running Leiden clustering. finished: found 137 clusters and added. 'leiden', the cluster labels (adata.obs, categorical) (0:00:02). computing UMAP. finished: added. 'X_umap', UMAP coordinates (adata.obsm) (0:00:07). the obs value 'leiden' has more than 103 categories. Uniform 'grey' color will be used for all categories. ```. #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. </details>. Hello Scanpy,. When I make >100 clusters, the 'leiden' becomes gray and cannot be changed back in the same notebook. Could you please help me to solve this issue? Thanks! Best. YJ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2058
https://github.com/scverse/scanpy/issues/2059:479,availability,sli,slices,479,"limit number of loadings in pl.pca_loadings; In pl.pca_loagings(), there should be an option to limit the number of points plotted (basically n_points from ranking). Why: I recently used the AnnData/scanpy suite to perform some analysis on a low number of genes (less than 30, amplified by qRT-PCR). As the number of features is less than 30 (30 being the default value for n_points in ranking(adata,*args,**kwargs), the loadings appear twice on the sc.pl.loadings() graph. (the slices [0:15] and 5:20] are overlapping, in case you have only 20 genes. definition should be:. ```. def pca_loadings(. adata: AnnData,. components: Union[str, Sequence[int], None] = None,. n_points=30,. include_lowest: bool = True,. show: Optional[bool] = None,. save: Union[str, bool, None] = None,. ):. ```. and later in implementation. ```. ranking(. adata,. 'varm',. 'PCs',. npoints=npoints,. indices=components,. include_lowest=include_lowest,. ). ```",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2059
https://github.com/scverse/scanpy/issues/2059:16,energy efficiency,load,loadings,16,"limit number of loadings in pl.pca_loadings; In pl.pca_loagings(), there should be an option to limit the number of points plotted (basically n_points from ranking). Why: I recently used the AnnData/scanpy suite to perform some analysis on a low number of genes (less than 30, amplified by qRT-PCR). As the number of features is less than 30 (30 being the default value for n_points in ranking(adata,*args,**kwargs), the loadings appear twice on the sc.pl.loadings() graph. (the slices [0:15] and 5:20] are overlapping, in case you have only 20 genes. definition should be:. ```. def pca_loadings(. adata: AnnData,. components: Union[str, Sequence[int], None] = None,. n_points=30,. include_lowest: bool = True,. show: Optional[bool] = None,. save: Union[str, bool, None] = None,. ):. ```. and later in implementation. ```. ranking(. adata,. 'varm',. 'PCs',. npoints=npoints,. indices=components,. include_lowest=include_lowest,. ). ```",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2059
https://github.com/scverse/scanpy/issues/2059:421,energy efficiency,load,loadings,421,"limit number of loadings in pl.pca_loadings; In pl.pca_loagings(), there should be an option to limit the number of points plotted (basically n_points from ranking). Why: I recently used the AnnData/scanpy suite to perform some analysis on a low number of genes (less than 30, amplified by qRT-PCR). As the number of features is less than 30 (30 being the default value for n_points in ranking(adata,*args,**kwargs), the loadings appear twice on the sc.pl.loadings() graph. (the slices [0:15] and 5:20] are overlapping, in case you have only 20 genes. definition should be:. ```. def pca_loadings(. adata: AnnData,. components: Union[str, Sequence[int], None] = None,. n_points=30,. include_lowest: bool = True,. show: Optional[bool] = None,. save: Union[str, bool, None] = None,. ):. ```. and later in implementation. ```. ranking(. adata,. 'varm',. 'PCs',. npoints=npoints,. indices=components,. include_lowest=include_lowest,. ). ```",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2059
https://github.com/scverse/scanpy/issues/2059:456,energy efficiency,load,loadings,456,"limit number of loadings in pl.pca_loadings; In pl.pca_loagings(), there should be an option to limit the number of points plotted (basically n_points from ranking). Why: I recently used the AnnData/scanpy suite to perform some analysis on a low number of genes (less than 30, amplified by qRT-PCR). As the number of features is less than 30 (30 being the default value for n_points in ranking(adata,*args,**kwargs), the loadings appear twice on the sc.pl.loadings() graph. (the slices [0:15] and 5:20] are overlapping, in case you have only 20 genes. definition should be:. ```. def pca_loadings(. adata: AnnData,. components: Union[str, Sequence[int], None] = None,. n_points=30,. include_lowest: bool = True,. show: Optional[bool] = None,. save: Union[str, bool, None] = None,. ):. ```. and later in implementation. ```. ranking(. adata,. 'varm',. 'PCs',. npoints=npoints,. indices=components,. include_lowest=include_lowest,. ). ```",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2059
https://github.com/scverse/scanpy/issues/2059:616,integrability,compon,components,616,"limit number of loadings in pl.pca_loadings; In pl.pca_loagings(), there should be an option to limit the number of points plotted (basically n_points from ranking). Why: I recently used the AnnData/scanpy suite to perform some analysis on a low number of genes (less than 30, amplified by qRT-PCR). As the number of features is less than 30 (30 being the default value for n_points in ranking(adata,*args,**kwargs), the loadings appear twice on the sc.pl.loadings() graph. (the slices [0:15] and 5:20] are overlapping, in case you have only 20 genes. definition should be:. ```. def pca_loadings(. adata: AnnData,. components: Union[str, Sequence[int], None] = None,. n_points=30,. include_lowest: bool = True,. show: Optional[bool] = None,. save: Union[str, bool, None] = None,. ):. ```. and later in implementation. ```. ranking(. adata,. 'varm',. 'PCs',. npoints=npoints,. indices=components,. include_lowest=include_lowest,. ). ```",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2059
https://github.com/scverse/scanpy/issues/2059:885,integrability,compon,components,885,"limit number of loadings in pl.pca_loadings; In pl.pca_loagings(), there should be an option to limit the number of points plotted (basically n_points from ranking). Why: I recently used the AnnData/scanpy suite to perform some analysis on a low number of genes (less than 30, amplified by qRT-PCR). As the number of features is less than 30 (30 being the default value for n_points in ranking(adata,*args,**kwargs), the loadings appear twice on the sc.pl.loadings() graph. (the slices [0:15] and 5:20] are overlapping, in case you have only 20 genes. definition should be:. ```. def pca_loadings(. adata: AnnData,. components: Union[str, Sequence[int], None] = None,. n_points=30,. include_lowest: bool = True,. show: Optional[bool] = None,. save: Union[str, bool, None] = None,. ):. ```. and later in implementation. ```. ranking(. adata,. 'varm',. 'PCs',. npoints=npoints,. indices=components,. include_lowest=include_lowest,. ). ```",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2059
https://github.com/scverse/scanpy/issues/2059:616,interoperability,compon,components,616,"limit number of loadings in pl.pca_loadings; In pl.pca_loagings(), there should be an option to limit the number of points plotted (basically n_points from ranking). Why: I recently used the AnnData/scanpy suite to perform some analysis on a low number of genes (less than 30, amplified by qRT-PCR). As the number of features is less than 30 (30 being the default value for n_points in ranking(adata,*args,**kwargs), the loadings appear twice on the sc.pl.loadings() graph. (the slices [0:15] and 5:20] are overlapping, in case you have only 20 genes. definition should be:. ```. def pca_loadings(. adata: AnnData,. components: Union[str, Sequence[int], None] = None,. n_points=30,. include_lowest: bool = True,. show: Optional[bool] = None,. save: Union[str, bool, None] = None,. ):. ```. and later in implementation. ```. ranking(. adata,. 'varm',. 'PCs',. npoints=npoints,. indices=components,. include_lowest=include_lowest,. ). ```",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2059
https://github.com/scverse/scanpy/issues/2059:885,interoperability,compon,components,885,"limit number of loadings in pl.pca_loadings; In pl.pca_loagings(), there should be an option to limit the number of points plotted (basically n_points from ranking). Why: I recently used the AnnData/scanpy suite to perform some analysis on a low number of genes (less than 30, amplified by qRT-PCR). As the number of features is less than 30 (30 being the default value for n_points in ranking(adata,*args,**kwargs), the loadings appear twice on the sc.pl.loadings() graph. (the slices [0:15] and 5:20] are overlapping, in case you have only 20 genes. definition should be:. ```. def pca_loadings(. adata: AnnData,. components: Union[str, Sequence[int], None] = None,. n_points=30,. include_lowest: bool = True,. show: Optional[bool] = None,. save: Union[str, bool, None] = None,. ):. ```. and later in implementation. ```. ranking(. adata,. 'varm',. 'PCs',. npoints=npoints,. indices=components,. include_lowest=include_lowest,. ). ```",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2059
https://github.com/scverse/scanpy/issues/2059:616,modifiability,compon,components,616,"limit number of loadings in pl.pca_loadings; In pl.pca_loagings(), there should be an option to limit the number of points plotted (basically n_points from ranking). Why: I recently used the AnnData/scanpy suite to perform some analysis on a low number of genes (less than 30, amplified by qRT-PCR). As the number of features is less than 30 (30 being the default value for n_points in ranking(adata,*args,**kwargs), the loadings appear twice on the sc.pl.loadings() graph. (the slices [0:15] and 5:20] are overlapping, in case you have only 20 genes. definition should be:. ```. def pca_loadings(. adata: AnnData,. components: Union[str, Sequence[int], None] = None,. n_points=30,. include_lowest: bool = True,. show: Optional[bool] = None,. save: Union[str, bool, None] = None,. ):. ```. and later in implementation. ```. ranking(. adata,. 'varm',. 'PCs',. npoints=npoints,. indices=components,. include_lowest=include_lowest,. ). ```",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2059
https://github.com/scverse/scanpy/issues/2059:885,modifiability,compon,components,885,"limit number of loadings in pl.pca_loadings; In pl.pca_loagings(), there should be an option to limit the number of points plotted (basically n_points from ranking). Why: I recently used the AnnData/scanpy suite to perform some analysis on a low number of genes (less than 30, amplified by qRT-PCR). As the number of features is less than 30 (30 being the default value for n_points in ranking(adata,*args,**kwargs), the loadings appear twice on the sc.pl.loadings() graph. (the slices [0:15] and 5:20] are overlapping, in case you have only 20 genes. definition should be:. ```. def pca_loadings(. adata: AnnData,. components: Union[str, Sequence[int], None] = None,. n_points=30,. include_lowest: bool = True,. show: Optional[bool] = None,. save: Union[str, bool, None] = None,. ):. ```. and later in implementation. ```. ranking(. adata,. 'varm',. 'PCs',. npoints=npoints,. indices=components,. include_lowest=include_lowest,. ). ```",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2059
https://github.com/scverse/scanpy/issues/2059:16,performance,load,loadings,16,"limit number of loadings in pl.pca_loadings; In pl.pca_loagings(), there should be an option to limit the number of points plotted (basically n_points from ranking). Why: I recently used the AnnData/scanpy suite to perform some analysis on a low number of genes (less than 30, amplified by qRT-PCR). As the number of features is less than 30 (30 being the default value for n_points in ranking(adata,*args,**kwargs), the loadings appear twice on the sc.pl.loadings() graph. (the slices [0:15] and 5:20] are overlapping, in case you have only 20 genes. definition should be:. ```. def pca_loadings(. adata: AnnData,. components: Union[str, Sequence[int], None] = None,. n_points=30,. include_lowest: bool = True,. show: Optional[bool] = None,. save: Union[str, bool, None] = None,. ):. ```. and later in implementation. ```. ranking(. adata,. 'varm',. 'PCs',. npoints=npoints,. indices=components,. include_lowest=include_lowest,. ). ```",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2059
https://github.com/scverse/scanpy/issues/2059:215,performance,perform,perform,215,"limit number of loadings in pl.pca_loadings; In pl.pca_loagings(), there should be an option to limit the number of points plotted (basically n_points from ranking). Why: I recently used the AnnData/scanpy suite to perform some analysis on a low number of genes (less than 30, amplified by qRT-PCR). As the number of features is less than 30 (30 being the default value for n_points in ranking(adata,*args,**kwargs), the loadings appear twice on the sc.pl.loadings() graph. (the slices [0:15] and 5:20] are overlapping, in case you have only 20 genes. definition should be:. ```. def pca_loadings(. adata: AnnData,. components: Union[str, Sequence[int], None] = None,. n_points=30,. include_lowest: bool = True,. show: Optional[bool] = None,. save: Union[str, bool, None] = None,. ):. ```. and later in implementation. ```. ranking(. adata,. 'varm',. 'PCs',. npoints=npoints,. indices=components,. include_lowest=include_lowest,. ). ```",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2059
https://github.com/scverse/scanpy/issues/2059:421,performance,load,loadings,421,"limit number of loadings in pl.pca_loadings; In pl.pca_loagings(), there should be an option to limit the number of points plotted (basically n_points from ranking). Why: I recently used the AnnData/scanpy suite to perform some analysis on a low number of genes (less than 30, amplified by qRT-PCR). As the number of features is less than 30 (30 being the default value for n_points in ranking(adata,*args,**kwargs), the loadings appear twice on the sc.pl.loadings() graph. (the slices [0:15] and 5:20] are overlapping, in case you have only 20 genes. definition should be:. ```. def pca_loadings(. adata: AnnData,. components: Union[str, Sequence[int], None] = None,. n_points=30,. include_lowest: bool = True,. show: Optional[bool] = None,. save: Union[str, bool, None] = None,. ):. ```. and later in implementation. ```. ranking(. adata,. 'varm',. 'PCs',. npoints=npoints,. indices=components,. include_lowest=include_lowest,. ). ```",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2059
https://github.com/scverse/scanpy/issues/2059:456,performance,load,loadings,456,"limit number of loadings in pl.pca_loadings; In pl.pca_loagings(), there should be an option to limit the number of points plotted (basically n_points from ranking). Why: I recently used the AnnData/scanpy suite to perform some analysis on a low number of genes (less than 30, amplified by qRT-PCR). As the number of features is less than 30 (30 being the default value for n_points in ranking(adata,*args,**kwargs), the loadings appear twice on the sc.pl.loadings() graph. (the slices [0:15] and 5:20] are overlapping, in case you have only 20 genes. definition should be:. ```. def pca_loadings(. adata: AnnData,. components: Union[str, Sequence[int], None] = None,. n_points=30,. include_lowest: bool = True,. show: Optional[bool] = None,. save: Union[str, bool, None] = None,. ):. ```. and later in implementation. ```. ranking(. adata,. 'varm',. 'PCs',. npoints=npoints,. indices=components,. include_lowest=include_lowest,. ). ```",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2059
https://github.com/scverse/scanpy/issues/2059:479,reliability,sli,slices,479,"limit number of loadings in pl.pca_loadings; In pl.pca_loagings(), there should be an option to limit the number of points plotted (basically n_points from ranking). Why: I recently used the AnnData/scanpy suite to perform some analysis on a low number of genes (less than 30, amplified by qRT-PCR). As the number of features is less than 30 (30 being the default value for n_points in ranking(adata,*args,**kwargs), the loadings appear twice on the sc.pl.loadings() graph. (the slices [0:15] and 5:20] are overlapping, in case you have only 20 genes. definition should be:. ```. def pca_loadings(. adata: AnnData,. components: Union[str, Sequence[int], None] = None,. n_points=30,. include_lowest: bool = True,. show: Optional[bool] = None,. save: Union[str, bool, None] = None,. ):. ```. and later in implementation. ```. ranking(. adata,. 'varm',. 'PCs',. npoints=npoints,. indices=components,. include_lowest=include_lowest,. ). ```",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2059
https://github.com/scverse/scanpy/issues/2059:215,usability,perform,perform,215,"limit number of loadings in pl.pca_loadings; In pl.pca_loagings(), there should be an option to limit the number of points plotted (basically n_points from ranking). Why: I recently used the AnnData/scanpy suite to perform some analysis on a low number of genes (less than 30, amplified by qRT-PCR). As the number of features is less than 30 (30 being the default value for n_points in ranking(adata,*args,**kwargs), the loadings appear twice on the sc.pl.loadings() graph. (the slices [0:15] and 5:20] are overlapping, in case you have only 20 genes. definition should be:. ```. def pca_loadings(. adata: AnnData,. components: Union[str, Sequence[int], None] = None,. n_points=30,. include_lowest: bool = True,. show: Optional[bool] = None,. save: Union[str, bool, None] = None,. ):. ```. and later in implementation. ```. ranking(. adata,. 'varm',. 'PCs',. npoints=npoints,. indices=components,. include_lowest=include_lowest,. ). ```",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2059
https://github.com/scverse/scanpy/issues/2060:433,deployability,scale,scales,433,"Possible enhancement: multithreaded (via numba) mann-whitney tests; - [x] Additional function parameters / changed functionality / changed defaults? I recently wrote up a parallelized implementation of the Mann-Whitney U test, for my own use ([gist is here](https://gist.github.com/jamestwebber/38ab26d281f97feb8196b3d93edeeb7b)). For the types of tests we tend to do in scRNAseq (lots of different features, 2d arrays) it basically scales with the number of cores you can throw at it. When you're doing a lot of tests this is very nice! Given that `scanpy` already has a dependency on `numba` this would be a pretty simple thing to add, if you want to do so. Thought I would just point it out! - James",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2060
https://github.com/scverse/scanpy/issues/2060:572,deployability,depend,dependency,572,"Possible enhancement: multithreaded (via numba) mann-whitney tests; - [x] Additional function parameters / changed functionality / changed defaults? I recently wrote up a parallelized implementation of the Mann-Whitney U test, for my own use ([gist is here](https://gist.github.com/jamestwebber/38ab26d281f97feb8196b3d93edeeb7b)). For the types of tests we tend to do in scRNAseq (lots of different features, 2d arrays) it basically scales with the number of cores you can throw at it. When you're doing a lot of tests this is very nice! Given that `scanpy` already has a dependency on `numba` this would be a pretty simple thing to add, if you want to do so. Thought I would just point it out! - James",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2060
https://github.com/scverse/scanpy/issues/2060:433,energy efficiency,scale,scales,433,"Possible enhancement: multithreaded (via numba) mann-whitney tests; - [x] Additional function parameters / changed functionality / changed defaults? I recently wrote up a parallelized implementation of the Mann-Whitney U test, for my own use ([gist is here](https://gist.github.com/jamestwebber/38ab26d281f97feb8196b3d93edeeb7b)). For the types of tests we tend to do in scRNAseq (lots of different features, 2d arrays) it basically scales with the number of cores you can throw at it. When you're doing a lot of tests this is very nice! Given that `scanpy` already has a dependency on `numba` this would be a pretty simple thing to add, if you want to do so. Thought I would just point it out! - James",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2060
https://github.com/scverse/scanpy/issues/2060:459,energy efficiency,core,cores,459,"Possible enhancement: multithreaded (via numba) mann-whitney tests; - [x] Additional function parameters / changed functionality / changed defaults? I recently wrote up a parallelized implementation of the Mann-Whitney U test, for my own use ([gist is here](https://gist.github.com/jamestwebber/38ab26d281f97feb8196b3d93edeeb7b)). For the types of tests we tend to do in scRNAseq (lots of different features, 2d arrays) it basically scales with the number of cores you can throw at it. When you're doing a lot of tests this is very nice! Given that `scanpy` already has a dependency on `numba` this would be a pretty simple thing to add, if you want to do so. Thought I would just point it out! - James",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2060
https://github.com/scverse/scanpy/issues/2060:572,integrability,depend,dependency,572,"Possible enhancement: multithreaded (via numba) mann-whitney tests; - [x] Additional function parameters / changed functionality / changed defaults? I recently wrote up a parallelized implementation of the Mann-Whitney U test, for my own use ([gist is here](https://gist.github.com/jamestwebber/38ab26d281f97feb8196b3d93edeeb7b)). For the types of tests we tend to do in scRNAseq (lots of different features, 2d arrays) it basically scales with the number of cores you can throw at it. When you're doing a lot of tests this is very nice! Given that `scanpy` already has a dependency on `numba` this would be a pretty simple thing to add, if you want to do so. Thought I would just point it out! - James",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2060
https://github.com/scverse/scanpy/issues/2060:94,modifiability,paramet,parameters,94,"Possible enhancement: multithreaded (via numba) mann-whitney tests; - [x] Additional function parameters / changed functionality / changed defaults? I recently wrote up a parallelized implementation of the Mann-Whitney U test, for my own use ([gist is here](https://gist.github.com/jamestwebber/38ab26d281f97feb8196b3d93edeeb7b)). For the types of tests we tend to do in scRNAseq (lots of different features, 2d arrays) it basically scales with the number of cores you can throw at it. When you're doing a lot of tests this is very nice! Given that `scanpy` already has a dependency on `numba` this would be a pretty simple thing to add, if you want to do so. Thought I would just point it out! - James",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2060
https://github.com/scverse/scanpy/issues/2060:433,modifiability,scal,scales,433,"Possible enhancement: multithreaded (via numba) mann-whitney tests; - [x] Additional function parameters / changed functionality / changed defaults? I recently wrote up a parallelized implementation of the Mann-Whitney U test, for my own use ([gist is here](https://gist.github.com/jamestwebber/38ab26d281f97feb8196b3d93edeeb7b)). For the types of tests we tend to do in scRNAseq (lots of different features, 2d arrays) it basically scales with the number of cores you can throw at it. When you're doing a lot of tests this is very nice! Given that `scanpy` already has a dependency on `numba` this would be a pretty simple thing to add, if you want to do so. Thought I would just point it out! - James",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2060
https://github.com/scverse/scanpy/issues/2060:572,modifiability,depend,dependency,572,"Possible enhancement: multithreaded (via numba) mann-whitney tests; - [x] Additional function parameters / changed functionality / changed defaults? I recently wrote up a parallelized implementation of the Mann-Whitney U test, for my own use ([gist is here](https://gist.github.com/jamestwebber/38ab26d281f97feb8196b3d93edeeb7b)). For the types of tests we tend to do in scRNAseq (lots of different features, 2d arrays) it basically scales with the number of cores you can throw at it. When you're doing a lot of tests this is very nice! Given that `scanpy` already has a dependency on `numba` this would be a pretty simple thing to add, if you want to do so. Thought I would just point it out! - James",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2060
https://github.com/scverse/scanpy/issues/2060:171,performance,parallel,parallelized,171,"Possible enhancement: multithreaded (via numba) mann-whitney tests; - [x] Additional function parameters / changed functionality / changed defaults? I recently wrote up a parallelized implementation of the Mann-Whitney U test, for my own use ([gist is here](https://gist.github.com/jamestwebber/38ab26d281f97feb8196b3d93edeeb7b)). For the types of tests we tend to do in scRNAseq (lots of different features, 2d arrays) it basically scales with the number of cores you can throw at it. When you're doing a lot of tests this is very nice! Given that `scanpy` already has a dependency on `numba` this would be a pretty simple thing to add, if you want to do so. Thought I would just point it out! - James",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2060
https://github.com/scverse/scanpy/issues/2060:433,performance,scale,scales,433,"Possible enhancement: multithreaded (via numba) mann-whitney tests; - [x] Additional function parameters / changed functionality / changed defaults? I recently wrote up a parallelized implementation of the Mann-Whitney U test, for my own use ([gist is here](https://gist.github.com/jamestwebber/38ab26d281f97feb8196b3d93edeeb7b)). For the types of tests we tend to do in scRNAseq (lots of different features, 2d arrays) it basically scales with the number of cores you can throw at it. When you're doing a lot of tests this is very nice! Given that `scanpy` already has a dependency on `numba` this would be a pretty simple thing to add, if you want to do so. Thought I would just point it out! - James",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2060
https://github.com/scverse/scanpy/issues/2060:61,safety,test,tests,61,"Possible enhancement: multithreaded (via numba) mann-whitney tests; - [x] Additional function parameters / changed functionality / changed defaults? I recently wrote up a parallelized implementation of the Mann-Whitney U test, for my own use ([gist is here](https://gist.github.com/jamestwebber/38ab26d281f97feb8196b3d93edeeb7b)). For the types of tests we tend to do in scRNAseq (lots of different features, 2d arrays) it basically scales with the number of cores you can throw at it. When you're doing a lot of tests this is very nice! Given that `scanpy` already has a dependency on `numba` this would be a pretty simple thing to add, if you want to do so. Thought I would just point it out! - James",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2060
https://github.com/scverse/scanpy/issues/2060:221,safety,test,test,221,"Possible enhancement: multithreaded (via numba) mann-whitney tests; - [x] Additional function parameters / changed functionality / changed defaults? I recently wrote up a parallelized implementation of the Mann-Whitney U test, for my own use ([gist is here](https://gist.github.com/jamestwebber/38ab26d281f97feb8196b3d93edeeb7b)). For the types of tests we tend to do in scRNAseq (lots of different features, 2d arrays) it basically scales with the number of cores you can throw at it. When you're doing a lot of tests this is very nice! Given that `scanpy` already has a dependency on `numba` this would be a pretty simple thing to add, if you want to do so. Thought I would just point it out! - James",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2060
https://github.com/scverse/scanpy/issues/2060:348,safety,test,tests,348,"Possible enhancement: multithreaded (via numba) mann-whitney tests; - [x] Additional function parameters / changed functionality / changed defaults? I recently wrote up a parallelized implementation of the Mann-Whitney U test, for my own use ([gist is here](https://gist.github.com/jamestwebber/38ab26d281f97feb8196b3d93edeeb7b)). For the types of tests we tend to do in scRNAseq (lots of different features, 2d arrays) it basically scales with the number of cores you can throw at it. When you're doing a lot of tests this is very nice! Given that `scanpy` already has a dependency on `numba` this would be a pretty simple thing to add, if you want to do so. Thought I would just point it out! - James",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2060
https://github.com/scverse/scanpy/issues/2060:513,safety,test,tests,513,"Possible enhancement: multithreaded (via numba) mann-whitney tests; - [x] Additional function parameters / changed functionality / changed defaults? I recently wrote up a parallelized implementation of the Mann-Whitney U test, for my own use ([gist is here](https://gist.github.com/jamestwebber/38ab26d281f97feb8196b3d93edeeb7b)). For the types of tests we tend to do in scRNAseq (lots of different features, 2d arrays) it basically scales with the number of cores you can throw at it. When you're doing a lot of tests this is very nice! Given that `scanpy` already has a dependency on `numba` this would be a pretty simple thing to add, if you want to do so. Thought I would just point it out! - James",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2060
https://github.com/scverse/scanpy/issues/2060:572,safety,depend,dependency,572,"Possible enhancement: multithreaded (via numba) mann-whitney tests; - [x] Additional function parameters / changed functionality / changed defaults? I recently wrote up a parallelized implementation of the Mann-Whitney U test, for my own use ([gist is here](https://gist.github.com/jamestwebber/38ab26d281f97feb8196b3d93edeeb7b)). For the types of tests we tend to do in scRNAseq (lots of different features, 2d arrays) it basically scales with the number of cores you can throw at it. When you're doing a lot of tests this is very nice! Given that `scanpy` already has a dependency on `numba` this would be a pretty simple thing to add, if you want to do so. Thought I would just point it out! - James",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2060
https://github.com/scverse/scanpy/issues/2060:61,testability,test,tests,61,"Possible enhancement: multithreaded (via numba) mann-whitney tests; - [x] Additional function parameters / changed functionality / changed defaults? I recently wrote up a parallelized implementation of the Mann-Whitney U test, for my own use ([gist is here](https://gist.github.com/jamestwebber/38ab26d281f97feb8196b3d93edeeb7b)). For the types of tests we tend to do in scRNAseq (lots of different features, 2d arrays) it basically scales with the number of cores you can throw at it. When you're doing a lot of tests this is very nice! Given that `scanpy` already has a dependency on `numba` this would be a pretty simple thing to add, if you want to do so. Thought I would just point it out! - James",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2060
https://github.com/scverse/scanpy/issues/2060:221,testability,test,test,221,"Possible enhancement: multithreaded (via numba) mann-whitney tests; - [x] Additional function parameters / changed functionality / changed defaults? I recently wrote up a parallelized implementation of the Mann-Whitney U test, for my own use ([gist is here](https://gist.github.com/jamestwebber/38ab26d281f97feb8196b3d93edeeb7b)). For the types of tests we tend to do in scRNAseq (lots of different features, 2d arrays) it basically scales with the number of cores you can throw at it. When you're doing a lot of tests this is very nice! Given that `scanpy` already has a dependency on `numba` this would be a pretty simple thing to add, if you want to do so. Thought I would just point it out! - James",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2060
https://github.com/scverse/scanpy/issues/2060:348,testability,test,tests,348,"Possible enhancement: multithreaded (via numba) mann-whitney tests; - [x] Additional function parameters / changed functionality / changed defaults? I recently wrote up a parallelized implementation of the Mann-Whitney U test, for my own use ([gist is here](https://gist.github.com/jamestwebber/38ab26d281f97feb8196b3d93edeeb7b)). For the types of tests we tend to do in scRNAseq (lots of different features, 2d arrays) it basically scales with the number of cores you can throw at it. When you're doing a lot of tests this is very nice! Given that `scanpy` already has a dependency on `numba` this would be a pretty simple thing to add, if you want to do so. Thought I would just point it out! - James",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2060
https://github.com/scverse/scanpy/issues/2060:513,testability,test,tests,513,"Possible enhancement: multithreaded (via numba) mann-whitney tests; - [x] Additional function parameters / changed functionality / changed defaults? I recently wrote up a parallelized implementation of the Mann-Whitney U test, for my own use ([gist is here](https://gist.github.com/jamestwebber/38ab26d281f97feb8196b3d93edeeb7b)). For the types of tests we tend to do in scRNAseq (lots of different features, 2d arrays) it basically scales with the number of cores you can throw at it. When you're doing a lot of tests this is very nice! Given that `scanpy` already has a dependency on `numba` this would be a pretty simple thing to add, if you want to do so. Thought I would just point it out! - James",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2060
https://github.com/scverse/scanpy/issues/2060:572,testability,depend,dependency,572,"Possible enhancement: multithreaded (via numba) mann-whitney tests; - [x] Additional function parameters / changed functionality / changed defaults? I recently wrote up a parallelized implementation of the Mann-Whitney U test, for my own use ([gist is here](https://gist.github.com/jamestwebber/38ab26d281f97feb8196b3d93edeeb7b)). For the types of tests we tend to do in scRNAseq (lots of different features, 2d arrays) it basically scales with the number of cores you can throw at it. When you're doing a lot of tests this is very nice! Given that `scanpy` already has a dependency on `numba` this would be a pretty simple thing to add, if you want to do so. Thought I would just point it out! - James",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2060
https://github.com/scverse/scanpy/issues/2060:617,testability,simpl,simple,617,"Possible enhancement: multithreaded (via numba) mann-whitney tests; - [x] Additional function parameters / changed functionality / changed defaults? I recently wrote up a parallelized implementation of the Mann-Whitney U test, for my own use ([gist is here](https://gist.github.com/jamestwebber/38ab26d281f97feb8196b3d93edeeb7b)). For the types of tests we tend to do in scRNAseq (lots of different features, 2d arrays) it basically scales with the number of cores you can throw at it. When you're doing a lot of tests this is very nice! Given that `scanpy` already has a dependency on `numba` this would be a pretty simple thing to add, if you want to do so. Thought I would just point it out! - James",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2060
https://github.com/scverse/scanpy/issues/2060:617,usability,simpl,simple,617,"Possible enhancement: multithreaded (via numba) mann-whitney tests; - [x] Additional function parameters / changed functionality / changed defaults? I recently wrote up a parallelized implementation of the Mann-Whitney U test, for my own use ([gist is here](https://gist.github.com/jamestwebber/38ab26d281f97feb8196b3d93edeeb7b)). For the types of tests we tend to do in scRNAseq (lots of different features, 2d arrays) it basically scales with the number of cores you can throw at it. When you're doing a lot of tests this is very nice! Given that `scanpy` already has a dependency on `numba` this would be a pretty simple thing to add, if you want to do so. Thought I would just point it out! - James",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2060
https://github.com/scverse/scanpy/pull/2061:165,deployability,patch,patch,165,"pca_loadings add n_points to account for less than 30 features; When less than 30 features are present in adata.X, pca_loadings will plot some components twice. The patch solves the problem by adding an n_point parameter (default value 30, same as anndata.ranking())that is then passed to anndata.ranking(). . <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2061
https://github.com/scverse/scanpy/pull/2061:143,integrability,compon,components,143,"pca_loadings add n_points to account for less than 30 features; When less than 30 features are present in adata.X, pca_loadings will plot some components twice. The patch solves the problem by adding an n_point parameter (default value 30, same as anndata.ranking())that is then passed to anndata.ranking(). . <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2061
https://github.com/scverse/scanpy/pull/2061:143,interoperability,compon,components,143,"pca_loadings add n_points to account for less than 30 features; When less than 30 features are present in adata.X, pca_loadings will plot some components twice. The patch solves the problem by adding an n_point parameter (default value 30, same as anndata.ranking())that is then passed to anndata.ranking(). . <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2061
https://github.com/scverse/scanpy/pull/2061:143,modifiability,compon,components,143,"pca_loadings add n_points to account for less than 30 features; When less than 30 features are present in adata.X, pca_loadings will plot some components twice. The patch solves the problem by adding an n_point parameter (default value 30, same as anndata.ranking())that is then passed to anndata.ranking(). . <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2061
https://github.com/scverse/scanpy/pull/2061:211,modifiability,paramet,parameter,211,"pca_loadings add n_points to account for less than 30 features; When less than 30 features are present in adata.X, pca_loadings will plot some components twice. The patch solves the problem by adding an n_point parameter (default value 30, same as anndata.ranking())that is then passed to anndata.ranking(). . <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2061
https://github.com/scverse/scanpy/pull/2061:165,safety,patch,patch,165,"pca_loadings add n_points to account for less than 30 features; When less than 30 features are present in adata.X, pca_loadings will plot some components twice. The patch solves the problem by adding an n_point parameter (default value 30, same as anndata.ranking())that is then passed to anndata.ranking(). . <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2061
https://github.com/scverse/scanpy/pull/2061:529,safety,review,review,529,"pca_loadings add n_points to account for less than 30 features; When less than 30 features are present in adata.X, pca_loadings will plot some components twice. The patch solves the problem by adding an n_point parameter (default value 30, same as anndata.ranking())that is then passed to anndata.ranking(). . <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2061
https://github.com/scverse/scanpy/pull/2061:165,security,patch,patch,165,"pca_loadings add n_points to account for less than 30 features; When less than 30 features are present in adata.X, pca_loadings will plot some components twice. The patch solves the problem by adding an n_point parameter (default value 30, same as anndata.ranking())that is then passed to anndata.ranking(). . <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2061
https://github.com/scverse/scanpy/pull/2061:529,testability,review,review,529,"pca_loadings add n_points to account for less than 30 features; When less than 30 features are present in adata.X, pca_loadings will plot some components twice. The patch solves the problem by adding an n_point parameter (default value 30, same as anndata.ranking())that is then passed to anndata.ranking(). . <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2061
https://github.com/scverse/scanpy/pull/2061:380,usability,guid,guidelines,380,"pca_loadings add n_points to account for less than 30 features; When less than 30 features are present in adata.X, pca_loadings will plot some components twice. The patch solves the problem by adding an n_point parameter (default value 30, same as anndata.ranking())that is then passed to anndata.ranking(). . <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2061
https://github.com/scverse/scanpy/pull/2061:411,usability,guid,guide,411,"pca_loadings add n_points to account for less than 30 features; When less than 30 features are present in adata.X, pca_loadings will plot some components twice. The patch solves the problem by adding an n_point parameter (default value 30, same as anndata.ranking())that is then passed to anndata.ranking(). . <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2061
https://github.com/scverse/scanpy/pull/2061:507,usability,workflow,workflow,507,"pca_loadings add n_points to account for less than 30 features; When less than 30 features are present in adata.X, pca_loadings will plot some components twice. The patch solves the problem by adding an n_point parameter (default value 30, same as anndata.ranking())that is then passed to anndata.ranking(). . <!--. Thanks for opening a PR to scanpy! Please be sure to follow the guidelines in our contribution guide (https://scanpy.readthedocs.io/en/latest/dev/index.html) to familiarize yourself with our workflow and speed up review. -->.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2061
https://github.com/scverse/scanpy/issues/2062:951,availability,monitor,monitor,951,"Illegal instruction with Python 3.9.7; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. import scanpy as sc. ```. ```pytb. Illegal instruction (core dumped). ```. #### Versions. <details>. Python 3.9.7 and scanpy 1.8.2. CPU flags including instruction sets are pasted below. fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx mmxext fxsr_opt pdpe1gb rdtscp lm constant_tsc rep_good nopl nonstop_tsc cpuid extd_apicid aperfmperf pni pclmulqdq monitor ssse3 fma cx16 sse4_1 sse4_2 popcnt aes xsave avx f16c lahf_lm cmp_legacy svm extapic cr8_legacy abm sse4a misalignsse 3dnowprefetch osvw ibs xop skinit wdt lwp fma4 tce nodeid_msr tbm topoext perfctr_core perfctr_nb cpb hw_pstate ssbd ibpb vmmcall bmi1 arat npt lbrv svm_lock nrip_save tsc_scale vmcb_clean flushbyasid decodeassists pausefilter pfthreshold. I unfortunately cannot call scanpy.logging as I cannot import scanpy. I can, however, list the versions of all packages installed alongside scanpy. anndata 0.7.8. cycler 0.11.0. fonttools 4.28.2. h5py 3.6.0. joblib 1.1.0. kiwisolver 1.3.2. llvmlite 0.37.0. matplotlib 3.5.0. natsort 8.0.0. networkx 2.6.0. numba 0.54.1. numexpr 2.7.3. numpy 1.20.3. pandas 1.3.4. patsy 0.5.2. pillow 8.4.0. pynndescent 0.5.5. python-dateutil 2.8.2. pytz 2021.3. scikit-learn 1.0.1. scipy 1.7.3. seaborn 0.11.2. setuptools-scm 6.3.2. sinfo 0.3.4. statsmodels 0.13.1. stdlib-list 0.8.0. tables 3.6.1. threadpoolctl 3.0.0. tqdm 4.62.3. umap-learn 0.5.2. xlrd-1.2.0. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2062
https://github.com/scverse/scanpy/issues/2062:160,deployability,version,version,160,"Illegal instruction with Python 3.9.7; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. import scanpy as sc. ```. ```pytb. Illegal instruction (core dumped). ```. #### Versions. <details>. Python 3.9.7 and scanpy 1.8.2. CPU flags including instruction sets are pasted below. fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx mmxext fxsr_opt pdpe1gb rdtscp lm constant_tsc rep_good nopl nonstop_tsc cpuid extd_apicid aperfmperf pni pclmulqdq monitor ssse3 fma cx16 sse4_1 sse4_2 popcnt aes xsave avx f16c lahf_lm cmp_legacy svm extapic cr8_legacy abm sse4a misalignsse 3dnowprefetch osvw ibs xop skinit wdt lwp fma4 tce nodeid_msr tbm topoext perfctr_core perfctr_nb cpb hw_pstate ssbd ibpb vmmcall bmi1 arat npt lbrv svm_lock nrip_save tsc_scale vmcb_clean flushbyasid decodeassists pausefilter pfthreshold. I unfortunately cannot call scanpy.logging as I cannot import scanpy. I can, however, list the versions of all packages installed alongside scanpy. anndata 0.7.8. cycler 0.11.0. fonttools 4.28.2. h5py 3.6.0. joblib 1.1.0. kiwisolver 1.3.2. llvmlite 0.37.0. matplotlib 3.5.0. natsort 8.0.0. networkx 2.6.0. numba 0.54.1. numexpr 2.7.3. numpy 1.20.3. pandas 1.3.4. patsy 0.5.2. pillow 8.4.0. pynndescent 0.5.5. python-dateutil 2.8.2. pytz 2021.3. scikit-learn 1.0.1. scipy 1.7.3. seaborn 0.11.2. setuptools-scm 6.3.2. sinfo 0.3.4. statsmodels 0.13.1. stdlib-list 0.8.0. tables 3.6.1. threadpoolctl 3.0.0. tqdm 4.62.3. umap-learn 0.5.2. xlrd-1.2.0. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2062
https://github.com/scverse/scanpy/issues/2062:616,deployability,Version,Versions,616,"Illegal instruction with Python 3.9.7; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. import scanpy as sc. ```. ```pytb. Illegal instruction (core dumped). ```. #### Versions. <details>. Python 3.9.7 and scanpy 1.8.2. CPU flags including instruction sets are pasted below. fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx mmxext fxsr_opt pdpe1gb rdtscp lm constant_tsc rep_good nopl nonstop_tsc cpuid extd_apicid aperfmperf pni pclmulqdq monitor ssse3 fma cx16 sse4_1 sse4_2 popcnt aes xsave avx f16c lahf_lm cmp_legacy svm extapic cr8_legacy abm sse4a misalignsse 3dnowprefetch osvw ibs xop skinit wdt lwp fma4 tce nodeid_msr tbm topoext perfctr_core perfctr_nb cpb hw_pstate ssbd ibpb vmmcall bmi1 arat npt lbrv svm_lock nrip_save tsc_scale vmcb_clean flushbyasid decodeassists pausefilter pfthreshold. I unfortunately cannot call scanpy.logging as I cannot import scanpy. I can, however, list the versions of all packages installed alongside scanpy. anndata 0.7.8. cycler 0.11.0. fonttools 4.28.2. h5py 3.6.0. joblib 1.1.0. kiwisolver 1.3.2. llvmlite 0.37.0. matplotlib 3.5.0. natsort 8.0.0. networkx 2.6.0. numba 0.54.1. numexpr 2.7.3. numpy 1.20.3. pandas 1.3.4. patsy 0.5.2. pillow 8.4.0. pynndescent 0.5.5. python-dateutil 2.8.2. pytz 2021.3. scikit-learn 1.0.1. scipy 1.7.3. seaborn 0.11.2. setuptools-scm 6.3.2. sinfo 0.3.4. statsmodels 0.13.1. stdlib-list 0.8.0. tables 3.6.1. threadpoolctl 3.0.0. tqdm 4.62.3. umap-learn 0.5.2. xlrd-1.2.0. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2062
https://github.com/scverse/scanpy/issues/2062:758,deployability,api,apic,758,"Illegal instruction with Python 3.9.7; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. import scanpy as sc. ```. ```pytb. Illegal instruction (core dumped). ```. #### Versions. <details>. Python 3.9.7 and scanpy 1.8.2. CPU flags including instruction sets are pasted below. fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx mmxext fxsr_opt pdpe1gb rdtscp lm constant_tsc rep_good nopl nonstop_tsc cpuid extd_apicid aperfmperf pni pclmulqdq monitor ssse3 fma cx16 sse4_1 sse4_2 popcnt aes xsave avx f16c lahf_lm cmp_legacy svm extapic cr8_legacy abm sse4a misalignsse 3dnowprefetch osvw ibs xop skinit wdt lwp fma4 tce nodeid_msr tbm topoext perfctr_core perfctr_nb cpb hw_pstate ssbd ibpb vmmcall bmi1 arat npt lbrv svm_lock nrip_save tsc_scale vmcb_clean flushbyasid decodeassists pausefilter pfthreshold. I unfortunately cannot call scanpy.logging as I cannot import scanpy. I can, however, list the versions of all packages installed alongside scanpy. anndata 0.7.8. cycler 0.11.0. fonttools 4.28.2. h5py 3.6.0. joblib 1.1.0. kiwisolver 1.3.2. llvmlite 0.37.0. matplotlib 3.5.0. natsort 8.0.0. networkx 2.6.0. numba 0.54.1. numexpr 2.7.3. numpy 1.20.3. pandas 1.3.4. patsy 0.5.2. pillow 8.4.0. pynndescent 0.5.5. python-dateutil 2.8.2. pytz 2021.3. scikit-learn 1.0.1. scipy 1.7.3. seaborn 0.11.2. setuptools-scm 6.3.2. sinfo 0.3.4. statsmodels 0.13.1. stdlib-list 0.8.0. tables 3.6.1. threadpoolctl 3.0.0. tqdm 4.62.3. umap-learn 0.5.2. xlrd-1.2.0. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2062
https://github.com/scverse/scanpy/issues/2062:951,deployability,monitor,monitor,951,"Illegal instruction with Python 3.9.7; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. import scanpy as sc. ```. ```pytb. Illegal instruction (core dumped). ```. #### Versions. <details>. Python 3.9.7 and scanpy 1.8.2. CPU flags including instruction sets are pasted below. fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx mmxext fxsr_opt pdpe1gb rdtscp lm constant_tsc rep_good nopl nonstop_tsc cpuid extd_apicid aperfmperf pni pclmulqdq monitor ssse3 fma cx16 sse4_1 sse4_2 popcnt aes xsave avx f16c lahf_lm cmp_legacy svm extapic cr8_legacy abm sse4a misalignsse 3dnowprefetch osvw ibs xop skinit wdt lwp fma4 tce nodeid_msr tbm topoext perfctr_core perfctr_nb cpb hw_pstate ssbd ibpb vmmcall bmi1 arat npt lbrv svm_lock nrip_save tsc_scale vmcb_clean flushbyasid decodeassists pausefilter pfthreshold. I unfortunately cannot call scanpy.logging as I cannot import scanpy. I can, however, list the versions of all packages installed alongside scanpy. anndata 0.7.8. cycler 0.11.0. fonttools 4.28.2. h5py 3.6.0. joblib 1.1.0. kiwisolver 1.3.2. llvmlite 0.37.0. matplotlib 3.5.0. natsort 8.0.0. networkx 2.6.0. numba 0.54.1. numexpr 2.7.3. numpy 1.20.3. pandas 1.3.4. patsy 0.5.2. pillow 8.4.0. pynndescent 0.5.5. python-dateutil 2.8.2. pytz 2021.3. scikit-learn 1.0.1. scipy 1.7.3. seaborn 0.11.2. setuptools-scm 6.3.2. sinfo 0.3.4. statsmodels 0.13.1. stdlib-list 0.8.0. tables 3.6.1. threadpoolctl 3.0.0. tqdm 4.62.3. umap-learn 0.5.2. xlrd-1.2.0. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2062
https://github.com/scverse/scanpy/issues/2062:1353,deployability,log,logging,1353,"Illegal instruction with Python 3.9.7; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. import scanpy as sc. ```. ```pytb. Illegal instruction (core dumped). ```. #### Versions. <details>. Python 3.9.7 and scanpy 1.8.2. CPU flags including instruction sets are pasted below. fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx mmxext fxsr_opt pdpe1gb rdtscp lm constant_tsc rep_good nopl nonstop_tsc cpuid extd_apicid aperfmperf pni pclmulqdq monitor ssse3 fma cx16 sse4_1 sse4_2 popcnt aes xsave avx f16c lahf_lm cmp_legacy svm extapic cr8_legacy abm sse4a misalignsse 3dnowprefetch osvw ibs xop skinit wdt lwp fma4 tce nodeid_msr tbm topoext perfctr_core perfctr_nb cpb hw_pstate ssbd ibpb vmmcall bmi1 arat npt lbrv svm_lock nrip_save tsc_scale vmcb_clean flushbyasid decodeassists pausefilter pfthreshold. I unfortunately cannot call scanpy.logging as I cannot import scanpy. I can, however, list the versions of all packages installed alongside scanpy. anndata 0.7.8. cycler 0.11.0. fonttools 4.28.2. h5py 3.6.0. joblib 1.1.0. kiwisolver 1.3.2. llvmlite 0.37.0. matplotlib 3.5.0. natsort 8.0.0. networkx 2.6.0. numba 0.54.1. numexpr 2.7.3. numpy 1.20.3. pandas 1.3.4. patsy 0.5.2. pillow 8.4.0. pynndescent 0.5.5. python-dateutil 2.8.2. pytz 2021.3. scikit-learn 1.0.1. scipy 1.7.3. seaborn 0.11.2. setuptools-scm 6.3.2. sinfo 0.3.4. statsmodels 0.13.1. stdlib-list 0.8.0. tables 3.6.1. threadpoolctl 3.0.0. tqdm 4.62.3. umap-learn 0.5.2. xlrd-1.2.0. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2062
https://github.com/scverse/scanpy/issues/2062:1413,deployability,version,versions,1413,"Illegal instruction with Python 3.9.7; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. import scanpy as sc. ```. ```pytb. Illegal instruction (core dumped). ```. #### Versions. <details>. Python 3.9.7 and scanpy 1.8.2. CPU flags including instruction sets are pasted below. fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx mmxext fxsr_opt pdpe1gb rdtscp lm constant_tsc rep_good nopl nonstop_tsc cpuid extd_apicid aperfmperf pni pclmulqdq monitor ssse3 fma cx16 sse4_1 sse4_2 popcnt aes xsave avx f16c lahf_lm cmp_legacy svm extapic cr8_legacy abm sse4a misalignsse 3dnowprefetch osvw ibs xop skinit wdt lwp fma4 tce nodeid_msr tbm topoext perfctr_core perfctr_nb cpb hw_pstate ssbd ibpb vmmcall bmi1 arat npt lbrv svm_lock nrip_save tsc_scale vmcb_clean flushbyasid decodeassists pausefilter pfthreshold. I unfortunately cannot call scanpy.logging as I cannot import scanpy. I can, however, list the versions of all packages installed alongside scanpy. anndata 0.7.8. cycler 0.11.0. fonttools 4.28.2. h5py 3.6.0. joblib 1.1.0. kiwisolver 1.3.2. llvmlite 0.37.0. matplotlib 3.5.0. natsort 8.0.0. networkx 2.6.0. numba 0.54.1. numexpr 2.7.3. numpy 1.20.3. pandas 1.3.4. patsy 0.5.2. pillow 8.4.0. pynndescent 0.5.5. python-dateutil 2.8.2. pytz 2021.3. scikit-learn 1.0.1. scipy 1.7.3. seaborn 0.11.2. setuptools-scm 6.3.2. sinfo 0.3.4. statsmodels 0.13.1. stdlib-list 0.8.0. tables 3.6.1. threadpoolctl 3.0.0. tqdm 4.62.3. umap-learn 0.5.2. xlrd-1.2.0. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2062
https://github.com/scverse/scanpy/issues/2062:1438,deployability,instal,installed,1438,"Illegal instruction with Python 3.9.7; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. import scanpy as sc. ```. ```pytb. Illegal instruction (core dumped). ```. #### Versions. <details>. Python 3.9.7 and scanpy 1.8.2. CPU flags including instruction sets are pasted below. fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx mmxext fxsr_opt pdpe1gb rdtscp lm constant_tsc rep_good nopl nonstop_tsc cpuid extd_apicid aperfmperf pni pclmulqdq monitor ssse3 fma cx16 sse4_1 sse4_2 popcnt aes xsave avx f16c lahf_lm cmp_legacy svm extapic cr8_legacy abm sse4a misalignsse 3dnowprefetch osvw ibs xop skinit wdt lwp fma4 tce nodeid_msr tbm topoext perfctr_core perfctr_nb cpb hw_pstate ssbd ibpb vmmcall bmi1 arat npt lbrv svm_lock nrip_save tsc_scale vmcb_clean flushbyasid decodeassists pausefilter pfthreshold. I unfortunately cannot call scanpy.logging as I cannot import scanpy. I can, however, list the versions of all packages installed alongside scanpy. anndata 0.7.8. cycler 0.11.0. fonttools 4.28.2. h5py 3.6.0. joblib 1.1.0. kiwisolver 1.3.2. llvmlite 0.37.0. matplotlib 3.5.0. natsort 8.0.0. networkx 2.6.0. numba 0.54.1. numexpr 2.7.3. numpy 1.20.3. pandas 1.3.4. patsy 0.5.2. pillow 8.4.0. pynndescent 0.5.5. python-dateutil 2.8.2. pytz 2021.3. scikit-learn 1.0.1. scipy 1.7.3. seaborn 0.11.2. setuptools-scm 6.3.2. sinfo 0.3.4. statsmodels 0.13.1. stdlib-list 0.8.0. tables 3.6.1. threadpoolctl 3.0.0. tqdm 4.62.3. umap-learn 0.5.2. xlrd-1.2.0. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2062
https://github.com/scverse/scanpy/issues/2062:592,energy efficiency,core,core,592,"Illegal instruction with Python 3.9.7; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. import scanpy as sc. ```. ```pytb. Illegal instruction (core dumped). ```. #### Versions. <details>. Python 3.9.7 and scanpy 1.8.2. CPU flags including instruction sets are pasted below. fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx mmxext fxsr_opt pdpe1gb rdtscp lm constant_tsc rep_good nopl nonstop_tsc cpuid extd_apicid aperfmperf pni pclmulqdq monitor ssse3 fma cx16 sse4_1 sse4_2 popcnt aes xsave avx f16c lahf_lm cmp_legacy svm extapic cr8_legacy abm sse4a misalignsse 3dnowprefetch osvw ibs xop skinit wdt lwp fma4 tce nodeid_msr tbm topoext perfctr_core perfctr_nb cpb hw_pstate ssbd ibpb vmmcall bmi1 arat npt lbrv svm_lock nrip_save tsc_scale vmcb_clean flushbyasid decodeassists pausefilter pfthreshold. I unfortunately cannot call scanpy.logging as I cannot import scanpy. I can, however, list the versions of all packages installed alongside scanpy. anndata 0.7.8. cycler 0.11.0. fonttools 4.28.2. h5py 3.6.0. joblib 1.1.0. kiwisolver 1.3.2. llvmlite 0.37.0. matplotlib 3.5.0. natsort 8.0.0. networkx 2.6.0. numba 0.54.1. numexpr 2.7.3. numpy 1.20.3. pandas 1.3.4. patsy 0.5.2. pillow 8.4.0. pynndescent 0.5.5. python-dateutil 2.8.2. pytz 2021.3. scikit-learn 1.0.1. scipy 1.7.3. seaborn 0.11.2. setuptools-scm 6.3.2. sinfo 0.3.4. statsmodels 0.13.1. stdlib-list 0.8.0. tables 3.6.1. threadpoolctl 3.0.0. tqdm 4.62.3. umap-learn 0.5.2. xlrd-1.2.0. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2062
https://github.com/scverse/scanpy/issues/2062:668,energy efficiency,CPU,CPU,668,"Illegal instruction with Python 3.9.7; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. import scanpy as sc. ```. ```pytb. Illegal instruction (core dumped). ```. #### Versions. <details>. Python 3.9.7 and scanpy 1.8.2. CPU flags including instruction sets are pasted below. fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx mmxext fxsr_opt pdpe1gb rdtscp lm constant_tsc rep_good nopl nonstop_tsc cpuid extd_apicid aperfmperf pni pclmulqdq monitor ssse3 fma cx16 sse4_1 sse4_2 popcnt aes xsave avx f16c lahf_lm cmp_legacy svm extapic cr8_legacy abm sse4a misalignsse 3dnowprefetch osvw ibs xop skinit wdt lwp fma4 tce nodeid_msr tbm topoext perfctr_core perfctr_nb cpb hw_pstate ssbd ibpb vmmcall bmi1 arat npt lbrv svm_lock nrip_save tsc_scale vmcb_clean flushbyasid decodeassists pausefilter pfthreshold. I unfortunately cannot call scanpy.logging as I cannot import scanpy. I can, however, list the versions of all packages installed alongside scanpy. anndata 0.7.8. cycler 0.11.0. fonttools 4.28.2. h5py 3.6.0. joblib 1.1.0. kiwisolver 1.3.2. llvmlite 0.37.0. matplotlib 3.5.0. natsort 8.0.0. networkx 2.6.0. numba 0.54.1. numexpr 2.7.3. numpy 1.20.3. pandas 1.3.4. patsy 0.5.2. pillow 8.4.0. pynndescent 0.5.5. python-dateutil 2.8.2. pytz 2021.3. scikit-learn 1.0.1. scipy 1.7.3. seaborn 0.11.2. setuptools-scm 6.3.2. sinfo 0.3.4. statsmodels 0.13.1. stdlib-list 0.8.0. tables 3.6.1. threadpoolctl 3.0.0. tqdm 4.62.3. umap-learn 0.5.2. xlrd-1.2.0. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2062
https://github.com/scverse/scanpy/issues/2062:908,energy efficiency,cpu,cpuid,908,"Illegal instruction with Python 3.9.7; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. import scanpy as sc. ```. ```pytb. Illegal instruction (core dumped). ```. #### Versions. <details>. Python 3.9.7 and scanpy 1.8.2. CPU flags including instruction sets are pasted below. fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx mmxext fxsr_opt pdpe1gb rdtscp lm constant_tsc rep_good nopl nonstop_tsc cpuid extd_apicid aperfmperf pni pclmulqdq monitor ssse3 fma cx16 sse4_1 sse4_2 popcnt aes xsave avx f16c lahf_lm cmp_legacy svm extapic cr8_legacy abm sse4a misalignsse 3dnowprefetch osvw ibs xop skinit wdt lwp fma4 tce nodeid_msr tbm topoext perfctr_core perfctr_nb cpb hw_pstate ssbd ibpb vmmcall bmi1 arat npt lbrv svm_lock nrip_save tsc_scale vmcb_clean flushbyasid decodeassists pausefilter pfthreshold. I unfortunately cannot call scanpy.logging as I cannot import scanpy. I can, however, list the versions of all packages installed alongside scanpy. anndata 0.7.8. cycler 0.11.0. fonttools 4.28.2. h5py 3.6.0. joblib 1.1.0. kiwisolver 1.3.2. llvmlite 0.37.0. matplotlib 3.5.0. natsort 8.0.0. networkx 2.6.0. numba 0.54.1. numexpr 2.7.3. numpy 1.20.3. pandas 1.3.4. patsy 0.5.2. pillow 8.4.0. pynndescent 0.5.5. python-dateutil 2.8.2. pytz 2021.3. scikit-learn 1.0.1. scipy 1.7.3. seaborn 0.11.2. setuptools-scm 6.3.2. sinfo 0.3.4. statsmodels 0.13.1. stdlib-list 0.8.0. tables 3.6.1. threadpoolctl 3.0.0. tqdm 4.62.3. umap-learn 0.5.2. xlrd-1.2.0. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2062
https://github.com/scverse/scanpy/issues/2062:951,energy efficiency,monitor,monitor,951,"Illegal instruction with Python 3.9.7; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. import scanpy as sc. ```. ```pytb. Illegal instruction (core dumped). ```. #### Versions. <details>. Python 3.9.7 and scanpy 1.8.2. CPU flags including instruction sets are pasted below. fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx mmxext fxsr_opt pdpe1gb rdtscp lm constant_tsc rep_good nopl nonstop_tsc cpuid extd_apicid aperfmperf pni pclmulqdq monitor ssse3 fma cx16 sse4_1 sse4_2 popcnt aes xsave avx f16c lahf_lm cmp_legacy svm extapic cr8_legacy abm sse4a misalignsse 3dnowprefetch osvw ibs xop skinit wdt lwp fma4 tce nodeid_msr tbm topoext perfctr_core perfctr_nb cpb hw_pstate ssbd ibpb vmmcall bmi1 arat npt lbrv svm_lock nrip_save tsc_scale vmcb_clean flushbyasid decodeassists pausefilter pfthreshold. I unfortunately cannot call scanpy.logging as I cannot import scanpy. I can, however, list the versions of all packages installed alongside scanpy. anndata 0.7.8. cycler 0.11.0. fonttools 4.28.2. h5py 3.6.0. joblib 1.1.0. kiwisolver 1.3.2. llvmlite 0.37.0. matplotlib 3.5.0. natsort 8.0.0. networkx 2.6.0. numba 0.54.1. numexpr 2.7.3. numpy 1.20.3. pandas 1.3.4. patsy 0.5.2. pillow 8.4.0. pynndescent 0.5.5. python-dateutil 2.8.2. pytz 2021.3. scikit-learn 1.0.1. scipy 1.7.3. seaborn 0.11.2. setuptools-scm 6.3.2. sinfo 0.3.4. statsmodels 0.13.1. stdlib-list 0.8.0. tables 3.6.1. threadpoolctl 3.0.0. tqdm 4.62.3. umap-learn 0.5.2. xlrd-1.2.0. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2062
https://github.com/scverse/scanpy/issues/2062:160,integrability,version,version,160,"Illegal instruction with Python 3.9.7; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. import scanpy as sc. ```. ```pytb. Illegal instruction (core dumped). ```. #### Versions. <details>. Python 3.9.7 and scanpy 1.8.2. CPU flags including instruction sets are pasted below. fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx mmxext fxsr_opt pdpe1gb rdtscp lm constant_tsc rep_good nopl nonstop_tsc cpuid extd_apicid aperfmperf pni pclmulqdq monitor ssse3 fma cx16 sse4_1 sse4_2 popcnt aes xsave avx f16c lahf_lm cmp_legacy svm extapic cr8_legacy abm sse4a misalignsse 3dnowprefetch osvw ibs xop skinit wdt lwp fma4 tce nodeid_msr tbm topoext perfctr_core perfctr_nb cpb hw_pstate ssbd ibpb vmmcall bmi1 arat npt lbrv svm_lock nrip_save tsc_scale vmcb_clean flushbyasid decodeassists pausefilter pfthreshold. I unfortunately cannot call scanpy.logging as I cannot import scanpy. I can, however, list the versions of all packages installed alongside scanpy. anndata 0.7.8. cycler 0.11.0. fonttools 4.28.2. h5py 3.6.0. joblib 1.1.0. kiwisolver 1.3.2. llvmlite 0.37.0. matplotlib 3.5.0. natsort 8.0.0. networkx 2.6.0. numba 0.54.1. numexpr 2.7.3. numpy 1.20.3. pandas 1.3.4. patsy 0.5.2. pillow 8.4.0. pynndescent 0.5.5. python-dateutil 2.8.2. pytz 2021.3. scikit-learn 1.0.1. scipy 1.7.3. seaborn 0.11.2. setuptools-scm 6.3.2. sinfo 0.3.4. statsmodels 0.13.1. stdlib-list 0.8.0. tables 3.6.1. threadpoolctl 3.0.0. tqdm 4.62.3. umap-learn 0.5.2. xlrd-1.2.0. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2062
https://github.com/scverse/scanpy/issues/2062:616,integrability,Version,Versions,616,"Illegal instruction with Python 3.9.7; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. import scanpy as sc. ```. ```pytb. Illegal instruction (core dumped). ```. #### Versions. <details>. Python 3.9.7 and scanpy 1.8.2. CPU flags including instruction sets are pasted below. fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx mmxext fxsr_opt pdpe1gb rdtscp lm constant_tsc rep_good nopl nonstop_tsc cpuid extd_apicid aperfmperf pni pclmulqdq monitor ssse3 fma cx16 sse4_1 sse4_2 popcnt aes xsave avx f16c lahf_lm cmp_legacy svm extapic cr8_legacy abm sse4a misalignsse 3dnowprefetch osvw ibs xop skinit wdt lwp fma4 tce nodeid_msr tbm topoext perfctr_core perfctr_nb cpb hw_pstate ssbd ibpb vmmcall bmi1 arat npt lbrv svm_lock nrip_save tsc_scale vmcb_clean flushbyasid decodeassists pausefilter pfthreshold. I unfortunately cannot call scanpy.logging as I cannot import scanpy. I can, however, list the versions of all packages installed alongside scanpy. anndata 0.7.8. cycler 0.11.0. fonttools 4.28.2. h5py 3.6.0. joblib 1.1.0. kiwisolver 1.3.2. llvmlite 0.37.0. matplotlib 3.5.0. natsort 8.0.0. networkx 2.6.0. numba 0.54.1. numexpr 2.7.3. numpy 1.20.3. pandas 1.3.4. patsy 0.5.2. pillow 8.4.0. pynndescent 0.5.5. python-dateutil 2.8.2. pytz 2021.3. scikit-learn 1.0.1. scipy 1.7.3. seaborn 0.11.2. setuptools-scm 6.3.2. sinfo 0.3.4. statsmodels 0.13.1. stdlib-list 0.8.0. tables 3.6.1. threadpoolctl 3.0.0. tqdm 4.62.3. umap-learn 0.5.2. xlrd-1.2.0. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2062
https://github.com/scverse/scanpy/issues/2062:758,integrability,api,apic,758,"Illegal instruction with Python 3.9.7; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. import scanpy as sc. ```. ```pytb. Illegal instruction (core dumped). ```. #### Versions. <details>. Python 3.9.7 and scanpy 1.8.2. CPU flags including instruction sets are pasted below. fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx mmxext fxsr_opt pdpe1gb rdtscp lm constant_tsc rep_good nopl nonstop_tsc cpuid extd_apicid aperfmperf pni pclmulqdq monitor ssse3 fma cx16 sse4_1 sse4_2 popcnt aes xsave avx f16c lahf_lm cmp_legacy svm extapic cr8_legacy abm sse4a misalignsse 3dnowprefetch osvw ibs xop skinit wdt lwp fma4 tce nodeid_msr tbm topoext perfctr_core perfctr_nb cpb hw_pstate ssbd ibpb vmmcall bmi1 arat npt lbrv svm_lock nrip_save tsc_scale vmcb_clean flushbyasid decodeassists pausefilter pfthreshold. I unfortunately cannot call scanpy.logging as I cannot import scanpy. I can, however, list the versions of all packages installed alongside scanpy. anndata 0.7.8. cycler 0.11.0. fonttools 4.28.2. h5py 3.6.0. joblib 1.1.0. kiwisolver 1.3.2. llvmlite 0.37.0. matplotlib 3.5.0. natsort 8.0.0. networkx 2.6.0. numba 0.54.1. numexpr 2.7.3. numpy 1.20.3. pandas 1.3.4. patsy 0.5.2. pillow 8.4.0. pynndescent 0.5.5. python-dateutil 2.8.2. pytz 2021.3. scikit-learn 1.0.1. scipy 1.7.3. seaborn 0.11.2. setuptools-scm 6.3.2. sinfo 0.3.4. statsmodels 0.13.1. stdlib-list 0.8.0. tables 3.6.1. threadpoolctl 3.0.0. tqdm 4.62.3. umap-learn 0.5.2. xlrd-1.2.0. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2062
https://github.com/scverse/scanpy/issues/2062:1413,integrability,version,versions,1413,"Illegal instruction with Python 3.9.7; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. import scanpy as sc. ```. ```pytb. Illegal instruction (core dumped). ```. #### Versions. <details>. Python 3.9.7 and scanpy 1.8.2. CPU flags including instruction sets are pasted below. fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx mmxext fxsr_opt pdpe1gb rdtscp lm constant_tsc rep_good nopl nonstop_tsc cpuid extd_apicid aperfmperf pni pclmulqdq monitor ssse3 fma cx16 sse4_1 sse4_2 popcnt aes xsave avx f16c lahf_lm cmp_legacy svm extapic cr8_legacy abm sse4a misalignsse 3dnowprefetch osvw ibs xop skinit wdt lwp fma4 tce nodeid_msr tbm topoext perfctr_core perfctr_nb cpb hw_pstate ssbd ibpb vmmcall bmi1 arat npt lbrv svm_lock nrip_save tsc_scale vmcb_clean flushbyasid decodeassists pausefilter pfthreshold. I unfortunately cannot call scanpy.logging as I cannot import scanpy. I can, however, list the versions of all packages installed alongside scanpy. anndata 0.7.8. cycler 0.11.0. fonttools 4.28.2. h5py 3.6.0. joblib 1.1.0. kiwisolver 1.3.2. llvmlite 0.37.0. matplotlib 3.5.0. natsort 8.0.0. networkx 2.6.0. numba 0.54.1. numexpr 2.7.3. numpy 1.20.3. pandas 1.3.4. patsy 0.5.2. pillow 8.4.0. pynndescent 0.5.5. python-dateutil 2.8.2. pytz 2021.3. scikit-learn 1.0.1. scipy 1.7.3. seaborn 0.11.2. setuptools-scm 6.3.2. sinfo 0.3.4. statsmodels 0.13.1. stdlib-list 0.8.0. tables 3.6.1. threadpoolctl 3.0.0. tqdm 4.62.3. umap-learn 0.5.2. xlrd-1.2.0. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2062
https://github.com/scverse/scanpy/issues/2062:758,interoperability,api,apic,758,"Illegal instruction with Python 3.9.7; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. import scanpy as sc. ```. ```pytb. Illegal instruction (core dumped). ```. #### Versions. <details>. Python 3.9.7 and scanpy 1.8.2. CPU flags including instruction sets are pasted below. fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx mmxext fxsr_opt pdpe1gb rdtscp lm constant_tsc rep_good nopl nonstop_tsc cpuid extd_apicid aperfmperf pni pclmulqdq monitor ssse3 fma cx16 sse4_1 sse4_2 popcnt aes xsave avx f16c lahf_lm cmp_legacy svm extapic cr8_legacy abm sse4a misalignsse 3dnowprefetch osvw ibs xop skinit wdt lwp fma4 tce nodeid_msr tbm topoext perfctr_core perfctr_nb cpb hw_pstate ssbd ibpb vmmcall bmi1 arat npt lbrv svm_lock nrip_save tsc_scale vmcb_clean flushbyasid decodeassists pausefilter pfthreshold. I unfortunately cannot call scanpy.logging as I cannot import scanpy. I can, however, list the versions of all packages installed alongside scanpy. anndata 0.7.8. cycler 0.11.0. fonttools 4.28.2. h5py 3.6.0. joblib 1.1.0. kiwisolver 1.3.2. llvmlite 0.37.0. matplotlib 3.5.0. natsort 8.0.0. networkx 2.6.0. numba 0.54.1. numexpr 2.7.3. numpy 1.20.3. pandas 1.3.4. patsy 0.5.2. pillow 8.4.0. pynndescent 0.5.5. python-dateutil 2.8.2. pytz 2021.3. scikit-learn 1.0.1. scipy 1.7.3. seaborn 0.11.2. setuptools-scm 6.3.2. sinfo 0.3.4. statsmodels 0.13.1. stdlib-list 0.8.0. tables 3.6.1. threadpoolctl 3.0.0. tqdm 4.62.3. umap-learn 0.5.2. xlrd-1.2.0. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2062
https://github.com/scverse/scanpy/issues/2062:160,modifiability,version,version,160,"Illegal instruction with Python 3.9.7; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. import scanpy as sc. ```. ```pytb. Illegal instruction (core dumped). ```. #### Versions. <details>. Python 3.9.7 and scanpy 1.8.2. CPU flags including instruction sets are pasted below. fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx mmxext fxsr_opt pdpe1gb rdtscp lm constant_tsc rep_good nopl nonstop_tsc cpuid extd_apicid aperfmperf pni pclmulqdq monitor ssse3 fma cx16 sse4_1 sse4_2 popcnt aes xsave avx f16c lahf_lm cmp_legacy svm extapic cr8_legacy abm sse4a misalignsse 3dnowprefetch osvw ibs xop skinit wdt lwp fma4 tce nodeid_msr tbm topoext perfctr_core perfctr_nb cpb hw_pstate ssbd ibpb vmmcall bmi1 arat npt lbrv svm_lock nrip_save tsc_scale vmcb_clean flushbyasid decodeassists pausefilter pfthreshold. I unfortunately cannot call scanpy.logging as I cannot import scanpy. I can, however, list the versions of all packages installed alongside scanpy. anndata 0.7.8. cycler 0.11.0. fonttools 4.28.2. h5py 3.6.0. joblib 1.1.0. kiwisolver 1.3.2. llvmlite 0.37.0. matplotlib 3.5.0. natsort 8.0.0. networkx 2.6.0. numba 0.54.1. numexpr 2.7.3. numpy 1.20.3. pandas 1.3.4. patsy 0.5.2. pillow 8.4.0. pynndescent 0.5.5. python-dateutil 2.8.2. pytz 2021.3. scikit-learn 1.0.1. scipy 1.7.3. seaborn 0.11.2. setuptools-scm 6.3.2. sinfo 0.3.4. statsmodels 0.13.1. stdlib-list 0.8.0. tables 3.6.1. threadpoolctl 3.0.0. tqdm 4.62.3. umap-learn 0.5.2. xlrd-1.2.0. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2062
https://github.com/scverse/scanpy/issues/2062:616,modifiability,Version,Versions,616,"Illegal instruction with Python 3.9.7; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. import scanpy as sc. ```. ```pytb. Illegal instruction (core dumped). ```. #### Versions. <details>. Python 3.9.7 and scanpy 1.8.2. CPU flags including instruction sets are pasted below. fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx mmxext fxsr_opt pdpe1gb rdtscp lm constant_tsc rep_good nopl nonstop_tsc cpuid extd_apicid aperfmperf pni pclmulqdq monitor ssse3 fma cx16 sse4_1 sse4_2 popcnt aes xsave avx f16c lahf_lm cmp_legacy svm extapic cr8_legacy abm sse4a misalignsse 3dnowprefetch osvw ibs xop skinit wdt lwp fma4 tce nodeid_msr tbm topoext perfctr_core perfctr_nb cpb hw_pstate ssbd ibpb vmmcall bmi1 arat npt lbrv svm_lock nrip_save tsc_scale vmcb_clean flushbyasid decodeassists pausefilter pfthreshold. I unfortunately cannot call scanpy.logging as I cannot import scanpy. I can, however, list the versions of all packages installed alongside scanpy. anndata 0.7.8. cycler 0.11.0. fonttools 4.28.2. h5py 3.6.0. joblib 1.1.0. kiwisolver 1.3.2. llvmlite 0.37.0. matplotlib 3.5.0. natsort 8.0.0. networkx 2.6.0. numba 0.54.1. numexpr 2.7.3. numpy 1.20.3. pandas 1.3.4. patsy 0.5.2. pillow 8.4.0. pynndescent 0.5.5. python-dateutil 2.8.2. pytz 2021.3. scikit-learn 1.0.1. scipy 1.7.3. seaborn 0.11.2. setuptools-scm 6.3.2. sinfo 0.3.4. statsmodels 0.13.1. stdlib-list 0.8.0. tables 3.6.1. threadpoolctl 3.0.0. tqdm 4.62.3. umap-learn 0.5.2. xlrd-1.2.0. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2062
https://github.com/scverse/scanpy/issues/2062:1279,modifiability,deco,decodeassists,1279,"Illegal instruction with Python 3.9.7; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. import scanpy as sc. ```. ```pytb. Illegal instruction (core dumped). ```. #### Versions. <details>. Python 3.9.7 and scanpy 1.8.2. CPU flags including instruction sets are pasted below. fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx mmxext fxsr_opt pdpe1gb rdtscp lm constant_tsc rep_good nopl nonstop_tsc cpuid extd_apicid aperfmperf pni pclmulqdq monitor ssse3 fma cx16 sse4_1 sse4_2 popcnt aes xsave avx f16c lahf_lm cmp_legacy svm extapic cr8_legacy abm sse4a misalignsse 3dnowprefetch osvw ibs xop skinit wdt lwp fma4 tce nodeid_msr tbm topoext perfctr_core perfctr_nb cpb hw_pstate ssbd ibpb vmmcall bmi1 arat npt lbrv svm_lock nrip_save tsc_scale vmcb_clean flushbyasid decodeassists pausefilter pfthreshold. I unfortunately cannot call scanpy.logging as I cannot import scanpy. I can, however, list the versions of all packages installed alongside scanpy. anndata 0.7.8. cycler 0.11.0. fonttools 4.28.2. h5py 3.6.0. joblib 1.1.0. kiwisolver 1.3.2. llvmlite 0.37.0. matplotlib 3.5.0. natsort 8.0.0. networkx 2.6.0. numba 0.54.1. numexpr 2.7.3. numpy 1.20.3. pandas 1.3.4. patsy 0.5.2. pillow 8.4.0. pynndescent 0.5.5. python-dateutil 2.8.2. pytz 2021.3. scikit-learn 1.0.1. scipy 1.7.3. seaborn 0.11.2. setuptools-scm 6.3.2. sinfo 0.3.4. statsmodels 0.13.1. stdlib-list 0.8.0. tables 3.6.1. threadpoolctl 3.0.0. tqdm 4.62.3. umap-learn 0.5.2. xlrd-1.2.0. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2062
https://github.com/scverse/scanpy/issues/2062:1413,modifiability,version,versions,1413,"Illegal instruction with Python 3.9.7; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. import scanpy as sc. ```. ```pytb. Illegal instruction (core dumped). ```. #### Versions. <details>. Python 3.9.7 and scanpy 1.8.2. CPU flags including instruction sets are pasted below. fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx mmxext fxsr_opt pdpe1gb rdtscp lm constant_tsc rep_good nopl nonstop_tsc cpuid extd_apicid aperfmperf pni pclmulqdq monitor ssse3 fma cx16 sse4_1 sse4_2 popcnt aes xsave avx f16c lahf_lm cmp_legacy svm extapic cr8_legacy abm sse4a misalignsse 3dnowprefetch osvw ibs xop skinit wdt lwp fma4 tce nodeid_msr tbm topoext perfctr_core perfctr_nb cpb hw_pstate ssbd ibpb vmmcall bmi1 arat npt lbrv svm_lock nrip_save tsc_scale vmcb_clean flushbyasid decodeassists pausefilter pfthreshold. I unfortunately cannot call scanpy.logging as I cannot import scanpy. I can, however, list the versions of all packages installed alongside scanpy. anndata 0.7.8. cycler 0.11.0. fonttools 4.28.2. h5py 3.6.0. joblib 1.1.0. kiwisolver 1.3.2. llvmlite 0.37.0. matplotlib 3.5.0. natsort 8.0.0. networkx 2.6.0. numba 0.54.1. numexpr 2.7.3. numpy 1.20.3. pandas 1.3.4. patsy 0.5.2. pillow 8.4.0. pynndescent 0.5.5. python-dateutil 2.8.2. pytz 2021.3. scikit-learn 1.0.1. scipy 1.7.3. seaborn 0.11.2. setuptools-scm 6.3.2. sinfo 0.3.4. statsmodels 0.13.1. stdlib-list 0.8.0. tables 3.6.1. threadpoolctl 3.0.0. tqdm 4.62.3. umap-learn 0.5.2. xlrd-1.2.0. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2062
https://github.com/scverse/scanpy/issues/2062:1429,modifiability,pac,packages,1429,"Illegal instruction with Python 3.9.7; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. import scanpy as sc. ```. ```pytb. Illegal instruction (core dumped). ```. #### Versions. <details>. Python 3.9.7 and scanpy 1.8.2. CPU flags including instruction sets are pasted below. fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx mmxext fxsr_opt pdpe1gb rdtscp lm constant_tsc rep_good nopl nonstop_tsc cpuid extd_apicid aperfmperf pni pclmulqdq monitor ssse3 fma cx16 sse4_1 sse4_2 popcnt aes xsave avx f16c lahf_lm cmp_legacy svm extapic cr8_legacy abm sse4a misalignsse 3dnowprefetch osvw ibs xop skinit wdt lwp fma4 tce nodeid_msr tbm topoext perfctr_core perfctr_nb cpb hw_pstate ssbd ibpb vmmcall bmi1 arat npt lbrv svm_lock nrip_save tsc_scale vmcb_clean flushbyasid decodeassists pausefilter pfthreshold. I unfortunately cannot call scanpy.logging as I cannot import scanpy. I can, however, list the versions of all packages installed alongside scanpy. anndata 0.7.8. cycler 0.11.0. fonttools 4.28.2. h5py 3.6.0. joblib 1.1.0. kiwisolver 1.3.2. llvmlite 0.37.0. matplotlib 3.5.0. natsort 8.0.0. networkx 2.6.0. numba 0.54.1. numexpr 2.7.3. numpy 1.20.3. pandas 1.3.4. patsy 0.5.2. pillow 8.4.0. pynndescent 0.5.5. python-dateutil 2.8.2. pytz 2021.3. scikit-learn 1.0.1. scipy 1.7.3. seaborn 0.11.2. setuptools-scm 6.3.2. sinfo 0.3.4. statsmodels 0.13.1. stdlib-list 0.8.0. tables 3.6.1. threadpoolctl 3.0.0. tqdm 4.62.3. umap-learn 0.5.2. xlrd-1.2.0. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2062
https://github.com/scverse/scanpy/issues/2062:668,performance,CPU,CPU,668,"Illegal instruction with Python 3.9.7; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. import scanpy as sc. ```. ```pytb. Illegal instruction (core dumped). ```. #### Versions. <details>. Python 3.9.7 and scanpy 1.8.2. CPU flags including instruction sets are pasted below. fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx mmxext fxsr_opt pdpe1gb rdtscp lm constant_tsc rep_good nopl nonstop_tsc cpuid extd_apicid aperfmperf pni pclmulqdq monitor ssse3 fma cx16 sse4_1 sse4_2 popcnt aes xsave avx f16c lahf_lm cmp_legacy svm extapic cr8_legacy abm sse4a misalignsse 3dnowprefetch osvw ibs xop skinit wdt lwp fma4 tce nodeid_msr tbm topoext perfctr_core perfctr_nb cpb hw_pstate ssbd ibpb vmmcall bmi1 arat npt lbrv svm_lock nrip_save tsc_scale vmcb_clean flushbyasid decodeassists pausefilter pfthreshold. I unfortunately cannot call scanpy.logging as I cannot import scanpy. I can, however, list the versions of all packages installed alongside scanpy. anndata 0.7.8. cycler 0.11.0. fonttools 4.28.2. h5py 3.6.0. joblib 1.1.0. kiwisolver 1.3.2. llvmlite 0.37.0. matplotlib 3.5.0. natsort 8.0.0. networkx 2.6.0. numba 0.54.1. numexpr 2.7.3. numpy 1.20.3. pandas 1.3.4. patsy 0.5.2. pillow 8.4.0. pynndescent 0.5.5. python-dateutil 2.8.2. pytz 2021.3. scikit-learn 1.0.1. scipy 1.7.3. seaborn 0.11.2. setuptools-scm 6.3.2. sinfo 0.3.4. statsmodels 0.13.1. stdlib-list 0.8.0. tables 3.6.1. threadpoolctl 3.0.0. tqdm 4.62.3. umap-learn 0.5.2. xlrd-1.2.0. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2062
https://github.com/scverse/scanpy/issues/2062:908,performance,cpu,cpuid,908,"Illegal instruction with Python 3.9.7; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. import scanpy as sc. ```. ```pytb. Illegal instruction (core dumped). ```. #### Versions. <details>. Python 3.9.7 and scanpy 1.8.2. CPU flags including instruction sets are pasted below. fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx mmxext fxsr_opt pdpe1gb rdtscp lm constant_tsc rep_good nopl nonstop_tsc cpuid extd_apicid aperfmperf pni pclmulqdq monitor ssse3 fma cx16 sse4_1 sse4_2 popcnt aes xsave avx f16c lahf_lm cmp_legacy svm extapic cr8_legacy abm sse4a misalignsse 3dnowprefetch osvw ibs xop skinit wdt lwp fma4 tce nodeid_msr tbm topoext perfctr_core perfctr_nb cpb hw_pstate ssbd ibpb vmmcall bmi1 arat npt lbrv svm_lock nrip_save tsc_scale vmcb_clean flushbyasid decodeassists pausefilter pfthreshold. I unfortunately cannot call scanpy.logging as I cannot import scanpy. I can, however, list the versions of all packages installed alongside scanpy. anndata 0.7.8. cycler 0.11.0. fonttools 4.28.2. h5py 3.6.0. joblib 1.1.0. kiwisolver 1.3.2. llvmlite 0.37.0. matplotlib 3.5.0. natsort 8.0.0. networkx 2.6.0. numba 0.54.1. numexpr 2.7.3. numpy 1.20.3. pandas 1.3.4. patsy 0.5.2. pillow 8.4.0. pynndescent 0.5.5. python-dateutil 2.8.2. pytz 2021.3. scikit-learn 1.0.1. scipy 1.7.3. seaborn 0.11.2. setuptools-scm 6.3.2. sinfo 0.3.4. statsmodels 0.13.1. stdlib-list 0.8.0. tables 3.6.1. threadpoolctl 3.0.0. tqdm 4.62.3. umap-learn 0.5.2. xlrd-1.2.0. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2062
https://github.com/scverse/scanpy/issues/2062:1608,performance,network,networkx,1608,"Illegal instruction with Python 3.9.7; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. import scanpy as sc. ```. ```pytb. Illegal instruction (core dumped). ```. #### Versions. <details>. Python 3.9.7 and scanpy 1.8.2. CPU flags including instruction sets are pasted below. fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx mmxext fxsr_opt pdpe1gb rdtscp lm constant_tsc rep_good nopl nonstop_tsc cpuid extd_apicid aperfmperf pni pclmulqdq monitor ssse3 fma cx16 sse4_1 sse4_2 popcnt aes xsave avx f16c lahf_lm cmp_legacy svm extapic cr8_legacy abm sse4a misalignsse 3dnowprefetch osvw ibs xop skinit wdt lwp fma4 tce nodeid_msr tbm topoext perfctr_core perfctr_nb cpb hw_pstate ssbd ibpb vmmcall bmi1 arat npt lbrv svm_lock nrip_save tsc_scale vmcb_clean flushbyasid decodeassists pausefilter pfthreshold. I unfortunately cannot call scanpy.logging as I cannot import scanpy. I can, however, list the versions of all packages installed alongside scanpy. anndata 0.7.8. cycler 0.11.0. fonttools 4.28.2. h5py 3.6.0. joblib 1.1.0. kiwisolver 1.3.2. llvmlite 0.37.0. matplotlib 3.5.0. natsort 8.0.0. networkx 2.6.0. numba 0.54.1. numexpr 2.7.3. numpy 1.20.3. pandas 1.3.4. patsy 0.5.2. pillow 8.4.0. pynndescent 0.5.5. python-dateutil 2.8.2. pytz 2021.3. scikit-learn 1.0.1. scipy 1.7.3. seaborn 0.11.2. setuptools-scm 6.3.2. sinfo 0.3.4. statsmodels 0.13.1. stdlib-list 0.8.0. tables 3.6.1. threadpoolctl 3.0.0. tqdm 4.62.3. umap-learn 0.5.2. xlrd-1.2.0. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2062
https://github.com/scverse/scanpy/issues/2062:859,reliability,rdt,rdtscp,859,"Illegal instruction with Python 3.9.7; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. import scanpy as sc. ```. ```pytb. Illegal instruction (core dumped). ```. #### Versions. <details>. Python 3.9.7 and scanpy 1.8.2. CPU flags including instruction sets are pasted below. fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx mmxext fxsr_opt pdpe1gb rdtscp lm constant_tsc rep_good nopl nonstop_tsc cpuid extd_apicid aperfmperf pni pclmulqdq monitor ssse3 fma cx16 sse4_1 sse4_2 popcnt aes xsave avx f16c lahf_lm cmp_legacy svm extapic cr8_legacy abm sse4a misalignsse 3dnowprefetch osvw ibs xop skinit wdt lwp fma4 tce nodeid_msr tbm topoext perfctr_core perfctr_nb cpb hw_pstate ssbd ibpb vmmcall bmi1 arat npt lbrv svm_lock nrip_save tsc_scale vmcb_clean flushbyasid decodeassists pausefilter pfthreshold. I unfortunately cannot call scanpy.logging as I cannot import scanpy. I can, however, list the versions of all packages installed alongside scanpy. anndata 0.7.8. cycler 0.11.0. fonttools 4.28.2. h5py 3.6.0. joblib 1.1.0. kiwisolver 1.3.2. llvmlite 0.37.0. matplotlib 3.5.0. natsort 8.0.0. networkx 2.6.0. numba 0.54.1. numexpr 2.7.3. numpy 1.20.3. pandas 1.3.4. patsy 0.5.2. pillow 8.4.0. pynndescent 0.5.5. python-dateutil 2.8.2. pytz 2021.3. scikit-learn 1.0.1. scipy 1.7.3. seaborn 0.11.2. setuptools-scm 6.3.2. sinfo 0.3.4. statsmodels 0.13.1. stdlib-list 0.8.0. tables 3.6.1. threadpoolctl 3.0.0. tqdm 4.62.3. umap-learn 0.5.2. xlrd-1.2.0. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2062
https://github.com/scverse/scanpy/issues/2062:951,reliability,monitor,monitor,951,"Illegal instruction with Python 3.9.7; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. import scanpy as sc. ```. ```pytb. Illegal instruction (core dumped). ```. #### Versions. <details>. Python 3.9.7 and scanpy 1.8.2. CPU flags including instruction sets are pasted below. fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx mmxext fxsr_opt pdpe1gb rdtscp lm constant_tsc rep_good nopl nonstop_tsc cpuid extd_apicid aperfmperf pni pclmulqdq monitor ssse3 fma cx16 sse4_1 sse4_2 popcnt aes xsave avx f16c lahf_lm cmp_legacy svm extapic cr8_legacy abm sse4a misalignsse 3dnowprefetch osvw ibs xop skinit wdt lwp fma4 tce nodeid_msr tbm topoext perfctr_core perfctr_nb cpb hw_pstate ssbd ibpb vmmcall bmi1 arat npt lbrv svm_lock nrip_save tsc_scale vmcb_clean flushbyasid decodeassists pausefilter pfthreshold. I unfortunately cannot call scanpy.logging as I cannot import scanpy. I can, however, list the versions of all packages installed alongside scanpy. anndata 0.7.8. cycler 0.11.0. fonttools 4.28.2. h5py 3.6.0. joblib 1.1.0. kiwisolver 1.3.2. llvmlite 0.37.0. matplotlib 3.5.0. natsort 8.0.0. networkx 2.6.0. numba 0.54.1. numexpr 2.7.3. numpy 1.20.3. pandas 1.3.4. patsy 0.5.2. pillow 8.4.0. pynndescent 0.5.5. python-dateutil 2.8.2. pytz 2021.3. scikit-learn 1.0.1. scipy 1.7.3. seaborn 0.11.2. setuptools-scm 6.3.2. sinfo 0.3.4. statsmodels 0.13.1. stdlib-list 0.8.0. tables 3.6.1. threadpoolctl 3.0.0. tqdm 4.62.3. umap-learn 0.5.2. xlrd-1.2.0. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2062
https://github.com/scverse/scanpy/issues/2062:951,safety,monitor,monitor,951,"Illegal instruction with Python 3.9.7; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. import scanpy as sc. ```. ```pytb. Illegal instruction (core dumped). ```. #### Versions. <details>. Python 3.9.7 and scanpy 1.8.2. CPU flags including instruction sets are pasted below. fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx mmxext fxsr_opt pdpe1gb rdtscp lm constant_tsc rep_good nopl nonstop_tsc cpuid extd_apicid aperfmperf pni pclmulqdq monitor ssse3 fma cx16 sse4_1 sse4_2 popcnt aes xsave avx f16c lahf_lm cmp_legacy svm extapic cr8_legacy abm sse4a misalignsse 3dnowprefetch osvw ibs xop skinit wdt lwp fma4 tce nodeid_msr tbm topoext perfctr_core perfctr_nb cpb hw_pstate ssbd ibpb vmmcall bmi1 arat npt lbrv svm_lock nrip_save tsc_scale vmcb_clean flushbyasid decodeassists pausefilter pfthreshold. I unfortunately cannot call scanpy.logging as I cannot import scanpy. I can, however, list the versions of all packages installed alongside scanpy. anndata 0.7.8. cycler 0.11.0. fonttools 4.28.2. h5py 3.6.0. joblib 1.1.0. kiwisolver 1.3.2. llvmlite 0.37.0. matplotlib 3.5.0. natsort 8.0.0. networkx 2.6.0. numba 0.54.1. numexpr 2.7.3. numpy 1.20.3. pandas 1.3.4. patsy 0.5.2. pillow 8.4.0. pynndescent 0.5.5. python-dateutil 2.8.2. pytz 2021.3. scikit-learn 1.0.1. scipy 1.7.3. seaborn 0.11.2. setuptools-scm 6.3.2. sinfo 0.3.4. statsmodels 0.13.1. stdlib-list 0.8.0. tables 3.6.1. threadpoolctl 3.0.0. tqdm 4.62.3. umap-learn 0.5.2. xlrd-1.2.0. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2062
https://github.com/scverse/scanpy/issues/2062:1353,safety,log,logging,1353,"Illegal instruction with Python 3.9.7; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. import scanpy as sc. ```. ```pytb. Illegal instruction (core dumped). ```. #### Versions. <details>. Python 3.9.7 and scanpy 1.8.2. CPU flags including instruction sets are pasted below. fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx mmxext fxsr_opt pdpe1gb rdtscp lm constant_tsc rep_good nopl nonstop_tsc cpuid extd_apicid aperfmperf pni pclmulqdq monitor ssse3 fma cx16 sse4_1 sse4_2 popcnt aes xsave avx f16c lahf_lm cmp_legacy svm extapic cr8_legacy abm sse4a misalignsse 3dnowprefetch osvw ibs xop skinit wdt lwp fma4 tce nodeid_msr tbm topoext perfctr_core perfctr_nb cpb hw_pstate ssbd ibpb vmmcall bmi1 arat npt lbrv svm_lock nrip_save tsc_scale vmcb_clean flushbyasid decodeassists pausefilter pfthreshold. I unfortunately cannot call scanpy.logging as I cannot import scanpy. I can, however, list the versions of all packages installed alongside scanpy. anndata 0.7.8. cycler 0.11.0. fonttools 4.28.2. h5py 3.6.0. joblib 1.1.0. kiwisolver 1.3.2. llvmlite 0.37.0. matplotlib 3.5.0. natsort 8.0.0. networkx 2.6.0. numba 0.54.1. numexpr 2.7.3. numpy 1.20.3. pandas 1.3.4. patsy 0.5.2. pillow 8.4.0. pynndescent 0.5.5. python-dateutil 2.8.2. pytz 2021.3. scikit-learn 1.0.1. scipy 1.7.3. seaborn 0.11.2. setuptools-scm 6.3.2. sinfo 0.3.4. statsmodels 0.13.1. stdlib-list 0.8.0. tables 3.6.1. threadpoolctl 3.0.0. tqdm 4.62.3. umap-learn 0.5.2. xlrd-1.2.0. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2062
https://github.com/scverse/scanpy/issues/2062:1353,security,log,logging,1353,"Illegal instruction with Python 3.9.7; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. import scanpy as sc. ```. ```pytb. Illegal instruction (core dumped). ```. #### Versions. <details>. Python 3.9.7 and scanpy 1.8.2. CPU flags including instruction sets are pasted below. fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx mmxext fxsr_opt pdpe1gb rdtscp lm constant_tsc rep_good nopl nonstop_tsc cpuid extd_apicid aperfmperf pni pclmulqdq monitor ssse3 fma cx16 sse4_1 sse4_2 popcnt aes xsave avx f16c lahf_lm cmp_legacy svm extapic cr8_legacy abm sse4a misalignsse 3dnowprefetch osvw ibs xop skinit wdt lwp fma4 tce nodeid_msr tbm topoext perfctr_core perfctr_nb cpb hw_pstate ssbd ibpb vmmcall bmi1 arat npt lbrv svm_lock nrip_save tsc_scale vmcb_clean flushbyasid decodeassists pausefilter pfthreshold. I unfortunately cannot call scanpy.logging as I cannot import scanpy. I can, however, list the versions of all packages installed alongside scanpy. anndata 0.7.8. cycler 0.11.0. fonttools 4.28.2. h5py 3.6.0. joblib 1.1.0. kiwisolver 1.3.2. llvmlite 0.37.0. matplotlib 3.5.0. natsort 8.0.0. networkx 2.6.0. numba 0.54.1. numexpr 2.7.3. numpy 1.20.3. pandas 1.3.4. patsy 0.5.2. pillow 8.4.0. pynndescent 0.5.5. python-dateutil 2.8.2. pytz 2021.3. scikit-learn 1.0.1. scipy 1.7.3. seaborn 0.11.2. setuptools-scm 6.3.2. sinfo 0.3.4. statsmodels 0.13.1. stdlib-list 0.8.0. tables 3.6.1. threadpoolctl 3.0.0. tqdm 4.62.3. umap-learn 0.5.2. xlrd-1.2.0. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2062
https://github.com/scverse/scanpy/issues/2062:1608,security,network,networkx,1608,"Illegal instruction with Python 3.9.7; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. import scanpy as sc. ```. ```pytb. Illegal instruction (core dumped). ```. #### Versions. <details>. Python 3.9.7 and scanpy 1.8.2. CPU flags including instruction sets are pasted below. fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx mmxext fxsr_opt pdpe1gb rdtscp lm constant_tsc rep_good nopl nonstop_tsc cpuid extd_apicid aperfmperf pni pclmulqdq monitor ssse3 fma cx16 sse4_1 sse4_2 popcnt aes xsave avx f16c lahf_lm cmp_legacy svm extapic cr8_legacy abm sse4a misalignsse 3dnowprefetch osvw ibs xop skinit wdt lwp fma4 tce nodeid_msr tbm topoext perfctr_core perfctr_nb cpb hw_pstate ssbd ibpb vmmcall bmi1 arat npt lbrv svm_lock nrip_save tsc_scale vmcb_clean flushbyasid decodeassists pausefilter pfthreshold. I unfortunately cannot call scanpy.logging as I cannot import scanpy. I can, however, list the versions of all packages installed alongside scanpy. anndata 0.7.8. cycler 0.11.0. fonttools 4.28.2. h5py 3.6.0. joblib 1.1.0. kiwisolver 1.3.2. llvmlite 0.37.0. matplotlib 3.5.0. natsort 8.0.0. networkx 2.6.0. numba 0.54.1. numexpr 2.7.3. numpy 1.20.3. pandas 1.3.4. patsy 0.5.2. pillow 8.4.0. pynndescent 0.5.5. python-dateutil 2.8.2. pytz 2021.3. scikit-learn 1.0.1. scipy 1.7.3. seaborn 0.11.2. setuptools-scm 6.3.2. sinfo 0.3.4. statsmodels 0.13.1. stdlib-list 0.8.0. tables 3.6.1. threadpoolctl 3.0.0. tqdm 4.62.3. umap-learn 0.5.2. xlrd-1.2.0. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2062
https://github.com/scverse/scanpy/issues/2062:951,testability,monitor,monitor,951,"Illegal instruction with Python 3.9.7; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. import scanpy as sc. ```. ```pytb. Illegal instruction (core dumped). ```. #### Versions. <details>. Python 3.9.7 and scanpy 1.8.2. CPU flags including instruction sets are pasted below. fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx mmxext fxsr_opt pdpe1gb rdtscp lm constant_tsc rep_good nopl nonstop_tsc cpuid extd_apicid aperfmperf pni pclmulqdq monitor ssse3 fma cx16 sse4_1 sse4_2 popcnt aes xsave avx f16c lahf_lm cmp_legacy svm extapic cr8_legacy abm sse4a misalignsse 3dnowprefetch osvw ibs xop skinit wdt lwp fma4 tce nodeid_msr tbm topoext perfctr_core perfctr_nb cpb hw_pstate ssbd ibpb vmmcall bmi1 arat npt lbrv svm_lock nrip_save tsc_scale vmcb_clean flushbyasid decodeassists pausefilter pfthreshold. I unfortunately cannot call scanpy.logging as I cannot import scanpy. I can, however, list the versions of all packages installed alongside scanpy. anndata 0.7.8. cycler 0.11.0. fonttools 4.28.2. h5py 3.6.0. joblib 1.1.0. kiwisolver 1.3.2. llvmlite 0.37.0. matplotlib 3.5.0. natsort 8.0.0. networkx 2.6.0. numba 0.54.1. numexpr 2.7.3. numpy 1.20.3. pandas 1.3.4. patsy 0.5.2. pillow 8.4.0. pynndescent 0.5.5. python-dateutil 2.8.2. pytz 2021.3. scikit-learn 1.0.1. scipy 1.7.3. seaborn 0.11.2. setuptools-scm 6.3.2. sinfo 0.3.4. statsmodels 0.13.1. stdlib-list 0.8.0. tables 3.6.1. threadpoolctl 3.0.0. tqdm 4.62.3. umap-learn 0.5.2. xlrd-1.2.0. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2062
https://github.com/scverse/scanpy/issues/2062:1353,testability,log,logging,1353,"Illegal instruction with Python 3.9.7; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. import scanpy as sc. ```. ```pytb. Illegal instruction (core dumped). ```. #### Versions. <details>. Python 3.9.7 and scanpy 1.8.2. CPU flags including instruction sets are pasted below. fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx mmxext fxsr_opt pdpe1gb rdtscp lm constant_tsc rep_good nopl nonstop_tsc cpuid extd_apicid aperfmperf pni pclmulqdq monitor ssse3 fma cx16 sse4_1 sse4_2 popcnt aes xsave avx f16c lahf_lm cmp_legacy svm extapic cr8_legacy abm sse4a misalignsse 3dnowprefetch osvw ibs xop skinit wdt lwp fma4 tce nodeid_msr tbm topoext perfctr_core perfctr_nb cpb hw_pstate ssbd ibpb vmmcall bmi1 arat npt lbrv svm_lock nrip_save tsc_scale vmcb_clean flushbyasid decodeassists pausefilter pfthreshold. I unfortunately cannot call scanpy.logging as I cannot import scanpy. I can, however, list the versions of all packages installed alongside scanpy. anndata 0.7.8. cycler 0.11.0. fonttools 4.28.2. h5py 3.6.0. joblib 1.1.0. kiwisolver 1.3.2. llvmlite 0.37.0. matplotlib 3.5.0. natsort 8.0.0. networkx 2.6.0. numba 0.54.1. numexpr 2.7.3. numpy 1.20.3. pandas 1.3.4. patsy 0.5.2. pillow 8.4.0. pynndescent 0.5.5. python-dateutil 2.8.2. pytz 2021.3. scikit-learn 1.0.1. scipy 1.7.3. seaborn 0.11.2. setuptools-scm 6.3.2. sinfo 0.3.4. statsmodels 0.13.1. stdlib-list 0.8.0. tables 3.6.1. threadpoolctl 3.0.0. tqdm 4.62.3. umap-learn 0.5.2. xlrd-1.2.0. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2062
https://github.com/scverse/scanpy/issues/2062:120,usability,confirm,confirmed,120,"Illegal instruction with Python 3.9.7; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. import scanpy as sc. ```. ```pytb. Illegal instruction (core dumped). ```. #### Versions. <details>. Python 3.9.7 and scanpy 1.8.2. CPU flags including instruction sets are pasted below. fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx mmxext fxsr_opt pdpe1gb rdtscp lm constant_tsc rep_good nopl nonstop_tsc cpuid extd_apicid aperfmperf pni pclmulqdq monitor ssse3 fma cx16 sse4_1 sse4_2 popcnt aes xsave avx f16c lahf_lm cmp_legacy svm extapic cr8_legacy abm sse4a misalignsse 3dnowprefetch osvw ibs xop skinit wdt lwp fma4 tce nodeid_msr tbm topoext perfctr_core perfctr_nb cpb hw_pstate ssbd ibpb vmmcall bmi1 arat npt lbrv svm_lock nrip_save tsc_scale vmcb_clean flushbyasid decodeassists pausefilter pfthreshold. I unfortunately cannot call scanpy.logging as I cannot import scanpy. I can, however, list the versions of all packages installed alongside scanpy. anndata 0.7.8. cycler 0.11.0. fonttools 4.28.2. h5py 3.6.0. joblib 1.1.0. kiwisolver 1.3.2. llvmlite 0.37.0. matplotlib 3.5.0. natsort 8.0.0. networkx 2.6.0. numba 0.54.1. numexpr 2.7.3. numpy 1.20.3. pandas 1.3.4. patsy 0.5.2. pillow 8.4.0. pynndescent 0.5.5. python-dateutil 2.8.2. pytz 2021.3. scikit-learn 1.0.1. scipy 1.7.3. seaborn 0.11.2. setuptools-scm 6.3.2. sinfo 0.3.4. statsmodels 0.13.1. stdlib-list 0.8.0. tables 3.6.1. threadpoolctl 3.0.0. tqdm 4.62.3. umap-learn 0.5.2. xlrd-1.2.0. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2062
https://github.com/scverse/scanpy/issues/2062:203,usability,confirm,confirmed,203,"Illegal instruction with Python 3.9.7; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. import scanpy as sc. ```. ```pytb. Illegal instruction (core dumped). ```. #### Versions. <details>. Python 3.9.7 and scanpy 1.8.2. CPU flags including instruction sets are pasted below. fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx mmxext fxsr_opt pdpe1gb rdtscp lm constant_tsc rep_good nopl nonstop_tsc cpuid extd_apicid aperfmperf pni pclmulqdq monitor ssse3 fma cx16 sse4_1 sse4_2 popcnt aes xsave avx f16c lahf_lm cmp_legacy svm extapic cr8_legacy abm sse4a misalignsse 3dnowprefetch osvw ibs xop skinit wdt lwp fma4 tce nodeid_msr tbm topoext perfctr_core perfctr_nb cpb hw_pstate ssbd ibpb vmmcall bmi1 arat npt lbrv svm_lock nrip_save tsc_scale vmcb_clean flushbyasid decodeassists pausefilter pfthreshold. I unfortunately cannot call scanpy.logging as I cannot import scanpy. I can, however, list the versions of all packages installed alongside scanpy. anndata 0.7.8. cycler 0.11.0. fonttools 4.28.2. h5py 3.6.0. joblib 1.1.0. kiwisolver 1.3.2. llvmlite 0.37.0. matplotlib 3.5.0. natsort 8.0.0. networkx 2.6.0. numba 0.54.1. numexpr 2.7.3. numpy 1.20.3. pandas 1.3.4. patsy 0.5.2. pillow 8.4.0. pynndescent 0.5.5. python-dateutil 2.8.2. pytz 2021.3. scikit-learn 1.0.1. scipy 1.7.3. seaborn 0.11.2. setuptools-scm 6.3.2. sinfo 0.3.4. statsmodels 0.13.1. stdlib-list 0.8.0. tables 3.6.1. threadpoolctl 3.0.0. tqdm 4.62.3. umap-learn 0.5.2. xlrd-1.2.0. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2062
https://github.com/scverse/scanpy/issues/2062:294,usability,guid,guide,294,"Illegal instruction with Python 3.9.7; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. import scanpy as sc. ```. ```pytb. Illegal instruction (core dumped). ```. #### Versions. <details>. Python 3.9.7 and scanpy 1.8.2. CPU flags including instruction sets are pasted below. fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx mmxext fxsr_opt pdpe1gb rdtscp lm constant_tsc rep_good nopl nonstop_tsc cpuid extd_apicid aperfmperf pni pclmulqdq monitor ssse3 fma cx16 sse4_1 sse4_2 popcnt aes xsave avx f16c lahf_lm cmp_legacy svm extapic cr8_legacy abm sse4a misalignsse 3dnowprefetch osvw ibs xop skinit wdt lwp fma4 tce nodeid_msr tbm topoext perfctr_core perfctr_nb cpb hw_pstate ssbd ibpb vmmcall bmi1 arat npt lbrv svm_lock nrip_save tsc_scale vmcb_clean flushbyasid decodeassists pausefilter pfthreshold. I unfortunately cannot call scanpy.logging as I cannot import scanpy. I can, however, list the versions of all packages installed alongside scanpy. anndata 0.7.8. cycler 0.11.0. fonttools 4.28.2. h5py 3.6.0. joblib 1.1.0. kiwisolver 1.3.2. llvmlite 0.37.0. matplotlib 3.5.0. natsort 8.0.0. networkx 2.6.0. numba 0.54.1. numexpr 2.7.3. numpy 1.20.3. pandas 1.3.4. patsy 0.5.2. pillow 8.4.0. pynndescent 0.5.5. python-dateutil 2.8.2. pytz 2021.3. scikit-learn 1.0.1. scipy 1.7.3. seaborn 0.11.2. setuptools-scm 6.3.2. sinfo 0.3.4. statsmodels 0.13.1. stdlib-list 0.8.0. tables 3.6.1. threadpoolctl 3.0.0. tqdm 4.62.3. umap-learn 0.5.2. xlrd-1.2.0. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2062
https://github.com/scverse/scanpy/issues/2062:349,usability,minim,minimal-bug-reports,349,"Illegal instruction with Python 3.9.7; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. import scanpy as sc. ```. ```pytb. Illegal instruction (core dumped). ```. #### Versions. <details>. Python 3.9.7 and scanpy 1.8.2. CPU flags including instruction sets are pasted below. fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx mmxext fxsr_opt pdpe1gb rdtscp lm constant_tsc rep_good nopl nonstop_tsc cpuid extd_apicid aperfmperf pni pclmulqdq monitor ssse3 fma cx16 sse4_1 sse4_2 popcnt aes xsave avx f16c lahf_lm cmp_legacy svm extapic cr8_legacy abm sse4a misalignsse 3dnowprefetch osvw ibs xop skinit wdt lwp fma4 tce nodeid_msr tbm topoext perfctr_core perfctr_nb cpb hw_pstate ssbd ibpb vmmcall bmi1 arat npt lbrv svm_lock nrip_save tsc_scale vmcb_clean flushbyasid decodeassists pausefilter pfthreshold. I unfortunately cannot call scanpy.logging as I cannot import scanpy. I can, however, list the versions of all packages installed alongside scanpy. anndata 0.7.8. cycler 0.11.0. fonttools 4.28.2. h5py 3.6.0. joblib 1.1.0. kiwisolver 1.3.2. llvmlite 0.37.0. matplotlib 3.5.0. natsort 8.0.0. networkx 2.6.0. numba 0.54.1. numexpr 2.7.3. numpy 1.20.3. pandas 1.3.4. patsy 0.5.2. pillow 8.4.0. pynndescent 0.5.5. python-dateutil 2.8.2. pytz 2021.3. scikit-learn 1.0.1. scipy 1.7.3. seaborn 0.11.2. setuptools-scm 6.3.2. sinfo 0.3.4. statsmodels 0.13.1. stdlib-list 0.8.0. tables 3.6.1. threadpoolctl 3.0.0. tqdm 4.62.3. umap-learn 0.5.2. xlrd-1.2.0. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2062
https://github.com/scverse/scanpy/issues/2062:455,usability,Minim,Minimal,455,"Illegal instruction with Python 3.9.7; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. import scanpy as sc. ```. ```pytb. Illegal instruction (core dumped). ```. #### Versions. <details>. Python 3.9.7 and scanpy 1.8.2. CPU flags including instruction sets are pasted below. fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx mmxext fxsr_opt pdpe1gb rdtscp lm constant_tsc rep_good nopl nonstop_tsc cpuid extd_apicid aperfmperf pni pclmulqdq monitor ssse3 fma cx16 sse4_1 sse4_2 popcnt aes xsave avx f16c lahf_lm cmp_legacy svm extapic cr8_legacy abm sse4a misalignsse 3dnowprefetch osvw ibs xop skinit wdt lwp fma4 tce nodeid_msr tbm topoext perfctr_core perfctr_nb cpb hw_pstate ssbd ibpb vmmcall bmi1 arat npt lbrv svm_lock nrip_save tsc_scale vmcb_clean flushbyasid decodeassists pausefilter pfthreshold. I unfortunately cannot call scanpy.logging as I cannot import scanpy. I can, however, list the versions of all packages installed alongside scanpy. anndata 0.7.8. cycler 0.11.0. fonttools 4.28.2. h5py 3.6.0. joblib 1.1.0. kiwisolver 1.3.2. llvmlite 0.37.0. matplotlib 3.5.0. natsort 8.0.0. networkx 2.6.0. numba 0.54.1. numexpr 2.7.3. numpy 1.20.3. pandas 1.3.4. patsy 0.5.2. pillow 8.4.0. pynndescent 0.5.5. python-dateutil 2.8.2. pytz 2021.3. scikit-learn 1.0.1. scipy 1.7.3. seaborn 0.11.2. setuptools-scm 6.3.2. sinfo 0.3.4. statsmodels 0.13.1. stdlib-list 0.8.0. tables 3.6.1. threadpoolctl 3.0.0. tqdm 4.62.3. umap-learn 0.5.2. xlrd-1.2.0. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2062
https://github.com/scverse/scanpy/issues/2062:1293,usability,paus,pausefilter,1293,"Illegal instruction with Python 3.9.7; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. import scanpy as sc. ```. ```pytb. Illegal instruction (core dumped). ```. #### Versions. <details>. Python 3.9.7 and scanpy 1.8.2. CPU flags including instruction sets are pasted below. fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx mmxext fxsr_opt pdpe1gb rdtscp lm constant_tsc rep_good nopl nonstop_tsc cpuid extd_apicid aperfmperf pni pclmulqdq monitor ssse3 fma cx16 sse4_1 sse4_2 popcnt aes xsave avx f16c lahf_lm cmp_legacy svm extapic cr8_legacy abm sse4a misalignsse 3dnowprefetch osvw ibs xop skinit wdt lwp fma4 tce nodeid_msr tbm topoext perfctr_core perfctr_nb cpb hw_pstate ssbd ibpb vmmcall bmi1 arat npt lbrv svm_lock nrip_save tsc_scale vmcb_clean flushbyasid decodeassists pausefilter pfthreshold. I unfortunately cannot call scanpy.logging as I cannot import scanpy. I can, however, list the versions of all packages installed alongside scanpy. anndata 0.7.8. cycler 0.11.0. fonttools 4.28.2. h5py 3.6.0. joblib 1.1.0. kiwisolver 1.3.2. llvmlite 0.37.0. matplotlib 3.5.0. natsort 8.0.0. networkx 2.6.0. numba 0.54.1. numexpr 2.7.3. numpy 1.20.3. pandas 1.3.4. patsy 0.5.2. pillow 8.4.0. pynndescent 0.5.5. python-dateutil 2.8.2. pytz 2021.3. scikit-learn 1.0.1. scipy 1.7.3. seaborn 0.11.2. setuptools-scm 6.3.2. sinfo 0.3.4. statsmodels 0.13.1. stdlib-list 0.8.0. tables 3.6.1. threadpoolctl 3.0.0. tqdm 4.62.3. umap-learn 0.5.2. xlrd-1.2.0. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2062
https://github.com/scverse/scanpy/issues/2062:1770,usability,learn,learn,1770,"Illegal instruction with Python 3.9.7; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. import scanpy as sc. ```. ```pytb. Illegal instruction (core dumped). ```. #### Versions. <details>. Python 3.9.7 and scanpy 1.8.2. CPU flags including instruction sets are pasted below. fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx mmxext fxsr_opt pdpe1gb rdtscp lm constant_tsc rep_good nopl nonstop_tsc cpuid extd_apicid aperfmperf pni pclmulqdq monitor ssse3 fma cx16 sse4_1 sse4_2 popcnt aes xsave avx f16c lahf_lm cmp_legacy svm extapic cr8_legacy abm sse4a misalignsse 3dnowprefetch osvw ibs xop skinit wdt lwp fma4 tce nodeid_msr tbm topoext perfctr_core perfctr_nb cpb hw_pstate ssbd ibpb vmmcall bmi1 arat npt lbrv svm_lock nrip_save tsc_scale vmcb_clean flushbyasid decodeassists pausefilter pfthreshold. I unfortunately cannot call scanpy.logging as I cannot import scanpy. I can, however, list the versions of all packages installed alongside scanpy. anndata 0.7.8. cycler 0.11.0. fonttools 4.28.2. h5py 3.6.0. joblib 1.1.0. kiwisolver 1.3.2. llvmlite 0.37.0. matplotlib 3.5.0. natsort 8.0.0. networkx 2.6.0. numba 0.54.1. numexpr 2.7.3. numpy 1.20.3. pandas 1.3.4. patsy 0.5.2. pillow 8.4.0. pynndescent 0.5.5. python-dateutil 2.8.2. pytz 2021.3. scikit-learn 1.0.1. scipy 1.7.3. seaborn 0.11.2. setuptools-scm 6.3.2. sinfo 0.3.4. statsmodels 0.13.1. stdlib-list 0.8.0. tables 3.6.1. threadpoolctl 3.0.0. tqdm 4.62.3. umap-learn 0.5.2. xlrd-1.2.0. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2062
https://github.com/scverse/scanpy/issues/2062:1939,usability,learn,learn,1939,"Illegal instruction with Python 3.9.7; - [X] I have checked that this issue has not already been reported. - [X] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. import scanpy as sc. ```. ```pytb. Illegal instruction (core dumped). ```. #### Versions. <details>. Python 3.9.7 and scanpy 1.8.2. CPU flags including instruction sets are pasted below. fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx mmxext fxsr_opt pdpe1gb rdtscp lm constant_tsc rep_good nopl nonstop_tsc cpuid extd_apicid aperfmperf pni pclmulqdq monitor ssse3 fma cx16 sse4_1 sse4_2 popcnt aes xsave avx f16c lahf_lm cmp_legacy svm extapic cr8_legacy abm sse4a misalignsse 3dnowprefetch osvw ibs xop skinit wdt lwp fma4 tce nodeid_msr tbm topoext perfctr_core perfctr_nb cpb hw_pstate ssbd ibpb vmmcall bmi1 arat npt lbrv svm_lock nrip_save tsc_scale vmcb_clean flushbyasid decodeassists pausefilter pfthreshold. I unfortunately cannot call scanpy.logging as I cannot import scanpy. I can, however, list the versions of all packages installed alongside scanpy. anndata 0.7.8. cycler 0.11.0. fonttools 4.28.2. h5py 3.6.0. joblib 1.1.0. kiwisolver 1.3.2. llvmlite 0.37.0. matplotlib 3.5.0. natsort 8.0.0. networkx 2.6.0. numba 0.54.1. numexpr 2.7.3. numpy 1.20.3. pandas 1.3.4. patsy 0.5.2. pillow 8.4.0. pynndescent 0.5.5. python-dateutil 2.8.2. pytz 2021.3. scikit-learn 1.0.1. scipy 1.7.3. seaborn 0.11.2. setuptools-scm 6.3.2. sinfo 0.3.4. statsmodels 0.13.1. stdlib-list 0.8.0. tables 3.6.1. threadpoolctl 3.0.0. tqdm 4.62.3. umap-learn 0.5.2. xlrd-1.2.0. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2062
https://github.com/scverse/scanpy/pull/2063:793,availability,error,error,793,"Make louvain optional for tests; We're having trouble installing louvain on CI due to a recent setuptools release (would have been nice if setuptools had more vocal warnings about this ahead of time, but alas). See: vtraag/louvain-igraph/issues/57. This PR makes louvain optional. This was done by:. ### Skip louvain dependent tests. While these largely were tests checking that louvain works, some of these are testing other things. The biggest example here is `test_paga_paul15_subsampled.py`, which is really a test of PAGA. This should be corrected. ### Remove louvain dependency from tests. Some tests, like those for `rank_genes_groups_logreg` used louvain, but really didn't have to. `test_pbmc3k` could just have `louvain` calls replaced with `leiden` with only one plot triggering an error. ### `louvain` is no longer installed on CI. This should get around the build issue.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2063
https://github.com/scverse/scanpy/pull/2063:54,deployability,instal,installing,54,"Make louvain optional for tests; We're having trouble installing louvain on CI due to a recent setuptools release (would have been nice if setuptools had more vocal warnings about this ahead of time, but alas). See: vtraag/louvain-igraph/issues/57. This PR makes louvain optional. This was done by:. ### Skip louvain dependent tests. While these largely were tests checking that louvain works, some of these are testing other things. The biggest example here is `test_paga_paul15_subsampled.py`, which is really a test of PAGA. This should be corrected. ### Remove louvain dependency from tests. Some tests, like those for `rank_genes_groups_logreg` used louvain, but really didn't have to. `test_pbmc3k` could just have `louvain` calls replaced with `leiden` with only one plot triggering an error. ### `louvain` is no longer installed on CI. This should get around the build issue.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2063
https://github.com/scverse/scanpy/pull/2063:106,deployability,releas,release,106,"Make louvain optional for tests; We're having trouble installing louvain on CI due to a recent setuptools release (would have been nice if setuptools had more vocal warnings about this ahead of time, but alas). See: vtraag/louvain-igraph/issues/57. This PR makes louvain optional. This was done by:. ### Skip louvain dependent tests. While these largely were tests checking that louvain works, some of these are testing other things. The biggest example here is `test_paga_paul15_subsampled.py`, which is really a test of PAGA. This should be corrected. ### Remove louvain dependency from tests. Some tests, like those for `rank_genes_groups_logreg` used louvain, but really didn't have to. `test_pbmc3k` could just have `louvain` calls replaced with `leiden` with only one plot triggering an error. ### `louvain` is no longer installed on CI. This should get around the build issue.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2063
https://github.com/scverse/scanpy/pull/2063:317,deployability,depend,dependent,317,"Make louvain optional for tests; We're having trouble installing louvain on CI due to a recent setuptools release (would have been nice if setuptools had more vocal warnings about this ahead of time, but alas). See: vtraag/louvain-igraph/issues/57. This PR makes louvain optional. This was done by:. ### Skip louvain dependent tests. While these largely were tests checking that louvain works, some of these are testing other things. The biggest example here is `test_paga_paul15_subsampled.py`, which is really a test of PAGA. This should be corrected. ### Remove louvain dependency from tests. Some tests, like those for `rank_genes_groups_logreg` used louvain, but really didn't have to. `test_pbmc3k` could just have `louvain` calls replaced with `leiden` with only one plot triggering an error. ### `louvain` is no longer installed on CI. This should get around the build issue.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2063
https://github.com/scverse/scanpy/pull/2063:573,deployability,depend,dependency,573,"Make louvain optional for tests; We're having trouble installing louvain on CI due to a recent setuptools release (would have been nice if setuptools had more vocal warnings about this ahead of time, but alas). See: vtraag/louvain-igraph/issues/57. This PR makes louvain optional. This was done by:. ### Skip louvain dependent tests. While these largely were tests checking that louvain works, some of these are testing other things. The biggest example here is `test_paga_paul15_subsampled.py`, which is really a test of PAGA. This should be corrected. ### Remove louvain dependency from tests. Some tests, like those for `rank_genes_groups_logreg` used louvain, but really didn't have to. `test_pbmc3k` could just have `louvain` calls replaced with `leiden` with only one plot triggering an error. ### `louvain` is no longer installed on CI. This should get around the build issue.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2063
https://github.com/scverse/scanpy/pull/2063:827,deployability,instal,installed,827,"Make louvain optional for tests; We're having trouble installing louvain on CI due to a recent setuptools release (would have been nice if setuptools had more vocal warnings about this ahead of time, but alas). See: vtraag/louvain-igraph/issues/57. This PR makes louvain optional. This was done by:. ### Skip louvain dependent tests. While these largely were tests checking that louvain works, some of these are testing other things. The biggest example here is `test_paga_paul15_subsampled.py`, which is really a test of PAGA. This should be corrected. ### Remove louvain dependency from tests. Some tests, like those for `rank_genes_groups_logreg` used louvain, but really didn't have to. `test_pbmc3k` could just have `louvain` calls replaced with `leiden` with only one plot triggering an error. ### `louvain` is no longer installed on CI. This should get around the build issue.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2063
https://github.com/scverse/scanpy/pull/2063:871,deployability,build,build,871,"Make louvain optional for tests; We're having trouble installing louvain on CI due to a recent setuptools release (would have been nice if setuptools had more vocal warnings about this ahead of time, but alas). See: vtraag/louvain-igraph/issues/57. This PR makes louvain optional. This was done by:. ### Skip louvain dependent tests. While these largely were tests checking that louvain works, some of these are testing other things. The biggest example here is `test_paga_paul15_subsampled.py`, which is really a test of PAGA. This should be corrected. ### Remove louvain dependency from tests. Some tests, like those for `rank_genes_groups_logreg` used louvain, but really didn't have to. `test_pbmc3k` could just have `louvain` calls replaced with `leiden` with only one plot triggering an error. ### `louvain` is no longer installed on CI. This should get around the build issue.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2063
https://github.com/scverse/scanpy/pull/2063:317,integrability,depend,dependent,317,"Make louvain optional for tests; We're having trouble installing louvain on CI due to a recent setuptools release (would have been nice if setuptools had more vocal warnings about this ahead of time, but alas). See: vtraag/louvain-igraph/issues/57. This PR makes louvain optional. This was done by:. ### Skip louvain dependent tests. While these largely were tests checking that louvain works, some of these are testing other things. The biggest example here is `test_paga_paul15_subsampled.py`, which is really a test of PAGA. This should be corrected. ### Remove louvain dependency from tests. Some tests, like those for `rank_genes_groups_logreg` used louvain, but really didn't have to. `test_pbmc3k` could just have `louvain` calls replaced with `leiden` with only one plot triggering an error. ### `louvain` is no longer installed on CI. This should get around the build issue.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2063
https://github.com/scverse/scanpy/pull/2063:573,integrability,depend,dependency,573,"Make louvain optional for tests; We're having trouble installing louvain on CI due to a recent setuptools release (would have been nice if setuptools had more vocal warnings about this ahead of time, but alas). See: vtraag/louvain-igraph/issues/57. This PR makes louvain optional. This was done by:. ### Skip louvain dependent tests. While these largely were tests checking that louvain works, some of these are testing other things. The biggest example here is `test_paga_paul15_subsampled.py`, which is really a test of PAGA. This should be corrected. ### Remove louvain dependency from tests. Some tests, like those for `rank_genes_groups_logreg` used louvain, but really didn't have to. `test_pbmc3k` could just have `louvain` calls replaced with `leiden` with only one plot triggering an error. ### `louvain` is no longer installed on CI. This should get around the build issue.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2063
https://github.com/scverse/scanpy/pull/2063:317,modifiability,depend,dependent,317,"Make louvain optional for tests; We're having trouble installing louvain on CI due to a recent setuptools release (would have been nice if setuptools had more vocal warnings about this ahead of time, but alas). See: vtraag/louvain-igraph/issues/57. This PR makes louvain optional. This was done by:. ### Skip louvain dependent tests. While these largely were tests checking that louvain works, some of these are testing other things. The biggest example here is `test_paga_paul15_subsampled.py`, which is really a test of PAGA. This should be corrected. ### Remove louvain dependency from tests. Some tests, like those for `rank_genes_groups_logreg` used louvain, but really didn't have to. `test_pbmc3k` could just have `louvain` calls replaced with `leiden` with only one plot triggering an error. ### `louvain` is no longer installed on CI. This should get around the build issue.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2063
https://github.com/scverse/scanpy/pull/2063:573,modifiability,depend,dependency,573,"Make louvain optional for tests; We're having trouble installing louvain on CI due to a recent setuptools release (would have been nice if setuptools had more vocal warnings about this ahead of time, but alas). See: vtraag/louvain-igraph/issues/57. This PR makes louvain optional. This was done by:. ### Skip louvain dependent tests. While these largely were tests checking that louvain works, some of these are testing other things. The biggest example here is `test_paga_paul15_subsampled.py`, which is really a test of PAGA. This should be corrected. ### Remove louvain dependency from tests. Some tests, like those for `rank_genes_groups_logreg` used louvain, but really didn't have to. `test_pbmc3k` could just have `louvain` calls replaced with `leiden` with only one plot triggering an error. ### `louvain` is no longer installed on CI. This should get around the build issue.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2063
https://github.com/scverse/scanpy/pull/2063:194,performance,time,time,194,"Make louvain optional for tests; We're having trouble installing louvain on CI due to a recent setuptools release (would have been nice if setuptools had more vocal warnings about this ahead of time, but alas). See: vtraag/louvain-igraph/issues/57. This PR makes louvain optional. This was done by:. ### Skip louvain dependent tests. While these largely were tests checking that louvain works, some of these are testing other things. The biggest example here is `test_paga_paul15_subsampled.py`, which is really a test of PAGA. This should be corrected. ### Remove louvain dependency from tests. Some tests, like those for `rank_genes_groups_logreg` used louvain, but really didn't have to. `test_pbmc3k` could just have `louvain` calls replaced with `leiden` with only one plot triggering an error. ### `louvain` is no longer installed on CI. This should get around the build issue.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2063
https://github.com/scverse/scanpy/pull/2063:793,performance,error,error,793,"Make louvain optional for tests; We're having trouble installing louvain on CI due to a recent setuptools release (would have been nice if setuptools had more vocal warnings about this ahead of time, but alas). See: vtraag/louvain-igraph/issues/57. This PR makes louvain optional. This was done by:. ### Skip louvain dependent tests. While these largely were tests checking that louvain works, some of these are testing other things. The biggest example here is `test_paga_paul15_subsampled.py`, which is really a test of PAGA. This should be corrected. ### Remove louvain dependency from tests. Some tests, like those for `rank_genes_groups_logreg` used louvain, but really didn't have to. `test_pbmc3k` could just have `louvain` calls replaced with `leiden` with only one plot triggering an error. ### `louvain` is no longer installed on CI. This should get around the build issue.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2063
https://github.com/scverse/scanpy/pull/2063:26,safety,test,tests,26,"Make louvain optional for tests; We're having trouble installing louvain on CI due to a recent setuptools release (would have been nice if setuptools had more vocal warnings about this ahead of time, but alas). See: vtraag/louvain-igraph/issues/57. This PR makes louvain optional. This was done by:. ### Skip louvain dependent tests. While these largely were tests checking that louvain works, some of these are testing other things. The biggest example here is `test_paga_paul15_subsampled.py`, which is really a test of PAGA. This should be corrected. ### Remove louvain dependency from tests. Some tests, like those for `rank_genes_groups_logreg` used louvain, but really didn't have to. `test_pbmc3k` could just have `louvain` calls replaced with `leiden` with only one plot triggering an error. ### `louvain` is no longer installed on CI. This should get around the build issue.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2063
https://github.com/scverse/scanpy/pull/2063:317,safety,depend,dependent,317,"Make louvain optional for tests; We're having trouble installing louvain on CI due to a recent setuptools release (would have been nice if setuptools had more vocal warnings about this ahead of time, but alas). See: vtraag/louvain-igraph/issues/57. This PR makes louvain optional. This was done by:. ### Skip louvain dependent tests. While these largely were tests checking that louvain works, some of these are testing other things. The biggest example here is `test_paga_paul15_subsampled.py`, which is really a test of PAGA. This should be corrected. ### Remove louvain dependency from tests. Some tests, like those for `rank_genes_groups_logreg` used louvain, but really didn't have to. `test_pbmc3k` could just have `louvain` calls replaced with `leiden` with only one plot triggering an error. ### `louvain` is no longer installed on CI. This should get around the build issue.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2063
https://github.com/scverse/scanpy/pull/2063:327,safety,test,tests,327,"Make louvain optional for tests; We're having trouble installing louvain on CI due to a recent setuptools release (would have been nice if setuptools had more vocal warnings about this ahead of time, but alas). See: vtraag/louvain-igraph/issues/57. This PR makes louvain optional. This was done by:. ### Skip louvain dependent tests. While these largely were tests checking that louvain works, some of these are testing other things. The biggest example here is `test_paga_paul15_subsampled.py`, which is really a test of PAGA. This should be corrected. ### Remove louvain dependency from tests. Some tests, like those for `rank_genes_groups_logreg` used louvain, but really didn't have to. `test_pbmc3k` could just have `louvain` calls replaced with `leiden` with only one plot triggering an error. ### `louvain` is no longer installed on CI. This should get around the build issue.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2063
https://github.com/scverse/scanpy/pull/2063:359,safety,test,tests,359,"Make louvain optional for tests; We're having trouble installing louvain on CI due to a recent setuptools release (would have been nice if setuptools had more vocal warnings about this ahead of time, but alas). See: vtraag/louvain-igraph/issues/57. This PR makes louvain optional. This was done by:. ### Skip louvain dependent tests. While these largely were tests checking that louvain works, some of these are testing other things. The biggest example here is `test_paga_paul15_subsampled.py`, which is really a test of PAGA. This should be corrected. ### Remove louvain dependency from tests. Some tests, like those for `rank_genes_groups_logreg` used louvain, but really didn't have to. `test_pbmc3k` could just have `louvain` calls replaced with `leiden` with only one plot triggering an error. ### `louvain` is no longer installed on CI. This should get around the build issue.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2063
https://github.com/scverse/scanpy/pull/2063:412,safety,test,testing,412,"Make louvain optional for tests; We're having trouble installing louvain on CI due to a recent setuptools release (would have been nice if setuptools had more vocal warnings about this ahead of time, but alas). See: vtraag/louvain-igraph/issues/57. This PR makes louvain optional. This was done by:. ### Skip louvain dependent tests. While these largely were tests checking that louvain works, some of these are testing other things. The biggest example here is `test_paga_paul15_subsampled.py`, which is really a test of PAGA. This should be corrected. ### Remove louvain dependency from tests. Some tests, like those for `rank_genes_groups_logreg` used louvain, but really didn't have to. `test_pbmc3k` could just have `louvain` calls replaced with `leiden` with only one plot triggering an error. ### `louvain` is no longer installed on CI. This should get around the build issue.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2063
https://github.com/scverse/scanpy/pull/2063:514,safety,test,test,514,"Make louvain optional for tests; We're having trouble installing louvain on CI due to a recent setuptools release (would have been nice if setuptools had more vocal warnings about this ahead of time, but alas). See: vtraag/louvain-igraph/issues/57. This PR makes louvain optional. This was done by:. ### Skip louvain dependent tests. While these largely were tests checking that louvain works, some of these are testing other things. The biggest example here is `test_paga_paul15_subsampled.py`, which is really a test of PAGA. This should be corrected. ### Remove louvain dependency from tests. Some tests, like those for `rank_genes_groups_logreg` used louvain, but really didn't have to. `test_pbmc3k` could just have `louvain` calls replaced with `leiden` with only one plot triggering an error. ### `louvain` is no longer installed on CI. This should get around the build issue.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2063
https://github.com/scverse/scanpy/pull/2063:573,safety,depend,dependency,573,"Make louvain optional for tests; We're having trouble installing louvain on CI due to a recent setuptools release (would have been nice if setuptools had more vocal warnings about this ahead of time, but alas). See: vtraag/louvain-igraph/issues/57. This PR makes louvain optional. This was done by:. ### Skip louvain dependent tests. While these largely were tests checking that louvain works, some of these are testing other things. The biggest example here is `test_paga_paul15_subsampled.py`, which is really a test of PAGA. This should be corrected. ### Remove louvain dependency from tests. Some tests, like those for `rank_genes_groups_logreg` used louvain, but really didn't have to. `test_pbmc3k` could just have `louvain` calls replaced with `leiden` with only one plot triggering an error. ### `louvain` is no longer installed on CI. This should get around the build issue.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2063
https://github.com/scverse/scanpy/pull/2063:589,safety,test,tests,589,"Make louvain optional for tests; We're having trouble installing louvain on CI due to a recent setuptools release (would have been nice if setuptools had more vocal warnings about this ahead of time, but alas). See: vtraag/louvain-igraph/issues/57. This PR makes louvain optional. This was done by:. ### Skip louvain dependent tests. While these largely were tests checking that louvain works, some of these are testing other things. The biggest example here is `test_paga_paul15_subsampled.py`, which is really a test of PAGA. This should be corrected. ### Remove louvain dependency from tests. Some tests, like those for `rank_genes_groups_logreg` used louvain, but really didn't have to. `test_pbmc3k` could just have `louvain` calls replaced with `leiden` with only one plot triggering an error. ### `louvain` is no longer installed on CI. This should get around the build issue.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2063
https://github.com/scverse/scanpy/pull/2063:601,safety,test,tests,601,"Make louvain optional for tests; We're having trouble installing louvain on CI due to a recent setuptools release (would have been nice if setuptools had more vocal warnings about this ahead of time, but alas). See: vtraag/louvain-igraph/issues/57. This PR makes louvain optional. This was done by:. ### Skip louvain dependent tests. While these largely were tests checking that louvain works, some of these are testing other things. The biggest example here is `test_paga_paul15_subsampled.py`, which is really a test of PAGA. This should be corrected. ### Remove louvain dependency from tests. Some tests, like those for `rank_genes_groups_logreg` used louvain, but really didn't have to. `test_pbmc3k` could just have `louvain` calls replaced with `leiden` with only one plot triggering an error. ### `louvain` is no longer installed on CI. This should get around the build issue.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2063
https://github.com/scverse/scanpy/pull/2063:793,safety,error,error,793,"Make louvain optional for tests; We're having trouble installing louvain on CI due to a recent setuptools release (would have been nice if setuptools had more vocal warnings about this ahead of time, but alas). See: vtraag/louvain-igraph/issues/57. This PR makes louvain optional. This was done by:. ### Skip louvain dependent tests. While these largely were tests checking that louvain works, some of these are testing other things. The biggest example here is `test_paga_paul15_subsampled.py`, which is really a test of PAGA. This should be corrected. ### Remove louvain dependency from tests. Some tests, like those for `rank_genes_groups_logreg` used louvain, but really didn't have to. `test_pbmc3k` could just have `louvain` calls replaced with `leiden` with only one plot triggering an error. ### `louvain` is no longer installed on CI. This should get around the build issue.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2063
https://github.com/scverse/scanpy/pull/2063:26,testability,test,tests,26,"Make louvain optional for tests; We're having trouble installing louvain on CI due to a recent setuptools release (would have been nice if setuptools had more vocal warnings about this ahead of time, but alas). See: vtraag/louvain-igraph/issues/57. This PR makes louvain optional. This was done by:. ### Skip louvain dependent tests. While these largely were tests checking that louvain works, some of these are testing other things. The biggest example here is `test_paga_paul15_subsampled.py`, which is really a test of PAGA. This should be corrected. ### Remove louvain dependency from tests. Some tests, like those for `rank_genes_groups_logreg` used louvain, but really didn't have to. `test_pbmc3k` could just have `louvain` calls replaced with `leiden` with only one plot triggering an error. ### `louvain` is no longer installed on CI. This should get around the build issue.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2063
https://github.com/scverse/scanpy/pull/2063:317,testability,depend,dependent,317,"Make louvain optional for tests; We're having trouble installing louvain on CI due to a recent setuptools release (would have been nice if setuptools had more vocal warnings about this ahead of time, but alas). See: vtraag/louvain-igraph/issues/57. This PR makes louvain optional. This was done by:. ### Skip louvain dependent tests. While these largely were tests checking that louvain works, some of these are testing other things. The biggest example here is `test_paga_paul15_subsampled.py`, which is really a test of PAGA. This should be corrected. ### Remove louvain dependency from tests. Some tests, like those for `rank_genes_groups_logreg` used louvain, but really didn't have to. `test_pbmc3k` could just have `louvain` calls replaced with `leiden` with only one plot triggering an error. ### `louvain` is no longer installed on CI. This should get around the build issue.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2063
https://github.com/scverse/scanpy/pull/2063:327,testability,test,tests,327,"Make louvain optional for tests; We're having trouble installing louvain on CI due to a recent setuptools release (would have been nice if setuptools had more vocal warnings about this ahead of time, but alas). See: vtraag/louvain-igraph/issues/57. This PR makes louvain optional. This was done by:. ### Skip louvain dependent tests. While these largely were tests checking that louvain works, some of these are testing other things. The biggest example here is `test_paga_paul15_subsampled.py`, which is really a test of PAGA. This should be corrected. ### Remove louvain dependency from tests. Some tests, like those for `rank_genes_groups_logreg` used louvain, but really didn't have to. `test_pbmc3k` could just have `louvain` calls replaced with `leiden` with only one plot triggering an error. ### `louvain` is no longer installed on CI. This should get around the build issue.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2063
https://github.com/scverse/scanpy/pull/2063:359,testability,test,tests,359,"Make louvain optional for tests; We're having trouble installing louvain on CI due to a recent setuptools release (would have been nice if setuptools had more vocal warnings about this ahead of time, but alas). See: vtraag/louvain-igraph/issues/57. This PR makes louvain optional. This was done by:. ### Skip louvain dependent tests. While these largely were tests checking that louvain works, some of these are testing other things. The biggest example here is `test_paga_paul15_subsampled.py`, which is really a test of PAGA. This should be corrected. ### Remove louvain dependency from tests. Some tests, like those for `rank_genes_groups_logreg` used louvain, but really didn't have to. `test_pbmc3k` could just have `louvain` calls replaced with `leiden` with only one plot triggering an error. ### `louvain` is no longer installed on CI. This should get around the build issue.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2063
https://github.com/scverse/scanpy/pull/2063:412,testability,test,testing,412,"Make louvain optional for tests; We're having trouble installing louvain on CI due to a recent setuptools release (would have been nice if setuptools had more vocal warnings about this ahead of time, but alas). See: vtraag/louvain-igraph/issues/57. This PR makes louvain optional. This was done by:. ### Skip louvain dependent tests. While these largely were tests checking that louvain works, some of these are testing other things. The biggest example here is `test_paga_paul15_subsampled.py`, which is really a test of PAGA. This should be corrected. ### Remove louvain dependency from tests. Some tests, like those for `rank_genes_groups_logreg` used louvain, but really didn't have to. `test_pbmc3k` could just have `louvain` calls replaced with `leiden` with only one plot triggering an error. ### `louvain` is no longer installed on CI. This should get around the build issue.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2063
https://github.com/scverse/scanpy/pull/2063:514,testability,test,test,514,"Make louvain optional for tests; We're having trouble installing louvain on CI due to a recent setuptools release (would have been nice if setuptools had more vocal warnings about this ahead of time, but alas). See: vtraag/louvain-igraph/issues/57. This PR makes louvain optional. This was done by:. ### Skip louvain dependent tests. While these largely were tests checking that louvain works, some of these are testing other things. The biggest example here is `test_paga_paul15_subsampled.py`, which is really a test of PAGA. This should be corrected. ### Remove louvain dependency from tests. Some tests, like those for `rank_genes_groups_logreg` used louvain, but really didn't have to. `test_pbmc3k` could just have `louvain` calls replaced with `leiden` with only one plot triggering an error. ### `louvain` is no longer installed on CI. This should get around the build issue.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2063
https://github.com/scverse/scanpy/pull/2063:573,testability,depend,dependency,573,"Make louvain optional for tests; We're having trouble installing louvain on CI due to a recent setuptools release (would have been nice if setuptools had more vocal warnings about this ahead of time, but alas). See: vtraag/louvain-igraph/issues/57. This PR makes louvain optional. This was done by:. ### Skip louvain dependent tests. While these largely were tests checking that louvain works, some of these are testing other things. The biggest example here is `test_paga_paul15_subsampled.py`, which is really a test of PAGA. This should be corrected. ### Remove louvain dependency from tests. Some tests, like those for `rank_genes_groups_logreg` used louvain, but really didn't have to. `test_pbmc3k` could just have `louvain` calls replaced with `leiden` with only one plot triggering an error. ### `louvain` is no longer installed on CI. This should get around the build issue.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2063
https://github.com/scverse/scanpy/pull/2063:589,testability,test,tests,589,"Make louvain optional for tests; We're having trouble installing louvain on CI due to a recent setuptools release (would have been nice if setuptools had more vocal warnings about this ahead of time, but alas). See: vtraag/louvain-igraph/issues/57. This PR makes louvain optional. This was done by:. ### Skip louvain dependent tests. While these largely were tests checking that louvain works, some of these are testing other things. The biggest example here is `test_paga_paul15_subsampled.py`, which is really a test of PAGA. This should be corrected. ### Remove louvain dependency from tests. Some tests, like those for `rank_genes_groups_logreg` used louvain, but really didn't have to. `test_pbmc3k` could just have `louvain` calls replaced with `leiden` with only one plot triggering an error. ### `louvain` is no longer installed on CI. This should get around the build issue.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2063
https://github.com/scverse/scanpy/pull/2063:601,testability,test,tests,601,"Make louvain optional for tests; We're having trouble installing louvain on CI due to a recent setuptools release (would have been nice if setuptools had more vocal warnings about this ahead of time, but alas). See: vtraag/louvain-igraph/issues/57. This PR makes louvain optional. This was done by:. ### Skip louvain dependent tests. While these largely were tests checking that louvain works, some of these are testing other things. The biggest example here is `test_paga_paul15_subsampled.py`, which is really a test of PAGA. This should be corrected. ### Remove louvain dependency from tests. Some tests, like those for `rank_genes_groups_logreg` used louvain, but really didn't have to. `test_pbmc3k` could just have `louvain` calls replaced with `leiden` with only one plot triggering an error. ### `louvain` is no longer installed on CI. This should get around the build issue.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2063
https://github.com/scverse/scanpy/pull/2063:793,usability,error,error,793,"Make louvain optional for tests; We're having trouble installing louvain on CI due to a recent setuptools release (would have been nice if setuptools had more vocal warnings about this ahead of time, but alas). See: vtraag/louvain-igraph/issues/57. This PR makes louvain optional. This was done by:. ### Skip louvain dependent tests. While these largely were tests checking that louvain works, some of these are testing other things. The biggest example here is `test_paga_paul15_subsampled.py`, which is really a test of PAGA. This should be corrected. ### Remove louvain dependency from tests. Some tests, like those for `rank_genes_groups_logreg` used louvain, but really didn't have to. `test_pbmc3k` could just have `louvain` calls replaced with `leiden` with only one plot triggering an error. ### `louvain` is no longer installed on CI. This should get around the build issue.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2063
https://github.com/scverse/scanpy/pull/2064:16,deployability,depend,dependency,16,"Remove pytables dependency; Removes the need for a pytables dependency. * pytables has been a source of installation heisenbugs, particularly on windows (#1468, #1284, #454). * why use two hdf5 libraries. * Makes it easier to move reading 10x files into anndata or elsewhere #1387. I've edited the code as lightly as possible, since these readers were originally contributed by someone at 10X, so I assume they had better knowledge of possible edge cases. - [ ] ~~Test with h5py 2~~. - [ ] Add release note",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2064
https://github.com/scverse/scanpy/pull/2064:60,deployability,depend,dependency,60,"Remove pytables dependency; Removes the need for a pytables dependency. * pytables has been a source of installation heisenbugs, particularly on windows (#1468, #1284, #454). * why use two hdf5 libraries. * Makes it easier to move reading 10x files into anndata or elsewhere #1387. I've edited the code as lightly as possible, since these readers were originally contributed by someone at 10X, so I assume they had better knowledge of possible edge cases. - [ ] ~~Test with h5py 2~~. - [ ] Add release note",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2064
https://github.com/scverse/scanpy/pull/2064:104,deployability,instal,installation,104,"Remove pytables dependency; Removes the need for a pytables dependency. * pytables has been a source of installation heisenbugs, particularly on windows (#1468, #1284, #454). * why use two hdf5 libraries. * Makes it easier to move reading 10x files into anndata or elsewhere #1387. I've edited the code as lightly as possible, since these readers were originally contributed by someone at 10X, so I assume they had better knowledge of possible edge cases. - [ ] ~~Test with h5py 2~~. - [ ] Add release note",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2064
https://github.com/scverse/scanpy/pull/2064:494,deployability,releas,release,494,"Remove pytables dependency; Removes the need for a pytables dependency. * pytables has been a source of installation heisenbugs, particularly on windows (#1468, #1284, #454). * why use two hdf5 libraries. * Makes it easier to move reading 10x files into anndata or elsewhere #1387. I've edited the code as lightly as possible, since these readers were originally contributed by someone at 10X, so I assume they had better knowledge of possible edge cases. - [ ] ~~Test with h5py 2~~. - [ ] Add release note",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2064
https://github.com/scverse/scanpy/pull/2064:16,integrability,depend,dependency,16,"Remove pytables dependency; Removes the need for a pytables dependency. * pytables has been a source of installation heisenbugs, particularly on windows (#1468, #1284, #454). * why use two hdf5 libraries. * Makes it easier to move reading 10x files into anndata or elsewhere #1387. I've edited the code as lightly as possible, since these readers were originally contributed by someone at 10X, so I assume they had better knowledge of possible edge cases. - [ ] ~~Test with h5py 2~~. - [ ] Add release note",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2064
https://github.com/scverse/scanpy/pull/2064:60,integrability,depend,dependency,60,"Remove pytables dependency; Removes the need for a pytables dependency. * pytables has been a source of installation heisenbugs, particularly on windows (#1468, #1284, #454). * why use two hdf5 libraries. * Makes it easier to move reading 10x files into anndata or elsewhere #1387. I've edited the code as lightly as possible, since these readers were originally contributed by someone at 10X, so I assume they had better knowledge of possible edge cases. - [ ] ~~Test with h5py 2~~. - [ ] Add release note",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2064
https://github.com/scverse/scanpy/pull/2064:16,modifiability,depend,dependency,16,"Remove pytables dependency; Removes the need for a pytables dependency. * pytables has been a source of installation heisenbugs, particularly on windows (#1468, #1284, #454). * why use two hdf5 libraries. * Makes it easier to move reading 10x files into anndata or elsewhere #1387. I've edited the code as lightly as possible, since these readers were originally contributed by someone at 10X, so I assume they had better knowledge of possible edge cases. - [ ] ~~Test with h5py 2~~. - [ ] Add release note",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2064
https://github.com/scverse/scanpy/pull/2064:60,modifiability,depend,dependency,60,"Remove pytables dependency; Removes the need for a pytables dependency. * pytables has been a source of installation heisenbugs, particularly on windows (#1468, #1284, #454). * why use two hdf5 libraries. * Makes it easier to move reading 10x files into anndata or elsewhere #1387. I've edited the code as lightly as possible, since these readers were originally contributed by someone at 10X, so I assume they had better knowledge of possible edge cases. - [ ] ~~Test with h5py 2~~. - [ ] Add release note",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2064
https://github.com/scverse/scanpy/pull/2064:16,safety,depend,dependency,16,"Remove pytables dependency; Removes the need for a pytables dependency. * pytables has been a source of installation heisenbugs, particularly on windows (#1468, #1284, #454). * why use two hdf5 libraries. * Makes it easier to move reading 10x files into anndata or elsewhere #1387. I've edited the code as lightly as possible, since these readers were originally contributed by someone at 10X, so I assume they had better knowledge of possible edge cases. - [ ] ~~Test with h5py 2~~. - [ ] Add release note",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2064
https://github.com/scverse/scanpy/pull/2064:60,safety,depend,dependency,60,"Remove pytables dependency; Removes the need for a pytables dependency. * pytables has been a source of installation heisenbugs, particularly on windows (#1468, #1284, #454). * why use two hdf5 libraries. * Makes it easier to move reading 10x files into anndata or elsewhere #1387. I've edited the code as lightly as possible, since these readers were originally contributed by someone at 10X, so I assume they had better knowledge of possible edge cases. - [ ] ~~Test with h5py 2~~. - [ ] Add release note",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2064
https://github.com/scverse/scanpy/pull/2064:464,safety,Test,Test,464,"Remove pytables dependency; Removes the need for a pytables dependency. * pytables has been a source of installation heisenbugs, particularly on windows (#1468, #1284, #454). * why use two hdf5 libraries. * Makes it easier to move reading 10x files into anndata or elsewhere #1387. I've edited the code as lightly as possible, since these readers were originally contributed by someone at 10X, so I assume they had better knowledge of possible edge cases. - [ ] ~~Test with h5py 2~~. - [ ] Add release note",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2064
https://github.com/scverse/scanpy/pull/2064:16,testability,depend,dependency,16,"Remove pytables dependency; Removes the need for a pytables dependency. * pytables has been a source of installation heisenbugs, particularly on windows (#1468, #1284, #454). * why use two hdf5 libraries. * Makes it easier to move reading 10x files into anndata or elsewhere #1387. I've edited the code as lightly as possible, since these readers were originally contributed by someone at 10X, so I assume they had better knowledge of possible edge cases. - [ ] ~~Test with h5py 2~~. - [ ] Add release note",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2064
https://github.com/scverse/scanpy/pull/2064:60,testability,depend,dependency,60,"Remove pytables dependency; Removes the need for a pytables dependency. * pytables has been a source of installation heisenbugs, particularly on windows (#1468, #1284, #454). * why use two hdf5 libraries. * Makes it easier to move reading 10x files into anndata or elsewhere #1387. I've edited the code as lightly as possible, since these readers were originally contributed by someone at 10X, so I assume they had better knowledge of possible edge cases. - [ ] ~~Test with h5py 2~~. - [ ] Add release note",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2064
https://github.com/scverse/scanpy/pull/2064:464,testability,Test,Test,464,"Remove pytables dependency; Removes the need for a pytables dependency. * pytables has been a source of installation heisenbugs, particularly on windows (#1468, #1284, #454). * why use two hdf5 libraries. * Makes it easier to move reading 10x files into anndata or elsewhere #1387. I've edited the code as lightly as possible, since these readers were originally contributed by someone at 10X, so I assume they had better knowledge of possible edge cases. - [ ] ~~Test with h5py 2~~. - [ ] Add release note",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2064
https://github.com/scverse/scanpy/issues/2065:410,availability,cluster,clustering,410,"Louvain installation is being difficult; Louvain is being difficult to build since a new setuptools release dropped any python2 compatibility https://github.com/vtraag/louvain-igraph/issues/57. We've largely worked around this in #2063, by making louvain dependent tests optional. However, the paul15 PAGA test is difficult to extract louvian from. It checks hardcoded values based on the results of a louvain clustering. To adapt this test to use leiden, we would have to redo the tutorial and create new results. Or louvain building could be fixed, but the package is deprecated anyways.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2065
https://github.com/scverse/scanpy/issues/2065:8,deployability,instal,installation,8,"Louvain installation is being difficult; Louvain is being difficult to build since a new setuptools release dropped any python2 compatibility https://github.com/vtraag/louvain-igraph/issues/57. We've largely worked around this in #2063, by making louvain dependent tests optional. However, the paul15 PAGA test is difficult to extract louvian from. It checks hardcoded values based on the results of a louvain clustering. To adapt this test to use leiden, we would have to redo the tutorial and create new results. Or louvain building could be fixed, but the package is deprecated anyways.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2065
https://github.com/scverse/scanpy/issues/2065:71,deployability,build,build,71,"Louvain installation is being difficult; Louvain is being difficult to build since a new setuptools release dropped any python2 compatibility https://github.com/vtraag/louvain-igraph/issues/57. We've largely worked around this in #2063, by making louvain dependent tests optional. However, the paul15 PAGA test is difficult to extract louvian from. It checks hardcoded values based on the results of a louvain clustering. To adapt this test to use leiden, we would have to redo the tutorial and create new results. Or louvain building could be fixed, but the package is deprecated anyways.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2065
https://github.com/scverse/scanpy/issues/2065:100,deployability,releas,release,100,"Louvain installation is being difficult; Louvain is being difficult to build since a new setuptools release dropped any python2 compatibility https://github.com/vtraag/louvain-igraph/issues/57. We've largely worked around this in #2063, by making louvain dependent tests optional. However, the paul15 PAGA test is difficult to extract louvian from. It checks hardcoded values based on the results of a louvain clustering. To adapt this test to use leiden, we would have to redo the tutorial and create new results. Or louvain building could be fixed, but the package is deprecated anyways.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2065
https://github.com/scverse/scanpy/issues/2065:255,deployability,depend,dependent,255,"Louvain installation is being difficult; Louvain is being difficult to build since a new setuptools release dropped any python2 compatibility https://github.com/vtraag/louvain-igraph/issues/57. We've largely worked around this in #2063, by making louvain dependent tests optional. However, the paul15 PAGA test is difficult to extract louvian from. It checks hardcoded values based on the results of a louvain clustering. To adapt this test to use leiden, we would have to redo the tutorial and create new results. Or louvain building could be fixed, but the package is deprecated anyways.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2065
https://github.com/scverse/scanpy/issues/2065:410,deployability,cluster,clustering,410,"Louvain installation is being difficult; Louvain is being difficult to build since a new setuptools release dropped any python2 compatibility https://github.com/vtraag/louvain-igraph/issues/57. We've largely worked around this in #2063, by making louvain dependent tests optional. However, the paul15 PAGA test is difficult to extract louvian from. It checks hardcoded values based on the results of a louvain clustering. To adapt this test to use leiden, we would have to redo the tutorial and create new results. Or louvain building could be fixed, but the package is deprecated anyways.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2065
https://github.com/scverse/scanpy/issues/2065:526,deployability,build,building,526,"Louvain installation is being difficult; Louvain is being difficult to build since a new setuptools release dropped any python2 compatibility https://github.com/vtraag/louvain-igraph/issues/57. We've largely worked around this in #2063, by making louvain dependent tests optional. However, the paul15 PAGA test is difficult to extract louvian from. It checks hardcoded values based on the results of a louvain clustering. To adapt this test to use leiden, we would have to redo the tutorial and create new results. Or louvain building could be fixed, but the package is deprecated anyways.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2065
https://github.com/scverse/scanpy/issues/2065:425,energy efficiency,adapt,adapt,425,"Louvain installation is being difficult; Louvain is being difficult to build since a new setuptools release dropped any python2 compatibility https://github.com/vtraag/louvain-igraph/issues/57. We've largely worked around this in #2063, by making louvain dependent tests optional. However, the paul15 PAGA test is difficult to extract louvian from. It checks hardcoded values based on the results of a louvain clustering. To adapt this test to use leiden, we would have to redo the tutorial and create new results. Or louvain building could be fixed, but the package is deprecated anyways.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2065
https://github.com/scverse/scanpy/issues/2065:255,integrability,depend,dependent,255,"Louvain installation is being difficult; Louvain is being difficult to build since a new setuptools release dropped any python2 compatibility https://github.com/vtraag/louvain-igraph/issues/57. We've largely worked around this in #2063, by making louvain dependent tests optional. However, the paul15 PAGA test is difficult to extract louvian from. It checks hardcoded values based on the results of a louvain clustering. To adapt this test to use leiden, we would have to redo the tutorial and create new results. Or louvain building could be fixed, but the package is deprecated anyways.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2065
https://github.com/scverse/scanpy/issues/2065:425,integrability,adapt,adapt,425,"Louvain installation is being difficult; Louvain is being difficult to build since a new setuptools release dropped any python2 compatibility https://github.com/vtraag/louvain-igraph/issues/57. We've largely worked around this in #2063, by making louvain dependent tests optional. However, the paul15 PAGA test is difficult to extract louvian from. It checks hardcoded values based on the results of a louvain clustering. To adapt this test to use leiden, we would have to redo the tutorial and create new results. Or louvain building could be fixed, but the package is deprecated anyways.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2065
https://github.com/scverse/scanpy/issues/2065:128,interoperability,compatib,compatibility,128,"Louvain installation is being difficult; Louvain is being difficult to build since a new setuptools release dropped any python2 compatibility https://github.com/vtraag/louvain-igraph/issues/57. We've largely worked around this in #2063, by making louvain dependent tests optional. However, the paul15 PAGA test is difficult to extract louvian from. It checks hardcoded values based on the results of a louvain clustering. To adapt this test to use leiden, we would have to redo the tutorial and create new results. Or louvain building could be fixed, but the package is deprecated anyways.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2065
https://github.com/scverse/scanpy/issues/2065:425,interoperability,adapt,adapt,425,"Louvain installation is being difficult; Louvain is being difficult to build since a new setuptools release dropped any python2 compatibility https://github.com/vtraag/louvain-igraph/issues/57. We've largely worked around this in #2063, by making louvain dependent tests optional. However, the paul15 PAGA test is difficult to extract louvian from. It checks hardcoded values based on the results of a louvain clustering. To adapt this test to use leiden, we would have to redo the tutorial and create new results. Or louvain building could be fixed, but the package is deprecated anyways.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2065
https://github.com/scverse/scanpy/issues/2065:255,modifiability,depend,dependent,255,"Louvain installation is being difficult; Louvain is being difficult to build since a new setuptools release dropped any python2 compatibility https://github.com/vtraag/louvain-igraph/issues/57. We've largely worked around this in #2063, by making louvain dependent tests optional. However, the paul15 PAGA test is difficult to extract louvian from. It checks hardcoded values based on the results of a louvain clustering. To adapt this test to use leiden, we would have to redo the tutorial and create new results. Or louvain building could be fixed, but the package is deprecated anyways.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2065
https://github.com/scverse/scanpy/issues/2065:425,modifiability,adapt,adapt,425,"Louvain installation is being difficult; Louvain is being difficult to build since a new setuptools release dropped any python2 compatibility https://github.com/vtraag/louvain-igraph/issues/57. We've largely worked around this in #2063, by making louvain dependent tests optional. However, the paul15 PAGA test is difficult to extract louvian from. It checks hardcoded values based on the results of a louvain clustering. To adapt this test to use leiden, we would have to redo the tutorial and create new results. Or louvain building could be fixed, but the package is deprecated anyways.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2065
https://github.com/scverse/scanpy/issues/2065:559,modifiability,pac,package,559,"Louvain installation is being difficult; Louvain is being difficult to build since a new setuptools release dropped any python2 compatibility https://github.com/vtraag/louvain-igraph/issues/57. We've largely worked around this in #2063, by making louvain dependent tests optional. However, the paul15 PAGA test is difficult to extract louvian from. It checks hardcoded values based on the results of a louvain clustering. To adapt this test to use leiden, we would have to redo the tutorial and create new results. Or louvain building could be fixed, but the package is deprecated anyways.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2065
https://github.com/scverse/scanpy/issues/2065:255,safety,depend,dependent,255,"Louvain installation is being difficult; Louvain is being difficult to build since a new setuptools release dropped any python2 compatibility https://github.com/vtraag/louvain-igraph/issues/57. We've largely worked around this in #2063, by making louvain dependent tests optional. However, the paul15 PAGA test is difficult to extract louvian from. It checks hardcoded values based on the results of a louvain clustering. To adapt this test to use leiden, we would have to redo the tutorial and create new results. Or louvain building could be fixed, but the package is deprecated anyways.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2065
https://github.com/scverse/scanpy/issues/2065:265,safety,test,tests,265,"Louvain installation is being difficult; Louvain is being difficult to build since a new setuptools release dropped any python2 compatibility https://github.com/vtraag/louvain-igraph/issues/57. We've largely worked around this in #2063, by making louvain dependent tests optional. However, the paul15 PAGA test is difficult to extract louvian from. It checks hardcoded values based on the results of a louvain clustering. To adapt this test to use leiden, we would have to redo the tutorial and create new results. Or louvain building could be fixed, but the package is deprecated anyways.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2065
https://github.com/scverse/scanpy/issues/2065:306,safety,test,test,306,"Louvain installation is being difficult; Louvain is being difficult to build since a new setuptools release dropped any python2 compatibility https://github.com/vtraag/louvain-igraph/issues/57. We've largely worked around this in #2063, by making louvain dependent tests optional. However, the paul15 PAGA test is difficult to extract louvian from. It checks hardcoded values based on the results of a louvain clustering. To adapt this test to use leiden, we would have to redo the tutorial and create new results. Or louvain building could be fixed, but the package is deprecated anyways.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2065
https://github.com/scverse/scanpy/issues/2065:436,safety,test,test,436,"Louvain installation is being difficult; Louvain is being difficult to build since a new setuptools release dropped any python2 compatibility https://github.com/vtraag/louvain-igraph/issues/57. We've largely worked around this in #2063, by making louvain dependent tests optional. However, the paul15 PAGA test is difficult to extract louvian from. It checks hardcoded values based on the results of a louvain clustering. To adapt this test to use leiden, we would have to redo the tutorial and create new results. Or louvain building could be fixed, but the package is deprecated anyways.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2065
https://github.com/scverse/scanpy/issues/2065:359,security,hardcod,hardcoded,359,"Louvain installation is being difficult; Louvain is being difficult to build since a new setuptools release dropped any python2 compatibility https://github.com/vtraag/louvain-igraph/issues/57. We've largely worked around this in #2063, by making louvain dependent tests optional. However, the paul15 PAGA test is difficult to extract louvian from. It checks hardcoded values based on the results of a louvain clustering. To adapt this test to use leiden, we would have to redo the tutorial and create new results. Or louvain building could be fixed, but the package is deprecated anyways.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2065
https://github.com/scverse/scanpy/issues/2065:255,testability,depend,dependent,255,"Louvain installation is being difficult; Louvain is being difficult to build since a new setuptools release dropped any python2 compatibility https://github.com/vtraag/louvain-igraph/issues/57. We've largely worked around this in #2063, by making louvain dependent tests optional. However, the paul15 PAGA test is difficult to extract louvian from. It checks hardcoded values based on the results of a louvain clustering. To adapt this test to use leiden, we would have to redo the tutorial and create new results. Or louvain building could be fixed, but the package is deprecated anyways.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2065
https://github.com/scverse/scanpy/issues/2065:265,testability,test,tests,265,"Louvain installation is being difficult; Louvain is being difficult to build since a new setuptools release dropped any python2 compatibility https://github.com/vtraag/louvain-igraph/issues/57. We've largely worked around this in #2063, by making louvain dependent tests optional. However, the paul15 PAGA test is difficult to extract louvian from. It checks hardcoded values based on the results of a louvain clustering. To adapt this test to use leiden, we would have to redo the tutorial and create new results. Or louvain building could be fixed, but the package is deprecated anyways.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2065
https://github.com/scverse/scanpy/issues/2065:306,testability,test,test,306,"Louvain installation is being difficult; Louvain is being difficult to build since a new setuptools release dropped any python2 compatibility https://github.com/vtraag/louvain-igraph/issues/57. We've largely worked around this in #2063, by making louvain dependent tests optional. However, the paul15 PAGA test is difficult to extract louvian from. It checks hardcoded values based on the results of a louvain clustering. To adapt this test to use leiden, we would have to redo the tutorial and create new results. Or louvain building could be fixed, but the package is deprecated anyways.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2065
https://github.com/scverse/scanpy/issues/2065:436,testability,test,test,436,"Louvain installation is being difficult; Louvain is being difficult to build since a new setuptools release dropped any python2 compatibility https://github.com/vtraag/louvain-igraph/issues/57. We've largely worked around this in #2063, by making louvain dependent tests optional. However, the paul15 PAGA test is difficult to extract louvian from. It checks hardcoded values based on the results of a louvain clustering. To adapt this test to use leiden, we would have to redo the tutorial and create new results. Or louvain building could be fixed, but the package is deprecated anyways.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2065
https://github.com/scverse/scanpy/pull/2066:61,safety,test,tests,61,Backport PR #2063 on branch 1.8.x (Make louvain optional for tests); Backport PR #2063: Make louvain optional for tests,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2066
https://github.com/scverse/scanpy/pull/2066:114,safety,test,tests,114,Backport PR #2063 on branch 1.8.x (Make louvain optional for tests); Backport PR #2063: Make louvain optional for tests,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2066
https://github.com/scverse/scanpy/pull/2066:61,testability,test,tests,61,Backport PR #2063 on branch 1.8.x (Make louvain optional for tests); Backport PR #2063: Make louvain optional for tests,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2066
https://github.com/scverse/scanpy/pull/2066:114,testability,test,tests,114,Backport PR #2063 on branch 1.8.x (Make louvain optional for tests); Backport PR #2063: Make louvain optional for tests,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2066
https://github.com/scverse/scanpy/issues/2067:294,deployability,releas,release,294,"Forceatlas2 does not support Python 3.9+ (PAGA implementation); Hi,. didn't see this being tracked here yet. Hope I didn't miss it. Our PAGA implementation uses Forceatlas2, but unfortunately Forceatlas2 is not really maintained anymore and it does not yet support Python 3.9+. Well the latest release at least. The master branch may work. Sources: . - https://github.com/bhargavchippada/forceatlas2/issues/34. - https://github.com/bhargavchippada/forceatlas2/issues/35. @gokceneraslan I saw that you contributed some code. Do you still have a connection to the maintainer?",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2067
https://github.com/scverse/scanpy/issues/2067:218,modifiability,maintain,maintained,218,"Forceatlas2 does not support Python 3.9+ (PAGA implementation); Hi,. didn't see this being tracked here yet. Hope I didn't miss it. Our PAGA implementation uses Forceatlas2, but unfortunately Forceatlas2 is not really maintained anymore and it does not yet support Python 3.9+. Well the latest release at least. The master branch may work. Sources: . - https://github.com/bhargavchippada/forceatlas2/issues/34. - https://github.com/bhargavchippada/forceatlas2/issues/35. @gokceneraslan I saw that you contributed some code. Do you still have a connection to the maintainer?",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2067
https://github.com/scverse/scanpy/issues/2067:562,modifiability,maintain,maintainer,562,"Forceatlas2 does not support Python 3.9+ (PAGA implementation); Hi,. didn't see this being tracked here yet. Hope I didn't miss it. Our PAGA implementation uses Forceatlas2, but unfortunately Forceatlas2 is not really maintained anymore and it does not yet support Python 3.9+. Well the latest release at least. The master branch may work. Sources: . - https://github.com/bhargavchippada/forceatlas2/issues/34. - https://github.com/bhargavchippada/forceatlas2/issues/35. @gokceneraslan I saw that you contributed some code. Do you still have a connection to the maintainer?",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2067
https://github.com/scverse/scanpy/issues/2067:12,reliability,doe,does,12,"Forceatlas2 does not support Python 3.9+ (PAGA implementation); Hi,. didn't see this being tracked here yet. Hope I didn't miss it. Our PAGA implementation uses Forceatlas2, but unfortunately Forceatlas2 is not really maintained anymore and it does not yet support Python 3.9+. Well the latest release at least. The master branch may work. Sources: . - https://github.com/bhargavchippada/forceatlas2/issues/34. - https://github.com/bhargavchippada/forceatlas2/issues/35. @gokceneraslan I saw that you contributed some code. Do you still have a connection to the maintainer?",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2067
https://github.com/scverse/scanpy/issues/2067:244,reliability,doe,does,244,"Forceatlas2 does not support Python 3.9+ (PAGA implementation); Hi,. didn't see this being tracked here yet. Hope I didn't miss it. Our PAGA implementation uses Forceatlas2, but unfortunately Forceatlas2 is not really maintained anymore and it does not yet support Python 3.9+. Well the latest release at least. The master branch may work. Sources: . - https://github.com/bhargavchippada/forceatlas2/issues/34. - https://github.com/bhargavchippada/forceatlas2/issues/35. @gokceneraslan I saw that you contributed some code. Do you still have a connection to the maintainer?",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2067
https://github.com/scverse/scanpy/issues/2067:218,safety,maintain,maintained,218,"Forceatlas2 does not support Python 3.9+ (PAGA implementation); Hi,. didn't see this being tracked here yet. Hope I didn't miss it. Our PAGA implementation uses Forceatlas2, but unfortunately Forceatlas2 is not really maintained anymore and it does not yet support Python 3.9+. Well the latest release at least. The master branch may work. Sources: . - https://github.com/bhargavchippada/forceatlas2/issues/34. - https://github.com/bhargavchippada/forceatlas2/issues/35. @gokceneraslan I saw that you contributed some code. Do you still have a connection to the maintainer?",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2067
https://github.com/scverse/scanpy/issues/2067:562,safety,maintain,maintainer,562,"Forceatlas2 does not support Python 3.9+ (PAGA implementation); Hi,. didn't see this being tracked here yet. Hope I didn't miss it. Our PAGA implementation uses Forceatlas2, but unfortunately Forceatlas2 is not really maintained anymore and it does not yet support Python 3.9+. Well the latest release at least. The master branch may work. Sources: . - https://github.com/bhargavchippada/forceatlas2/issues/34. - https://github.com/bhargavchippada/forceatlas2/issues/35. @gokceneraslan I saw that you contributed some code. Do you still have a connection to the maintainer?",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2067
https://github.com/scverse/scanpy/issues/2067:21,usability,support,support,21,"Forceatlas2 does not support Python 3.9+ (PAGA implementation); Hi,. didn't see this being tracked here yet. Hope I didn't miss it. Our PAGA implementation uses Forceatlas2, but unfortunately Forceatlas2 is not really maintained anymore and it does not yet support Python 3.9+. Well the latest release at least. The master branch may work. Sources: . - https://github.com/bhargavchippada/forceatlas2/issues/34. - https://github.com/bhargavchippada/forceatlas2/issues/35. @gokceneraslan I saw that you contributed some code. Do you still have a connection to the maintainer?",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2067
https://github.com/scverse/scanpy/issues/2067:257,usability,support,support,257,"Forceatlas2 does not support Python 3.9+ (PAGA implementation); Hi,. didn't see this being tracked here yet. Hope I didn't miss it. Our PAGA implementation uses Forceatlas2, but unfortunately Forceatlas2 is not really maintained anymore and it does not yet support Python 3.9+. Well the latest release at least. The master branch may work. Sources: . - https://github.com/bhargavchippada/forceatlas2/issues/34. - https://github.com/bhargavchippada/forceatlas2/issues/35. @gokceneraslan I saw that you contributed some code. Do you still have a connection to the maintainer?",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2067
https://github.com/scverse/scanpy/issues/2068:321,availability,cluster,clustering,321,"sc.pl.heatmap: KeyError: ""Values ['CD79A'], are not valid obs/ var names or indices.; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, after clustering I am trying to use heatmap to visualize the marker gene but got below error:. could anyone help, many thanks. ```python. ax = sc.pl.heatmap(adata,marker_genes_dict,groupby='louvain_r1',save=""0.png""). ```. ```pytb. KeyError: ""Values ['CD79A'], from ['CD79A', 'MS4A1', 'CD3D', 'CD8A', 'CD8B', 'GNLY', 'NKG7', 'CST3', 'LYZ', 'FCGR3A', 'FCER1A'], are not valid obs/ var names or indices."". ```. #### Versions. <details>. anndata 0.7.5. scanpy 1.6.1. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2068
https://github.com/scverse/scanpy/issues/2068:402,availability,error,error,402,"sc.pl.heatmap: KeyError: ""Values ['CD79A'], are not valid obs/ var names or indices.; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, after clustering I am trying to use heatmap to visualize the marker gene but got below error:. could anyone help, many thanks. ```python. ax = sc.pl.heatmap(adata,marker_genes_dict,groupby='louvain_r1',save=""0.png""). ```. ```pytb. KeyError: ""Values ['CD79A'], from ['CD79A', 'MS4A1', 'CD3D', 'CD8A', 'CD8B', 'GNLY', 'NKG7', 'CST3', 'LYZ', 'FCGR3A', 'FCER1A'], are not valid obs/ var names or indices."". ```. #### Versions. <details>. anndata 0.7.5. scanpy 1.6.1. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2068
https://github.com/scverse/scanpy/issues/2068:207,deployability,version,version,207,"sc.pl.heatmap: KeyError: ""Values ['CD79A'], are not valid obs/ var names or indices.; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, after clustering I am trying to use heatmap to visualize the marker gene but got below error:. could anyone help, many thanks. ```python. ax = sc.pl.heatmap(adata,marker_genes_dict,groupby='louvain_r1',save=""0.png""). ```. ```pytb. KeyError: ""Values ['CD79A'], from ['CD79A', 'MS4A1', 'CD3D', 'CD8A', 'CD8B', 'GNLY', 'NKG7', 'CST3', 'LYZ', 'FCGR3A', 'FCER1A'], are not valid obs/ var names or indices."". ```. #### Versions. <details>. anndata 0.7.5. scanpy 1.6.1. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2068
https://github.com/scverse/scanpy/issues/2068:321,deployability,cluster,clustering,321,"sc.pl.heatmap: KeyError: ""Values ['CD79A'], are not valid obs/ var names or indices.; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, after clustering I am trying to use heatmap to visualize the marker gene but got below error:. could anyone help, many thanks. ```python. ax = sc.pl.heatmap(adata,marker_genes_dict,groupby='louvain_r1',save=""0.png""). ```. ```pytb. KeyError: ""Values ['CD79A'], from ['CD79A', 'MS4A1', 'CD3D', 'CD8A', 'CD8B', 'GNLY', 'NKG7', 'CST3', 'LYZ', 'FCGR3A', 'FCER1A'], are not valid obs/ var names or indices."". ```. #### Versions. <details>. anndata 0.7.5. scanpy 1.6.1. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2068
https://github.com/scverse/scanpy/issues/2068:728,deployability,Version,Versions,728,"sc.pl.heatmap: KeyError: ""Values ['CD79A'], are not valid obs/ var names or indices.; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, after clustering I am trying to use heatmap to visualize the marker gene but got below error:. could anyone help, many thanks. ```python. ax = sc.pl.heatmap(adata,marker_genes_dict,groupby='louvain_r1',save=""0.png""). ```. ```pytb. KeyError: ""Values ['CD79A'], from ['CD79A', 'MS4A1', 'CD3D', 'CD8A', 'CD8B', 'GNLY', 'NKG7', 'CST3', 'LYZ', 'FCGR3A', 'FCER1A'], are not valid obs/ var names or indices."". ```. #### Versions. <details>. anndata 0.7.5. scanpy 1.6.1. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2068
https://github.com/scverse/scanpy/issues/2068:6,energy efficiency,heat,heatmap,6,"sc.pl.heatmap: KeyError: ""Values ['CD79A'], are not valid obs/ var names or indices.; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, after clustering I am trying to use heatmap to visualize the marker gene but got below error:. could anyone help, many thanks. ```python. ax = sc.pl.heatmap(adata,marker_genes_dict,groupby='louvain_r1',save=""0.png""). ```. ```pytb. KeyError: ""Values ['CD79A'], from ['CD79A', 'MS4A1', 'CD3D', 'CD8A', 'CD8B', 'GNLY', 'NKG7', 'CST3', 'LYZ', 'FCGR3A', 'FCER1A'], are not valid obs/ var names or indices."". ```. #### Versions. <details>. anndata 0.7.5. scanpy 1.6.1. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2068
https://github.com/scverse/scanpy/issues/2068:351,energy efficiency,heat,heatmap,351,"sc.pl.heatmap: KeyError: ""Values ['CD79A'], are not valid obs/ var names or indices.; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, after clustering I am trying to use heatmap to visualize the marker gene but got below error:. could anyone help, many thanks. ```python. ax = sc.pl.heatmap(adata,marker_genes_dict,groupby='louvain_r1',save=""0.png""). ```. ```pytb. KeyError: ""Values ['CD79A'], from ['CD79A', 'MS4A1', 'CD3D', 'CD8A', 'CD8B', 'GNLY', 'NKG7', 'CST3', 'LYZ', 'FCGR3A', 'FCER1A'], are not valid obs/ var names or indices."". ```. #### Versions. <details>. anndata 0.7.5. scanpy 1.6.1. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2068
https://github.com/scverse/scanpy/issues/2068:464,energy efficiency,heat,heatmap,464,"sc.pl.heatmap: KeyError: ""Values ['CD79A'], are not valid obs/ var names or indices.; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, after clustering I am trying to use heatmap to visualize the marker gene but got below error:. could anyone help, many thanks. ```python. ax = sc.pl.heatmap(adata,marker_genes_dict,groupby='louvain_r1',save=""0.png""). ```. ```pytb. KeyError: ""Values ['CD79A'], from ['CD79A', 'MS4A1', 'CD3D', 'CD8A', 'CD8B', 'GNLY', 'NKG7', 'CST3', 'LYZ', 'FCGR3A', 'FCER1A'], are not valid obs/ var names or indices."". ```. #### Versions. <details>. anndata 0.7.5. scanpy 1.6.1. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2068
https://github.com/scverse/scanpy/issues/2068:207,integrability,version,version,207,"sc.pl.heatmap: KeyError: ""Values ['CD79A'], are not valid obs/ var names or indices.; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, after clustering I am trying to use heatmap to visualize the marker gene but got below error:. could anyone help, many thanks. ```python. ax = sc.pl.heatmap(adata,marker_genes_dict,groupby='louvain_r1',save=""0.png""). ```. ```pytb. KeyError: ""Values ['CD79A'], from ['CD79A', 'MS4A1', 'CD3D', 'CD8A', 'CD8B', 'GNLY', 'NKG7', 'CST3', 'LYZ', 'FCGR3A', 'FCER1A'], are not valid obs/ var names or indices."". ```. #### Versions. <details>. anndata 0.7.5. scanpy 1.6.1. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2068
https://github.com/scverse/scanpy/issues/2068:728,integrability,Version,Versions,728,"sc.pl.heatmap: KeyError: ""Values ['CD79A'], are not valid obs/ var names or indices.; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, after clustering I am trying to use heatmap to visualize the marker gene but got below error:. could anyone help, many thanks. ```python. ax = sc.pl.heatmap(adata,marker_genes_dict,groupby='louvain_r1',save=""0.png""). ```. ```pytb. KeyError: ""Values ['CD79A'], from ['CD79A', 'MS4A1', 'CD3D', 'CD8A', 'CD8B', 'GNLY', 'NKG7', 'CST3', 'LYZ', 'FCGR3A', 'FCER1A'], are not valid obs/ var names or indices."". ```. #### Versions. <details>. anndata 0.7.5. scanpy 1.6.1. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2068
https://github.com/scverse/scanpy/issues/2068:207,modifiability,version,version,207,"sc.pl.heatmap: KeyError: ""Values ['CD79A'], are not valid obs/ var names or indices.; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, after clustering I am trying to use heatmap to visualize the marker gene but got below error:. could anyone help, many thanks. ```python. ax = sc.pl.heatmap(adata,marker_genes_dict,groupby='louvain_r1',save=""0.png""). ```. ```pytb. KeyError: ""Values ['CD79A'], from ['CD79A', 'MS4A1', 'CD3D', 'CD8A', 'CD8B', 'GNLY', 'NKG7', 'CST3', 'LYZ', 'FCGR3A', 'FCER1A'], are not valid obs/ var names or indices."". ```. #### Versions. <details>. anndata 0.7.5. scanpy 1.6.1. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2068
https://github.com/scverse/scanpy/issues/2068:728,modifiability,Version,Versions,728,"sc.pl.heatmap: KeyError: ""Values ['CD79A'], are not valid obs/ var names or indices.; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, after clustering I am trying to use heatmap to visualize the marker gene but got below error:. could anyone help, many thanks. ```python. ax = sc.pl.heatmap(adata,marker_genes_dict,groupby='louvain_r1',save=""0.png""). ```. ```pytb. KeyError: ""Values ['CD79A'], from ['CD79A', 'MS4A1', 'CD3D', 'CD8A', 'CD8B', 'GNLY', 'NKG7', 'CST3', 'LYZ', 'FCGR3A', 'FCER1A'], are not valid obs/ var names or indices."". ```. #### Versions. <details>. anndata 0.7.5. scanpy 1.6.1. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2068
https://github.com/scverse/scanpy/issues/2068:402,performance,error,error,402,"sc.pl.heatmap: KeyError: ""Values ['CD79A'], are not valid obs/ var names or indices.; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, after clustering I am trying to use heatmap to visualize the marker gene but got below error:. could anyone help, many thanks. ```python. ax = sc.pl.heatmap(adata,marker_genes_dict,groupby='louvain_r1',save=""0.png""). ```. ```pytb. KeyError: ""Values ['CD79A'], from ['CD79A', 'MS4A1', 'CD3D', 'CD8A', 'CD8B', 'GNLY', 'NKG7', 'CST3', 'LYZ', 'FCGR3A', 'FCER1A'], are not valid obs/ var names or indices."". ```. #### Versions. <details>. anndata 0.7.5. scanpy 1.6.1. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2068
https://github.com/scverse/scanpy/issues/2068:52,safety,valid,valid,52,"sc.pl.heatmap: KeyError: ""Values ['CD79A'], are not valid obs/ var names or indices.; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, after clustering I am trying to use heatmap to visualize the marker gene but got below error:. could anyone help, many thanks. ```python. ax = sc.pl.heatmap(adata,marker_genes_dict,groupby='louvain_r1',save=""0.png""). ```. ```pytb. KeyError: ""Values ['CD79A'], from ['CD79A', 'MS4A1', 'CD3D', 'CD8A', 'CD8B', 'GNLY', 'NKG7', 'CST3', 'LYZ', 'FCGR3A', 'FCER1A'], are not valid obs/ var names or indices."". ```. #### Versions. <details>. anndata 0.7.5. scanpy 1.6.1. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2068
https://github.com/scverse/scanpy/issues/2068:402,safety,error,error,402,"sc.pl.heatmap: KeyError: ""Values ['CD79A'], are not valid obs/ var names or indices.; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, after clustering I am trying to use heatmap to visualize the marker gene but got below error:. could anyone help, many thanks. ```python. ax = sc.pl.heatmap(adata,marker_genes_dict,groupby='louvain_r1',save=""0.png""). ```. ```pytb. KeyError: ""Values ['CD79A'], from ['CD79A', 'MS4A1', 'CD3D', 'CD8A', 'CD8B', 'GNLY', 'NKG7', 'CST3', 'LYZ', 'FCGR3A', 'FCER1A'], are not valid obs/ var names or indices."". ```. #### Versions. <details>. anndata 0.7.5. scanpy 1.6.1. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2068
https://github.com/scverse/scanpy/issues/2068:683,safety,valid,valid,683,"sc.pl.heatmap: KeyError: ""Values ['CD79A'], are not valid obs/ var names or indices.; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, after clustering I am trying to use heatmap to visualize the marker gene but got below error:. could anyone help, many thanks. ```python. ax = sc.pl.heatmap(adata,marker_genes_dict,groupby='louvain_r1',save=""0.png""). ```. ```pytb. KeyError: ""Values ['CD79A'], from ['CD79A', 'MS4A1', 'CD3D', 'CD8A', 'CD8B', 'GNLY', 'NKG7', 'CST3', 'LYZ', 'FCGR3A', 'FCER1A'], are not valid obs/ var names or indices."". ```. #### Versions. <details>. anndata 0.7.5. scanpy 1.6.1. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2068
https://github.com/scverse/scanpy/issues/2068:167,usability,confirm,confirmed,167,"sc.pl.heatmap: KeyError: ""Values ['CD79A'], are not valid obs/ var names or indices.; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, after clustering I am trying to use heatmap to visualize the marker gene but got below error:. could anyone help, many thanks. ```python. ax = sc.pl.heatmap(adata,marker_genes_dict,groupby='louvain_r1',save=""0.png""). ```. ```pytb. KeyError: ""Values ['CD79A'], from ['CD79A', 'MS4A1', 'CD3D', 'CD8A', 'CD8B', 'GNLY', 'NKG7', 'CST3', 'LYZ', 'FCGR3A', 'FCER1A'], are not valid obs/ var names or indices."". ```. #### Versions. <details>. anndata 0.7.5. scanpy 1.6.1. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2068
https://github.com/scverse/scanpy/issues/2068:250,usability,confirm,confirmed,250,"sc.pl.heatmap: KeyError: ""Values ['CD79A'], are not valid obs/ var names or indices.; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, after clustering I am trying to use heatmap to visualize the marker gene but got below error:. could anyone help, many thanks. ```python. ax = sc.pl.heatmap(adata,marker_genes_dict,groupby='louvain_r1',save=""0.png""). ```. ```pytb. KeyError: ""Values ['CD79A'], from ['CD79A', 'MS4A1', 'CD3D', 'CD8A', 'CD8B', 'GNLY', 'NKG7', 'CST3', 'LYZ', 'FCGR3A', 'FCER1A'], are not valid obs/ var names or indices."". ```. #### Versions. <details>. anndata 0.7.5. scanpy 1.6.1. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2068
https://github.com/scverse/scanpy/issues/2068:362,usability,visual,visualize,362,"sc.pl.heatmap: KeyError: ""Values ['CD79A'], are not valid obs/ var names or indices.; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, after clustering I am trying to use heatmap to visualize the marker gene but got below error:. could anyone help, many thanks. ```python. ax = sc.pl.heatmap(adata,marker_genes_dict,groupby='louvain_r1',save=""0.png""). ```. ```pytb. KeyError: ""Values ['CD79A'], from ['CD79A', 'MS4A1', 'CD3D', 'CD8A', 'CD8B', 'GNLY', 'NKG7', 'CST3', 'LYZ', 'FCGR3A', 'FCER1A'], are not valid obs/ var names or indices."". ```. #### Versions. <details>. anndata 0.7.5. scanpy 1.6.1. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2068
https://github.com/scverse/scanpy/issues/2068:402,usability,error,error,402,"sc.pl.heatmap: KeyError: ""Values ['CD79A'], are not valid obs/ var names or indices.; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, after clustering I am trying to use heatmap to visualize the marker gene but got below error:. could anyone help, many thanks. ```python. ax = sc.pl.heatmap(adata,marker_genes_dict,groupby='louvain_r1',save=""0.png""). ```. ```pytb. KeyError: ""Values ['CD79A'], from ['CD79A', 'MS4A1', 'CD3D', 'CD8A', 'CD8B', 'GNLY', 'NKG7', 'CST3', 'LYZ', 'FCGR3A', 'FCER1A'], are not valid obs/ var names or indices."". ```. #### Versions. <details>. anndata 0.7.5. scanpy 1.6.1. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2068
https://github.com/scverse/scanpy/issues/2068:423,usability,help,help,423,"sc.pl.heatmap: KeyError: ""Values ['CD79A'], are not valid obs/ var names or indices.; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. Hello, after clustering I am trying to use heatmap to visualize the marker gene but got below error:. could anyone help, many thanks. ```python. ax = sc.pl.heatmap(adata,marker_genes_dict,groupby='louvain_r1',save=""0.png""). ```. ```pytb. KeyError: ""Values ['CD79A'], from ['CD79A', 'MS4A1', 'CD3D', 'CD8A', 'CD8B', 'GNLY', 'NKG7', 'CST3', 'LYZ', 'FCGR3A', 'FCER1A'], are not valid obs/ var names or indices."". ```. #### Versions. <details>. anndata 0.7.5. scanpy 1.6.1. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2068
https://github.com/scverse/scanpy/issues/2073:1032,availability,error,error,1032,"scikit-misc cannot be initiated when sc.pp.highly_variable_genes(adata, n_top_genes=5000, flavor='seurat_v3'); - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Hello Scanpy,. When I'm running sc.pp.highly_variable_genes(adata, n_top_genes=5000, flavor='seurat_v3'), it asks me to install scikit-misc, which is already installed. Please see the picture below. Could you please help me to solve this issue? Thanks! Best,. YJ**. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Your code here. ```. ![image](https://user-images.githubusercontent.com/75048821/145125005-64f8607e-9cb0-4740-8dca-7c80e35d30ef.png). ```pytb. [Paste the error output produced by the above code here]. ```. #### Versions. <details>3.8. [Paste the output of scanpy.logging.print_versions() leaving a blank line after the details tag]. </details>scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. scvelo==0.2.4 scanpy==1.8.2 anndata==0.7.8 loompy==3.0.6 numpy==1.20.3 scipy==1.7.2 matplotlib==3.5.0 sklearn==1.0.1 pandas==1.3.4 . cellrank==1.5.0 scanpy==1.8.2 anndata==0.7.8 numpy==1.20.3 numba==0.54.1 scipy==1.7.2 pandas==1.3.4 pygpcca==1.0.2 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 scvelo==0.2.4 pygam==0.8.0 matplotlib==3.5.0 seaborn==0.11.2.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2073
https://github.com/scverse/scanpy/issues/2073:232,deployability,version,version,232,"scikit-misc cannot be initiated when sc.pp.highly_variable_genes(adata, n_top_genes=5000, flavor='seurat_v3'); - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Hello Scanpy,. When I'm running sc.pp.highly_variable_genes(adata, n_top_genes=5000, flavor='seurat_v3'), it asks me to install scikit-misc, which is already installed. Please see the picture below. Could you please help me to solve this issue? Thanks! Best,. YJ**. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Your code here. ```. ![image](https://user-images.githubusercontent.com/75048821/145125005-64f8607e-9cb0-4740-8dca-7c80e35d30ef.png). ```pytb. [Paste the error output produced by the above code here]. ```. #### Versions. <details>3.8. [Paste the output of scanpy.logging.print_versions() leaving a blank line after the details tag]. </details>scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. scvelo==0.2.4 scanpy==1.8.2 anndata==0.7.8 loompy==3.0.6 numpy==1.20.3 scipy==1.7.2 matplotlib==3.5.0 sklearn==1.0.1 pandas==1.3.4 . cellrank==1.5.0 scanpy==1.8.2 anndata==0.7.8 numpy==1.20.3 numba==0.54.1 scipy==1.7.2 pandas==1.3.4 pygpcca==1.0.2 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 scvelo==0.2.4 pygam==0.8.0 matplotlib==3.5.0 seaborn==0.11.2.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2073
https://github.com/scverse/scanpy/issues/2073:460,deployability,instal,install,460,"scikit-misc cannot be initiated when sc.pp.highly_variable_genes(adata, n_top_genes=5000, flavor='seurat_v3'); - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Hello Scanpy,. When I'm running sc.pp.highly_variable_genes(adata, n_top_genes=5000, flavor='seurat_v3'), it asks me to install scikit-misc, which is already installed. Please see the picture below. Could you please help me to solve this issue? Thanks! Best,. YJ**. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Your code here. ```. ![image](https://user-images.githubusercontent.com/75048821/145125005-64f8607e-9cb0-4740-8dca-7c80e35d30ef.png). ```pytb. [Paste the error output produced by the above code here]. ```. #### Versions. <details>3.8. [Paste the output of scanpy.logging.print_versions() leaving a blank line after the details tag]. </details>scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. scvelo==0.2.4 scanpy==1.8.2 anndata==0.7.8 loompy==3.0.6 numpy==1.20.3 scipy==1.7.2 matplotlib==3.5.0 sklearn==1.0.1 pandas==1.3.4 . cellrank==1.5.0 scanpy==1.8.2 anndata==0.7.8 numpy==1.20.3 numba==0.54.1 scipy==1.7.2 pandas==1.3.4 pygpcca==1.0.2 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 scvelo==0.2.4 pygam==0.8.0 matplotlib==3.5.0 seaborn==0.11.2.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2073
https://github.com/scverse/scanpy/issues/2073:498,deployability,instal,installed,498,"scikit-misc cannot be initiated when sc.pp.highly_variable_genes(adata, n_top_genes=5000, flavor='seurat_v3'); - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Hello Scanpy,. When I'm running sc.pp.highly_variable_genes(adata, n_top_genes=5000, flavor='seurat_v3'), it asks me to install scikit-misc, which is already installed. Please see the picture below. Could you please help me to solve this issue? Thanks! Best,. YJ**. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Your code here. ```. ![image](https://user-images.githubusercontent.com/75048821/145125005-64f8607e-9cb0-4740-8dca-7c80e35d30ef.png). ```pytb. [Paste the error output produced by the above code here]. ```. #### Versions. <details>3.8. [Paste the output of scanpy.logging.print_versions() leaving a blank line after the details tag]. </details>scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. scvelo==0.2.4 scanpy==1.8.2 anndata==0.7.8 loompy==3.0.6 numpy==1.20.3 scipy==1.7.2 matplotlib==3.5.0 sklearn==1.0.1 pandas==1.3.4 . cellrank==1.5.0 scanpy==1.8.2 anndata==0.7.8 numpy==1.20.3 numba==0.54.1 scipy==1.7.2 pandas==1.3.4 pygpcca==1.0.2 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 scvelo==0.2.4 pygam==0.8.0 matplotlib==3.5.0 seaborn==0.11.2.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2073
https://github.com/scverse/scanpy/issues/2073:1089,deployability,Version,Versions,1089,"scikit-misc cannot be initiated when sc.pp.highly_variable_genes(adata, n_top_genes=5000, flavor='seurat_v3'); - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Hello Scanpy,. When I'm running sc.pp.highly_variable_genes(adata, n_top_genes=5000, flavor='seurat_v3'), it asks me to install scikit-misc, which is already installed. Please see the picture below. Could you please help me to solve this issue? Thanks! Best,. YJ**. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Your code here. ```. ![image](https://user-images.githubusercontent.com/75048821/145125005-64f8607e-9cb0-4740-8dca-7c80e35d30ef.png). ```pytb. [Paste the error output produced by the above code here]. ```. #### Versions. <details>3.8. [Paste the output of scanpy.logging.print_versions() leaving a blank line after the details tag]. </details>scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. scvelo==0.2.4 scanpy==1.8.2 anndata==0.7.8 loompy==3.0.6 numpy==1.20.3 scipy==1.7.2 matplotlib==3.5.0 sklearn==1.0.1 pandas==1.3.4 . cellrank==1.5.0 scanpy==1.8.2 anndata==0.7.8 numpy==1.20.3 numba==0.54.1 scipy==1.7.2 pandas==1.3.4 pygpcca==1.0.2 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 scvelo==0.2.4 pygam==0.8.0 matplotlib==3.5.0 seaborn==0.11.2.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2073
https://github.com/scverse/scanpy/issues/2073:1141,deployability,log,logging,1141,"scikit-misc cannot be initiated when sc.pp.highly_variable_genes(adata, n_top_genes=5000, flavor='seurat_v3'); - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Hello Scanpy,. When I'm running sc.pp.highly_variable_genes(adata, n_top_genes=5000, flavor='seurat_v3'), it asks me to install scikit-misc, which is already installed. Please see the picture below. Could you please help me to solve this issue? Thanks! Best,. YJ**. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Your code here. ```. ![image](https://user-images.githubusercontent.com/75048821/145125005-64f8607e-9cb0-4740-8dca-7c80e35d30ef.png). ```pytb. [Paste the error output produced by the above code here]. ```. #### Versions. <details>3.8. [Paste the output of scanpy.logging.print_versions() leaving a blank line after the details tag]. </details>scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. scvelo==0.2.4 scanpy==1.8.2 anndata==0.7.8 loompy==3.0.6 numpy==1.20.3 scipy==1.7.2 matplotlib==3.5.0 sklearn==1.0.1 pandas==1.3.4 . cellrank==1.5.0 scanpy==1.8.2 anndata==0.7.8 numpy==1.20.3 numba==0.54.1 scipy==1.7.2 pandas==1.3.4 pygpcca==1.0.2 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 scvelo==0.2.4 pygam==0.8.0 matplotlib==3.5.0 seaborn==0.11.2.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2073
https://github.com/scverse/scanpy/issues/2073:232,integrability,version,version,232,"scikit-misc cannot be initiated when sc.pp.highly_variable_genes(adata, n_top_genes=5000, flavor='seurat_v3'); - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Hello Scanpy,. When I'm running sc.pp.highly_variable_genes(adata, n_top_genes=5000, flavor='seurat_v3'), it asks me to install scikit-misc, which is already installed. Please see the picture below. Could you please help me to solve this issue? Thanks! Best,. YJ**. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Your code here. ```. ![image](https://user-images.githubusercontent.com/75048821/145125005-64f8607e-9cb0-4740-8dca-7c80e35d30ef.png). ```pytb. [Paste the error output produced by the above code here]. ```. #### Versions. <details>3.8. [Paste the output of scanpy.logging.print_versions() leaving a blank line after the details tag]. </details>scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. scvelo==0.2.4 scanpy==1.8.2 anndata==0.7.8 loompy==3.0.6 numpy==1.20.3 scipy==1.7.2 matplotlib==3.5.0 sklearn==1.0.1 pandas==1.3.4 . cellrank==1.5.0 scanpy==1.8.2 anndata==0.7.8 numpy==1.20.3 numba==0.54.1 scipy==1.7.2 pandas==1.3.4 pygpcca==1.0.2 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 scvelo==0.2.4 pygam==0.8.0 matplotlib==3.5.0 seaborn==0.11.2.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2073
https://github.com/scverse/scanpy/issues/2073:1089,integrability,Version,Versions,1089,"scikit-misc cannot be initiated when sc.pp.highly_variable_genes(adata, n_top_genes=5000, flavor='seurat_v3'); - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Hello Scanpy,. When I'm running sc.pp.highly_variable_genes(adata, n_top_genes=5000, flavor='seurat_v3'), it asks me to install scikit-misc, which is already installed. Please see the picture below. Could you please help me to solve this issue? Thanks! Best,. YJ**. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Your code here. ```. ![image](https://user-images.githubusercontent.com/75048821/145125005-64f8607e-9cb0-4740-8dca-7c80e35d30ef.png). ```pytb. [Paste the error output produced by the above code here]. ```. #### Versions. <details>3.8. [Paste the output of scanpy.logging.print_versions() leaving a blank line after the details tag]. </details>scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. scvelo==0.2.4 scanpy==1.8.2 anndata==0.7.8 loompy==3.0.6 numpy==1.20.3 scipy==1.7.2 matplotlib==3.5.0 sklearn==1.0.1 pandas==1.3.4 . cellrank==1.5.0 scanpy==1.8.2 anndata==0.7.8 numpy==1.20.3 numba==0.54.1 scipy==1.7.2 pandas==1.3.4 pygpcca==1.0.2 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 scvelo==0.2.4 pygam==0.8.0 matplotlib==3.5.0 seaborn==0.11.2.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2073
https://github.com/scverse/scanpy/issues/2073:232,modifiability,version,version,232,"scikit-misc cannot be initiated when sc.pp.highly_variable_genes(adata, n_top_genes=5000, flavor='seurat_v3'); - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Hello Scanpy,. When I'm running sc.pp.highly_variable_genes(adata, n_top_genes=5000, flavor='seurat_v3'), it asks me to install scikit-misc, which is already installed. Please see the picture below. Could you please help me to solve this issue? Thanks! Best,. YJ**. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Your code here. ```. ![image](https://user-images.githubusercontent.com/75048821/145125005-64f8607e-9cb0-4740-8dca-7c80e35d30ef.png). ```pytb. [Paste the error output produced by the above code here]. ```. #### Versions. <details>3.8. [Paste the output of scanpy.logging.print_versions() leaving a blank line after the details tag]. </details>scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. scvelo==0.2.4 scanpy==1.8.2 anndata==0.7.8 loompy==3.0.6 numpy==1.20.3 scipy==1.7.2 matplotlib==3.5.0 sklearn==1.0.1 pandas==1.3.4 . cellrank==1.5.0 scanpy==1.8.2 anndata==0.7.8 numpy==1.20.3 numba==0.54.1 scipy==1.7.2 pandas==1.3.4 pygpcca==1.0.2 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 scvelo==0.2.4 pygam==0.8.0 matplotlib==3.5.0 seaborn==0.11.2.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2073
https://github.com/scverse/scanpy/issues/2073:1089,modifiability,Version,Versions,1089,"scikit-misc cannot be initiated when sc.pp.highly_variable_genes(adata, n_top_genes=5000, flavor='seurat_v3'); - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Hello Scanpy,. When I'm running sc.pp.highly_variable_genes(adata, n_top_genes=5000, flavor='seurat_v3'), it asks me to install scikit-misc, which is already installed. Please see the picture below. Could you please help me to solve this issue? Thanks! Best,. YJ**. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Your code here. ```. ![image](https://user-images.githubusercontent.com/75048821/145125005-64f8607e-9cb0-4740-8dca-7c80e35d30ef.png). ```pytb. [Paste the error output produced by the above code here]. ```. #### Versions. <details>3.8. [Paste the output of scanpy.logging.print_versions() leaving a blank line after the details tag]. </details>scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. scvelo==0.2.4 scanpy==1.8.2 anndata==0.7.8 loompy==3.0.6 numpy==1.20.3 scipy==1.7.2 matplotlib==3.5.0 sklearn==1.0.1 pandas==1.3.4 . cellrank==1.5.0 scanpy==1.8.2 anndata==0.7.8 numpy==1.20.3 numba==0.54.1 scipy==1.7.2 pandas==1.3.4 pygpcca==1.0.2 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 scvelo==0.2.4 pygam==0.8.0 matplotlib==3.5.0 seaborn==0.11.2.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2073
https://github.com/scverse/scanpy/issues/2073:1032,performance,error,error,1032,"scikit-misc cannot be initiated when sc.pp.highly_variable_genes(adata, n_top_genes=5000, flavor='seurat_v3'); - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Hello Scanpy,. When I'm running sc.pp.highly_variable_genes(adata, n_top_genes=5000, flavor='seurat_v3'), it asks me to install scikit-misc, which is already installed. Please see the picture below. Could you please help me to solve this issue? Thanks! Best,. YJ**. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Your code here. ```. ![image](https://user-images.githubusercontent.com/75048821/145125005-64f8607e-9cb0-4740-8dca-7c80e35d30ef.png). ```pytb. [Paste the error output produced by the above code here]. ```. #### Versions. <details>3.8. [Paste the output of scanpy.logging.print_versions() leaving a blank line after the details tag]. </details>scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. scvelo==0.2.4 scanpy==1.8.2 anndata==0.7.8 loompy==3.0.6 numpy==1.20.3 scipy==1.7.2 matplotlib==3.5.0 sklearn==1.0.1 pandas==1.3.4 . cellrank==1.5.0 scanpy==1.8.2 anndata==0.7.8 numpy==1.20.3 numba==0.54.1 scipy==1.7.2 pandas==1.3.4 pygpcca==1.0.2 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 scvelo==0.2.4 pygam==0.8.0 matplotlib==3.5.0 seaborn==0.11.2.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2073
https://github.com/scverse/scanpy/issues/2073:1032,safety,error,error,1032,"scikit-misc cannot be initiated when sc.pp.highly_variable_genes(adata, n_top_genes=5000, flavor='seurat_v3'); - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Hello Scanpy,. When I'm running sc.pp.highly_variable_genes(adata, n_top_genes=5000, flavor='seurat_v3'), it asks me to install scikit-misc, which is already installed. Please see the picture below. Could you please help me to solve this issue? Thanks! Best,. YJ**. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Your code here. ```. ![image](https://user-images.githubusercontent.com/75048821/145125005-64f8607e-9cb0-4740-8dca-7c80e35d30ef.png). ```pytb. [Paste the error output produced by the above code here]. ```. #### Versions. <details>3.8. [Paste the output of scanpy.logging.print_versions() leaving a blank line after the details tag]. </details>scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. scvelo==0.2.4 scanpy==1.8.2 anndata==0.7.8 loompy==3.0.6 numpy==1.20.3 scipy==1.7.2 matplotlib==3.5.0 sklearn==1.0.1 pandas==1.3.4 . cellrank==1.5.0 scanpy==1.8.2 anndata==0.7.8 numpy==1.20.3 numba==0.54.1 scipy==1.7.2 pandas==1.3.4 pygpcca==1.0.2 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 scvelo==0.2.4 pygam==0.8.0 matplotlib==3.5.0 seaborn==0.11.2.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2073
https://github.com/scverse/scanpy/issues/2073:1141,safety,log,logging,1141,"scikit-misc cannot be initiated when sc.pp.highly_variable_genes(adata, n_top_genes=5000, flavor='seurat_v3'); - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Hello Scanpy,. When I'm running sc.pp.highly_variable_genes(adata, n_top_genes=5000, flavor='seurat_v3'), it asks me to install scikit-misc, which is already installed. Please see the picture below. Could you please help me to solve this issue? Thanks! Best,. YJ**. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Your code here. ```. ![image](https://user-images.githubusercontent.com/75048821/145125005-64f8607e-9cb0-4740-8dca-7c80e35d30ef.png). ```pytb. [Paste the error output produced by the above code here]. ```. #### Versions. <details>3.8. [Paste the output of scanpy.logging.print_versions() leaving a blank line after the details tag]. </details>scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. scvelo==0.2.4 scanpy==1.8.2 anndata==0.7.8 loompy==3.0.6 numpy==1.20.3 scipy==1.7.2 matplotlib==3.5.0 sklearn==1.0.1 pandas==1.3.4 . cellrank==1.5.0 scanpy==1.8.2 anndata==0.7.8 numpy==1.20.3 numba==0.54.1 scipy==1.7.2 pandas==1.3.4 pygpcca==1.0.2 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 scvelo==0.2.4 pygam==0.8.0 matplotlib==3.5.0 seaborn==0.11.2.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2073
https://github.com/scverse/scanpy/issues/2073:1141,security,log,logging,1141,"scikit-misc cannot be initiated when sc.pp.highly_variable_genes(adata, n_top_genes=5000, flavor='seurat_v3'); - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Hello Scanpy,. When I'm running sc.pp.highly_variable_genes(adata, n_top_genes=5000, flavor='seurat_v3'), it asks me to install scikit-misc, which is already installed. Please see the picture below. Could you please help me to solve this issue? Thanks! Best,. YJ**. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Your code here. ```. ![image](https://user-images.githubusercontent.com/75048821/145125005-64f8607e-9cb0-4740-8dca-7c80e35d30ef.png). ```pytb. [Paste the error output produced by the above code here]. ```. #### Versions. <details>3.8. [Paste the output of scanpy.logging.print_versions() leaving a blank line after the details tag]. </details>scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. scvelo==0.2.4 scanpy==1.8.2 anndata==0.7.8 loompy==3.0.6 numpy==1.20.3 scipy==1.7.2 matplotlib==3.5.0 sklearn==1.0.1 pandas==1.3.4 . cellrank==1.5.0 scanpy==1.8.2 anndata==0.7.8 numpy==1.20.3 numba==0.54.1 scipy==1.7.2 pandas==1.3.4 pygpcca==1.0.2 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 scvelo==0.2.4 pygam==0.8.0 matplotlib==3.5.0 seaborn==0.11.2.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2073
https://github.com/scverse/scanpy/issues/2073:1141,testability,log,logging,1141,"scikit-misc cannot be initiated when sc.pp.highly_variable_genes(adata, n_top_genes=5000, flavor='seurat_v3'); - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Hello Scanpy,. When I'm running sc.pp.highly_variable_genes(adata, n_top_genes=5000, flavor='seurat_v3'), it asks me to install scikit-misc, which is already installed. Please see the picture below. Could you please help me to solve this issue? Thanks! Best,. YJ**. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Your code here. ```. ![image](https://user-images.githubusercontent.com/75048821/145125005-64f8607e-9cb0-4740-8dca-7c80e35d30ef.png). ```pytb. [Paste the error output produced by the above code here]. ```. #### Versions. <details>3.8. [Paste the output of scanpy.logging.print_versions() leaving a blank line after the details tag]. </details>scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. scvelo==0.2.4 scanpy==1.8.2 anndata==0.7.8 loompy==3.0.6 numpy==1.20.3 scipy==1.7.2 matplotlib==3.5.0 sklearn==1.0.1 pandas==1.3.4 . cellrank==1.5.0 scanpy==1.8.2 anndata==0.7.8 numpy==1.20.3 numba==0.54.1 scipy==1.7.2 pandas==1.3.4 pygpcca==1.0.2 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 scvelo==0.2.4 pygam==0.8.0 matplotlib==3.5.0 seaborn==0.11.2.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2073
https://github.com/scverse/scanpy/issues/2073:192,usability,confirm,confirmed,192,"scikit-misc cannot be initiated when sc.pp.highly_variable_genes(adata, n_top_genes=5000, flavor='seurat_v3'); - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Hello Scanpy,. When I'm running sc.pp.highly_variable_genes(adata, n_top_genes=5000, flavor='seurat_v3'), it asks me to install scikit-misc, which is already installed. Please see the picture below. Could you please help me to solve this issue? Thanks! Best,. YJ**. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Your code here. ```. ![image](https://user-images.githubusercontent.com/75048821/145125005-64f8607e-9cb0-4740-8dca-7c80e35d30ef.png). ```pytb. [Paste the error output produced by the above code here]. ```. #### Versions. <details>3.8. [Paste the output of scanpy.logging.print_versions() leaving a blank line after the details tag]. </details>scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. scvelo==0.2.4 scanpy==1.8.2 anndata==0.7.8 loompy==3.0.6 numpy==1.20.3 scipy==1.7.2 matplotlib==3.5.0 sklearn==1.0.1 pandas==1.3.4 . cellrank==1.5.0 scanpy==1.8.2 anndata==0.7.8 numpy==1.20.3 numba==0.54.1 scipy==1.7.2 pandas==1.3.4 pygpcca==1.0.2 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 scvelo==0.2.4 pygam==0.8.0 matplotlib==3.5.0 seaborn==0.11.2.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2073
https://github.com/scverse/scanpy/issues/2073:275,usability,confirm,confirmed,275,"scikit-misc cannot be initiated when sc.pp.highly_variable_genes(adata, n_top_genes=5000, flavor='seurat_v3'); - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Hello Scanpy,. When I'm running sc.pp.highly_variable_genes(adata, n_top_genes=5000, flavor='seurat_v3'), it asks me to install scikit-misc, which is already installed. Please see the picture below. Could you please help me to solve this issue? Thanks! Best,. YJ**. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Your code here. ```. ![image](https://user-images.githubusercontent.com/75048821/145125005-64f8607e-9cb0-4740-8dca-7c80e35d30ef.png). ```pytb. [Paste the error output produced by the above code here]. ```. #### Versions. <details>3.8. [Paste the output of scanpy.logging.print_versions() leaving a blank line after the details tag]. </details>scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. scvelo==0.2.4 scanpy==1.8.2 anndata==0.7.8 loompy==3.0.6 numpy==1.20.3 scipy==1.7.2 matplotlib==3.5.0 sklearn==1.0.1 pandas==1.3.4 . cellrank==1.5.0 scanpy==1.8.2 anndata==0.7.8 numpy==1.20.3 numba==0.54.1 scipy==1.7.2 pandas==1.3.4 pygpcca==1.0.2 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 scvelo==0.2.4 pygam==0.8.0 matplotlib==3.5.0 seaborn==0.11.2.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2073
https://github.com/scverse/scanpy/issues/2073:556,usability,help,help,556,"scikit-misc cannot be initiated when sc.pp.highly_variable_genes(adata, n_top_genes=5000, flavor='seurat_v3'); - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Hello Scanpy,. When I'm running sc.pp.highly_variable_genes(adata, n_top_genes=5000, flavor='seurat_v3'), it asks me to install scikit-misc, which is already installed. Please see the picture below. Could you please help me to solve this issue? Thanks! Best,. YJ**. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Your code here. ```. ![image](https://user-images.githubusercontent.com/75048821/145125005-64f8607e-9cb0-4740-8dca-7c80e35d30ef.png). ```pytb. [Paste the error output produced by the above code here]. ```. #### Versions. <details>3.8. [Paste the output of scanpy.logging.print_versions() leaving a blank line after the details tag]. </details>scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. scvelo==0.2.4 scanpy==1.8.2 anndata==0.7.8 loompy==3.0.6 numpy==1.20.3 scipy==1.7.2 matplotlib==3.5.0 sklearn==1.0.1 pandas==1.3.4 . cellrank==1.5.0 scanpy==1.8.2 anndata==0.7.8 numpy==1.20.3 numba==0.54.1 scipy==1.7.2 pandas==1.3.4 pygpcca==1.0.2 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 scvelo==0.2.4 pygam==0.8.0 matplotlib==3.5.0 seaborn==0.11.2.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2073
https://github.com/scverse/scanpy/issues/2073:634,usability,guid,guide,634,"scikit-misc cannot be initiated when sc.pp.highly_variable_genes(adata, n_top_genes=5000, flavor='seurat_v3'); - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Hello Scanpy,. When I'm running sc.pp.highly_variable_genes(adata, n_top_genes=5000, flavor='seurat_v3'), it asks me to install scikit-misc, which is already installed. Please see the picture below. Could you please help me to solve this issue? Thanks! Best,. YJ**. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Your code here. ```. ![image](https://user-images.githubusercontent.com/75048821/145125005-64f8607e-9cb0-4740-8dca-7c80e35d30ef.png). ```pytb. [Paste the error output produced by the above code here]. ```. #### Versions. <details>3.8. [Paste the output of scanpy.logging.print_versions() leaving a blank line after the details tag]. </details>scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. scvelo==0.2.4 scanpy==1.8.2 anndata==0.7.8 loompy==3.0.6 numpy==1.20.3 scipy==1.7.2 matplotlib==3.5.0 sklearn==1.0.1 pandas==1.3.4 . cellrank==1.5.0 scanpy==1.8.2 anndata==0.7.8 numpy==1.20.3 numba==0.54.1 scipy==1.7.2 pandas==1.3.4 pygpcca==1.0.2 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 scvelo==0.2.4 pygam==0.8.0 matplotlib==3.5.0 seaborn==0.11.2.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2073
https://github.com/scverse/scanpy/issues/2073:689,usability,minim,minimal-bug-reports,689,"scikit-misc cannot be initiated when sc.pp.highly_variable_genes(adata, n_top_genes=5000, flavor='seurat_v3'); - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Hello Scanpy,. When I'm running sc.pp.highly_variable_genes(adata, n_top_genes=5000, flavor='seurat_v3'), it asks me to install scikit-misc, which is already installed. Please see the picture below. Could you please help me to solve this issue? Thanks! Best,. YJ**. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Your code here. ```. ![image](https://user-images.githubusercontent.com/75048821/145125005-64f8607e-9cb0-4740-8dca-7c80e35d30ef.png). ```pytb. [Paste the error output produced by the above code here]. ```. #### Versions. <details>3.8. [Paste the output of scanpy.logging.print_versions() leaving a blank line after the details tag]. </details>scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. scvelo==0.2.4 scanpy==1.8.2 anndata==0.7.8 loompy==3.0.6 numpy==1.20.3 scipy==1.7.2 matplotlib==3.5.0 sklearn==1.0.1 pandas==1.3.4 . cellrank==1.5.0 scanpy==1.8.2 anndata==0.7.8 numpy==1.20.3 numba==0.54.1 scipy==1.7.2 pandas==1.3.4 pygpcca==1.0.2 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 scvelo==0.2.4 pygam==0.8.0 matplotlib==3.5.0 seaborn==0.11.2.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2073
https://github.com/scverse/scanpy/issues/2073:795,usability,Minim,Minimal,795,"scikit-misc cannot be initiated when sc.pp.highly_variable_genes(adata, n_top_genes=5000, flavor='seurat_v3'); - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Hello Scanpy,. When I'm running sc.pp.highly_variable_genes(adata, n_top_genes=5000, flavor='seurat_v3'), it asks me to install scikit-misc, which is already installed. Please see the picture below. Could you please help me to solve this issue? Thanks! Best,. YJ**. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Your code here. ```. ![image](https://user-images.githubusercontent.com/75048821/145125005-64f8607e-9cb0-4740-8dca-7c80e35d30ef.png). ```pytb. [Paste the error output produced by the above code here]. ```. #### Versions. <details>3.8. [Paste the output of scanpy.logging.print_versions() leaving a blank line after the details tag]. </details>scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. scvelo==0.2.4 scanpy==1.8.2 anndata==0.7.8 loompy==3.0.6 numpy==1.20.3 scipy==1.7.2 matplotlib==3.5.0 sklearn==1.0.1 pandas==1.3.4 . cellrank==1.5.0 scanpy==1.8.2 anndata==0.7.8 numpy==1.20.3 numba==0.54.1 scipy==1.7.2 pandas==1.3.4 pygpcca==1.0.2 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 scvelo==0.2.4 pygam==0.8.0 matplotlib==3.5.0 seaborn==0.11.2.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2073
https://github.com/scverse/scanpy/issues/2073:916,usability,user,user-images,916,"scikit-misc cannot be initiated when sc.pp.highly_variable_genes(adata, n_top_genes=5000, flavor='seurat_v3'); - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Hello Scanpy,. When I'm running sc.pp.highly_variable_genes(adata, n_top_genes=5000, flavor='seurat_v3'), it asks me to install scikit-misc, which is already installed. Please see the picture below. Could you please help me to solve this issue? Thanks! Best,. YJ**. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Your code here. ```. ![image](https://user-images.githubusercontent.com/75048821/145125005-64f8607e-9cb0-4740-8dca-7c80e35d30ef.png). ```pytb. [Paste the error output produced by the above code here]. ```. #### Versions. <details>3.8. [Paste the output of scanpy.logging.print_versions() leaving a blank line after the details tag]. </details>scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. scvelo==0.2.4 scanpy==1.8.2 anndata==0.7.8 loompy==3.0.6 numpy==1.20.3 scipy==1.7.2 matplotlib==3.5.0 sklearn==1.0.1 pandas==1.3.4 . cellrank==1.5.0 scanpy==1.8.2 anndata==0.7.8 numpy==1.20.3 numba==0.54.1 scipy==1.7.2 pandas==1.3.4 pygpcca==1.0.2 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 scvelo==0.2.4 pygam==0.8.0 matplotlib==3.5.0 seaborn==0.11.2.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2073
https://github.com/scverse/scanpy/issues/2073:1032,usability,error,error,1032,"scikit-misc cannot be initiated when sc.pp.highly_variable_genes(adata, n_top_genes=5000, flavor='seurat_v3'); - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Hello Scanpy,. When I'm running sc.pp.highly_variable_genes(adata, n_top_genes=5000, flavor='seurat_v3'), it asks me to install scikit-misc, which is already installed. Please see the picture below. Could you please help me to solve this issue? Thanks! Best,. YJ**. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Your code here. ```. ![image](https://user-images.githubusercontent.com/75048821/145125005-64f8607e-9cb0-4740-8dca-7c80e35d30ef.png). ```pytb. [Paste the error output produced by the above code here]. ```. #### Versions. <details>3.8. [Paste the output of scanpy.logging.print_versions() leaving a blank line after the details tag]. </details>scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. scvelo==0.2.4 scanpy==1.8.2 anndata==0.7.8 loompy==3.0.6 numpy==1.20.3 scipy==1.7.2 matplotlib==3.5.0 sklearn==1.0.1 pandas==1.3.4 . cellrank==1.5.0 scanpy==1.8.2 anndata==0.7.8 numpy==1.20.3 numba==0.54.1 scipy==1.7.2 pandas==1.3.4 pygpcca==1.0.2 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 scvelo==0.2.4 pygam==0.8.0 matplotlib==3.5.0 seaborn==0.11.2.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2073
https://github.com/scverse/scanpy/issues/2073:1310,usability,learn,learn,1310,"scikit-misc cannot be initiated when sc.pp.highly_variable_genes(adata, n_top_genes=5000, flavor='seurat_v3'); - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Hello Scanpy,. When I'm running sc.pp.highly_variable_genes(adata, n_top_genes=5000, flavor='seurat_v3'), it asks me to install scikit-misc, which is already installed. Please see the picture below. Could you please help me to solve this issue? Thanks! Best,. YJ**. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Your code here. ```. ![image](https://user-images.githubusercontent.com/75048821/145125005-64f8607e-9cb0-4740-8dca-7c80e35d30ef.png). ```pytb. [Paste the error output produced by the above code here]. ```. #### Versions. <details>3.8. [Paste the output of scanpy.logging.print_versions() leaving a blank line after the details tag]. </details>scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. scvelo==0.2.4 scanpy==1.8.2 anndata==0.7.8 loompy==3.0.6 numpy==1.20.3 scipy==1.7.2 matplotlib==3.5.0 sklearn==1.0.1 pandas==1.3.4 . cellrank==1.5.0 scanpy==1.8.2 anndata==0.7.8 numpy==1.20.3 numba==0.54.1 scipy==1.7.2 pandas==1.3.4 pygpcca==1.0.2 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 scvelo==0.2.4 pygam==0.8.0 matplotlib==3.5.0 seaborn==0.11.2.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2073
https://github.com/scverse/scanpy/issues/2073:1639,usability,learn,learn,1639,"scikit-misc cannot be initiated when sc.pp.highly_variable_genes(adata, n_top_genes=5000, flavor='seurat_v3'); - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Hello Scanpy,. When I'm running sc.pp.highly_variable_genes(adata, n_top_genes=5000, flavor='seurat_v3'), it asks me to install scikit-misc, which is already installed. Please see the picture below. Could you please help me to solve this issue? Thanks! Best,. YJ**. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Your code here. ```. ![image](https://user-images.githubusercontent.com/75048821/145125005-64f8607e-9cb0-4740-8dca-7c80e35d30ef.png). ```pytb. [Paste the error output produced by the above code here]. ```. #### Versions. <details>3.8. [Paste the output of scanpy.logging.print_versions() leaving a blank line after the details tag]. </details>scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.2 pandas==1.3.4 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. scvelo==0.2.4 scanpy==1.8.2 anndata==0.7.8 loompy==3.0.6 numpy==1.20.3 scipy==1.7.2 matplotlib==3.5.0 sklearn==1.0.1 pandas==1.3.4 . cellrank==1.5.0 scanpy==1.8.2 anndata==0.7.8 numpy==1.20.3 numba==0.54.1 scipy==1.7.2 pandas==1.3.4 pygpcca==1.0.2 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 scvelo==0.2.4 pygam==0.8.0 matplotlib==3.5.0 seaborn==0.11.2.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2073
https://github.com/scverse/scanpy/issues/2074:165,deployability,version,version,165,scanpy 1.8.2 KeyError: 'rank_genes_groups'; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. scanpy 1.8.2 KeyError: 'rank_genes_groups',MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2074
https://github.com/scverse/scanpy/issues/2074:165,integrability,version,version,165,scanpy 1.8.2 KeyError: 'rank_genes_groups'; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. scanpy 1.8.2 KeyError: 'rank_genes_groups',MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2074
https://github.com/scverse/scanpy/issues/2074:165,modifiability,version,version,165,scanpy 1.8.2 KeyError: 'rank_genes_groups'; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. scanpy 1.8.2 KeyError: 'rank_genes_groups',MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2074
https://github.com/scverse/scanpy/issues/2074:125,usability,confirm,confirmed,125,scanpy 1.8.2 KeyError: 'rank_genes_groups'; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. scanpy 1.8.2 KeyError: 'rank_genes_groups',MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2074
https://github.com/scverse/scanpy/issues/2074:208,usability,confirm,confirmed,208,scanpy 1.8.2 KeyError: 'rank_genes_groups'; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. scanpy 1.8.2 KeyError: 'rank_genes_groups',MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2074
https://github.com/scverse/scanpy/pull/2075:22,deployability,patch,patch,22,"Pca loadings n points patch; When less than 30 features are present in adata.X, pca_loadings will plot some components twice. The patch solves the problem by adding an n_point parameter (default value 30, same as anndata.ranking())that is then passed to anndata.ranking(). the patch also modifies rankings plot to account for remove the dots when all elements in order_scores are plotted. the patch replaces the previously submitted patch. ps: had to struggle a lot with gi. the contribution guide should be updated... I may work on it",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2075
https://github.com/scverse/scanpy/pull/2075:130,deployability,patch,patch,130,"Pca loadings n points patch; When less than 30 features are present in adata.X, pca_loadings will plot some components twice. The patch solves the problem by adding an n_point parameter (default value 30, same as anndata.ranking())that is then passed to anndata.ranking(). the patch also modifies rankings plot to account for remove the dots when all elements in order_scores are plotted. the patch replaces the previously submitted patch. ps: had to struggle a lot with gi. the contribution guide should be updated... I may work on it",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2075
https://github.com/scverse/scanpy/pull/2075:277,deployability,patch,patch,277,"Pca loadings n points patch; When less than 30 features are present in adata.X, pca_loadings will plot some components twice. The patch solves the problem by adding an n_point parameter (default value 30, same as anndata.ranking())that is then passed to anndata.ranking(). the patch also modifies rankings plot to account for remove the dots when all elements in order_scores are plotted. the patch replaces the previously submitted patch. ps: had to struggle a lot with gi. the contribution guide should be updated... I may work on it",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2075
https://github.com/scverse/scanpy/pull/2075:393,deployability,patch,patch,393,"Pca loadings n points patch; When less than 30 features are present in adata.X, pca_loadings will plot some components twice. The patch solves the problem by adding an n_point parameter (default value 30, same as anndata.ranking())that is then passed to anndata.ranking(). the patch also modifies rankings plot to account for remove the dots when all elements in order_scores are plotted. the patch replaces the previously submitted patch. ps: had to struggle a lot with gi. the contribution guide should be updated... I may work on it",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2075
https://github.com/scverse/scanpy/pull/2075:433,deployability,patch,patch,433,"Pca loadings n points patch; When less than 30 features are present in adata.X, pca_loadings will plot some components twice. The patch solves the problem by adding an n_point parameter (default value 30, same as anndata.ranking())that is then passed to anndata.ranking(). the patch also modifies rankings plot to account for remove the dots when all elements in order_scores are plotted. the patch replaces the previously submitted patch. ps: had to struggle a lot with gi. the contribution guide should be updated... I may work on it",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2075
https://github.com/scverse/scanpy/pull/2075:508,deployability,updat,updated,508,"Pca loadings n points patch; When less than 30 features are present in adata.X, pca_loadings will plot some components twice. The patch solves the problem by adding an n_point parameter (default value 30, same as anndata.ranking())that is then passed to anndata.ranking(). the patch also modifies rankings plot to account for remove the dots when all elements in order_scores are plotted. the patch replaces the previously submitted patch. ps: had to struggle a lot with gi. the contribution guide should be updated... I may work on it",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2075
https://github.com/scverse/scanpy/pull/2075:4,energy efficiency,load,loadings,4,"Pca loadings n points patch; When less than 30 features are present in adata.X, pca_loadings will plot some components twice. The patch solves the problem by adding an n_point parameter (default value 30, same as anndata.ranking())that is then passed to anndata.ranking(). the patch also modifies rankings plot to account for remove the dots when all elements in order_scores are plotted. the patch replaces the previously submitted patch. ps: had to struggle a lot with gi. the contribution guide should be updated... I may work on it",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2075
https://github.com/scverse/scanpy/pull/2075:108,integrability,compon,components,108,"Pca loadings n points patch; When less than 30 features are present in adata.X, pca_loadings will plot some components twice. The patch solves the problem by adding an n_point parameter (default value 30, same as anndata.ranking())that is then passed to anndata.ranking(). the patch also modifies rankings plot to account for remove the dots when all elements in order_scores are plotted. the patch replaces the previously submitted patch. ps: had to struggle a lot with gi. the contribution guide should be updated... I may work on it",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2075
https://github.com/scverse/scanpy/pull/2075:423,integrability,sub,submitted,423,"Pca loadings n points patch; When less than 30 features are present in adata.X, pca_loadings will plot some components twice. The patch solves the problem by adding an n_point parameter (default value 30, same as anndata.ranking())that is then passed to anndata.ranking(). the patch also modifies rankings plot to account for remove the dots when all elements in order_scores are plotted. the patch replaces the previously submitted patch. ps: had to struggle a lot with gi. the contribution guide should be updated... I may work on it",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2075
https://github.com/scverse/scanpy/pull/2075:108,interoperability,compon,components,108,"Pca loadings n points patch; When less than 30 features are present in adata.X, pca_loadings will plot some components twice. The patch solves the problem by adding an n_point parameter (default value 30, same as anndata.ranking())that is then passed to anndata.ranking(). the patch also modifies rankings plot to account for remove the dots when all elements in order_scores are plotted. the patch replaces the previously submitted patch. ps: had to struggle a lot with gi. the contribution guide should be updated... I may work on it",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2075
https://github.com/scverse/scanpy/pull/2075:108,modifiability,compon,components,108,"Pca loadings n points patch; When less than 30 features are present in adata.X, pca_loadings will plot some components twice. The patch solves the problem by adding an n_point parameter (default value 30, same as anndata.ranking())that is then passed to anndata.ranking(). the patch also modifies rankings plot to account for remove the dots when all elements in order_scores are plotted. the patch replaces the previously submitted patch. ps: had to struggle a lot with gi. the contribution guide should be updated... I may work on it",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2075
https://github.com/scverse/scanpy/pull/2075:176,modifiability,paramet,parameter,176,"Pca loadings n points patch; When less than 30 features are present in adata.X, pca_loadings will plot some components twice. The patch solves the problem by adding an n_point parameter (default value 30, same as anndata.ranking())that is then passed to anndata.ranking(). the patch also modifies rankings plot to account for remove the dots when all elements in order_scores are plotted. the patch replaces the previously submitted patch. ps: had to struggle a lot with gi. the contribution guide should be updated... I may work on it",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2075
https://github.com/scverse/scanpy/pull/2075:4,performance,load,loadings,4,"Pca loadings n points patch; When less than 30 features are present in adata.X, pca_loadings will plot some components twice. The patch solves the problem by adding an n_point parameter (default value 30, same as anndata.ranking())that is then passed to anndata.ranking(). the patch also modifies rankings plot to account for remove the dots when all elements in order_scores are plotted. the patch replaces the previously submitted patch. ps: had to struggle a lot with gi. the contribution guide should be updated... I may work on it",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2075
https://github.com/scverse/scanpy/pull/2075:22,safety,patch,patch,22,"Pca loadings n points patch; When less than 30 features are present in adata.X, pca_loadings will plot some components twice. The patch solves the problem by adding an n_point parameter (default value 30, same as anndata.ranking())that is then passed to anndata.ranking(). the patch also modifies rankings plot to account for remove the dots when all elements in order_scores are plotted. the patch replaces the previously submitted patch. ps: had to struggle a lot with gi. the contribution guide should be updated... I may work on it",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2075
https://github.com/scverse/scanpy/pull/2075:130,safety,patch,patch,130,"Pca loadings n points patch; When less than 30 features are present in adata.X, pca_loadings will plot some components twice. The patch solves the problem by adding an n_point parameter (default value 30, same as anndata.ranking())that is then passed to anndata.ranking(). the patch also modifies rankings plot to account for remove the dots when all elements in order_scores are plotted. the patch replaces the previously submitted patch. ps: had to struggle a lot with gi. the contribution guide should be updated... I may work on it",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2075
https://github.com/scverse/scanpy/pull/2075:277,safety,patch,patch,277,"Pca loadings n points patch; When less than 30 features are present in adata.X, pca_loadings will plot some components twice. The patch solves the problem by adding an n_point parameter (default value 30, same as anndata.ranking())that is then passed to anndata.ranking(). the patch also modifies rankings plot to account for remove the dots when all elements in order_scores are plotted. the patch replaces the previously submitted patch. ps: had to struggle a lot with gi. the contribution guide should be updated... I may work on it",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2075
https://github.com/scverse/scanpy/pull/2075:393,safety,patch,patch,393,"Pca loadings n points patch; When less than 30 features are present in adata.X, pca_loadings will plot some components twice. The patch solves the problem by adding an n_point parameter (default value 30, same as anndata.ranking())that is then passed to anndata.ranking(). the patch also modifies rankings plot to account for remove the dots when all elements in order_scores are plotted. the patch replaces the previously submitted patch. ps: had to struggle a lot with gi. the contribution guide should be updated... I may work on it",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2075
https://github.com/scverse/scanpy/pull/2075:433,safety,patch,patch,433,"Pca loadings n points patch; When less than 30 features are present in adata.X, pca_loadings will plot some components twice. The patch solves the problem by adding an n_point parameter (default value 30, same as anndata.ranking())that is then passed to anndata.ranking(). the patch also modifies rankings plot to account for remove the dots when all elements in order_scores are plotted. the patch replaces the previously submitted patch. ps: had to struggle a lot with gi. the contribution guide should be updated... I may work on it",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2075
https://github.com/scverse/scanpy/pull/2075:508,safety,updat,updated,508,"Pca loadings n points patch; When less than 30 features are present in adata.X, pca_loadings will plot some components twice. The patch solves the problem by adding an n_point parameter (default value 30, same as anndata.ranking())that is then passed to anndata.ranking(). the patch also modifies rankings plot to account for remove the dots when all elements in order_scores are plotted. the patch replaces the previously submitted patch. ps: had to struggle a lot with gi. the contribution guide should be updated... I may work on it",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2075
https://github.com/scverse/scanpy/pull/2075:22,security,patch,patch,22,"Pca loadings n points patch; When less than 30 features are present in adata.X, pca_loadings will plot some components twice. The patch solves the problem by adding an n_point parameter (default value 30, same as anndata.ranking())that is then passed to anndata.ranking(). the patch also modifies rankings plot to account for remove the dots when all elements in order_scores are plotted. the patch replaces the previously submitted patch. ps: had to struggle a lot with gi. the contribution guide should be updated... I may work on it",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2075
https://github.com/scverse/scanpy/pull/2075:130,security,patch,patch,130,"Pca loadings n points patch; When less than 30 features are present in adata.X, pca_loadings will plot some components twice. The patch solves the problem by adding an n_point parameter (default value 30, same as anndata.ranking())that is then passed to anndata.ranking(). the patch also modifies rankings plot to account for remove the dots when all elements in order_scores are plotted. the patch replaces the previously submitted patch. ps: had to struggle a lot with gi. the contribution guide should be updated... I may work on it",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2075
https://github.com/scverse/scanpy/pull/2075:277,security,patch,patch,277,"Pca loadings n points patch; When less than 30 features are present in adata.X, pca_loadings will plot some components twice. The patch solves the problem by adding an n_point parameter (default value 30, same as anndata.ranking())that is then passed to anndata.ranking(). the patch also modifies rankings plot to account for remove the dots when all elements in order_scores are plotted. the patch replaces the previously submitted patch. ps: had to struggle a lot with gi. the contribution guide should be updated... I may work on it",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2075
https://github.com/scverse/scanpy/pull/2075:288,security,modif,modifies,288,"Pca loadings n points patch; When less than 30 features are present in adata.X, pca_loadings will plot some components twice. The patch solves the problem by adding an n_point parameter (default value 30, same as anndata.ranking())that is then passed to anndata.ranking(). the patch also modifies rankings plot to account for remove the dots when all elements in order_scores are plotted. the patch replaces the previously submitted patch. ps: had to struggle a lot with gi. the contribution guide should be updated... I may work on it",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2075
https://github.com/scverse/scanpy/pull/2075:393,security,patch,patch,393,"Pca loadings n points patch; When less than 30 features are present in adata.X, pca_loadings will plot some components twice. The patch solves the problem by adding an n_point parameter (default value 30, same as anndata.ranking())that is then passed to anndata.ranking(). the patch also modifies rankings plot to account for remove the dots when all elements in order_scores are plotted. the patch replaces the previously submitted patch. ps: had to struggle a lot with gi. the contribution guide should be updated... I may work on it",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2075
https://github.com/scverse/scanpy/pull/2075:433,security,patch,patch,433,"Pca loadings n points patch; When less than 30 features are present in adata.X, pca_loadings will plot some components twice. The patch solves the problem by adding an n_point parameter (default value 30, same as anndata.ranking())that is then passed to anndata.ranking(). the patch also modifies rankings plot to account for remove the dots when all elements in order_scores are plotted. the patch replaces the previously submitted patch. ps: had to struggle a lot with gi. the contribution guide should be updated... I may work on it",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2075
https://github.com/scverse/scanpy/pull/2075:508,security,updat,updated,508,"Pca loadings n points patch; When less than 30 features are present in adata.X, pca_loadings will plot some components twice. The patch solves the problem by adding an n_point parameter (default value 30, same as anndata.ranking())that is then passed to anndata.ranking(). the patch also modifies rankings plot to account for remove the dots when all elements in order_scores are plotted. the patch replaces the previously submitted patch. ps: had to struggle a lot with gi. the contribution guide should be updated... I may work on it",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2075
https://github.com/scverse/scanpy/pull/2075:492,usability,guid,guide,492,"Pca loadings n points patch; When less than 30 features are present in adata.X, pca_loadings will plot some components twice. The patch solves the problem by adding an n_point parameter (default value 30, same as anndata.ranking())that is then passed to anndata.ranking(). the patch also modifies rankings plot to account for remove the dots when all elements in order_scores are plotted. the patch replaces the previously submitted patch. ps: had to struggle a lot with gi. the contribution guide should be updated... I may work on it",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2075
https://github.com/scverse/scanpy/pull/2076:73,interoperability,conflict,conflicts,73,Turn off pre-commit auto commit for PRs; It seems like a good way to get conflicts,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2076
https://github.com/scverse/scanpy/issues/2078:645,availability,error,error,645,"rank_genes_groups_dotplot does not work when using reference and using rankby_abs, or setting; values_to_plot='logfoldchanges'; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. As the title says. A specific set of combinations of keywords to rank gene groups and plotting throws an error unexpectedly. ### Minimal code sample (that we can copy&paste without having any data). ```python. adata = sc.datasets.paul15(). sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. n_genes=3, cmap='PiYG_r', swap_axes=True,. show=False, values_to_plot='logfoldchanges',. vmin=None, vmax=None). ```. ```pytb. WARNING: In Scanpy 0.*, this returned logarithmized data. Now it returns non-logarithmized data. ... storing 'paul15_clusters' as categorical. Trying to set attribute `.uns` of view, copying. WARNING: Default of the method has been changed to 't-test' from 't-test_overestim_var'. WARNING: It seems you use rank_genes_groups on the raw count data. Please logarithmize your data before calling rank_genes_groups. ERROR: the given dot_color_df data frame has a different shape thanthe data frame used for the dot size. Both data frames needto have the same index and columns. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). <ipython-input-110-708ec3ea001f> in <module>. 1 adata = sc.datasets.paul15(). 2 sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). ----> 3 rax = sc.pl.rank_",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:1504,availability,ERROR,ERROR,1504,"on for us to reproduce your bug. As the title says. A specific set of combinations of keywords to rank gene groups and plotting throws an error unexpectedly. ### Minimal code sample (that we can copy&paste without having any data). ```python. adata = sc.datasets.paul15(). sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. n_genes=3, cmap='PiYG_r', swap_axes=True,. show=False, values_to_plot='logfoldchanges',. vmin=None, vmax=None). ```. ```pytb. WARNING: In Scanpy 0.*, this returned logarithmized data. Now it returns non-logarithmized data. ... storing 'paul15_clusters' as categorical. Trying to set attribute `.uns` of view, copying. WARNING: Default of the method has been changed to 't-test' from 't-test_overestim_var'. WARNING: It seems you use rank_genes_groups on the raw count data. Please logarithmize your data before calling rank_genes_groups. ERROR: the given dot_color_df data frame has a different shape thanthe data frame used for the dot size. Both data frames needto have the same index and columns. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). <ipython-input-110-708ec3ea001f> in <module>. 1 adata = sc.datasets.paul15(). 2 sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). ----> 3 rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. 4 n_genes=3, cmap='PiYG_r', swap_axes=True,. 5 show=False, values_to_plot='logfoldchanges',. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_tools/__init__.py in rank_genes_groups_dotplot(adata, groups, n_genes, groupby, values_to_plot, var_names, gene_symbols, min_logfoldchange, key, show, save, return_fig, **kwds). 861 tl.rank_genes_groups. 862 """""". --> 863 return _rank_genes_groups_plot(. 864 adata,. 865 plot_typ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:4627,availability,sli,slicing,4627,"ne_symbols, var_group_positions, var_group_labels, var_group_rotation, layer, expression_cutoff, mean_only_expressed, standard_scale, dot_color_df, dot_size_df, ax, vmin, vmax, vcenter, norm, **kwds). 215 # get the same order for rows and columns in the dot_color_df. 216 # using the order from the doc_size_df. --> 217 dot_color_df = dot_color_df.loc[dot_size_df.index][dot_size_df.columns]. 218 . 219 self.dot_color_df = dot_color_df. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in __getitem__(self, key). 893 . 894 maybe_callable = com.apply_if_callable(key, self.obj). --> 895 return self._getitem_axis(maybe_callable, axis=axis). 896 . 897 def _is_scalar_access(self, key: Tuple):. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _getitem_axis(self, key, axis). 1111 raise ValueError(""Cannot index with multidimensional key""). 1112 . -> 1113 return self._getitem_iterable(key, axis=axis). 1114 . 1115 # nested tuple slicing. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _getitem_iterable(self, key, axis). 1051 . 1052 # A collection of keys. -> 1053 keyarr, indexer = self._get_listlike_indexer(key, axis, raise_missing=False). 1054 return self.obj._reindex_with_indexers(. 1055 {axis: [keyarr, indexer]}, copy=True, allow_dups=True. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _get_listlike_indexer(self, key, axis, raise_missing). 1264 keyarr, indexer, new_indexer = ax._reindex_non_unique(keyarr). 1265 . -> 1266 self._validate_read_indexer(keyarr, indexer, axis, raise_missing=raise_missing). 1267 return keyarr, indexer. 1268 . ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _validate_read_indexer(self, key, indexer, axis, raise_missing). 1319 . 1320 with option_context(""display.max_seq_items"", 10, ""display.width"", 80):. -> 1321 raise KeyError(. 1322 ""Passing list-likes to .loc or [] with any",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:111,deployability,log,logfoldchanges,111,"rank_genes_groups_dotplot does not work when using reference and using rankby_abs, or setting; values_to_plot='logfoldchanges'; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. As the title says. A specific set of combinations of keywords to rank gene groups and plotting throws an error unexpectedly. ### Minimal code sample (that we can copy&paste without having any data). ```python. adata = sc.datasets.paul15(). sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. n_genes=3, cmap='PiYG_r', swap_axes=True,. show=False, values_to_plot='logfoldchanges',. vmin=None, vmax=None). ```. ```pytb. WARNING: In Scanpy 0.*, this returned logarithmized data. Now it returns non-logarithmized data. ... storing 'paul15_clusters' as categorical. Trying to set attribute `.uns` of view, copying. WARNING: Default of the method has been changed to 't-test' from 't-test_overestim_var'. WARNING: It seems you use rank_genes_groups on the raw count data. Please logarithmize your data before calling rank_genes_groups. ERROR: the given dot_color_df data frame has a different shape thanthe data frame used for the dot size. Both data frames needto have the same index and columns. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). <ipython-input-110-708ec3ea001f> in <module>. 1 adata = sc.datasets.paul15(). 2 sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). ----> 3 rax = sc.pl.rank_",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:249,deployability,version,version,249,"rank_genes_groups_dotplot does not work when using reference and using rankby_abs, or setting; values_to_plot='logfoldchanges'; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. As the title says. A specific set of combinations of keywords to rank gene groups and plotting throws an error unexpectedly. ### Minimal code sample (that we can copy&paste without having any data). ```python. adata = sc.datasets.paul15(). sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. n_genes=3, cmap='PiYG_r', swap_axes=True,. show=False, values_to_plot='logfoldchanges',. vmin=None, vmax=None). ```. ```pytb. WARNING: In Scanpy 0.*, this returned logarithmized data. Now it returns non-logarithmized data. ... storing 'paul15_clusters' as categorical. Trying to set attribute `.uns` of view, copying. WARNING: Default of the method has been changed to 't-test' from 't-test_overestim_var'. WARNING: It seems you use rank_genes_groups on the raw count data. Please logarithmize your data before calling rank_genes_groups. ERROR: the given dot_color_df data frame has a different shape thanthe data frame used for the dot size. Both data frames needto have the same index and columns. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). <ipython-input-110-708ec3ea001f> in <module>. 1 adata = sc.datasets.paul15(). 2 sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). ----> 3 rax = sc.pl.rank_",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:1037,deployability,log,logfoldchanges,1037," using reference and using rankby_abs, or setting; values_to_plot='logfoldchanges'; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. As the title says. A specific set of combinations of keywords to rank gene groups and plotting throws an error unexpectedly. ### Minimal code sample (that we can copy&paste without having any data). ```python. adata = sc.datasets.paul15(). sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. n_genes=3, cmap='PiYG_r', swap_axes=True,. show=False, values_to_plot='logfoldchanges',. vmin=None, vmax=None). ```. ```pytb. WARNING: In Scanpy 0.*, this returned logarithmized data. Now it returns non-logarithmized data. ... storing 'paul15_clusters' as categorical. Trying to set attribute `.uns` of view, copying. WARNING: Default of the method has been changed to 't-test' from 't-test_overestim_var'. WARNING: It seems you use rank_genes_groups on the raw count data. Please logarithmize your data before calling rank_genes_groups. ERROR: the given dot_color_df data frame has a different shape thanthe data frame used for the dot size. Both data frames needto have the same index and columns. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). <ipython-input-110-708ec3ea001f> in <module>. 1 adata = sc.datasets.paul15(). 2 sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). ----> 3 rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , ra",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:1130,deployability,log,logarithmized,1130,"ave checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. As the title says. A specific set of combinations of keywords to rank gene groups and plotting throws an error unexpectedly. ### Minimal code sample (that we can copy&paste without having any data). ```python. adata = sc.datasets.paul15(). sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. n_genes=3, cmap='PiYG_r', swap_axes=True,. show=False, values_to_plot='logfoldchanges',. vmin=None, vmax=None). ```. ```pytb. WARNING: In Scanpy 0.*, this returned logarithmized data. Now it returns non-logarithmized data. ... storing 'paul15_clusters' as categorical. Trying to set attribute `.uns` of view, copying. WARNING: Default of the method has been changed to 't-test' from 't-test_overestim_var'. WARNING: It seems you use rank_genes_groups on the raw count data. Please logarithmize your data before calling rank_genes_groups. ERROR: the given dot_color_df data frame has a different shape thanthe data frame used for the dot size. Both data frames needto have the same index and columns. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). <ipython-input-110-708ec3ea001f> in <module>. 1 adata = sc.datasets.paul15(). 2 sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). ----> 3 rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. 4 n_genes=3, cmap='PiYG_r', swap_axes=True,. 5 show=False, values_to_plot='l",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:1169,deployability,log,logarithmized,1169,"eady been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. As the title says. A specific set of combinations of keywords to rank gene groups and plotting throws an error unexpectedly. ### Minimal code sample (that we can copy&paste without having any data). ```python. adata = sc.datasets.paul15(). sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. n_genes=3, cmap='PiYG_r', swap_axes=True,. show=False, values_to_plot='logfoldchanges',. vmin=None, vmax=None). ```. ```pytb. WARNING: In Scanpy 0.*, this returned logarithmized data. Now it returns non-logarithmized data. ... storing 'paul15_clusters' as categorical. Trying to set attribute `.uns` of view, copying. WARNING: Default of the method has been changed to 't-test' from 't-test_overestim_var'. WARNING: It seems you use rank_genes_groups on the raw count data. Please logarithmize your data before calling rank_genes_groups. ERROR: the given dot_color_df data frame has a different shape thanthe data frame used for the dot size. Both data frames needto have the same index and columns. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). <ipython-input-110-708ec3ea001f> in <module>. 1 adata = sc.datasets.paul15(). 2 sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). ----> 3 rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. 4 n_genes=3, cmap='PiYG_r', swap_axes=True,. 5 show=False, values_to_plot='logfoldchanges',. ~/.virtualenvs/pytorch",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:1447,deployability,log,logarithmize,1447,"orts) detailing how to provide the necessary information for us to reproduce your bug. As the title says. A specific set of combinations of keywords to rank gene groups and plotting throws an error unexpectedly. ### Minimal code sample (that we can copy&paste without having any data). ```python. adata = sc.datasets.paul15(). sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. n_genes=3, cmap='PiYG_r', swap_axes=True,. show=False, values_to_plot='logfoldchanges',. vmin=None, vmax=None). ```. ```pytb. WARNING: In Scanpy 0.*, this returned logarithmized data. Now it returns non-logarithmized data. ... storing 'paul15_clusters' as categorical. Trying to set attribute `.uns` of view, copying. WARNING: Default of the method has been changed to 't-test' from 't-test_overestim_var'. WARNING: It seems you use rank_genes_groups on the raw count data. Please logarithmize your data before calling rank_genes_groups. ERROR: the given dot_color_df data frame has a different shape thanthe data frame used for the dot size. Both data frames needto have the same index and columns. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). <ipython-input-110-708ec3ea001f> in <module>. 1 adata = sc.datasets.paul15(). 2 sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). ----> 3 rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. 4 n_genes=3, cmap='PiYG_r', swap_axes=True,. 5 show=False, values_to_plot='logfoldchanges',. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_tools/__init__.py in rank_genes_groups_dotplot(adata, groups, n_genes, groupby, values_to_plot, var_names, gene_symbols, min_logfoldchange, key, show, save, return_fig, **kwds). 861 tl.rank_genes_groups. 862 """""". --> 863 ret",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:1824,deployability,modul,module,1824,"clusters', key_added='GG', use_raw=False, reference='1Ery'). rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. n_genes=3, cmap='PiYG_r', swap_axes=True,. show=False, values_to_plot='logfoldchanges',. vmin=None, vmax=None). ```. ```pytb. WARNING: In Scanpy 0.*, this returned logarithmized data. Now it returns non-logarithmized data. ... storing 'paul15_clusters' as categorical. Trying to set attribute `.uns` of view, copying. WARNING: Default of the method has been changed to 't-test' from 't-test_overestim_var'. WARNING: It seems you use rank_genes_groups on the raw count data. Please logarithmize your data before calling rank_genes_groups. ERROR: the given dot_color_df data frame has a different shape thanthe data frame used for the dot size. Both data frames needto have the same index and columns. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). <ipython-input-110-708ec3ea001f> in <module>. 1 adata = sc.datasets.paul15(). 2 sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). ----> 3 rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. 4 n_genes=3, cmap='PiYG_r', swap_axes=True,. 5 show=False, values_to_plot='logfoldchanges',. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_tools/__init__.py in rank_genes_groups_dotplot(adata, groups, n_genes, groupby, values_to_plot, var_names, gene_symbols, min_logfoldchange, key, show, save, return_fig, **kwds). 861 tl.rank_genes_groups. 862 """""". --> 863 return _rank_genes_groups_plot(. 864 adata,. 865 plot_type='dotplot',. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_tools/__init__.py in _rank_genes_groups_plot(adata, plot_type, groups, n_genes, groupby, values_to_plot, var_names, min_logfoldchange, key, show, save, return_fig, gene_symbols, **kwds). 534 from .._dotplot import dotplot. 535 . --",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:2136,deployability,log,logfoldchanges,2136," data. Now it returns non-logarithmized data. ... storing 'paul15_clusters' as categorical. Trying to set attribute `.uns` of view, copying. WARNING: Default of the method has been changed to 't-test' from 't-test_overestim_var'. WARNING: It seems you use rank_genes_groups on the raw count data. Please logarithmize your data before calling rank_genes_groups. ERROR: the given dot_color_df data frame has a different shape thanthe data frame used for the dot size. Both data frames needto have the same index and columns. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). <ipython-input-110-708ec3ea001f> in <module>. 1 adata = sc.datasets.paul15(). 2 sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). ----> 3 rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. 4 n_genes=3, cmap='PiYG_r', swap_axes=True,. 5 show=False, values_to_plot='logfoldchanges',. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_tools/__init__.py in rank_genes_groups_dotplot(adata, groups, n_genes, groupby, values_to_plot, var_names, gene_symbols, min_logfoldchange, key, show, save, return_fig, **kwds). 861 tl.rank_genes_groups. 862 """""". --> 863 return _rank_genes_groups_plot(. 864 adata,. 865 plot_type='dotplot',. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_tools/__init__.py in _rank_genes_groups_plot(adata, plot_type, groups, n_genes, groupby, values_to_plot, var_names, min_logfoldchange, key, show, save, return_fig, gene_symbols, **kwds). 534 from .._dotplot import dotplot. 535 . --> 536 _pl = dotplot(. 537 adata,. 538 var_names,. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_dotplot.py in dotplot(adata, var_names, groupby, use_raw, log, num_categories, expression_cutoff, mean_only_expressed, cmap, dot_max, dot_min, standard_scale, smallest_dot, title, colorbar_ti",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:3010,deployability,log,log,3010,"_dotplot(adata, key='GG', # , rankby_abs= None,. 4 n_genes=3, cmap='PiYG_r', swap_axes=True,. 5 show=False, values_to_plot='logfoldchanges',. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_tools/__init__.py in rank_genes_groups_dotplot(adata, groups, n_genes, groupby, values_to_plot, var_names, gene_symbols, min_logfoldchange, key, show, save, return_fig, **kwds). 861 tl.rank_genes_groups. 862 """""". --> 863 return _rank_genes_groups_plot(. 864 adata,. 865 plot_type='dotplot',. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_tools/__init__.py in _rank_genes_groups_plot(adata, plot_type, groups, n_genes, groupby, values_to_plot, var_names, min_logfoldchange, key, show, save, return_fig, gene_symbols, **kwds). 534 from .._dotplot import dotplot. 535 . --> 536 _pl = dotplot(. 537 adata,. 538 var_names,. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_dotplot.py in dotplot(adata, var_names, groupby, use_raw, log, num_categories, expression_cutoff, mean_only_expressed, cmap, dot_max, dot_min, standard_scale, smallest_dot, title, colorbar_title, size_title, figsize, dendrogram, gene_symbols, var_group_positions, var_group_labels, var_group_rotation, layer, swap_axes, dot_color_df, show, save, ax, return_fig, vmin, vmax, vcenter, norm, **kwds). 940 del kwds['color_map']. 941 . --> 942 dp = DotPlot(. 943 adata,. 944 var_names,. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_dotplot.py in __init__(self, adata, var_names, groupby, use_raw, log, num_categories, categories_order, title, figsize, gene_symbols, var_group_positions, var_group_labels, var_group_rotation, layer, expression_cutoff, mean_only_expressed, standard_scale, dot_color_df, dot_size_df, ax, vmin, vmax, vcenter, norm, **kwds). 215 # get the same order for rows and columns in the dot_color_df. 216 # using the order from the doc_size_df. --> 217 dot_color_df = dot_color_df.loc[dot_size_df.index][dot_size_d",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:3574,deployability,log,log,3574,"es/scanpy/plotting/_tools/__init__.py in _rank_genes_groups_plot(adata, plot_type, groups, n_genes, groupby, values_to_plot, var_names, min_logfoldchange, key, show, save, return_fig, gene_symbols, **kwds). 534 from .._dotplot import dotplot. 535 . --> 536 _pl = dotplot(. 537 adata,. 538 var_names,. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_dotplot.py in dotplot(adata, var_names, groupby, use_raw, log, num_categories, expression_cutoff, mean_only_expressed, cmap, dot_max, dot_min, standard_scale, smallest_dot, title, colorbar_title, size_title, figsize, dendrogram, gene_symbols, var_group_positions, var_group_labels, var_group_rotation, layer, swap_axes, dot_color_df, show, save, ax, return_fig, vmin, vmax, vcenter, norm, **kwds). 940 del kwds['color_map']. 941 . --> 942 dp = DotPlot(. 943 adata,. 944 var_names,. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_dotplot.py in __init__(self, adata, var_names, groupby, use_raw, log, num_categories, categories_order, title, figsize, gene_symbols, var_group_positions, var_group_labels, var_group_rotation, layer, expression_cutoff, mean_only_expressed, standard_scale, dot_color_df, dot_size_df, ax, vmin, vmax, vcenter, norm, **kwds). 215 # get the same order for rows and columns in the dot_color_df. 216 # using the order from the doc_size_df. --> 217 dot_color_df = dot_color_df.loc[dot_size_df.index][dot_size_df.columns]. 218 . 219 self.dot_color_df = dot_color_df. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in __getitem__(self, key). 893 . 894 maybe_callable = com.apply_if_callable(key, self.obj). --> 895 return self._getitem_axis(maybe_callable, axis=axis). 896 . 897 def _is_scalar_access(self, key: Tuple):. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _getitem_axis(self, key, axis). 1111 raise ValueError(""Cannot index with multidimensional key""). 1112 . -> 1113 return self._getitem_it",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:6093,deployability,Version,Versions,6093," key, axis, raise_missing). 1264 keyarr, indexer, new_indexer = ax._reindex_non_unique(keyarr). 1265 . -> 1266 self._validate_read_indexer(keyarr, indexer, axis, raise_missing=raise_missing). 1267 return keyarr, indexer. 1268 . ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _validate_read_indexer(self, key, indexer, axis, raise_missing). 1319 . 1320 with option_context(""display.max_seq_items"", 10, ""display.width"", 80):. -> 1321 raise KeyError(. 1322 ""Passing list-likes to .loc or [] with any missing labels "". 1323 ""is no longer supported. "". KeyError: ""Passing list-likes to .loc or [] with any missing labels is no longer supported. The following labels were missing: CategoricalIndex(['1Ery'], categories=['1Ery', '2Ery', '3Ery', '4Ery', '5Ery', '6Ery', '7MEP', '8Mk', ...], ordered=False, name='paul15_clusters', dtype='category'). See https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#deprecate-loc-reindex-listlike"". ```. #### Versions. <details>. sc.logging.print_versions(). WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.8.2. sinfo 0.3.1. -----. PIL 8.2.0. anndata 0.7.6. autoreload NA. backcall 0.2.0. cffi 1.14.5. configobj 5.0.6. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. git 3.1.14. gitdb 4.0.7. google NA. gpytorch 1.4.1. h5py 3.2.1. igraph 0.9.6. inferelator NA. ipykernel 5.5.3. ipython_genutils 0.2.0. ipywidgets 7.6.3. jedi 0.18.0. joblib 1.0.1. kiwisolver 1.3.1. leidenalg 0.8.4. llvmlite 0.36.0. matplotlib 3.4.1. mpl_toolkits NA. natsort 7.1.1. numba 0.53.1. numexpr 2.7.3. numpy 1.20.2. packaging 20.9. pandas 1.2.4. parso 0.8.2. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.18. ptyprocess 0.7.0. pycparser 2.20. pygments 2.8.1. pynndescent 0.5.2. pyparsing 2.4.7. pytz 2021.1. scanpy 1.8.2. scipy 1.6.3. seaborn 0.11.1. sinfo 0.3.1. sitecustomize NA. six 1.15.0. sklearn 0.24.2. smmap 4.0.0. statsmodels 0.12.2. sto",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:6117,deployability,log,logging,6117,"g). 1264 keyarr, indexer, new_indexer = ax._reindex_non_unique(keyarr). 1265 . -> 1266 self._validate_read_indexer(keyarr, indexer, axis, raise_missing=raise_missing). 1267 return keyarr, indexer. 1268 . ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _validate_read_indexer(self, key, indexer, axis, raise_missing). 1319 . 1320 with option_context(""display.max_seq_items"", 10, ""display.width"", 80):. -> 1321 raise KeyError(. 1322 ""Passing list-likes to .loc or [] with any missing labels "". 1323 ""is no longer supported. "". KeyError: ""Passing list-likes to .loc or [] with any missing labels is no longer supported. The following labels were missing: CategoricalIndex(['1Ery'], categories=['1Ery', '2Ery', '3Ery', '4Ery', '5Ery', '6Ery', '7MEP', '8Mk', ...], ordered=False, name='paul15_clusters', dtype='category'). See https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#deprecate-loc-reindex-listlike"". ```. #### Versions. <details>. sc.logging.print_versions(). WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.8.2. sinfo 0.3.1. -----. PIL 8.2.0. anndata 0.7.6. autoreload NA. backcall 0.2.0. cffi 1.14.5. configobj 5.0.6. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. git 3.1.14. gitdb 4.0.7. google NA. gpytorch 1.4.1. h5py 3.2.1. igraph 0.9.6. inferelator NA. ipykernel 5.5.3. ipython_genutils 0.2.0. ipywidgets 7.6.3. jedi 0.18.0. joblib 1.0.1. kiwisolver 1.3.1. leidenalg 0.8.4. llvmlite 0.36.0. matplotlib 3.4.1. mpl_toolkits NA. natsort 7.1.1. numba 0.53.1. numexpr 2.7.3. numpy 1.20.2. packaging 20.9. pandas 1.2.4. parso 0.8.2. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.18. ptyprocess 0.7.0. pycparser 2.20. pygments 2.8.1. pynndescent 0.5.2. pyparsing 2.4.7. pytz 2021.1. scanpy 1.8.2. scipy 1.6.3. seaborn 0.11.1. sinfo 0.3.1. sitecustomize NA. six 1.15.0. sklearn 0.24.2. smmap 4.0.0. statsmodels 0.12.2. storemagic NA. supirfactor ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:7476,deployability,log,logical,7476,"se KeyError(. 1322 ""Passing list-likes to .loc or [] with any missing labels "". 1323 ""is no longer supported. "". KeyError: ""Passing list-likes to .loc or [] with any missing labels is no longer supported. The following labels were missing: CategoricalIndex(['1Ery'], categories=['1Ery', '2Ery', '3Ery', '4Ery', '5Ery', '6Ery', '7MEP', '8Mk', ...], ordered=False, name='paul15_clusters', dtype='category'). See https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#deprecate-loc-reindex-listlike"". ```. #### Versions. <details>. sc.logging.print_versions(). WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.8.2. sinfo 0.3.1. -----. PIL 8.2.0. anndata 0.7.6. autoreload NA. backcall 0.2.0. cffi 1.14.5. configobj 5.0.6. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. git 3.1.14. gitdb 4.0.7. google NA. gpytorch 1.4.1. h5py 3.2.1. igraph 0.9.6. inferelator NA. ipykernel 5.5.3. ipython_genutils 0.2.0. ipywidgets 7.6.3. jedi 0.18.0. joblib 1.0.1. kiwisolver 1.3.1. leidenalg 0.8.4. llvmlite 0.36.0. matplotlib 3.4.1. mpl_toolkits NA. natsort 7.1.1. numba 0.53.1. numexpr 2.7.3. numpy 1.20.2. packaging 20.9. pandas 1.2.4. parso 0.8.2. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.18. ptyprocess 0.7.0. pycparser 2.20. pygments 2.8.1. pynndescent 0.5.2. pyparsing 2.4.7. pytz 2021.1. scanpy 1.8.2. scipy 1.6.3. seaborn 0.11.1. sinfo 0.3.1. sitecustomize NA. six 1.15.0. sklearn 0.24.2. smmap 4.0.0. statsmodels 0.12.2. storemagic NA. supirfactor NA. tables 3.6.1. texttable 1.6.3. torch 1.9.0+cu102. tornado 6.1. tqdm 4.60.0. traitlets 5.0.5. typing_extensions NA. umap 0.5.1. wcwidth 0.2.5. zmq 22.0.3. -----. IPython 7.22.0. jupyter_client 6.1.12. jupyter_core 4.7.1. notebook 6.3.0. -----. Python 3.8.5 (default, Jan 27 2021, 15:41:15) [GCC 9.3.0]. Linux-5.4.0-91-generic-x86_64-with-glibc2.29. 12 logical CPU cores, x86_64. -----. Session information updated at 2021-12-10 17:16. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:7530,deployability,updat,updated,7530,"se KeyError(. 1322 ""Passing list-likes to .loc or [] with any missing labels "". 1323 ""is no longer supported. "". KeyError: ""Passing list-likes to .loc or [] with any missing labels is no longer supported. The following labels were missing: CategoricalIndex(['1Ery'], categories=['1Ery', '2Ery', '3Ery', '4Ery', '5Ery', '6Ery', '7MEP', '8Mk', ...], ordered=False, name='paul15_clusters', dtype='category'). See https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#deprecate-loc-reindex-listlike"". ```. #### Versions. <details>. sc.logging.print_versions(). WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.8.2. sinfo 0.3.1. -----. PIL 8.2.0. anndata 0.7.6. autoreload NA. backcall 0.2.0. cffi 1.14.5. configobj 5.0.6. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. git 3.1.14. gitdb 4.0.7. google NA. gpytorch 1.4.1. h5py 3.2.1. igraph 0.9.6. inferelator NA. ipykernel 5.5.3. ipython_genutils 0.2.0. ipywidgets 7.6.3. jedi 0.18.0. joblib 1.0.1. kiwisolver 1.3.1. leidenalg 0.8.4. llvmlite 0.36.0. matplotlib 3.4.1. mpl_toolkits NA. natsort 7.1.1. numba 0.53.1. numexpr 2.7.3. numpy 1.20.2. packaging 20.9. pandas 1.2.4. parso 0.8.2. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.18. ptyprocess 0.7.0. pycparser 2.20. pygments 2.8.1. pynndescent 0.5.2. pyparsing 2.4.7. pytz 2021.1. scanpy 1.8.2. scipy 1.6.3. seaborn 0.11.1. sinfo 0.3.1. sitecustomize NA. six 1.15.0. sklearn 0.24.2. smmap 4.0.0. statsmodels 0.12.2. storemagic NA. supirfactor NA. tables 3.6.1. texttable 1.6.3. torch 1.9.0+cu102. tornado 6.1. tqdm 4.60.0. traitlets 5.0.5. typing_extensions NA. umap 0.5.1. wcwidth 0.2.5. zmq 22.0.3. -----. IPython 7.22.0. jupyter_client 6.1.12. jupyter_core 4.7.1. notebook 6.3.0. -----. Python 3.8.5 (default, Jan 27 2021, 15:41:15) [GCC 9.3.0]. Linux-5.4.0-91-generic-x86_64-with-glibc2.29. 12 logical CPU cores, x86_64. -----. Session information updated at 2021-12-10 17:16. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:4133,energy efficiency,core,core,4133,"orbar_title, size_title, figsize, dendrogram, gene_symbols, var_group_positions, var_group_labels, var_group_rotation, layer, swap_axes, dot_color_df, show, save, ax, return_fig, vmin, vmax, vcenter, norm, **kwds). 940 del kwds['color_map']. 941 . --> 942 dp = DotPlot(. 943 adata,. 944 var_names,. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_dotplot.py in __init__(self, adata, var_names, groupby, use_raw, log, num_categories, categories_order, title, figsize, gene_symbols, var_group_positions, var_group_labels, var_group_rotation, layer, expression_cutoff, mean_only_expressed, standard_scale, dot_color_df, dot_size_df, ax, vmin, vmax, vcenter, norm, **kwds). 215 # get the same order for rows and columns in the dot_color_df. 216 # using the order from the doc_size_df. --> 217 dot_color_df = dot_color_df.loc[dot_size_df.index][dot_size_df.columns]. 218 . 219 self.dot_color_df = dot_color_df. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in __getitem__(self, key). 893 . 894 maybe_callable = com.apply_if_callable(key, self.obj). --> 895 return self._getitem_axis(maybe_callable, axis=axis). 896 . 897 def _is_scalar_access(self, key: Tuple):. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _getitem_axis(self, key, axis). 1111 raise ValueError(""Cannot index with multidimensional key""). 1112 . -> 1113 return self._getitem_iterable(key, axis=axis). 1114 . 1115 # nested tuple slicing. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _getitem_iterable(self, key, axis). 1051 . 1052 # A collection of keys. -> 1053 keyarr, indexer = self._get_listlike_indexer(key, axis, raise_missing=False). 1054 return self.obj._reindex_with_indexers(. 1055 {axis: [keyarr, indexer]}, copy=True, allow_dups=True. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _get_listlike_indexer(self, key, axis, raise_missing). 1264 keyar",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:4421,energy efficiency,core,core,4421,"ar_names,. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_dotplot.py in __init__(self, adata, var_names, groupby, use_raw, log, num_categories, categories_order, title, figsize, gene_symbols, var_group_positions, var_group_labels, var_group_rotation, layer, expression_cutoff, mean_only_expressed, standard_scale, dot_color_df, dot_size_df, ax, vmin, vmax, vcenter, norm, **kwds). 215 # get the same order for rows and columns in the dot_color_df. 216 # using the order from the doc_size_df. --> 217 dot_color_df = dot_color_df.loc[dot_size_df.index][dot_size_df.columns]. 218 . 219 self.dot_color_df = dot_color_df. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in __getitem__(self, key). 893 . 894 maybe_callable = com.apply_if_callable(key, self.obj). --> 895 return self._getitem_axis(maybe_callable, axis=axis). 896 . 897 def _is_scalar_access(self, key: Tuple):. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _getitem_axis(self, key, axis). 1111 raise ValueError(""Cannot index with multidimensional key""). 1112 . -> 1113 return self._getitem_iterable(key, axis=axis). 1114 . 1115 # nested tuple slicing. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _getitem_iterable(self, key, axis). 1051 . 1052 # A collection of keys. -> 1053 keyarr, indexer = self._get_listlike_indexer(key, axis, raise_missing=False). 1054 return self.obj._reindex_with_indexers(. 1055 {axis: [keyarr, indexer]}, copy=True, allow_dups=True. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _get_listlike_indexer(self, key, axis, raise_missing). 1264 keyarr, indexer, new_indexer = ax._reindex_non_unique(keyarr). 1265 . -> 1266 self._validate_read_indexer(keyarr, indexer, axis, raise_missing=raise_missing). 1267 return keyarr, indexer. 1268 . ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _validate_rea",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:4701,energy efficiency,core,core,4701,"ayer, expression_cutoff, mean_only_expressed, standard_scale, dot_color_df, dot_size_df, ax, vmin, vmax, vcenter, norm, **kwds). 215 # get the same order for rows and columns in the dot_color_df. 216 # using the order from the doc_size_df. --> 217 dot_color_df = dot_color_df.loc[dot_size_df.index][dot_size_df.columns]. 218 . 219 self.dot_color_df = dot_color_df. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in __getitem__(self, key). 893 . 894 maybe_callable = com.apply_if_callable(key, self.obj). --> 895 return self._getitem_axis(maybe_callable, axis=axis). 896 . 897 def _is_scalar_access(self, key: Tuple):. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _getitem_axis(self, key, axis). 1111 raise ValueError(""Cannot index with multidimensional key""). 1112 . -> 1113 return self._getitem_iterable(key, axis=axis). 1114 . 1115 # nested tuple slicing. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _getitem_iterable(self, key, axis). 1051 . 1052 # A collection of keys. -> 1053 keyarr, indexer = self._get_listlike_indexer(key, axis, raise_missing=False). 1054 return self.obj._reindex_with_indexers(. 1055 {axis: [keyarr, indexer]}, copy=True, allow_dups=True. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _get_listlike_indexer(self, key, axis, raise_missing). 1264 keyarr, indexer, new_indexer = ax._reindex_non_unique(keyarr). 1265 . -> 1266 self._validate_read_indexer(keyarr, indexer, axis, raise_missing=raise_missing). 1267 return keyarr, indexer. 1268 . ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _validate_read_indexer(self, key, indexer, axis, raise_missing). 1319 . 1320 with option_context(""display.max_seq_items"", 10, ""display.width"", 80):. -> 1321 raise KeyError(. 1322 ""Passing list-likes to .loc or [] with any missing labels "". 1323 ""is no longer supported. "". KeyError: ""Passing l",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:5050,energy efficiency,core,core,5050,"= dot_color_df. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in __getitem__(self, key). 893 . 894 maybe_callable = com.apply_if_callable(key, self.obj). --> 895 return self._getitem_axis(maybe_callable, axis=axis). 896 . 897 def _is_scalar_access(self, key: Tuple):. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _getitem_axis(self, key, axis). 1111 raise ValueError(""Cannot index with multidimensional key""). 1112 . -> 1113 return self._getitem_iterable(key, axis=axis). 1114 . 1115 # nested tuple slicing. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _getitem_iterable(self, key, axis). 1051 . 1052 # A collection of keys. -> 1053 keyarr, indexer = self._get_listlike_indexer(key, axis, raise_missing=False). 1054 return self.obj._reindex_with_indexers(. 1055 {axis: [keyarr, indexer]}, copy=True, allow_dups=True. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _get_listlike_indexer(self, key, axis, raise_missing). 1264 keyarr, indexer, new_indexer = ax._reindex_non_unique(keyarr). 1265 . -> 1266 self._validate_read_indexer(keyarr, indexer, axis, raise_missing=raise_missing). 1267 return keyarr, indexer. 1268 . ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _validate_read_indexer(self, key, indexer, axis, raise_missing). 1319 . 1320 with option_context(""display.max_seq_items"", 10, ""display.width"", 80):. -> 1321 raise KeyError(. 1322 ""Passing list-likes to .loc or [] with any missing labels "". 1323 ""is no longer supported. "". KeyError: ""Passing list-likes to .loc or [] with any missing labels is no longer supported. The following labels were missing: CategoricalIndex(['1Ery'], categories=['1Ery', '2Ery', '3Ery', '4Ery', '5Ery', '6Ery', '7MEP', '8Mk', ...], ordered=False, name='paul15_clusters', dtype='category'). See https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#de",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:5390,energy efficiency,core,core,5390,"thon3.8/site-packages/pandas/core/indexing.py in _getitem_axis(self, key, axis). 1111 raise ValueError(""Cannot index with multidimensional key""). 1112 . -> 1113 return self._getitem_iterable(key, axis=axis). 1114 . 1115 # nested tuple slicing. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _getitem_iterable(self, key, axis). 1051 . 1052 # A collection of keys. -> 1053 keyarr, indexer = self._get_listlike_indexer(key, axis, raise_missing=False). 1054 return self.obj._reindex_with_indexers(. 1055 {axis: [keyarr, indexer]}, copy=True, allow_dups=True. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _get_listlike_indexer(self, key, axis, raise_missing). 1264 keyarr, indexer, new_indexer = ax._reindex_non_unique(keyarr). 1265 . -> 1266 self._validate_read_indexer(keyarr, indexer, axis, raise_missing=raise_missing). 1267 return keyarr, indexer. 1268 . ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _validate_read_indexer(self, key, indexer, axis, raise_missing). 1319 . 1320 with option_context(""display.max_seq_items"", 10, ""display.width"", 80):. -> 1321 raise KeyError(. 1322 ""Passing list-likes to .loc or [] with any missing labels "". 1323 ""is no longer supported. "". KeyError: ""Passing list-likes to .loc or [] with any missing labels is no longer supported. The following labels were missing: CategoricalIndex(['1Ery'], categories=['1Ery', '2Ery', '3Ery', '4Ery', '5Ery', '6Ery', '7MEP', '8Mk', ...], ordered=False, name='paul15_clusters', dtype='category'). See https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#deprecate-loc-reindex-listlike"". ```. #### Versions. <details>. sc.logging.print_versions(). WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.8.2. sinfo 0.3.1. -----. PIL 8.2.0. anndata 0.7.6. autoreload NA. backcall 0.2.0. cffi 1.14.5. configobj 5.0.6. cycler 0.10.0. cython_runtime NA. dateutil",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:7484,energy efficiency,CPU,CPU,7484,"se KeyError(. 1322 ""Passing list-likes to .loc or [] with any missing labels "". 1323 ""is no longer supported. "". KeyError: ""Passing list-likes to .loc or [] with any missing labels is no longer supported. The following labels were missing: CategoricalIndex(['1Ery'], categories=['1Ery', '2Ery', '3Ery', '4Ery', '5Ery', '6Ery', '7MEP', '8Mk', ...], ordered=False, name='paul15_clusters', dtype='category'). See https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#deprecate-loc-reindex-listlike"". ```. #### Versions. <details>. sc.logging.print_versions(). WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.8.2. sinfo 0.3.1. -----. PIL 8.2.0. anndata 0.7.6. autoreload NA. backcall 0.2.0. cffi 1.14.5. configobj 5.0.6. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. git 3.1.14. gitdb 4.0.7. google NA. gpytorch 1.4.1. h5py 3.2.1. igraph 0.9.6. inferelator NA. ipykernel 5.5.3. ipython_genutils 0.2.0. ipywidgets 7.6.3. jedi 0.18.0. joblib 1.0.1. kiwisolver 1.3.1. leidenalg 0.8.4. llvmlite 0.36.0. matplotlib 3.4.1. mpl_toolkits NA. natsort 7.1.1. numba 0.53.1. numexpr 2.7.3. numpy 1.20.2. packaging 20.9. pandas 1.2.4. parso 0.8.2. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.18. ptyprocess 0.7.0. pycparser 2.20. pygments 2.8.1. pynndescent 0.5.2. pyparsing 2.4.7. pytz 2021.1. scanpy 1.8.2. scipy 1.6.3. seaborn 0.11.1. sinfo 0.3.1. sitecustomize NA. six 1.15.0. sklearn 0.24.2. smmap 4.0.0. statsmodels 0.12.2. storemagic NA. supirfactor NA. tables 3.6.1. texttable 1.6.3. torch 1.9.0+cu102. tornado 6.1. tqdm 4.60.0. traitlets 5.0.5. typing_extensions NA. umap 0.5.1. wcwidth 0.2.5. zmq 22.0.3. -----. IPython 7.22.0. jupyter_client 6.1.12. jupyter_core 4.7.1. notebook 6.3.0. -----. Python 3.8.5 (default, Jan 27 2021, 15:41:15) [GCC 9.3.0]. Linux-5.4.0-91-generic-x86_64-with-glibc2.29. 12 logical CPU cores, x86_64. -----. Session information updated at 2021-12-10 17:16. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:7488,energy efficiency,core,cores,7488,"se KeyError(. 1322 ""Passing list-likes to .loc or [] with any missing labels "". 1323 ""is no longer supported. "". KeyError: ""Passing list-likes to .loc or [] with any missing labels is no longer supported. The following labels were missing: CategoricalIndex(['1Ery'], categories=['1Ery', '2Ery', '3Ery', '4Ery', '5Ery', '6Ery', '7MEP', '8Mk', ...], ordered=False, name='paul15_clusters', dtype='category'). See https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#deprecate-loc-reindex-listlike"". ```. #### Versions. <details>. sc.logging.print_versions(). WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.8.2. sinfo 0.3.1. -----. PIL 8.2.0. anndata 0.7.6. autoreload NA. backcall 0.2.0. cffi 1.14.5. configobj 5.0.6. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. git 3.1.14. gitdb 4.0.7. google NA. gpytorch 1.4.1. h5py 3.2.1. igraph 0.9.6. inferelator NA. ipykernel 5.5.3. ipython_genutils 0.2.0. ipywidgets 7.6.3. jedi 0.18.0. joblib 1.0.1. kiwisolver 1.3.1. leidenalg 0.8.4. llvmlite 0.36.0. matplotlib 3.4.1. mpl_toolkits NA. natsort 7.1.1. numba 0.53.1. numexpr 2.7.3. numpy 1.20.2. packaging 20.9. pandas 1.2.4. parso 0.8.2. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.18. ptyprocess 0.7.0. pycparser 2.20. pygments 2.8.1. pynndescent 0.5.2. pyparsing 2.4.7. pytz 2021.1. scanpy 1.8.2. scipy 1.6.3. seaborn 0.11.1. sinfo 0.3.1. sitecustomize NA. six 1.15.0. sklearn 0.24.2. smmap 4.0.0. statsmodels 0.12.2. storemagic NA. supirfactor NA. tables 3.6.1. texttable 1.6.3. torch 1.9.0+cu102. tornado 6.1. tqdm 4.60.0. traitlets 5.0.5. typing_extensions NA. umap 0.5.1. wcwidth 0.2.5. zmq 22.0.3. -----. IPython 7.22.0. jupyter_client 6.1.12. jupyter_core 4.7.1. notebook 6.3.0. -----. Python 3.8.5 (default, Jan 27 2021, 15:41:15) [GCC 9.3.0]. Linux-5.4.0-91-generic-x86_64-with-glibc2.29. 12 logical CPU cores, x86_64. -----. Session information updated at 2021-12-10 17:16. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:249,integrability,version,version,249,"rank_genes_groups_dotplot does not work when using reference and using rankby_abs, or setting; values_to_plot='logfoldchanges'; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. As the title says. A specific set of combinations of keywords to rank gene groups and plotting throws an error unexpectedly. ### Minimal code sample (that we can copy&paste without having any data). ```python. adata = sc.datasets.paul15(). sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. n_genes=3, cmap='PiYG_r', swap_axes=True,. show=False, values_to_plot='logfoldchanges',. vmin=None, vmax=None). ```. ```pytb. WARNING: In Scanpy 0.*, this returned logarithmized data. Now it returns non-logarithmized data. ... storing 'paul15_clusters' as categorical. Trying to set attribute `.uns` of view, copying. WARNING: Default of the method has been changed to 't-test' from 't-test_overestim_var'. WARNING: It seems you use rank_genes_groups on the raw count data. Please logarithmize your data before calling rank_genes_groups. ERROR: the given dot_color_df data frame has a different shape thanthe data frame used for the dot size. Both data frames needto have the same index and columns. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). <ipython-input-110-708ec3ea001f> in <module>. 1 adata = sc.datasets.paul15(). 2 sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). ----> 3 rax = sc.pl.rank_",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:6093,integrability,Version,Versions,6093," key, axis, raise_missing). 1264 keyarr, indexer, new_indexer = ax._reindex_non_unique(keyarr). 1265 . -> 1266 self._validate_read_indexer(keyarr, indexer, axis, raise_missing=raise_missing). 1267 return keyarr, indexer. 1268 . ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _validate_read_indexer(self, key, indexer, axis, raise_missing). 1319 . 1320 with option_context(""display.max_seq_items"", 10, ""display.width"", 80):. -> 1321 raise KeyError(. 1322 ""Passing list-likes to .loc or [] with any missing labels "". 1323 ""is no longer supported. "". KeyError: ""Passing list-likes to .loc or [] with any missing labels is no longer supported. The following labels were missing: CategoricalIndex(['1Ery'], categories=['1Ery', '2Ery', '3Ery', '4Ery', '5Ery', '6Ery', '7MEP', '8Mk', ...], ordered=False, name='paul15_clusters', dtype='category'). See https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#deprecate-loc-reindex-listlike"". ```. #### Versions. <details>. sc.logging.print_versions(). WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.8.2. sinfo 0.3.1. -----. PIL 8.2.0. anndata 0.7.6. autoreload NA. backcall 0.2.0. cffi 1.14.5. configobj 5.0.6. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. git 3.1.14. gitdb 4.0.7. google NA. gpytorch 1.4.1. h5py 3.2.1. igraph 0.9.6. inferelator NA. ipykernel 5.5.3. ipython_genutils 0.2.0. ipywidgets 7.6.3. jedi 0.18.0. joblib 1.0.1. kiwisolver 1.3.1. leidenalg 0.8.4. llvmlite 0.36.0. matplotlib 3.4.1. mpl_toolkits NA. natsort 7.1.1. numba 0.53.1. numexpr 2.7.3. numpy 1.20.2. packaging 20.9. pandas 1.2.4. parso 0.8.2. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.18. ptyprocess 0.7.0. pycparser 2.20. pygments 2.8.1. pynndescent 0.5.2. pyparsing 2.4.7. pytz 2021.1. scanpy 1.8.2. scipy 1.6.3. seaborn 0.11.1. sinfo 0.3.1. sitecustomize NA. six 1.15.0. sklearn 0.24.2. smmap 4.0.0. statsmodels 0.12.2. sto",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:561,interoperability,specif,specific,561,"rank_genes_groups_dotplot does not work when using reference and using rankby_abs, or setting; values_to_plot='logfoldchanges'; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. As the title says. A specific set of combinations of keywords to rank gene groups and plotting throws an error unexpectedly. ### Minimal code sample (that we can copy&paste without having any data). ```python. adata = sc.datasets.paul15(). sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. n_genes=3, cmap='PiYG_r', swap_axes=True,. show=False, values_to_plot='logfoldchanges',. vmin=None, vmax=None). ```. ```pytb. WARNING: In Scanpy 0.*, this returned logarithmized data. Now it returns non-logarithmized data. ... storing 'paul15_clusters' as categorical. Trying to set attribute `.uns` of view, copying. WARNING: Default of the method has been changed to 't-test' from 't-test_overestim_var'. WARNING: It seems you use rank_genes_groups on the raw count data. Please logarithmize your data before calling rank_genes_groups. ERROR: the given dot_color_df data frame has a different shape thanthe data frame used for the dot size. Both data frames needto have the same index and columns. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). <ipython-input-110-708ec3ea001f> in <module>. 1 adata = sc.datasets.paul15(). 2 sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). ----> 3 rax = sc.pl.rank_",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:249,modifiability,version,version,249,"rank_genes_groups_dotplot does not work when using reference and using rankby_abs, or setting; values_to_plot='logfoldchanges'; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. As the title says. A specific set of combinations of keywords to rank gene groups and plotting throws an error unexpectedly. ### Minimal code sample (that we can copy&paste without having any data). ```python. adata = sc.datasets.paul15(). sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. n_genes=3, cmap='PiYG_r', swap_axes=True,. show=False, values_to_plot='logfoldchanges',. vmin=None, vmax=None). ```. ```pytb. WARNING: In Scanpy 0.*, this returned logarithmized data. Now it returns non-logarithmized data. ... storing 'paul15_clusters' as categorical. Trying to set attribute `.uns` of view, copying. WARNING: Default of the method has been changed to 't-test' from 't-test_overestim_var'. WARNING: It seems you use rank_genes_groups on the raw count data. Please logarithmize your data before calling rank_genes_groups. ERROR: the given dot_color_df data frame has a different shape thanthe data frame used for the dot size. Both data frames needto have the same index and columns. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). <ipython-input-110-708ec3ea001f> in <module>. 1 adata = sc.datasets.paul15(). 2 sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). ----> 3 rax = sc.pl.rank_",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:1824,modifiability,modul,module,1824,"clusters', key_added='GG', use_raw=False, reference='1Ery'). rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. n_genes=3, cmap='PiYG_r', swap_axes=True,. show=False, values_to_plot='logfoldchanges',. vmin=None, vmax=None). ```. ```pytb. WARNING: In Scanpy 0.*, this returned logarithmized data. Now it returns non-logarithmized data. ... storing 'paul15_clusters' as categorical. Trying to set attribute `.uns` of view, copying. WARNING: Default of the method has been changed to 't-test' from 't-test_overestim_var'. WARNING: It seems you use rank_genes_groups on the raw count data. Please logarithmize your data before calling rank_genes_groups. ERROR: the given dot_color_df data frame has a different shape thanthe data frame used for the dot size. Both data frames needto have the same index and columns. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). <ipython-input-110-708ec3ea001f> in <module>. 1 adata = sc.datasets.paul15(). 2 sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). ----> 3 rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. 4 n_genes=3, cmap='PiYG_r', swap_axes=True,. 5 show=False, values_to_plot='logfoldchanges',. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_tools/__init__.py in rank_genes_groups_dotplot(adata, groups, n_genes, groupby, values_to_plot, var_names, gene_symbols, min_logfoldchange, key, show, save, return_fig, **kwds). 861 tl.rank_genes_groups. 862 """""". --> 863 return _rank_genes_groups_plot(. 864 adata,. 865 plot_type='dotplot',. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_tools/__init__.py in _rank_genes_groups_plot(adata, plot_type, groups, n_genes, groupby, values_to_plot, var_names, min_logfoldchange, key, show, save, return_fig, gene_symbols, **kwds). 534 from .._dotplot import dotplot. 535 . --",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:2203,modifiability,pac,packages,2203,"5_clusters' as categorical. Trying to set attribute `.uns` of view, copying. WARNING: Default of the method has been changed to 't-test' from 't-test_overestim_var'. WARNING: It seems you use rank_genes_groups on the raw count data. Please logarithmize your data before calling rank_genes_groups. ERROR: the given dot_color_df data frame has a different shape thanthe data frame used for the dot size. Both data frames needto have the same index and columns. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). <ipython-input-110-708ec3ea001f> in <module>. 1 adata = sc.datasets.paul15(). 2 sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). ----> 3 rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. 4 n_genes=3, cmap='PiYG_r', swap_axes=True,. 5 show=False, values_to_plot='logfoldchanges',. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_tools/__init__.py in rank_genes_groups_dotplot(adata, groups, n_genes, groupby, values_to_plot, var_names, gene_symbols, min_logfoldchange, key, show, save, return_fig, **kwds). 861 tl.rank_genes_groups. 862 """""". --> 863 return _rank_genes_groups_plot(. 864 adata,. 865 plot_type='dotplot',. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_tools/__init__.py in _rank_genes_groups_plot(adata, plot_type, groups, n_genes, groupby, values_to_plot, var_names, min_logfoldchange, key, show, save, return_fig, gene_symbols, **kwds). 534 from .._dotplot import dotplot. 535 . --> 536 _pl = dotplot(. 537 adata,. 538 var_names,. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_dotplot.py in dotplot(adata, var_names, groupby, use_raw, log, num_categories, expression_cutoff, mean_only_expressed, cmap, dot_max, dot_min, standard_scale, smallest_dot, title, colorbar_title, size_title, figsize, dendrogram, gene_symbols, var_group_po",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:2570,modifiability,pac,packages,2570," data frame used for the dot size. Both data frames needto have the same index and columns. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). <ipython-input-110-708ec3ea001f> in <module>. 1 adata = sc.datasets.paul15(). 2 sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). ----> 3 rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. 4 n_genes=3, cmap='PiYG_r', swap_axes=True,. 5 show=False, values_to_plot='logfoldchanges',. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_tools/__init__.py in rank_genes_groups_dotplot(adata, groups, n_genes, groupby, values_to_plot, var_names, gene_symbols, min_logfoldchange, key, show, save, return_fig, **kwds). 861 tl.rank_genes_groups. 862 """""". --> 863 return _rank_genes_groups_plot(. 864 adata,. 865 plot_type='dotplot',. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_tools/__init__.py in _rank_genes_groups_plot(adata, plot_type, groups, n_genes, groupby, values_to_plot, var_names, min_logfoldchange, key, show, save, return_fig, gene_symbols, **kwds). 534 from .._dotplot import dotplot. 535 . --> 536 _pl = dotplot(. 537 adata,. 538 var_names,. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_dotplot.py in dotplot(adata, var_names, groupby, use_raw, log, num_categories, expression_cutoff, mean_only_expressed, cmap, dot_max, dot_min, standard_scale, smallest_dot, title, colorbar_title, size_title, figsize, dendrogram, gene_symbols, var_group_positions, var_group_labels, var_group_rotation, layer, swap_axes, dot_color_df, show, save, ax, return_fig, vmin, vmax, vcenter, norm, **kwds). 940 del kwds['color_map']. 941 . --> 942 dp = DotPlot(. 943 adata,. 944 var_names,. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_dotplot.py in __init__(self, adata, var_names, groupby, use_raw, ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:2926,modifiability,pac,packages,2926,"dded='GG', use_raw=False, reference='1Ery'). ----> 3 rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. 4 n_genes=3, cmap='PiYG_r', swap_axes=True,. 5 show=False, values_to_plot='logfoldchanges',. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_tools/__init__.py in rank_genes_groups_dotplot(adata, groups, n_genes, groupby, values_to_plot, var_names, gene_symbols, min_logfoldchange, key, show, save, return_fig, **kwds). 861 tl.rank_genes_groups. 862 """""". --> 863 return _rank_genes_groups_plot(. 864 adata,. 865 plot_type='dotplot',. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_tools/__init__.py in _rank_genes_groups_plot(adata, plot_type, groups, n_genes, groupby, values_to_plot, var_names, min_logfoldchange, key, show, save, return_fig, gene_symbols, **kwds). 534 from .._dotplot import dotplot. 535 . --> 536 _pl = dotplot(. 537 adata,. 538 var_names,. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_dotplot.py in dotplot(adata, var_names, groupby, use_raw, log, num_categories, expression_cutoff, mean_only_expressed, cmap, dot_max, dot_min, standard_scale, smallest_dot, title, colorbar_title, size_title, figsize, dendrogram, gene_symbols, var_group_positions, var_group_labels, var_group_rotation, layer, swap_axes, dot_color_df, show, save, ax, return_fig, vmin, vmax, vcenter, norm, **kwds). 940 del kwds['color_map']. 941 . --> 942 dp = DotPlot(. 943 adata,. 944 var_names,. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_dotplot.py in __init__(self, adata, var_names, groupby, use_raw, log, num_categories, categories_order, title, figsize, gene_symbols, var_group_positions, var_group_labels, var_group_rotation, layer, expression_cutoff, mean_only_expressed, standard_scale, dot_color_df, dot_size_df, ax, vmin, vmax, vcenter, norm, **kwds). 215 # get the same order for rows and columns in the dot_color_df. 216 # using the order from the ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:3254,modifiability,layer,layer,3254,"nes_groups_dotplot(adata, groups, n_genes, groupby, values_to_plot, var_names, gene_symbols, min_logfoldchange, key, show, save, return_fig, **kwds). 861 tl.rank_genes_groups. 862 """""". --> 863 return _rank_genes_groups_plot(. 864 adata,. 865 plot_type='dotplot',. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_tools/__init__.py in _rank_genes_groups_plot(adata, plot_type, groups, n_genes, groupby, values_to_plot, var_names, min_logfoldchange, key, show, save, return_fig, gene_symbols, **kwds). 534 from .._dotplot import dotplot. 535 . --> 536 _pl = dotplot(. 537 adata,. 538 var_names,. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_dotplot.py in dotplot(adata, var_names, groupby, use_raw, log, num_categories, expression_cutoff, mean_only_expressed, cmap, dot_max, dot_min, standard_scale, smallest_dot, title, colorbar_title, size_title, figsize, dendrogram, gene_symbols, var_group_positions, var_group_labels, var_group_rotation, layer, swap_axes, dot_color_df, show, save, ax, return_fig, vmin, vmax, vcenter, norm, **kwds). 940 del kwds['color_map']. 941 . --> 942 dp = DotPlot(. 943 adata,. 944 var_names,. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_dotplot.py in __init__(self, adata, var_names, groupby, use_raw, log, num_categories, categories_order, title, figsize, gene_symbols, var_group_positions, var_group_labels, var_group_rotation, layer, expression_cutoff, mean_only_expressed, standard_scale, dot_color_df, dot_size_df, ax, vmin, vmax, vcenter, norm, **kwds). 215 # get the same order for rows and columns in the dot_color_df. 216 # using the order from the doc_size_df. --> 217 dot_color_df = dot_color_df.loc[dot_size_df.index][dot_size_df.columns]. 218 . 219 self.dot_color_df = dot_color_df. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in __getitem__(self, key). 893 . 894 maybe_callable = com.apply_if_callable(key, self.obj). --> 895 return ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:3483,modifiability,pac,packages,3483,"adata,. 865 plot_type='dotplot',. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_tools/__init__.py in _rank_genes_groups_plot(adata, plot_type, groups, n_genes, groupby, values_to_plot, var_names, min_logfoldchange, key, show, save, return_fig, gene_symbols, **kwds). 534 from .._dotplot import dotplot. 535 . --> 536 _pl = dotplot(. 537 adata,. 538 var_names,. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_dotplot.py in dotplot(adata, var_names, groupby, use_raw, log, num_categories, expression_cutoff, mean_only_expressed, cmap, dot_max, dot_min, standard_scale, smallest_dot, title, colorbar_title, size_title, figsize, dendrogram, gene_symbols, var_group_positions, var_group_labels, var_group_rotation, layer, swap_axes, dot_color_df, show, save, ax, return_fig, vmin, vmax, vcenter, norm, **kwds). 940 del kwds['color_map']. 941 . --> 942 dp = DotPlot(. 943 adata,. 944 var_names,. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_dotplot.py in __init__(self, adata, var_names, groupby, use_raw, log, num_categories, categories_order, title, figsize, gene_symbols, var_group_positions, var_group_labels, var_group_rotation, layer, expression_cutoff, mean_only_expressed, standard_scale, dot_color_df, dot_size_df, ax, vmin, vmax, vcenter, norm, **kwds). 215 # get the same order for rows and columns in the dot_color_df. 216 # using the order from the doc_size_df. --> 217 dot_color_df = dot_color_df.loc[dot_size_df.index][dot_size_df.columns]. 218 . 219 self.dot_color_df = dot_color_df. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in __getitem__(self, key). 893 . 894 maybe_callable = com.apply_if_callable(key, self.obj). --> 895 return self._getitem_axis(maybe_callable, axis=axis). 896 . 897 def _is_scalar_access(self, key: Tuple):. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _getitem_axis(self, key, axis). 1111 raise Val",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:3702,modifiability,layer,layer,3702,"names, min_logfoldchange, key, show, save, return_fig, gene_symbols, **kwds). 534 from .._dotplot import dotplot. 535 . --> 536 _pl = dotplot(. 537 adata,. 538 var_names,. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_dotplot.py in dotplot(adata, var_names, groupby, use_raw, log, num_categories, expression_cutoff, mean_only_expressed, cmap, dot_max, dot_min, standard_scale, smallest_dot, title, colorbar_title, size_title, figsize, dendrogram, gene_symbols, var_group_positions, var_group_labels, var_group_rotation, layer, swap_axes, dot_color_df, show, save, ax, return_fig, vmin, vmax, vcenter, norm, **kwds). 940 del kwds['color_map']. 941 . --> 942 dp = DotPlot(. 943 adata,. 944 var_names,. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_dotplot.py in __init__(self, adata, var_names, groupby, use_raw, log, num_categories, categories_order, title, figsize, gene_symbols, var_group_positions, var_group_labels, var_group_rotation, layer, expression_cutoff, mean_only_expressed, standard_scale, dot_color_df, dot_size_df, ax, vmin, vmax, vcenter, norm, **kwds). 215 # get the same order for rows and columns in the dot_color_df. 216 # using the order from the doc_size_df. --> 217 dot_color_df = dot_color_df.loc[dot_size_df.index][dot_size_df.columns]. 218 . 219 self.dot_color_df = dot_color_df. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in __getitem__(self, key). 893 . 894 maybe_callable = com.apply_if_callable(key, self.obj). --> 895 return self._getitem_axis(maybe_callable, axis=axis). 896 . 897 def _is_scalar_access(self, key: Tuple):. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _getitem_axis(self, key, axis). 1111 raise ValueError(""Cannot index with multidimensional key""). 1112 . -> 1113 return self._getitem_iterable(key, axis=axis). 1114 . 1115 # nested tuple slicing. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:4117,modifiability,pac,packages,4117,"ot, title, colorbar_title, size_title, figsize, dendrogram, gene_symbols, var_group_positions, var_group_labels, var_group_rotation, layer, swap_axes, dot_color_df, show, save, ax, return_fig, vmin, vmax, vcenter, norm, **kwds). 940 del kwds['color_map']. 941 . --> 942 dp = DotPlot(. 943 adata,. 944 var_names,. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_dotplot.py in __init__(self, adata, var_names, groupby, use_raw, log, num_categories, categories_order, title, figsize, gene_symbols, var_group_positions, var_group_labels, var_group_rotation, layer, expression_cutoff, mean_only_expressed, standard_scale, dot_color_df, dot_size_df, ax, vmin, vmax, vcenter, norm, **kwds). 215 # get the same order for rows and columns in the dot_color_df. 216 # using the order from the doc_size_df. --> 217 dot_color_df = dot_color_df.loc[dot_size_df.index][dot_size_df.columns]. 218 . 219 self.dot_color_df = dot_color_df. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in __getitem__(self, key). 893 . 894 maybe_callable = com.apply_if_callable(key, self.obj). --> 895 return self._getitem_axis(maybe_callable, axis=axis). 896 . 897 def _is_scalar_access(self, key: Tuple):. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _getitem_axis(self, key, axis). 1111 raise ValueError(""Cannot index with multidimensional key""). 1112 . -> 1113 return self._getitem_iterable(key, axis=axis). 1114 . 1115 # nested tuple slicing. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _getitem_iterable(self, key, axis). 1051 . 1052 # A collection of keys. -> 1053 keyarr, indexer = self._get_listlike_indexer(key, axis, raise_missing=False). 1054 return self.obj._reindex_with_indexers(. 1055 {axis: [keyarr, indexer]}, copy=True, allow_dups=True. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _get_listlike_indexer(self, key, axis, raise_missin",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:4405,modifiability,pac,packages,4405," adata,. 944 var_names,. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_dotplot.py in __init__(self, adata, var_names, groupby, use_raw, log, num_categories, categories_order, title, figsize, gene_symbols, var_group_positions, var_group_labels, var_group_rotation, layer, expression_cutoff, mean_only_expressed, standard_scale, dot_color_df, dot_size_df, ax, vmin, vmax, vcenter, norm, **kwds). 215 # get the same order for rows and columns in the dot_color_df. 216 # using the order from the doc_size_df. --> 217 dot_color_df = dot_color_df.loc[dot_size_df.index][dot_size_df.columns]. 218 . 219 self.dot_color_df = dot_color_df. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in __getitem__(self, key). 893 . 894 maybe_callable = com.apply_if_callable(key, self.obj). --> 895 return self._getitem_axis(maybe_callable, axis=axis). 896 . 897 def _is_scalar_access(self, key: Tuple):. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _getitem_axis(self, key, axis). 1111 raise ValueError(""Cannot index with multidimensional key""). 1112 . -> 1113 return self._getitem_iterable(key, axis=axis). 1114 . 1115 # nested tuple slicing. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _getitem_iterable(self, key, axis). 1051 . 1052 # A collection of keys. -> 1053 keyarr, indexer = self._get_listlike_indexer(key, axis, raise_missing=False). 1054 return self.obj._reindex_with_indexers(. 1055 {axis: [keyarr, indexer]}, copy=True, allow_dups=True. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _get_listlike_indexer(self, key, axis, raise_missing). 1264 keyarr, indexer, new_indexer = ax._reindex_non_unique(keyarr). 1265 . -> 1266 self._validate_read_indexer(keyarr, indexer, axis, raise_missing=raise_missing). 1267 return keyarr, indexer. 1268 . ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:4685,modifiability,pac,packages,4685,"up_rotation, layer, expression_cutoff, mean_only_expressed, standard_scale, dot_color_df, dot_size_df, ax, vmin, vmax, vcenter, norm, **kwds). 215 # get the same order for rows and columns in the dot_color_df. 216 # using the order from the doc_size_df. --> 217 dot_color_df = dot_color_df.loc[dot_size_df.index][dot_size_df.columns]. 218 . 219 self.dot_color_df = dot_color_df. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in __getitem__(self, key). 893 . 894 maybe_callable = com.apply_if_callable(key, self.obj). --> 895 return self._getitem_axis(maybe_callable, axis=axis). 896 . 897 def _is_scalar_access(self, key: Tuple):. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _getitem_axis(self, key, axis). 1111 raise ValueError(""Cannot index with multidimensional key""). 1112 . -> 1113 return self._getitem_iterable(key, axis=axis). 1114 . 1115 # nested tuple slicing. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _getitem_iterable(self, key, axis). 1051 . 1052 # A collection of keys. -> 1053 keyarr, indexer = self._get_listlike_indexer(key, axis, raise_missing=False). 1054 return self.obj._reindex_with_indexers(. 1055 {axis: [keyarr, indexer]}, copy=True, allow_dups=True. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _get_listlike_indexer(self, key, axis, raise_missing). 1264 keyarr, indexer, new_indexer = ax._reindex_non_unique(keyarr). 1265 . -> 1266 self._validate_read_indexer(keyarr, indexer, axis, raise_missing=raise_missing). 1267 return keyarr, indexer. 1268 . ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _validate_read_indexer(self, key, indexer, axis, raise_missing). 1319 . 1320 with option_context(""display.max_seq_items"", 10, ""display.width"", 80):. -> 1321 raise KeyError(. 1322 ""Passing list-likes to .loc or [] with any missing labels "". 1323 ""is no longer supported. "". KeyErr",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:5034,modifiability,pac,packages,5034,".dot_color_df = dot_color_df. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in __getitem__(self, key). 893 . 894 maybe_callable = com.apply_if_callable(key, self.obj). --> 895 return self._getitem_axis(maybe_callable, axis=axis). 896 . 897 def _is_scalar_access(self, key: Tuple):. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _getitem_axis(self, key, axis). 1111 raise ValueError(""Cannot index with multidimensional key""). 1112 . -> 1113 return self._getitem_iterable(key, axis=axis). 1114 . 1115 # nested tuple slicing. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _getitem_iterable(self, key, axis). 1051 . 1052 # A collection of keys. -> 1053 keyarr, indexer = self._get_listlike_indexer(key, axis, raise_missing=False). 1054 return self.obj._reindex_with_indexers(. 1055 {axis: [keyarr, indexer]}, copy=True, allow_dups=True. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _get_listlike_indexer(self, key, axis, raise_missing). 1264 keyarr, indexer, new_indexer = ax._reindex_non_unique(keyarr). 1265 . -> 1266 self._validate_read_indexer(keyarr, indexer, axis, raise_missing=raise_missing). 1267 return keyarr, indexer. 1268 . ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _validate_read_indexer(self, key, indexer, axis, raise_missing). 1319 . 1320 with option_context(""display.max_seq_items"", 10, ""display.width"", 80):. -> 1321 raise KeyError(. 1322 ""Passing list-likes to .loc or [] with any missing labels "". 1323 ""is no longer supported. "". KeyError: ""Passing list-likes to .loc or [] with any missing labels is no longer supported. The following labels were missing: CategoricalIndex(['1Ery'], categories=['1Ery', '2Ery', '3Ery', '4Ery', '5Ery', '6Ery', '7MEP', '8Mk', ...], ordered=False, name='paul15_clusters', dtype='category'). See https://pandas.pydata.org/pandas-docs/stable/user_guide/in",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:5374,modifiability,pac,packages,5374,"_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _getitem_axis(self, key, axis). 1111 raise ValueError(""Cannot index with multidimensional key""). 1112 . -> 1113 return self._getitem_iterable(key, axis=axis). 1114 . 1115 # nested tuple slicing. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _getitem_iterable(self, key, axis). 1051 . 1052 # A collection of keys. -> 1053 keyarr, indexer = self._get_listlike_indexer(key, axis, raise_missing=False). 1054 return self.obj._reindex_with_indexers(. 1055 {axis: [keyarr, indexer]}, copy=True, allow_dups=True. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _get_listlike_indexer(self, key, axis, raise_missing). 1264 keyarr, indexer, new_indexer = ax._reindex_non_unique(keyarr). 1265 . -> 1266 self._validate_read_indexer(keyarr, indexer, axis, raise_missing=raise_missing). 1267 return keyarr, indexer. 1268 . ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _validate_read_indexer(self, key, indexer, axis, raise_missing). 1319 . 1320 with option_context(""display.max_seq_items"", 10, ""display.width"", 80):. -> 1321 raise KeyError(. 1322 ""Passing list-likes to .loc or [] with any missing labels "". 1323 ""is no longer supported. "". KeyError: ""Passing list-likes to .loc or [] with any missing labels is no longer supported. The following labels were missing: CategoricalIndex(['1Ery'], categories=['1Ery', '2Ery', '3Ery', '4Ery', '5Ery', '6Ery', '7MEP', '8Mk', ...], ordered=False, name='paul15_clusters', dtype='category'). See https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#deprecate-loc-reindex-listlike"". ```. #### Versions. <details>. sc.logging.print_versions(). WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.8.2. sinfo 0.3.1. -----. PIL 8.2.0. anndata 0.7.6. autoreload NA. backcall 0.2.0. cffi 1.14.5. configobj 5.0.6. cycler 0.10.0. cython_runtim",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:6093,modifiability,Version,Versions,6093," key, axis, raise_missing). 1264 keyarr, indexer, new_indexer = ax._reindex_non_unique(keyarr). 1265 . -> 1266 self._validate_read_indexer(keyarr, indexer, axis, raise_missing=raise_missing). 1267 return keyarr, indexer. 1268 . ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _validate_read_indexer(self, key, indexer, axis, raise_missing). 1319 . 1320 with option_context(""display.max_seq_items"", 10, ""display.width"", 80):. -> 1321 raise KeyError(. 1322 ""Passing list-likes to .loc or [] with any missing labels "". 1323 ""is no longer supported. "". KeyError: ""Passing list-likes to .loc or [] with any missing labels is no longer supported. The following labels were missing: CategoricalIndex(['1Ery'], categories=['1Ery', '2Ery', '3Ery', '4Ery', '5Ery', '6Ery', '7MEP', '8Mk', ...], ordered=False, name='paul15_clusters', dtype='category'). See https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#deprecate-loc-reindex-listlike"". ```. #### Versions. <details>. sc.logging.print_versions(). WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.8.2. sinfo 0.3.1. -----. PIL 8.2.0. anndata 0.7.6. autoreload NA. backcall 0.2.0. cffi 1.14.5. configobj 5.0.6. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. git 3.1.14. gitdb 4.0.7. google NA. gpytorch 1.4.1. h5py 3.2.1. igraph 0.9.6. inferelator NA. ipykernel 5.5.3. ipython_genutils 0.2.0. ipywidgets 7.6.3. jedi 0.18.0. joblib 1.0.1. kiwisolver 1.3.1. leidenalg 0.8.4. llvmlite 0.36.0. matplotlib 3.4.1. mpl_toolkits NA. natsort 7.1.1. numba 0.53.1. numexpr 2.7.3. numpy 1.20.2. packaging 20.9. pandas 1.2.4. parso 0.8.2. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.18. ptyprocess 0.7.0. pycparser 2.20. pygments 2.8.1. pynndescent 0.5.2. pyparsing 2.4.7. pytz 2021.1. scanpy 1.8.2. scipy 1.6.3. seaborn 0.11.1. sinfo 0.3.1. sitecustomize NA. six 1.15.0. sklearn 0.24.2. smmap 4.0.0. statsmodels 0.12.2. sto",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:6400,modifiability,deco,decorator,6400,"y in _validate_read_indexer(self, key, indexer, axis, raise_missing). 1319 . 1320 with option_context(""display.max_seq_items"", 10, ""display.width"", 80):. -> 1321 raise KeyError(. 1322 ""Passing list-likes to .loc or [] with any missing labels "". 1323 ""is no longer supported. "". KeyError: ""Passing list-likes to .loc or [] with any missing labels is no longer supported. The following labels were missing: CategoricalIndex(['1Ery'], categories=['1Ery', '2Ery', '3Ery', '4Ery', '5Ery', '6Ery', '7MEP', '8Mk', ...], ordered=False, name='paul15_clusters', dtype='category'). See https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#deprecate-loc-reindex-listlike"". ```. #### Versions. <details>. sc.logging.print_versions(). WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.8.2. sinfo 0.3.1. -----. PIL 8.2.0. anndata 0.7.6. autoreload NA. backcall 0.2.0. cffi 1.14.5. configobj 5.0.6. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. git 3.1.14. gitdb 4.0.7. google NA. gpytorch 1.4.1. h5py 3.2.1. igraph 0.9.6. inferelator NA. ipykernel 5.5.3. ipython_genutils 0.2.0. ipywidgets 7.6.3. jedi 0.18.0. joblib 1.0.1. kiwisolver 1.3.1. leidenalg 0.8.4. llvmlite 0.36.0. matplotlib 3.4.1. mpl_toolkits NA. natsort 7.1.1. numba 0.53.1. numexpr 2.7.3. numpy 1.20.2. packaging 20.9. pandas 1.2.4. parso 0.8.2. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.18. ptyprocess 0.7.0. pycparser 2.20. pygments 2.8.1. pynndescent 0.5.2. pyparsing 2.4.7. pytz 2021.1. scanpy 1.8.2. scipy 1.6.3. seaborn 0.11.1. sinfo 0.3.1. sitecustomize NA. six 1.15.0. sklearn 0.24.2. smmap 4.0.0. statsmodels 0.12.2. storemagic NA. supirfactor NA. tables 3.6.1. texttable 1.6.3. torch 1.9.0+cu102. tornado 6.1. tqdm 4.60.0. traitlets 5.0.5. typing_extensions NA. umap 0.5.1. wcwidth 0.2.5. zmq 22.0.3. -----. IPython 7.22.0. jupyter_client 6.1.12. jupyter_core 4.7.1. notebook 6.3.0. -----. Python 3.8.5 (default, Jan 27 2021, 1",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:6742,modifiability,pac,packaging,6742,"se KeyError(. 1322 ""Passing list-likes to .loc or [] with any missing labels "". 1323 ""is no longer supported. "". KeyError: ""Passing list-likes to .loc or [] with any missing labels is no longer supported. The following labels were missing: CategoricalIndex(['1Ery'], categories=['1Ery', '2Ery', '3Ery', '4Ery', '5Ery', '6Ery', '7MEP', '8Mk', ...], ordered=False, name='paul15_clusters', dtype='category'). See https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#deprecate-loc-reindex-listlike"". ```. #### Versions. <details>. sc.logging.print_versions(). WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.8.2. sinfo 0.3.1. -----. PIL 8.2.0. anndata 0.7.6. autoreload NA. backcall 0.2.0. cffi 1.14.5. configobj 5.0.6. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. git 3.1.14. gitdb 4.0.7. google NA. gpytorch 1.4.1. h5py 3.2.1. igraph 0.9.6. inferelator NA. ipykernel 5.5.3. ipython_genutils 0.2.0. ipywidgets 7.6.3. jedi 0.18.0. joblib 1.0.1. kiwisolver 1.3.1. leidenalg 0.8.4. llvmlite 0.36.0. matplotlib 3.4.1. mpl_toolkits NA. natsort 7.1.1. numba 0.53.1. numexpr 2.7.3. numpy 1.20.2. packaging 20.9. pandas 1.2.4. parso 0.8.2. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.18. ptyprocess 0.7.0. pycparser 2.20. pygments 2.8.1. pynndescent 0.5.2. pyparsing 2.4.7. pytz 2021.1. scanpy 1.8.2. scipy 1.6.3. seaborn 0.11.1. sinfo 0.3.1. sitecustomize NA. six 1.15.0. sklearn 0.24.2. smmap 4.0.0. statsmodels 0.12.2. storemagic NA. supirfactor NA. tables 3.6.1. texttable 1.6.3. torch 1.9.0+cu102. tornado 6.1. tqdm 4.60.0. traitlets 5.0.5. typing_extensions NA. umap 0.5.1. wcwidth 0.2.5. zmq 22.0.3. -----. IPython 7.22.0. jupyter_client 6.1.12. jupyter_core 4.7.1. notebook 6.3.0. -----. Python 3.8.5 (default, Jan 27 2021, 15:41:15) [GCC 9.3.0]. Linux-5.4.0-91-generic-x86_64-with-glibc2.29. 12 logical CPU cores, x86_64. -----. Session information updated at 2021-12-10 17:16. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:645,performance,error,error,645,"rank_genes_groups_dotplot does not work when using reference and using rankby_abs, or setting; values_to_plot='logfoldchanges'; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. As the title says. A specific set of combinations of keywords to rank gene groups and plotting throws an error unexpectedly. ### Minimal code sample (that we can copy&paste without having any data). ```python. adata = sc.datasets.paul15(). sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. n_genes=3, cmap='PiYG_r', swap_axes=True,. show=False, values_to_plot='logfoldchanges',. vmin=None, vmax=None). ```. ```pytb. WARNING: In Scanpy 0.*, this returned logarithmized data. Now it returns non-logarithmized data. ... storing 'paul15_clusters' as categorical. Trying to set attribute `.uns` of view, copying. WARNING: Default of the method has been changed to 't-test' from 't-test_overestim_var'. WARNING: It seems you use rank_genes_groups on the raw count data. Please logarithmize your data before calling rank_genes_groups. ERROR: the given dot_color_df data frame has a different shape thanthe data frame used for the dot size. Both data frames needto have the same index and columns. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). <ipython-input-110-708ec3ea001f> in <module>. 1 adata = sc.datasets.paul15(). 2 sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). ----> 3 rax = sc.pl.rank_",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:1504,performance,ERROR,ERROR,1504,"on for us to reproduce your bug. As the title says. A specific set of combinations of keywords to rank gene groups and plotting throws an error unexpectedly. ### Minimal code sample (that we can copy&paste without having any data). ```python. adata = sc.datasets.paul15(). sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. n_genes=3, cmap='PiYG_r', swap_axes=True,. show=False, values_to_plot='logfoldchanges',. vmin=None, vmax=None). ```. ```pytb. WARNING: In Scanpy 0.*, this returned logarithmized data. Now it returns non-logarithmized data. ... storing 'paul15_clusters' as categorical. Trying to set attribute `.uns` of view, copying. WARNING: Default of the method has been changed to 't-test' from 't-test_overestim_var'. WARNING: It seems you use rank_genes_groups on the raw count data. Please logarithmize your data before calling rank_genes_groups. ERROR: the given dot_color_df data frame has a different shape thanthe data frame used for the dot size. Both data frames needto have the same index and columns. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). <ipython-input-110-708ec3ea001f> in <module>. 1 adata = sc.datasets.paul15(). 2 sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). ----> 3 rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. 4 n_genes=3, cmap='PiYG_r', swap_axes=True,. 5 show=False, values_to_plot='logfoldchanges',. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_tools/__init__.py in rank_genes_groups_dotplot(adata, groups, n_genes, groupby, values_to_plot, var_names, gene_symbols, min_logfoldchange, key, show, save, return_fig, **kwds). 861 tl.rank_genes_groups. 862 """""". --> 863 return _rank_genes_groups_plot(. 864 adata,. 865 plot_typ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:6064,performance,reindex,reindex-listlike,6064,"et_listlike_indexer(self, key, axis, raise_missing). 1264 keyarr, indexer, new_indexer = ax._reindex_non_unique(keyarr). 1265 . -> 1266 self._validate_read_indexer(keyarr, indexer, axis, raise_missing=raise_missing). 1267 return keyarr, indexer. 1268 . ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _validate_read_indexer(self, key, indexer, axis, raise_missing). 1319 . 1320 with option_context(""display.max_seq_items"", 10, ""display.width"", 80):. -> 1321 raise KeyError(. 1322 ""Passing list-likes to .loc or [] with any missing labels "". 1323 ""is no longer supported. "". KeyError: ""Passing list-likes to .loc or [] with any missing labels is no longer supported. The following labels were missing: CategoricalIndex(['1Ery'], categories=['1Ery', '2Ery', '3Ery', '4Ery', '5Ery', '6Ery', '7MEP', '8Mk', ...], ordered=False, name='paul15_clusters', dtype='category'). See https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#deprecate-loc-reindex-listlike"". ```. #### Versions. <details>. sc.logging.print_versions(). WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.8.2. sinfo 0.3.1. -----. PIL 8.2.0. anndata 0.7.6. autoreload NA. backcall 0.2.0. cffi 1.14.5. configobj 5.0.6. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. git 3.1.14. gitdb 4.0.7. google NA. gpytorch 1.4.1. h5py 3.2.1. igraph 0.9.6. inferelator NA. ipykernel 5.5.3. ipython_genutils 0.2.0. ipywidgets 7.6.3. jedi 0.18.0. joblib 1.0.1. kiwisolver 1.3.1. leidenalg 0.8.4. llvmlite 0.36.0. matplotlib 3.4.1. mpl_toolkits NA. natsort 7.1.1. numba 0.53.1. numexpr 2.7.3. numpy 1.20.2. packaging 20.9. pandas 1.2.4. parso 0.8.2. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.18. ptyprocess 0.7.0. pycparser 2.20. pygments 2.8.1. pynndescent 0.5.2. pyparsing 2.4.7. pytz 2021.1. scanpy 1.8.2. scipy 1.6.3. seaborn 0.11.1. sinfo 0.3.1. sitecustomize NA. six 1.15.0. sklearn 0.24.2. smmap 4.0.0",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:7484,performance,CPU,CPU,7484,"se KeyError(. 1322 ""Passing list-likes to .loc or [] with any missing labels "". 1323 ""is no longer supported. "". KeyError: ""Passing list-likes to .loc or [] with any missing labels is no longer supported. The following labels were missing: CategoricalIndex(['1Ery'], categories=['1Ery', '2Ery', '3Ery', '4Ery', '5Ery', '6Ery', '7MEP', '8Mk', ...], ordered=False, name='paul15_clusters', dtype='category'). See https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#deprecate-loc-reindex-listlike"". ```. #### Versions. <details>. sc.logging.print_versions(). WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.8.2. sinfo 0.3.1. -----. PIL 8.2.0. anndata 0.7.6. autoreload NA. backcall 0.2.0. cffi 1.14.5. configobj 5.0.6. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. git 3.1.14. gitdb 4.0.7. google NA. gpytorch 1.4.1. h5py 3.2.1. igraph 0.9.6. inferelator NA. ipykernel 5.5.3. ipython_genutils 0.2.0. ipywidgets 7.6.3. jedi 0.18.0. joblib 1.0.1. kiwisolver 1.3.1. leidenalg 0.8.4. llvmlite 0.36.0. matplotlib 3.4.1. mpl_toolkits NA. natsort 7.1.1. numba 0.53.1. numexpr 2.7.3. numpy 1.20.2. packaging 20.9. pandas 1.2.4. parso 0.8.2. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.18. ptyprocess 0.7.0. pycparser 2.20. pygments 2.8.1. pynndescent 0.5.2. pyparsing 2.4.7. pytz 2021.1. scanpy 1.8.2. scipy 1.6.3. seaborn 0.11.1. sinfo 0.3.1. sitecustomize NA. six 1.15.0. sklearn 0.24.2. smmap 4.0.0. statsmodels 0.12.2. storemagic NA. supirfactor NA. tables 3.6.1. texttable 1.6.3. torch 1.9.0+cu102. tornado 6.1. tqdm 4.60.0. traitlets 5.0.5. typing_extensions NA. umap 0.5.1. wcwidth 0.2.5. zmq 22.0.3. -----. IPython 7.22.0. jupyter_client 6.1.12. jupyter_core 4.7.1. notebook 6.3.0. -----. Python 3.8.5 (default, Jan 27 2021, 15:41:15) [GCC 9.3.0]. Linux-5.4.0-91-generic-x86_64-with-glibc2.29. 12 logical CPU cores, x86_64. -----. Session information updated at 2021-12-10 17:16. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:26,reliability,doe,does,26,"rank_genes_groups_dotplot does not work when using reference and using rankby_abs, or setting; values_to_plot='logfoldchanges'; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. As the title says. A specific set of combinations of keywords to rank gene groups and plotting throws an error unexpectedly. ### Minimal code sample (that we can copy&paste without having any data). ```python. adata = sc.datasets.paul15(). sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. n_genes=3, cmap='PiYG_r', swap_axes=True,. show=False, values_to_plot='logfoldchanges',. vmin=None, vmax=None). ```. ```pytb. WARNING: In Scanpy 0.*, this returned logarithmized data. Now it returns non-logarithmized data. ... storing 'paul15_clusters' as categorical. Trying to set attribute `.uns` of view, copying. WARNING: Default of the method has been changed to 't-test' from 't-test_overestim_var'. WARNING: It seems you use rank_genes_groups on the raw count data. Please logarithmize your data before calling rank_genes_groups. ERROR: the given dot_color_df data frame has a different shape thanthe data frame used for the dot size. Both data frames needto have the same index and columns. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). <ipython-input-110-708ec3ea001f> in <module>. 1 adata = sc.datasets.paul15(). 2 sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). ----> 3 rax = sc.pl.rank_",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:4627,reliability,sli,slicing,4627,"ne_symbols, var_group_positions, var_group_labels, var_group_rotation, layer, expression_cutoff, mean_only_expressed, standard_scale, dot_color_df, dot_size_df, ax, vmin, vmax, vcenter, norm, **kwds). 215 # get the same order for rows and columns in the dot_color_df. 216 # using the order from the doc_size_df. --> 217 dot_color_df = dot_color_df.loc[dot_size_df.index][dot_size_df.columns]. 218 . 219 self.dot_color_df = dot_color_df. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in __getitem__(self, key). 893 . 894 maybe_callable = com.apply_if_callable(key, self.obj). --> 895 return self._getitem_axis(maybe_callable, axis=axis). 896 . 897 def _is_scalar_access(self, key: Tuple):. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _getitem_axis(self, key, axis). 1111 raise ValueError(""Cannot index with multidimensional key""). 1112 . -> 1113 return self._getitem_iterable(key, axis=axis). 1114 . 1115 # nested tuple slicing. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _getitem_iterable(self, key, axis). 1051 . 1052 # A collection of keys. -> 1053 keyarr, indexer = self._get_listlike_indexer(key, axis, raise_missing=False). 1054 return self.obj._reindex_with_indexers(. 1055 {axis: [keyarr, indexer]}, copy=True, allow_dups=True. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _get_listlike_indexer(self, key, axis, raise_missing). 1264 keyarr, indexer, new_indexer = ax._reindex_non_unique(keyarr). 1265 . -> 1266 self._validate_read_indexer(keyarr, indexer, axis, raise_missing=raise_missing). 1267 return keyarr, indexer. 1268 . ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _validate_read_indexer(self, key, indexer, axis, raise_missing). 1319 . 1320 with option_context(""display.max_seq_items"", 10, ""display.width"", 80):. -> 1321 raise KeyError(. 1322 ""Passing list-likes to .loc or [] with any",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:111,safety,log,logfoldchanges,111,"rank_genes_groups_dotplot does not work when using reference and using rankby_abs, or setting; values_to_plot='logfoldchanges'; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. As the title says. A specific set of combinations of keywords to rank gene groups and plotting throws an error unexpectedly. ### Minimal code sample (that we can copy&paste without having any data). ```python. adata = sc.datasets.paul15(). sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. n_genes=3, cmap='PiYG_r', swap_axes=True,. show=False, values_to_plot='logfoldchanges',. vmin=None, vmax=None). ```. ```pytb. WARNING: In Scanpy 0.*, this returned logarithmized data. Now it returns non-logarithmized data. ... storing 'paul15_clusters' as categorical. Trying to set attribute `.uns` of view, copying. WARNING: Default of the method has been changed to 't-test' from 't-test_overestim_var'. WARNING: It seems you use rank_genes_groups on the raw count data. Please logarithmize your data before calling rank_genes_groups. ERROR: the given dot_color_df data frame has a different shape thanthe data frame used for the dot size. Both data frames needto have the same index and columns. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). <ipython-input-110-708ec3ea001f> in <module>. 1 adata = sc.datasets.paul15(). 2 sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). ----> 3 rax = sc.pl.rank_",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:645,safety,error,error,645,"rank_genes_groups_dotplot does not work when using reference and using rankby_abs, or setting; values_to_plot='logfoldchanges'; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. As the title says. A specific set of combinations of keywords to rank gene groups and plotting throws an error unexpectedly. ### Minimal code sample (that we can copy&paste without having any data). ```python. adata = sc.datasets.paul15(). sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. n_genes=3, cmap='PiYG_r', swap_axes=True,. show=False, values_to_plot='logfoldchanges',. vmin=None, vmax=None). ```. ```pytb. WARNING: In Scanpy 0.*, this returned logarithmized data. Now it returns non-logarithmized data. ... storing 'paul15_clusters' as categorical. Trying to set attribute `.uns` of view, copying. WARNING: Default of the method has been changed to 't-test' from 't-test_overestim_var'. WARNING: It seems you use rank_genes_groups on the raw count data. Please logarithmize your data before calling rank_genes_groups. ERROR: the given dot_color_df data frame has a different shape thanthe data frame used for the dot size. Both data frames needto have the same index and columns. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). <ipython-input-110-708ec3ea001f> in <module>. 1 adata = sc.datasets.paul15(). 2 sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). ----> 3 rax = sc.pl.rank_",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:1037,safety,log,logfoldchanges,1037," using reference and using rankby_abs, or setting; values_to_plot='logfoldchanges'; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. As the title says. A specific set of combinations of keywords to rank gene groups and plotting throws an error unexpectedly. ### Minimal code sample (that we can copy&paste without having any data). ```python. adata = sc.datasets.paul15(). sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. n_genes=3, cmap='PiYG_r', swap_axes=True,. show=False, values_to_plot='logfoldchanges',. vmin=None, vmax=None). ```. ```pytb. WARNING: In Scanpy 0.*, this returned logarithmized data. Now it returns non-logarithmized data. ... storing 'paul15_clusters' as categorical. Trying to set attribute `.uns` of view, copying. WARNING: Default of the method has been changed to 't-test' from 't-test_overestim_var'. WARNING: It seems you use rank_genes_groups on the raw count data. Please logarithmize your data before calling rank_genes_groups. ERROR: the given dot_color_df data frame has a different shape thanthe data frame used for the dot size. Both data frames needto have the same index and columns. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). <ipython-input-110-708ec3ea001f> in <module>. 1 adata = sc.datasets.paul15(). 2 sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). ----> 3 rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , ra",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:1130,safety,log,logarithmized,1130,"ave checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. As the title says. A specific set of combinations of keywords to rank gene groups and plotting throws an error unexpectedly. ### Minimal code sample (that we can copy&paste without having any data). ```python. adata = sc.datasets.paul15(). sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. n_genes=3, cmap='PiYG_r', swap_axes=True,. show=False, values_to_plot='logfoldchanges',. vmin=None, vmax=None). ```. ```pytb. WARNING: In Scanpy 0.*, this returned logarithmized data. Now it returns non-logarithmized data. ... storing 'paul15_clusters' as categorical. Trying to set attribute `.uns` of view, copying. WARNING: Default of the method has been changed to 't-test' from 't-test_overestim_var'. WARNING: It seems you use rank_genes_groups on the raw count data. Please logarithmize your data before calling rank_genes_groups. ERROR: the given dot_color_df data frame has a different shape thanthe data frame used for the dot size. Both data frames needto have the same index and columns. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). <ipython-input-110-708ec3ea001f> in <module>. 1 adata = sc.datasets.paul15(). 2 sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). ----> 3 rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. 4 n_genes=3, cmap='PiYG_r', swap_axes=True,. 5 show=False, values_to_plot='l",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:1169,safety,log,logarithmized,1169,"eady been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. As the title says. A specific set of combinations of keywords to rank gene groups and plotting throws an error unexpectedly. ### Minimal code sample (that we can copy&paste without having any data). ```python. adata = sc.datasets.paul15(). sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. n_genes=3, cmap='PiYG_r', swap_axes=True,. show=False, values_to_plot='logfoldchanges',. vmin=None, vmax=None). ```. ```pytb. WARNING: In Scanpy 0.*, this returned logarithmized data. Now it returns non-logarithmized data. ... storing 'paul15_clusters' as categorical. Trying to set attribute `.uns` of view, copying. WARNING: Default of the method has been changed to 't-test' from 't-test_overestim_var'. WARNING: It seems you use rank_genes_groups on the raw count data. Please logarithmize your data before calling rank_genes_groups. ERROR: the given dot_color_df data frame has a different shape thanthe data frame used for the dot size. Both data frames needto have the same index and columns. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). <ipython-input-110-708ec3ea001f> in <module>. 1 adata = sc.datasets.paul15(). 2 sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). ----> 3 rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. 4 n_genes=3, cmap='PiYG_r', swap_axes=True,. 5 show=False, values_to_plot='logfoldchanges',. ~/.virtualenvs/pytorch",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:1338,safety,test,test,1338,"f scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. As the title says. A specific set of combinations of keywords to rank gene groups and plotting throws an error unexpectedly. ### Minimal code sample (that we can copy&paste without having any data). ```python. adata = sc.datasets.paul15(). sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. n_genes=3, cmap='PiYG_r', swap_axes=True,. show=False, values_to_plot='logfoldchanges',. vmin=None, vmax=None). ```. ```pytb. WARNING: In Scanpy 0.*, this returned logarithmized data. Now it returns non-logarithmized data. ... storing 'paul15_clusters' as categorical. Trying to set attribute `.uns` of view, copying. WARNING: Default of the method has been changed to 't-test' from 't-test_overestim_var'. WARNING: It seems you use rank_genes_groups on the raw count data. Please logarithmize your data before calling rank_genes_groups. ERROR: the given dot_color_df data frame has a different shape thanthe data frame used for the dot size. Both data frames needto have the same index and columns. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). <ipython-input-110-708ec3ea001f> in <module>. 1 adata = sc.datasets.paul15(). 2 sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). ----> 3 rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. 4 n_genes=3, cmap='PiYG_r', swap_axes=True,. 5 show=False, values_to_plot='logfoldchanges',. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_tools/__init__.py in rank_genes_groups_dotplot(adata, groups, n_genes, groupby, values_to_plot, var_names, gene",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:1447,safety,log,logarithmize,1447,"orts) detailing how to provide the necessary information for us to reproduce your bug. As the title says. A specific set of combinations of keywords to rank gene groups and plotting throws an error unexpectedly. ### Minimal code sample (that we can copy&paste without having any data). ```python. adata = sc.datasets.paul15(). sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. n_genes=3, cmap='PiYG_r', swap_axes=True,. show=False, values_to_plot='logfoldchanges',. vmin=None, vmax=None). ```. ```pytb. WARNING: In Scanpy 0.*, this returned logarithmized data. Now it returns non-logarithmized data. ... storing 'paul15_clusters' as categorical. Trying to set attribute `.uns` of view, copying. WARNING: Default of the method has been changed to 't-test' from 't-test_overestim_var'. WARNING: It seems you use rank_genes_groups on the raw count data. Please logarithmize your data before calling rank_genes_groups. ERROR: the given dot_color_df data frame has a different shape thanthe data frame used for the dot size. Both data frames needto have the same index and columns. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). <ipython-input-110-708ec3ea001f> in <module>. 1 adata = sc.datasets.paul15(). 2 sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). ----> 3 rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. 4 n_genes=3, cmap='PiYG_r', swap_axes=True,. 5 show=False, values_to_plot='logfoldchanges',. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_tools/__init__.py in rank_genes_groups_dotplot(adata, groups, n_genes, groupby, values_to_plot, var_names, gene_symbols, min_logfoldchange, key, show, save, return_fig, **kwds). 861 tl.rank_genes_groups. 862 """""". --> 863 ret",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:1504,safety,ERROR,ERROR,1504,"on for us to reproduce your bug. As the title says. A specific set of combinations of keywords to rank gene groups and plotting throws an error unexpectedly. ### Minimal code sample (that we can copy&paste without having any data). ```python. adata = sc.datasets.paul15(). sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. n_genes=3, cmap='PiYG_r', swap_axes=True,. show=False, values_to_plot='logfoldchanges',. vmin=None, vmax=None). ```. ```pytb. WARNING: In Scanpy 0.*, this returned logarithmized data. Now it returns non-logarithmized data. ... storing 'paul15_clusters' as categorical. Trying to set attribute `.uns` of view, copying. WARNING: Default of the method has been changed to 't-test' from 't-test_overestim_var'. WARNING: It seems you use rank_genes_groups on the raw count data. Please logarithmize your data before calling rank_genes_groups. ERROR: the given dot_color_df data frame has a different shape thanthe data frame used for the dot size. Both data frames needto have the same index and columns. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). <ipython-input-110-708ec3ea001f> in <module>. 1 adata = sc.datasets.paul15(). 2 sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). ----> 3 rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. 4 n_genes=3, cmap='PiYG_r', swap_axes=True,. 5 show=False, values_to_plot='logfoldchanges',. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_tools/__init__.py in rank_genes_groups_dotplot(adata, groups, n_genes, groupby, values_to_plot, var_names, gene_symbols, min_logfoldchange, key, show, save, return_fig, **kwds). 861 tl.rank_genes_groups. 862 """""". --> 863 return _rank_genes_groups_plot(. 864 adata,. 865 plot_typ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:1796,safety,input,input-,1796,"oups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. n_genes=3, cmap='PiYG_r', swap_axes=True,. show=False, values_to_plot='logfoldchanges',. vmin=None, vmax=None). ```. ```pytb. WARNING: In Scanpy 0.*, this returned logarithmized data. Now it returns non-logarithmized data. ... storing 'paul15_clusters' as categorical. Trying to set attribute `.uns` of view, copying. WARNING: Default of the method has been changed to 't-test' from 't-test_overestim_var'. WARNING: It seems you use rank_genes_groups on the raw count data. Please logarithmize your data before calling rank_genes_groups. ERROR: the given dot_color_df data frame has a different shape thanthe data frame used for the dot size. Both data frames needto have the same index and columns. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). <ipython-input-110-708ec3ea001f> in <module>. 1 adata = sc.datasets.paul15(). 2 sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). ----> 3 rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. 4 n_genes=3, cmap='PiYG_r', swap_axes=True,. 5 show=False, values_to_plot='logfoldchanges',. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_tools/__init__.py in rank_genes_groups_dotplot(adata, groups, n_genes, groupby, values_to_plot, var_names, gene_symbols, min_logfoldchange, key, show, save, return_fig, **kwds). 861 tl.rank_genes_groups. 862 """""". --> 863 return _rank_genes_groups_plot(. 864 adata,. 865 plot_type='dotplot',. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_tools/__init__.py in _rank_genes_groups_plot(adata, plot_type, groups, n_genes, groupby, values_to_plot, var_names, min_logfoldchange, key, show, save, return_fig, gene_symbols, **kwds). 534 from .._dotp",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:1824,safety,modul,module,1824,"clusters', key_added='GG', use_raw=False, reference='1Ery'). rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. n_genes=3, cmap='PiYG_r', swap_axes=True,. show=False, values_to_plot='logfoldchanges',. vmin=None, vmax=None). ```. ```pytb. WARNING: In Scanpy 0.*, this returned logarithmized data. Now it returns non-logarithmized data. ... storing 'paul15_clusters' as categorical. Trying to set attribute `.uns` of view, copying. WARNING: Default of the method has been changed to 't-test' from 't-test_overestim_var'. WARNING: It seems you use rank_genes_groups on the raw count data. Please logarithmize your data before calling rank_genes_groups. ERROR: the given dot_color_df data frame has a different shape thanthe data frame used for the dot size. Both data frames needto have the same index and columns. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). <ipython-input-110-708ec3ea001f> in <module>. 1 adata = sc.datasets.paul15(). 2 sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). ----> 3 rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. 4 n_genes=3, cmap='PiYG_r', swap_axes=True,. 5 show=False, values_to_plot='logfoldchanges',. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_tools/__init__.py in rank_genes_groups_dotplot(adata, groups, n_genes, groupby, values_to_plot, var_names, gene_symbols, min_logfoldchange, key, show, save, return_fig, **kwds). 861 tl.rank_genes_groups. 862 """""". --> 863 return _rank_genes_groups_plot(. 864 adata,. 865 plot_type='dotplot',. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_tools/__init__.py in _rank_genes_groups_plot(adata, plot_type, groups, n_genes, groupby, values_to_plot, var_names, min_logfoldchange, key, show, save, return_fig, gene_symbols, **kwds). 534 from .._dotplot import dotplot. 535 . --",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:2136,safety,log,logfoldchanges,2136," data. Now it returns non-logarithmized data. ... storing 'paul15_clusters' as categorical. Trying to set attribute `.uns` of view, copying. WARNING: Default of the method has been changed to 't-test' from 't-test_overestim_var'. WARNING: It seems you use rank_genes_groups on the raw count data. Please logarithmize your data before calling rank_genes_groups. ERROR: the given dot_color_df data frame has a different shape thanthe data frame used for the dot size. Both data frames needto have the same index and columns. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). <ipython-input-110-708ec3ea001f> in <module>. 1 adata = sc.datasets.paul15(). 2 sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). ----> 3 rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. 4 n_genes=3, cmap='PiYG_r', swap_axes=True,. 5 show=False, values_to_plot='logfoldchanges',. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_tools/__init__.py in rank_genes_groups_dotplot(adata, groups, n_genes, groupby, values_to_plot, var_names, gene_symbols, min_logfoldchange, key, show, save, return_fig, **kwds). 861 tl.rank_genes_groups. 862 """""". --> 863 return _rank_genes_groups_plot(. 864 adata,. 865 plot_type='dotplot',. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_tools/__init__.py in _rank_genes_groups_plot(adata, plot_type, groups, n_genes, groupby, values_to_plot, var_names, min_logfoldchange, key, show, save, return_fig, gene_symbols, **kwds). 534 from .._dotplot import dotplot. 535 . --> 536 _pl = dotplot(. 537 adata,. 538 var_names,. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_dotplot.py in dotplot(adata, var_names, groupby, use_raw, log, num_categories, expression_cutoff, mean_only_expressed, cmap, dot_max, dot_min, standard_scale, smallest_dot, title, colorbar_ti",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:3010,safety,log,log,3010,"_dotplot(adata, key='GG', # , rankby_abs= None,. 4 n_genes=3, cmap='PiYG_r', swap_axes=True,. 5 show=False, values_to_plot='logfoldchanges',. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_tools/__init__.py in rank_genes_groups_dotplot(adata, groups, n_genes, groupby, values_to_plot, var_names, gene_symbols, min_logfoldchange, key, show, save, return_fig, **kwds). 861 tl.rank_genes_groups. 862 """""". --> 863 return _rank_genes_groups_plot(. 864 adata,. 865 plot_type='dotplot',. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_tools/__init__.py in _rank_genes_groups_plot(adata, plot_type, groups, n_genes, groupby, values_to_plot, var_names, min_logfoldchange, key, show, save, return_fig, gene_symbols, **kwds). 534 from .._dotplot import dotplot. 535 . --> 536 _pl = dotplot(. 537 adata,. 538 var_names,. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_dotplot.py in dotplot(adata, var_names, groupby, use_raw, log, num_categories, expression_cutoff, mean_only_expressed, cmap, dot_max, dot_min, standard_scale, smallest_dot, title, colorbar_title, size_title, figsize, dendrogram, gene_symbols, var_group_positions, var_group_labels, var_group_rotation, layer, swap_axes, dot_color_df, show, save, ax, return_fig, vmin, vmax, vcenter, norm, **kwds). 940 del kwds['color_map']. 941 . --> 942 dp = DotPlot(. 943 adata,. 944 var_names,. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_dotplot.py in __init__(self, adata, var_names, groupby, use_raw, log, num_categories, categories_order, title, figsize, gene_symbols, var_group_positions, var_group_labels, var_group_rotation, layer, expression_cutoff, mean_only_expressed, standard_scale, dot_color_df, dot_size_df, ax, vmin, vmax, vcenter, norm, **kwds). 215 # get the same order for rows and columns in the dot_color_df. 216 # using the order from the doc_size_df. --> 217 dot_color_df = dot_color_df.loc[dot_size_df.index][dot_size_d",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:3574,safety,log,log,3574,"es/scanpy/plotting/_tools/__init__.py in _rank_genes_groups_plot(adata, plot_type, groups, n_genes, groupby, values_to_plot, var_names, min_logfoldchange, key, show, save, return_fig, gene_symbols, **kwds). 534 from .._dotplot import dotplot. 535 . --> 536 _pl = dotplot(. 537 adata,. 538 var_names,. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_dotplot.py in dotplot(adata, var_names, groupby, use_raw, log, num_categories, expression_cutoff, mean_only_expressed, cmap, dot_max, dot_min, standard_scale, smallest_dot, title, colorbar_title, size_title, figsize, dendrogram, gene_symbols, var_group_positions, var_group_labels, var_group_rotation, layer, swap_axes, dot_color_df, show, save, ax, return_fig, vmin, vmax, vcenter, norm, **kwds). 940 del kwds['color_map']. 941 . --> 942 dp = DotPlot(. 943 adata,. 944 var_names,. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_dotplot.py in __init__(self, adata, var_names, groupby, use_raw, log, num_categories, categories_order, title, figsize, gene_symbols, var_group_positions, var_group_labels, var_group_rotation, layer, expression_cutoff, mean_only_expressed, standard_scale, dot_color_df, dot_size_df, ax, vmin, vmax, vcenter, norm, **kwds). 215 # get the same order for rows and columns in the dot_color_df. 216 # using the order from the doc_size_df. --> 217 dot_color_df = dot_color_df.loc[dot_size_df.index][dot_size_df.columns]. 218 . 219 self.dot_color_df = dot_color_df. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in __getitem__(self, key). 893 . 894 maybe_callable = com.apply_if_callable(key, self.obj). --> 895 return self._getitem_axis(maybe_callable, axis=axis). 896 . 897 def _is_scalar_access(self, key: Tuple):. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _getitem_axis(self, key, axis). 1111 raise ValueError(""Cannot index with multidimensional key""). 1112 . -> 1113 return self._getitem_it",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:6117,safety,log,logging,6117,"g). 1264 keyarr, indexer, new_indexer = ax._reindex_non_unique(keyarr). 1265 . -> 1266 self._validate_read_indexer(keyarr, indexer, axis, raise_missing=raise_missing). 1267 return keyarr, indexer. 1268 . ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _validate_read_indexer(self, key, indexer, axis, raise_missing). 1319 . 1320 with option_context(""display.max_seq_items"", 10, ""display.width"", 80):. -> 1321 raise KeyError(. 1322 ""Passing list-likes to .loc or [] with any missing labels "". 1323 ""is no longer supported. "". KeyError: ""Passing list-likes to .loc or [] with any missing labels is no longer supported. The following labels were missing: CategoricalIndex(['1Ery'], categories=['1Ery', '2Ery', '3Ery', '4Ery', '5Ery', '6Ery', '7MEP', '8Mk', ...], ordered=False, name='paul15_clusters', dtype='category'). See https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#deprecate-loc-reindex-listlike"". ```. #### Versions. <details>. sc.logging.print_versions(). WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.8.2. sinfo 0.3.1. -----. PIL 8.2.0. anndata 0.7.6. autoreload NA. backcall 0.2.0. cffi 1.14.5. configobj 5.0.6. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. git 3.1.14. gitdb 4.0.7. google NA. gpytorch 1.4.1. h5py 3.2.1. igraph 0.9.6. inferelator NA. ipykernel 5.5.3. ipython_genutils 0.2.0. ipywidgets 7.6.3. jedi 0.18.0. joblib 1.0.1. kiwisolver 1.3.1. leidenalg 0.8.4. llvmlite 0.36.0. matplotlib 3.4.1. mpl_toolkits NA. natsort 7.1.1. numba 0.53.1. numexpr 2.7.3. numpy 1.20.2. packaging 20.9. pandas 1.2.4. parso 0.8.2. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.18. ptyprocess 0.7.0. pycparser 2.20. pygments 2.8.1. pynndescent 0.5.2. pyparsing 2.4.7. pytz 2021.1. scanpy 1.8.2. scipy 1.6.3. seaborn 0.11.1. sinfo 0.3.1. sitecustomize NA. six 1.15.0. sklearn 0.24.2. smmap 4.0.0. statsmodels 0.12.2. storemagic NA. supirfactor ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:7476,safety,log,logical,7476,"se KeyError(. 1322 ""Passing list-likes to .loc or [] with any missing labels "". 1323 ""is no longer supported. "". KeyError: ""Passing list-likes to .loc or [] with any missing labels is no longer supported. The following labels were missing: CategoricalIndex(['1Ery'], categories=['1Ery', '2Ery', '3Ery', '4Ery', '5Ery', '6Ery', '7MEP', '8Mk', ...], ordered=False, name='paul15_clusters', dtype='category'). See https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#deprecate-loc-reindex-listlike"". ```. #### Versions. <details>. sc.logging.print_versions(). WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.8.2. sinfo 0.3.1. -----. PIL 8.2.0. anndata 0.7.6. autoreload NA. backcall 0.2.0. cffi 1.14.5. configobj 5.0.6. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. git 3.1.14. gitdb 4.0.7. google NA. gpytorch 1.4.1. h5py 3.2.1. igraph 0.9.6. inferelator NA. ipykernel 5.5.3. ipython_genutils 0.2.0. ipywidgets 7.6.3. jedi 0.18.0. joblib 1.0.1. kiwisolver 1.3.1. leidenalg 0.8.4. llvmlite 0.36.0. matplotlib 3.4.1. mpl_toolkits NA. natsort 7.1.1. numba 0.53.1. numexpr 2.7.3. numpy 1.20.2. packaging 20.9. pandas 1.2.4. parso 0.8.2. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.18. ptyprocess 0.7.0. pycparser 2.20. pygments 2.8.1. pynndescent 0.5.2. pyparsing 2.4.7. pytz 2021.1. scanpy 1.8.2. scipy 1.6.3. seaborn 0.11.1. sinfo 0.3.1. sitecustomize NA. six 1.15.0. sklearn 0.24.2. smmap 4.0.0. statsmodels 0.12.2. storemagic NA. supirfactor NA. tables 3.6.1. texttable 1.6.3. torch 1.9.0+cu102. tornado 6.1. tqdm 4.60.0. traitlets 5.0.5. typing_extensions NA. umap 0.5.1. wcwidth 0.2.5. zmq 22.0.3. -----. IPython 7.22.0. jupyter_client 6.1.12. jupyter_core 4.7.1. notebook 6.3.0. -----. Python 3.8.5 (default, Jan 27 2021, 15:41:15) [GCC 9.3.0]. Linux-5.4.0-91-generic-x86_64-with-glibc2.29. 12 logical CPU cores, x86_64. -----. Session information updated at 2021-12-10 17:16. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:7530,safety,updat,updated,7530,"se KeyError(. 1322 ""Passing list-likes to .loc or [] with any missing labels "". 1323 ""is no longer supported. "". KeyError: ""Passing list-likes to .loc or [] with any missing labels is no longer supported. The following labels were missing: CategoricalIndex(['1Ery'], categories=['1Ery', '2Ery', '3Ery', '4Ery', '5Ery', '6Ery', '7MEP', '8Mk', ...], ordered=False, name='paul15_clusters', dtype='category'). See https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#deprecate-loc-reindex-listlike"". ```. #### Versions. <details>. sc.logging.print_versions(). WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.8.2. sinfo 0.3.1. -----. PIL 8.2.0. anndata 0.7.6. autoreload NA. backcall 0.2.0. cffi 1.14.5. configobj 5.0.6. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. git 3.1.14. gitdb 4.0.7. google NA. gpytorch 1.4.1. h5py 3.2.1. igraph 0.9.6. inferelator NA. ipykernel 5.5.3. ipython_genutils 0.2.0. ipywidgets 7.6.3. jedi 0.18.0. joblib 1.0.1. kiwisolver 1.3.1. leidenalg 0.8.4. llvmlite 0.36.0. matplotlib 3.4.1. mpl_toolkits NA. natsort 7.1.1. numba 0.53.1. numexpr 2.7.3. numpy 1.20.2. packaging 20.9. pandas 1.2.4. parso 0.8.2. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.18. ptyprocess 0.7.0. pycparser 2.20. pygments 2.8.1. pynndescent 0.5.2. pyparsing 2.4.7. pytz 2021.1. scanpy 1.8.2. scipy 1.6.3. seaborn 0.11.1. sinfo 0.3.1. sitecustomize NA. six 1.15.0. sklearn 0.24.2. smmap 4.0.0. statsmodels 0.12.2. storemagic NA. supirfactor NA. tables 3.6.1. texttable 1.6.3. torch 1.9.0+cu102. tornado 6.1. tqdm 4.60.0. traitlets 5.0.5. typing_extensions NA. umap 0.5.1. wcwidth 0.2.5. zmq 22.0.3. -----. IPython 7.22.0. jupyter_client 6.1.12. jupyter_core 4.7.1. notebook 6.3.0. -----. Python 3.8.5 (default, Jan 27 2021, 15:41:15) [GCC 9.3.0]. Linux-5.4.0-91-generic-x86_64-with-glibc2.29. 12 logical CPU cores, x86_64. -----. Session information updated at 2021-12-10 17:16. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:111,security,log,logfoldchanges,111,"rank_genes_groups_dotplot does not work when using reference and using rankby_abs, or setting; values_to_plot='logfoldchanges'; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. As the title says. A specific set of combinations of keywords to rank gene groups and plotting throws an error unexpectedly. ### Minimal code sample (that we can copy&paste without having any data). ```python. adata = sc.datasets.paul15(). sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. n_genes=3, cmap='PiYG_r', swap_axes=True,. show=False, values_to_plot='logfoldchanges',. vmin=None, vmax=None). ```. ```pytb. WARNING: In Scanpy 0.*, this returned logarithmized data. Now it returns non-logarithmized data. ... storing 'paul15_clusters' as categorical. Trying to set attribute `.uns` of view, copying. WARNING: Default of the method has been changed to 't-test' from 't-test_overestim_var'. WARNING: It seems you use rank_genes_groups on the raw count data. Please logarithmize your data before calling rank_genes_groups. ERROR: the given dot_color_df data frame has a different shape thanthe data frame used for the dot size. Both data frames needto have the same index and columns. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). <ipython-input-110-708ec3ea001f> in <module>. 1 adata = sc.datasets.paul15(). 2 sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). ----> 3 rax = sc.pl.rank_",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:1037,security,log,logfoldchanges,1037," using reference and using rankby_abs, or setting; values_to_plot='logfoldchanges'; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. As the title says. A specific set of combinations of keywords to rank gene groups and plotting throws an error unexpectedly. ### Minimal code sample (that we can copy&paste without having any data). ```python. adata = sc.datasets.paul15(). sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. n_genes=3, cmap='PiYG_r', swap_axes=True,. show=False, values_to_plot='logfoldchanges',. vmin=None, vmax=None). ```. ```pytb. WARNING: In Scanpy 0.*, this returned logarithmized data. Now it returns non-logarithmized data. ... storing 'paul15_clusters' as categorical. Trying to set attribute `.uns` of view, copying. WARNING: Default of the method has been changed to 't-test' from 't-test_overestim_var'. WARNING: It seems you use rank_genes_groups on the raw count data. Please logarithmize your data before calling rank_genes_groups. ERROR: the given dot_color_df data frame has a different shape thanthe data frame used for the dot size. Both data frames needto have the same index and columns. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). <ipython-input-110-708ec3ea001f> in <module>. 1 adata = sc.datasets.paul15(). 2 sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). ----> 3 rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , ra",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:1130,security,log,logarithmized,1130,"ave checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. As the title says. A specific set of combinations of keywords to rank gene groups and plotting throws an error unexpectedly. ### Minimal code sample (that we can copy&paste without having any data). ```python. adata = sc.datasets.paul15(). sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. n_genes=3, cmap='PiYG_r', swap_axes=True,. show=False, values_to_plot='logfoldchanges',. vmin=None, vmax=None). ```. ```pytb. WARNING: In Scanpy 0.*, this returned logarithmized data. Now it returns non-logarithmized data. ... storing 'paul15_clusters' as categorical. Trying to set attribute `.uns` of view, copying. WARNING: Default of the method has been changed to 't-test' from 't-test_overestim_var'. WARNING: It seems you use rank_genes_groups on the raw count data. Please logarithmize your data before calling rank_genes_groups. ERROR: the given dot_color_df data frame has a different shape thanthe data frame used for the dot size. Both data frames needto have the same index and columns. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). <ipython-input-110-708ec3ea001f> in <module>. 1 adata = sc.datasets.paul15(). 2 sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). ----> 3 rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. 4 n_genes=3, cmap='PiYG_r', swap_axes=True,. 5 show=False, values_to_plot='l",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:1169,security,log,logarithmized,1169,"eady been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. As the title says. A specific set of combinations of keywords to rank gene groups and plotting throws an error unexpectedly. ### Minimal code sample (that we can copy&paste without having any data). ```python. adata = sc.datasets.paul15(). sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. n_genes=3, cmap='PiYG_r', swap_axes=True,. show=False, values_to_plot='logfoldchanges',. vmin=None, vmax=None). ```. ```pytb. WARNING: In Scanpy 0.*, this returned logarithmized data. Now it returns non-logarithmized data. ... storing 'paul15_clusters' as categorical. Trying to set attribute `.uns` of view, copying. WARNING: Default of the method has been changed to 't-test' from 't-test_overestim_var'. WARNING: It seems you use rank_genes_groups on the raw count data. Please logarithmize your data before calling rank_genes_groups. ERROR: the given dot_color_df data frame has a different shape thanthe data frame used for the dot size. Both data frames needto have the same index and columns. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). <ipython-input-110-708ec3ea001f> in <module>. 1 adata = sc.datasets.paul15(). 2 sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). ----> 3 rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. 4 n_genes=3, cmap='PiYG_r', swap_axes=True,. 5 show=False, values_to_plot='logfoldchanges',. ~/.virtualenvs/pytorch",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:1447,security,log,logarithmize,1447,"orts) detailing how to provide the necessary information for us to reproduce your bug. As the title says. A specific set of combinations of keywords to rank gene groups and plotting throws an error unexpectedly. ### Minimal code sample (that we can copy&paste without having any data). ```python. adata = sc.datasets.paul15(). sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. n_genes=3, cmap='PiYG_r', swap_axes=True,. show=False, values_to_plot='logfoldchanges',. vmin=None, vmax=None). ```. ```pytb. WARNING: In Scanpy 0.*, this returned logarithmized data. Now it returns non-logarithmized data. ... storing 'paul15_clusters' as categorical. Trying to set attribute `.uns` of view, copying. WARNING: Default of the method has been changed to 't-test' from 't-test_overestim_var'. WARNING: It seems you use rank_genes_groups on the raw count data. Please logarithmize your data before calling rank_genes_groups. ERROR: the given dot_color_df data frame has a different shape thanthe data frame used for the dot size. Both data frames needto have the same index and columns. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). <ipython-input-110-708ec3ea001f> in <module>. 1 adata = sc.datasets.paul15(). 2 sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). ----> 3 rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. 4 n_genes=3, cmap='PiYG_r', swap_axes=True,. 5 show=False, values_to_plot='logfoldchanges',. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_tools/__init__.py in rank_genes_groups_dotplot(adata, groups, n_genes, groupby, values_to_plot, var_names, gene_symbols, min_logfoldchange, key, show, save, return_fig, **kwds). 861 tl.rank_genes_groups. 862 """""". --> 863 ret",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:2136,security,log,logfoldchanges,2136," data. Now it returns non-logarithmized data. ... storing 'paul15_clusters' as categorical. Trying to set attribute `.uns` of view, copying. WARNING: Default of the method has been changed to 't-test' from 't-test_overestim_var'. WARNING: It seems you use rank_genes_groups on the raw count data. Please logarithmize your data before calling rank_genes_groups. ERROR: the given dot_color_df data frame has a different shape thanthe data frame used for the dot size. Both data frames needto have the same index and columns. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). <ipython-input-110-708ec3ea001f> in <module>. 1 adata = sc.datasets.paul15(). 2 sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). ----> 3 rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. 4 n_genes=3, cmap='PiYG_r', swap_axes=True,. 5 show=False, values_to_plot='logfoldchanges',. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_tools/__init__.py in rank_genes_groups_dotplot(adata, groups, n_genes, groupby, values_to_plot, var_names, gene_symbols, min_logfoldchange, key, show, save, return_fig, **kwds). 861 tl.rank_genes_groups. 862 """""". --> 863 return _rank_genes_groups_plot(. 864 adata,. 865 plot_type='dotplot',. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_tools/__init__.py in _rank_genes_groups_plot(adata, plot_type, groups, n_genes, groupby, values_to_plot, var_names, min_logfoldchange, key, show, save, return_fig, gene_symbols, **kwds). 534 from .._dotplot import dotplot. 535 . --> 536 _pl = dotplot(. 537 adata,. 538 var_names,. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_dotplot.py in dotplot(adata, var_names, groupby, use_raw, log, num_categories, expression_cutoff, mean_only_expressed, cmap, dot_max, dot_min, standard_scale, smallest_dot, title, colorbar_ti",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:3010,security,log,log,3010,"_dotplot(adata, key='GG', # , rankby_abs= None,. 4 n_genes=3, cmap='PiYG_r', swap_axes=True,. 5 show=False, values_to_plot='logfoldchanges',. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_tools/__init__.py in rank_genes_groups_dotplot(adata, groups, n_genes, groupby, values_to_plot, var_names, gene_symbols, min_logfoldchange, key, show, save, return_fig, **kwds). 861 tl.rank_genes_groups. 862 """""". --> 863 return _rank_genes_groups_plot(. 864 adata,. 865 plot_type='dotplot',. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_tools/__init__.py in _rank_genes_groups_plot(adata, plot_type, groups, n_genes, groupby, values_to_plot, var_names, min_logfoldchange, key, show, save, return_fig, gene_symbols, **kwds). 534 from .._dotplot import dotplot. 535 . --> 536 _pl = dotplot(. 537 adata,. 538 var_names,. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_dotplot.py in dotplot(adata, var_names, groupby, use_raw, log, num_categories, expression_cutoff, mean_only_expressed, cmap, dot_max, dot_min, standard_scale, smallest_dot, title, colorbar_title, size_title, figsize, dendrogram, gene_symbols, var_group_positions, var_group_labels, var_group_rotation, layer, swap_axes, dot_color_df, show, save, ax, return_fig, vmin, vmax, vcenter, norm, **kwds). 940 del kwds['color_map']. 941 . --> 942 dp = DotPlot(. 943 adata,. 944 var_names,. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_dotplot.py in __init__(self, adata, var_names, groupby, use_raw, log, num_categories, categories_order, title, figsize, gene_symbols, var_group_positions, var_group_labels, var_group_rotation, layer, expression_cutoff, mean_only_expressed, standard_scale, dot_color_df, dot_size_df, ax, vmin, vmax, vcenter, norm, **kwds). 215 # get the same order for rows and columns in the dot_color_df. 216 # using the order from the doc_size_df. --> 217 dot_color_df = dot_color_df.loc[dot_size_df.index][dot_size_d",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:3574,security,log,log,3574,"es/scanpy/plotting/_tools/__init__.py in _rank_genes_groups_plot(adata, plot_type, groups, n_genes, groupby, values_to_plot, var_names, min_logfoldchange, key, show, save, return_fig, gene_symbols, **kwds). 534 from .._dotplot import dotplot. 535 . --> 536 _pl = dotplot(. 537 adata,. 538 var_names,. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_dotplot.py in dotplot(adata, var_names, groupby, use_raw, log, num_categories, expression_cutoff, mean_only_expressed, cmap, dot_max, dot_min, standard_scale, smallest_dot, title, colorbar_title, size_title, figsize, dendrogram, gene_symbols, var_group_positions, var_group_labels, var_group_rotation, layer, swap_axes, dot_color_df, show, save, ax, return_fig, vmin, vmax, vcenter, norm, **kwds). 940 del kwds['color_map']. 941 . --> 942 dp = DotPlot(. 943 adata,. 944 var_names,. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_dotplot.py in __init__(self, adata, var_names, groupby, use_raw, log, num_categories, categories_order, title, figsize, gene_symbols, var_group_positions, var_group_labels, var_group_rotation, layer, expression_cutoff, mean_only_expressed, standard_scale, dot_color_df, dot_size_df, ax, vmin, vmax, vcenter, norm, **kwds). 215 # get the same order for rows and columns in the dot_color_df. 216 # using the order from the doc_size_df. --> 217 dot_color_df = dot_color_df.loc[dot_size_df.index][dot_size_df.columns]. 218 . 219 self.dot_color_df = dot_color_df. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in __getitem__(self, key). 893 . 894 maybe_callable = com.apply_if_callable(key, self.obj). --> 895 return self._getitem_axis(maybe_callable, axis=axis). 896 . 897 def _is_scalar_access(self, key: Tuple):. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _getitem_axis(self, key, axis). 1111 raise ValueError(""Cannot index with multidimensional key""). 1112 . -> 1113 return self._getitem_it",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:6117,security,log,logging,6117,"g). 1264 keyarr, indexer, new_indexer = ax._reindex_non_unique(keyarr). 1265 . -> 1266 self._validate_read_indexer(keyarr, indexer, axis, raise_missing=raise_missing). 1267 return keyarr, indexer. 1268 . ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _validate_read_indexer(self, key, indexer, axis, raise_missing). 1319 . 1320 with option_context(""display.max_seq_items"", 10, ""display.width"", 80):. -> 1321 raise KeyError(. 1322 ""Passing list-likes to .loc or [] with any missing labels "". 1323 ""is no longer supported. "". KeyError: ""Passing list-likes to .loc or [] with any missing labels is no longer supported. The following labels were missing: CategoricalIndex(['1Ery'], categories=['1Ery', '2Ery', '3Ery', '4Ery', '5Ery', '6Ery', '7MEP', '8Mk', ...], ordered=False, name='paul15_clusters', dtype='category'). See https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#deprecate-loc-reindex-listlike"". ```. #### Versions. <details>. sc.logging.print_versions(). WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.8.2. sinfo 0.3.1. -----. PIL 8.2.0. anndata 0.7.6. autoreload NA. backcall 0.2.0. cffi 1.14.5. configobj 5.0.6. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. git 3.1.14. gitdb 4.0.7. google NA. gpytorch 1.4.1. h5py 3.2.1. igraph 0.9.6. inferelator NA. ipykernel 5.5.3. ipython_genutils 0.2.0. ipywidgets 7.6.3. jedi 0.18.0. joblib 1.0.1. kiwisolver 1.3.1. leidenalg 0.8.4. llvmlite 0.36.0. matplotlib 3.4.1. mpl_toolkits NA. natsort 7.1.1. numba 0.53.1. numexpr 2.7.3. numpy 1.20.2. packaging 20.9. pandas 1.2.4. parso 0.8.2. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.18. ptyprocess 0.7.0. pycparser 2.20. pygments 2.8.1. pynndescent 0.5.2. pyparsing 2.4.7. pytz 2021.1. scanpy 1.8.2. scipy 1.6.3. seaborn 0.11.1. sinfo 0.3.1. sitecustomize NA. six 1.15.0. sklearn 0.24.2. smmap 4.0.0. statsmodels 0.12.2. storemagic NA. supirfactor ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:7476,security,log,logical,7476,"se KeyError(. 1322 ""Passing list-likes to .loc or [] with any missing labels "". 1323 ""is no longer supported. "". KeyError: ""Passing list-likes to .loc or [] with any missing labels is no longer supported. The following labels were missing: CategoricalIndex(['1Ery'], categories=['1Ery', '2Ery', '3Ery', '4Ery', '5Ery', '6Ery', '7MEP', '8Mk', ...], ordered=False, name='paul15_clusters', dtype='category'). See https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#deprecate-loc-reindex-listlike"". ```. #### Versions. <details>. sc.logging.print_versions(). WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.8.2. sinfo 0.3.1. -----. PIL 8.2.0. anndata 0.7.6. autoreload NA. backcall 0.2.0. cffi 1.14.5. configobj 5.0.6. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. git 3.1.14. gitdb 4.0.7. google NA. gpytorch 1.4.1. h5py 3.2.1. igraph 0.9.6. inferelator NA. ipykernel 5.5.3. ipython_genutils 0.2.0. ipywidgets 7.6.3. jedi 0.18.0. joblib 1.0.1. kiwisolver 1.3.1. leidenalg 0.8.4. llvmlite 0.36.0. matplotlib 3.4.1. mpl_toolkits NA. natsort 7.1.1. numba 0.53.1. numexpr 2.7.3. numpy 1.20.2. packaging 20.9. pandas 1.2.4. parso 0.8.2. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.18. ptyprocess 0.7.0. pycparser 2.20. pygments 2.8.1. pynndescent 0.5.2. pyparsing 2.4.7. pytz 2021.1. scanpy 1.8.2. scipy 1.6.3. seaborn 0.11.1. sinfo 0.3.1. sitecustomize NA. six 1.15.0. sklearn 0.24.2. smmap 4.0.0. statsmodels 0.12.2. storemagic NA. supirfactor NA. tables 3.6.1. texttable 1.6.3. torch 1.9.0+cu102. tornado 6.1. tqdm 4.60.0. traitlets 5.0.5. typing_extensions NA. umap 0.5.1. wcwidth 0.2.5. zmq 22.0.3. -----. IPython 7.22.0. jupyter_client 6.1.12. jupyter_core 4.7.1. notebook 6.3.0. -----. Python 3.8.5 (default, Jan 27 2021, 15:41:15) [GCC 9.3.0]. Linux-5.4.0-91-generic-x86_64-with-glibc2.29. 12 logical CPU cores, x86_64. -----. Session information updated at 2021-12-10 17:16. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:7510,security,Session,Session,7510,"se KeyError(. 1322 ""Passing list-likes to .loc or [] with any missing labels "". 1323 ""is no longer supported. "". KeyError: ""Passing list-likes to .loc or [] with any missing labels is no longer supported. The following labels were missing: CategoricalIndex(['1Ery'], categories=['1Ery', '2Ery', '3Ery', '4Ery', '5Ery', '6Ery', '7MEP', '8Mk', ...], ordered=False, name='paul15_clusters', dtype='category'). See https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#deprecate-loc-reindex-listlike"". ```. #### Versions. <details>. sc.logging.print_versions(). WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.8.2. sinfo 0.3.1. -----. PIL 8.2.0. anndata 0.7.6. autoreload NA. backcall 0.2.0. cffi 1.14.5. configobj 5.0.6. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. git 3.1.14. gitdb 4.0.7. google NA. gpytorch 1.4.1. h5py 3.2.1. igraph 0.9.6. inferelator NA. ipykernel 5.5.3. ipython_genutils 0.2.0. ipywidgets 7.6.3. jedi 0.18.0. joblib 1.0.1. kiwisolver 1.3.1. leidenalg 0.8.4. llvmlite 0.36.0. matplotlib 3.4.1. mpl_toolkits NA. natsort 7.1.1. numba 0.53.1. numexpr 2.7.3. numpy 1.20.2. packaging 20.9. pandas 1.2.4. parso 0.8.2. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.18. ptyprocess 0.7.0. pycparser 2.20. pygments 2.8.1. pynndescent 0.5.2. pyparsing 2.4.7. pytz 2021.1. scanpy 1.8.2. scipy 1.6.3. seaborn 0.11.1. sinfo 0.3.1. sitecustomize NA. six 1.15.0. sklearn 0.24.2. smmap 4.0.0. statsmodels 0.12.2. storemagic NA. supirfactor NA. tables 3.6.1. texttable 1.6.3. torch 1.9.0+cu102. tornado 6.1. tqdm 4.60.0. traitlets 5.0.5. typing_extensions NA. umap 0.5.1. wcwidth 0.2.5. zmq 22.0.3. -----. IPython 7.22.0. jupyter_client 6.1.12. jupyter_core 4.7.1. notebook 6.3.0. -----. Python 3.8.5 (default, Jan 27 2021, 15:41:15) [GCC 9.3.0]. Linux-5.4.0-91-generic-x86_64-with-glibc2.29. 12 logical CPU cores, x86_64. -----. Session information updated at 2021-12-10 17:16. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:7530,security,updat,updated,7530,"se KeyError(. 1322 ""Passing list-likes to .loc or [] with any missing labels "". 1323 ""is no longer supported. "". KeyError: ""Passing list-likes to .loc or [] with any missing labels is no longer supported. The following labels were missing: CategoricalIndex(['1Ery'], categories=['1Ery', '2Ery', '3Ery', '4Ery', '5Ery', '6Ery', '7MEP', '8Mk', ...], ordered=False, name='paul15_clusters', dtype='category'). See https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#deprecate-loc-reindex-listlike"". ```. #### Versions. <details>. sc.logging.print_versions(). WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.8.2. sinfo 0.3.1. -----. PIL 8.2.0. anndata 0.7.6. autoreload NA. backcall 0.2.0. cffi 1.14.5. configobj 5.0.6. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. git 3.1.14. gitdb 4.0.7. google NA. gpytorch 1.4.1. h5py 3.2.1. igraph 0.9.6. inferelator NA. ipykernel 5.5.3. ipython_genutils 0.2.0. ipywidgets 7.6.3. jedi 0.18.0. joblib 1.0.1. kiwisolver 1.3.1. leidenalg 0.8.4. llvmlite 0.36.0. matplotlib 3.4.1. mpl_toolkits NA. natsort 7.1.1. numba 0.53.1. numexpr 2.7.3. numpy 1.20.2. packaging 20.9. pandas 1.2.4. parso 0.8.2. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.18. ptyprocess 0.7.0. pycparser 2.20. pygments 2.8.1. pynndescent 0.5.2. pyparsing 2.4.7. pytz 2021.1. scanpy 1.8.2. scipy 1.6.3. seaborn 0.11.1. sinfo 0.3.1. sitecustomize NA. six 1.15.0. sklearn 0.24.2. smmap 4.0.0. statsmodels 0.12.2. storemagic NA. supirfactor NA. tables 3.6.1. texttable 1.6.3. torch 1.9.0+cu102. tornado 6.1. tqdm 4.60.0. traitlets 5.0.5. typing_extensions NA. umap 0.5.1. wcwidth 0.2.5. zmq 22.0.3. -----. IPython 7.22.0. jupyter_client 6.1.12. jupyter_core 4.7.1. notebook 6.3.0. -----. Python 3.8.5 (default, Jan 27 2021, 15:41:15) [GCC 9.3.0]. Linux-5.4.0-91-generic-x86_64-with-glibc2.29. 12 logical CPU cores, x86_64. -----. Session information updated at 2021-12-10 17:16. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:111,testability,log,logfoldchanges,111,"rank_genes_groups_dotplot does not work when using reference and using rankby_abs, or setting; values_to_plot='logfoldchanges'; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. As the title says. A specific set of combinations of keywords to rank gene groups and plotting throws an error unexpectedly. ### Minimal code sample (that we can copy&paste without having any data). ```python. adata = sc.datasets.paul15(). sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. n_genes=3, cmap='PiYG_r', swap_axes=True,. show=False, values_to_plot='logfoldchanges',. vmin=None, vmax=None). ```. ```pytb. WARNING: In Scanpy 0.*, this returned logarithmized data. Now it returns non-logarithmized data. ... storing 'paul15_clusters' as categorical. Trying to set attribute `.uns` of view, copying. WARNING: Default of the method has been changed to 't-test' from 't-test_overestim_var'. WARNING: It seems you use rank_genes_groups on the raw count data. Please logarithmize your data before calling rank_genes_groups. ERROR: the given dot_color_df data frame has a different shape thanthe data frame used for the dot size. Both data frames needto have the same index and columns. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). <ipython-input-110-708ec3ea001f> in <module>. 1 adata = sc.datasets.paul15(). 2 sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). ----> 3 rax = sc.pl.rank_",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:1037,testability,log,logfoldchanges,1037," using reference and using rankby_abs, or setting; values_to_plot='logfoldchanges'; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. As the title says. A specific set of combinations of keywords to rank gene groups and plotting throws an error unexpectedly. ### Minimal code sample (that we can copy&paste without having any data). ```python. adata = sc.datasets.paul15(). sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. n_genes=3, cmap='PiYG_r', swap_axes=True,. show=False, values_to_plot='logfoldchanges',. vmin=None, vmax=None). ```. ```pytb. WARNING: In Scanpy 0.*, this returned logarithmized data. Now it returns non-logarithmized data. ... storing 'paul15_clusters' as categorical. Trying to set attribute `.uns` of view, copying. WARNING: Default of the method has been changed to 't-test' from 't-test_overestim_var'. WARNING: It seems you use rank_genes_groups on the raw count data. Please logarithmize your data before calling rank_genes_groups. ERROR: the given dot_color_df data frame has a different shape thanthe data frame used for the dot size. Both data frames needto have the same index and columns. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). <ipython-input-110-708ec3ea001f> in <module>. 1 adata = sc.datasets.paul15(). 2 sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). ----> 3 rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , ra",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:1130,testability,log,logarithmized,1130,"ave checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. As the title says. A specific set of combinations of keywords to rank gene groups and plotting throws an error unexpectedly. ### Minimal code sample (that we can copy&paste without having any data). ```python. adata = sc.datasets.paul15(). sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. n_genes=3, cmap='PiYG_r', swap_axes=True,. show=False, values_to_plot='logfoldchanges',. vmin=None, vmax=None). ```. ```pytb. WARNING: In Scanpy 0.*, this returned logarithmized data. Now it returns non-logarithmized data. ... storing 'paul15_clusters' as categorical. Trying to set attribute `.uns` of view, copying. WARNING: Default of the method has been changed to 't-test' from 't-test_overestim_var'. WARNING: It seems you use rank_genes_groups on the raw count data. Please logarithmize your data before calling rank_genes_groups. ERROR: the given dot_color_df data frame has a different shape thanthe data frame used for the dot size. Both data frames needto have the same index and columns. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). <ipython-input-110-708ec3ea001f> in <module>. 1 adata = sc.datasets.paul15(). 2 sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). ----> 3 rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. 4 n_genes=3, cmap='PiYG_r', swap_axes=True,. 5 show=False, values_to_plot='l",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:1169,testability,log,logarithmized,1169,"eady been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. As the title says. A specific set of combinations of keywords to rank gene groups and plotting throws an error unexpectedly. ### Minimal code sample (that we can copy&paste without having any data). ```python. adata = sc.datasets.paul15(). sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. n_genes=3, cmap='PiYG_r', swap_axes=True,. show=False, values_to_plot='logfoldchanges',. vmin=None, vmax=None). ```. ```pytb. WARNING: In Scanpy 0.*, this returned logarithmized data. Now it returns non-logarithmized data. ... storing 'paul15_clusters' as categorical. Trying to set attribute `.uns` of view, copying. WARNING: Default of the method has been changed to 't-test' from 't-test_overestim_var'. WARNING: It seems you use rank_genes_groups on the raw count data. Please logarithmize your data before calling rank_genes_groups. ERROR: the given dot_color_df data frame has a different shape thanthe data frame used for the dot size. Both data frames needto have the same index and columns. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). <ipython-input-110-708ec3ea001f> in <module>. 1 adata = sc.datasets.paul15(). 2 sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). ----> 3 rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. 4 n_genes=3, cmap='PiYG_r', swap_axes=True,. 5 show=False, values_to_plot='logfoldchanges',. ~/.virtualenvs/pytorch",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:1338,testability,test,test,1338,"f scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. As the title says. A specific set of combinations of keywords to rank gene groups and plotting throws an error unexpectedly. ### Minimal code sample (that we can copy&paste without having any data). ```python. adata = sc.datasets.paul15(). sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. n_genes=3, cmap='PiYG_r', swap_axes=True,. show=False, values_to_plot='logfoldchanges',. vmin=None, vmax=None). ```. ```pytb. WARNING: In Scanpy 0.*, this returned logarithmized data. Now it returns non-logarithmized data. ... storing 'paul15_clusters' as categorical. Trying to set attribute `.uns` of view, copying. WARNING: Default of the method has been changed to 't-test' from 't-test_overestim_var'. WARNING: It seems you use rank_genes_groups on the raw count data. Please logarithmize your data before calling rank_genes_groups. ERROR: the given dot_color_df data frame has a different shape thanthe data frame used for the dot size. Both data frames needto have the same index and columns. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). <ipython-input-110-708ec3ea001f> in <module>. 1 adata = sc.datasets.paul15(). 2 sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). ----> 3 rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. 4 n_genes=3, cmap='PiYG_r', swap_axes=True,. 5 show=False, values_to_plot='logfoldchanges',. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_tools/__init__.py in rank_genes_groups_dotplot(adata, groups, n_genes, groupby, values_to_plot, var_names, gene",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:1447,testability,log,logarithmize,1447,"orts) detailing how to provide the necessary information for us to reproduce your bug. As the title says. A specific set of combinations of keywords to rank gene groups and plotting throws an error unexpectedly. ### Minimal code sample (that we can copy&paste without having any data). ```python. adata = sc.datasets.paul15(). sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. n_genes=3, cmap='PiYG_r', swap_axes=True,. show=False, values_to_plot='logfoldchanges',. vmin=None, vmax=None). ```. ```pytb. WARNING: In Scanpy 0.*, this returned logarithmized data. Now it returns non-logarithmized data. ... storing 'paul15_clusters' as categorical. Trying to set attribute `.uns` of view, copying. WARNING: Default of the method has been changed to 't-test' from 't-test_overestim_var'. WARNING: It seems you use rank_genes_groups on the raw count data. Please logarithmize your data before calling rank_genes_groups. ERROR: the given dot_color_df data frame has a different shape thanthe data frame used for the dot size. Both data frames needto have the same index and columns. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). <ipython-input-110-708ec3ea001f> in <module>. 1 adata = sc.datasets.paul15(). 2 sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). ----> 3 rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. 4 n_genes=3, cmap='PiYG_r', swap_axes=True,. 5 show=False, values_to_plot='logfoldchanges',. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_tools/__init__.py in rank_genes_groups_dotplot(adata, groups, n_genes, groupby, values_to_plot, var_names, gene_symbols, min_logfoldchange, key, show, save, return_fig, **kwds). 861 tl.rank_genes_groups. 862 """""". --> 863 ret",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:1752,testability,Trace,Traceback,1752," sc.datasets.paul15(). sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. n_genes=3, cmap='PiYG_r', swap_axes=True,. show=False, values_to_plot='logfoldchanges',. vmin=None, vmax=None). ```. ```pytb. WARNING: In Scanpy 0.*, this returned logarithmized data. Now it returns non-logarithmized data. ... storing 'paul15_clusters' as categorical. Trying to set attribute `.uns` of view, copying. WARNING: Default of the method has been changed to 't-test' from 't-test_overestim_var'. WARNING: It seems you use rank_genes_groups on the raw count data. Please logarithmize your data before calling rank_genes_groups. ERROR: the given dot_color_df data frame has a different shape thanthe data frame used for the dot size. Both data frames needto have the same index and columns. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). <ipython-input-110-708ec3ea001f> in <module>. 1 adata = sc.datasets.paul15(). 2 sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). ----> 3 rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. 4 n_genes=3, cmap='PiYG_r', swap_axes=True,. 5 show=False, values_to_plot='logfoldchanges',. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_tools/__init__.py in rank_genes_groups_dotplot(adata, groups, n_genes, groupby, values_to_plot, var_names, gene_symbols, min_logfoldchange, key, show, save, return_fig, **kwds). 861 tl.rank_genes_groups. 862 """""". --> 863 return _rank_genes_groups_plot(. 864 adata,. 865 plot_type='dotplot',. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_tools/__init__.py in _rank_genes_groups_plot(adata, plot_type, groups, n_genes, groupby, values_to_plot, var_names, min_logfoldchange, key, show, save, return_fi",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:2136,testability,log,logfoldchanges,2136," data. Now it returns non-logarithmized data. ... storing 'paul15_clusters' as categorical. Trying to set attribute `.uns` of view, copying. WARNING: Default of the method has been changed to 't-test' from 't-test_overestim_var'. WARNING: It seems you use rank_genes_groups on the raw count data. Please logarithmize your data before calling rank_genes_groups. ERROR: the given dot_color_df data frame has a different shape thanthe data frame used for the dot size. Both data frames needto have the same index and columns. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). <ipython-input-110-708ec3ea001f> in <module>. 1 adata = sc.datasets.paul15(). 2 sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). ----> 3 rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. 4 n_genes=3, cmap='PiYG_r', swap_axes=True,. 5 show=False, values_to_plot='logfoldchanges',. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_tools/__init__.py in rank_genes_groups_dotplot(adata, groups, n_genes, groupby, values_to_plot, var_names, gene_symbols, min_logfoldchange, key, show, save, return_fig, **kwds). 861 tl.rank_genes_groups. 862 """""". --> 863 return _rank_genes_groups_plot(. 864 adata,. 865 plot_type='dotplot',. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_tools/__init__.py in _rank_genes_groups_plot(adata, plot_type, groups, n_genes, groupby, values_to_plot, var_names, min_logfoldchange, key, show, save, return_fig, gene_symbols, **kwds). 534 from .._dotplot import dotplot. 535 . --> 536 _pl = dotplot(. 537 adata,. 538 var_names,. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_dotplot.py in dotplot(adata, var_names, groupby, use_raw, log, num_categories, expression_cutoff, mean_only_expressed, cmap, dot_max, dot_min, standard_scale, smallest_dot, title, colorbar_ti",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:3010,testability,log,log,3010,"_dotplot(adata, key='GG', # , rankby_abs= None,. 4 n_genes=3, cmap='PiYG_r', swap_axes=True,. 5 show=False, values_to_plot='logfoldchanges',. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_tools/__init__.py in rank_genes_groups_dotplot(adata, groups, n_genes, groupby, values_to_plot, var_names, gene_symbols, min_logfoldchange, key, show, save, return_fig, **kwds). 861 tl.rank_genes_groups. 862 """""". --> 863 return _rank_genes_groups_plot(. 864 adata,. 865 plot_type='dotplot',. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_tools/__init__.py in _rank_genes_groups_plot(adata, plot_type, groups, n_genes, groupby, values_to_plot, var_names, min_logfoldchange, key, show, save, return_fig, gene_symbols, **kwds). 534 from .._dotplot import dotplot. 535 . --> 536 _pl = dotplot(. 537 adata,. 538 var_names,. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_dotplot.py in dotplot(adata, var_names, groupby, use_raw, log, num_categories, expression_cutoff, mean_only_expressed, cmap, dot_max, dot_min, standard_scale, smallest_dot, title, colorbar_title, size_title, figsize, dendrogram, gene_symbols, var_group_positions, var_group_labels, var_group_rotation, layer, swap_axes, dot_color_df, show, save, ax, return_fig, vmin, vmax, vcenter, norm, **kwds). 940 del kwds['color_map']. 941 . --> 942 dp = DotPlot(. 943 adata,. 944 var_names,. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_dotplot.py in __init__(self, adata, var_names, groupby, use_raw, log, num_categories, categories_order, title, figsize, gene_symbols, var_group_positions, var_group_labels, var_group_rotation, layer, expression_cutoff, mean_only_expressed, standard_scale, dot_color_df, dot_size_df, ax, vmin, vmax, vcenter, norm, **kwds). 215 # get the same order for rows and columns in the dot_color_df. 216 # using the order from the doc_size_df. --> 217 dot_color_df = dot_color_df.loc[dot_size_df.index][dot_size_d",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:3574,testability,log,log,3574,"es/scanpy/plotting/_tools/__init__.py in _rank_genes_groups_plot(adata, plot_type, groups, n_genes, groupby, values_to_plot, var_names, min_logfoldchange, key, show, save, return_fig, gene_symbols, **kwds). 534 from .._dotplot import dotplot. 535 . --> 536 _pl = dotplot(. 537 adata,. 538 var_names,. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_dotplot.py in dotplot(adata, var_names, groupby, use_raw, log, num_categories, expression_cutoff, mean_only_expressed, cmap, dot_max, dot_min, standard_scale, smallest_dot, title, colorbar_title, size_title, figsize, dendrogram, gene_symbols, var_group_positions, var_group_labels, var_group_rotation, layer, swap_axes, dot_color_df, show, save, ax, return_fig, vmin, vmax, vcenter, norm, **kwds). 940 del kwds['color_map']. 941 . --> 942 dp = DotPlot(. 943 adata,. 944 var_names,. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_dotplot.py in __init__(self, adata, var_names, groupby, use_raw, log, num_categories, categories_order, title, figsize, gene_symbols, var_group_positions, var_group_labels, var_group_rotation, layer, expression_cutoff, mean_only_expressed, standard_scale, dot_color_df, dot_size_df, ax, vmin, vmax, vcenter, norm, **kwds). 215 # get the same order for rows and columns in the dot_color_df. 216 # using the order from the doc_size_df. --> 217 dot_color_df = dot_color_df.loc[dot_size_df.index][dot_size_df.columns]. 218 . 219 self.dot_color_df = dot_color_df. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in __getitem__(self, key). 893 . 894 maybe_callable = com.apply_if_callable(key, self.obj). --> 895 return self._getitem_axis(maybe_callable, axis=axis). 896 . 897 def _is_scalar_access(self, key: Tuple):. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _getitem_axis(self, key, axis). 1111 raise ValueError(""Cannot index with multidimensional key""). 1112 . -> 1113 return self._getitem_it",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:6117,testability,log,logging,6117,"g). 1264 keyarr, indexer, new_indexer = ax._reindex_non_unique(keyarr). 1265 . -> 1266 self._validate_read_indexer(keyarr, indexer, axis, raise_missing=raise_missing). 1267 return keyarr, indexer. 1268 . ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _validate_read_indexer(self, key, indexer, axis, raise_missing). 1319 . 1320 with option_context(""display.max_seq_items"", 10, ""display.width"", 80):. -> 1321 raise KeyError(. 1322 ""Passing list-likes to .loc or [] with any missing labels "". 1323 ""is no longer supported. "". KeyError: ""Passing list-likes to .loc or [] with any missing labels is no longer supported. The following labels were missing: CategoricalIndex(['1Ery'], categories=['1Ery', '2Ery', '3Ery', '4Ery', '5Ery', '6Ery', '7MEP', '8Mk', ...], ordered=False, name='paul15_clusters', dtype='category'). See https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#deprecate-loc-reindex-listlike"". ```. #### Versions. <details>. sc.logging.print_versions(). WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.8.2. sinfo 0.3.1. -----. PIL 8.2.0. anndata 0.7.6. autoreload NA. backcall 0.2.0. cffi 1.14.5. configobj 5.0.6. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. git 3.1.14. gitdb 4.0.7. google NA. gpytorch 1.4.1. h5py 3.2.1. igraph 0.9.6. inferelator NA. ipykernel 5.5.3. ipython_genutils 0.2.0. ipywidgets 7.6.3. jedi 0.18.0. joblib 1.0.1. kiwisolver 1.3.1. leidenalg 0.8.4. llvmlite 0.36.0. matplotlib 3.4.1. mpl_toolkits NA. natsort 7.1.1. numba 0.53.1. numexpr 2.7.3. numpy 1.20.2. packaging 20.9. pandas 1.2.4. parso 0.8.2. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.18. ptyprocess 0.7.0. pycparser 2.20. pygments 2.8.1. pynndescent 0.5.2. pyparsing 2.4.7. pytz 2021.1. scanpy 1.8.2. scipy 1.6.3. seaborn 0.11.1. sinfo 0.3.1. sitecustomize NA. six 1.15.0. sklearn 0.24.2. smmap 4.0.0. statsmodels 0.12.2. storemagic NA. supirfactor ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:7476,testability,log,logical,7476,"se KeyError(. 1322 ""Passing list-likes to .loc or [] with any missing labels "". 1323 ""is no longer supported. "". KeyError: ""Passing list-likes to .loc or [] with any missing labels is no longer supported. The following labels were missing: CategoricalIndex(['1Ery'], categories=['1Ery', '2Ery', '3Ery', '4Ery', '5Ery', '6Ery', '7MEP', '8Mk', ...], ordered=False, name='paul15_clusters', dtype='category'). See https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#deprecate-loc-reindex-listlike"". ```. #### Versions. <details>. sc.logging.print_versions(). WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.8.2. sinfo 0.3.1. -----. PIL 8.2.0. anndata 0.7.6. autoreload NA. backcall 0.2.0. cffi 1.14.5. configobj 5.0.6. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. git 3.1.14. gitdb 4.0.7. google NA. gpytorch 1.4.1. h5py 3.2.1. igraph 0.9.6. inferelator NA. ipykernel 5.5.3. ipython_genutils 0.2.0. ipywidgets 7.6.3. jedi 0.18.0. joblib 1.0.1. kiwisolver 1.3.1. leidenalg 0.8.4. llvmlite 0.36.0. matplotlib 3.4.1. mpl_toolkits NA. natsort 7.1.1. numba 0.53.1. numexpr 2.7.3. numpy 1.20.2. packaging 20.9. pandas 1.2.4. parso 0.8.2. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.18. ptyprocess 0.7.0. pycparser 2.20. pygments 2.8.1. pynndescent 0.5.2. pyparsing 2.4.7. pytz 2021.1. scanpy 1.8.2. scipy 1.6.3. seaborn 0.11.1. sinfo 0.3.1. sitecustomize NA. six 1.15.0. sklearn 0.24.2. smmap 4.0.0. statsmodels 0.12.2. storemagic NA. supirfactor NA. tables 3.6.1. texttable 1.6.3. torch 1.9.0+cu102. tornado 6.1. tqdm 4.60.0. traitlets 5.0.5. typing_extensions NA. umap 0.5.1. wcwidth 0.2.5. zmq 22.0.3. -----. IPython 7.22.0. jupyter_client 6.1.12. jupyter_core 4.7.1. notebook 6.3.0. -----. Python 3.8.5 (default, Jan 27 2021, 15:41:15) [GCC 9.3.0]. Linux-5.4.0-91-generic-x86_64-with-glibc2.29. 12 logical CPU cores, x86_64. -----. Session information updated at 2021-12-10 17:16. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:209,usability,confirm,confirmed,209,"rank_genes_groups_dotplot does not work when using reference and using rankby_abs, or setting; values_to_plot='logfoldchanges'; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. As the title says. A specific set of combinations of keywords to rank gene groups and plotting throws an error unexpectedly. ### Minimal code sample (that we can copy&paste without having any data). ```python. adata = sc.datasets.paul15(). sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. n_genes=3, cmap='PiYG_r', swap_axes=True,. show=False, values_to_plot='logfoldchanges',. vmin=None, vmax=None). ```. ```pytb. WARNING: In Scanpy 0.*, this returned logarithmized data. Now it returns non-logarithmized data. ... storing 'paul15_clusters' as categorical. Trying to set attribute `.uns` of view, copying. WARNING: Default of the method has been changed to 't-test' from 't-test_overestim_var'. WARNING: It seems you use rank_genes_groups on the raw count data. Please logarithmize your data before calling rank_genes_groups. ERROR: the given dot_color_df data frame has a different shape thanthe data frame used for the dot size. Both data frames needto have the same index and columns. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). <ipython-input-110-708ec3ea001f> in <module>. 1 adata = sc.datasets.paul15(). 2 sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). ----> 3 rax = sc.pl.rank_",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:292,usability,confirm,confirmed,292,"rank_genes_groups_dotplot does not work when using reference and using rankby_abs, or setting; values_to_plot='logfoldchanges'; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. As the title says. A specific set of combinations of keywords to rank gene groups and plotting throws an error unexpectedly. ### Minimal code sample (that we can copy&paste without having any data). ```python. adata = sc.datasets.paul15(). sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. n_genes=3, cmap='PiYG_r', swap_axes=True,. show=False, values_to_plot='logfoldchanges',. vmin=None, vmax=None). ```. ```pytb. WARNING: In Scanpy 0.*, this returned logarithmized data. Now it returns non-logarithmized data. ... storing 'paul15_clusters' as categorical. Trying to set attribute `.uns` of view, copying. WARNING: Default of the method has been changed to 't-test' from 't-test_overestim_var'. WARNING: It seems you use rank_genes_groups on the raw count data. Please logarithmize your data before calling rank_genes_groups. ERROR: the given dot_color_df data frame has a different shape thanthe data frame used for the dot size. Both data frames needto have the same index and columns. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). <ipython-input-110-708ec3ea001f> in <module>. 1 adata = sc.datasets.paul15(). 2 sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). ----> 3 rax = sc.pl.rank_",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:383,usability,guid,guide,383,"rank_genes_groups_dotplot does not work when using reference and using rankby_abs, or setting; values_to_plot='logfoldchanges'; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. As the title says. A specific set of combinations of keywords to rank gene groups and plotting throws an error unexpectedly. ### Minimal code sample (that we can copy&paste without having any data). ```python. adata = sc.datasets.paul15(). sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. n_genes=3, cmap='PiYG_r', swap_axes=True,. show=False, values_to_plot='logfoldchanges',. vmin=None, vmax=None). ```. ```pytb. WARNING: In Scanpy 0.*, this returned logarithmized data. Now it returns non-logarithmized data. ... storing 'paul15_clusters' as categorical. Trying to set attribute `.uns` of view, copying. WARNING: Default of the method has been changed to 't-test' from 't-test_overestim_var'. WARNING: It seems you use rank_genes_groups on the raw count data. Please logarithmize your data before calling rank_genes_groups. ERROR: the given dot_color_df data frame has a different shape thanthe data frame used for the dot size. Both data frames needto have the same index and columns. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). <ipython-input-110-708ec3ea001f> in <module>. 1 adata = sc.datasets.paul15(). 2 sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). ----> 3 rax = sc.pl.rank_",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:438,usability,minim,minimal-bug-reports,438,"rank_genes_groups_dotplot does not work when using reference and using rankby_abs, or setting; values_to_plot='logfoldchanges'; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. As the title says. A specific set of combinations of keywords to rank gene groups and plotting throws an error unexpectedly. ### Minimal code sample (that we can copy&paste without having any data). ```python. adata = sc.datasets.paul15(). sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. n_genes=3, cmap='PiYG_r', swap_axes=True,. show=False, values_to_plot='logfoldchanges',. vmin=None, vmax=None). ```. ```pytb. WARNING: In Scanpy 0.*, this returned logarithmized data. Now it returns non-logarithmized data. ... storing 'paul15_clusters' as categorical. Trying to set attribute `.uns` of view, copying. WARNING: Default of the method has been changed to 't-test' from 't-test_overestim_var'. WARNING: It seems you use rank_genes_groups on the raw count data. Please logarithmize your data before calling rank_genes_groups. ERROR: the given dot_color_df data frame has a different shape thanthe data frame used for the dot size. Both data frames needto have the same index and columns. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). <ipython-input-110-708ec3ea001f> in <module>. 1 adata = sc.datasets.paul15(). 2 sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). ----> 3 rax = sc.pl.rank_",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:645,usability,error,error,645,"rank_genes_groups_dotplot does not work when using reference and using rankby_abs, or setting; values_to_plot='logfoldchanges'; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. As the title says. A specific set of combinations of keywords to rank gene groups and plotting throws an error unexpectedly. ### Minimal code sample (that we can copy&paste without having any data). ```python. adata = sc.datasets.paul15(). sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. n_genes=3, cmap='PiYG_r', swap_axes=True,. show=False, values_to_plot='logfoldchanges',. vmin=None, vmax=None). ```. ```pytb. WARNING: In Scanpy 0.*, this returned logarithmized data. Now it returns non-logarithmized data. ... storing 'paul15_clusters' as categorical. Trying to set attribute `.uns` of view, copying. WARNING: Default of the method has been changed to 't-test' from 't-test_overestim_var'. WARNING: It seems you use rank_genes_groups on the raw count data. Please logarithmize your data before calling rank_genes_groups. ERROR: the given dot_color_df data frame has a different shape thanthe data frame used for the dot size. Both data frames needto have the same index and columns. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). <ipython-input-110-708ec3ea001f> in <module>. 1 adata = sc.datasets.paul15(). 2 sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). ----> 3 rax = sc.pl.rank_",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:669,usability,Minim,Minimal,669,"rank_genes_groups_dotplot does not work when using reference and using rankby_abs, or setting; values_to_plot='logfoldchanges'; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. As the title says. A specific set of combinations of keywords to rank gene groups and plotting throws an error unexpectedly. ### Minimal code sample (that we can copy&paste without having any data). ```python. adata = sc.datasets.paul15(). sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. n_genes=3, cmap='PiYG_r', swap_axes=True,. show=False, values_to_plot='logfoldchanges',. vmin=None, vmax=None). ```. ```pytb. WARNING: In Scanpy 0.*, this returned logarithmized data. Now it returns non-logarithmized data. ... storing 'paul15_clusters' as categorical. Trying to set attribute `.uns` of view, copying. WARNING: Default of the method has been changed to 't-test' from 't-test_overestim_var'. WARNING: It seems you use rank_genes_groups on the raw count data. Please logarithmize your data before calling rank_genes_groups. ERROR: the given dot_color_df data frame has a different shape thanthe data frame used for the dot size. Both data frames needto have the same index and columns. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). <ipython-input-110-708ec3ea001f> in <module>. 1 adata = sc.datasets.paul15(). 2 sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). ----> 3 rax = sc.pl.rank_",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:1504,usability,ERROR,ERROR,1504,"on for us to reproduce your bug. As the title says. A specific set of combinations of keywords to rank gene groups and plotting throws an error unexpectedly. ### Minimal code sample (that we can copy&paste without having any data). ```python. adata = sc.datasets.paul15(). sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. n_genes=3, cmap='PiYG_r', swap_axes=True,. show=False, values_to_plot='logfoldchanges',. vmin=None, vmax=None). ```. ```pytb. WARNING: In Scanpy 0.*, this returned logarithmized data. Now it returns non-logarithmized data. ... storing 'paul15_clusters' as categorical. Trying to set attribute `.uns` of view, copying. WARNING: Default of the method has been changed to 't-test' from 't-test_overestim_var'. WARNING: It seems you use rank_genes_groups on the raw count data. Please logarithmize your data before calling rank_genes_groups. ERROR: the given dot_color_df data frame has a different shape thanthe data frame used for the dot size. Both data frames needto have the same index and columns. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). <ipython-input-110-708ec3ea001f> in <module>. 1 adata = sc.datasets.paul15(). 2 sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). ----> 3 rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. 4 n_genes=3, cmap='PiYG_r', swap_axes=True,. 5 show=False, values_to_plot='logfoldchanges',. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_tools/__init__.py in rank_genes_groups_dotplot(adata, groups, n_genes, groupby, values_to_plot, var_names, gene_symbols, min_logfoldchange, key, show, save, return_fig, **kwds). 861 tl.rank_genes_groups. 862 """""". --> 863 return _rank_genes_groups_plot(. 864 adata,. 865 plot_typ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:1796,usability,input,input-,1796,"oups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. n_genes=3, cmap='PiYG_r', swap_axes=True,. show=False, values_to_plot='logfoldchanges',. vmin=None, vmax=None). ```. ```pytb. WARNING: In Scanpy 0.*, this returned logarithmized data. Now it returns non-logarithmized data. ... storing 'paul15_clusters' as categorical. Trying to set attribute `.uns` of view, copying. WARNING: Default of the method has been changed to 't-test' from 't-test_overestim_var'. WARNING: It seems you use rank_genes_groups on the raw count data. Please logarithmize your data before calling rank_genes_groups. ERROR: the given dot_color_df data frame has a different shape thanthe data frame used for the dot size. Both data frames needto have the same index and columns. ---------------------------------------------------------------------------. KeyError Traceback (most recent call last). <ipython-input-110-708ec3ea001f> in <module>. 1 adata = sc.datasets.paul15(). 2 sc.tl.rank_genes_groups(adata, groupby='paul15_clusters', key_added='GG', use_raw=False, reference='1Ery'). ----> 3 rax = sc.pl.rank_genes_groups_dotplot(adata, key='GG', # , rankby_abs= None,. 4 n_genes=3, cmap='PiYG_r', swap_axes=True,. 5 show=False, values_to_plot='logfoldchanges',. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_tools/__init__.py in rank_genes_groups_dotplot(adata, groups, n_genes, groupby, values_to_plot, var_names, gene_symbols, min_logfoldchange, key, show, save, return_fig, **kwds). 861 tl.rank_genes_groups. 862 """""". --> 863 return _rank_genes_groups_plot(. 864 adata,. 865 plot_type='dotplot',. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/scanpy/plotting/_tools/__init__.py in _rank_genes_groups_plot(adata, plot_type, groups, n_genes, groupby, values_to_plot, var_names, min_logfoldchange, key, show, save, return_fig, gene_symbols, **kwds). 534 from .._dotp",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:5669,usability,support,supported,5669,"on3.8/site-packages/pandas/core/indexing.py in _getitem_iterable(self, key, axis). 1051 . 1052 # A collection of keys. -> 1053 keyarr, indexer = self._get_listlike_indexer(key, axis, raise_missing=False). 1054 return self.obj._reindex_with_indexers(. 1055 {axis: [keyarr, indexer]}, copy=True, allow_dups=True. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _get_listlike_indexer(self, key, axis, raise_missing). 1264 keyarr, indexer, new_indexer = ax._reindex_non_unique(keyarr). 1265 . -> 1266 self._validate_read_indexer(keyarr, indexer, axis, raise_missing=raise_missing). 1267 return keyarr, indexer. 1268 . ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _validate_read_indexer(self, key, indexer, axis, raise_missing). 1319 . 1320 with option_context(""display.max_seq_items"", 10, ""display.width"", 80):. -> 1321 raise KeyError(. 1322 ""Passing list-likes to .loc or [] with any missing labels "". 1323 ""is no longer supported. "". KeyError: ""Passing list-likes to .loc or [] with any missing labels is no longer supported. The following labels were missing: CategoricalIndex(['1Ery'], categories=['1Ery', '2Ery', '3Ery', '4Ery', '5Ery', '6Ery', '7MEP', '8Mk', ...], ordered=False, name='paul15_clusters', dtype='category'). See https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#deprecate-loc-reindex-listlike"". ```. #### Versions. <details>. sc.logging.print_versions(). WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.8.2. sinfo 0.3.1. -----. PIL 8.2.0. anndata 0.7.6. autoreload NA. backcall 0.2.0. cffi 1.14.5. configobj 5.0.6. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. git 3.1.14. gitdb 4.0.7. google NA. gpytorch 1.4.1. h5py 3.2.1. igraph 0.9.6. inferelator NA. ipykernel 5.5.3. ipython_genutils 0.2.0. ipywidgets 7.6.3. jedi 0.18.0. joblib 1.0.1. kiwisolver 1.3.1. leidenalg 0.8.4. llvmlite 0.36.0. matplotlib 3.4.1. mpl_too",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2078:5764,usability,support,supported,5764,"# A collection of keys. -> 1053 keyarr, indexer = self._get_listlike_indexer(key, axis, raise_missing=False). 1054 return self.obj._reindex_with_indexers(. 1055 {axis: [keyarr, indexer]}, copy=True, allow_dups=True. ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _get_listlike_indexer(self, key, axis, raise_missing). 1264 keyarr, indexer, new_indexer = ax._reindex_non_unique(keyarr). 1265 . -> 1266 self._validate_read_indexer(keyarr, indexer, axis, raise_missing=raise_missing). 1267 return keyarr, indexer. 1268 . ~/.virtualenvs/pytorch_latest/lib/python3.8/site-packages/pandas/core/indexing.py in _validate_read_indexer(self, key, indexer, axis, raise_missing). 1319 . 1320 with option_context(""display.max_seq_items"", 10, ""display.width"", 80):. -> 1321 raise KeyError(. 1322 ""Passing list-likes to .loc or [] with any missing labels "". 1323 ""is no longer supported. "". KeyError: ""Passing list-likes to .loc or [] with any missing labels is no longer supported. The following labels were missing: CategoricalIndex(['1Ery'], categories=['1Ery', '2Ery', '3Ery', '4Ery', '5Ery', '6Ery', '7MEP', '8Mk', ...], ordered=False, name='paul15_clusters', dtype='category'). See https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#deprecate-loc-reindex-listlike"". ```. #### Versions. <details>. sc.logging.print_versions(). WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.6. scanpy 1.8.2. sinfo 0.3.1. -----. PIL 8.2.0. anndata 0.7.6. autoreload NA. backcall 0.2.0. cffi 1.14.5. configobj 5.0.6. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. git 3.1.14. gitdb 4.0.7. google NA. gpytorch 1.4.1. h5py 3.2.1. igraph 0.9.6. inferelator NA. ipykernel 5.5.3. ipython_genutils 0.2.0. ipywidgets 7.6.3. jedi 0.18.0. joblib 1.0.1. kiwisolver 1.3.1. leidenalg 0.8.4. llvmlite 0.36.0. matplotlib 3.4.1. mpl_toolkits NA. natsort 7.1.1. numba 0.53.1. numexpr 2.7.3. numpy 1.20.2. packaging 20.9. pandas 1.2.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2078
https://github.com/scverse/scanpy/issues/2080:248,deployability,version,version,248,"numpy.core._exceptions.MemoryError: Unable to allocate 15.9 GiB for an array with shape (180000, 23752) and data type float32; - [X] I have checked that this issue has not already been reported. - [ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I used scanpy1.7 to merge different datasets, but I got the following erros. However, I successfully used Seurat3 to merge the same datasets on the same machine. In my opinion, scanpy saves more memory than seurat. ### Minimal code sample (that we can copy&paste without having any data). ```python. df = pd.read_csv(expfile[i], sep=""\t"" ,index_col=0). geneinfo = pd.DataFrame(df.index,index=df.index,columns=['gene_index']). cellinfo = pd.DataFrame(df.columns,index=df.columns,columns=['cell_index']). adata_tmp = sc.AnnData(df.T, obs=cellinfo, var = geneinfo). sc.pp.filter_cells(adata_tmp, min_genes=mingenes). sc.pp.filter_cells(adata_tmp, min_counts=minUMIs). if maxgenes <= 1:. maxgenes_new = np.percentile(adata_tmp.obs['n_genes'], 100*maxgenes)+1. else:. maxgenes_new = maxgenes. if maxUMIs <= 1:. maxUMIs_new = np.percentile(adata_tmp.obs['n_counts'], 100*maxUMIs)+1. else:. maxUMIs_new = maxUMIs. sc.pp.filter_cells(adata_tmp, max_genes=maxgenes_new). sc.pp.filter_cells(adata_tmp, max_counts=maxUMIs_new). sc.pp.filter_genes(adata_tmp, min_cells=mincells). adata_tmp.obs['sample'] = ugname[i]. adata = sc.concat([adata,adata_tmp],join='outer'). ```. ```pytb. filtered out 5508 genes that are detected in less than 5 cells. filtered out 5905 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them u",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:1652,deployability,Observ,Observation,1652," pd.read_csv(expfile[i], sep=""\t"" ,index_col=0). geneinfo = pd.DataFrame(df.index,index=df.index,columns=['gene_index']). cellinfo = pd.DataFrame(df.columns,index=df.columns,columns=['cell_index']). adata_tmp = sc.AnnData(df.T, obs=cellinfo, var = geneinfo). sc.pp.filter_cells(adata_tmp, min_genes=mingenes). sc.pp.filter_cells(adata_tmp, min_counts=minUMIs). if maxgenes <= 1:. maxgenes_new = np.percentile(adata_tmp.obs['n_genes'], 100*maxgenes)+1. else:. maxgenes_new = maxgenes. if maxUMIs <= 1:. maxUMIs_new = np.percentile(adata_tmp.obs['n_counts'], 100*maxUMIs)+1. else:. maxUMIs_new = maxUMIs. sc.pp.filter_cells(adata_tmp, max_genes=maxgenes_new). sc.pp.filter_cells(adata_tmp, max_counts=maxUMIs_new). sc.pp.filter_genes(adata_tmp, min_cells=mincells). adata_tmp.obs['sample'] = ugname[i]. adata = sc.concat([adata,adata_tmp],join='outer'). ```. ```pytb. filtered out 5508 genes that are detected in less than 5 cells. filtered out 5905 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7136 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 ge",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:1802,deployability,Observ,Observation,1802,"olumns,index=df.columns,columns=['cell_index']). adata_tmp = sc.AnnData(df.T, obs=cellinfo, var = geneinfo). sc.pp.filter_cells(adata_tmp, min_genes=mingenes). sc.pp.filter_cells(adata_tmp, min_counts=minUMIs). if maxgenes <= 1:. maxgenes_new = np.percentile(adata_tmp.obs['n_genes'], 100*maxgenes)+1. else:. maxgenes_new = maxgenes. if maxUMIs <= 1:. maxUMIs_new = np.percentile(adata_tmp.obs['n_counts'], 100*maxUMIs)+1. else:. maxUMIs_new = maxUMIs. sc.pp.filter_cells(adata_tmp, max_genes=maxgenes_new). sc.pp.filter_cells(adata_tmp, max_counts=maxUMIs_new). sc.pp.filter_genes(adata_tmp, min_cells=mincells). adata_tmp.obs['sample'] = ugname[i]. adata = sc.concat([adata,adata_tmp],join='outer'). ```. ```pytb. filtered out 5508 genes that are detected in less than 5 cells. filtered out 5905 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7136 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 ge",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:1952,deployability,Observ,Observation,1952,"ingenes). sc.pp.filter_cells(adata_tmp, min_counts=minUMIs). if maxgenes <= 1:. maxgenes_new = np.percentile(adata_tmp.obs['n_genes'], 100*maxgenes)+1. else:. maxgenes_new = maxgenes. if maxUMIs <= 1:. maxUMIs_new = np.percentile(adata_tmp.obs['n_counts'], 100*maxUMIs)+1. else:. maxUMIs_new = maxUMIs. sc.pp.filter_cells(adata_tmp, max_genes=maxgenes_new). sc.pp.filter_cells(adata_tmp, max_counts=maxUMIs_new). sc.pp.filter_genes(adata_tmp, min_cells=mincells). adata_tmp.obs['sample'] = ugname[i]. adata = sc.concat([adata,adata_tmp],join='outer'). ```. ```pytb. filtered out 5508 genes that are detected in less than 5 cells. filtered out 5905 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7136 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 ge",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:2102,deployability,Observ,Observation,2102,". else:. maxgenes_new = maxgenes. if maxUMIs <= 1:. maxUMIs_new = np.percentile(adata_tmp.obs['n_counts'], 100*maxUMIs)+1. else:. maxUMIs_new = maxUMIs. sc.pp.filter_cells(adata_tmp, max_genes=maxgenes_new). sc.pp.filter_cells(adata_tmp, max_counts=maxUMIs_new). sc.pp.filter_genes(adata_tmp, min_cells=mincells). adata_tmp.obs['sample'] = ugname[i]. adata = sc.concat([adata,adata_tmp],join='outer'). ```. ```pytb. filtered out 5508 genes that are detected in less than 5 cells. filtered out 5905 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7136 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 ge",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:2252,deployability,Observ,Observation,2252,"s. sc.pp.filter_cells(adata_tmp, max_genes=maxgenes_new). sc.pp.filter_cells(adata_tmp, max_counts=maxUMIs_new). sc.pp.filter_genes(adata_tmp, min_cells=mincells). adata_tmp.obs['sample'] = ugname[i]. adata = sc.concat([adata,adata_tmp],join='outer'). ```. ```pytb. filtered out 5508 genes that are detected in less than 5 cells. filtered out 5905 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7136 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 ge",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:2402,deployability,Observ,Observation,2402,"ls=mincells). adata_tmp.obs['sample'] = ugname[i]. adata = sc.concat([adata,adata_tmp],join='outer'). ```. ```pytb. filtered out 5508 genes that are detected in less than 5 cells. filtered out 5905 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7136 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 ge",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:2552,deployability,Observ,Observation,2552,"etected in less than 5 cells. filtered out 5905 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7136 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6767 ge",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:2702,deployability,Observ,Observation,2702,"all `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7136 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6767 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7077 ge",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:2852,deployability,Observ,Observation,2852,"all `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7136 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6767 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7077 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6080 ge",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:3002,deployability,Observ,Observation,3002,"all `.obs_names_make_unique`. filtered out 7136 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6767 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7077 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6080 genes that are detected in less than 5 cells. Traceback (most recent call last):. File ""/mypath/runMulti_scanpy.py"", line 161, in main. adata = sc.conca",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:3152,deployability,Observ,Observation,3152,"all `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6767 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7077 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6080 genes that are detected in less than 5 cells. Traceback (most recent call last):. File ""/mypath/runMulti_scanpy.py"", line 161, in main. adata = sc.concat([adata,adata_tmp],join='outer'). File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 818, in concat. X = concat_arrays",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:3302,deployability,Observ,Observation,3302,"all `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6767 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7077 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6080 genes that are detected in less than 5 cells. Traceback (most recent call last):. File ""/mypath/runMulti_scanpy.py"", line 161, in main. adata = sc.concat([adata,adata_tmp],join='outer'). File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 818, in concat. X = concat_arrays(. File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 424, in concat_arrays. return np.concatenate(. File ""<__array_fun",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:3452,deployability,Observ,Observation,3452,"all `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6767 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7077 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6080 genes that are detected in less than 5 cells. Traceback (most recent call last):. File ""/mypath/runMulti_scanpy.py"", line 161, in main. adata = sc.concat([adata,adata_tmp],join='outer'). File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 818, in concat. X = concat_arrays(. File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 424, in concat_arrays. return np.concatenate(. File ""<__array_function__ internals>"", line 5, in concatenate. numpy.core._exceptions.MemoryError: Unable to allocate 15.9 GiB for an array with shape (180000, 23752) a",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:3602,deployability,Observ,Observation,3602,"d out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6767 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7077 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6080 genes that are detected in less than 5 cells. Traceback (most recent call last):. File ""/mypath/runMulti_scanpy.py"", line 161, in main. adata = sc.concat([adata,adata_tmp],join='outer'). File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 818, in concat. X = concat_arrays(. File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 424, in concat_arrays. return np.concatenate(. File ""<__array_function__ internals>"", line 5, in concatenate. numpy.core._exceptions.MemoryError: Unable to allocate 15.9 GiB for an array with shape (180000, 23752) and data type float32. ```. Thanks !!!",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:3752,deployability,Observ,Observation,3752,"d out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6767 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7077 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6080 genes that are detected in less than 5 cells. Traceback (most recent call last):. File ""/mypath/runMulti_scanpy.py"", line 161, in main. adata = sc.concat([adata,adata_tmp],join='outer'). File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 818, in concat. X = concat_arrays(. File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 424, in concat_arrays. return np.concatenate(. File ""<__array_function__ internals>"", line 5, in concatenate. numpy.core._exceptions.MemoryError: Unable to allocate 15.9 GiB for an array with shape (180000, 23752) and data type float32. ```. Thanks !!!",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:6,energy efficiency,core,core,6,"numpy.core._exceptions.MemoryError: Unable to allocate 15.9 GiB for an array with shape (180000, 23752) and data type float32; - [X] I have checked that this issue has not already been reported. - [ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I used scanpy1.7 to merge different datasets, but I got the following erros. However, I successfully used Seurat3 to merge the same datasets on the same machine. In my opinion, scanpy saves more memory than seurat. ### Minimal code sample (that we can copy&paste without having any data). ```python. df = pd.read_csv(expfile[i], sep=""\t"" ,index_col=0). geneinfo = pd.DataFrame(df.index,index=df.index,columns=['gene_index']). cellinfo = pd.DataFrame(df.columns,index=df.columns,columns=['cell_index']). adata_tmp = sc.AnnData(df.T, obs=cellinfo, var = geneinfo). sc.pp.filter_cells(adata_tmp, min_genes=mingenes). sc.pp.filter_cells(adata_tmp, min_counts=minUMIs). if maxgenes <= 1:. maxgenes_new = np.percentile(adata_tmp.obs['n_genes'], 100*maxgenes)+1. else:. maxgenes_new = maxgenes. if maxUMIs <= 1:. maxUMIs_new = np.percentile(adata_tmp.obs['n_counts'], 100*maxUMIs)+1. else:. maxUMIs_new = maxUMIs. sc.pp.filter_cells(adata_tmp, max_genes=maxgenes_new). sc.pp.filter_cells(adata_tmp, max_counts=maxUMIs_new). sc.pp.filter_genes(adata_tmp, min_cells=mincells). adata_tmp.obs['sample'] = ugname[i]. adata = sc.concat([adata,adata_tmp],join='outer'). ```. ```pytb. filtered out 5508 genes that are detected in less than 5 cells. filtered out 5905 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them u",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:46,energy efficiency,alloc,allocate,46,"numpy.core._exceptions.MemoryError: Unable to allocate 15.9 GiB for an array with shape (180000, 23752) and data type float32; - [X] I have checked that this issue has not already been reported. - [ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I used scanpy1.7 to merge different datasets, but I got the following erros. However, I successfully used Seurat3 to merge the same datasets on the same machine. In my opinion, scanpy saves more memory than seurat. ### Minimal code sample (that we can copy&paste without having any data). ```python. df = pd.read_csv(expfile[i], sep=""\t"" ,index_col=0). geneinfo = pd.DataFrame(df.index,index=df.index,columns=['gene_index']). cellinfo = pd.DataFrame(df.columns,index=df.columns,columns=['cell_index']). adata_tmp = sc.AnnData(df.T, obs=cellinfo, var = geneinfo). sc.pp.filter_cells(adata_tmp, min_genes=mingenes). sc.pp.filter_cells(adata_tmp, min_counts=minUMIs). if maxgenes <= 1:. maxgenes_new = np.percentile(adata_tmp.obs['n_genes'], 100*maxgenes)+1. else:. maxgenes_new = maxgenes. if maxUMIs <= 1:. maxUMIs_new = np.percentile(adata_tmp.obs['n_counts'], 100*maxUMIs)+1. else:. maxUMIs_new = maxUMIs. sc.pp.filter_cells(adata_tmp, max_genes=maxgenes_new). sc.pp.filter_cells(adata_tmp, max_counts=maxUMIs_new). sc.pp.filter_genes(adata_tmp, min_cells=mincells). adata_tmp.obs['sample'] = ugname[i]. adata = sc.concat([adata,adata_tmp],join='outer'). ```. ```pytb. filtered out 5508 genes that are detected in less than 5 cells. filtered out 5905 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them u",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:4359,energy efficiency,core,core,4359,"d out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6767 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7077 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6080 genes that are detected in less than 5 cells. Traceback (most recent call last):. File ""/mypath/runMulti_scanpy.py"", line 161, in main. adata = sc.concat([adata,adata_tmp],join='outer'). File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 818, in concat. X = concat_arrays(. File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 424, in concat_arrays. return np.concatenate(. File ""<__array_function__ internals>"", line 5, in concatenate. numpy.core._exceptions.MemoryError: Unable to allocate 15.9 GiB for an array with shape (180000, 23752) and data type float32. ```. Thanks !!!",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:4399,energy efficiency,alloc,allocate,4399,"d out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6767 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7077 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6080 genes that are detected in less than 5 cells. Traceback (most recent call last):. File ""/mypath/runMulti_scanpy.py"", line 161, in main. adata = sc.concat([adata,adata_tmp],join='outer'). File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 818, in concat. X = concat_arrays(. File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 424, in concat_arrays. return np.concatenate(. File ""<__array_function__ internals>"", line 5, in concatenate. numpy.core._exceptions.MemoryError: Unable to allocate 15.9 GiB for an array with shape (180000, 23752) and data type float32. ```. Thanks !!!",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:248,integrability,version,version,248,"numpy.core._exceptions.MemoryError: Unable to allocate 15.9 GiB for an array with shape (180000, 23752) and data type float32; - [X] I have checked that this issue has not already been reported. - [ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I used scanpy1.7 to merge different datasets, but I got the following erros. However, I successfully used Seurat3 to merge the same datasets on the same machine. In my opinion, scanpy saves more memory than seurat. ### Minimal code sample (that we can copy&paste without having any data). ```python. df = pd.read_csv(expfile[i], sep=""\t"" ,index_col=0). geneinfo = pd.DataFrame(df.index,index=df.index,columns=['gene_index']). cellinfo = pd.DataFrame(df.columns,index=df.columns,columns=['cell_index']). adata_tmp = sc.AnnData(df.T, obs=cellinfo, var = geneinfo). sc.pp.filter_cells(adata_tmp, min_genes=mingenes). sc.pp.filter_cells(adata_tmp, min_counts=minUMIs). if maxgenes <= 1:. maxgenes_new = np.percentile(adata_tmp.obs['n_genes'], 100*maxgenes)+1. else:. maxgenes_new = maxgenes. if maxUMIs <= 1:. maxUMIs_new = np.percentile(adata_tmp.obs['n_counts'], 100*maxUMIs)+1. else:. maxUMIs_new = maxUMIs. sc.pp.filter_cells(adata_tmp, max_genes=maxgenes_new). sc.pp.filter_cells(adata_tmp, max_counts=maxUMIs_new). sc.pp.filter_genes(adata_tmp, min_cells=mincells). adata_tmp.obs['sample'] = ugname[i]. adata = sc.concat([adata,adata_tmp],join='outer'). ```. ```pytb. filtered out 5508 genes that are detected in less than 5 cells. filtered out 5905 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them u",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:1524,integrability,filter,filtered,1524,"n, scanpy saves more memory than seurat. ### Minimal code sample (that we can copy&paste without having any data). ```python. df = pd.read_csv(expfile[i], sep=""\t"" ,index_col=0). geneinfo = pd.DataFrame(df.index,index=df.index,columns=['gene_index']). cellinfo = pd.DataFrame(df.columns,index=df.columns,columns=['cell_index']). adata_tmp = sc.AnnData(df.T, obs=cellinfo, var = geneinfo). sc.pp.filter_cells(adata_tmp, min_genes=mingenes). sc.pp.filter_cells(adata_tmp, min_counts=minUMIs). if maxgenes <= 1:. maxgenes_new = np.percentile(adata_tmp.obs['n_genes'], 100*maxgenes)+1. else:. maxgenes_new = maxgenes. if maxUMIs <= 1:. maxUMIs_new = np.percentile(adata_tmp.obs['n_counts'], 100*maxUMIs)+1. else:. maxUMIs_new = maxUMIs. sc.pp.filter_cells(adata_tmp, max_genes=maxgenes_new). sc.pp.filter_cells(adata_tmp, max_counts=maxUMIs_new). sc.pp.filter_genes(adata_tmp, min_cells=mincells). adata_tmp.obs['sample'] = ugname[i]. adata = sc.concat([adata,adata_tmp],join='outer'). ```. ```pytb. filtered out 5508 genes that are detected in less than 5 cells. filtered out 5905 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7136 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detecte",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:1588,integrability,filter,filtered,1588," (that we can copy&paste without having any data). ```python. df = pd.read_csv(expfile[i], sep=""\t"" ,index_col=0). geneinfo = pd.DataFrame(df.index,index=df.index,columns=['gene_index']). cellinfo = pd.DataFrame(df.columns,index=df.columns,columns=['cell_index']). adata_tmp = sc.AnnData(df.T, obs=cellinfo, var = geneinfo). sc.pp.filter_cells(adata_tmp, min_genes=mingenes). sc.pp.filter_cells(adata_tmp, min_counts=minUMIs). if maxgenes <= 1:. maxgenes_new = np.percentile(adata_tmp.obs['n_genes'], 100*maxgenes)+1. else:. maxgenes_new = maxgenes. if maxUMIs <= 1:. maxUMIs_new = np.percentile(adata_tmp.obs['n_counts'], 100*maxUMIs)+1. else:. maxUMIs_new = maxUMIs. sc.pp.filter_cells(adata_tmp, max_genes=maxgenes_new). sc.pp.filter_cells(adata_tmp, max_counts=maxUMIs_new). sc.pp.filter_genes(adata_tmp, min_cells=mincells). adata_tmp.obs['sample'] = ugname[i]. adata = sc.concat([adata,adata_tmp],join='outer'). ```. ```pytb. filtered out 5508 genes that are detected in less than 5 cells. filtered out 5905 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7136 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To mak",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:1738,integrability,filter,filtered,1738,"dex=df.index,columns=['gene_index']). cellinfo = pd.DataFrame(df.columns,index=df.columns,columns=['cell_index']). adata_tmp = sc.AnnData(df.T, obs=cellinfo, var = geneinfo). sc.pp.filter_cells(adata_tmp, min_genes=mingenes). sc.pp.filter_cells(adata_tmp, min_counts=minUMIs). if maxgenes <= 1:. maxgenes_new = np.percentile(adata_tmp.obs['n_genes'], 100*maxgenes)+1. else:. maxgenes_new = maxgenes. if maxUMIs <= 1:. maxUMIs_new = np.percentile(adata_tmp.obs['n_counts'], 100*maxUMIs)+1. else:. maxUMIs_new = maxUMIs. sc.pp.filter_cells(adata_tmp, max_genes=maxgenes_new). sc.pp.filter_cells(adata_tmp, max_counts=maxUMIs_new). sc.pp.filter_genes(adata_tmp, min_cells=mincells). adata_tmp.obs['sample'] = ugname[i]. adata = sc.concat([adata,adata_tmp],join='outer'). ```. ```pytb. filtered out 5508 genes that are detected in less than 5 cells. filtered out 5905 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7136 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To mak",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:1888,integrability,filter,filtered,1888,"llinfo, var = geneinfo). sc.pp.filter_cells(adata_tmp, min_genes=mingenes). sc.pp.filter_cells(adata_tmp, min_counts=minUMIs). if maxgenes <= 1:. maxgenes_new = np.percentile(adata_tmp.obs['n_genes'], 100*maxgenes)+1. else:. maxgenes_new = maxgenes. if maxUMIs <= 1:. maxUMIs_new = np.percentile(adata_tmp.obs['n_counts'], 100*maxUMIs)+1. else:. maxUMIs_new = maxUMIs. sc.pp.filter_cells(adata_tmp, max_genes=maxgenes_new). sc.pp.filter_cells(adata_tmp, max_counts=maxUMIs_new). sc.pp.filter_genes(adata_tmp, min_cells=mincells). adata_tmp.obs['sample'] = ugname[i]. adata = sc.concat([adata,adata_tmp],join='outer'). ```. ```pytb. filtered out 5508 genes that are detected in less than 5 cells. filtered out 5905 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7136 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To mak",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:2038,integrability,filter,filtered,2038,"enes_new = np.percentile(adata_tmp.obs['n_genes'], 100*maxgenes)+1. else:. maxgenes_new = maxgenes. if maxUMIs <= 1:. maxUMIs_new = np.percentile(adata_tmp.obs['n_counts'], 100*maxUMIs)+1. else:. maxUMIs_new = maxUMIs. sc.pp.filter_cells(adata_tmp, max_genes=maxgenes_new). sc.pp.filter_cells(adata_tmp, max_counts=maxUMIs_new). sc.pp.filter_genes(adata_tmp, min_cells=mincells). adata_tmp.obs['sample'] = ugname[i]. adata = sc.concat([adata,adata_tmp],join='outer'). ```. ```pytb. filtered out 5508 genes that are detected in less than 5 cells. filtered out 5905 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7136 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To mak",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:2188,integrability,filter,filtered,2188,"a_tmp.obs['n_counts'], 100*maxUMIs)+1. else:. maxUMIs_new = maxUMIs. sc.pp.filter_cells(adata_tmp, max_genes=maxgenes_new). sc.pp.filter_cells(adata_tmp, max_counts=maxUMIs_new). sc.pp.filter_genes(adata_tmp, min_cells=mincells). adata_tmp.obs['sample'] = ugname[i]. adata = sc.concat([adata,adata_tmp],join='outer'). ```. ```pytb. filtered out 5508 genes that are detected in less than 5 cells. filtered out 5905 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7136 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To mak",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:2338,integrability,filter,filtered,2338,"mp, max_counts=maxUMIs_new). sc.pp.filter_genes(adata_tmp, min_cells=mincells). adata_tmp.obs['sample'] = ugname[i]. adata = sc.concat([adata,adata_tmp],join='outer'). ```. ```pytb. filtered out 5508 genes that are detected in less than 5 cells. filtered out 5905 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7136 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To mak",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:2488,integrability,filter,filtered,2488,"p],join='outer'). ```. ```pytb. filtered out 5508 genes that are detected in less than 5 cells. filtered out 5905 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7136 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To mak",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:2638,integrability,filter,filtered,2638," 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7136 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6767 genes that are detected in less than 5 cells. Observation names are not unique. To mak",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:2788,integrability,filter,filtered,2788," 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7136 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6767 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7077 genes that are detected in less than 5 cells. Observation names are not unique. To mak",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:2938,integrability,filter,filtered,2938," 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7136 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6767 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7077 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6080 genes that are detected in less than 5 cells. Traceback (most recent call last):. File",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:3088,integrability,filter,filtered,3088," 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6767 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7077 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6080 genes that are detected in less than 5 cells. Traceback (most recent call last):. File ""/mypath/runMulti_scanpy.py"", line 161, in main. adata = sc.concat([adata,adata_tmp],join='outer'). File ""/mypath/scanpy1.7/lib/python3.8/site-packag",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:3238,integrability,filter,filtered,3238," 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6767 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7077 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6080 genes that are detected in less than 5 cells. Traceback (most recent call last):. File ""/mypath/runMulti_scanpy.py"", line 161, in main. adata = sc.concat([adata,adata_tmp],join='outer'). File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 818, in concat. X = concat_arrays(. File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:3388,integrability,filter,filtered,3388," 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6767 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7077 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6080 genes that are detected in less than 5 cells. Traceback (most recent call last):. File ""/mypath/runMulti_scanpy.py"", line 161, in main. adata = sc.concat([adata,adata_tmp],join='outer'). File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 818, in concat. X = concat_arrays(. File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 424, in concat_arrays. return np.concatenate(. File ""<__array_function__ internals>"", line 5, in concatenate. numpy.core._exceptions.MemoryError: Una",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:3538,integrability,filter,filtered,3538,"d out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6767 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7077 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6080 genes that are detected in less than 5 cells. Traceback (most recent call last):. File ""/mypath/runMulti_scanpy.py"", line 161, in main. adata = sc.concat([adata,adata_tmp],join='outer'). File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 818, in concat. X = concat_arrays(. File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 424, in concat_arrays. return np.concatenate(. File ""<__array_function__ internals>"", line 5, in concatenate. numpy.core._exceptions.MemoryError: Unable to allocate 15.9 GiB for an array with shape (180000, 23752) and data type float32. ```. Thanks !!!",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:3688,integrability,filter,filtered,3688,"d out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6767 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7077 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6080 genes that are detected in less than 5 cells. Traceback (most recent call last):. File ""/mypath/runMulti_scanpy.py"", line 161, in main. adata = sc.concat([adata,adata_tmp],join='outer'). File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 818, in concat. X = concat_arrays(. File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 424, in concat_arrays. return np.concatenate(. File ""<__array_function__ internals>"", line 5, in concatenate. numpy.core._exceptions.MemoryError: Unable to allocate 15.9 GiB for an array with shape (180000, 23752) and data type float32. ```. Thanks !!!",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:3838,integrability,filter,filtered,3838,"d out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6767 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7077 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6080 genes that are detected in less than 5 cells. Traceback (most recent call last):. File ""/mypath/runMulti_scanpy.py"", line 161, in main. adata = sc.concat([adata,adata_tmp],join='outer'). File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 818, in concat. X = concat_arrays(. File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 424, in concat_arrays. return np.concatenate(. File ""<__array_function__ internals>"", line 5, in concatenate. numpy.core._exceptions.MemoryError: Unable to allocate 15.9 GiB for an array with shape (180000, 23752) and data type float32. ```. Thanks !!!",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:248,modifiability,version,version,248,"numpy.core._exceptions.MemoryError: Unable to allocate 15.9 GiB for an array with shape (180000, 23752) and data type float32; - [X] I have checked that this issue has not already been reported. - [ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I used scanpy1.7 to merge different datasets, but I got the following erros. However, I successfully used Seurat3 to merge the same datasets on the same machine. In my opinion, scanpy saves more memory than seurat. ### Minimal code sample (that we can copy&paste without having any data). ```python. df = pd.read_csv(expfile[i], sep=""\t"" ,index_col=0). geneinfo = pd.DataFrame(df.index,index=df.index,columns=['gene_index']). cellinfo = pd.DataFrame(df.columns,index=df.columns,columns=['cell_index']). adata_tmp = sc.AnnData(df.T, obs=cellinfo, var = geneinfo). sc.pp.filter_cells(adata_tmp, min_genes=mingenes). sc.pp.filter_cells(adata_tmp, min_counts=minUMIs). if maxgenes <= 1:. maxgenes_new = np.percentile(adata_tmp.obs['n_genes'], 100*maxgenes)+1. else:. maxgenes_new = maxgenes. if maxUMIs <= 1:. maxUMIs_new = np.percentile(adata_tmp.obs['n_counts'], 100*maxUMIs)+1. else:. maxUMIs_new = maxUMIs. sc.pp.filter_cells(adata_tmp, max_genes=maxgenes_new). sc.pp.filter_cells(adata_tmp, max_counts=maxUMIs_new). sc.pp.filter_genes(adata_tmp, min_cells=mincells). adata_tmp.obs['sample'] = ugname[i]. adata = sc.concat([adata,adata_tmp],join='outer'). ```. ```pytb. filtered out 5508 genes that are detected in less than 5 cells. filtered out 5905 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them u",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:4086,modifiability,pac,packages,4086,"d out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6767 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7077 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6080 genes that are detected in less than 5 cells. Traceback (most recent call last):. File ""/mypath/runMulti_scanpy.py"", line 161, in main. adata = sc.concat([adata,adata_tmp],join='outer'). File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 818, in concat. X = concat_arrays(. File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 424, in concat_arrays. return np.concatenate(. File ""<__array_function__ internals>"", line 5, in concatenate. numpy.core._exceptions.MemoryError: Unable to allocate 15.9 GiB for an array with shape (180000, 23752) and data type float32. ```. Thanks !!!",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:4204,modifiability,pac,packages,4204,"d out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6767 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7077 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6080 genes that are detected in less than 5 cells. Traceback (most recent call last):. File ""/mypath/runMulti_scanpy.py"", line 161, in main. adata = sc.concat([adata,adata_tmp],join='outer'). File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 818, in concat. X = concat_arrays(. File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 424, in concat_arrays. return np.concatenate(. File ""<__array_function__ internals>"", line 5, in concatenate. numpy.core._exceptions.MemoryError: Unable to allocate 15.9 GiB for an array with shape (180000, 23752) and data type float32. ```. Thanks !!!",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:23,performance,Memor,MemoryError,23,"numpy.core._exceptions.MemoryError: Unable to allocate 15.9 GiB for an array with shape (180000, 23752) and data type float32; - [X] I have checked that this issue has not already been reported. - [ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I used scanpy1.7 to merge different datasets, but I got the following erros. However, I successfully used Seurat3 to merge the same datasets on the same machine. In my opinion, scanpy saves more memory than seurat. ### Minimal code sample (that we can copy&paste without having any data). ```python. df = pd.read_csv(expfile[i], sep=""\t"" ,index_col=0). geneinfo = pd.DataFrame(df.index,index=df.index,columns=['gene_index']). cellinfo = pd.DataFrame(df.columns,index=df.columns,columns=['cell_index']). adata_tmp = sc.AnnData(df.T, obs=cellinfo, var = geneinfo). sc.pp.filter_cells(adata_tmp, min_genes=mingenes). sc.pp.filter_cells(adata_tmp, min_counts=minUMIs). if maxgenes <= 1:. maxgenes_new = np.percentile(adata_tmp.obs['n_genes'], 100*maxgenes)+1. else:. maxgenes_new = maxgenes. if maxUMIs <= 1:. maxUMIs_new = np.percentile(adata_tmp.obs['n_counts'], 100*maxUMIs)+1. else:. maxUMIs_new = maxUMIs. sc.pp.filter_cells(adata_tmp, max_genes=maxgenes_new). sc.pp.filter_cells(adata_tmp, max_counts=maxUMIs_new). sc.pp.filter_genes(adata_tmp, min_cells=mincells). adata_tmp.obs['sample'] = ugname[i]. adata = sc.concat([adata,adata_tmp],join='outer'). ```. ```pytb. filtered out 5508 genes that are detected in less than 5 cells. filtered out 5905 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them u",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:549,performance,memor,memory,549,"numpy.core._exceptions.MemoryError: Unable to allocate 15.9 GiB for an array with shape (180000, 23752) and data type float32; - [X] I have checked that this issue has not already been reported. - [ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I used scanpy1.7 to merge different datasets, but I got the following erros. However, I successfully used Seurat3 to merge the same datasets on the same machine. In my opinion, scanpy saves more memory than seurat. ### Minimal code sample (that we can copy&paste without having any data). ```python. df = pd.read_csv(expfile[i], sep=""\t"" ,index_col=0). geneinfo = pd.DataFrame(df.index,index=df.index,columns=['gene_index']). cellinfo = pd.DataFrame(df.columns,index=df.columns,columns=['cell_index']). adata_tmp = sc.AnnData(df.T, obs=cellinfo, var = geneinfo). sc.pp.filter_cells(adata_tmp, min_genes=mingenes). sc.pp.filter_cells(adata_tmp, min_counts=minUMIs). if maxgenes <= 1:. maxgenes_new = np.percentile(adata_tmp.obs['n_genes'], 100*maxgenes)+1. else:. maxgenes_new = maxgenes. if maxUMIs <= 1:. maxUMIs_new = np.percentile(adata_tmp.obs['n_counts'], 100*maxUMIs)+1. else:. maxUMIs_new = maxUMIs. sc.pp.filter_cells(adata_tmp, max_genes=maxgenes_new). sc.pp.filter_cells(adata_tmp, max_counts=maxUMIs_new). sc.pp.filter_genes(adata_tmp, min_cells=mincells). adata_tmp.obs['sample'] = ugname[i]. adata = sc.concat([adata,adata_tmp],join='outer'). ```. ```pytb. filtered out 5508 genes that are detected in less than 5 cells. filtered out 5905 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them u",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:4376,performance,Memor,MemoryError,4376,"d out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6767 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7077 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6080 genes that are detected in less than 5 cells. Traceback (most recent call last):. File ""/mypath/runMulti_scanpy.py"", line 161, in main. adata = sc.concat([adata,adata_tmp],join='outer'). File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 818, in concat. X = concat_arrays(. File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 424, in concat_arrays. return np.concatenate(. File ""<__array_function__ internals>"", line 5, in concatenate. numpy.core._exceptions.MemoryError: Unable to allocate 15.9 GiB for an array with shape (180000, 23752) and data type float32. ```. Thanks !!!",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:1557,safety,detect,detected,1557,"seurat. ### Minimal code sample (that we can copy&paste without having any data). ```python. df = pd.read_csv(expfile[i], sep=""\t"" ,index_col=0). geneinfo = pd.DataFrame(df.index,index=df.index,columns=['gene_index']). cellinfo = pd.DataFrame(df.columns,index=df.columns,columns=['cell_index']). adata_tmp = sc.AnnData(df.T, obs=cellinfo, var = geneinfo). sc.pp.filter_cells(adata_tmp, min_genes=mingenes). sc.pp.filter_cells(adata_tmp, min_counts=minUMIs). if maxgenes <= 1:. maxgenes_new = np.percentile(adata_tmp.obs['n_genes'], 100*maxgenes)+1. else:. maxgenes_new = maxgenes. if maxUMIs <= 1:. maxUMIs_new = np.percentile(adata_tmp.obs['n_counts'], 100*maxUMIs)+1. else:. maxUMIs_new = maxUMIs. sc.pp.filter_cells(adata_tmp, max_genes=maxgenes_new). sc.pp.filter_cells(adata_tmp, max_counts=maxUMIs_new). sc.pp.filter_genes(adata_tmp, min_cells=mincells). adata_tmp.obs['sample'] = ugname[i]. adata = sc.concat([adata,adata_tmp],join='outer'). ```. ```pytb. filtered out 5508 genes that are detected in less than 5 cells. filtered out 5905 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7136 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observati",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:1621,safety,detect,detected,1621,"having any data). ```python. df = pd.read_csv(expfile[i], sep=""\t"" ,index_col=0). geneinfo = pd.DataFrame(df.index,index=df.index,columns=['gene_index']). cellinfo = pd.DataFrame(df.columns,index=df.columns,columns=['cell_index']). adata_tmp = sc.AnnData(df.T, obs=cellinfo, var = geneinfo). sc.pp.filter_cells(adata_tmp, min_genes=mingenes). sc.pp.filter_cells(adata_tmp, min_counts=minUMIs). if maxgenes <= 1:. maxgenes_new = np.percentile(adata_tmp.obs['n_genes'], 100*maxgenes)+1. else:. maxgenes_new = maxgenes. if maxUMIs <= 1:. maxUMIs_new = np.percentile(adata_tmp.obs['n_counts'], 100*maxUMIs)+1. else:. maxUMIs_new = maxUMIs. sc.pp.filter_cells(adata_tmp, max_genes=maxgenes_new). sc.pp.filter_cells(adata_tmp, max_counts=maxUMIs_new). sc.pp.filter_genes(adata_tmp, min_cells=mincells). adata_tmp.obs['sample'] = ugname[i]. adata = sc.concat([adata,adata_tmp],join='outer'). ```. ```pytb. filtered out 5508 genes that are detected in less than 5 cells. filtered out 5905 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7136 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_m",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:1771,safety,detect,detected,1771,"']). cellinfo = pd.DataFrame(df.columns,index=df.columns,columns=['cell_index']). adata_tmp = sc.AnnData(df.T, obs=cellinfo, var = geneinfo). sc.pp.filter_cells(adata_tmp, min_genes=mingenes). sc.pp.filter_cells(adata_tmp, min_counts=minUMIs). if maxgenes <= 1:. maxgenes_new = np.percentile(adata_tmp.obs['n_genes'], 100*maxgenes)+1. else:. maxgenes_new = maxgenes. if maxUMIs <= 1:. maxUMIs_new = np.percentile(adata_tmp.obs['n_counts'], 100*maxUMIs)+1. else:. maxUMIs_new = maxUMIs. sc.pp.filter_cells(adata_tmp, max_genes=maxgenes_new). sc.pp.filter_cells(adata_tmp, max_counts=maxUMIs_new). sc.pp.filter_genes(adata_tmp, min_cells=mincells). adata_tmp.obs['sample'] = ugname[i]. adata = sc.concat([adata,adata_tmp],join='outer'). ```. ```pytb. filtered out 5508 genes that are detected in less than 5 cells. filtered out 5905 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7136 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_m",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:1921,safety,detect,detected,1921,"lter_cells(adata_tmp, min_genes=mingenes). sc.pp.filter_cells(adata_tmp, min_counts=minUMIs). if maxgenes <= 1:. maxgenes_new = np.percentile(adata_tmp.obs['n_genes'], 100*maxgenes)+1. else:. maxgenes_new = maxgenes. if maxUMIs <= 1:. maxUMIs_new = np.percentile(adata_tmp.obs['n_counts'], 100*maxUMIs)+1. else:. maxUMIs_new = maxUMIs. sc.pp.filter_cells(adata_tmp, max_genes=maxgenes_new). sc.pp.filter_cells(adata_tmp, max_counts=maxUMIs_new). sc.pp.filter_genes(adata_tmp, min_cells=mincells). adata_tmp.obs['sample'] = ugname[i]. adata = sc.concat([adata,adata_tmp],join='outer'). ```. ```pytb. filtered out 5508 genes that are detected in less than 5 cells. filtered out 5905 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7136 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_m",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:2071,safety,detect,detected,2071,"p.obs['n_genes'], 100*maxgenes)+1. else:. maxgenes_new = maxgenes. if maxUMIs <= 1:. maxUMIs_new = np.percentile(adata_tmp.obs['n_counts'], 100*maxUMIs)+1. else:. maxUMIs_new = maxUMIs. sc.pp.filter_cells(adata_tmp, max_genes=maxgenes_new). sc.pp.filter_cells(adata_tmp, max_counts=maxUMIs_new). sc.pp.filter_genes(adata_tmp, min_cells=mincells). adata_tmp.obs['sample'] = ugname[i]. adata = sc.concat([adata,adata_tmp],join='outer'). ```. ```pytb. filtered out 5508 genes that are detected in less than 5 cells. filtered out 5905 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7136 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_m",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:2221,safety,detect,detected,2221,"s)+1. else:. maxUMIs_new = maxUMIs. sc.pp.filter_cells(adata_tmp, max_genes=maxgenes_new). sc.pp.filter_cells(adata_tmp, max_counts=maxUMIs_new). sc.pp.filter_genes(adata_tmp, min_cells=mincells). adata_tmp.obs['sample'] = ugname[i]. adata = sc.concat([adata,adata_tmp],join='outer'). ```. ```pytb. filtered out 5508 genes that are detected in less than 5 cells. filtered out 5905 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7136 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_m",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:2371,safety,detect,detected,2371,"p.filter_genes(adata_tmp, min_cells=mincells). adata_tmp.obs['sample'] = ugname[i]. adata = sc.concat([adata,adata_tmp],join='outer'). ```. ```pytb. filtered out 5508 genes that are detected in less than 5 cells. filtered out 5905 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7136 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_m",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:2521,safety,detect,detected,2521,"iltered out 5508 genes that are detected in less than 5 cells. filtered out 5905 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7136 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_m",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:2671,safety,detect,detected,2671,"ot unique. To make them unique, call `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7136 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6767 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_m",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:2821,safety,detect,detected,2821,"ot unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7136 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6767 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7077 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_m",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:2971,safety,detect,detected,2971,"ot unique. To make them unique, call `.obs_names_make_unique`. filtered out 7136 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6767 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7077 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6080 genes that are detected in less than 5 cells. Traceback (most recent call last):. File ""/mypath/runMulti_scanpy.py"", li",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:3121,safety,detect,detected,3121,"ot unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6767 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7077 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6080 genes that are detected in less than 5 cells. Traceback (most recent call last):. File ""/mypath/runMulti_scanpy.py"", line 161, in main. adata = sc.concat([adata,adata_tmp],join='outer'). File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:3271,safety,detect,detected,3271,"ot unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6767 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7077 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6080 genes that are detected in less than 5 cells. Traceback (most recent call last):. File ""/mypath/runMulti_scanpy.py"", line 161, in main. adata = sc.concat([adata,adata_tmp],join='outer'). File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 818, in concat. X = concat_arrays(. File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 424, in concat_arrays. return np",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:3421,safety,detect,detected,3421,"ot unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6767 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7077 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6080 genes that are detected in less than 5 cells. Traceback (most recent call last):. File ""/mypath/runMulti_scanpy.py"", line 161, in main. adata = sc.concat([adata,adata_tmp],join='outer'). File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 818, in concat. X = concat_arrays(. File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 424, in concat_arrays. return np.concatenate(. File ""<__array_function__ internals>"", line 5, in concatenate. numpy.core._exceptions.MemoryError: Unable to allocate 15.9 GiB for an a",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:3571,safety,detect,detected,3571,"d out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6767 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7077 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6080 genes that are detected in less than 5 cells. Traceback (most recent call last):. File ""/mypath/runMulti_scanpy.py"", line 161, in main. adata = sc.concat([adata,adata_tmp],join='outer'). File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 818, in concat. X = concat_arrays(. File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 424, in concat_arrays. return np.concatenate(. File ""<__array_function__ internals>"", line 5, in concatenate. numpy.core._exceptions.MemoryError: Unable to allocate 15.9 GiB for an array with shape (180000, 23752) and data type float32. ```. Thanks !!!",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:3721,safety,detect,detected,3721,"d out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6767 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7077 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6080 genes that are detected in less than 5 cells. Traceback (most recent call last):. File ""/mypath/runMulti_scanpy.py"", line 161, in main. adata = sc.concat([adata,adata_tmp],join='outer'). File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 818, in concat. X = concat_arrays(. File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 424, in concat_arrays. return np.concatenate(. File ""<__array_function__ internals>"", line 5, in concatenate. numpy.core._exceptions.MemoryError: Unable to allocate 15.9 GiB for an array with shape (180000, 23752) and data type float32. ```. Thanks !!!",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:3871,safety,detect,detected,3871,"d out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6767 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7077 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6080 genes that are detected in less than 5 cells. Traceback (most recent call last):. File ""/mypath/runMulti_scanpy.py"", line 161, in main. adata = sc.concat([adata,adata_tmp],join='outer'). File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 818, in concat. X = concat_arrays(. File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 424, in concat_arrays. return np.concatenate(. File ""<__array_function__ internals>"", line 5, in concatenate. numpy.core._exceptions.MemoryError: Unable to allocate 15.9 GiB for an array with shape (180000, 23752) and data type float32. ```. Thanks !!!",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:1557,security,detect,detected,1557,"seurat. ### Minimal code sample (that we can copy&paste without having any data). ```python. df = pd.read_csv(expfile[i], sep=""\t"" ,index_col=0). geneinfo = pd.DataFrame(df.index,index=df.index,columns=['gene_index']). cellinfo = pd.DataFrame(df.columns,index=df.columns,columns=['cell_index']). adata_tmp = sc.AnnData(df.T, obs=cellinfo, var = geneinfo). sc.pp.filter_cells(adata_tmp, min_genes=mingenes). sc.pp.filter_cells(adata_tmp, min_counts=minUMIs). if maxgenes <= 1:. maxgenes_new = np.percentile(adata_tmp.obs['n_genes'], 100*maxgenes)+1. else:. maxgenes_new = maxgenes. if maxUMIs <= 1:. maxUMIs_new = np.percentile(adata_tmp.obs['n_counts'], 100*maxUMIs)+1. else:. maxUMIs_new = maxUMIs. sc.pp.filter_cells(adata_tmp, max_genes=maxgenes_new). sc.pp.filter_cells(adata_tmp, max_counts=maxUMIs_new). sc.pp.filter_genes(adata_tmp, min_cells=mincells). adata_tmp.obs['sample'] = ugname[i]. adata = sc.concat([adata,adata_tmp],join='outer'). ```. ```pytb. filtered out 5508 genes that are detected in less than 5 cells. filtered out 5905 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7136 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observati",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:1621,security,detect,detected,1621,"having any data). ```python. df = pd.read_csv(expfile[i], sep=""\t"" ,index_col=0). geneinfo = pd.DataFrame(df.index,index=df.index,columns=['gene_index']). cellinfo = pd.DataFrame(df.columns,index=df.columns,columns=['cell_index']). adata_tmp = sc.AnnData(df.T, obs=cellinfo, var = geneinfo). sc.pp.filter_cells(adata_tmp, min_genes=mingenes). sc.pp.filter_cells(adata_tmp, min_counts=minUMIs). if maxgenes <= 1:. maxgenes_new = np.percentile(adata_tmp.obs['n_genes'], 100*maxgenes)+1. else:. maxgenes_new = maxgenes. if maxUMIs <= 1:. maxUMIs_new = np.percentile(adata_tmp.obs['n_counts'], 100*maxUMIs)+1. else:. maxUMIs_new = maxUMIs. sc.pp.filter_cells(adata_tmp, max_genes=maxgenes_new). sc.pp.filter_cells(adata_tmp, max_counts=maxUMIs_new). sc.pp.filter_genes(adata_tmp, min_cells=mincells). adata_tmp.obs['sample'] = ugname[i]. adata = sc.concat([adata,adata_tmp],join='outer'). ```. ```pytb. filtered out 5508 genes that are detected in less than 5 cells. filtered out 5905 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7136 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_m",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:1771,security,detect,detected,1771,"']). cellinfo = pd.DataFrame(df.columns,index=df.columns,columns=['cell_index']). adata_tmp = sc.AnnData(df.T, obs=cellinfo, var = geneinfo). sc.pp.filter_cells(adata_tmp, min_genes=mingenes). sc.pp.filter_cells(adata_tmp, min_counts=minUMIs). if maxgenes <= 1:. maxgenes_new = np.percentile(adata_tmp.obs['n_genes'], 100*maxgenes)+1. else:. maxgenes_new = maxgenes. if maxUMIs <= 1:. maxUMIs_new = np.percentile(adata_tmp.obs['n_counts'], 100*maxUMIs)+1. else:. maxUMIs_new = maxUMIs. sc.pp.filter_cells(adata_tmp, max_genes=maxgenes_new). sc.pp.filter_cells(adata_tmp, max_counts=maxUMIs_new). sc.pp.filter_genes(adata_tmp, min_cells=mincells). adata_tmp.obs['sample'] = ugname[i]. adata = sc.concat([adata,adata_tmp],join='outer'). ```. ```pytb. filtered out 5508 genes that are detected in less than 5 cells. filtered out 5905 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7136 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_m",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:1921,security,detect,detected,1921,"lter_cells(adata_tmp, min_genes=mingenes). sc.pp.filter_cells(adata_tmp, min_counts=minUMIs). if maxgenes <= 1:. maxgenes_new = np.percentile(adata_tmp.obs['n_genes'], 100*maxgenes)+1. else:. maxgenes_new = maxgenes. if maxUMIs <= 1:. maxUMIs_new = np.percentile(adata_tmp.obs['n_counts'], 100*maxUMIs)+1. else:. maxUMIs_new = maxUMIs. sc.pp.filter_cells(adata_tmp, max_genes=maxgenes_new). sc.pp.filter_cells(adata_tmp, max_counts=maxUMIs_new). sc.pp.filter_genes(adata_tmp, min_cells=mincells). adata_tmp.obs['sample'] = ugname[i]. adata = sc.concat([adata,adata_tmp],join='outer'). ```. ```pytb. filtered out 5508 genes that are detected in less than 5 cells. filtered out 5905 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7136 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_m",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:2071,security,detect,detected,2071,"p.obs['n_genes'], 100*maxgenes)+1. else:. maxgenes_new = maxgenes. if maxUMIs <= 1:. maxUMIs_new = np.percentile(adata_tmp.obs['n_counts'], 100*maxUMIs)+1. else:. maxUMIs_new = maxUMIs. sc.pp.filter_cells(adata_tmp, max_genes=maxgenes_new). sc.pp.filter_cells(adata_tmp, max_counts=maxUMIs_new). sc.pp.filter_genes(adata_tmp, min_cells=mincells). adata_tmp.obs['sample'] = ugname[i]. adata = sc.concat([adata,adata_tmp],join='outer'). ```. ```pytb. filtered out 5508 genes that are detected in less than 5 cells. filtered out 5905 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7136 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_m",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:2221,security,detect,detected,2221,"s)+1. else:. maxUMIs_new = maxUMIs. sc.pp.filter_cells(adata_tmp, max_genes=maxgenes_new). sc.pp.filter_cells(adata_tmp, max_counts=maxUMIs_new). sc.pp.filter_genes(adata_tmp, min_cells=mincells). adata_tmp.obs['sample'] = ugname[i]. adata = sc.concat([adata,adata_tmp],join='outer'). ```. ```pytb. filtered out 5508 genes that are detected in less than 5 cells. filtered out 5905 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7136 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_m",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:2371,security,detect,detected,2371,"p.filter_genes(adata_tmp, min_cells=mincells). adata_tmp.obs['sample'] = ugname[i]. adata = sc.concat([adata,adata_tmp],join='outer'). ```. ```pytb. filtered out 5508 genes that are detected in less than 5 cells. filtered out 5905 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7136 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_m",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:2521,security,detect,detected,2521,"iltered out 5508 genes that are detected in less than 5 cells. filtered out 5905 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7136 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_m",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:2671,security,detect,detected,2671,"ot unique. To make them unique, call `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7136 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6767 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_m",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:2821,security,detect,detected,2821,"ot unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7136 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6767 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7077 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_m",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:2971,security,detect,detected,2971,"ot unique. To make them unique, call `.obs_names_make_unique`. filtered out 7136 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6767 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7077 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6080 genes that are detected in less than 5 cells. Traceback (most recent call last):. File ""/mypath/runMulti_scanpy.py"", li",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:3121,security,detect,detected,3121,"ot unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6767 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7077 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6080 genes that are detected in less than 5 cells. Traceback (most recent call last):. File ""/mypath/runMulti_scanpy.py"", line 161, in main. adata = sc.concat([adata,adata_tmp],join='outer'). File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:3271,security,detect,detected,3271,"ot unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6767 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7077 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6080 genes that are detected in less than 5 cells. Traceback (most recent call last):. File ""/mypath/runMulti_scanpy.py"", line 161, in main. adata = sc.concat([adata,adata_tmp],join='outer'). File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 818, in concat. X = concat_arrays(. File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 424, in concat_arrays. return np",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:3421,security,detect,detected,3421,"ot unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6767 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7077 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6080 genes that are detected in less than 5 cells. Traceback (most recent call last):. File ""/mypath/runMulti_scanpy.py"", line 161, in main. adata = sc.concat([adata,adata_tmp],join='outer'). File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 818, in concat. X = concat_arrays(. File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 424, in concat_arrays. return np.concatenate(. File ""<__array_function__ internals>"", line 5, in concatenate. numpy.core._exceptions.MemoryError: Unable to allocate 15.9 GiB for an a",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:3571,security,detect,detected,3571,"d out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6767 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7077 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6080 genes that are detected in less than 5 cells. Traceback (most recent call last):. File ""/mypath/runMulti_scanpy.py"", line 161, in main. adata = sc.concat([adata,adata_tmp],join='outer'). File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 818, in concat. X = concat_arrays(. File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 424, in concat_arrays. return np.concatenate(. File ""<__array_function__ internals>"", line 5, in concatenate. numpy.core._exceptions.MemoryError: Unable to allocate 15.9 GiB for an array with shape (180000, 23752) and data type float32. ```. Thanks !!!",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:3721,security,detect,detected,3721,"d out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6767 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7077 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6080 genes that are detected in less than 5 cells. Traceback (most recent call last):. File ""/mypath/runMulti_scanpy.py"", line 161, in main. adata = sc.concat([adata,adata_tmp],join='outer'). File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 818, in concat. X = concat_arrays(. File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 424, in concat_arrays. return np.concatenate(. File ""<__array_function__ internals>"", line 5, in concatenate. numpy.core._exceptions.MemoryError: Unable to allocate 15.9 GiB for an array with shape (180000, 23752) and data type float32. ```. Thanks !!!",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:3871,security,detect,detected,3871,"d out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6767 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7077 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6080 genes that are detected in less than 5 cells. Traceback (most recent call last):. File ""/mypath/runMulti_scanpy.py"", line 161, in main. adata = sc.concat([adata,adata_tmp],join='outer'). File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 818, in concat. X = concat_arrays(. File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 424, in concat_arrays. return np.concatenate(. File ""<__array_function__ internals>"", line 5, in concatenate. numpy.core._exceptions.MemoryError: Unable to allocate 15.9 GiB for an array with shape (180000, 23752) and data type float32. ```. Thanks !!!",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:1652,testability,Observ,Observation,1652," pd.read_csv(expfile[i], sep=""\t"" ,index_col=0). geneinfo = pd.DataFrame(df.index,index=df.index,columns=['gene_index']). cellinfo = pd.DataFrame(df.columns,index=df.columns,columns=['cell_index']). adata_tmp = sc.AnnData(df.T, obs=cellinfo, var = geneinfo). sc.pp.filter_cells(adata_tmp, min_genes=mingenes). sc.pp.filter_cells(adata_tmp, min_counts=minUMIs). if maxgenes <= 1:. maxgenes_new = np.percentile(adata_tmp.obs['n_genes'], 100*maxgenes)+1. else:. maxgenes_new = maxgenes. if maxUMIs <= 1:. maxUMIs_new = np.percentile(adata_tmp.obs['n_counts'], 100*maxUMIs)+1. else:. maxUMIs_new = maxUMIs. sc.pp.filter_cells(adata_tmp, max_genes=maxgenes_new). sc.pp.filter_cells(adata_tmp, max_counts=maxUMIs_new). sc.pp.filter_genes(adata_tmp, min_cells=mincells). adata_tmp.obs['sample'] = ugname[i]. adata = sc.concat([adata,adata_tmp],join='outer'). ```. ```pytb. filtered out 5508 genes that are detected in less than 5 cells. filtered out 5905 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7136 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 ge",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:1802,testability,Observ,Observation,1802,"olumns,index=df.columns,columns=['cell_index']). adata_tmp = sc.AnnData(df.T, obs=cellinfo, var = geneinfo). sc.pp.filter_cells(adata_tmp, min_genes=mingenes). sc.pp.filter_cells(adata_tmp, min_counts=minUMIs). if maxgenes <= 1:. maxgenes_new = np.percentile(adata_tmp.obs['n_genes'], 100*maxgenes)+1. else:. maxgenes_new = maxgenes. if maxUMIs <= 1:. maxUMIs_new = np.percentile(adata_tmp.obs['n_counts'], 100*maxUMIs)+1. else:. maxUMIs_new = maxUMIs. sc.pp.filter_cells(adata_tmp, max_genes=maxgenes_new). sc.pp.filter_cells(adata_tmp, max_counts=maxUMIs_new). sc.pp.filter_genes(adata_tmp, min_cells=mincells). adata_tmp.obs['sample'] = ugname[i]. adata = sc.concat([adata,adata_tmp],join='outer'). ```. ```pytb. filtered out 5508 genes that are detected in less than 5 cells. filtered out 5905 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7136 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 ge",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:1952,testability,Observ,Observation,1952,"ingenes). sc.pp.filter_cells(adata_tmp, min_counts=minUMIs). if maxgenes <= 1:. maxgenes_new = np.percentile(adata_tmp.obs['n_genes'], 100*maxgenes)+1. else:. maxgenes_new = maxgenes. if maxUMIs <= 1:. maxUMIs_new = np.percentile(adata_tmp.obs['n_counts'], 100*maxUMIs)+1. else:. maxUMIs_new = maxUMIs. sc.pp.filter_cells(adata_tmp, max_genes=maxgenes_new). sc.pp.filter_cells(adata_tmp, max_counts=maxUMIs_new). sc.pp.filter_genes(adata_tmp, min_cells=mincells). adata_tmp.obs['sample'] = ugname[i]. adata = sc.concat([adata,adata_tmp],join='outer'). ```. ```pytb. filtered out 5508 genes that are detected in less than 5 cells. filtered out 5905 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7136 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 ge",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:2102,testability,Observ,Observation,2102,". else:. maxgenes_new = maxgenes. if maxUMIs <= 1:. maxUMIs_new = np.percentile(adata_tmp.obs['n_counts'], 100*maxUMIs)+1. else:. maxUMIs_new = maxUMIs. sc.pp.filter_cells(adata_tmp, max_genes=maxgenes_new). sc.pp.filter_cells(adata_tmp, max_counts=maxUMIs_new). sc.pp.filter_genes(adata_tmp, min_cells=mincells). adata_tmp.obs['sample'] = ugname[i]. adata = sc.concat([adata,adata_tmp],join='outer'). ```. ```pytb. filtered out 5508 genes that are detected in less than 5 cells. filtered out 5905 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7136 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 ge",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:2252,testability,Observ,Observation,2252,"s. sc.pp.filter_cells(adata_tmp, max_genes=maxgenes_new). sc.pp.filter_cells(adata_tmp, max_counts=maxUMIs_new). sc.pp.filter_genes(adata_tmp, min_cells=mincells). adata_tmp.obs['sample'] = ugname[i]. adata = sc.concat([adata,adata_tmp],join='outer'). ```. ```pytb. filtered out 5508 genes that are detected in less than 5 cells. filtered out 5905 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7136 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 ge",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:2402,testability,Observ,Observation,2402,"ls=mincells). adata_tmp.obs['sample'] = ugname[i]. adata = sc.concat([adata,adata_tmp],join='outer'). ```. ```pytb. filtered out 5508 genes that are detected in less than 5 cells. filtered out 5905 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7136 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 ge",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:2552,testability,Observ,Observation,2552,"etected in less than 5 cells. filtered out 5905 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7136 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6767 ge",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:2702,testability,Observ,Observation,2702,"all `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7136 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6767 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7077 ge",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:2852,testability,Observ,Observation,2852,"all `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7136 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6767 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7077 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6080 ge",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:3002,testability,Observ,Observation,3002,"all `.obs_names_make_unique`. filtered out 7136 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6767 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7077 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6080 genes that are detected in less than 5 cells. Traceback (most recent call last):. File ""/mypath/runMulti_scanpy.py"", line 161, in main. adata = sc.conca",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:3152,testability,Observ,Observation,3152,"all `.obs_names_make_unique`. filtered out 5971 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6767 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7077 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6080 genes that are detected in less than 5 cells. Traceback (most recent call last):. File ""/mypath/runMulti_scanpy.py"", line 161, in main. adata = sc.concat([adata,adata_tmp],join='outer'). File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 818, in concat. X = concat_arrays",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:3302,testability,Observ,Observation,3302,"all `.obs_names_make_unique`. filtered out 6234 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6767 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7077 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6080 genes that are detected in less than 5 cells. Traceback (most recent call last):. File ""/mypath/runMulti_scanpy.py"", line 161, in main. adata = sc.concat([adata,adata_tmp],join='outer'). File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 818, in concat. X = concat_arrays(. File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 424, in concat_arrays. return np.concatenate(. File ""<__array_fun",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:3452,testability,Observ,Observation,3452,"all `.obs_names_make_unique`. filtered out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6767 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7077 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6080 genes that are detected in less than 5 cells. Traceback (most recent call last):. File ""/mypath/runMulti_scanpy.py"", line 161, in main. adata = sc.concat([adata,adata_tmp],join='outer'). File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 818, in concat. X = concat_arrays(. File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 424, in concat_arrays. return np.concatenate(. File ""<__array_function__ internals>"", line 5, in concatenate. numpy.core._exceptions.MemoryError: Unable to allocate 15.9 GiB for an array with shape (180000, 23752) a",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:3602,testability,Observ,Observation,3602,"d out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6767 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7077 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6080 genes that are detected in less than 5 cells. Traceback (most recent call last):. File ""/mypath/runMulti_scanpy.py"", line 161, in main. adata = sc.concat([adata,adata_tmp],join='outer'). File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 818, in concat. X = concat_arrays(. File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 424, in concat_arrays. return np.concatenate(. File ""<__array_function__ internals>"", line 5, in concatenate. numpy.core._exceptions.MemoryError: Unable to allocate 15.9 GiB for an array with shape (180000, 23752) and data type float32. ```. Thanks !!!",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:3752,testability,Observ,Observation,3752,"d out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6767 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7077 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6080 genes that are detected in less than 5 cells. Traceback (most recent call last):. File ""/mypath/runMulti_scanpy.py"", line 161, in main. adata = sc.concat([adata,adata_tmp],join='outer'). File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 818, in concat. X = concat_arrays(. File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 424, in concat_arrays. return np.concatenate(. File ""<__array_function__ internals>"", line 5, in concatenate. numpy.core._exceptions.MemoryError: Unable to allocate 15.9 GiB for an array with shape (180000, 23752) and data type float32. ```. Thanks !!!",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:3902,testability,Trace,Traceback,3902,"d out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6767 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7077 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6080 genes that are detected in less than 5 cells. Traceback (most recent call last):. File ""/mypath/runMulti_scanpy.py"", line 161, in main. adata = sc.concat([adata,adata_tmp],join='outer'). File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 818, in concat. X = concat_arrays(. File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 424, in concat_arrays. return np.concatenate(. File ""<__array_function__ internals>"", line 5, in concatenate. numpy.core._exceptions.MemoryError: Unable to allocate 15.9 GiB for an array with shape (180000, 23752) and data type float32. ```. Thanks !!!",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:23,usability,Memor,MemoryError,23,"numpy.core._exceptions.MemoryError: Unable to allocate 15.9 GiB for an array with shape (180000, 23752) and data type float32; - [X] I have checked that this issue has not already been reported. - [ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I used scanpy1.7 to merge different datasets, but I got the following erros. However, I successfully used Seurat3 to merge the same datasets on the same machine. In my opinion, scanpy saves more memory than seurat. ### Minimal code sample (that we can copy&paste without having any data). ```python. df = pd.read_csv(expfile[i], sep=""\t"" ,index_col=0). geneinfo = pd.DataFrame(df.index,index=df.index,columns=['gene_index']). cellinfo = pd.DataFrame(df.columns,index=df.columns,columns=['cell_index']). adata_tmp = sc.AnnData(df.T, obs=cellinfo, var = geneinfo). sc.pp.filter_cells(adata_tmp, min_genes=mingenes). sc.pp.filter_cells(adata_tmp, min_counts=minUMIs). if maxgenes <= 1:. maxgenes_new = np.percentile(adata_tmp.obs['n_genes'], 100*maxgenes)+1. else:. maxgenes_new = maxgenes. if maxUMIs <= 1:. maxUMIs_new = np.percentile(adata_tmp.obs['n_counts'], 100*maxUMIs)+1. else:. maxUMIs_new = maxUMIs. sc.pp.filter_cells(adata_tmp, max_genes=maxgenes_new). sc.pp.filter_cells(adata_tmp, max_counts=maxUMIs_new). sc.pp.filter_genes(adata_tmp, min_cells=mincells). adata_tmp.obs['sample'] = ugname[i]. adata = sc.concat([adata,adata_tmp],join='outer'). ```. ```pytb. filtered out 5508 genes that are detected in less than 5 cells. filtered out 5905 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them u",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:208,usability,confirm,confirmed,208,"numpy.core._exceptions.MemoryError: Unable to allocate 15.9 GiB for an array with shape (180000, 23752) and data type float32; - [X] I have checked that this issue has not already been reported. - [ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I used scanpy1.7 to merge different datasets, but I got the following erros. However, I successfully used Seurat3 to merge the same datasets on the same machine. In my opinion, scanpy saves more memory than seurat. ### Minimal code sample (that we can copy&paste without having any data). ```python. df = pd.read_csv(expfile[i], sep=""\t"" ,index_col=0). geneinfo = pd.DataFrame(df.index,index=df.index,columns=['gene_index']). cellinfo = pd.DataFrame(df.columns,index=df.columns,columns=['cell_index']). adata_tmp = sc.AnnData(df.T, obs=cellinfo, var = geneinfo). sc.pp.filter_cells(adata_tmp, min_genes=mingenes). sc.pp.filter_cells(adata_tmp, min_counts=minUMIs). if maxgenes <= 1:. maxgenes_new = np.percentile(adata_tmp.obs['n_genes'], 100*maxgenes)+1. else:. maxgenes_new = maxgenes. if maxUMIs <= 1:. maxUMIs_new = np.percentile(adata_tmp.obs['n_counts'], 100*maxUMIs)+1. else:. maxUMIs_new = maxUMIs. sc.pp.filter_cells(adata_tmp, max_genes=maxgenes_new). sc.pp.filter_cells(adata_tmp, max_counts=maxUMIs_new). sc.pp.filter_genes(adata_tmp, min_cells=mincells). adata_tmp.obs['sample'] = ugname[i]. adata = sc.concat([adata,adata_tmp],join='outer'). ```. ```pytb. filtered out 5508 genes that are detected in less than 5 cells. filtered out 5905 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them u",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:291,usability,confirm,confirmed,291,"numpy.core._exceptions.MemoryError: Unable to allocate 15.9 GiB for an array with shape (180000, 23752) and data type float32; - [X] I have checked that this issue has not already been reported. - [ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I used scanpy1.7 to merge different datasets, but I got the following erros. However, I successfully used Seurat3 to merge the same datasets on the same machine. In my opinion, scanpy saves more memory than seurat. ### Minimal code sample (that we can copy&paste without having any data). ```python. df = pd.read_csv(expfile[i], sep=""\t"" ,index_col=0). geneinfo = pd.DataFrame(df.index,index=df.index,columns=['gene_index']). cellinfo = pd.DataFrame(df.columns,index=df.columns,columns=['cell_index']). adata_tmp = sc.AnnData(df.T, obs=cellinfo, var = geneinfo). sc.pp.filter_cells(adata_tmp, min_genes=mingenes). sc.pp.filter_cells(adata_tmp, min_counts=minUMIs). if maxgenes <= 1:. maxgenes_new = np.percentile(adata_tmp.obs['n_genes'], 100*maxgenes)+1. else:. maxgenes_new = maxgenes. if maxUMIs <= 1:. maxUMIs_new = np.percentile(adata_tmp.obs['n_counts'], 100*maxUMIs)+1. else:. maxUMIs_new = maxUMIs. sc.pp.filter_cells(adata_tmp, max_genes=maxgenes_new). sc.pp.filter_cells(adata_tmp, max_counts=maxUMIs_new). sc.pp.filter_genes(adata_tmp, min_cells=mincells). adata_tmp.obs['sample'] = ugname[i]. adata = sc.concat([adata,adata_tmp],join='outer'). ```. ```pytb. filtered out 5508 genes that are detected in less than 5 cells. filtered out 5905 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them u",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:549,usability,memor,memory,549,"numpy.core._exceptions.MemoryError: Unable to allocate 15.9 GiB for an array with shape (180000, 23752) and data type float32; - [X] I have checked that this issue has not already been reported. - [ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I used scanpy1.7 to merge different datasets, but I got the following erros. However, I successfully used Seurat3 to merge the same datasets on the same machine. In my opinion, scanpy saves more memory than seurat. ### Minimal code sample (that we can copy&paste without having any data). ```python. df = pd.read_csv(expfile[i], sep=""\t"" ,index_col=0). geneinfo = pd.DataFrame(df.index,index=df.index,columns=['gene_index']). cellinfo = pd.DataFrame(df.columns,index=df.columns,columns=['cell_index']). adata_tmp = sc.AnnData(df.T, obs=cellinfo, var = geneinfo). sc.pp.filter_cells(adata_tmp, min_genes=mingenes). sc.pp.filter_cells(adata_tmp, min_counts=minUMIs). if maxgenes <= 1:. maxgenes_new = np.percentile(adata_tmp.obs['n_genes'], 100*maxgenes)+1. else:. maxgenes_new = maxgenes. if maxUMIs <= 1:. maxUMIs_new = np.percentile(adata_tmp.obs['n_counts'], 100*maxUMIs)+1. else:. maxUMIs_new = maxUMIs. sc.pp.filter_cells(adata_tmp, max_genes=maxgenes_new). sc.pp.filter_cells(adata_tmp, max_counts=maxUMIs_new). sc.pp.filter_genes(adata_tmp, min_cells=mincells). adata_tmp.obs['sample'] = ugname[i]. adata = sc.concat([adata,adata_tmp],join='outer'). ```. ```pytb. filtered out 5508 genes that are detected in less than 5 cells. filtered out 5905 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them u",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:573,usability,Minim,Minimal,573,"numpy.core._exceptions.MemoryError: Unable to allocate 15.9 GiB for an array with shape (180000, 23752) and data type float32; - [X] I have checked that this issue has not already been reported. - [ ] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I used scanpy1.7 to merge different datasets, but I got the following erros. However, I successfully used Seurat3 to merge the same datasets on the same machine. In my opinion, scanpy saves more memory than seurat. ### Minimal code sample (that we can copy&paste without having any data). ```python. df = pd.read_csv(expfile[i], sep=""\t"" ,index_col=0). geneinfo = pd.DataFrame(df.index,index=df.index,columns=['gene_index']). cellinfo = pd.DataFrame(df.columns,index=df.columns,columns=['cell_index']). adata_tmp = sc.AnnData(df.T, obs=cellinfo, var = geneinfo). sc.pp.filter_cells(adata_tmp, min_genes=mingenes). sc.pp.filter_cells(adata_tmp, min_counts=minUMIs). if maxgenes <= 1:. maxgenes_new = np.percentile(adata_tmp.obs['n_genes'], 100*maxgenes)+1. else:. maxgenes_new = maxgenes. if maxUMIs <= 1:. maxUMIs_new = np.percentile(adata_tmp.obs['n_counts'], 100*maxUMIs)+1. else:. maxUMIs_new = maxUMIs. sc.pp.filter_cells(adata_tmp, max_genes=maxgenes_new). sc.pp.filter_cells(adata_tmp, max_counts=maxUMIs_new). sc.pp.filter_genes(adata_tmp, min_cells=mincells). adata_tmp.obs['sample'] = ugname[i]. adata = sc.concat([adata,adata_tmp],join='outer'). ```. ```pytb. filtered out 5508 genes that are detected in less than 5 cells. filtered out 5905 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6390 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5974 genes that are detected in less than 5 cells. Observation names are not unique. To make them u",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/issues/2080:4376,usability,Memor,MemoryError,4376,"d out 6442 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5593 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6412 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6662 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6039 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6036 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 5923 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6767 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 7077 genes that are detected in less than 5 cells. Observation names are not unique. To make them unique, call `.obs_names_make_unique`. filtered out 6080 genes that are detected in less than 5 cells. Traceback (most recent call last):. File ""/mypath/runMulti_scanpy.py"", line 161, in main. adata = sc.concat([adata,adata_tmp],join='outer'). File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 818, in concat. X = concat_arrays(. File ""/mypath/scanpy1.7/lib/python3.8/site-packages/anndata/_core/merge.py"", line 424, in concat_arrays. return np.concatenate(. File ""<__array_function__ internals>"", line 5, in concatenate. numpy.core._exceptions.MemoryError: Unable to allocate 15.9 GiB for an array with shape (180000, 23752) and data type float32. ```. Thanks !!!",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2080
https://github.com/scverse/scanpy/pull/2081:105,availability,heal,health,105,"Add myself to key contributors; Hope you don't mind @ivirshup :). Was thinking about putting ""electronic health records"" there instead of e.g. ""spatial data"" like Giovanni. But wasn't sure.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2081
https://github.com/scverse/scanpy/pull/2083:124,safety,reme,remember,124,"Allow users to pass inner to sc.pl.violin when multi_panel=True; Might fix my proposed solution for #2051. @WeilerP, do you remember why you explicitly set `inner=None` here in #1422?",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2083
https://github.com/scverse/scanpy/pull/2083:6,usability,user,users,6,"Allow users to pass inner to sc.pl.violin when multi_panel=True; Might fix my proposed solution for #2051. @WeilerP, do you remember why you explicitly set `inner=None` here in #1422?",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2083
https://github.com/scverse/scanpy/issues/2085:336,availability,cluster,clustered,336,"Ingest won't integrate datasets of different lengths; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I am trying to ingest a CITEseq dataset into another clustered dataset. These datasets have different numbers of cells but I ran neighbors(n_neighbors=30) for both prior to running umap. I have confirmed that both datasets have the same variable names and the same number of variable names (38). Both objects look identical when a call adata.var. . I receive the error: ""all input arrays must have the same shape"". . ```. sc.pp.neighbors(CODEX_sub, n_neighbors=30) . sc.tl.umap(CODEX_sub). sc.pp.neighbors(adata_sub, n_neighbors = 30). sc.tl.umap(adata_sub). sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-214-01a03312d3df> in <module>. ----> 1 sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ingest(adata, adata_ref, obs, embedding_method, labeling_method, neighbors_key, inplace, **kwargs). 124 labeling_method = labeling_method * len(obs). 125 . --> 126 ing = Ingest(adata_ref, neighbors_key). 127 ing.fit(adata). 128 . ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in __init__(self, adata, neighbors_key). 383 . 384 if neighbors_key in adata.uns:. --> 385 self._init_neighbors(adata, neighbors_key). 386 else:. 387 raise ValueError(. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_neighbors(self, adata, neighbors_key). 349 else:. 350 self._neigh_random_state = neighbors['params'].get('random_state', 0). --> 351 self._init_pynndescent(neighbors['distances']). 352 . 353 def _init_pca(self, adata):. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2085
https://github.com/scverse/scanpy/issues/2085:646,availability,error,error,646,"Ingest won't integrate datasets of different lengths; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I am trying to ingest a CITEseq dataset into another clustered dataset. These datasets have different numbers of cells but I ran neighbors(n_neighbors=30) for both prior to running umap. I have confirmed that both datasets have the same variable names and the same number of variable names (38). Both objects look identical when a call adata.var. . I receive the error: ""all input arrays must have the same shape"". . ```. sc.pp.neighbors(CODEX_sub, n_neighbors=30) . sc.tl.umap(CODEX_sub). sc.pp.neighbors(adata_sub, n_neighbors = 30). sc.tl.umap(adata_sub). sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-214-01a03312d3df> in <module>. ----> 1 sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ingest(adata, adata_ref, obs, embedding_method, labeling_method, neighbors_key, inplace, **kwargs). 124 labeling_method = labeling_method * len(obs). 125 . --> 126 ing = Ingest(adata_ref, neighbors_key). 127 ing.fit(adata). 128 . ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in __init__(self, adata, neighbors_key). 383 . 384 if neighbors_key in adata.uns:. --> 385 self._init_neighbors(adata, neighbors_key). 386 else:. 387 raise ValueError(. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_neighbors(self, adata, neighbors_key). 349 else:. 350 self._neigh_random_state = neighbors['params'].get('random_state', 0). --> 351 self._init_pynndescent(neighbors['distances']). 352 . 353 def _init_pca(self, adata):. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2085
https://github.com/scverse/scanpy/issues/2085:13,deployability,integr,integrate,13,"Ingest won't integrate datasets of different lengths; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I am trying to ingest a CITEseq dataset into another clustered dataset. These datasets have different numbers of cells but I ran neighbors(n_neighbors=30) for both prior to running umap. I have confirmed that both datasets have the same variable names and the same number of variable names (38). Both objects look identical when a call adata.var. . I receive the error: ""all input arrays must have the same shape"". . ```. sc.pp.neighbors(CODEX_sub, n_neighbors=30) . sc.tl.umap(CODEX_sub). sc.pp.neighbors(adata_sub, n_neighbors = 30). sc.tl.umap(adata_sub). sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-214-01a03312d3df> in <module>. ----> 1 sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ingest(adata, adata_ref, obs, embedding_method, labeling_method, neighbors_key, inplace, **kwargs). 124 labeling_method = labeling_method * len(obs). 125 . --> 126 ing = Ingest(adata_ref, neighbors_key). 127 ing.fit(adata). 128 . ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in __init__(self, adata, neighbors_key). 383 . 384 if neighbors_key in adata.uns:. --> 385 self._init_neighbors(adata, neighbors_key). 386 else:. 387 raise ValueError(. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_neighbors(self, adata, neighbors_key). 349 else:. 350 self._neigh_random_state = neighbors['params'].get('random_state', 0). --> 351 self._init_pynndescent(neighbors['distances']). 352 . 353 def _init_pca(self, adata):. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2085
https://github.com/scverse/scanpy/issues/2085:177,deployability,version,version,177,"Ingest won't integrate datasets of different lengths; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I am trying to ingest a CITEseq dataset into another clustered dataset. These datasets have different numbers of cells but I ran neighbors(n_neighbors=30) for both prior to running umap. I have confirmed that both datasets have the same variable names and the same number of variable names (38). Both objects look identical when a call adata.var. . I receive the error: ""all input arrays must have the same shape"". . ```. sc.pp.neighbors(CODEX_sub, n_neighbors=30) . sc.tl.umap(CODEX_sub). sc.pp.neighbors(adata_sub, n_neighbors = 30). sc.tl.umap(adata_sub). sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-214-01a03312d3df> in <module>. ----> 1 sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ingest(adata, adata_ref, obs, embedding_method, labeling_method, neighbors_key, inplace, **kwargs). 124 labeling_method = labeling_method * len(obs). 125 . --> 126 ing = Ingest(adata_ref, neighbors_key). 127 ing.fit(adata). 128 . ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in __init__(self, adata, neighbors_key). 383 . 384 if neighbors_key in adata.uns:. --> 385 self._init_neighbors(adata, neighbors_key). 386 else:. 387 raise ValueError(. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_neighbors(self, adata, neighbors_key). 349 else:. 350 self._neigh_random_state = neighbors['params'].get('random_state', 0). --> 351 self._init_pynndescent(neighbors['distances']). 352 . 353 def _init_pca(self, adata):. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2085
https://github.com/scverse/scanpy/issues/2085:336,deployability,cluster,clustered,336,"Ingest won't integrate datasets of different lengths; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I am trying to ingest a CITEseq dataset into another clustered dataset. These datasets have different numbers of cells but I ran neighbors(n_neighbors=30) for both prior to running umap. I have confirmed that both datasets have the same variable names and the same number of variable names (38). Both objects look identical when a call adata.var. . I receive the error: ""all input arrays must have the same shape"". . ```. sc.pp.neighbors(CODEX_sub, n_neighbors=30) . sc.tl.umap(CODEX_sub). sc.pp.neighbors(adata_sub, n_neighbors = 30). sc.tl.umap(adata_sub). sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-214-01a03312d3df> in <module>. ----> 1 sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ingest(adata, adata_ref, obs, embedding_method, labeling_method, neighbors_key, inplace, **kwargs). 124 labeling_method = labeling_method * len(obs). 125 . --> 126 ing = Ingest(adata_ref, neighbors_key). 127 ing.fit(adata). 128 . ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in __init__(self, adata, neighbors_key). 383 . 384 if neighbors_key in adata.uns:. --> 385 self._init_neighbors(adata, neighbors_key). 386 else:. 387 raise ValueError(. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_neighbors(self, adata, neighbors_key). 349 else:. 350 self._neigh_random_state = neighbors['params'].get('random_state', 0). --> 351 self._init_pynndescent(neighbors['distances']). 352 . 353 def _init_pca(self, adata):. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2085
https://github.com/scverse/scanpy/issues/2085:1014,deployability,modul,module,1014,"grate datasets of different lengths; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I am trying to ingest a CITEseq dataset into another clustered dataset. These datasets have different numbers of cells but I ran neighbors(n_neighbors=30) for both prior to running umap. I have confirmed that both datasets have the same variable names and the same number of variable names (38). Both objects look identical when a call adata.var. . I receive the error: ""all input arrays must have the same shape"". . ```. sc.pp.neighbors(CODEX_sub, n_neighbors=30) . sc.tl.umap(CODEX_sub). sc.pp.neighbors(adata_sub, n_neighbors = 30). sc.tl.umap(adata_sub). sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-214-01a03312d3df> in <module>. ----> 1 sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ingest(adata, adata_ref, obs, embedding_method, labeling_method, neighbors_key, inplace, **kwargs). 124 labeling_method = labeling_method * len(obs). 125 . --> 126 ing = Ingest(adata_ref, neighbors_key). 127 ing.fit(adata). 128 . ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in __init__(self, adata, neighbors_key). 383 . 384 if neighbors_key in adata.uns:. --> 385 self._init_neighbors(adata, neighbors_key). 386 else:. 387 raise ValueError(. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_neighbors(self, adata, neighbors_key). 349 else:. 350 self._neigh_random_state = neighbors['params'].get('random_state', 0). --> 351 self._init_pynndescent(neighbors['distances']). 352 . 353 def _init_pca(self, adata):. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_pynndescent",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2085
https://github.com/scverse/scanpy/issues/2085:2146,deployability,stack,stack,2146,"rs(adata_sub, n_neighbors = 30). sc.tl.umap(adata_sub). sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-214-01a03312d3df> in <module>. ----> 1 sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ingest(adata, adata_ref, obs, embedding_method, labeling_method, neighbors_key, inplace, **kwargs). 124 labeling_method = labeling_method * len(obs). 125 . --> 126 ing = Ingest(adata_ref, neighbors_key). 127 ing.fit(adata). 128 . ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in __init__(self, adata, neighbors_key). 383 . 384 if neighbors_key in adata.uns:. --> 385 self._init_neighbors(adata, neighbors_key). 386 else:. 387 raise ValueError(. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_neighbors(self, adata, neighbors_key). 349 else:. 350 self._neigh_random_state = neighbors['params'].get('random_state', 0). --> 351 self._init_pynndescent(neighbors['distances']). 352 . 353 def _init_pca(self, adata):. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_pynndescent(self, distances). 284 . 285 first_col = np.arange(distances.shape[0])[:, None]. --> 286 init_indices = np.hstack((first_col, np.stack(distances.tolil().rows))). 287 . 288 self._nnd_idx = NNDescent(. <__array_function__ internals> in stack(*args, **kwargs). ~\anaconda3\envs\scenv\lib\site-packages\numpy\core\shape_base.py in stack(arrays, axis, out). 424 shapes = {arr.shape for arr in arrays}. 425 if len(shapes) != 1:. --> 426 raise ValueError('all input arrays must have the same shape'). 427 . 428 result_ndim = arrays[0].ndim + 1. ValueError: all input arrays must have the same shape. ```. #### Versions. scanpy==1.7.0 anndata==0.7.6 umap==0.5.1 numpy==1.21.1 scipy==1.7.0 pandas==1.2.5 scikit-learn==0.24.2 statsmodels==0.12.2 python-igraph==0.9.8. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2085
https://github.com/scverse/scanpy/issues/2085:2251,deployability,stack,stack,2251,"rs(adata_sub, n_neighbors = 30). sc.tl.umap(adata_sub). sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-214-01a03312d3df> in <module>. ----> 1 sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ingest(adata, adata_ref, obs, embedding_method, labeling_method, neighbors_key, inplace, **kwargs). 124 labeling_method = labeling_method * len(obs). 125 . --> 126 ing = Ingest(adata_ref, neighbors_key). 127 ing.fit(adata). 128 . ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in __init__(self, adata, neighbors_key). 383 . 384 if neighbors_key in adata.uns:. --> 385 self._init_neighbors(adata, neighbors_key). 386 else:. 387 raise ValueError(. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_neighbors(self, adata, neighbors_key). 349 else:. 350 self._neigh_random_state = neighbors['params'].get('random_state', 0). --> 351 self._init_pynndescent(neighbors['distances']). 352 . 353 def _init_pca(self, adata):. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_pynndescent(self, distances). 284 . 285 first_col = np.arange(distances.shape[0])[:, None]. --> 286 init_indices = np.hstack((first_col, np.stack(distances.tolil().rows))). 287 . 288 self._nnd_idx = NNDescent(. <__array_function__ internals> in stack(*args, **kwargs). ~\anaconda3\envs\scenv\lib\site-packages\numpy\core\shape_base.py in stack(arrays, axis, out). 424 shapes = {arr.shape for arr in arrays}. 425 if len(shapes) != 1:. --> 426 raise ValueError('all input arrays must have the same shape'). 427 . 428 result_ndim = arrays[0].ndim + 1. ValueError: all input arrays must have the same shape. ```. #### Versions. scanpy==1.7.0 anndata==0.7.6 umap==0.5.1 numpy==1.21.1 scipy==1.7.0 pandas==1.2.5 scikit-learn==0.24.2 statsmodels==0.12.2 python-igraph==0.9.8. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2085
https://github.com/scverse/scanpy/issues/2085:2344,deployability,stack,stack,2344,"rs(adata_sub, n_neighbors = 30). sc.tl.umap(adata_sub). sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-214-01a03312d3df> in <module>. ----> 1 sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ingest(adata, adata_ref, obs, embedding_method, labeling_method, neighbors_key, inplace, **kwargs). 124 labeling_method = labeling_method * len(obs). 125 . --> 126 ing = Ingest(adata_ref, neighbors_key). 127 ing.fit(adata). 128 . ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in __init__(self, adata, neighbors_key). 383 . 384 if neighbors_key in adata.uns:. --> 385 self._init_neighbors(adata, neighbors_key). 386 else:. 387 raise ValueError(. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_neighbors(self, adata, neighbors_key). 349 else:. 350 self._neigh_random_state = neighbors['params'].get('random_state', 0). --> 351 self._init_pynndescent(neighbors['distances']). 352 . 353 def _init_pca(self, adata):. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_pynndescent(self, distances). 284 . 285 first_col = np.arange(distances.shape[0])[:, None]. --> 286 init_indices = np.hstack((first_col, np.stack(distances.tolil().rows))). 287 . 288 self._nnd_idx = NNDescent(. <__array_function__ internals> in stack(*args, **kwargs). ~\anaconda3\envs\scenv\lib\site-packages\numpy\core\shape_base.py in stack(arrays, axis, out). 424 shapes = {arr.shape for arr in arrays}. 425 if len(shapes) != 1:. --> 426 raise ValueError('all input arrays must have the same shape'). 427 . 428 result_ndim = arrays[0].ndim + 1. ValueError: all input arrays must have the same shape. ```. #### Versions. scanpy==1.7.0 anndata==0.7.6 umap==0.5.1 numpy==1.21.1 scipy==1.7.0 pandas==1.2.5 scikit-learn==0.24.2 statsmodels==0.12.2 python-igraph==0.9.8. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2085
https://github.com/scverse/scanpy/issues/2085:2620,deployability,Version,Versions,2620,"rs(adata_sub, n_neighbors = 30). sc.tl.umap(adata_sub). sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-214-01a03312d3df> in <module>. ----> 1 sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ingest(adata, adata_ref, obs, embedding_method, labeling_method, neighbors_key, inplace, **kwargs). 124 labeling_method = labeling_method * len(obs). 125 . --> 126 ing = Ingest(adata_ref, neighbors_key). 127 ing.fit(adata). 128 . ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in __init__(self, adata, neighbors_key). 383 . 384 if neighbors_key in adata.uns:. --> 385 self._init_neighbors(adata, neighbors_key). 386 else:. 387 raise ValueError(. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_neighbors(self, adata, neighbors_key). 349 else:. 350 self._neigh_random_state = neighbors['params'].get('random_state', 0). --> 351 self._init_pynndescent(neighbors['distances']). 352 . 353 def _init_pca(self, adata):. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_pynndescent(self, distances). 284 . 285 first_col = np.arange(distances.shape[0])[:, None]. --> 286 init_indices = np.hstack((first_col, np.stack(distances.tolil().rows))). 287 . 288 self._nnd_idx = NNDescent(. <__array_function__ internals> in stack(*args, **kwargs). ~\anaconda3\envs\scenv\lib\site-packages\numpy\core\shape_base.py in stack(arrays, axis, out). 424 shapes = {arr.shape for arr in arrays}. 425 if len(shapes) != 1:. --> 426 raise ValueError('all input arrays must have the same shape'). 427 . 428 result_ndim = arrays[0].ndim + 1. ValueError: all input arrays must have the same shape. ```. #### Versions. scanpy==1.7.0 anndata==0.7.6 umap==0.5.1 numpy==1.21.1 scipy==1.7.0 pandas==1.2.5 scikit-learn==0.24.2 statsmodels==0.12.2 python-igraph==0.9.8. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2085
https://github.com/scverse/scanpy/issues/2085:2322,energy efficiency,core,core,2322,"rs(adata_sub, n_neighbors = 30). sc.tl.umap(adata_sub). sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-214-01a03312d3df> in <module>. ----> 1 sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ingest(adata, adata_ref, obs, embedding_method, labeling_method, neighbors_key, inplace, **kwargs). 124 labeling_method = labeling_method * len(obs). 125 . --> 126 ing = Ingest(adata_ref, neighbors_key). 127 ing.fit(adata). 128 . ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in __init__(self, adata, neighbors_key). 383 . 384 if neighbors_key in adata.uns:. --> 385 self._init_neighbors(adata, neighbors_key). 386 else:. 387 raise ValueError(. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_neighbors(self, adata, neighbors_key). 349 else:. 350 self._neigh_random_state = neighbors['params'].get('random_state', 0). --> 351 self._init_pynndescent(neighbors['distances']). 352 . 353 def _init_pca(self, adata):. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_pynndescent(self, distances). 284 . 285 first_col = np.arange(distances.shape[0])[:, None]. --> 286 init_indices = np.hstack((first_col, np.stack(distances.tolil().rows))). 287 . 288 self._nnd_idx = NNDescent(. <__array_function__ internals> in stack(*args, **kwargs). ~\anaconda3\envs\scenv\lib\site-packages\numpy\core\shape_base.py in stack(arrays, axis, out). 424 shapes = {arr.shape for arr in arrays}. 425 if len(shapes) != 1:. --> 426 raise ValueError('all input arrays must have the same shape'). 427 . 428 result_ndim = arrays[0].ndim + 1. ValueError: all input arrays must have the same shape. ```. #### Versions. scanpy==1.7.0 anndata==0.7.6 umap==0.5.1 numpy==1.21.1 scipy==1.7.0 pandas==1.2.5 scikit-learn==0.24.2 statsmodels==0.12.2 python-igraph==0.9.8. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2085
https://github.com/scverse/scanpy/issues/2085:13,integrability,integr,integrate,13,"Ingest won't integrate datasets of different lengths; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I am trying to ingest a CITEseq dataset into another clustered dataset. These datasets have different numbers of cells but I ran neighbors(n_neighbors=30) for both prior to running umap. I have confirmed that both datasets have the same variable names and the same number of variable names (38). Both objects look identical when a call adata.var. . I receive the error: ""all input arrays must have the same shape"". . ```. sc.pp.neighbors(CODEX_sub, n_neighbors=30) . sc.tl.umap(CODEX_sub). sc.pp.neighbors(adata_sub, n_neighbors = 30). sc.tl.umap(adata_sub). sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-214-01a03312d3df> in <module>. ----> 1 sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ingest(adata, adata_ref, obs, embedding_method, labeling_method, neighbors_key, inplace, **kwargs). 124 labeling_method = labeling_method * len(obs). 125 . --> 126 ing = Ingest(adata_ref, neighbors_key). 127 ing.fit(adata). 128 . ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in __init__(self, adata, neighbors_key). 383 . 384 if neighbors_key in adata.uns:. --> 385 self._init_neighbors(adata, neighbors_key). 386 else:. 387 raise ValueError(. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_neighbors(self, adata, neighbors_key). 349 else:. 350 self._neigh_random_state = neighbors['params'].get('random_state', 0). --> 351 self._init_pynndescent(neighbors['distances']). 352 . 353 def _init_pca(self, adata):. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2085
https://github.com/scverse/scanpy/issues/2085:177,integrability,version,version,177,"Ingest won't integrate datasets of different lengths; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I am trying to ingest a CITEseq dataset into another clustered dataset. These datasets have different numbers of cells but I ran neighbors(n_neighbors=30) for both prior to running umap. I have confirmed that both datasets have the same variable names and the same number of variable names (38). Both objects look identical when a call adata.var. . I receive the error: ""all input arrays must have the same shape"". . ```. sc.pp.neighbors(CODEX_sub, n_neighbors=30) . sc.tl.umap(CODEX_sub). sc.pp.neighbors(adata_sub, n_neighbors = 30). sc.tl.umap(adata_sub). sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-214-01a03312d3df> in <module>. ----> 1 sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ingest(adata, adata_ref, obs, embedding_method, labeling_method, neighbors_key, inplace, **kwargs). 124 labeling_method = labeling_method * len(obs). 125 . --> 126 ing = Ingest(adata_ref, neighbors_key). 127 ing.fit(adata). 128 . ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in __init__(self, adata, neighbors_key). 383 . 384 if neighbors_key in adata.uns:. --> 385 self._init_neighbors(adata, neighbors_key). 386 else:. 387 raise ValueError(. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_neighbors(self, adata, neighbors_key). 349 else:. 350 self._neigh_random_state = neighbors['params'].get('random_state', 0). --> 351 self._init_pynndescent(neighbors['distances']). 352 . 353 def _init_pca(self, adata):. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2085
https://github.com/scverse/scanpy/issues/2085:2620,integrability,Version,Versions,2620,"rs(adata_sub, n_neighbors = 30). sc.tl.umap(adata_sub). sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-214-01a03312d3df> in <module>. ----> 1 sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ingest(adata, adata_ref, obs, embedding_method, labeling_method, neighbors_key, inplace, **kwargs). 124 labeling_method = labeling_method * len(obs). 125 . --> 126 ing = Ingest(adata_ref, neighbors_key). 127 ing.fit(adata). 128 . ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in __init__(self, adata, neighbors_key). 383 . 384 if neighbors_key in adata.uns:. --> 385 self._init_neighbors(adata, neighbors_key). 386 else:. 387 raise ValueError(. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_neighbors(self, adata, neighbors_key). 349 else:. 350 self._neigh_random_state = neighbors['params'].get('random_state', 0). --> 351 self._init_pynndescent(neighbors['distances']). 352 . 353 def _init_pca(self, adata):. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_pynndescent(self, distances). 284 . 285 first_col = np.arange(distances.shape[0])[:, None]. --> 286 init_indices = np.hstack((first_col, np.stack(distances.tolil().rows))). 287 . 288 self._nnd_idx = NNDescent(. <__array_function__ internals> in stack(*args, **kwargs). ~\anaconda3\envs\scenv\lib\site-packages\numpy\core\shape_base.py in stack(arrays, axis, out). 424 shapes = {arr.shape for arr in arrays}. 425 if len(shapes) != 1:. --> 426 raise ValueError('all input arrays must have the same shape'). 427 . 428 result_ndim = arrays[0].ndim + 1. ValueError: all input arrays must have the same shape. ```. #### Versions. scanpy==1.7.0 anndata==0.7.6 umap==0.5.1 numpy==1.21.1 scipy==1.7.0 pandas==1.2.5 scikit-learn==0.24.2 statsmodels==0.12.2 python-igraph==0.9.8. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2085
https://github.com/scverse/scanpy/issues/2085:13,interoperability,integr,integrate,13,"Ingest won't integrate datasets of different lengths; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I am trying to ingest a CITEseq dataset into another clustered dataset. These datasets have different numbers of cells but I ran neighbors(n_neighbors=30) for both prior to running umap. I have confirmed that both datasets have the same variable names and the same number of variable names (38). Both objects look identical when a call adata.var. . I receive the error: ""all input arrays must have the same shape"". . ```. sc.pp.neighbors(CODEX_sub, n_neighbors=30) . sc.tl.umap(CODEX_sub). sc.pp.neighbors(adata_sub, n_neighbors = 30). sc.tl.umap(adata_sub). sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-214-01a03312d3df> in <module>. ----> 1 sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ingest(adata, adata_ref, obs, embedding_method, labeling_method, neighbors_key, inplace, **kwargs). 124 labeling_method = labeling_method * len(obs). 125 . --> 126 ing = Ingest(adata_ref, neighbors_key). 127 ing.fit(adata). 128 . ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in __init__(self, adata, neighbors_key). 383 . 384 if neighbors_key in adata.uns:. --> 385 self._init_neighbors(adata, neighbors_key). 386 else:. 387 raise ValueError(. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_neighbors(self, adata, neighbors_key). 349 else:. 350 self._neigh_random_state = neighbors['params'].get('random_state', 0). --> 351 self._init_pynndescent(neighbors['distances']). 352 . 353 def _init_pca(self, adata):. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2085
https://github.com/scverse/scanpy/issues/2085:13,modifiability,integr,integrate,13,"Ingest won't integrate datasets of different lengths; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I am trying to ingest a CITEseq dataset into another clustered dataset. These datasets have different numbers of cells but I ran neighbors(n_neighbors=30) for both prior to running umap. I have confirmed that both datasets have the same variable names and the same number of variable names (38). Both objects look identical when a call adata.var. . I receive the error: ""all input arrays must have the same shape"". . ```. sc.pp.neighbors(CODEX_sub, n_neighbors=30) . sc.tl.umap(CODEX_sub). sc.pp.neighbors(adata_sub, n_neighbors = 30). sc.tl.umap(adata_sub). sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-214-01a03312d3df> in <module>. ----> 1 sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ingest(adata, adata_ref, obs, embedding_method, labeling_method, neighbors_key, inplace, **kwargs). 124 labeling_method = labeling_method * len(obs). 125 . --> 126 ing = Ingest(adata_ref, neighbors_key). 127 ing.fit(adata). 128 . ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in __init__(self, adata, neighbors_key). 383 . 384 if neighbors_key in adata.uns:. --> 385 self._init_neighbors(adata, neighbors_key). 386 else:. 387 raise ValueError(. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_neighbors(self, adata, neighbors_key). 349 else:. 350 self._neigh_random_state = neighbors['params'].get('random_state', 0). --> 351 self._init_pynndescent(neighbors['distances']). 352 . 353 def _init_pca(self, adata):. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2085
https://github.com/scverse/scanpy/issues/2085:177,modifiability,version,version,177,"Ingest won't integrate datasets of different lengths; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I am trying to ingest a CITEseq dataset into another clustered dataset. These datasets have different numbers of cells but I ran neighbors(n_neighbors=30) for both prior to running umap. I have confirmed that both datasets have the same variable names and the same number of variable names (38). Both objects look identical when a call adata.var. . I receive the error: ""all input arrays must have the same shape"". . ```. sc.pp.neighbors(CODEX_sub, n_neighbors=30) . sc.tl.umap(CODEX_sub). sc.pp.neighbors(adata_sub, n_neighbors = 30). sc.tl.umap(adata_sub). sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-214-01a03312d3df> in <module>. ----> 1 sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ingest(adata, adata_ref, obs, embedding_method, labeling_method, neighbors_key, inplace, **kwargs). 124 labeling_method = labeling_method * len(obs). 125 . --> 126 ing = Ingest(adata_ref, neighbors_key). 127 ing.fit(adata). 128 . ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in __init__(self, adata, neighbors_key). 383 . 384 if neighbors_key in adata.uns:. --> 385 self._init_neighbors(adata, neighbors_key). 386 else:. 387 raise ValueError(. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_neighbors(self, adata, neighbors_key). 349 else:. 350 self._neigh_random_state = neighbors['params'].get('random_state', 0). --> 351 self._init_pynndescent(neighbors['distances']). 352 . 353 def _init_pca(self, adata):. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2085
https://github.com/scverse/scanpy/issues/2085:520,modifiability,variab,variable,520,"Ingest won't integrate datasets of different lengths; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I am trying to ingest a CITEseq dataset into another clustered dataset. These datasets have different numbers of cells but I ran neighbors(n_neighbors=30) for both prior to running umap. I have confirmed that both datasets have the same variable names and the same number of variable names (38). Both objects look identical when a call adata.var. . I receive the error: ""all input arrays must have the same shape"". . ```. sc.pp.neighbors(CODEX_sub, n_neighbors=30) . sc.tl.umap(CODEX_sub). sc.pp.neighbors(adata_sub, n_neighbors = 30). sc.tl.umap(adata_sub). sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-214-01a03312d3df> in <module>. ----> 1 sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ingest(adata, adata_ref, obs, embedding_method, labeling_method, neighbors_key, inplace, **kwargs). 124 labeling_method = labeling_method * len(obs). 125 . --> 126 ing = Ingest(adata_ref, neighbors_key). 127 ing.fit(adata). 128 . ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in __init__(self, adata, neighbors_key). 383 . 384 if neighbors_key in adata.uns:. --> 385 self._init_neighbors(adata, neighbors_key). 386 else:. 387 raise ValueError(. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_neighbors(self, adata, neighbors_key). 349 else:. 350 self._neigh_random_state = neighbors['params'].get('random_state', 0). --> 351 self._init_pynndescent(neighbors['distances']). 352 . 353 def _init_pca(self, adata):. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2085
https://github.com/scverse/scanpy/issues/2085:558,modifiability,variab,variable,558,"Ingest won't integrate datasets of different lengths; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I am trying to ingest a CITEseq dataset into another clustered dataset. These datasets have different numbers of cells but I ran neighbors(n_neighbors=30) for both prior to running umap. I have confirmed that both datasets have the same variable names and the same number of variable names (38). Both objects look identical when a call adata.var. . I receive the error: ""all input arrays must have the same shape"". . ```. sc.pp.neighbors(CODEX_sub, n_neighbors=30) . sc.tl.umap(CODEX_sub). sc.pp.neighbors(adata_sub, n_neighbors = 30). sc.tl.umap(adata_sub). sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-214-01a03312d3df> in <module>. ----> 1 sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ingest(adata, adata_ref, obs, embedding_method, labeling_method, neighbors_key, inplace, **kwargs). 124 labeling_method = labeling_method * len(obs). 125 . --> 126 ing = Ingest(adata_ref, neighbors_key). 127 ing.fit(adata). 128 . ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in __init__(self, adata, neighbors_key). 383 . 384 if neighbors_key in adata.uns:. --> 385 self._init_neighbors(adata, neighbors_key). 386 else:. 387 raise ValueError(. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_neighbors(self, adata, neighbors_key). 349 else:. 350 self._neigh_random_state = neighbors['params'].get('random_state', 0). --> 351 self._init_pynndescent(neighbors['distances']). 352 . 353 def _init_pca(self, adata):. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2085
https://github.com/scverse/scanpy/issues/2085:1014,modifiability,modul,module,1014,"grate datasets of different lengths; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I am trying to ingest a CITEseq dataset into another clustered dataset. These datasets have different numbers of cells but I ran neighbors(n_neighbors=30) for both prior to running umap. I have confirmed that both datasets have the same variable names and the same number of variable names (38). Both objects look identical when a call adata.var. . I receive the error: ""all input arrays must have the same shape"". . ```. sc.pp.neighbors(CODEX_sub, n_neighbors=30) . sc.tl.umap(CODEX_sub). sc.pp.neighbors(adata_sub, n_neighbors = 30). sc.tl.umap(adata_sub). sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-214-01a03312d3df> in <module>. ----> 1 sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ingest(adata, adata_ref, obs, embedding_method, labeling_method, neighbors_key, inplace, **kwargs). 124 labeling_method = labeling_method * len(obs). 125 . --> 126 ing = Ingest(adata_ref, neighbors_key). 127 ing.fit(adata). 128 . ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in __init__(self, adata, neighbors_key). 383 . 384 if neighbors_key in adata.uns:. --> 385 self._init_neighbors(adata, neighbors_key). 386 else:. 387 raise ValueError(. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_neighbors(self, adata, neighbors_key). 349 else:. 350 self._neigh_random_state = neighbors['params'].get('random_state', 0). --> 351 self._init_pynndescent(neighbors['distances']). 352 . 353 def _init_pca(self, adata):. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_pynndescent",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2085
https://github.com/scverse/scanpy/issues/2085:1138,modifiability,pac,packages,1138,"rmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I am trying to ingest a CITEseq dataset into another clustered dataset. These datasets have different numbers of cells but I ran neighbors(n_neighbors=30) for both prior to running umap. I have confirmed that both datasets have the same variable names and the same number of variable names (38). Both objects look identical when a call adata.var. . I receive the error: ""all input arrays must have the same shape"". . ```. sc.pp.neighbors(CODEX_sub, n_neighbors=30) . sc.tl.umap(CODEX_sub). sc.pp.neighbors(adata_sub, n_neighbors = 30). sc.tl.umap(adata_sub). sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-214-01a03312d3df> in <module>. ----> 1 sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ingest(adata, adata_ref, obs, embedding_method, labeling_method, neighbors_key, inplace, **kwargs). 124 labeling_method = labeling_method * len(obs). 125 . --> 126 ing = Ingest(adata_ref, neighbors_key). 127 ing.fit(adata). 128 . ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in __init__(self, adata, neighbors_key). 383 . 384 if neighbors_key in adata.uns:. --> 385 self._init_neighbors(adata, neighbors_key). 386 else:. 387 raise ValueError(. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_neighbors(self, adata, neighbors_key). 349 else:. 350 self._neigh_random_state = neighbors['params'].get('random_state', 0). --> 351 self._init_pynndescent(neighbors['distances']). 352 . 353 def _init_pca(self, adata):. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_pynndescent(self, distances). 284 . 285 first_col = np.arange(distances.shape[0])[:, None]. --> 286 init_indices = np.hstack((first_col,",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2085
https://github.com/scverse/scanpy/issues/2085:1436,modifiability,pac,packages,1436,"r both prior to running umap. I have confirmed that both datasets have the same variable names and the same number of variable names (38). Both objects look identical when a call adata.var. . I receive the error: ""all input arrays must have the same shape"". . ```. sc.pp.neighbors(CODEX_sub, n_neighbors=30) . sc.tl.umap(CODEX_sub). sc.pp.neighbors(adata_sub, n_neighbors = 30). sc.tl.umap(adata_sub). sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-214-01a03312d3df> in <module>. ----> 1 sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ingest(adata, adata_ref, obs, embedding_method, labeling_method, neighbors_key, inplace, **kwargs). 124 labeling_method = labeling_method * len(obs). 125 . --> 126 ing = Ingest(adata_ref, neighbors_key). 127 ing.fit(adata). 128 . ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in __init__(self, adata, neighbors_key). 383 . 384 if neighbors_key in adata.uns:. --> 385 self._init_neighbors(adata, neighbors_key). 386 else:. 387 raise ValueError(. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_neighbors(self, adata, neighbors_key). 349 else:. 350 self._neigh_random_state = neighbors['params'].get('random_state', 0). --> 351 self._init_pynndescent(neighbors['distances']). 352 . 353 def _init_pca(self, adata):. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_pynndescent(self, distances). 284 . 285 first_col = np.arange(distances.shape[0])[:, None]. --> 286 init_indices = np.hstack((first_col, np.stack(distances.tolil().rows))). 287 . 288 self._nnd_idx = NNDescent(. <__array_function__ internals> in stack(*args, **kwargs). ~\anaconda3\envs\scenv\lib\site-packages\numpy\core\shape_base.py in stack(arrays, axis, out). 424 shapes = {arr.shape for arr in arrays}. 425 if len(shapes) != 1:. ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2085
https://github.com/scverse/scanpy/issues/2085:1670,modifiability,pac,packages,1670,"t have the same shape"". . ```. sc.pp.neighbors(CODEX_sub, n_neighbors=30) . sc.tl.umap(CODEX_sub). sc.pp.neighbors(adata_sub, n_neighbors = 30). sc.tl.umap(adata_sub). sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-214-01a03312d3df> in <module>. ----> 1 sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ingest(adata, adata_ref, obs, embedding_method, labeling_method, neighbors_key, inplace, **kwargs). 124 labeling_method = labeling_method * len(obs). 125 . --> 126 ing = Ingest(adata_ref, neighbors_key). 127 ing.fit(adata). 128 . ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in __init__(self, adata, neighbors_key). 383 . 384 if neighbors_key in adata.uns:. --> 385 self._init_neighbors(adata, neighbors_key). 386 else:. 387 raise ValueError(. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_neighbors(self, adata, neighbors_key). 349 else:. 350 self._neigh_random_state = neighbors['params'].get('random_state', 0). --> 351 self._init_pynndescent(neighbors['distances']). 352 . 353 def _init_pca(self, adata):. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_pynndescent(self, distances). 284 . 285 first_col = np.arange(distances.shape[0])[:, None]. --> 286 init_indices = np.hstack((first_col, np.stack(distances.tolil().rows))). 287 . 288 self._nnd_idx = NNDescent(. <__array_function__ internals> in stack(*args, **kwargs). ~\anaconda3\envs\scenv\lib\site-packages\numpy\core\shape_base.py in stack(arrays, axis, out). 424 shapes = {arr.shape for arr in arrays}. 425 if len(shapes) != 1:. --> 426 raise ValueError('all input arrays must have the same shape'). 427 . 428 result_ndim = arrays[0].ndim + 1. ValueError: all input arrays must have the same shape. ```. #### Versions. scanpy==1.7.0 anndata==0.7.6 umap==0.5.1 num",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2085
https://github.com/scverse/scanpy/issues/2085:1964,modifiability,pac,packages,1964,"rs(adata_sub, n_neighbors = 30). sc.tl.umap(adata_sub). sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-214-01a03312d3df> in <module>. ----> 1 sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ingest(adata, adata_ref, obs, embedding_method, labeling_method, neighbors_key, inplace, **kwargs). 124 labeling_method = labeling_method * len(obs). 125 . --> 126 ing = Ingest(adata_ref, neighbors_key). 127 ing.fit(adata). 128 . ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in __init__(self, adata, neighbors_key). 383 . 384 if neighbors_key in adata.uns:. --> 385 self._init_neighbors(adata, neighbors_key). 386 else:. 387 raise ValueError(. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_neighbors(self, adata, neighbors_key). 349 else:. 350 self._neigh_random_state = neighbors['params'].get('random_state', 0). --> 351 self._init_pynndescent(neighbors['distances']). 352 . 353 def _init_pca(self, adata):. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_pynndescent(self, distances). 284 . 285 first_col = np.arange(distances.shape[0])[:, None]. --> 286 init_indices = np.hstack((first_col, np.stack(distances.tolil().rows))). 287 . 288 self._nnd_idx = NNDescent(. <__array_function__ internals> in stack(*args, **kwargs). ~\anaconda3\envs\scenv\lib\site-packages\numpy\core\shape_base.py in stack(arrays, axis, out). 424 shapes = {arr.shape for arr in arrays}. 425 if len(shapes) != 1:. --> 426 raise ValueError('all input arrays must have the same shape'). 427 . 428 result_ndim = arrays[0].ndim + 1. ValueError: all input arrays must have the same shape. ```. #### Versions. scanpy==1.7.0 anndata==0.7.6 umap==0.5.1 numpy==1.21.1 scipy==1.7.0 pandas==1.2.5 scikit-learn==0.24.2 statsmodels==0.12.2 python-igraph==0.9.8. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2085
https://github.com/scverse/scanpy/issues/2085:2307,modifiability,pac,packages,2307,"rs(adata_sub, n_neighbors = 30). sc.tl.umap(adata_sub). sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-214-01a03312d3df> in <module>. ----> 1 sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ingest(adata, adata_ref, obs, embedding_method, labeling_method, neighbors_key, inplace, **kwargs). 124 labeling_method = labeling_method * len(obs). 125 . --> 126 ing = Ingest(adata_ref, neighbors_key). 127 ing.fit(adata). 128 . ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in __init__(self, adata, neighbors_key). 383 . 384 if neighbors_key in adata.uns:. --> 385 self._init_neighbors(adata, neighbors_key). 386 else:. 387 raise ValueError(. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_neighbors(self, adata, neighbors_key). 349 else:. 350 self._neigh_random_state = neighbors['params'].get('random_state', 0). --> 351 self._init_pynndescent(neighbors['distances']). 352 . 353 def _init_pca(self, adata):. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_pynndescent(self, distances). 284 . 285 first_col = np.arange(distances.shape[0])[:, None]. --> 286 init_indices = np.hstack((first_col, np.stack(distances.tolil().rows))). 287 . 288 self._nnd_idx = NNDescent(. <__array_function__ internals> in stack(*args, **kwargs). ~\anaconda3\envs\scenv\lib\site-packages\numpy\core\shape_base.py in stack(arrays, axis, out). 424 shapes = {arr.shape for arr in arrays}. 425 if len(shapes) != 1:. --> 426 raise ValueError('all input arrays must have the same shape'). 427 . 428 result_ndim = arrays[0].ndim + 1. ValueError: all input arrays must have the same shape. ```. #### Versions. scanpy==1.7.0 anndata==0.7.6 umap==0.5.1 numpy==1.21.1 scipy==1.7.0 pandas==1.2.5 scikit-learn==0.24.2 statsmodels==0.12.2 python-igraph==0.9.8. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2085
https://github.com/scverse/scanpy/issues/2085:2620,modifiability,Version,Versions,2620,"rs(adata_sub, n_neighbors = 30). sc.tl.umap(adata_sub). sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-214-01a03312d3df> in <module>. ----> 1 sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ingest(adata, adata_ref, obs, embedding_method, labeling_method, neighbors_key, inplace, **kwargs). 124 labeling_method = labeling_method * len(obs). 125 . --> 126 ing = Ingest(adata_ref, neighbors_key). 127 ing.fit(adata). 128 . ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in __init__(self, adata, neighbors_key). 383 . 384 if neighbors_key in adata.uns:. --> 385 self._init_neighbors(adata, neighbors_key). 386 else:. 387 raise ValueError(. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_neighbors(self, adata, neighbors_key). 349 else:. 350 self._neigh_random_state = neighbors['params'].get('random_state', 0). --> 351 self._init_pynndescent(neighbors['distances']). 352 . 353 def _init_pca(self, adata):. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_pynndescent(self, distances). 284 . 285 first_col = np.arange(distances.shape[0])[:, None]. --> 286 init_indices = np.hstack((first_col, np.stack(distances.tolil().rows))). 287 . 288 self._nnd_idx = NNDescent(. <__array_function__ internals> in stack(*args, **kwargs). ~\anaconda3\envs\scenv\lib\site-packages\numpy\core\shape_base.py in stack(arrays, axis, out). 424 shapes = {arr.shape for arr in arrays}. 425 if len(shapes) != 1:. --> 426 raise ValueError('all input arrays must have the same shape'). 427 . 428 result_ndim = arrays[0].ndim + 1. ValueError: all input arrays must have the same shape. ```. #### Versions. scanpy==1.7.0 anndata==0.7.6 umap==0.5.1 numpy==1.21.1 scipy==1.7.0 pandas==1.2.5 scikit-learn==0.24.2 statsmodels==0.12.2 python-igraph==0.9.8. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2085
https://github.com/scverse/scanpy/issues/2085:646,performance,error,error,646,"Ingest won't integrate datasets of different lengths; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I am trying to ingest a CITEseq dataset into another clustered dataset. These datasets have different numbers of cells but I ran neighbors(n_neighbors=30) for both prior to running umap. I have confirmed that both datasets have the same variable names and the same number of variable names (38). Both objects look identical when a call adata.var. . I receive the error: ""all input arrays must have the same shape"". . ```. sc.pp.neighbors(CODEX_sub, n_neighbors=30) . sc.tl.umap(CODEX_sub). sc.pp.neighbors(adata_sub, n_neighbors = 30). sc.tl.umap(adata_sub). sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-214-01a03312d3df> in <module>. ----> 1 sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ingest(adata, adata_ref, obs, embedding_method, labeling_method, neighbors_key, inplace, **kwargs). 124 labeling_method = labeling_method * len(obs). 125 . --> 126 ing = Ingest(adata_ref, neighbors_key). 127 ing.fit(adata). 128 . ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in __init__(self, adata, neighbors_key). 383 . 384 if neighbors_key in adata.uns:. --> 385 self._init_neighbors(adata, neighbors_key). 386 else:. 387 raise ValueError(. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_neighbors(self, adata, neighbors_key). 349 else:. 350 self._neigh_random_state = neighbors['params'].get('random_state', 0). --> 351 self._init_pynndescent(neighbors['distances']). 352 . 353 def _init_pca(self, adata):. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2085
https://github.com/scverse/scanpy/issues/2085:13,reliability,integr,integrate,13,"Ingest won't integrate datasets of different lengths; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I am trying to ingest a CITEseq dataset into another clustered dataset. These datasets have different numbers of cells but I ran neighbors(n_neighbors=30) for both prior to running umap. I have confirmed that both datasets have the same variable names and the same number of variable names (38). Both objects look identical when a call adata.var. . I receive the error: ""all input arrays must have the same shape"". . ```. sc.pp.neighbors(CODEX_sub, n_neighbors=30) . sc.tl.umap(CODEX_sub). sc.pp.neighbors(adata_sub, n_neighbors = 30). sc.tl.umap(adata_sub). sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-214-01a03312d3df> in <module>. ----> 1 sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ingest(adata, adata_ref, obs, embedding_method, labeling_method, neighbors_key, inplace, **kwargs). 124 labeling_method = labeling_method * len(obs). 125 . --> 126 ing = Ingest(adata_ref, neighbors_key). 127 ing.fit(adata). 128 . ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in __init__(self, adata, neighbors_key). 383 . 384 if neighbors_key in adata.uns:. --> 385 self._init_neighbors(adata, neighbors_key). 386 else:. 387 raise ValueError(. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_neighbors(self, adata, neighbors_key). 349 else:. 350 self._neigh_random_state = neighbors['params'].get('random_state', 0). --> 351 self._init_pynndescent(neighbors['distances']). 352 . 353 def _init_pca(self, adata):. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2085
https://github.com/scverse/scanpy/issues/2085:646,safety,error,error,646,"Ingest won't integrate datasets of different lengths; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I am trying to ingest a CITEseq dataset into another clustered dataset. These datasets have different numbers of cells but I ran neighbors(n_neighbors=30) for both prior to running umap. I have confirmed that both datasets have the same variable names and the same number of variable names (38). Both objects look identical when a call adata.var. . I receive the error: ""all input arrays must have the same shape"". . ```. sc.pp.neighbors(CODEX_sub, n_neighbors=30) . sc.tl.umap(CODEX_sub). sc.pp.neighbors(adata_sub, n_neighbors = 30). sc.tl.umap(adata_sub). sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-214-01a03312d3df> in <module>. ----> 1 sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ingest(adata, adata_ref, obs, embedding_method, labeling_method, neighbors_key, inplace, **kwargs). 124 labeling_method = labeling_method * len(obs). 125 . --> 126 ing = Ingest(adata_ref, neighbors_key). 127 ing.fit(adata). 128 . ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in __init__(self, adata, neighbors_key). 383 . 384 if neighbors_key in adata.uns:. --> 385 self._init_neighbors(adata, neighbors_key). 386 else:. 387 raise ValueError(. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_neighbors(self, adata, neighbors_key). 349 else:. 350 self._neigh_random_state = neighbors['params'].get('random_state', 0). --> 351 self._init_pynndescent(neighbors['distances']). 352 . 353 def _init_pca(self, adata):. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2085
https://github.com/scverse/scanpy/issues/2085:658,safety,input,input,658,"Ingest won't integrate datasets of different lengths; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I am trying to ingest a CITEseq dataset into another clustered dataset. These datasets have different numbers of cells but I ran neighbors(n_neighbors=30) for both prior to running umap. I have confirmed that both datasets have the same variable names and the same number of variable names (38). Both objects look identical when a call adata.var. . I receive the error: ""all input arrays must have the same shape"". . ```. sc.pp.neighbors(CODEX_sub, n_neighbors=30) . sc.tl.umap(CODEX_sub). sc.pp.neighbors(adata_sub, n_neighbors = 30). sc.tl.umap(adata_sub). sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-214-01a03312d3df> in <module>. ----> 1 sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ingest(adata, adata_ref, obs, embedding_method, labeling_method, neighbors_key, inplace, **kwargs). 124 labeling_method = labeling_method * len(obs). 125 . --> 126 ing = Ingest(adata_ref, neighbors_key). 127 ing.fit(adata). 128 . ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in __init__(self, adata, neighbors_key). 383 . 384 if neighbors_key in adata.uns:. --> 385 self._init_neighbors(adata, neighbors_key). 386 else:. 387 raise ValueError(. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_neighbors(self, adata, neighbors_key). 349 else:. 350 self._neigh_random_state = neighbors['params'].get('random_state', 0). --> 351 self._init_pynndescent(neighbors['distances']). 352 . 353 def _init_pca(self, adata):. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2085
https://github.com/scverse/scanpy/issues/2085:986,safety,input,input-,986,"Ingest won't integrate datasets of different lengths; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I am trying to ingest a CITEseq dataset into another clustered dataset. These datasets have different numbers of cells but I ran neighbors(n_neighbors=30) for both prior to running umap. I have confirmed that both datasets have the same variable names and the same number of variable names (38). Both objects look identical when a call adata.var. . I receive the error: ""all input arrays must have the same shape"". . ```. sc.pp.neighbors(CODEX_sub, n_neighbors=30) . sc.tl.umap(CODEX_sub). sc.pp.neighbors(adata_sub, n_neighbors = 30). sc.tl.umap(adata_sub). sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-214-01a03312d3df> in <module>. ----> 1 sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ingest(adata, adata_ref, obs, embedding_method, labeling_method, neighbors_key, inplace, **kwargs). 124 labeling_method = labeling_method * len(obs). 125 . --> 126 ing = Ingest(adata_ref, neighbors_key). 127 ing.fit(adata). 128 . ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in __init__(self, adata, neighbors_key). 383 . 384 if neighbors_key in adata.uns:. --> 385 self._init_neighbors(adata, neighbors_key). 386 else:. 387 raise ValueError(. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_neighbors(self, adata, neighbors_key). 349 else:. 350 self._neigh_random_state = neighbors['params'].get('random_state', 0). --> 351 self._init_pynndescent(neighbors['distances']). 352 . 353 def _init_pca(self, adata):. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2085
https://github.com/scverse/scanpy/issues/2085:1014,safety,modul,module,1014,"grate datasets of different lengths; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I am trying to ingest a CITEseq dataset into another clustered dataset. These datasets have different numbers of cells but I ran neighbors(n_neighbors=30) for both prior to running umap. I have confirmed that both datasets have the same variable names and the same number of variable names (38). Both objects look identical when a call adata.var. . I receive the error: ""all input arrays must have the same shape"". . ```. sc.pp.neighbors(CODEX_sub, n_neighbors=30) . sc.tl.umap(CODEX_sub). sc.pp.neighbors(adata_sub, n_neighbors = 30). sc.tl.umap(adata_sub). sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-214-01a03312d3df> in <module>. ----> 1 sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ingest(adata, adata_ref, obs, embedding_method, labeling_method, neighbors_key, inplace, **kwargs). 124 labeling_method = labeling_method * len(obs). 125 . --> 126 ing = Ingest(adata_ref, neighbors_key). 127 ing.fit(adata). 128 . ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in __init__(self, adata, neighbors_key). 383 . 384 if neighbors_key in adata.uns:. --> 385 self._init_neighbors(adata, neighbors_key). 386 else:. 387 raise ValueError(. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_neighbors(self, adata, neighbors_key). 349 else:. 350 self._neigh_random_state = neighbors['params'].get('random_state', 0). --> 351 self._init_pynndescent(neighbors['distances']). 352 . 353 def _init_pca(self, adata):. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_pynndescent",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2085
https://github.com/scverse/scanpy/issues/2085:2470,safety,input,input,2470,"rs(adata_sub, n_neighbors = 30). sc.tl.umap(adata_sub). sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-214-01a03312d3df> in <module>. ----> 1 sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ingest(adata, adata_ref, obs, embedding_method, labeling_method, neighbors_key, inplace, **kwargs). 124 labeling_method = labeling_method * len(obs). 125 . --> 126 ing = Ingest(adata_ref, neighbors_key). 127 ing.fit(adata). 128 . ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in __init__(self, adata, neighbors_key). 383 . 384 if neighbors_key in adata.uns:. --> 385 self._init_neighbors(adata, neighbors_key). 386 else:. 387 raise ValueError(. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_neighbors(self, adata, neighbors_key). 349 else:. 350 self._neigh_random_state = neighbors['params'].get('random_state', 0). --> 351 self._init_pynndescent(neighbors['distances']). 352 . 353 def _init_pca(self, adata):. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_pynndescent(self, distances). 284 . 285 first_col = np.arange(distances.shape[0])[:, None]. --> 286 init_indices = np.hstack((first_col, np.stack(distances.tolil().rows))). 287 . 288 self._nnd_idx = NNDescent(. <__array_function__ internals> in stack(*args, **kwargs). ~\anaconda3\envs\scenv\lib\site-packages\numpy\core\shape_base.py in stack(arrays, axis, out). 424 shapes = {arr.shape for arr in arrays}. 425 if len(shapes) != 1:. --> 426 raise ValueError('all input arrays must have the same shape'). 427 . 428 result_ndim = arrays[0].ndim + 1. ValueError: all input arrays must have the same shape. ```. #### Versions. scanpy==1.7.0 anndata==0.7.6 umap==0.5.1 numpy==1.21.1 scipy==1.7.0 pandas==1.2.5 scikit-learn==0.24.2 statsmodels==0.12.2 python-igraph==0.9.8. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2085
https://github.com/scverse/scanpy/issues/2085:2571,safety,input,input,2571,"rs(adata_sub, n_neighbors = 30). sc.tl.umap(adata_sub). sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-214-01a03312d3df> in <module>. ----> 1 sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ingest(adata, adata_ref, obs, embedding_method, labeling_method, neighbors_key, inplace, **kwargs). 124 labeling_method = labeling_method * len(obs). 125 . --> 126 ing = Ingest(adata_ref, neighbors_key). 127 ing.fit(adata). 128 . ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in __init__(self, adata, neighbors_key). 383 . 384 if neighbors_key in adata.uns:. --> 385 self._init_neighbors(adata, neighbors_key). 386 else:. 387 raise ValueError(. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_neighbors(self, adata, neighbors_key). 349 else:. 350 self._neigh_random_state = neighbors['params'].get('random_state', 0). --> 351 self._init_pynndescent(neighbors['distances']). 352 . 353 def _init_pca(self, adata):. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_pynndescent(self, distances). 284 . 285 first_col = np.arange(distances.shape[0])[:, None]. --> 286 init_indices = np.hstack((first_col, np.stack(distances.tolil().rows))). 287 . 288 self._nnd_idx = NNDescent(. <__array_function__ internals> in stack(*args, **kwargs). ~\anaconda3\envs\scenv\lib\site-packages\numpy\core\shape_base.py in stack(arrays, axis, out). 424 shapes = {arr.shape for arr in arrays}. 425 if len(shapes) != 1:. --> 426 raise ValueError('all input arrays must have the same shape'). 427 . 428 result_ndim = arrays[0].ndim + 1. ValueError: all input arrays must have the same shape. ```. #### Versions. scanpy==1.7.0 anndata==0.7.6 umap==0.5.1 numpy==1.21.1 scipy==1.7.0 pandas==1.2.5 scikit-learn==0.24.2 statsmodels==0.12.2 python-igraph==0.9.8. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2085
https://github.com/scverse/scanpy/issues/2085:13,security,integr,integrate,13,"Ingest won't integrate datasets of different lengths; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I am trying to ingest a CITEseq dataset into another clustered dataset. These datasets have different numbers of cells but I ran neighbors(n_neighbors=30) for both prior to running umap. I have confirmed that both datasets have the same variable names and the same number of variable names (38). Both objects look identical when a call adata.var. . I receive the error: ""all input arrays must have the same shape"". . ```. sc.pp.neighbors(CODEX_sub, n_neighbors=30) . sc.tl.umap(CODEX_sub). sc.pp.neighbors(adata_sub, n_neighbors = 30). sc.tl.umap(adata_sub). sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-214-01a03312d3df> in <module>. ----> 1 sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ingest(adata, adata_ref, obs, embedding_method, labeling_method, neighbors_key, inplace, **kwargs). 124 labeling_method = labeling_method * len(obs). 125 . --> 126 ing = Ingest(adata_ref, neighbors_key). 127 ing.fit(adata). 128 . ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in __init__(self, adata, neighbors_key). 383 . 384 if neighbors_key in adata.uns:. --> 385 self._init_neighbors(adata, neighbors_key). 386 else:. 387 raise ValueError(. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_neighbors(self, adata, neighbors_key). 349 else:. 350 self._neigh_random_state = neighbors['params'].get('random_state', 0). --> 351 self._init_pynndescent(neighbors['distances']). 352 . 353 def _init_pca(self, adata):. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2085
https://github.com/scverse/scanpy/issues/2085:597,security,ident,identical,597,"Ingest won't integrate datasets of different lengths; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I am trying to ingest a CITEseq dataset into another clustered dataset. These datasets have different numbers of cells but I ran neighbors(n_neighbors=30) for both prior to running umap. I have confirmed that both datasets have the same variable names and the same number of variable names (38). Both objects look identical when a call adata.var. . I receive the error: ""all input arrays must have the same shape"". . ```. sc.pp.neighbors(CODEX_sub, n_neighbors=30) . sc.tl.umap(CODEX_sub). sc.pp.neighbors(adata_sub, n_neighbors = 30). sc.tl.umap(adata_sub). sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-214-01a03312d3df> in <module>. ----> 1 sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ingest(adata, adata_ref, obs, embedding_method, labeling_method, neighbors_key, inplace, **kwargs). 124 labeling_method = labeling_method * len(obs). 125 . --> 126 ing = Ingest(adata_ref, neighbors_key). 127 ing.fit(adata). 128 . ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in __init__(self, adata, neighbors_key). 383 . 384 if neighbors_key in adata.uns:. --> 385 self._init_neighbors(adata, neighbors_key). 386 else:. 387 raise ValueError(. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_neighbors(self, adata, neighbors_key). 349 else:. 350 self._neigh_random_state = neighbors['params'].get('random_state', 0). --> 351 self._init_pynndescent(neighbors['distances']). 352 . 353 def _init_pca(self, adata):. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2085
https://github.com/scverse/scanpy/issues/2085:13,testability,integr,integrate,13,"Ingest won't integrate datasets of different lengths; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I am trying to ingest a CITEseq dataset into another clustered dataset. These datasets have different numbers of cells but I ran neighbors(n_neighbors=30) for both prior to running umap. I have confirmed that both datasets have the same variable names and the same number of variable names (38). Both objects look identical when a call adata.var. . I receive the error: ""all input arrays must have the same shape"". . ```. sc.pp.neighbors(CODEX_sub, n_neighbors=30) . sc.tl.umap(CODEX_sub). sc.pp.neighbors(adata_sub, n_neighbors = 30). sc.tl.umap(adata_sub). sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-214-01a03312d3df> in <module>. ----> 1 sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ingest(adata, adata_ref, obs, embedding_method, labeling_method, neighbors_key, inplace, **kwargs). 124 labeling_method = labeling_method * len(obs). 125 . --> 126 ing = Ingest(adata_ref, neighbors_key). 127 ing.fit(adata). 128 . ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in __init__(self, adata, neighbors_key). 383 . 384 if neighbors_key in adata.uns:. --> 385 self._init_neighbors(adata, neighbors_key). 386 else:. 387 raise ValueError(. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_neighbors(self, adata, neighbors_key). 349 else:. 350 self._neigh_random_state = neighbors['params'].get('random_state', 0). --> 351 self._init_pynndescent(neighbors['distances']). 352 . 353 def _init_pca(self, adata):. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2085
https://github.com/scverse/scanpy/issues/2085:942,testability,Trace,Traceback,942,"Ingest won't integrate datasets of different lengths; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I am trying to ingest a CITEseq dataset into another clustered dataset. These datasets have different numbers of cells but I ran neighbors(n_neighbors=30) for both prior to running umap. I have confirmed that both datasets have the same variable names and the same number of variable names (38). Both objects look identical when a call adata.var. . I receive the error: ""all input arrays must have the same shape"". . ```. sc.pp.neighbors(CODEX_sub, n_neighbors=30) . sc.tl.umap(CODEX_sub). sc.pp.neighbors(adata_sub, n_neighbors = 30). sc.tl.umap(adata_sub). sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-214-01a03312d3df> in <module>. ----> 1 sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ingest(adata, adata_ref, obs, embedding_method, labeling_method, neighbors_key, inplace, **kwargs). 124 labeling_method = labeling_method * len(obs). 125 . --> 126 ing = Ingest(adata_ref, neighbors_key). 127 ing.fit(adata). 128 . ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in __init__(self, adata, neighbors_key). 383 . 384 if neighbors_key in adata.uns:. --> 385 self._init_neighbors(adata, neighbors_key). 386 else:. 387 raise ValueError(. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_neighbors(self, adata, neighbors_key). 349 else:. 350 self._neigh_random_state = neighbors['params'].get('random_state', 0). --> 351 self._init_pynndescent(neighbors['distances']). 352 . 353 def _init_pca(self, adata):. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2085
https://github.com/scverse/scanpy/issues/2085:137,usability,confirm,confirmed,137,"Ingest won't integrate datasets of different lengths; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I am trying to ingest a CITEseq dataset into another clustered dataset. These datasets have different numbers of cells but I ran neighbors(n_neighbors=30) for both prior to running umap. I have confirmed that both datasets have the same variable names and the same number of variable names (38). Both objects look identical when a call adata.var. . I receive the error: ""all input arrays must have the same shape"". . ```. sc.pp.neighbors(CODEX_sub, n_neighbors=30) . sc.tl.umap(CODEX_sub). sc.pp.neighbors(adata_sub, n_neighbors = 30). sc.tl.umap(adata_sub). sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-214-01a03312d3df> in <module>. ----> 1 sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ingest(adata, adata_ref, obs, embedding_method, labeling_method, neighbors_key, inplace, **kwargs). 124 labeling_method = labeling_method * len(obs). 125 . --> 126 ing = Ingest(adata_ref, neighbors_key). 127 ing.fit(adata). 128 . ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in __init__(self, adata, neighbors_key). 383 . 384 if neighbors_key in adata.uns:. --> 385 self._init_neighbors(adata, neighbors_key). 386 else:. 387 raise ValueError(. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_neighbors(self, adata, neighbors_key). 349 else:. 350 self._neigh_random_state = neighbors['params'].get('random_state', 0). --> 351 self._init_pynndescent(neighbors['distances']). 352 . 353 def _init_pca(self, adata):. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2085
https://github.com/scverse/scanpy/issues/2085:220,usability,confirm,confirmed,220,"Ingest won't integrate datasets of different lengths; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I am trying to ingest a CITEseq dataset into another clustered dataset. These datasets have different numbers of cells but I ran neighbors(n_neighbors=30) for both prior to running umap. I have confirmed that both datasets have the same variable names and the same number of variable names (38). Both objects look identical when a call adata.var. . I receive the error: ""all input arrays must have the same shape"". . ```. sc.pp.neighbors(CODEX_sub, n_neighbors=30) . sc.tl.umap(CODEX_sub). sc.pp.neighbors(adata_sub, n_neighbors = 30). sc.tl.umap(adata_sub). sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-214-01a03312d3df> in <module>. ----> 1 sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ingest(adata, adata_ref, obs, embedding_method, labeling_method, neighbors_key, inplace, **kwargs). 124 labeling_method = labeling_method * len(obs). 125 . --> 126 ing = Ingest(adata_ref, neighbors_key). 127 ing.fit(adata). 128 . ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in __init__(self, adata, neighbors_key). 383 . 384 if neighbors_key in adata.uns:. --> 385 self._init_neighbors(adata, neighbors_key). 386 else:. 387 raise ValueError(. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_neighbors(self, adata, neighbors_key). 349 else:. 350 self._neigh_random_state = neighbors['params'].get('random_state', 0). --> 351 self._init_pynndescent(neighbors['distances']). 352 . 353 def _init_pca(self, adata):. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2085
https://github.com/scverse/scanpy/issues/2085:477,usability,confirm,confirmed,477,"Ingest won't integrate datasets of different lengths; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I am trying to ingest a CITEseq dataset into another clustered dataset. These datasets have different numbers of cells but I ran neighbors(n_neighbors=30) for both prior to running umap. I have confirmed that both datasets have the same variable names and the same number of variable names (38). Both objects look identical when a call adata.var. . I receive the error: ""all input arrays must have the same shape"". . ```. sc.pp.neighbors(CODEX_sub, n_neighbors=30) . sc.tl.umap(CODEX_sub). sc.pp.neighbors(adata_sub, n_neighbors = 30). sc.tl.umap(adata_sub). sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-214-01a03312d3df> in <module>. ----> 1 sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ingest(adata, adata_ref, obs, embedding_method, labeling_method, neighbors_key, inplace, **kwargs). 124 labeling_method = labeling_method * len(obs). 125 . --> 126 ing = Ingest(adata_ref, neighbors_key). 127 ing.fit(adata). 128 . ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in __init__(self, adata, neighbors_key). 383 . 384 if neighbors_key in adata.uns:. --> 385 self._init_neighbors(adata, neighbors_key). 386 else:. 387 raise ValueError(. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_neighbors(self, adata, neighbors_key). 349 else:. 350 self._neigh_random_state = neighbors['params'].get('random_state', 0). --> 351 self._init_pynndescent(neighbors['distances']). 352 . 353 def _init_pca(self, adata):. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2085
https://github.com/scverse/scanpy/issues/2085:646,usability,error,error,646,"Ingest won't integrate datasets of different lengths; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I am trying to ingest a CITEseq dataset into another clustered dataset. These datasets have different numbers of cells but I ran neighbors(n_neighbors=30) for both prior to running umap. I have confirmed that both datasets have the same variable names and the same number of variable names (38). Both objects look identical when a call adata.var. . I receive the error: ""all input arrays must have the same shape"". . ```. sc.pp.neighbors(CODEX_sub, n_neighbors=30) . sc.tl.umap(CODEX_sub). sc.pp.neighbors(adata_sub, n_neighbors = 30). sc.tl.umap(adata_sub). sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-214-01a03312d3df> in <module>. ----> 1 sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ingest(adata, adata_ref, obs, embedding_method, labeling_method, neighbors_key, inplace, **kwargs). 124 labeling_method = labeling_method * len(obs). 125 . --> 126 ing = Ingest(adata_ref, neighbors_key). 127 ing.fit(adata). 128 . ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in __init__(self, adata, neighbors_key). 383 . 384 if neighbors_key in adata.uns:. --> 385 self._init_neighbors(adata, neighbors_key). 386 else:. 387 raise ValueError(. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_neighbors(self, adata, neighbors_key). 349 else:. 350 self._neigh_random_state = neighbors['params'].get('random_state', 0). --> 351 self._init_pynndescent(neighbors['distances']). 352 . 353 def _init_pca(self, adata):. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2085
https://github.com/scverse/scanpy/issues/2085:658,usability,input,input,658,"Ingest won't integrate datasets of different lengths; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I am trying to ingest a CITEseq dataset into another clustered dataset. These datasets have different numbers of cells but I ran neighbors(n_neighbors=30) for both prior to running umap. I have confirmed that both datasets have the same variable names and the same number of variable names (38). Both objects look identical when a call adata.var. . I receive the error: ""all input arrays must have the same shape"". . ```. sc.pp.neighbors(CODEX_sub, n_neighbors=30) . sc.tl.umap(CODEX_sub). sc.pp.neighbors(adata_sub, n_neighbors = 30). sc.tl.umap(adata_sub). sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-214-01a03312d3df> in <module>. ----> 1 sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ingest(adata, adata_ref, obs, embedding_method, labeling_method, neighbors_key, inplace, **kwargs). 124 labeling_method = labeling_method * len(obs). 125 . --> 126 ing = Ingest(adata_ref, neighbors_key). 127 ing.fit(adata). 128 . ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in __init__(self, adata, neighbors_key). 383 . 384 if neighbors_key in adata.uns:. --> 385 self._init_neighbors(adata, neighbors_key). 386 else:. 387 raise ValueError(. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_neighbors(self, adata, neighbors_key). 349 else:. 350 self._neigh_random_state = neighbors['params'].get('random_state', 0). --> 351 self._init_pynndescent(neighbors['distances']). 352 . 353 def _init_pca(self, adata):. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2085
https://github.com/scverse/scanpy/issues/2085:986,usability,input,input-,986,"Ingest won't integrate datasets of different lengths; - [x ] I have checked that this issue has not already been reported. - [ x] I have confirmed this bug exists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I am trying to ingest a CITEseq dataset into another clustered dataset. These datasets have different numbers of cells but I ran neighbors(n_neighbors=30) for both prior to running umap. I have confirmed that both datasets have the same variable names and the same number of variable names (38). Both objects look identical when a call adata.var. . I receive the error: ""all input arrays must have the same shape"". . ```. sc.pp.neighbors(CODEX_sub, n_neighbors=30) . sc.tl.umap(CODEX_sub). sc.pp.neighbors(adata_sub, n_neighbors = 30). sc.tl.umap(adata_sub). sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-214-01a03312d3df> in <module>. ----> 1 sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ingest(adata, adata_ref, obs, embedding_method, labeling_method, neighbors_key, inplace, **kwargs). 124 labeling_method = labeling_method * len(obs). 125 . --> 126 ing = Ingest(adata_ref, neighbors_key). 127 ing.fit(adata). 128 . ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in __init__(self, adata, neighbors_key). 383 . 384 if neighbors_key in adata.uns:. --> 385 self._init_neighbors(adata, neighbors_key). 386 else:. 387 raise ValueError(. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_neighbors(self, adata, neighbors_key). 349 else:. 350 self._neigh_random_state = neighbors['params'].get('random_state', 0). --> 351 self._init_pynndescent(neighbors['distances']). 352 . 353 def _init_pca(self, adata):. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2085
https://github.com/scverse/scanpy/issues/2085:1154,usability,tool,tools,1154,"xists on the latest version of scanpy. - [ ] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. I am trying to ingest a CITEseq dataset into another clustered dataset. These datasets have different numbers of cells but I ran neighbors(n_neighbors=30) for both prior to running umap. I have confirmed that both datasets have the same variable names and the same number of variable names (38). Both objects look identical when a call adata.var. . I receive the error: ""all input arrays must have the same shape"". . ```. sc.pp.neighbors(CODEX_sub, n_neighbors=30) . sc.tl.umap(CODEX_sub). sc.pp.neighbors(adata_sub, n_neighbors = 30). sc.tl.umap(adata_sub). sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-214-01a03312d3df> in <module>. ----> 1 sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ingest(adata, adata_ref, obs, embedding_method, labeling_method, neighbors_key, inplace, **kwargs). 124 labeling_method = labeling_method * len(obs). 125 . --> 126 ing = Ingest(adata_ref, neighbors_key). 127 ing.fit(adata). 128 . ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in __init__(self, adata, neighbors_key). 383 . 384 if neighbors_key in adata.uns:. --> 385 self._init_neighbors(adata, neighbors_key). 386 else:. 387 raise ValueError(. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_neighbors(self, adata, neighbors_key). 349 else:. 350 self._neigh_random_state = neighbors['params'].get('random_state', 0). --> 351 self._init_pynndescent(neighbors['distances']). 352 . 353 def _init_pca(self, adata):. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_pynndescent(self, distances). 284 . 285 first_col = np.arange(distances.shape[0])[:, None]. --> 286 init_indices = np.hstack((first_col, np.stack(dista",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2085
https://github.com/scverse/scanpy/issues/2085:1452,usability,tool,tools,1452," running umap. I have confirmed that both datasets have the same variable names and the same number of variable names (38). Both objects look identical when a call adata.var. . I receive the error: ""all input arrays must have the same shape"". . ```. sc.pp.neighbors(CODEX_sub, n_neighbors=30) . sc.tl.umap(CODEX_sub). sc.pp.neighbors(adata_sub, n_neighbors = 30). sc.tl.umap(adata_sub). sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-214-01a03312d3df> in <module>. ----> 1 sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ingest(adata, adata_ref, obs, embedding_method, labeling_method, neighbors_key, inplace, **kwargs). 124 labeling_method = labeling_method * len(obs). 125 . --> 126 ing = Ingest(adata_ref, neighbors_key). 127 ing.fit(adata). 128 . ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in __init__(self, adata, neighbors_key). 383 . 384 if neighbors_key in adata.uns:. --> 385 self._init_neighbors(adata, neighbors_key). 386 else:. 387 raise ValueError(. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_neighbors(self, adata, neighbors_key). 349 else:. 350 self._neigh_random_state = neighbors['params'].get('random_state', 0). --> 351 self._init_pynndescent(neighbors['distances']). 352 . 353 def _init_pca(self, adata):. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_pynndescent(self, distances). 284 . 285 first_col = np.arange(distances.shape[0])[:, None]. --> 286 init_indices = np.hstack((first_col, np.stack(distances.tolil().rows))). 287 . 288 self._nnd_idx = NNDescent(. <__array_function__ internals> in stack(*args, **kwargs). ~\anaconda3\envs\scenv\lib\site-packages\numpy\core\shape_base.py in stack(arrays, axis, out). 424 shapes = {arr.shape for arr in arrays}. 425 if len(shapes) != 1:. --> 426 raise V",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2085
https://github.com/scverse/scanpy/issues/2085:1686,usability,tool,tools,1686," shape"". . ```. sc.pp.neighbors(CODEX_sub, n_neighbors=30) . sc.tl.umap(CODEX_sub). sc.pp.neighbors(adata_sub, n_neighbors = 30). sc.tl.umap(adata_sub). sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-214-01a03312d3df> in <module>. ----> 1 sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ingest(adata, adata_ref, obs, embedding_method, labeling_method, neighbors_key, inplace, **kwargs). 124 labeling_method = labeling_method * len(obs). 125 . --> 126 ing = Ingest(adata_ref, neighbors_key). 127 ing.fit(adata). 128 . ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in __init__(self, adata, neighbors_key). 383 . 384 if neighbors_key in adata.uns:. --> 385 self._init_neighbors(adata, neighbors_key). 386 else:. 387 raise ValueError(. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_neighbors(self, adata, neighbors_key). 349 else:. 350 self._neigh_random_state = neighbors['params'].get('random_state', 0). --> 351 self._init_pynndescent(neighbors['distances']). 352 . 353 def _init_pca(self, adata):. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_pynndescent(self, distances). 284 . 285 first_col = np.arange(distances.shape[0])[:, None]. --> 286 init_indices = np.hstack((first_col, np.stack(distances.tolil().rows))). 287 . 288 self._nnd_idx = NNDescent(. <__array_function__ internals> in stack(*args, **kwargs). ~\anaconda3\envs\scenv\lib\site-packages\numpy\core\shape_base.py in stack(arrays, axis, out). 424 shapes = {arr.shape for arr in arrays}. 425 if len(shapes) != 1:. --> 426 raise ValueError('all input arrays must have the same shape'). 427 . 428 result_ndim = arrays[0].ndim + 1. ValueError: all input arrays must have the same shape. ```. #### Versions. scanpy==1.7.0 anndata==0.7.6 umap==0.5.1 numpy==1.21.1 scip",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2085
https://github.com/scverse/scanpy/issues/2085:1980,usability,tool,tools,1980,"rs(adata_sub, n_neighbors = 30). sc.tl.umap(adata_sub). sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-214-01a03312d3df> in <module>. ----> 1 sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ingest(adata, adata_ref, obs, embedding_method, labeling_method, neighbors_key, inplace, **kwargs). 124 labeling_method = labeling_method * len(obs). 125 . --> 126 ing = Ingest(adata_ref, neighbors_key). 127 ing.fit(adata). 128 . ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in __init__(self, adata, neighbors_key). 383 . 384 if neighbors_key in adata.uns:. --> 385 self._init_neighbors(adata, neighbors_key). 386 else:. 387 raise ValueError(. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_neighbors(self, adata, neighbors_key). 349 else:. 350 self._neigh_random_state = neighbors['params'].get('random_state', 0). --> 351 self._init_pynndescent(neighbors['distances']). 352 . 353 def _init_pca(self, adata):. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_pynndescent(self, distances). 284 . 285 first_col = np.arange(distances.shape[0])[:, None]. --> 286 init_indices = np.hstack((first_col, np.stack(distances.tolil().rows))). 287 . 288 self._nnd_idx = NNDescent(. <__array_function__ internals> in stack(*args, **kwargs). ~\anaconda3\envs\scenv\lib\site-packages\numpy\core\shape_base.py in stack(arrays, axis, out). 424 shapes = {arr.shape for arr in arrays}. 425 if len(shapes) != 1:. --> 426 raise ValueError('all input arrays must have the same shape'). 427 . 428 result_ndim = arrays[0].ndim + 1. ValueError: all input arrays must have the same shape. ```. #### Versions. scanpy==1.7.0 anndata==0.7.6 umap==0.5.1 numpy==1.21.1 scipy==1.7.0 pandas==1.2.5 scikit-learn==0.24.2 statsmodels==0.12.2 python-igraph==0.9.8. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2085
https://github.com/scverse/scanpy/issues/2085:2470,usability,input,input,2470,"rs(adata_sub, n_neighbors = 30). sc.tl.umap(adata_sub). sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-214-01a03312d3df> in <module>. ----> 1 sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ingest(adata, adata_ref, obs, embedding_method, labeling_method, neighbors_key, inplace, **kwargs). 124 labeling_method = labeling_method * len(obs). 125 . --> 126 ing = Ingest(adata_ref, neighbors_key). 127 ing.fit(adata). 128 . ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in __init__(self, adata, neighbors_key). 383 . 384 if neighbors_key in adata.uns:. --> 385 self._init_neighbors(adata, neighbors_key). 386 else:. 387 raise ValueError(. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_neighbors(self, adata, neighbors_key). 349 else:. 350 self._neigh_random_state = neighbors['params'].get('random_state', 0). --> 351 self._init_pynndescent(neighbors['distances']). 352 . 353 def _init_pca(self, adata):. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_pynndescent(self, distances). 284 . 285 first_col = np.arange(distances.shape[0])[:, None]. --> 286 init_indices = np.hstack((first_col, np.stack(distances.tolil().rows))). 287 . 288 self._nnd_idx = NNDescent(. <__array_function__ internals> in stack(*args, **kwargs). ~\anaconda3\envs\scenv\lib\site-packages\numpy\core\shape_base.py in stack(arrays, axis, out). 424 shapes = {arr.shape for arr in arrays}. 425 if len(shapes) != 1:. --> 426 raise ValueError('all input arrays must have the same shape'). 427 . 428 result_ndim = arrays[0].ndim + 1. ValueError: all input arrays must have the same shape. ```. #### Versions. scanpy==1.7.0 anndata==0.7.6 umap==0.5.1 numpy==1.21.1 scipy==1.7.0 pandas==1.2.5 scikit-learn==0.24.2 statsmodels==0.12.2 python-igraph==0.9.8. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2085
https://github.com/scverse/scanpy/issues/2085:2571,usability,input,input,2571,"rs(adata_sub, n_neighbors = 30). sc.tl.umap(adata_sub). sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-214-01a03312d3df> in <module>. ----> 1 sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ingest(adata, adata_ref, obs, embedding_method, labeling_method, neighbors_key, inplace, **kwargs). 124 labeling_method = labeling_method * len(obs). 125 . --> 126 ing = Ingest(adata_ref, neighbors_key). 127 ing.fit(adata). 128 . ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in __init__(self, adata, neighbors_key). 383 . 384 if neighbors_key in adata.uns:. --> 385 self._init_neighbors(adata, neighbors_key). 386 else:. 387 raise ValueError(. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_neighbors(self, adata, neighbors_key). 349 else:. 350 self._neigh_random_state = neighbors['params'].get('random_state', 0). --> 351 self._init_pynndescent(neighbors['distances']). 352 . 353 def _init_pca(self, adata):. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_pynndescent(self, distances). 284 . 285 first_col = np.arange(distances.shape[0])[:, None]. --> 286 init_indices = np.hstack((first_col, np.stack(distances.tolil().rows))). 287 . 288 self._nnd_idx = NNDescent(. <__array_function__ internals> in stack(*args, **kwargs). ~\anaconda3\envs\scenv\lib\site-packages\numpy\core\shape_base.py in stack(arrays, axis, out). 424 shapes = {arr.shape for arr in arrays}. 425 if len(shapes) != 1:. --> 426 raise ValueError('all input arrays must have the same shape'). 427 . 428 result_ndim = arrays[0].ndim + 1. ValueError: all input arrays must have the same shape. ```. #### Versions. scanpy==1.7.0 anndata==0.7.6 umap==0.5.1 numpy==1.21.1 scipy==1.7.0 pandas==1.2.5 scikit-learn==0.24.2 statsmodels==0.12.2 python-igraph==0.9.8. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2085
https://github.com/scverse/scanpy/issues/2085:2719,usability,learn,learn,2719,"rs(adata_sub, n_neighbors = 30). sc.tl.umap(adata_sub). sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ```. ```pytb. ValueError Traceback (most recent call last). <ipython-input-214-01a03312d3df> in <module>. ----> 1 sc.tl.ingest(CODEX_sub, adata_sub, obs='leiden', embedding_method='umap'). ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in ingest(adata, adata_ref, obs, embedding_method, labeling_method, neighbors_key, inplace, **kwargs). 124 labeling_method = labeling_method * len(obs). 125 . --> 126 ing = Ingest(adata_ref, neighbors_key). 127 ing.fit(adata). 128 . ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in __init__(self, adata, neighbors_key). 383 . 384 if neighbors_key in adata.uns:. --> 385 self._init_neighbors(adata, neighbors_key). 386 else:. 387 raise ValueError(. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_neighbors(self, adata, neighbors_key). 349 else:. 350 self._neigh_random_state = neighbors['params'].get('random_state', 0). --> 351 self._init_pynndescent(neighbors['distances']). 352 . 353 def _init_pca(self, adata):. ~\anaconda3\envs\scenv\lib\site-packages\scanpy\tools\_ingest.py in _init_pynndescent(self, distances). 284 . 285 first_col = np.arange(distances.shape[0])[:, None]. --> 286 init_indices = np.hstack((first_col, np.stack(distances.tolil().rows))). 287 . 288 self._nnd_idx = NNDescent(. <__array_function__ internals> in stack(*args, **kwargs). ~\anaconda3\envs\scenv\lib\site-packages\numpy\core\shape_base.py in stack(arrays, axis, out). 424 shapes = {arr.shape for arr in arrays}. 425 if len(shapes) != 1:. --> 426 raise ValueError('all input arrays must have the same shape'). 427 . 428 result_ndim = arrays[0].ndim + 1. ValueError: all input arrays must have the same shape. ```. #### Versions. scanpy==1.7.0 anndata==0.7.6 umap==0.5.1 numpy==1.21.1 scipy==1.7.0 pandas==1.2.5 scikit-learn==0.24.2 statsmodels==0.12.2 python-igraph==0.9.8. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2085
https://github.com/scverse/scanpy/issues/2088:186,deployability,version,version,186,"`flavor=""seurat_v3""` HVG aggregation over batches not intended ; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the master branch of scanpy. In the test of the flavor, the sorting over batches is correct with respect to how Seurat actually does it:. https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/tests/test_highly_variable_genes.py#L138-L142. First sort by number of batches it's called a HVG and then second break ties by the median rank. In the actual function, it's the reverse:. https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/preprocessing/_highly_variable_genes.py#L136-L143. I propose we put in the fix (which is currently being tested with high accuracy). The simplest solution would be to call it a new flavor. Ideally this would get in as soon as possible as this is a high volume function from what I understand. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2088
https://github.com/scverse/scanpy/issues/2088:848,energy efficiency,current,currently,848,"`flavor=""seurat_v3""` HVG aggregation over batches not intended ; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the master branch of scanpy. In the test of the flavor, the sorting over batches is correct with respect to how Seurat actually does it:. https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/tests/test_highly_variable_genes.py#L138-L142. First sort by number of batches it's called a HVG and then second break ties by the median rank. In the actual function, it's the reverse:. https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/preprocessing/_highly_variable_genes.py#L136-L143. I propose we put in the fix (which is currently being tested with high accuracy). The simplest solution would be to call it a new flavor. Ideally this would get in as soon as possible as this is a high volume function from what I understand. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2088
https://github.com/scverse/scanpy/issues/2088:42,integrability,batch,batches,42,"`flavor=""seurat_v3""` HVG aggregation over batches not intended ; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the master branch of scanpy. In the test of the flavor, the sorting over batches is correct with respect to how Seurat actually does it:. https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/tests/test_highly_variable_genes.py#L138-L142. First sort by number of batches it's called a HVG and then second break ties by the median rank. In the actual function, it's the reverse:. https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/preprocessing/_highly_variable_genes.py#L136-L143. I propose we put in the fix (which is currently being tested with high accuracy). The simplest solution would be to call it a new flavor. Ideally this would get in as soon as possible as this is a high volume function from what I understand. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2088
https://github.com/scverse/scanpy/issues/2088:186,integrability,version,version,186,"`flavor=""seurat_v3""` HVG aggregation over batches not intended ; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the master branch of scanpy. In the test of the flavor, the sorting over batches is correct with respect to how Seurat actually does it:. https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/tests/test_highly_variable_genes.py#L138-L142. First sort by number of batches it's called a HVG and then second break ties by the median rank. In the actual function, it's the reverse:. https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/preprocessing/_highly_variable_genes.py#L136-L143. I propose we put in the fix (which is currently being tested with high accuracy). The simplest solution would be to call it a new flavor. Ideally this would get in as soon as possible as this is a high volume function from what I understand. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2088
https://github.com/scverse/scanpy/issues/2088:331,integrability,batch,batches,331,"`flavor=""seurat_v3""` HVG aggregation over batches not intended ; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the master branch of scanpy. In the test of the flavor, the sorting over batches is correct with respect to how Seurat actually does it:. https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/tests/test_highly_variable_genes.py#L138-L142. First sort by number of batches it's called a HVG and then second break ties by the median rank. In the actual function, it's the reverse:. https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/preprocessing/_highly_variable_genes.py#L136-L143. I propose we put in the fix (which is currently being tested with high accuracy). The simplest solution would be to call it a new flavor. Ideally this would get in as soon as possible as this is a high volume function from what I understand. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2088
https://github.com/scverse/scanpy/issues/2088:555,integrability,batch,batches,555,"`flavor=""seurat_v3""` HVG aggregation over batches not intended ; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the master branch of scanpy. In the test of the flavor, the sorting over batches is correct with respect to how Seurat actually does it:. https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/tests/test_highly_variable_genes.py#L138-L142. First sort by number of batches it's called a HVG and then second break ties by the median rank. In the actual function, it's the reverse:. https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/preprocessing/_highly_variable_genes.py#L136-L143. I propose we put in the fix (which is currently being tested with high accuracy). The simplest solution would be to call it a new flavor. Ideally this would get in as soon as possible as this is a high volume function from what I understand. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2088
https://github.com/scverse/scanpy/issues/2088:186,modifiability,version,version,186,"`flavor=""seurat_v3""` HVG aggregation over batches not intended ; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the master branch of scanpy. In the test of the flavor, the sorting over batches is correct with respect to how Seurat actually does it:. https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/tests/test_highly_variable_genes.py#L138-L142. First sort by number of batches it's called a HVG and then second break ties by the median rank. In the actual function, it's the reverse:. https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/preprocessing/_highly_variable_genes.py#L136-L143. I propose we put in the fix (which is currently being tested with high accuracy). The simplest solution would be to call it a new flavor. Ideally this would get in as soon as possible as this is a high volume function from what I understand. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2088
https://github.com/scverse/scanpy/issues/2088:42,performance,batch,batches,42,"`flavor=""seurat_v3""` HVG aggregation over batches not intended ; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the master branch of scanpy. In the test of the flavor, the sorting over batches is correct with respect to how Seurat actually does it:. https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/tests/test_highly_variable_genes.py#L138-L142. First sort by number of batches it's called a HVG and then second break ties by the median rank. In the actual function, it's the reverse:. https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/preprocessing/_highly_variable_genes.py#L136-L143. I propose we put in the fix (which is currently being tested with high accuracy). The simplest solution would be to call it a new flavor. Ideally this would get in as soon as possible as this is a high volume function from what I understand. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2088
https://github.com/scverse/scanpy/issues/2088:331,performance,batch,batches,331,"`flavor=""seurat_v3""` HVG aggregation over batches not intended ; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the master branch of scanpy. In the test of the flavor, the sorting over batches is correct with respect to how Seurat actually does it:. https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/tests/test_highly_variable_genes.py#L138-L142. First sort by number of batches it's called a HVG and then second break ties by the median rank. In the actual function, it's the reverse:. https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/preprocessing/_highly_variable_genes.py#L136-L143. I propose we put in the fix (which is currently being tested with high accuracy). The simplest solution would be to call it a new flavor. Ideally this would get in as soon as possible as this is a high volume function from what I understand. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2088
https://github.com/scverse/scanpy/issues/2088:555,performance,batch,batches,555,"`flavor=""seurat_v3""` HVG aggregation over batches not intended ; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the master branch of scanpy. In the test of the flavor, the sorting over batches is correct with respect to how Seurat actually does it:. https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/tests/test_highly_variable_genes.py#L138-L142. First sort by number of batches it's called a HVG and then second break ties by the median rank. In the actual function, it's the reverse:. https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/preprocessing/_highly_variable_genes.py#L136-L143. I propose we put in the fix (which is currently being tested with high accuracy). The simplest solution would be to call it a new flavor. Ideally this would get in as soon as possible as this is a high volume function from what I understand. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2088
https://github.com/scverse/scanpy/issues/2088:386,reliability,doe,does,386,"`flavor=""seurat_v3""` HVG aggregation over batches not intended ; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the master branch of scanpy. In the test of the flavor, the sorting over batches is correct with respect to how Seurat actually does it:. https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/tests/test_highly_variable_genes.py#L138-L142. First sort by number of batches it's called a HVG and then second break ties by the median rank. In the actual function, it's the reverse:. https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/preprocessing/_highly_variable_genes.py#L136-L143. I propose we put in the fix (which is currently being tested with high accuracy). The simplest solution would be to call it a new flavor. Ideally this would get in as soon as possible as this is a high volume function from what I understand. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2088
https://github.com/scverse/scanpy/issues/2088:294,safety,test,test,294,"`flavor=""seurat_v3""` HVG aggregation over batches not intended ; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the master branch of scanpy. In the test of the flavor, the sorting over batches is correct with respect to how Seurat actually does it:. https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/tests/test_highly_variable_genes.py#L138-L142. First sort by number of batches it's called a HVG and then second break ties by the median rank. In the actual function, it's the reverse:. https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/preprocessing/_highly_variable_genes.py#L136-L143. I propose we put in the fix (which is currently being tested with high accuracy). The simplest solution would be to call it a new flavor. Ideally this would get in as soon as possible as this is a high volume function from what I understand. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2088
https://github.com/scverse/scanpy/issues/2088:484,safety,test,tests,484,"`flavor=""seurat_v3""` HVG aggregation over batches not intended ; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the master branch of scanpy. In the test of the flavor, the sorting over batches is correct with respect to how Seurat actually does it:. https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/tests/test_highly_variable_genes.py#L138-L142. First sort by number of batches it's called a HVG and then second break ties by the median rank. In the actual function, it's the reverse:. https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/preprocessing/_highly_variable_genes.py#L136-L143. I propose we put in the fix (which is currently being tested with high accuracy). The simplest solution would be to call it a new flavor. Ideally this would get in as soon as possible as this is a high volume function from what I understand. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2088
https://github.com/scverse/scanpy/issues/2088:864,safety,test,tested,864,"`flavor=""seurat_v3""` HVG aggregation over batches not intended ; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the master branch of scanpy. In the test of the flavor, the sorting over batches is correct with respect to how Seurat actually does it:. https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/tests/test_highly_variable_genes.py#L138-L142. First sort by number of batches it's called a HVG and then second break ties by the median rank. In the actual function, it's the reverse:. https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/preprocessing/_highly_variable_genes.py#L136-L143. I propose we put in the fix (which is currently being tested with high accuracy). The simplest solution would be to call it a new flavor. Ideally this would get in as soon as possible as this is a high volume function from what I understand. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2088
https://github.com/scverse/scanpy/issues/2088:294,testability,test,test,294,"`flavor=""seurat_v3""` HVG aggregation over batches not intended ; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the master branch of scanpy. In the test of the flavor, the sorting over batches is correct with respect to how Seurat actually does it:. https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/tests/test_highly_variable_genes.py#L138-L142. First sort by number of batches it's called a HVG and then second break ties by the median rank. In the actual function, it's the reverse:. https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/preprocessing/_highly_variable_genes.py#L136-L143. I propose we put in the fix (which is currently being tested with high accuracy). The simplest solution would be to call it a new flavor. Ideally this would get in as soon as possible as this is a high volume function from what I understand. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2088
https://github.com/scverse/scanpy/issues/2088:484,testability,test,tests,484,"`flavor=""seurat_v3""` HVG aggregation over batches not intended ; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the master branch of scanpy. In the test of the flavor, the sorting over batches is correct with respect to how Seurat actually does it:. https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/tests/test_highly_variable_genes.py#L138-L142. First sort by number of batches it's called a HVG and then second break ties by the median rank. In the actual function, it's the reverse:. https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/preprocessing/_highly_variable_genes.py#L136-L143. I propose we put in the fix (which is currently being tested with high accuracy). The simplest solution would be to call it a new flavor. Ideally this would get in as soon as possible as this is a high volume function from what I understand. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2088
https://github.com/scverse/scanpy/issues/2088:864,testability,test,tested,864,"`flavor=""seurat_v3""` HVG aggregation over batches not intended ; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the master branch of scanpy. In the test of the flavor, the sorting over batches is correct with respect to how Seurat actually does it:. https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/tests/test_highly_variable_genes.py#L138-L142. First sort by number of batches it's called a HVG and then second break ties by the median rank. In the actual function, it's the reverse:. https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/preprocessing/_highly_variable_genes.py#L136-L143. I propose we put in the fix (which is currently being tested with high accuracy). The simplest solution would be to call it a new flavor. Ideally this would get in as soon as possible as this is a high volume function from what I understand. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2088
https://github.com/scverse/scanpy/issues/2088:896,testability,simpl,simplest,896,"`flavor=""seurat_v3""` HVG aggregation over batches not intended ; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the master branch of scanpy. In the test of the flavor, the sorting over batches is correct with respect to how Seurat actually does it:. https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/tests/test_highly_variable_genes.py#L138-L142. First sort by number of batches it's called a HVG and then second break ties by the median rank. In the actual function, it's the reverse:. https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/preprocessing/_highly_variable_genes.py#L136-L143. I propose we put in the fix (which is currently being tested with high accuracy). The simplest solution would be to call it a new flavor. Ideally this would get in as soon as possible as this is a high volume function from what I understand. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2088
https://github.com/scverse/scanpy/issues/2088:1040,testability,understand,understand,1040,"`flavor=""seurat_v3""` HVG aggregation over batches not intended ; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the master branch of scanpy. In the test of the flavor, the sorting over batches is correct with respect to how Seurat actually does it:. https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/tests/test_highly_variable_genes.py#L138-L142. First sort by number of batches it's called a HVG and then second break ties by the median rank. In the actual function, it's the reverse:. https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/preprocessing/_highly_variable_genes.py#L136-L143. I propose we put in the fix (which is currently being tested with high accuracy). The simplest solution would be to call it a new flavor. Ideally this would get in as soon as possible as this is a high volume function from what I understand. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2088
https://github.com/scverse/scanpy/issues/2088:146,usability,confirm,confirmed,146,"`flavor=""seurat_v3""` HVG aggregation over batches not intended ; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the master branch of scanpy. In the test of the flavor, the sorting over batches is correct with respect to how Seurat actually does it:. https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/tests/test_highly_variable_genes.py#L138-L142. First sort by number of batches it's called a HVG and then second break ties by the median rank. In the actual function, it's the reverse:. https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/preprocessing/_highly_variable_genes.py#L136-L143. I propose we put in the fix (which is currently being tested with high accuracy). The simplest solution would be to call it a new flavor. Ideally this would get in as soon as possible as this is a high volume function from what I understand. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2088
https://github.com/scverse/scanpy/issues/2088:229,usability,confirm,confirmed,229,"`flavor=""seurat_v3""` HVG aggregation over batches not intended ; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the master branch of scanpy. In the test of the flavor, the sorting over batches is correct with respect to how Seurat actually does it:. https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/tests/test_highly_variable_genes.py#L138-L142. First sort by number of batches it's called a HVG and then second break ties by the median rank. In the actual function, it's the reverse:. https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/preprocessing/_highly_variable_genes.py#L136-L143. I propose we put in the fix (which is currently being tested with high accuracy). The simplest solution would be to call it a new flavor. Ideally this would get in as soon as possible as this is a high volume function from what I understand. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2088
https://github.com/scverse/scanpy/issues/2088:896,usability,simpl,simplest,896,"`flavor=""seurat_v3""` HVG aggregation over batches not intended ; - [x] I have checked that this issue has not already been reported. - [x] I have confirmed this bug exists on the latest version of scanpy. - [x] (optional) I have confirmed this bug exists on the master branch of scanpy. In the test of the flavor, the sorting over batches is correct with respect to how Seurat actually does it:. https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/tests/test_highly_variable_genes.py#L138-L142. First sort by number of batches it's called a HVG and then second break ties by the median rank. In the actual function, it's the reverse:. https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/preprocessing/_highly_variable_genes.py#L136-L143. I propose we put in the fix (which is currently being tested with high accuracy). The simplest solution would be to call it a new flavor. Ideally this would get in as soon as possible as this is a high volume function from what I understand. .",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2088
https://github.com/scverse/scanpy/pull/2089:127,deployability,version,version,127,"Switch from sinfo to session_info; Fixes #1852. In a notebook, with `rich=None, file=None` or `rich=True`, we display the HTML version. I also added docs: https://icb-scanpy--2089.com.readthedocs.build/en/2089/generated/scanpy.logging.print_versions.html. It’s just plain `<details>` and `<summary>` tags, no fancy widgets and should therefore survive rendering using nbsphinx or GitHub’s notebook renderer. Looks like this:. ![unexpanded](https://user-images.githubusercontent.com/291575/146676148-ae14ea6e-7fd2-46ea-b013-f2b55669a35c.png). after a click:. ![expanded once](https://user-images.githubusercontent.com/291575/146676159-84e26f4e-8e16-4587-a3eb-145528abc353.png). after another click:. ![expanded twice](https://user-images.githubusercontent.com/291575/146676172-e38cc3f0-dd06-48d0-91b0-66708294e214.png).",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2089
https://github.com/scverse/scanpy/pull/2089:196,deployability,build,build,196,"Switch from sinfo to session_info; Fixes #1852. In a notebook, with `rich=None, file=None` or `rich=True`, we display the HTML version. I also added docs: https://icb-scanpy--2089.com.readthedocs.build/en/2089/generated/scanpy.logging.print_versions.html. It’s just plain `<details>` and `<summary>` tags, no fancy widgets and should therefore survive rendering using nbsphinx or GitHub’s notebook renderer. Looks like this:. ![unexpanded](https://user-images.githubusercontent.com/291575/146676148-ae14ea6e-7fd2-46ea-b013-f2b55669a35c.png). after a click:. ![expanded once](https://user-images.githubusercontent.com/291575/146676159-84e26f4e-8e16-4587-a3eb-145528abc353.png). after another click:. ![expanded twice](https://user-images.githubusercontent.com/291575/146676172-e38cc3f0-dd06-48d0-91b0-66708294e214.png).",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2089
https://github.com/scverse/scanpy/pull/2089:227,deployability,log,logging,227,"Switch from sinfo to session_info; Fixes #1852. In a notebook, with `rich=None, file=None` or `rich=True`, we display the HTML version. I also added docs: https://icb-scanpy--2089.com.readthedocs.build/en/2089/generated/scanpy.logging.print_versions.html. It’s just plain `<details>` and `<summary>` tags, no fancy widgets and should therefore survive rendering using nbsphinx or GitHub’s notebook renderer. Looks like this:. ![unexpanded](https://user-images.githubusercontent.com/291575/146676148-ae14ea6e-7fd2-46ea-b013-f2b55669a35c.png). after a click:. ![expanded once](https://user-images.githubusercontent.com/291575/146676159-84e26f4e-8e16-4587-a3eb-145528abc353.png). after another click:. ![expanded twice](https://user-images.githubusercontent.com/291575/146676172-e38cc3f0-dd06-48d0-91b0-66708294e214.png).",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2089
https://github.com/scverse/scanpy/pull/2089:127,integrability,version,version,127,"Switch from sinfo to session_info; Fixes #1852. In a notebook, with `rich=None, file=None` or `rich=True`, we display the HTML version. I also added docs: https://icb-scanpy--2089.com.readthedocs.build/en/2089/generated/scanpy.logging.print_versions.html. It’s just plain `<details>` and `<summary>` tags, no fancy widgets and should therefore survive rendering using nbsphinx or GitHub’s notebook renderer. Looks like this:. ![unexpanded](https://user-images.githubusercontent.com/291575/146676148-ae14ea6e-7fd2-46ea-b013-f2b55669a35c.png). after a click:. ![expanded once](https://user-images.githubusercontent.com/291575/146676159-84e26f4e-8e16-4587-a3eb-145528abc353.png). after another click:. ![expanded twice](https://user-images.githubusercontent.com/291575/146676172-e38cc3f0-dd06-48d0-91b0-66708294e214.png).",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2089
https://github.com/scverse/scanpy/pull/2089:127,modifiability,version,version,127,"Switch from sinfo to session_info; Fixes #1852. In a notebook, with `rich=None, file=None` or `rich=True`, we display the HTML version. I also added docs: https://icb-scanpy--2089.com.readthedocs.build/en/2089/generated/scanpy.logging.print_versions.html. It’s just plain `<details>` and `<summary>` tags, no fancy widgets and should therefore survive rendering using nbsphinx or GitHub’s notebook renderer. Looks like this:. ![unexpanded](https://user-images.githubusercontent.com/291575/146676148-ae14ea6e-7fd2-46ea-b013-f2b55669a35c.png). after a click:. ![expanded once](https://user-images.githubusercontent.com/291575/146676159-84e26f4e-8e16-4587-a3eb-145528abc353.png). after another click:. ![expanded twice](https://user-images.githubusercontent.com/291575/146676172-e38cc3f0-dd06-48d0-91b0-66708294e214.png).",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2089
https://github.com/scverse/scanpy/pull/2089:227,safety,log,logging,227,"Switch from sinfo to session_info; Fixes #1852. In a notebook, with `rich=None, file=None` or `rich=True`, we display the HTML version. I also added docs: https://icb-scanpy--2089.com.readthedocs.build/en/2089/generated/scanpy.logging.print_versions.html. It’s just plain `<details>` and `<summary>` tags, no fancy widgets and should therefore survive rendering using nbsphinx or GitHub’s notebook renderer. Looks like this:. ![unexpanded](https://user-images.githubusercontent.com/291575/146676148-ae14ea6e-7fd2-46ea-b013-f2b55669a35c.png). after a click:. ![expanded once](https://user-images.githubusercontent.com/291575/146676159-84e26f4e-8e16-4587-a3eb-145528abc353.png). after another click:. ![expanded twice](https://user-images.githubusercontent.com/291575/146676172-e38cc3f0-dd06-48d0-91b0-66708294e214.png).",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2089
https://github.com/scverse/scanpy/pull/2089:227,security,log,logging,227,"Switch from sinfo to session_info; Fixes #1852. In a notebook, with `rich=None, file=None` or `rich=True`, we display the HTML version. I also added docs: https://icb-scanpy--2089.com.readthedocs.build/en/2089/generated/scanpy.logging.print_versions.html. It’s just plain `<details>` and `<summary>` tags, no fancy widgets and should therefore survive rendering using nbsphinx or GitHub’s notebook renderer. Looks like this:. ![unexpanded](https://user-images.githubusercontent.com/291575/146676148-ae14ea6e-7fd2-46ea-b013-f2b55669a35c.png). after a click:. ![expanded once](https://user-images.githubusercontent.com/291575/146676159-84e26f4e-8e16-4587-a3eb-145528abc353.png). after another click:. ![expanded twice](https://user-images.githubusercontent.com/291575/146676172-e38cc3f0-dd06-48d0-91b0-66708294e214.png).",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2089
https://github.com/scverse/scanpy/pull/2089:227,testability,log,logging,227,"Switch from sinfo to session_info; Fixes #1852. In a notebook, with `rich=None, file=None` or `rich=True`, we display the HTML version. I also added docs: https://icb-scanpy--2089.com.readthedocs.build/en/2089/generated/scanpy.logging.print_versions.html. It’s just plain `<details>` and `<summary>` tags, no fancy widgets and should therefore survive rendering using nbsphinx or GitHub’s notebook renderer. Looks like this:. ![unexpanded](https://user-images.githubusercontent.com/291575/146676148-ae14ea6e-7fd2-46ea-b013-f2b55669a35c.png). after a click:. ![expanded once](https://user-images.githubusercontent.com/291575/146676159-84e26f4e-8e16-4587-a3eb-145528abc353.png). after another click:. ![expanded twice](https://user-images.githubusercontent.com/291575/146676172-e38cc3f0-dd06-48d0-91b0-66708294e214.png).",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2089
https://github.com/scverse/scanpy/pull/2089:315,usability,widget,widgets,315,"Switch from sinfo to session_info; Fixes #1852. In a notebook, with `rich=None, file=None` or `rich=True`, we display the HTML version. I also added docs: https://icb-scanpy--2089.com.readthedocs.build/en/2089/generated/scanpy.logging.print_versions.html. It’s just plain `<details>` and `<summary>` tags, no fancy widgets and should therefore survive rendering using nbsphinx or GitHub’s notebook renderer. Looks like this:. ![unexpanded](https://user-images.githubusercontent.com/291575/146676148-ae14ea6e-7fd2-46ea-b013-f2b55669a35c.png). after a click:. ![expanded once](https://user-images.githubusercontent.com/291575/146676159-84e26f4e-8e16-4587-a3eb-145528abc353.png). after another click:. ![expanded twice](https://user-images.githubusercontent.com/291575/146676172-e38cc3f0-dd06-48d0-91b0-66708294e214.png).",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2089
https://github.com/scverse/scanpy/pull/2089:448,usability,user,user-images,448,"Switch from sinfo to session_info; Fixes #1852. In a notebook, with `rich=None, file=None` or `rich=True`, we display the HTML version. I also added docs: https://icb-scanpy--2089.com.readthedocs.build/en/2089/generated/scanpy.logging.print_versions.html. It’s just plain `<details>` and `<summary>` tags, no fancy widgets and should therefore survive rendering using nbsphinx or GitHub’s notebook renderer. Looks like this:. ![unexpanded](https://user-images.githubusercontent.com/291575/146676148-ae14ea6e-7fd2-46ea-b013-f2b55669a35c.png). after a click:. ![expanded once](https://user-images.githubusercontent.com/291575/146676159-84e26f4e-8e16-4587-a3eb-145528abc353.png). after another click:. ![expanded twice](https://user-images.githubusercontent.com/291575/146676172-e38cc3f0-dd06-48d0-91b0-66708294e214.png).",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2089
https://github.com/scverse/scanpy/pull/2089:583,usability,user,user-images,583,"Switch from sinfo to session_info; Fixes #1852. In a notebook, with `rich=None, file=None` or `rich=True`, we display the HTML version. I also added docs: https://icb-scanpy--2089.com.readthedocs.build/en/2089/generated/scanpy.logging.print_versions.html. It’s just plain `<details>` and `<summary>` tags, no fancy widgets and should therefore survive rendering using nbsphinx or GitHub’s notebook renderer. Looks like this:. ![unexpanded](https://user-images.githubusercontent.com/291575/146676148-ae14ea6e-7fd2-46ea-b013-f2b55669a35c.png). after a click:. ![expanded once](https://user-images.githubusercontent.com/291575/146676159-84e26f4e-8e16-4587-a3eb-145528abc353.png). after another click:. ![expanded twice](https://user-images.githubusercontent.com/291575/146676172-e38cc3f0-dd06-48d0-91b0-66708294e214.png).",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2089
https://github.com/scverse/scanpy/pull/2089:725,usability,user,user-images,725,"Switch from sinfo to session_info; Fixes #1852. In a notebook, with `rich=None, file=None` or `rich=True`, we display the HTML version. I also added docs: https://icb-scanpy--2089.com.readthedocs.build/en/2089/generated/scanpy.logging.print_versions.html. It’s just plain `<details>` and `<summary>` tags, no fancy widgets and should therefore survive rendering using nbsphinx or GitHub’s notebook renderer. Looks like this:. ![unexpanded](https://user-images.githubusercontent.com/291575/146676148-ae14ea6e-7fd2-46ea-b013-f2b55669a35c.png). after a click:. ![expanded once](https://user-images.githubusercontent.com/291575/146676159-84e26f4e-8e16-4587-a3eb-145528abc353.png). after another click:. ![expanded twice](https://user-images.githubusercontent.com/291575/146676172-e38cc3f0-dd06-48d0-91b0-66708294e214.png).",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/pull/2089
https://github.com/scverse/scanpy/issues/2090:0,integrability,Filter,Filter,0,Filter `OldFormatWarnings` while reading datasets from `sc.datasets`; Basically what the title says. These throw a ton of warnings with development anndata at the moment.,MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2090
https://github.com/scverse/scanpy/issues/2091:379,energy efficiency,estimat,estimates,379,"What are the limits of AnnData by number of cells and/or genes? ; Hi, . I'm trying to use `Scanpy` to analyze a recent dataset. It's been published on [GEO](https://www.ncbi.nlm.nih.gov/geo/query/acc.cgi?acc=GSE156793) as a loom file that has about 4 million cells and 68k genes. I was wondering if that's possible according to the object architecture? And if yes, are there any estimates - how much RAM should say each 100k cells occupy? To have this estimate would be useful when planning analysis of big datasets. . Thank you in advance.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2091
https://github.com/scverse/scanpy/issues/2091:452,energy efficiency,estimat,estimate,452,"What are the limits of AnnData by number of cells and/or genes? ; Hi, . I'm trying to use `Scanpy` to analyze a recent dataset. It's been published on [GEO](https://www.ncbi.nlm.nih.gov/geo/query/acc.cgi?acc=GSE156793) as a loom file that has about 4 million cells and 68k genes. I was wondering if that's possible according to the object architecture? And if yes, are there any estimates - how much RAM should say each 100k cells occupy? To have this estimate would be useful when planning analysis of big datasets. . Thank you in advance.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2091
https://github.com/scverse/scanpy/issues/2091:138,integrability,pub,published,138,"What are the limits of AnnData by number of cells and/or genes? ; Hi, . I'm trying to use `Scanpy` to analyze a recent dataset. It's been published on [GEO](https://www.ncbi.nlm.nih.gov/geo/query/acc.cgi?acc=GSE156793) as a loom file that has about 4 million cells and 68k genes. I was wondering if that's possible according to the object architecture? And if yes, are there any estimates - how much RAM should say each 100k cells occupy? To have this estimate would be useful when planning analysis of big datasets. . Thank you in advance.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2091
https://github.com/scverse/scanpy/issues/2091:339,interoperability,architectur,architecture,339,"What are the limits of AnnData by number of cells and/or genes? ; Hi, . I'm trying to use `Scanpy` to analyze a recent dataset. It's been published on [GEO](https://www.ncbi.nlm.nih.gov/geo/query/acc.cgi?acc=GSE156793) as a loom file that has about 4 million cells and 68k genes. I was wondering if that's possible according to the object architecture? And if yes, are there any estimates - how much RAM should say each 100k cells occupy? To have this estimate would be useful when planning analysis of big datasets. . Thank you in advance.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2091
https://github.com/scverse/scanpy/issues/2091:482,testability,plan,planning,482,"What are the limits of AnnData by number of cells and/or genes? ; Hi, . I'm trying to use `Scanpy` to analyze a recent dataset. It's been published on [GEO](https://www.ncbi.nlm.nih.gov/geo/query/acc.cgi?acc=GSE156793) as a loom file that has about 4 million cells and 68k genes. I was wondering if that's possible according to the object architecture? And if yes, are there any estimates - how much RAM should say each 100k cells occupy? To have this estimate would be useful when planning analysis of big datasets. . Thank you in advance.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2091
https://github.com/scverse/scanpy/issues/2092:63,deployability,scale,scale,63,"`sc.pl.stacked_violin`, Is it also possible to add tiny y-axis scale bars to the stacked_violin(`swap_axes = True`)?; Hello,. Is it also possible to add tiny y-axis scale bars to the stacked_violin(`swap_axes = True`), to indicate the expression levels? Thanks. Dan",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2092
https://github.com/scverse/scanpy/issues/2092:165,deployability,scale,scale,165,"`sc.pl.stacked_violin`, Is it also possible to add tiny y-axis scale bars to the stacked_violin(`swap_axes = True`)?; Hello,. Is it also possible to add tiny y-axis scale bars to the stacked_violin(`swap_axes = True`), to indicate the expression levels? Thanks. Dan",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2092
https://github.com/scverse/scanpy/issues/2092:63,energy efficiency,scale,scale,63,"`sc.pl.stacked_violin`, Is it also possible to add tiny y-axis scale bars to the stacked_violin(`swap_axes = True`)?; Hello,. Is it also possible to add tiny y-axis scale bars to the stacked_violin(`swap_axes = True`), to indicate the expression levels? Thanks. Dan",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2092
https://github.com/scverse/scanpy/issues/2092:165,energy efficiency,scale,scale,165,"`sc.pl.stacked_violin`, Is it also possible to add tiny y-axis scale bars to the stacked_violin(`swap_axes = True`)?; Hello,. Is it also possible to add tiny y-axis scale bars to the stacked_violin(`swap_axes = True`), to indicate the expression levels? Thanks. Dan",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2092
https://github.com/scverse/scanpy/issues/2092:63,modifiability,scal,scale,63,"`sc.pl.stacked_violin`, Is it also possible to add tiny y-axis scale bars to the stacked_violin(`swap_axes = True`)?; Hello,. Is it also possible to add tiny y-axis scale bars to the stacked_violin(`swap_axes = True`), to indicate the expression levels? Thanks. Dan",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2092
https://github.com/scverse/scanpy/issues/2092:165,modifiability,scal,scale,165,"`sc.pl.stacked_violin`, Is it also possible to add tiny y-axis scale bars to the stacked_violin(`swap_axes = True`)?; Hello,. Is it also possible to add tiny y-axis scale bars to the stacked_violin(`swap_axes = True`), to indicate the expression levels? Thanks. Dan",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2092
https://github.com/scverse/scanpy/issues/2092:63,performance,scale,scale,63,"`sc.pl.stacked_violin`, Is it also possible to add tiny y-axis scale bars to the stacked_violin(`swap_axes = True`)?; Hello,. Is it also possible to add tiny y-axis scale bars to the stacked_violin(`swap_axes = True`), to indicate the expression levels? Thanks. Dan",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2092
https://github.com/scverse/scanpy/issues/2092:165,performance,scale,scale,165,"`sc.pl.stacked_violin`, Is it also possible to add tiny y-axis scale bars to the stacked_violin(`swap_axes = True`)?; Hello,. Is it also possible to add tiny y-axis scale bars to the stacked_violin(`swap_axes = True`), to indicate the expression levels? Thanks. Dan",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2092
https://github.com/scverse/scanpy/issues/2092:222,usability,indicat,indicate,222,"`sc.pl.stacked_violin`, Is it also possible to add tiny y-axis scale bars to the stacked_violin(`swap_axes = True`)?; Hello,. Is it also possible to add tiny y-axis scale bars to the stacked_violin(`swap_axes = True`), to indicate the expression levels? Thanks. Dan",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2092
https://github.com/scverse/scanpy/issues/2093:269,deployability,version,version,269,"`sc.pp.neighbors` uses the default value of `n_comps` in `sc.pp.pca` instead of `n_pcs` in `sc.pp.neighbors` when `X_pca ` is not precomputed ; - [yes] I have checked that this issue has not already been reported. - [yes] I have confirmed this bug exists on the latest version of scanpy. - [yes] I have confirmed this bug exists on the master branch of scanpy. Suggested fix: change line 44 in scanpy/scanpy/tools/_utils.py . https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/tools/_utils.py#L44 . from `X = pca(adata.X)` to `X = pca(adata.X)[:, :n_pcs]`. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Minimal code . import scanpy as sc. import anndata. import numpy as np. print('scanpy=', sc.__version__). print('anndata=', anndata.__version__). print('numpy=', np.__version__). np.random.seed(0). adata_raw = anndata.AnnData(np.random.randn(20,200)). print('adata shape', adata.shape). # neighbors without precomputed pca. adata = adata_raw.copy(). sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15). mat_neighbor10_pc15_without_pca = adata.obsp[""connectivities""].copy(). adata = adata_raw.copy(). sc.pp.pca(adata, n_comps=15). sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15). mat_neighbor10_pc15_with_pca = adata.obsp[""connectivities""].copy(). adata = adata_raw.copy(). sc.pp.pca(adata, n_comps=19) # max n_comps for 30 cells. sc.pp.neighbors(adata, n_neighbors=10, n_pcs=19). mat_neighbor10_pc19_with_pca = adata.obsp[""connectivities""].copy(). print('\nResults for `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15)` '. 'with and without precomputed pca are different:'). print(np.allclose(mat_neighbor10_pc15_without_pca.toarray(), mat_neighbor10_pc15_with_pca.toarray())). print('\nResults of `sc.pp.neighbors(adata, n_neighbo",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2093
https://github.com/scverse/scanpy/issues/2093:2901,deployability,Version,Versions,2901,"mat_neighbor10_pc15_with_pca.toarray())). print('\nResults of `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15)` without precomputed pca is same as '. 'results of `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=19)` (19 is default `n_comps` for sc.pp.pca)'. ' with precomputed pca'). print(np.allclose(mat_neighbor10_pc15_without_pca.toarray(), mat_neighbor10_pc19_with_pca.toarray())). ```. ```pytb. scanpy= 1.6.0. anndata= 0.7.4. numpy= 1.19.0. adata shape (20, 200). WARNING: You’re trying to run this on 200 dimensions of `.X`, if you really want this, set `use_rep='X'`. Falling back to preprocessing with `sc.pp.pca` and default params. Results for `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15)` with and without precomputed pca are different. False. Results of `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15)` without precomputed pca is same as results of `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=19)` (19 is default `n_comps` for sc.pp.pca) with precomputed pca. True. ```. #### Versions. <details>. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.4. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 7.2.0. anndata 0.7.4. backcall 0.2.0. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 2.10.0. igraph 0.8.3. importlib_metadata 1.7.0. ipykernel 5.3.2. ipython_genutils 0.2.0. jedi 0.17.1. joblib 0.16.0. kiwisolver 1.2.0. legacy_api_wrap 1.2. leidenalg 0.8.3. llvmlite 0.35.0. louvain 0.7.0. matplotlib 3.3.0. mpl_toolkits NA. natsort 7.0.1. numba 0.52.0. numexpr 2.7.1. numpy 1.19.0. packaging 20.4. pandas 1.0.5. parso 0.7.0. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.5. ptyprocess 0.6.0. pygments 2.6.1. pyparsing 2.4.7. pytz 2020.1. scanpy 1.6.0. scipy 1.5.1. setuptools_scm NA. sinfo 0.3.1. six 1.15.0. sklearn 0.23.1. storemagic NA. tables 3.6.1. texttable 1.6.3. tornado 6.0.4. traitlets 4.3.3. typing_extensions NA. umap 0.4.6. wcwidth 0.2.5. yaml 5.4.1. zipp NA. zm",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2093
https://github.com/scverse/scanpy/issues/2093:4142,deployability,log,logical,4142,".toarray(), mat_neighbor10_pc19_with_pca.toarray())). ```. ```pytb. scanpy= 1.6.0. anndata= 0.7.4. numpy= 1.19.0. adata shape (20, 200). WARNING: You’re trying to run this on 200 dimensions of `.X`, if you really want this, set `use_rep='X'`. Falling back to preprocessing with `sc.pp.pca` and default params. Results for `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15)` with and without precomputed pca are different. False. Results of `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15)` without precomputed pca is same as results of `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=19)` (19 is default `n_comps` for sc.pp.pca) with precomputed pca. True. ```. #### Versions. <details>. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.4. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 7.2.0. anndata 0.7.4. backcall 0.2.0. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 2.10.0. igraph 0.8.3. importlib_metadata 1.7.0. ipykernel 5.3.2. ipython_genutils 0.2.0. jedi 0.17.1. joblib 0.16.0. kiwisolver 1.2.0. legacy_api_wrap 1.2. leidenalg 0.8.3. llvmlite 0.35.0. louvain 0.7.0. matplotlib 3.3.0. mpl_toolkits NA. natsort 7.0.1. numba 0.52.0. numexpr 2.7.1. numpy 1.19.0. packaging 20.4. pandas 1.0.5. parso 0.7.0. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.5. ptyprocess 0.6.0. pygments 2.6.1. pyparsing 2.4.7. pytz 2020.1. scanpy 1.6.0. scipy 1.5.1. setuptools_scm NA. sinfo 0.3.1. six 1.15.0. sklearn 0.23.1. storemagic NA. tables 3.6.1. texttable 1.6.3. tornado 6.0.4. traitlets 4.3.3. typing_extensions NA. umap 0.4.6. wcwidth 0.2.5. yaml 5.4.1. zipp NA. zmq 19.0.1. zope NA. -----. IPython 7.16.1. jupyter_client 6.1.6. jupyter_core 4.6.3. notebook 6.0.3. -----. Python 3.7.2 (default, Jul 16 2019, 22:54:18) [GCC 8.2.0]. Linux-3.10.0-1160.36.2.el7.x86_64-x86_64-with-centos-7.9.2009-Core. 48 logical CPU cores, x86_64. -----. Session information updated at 2021-12-24 13:42. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2093
https://github.com/scverse/scanpy/issues/2093:4196,deployability,updat,updated,4196,".toarray(), mat_neighbor10_pc19_with_pca.toarray())). ```. ```pytb. scanpy= 1.6.0. anndata= 0.7.4. numpy= 1.19.0. adata shape (20, 200). WARNING: You’re trying to run this on 200 dimensions of `.X`, if you really want this, set `use_rep='X'`. Falling back to preprocessing with `sc.pp.pca` and default params. Results for `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15)` with and without precomputed pca are different. False. Results of `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15)` without precomputed pca is same as results of `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=19)` (19 is default `n_comps` for sc.pp.pca) with precomputed pca. True. ```. #### Versions. <details>. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.4. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 7.2.0. anndata 0.7.4. backcall 0.2.0. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 2.10.0. igraph 0.8.3. importlib_metadata 1.7.0. ipykernel 5.3.2. ipython_genutils 0.2.0. jedi 0.17.1. joblib 0.16.0. kiwisolver 1.2.0. legacy_api_wrap 1.2. leidenalg 0.8.3. llvmlite 0.35.0. louvain 0.7.0. matplotlib 3.3.0. mpl_toolkits NA. natsort 7.0.1. numba 0.52.0. numexpr 2.7.1. numpy 1.19.0. packaging 20.4. pandas 1.0.5. parso 0.7.0. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.5. ptyprocess 0.6.0. pygments 2.6.1. pyparsing 2.4.7. pytz 2020.1. scanpy 1.6.0. scipy 1.5.1. setuptools_scm NA. sinfo 0.3.1. six 1.15.0. sklearn 0.23.1. storemagic NA. tables 3.6.1. texttable 1.6.3. tornado 6.0.4. traitlets 4.3.3. typing_extensions NA. umap 0.4.6. wcwidth 0.2.5. yaml 5.4.1. zipp NA. zmq 19.0.1. zope NA. -----. IPython 7.16.1. jupyter_client 6.1.6. jupyter_core 4.6.3. notebook 6.0.3. -----. Python 3.7.2 (default, Jul 16 2019, 22:54:18) [GCC 8.2.0]. Linux-3.10.0-1160.36.2.el7.x86_64-x86_64-with-centos-7.9.2009-Core. 48 logical CPU cores, x86_64. -----. Session information updated at 2021-12-24 13:42. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2093
https://github.com/scverse/scanpy/issues/2093:4133,energy efficiency,Core,Core,4133,".toarray(), mat_neighbor10_pc19_with_pca.toarray())). ```. ```pytb. scanpy= 1.6.0. anndata= 0.7.4. numpy= 1.19.0. adata shape (20, 200). WARNING: You’re trying to run this on 200 dimensions of `.X`, if you really want this, set `use_rep='X'`. Falling back to preprocessing with `sc.pp.pca` and default params. Results for `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15)` with and without precomputed pca are different. False. Results of `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15)` without precomputed pca is same as results of `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=19)` (19 is default `n_comps` for sc.pp.pca) with precomputed pca. True. ```. #### Versions. <details>. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.4. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 7.2.0. anndata 0.7.4. backcall 0.2.0. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 2.10.0. igraph 0.8.3. importlib_metadata 1.7.0. ipykernel 5.3.2. ipython_genutils 0.2.0. jedi 0.17.1. joblib 0.16.0. kiwisolver 1.2.0. legacy_api_wrap 1.2. leidenalg 0.8.3. llvmlite 0.35.0. louvain 0.7.0. matplotlib 3.3.0. mpl_toolkits NA. natsort 7.0.1. numba 0.52.0. numexpr 2.7.1. numpy 1.19.0. packaging 20.4. pandas 1.0.5. parso 0.7.0. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.5. ptyprocess 0.6.0. pygments 2.6.1. pyparsing 2.4.7. pytz 2020.1. scanpy 1.6.0. scipy 1.5.1. setuptools_scm NA. sinfo 0.3.1. six 1.15.0. sklearn 0.23.1. storemagic NA. tables 3.6.1. texttable 1.6.3. tornado 6.0.4. traitlets 4.3.3. typing_extensions NA. umap 0.4.6. wcwidth 0.2.5. yaml 5.4.1. zipp NA. zmq 19.0.1. zope NA. -----. IPython 7.16.1. jupyter_client 6.1.6. jupyter_core 4.6.3. notebook 6.0.3. -----. Python 3.7.2 (default, Jul 16 2019, 22:54:18) [GCC 8.2.0]. Linux-3.10.0-1160.36.2.el7.x86_64-x86_64-with-centos-7.9.2009-Core. 48 logical CPU cores, x86_64. -----. Session information updated at 2021-12-24 13:42. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2093
https://github.com/scverse/scanpy/issues/2093:4150,energy efficiency,CPU,CPU,4150,".toarray(), mat_neighbor10_pc19_with_pca.toarray())). ```. ```pytb. scanpy= 1.6.0. anndata= 0.7.4. numpy= 1.19.0. adata shape (20, 200). WARNING: You’re trying to run this on 200 dimensions of `.X`, if you really want this, set `use_rep='X'`. Falling back to preprocessing with `sc.pp.pca` and default params. Results for `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15)` with and without precomputed pca are different. False. Results of `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15)` without precomputed pca is same as results of `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=19)` (19 is default `n_comps` for sc.pp.pca) with precomputed pca. True. ```. #### Versions. <details>. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.4. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 7.2.0. anndata 0.7.4. backcall 0.2.0. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 2.10.0. igraph 0.8.3. importlib_metadata 1.7.0. ipykernel 5.3.2. ipython_genutils 0.2.0. jedi 0.17.1. joblib 0.16.0. kiwisolver 1.2.0. legacy_api_wrap 1.2. leidenalg 0.8.3. llvmlite 0.35.0. louvain 0.7.0. matplotlib 3.3.0. mpl_toolkits NA. natsort 7.0.1. numba 0.52.0. numexpr 2.7.1. numpy 1.19.0. packaging 20.4. pandas 1.0.5. parso 0.7.0. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.5. ptyprocess 0.6.0. pygments 2.6.1. pyparsing 2.4.7. pytz 2020.1. scanpy 1.6.0. scipy 1.5.1. setuptools_scm NA. sinfo 0.3.1. six 1.15.0. sklearn 0.23.1. storemagic NA. tables 3.6.1. texttable 1.6.3. tornado 6.0.4. traitlets 4.3.3. typing_extensions NA. umap 0.4.6. wcwidth 0.2.5. yaml 5.4.1. zipp NA. zmq 19.0.1. zope NA. -----. IPython 7.16.1. jupyter_client 6.1.6. jupyter_core 4.6.3. notebook 6.0.3. -----. Python 3.7.2 (default, Jul 16 2019, 22:54:18) [GCC 8.2.0]. Linux-3.10.0-1160.36.2.el7.x86_64-x86_64-with-centos-7.9.2009-Core. 48 logical CPU cores, x86_64. -----. Session information updated at 2021-12-24 13:42. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2093
https://github.com/scverse/scanpy/issues/2093:4154,energy efficiency,core,cores,4154,".toarray(), mat_neighbor10_pc19_with_pca.toarray())). ```. ```pytb. scanpy= 1.6.0. anndata= 0.7.4. numpy= 1.19.0. adata shape (20, 200). WARNING: You’re trying to run this on 200 dimensions of `.X`, if you really want this, set `use_rep='X'`. Falling back to preprocessing with `sc.pp.pca` and default params. Results for `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15)` with and without precomputed pca are different. False. Results of `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15)` without precomputed pca is same as results of `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=19)` (19 is default `n_comps` for sc.pp.pca) with precomputed pca. True. ```. #### Versions. <details>. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.4. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 7.2.0. anndata 0.7.4. backcall 0.2.0. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 2.10.0. igraph 0.8.3. importlib_metadata 1.7.0. ipykernel 5.3.2. ipython_genutils 0.2.0. jedi 0.17.1. joblib 0.16.0. kiwisolver 1.2.0. legacy_api_wrap 1.2. leidenalg 0.8.3. llvmlite 0.35.0. louvain 0.7.0. matplotlib 3.3.0. mpl_toolkits NA. natsort 7.0.1. numba 0.52.0. numexpr 2.7.1. numpy 1.19.0. packaging 20.4. pandas 1.0.5. parso 0.7.0. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.5. ptyprocess 0.6.0. pygments 2.6.1. pyparsing 2.4.7. pytz 2020.1. scanpy 1.6.0. scipy 1.5.1. setuptools_scm NA. sinfo 0.3.1. six 1.15.0. sklearn 0.23.1. storemagic NA. tables 3.6.1. texttable 1.6.3. tornado 6.0.4. traitlets 4.3.3. typing_extensions NA. umap 0.4.6. wcwidth 0.2.5. yaml 5.4.1. zipp NA. zmq 19.0.1. zope NA. -----. IPython 7.16.1. jupyter_client 6.1.6. jupyter_core 4.6.3. notebook 6.0.3. -----. Python 3.7.2 (default, Jul 16 2019, 22:54:18) [GCC 8.2.0]. Linux-3.10.0-1160.36.2.el7.x86_64-x86_64-with-centos-7.9.2009-Core. 48 logical CPU cores, x86_64. -----. Session information updated at 2021-12-24 13:42. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2093
https://github.com/scverse/scanpy/issues/2093:269,integrability,version,version,269,"`sc.pp.neighbors` uses the default value of `n_comps` in `sc.pp.pca` instead of `n_pcs` in `sc.pp.neighbors` when `X_pca ` is not precomputed ; - [yes] I have checked that this issue has not already been reported. - [yes] I have confirmed this bug exists on the latest version of scanpy. - [yes] I have confirmed this bug exists on the master branch of scanpy. Suggested fix: change line 44 in scanpy/scanpy/tools/_utils.py . https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/tools/_utils.py#L44 . from `X = pca(adata.X)` to `X = pca(adata.X)[:, :n_pcs]`. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Minimal code . import scanpy as sc. import anndata. import numpy as np. print('scanpy=', sc.__version__). print('anndata=', anndata.__version__). print('numpy=', np.__version__). np.random.seed(0). adata_raw = anndata.AnnData(np.random.randn(20,200)). print('adata shape', adata.shape). # neighbors without precomputed pca. adata = adata_raw.copy(). sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15). mat_neighbor10_pc15_without_pca = adata.obsp[""connectivities""].copy(). adata = adata_raw.copy(). sc.pp.pca(adata, n_comps=15). sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15). mat_neighbor10_pc15_with_pca = adata.obsp[""connectivities""].copy(). adata = adata_raw.copy(). sc.pp.pca(adata, n_comps=19) # max n_comps for 30 cells. sc.pp.neighbors(adata, n_neighbors=10, n_pcs=19). mat_neighbor10_pc19_with_pca = adata.obsp[""connectivities""].copy(). print('\nResults for `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15)` '. 'with and without precomputed pca are different:'). print(np.allclose(mat_neighbor10_pc15_without_pca.toarray(), mat_neighbor10_pc15_with_pca.toarray())). print('\nResults of `sc.pp.neighbors(adata, n_neighbo",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2093
https://github.com/scverse/scanpy/issues/2093:2901,integrability,Version,Versions,2901,"mat_neighbor10_pc15_with_pca.toarray())). print('\nResults of `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15)` without precomputed pca is same as '. 'results of `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=19)` (19 is default `n_comps` for sc.pp.pca)'. ' with precomputed pca'). print(np.allclose(mat_neighbor10_pc15_without_pca.toarray(), mat_neighbor10_pc19_with_pca.toarray())). ```. ```pytb. scanpy= 1.6.0. anndata= 0.7.4. numpy= 1.19.0. adata shape (20, 200). WARNING: You’re trying to run this on 200 dimensions of `.X`, if you really want this, set `use_rep='X'`. Falling back to preprocessing with `sc.pp.pca` and default params. Results for `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15)` with and without precomputed pca are different. False. Results of `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15)` without precomputed pca is same as results of `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=19)` (19 is default `n_comps` for sc.pp.pca) with precomputed pca. True. ```. #### Versions. <details>. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.4. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 7.2.0. anndata 0.7.4. backcall 0.2.0. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 2.10.0. igraph 0.8.3. importlib_metadata 1.7.0. ipykernel 5.3.2. ipython_genutils 0.2.0. jedi 0.17.1. joblib 0.16.0. kiwisolver 1.2.0. legacy_api_wrap 1.2. leidenalg 0.8.3. llvmlite 0.35.0. louvain 0.7.0. matplotlib 3.3.0. mpl_toolkits NA. natsort 7.0.1. numba 0.52.0. numexpr 2.7.1. numpy 1.19.0. packaging 20.4. pandas 1.0.5. parso 0.7.0. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.5. ptyprocess 0.6.0. pygments 2.6.1. pyparsing 2.4.7. pytz 2020.1. scanpy 1.6.0. scipy 1.5.1. setuptools_scm NA. sinfo 0.3.1. six 1.15.0. sklearn 0.23.1. storemagic NA. tables 3.6.1. texttable 1.6.3. tornado 6.0.4. traitlets 4.3.3. typing_extensions NA. umap 0.4.6. wcwidth 0.2.5. yaml 5.4.1. zipp NA. zm",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2093
https://github.com/scverse/scanpy/issues/2093:269,modifiability,version,version,269,"`sc.pp.neighbors` uses the default value of `n_comps` in `sc.pp.pca` instead of `n_pcs` in `sc.pp.neighbors` when `X_pca ` is not precomputed ; - [yes] I have checked that this issue has not already been reported. - [yes] I have confirmed this bug exists on the latest version of scanpy. - [yes] I have confirmed this bug exists on the master branch of scanpy. Suggested fix: change line 44 in scanpy/scanpy/tools/_utils.py . https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/tools/_utils.py#L44 . from `X = pca(adata.X)` to `X = pca(adata.X)[:, :n_pcs]`. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Minimal code . import scanpy as sc. import anndata. import numpy as np. print('scanpy=', sc.__version__). print('anndata=', anndata.__version__). print('numpy=', np.__version__). np.random.seed(0). adata_raw = anndata.AnnData(np.random.randn(20,200)). print('adata shape', adata.shape). # neighbors without precomputed pca. adata = adata_raw.copy(). sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15). mat_neighbor10_pc15_without_pca = adata.obsp[""connectivities""].copy(). adata = adata_raw.copy(). sc.pp.pca(adata, n_comps=15). sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15). mat_neighbor10_pc15_with_pca = adata.obsp[""connectivities""].copy(). adata = adata_raw.copy(). sc.pp.pca(adata, n_comps=19) # max n_comps for 30 cells. sc.pp.neighbors(adata, n_neighbors=10, n_pcs=19). mat_neighbor10_pc19_with_pca = adata.obsp[""connectivities""].copy(). print('\nResults for `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15)` '. 'with and without precomputed pca are different:'). print(np.allclose(mat_neighbor10_pc15_without_pca.toarray(), mat_neighbor10_pc15_with_pca.toarray())). print('\nResults of `sc.pp.neighbors(adata, n_neighbo",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2093
https://github.com/scverse/scanpy/issues/2093:2901,modifiability,Version,Versions,2901,"mat_neighbor10_pc15_with_pca.toarray())). print('\nResults of `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15)` without precomputed pca is same as '. 'results of `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=19)` (19 is default `n_comps` for sc.pp.pca)'. ' with precomputed pca'). print(np.allclose(mat_neighbor10_pc15_without_pca.toarray(), mat_neighbor10_pc19_with_pca.toarray())). ```. ```pytb. scanpy= 1.6.0. anndata= 0.7.4. numpy= 1.19.0. adata shape (20, 200). WARNING: You’re trying to run this on 200 dimensions of `.X`, if you really want this, set `use_rep='X'`. Falling back to preprocessing with `sc.pp.pca` and default params. Results for `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15)` with and without precomputed pca are different. False. Results of `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15)` without precomputed pca is same as results of `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=19)` (19 is default `n_comps` for sc.pp.pca) with precomputed pca. True. ```. #### Versions. <details>. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.4. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 7.2.0. anndata 0.7.4. backcall 0.2.0. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 2.10.0. igraph 0.8.3. importlib_metadata 1.7.0. ipykernel 5.3.2. ipython_genutils 0.2.0. jedi 0.17.1. joblib 0.16.0. kiwisolver 1.2.0. legacy_api_wrap 1.2. leidenalg 0.8.3. llvmlite 0.35.0. louvain 0.7.0. matplotlib 3.3.0. mpl_toolkits NA. natsort 7.0.1. numba 0.52.0. numexpr 2.7.1. numpy 1.19.0. packaging 20.4. pandas 1.0.5. parso 0.7.0. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.5. ptyprocess 0.6.0. pygments 2.6.1. pyparsing 2.4.7. pytz 2020.1. scanpy 1.6.0. scipy 1.5.1. setuptools_scm NA. sinfo 0.3.1. six 1.15.0. sklearn 0.23.1. storemagic NA. tables 3.6.1. texttable 1.6.3. tornado 6.0.4. traitlets 4.3.3. typing_extensions NA. umap 0.4.6. wcwidth 0.2.5. yaml 5.4.1. zipp NA. zm",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2093
https://github.com/scverse/scanpy/issues/2093:3150,modifiability,deco,decorator,3150,"ca)'. ' with precomputed pca'). print(np.allclose(mat_neighbor10_pc15_without_pca.toarray(), mat_neighbor10_pc19_with_pca.toarray())). ```. ```pytb. scanpy= 1.6.0. anndata= 0.7.4. numpy= 1.19.0. adata shape (20, 200). WARNING: You’re trying to run this on 200 dimensions of `.X`, if you really want this, set `use_rep='X'`. Falling back to preprocessing with `sc.pp.pca` and default params. Results for `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15)` with and without precomputed pca are different. False. Results of `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15)` without precomputed pca is same as results of `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=19)` (19 is default `n_comps` for sc.pp.pca) with precomputed pca. True. ```. #### Versions. <details>. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.4. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 7.2.0. anndata 0.7.4. backcall 0.2.0. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 2.10.0. igraph 0.8.3. importlib_metadata 1.7.0. ipykernel 5.3.2. ipython_genutils 0.2.0. jedi 0.17.1. joblib 0.16.0. kiwisolver 1.2.0. legacy_api_wrap 1.2. leidenalg 0.8.3. llvmlite 0.35.0. louvain 0.7.0. matplotlib 3.3.0. mpl_toolkits NA. natsort 7.0.1. numba 0.52.0. numexpr 2.7.1. numpy 1.19.0. packaging 20.4. pandas 1.0.5. parso 0.7.0. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.5. ptyprocess 0.6.0. pygments 2.6.1. pyparsing 2.4.7. pytz 2020.1. scanpy 1.6.0. scipy 1.5.1. setuptools_scm NA. sinfo 0.3.1. six 1.15.0. sklearn 0.23.1. storemagic NA. tables 3.6.1. texttable 1.6.3. tornado 6.0.4. traitlets 4.3.3. typing_extensions NA. umap 0.4.6. wcwidth 0.2.5. yaml 5.4.1. zipp NA. zmq 19.0.1. zope NA. -----. IPython 7.16.1. jupyter_client 6.1.6. jupyter_core 4.6.3. notebook 6.0.3. -----. Python 3.7.2 (default, Jul 16 2019, 22:54:18) [GCC 8.2.0]. Linux-3.10.0-1160.36.2.el7.x86_64-x86_64-with-centos-7.9.2009-Core. 48 logical CPU c",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2093
https://github.com/scverse/scanpy/issues/2093:3487,modifiability,pac,packaging,3487,".toarray(), mat_neighbor10_pc19_with_pca.toarray())). ```. ```pytb. scanpy= 1.6.0. anndata= 0.7.4. numpy= 1.19.0. adata shape (20, 200). WARNING: You’re trying to run this on 200 dimensions of `.X`, if you really want this, set `use_rep='X'`. Falling back to preprocessing with `sc.pp.pca` and default params. Results for `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15)` with and without precomputed pca are different. False. Results of `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15)` without precomputed pca is same as results of `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=19)` (19 is default `n_comps` for sc.pp.pca) with precomputed pca. True. ```. #### Versions. <details>. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.4. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 7.2.0. anndata 0.7.4. backcall 0.2.0. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 2.10.0. igraph 0.8.3. importlib_metadata 1.7.0. ipykernel 5.3.2. ipython_genutils 0.2.0. jedi 0.17.1. joblib 0.16.0. kiwisolver 1.2.0. legacy_api_wrap 1.2. leidenalg 0.8.3. llvmlite 0.35.0. louvain 0.7.0. matplotlib 3.3.0. mpl_toolkits NA. natsort 7.0.1. numba 0.52.0. numexpr 2.7.1. numpy 1.19.0. packaging 20.4. pandas 1.0.5. parso 0.7.0. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.5. ptyprocess 0.6.0. pygments 2.6.1. pyparsing 2.4.7. pytz 2020.1. scanpy 1.6.0. scipy 1.5.1. setuptools_scm NA. sinfo 0.3.1. six 1.15.0. sklearn 0.23.1. storemagic NA. tables 3.6.1. texttable 1.6.3. tornado 6.0.4. traitlets 4.3.3. typing_extensions NA. umap 0.4.6. wcwidth 0.2.5. yaml 5.4.1. zipp NA. zmq 19.0.1. zope NA. -----. IPython 7.16.1. jupyter_client 6.1.6. jupyter_core 4.6.3. notebook 6.0.3. -----. Python 3.7.2 (default, Jul 16 2019, 22:54:18) [GCC 8.2.0]. Linux-3.10.0-1160.36.2.el7.x86_64-x86_64-with-centos-7.9.2009-Core. 48 logical CPU cores, x86_64. -----. Session information updated at 2021-12-24 13:42. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2093
https://github.com/scverse/scanpy/issues/2093:4150,performance,CPU,CPU,4150,".toarray(), mat_neighbor10_pc19_with_pca.toarray())). ```. ```pytb. scanpy= 1.6.0. anndata= 0.7.4. numpy= 1.19.0. adata shape (20, 200). WARNING: You’re trying to run this on 200 dimensions of `.X`, if you really want this, set `use_rep='X'`. Falling back to preprocessing with `sc.pp.pca` and default params. Results for `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15)` with and without precomputed pca are different. False. Results of `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15)` without precomputed pca is same as results of `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=19)` (19 is default `n_comps` for sc.pp.pca) with precomputed pca. True. ```. #### Versions. <details>. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.4. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 7.2.0. anndata 0.7.4. backcall 0.2.0. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 2.10.0. igraph 0.8.3. importlib_metadata 1.7.0. ipykernel 5.3.2. ipython_genutils 0.2.0. jedi 0.17.1. joblib 0.16.0. kiwisolver 1.2.0. legacy_api_wrap 1.2. leidenalg 0.8.3. llvmlite 0.35.0. louvain 0.7.0. matplotlib 3.3.0. mpl_toolkits NA. natsort 7.0.1. numba 0.52.0. numexpr 2.7.1. numpy 1.19.0. packaging 20.4. pandas 1.0.5. parso 0.7.0. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.5. ptyprocess 0.6.0. pygments 2.6.1. pyparsing 2.4.7. pytz 2020.1. scanpy 1.6.0. scipy 1.5.1. setuptools_scm NA. sinfo 0.3.1. six 1.15.0. sklearn 0.23.1. storemagic NA. tables 3.6.1. texttable 1.6.3. tornado 6.0.4. traitlets 4.3.3. typing_extensions NA. umap 0.4.6. wcwidth 0.2.5. yaml 5.4.1. zipp NA. zmq 19.0.1. zope NA. -----. IPython 7.16.1. jupyter_client 6.1.6. jupyter_core 4.6.3. notebook 6.0.3. -----. Python 3.7.2 (default, Jul 16 2019, 22:54:18) [GCC 8.2.0]. Linux-3.10.0-1160.36.2.el7.x86_64-x86_64-with-centos-7.9.2009-Core. 48 logical CPU cores, x86_64. -----. Session information updated at 2021-12-24 13:42. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2093
https://github.com/scverse/scanpy/issues/2093:4142,safety,log,logical,4142,".toarray(), mat_neighbor10_pc19_with_pca.toarray())). ```. ```pytb. scanpy= 1.6.0. anndata= 0.7.4. numpy= 1.19.0. adata shape (20, 200). WARNING: You’re trying to run this on 200 dimensions of `.X`, if you really want this, set `use_rep='X'`. Falling back to preprocessing with `sc.pp.pca` and default params. Results for `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15)` with and without precomputed pca are different. False. Results of `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15)` without precomputed pca is same as results of `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=19)` (19 is default `n_comps` for sc.pp.pca) with precomputed pca. True. ```. #### Versions. <details>. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.4. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 7.2.0. anndata 0.7.4. backcall 0.2.0. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 2.10.0. igraph 0.8.3. importlib_metadata 1.7.0. ipykernel 5.3.2. ipython_genutils 0.2.0. jedi 0.17.1. joblib 0.16.0. kiwisolver 1.2.0. legacy_api_wrap 1.2. leidenalg 0.8.3. llvmlite 0.35.0. louvain 0.7.0. matplotlib 3.3.0. mpl_toolkits NA. natsort 7.0.1. numba 0.52.0. numexpr 2.7.1. numpy 1.19.0. packaging 20.4. pandas 1.0.5. parso 0.7.0. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.5. ptyprocess 0.6.0. pygments 2.6.1. pyparsing 2.4.7. pytz 2020.1. scanpy 1.6.0. scipy 1.5.1. setuptools_scm NA. sinfo 0.3.1. six 1.15.0. sklearn 0.23.1. storemagic NA. tables 3.6.1. texttable 1.6.3. tornado 6.0.4. traitlets 4.3.3. typing_extensions NA. umap 0.4.6. wcwidth 0.2.5. yaml 5.4.1. zipp NA. zmq 19.0.1. zope NA. -----. IPython 7.16.1. jupyter_client 6.1.6. jupyter_core 4.6.3. notebook 6.0.3. -----. Python 3.7.2 (default, Jul 16 2019, 22:54:18) [GCC 8.2.0]. Linux-3.10.0-1160.36.2.el7.x86_64-x86_64-with-centos-7.9.2009-Core. 48 logical CPU cores, x86_64. -----. Session information updated at 2021-12-24 13:42. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2093
https://github.com/scverse/scanpy/issues/2093:4196,safety,updat,updated,4196,".toarray(), mat_neighbor10_pc19_with_pca.toarray())). ```. ```pytb. scanpy= 1.6.0. anndata= 0.7.4. numpy= 1.19.0. adata shape (20, 200). WARNING: You’re trying to run this on 200 dimensions of `.X`, if you really want this, set `use_rep='X'`. Falling back to preprocessing with `sc.pp.pca` and default params. Results for `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15)` with and without precomputed pca are different. False. Results of `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15)` without precomputed pca is same as results of `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=19)` (19 is default `n_comps` for sc.pp.pca) with precomputed pca. True. ```. #### Versions. <details>. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.4. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 7.2.0. anndata 0.7.4. backcall 0.2.0. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 2.10.0. igraph 0.8.3. importlib_metadata 1.7.0. ipykernel 5.3.2. ipython_genutils 0.2.0. jedi 0.17.1. joblib 0.16.0. kiwisolver 1.2.0. legacy_api_wrap 1.2. leidenalg 0.8.3. llvmlite 0.35.0. louvain 0.7.0. matplotlib 3.3.0. mpl_toolkits NA. natsort 7.0.1. numba 0.52.0. numexpr 2.7.1. numpy 1.19.0. packaging 20.4. pandas 1.0.5. parso 0.7.0. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.5. ptyprocess 0.6.0. pygments 2.6.1. pyparsing 2.4.7. pytz 2020.1. scanpy 1.6.0. scipy 1.5.1. setuptools_scm NA. sinfo 0.3.1. six 1.15.0. sklearn 0.23.1. storemagic NA. tables 3.6.1. texttable 1.6.3. tornado 6.0.4. traitlets 4.3.3. typing_extensions NA. umap 0.4.6. wcwidth 0.2.5. yaml 5.4.1. zipp NA. zmq 19.0.1. zope NA. -----. IPython 7.16.1. jupyter_client 6.1.6. jupyter_core 4.6.3. notebook 6.0.3. -----. Python 3.7.2 (default, Jul 16 2019, 22:54:18) [GCC 8.2.0]. Linux-3.10.0-1160.36.2.el7.x86_64-x86_64-with-centos-7.9.2009-Core. 48 logical CPU cores, x86_64. -----. Session information updated at 2021-12-24 13:42. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2093
https://github.com/scverse/scanpy/issues/2093:4142,security,log,logical,4142,".toarray(), mat_neighbor10_pc19_with_pca.toarray())). ```. ```pytb. scanpy= 1.6.0. anndata= 0.7.4. numpy= 1.19.0. adata shape (20, 200). WARNING: You’re trying to run this on 200 dimensions of `.X`, if you really want this, set `use_rep='X'`. Falling back to preprocessing with `sc.pp.pca` and default params. Results for `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15)` with and without precomputed pca are different. False. Results of `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15)` without precomputed pca is same as results of `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=19)` (19 is default `n_comps` for sc.pp.pca) with precomputed pca. True. ```. #### Versions. <details>. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.4. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 7.2.0. anndata 0.7.4. backcall 0.2.0. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 2.10.0. igraph 0.8.3. importlib_metadata 1.7.0. ipykernel 5.3.2. ipython_genutils 0.2.0. jedi 0.17.1. joblib 0.16.0. kiwisolver 1.2.0. legacy_api_wrap 1.2. leidenalg 0.8.3. llvmlite 0.35.0. louvain 0.7.0. matplotlib 3.3.0. mpl_toolkits NA. natsort 7.0.1. numba 0.52.0. numexpr 2.7.1. numpy 1.19.0. packaging 20.4. pandas 1.0.5. parso 0.7.0. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.5. ptyprocess 0.6.0. pygments 2.6.1. pyparsing 2.4.7. pytz 2020.1. scanpy 1.6.0. scipy 1.5.1. setuptools_scm NA. sinfo 0.3.1. six 1.15.0. sklearn 0.23.1. storemagic NA. tables 3.6.1. texttable 1.6.3. tornado 6.0.4. traitlets 4.3.3. typing_extensions NA. umap 0.4.6. wcwidth 0.2.5. yaml 5.4.1. zipp NA. zmq 19.0.1. zope NA. -----. IPython 7.16.1. jupyter_client 6.1.6. jupyter_core 4.6.3. notebook 6.0.3. -----. Python 3.7.2 (default, Jul 16 2019, 22:54:18) [GCC 8.2.0]. Linux-3.10.0-1160.36.2.el7.x86_64-x86_64-with-centos-7.9.2009-Core. 48 logical CPU cores, x86_64. -----. Session information updated at 2021-12-24 13:42. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2093
https://github.com/scverse/scanpy/issues/2093:4176,security,Session,Session,4176,".toarray(), mat_neighbor10_pc19_with_pca.toarray())). ```. ```pytb. scanpy= 1.6.0. anndata= 0.7.4. numpy= 1.19.0. adata shape (20, 200). WARNING: You’re trying to run this on 200 dimensions of `.X`, if you really want this, set `use_rep='X'`. Falling back to preprocessing with `sc.pp.pca` and default params. Results for `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15)` with and without precomputed pca are different. False. Results of `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15)` without precomputed pca is same as results of `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=19)` (19 is default `n_comps` for sc.pp.pca) with precomputed pca. True. ```. #### Versions. <details>. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.4. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 7.2.0. anndata 0.7.4. backcall 0.2.0. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 2.10.0. igraph 0.8.3. importlib_metadata 1.7.0. ipykernel 5.3.2. ipython_genutils 0.2.0. jedi 0.17.1. joblib 0.16.0. kiwisolver 1.2.0. legacy_api_wrap 1.2. leidenalg 0.8.3. llvmlite 0.35.0. louvain 0.7.0. matplotlib 3.3.0. mpl_toolkits NA. natsort 7.0.1. numba 0.52.0. numexpr 2.7.1. numpy 1.19.0. packaging 20.4. pandas 1.0.5. parso 0.7.0. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.5. ptyprocess 0.6.0. pygments 2.6.1. pyparsing 2.4.7. pytz 2020.1. scanpy 1.6.0. scipy 1.5.1. setuptools_scm NA. sinfo 0.3.1. six 1.15.0. sklearn 0.23.1. storemagic NA. tables 3.6.1. texttable 1.6.3. tornado 6.0.4. traitlets 4.3.3. typing_extensions NA. umap 0.4.6. wcwidth 0.2.5. yaml 5.4.1. zipp NA. zmq 19.0.1. zope NA. -----. IPython 7.16.1. jupyter_client 6.1.6. jupyter_core 4.6.3. notebook 6.0.3. -----. Python 3.7.2 (default, Jul 16 2019, 22:54:18) [GCC 8.2.0]. Linux-3.10.0-1160.36.2.el7.x86_64-x86_64-with-centos-7.9.2009-Core. 48 logical CPU cores, x86_64. -----. Session information updated at 2021-12-24 13:42. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2093
https://github.com/scverse/scanpy/issues/2093:4196,security,updat,updated,4196,".toarray(), mat_neighbor10_pc19_with_pca.toarray())). ```. ```pytb. scanpy= 1.6.0. anndata= 0.7.4. numpy= 1.19.0. adata shape (20, 200). WARNING: You’re trying to run this on 200 dimensions of `.X`, if you really want this, set `use_rep='X'`. Falling back to preprocessing with `sc.pp.pca` and default params. Results for `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15)` with and without precomputed pca are different. False. Results of `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15)` without precomputed pca is same as results of `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=19)` (19 is default `n_comps` for sc.pp.pca) with precomputed pca. True. ```. #### Versions. <details>. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.4. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 7.2.0. anndata 0.7.4. backcall 0.2.0. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 2.10.0. igraph 0.8.3. importlib_metadata 1.7.0. ipykernel 5.3.2. ipython_genutils 0.2.0. jedi 0.17.1. joblib 0.16.0. kiwisolver 1.2.0. legacy_api_wrap 1.2. leidenalg 0.8.3. llvmlite 0.35.0. louvain 0.7.0. matplotlib 3.3.0. mpl_toolkits NA. natsort 7.0.1. numba 0.52.0. numexpr 2.7.1. numpy 1.19.0. packaging 20.4. pandas 1.0.5. parso 0.7.0. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.5. ptyprocess 0.6.0. pygments 2.6.1. pyparsing 2.4.7. pytz 2020.1. scanpy 1.6.0. scipy 1.5.1. setuptools_scm NA. sinfo 0.3.1. six 1.15.0. sklearn 0.23.1. storemagic NA. tables 3.6.1. texttable 1.6.3. tornado 6.0.4. traitlets 4.3.3. typing_extensions NA. umap 0.4.6. wcwidth 0.2.5. yaml 5.4.1. zipp NA. zmq 19.0.1. zope NA. -----. IPython 7.16.1. jupyter_client 6.1.6. jupyter_core 4.6.3. notebook 6.0.3. -----. Python 3.7.2 (default, Jul 16 2019, 22:54:18) [GCC 8.2.0]. Linux-3.10.0-1160.36.2.el7.x86_64-x86_64-with-centos-7.9.2009-Core. 48 logical CPU cores, x86_64. -----. Session information updated at 2021-12-24 13:42. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2093
https://github.com/scverse/scanpy/issues/2093:4142,testability,log,logical,4142,".toarray(), mat_neighbor10_pc19_with_pca.toarray())). ```. ```pytb. scanpy= 1.6.0. anndata= 0.7.4. numpy= 1.19.0. adata shape (20, 200). WARNING: You’re trying to run this on 200 dimensions of `.X`, if you really want this, set `use_rep='X'`. Falling back to preprocessing with `sc.pp.pca` and default params. Results for `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15)` with and without precomputed pca are different. False. Results of `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15)` without precomputed pca is same as results of `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=19)` (19 is default `n_comps` for sc.pp.pca) with precomputed pca. True. ```. #### Versions. <details>. WARNING: If you miss a compact list, please try `print_header`! -----. anndata 0.7.4. scanpy 1.6.0. sinfo 0.3.1. -----. PIL 7.2.0. anndata 0.7.4. backcall 0.2.0. colorama 0.4.4. cycler 0.10.0. cython_runtime NA. dateutil 2.8.1. decorator 4.4.2. get_version 2.1. h5py 2.10.0. igraph 0.8.3. importlib_metadata 1.7.0. ipykernel 5.3.2. ipython_genutils 0.2.0. jedi 0.17.1. joblib 0.16.0. kiwisolver 1.2.0. legacy_api_wrap 1.2. leidenalg 0.8.3. llvmlite 0.35.0. louvain 0.7.0. matplotlib 3.3.0. mpl_toolkits NA. natsort 7.0.1. numba 0.52.0. numexpr 2.7.1. numpy 1.19.0. packaging 20.4. pandas 1.0.5. parso 0.7.0. pexpect 4.8.0. pickleshare 0.7.5. pkg_resources NA. prompt_toolkit 3.0.5. ptyprocess 0.6.0. pygments 2.6.1. pyparsing 2.4.7. pytz 2020.1. scanpy 1.6.0. scipy 1.5.1. setuptools_scm NA. sinfo 0.3.1. six 1.15.0. sklearn 0.23.1. storemagic NA. tables 3.6.1. texttable 1.6.3. tornado 6.0.4. traitlets 4.3.3. typing_extensions NA. umap 0.4.6. wcwidth 0.2.5. yaml 5.4.1. zipp NA. zmq 19.0.1. zope NA. -----. IPython 7.16.1. jupyter_client 6.1.6. jupyter_core 4.6.3. notebook 6.0.3. -----. Python 3.7.2 (default, Jul 16 2019, 22:54:18) [GCC 8.2.0]. Linux-3.10.0-1160.36.2.el7.x86_64-x86_64-with-centos-7.9.2009-Core. 48 logical CPU cores, x86_64. -----. Session information updated at 2021-12-24 13:42. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2093
https://github.com/scverse/scanpy/issues/2093:229,usability,confirm,confirmed,229,"`sc.pp.neighbors` uses the default value of `n_comps` in `sc.pp.pca` instead of `n_pcs` in `sc.pp.neighbors` when `X_pca ` is not precomputed ; - [yes] I have checked that this issue has not already been reported. - [yes] I have confirmed this bug exists on the latest version of scanpy. - [yes] I have confirmed this bug exists on the master branch of scanpy. Suggested fix: change line 44 in scanpy/scanpy/tools/_utils.py . https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/tools/_utils.py#L44 . from `X = pca(adata.X)` to `X = pca(adata.X)[:, :n_pcs]`. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Minimal code . import scanpy as sc. import anndata. import numpy as np. print('scanpy=', sc.__version__). print('anndata=', anndata.__version__). print('numpy=', np.__version__). np.random.seed(0). adata_raw = anndata.AnnData(np.random.randn(20,200)). print('adata shape', adata.shape). # neighbors without precomputed pca. adata = adata_raw.copy(). sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15). mat_neighbor10_pc15_without_pca = adata.obsp[""connectivities""].copy(). adata = adata_raw.copy(). sc.pp.pca(adata, n_comps=15). sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15). mat_neighbor10_pc15_with_pca = adata.obsp[""connectivities""].copy(). adata = adata_raw.copy(). sc.pp.pca(adata, n_comps=19) # max n_comps for 30 cells. sc.pp.neighbors(adata, n_neighbors=10, n_pcs=19). mat_neighbor10_pc19_with_pca = adata.obsp[""connectivities""].copy(). print('\nResults for `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15)` '. 'with and without precomputed pca are different:'). print(np.allclose(mat_neighbor10_pc15_without_pca.toarray(), mat_neighbor10_pc15_with_pca.toarray())). print('\nResults of `sc.pp.neighbors(adata, n_neighbo",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2093
https://github.com/scverse/scanpy/issues/2093:303,usability,confirm,confirmed,303,"`sc.pp.neighbors` uses the default value of `n_comps` in `sc.pp.pca` instead of `n_pcs` in `sc.pp.neighbors` when `X_pca ` is not precomputed ; - [yes] I have checked that this issue has not already been reported. - [yes] I have confirmed this bug exists on the latest version of scanpy. - [yes] I have confirmed this bug exists on the master branch of scanpy. Suggested fix: change line 44 in scanpy/scanpy/tools/_utils.py . https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/tools/_utils.py#L44 . from `X = pca(adata.X)` to `X = pca(adata.X)[:, :n_pcs]`. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Minimal code . import scanpy as sc. import anndata. import numpy as np. print('scanpy=', sc.__version__). print('anndata=', anndata.__version__). print('numpy=', np.__version__). np.random.seed(0). adata_raw = anndata.AnnData(np.random.randn(20,200)). print('adata shape', adata.shape). # neighbors without precomputed pca. adata = adata_raw.copy(). sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15). mat_neighbor10_pc15_without_pca = adata.obsp[""connectivities""].copy(). adata = adata_raw.copy(). sc.pp.pca(adata, n_comps=15). sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15). mat_neighbor10_pc15_with_pca = adata.obsp[""connectivities""].copy(). adata = adata_raw.copy(). sc.pp.pca(adata, n_comps=19) # max n_comps for 30 cells. sc.pp.neighbors(adata, n_neighbors=10, n_pcs=19). mat_neighbor10_pc19_with_pca = adata.obsp[""connectivities""].copy(). print('\nResults for `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15)` '. 'with and without precomputed pca are different:'). print(np.allclose(mat_neighbor10_pc15_without_pca.toarray(), mat_neighbor10_pc15_with_pca.toarray())). print('\nResults of `sc.pp.neighbors(adata, n_neighbo",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2093
https://github.com/scverse/scanpy/issues/2093:408,usability,tool,tools,408,"`sc.pp.neighbors` uses the default value of `n_comps` in `sc.pp.pca` instead of `n_pcs` in `sc.pp.neighbors` when `X_pca ` is not precomputed ; - [yes] I have checked that this issue has not already been reported. - [yes] I have confirmed this bug exists on the latest version of scanpy. - [yes] I have confirmed this bug exists on the master branch of scanpy. Suggested fix: change line 44 in scanpy/scanpy/tools/_utils.py . https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/tools/_utils.py#L44 . from `X = pca(adata.X)` to `X = pca(adata.X)[:, :n_pcs]`. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Minimal code . import scanpy as sc. import anndata. import numpy as np. print('scanpy=', sc.__version__). print('anndata=', anndata.__version__). print('numpy=', np.__version__). np.random.seed(0). adata_raw = anndata.AnnData(np.random.randn(20,200)). print('adata shape', adata.shape). # neighbors without precomputed pca. adata = adata_raw.copy(). sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15). mat_neighbor10_pc15_without_pca = adata.obsp[""connectivities""].copy(). adata = adata_raw.copy(). sc.pp.pca(adata, n_comps=15). sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15). mat_neighbor10_pc15_with_pca = adata.obsp[""connectivities""].copy(). adata = adata_raw.copy(). sc.pp.pca(adata, n_comps=19) # max n_comps for 30 cells. sc.pp.neighbors(adata, n_neighbors=10, n_pcs=19). mat_neighbor10_pc19_with_pca = adata.obsp[""connectivities""].copy(). print('\nResults for `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15)` '. 'with and without precomputed pca are different:'). print(np.allclose(mat_neighbor10_pc15_without_pca.toarray(), mat_neighbor10_pc15_with_pca.toarray())). print('\nResults of `sc.pp.neighbors(adata, n_neighbo",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2093
https://github.com/scverse/scanpy/issues/2093:514,usability,tool,tools,514,"`sc.pp.neighbors` uses the default value of `n_comps` in `sc.pp.pca` instead of `n_pcs` in `sc.pp.neighbors` when `X_pca ` is not precomputed ; - [yes] I have checked that this issue has not already been reported. - [yes] I have confirmed this bug exists on the latest version of scanpy. - [yes] I have confirmed this bug exists on the master branch of scanpy. Suggested fix: change line 44 in scanpy/scanpy/tools/_utils.py . https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/tools/_utils.py#L44 . from `X = pca(adata.X)` to `X = pca(adata.X)[:, :n_pcs]`. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Minimal code . import scanpy as sc. import anndata. import numpy as np. print('scanpy=', sc.__version__). print('anndata=', anndata.__version__). print('numpy=', np.__version__). np.random.seed(0). adata_raw = anndata.AnnData(np.random.randn(20,200)). print('adata shape', adata.shape). # neighbors without precomputed pca. adata = adata_raw.copy(). sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15). mat_neighbor10_pc15_without_pca = adata.obsp[""connectivities""].copy(). adata = adata_raw.copy(). sc.pp.pca(adata, n_comps=15). sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15). mat_neighbor10_pc15_with_pca = adata.obsp[""connectivities""].copy(). adata = adata_raw.copy(). sc.pp.pca(adata, n_comps=19) # max n_comps for 30 cells. sc.pp.neighbors(adata, n_neighbors=10, n_pcs=19). mat_neighbor10_pc19_with_pca = adata.obsp[""connectivities""].copy(). print('\nResults for `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15)` '. 'with and without precomputed pca are different:'). print(np.allclose(mat_neighbor10_pc15_without_pca.toarray(), mat_neighbor10_pc15_with_pca.toarray())). print('\nResults of `sc.pp.neighbors(adata, n_neighbo",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2093
https://github.com/scverse/scanpy/issues/2093:627,usability,guid,guide,627,"`sc.pp.neighbors` uses the default value of `n_comps` in `sc.pp.pca` instead of `n_pcs` in `sc.pp.neighbors` when `X_pca ` is not precomputed ; - [yes] I have checked that this issue has not already been reported. - [yes] I have confirmed this bug exists on the latest version of scanpy. - [yes] I have confirmed this bug exists on the master branch of scanpy. Suggested fix: change line 44 in scanpy/scanpy/tools/_utils.py . https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/tools/_utils.py#L44 . from `X = pca(adata.X)` to `X = pca(adata.X)[:, :n_pcs]`. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Minimal code . import scanpy as sc. import anndata. import numpy as np. print('scanpy=', sc.__version__). print('anndata=', anndata.__version__). print('numpy=', np.__version__). np.random.seed(0). adata_raw = anndata.AnnData(np.random.randn(20,200)). print('adata shape', adata.shape). # neighbors without precomputed pca. adata = adata_raw.copy(). sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15). mat_neighbor10_pc15_without_pca = adata.obsp[""connectivities""].copy(). adata = adata_raw.copy(). sc.pp.pca(adata, n_comps=15). sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15). mat_neighbor10_pc15_with_pca = adata.obsp[""connectivities""].copy(). adata = adata_raw.copy(). sc.pp.pca(adata, n_comps=19) # max n_comps for 30 cells. sc.pp.neighbors(adata, n_neighbors=10, n_pcs=19). mat_neighbor10_pc19_with_pca = adata.obsp[""connectivities""].copy(). print('\nResults for `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15)` '. 'with and without precomputed pca are different:'). print(np.allclose(mat_neighbor10_pc15_without_pca.toarray(), mat_neighbor10_pc15_with_pca.toarray())). print('\nResults of `sc.pp.neighbors(adata, n_neighbo",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2093
https://github.com/scverse/scanpy/issues/2093:682,usability,minim,minimal-bug-reports,682,"`sc.pp.neighbors` uses the default value of `n_comps` in `sc.pp.pca` instead of `n_pcs` in `sc.pp.neighbors` when `X_pca ` is not precomputed ; - [yes] I have checked that this issue has not already been reported. - [yes] I have confirmed this bug exists on the latest version of scanpy. - [yes] I have confirmed this bug exists on the master branch of scanpy. Suggested fix: change line 44 in scanpy/scanpy/tools/_utils.py . https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/tools/_utils.py#L44 . from `X = pca(adata.X)` to `X = pca(adata.X)[:, :n_pcs]`. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Minimal code . import scanpy as sc. import anndata. import numpy as np. print('scanpy=', sc.__version__). print('anndata=', anndata.__version__). print('numpy=', np.__version__). np.random.seed(0). adata_raw = anndata.AnnData(np.random.randn(20,200)). print('adata shape', adata.shape). # neighbors without precomputed pca. adata = adata_raw.copy(). sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15). mat_neighbor10_pc15_without_pca = adata.obsp[""connectivities""].copy(). adata = adata_raw.copy(). sc.pp.pca(adata, n_comps=15). sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15). mat_neighbor10_pc15_with_pca = adata.obsp[""connectivities""].copy(). adata = adata_raw.copy(). sc.pp.pca(adata, n_comps=19) # max n_comps for 30 cells. sc.pp.neighbors(adata, n_neighbors=10, n_pcs=19). mat_neighbor10_pc19_with_pca = adata.obsp[""connectivities""].copy(). print('\nResults for `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15)` '. 'with and without precomputed pca are different:'). print(np.allclose(mat_neighbor10_pc15_without_pca.toarray(), mat_neighbor10_pc15_with_pca.toarray())). print('\nResults of `sc.pp.neighbors(adata, n_neighbo",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2093
https://github.com/scverse/scanpy/issues/2093:788,usability,Minim,Minimal,788,"`sc.pp.neighbors` uses the default value of `n_comps` in `sc.pp.pca` instead of `n_pcs` in `sc.pp.neighbors` when `X_pca ` is not precomputed ; - [yes] I have checked that this issue has not already been reported. - [yes] I have confirmed this bug exists on the latest version of scanpy. - [yes] I have confirmed this bug exists on the master branch of scanpy. Suggested fix: change line 44 in scanpy/scanpy/tools/_utils.py . https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/tools/_utils.py#L44 . from `X = pca(adata.X)` to `X = pca(adata.X)[:, :n_pcs]`. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Minimal code . import scanpy as sc. import anndata. import numpy as np. print('scanpy=', sc.__version__). print('anndata=', anndata.__version__). print('numpy=', np.__version__). np.random.seed(0). adata_raw = anndata.AnnData(np.random.randn(20,200)). print('adata shape', adata.shape). # neighbors without precomputed pca. adata = adata_raw.copy(). sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15). mat_neighbor10_pc15_without_pca = adata.obsp[""connectivities""].copy(). adata = adata_raw.copy(). sc.pp.pca(adata, n_comps=15). sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15). mat_neighbor10_pc15_with_pca = adata.obsp[""connectivities""].copy(). adata = adata_raw.copy(). sc.pp.pca(adata, n_comps=19) # max n_comps for 30 cells. sc.pp.neighbors(adata, n_neighbors=10, n_pcs=19). mat_neighbor10_pc19_with_pca = adata.obsp[""connectivities""].copy(). print('\nResults for `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15)` '. 'with and without precomputed pca are different:'). print(np.allclose(mat_neighbor10_pc15_without_pca.toarray(), mat_neighbor10_pc15_with_pca.toarray())). print('\nResults of `sc.pp.neighbors(adata, n_neighbo",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2093
https://github.com/scverse/scanpy/issues/2093:871,usability,Minim,Minimal,871,"`sc.pp.neighbors` uses the default value of `n_comps` in `sc.pp.pca` instead of `n_pcs` in `sc.pp.neighbors` when `X_pca ` is not precomputed ; - [yes] I have checked that this issue has not already been reported. - [yes] I have confirmed this bug exists on the latest version of scanpy. - [yes] I have confirmed this bug exists on the master branch of scanpy. Suggested fix: change line 44 in scanpy/scanpy/tools/_utils.py . https://github.com/theislab/scanpy/blob/83f90141fd18943a1795772d3d39f4e9eefd65c3/scanpy/tools/_utils.py#L44 . from `X = pca(adata.X)` to `X = pca(adata.X)[:, :n_pcs]`. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. ### Minimal code sample (that we can copy&paste without having any data). ```python. # Minimal code . import scanpy as sc. import anndata. import numpy as np. print('scanpy=', sc.__version__). print('anndata=', anndata.__version__). print('numpy=', np.__version__). np.random.seed(0). adata_raw = anndata.AnnData(np.random.randn(20,200)). print('adata shape', adata.shape). # neighbors without precomputed pca. adata = adata_raw.copy(). sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15). mat_neighbor10_pc15_without_pca = adata.obsp[""connectivities""].copy(). adata = adata_raw.copy(). sc.pp.pca(adata, n_comps=15). sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15). mat_neighbor10_pc15_with_pca = adata.obsp[""connectivities""].copy(). adata = adata_raw.copy(). sc.pp.pca(adata, n_comps=19) # max n_comps for 30 cells. sc.pp.neighbors(adata, n_neighbors=10, n_pcs=19). mat_neighbor10_pc19_with_pca = adata.obsp[""connectivities""].copy(). print('\nResults for `sc.pp.neighbors(adata, n_neighbors=10, n_pcs=15)` '. 'with and without precomputed pca are different:'). print(np.allclose(mat_neighbor10_pc15_without_pca.toarray(), mat_neighbor10_pc15_with_pca.toarray())). print('\nResults of `sc.pp.neighbors(adata, n_neighbo",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2093
https://github.com/scverse/scanpy/issues/2095:679,availability,error,errors,679,"Unable to subset a new adata by highly variable genes; - [✔] I have checked that this issue has not already been reported. - [✔] I have confirmed this bug exists on the latest version of scanpy. - [✔] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. Hello Scanpy,. It's very smooth to subset the adata by HVGs when doing `adata = adata[:, adata.var.highly_variable]` in the Scanpy pipeline. But when using the same coding to subeset a new raw adata, it generate errors. Could you please help me to check this issue? Thanks! Best,. YJ. ### Minimal code sample (that we can copy&paste without having any data). ```python. ACT_sub2 = sc.read('C:/Users/Park_Lab/Documents/ACT_sub2.h5ad') # Scanpy proceeded data. ACT_sub2. AnnData object with n_obs × n_vars = 2636 × 5000. obs: 'leiden', 'n_genes', 'n_genes_by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_rpl', 'pct_counts_rpl', 'total_counts_rps', 'pct_counts_rps'. var: 'Accession', 'Chromosome', 'End', 'Start', 'Strand', 'n_cells', 'mt', 'rpl', 'rps', 'n_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'hvg', 'leiden', 'leiden_colors', 'neighbors', 'pca', 'rank_genes_groups', 'umap'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. layers: 'ambiguous', 'matrix', 'spliced', 'unspliced'. obsp: 'connectivities', 'distances'. adata = sc.read_loom(filename='C:/Users/Park_Lab/Documents/cellsorted_Apc_Cracd_Tumor_KPVDV.loom') # raw data. adata.var_names_make_unique(). adata. AnnData object with n_obs × n_vars = 13499 × 32285. var: 'Accession', 'Chromosome', 'End', 'Start', 'Strand'. layers: 'matrix', 'ambiguous', 'spliced', 'unspliced'. adata.var['highly_variable']=ACT_sub2.var['highly_variable']. a",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2095
https://github.com/scverse/scanpy/issues/2095:2445,availability,sli,sliced,2445,"ghbors', 'pca', 'rank_genes_groups', 'umap'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. layers: 'ambiguous', 'matrix', 'spliced', 'unspliced'. obsp: 'connectivities', 'distances'. adata = sc.read_loom(filename='C:/Users/Park_Lab/Documents/cellsorted_Apc_Cracd_Tumor_KPVDV.loom') # raw data. adata.var_names_make_unique(). adata. AnnData object with n_obs × n_vars = 13499 × 32285. var: 'Accession', 'Chromosome', 'End', 'Start', 'Strand'. layers: 'matrix', 'ambiguous', 'spliced', 'unspliced'. adata.var['highly_variable']=ACT_sub2.var['highly_variable']. adata = adata[:, adata.var.highly_variable] # subset the raw data by ACT_sub2's highly variable genes. KeyError Traceback (most recent call last). ~\AppData\Local\Temp/ipykernel_9544/4098982234.py in <module>. ----> 1 adata = adata[:, adata.var.highly_variable]. 2 adata. ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\anndata.py in __getitem__(self, index). 1114 def __getitem__(self, index: Index) -> ""AnnData"":. 1115 """"""Returns a sliced view of the object."""""". -> 1116 oidx, vidx = self._normalize_indices(index). 1117 return AnnData(self, oidx=oidx, vidx=vidx, asview=True). 1118 . ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\anndata.py in _normalize_indices(self, index). 1095 . 1096 def _normalize_indices(self, index: Optional[Index]) -> Tuple[slice, slice]:. -> 1097 return _normalize_indices(index, self.obs_names, self.var_names). 1098 . 1099 # TODO: this is not quite complete... ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\index.py in _normalize_indices(index, names0, names1). 34 ax0, ax1 = unpack_index(index). 35 ax0 = _normalize_index(ax0, names0). ---> 36 ax1 = _normalize_index(ax1, names1). 37 return ax0, ax1. 38 . ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\index.py in _normalize_index(indexer, index). 99 if np.any(positions < 0):. 100 not_found = indexer[positions < 0]. --> 101 raise KeyError(. 102 f""Values {list(not_found)}, from {list(indexer)}, "". 103 ""are no",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2095
https://github.com/scverse/scanpy/issues/2095:2779,availability,sli,slice,2779,"ject with n_obs × n_vars = 13499 × 32285. var: 'Accession', 'Chromosome', 'End', 'Start', 'Strand'. layers: 'matrix', 'ambiguous', 'spliced', 'unspliced'. adata.var['highly_variable']=ACT_sub2.var['highly_variable']. adata = adata[:, adata.var.highly_variable] # subset the raw data by ACT_sub2's highly variable genes. KeyError Traceback (most recent call last). ~\AppData\Local\Temp/ipykernel_9544/4098982234.py in <module>. ----> 1 adata = adata[:, adata.var.highly_variable]. 2 adata. ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\anndata.py in __getitem__(self, index). 1114 def __getitem__(self, index: Index) -> ""AnnData"":. 1115 """"""Returns a sliced view of the object."""""". -> 1116 oidx, vidx = self._normalize_indices(index). 1117 return AnnData(self, oidx=oidx, vidx=vidx, asview=True). 1118 . ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\anndata.py in _normalize_indices(self, index). 1095 . 1096 def _normalize_indices(self, index: Optional[Index]) -> Tuple[slice, slice]:. -> 1097 return _normalize_indices(index, self.obs_names, self.var_names). 1098 . 1099 # TODO: this is not quite complete... ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\index.py in _normalize_indices(index, names0, names1). 34 ax0, ax1 = unpack_index(index). 35 ax0 = _normalize_index(ax0, names0). ---> 36 ax1 = _normalize_index(ax1, names1). 37 return ax0, ax1. 38 . ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\index.py in _normalize_index(indexer, index). 99 if np.any(positions < 0):. 100 not_found = indexer[positions < 0]. --> 101 raise KeyError(. 102 f""Values {list(not_found)}, from {list(indexer)}, "". 103 ""are not valid obs/ var names or indices."". KeyError: 'Values [nan, nan, nan, nan, nan, nan, True,... nan, nan, True], are not valid obs/ var names or indices.'. ```. ```pytb. KeyError: 'Values [nan, nan, nan, nan, nan, nan, True,... nan, nan, True], are not valid obs/ var names or indices.'. ```. #### Versions. <details>. scanpy==1.8.2 an",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2095
https://github.com/scverse/scanpy/issues/2095:2786,availability,sli,slice,2786,"th n_obs × n_vars = 13499 × 32285. var: 'Accession', 'Chromosome', 'End', 'Start', 'Strand'. layers: 'matrix', 'ambiguous', 'spliced', 'unspliced'. adata.var['highly_variable']=ACT_sub2.var['highly_variable']. adata = adata[:, adata.var.highly_variable] # subset the raw data by ACT_sub2's highly variable genes. KeyError Traceback (most recent call last). ~\AppData\Local\Temp/ipykernel_9544/4098982234.py in <module>. ----> 1 adata = adata[:, adata.var.highly_variable]. 2 adata. ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\anndata.py in __getitem__(self, index). 1114 def __getitem__(self, index: Index) -> ""AnnData"":. 1115 """"""Returns a sliced view of the object."""""". -> 1116 oidx, vidx = self._normalize_indices(index). 1117 return AnnData(self, oidx=oidx, vidx=vidx, asview=True). 1118 . ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\anndata.py in _normalize_indices(self, index). 1095 . 1096 def _normalize_indices(self, index: Optional[Index]) -> Tuple[slice, slice]:. -> 1097 return _normalize_indices(index, self.obs_names, self.var_names). 1098 . 1099 # TODO: this is not quite complete... ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\index.py in _normalize_indices(index, names0, names1). 34 ax0, ax1 = unpack_index(index). 35 ax0 = _normalize_index(ax0, names0). ---> 36 ax1 = _normalize_index(ax1, names1). 37 return ax0, ax1. 38 . ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\index.py in _normalize_index(indexer, index). 99 if np.any(positions < 0):. 100 not_found = indexer[positions < 0]. --> 101 raise KeyError(. 102 f""Values {list(not_found)}, from {list(indexer)}, "". 103 ""are not valid obs/ var names or indices."". KeyError: 'Values [nan, nan, nan, nan, nan, nan, True,... nan, nan, True], are not valid obs/ var names or indices.'. ```. ```pytb. KeyError: 'Values [nan, nan, nan, nan, nan, nan, True,... nan, nan, True], are not valid obs/ var names or indices.'. ```. #### Versions. <details>. scanpy==1.8.2 anndata==",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2095
https://github.com/scverse/scanpy/issues/2095:176,deployability,version,version,176,"Unable to subset a new adata by highly variable genes; - [✔] I have checked that this issue has not already been reported. - [✔] I have confirmed this bug exists on the latest version of scanpy. - [✔] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. Hello Scanpy,. It's very smooth to subset the adata by HVGs when doing `adata = adata[:, adata.var.highly_variable]` in the Scanpy pipeline. But when using the same coding to subeset a new raw adata, it generate errors. Could you please help me to check this issue? Thanks! Best,. YJ. ### Minimal code sample (that we can copy&paste without having any data). ```python. ACT_sub2 = sc.read('C:/Users/Park_Lab/Documents/ACT_sub2.h5ad') # Scanpy proceeded data. ACT_sub2. AnnData object with n_obs × n_vars = 2636 × 5000. obs: 'leiden', 'n_genes', 'n_genes_by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_rpl', 'pct_counts_rpl', 'total_counts_rps', 'pct_counts_rps'. var: 'Accession', 'Chromosome', 'End', 'Start', 'Strand', 'n_cells', 'mt', 'rpl', 'rps', 'n_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'hvg', 'leiden', 'leiden_colors', 'neighbors', 'pca', 'rank_genes_groups', 'umap'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. layers: 'ambiguous', 'matrix', 'spliced', 'unspliced'. obsp: 'connectivities', 'distances'. adata = sc.read_loom(filename='C:/Users/Park_Lab/Documents/cellsorted_Apc_Cracd_Tumor_KPVDV.loom') # raw data. adata.var_names_make_unique(). adata. AnnData object with n_obs × n_vars = 13499 × 32285. var: 'Accession', 'Chromosome', 'End', 'Start', 'Strand'. layers: 'matrix', 'ambiguous', 'spliced', 'unspliced'. adata.var['highly_variable']=ACT_sub2.var['highly_variable']. a",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2095
https://github.com/scverse/scanpy/issues/2095:598,deployability,pipelin,pipeline,598,"Unable to subset a new adata by highly variable genes; - [✔] I have checked that this issue has not already been reported. - [✔] I have confirmed this bug exists on the latest version of scanpy. - [✔] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. Hello Scanpy,. It's very smooth to subset the adata by HVGs when doing `adata = adata[:, adata.var.highly_variable]` in the Scanpy pipeline. But when using the same coding to subeset a new raw adata, it generate errors. Could you please help me to check this issue? Thanks! Best,. YJ. ### Minimal code sample (that we can copy&paste without having any data). ```python. ACT_sub2 = sc.read('C:/Users/Park_Lab/Documents/ACT_sub2.h5ad') # Scanpy proceeded data. ACT_sub2. AnnData object with n_obs × n_vars = 2636 × 5000. obs: 'leiden', 'n_genes', 'n_genes_by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_rpl', 'pct_counts_rpl', 'total_counts_rps', 'pct_counts_rps'. var: 'Accession', 'Chromosome', 'End', 'Start', 'Strand', 'n_cells', 'mt', 'rpl', 'rps', 'n_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'hvg', 'leiden', 'leiden_colors', 'neighbors', 'pca', 'rank_genes_groups', 'umap'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. layers: 'ambiguous', 'matrix', 'spliced', 'unspliced'. obsp: 'connectivities', 'distances'. adata = sc.read_loom(filename='C:/Users/Park_Lab/Documents/cellsorted_Apc_Cracd_Tumor_KPVDV.loom') # raw data. adata.var_names_make_unique(). adata. AnnData object with n_obs × n_vars = 13499 × 32285. var: 'Accession', 'Chromosome', 'End', 'Start', 'Strand'. layers: 'matrix', 'ambiguous', 'spliced', 'unspliced'. adata.var['highly_variable']=ACT_sub2.var['highly_variable']. a",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2095
https://github.com/scverse/scanpy/issues/2095:2200,deployability,modul,module,2200,"art', 'Strand', 'n_cells', 'mt', 'rpl', 'rps', 'n_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'hvg', 'leiden', 'leiden_colors', 'neighbors', 'pca', 'rank_genes_groups', 'umap'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. layers: 'ambiguous', 'matrix', 'spliced', 'unspliced'. obsp: 'connectivities', 'distances'. adata = sc.read_loom(filename='C:/Users/Park_Lab/Documents/cellsorted_Apc_Cracd_Tumor_KPVDV.loom') # raw data. adata.var_names_make_unique(). adata. AnnData object with n_obs × n_vars = 13499 × 32285. var: 'Accession', 'Chromosome', 'End', 'Start', 'Strand'. layers: 'matrix', 'ambiguous', 'spliced', 'unspliced'. adata.var['highly_variable']=ACT_sub2.var['highly_variable']. adata = adata[:, adata.var.highly_variable] # subset the raw data by ACT_sub2's highly variable genes. KeyError Traceback (most recent call last). ~\AppData\Local\Temp/ipykernel_9544/4098982234.py in <module>. ----> 1 adata = adata[:, adata.var.highly_variable]. 2 adata. ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\anndata.py in __getitem__(self, index). 1114 def __getitem__(self, index: Index) -> ""AnnData"":. 1115 """"""Returns a sliced view of the object."""""". -> 1116 oidx, vidx = self._normalize_indices(index). 1117 return AnnData(self, oidx=oidx, vidx=vidx, asview=True). 1118 . ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\anndata.py in _normalize_indices(self, index). 1095 . 1096 def _normalize_indices(self, index: Optional[Index]) -> Tuple[slice, slice]:. -> 1097 return _normalize_indices(index, self.obs_names, self.var_names). 1098 . 1099 # TODO: this is not quite complete... ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\index.py in _normalize_indices(index, names0, names1). 34 ax0, ax1 = unpack_index(index). 35 ax0 = _normalize_index(ax0, names0). ---> 36 ax1 = _normalize_index(ax1, names1). 37 return ax0, ax1. 38 . ~\anaconda3\envs\Python3",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2095
https://github.com/scverse/scanpy/issues/2095:3745,deployability,Version,Versions,3745,"kages\anndata\_core\anndata.py in __getitem__(self, index). 1114 def __getitem__(self, index: Index) -> ""AnnData"":. 1115 """"""Returns a sliced view of the object."""""". -> 1116 oidx, vidx = self._normalize_indices(index). 1117 return AnnData(self, oidx=oidx, vidx=vidx, asview=True). 1118 . ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\anndata.py in _normalize_indices(self, index). 1095 . 1096 def _normalize_indices(self, index: Optional[Index]) -> Tuple[slice, slice]:. -> 1097 return _normalize_indices(index, self.obs_names, self.var_names). 1098 . 1099 # TODO: this is not quite complete... ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\index.py in _normalize_indices(index, names0, names1). 34 ax0, ax1 = unpack_index(index). 35 ax0 = _normalize_index(ax0, names0). ---> 36 ax1 = _normalize_index(ax1, names1). 37 return ax0, ax1. 38 . ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\index.py in _normalize_index(indexer, index). 99 if np.any(positions < 0):. 100 not_found = indexer[positions < 0]. --> 101 raise KeyError(. 102 f""Values {list(not_found)}, from {list(indexer)}, "". 103 ""are not valid obs/ var names or indices."". KeyError: 'Values [nan, nan, nan, nan, nan, nan, True,... nan, nan, True], are not valid obs/ var names or indices.'. ```. ```pytb. KeyError: 'Values [nan, nan, nan, nan, nan, nan, True,... nan, nan, True], are not valid obs/ var names or indices.'. ```. #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.3 pandas==1.3.5 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. scvelo==0.2.4 scanpy==1.8.2 anndata==0.7.8 loompy==3.0.6 numpy==1.20.3 scipy==1.7.3 matplotlib==3.5.1 sklearn==1.0.1 pandas==1.3.5 . cellrank==1.5.0 scanpy==1.8.2 anndata==0.7.8 numpy==1.20.3 numba==0.54.1 scipy==1.7.3 pandas==1.3.5 pygpcca==1.0.2 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 scvelo==0.2.4 pygam==0.8.0 matplotlib==3.5.1 seaborn==0.11.2. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2095
https://github.com/scverse/scanpy/issues/2095:10,integrability,sub,subset,10,"Unable to subset a new adata by highly variable genes; - [✔] I have checked that this issue has not already been reported. - [✔] I have confirmed this bug exists on the latest version of scanpy. - [✔] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. Hello Scanpy,. It's very smooth to subset the adata by HVGs when doing `adata = adata[:, adata.var.highly_variable]` in the Scanpy pipeline. But when using the same coding to subeset a new raw adata, it generate errors. Could you please help me to check this issue? Thanks! Best,. YJ. ### Minimal code sample (that we can copy&paste without having any data). ```python. ACT_sub2 = sc.read('C:/Users/Park_Lab/Documents/ACT_sub2.h5ad') # Scanpy proceeded data. ACT_sub2. AnnData object with n_obs × n_vars = 2636 × 5000. obs: 'leiden', 'n_genes', 'n_genes_by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_rpl', 'pct_counts_rpl', 'total_counts_rps', 'pct_counts_rps'. var: 'Accession', 'Chromosome', 'End', 'Start', 'Strand', 'n_cells', 'mt', 'rpl', 'rps', 'n_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'hvg', 'leiden', 'leiden_colors', 'neighbors', 'pca', 'rank_genes_groups', 'umap'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. layers: 'ambiguous', 'matrix', 'spliced', 'unspliced'. obsp: 'connectivities', 'distances'. adata = sc.read_loom(filename='C:/Users/Park_Lab/Documents/cellsorted_Apc_Cracd_Tumor_KPVDV.loom') # raw data. adata.var_names_make_unique(). adata. AnnData object with n_obs × n_vars = 13499 × 32285. var: 'Accession', 'Chromosome', 'End', 'Start', 'Strand'. layers: 'matrix', 'ambiguous', 'spliced', 'unspliced'. adata.var['highly_variable']=ACT_sub2.var['highly_variable']. a",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2095
https://github.com/scverse/scanpy/issues/2095:176,integrability,version,version,176,"Unable to subset a new adata by highly variable genes; - [✔] I have checked that this issue has not already been reported. - [✔] I have confirmed this bug exists on the latest version of scanpy. - [✔] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. Hello Scanpy,. It's very smooth to subset the adata by HVGs when doing `adata = adata[:, adata.var.highly_variable]` in the Scanpy pipeline. But when using the same coding to subeset a new raw adata, it generate errors. Could you please help me to check this issue? Thanks! Best,. YJ. ### Minimal code sample (that we can copy&paste without having any data). ```python. ACT_sub2 = sc.read('C:/Users/Park_Lab/Documents/ACT_sub2.h5ad') # Scanpy proceeded data. ACT_sub2. AnnData object with n_obs × n_vars = 2636 × 5000. obs: 'leiden', 'n_genes', 'n_genes_by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_rpl', 'pct_counts_rpl', 'total_counts_rps', 'pct_counts_rps'. var: 'Accession', 'Chromosome', 'End', 'Start', 'Strand', 'n_cells', 'mt', 'rpl', 'rps', 'n_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'hvg', 'leiden', 'leiden_colors', 'neighbors', 'pca', 'rank_genes_groups', 'umap'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. layers: 'ambiguous', 'matrix', 'spliced', 'unspliced'. obsp: 'connectivities', 'distances'. adata = sc.read_loom(filename='C:/Users/Park_Lab/Documents/cellsorted_Apc_Cracd_Tumor_KPVDV.loom') # raw data. adata.var_names_make_unique(). adata. AnnData object with n_obs × n_vars = 13499 × 32285. var: 'Accession', 'Chromosome', 'End', 'Start', 'Strand'. layers: 'matrix', 'ambiguous', 'spliced', 'unspliced'. adata.var['highly_variable']=ACT_sub2.var['highly_variable']. a",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2095
https://github.com/scverse/scanpy/issues/2095:502,integrability,sub,subset,502,"Unable to subset a new adata by highly variable genes; - [✔] I have checked that this issue has not already been reported. - [✔] I have confirmed this bug exists on the latest version of scanpy. - [✔] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. Hello Scanpy,. It's very smooth to subset the adata by HVGs when doing `adata = adata[:, adata.var.highly_variable]` in the Scanpy pipeline. But when using the same coding to subeset a new raw adata, it generate errors. Could you please help me to check this issue? Thanks! Best,. YJ. ### Minimal code sample (that we can copy&paste without having any data). ```python. ACT_sub2 = sc.read('C:/Users/Park_Lab/Documents/ACT_sub2.h5ad') # Scanpy proceeded data. ACT_sub2. AnnData object with n_obs × n_vars = 2636 × 5000. obs: 'leiden', 'n_genes', 'n_genes_by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_rpl', 'pct_counts_rpl', 'total_counts_rps', 'pct_counts_rps'. var: 'Accession', 'Chromosome', 'End', 'Start', 'Strand', 'n_cells', 'mt', 'rpl', 'rps', 'n_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'hvg', 'leiden', 'leiden_colors', 'neighbors', 'pca', 'rank_genes_groups', 'umap'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. layers: 'ambiguous', 'matrix', 'spliced', 'unspliced'. obsp: 'connectivities', 'distances'. adata = sc.read_loom(filename='C:/Users/Park_Lab/Documents/cellsorted_Apc_Cracd_Tumor_KPVDV.loom') # raw data. adata.var_names_make_unique(). adata. AnnData object with n_obs × n_vars = 13499 × 32285. var: 'Accession', 'Chromosome', 'End', 'Start', 'Strand'. layers: 'matrix', 'ambiguous', 'spliced', 'unspliced'. adata.var['highly_variable']=ACT_sub2.var['highly_variable']. a",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2095
https://github.com/scverse/scanpy/issues/2095:598,integrability,pipelin,pipeline,598,"Unable to subset a new adata by highly variable genes; - [✔] I have checked that this issue has not already been reported. - [✔] I have confirmed this bug exists on the latest version of scanpy. - [✔] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. Hello Scanpy,. It's very smooth to subset the adata by HVGs when doing `adata = adata[:, adata.var.highly_variable]` in the Scanpy pipeline. But when using the same coding to subeset a new raw adata, it generate errors. Could you please help me to check this issue? Thanks! Best,. YJ. ### Minimal code sample (that we can copy&paste without having any data). ```python. ACT_sub2 = sc.read('C:/Users/Park_Lab/Documents/ACT_sub2.h5ad') # Scanpy proceeded data. ACT_sub2. AnnData object with n_obs × n_vars = 2636 × 5000. obs: 'leiden', 'n_genes', 'n_genes_by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_rpl', 'pct_counts_rpl', 'total_counts_rps', 'pct_counts_rps'. var: 'Accession', 'Chromosome', 'End', 'Start', 'Strand', 'n_cells', 'mt', 'rpl', 'rps', 'n_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'hvg', 'leiden', 'leiden_colors', 'neighbors', 'pca', 'rank_genes_groups', 'umap'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. layers: 'ambiguous', 'matrix', 'spliced', 'unspliced'. obsp: 'connectivities', 'distances'. adata = sc.read_loom(filename='C:/Users/Park_Lab/Documents/cellsorted_Apc_Cracd_Tumor_KPVDV.loom') # raw data. adata.var_names_make_unique(). adata. AnnData object with n_obs × n_vars = 13499 × 32285. var: 'Accession', 'Chromosome', 'End', 'Start', 'Strand'. layers: 'matrix', 'ambiguous', 'spliced', 'unspliced'. adata.var['highly_variable']=ACT_sub2.var['highly_variable']. a",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2095
https://github.com/scverse/scanpy/issues/2095:642,integrability,sub,subeset,642,"Unable to subset a new adata by highly variable genes; - [✔] I have checked that this issue has not already been reported. - [✔] I have confirmed this bug exists on the latest version of scanpy. - [✔] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. Hello Scanpy,. It's very smooth to subset the adata by HVGs when doing `adata = adata[:, adata.var.highly_variable]` in the Scanpy pipeline. But when using the same coding to subeset a new raw adata, it generate errors. Could you please help me to check this issue? Thanks! Best,. YJ. ### Minimal code sample (that we can copy&paste without having any data). ```python. ACT_sub2 = sc.read('C:/Users/Park_Lab/Documents/ACT_sub2.h5ad') # Scanpy proceeded data. ACT_sub2. AnnData object with n_obs × n_vars = 2636 × 5000. obs: 'leiden', 'n_genes', 'n_genes_by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_rpl', 'pct_counts_rpl', 'total_counts_rps', 'pct_counts_rps'. var: 'Accession', 'Chromosome', 'End', 'Start', 'Strand', 'n_cells', 'mt', 'rpl', 'rps', 'n_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'hvg', 'leiden', 'leiden_colors', 'neighbors', 'pca', 'rank_genes_groups', 'umap'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. layers: 'ambiguous', 'matrix', 'spliced', 'unspliced'. obsp: 'connectivities', 'distances'. adata = sc.read_loom(filename='C:/Users/Park_Lab/Documents/cellsorted_Apc_Cracd_Tumor_KPVDV.loom') # raw data. adata.var_names_make_unique(). adata. AnnData object with n_obs × n_vars = 13499 × 32285. var: 'Accession', 'Chromosome', 'End', 'Start', 'Strand'. layers: 'matrix', 'ambiguous', 'spliced', 'unspliced'. adata.var['highly_variable']=ACT_sub2.var['highly_variable']. a",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2095
https://github.com/scverse/scanpy/issues/2095:2045,integrability,sub,subset,2045," 'total_counts_mt', 'pct_counts_mt', 'total_counts_rpl', 'pct_counts_rpl', 'total_counts_rps', 'pct_counts_rps'. var: 'Accession', 'Chromosome', 'End', 'Start', 'Strand', 'n_cells', 'mt', 'rpl', 'rps', 'n_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'hvg', 'leiden', 'leiden_colors', 'neighbors', 'pca', 'rank_genes_groups', 'umap'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. layers: 'ambiguous', 'matrix', 'spliced', 'unspliced'. obsp: 'connectivities', 'distances'. adata = sc.read_loom(filename='C:/Users/Park_Lab/Documents/cellsorted_Apc_Cracd_Tumor_KPVDV.loom') # raw data. adata.var_names_make_unique(). adata. AnnData object with n_obs × n_vars = 13499 × 32285. var: 'Accession', 'Chromosome', 'End', 'Start', 'Strand'. layers: 'matrix', 'ambiguous', 'spliced', 'unspliced'. adata.var['highly_variable']=ACT_sub2.var['highly_variable']. adata = adata[:, adata.var.highly_variable] # subset the raw data by ACT_sub2's highly variable genes. KeyError Traceback (most recent call last). ~\AppData\Local\Temp/ipykernel_9544/4098982234.py in <module>. ----> 1 adata = adata[:, adata.var.highly_variable]. 2 adata. ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\anndata.py in __getitem__(self, index). 1114 def __getitem__(self, index: Index) -> ""AnnData"":. 1115 """"""Returns a sliced view of the object."""""". -> 1116 oidx, vidx = self._normalize_indices(index). 1117 return AnnData(self, oidx=oidx, vidx=vidx, asview=True). 1118 . ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\anndata.py in _normalize_indices(self, index). 1095 . 1096 def _normalize_indices(self, index: Optional[Index]) -> Tuple[slice, slice]:. -> 1097 return _normalize_indices(index, self.obs_names, self.var_names). 1098 . 1099 # TODO: this is not quite complete... ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\index.py in _normalize_indices(index, names0, names1). 34 ax0, ax1 = ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2095
https://github.com/scverse/scanpy/issues/2095:3745,integrability,Version,Versions,3745,"kages\anndata\_core\anndata.py in __getitem__(self, index). 1114 def __getitem__(self, index: Index) -> ""AnnData"":. 1115 """"""Returns a sliced view of the object."""""". -> 1116 oidx, vidx = self._normalize_indices(index). 1117 return AnnData(self, oidx=oidx, vidx=vidx, asview=True). 1118 . ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\anndata.py in _normalize_indices(self, index). 1095 . 1096 def _normalize_indices(self, index: Optional[Index]) -> Tuple[slice, slice]:. -> 1097 return _normalize_indices(index, self.obs_names, self.var_names). 1098 . 1099 # TODO: this is not quite complete... ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\index.py in _normalize_indices(index, names0, names1). 34 ax0, ax1 = unpack_index(index). 35 ax0 = _normalize_index(ax0, names0). ---> 36 ax1 = _normalize_index(ax1, names1). 37 return ax0, ax1. 38 . ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\index.py in _normalize_index(indexer, index). 99 if np.any(positions < 0):. 100 not_found = indexer[positions < 0]. --> 101 raise KeyError(. 102 f""Values {list(not_found)}, from {list(indexer)}, "". 103 ""are not valid obs/ var names or indices."". KeyError: 'Values [nan, nan, nan, nan, nan, nan, True,... nan, nan, True], are not valid obs/ var names or indices.'. ```. ```pytb. KeyError: 'Values [nan, nan, nan, nan, nan, nan, True,... nan, nan, True], are not valid obs/ var names or indices.'. ```. #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.3 pandas==1.3.5 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. scvelo==0.2.4 scanpy==1.8.2 anndata==0.7.8 loompy==3.0.6 numpy==1.20.3 scipy==1.7.3 matplotlib==3.5.1 sklearn==1.0.1 pandas==1.3.5 . cellrank==1.5.0 scanpy==1.8.2 anndata==0.7.8 numpy==1.20.3 numba==0.54.1 scipy==1.7.3 pandas==1.3.5 pygpcca==1.0.2 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 scvelo==0.2.4 pygam==0.8.0 matplotlib==3.5.1 seaborn==0.11.2. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2095
https://github.com/scverse/scanpy/issues/2095:39,modifiability,variab,variable,39,"Unable to subset a new adata by highly variable genes; - [✔] I have checked that this issue has not already been reported. - [✔] I have confirmed this bug exists on the latest version of scanpy. - [✔] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. Hello Scanpy,. It's very smooth to subset the adata by HVGs when doing `adata = adata[:, adata.var.highly_variable]` in the Scanpy pipeline. But when using the same coding to subeset a new raw adata, it generate errors. Could you please help me to check this issue? Thanks! Best,. YJ. ### Minimal code sample (that we can copy&paste without having any data). ```python. ACT_sub2 = sc.read('C:/Users/Park_Lab/Documents/ACT_sub2.h5ad') # Scanpy proceeded data. ACT_sub2. AnnData object with n_obs × n_vars = 2636 × 5000. obs: 'leiden', 'n_genes', 'n_genes_by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_rpl', 'pct_counts_rpl', 'total_counts_rps', 'pct_counts_rps'. var: 'Accession', 'Chromosome', 'End', 'Start', 'Strand', 'n_cells', 'mt', 'rpl', 'rps', 'n_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'hvg', 'leiden', 'leiden_colors', 'neighbors', 'pca', 'rank_genes_groups', 'umap'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. layers: 'ambiguous', 'matrix', 'spliced', 'unspliced'. obsp: 'connectivities', 'distances'. adata = sc.read_loom(filename='C:/Users/Park_Lab/Documents/cellsorted_Apc_Cracd_Tumor_KPVDV.loom') # raw data. adata.var_names_make_unique(). adata. AnnData object with n_obs × n_vars = 13499 × 32285. var: 'Accession', 'Chromosome', 'End', 'Start', 'Strand'. layers: 'matrix', 'ambiguous', 'spliced', 'unspliced'. adata.var['highly_variable']=ACT_sub2.var['highly_variable']. a",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2095
https://github.com/scverse/scanpy/issues/2095:176,modifiability,version,version,176,"Unable to subset a new adata by highly variable genes; - [✔] I have checked that this issue has not already been reported. - [✔] I have confirmed this bug exists on the latest version of scanpy. - [✔] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. Hello Scanpy,. It's very smooth to subset the adata by HVGs when doing `adata = adata[:, adata.var.highly_variable]` in the Scanpy pipeline. But when using the same coding to subeset a new raw adata, it generate errors. Could you please help me to check this issue? Thanks! Best,. YJ. ### Minimal code sample (that we can copy&paste without having any data). ```python. ACT_sub2 = sc.read('C:/Users/Park_Lab/Documents/ACT_sub2.h5ad') # Scanpy proceeded data. ACT_sub2. AnnData object with n_obs × n_vars = 2636 × 5000. obs: 'leiden', 'n_genes', 'n_genes_by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_rpl', 'pct_counts_rpl', 'total_counts_rps', 'pct_counts_rps'. var: 'Accession', 'Chromosome', 'End', 'Start', 'Strand', 'n_cells', 'mt', 'rpl', 'rps', 'n_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'hvg', 'leiden', 'leiden_colors', 'neighbors', 'pca', 'rank_genes_groups', 'umap'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. layers: 'ambiguous', 'matrix', 'spliced', 'unspliced'. obsp: 'connectivities', 'distances'. adata = sc.read_loom(filename='C:/Users/Park_Lab/Documents/cellsorted_Apc_Cracd_Tumor_KPVDV.loom') # raw data. adata.var_names_make_unique(). adata. AnnData object with n_obs × n_vars = 13499 × 32285. var: 'Accession', 'Chromosome', 'End', 'Start', 'Strand'. layers: 'matrix', 'ambiguous', 'spliced', 'unspliced'. adata.var['highly_variable']=ACT_sub2.var['highly_variable']. a",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2095
https://github.com/scverse/scanpy/issues/2095:1531,modifiability,layer,layers,1531,"ing `adata = adata[:, adata.var.highly_variable]` in the Scanpy pipeline. But when using the same coding to subeset a new raw adata, it generate errors. Could you please help me to check this issue? Thanks! Best,. YJ. ### Minimal code sample (that we can copy&paste without having any data). ```python. ACT_sub2 = sc.read('C:/Users/Park_Lab/Documents/ACT_sub2.h5ad') # Scanpy proceeded data. ACT_sub2. AnnData object with n_obs × n_vars = 2636 × 5000. obs: 'leiden', 'n_genes', 'n_genes_by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_rpl', 'pct_counts_rpl', 'total_counts_rps', 'pct_counts_rps'. var: 'Accession', 'Chromosome', 'End', 'Start', 'Strand', 'n_cells', 'mt', 'rpl', 'rps', 'n_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'hvg', 'leiden', 'leiden_colors', 'neighbors', 'pca', 'rank_genes_groups', 'umap'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. layers: 'ambiguous', 'matrix', 'spliced', 'unspliced'. obsp: 'connectivities', 'distances'. adata = sc.read_loom(filename='C:/Users/Park_Lab/Documents/cellsorted_Apc_Cracd_Tumor_KPVDV.loom') # raw data. adata.var_names_make_unique(). adata. AnnData object with n_obs × n_vars = 13499 × 32285. var: 'Accession', 'Chromosome', 'End', 'Start', 'Strand'. layers: 'matrix', 'ambiguous', 'spliced', 'unspliced'. adata.var['highly_variable']=ACT_sub2.var['highly_variable']. adata = adata[:, adata.var.highly_variable] # subset the raw data by ACT_sub2's highly variable genes. KeyError Traceback (most recent call last). ~\AppData\Local\Temp/ipykernel_9544/4098982234.py in <module>. ----> 1 adata = adata[:, adata.var.highly_variable]. 2 adata. ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\anndata.py in __getitem__(self, index). 1114 def __getitem__(self, index: Index) -> ""AnnData"":. 1115 """"""Returns a sliced view of the object."""""". -> 1116 oidx, vidx = self._normalize_indices(index). 1117 ",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2095
https://github.com/scverse/scanpy/issues/2095:1882,modifiability,layer,layers,1882,"ACT_sub2.h5ad') # Scanpy proceeded data. ACT_sub2. AnnData object with n_obs × n_vars = 2636 × 5000. obs: 'leiden', 'n_genes', 'n_genes_by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_rpl', 'pct_counts_rpl', 'total_counts_rps', 'pct_counts_rps'. var: 'Accession', 'Chromosome', 'End', 'Start', 'Strand', 'n_cells', 'mt', 'rpl', 'rps', 'n_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'hvg', 'leiden', 'leiden_colors', 'neighbors', 'pca', 'rank_genes_groups', 'umap'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. layers: 'ambiguous', 'matrix', 'spliced', 'unspliced'. obsp: 'connectivities', 'distances'. adata = sc.read_loom(filename='C:/Users/Park_Lab/Documents/cellsorted_Apc_Cracd_Tumor_KPVDV.loom') # raw data. adata.var_names_make_unique(). adata. AnnData object with n_obs × n_vars = 13499 × 32285. var: 'Accession', 'Chromosome', 'End', 'Start', 'Strand'. layers: 'matrix', 'ambiguous', 'spliced', 'unspliced'. adata.var['highly_variable']=ACT_sub2.var['highly_variable']. adata = adata[:, adata.var.highly_variable] # subset the raw data by ACT_sub2's highly variable genes. KeyError Traceback (most recent call last). ~\AppData\Local\Temp/ipykernel_9544/4098982234.py in <module>. ----> 1 adata = adata[:, adata.var.highly_variable]. 2 adata. ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\anndata.py in __getitem__(self, index). 1114 def __getitem__(self, index: Index) -> ""AnnData"":. 1115 """"""Returns a sliced view of the object."""""". -> 1116 oidx, vidx = self._normalize_indices(index). 1117 return AnnData(self, oidx=oidx, vidx=vidx, asview=True). 1118 . ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\anndata.py in _normalize_indices(self, index). 1095 . 1096 def _normalize_indices(self, index: Optional[Index]) -> Tuple[slice, slice]:. -> 1097 return _normalize_indices(index, self.obs_names, self.var_names). 1098 . 1099 # TO",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2095
https://github.com/scverse/scanpy/issues/2095:2086,modifiability,variab,variable,2086,"l_counts_rpl', 'pct_counts_rpl', 'total_counts_rps', 'pct_counts_rps'. var: 'Accession', 'Chromosome', 'End', 'Start', 'Strand', 'n_cells', 'mt', 'rpl', 'rps', 'n_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'hvg', 'leiden', 'leiden_colors', 'neighbors', 'pca', 'rank_genes_groups', 'umap'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. layers: 'ambiguous', 'matrix', 'spliced', 'unspliced'. obsp: 'connectivities', 'distances'. adata = sc.read_loom(filename='C:/Users/Park_Lab/Documents/cellsorted_Apc_Cracd_Tumor_KPVDV.loom') # raw data. adata.var_names_make_unique(). adata. AnnData object with n_obs × n_vars = 13499 × 32285. var: 'Accession', 'Chromosome', 'End', 'Start', 'Strand'. layers: 'matrix', 'ambiguous', 'spliced', 'unspliced'. adata.var['highly_variable']=ACT_sub2.var['highly_variable']. adata = adata[:, adata.var.highly_variable] # subset the raw data by ACT_sub2's highly variable genes. KeyError Traceback (most recent call last). ~\AppData\Local\Temp/ipykernel_9544/4098982234.py in <module>. ----> 1 adata = adata[:, adata.var.highly_variable]. 2 adata. ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\anndata.py in __getitem__(self, index). 1114 def __getitem__(self, index: Index) -> ""AnnData"":. 1115 """"""Returns a sliced view of the object."""""". -> 1116 oidx, vidx = self._normalize_indices(index). 1117 return AnnData(self, oidx=oidx, vidx=vidx, asview=True). 1118 . ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\anndata.py in _normalize_indices(self, index). 1095 . 1096 def _normalize_indices(self, index: Optional[Index]) -> Tuple[slice, slice]:. -> 1097 return _normalize_indices(index, self.obs_names, self.var_names). 1098 . 1099 # TODO: this is not quite complete... ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\index.py in _normalize_indices(index, names0, names1). 34 ax0, ax1 = unpack_index(index). 35 ax0 = _normalize_i",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2095
https://github.com/scverse/scanpy/issues/2095:2200,modifiability,modul,module,2200,"art', 'Strand', 'n_cells', 'mt', 'rpl', 'rps', 'n_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'hvg', 'leiden', 'leiden_colors', 'neighbors', 'pca', 'rank_genes_groups', 'umap'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. layers: 'ambiguous', 'matrix', 'spliced', 'unspliced'. obsp: 'connectivities', 'distances'. adata = sc.read_loom(filename='C:/Users/Park_Lab/Documents/cellsorted_Apc_Cracd_Tumor_KPVDV.loom') # raw data. adata.var_names_make_unique(). adata. AnnData object with n_obs × n_vars = 13499 × 32285. var: 'Accession', 'Chromosome', 'End', 'Start', 'Strand'. layers: 'matrix', 'ambiguous', 'spliced', 'unspliced'. adata.var['highly_variable']=ACT_sub2.var['highly_variable']. adata = adata[:, adata.var.highly_variable] # subset the raw data by ACT_sub2's highly variable genes. KeyError Traceback (most recent call last). ~\AppData\Local\Temp/ipykernel_9544/4098982234.py in <module>. ----> 1 adata = adata[:, adata.var.highly_variable]. 2 adata. ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\anndata.py in __getitem__(self, index). 1114 def __getitem__(self, index: Index) -> ""AnnData"":. 1115 """"""Returns a sliced view of the object."""""". -> 1116 oidx, vidx = self._normalize_indices(index). 1117 return AnnData(self, oidx=oidx, vidx=vidx, asview=True). 1118 . ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\anndata.py in _normalize_indices(self, index). 1095 . 1096 def _normalize_indices(self, index: Optional[Index]) -> Tuple[slice, slice]:. -> 1097 return _normalize_indices(index, self.obs_names, self.var_names). 1098 . 1099 # TODO: this is not quite complete... ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\index.py in _normalize_indices(index, names0, names1). 34 ax0, ax1 = unpack_index(index). 35 ax0 = _normalize_index(ax0, names0). ---> 36 ax1 = _normalize_index(ax1, names1). 37 return ax0, ax1. 38 . ~\anaconda3\envs\Python3",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2095
https://github.com/scverse/scanpy/issues/2095:2308,modifiability,pac,packages,2308,"total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'hvg', 'leiden', 'leiden_colors', 'neighbors', 'pca', 'rank_genes_groups', 'umap'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. layers: 'ambiguous', 'matrix', 'spliced', 'unspliced'. obsp: 'connectivities', 'distances'. adata = sc.read_loom(filename='C:/Users/Park_Lab/Documents/cellsorted_Apc_Cracd_Tumor_KPVDV.loom') # raw data. adata.var_names_make_unique(). adata. AnnData object with n_obs × n_vars = 13499 × 32285. var: 'Accession', 'Chromosome', 'End', 'Start', 'Strand'. layers: 'matrix', 'ambiguous', 'spliced', 'unspliced'. adata.var['highly_variable']=ACT_sub2.var['highly_variable']. adata = adata[:, adata.var.highly_variable] # subset the raw data by ACT_sub2's highly variable genes. KeyError Traceback (most recent call last). ~\AppData\Local\Temp/ipykernel_9544/4098982234.py in <module>. ----> 1 adata = adata[:, adata.var.highly_variable]. 2 adata. ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\anndata.py in __getitem__(self, index). 1114 def __getitem__(self, index: Index) -> ""AnnData"":. 1115 """"""Returns a sliced view of the object."""""". -> 1116 oidx, vidx = self._normalize_indices(index). 1117 return AnnData(self, oidx=oidx, vidx=vidx, asview=True). 1118 . ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\anndata.py in _normalize_indices(self, index). 1095 . 1096 def _normalize_indices(self, index: Optional[Index]) -> Tuple[slice, slice]:. -> 1097 return _normalize_indices(index, self.obs_names, self.var_names). 1098 . 1099 # TODO: this is not quite complete... ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\index.py in _normalize_indices(index, names0, names1). 34 ax0, ax1 = unpack_index(index). 35 ax0 = _normalize_index(ax0, names0). ---> 36 ax1 = _normalize_index(ax1, names1). 37 return ax0, ax1. 38 . ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\index.py in _normalize_index(indexer, index). 99 if np.any(positions < 0)",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2095
https://github.com/scverse/scanpy/issues/2095:2635,modifiability,pac,packages,2635,"loom(filename='C:/Users/Park_Lab/Documents/cellsorted_Apc_Cracd_Tumor_KPVDV.loom') # raw data. adata.var_names_make_unique(). adata. AnnData object with n_obs × n_vars = 13499 × 32285. var: 'Accession', 'Chromosome', 'End', 'Start', 'Strand'. layers: 'matrix', 'ambiguous', 'spliced', 'unspliced'. adata.var['highly_variable']=ACT_sub2.var['highly_variable']. adata = adata[:, adata.var.highly_variable] # subset the raw data by ACT_sub2's highly variable genes. KeyError Traceback (most recent call last). ~\AppData\Local\Temp/ipykernel_9544/4098982234.py in <module>. ----> 1 adata = adata[:, adata.var.highly_variable]. 2 adata. ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\anndata.py in __getitem__(self, index). 1114 def __getitem__(self, index: Index) -> ""AnnData"":. 1115 """"""Returns a sliced view of the object."""""". -> 1116 oidx, vidx = self._normalize_indices(index). 1117 return AnnData(self, oidx=oidx, vidx=vidx, asview=True). 1118 . ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\anndata.py in _normalize_indices(self, index). 1095 . 1096 def _normalize_indices(self, index: Optional[Index]) -> Tuple[slice, slice]:. -> 1097 return _normalize_indices(index, self.obs_names, self.var_names). 1098 . 1099 # TODO: this is not quite complete... ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\index.py in _normalize_indices(index, names0, names1). 34 ax0, ax1 = unpack_index(index). 35 ax0 = _normalize_index(ax0, names0). ---> 36 ax1 = _normalize_index(ax1, names1). 37 return ax0, ax1. 38 . ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\index.py in _normalize_index(indexer, index). 99 if np.any(positions < 0):. 100 not_found = indexer[positions < 0]. --> 101 raise KeyError(. 102 f""Values {list(not_found)}, from {list(indexer)}, "". 103 ""are not valid obs/ var names or indices."". KeyError: 'Values [nan, nan, nan, nan, nan, nan, True,... nan, nan, True], are not valid obs/ var names or indices.'. ```. ```pytb. KeyError: 'Values [nan",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2095
https://github.com/scverse/scanpy/issues/2095:2956,modifiability,pac,packages,2956,"ble']=ACT_sub2.var['highly_variable']. adata = adata[:, adata.var.highly_variable] # subset the raw data by ACT_sub2's highly variable genes. KeyError Traceback (most recent call last). ~\AppData\Local\Temp/ipykernel_9544/4098982234.py in <module>. ----> 1 adata = adata[:, adata.var.highly_variable]. 2 adata. ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\anndata.py in __getitem__(self, index). 1114 def __getitem__(self, index: Index) -> ""AnnData"":. 1115 """"""Returns a sliced view of the object."""""". -> 1116 oidx, vidx = self._normalize_indices(index). 1117 return AnnData(self, oidx=oidx, vidx=vidx, asview=True). 1118 . ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\anndata.py in _normalize_indices(self, index). 1095 . 1096 def _normalize_indices(self, index: Optional[Index]) -> Tuple[slice, slice]:. -> 1097 return _normalize_indices(index, self.obs_names, self.var_names). 1098 . 1099 # TODO: this is not quite complete... ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\index.py in _normalize_indices(index, names0, names1). 34 ax0, ax1 = unpack_index(index). 35 ax0 = _normalize_index(ax0, names0). ---> 36 ax1 = _normalize_index(ax1, names1). 37 return ax0, ax1. 38 . ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\index.py in _normalize_index(indexer, index). 99 if np.any(positions < 0):. 100 not_found = indexer[positions < 0]. --> 101 raise KeyError(. 102 f""Values {list(not_found)}, from {list(indexer)}, "". 103 ""are not valid obs/ var names or indices."". KeyError: 'Values [nan, nan, nan, nan, nan, nan, True,... nan, nan, True], are not valid obs/ var names or indices.'. ```. ```pytb. KeyError: 'Values [nan, nan, nan, nan, nan, nan, True,... nan, nan, True], are not valid obs/ var names or indices.'. ```. #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.3 pandas==1.3.5 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. scvelo==0.2.4 scanpy==1.8.2 ann",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2095
https://github.com/scverse/scanpy/issues/2095:3216,modifiability,pac,packages,3216,"ta = adata[:, adata.var.highly_variable]. 2 adata. ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\anndata.py in __getitem__(self, index). 1114 def __getitem__(self, index: Index) -> ""AnnData"":. 1115 """"""Returns a sliced view of the object."""""". -> 1116 oidx, vidx = self._normalize_indices(index). 1117 return AnnData(self, oidx=oidx, vidx=vidx, asview=True). 1118 . ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\anndata.py in _normalize_indices(self, index). 1095 . 1096 def _normalize_indices(self, index: Optional[Index]) -> Tuple[slice, slice]:. -> 1097 return _normalize_indices(index, self.obs_names, self.var_names). 1098 . 1099 # TODO: this is not quite complete... ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\index.py in _normalize_indices(index, names0, names1). 34 ax0, ax1 = unpack_index(index). 35 ax0 = _normalize_index(ax0, names0). ---> 36 ax1 = _normalize_index(ax1, names1). 37 return ax0, ax1. 38 . ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\index.py in _normalize_index(indexer, index). 99 if np.any(positions < 0):. 100 not_found = indexer[positions < 0]. --> 101 raise KeyError(. 102 f""Values {list(not_found)}, from {list(indexer)}, "". 103 ""are not valid obs/ var names or indices."". KeyError: 'Values [nan, nan, nan, nan, nan, nan, True,... nan, nan, True], are not valid obs/ var names or indices.'. ```. ```pytb. KeyError: 'Values [nan, nan, nan, nan, nan, nan, True,... nan, nan, True], are not valid obs/ var names or indices.'. ```. #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.3 pandas==1.3.5 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. scvelo==0.2.4 scanpy==1.8.2 anndata==0.7.8 loompy==3.0.6 numpy==1.20.3 scipy==1.7.3 matplotlib==3.5.1 sklearn==1.0.1 pandas==1.3.5 . cellrank==1.5.0 scanpy==1.8.2 anndata==0.7.8 numpy==1.20.3 numba==0.54.1 scipy==1.7.3 pandas==1.3.5 pygpcca==1.0.2 scikit-learn==1.0.1 statsmodels==0.13.1 pyt",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2095
https://github.com/scverse/scanpy/issues/2095:3745,modifiability,Version,Versions,3745,"kages\anndata\_core\anndata.py in __getitem__(self, index). 1114 def __getitem__(self, index: Index) -> ""AnnData"":. 1115 """"""Returns a sliced view of the object."""""". -> 1116 oidx, vidx = self._normalize_indices(index). 1117 return AnnData(self, oidx=oidx, vidx=vidx, asview=True). 1118 . ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\anndata.py in _normalize_indices(self, index). 1095 . 1096 def _normalize_indices(self, index: Optional[Index]) -> Tuple[slice, slice]:. -> 1097 return _normalize_indices(index, self.obs_names, self.var_names). 1098 . 1099 # TODO: this is not quite complete... ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\index.py in _normalize_indices(index, names0, names1). 34 ax0, ax1 = unpack_index(index). 35 ax0 = _normalize_index(ax0, names0). ---> 36 ax1 = _normalize_index(ax1, names1). 37 return ax0, ax1. 38 . ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\index.py in _normalize_index(indexer, index). 99 if np.any(positions < 0):. 100 not_found = indexer[positions < 0]. --> 101 raise KeyError(. 102 f""Values {list(not_found)}, from {list(indexer)}, "". 103 ""are not valid obs/ var names or indices."". KeyError: 'Values [nan, nan, nan, nan, nan, nan, True,... nan, nan, True], are not valid obs/ var names or indices.'. ```. ```pytb. KeyError: 'Values [nan, nan, nan, nan, nan, nan, True,... nan, nan, True], are not valid obs/ var names or indices.'. ```. #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.3 pandas==1.3.5 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. scvelo==0.2.4 scanpy==1.8.2 anndata==0.7.8 loompy==3.0.6 numpy==1.20.3 scipy==1.7.3 matplotlib==3.5.1 sklearn==1.0.1 pandas==1.3.5 . cellrank==1.5.0 scanpy==1.8.2 anndata==0.7.8 numpy==1.20.3 numba==0.54.1 scipy==1.7.3 pandas==1.3.5 pygpcca==1.0.2 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 scvelo==0.2.4 pygam==0.8.0 matplotlib==3.5.1 seaborn==0.11.2. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2095
https://github.com/scverse/scanpy/issues/2095:679,performance,error,errors,679,"Unable to subset a new adata by highly variable genes; - [✔] I have checked that this issue has not already been reported. - [✔] I have confirmed this bug exists on the latest version of scanpy. - [✔] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. Hello Scanpy,. It's very smooth to subset the adata by HVGs when doing `adata = adata[:, adata.var.highly_variable]` in the Scanpy pipeline. But when using the same coding to subeset a new raw adata, it generate errors. Could you please help me to check this issue? Thanks! Best,. YJ. ### Minimal code sample (that we can copy&paste without having any data). ```python. ACT_sub2 = sc.read('C:/Users/Park_Lab/Documents/ACT_sub2.h5ad') # Scanpy proceeded data. ACT_sub2. AnnData object with n_obs × n_vars = 2636 × 5000. obs: 'leiden', 'n_genes', 'n_genes_by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_rpl', 'pct_counts_rpl', 'total_counts_rps', 'pct_counts_rps'. var: 'Accession', 'Chromosome', 'End', 'Start', 'Strand', 'n_cells', 'mt', 'rpl', 'rps', 'n_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'hvg', 'leiden', 'leiden_colors', 'neighbors', 'pca', 'rank_genes_groups', 'umap'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. layers: 'ambiguous', 'matrix', 'spliced', 'unspliced'. obsp: 'connectivities', 'distances'. adata = sc.read_loom(filename='C:/Users/Park_Lab/Documents/cellsorted_Apc_Cracd_Tumor_KPVDV.loom') # raw data. adata.var_names_make_unique(). adata. AnnData object with n_obs × n_vars = 13499 × 32285. var: 'Accession', 'Chromosome', 'End', 'Start', 'Strand'. layers: 'matrix', 'ambiguous', 'spliced', 'unspliced'. adata.var['highly_variable']=ACT_sub2.var['highly_variable']. a",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2095
https://github.com/scverse/scanpy/issues/2095:2445,reliability,sli,sliced,2445,"ghbors', 'pca', 'rank_genes_groups', 'umap'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. layers: 'ambiguous', 'matrix', 'spliced', 'unspliced'. obsp: 'connectivities', 'distances'. adata = sc.read_loom(filename='C:/Users/Park_Lab/Documents/cellsorted_Apc_Cracd_Tumor_KPVDV.loom') # raw data. adata.var_names_make_unique(). adata. AnnData object with n_obs × n_vars = 13499 × 32285. var: 'Accession', 'Chromosome', 'End', 'Start', 'Strand'. layers: 'matrix', 'ambiguous', 'spliced', 'unspliced'. adata.var['highly_variable']=ACT_sub2.var['highly_variable']. adata = adata[:, adata.var.highly_variable] # subset the raw data by ACT_sub2's highly variable genes. KeyError Traceback (most recent call last). ~\AppData\Local\Temp/ipykernel_9544/4098982234.py in <module>. ----> 1 adata = adata[:, adata.var.highly_variable]. 2 adata. ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\anndata.py in __getitem__(self, index). 1114 def __getitem__(self, index: Index) -> ""AnnData"":. 1115 """"""Returns a sliced view of the object."""""". -> 1116 oidx, vidx = self._normalize_indices(index). 1117 return AnnData(self, oidx=oidx, vidx=vidx, asview=True). 1118 . ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\anndata.py in _normalize_indices(self, index). 1095 . 1096 def _normalize_indices(self, index: Optional[Index]) -> Tuple[slice, slice]:. -> 1097 return _normalize_indices(index, self.obs_names, self.var_names). 1098 . 1099 # TODO: this is not quite complete... ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\index.py in _normalize_indices(index, names0, names1). 34 ax0, ax1 = unpack_index(index). 35 ax0 = _normalize_index(ax0, names0). ---> 36 ax1 = _normalize_index(ax1, names1). 37 return ax0, ax1. 38 . ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\index.py in _normalize_index(indexer, index). 99 if np.any(positions < 0):. 100 not_found = indexer[positions < 0]. --> 101 raise KeyError(. 102 f""Values {list(not_found)}, from {list(indexer)}, "". 103 ""are no",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2095
https://github.com/scverse/scanpy/issues/2095:2779,reliability,sli,slice,2779,"ject with n_obs × n_vars = 13499 × 32285. var: 'Accession', 'Chromosome', 'End', 'Start', 'Strand'. layers: 'matrix', 'ambiguous', 'spliced', 'unspliced'. adata.var['highly_variable']=ACT_sub2.var['highly_variable']. adata = adata[:, adata.var.highly_variable] # subset the raw data by ACT_sub2's highly variable genes. KeyError Traceback (most recent call last). ~\AppData\Local\Temp/ipykernel_9544/4098982234.py in <module>. ----> 1 adata = adata[:, adata.var.highly_variable]. 2 adata. ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\anndata.py in __getitem__(self, index). 1114 def __getitem__(self, index: Index) -> ""AnnData"":. 1115 """"""Returns a sliced view of the object."""""". -> 1116 oidx, vidx = self._normalize_indices(index). 1117 return AnnData(self, oidx=oidx, vidx=vidx, asview=True). 1118 . ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\anndata.py in _normalize_indices(self, index). 1095 . 1096 def _normalize_indices(self, index: Optional[Index]) -> Tuple[slice, slice]:. -> 1097 return _normalize_indices(index, self.obs_names, self.var_names). 1098 . 1099 # TODO: this is not quite complete... ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\index.py in _normalize_indices(index, names0, names1). 34 ax0, ax1 = unpack_index(index). 35 ax0 = _normalize_index(ax0, names0). ---> 36 ax1 = _normalize_index(ax1, names1). 37 return ax0, ax1. 38 . ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\index.py in _normalize_index(indexer, index). 99 if np.any(positions < 0):. 100 not_found = indexer[positions < 0]. --> 101 raise KeyError(. 102 f""Values {list(not_found)}, from {list(indexer)}, "". 103 ""are not valid obs/ var names or indices."". KeyError: 'Values [nan, nan, nan, nan, nan, nan, True,... nan, nan, True], are not valid obs/ var names or indices.'. ```. ```pytb. KeyError: 'Values [nan, nan, nan, nan, nan, nan, True,... nan, nan, True], are not valid obs/ var names or indices.'. ```. #### Versions. <details>. scanpy==1.8.2 an",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2095
https://github.com/scverse/scanpy/issues/2095:2786,reliability,sli,slice,2786,"th n_obs × n_vars = 13499 × 32285. var: 'Accession', 'Chromosome', 'End', 'Start', 'Strand'. layers: 'matrix', 'ambiguous', 'spliced', 'unspliced'. adata.var['highly_variable']=ACT_sub2.var['highly_variable']. adata = adata[:, adata.var.highly_variable] # subset the raw data by ACT_sub2's highly variable genes. KeyError Traceback (most recent call last). ~\AppData\Local\Temp/ipykernel_9544/4098982234.py in <module>. ----> 1 adata = adata[:, adata.var.highly_variable]. 2 adata. ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\anndata.py in __getitem__(self, index). 1114 def __getitem__(self, index: Index) -> ""AnnData"":. 1115 """"""Returns a sliced view of the object."""""". -> 1116 oidx, vidx = self._normalize_indices(index). 1117 return AnnData(self, oidx=oidx, vidx=vidx, asview=True). 1118 . ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\anndata.py in _normalize_indices(self, index). 1095 . 1096 def _normalize_indices(self, index: Optional[Index]) -> Tuple[slice, slice]:. -> 1097 return _normalize_indices(index, self.obs_names, self.var_names). 1098 . 1099 # TODO: this is not quite complete... ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\index.py in _normalize_indices(index, names0, names1). 34 ax0, ax1 = unpack_index(index). 35 ax0 = _normalize_index(ax0, names0). ---> 36 ax1 = _normalize_index(ax1, names1). 37 return ax0, ax1. 38 . ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\index.py in _normalize_index(indexer, index). 99 if np.any(positions < 0):. 100 not_found = indexer[positions < 0]. --> 101 raise KeyError(. 102 f""Values {list(not_found)}, from {list(indexer)}, "". 103 ""are not valid obs/ var names or indices."". KeyError: 'Values [nan, nan, nan, nan, nan, nan, True,... nan, nan, True], are not valid obs/ var names or indices.'. ```. ```pytb. KeyError: 'Values [nan, nan, nan, nan, nan, nan, True,... nan, nan, True], are not valid obs/ var names or indices.'. ```. #### Versions. <details>. scanpy==1.8.2 anndata==",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2095
https://github.com/scverse/scanpy/issues/2095:679,safety,error,errors,679,"Unable to subset a new adata by highly variable genes; - [✔] I have checked that this issue has not already been reported. - [✔] I have confirmed this bug exists on the latest version of scanpy. - [✔] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. Hello Scanpy,. It's very smooth to subset the adata by HVGs when doing `adata = adata[:, adata.var.highly_variable]` in the Scanpy pipeline. But when using the same coding to subeset a new raw adata, it generate errors. Could you please help me to check this issue? Thanks! Best,. YJ. ### Minimal code sample (that we can copy&paste without having any data). ```python. ACT_sub2 = sc.read('C:/Users/Park_Lab/Documents/ACT_sub2.h5ad') # Scanpy proceeded data. ACT_sub2. AnnData object with n_obs × n_vars = 2636 × 5000. obs: 'leiden', 'n_genes', 'n_genes_by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_rpl', 'pct_counts_rpl', 'total_counts_rps', 'pct_counts_rps'. var: 'Accession', 'Chromosome', 'End', 'Start', 'Strand', 'n_cells', 'mt', 'rpl', 'rps', 'n_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'hvg', 'leiden', 'leiden_colors', 'neighbors', 'pca', 'rank_genes_groups', 'umap'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. layers: 'ambiguous', 'matrix', 'spliced', 'unspliced'. obsp: 'connectivities', 'distances'. adata = sc.read_loom(filename='C:/Users/Park_Lab/Documents/cellsorted_Apc_Cracd_Tumor_KPVDV.loom') # raw data. adata.var_names_make_unique(). adata. AnnData object with n_obs × n_vars = 13499 × 32285. var: 'Accession', 'Chromosome', 'End', 'Start', 'Strand'. layers: 'matrix', 'ambiguous', 'spliced', 'unspliced'. adata.var['highly_variable']=ACT_sub2.var['highly_variable']. a",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2095
https://github.com/scverse/scanpy/issues/2095:2200,safety,modul,module,2200,"art', 'Strand', 'n_cells', 'mt', 'rpl', 'rps', 'n_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'hvg', 'leiden', 'leiden_colors', 'neighbors', 'pca', 'rank_genes_groups', 'umap'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. layers: 'ambiguous', 'matrix', 'spliced', 'unspliced'. obsp: 'connectivities', 'distances'. adata = sc.read_loom(filename='C:/Users/Park_Lab/Documents/cellsorted_Apc_Cracd_Tumor_KPVDV.loom') # raw data. adata.var_names_make_unique(). adata. AnnData object with n_obs × n_vars = 13499 × 32285. var: 'Accession', 'Chromosome', 'End', 'Start', 'Strand'. layers: 'matrix', 'ambiguous', 'spliced', 'unspliced'. adata.var['highly_variable']=ACT_sub2.var['highly_variable']. adata = adata[:, adata.var.highly_variable] # subset the raw data by ACT_sub2's highly variable genes. KeyError Traceback (most recent call last). ~\AppData\Local\Temp/ipykernel_9544/4098982234.py in <module>. ----> 1 adata = adata[:, adata.var.highly_variable]. 2 adata. ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\anndata.py in __getitem__(self, index). 1114 def __getitem__(self, index: Index) -> ""AnnData"":. 1115 """"""Returns a sliced view of the object."""""". -> 1116 oidx, vidx = self._normalize_indices(index). 1117 return AnnData(self, oidx=oidx, vidx=vidx, asview=True). 1118 . ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\anndata.py in _normalize_indices(self, index). 1095 . 1096 def _normalize_indices(self, index: Optional[Index]) -> Tuple[slice, slice]:. -> 1097 return _normalize_indices(index, self.obs_names, self.var_names). 1098 . 1099 # TODO: this is not quite complete... ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\index.py in _normalize_indices(index, names0, names1). 34 ax0, ax1 = unpack_index(index). 35 ax0 = _normalize_index(ax0, names0). ---> 36 ax1 = _normalize_index(ax1, names1). 37 return ax0, ax1. 38 . ~\anaconda3\envs\Python3",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2095
https://github.com/scverse/scanpy/issues/2095:2907,safety,compl,complete,2907,", 'spliced', 'unspliced'. adata.var['highly_variable']=ACT_sub2.var['highly_variable']. adata = adata[:, adata.var.highly_variable] # subset the raw data by ACT_sub2's highly variable genes. KeyError Traceback (most recent call last). ~\AppData\Local\Temp/ipykernel_9544/4098982234.py in <module>. ----> 1 adata = adata[:, adata.var.highly_variable]. 2 adata. ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\anndata.py in __getitem__(self, index). 1114 def __getitem__(self, index: Index) -> ""AnnData"":. 1115 """"""Returns a sliced view of the object."""""". -> 1116 oidx, vidx = self._normalize_indices(index). 1117 return AnnData(self, oidx=oidx, vidx=vidx, asview=True). 1118 . ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\anndata.py in _normalize_indices(self, index). 1095 . 1096 def _normalize_indices(self, index: Optional[Index]) -> Tuple[slice, slice]:. -> 1097 return _normalize_indices(index, self.obs_names, self.var_names). 1098 . 1099 # TODO: this is not quite complete... ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\index.py in _normalize_indices(index, names0, names1). 34 ax0, ax1 = unpack_index(index). 35 ax0 = _normalize_index(ax0, names0). ---> 36 ax1 = _normalize_index(ax1, names1). 37 return ax0, ax1. 38 . ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\index.py in _normalize_index(indexer, index). 99 if np.any(positions < 0):. 100 not_found = indexer[positions < 0]. --> 101 raise KeyError(. 102 f""Values {list(not_found)}, from {list(indexer)}, "". 103 ""are not valid obs/ var names or indices."". KeyError: 'Values [nan, nan, nan, nan, nan, nan, True,... nan, nan, True], are not valid obs/ var names or indices.'. ```. ```pytb. KeyError: 'Values [nan, nan, nan, nan, nan, nan, True,... nan, nan, True], are not valid obs/ var names or indices.'. ```. #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.3 pandas==1.3.5 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 py",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2095
https://github.com/scverse/scanpy/issues/2095:3450,safety,valid,valid,3450,"kages\anndata\_core\anndata.py in __getitem__(self, index). 1114 def __getitem__(self, index: Index) -> ""AnnData"":. 1115 """"""Returns a sliced view of the object."""""". -> 1116 oidx, vidx = self._normalize_indices(index). 1117 return AnnData(self, oidx=oidx, vidx=vidx, asview=True). 1118 . ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\anndata.py in _normalize_indices(self, index). 1095 . 1096 def _normalize_indices(self, index: Optional[Index]) -> Tuple[slice, slice]:. -> 1097 return _normalize_indices(index, self.obs_names, self.var_names). 1098 . 1099 # TODO: this is not quite complete... ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\index.py in _normalize_indices(index, names0, names1). 34 ax0, ax1 = unpack_index(index). 35 ax0 = _normalize_index(ax0, names0). ---> 36 ax1 = _normalize_index(ax1, names1). 37 return ax0, ax1. 38 . ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\index.py in _normalize_index(indexer, index). 99 if np.any(positions < 0):. 100 not_found = indexer[positions < 0]. --> 101 raise KeyError(. 102 f""Values {list(not_found)}, from {list(indexer)}, "". 103 ""are not valid obs/ var names or indices."". KeyError: 'Values [nan, nan, nan, nan, nan, nan, True,... nan, nan, True], are not valid obs/ var names or indices.'. ```. ```pytb. KeyError: 'Values [nan, nan, nan, nan, nan, nan, True,... nan, nan, True], are not valid obs/ var names or indices.'. ```. #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.3 pandas==1.3.5 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. scvelo==0.2.4 scanpy==1.8.2 anndata==0.7.8 loompy==3.0.6 numpy==1.20.3 scipy==1.7.3 matplotlib==3.5.1 sklearn==1.0.1 pandas==1.3.5 . cellrank==1.5.0 scanpy==1.8.2 anndata==0.7.8 numpy==1.20.3 numba==0.54.1 scipy==1.7.3 pandas==1.3.5 pygpcca==1.0.2 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 scvelo==0.2.4 pygam==0.8.0 matplotlib==3.5.1 seaborn==0.11.2. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2095
https://github.com/scverse/scanpy/issues/2095:3568,safety,valid,valid,3568,"kages\anndata\_core\anndata.py in __getitem__(self, index). 1114 def __getitem__(self, index: Index) -> ""AnnData"":. 1115 """"""Returns a sliced view of the object."""""". -> 1116 oidx, vidx = self._normalize_indices(index). 1117 return AnnData(self, oidx=oidx, vidx=vidx, asview=True). 1118 . ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\anndata.py in _normalize_indices(self, index). 1095 . 1096 def _normalize_indices(self, index: Optional[Index]) -> Tuple[slice, slice]:. -> 1097 return _normalize_indices(index, self.obs_names, self.var_names). 1098 . 1099 # TODO: this is not quite complete... ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\index.py in _normalize_indices(index, names0, names1). 34 ax0, ax1 = unpack_index(index). 35 ax0 = _normalize_index(ax0, names0). ---> 36 ax1 = _normalize_index(ax1, names1). 37 return ax0, ax1. 38 . ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\index.py in _normalize_index(indexer, index). 99 if np.any(positions < 0):. 100 not_found = indexer[positions < 0]. --> 101 raise KeyError(. 102 f""Values {list(not_found)}, from {list(indexer)}, "". 103 ""are not valid obs/ var names or indices."". KeyError: 'Values [nan, nan, nan, nan, nan, nan, True,... nan, nan, True], are not valid obs/ var names or indices.'. ```. ```pytb. KeyError: 'Values [nan, nan, nan, nan, nan, nan, True,... nan, nan, True], are not valid obs/ var names or indices.'. ```. #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.3 pandas==1.3.5 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. scvelo==0.2.4 scanpy==1.8.2 anndata==0.7.8 loompy==3.0.6 numpy==1.20.3 scipy==1.7.3 matplotlib==3.5.1 sklearn==1.0.1 pandas==1.3.5 . cellrank==1.5.0 scanpy==1.8.2 anndata==0.7.8 numpy==1.20.3 numba==0.54.1 scipy==1.7.3 pandas==1.3.5 pygpcca==1.0.2 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 scvelo==0.2.4 pygam==0.8.0 matplotlib==3.5.1 seaborn==0.11.2. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2095
https://github.com/scverse/scanpy/issues/2095:3700,safety,valid,valid,3700,"kages\anndata\_core\anndata.py in __getitem__(self, index). 1114 def __getitem__(self, index: Index) -> ""AnnData"":. 1115 """"""Returns a sliced view of the object."""""". -> 1116 oidx, vidx = self._normalize_indices(index). 1117 return AnnData(self, oidx=oidx, vidx=vidx, asview=True). 1118 . ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\anndata.py in _normalize_indices(self, index). 1095 . 1096 def _normalize_indices(self, index: Optional[Index]) -> Tuple[slice, slice]:. -> 1097 return _normalize_indices(index, self.obs_names, self.var_names). 1098 . 1099 # TODO: this is not quite complete... ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\index.py in _normalize_indices(index, names0, names1). 34 ax0, ax1 = unpack_index(index). 35 ax0 = _normalize_index(ax0, names0). ---> 36 ax1 = _normalize_index(ax1, names1). 37 return ax0, ax1. 38 . ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\index.py in _normalize_index(indexer, index). 99 if np.any(positions < 0):. 100 not_found = indexer[positions < 0]. --> 101 raise KeyError(. 102 f""Values {list(not_found)}, from {list(indexer)}, "". 103 ""are not valid obs/ var names or indices."". KeyError: 'Values [nan, nan, nan, nan, nan, nan, True,... nan, nan, True], are not valid obs/ var names or indices.'. ```. ```pytb. KeyError: 'Values [nan, nan, nan, nan, nan, nan, True,... nan, nan, True], are not valid obs/ var names or indices.'. ```. #### Versions. <details>. scanpy==1.8.2 anndata==0.7.8 umap==0.5.2 numpy==1.20.3 scipy==1.7.3 pandas==1.3.5 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 pynndescent==0.5.5. scvelo==0.2.4 scanpy==1.8.2 anndata==0.7.8 loompy==3.0.6 numpy==1.20.3 scipy==1.7.3 matplotlib==3.5.1 sklearn==1.0.1 pandas==1.3.5 . cellrank==1.5.0 scanpy==1.8.2 anndata==0.7.8 numpy==1.20.3 numba==0.54.1 scipy==1.7.3 pandas==1.3.5 pygpcca==1.0.2 scikit-learn==1.0.1 statsmodels==0.13.1 python-igraph==0.9.8 scvelo==0.2.4 pygam==0.8.0 matplotlib==3.5.1 seaborn==0.11.2. </details>.",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2095
https://github.com/scverse/scanpy/issues/2095:1167,security,Access,Accession,1167,"est version of scanpy. - [✔] (optional) I have confirmed this bug exists on the master branch of scanpy. ---. **Note**: Please read [this guide](https://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports) detailing how to provide the necessary information for us to reproduce your bug. Hello Scanpy,. It's very smooth to subset the adata by HVGs when doing `adata = adata[:, adata.var.highly_variable]` in the Scanpy pipeline. But when using the same coding to subeset a new raw adata, it generate errors. Could you please help me to check this issue? Thanks! Best,. YJ. ### Minimal code sample (that we can copy&paste without having any data). ```python. ACT_sub2 = sc.read('C:/Users/Park_Lab/Documents/ACT_sub2.h5ad') # Scanpy proceeded data. ACT_sub2. AnnData object with n_obs × n_vars = 2636 × 5000. obs: 'leiden', 'n_genes', 'n_genes_by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_rpl', 'pct_counts_rpl', 'total_counts_rps', 'pct_counts_rps'. var: 'Accession', 'Chromosome', 'End', 'Start', 'Strand', 'n_cells', 'mt', 'rpl', 'rps', 'n_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'hvg', 'leiden', 'leiden_colors', 'neighbors', 'pca', 'rank_genes_groups', 'umap'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. layers: 'ambiguous', 'matrix', 'spliced', 'unspliced'. obsp: 'connectivities', 'distances'. adata = sc.read_loom(filename='C:/Users/Park_Lab/Documents/cellsorted_Apc_Cracd_Tumor_KPVDV.loom') # raw data. adata.var_names_make_unique(). adata. AnnData object with n_obs × n_vars = 13499 × 32285. var: 'Accession', 'Chromosome', 'End', 'Start', 'Strand'. layers: 'matrix', 'ambiguous', 'spliced', 'unspliced'. adata.var['highly_variable']=ACT_sub2.var['highly_variable']. adata = adata[:, adata.var.highly_variable] # subset the raw data by ACT_sub2's highly variable genes. KeyError Traceback (most recent call last). ~\AppData\Local\Temp/ipyke",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2095
https://github.com/scverse/scanpy/issues/2095:1830,security,Access,Accession,1830,". ACT_sub2 = sc.read('C:/Users/Park_Lab/Documents/ACT_sub2.h5ad') # Scanpy proceeded data. ACT_sub2. AnnData object with n_obs × n_vars = 2636 × 5000. obs: 'leiden', 'n_genes', 'n_genes_by_counts', 'total_counts', 'total_counts_mt', 'pct_counts_mt', 'total_counts_rpl', 'pct_counts_rpl', 'total_counts_rps', 'pct_counts_rps'. var: 'Accession', 'Chromosome', 'End', 'Start', 'Strand', 'n_cells', 'mt', 'rpl', 'rps', 'n_cells_by_counts', 'mean_counts', 'pct_dropout_by_counts', 'total_counts', 'highly_variable', 'means', 'dispersions', 'dispersions_norm', 'mean', 'std'. uns: 'hvg', 'leiden', 'leiden_colors', 'neighbors', 'pca', 'rank_genes_groups', 'umap'. obsm: 'X_pca', 'X_umap'. varm: 'PCs'. layers: 'ambiguous', 'matrix', 'spliced', 'unspliced'. obsp: 'connectivities', 'distances'. adata = sc.read_loom(filename='C:/Users/Park_Lab/Documents/cellsorted_Apc_Cracd_Tumor_KPVDV.loom') # raw data. adata.var_names_make_unique(). adata. AnnData object with n_obs × n_vars = 13499 × 32285. var: 'Accession', 'Chromosome', 'End', 'Start', 'Strand'. layers: 'matrix', 'ambiguous', 'spliced', 'unspliced'. adata.var['highly_variable']=ACT_sub2.var['highly_variable']. adata = adata[:, adata.var.highly_variable] # subset the raw data by ACT_sub2's highly variable genes. KeyError Traceback (most recent call last). ~\AppData\Local\Temp/ipykernel_9544/4098982234.py in <module>. ----> 1 adata = adata[:, adata.var.highly_variable]. 2 adata. ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\anndata.py in __getitem__(self, index). 1114 def __getitem__(self, index: Index) -> ""AnnData"":. 1115 """"""Returns a sliced view of the object."""""". -> 1116 oidx, vidx = self._normalize_indices(index). 1117 return AnnData(self, oidx=oidx, vidx=vidx, asview=True). 1118 . ~\anaconda3\envs\Python3812\lib\site-packages\anndata\_core\anndata.py in _normalize_indices(self, index). 1095 . 1096 def _normalize_indices(self, index: Optional[Index]) -> Tuple[slice, slice]:. -> 1097 return _normalize_indices(index,",MatchSource.ISSUE,scverse,scanpy,1.10.2,https://scanpy.readthedocs.io,https://github.com/scverse/scanpy/issues/2095
