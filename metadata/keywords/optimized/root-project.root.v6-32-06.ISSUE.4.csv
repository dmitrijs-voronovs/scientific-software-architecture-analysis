quality_attribute,sentence,source,author,repo,version,id,keyword,matched_word,match_idx,wiki,url,total_similar,target_keywords,target_matched_words
Deployability,Update thisroot.sh,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6316:0,Update,Update,0,https://root.cern,https://github.com/root-project/root/pull/6316,1,['Update'],['Update']
Deployability,Update to NodeJS 20 and Restrict `octokit` version to 3.x.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13237:0,Update,Update,0,https://root.cern,https://github.com/root-project/root/pull/13237,1,['Update'],['Update']
Deployability,Update to ROOT build options,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3027:0,Update,Update,0,https://root.cern,https://github.com/root-project/root/pull/3027,1,['Update'],['Update']
Deployability,Update to VecCore integration in ROOT,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/830:0,Update,Update,0,https://root.cern,https://github.com/root-project/root/pull/830,4,"['Update', 'integrat']","['Update', 'integration']"
Deployability,Update verison number for 6.24,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7456:0,Update,Update,0,https://root.cern,https://github.com/root-project/root/pull/7456,1,['Update'],['Update']
Deployability,Update warning flag for bidi characters,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9532:0,Update,Update,0,https://root.cern,https://github.com/root-project/root/pull/9532,1,['Update'],['Update']
Deployability,Update warning flag for bidi characters (6.26),MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9681:0,Update,Update,0,https://root.cern,https://github.com/root-project/root/pull/9681,1,['Update'],['Update']
Deployability,Update warning message as suggested by Stephan in https://github.com/root-project/root/pull/5724,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5735:0,Update,Update,0,https://root.cern,https://github.com/root-project/root/pull/5735,1,['Update'],['Update']
Deployability,Update xrootd to v4.12.8 (it contains critical patch fixing compilati…,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7380:0,Update,Update,0,https://root.cern,https://github.com/root-project/root/pull/7380,6,"['Update', 'patch']","['Update', 'patch']"
Deployability,Update zlib to 1.2.8,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/663:0,Update,Update,0,https://root.cern,https://github.com/root-project/root/pull/663,1,['Update'],['Update']
Deployability,Update zlib to 1.2.8 released in Apr 2013. This is a battle tested; version which is used as a base for QAT and Cloudflare zlib forks. roottest passed with no additional issues. Signed-off-by: David Abdurachmanov <David.Abdurachmanov@cern.ch>,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/663:0,Update,Update,0,https://root.cern,https://github.com/root-project/root/pull/663,2,"['Update', 'release']","['Update', 'released']"
Deployability,Updated EvaluateAllMethods to output confusion matrix and 1vsRest data for both test data and training data for easier overtraining check. The TMVAMultiClassGui now supports generating 1v1 roc curves. Fixes bug where generated multiclass roc curves were not save to disk when created. Adds correctness tests for the ROCCurve class.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/707:0,Update,Updated,0,https://root.cern,https://github.com/root-project/root/pull/707,1,['Update'],['Updated']
Deployability,Updated Fibonacci sequence descripition + datatype change,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7011:0,Update,Updated,0,https://root.cern,https://github.com/root-project/root/pull/7011,1,['Update'],['Updated']
Deployability,Updated PR for https://github.com/root-project/root/pull/1149,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1174:0,Update,Updated,0,https://root.cern,https://github.com/root-project/root/pull/1174,1,['Update'],['Updated']
Deployability,Updated RModelParser_PyTorch.cxx -Fixes the bug related to build,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10223:0,Update,Updated,0,https://root.cern,https://github.com/root-project/root/pull/10223,1,['Update'],['Updated']
Deployability,"Updated code the test unit, all tests for TMVA are OK!. Cheers,; Omar.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/129:0,Update,Updated,0,https://root.cern,https://github.com/root-project/root/pull/129,1,['Update'],['Updated']
Deployability,Updated documentation for TPad::GetUxmax etc.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/960:0,Update,Updated,0,https://root.cern,https://github.com/root-project/root/pull/960,1,['Update'],['Updated']
Deployability,Updated documentation in vmc:,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3690:0,Update,Updated,0,https://root.cern,https://github.com/root-project/root/pull/3690,1,['Update'],['Updated']
Deployability,Updated gitignore for QtCreator files.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/715:0,Update,Updated,0,https://root.cern,https://github.com/root-project/root/pull/715,1,['Update'],['Updated']
Deployability,Updated issue template [skip-ci],MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/8805:0,Update,Updated,0,https://root.cern,https://github.com/root-project/root/pull/8805,1,['Update'],['Updated']
Deployability,Updated markdown documentation(user guide) for ROOT-R. Cheers.; Omar.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/131:0,Update,Updated,0,https://root.cern,https://github.com/root-project/root/pull/131,1,['Update'],['Updated']
Deployability,Updated support for CMA-ES minimizer based on libcmaes,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/507:0,Update,Updated,0,https://root.cern,https://github.com/root-project/root/pull/507,2,['Update'],['Updated']
Deployability,Updated the list of jsROOT Drawables for Jupyter.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1191:0,Update,Updated,0,https://root.cern,https://github.com/root-project/root/pull/1191,1,['Update'],['Updated']
Deployability,Updated the reference file for ATLAS in stressGeometry test.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3175:0,Update,Updated,0,https://root.cern,https://github.com/root-project/root/pull/3175,1,['Update'],['Updated']
Deployability,Updates DeclCollectorPPAdapter to new clang interface that reports an when every **#undef** encountered.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/645:0,Update,Updates,0,https://root.cern,https://github.com/root-project/root/pull/645,1,['Update'],['Updates']
Deployability,"Updates for DEB/RPM generation with CPack, and RPATH for regular tarballs.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6735:0,Update,Updates,0,https://root.cern,https://github.com/root-project/root/pull/6735,1,['Update'],['Updates']
Deployability,Updates for generation of correct relative path for core headers,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2554:0,Update,Updates,0,https://root.cern,https://github.com/root-project/root/pull/2554,1,['Update'],['Updates']
Deployability,Updates of latex files of TMVA users guide,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5710:0,Update,Updates,0,https://root.cern,https://github.com/root-project/root/pull/5710,1,['Update'],['Updates']
Deployability,Updates the Interpreter section in the release notes for v6.24. [skip-ci],MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7548:0,Update,Updates,0,https://root.cern,https://github.com/root-project/root/pull/7548,2,"['Update', 'release']","['Updates', 'release']"
Deployability,Updates to RooFit tutorials necessary before the next release #8808,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/8927:0,Update,Updates,0,https://root.cern,https://github.com/root-project/root/pull/8927,4,"['Update', 'release']","['Updates', 'release']"
Deployability,Updates to VecOps library to use pre-compiled templates for common types,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1896:0,Update,Updates,0,https://root.cern,https://github.com/root-project/root/pull/1896,1,['Update'],['Updates']
Deployability,"Updates to builtin Davix, including moving to latest version (0.6.7)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1890:0,Update,Updates,0,https://root.cern,https://github.com/root-project/root/pull/1890,1,['Update'],['Updates']
Deployability,Updates to distributed RDataFrame configuration,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11541:0,Update,Updates,0,https://root.cern,https://github.com/root-project/root/pull/11541,2,"['Update', 'configurat']","['Updates', 'configuration']"
Deployability,Updates to latest xRooFit version,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15843:0,Update,Updates,0,https://root.cern,https://github.com/root-project/root/pull/15843,1,['Update'],['Updates']
Deployability,Updates to the build system,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2505:0,Update,Updates,0,https://root.cern,https://github.com/root-project/root/pull/2505,1,['Update'],['Updates']
Deployability,"Updates xroofit code to latest commit. No major changes to functionality, just minor bug fixes.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15177:0,Update,Updates,0,https://root.cern,https://github.com/root-project/root/pull/15177,1,['Update'],['Updates']
Deployability,Updating release notes,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1756:9,release,release,9,https://root.cern,https://github.com/root-project/root/pull/1756,1,['release'],['release']
Deployability,Upgrade Civetweb to v1.10,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1371:0,Upgrade,Upgrade,0,https://root.cern,https://github.com/root-project/root/pull/1371,1,['Upgrade'],['Upgrade']
Deployability,Upgrade builtin xrootd version,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14998:0,Upgrade,Upgrade,0,https://root.cern,https://github.com/root-project/root/pull/14998,1,['Upgrade'],['Upgrade']
Deployability,Upgrade llvm90,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6385:0,Upgrade,Upgrade,0,https://root.cern,https://github.com/root-project/root/pull/6385,1,['Upgrade'],['Upgrade']
Deployability,Upgrade lz4 builtins to 1.8.3 version,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2807:0,Upgrade,Upgrade,0,https://root.cern,https://github.com/root-project/root/pull/2807,1,['Upgrade'],['Upgrade']
Deployability,Upgrade nlohmann json parser to v 3.7.3,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5124:0,Upgrade,Upgrade,0,https://root.cern,https://github.com/root-project/root/pull/5124,1,['Upgrade'],['Upgrade']
Deployability,Upgrade nlohmann/json to version 3.9.1 (ROOT-10993),MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6662:0,Upgrade,Upgrade,0,https://root.cern,https://github.com/root-project/root/pull/6662,2,['Upgrade'],['Upgrade']
Deployability,Upgrade nlohmann/json.hpp to version 3.9.1 (ROOT-10993) v6.22,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6664:0,Upgrade,Upgrade,0,https://root.cern,https://github.com/root-project/root/pull/6664,1,['Upgrade'],['Upgrade']
Deployability,"Upgraded version of PR #4279.; Changes were necessary due to incompatibility with C++ modules. Problem: due to how rootmap works, it's not possible to have multiple versions of a pair (shared library, pcm) with the same name, even in different directories. This feature lead to the impossibility of building multiple versions of libROOTPython, which used to contain, along with the pythonizations, also the TPython library. Solution: TPython and pythonizations have been split, and are built in libROOTTPython and libROOTPythonizations respectively. We only have one version of the former (the last one built) and possibility to build multiple versions for the latter.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4647:0,Upgrade,Upgraded,0,https://root.cern,https://github.com/root-project/root/pull/4647,1,['Upgrade'],['Upgraded']
Deployability,"Upon creating an RNTupleInspector, we check whether the compression settings are consistent across all columns. Some column ranges may have been constructed upon read (e.g. in the context of late model extension) and therefore have no compression settings to begin with. These column ranges should not cause the RNTupleInspector to throw. This PR partially addresses #15661. - [x] tested changes locally; - [x] updated the docs (if necessary)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15759:411,update,updated,411,https://root.cern,https://github.com/root-project/root/pull/15759,1,['update'],['updated']
Deployability,"Upstream Clang keeps `TemplateIdAnnotation`s around ""if they might still be in the token stream."" See upstream commit for more details: https://github.com/llvm/llvm-project/commit/6163aa96799cbad7f2f58e02c5bebee9647056a5 (included in Clang 11, in ROOT since the upgrade to LLVM 13). This reasoning doesn't apply when we fully reset the `Parser` state in `ParserStateRAII`'s destructor, and we expect the swapped out vector of `TemplateIdAnnotation`s to be empty in order to not leak. Fixes #16121",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16150:262,upgrade,upgrade,262,https://root.cern,https://github.com/root-project/root/pull/16150,1,['upgrade'],['upgrade']
Deployability,"Upstream moved away from manually declaring `*def` and `*inc` files. These are now auto-generated with tablegen. This patch does the same for cling, making it easier to rebase and maintain. # This Pull request:. ## Changes or fixes:. ## Checklist:. - [x] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14628:118,patch,patch,118,https://root.cern,https://github.com/root-project/root/pull/14628,2,"['patch', 'update']","['patch', 'updated']"
Deployability,Use -O3 for release. (Accelerates clang by factor 3.6!),MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1774:12,release,release,12,https://root.cern,https://github.com/root-project/root/pull/1774,1,['release'],['release']
Deployability,Use GetCanvasWidth()/GetCanvasHeight() for obtain proper dimension . Do not swap width/height arguments. Use correspondent JSROOT release,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13645:130,release,release,130,https://root.cern,https://github.com/root-project/root/pull/13645,1,['release'],['release']
Deployability,"Use RWebWindow for main widget with buttons, help widget with infos and web-based geometry viewer for geometry display. This requires number of changes in base RWebWindow class:. 1. Let configure position and size of RWebWindow, including support in chrome, CEF and Qt5; 2. Make more methods in RWebWindow `const`, declaring used mutexes `mutable`; 3. Let submit data to web window, which is started but not yet connected to server. Redesign visiible nodes selection algorithm in geometry viewer. Now logic is similar to normal TGeoPainter of ROOT. Plus extra control over maximal allowed number of faces/vertices. Update JSROOT with latest changes",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4166:615,Update,Update,615,https://root.cern,https://github.com/root-project/root/pull/4166,1,['Update'],['Update']
Deployability,Use __CLING__ flag to test if interpreter is used and update the help.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5785:54,update,update,54,https://root.cern,https://github.com/root-project/root/pull/5785,1,['update'],['update']
Deployability,"Use `${PYTHON_LIBRARIES}` to automatically select the correct (debug/release) Python library when both are installed. For example, with both debug and release versions of Python, `PYTHON_LIBRARIES` is set as:; ```; PYTHON_LIBRARIES:INTERNAL=optimized;C:/Python310/libs/python310.lib;debug;C:/Python310/libs/python310_d.lib; ```; And with only the release version:; ```; PYTHON_LIBRARIES:INTERNAL=C:/Python310/libs/python310.lib; ```; So the correct one will be used.; This fixes the following error when both versions are installed:; ```; CMake Error at bindings/pyroot/cppyy/CPyCppyy/CMakeLists.txt:61 (target_link_libraries):; The ""optimized"" argument must be followed by a library.; ```",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13013:69,release,release,69,https://root.cern,https://github.com/root-project/root/pull/13013,10,"['install', 'release']","['installed', 'release']"
Deployability,"Use canvas pixel size as page size - including margins. Also update JSROOT, preliminary 7.5 release",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13666:61,update,update,61,https://root.cern,https://github.com/root-project/root/pull/13666,2,"['release', 'update']","['release', 'update']"
Deployability,"Use headless Chrome browser, running from file system.; No any HTTP server required.; Following formats are supported: png, pdf, svg, jpeg, webp; Requires that chrome is installed on all test machines; Tested on Linux, Mac and Windows; Exactly same code used with TWebCanvas",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4855:170,install,installed,170,https://root.cern,https://github.com/root-project/root/pull/4855,1,['install'],['installed']
Deployability,Use import like:. import { connectWebWindow } from './jsrootsys/modules/webwindow.mjs';; import { source_dir } from './jsrootsys/modules/core.mjs';. This let use widgets also with http redirection where top server path; may be handled not directly by the `THttpServer`. Correctly use client versioning for JSROOT modules. Update JSROOT - fixing TPaveText problems,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10692:322,Update,Update,322,https://root.cern,https://github.com/root-project/root/pull/10692,1,['Update'],['Update']
Deployability,"Use larger vectors and access them more sparsely if needed (e.g.; threads now access one every 16 elements in hot std::vector<int>; on systems where a cache line is 64 bytes). In some edge cases in which the analysis workload is light and/or many; threads (48, 64) are involved, this patch reduces runtimes by factors.; The increase in memory usage should be little relative to the memory; required e.g. by jitting or by per-thread histograms.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/8007:284,patch,patch,284,https://root.cern,https://github.com/root-project/root/pull/8007,1,['patch'],['patch']
Deployability,"Use the correct syntax for the `START` command, which is:; ```; START ""title"" [/D path] [options] ""command"" [parameters]; ```; This prevent the following error with the `.forum bug` command:; ```; root [0] .forum bug; The system cannot accept the START command parameter ""https://root-forum.cern.ch/new-topic?category=ROOT&tags=bug&body=___%0A_Please read [tips for efficient and successful posting](https:%2F%2Froot-forum.cern.ch%2Ft%2Ftips-for-efficient-and-successful-posting%2F28292) and [posting code](https:%2F%2Froot-forum.cern.ch%2Ft%2Fposting-code-read-this-first%2F28293)_%0A%0A%23%23%23 Describe the bug%0A<!--%0AA clear and concise description of what the wrong behavior is.%0A-->%0A%23%23%23 Expected behavior%0A<!--%0AA clear and concise description of what you expected to happen.%0A-->%0A%0A%23%23%23 To Reproduce%0A<!--%0ASteps to reproduce the behavior:%0A1. Your code that triggers the issue: at least a part%3B ideally something we can run ourselves.%0A2. Don't forget to attach the required input files!%0A3. How to run your code and %2F or build it, e.g. %60root myMacro.C%60, ...%0A-->%0A%0A%23%23%23 Setup%0A%60%60%60%0AROOT v6.29%2F01%0ABuilt for win32 on Jun 26 2023, 07:55:07%0AFrom heads%2Fmaster@v6-29-01-1740-ga5471d735c%0AWith MSVC 19.29.30146.0%0ABinary directory: C:\Users\bellenot\build\x86\release\bin%0A%60%60%60%0A%0A<!--%0APlease specify also how you obtained ROOT, such as %60dnf install%60 %2F binary download %2F you built it yourself.%0A-->%0A%0A%23%23%23 Additional context%0A<!--%0AAdd any other context about the problem here.%0A-->&"".; root [1]; ```",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13106:1325,release,release,1325,https://root.cern,https://github.com/root-project/root/pull/13106,4,"['install', 'release']","['install', 'release']"
Deployability,"User-visible places: Old release-indices, informative output of hadd.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/95:25,release,release-indices,25,https://root.cern,https://github.com/root-project/root/pull/95,1,['release'],['release-indices']
Deployability,"Users can now pass a map to the `RCsvDS` constructor as an additional; argument to specify column types of their choice.; Supported types remain: double, Long64_t, bool, std::string.; Type aliases follow `TTreeReader`, i.e.:; * 'O' for boolean; * 'D' for double; * 'L' for Long64_t; * 'T' for std::string. `RCsvDS` now supports ready empty cells and now introduces special variables ""NaN"" and ""nan"" to be read as `nan`. Note that only double has actual `nan`, so for booleans and Long64_t-s, 0 is set in this case. Corresponding tests are added. - [x] tested changes locally; - [x] updated the docs (if necessary). This PR fixes #9561",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10488:582,update,updated,582,https://root.cern,https://github.com/root-project/root/pull/10488,1,['update'],['updated']
Deployability,"Users can now register one or more callbacks to TResultProxies (i.e.; the results of TDF actions). A callback is just a callable that takes; a reference to the result type as argument and is going to be invoked; by each worker thread once every N entries (users choose N). It is meant to be used to inspect partial results of the analysis; while the event loop is still running.; For example, in a single-thread event loop, one can draw a histogram; and update the canvas every 100 entries like this:; ; ```c++; auto h = tdf.Histo1D(""x"");; TCanvas c(""c"",""x hist"");; // update the canvas every 100 entries; h.RegisterCallback(100, [&c](TH1D &h_) { h_.Draw(); c.Update(); });; // trigger event loop, this `Draw` will be performed afterwards; h->Draw();; ```. Each worker thread invokes callbacks sequentially, but the same callback; might be invoked concurrently by different worker threads if implicit multi-threading; is enabled.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1037:454,update,update,454,https://root.cern,https://github.com/root-project/root/pull/1037,3,"['Update', 'update']","['Update', 'update']"
Deployability,"Users might want to connect to a notebook server launched with 'root --notebook' from another computer. This setting of the Jupyter configuration makes that possible. This also solves the issue explained here:. https://github.com/ipython/ipython/issues/6193. Depending on the network configuration of a machine/container, binding on localhost might fail. This looks like the issue reported on ROOT-9829.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3037:132,configurat,configuration,132,https://root.cern,https://github.com/root-project/root/pull/3037,2,['configurat'],['configuration']
Deployability,"Users might want to connect to a notebook server launched with; 'root --notebook' from another computer. This setting of the; Jupyter configuration makes that possible. This also solves the issue explained here:. https://github.com/ipython/ipython/issues/6193. Depending on the network configuration of a machine/container,; binding on localhost might fail. This looks like the issue; reported on ROOT-9829.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3052:134,configurat,configuration,134,https://root.cern,https://github.com/root-project/root/pull/3052,2,['configurat'],['configuration']
Deployability,"Using clang 4 to build with C++ 17 support fails as `__cplusplus` is defined as [`201406L`](https://github.com/llvm-mirror/clang/blob/release_40/lib/Frontend/InitPreprocessor.cpp#L379) for `cxx17`. This is needed for the macOS conda package, but it can be left as a patch that is applied before configuring if you would rather keep the checking against the correct value.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3096:266,patch,patch,266,https://root.cern,https://github.com/root-project/root/pull/3096,1,['patch'],['patch']
Deployability,V6 08 00 patches,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/436:9,patch,patches,9,https://root.cern,https://github.com/root-project/root/pull/436,1,['patch'],['patches']
Deployability,V6 12 00 patches tree cloner history tracking,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1807:9,patch,patches,9,https://root.cern,https://github.com/root-project/root/pull/1807,1,['patch'],['patches']
Deployability,V6 12 00 patches: Fix misnamed variable in RooRandomizeParamMCSModule,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1438:9,patch,patches,9,https://root.cern,https://github.com/root-project/root/pull/1438,1,['patch'],['patches']
Deployability,V6 14 00 patches,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2369:9,patch,patches,9,https://root.cern,https://github.com/root-project/root/pull/2369,1,['patch'],['patches']
Deployability,V6 20 00 patches,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5091:9,patch,patches,9,https://root.cern,https://github.com/root-project/root/pull/5091,1,['patch'],['patches']
Deployability,V6 20 00 patches r backport,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/8865:9,patch,patches,9,https://root.cern,https://github.com/root-project/root/pull/8865,1,['patch'],['patches']
Deployability,V6 22 00 patches r backport,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/8864:9,patch,patches,9,https://root.cern,https://github.com/root-project/root/pull/8864,1,['patch'],['patches']
Deployability,V6 24 00 patches r cherry pick from master.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/8861:9,patch,patches,9,https://root.cern,https://github.com/root-project/root/pull/8861,1,['patch'],['patches']
Deployability,V6-10-patches fix order commits,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1025:6,patch,patches,6,https://root.cern,https://github.com/root-project/root/pull/1025,1,['patch'],['patches']
Deployability,"VC\Tools\MSVC\14.35.32215\include\format(3531,19): message : or 'std::string std::format(const std::locale &,const std::basic_format_string<char,type_identity<_Args>::type...>,_Types &&...)' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(51,18): message : 'initializing': cannot convert from 'const char [5]' to 'const std::locale &' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(51,18): message : Reason: cannot convert from 'const char [5]' to 'const std::locale' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(51,18): message : Constructor for class 'std::locale' is declared 'explicit' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(51,11): message : while trying to match the argument list '(const char [5], const std::unique_ptr<llvm::GIMatchDagInstr,std::default_delete<llvm::GIMatchDagInstr>> *)' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(51,11): message : note: qualification adjustment (const/volatile) may be causing the ambiguity [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(85,11): error C2666: 'llvm::format': overloaded functions have similar conversions [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\l",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12523:5334,release,release,5334,https://root.cern,https://github.com/root-project/root/pull/12523,1,['release'],['release']
Deployability,VMC update: Added support for user defined sensitive detectors; plus few more features,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1892:4,update,update,4,https://root.cern,https://github.com/root-project/root/pull/1892,1,['update'],['update']
Deployability,VTables.C; Cling :: DynamicLibraryManager/callable_lib_L_AB_order1.C; ```. Remaining failures (excluding the ones above):; ```; Cling :: CodeGeneration/Symbols.C; Cling :: CodeUnloading/AtExit.C; Cling :: CodeUnloading/PCH/VTablesClingPCH.C; Cling :: CodeUnloading/RereadFile.C; Cling :: ErrorRecovery/StoredState.C; Cling :: MultipleInterpreters/MultipleInterpreters.C; ```; </details>. ROOT:; - [x] Compare the build size against master; - [x] Compare the `.pcm` file size against master; - [ ] Add flags to ignore compilation warnings coming from llvm; - [x] Remove the FIXME from commit 'Add another symbol generator to resolve the generated lazy symbol' - the explanation is in the commit; - [x] Fix the llvm::StringRef conversion failures on OSX. <details>; <summary>; Binary Size this PR needs 13% more space (2.3 vs 2. GB); </summary>. ```; du -hs root-release-llvm13; 2.3G	.; (base) vvassilev@vv-nuc /build/vvassilev/root-release-llvm13 $ du -hs ../root-release-master/; 2.0G	../root-release-master/; ```. </details>. <details>; <summary>; Module files need ~5% more space on disk (215 vs 206 MB); </summary>. ```; diff -y llvm13 master ; 424K	lib/ASImageGui.pcm				 |	444K	lib/ASImageGui.pcm; 468K	lib/ASImage.pcm					 |	484K	lib/ASImage.pcm; 4.2M	lib/_Builtin_intrinsics.pcm			 |	4.0M	lib/_Builtin_intrinsics.pcm; 48K	lib/_Builtin_stddef_max_align_t.pcm		 |	44K	lib/_Builtin_stddef_max_align_t.pcm; 200K	lib/Cling_Runtime_Extra.pcm			 |	132K	lib/Cling_Runtime_Extra.pcm; 100K	lib/Cling_Runtime.pcm					100K	lib/Cling_Runtime.pcm; 11M	lib/Core.pcm					 |	9.6M	lib/Core.pcm; 564K	lib/EG.pcm					 |	584K	lib/EG.pcm; 5.7M	lib/Eve.pcm					 |	5.4M	lib/Eve.pcm; 652K	lib/FitPanel.pcm				 |	656K	lib/FitPanel.pcm; 504K	lib/Foam.pcm					 |	520K	lib/Foam.pcm; 440K	lib/Fumili.pcm					 |	460K	lib/Fumili.pcm; 1.2M	lib/Gdml.pcm						1.2M	lib/Gdml.pcm; 960K	lib/Ged.pcm					 |	968K	lib/Ged.pcm; 432K	lib/Genetic.pcm					 |	456K	lib/Genetic.pcm; 2.9M	lib/GenVector.pcm				 |	2.8M	lib/GenVector.pcm; 868K	,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10294:1408,release,release-master,1408,https://root.cern,https://github.com/root-project/root/pull/10294,1,['release'],['release-master']
Deployability,Valgrind reports issues with ROOT release builds,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11385:34,release,release,34,https://root.cern,https://github.com/root-project/root/issues/11385,1,['release'],['release']
Deployability,"Var(f""sigma_{i}"", """", 1.3, 0, 5)); gauss_list.append(ROOT.RooGaussian(f""gauss_{i}"", """", observable, mu_list[-1], sigma_list[-1])); frac_list.append(ROOT.RooConstVar(f""frac_{i}"", """", 1/3)). gauss = ROOT.RooAddPdf(""gauss"", """", gauss_list, frac_list[:-1]); gauss.keepAlive = (gauss_list, frac_list[:-1]); return (mu_list, sigma_list), gauss. def fit_gauss(model, data, batch_mode):; # build the loss; nll = model.createNLL(data, BatchMode=batch_mode). # minimize; minimizer = ROOT.RooMinimizer(nll); minimizer.minimize(""Minuit2"", """"). result = minimizer.save(); return result. def main(n_events):; observable = ROOT.RooRealVar(""x"", """", 0, -5, 20); data1 = get_data(observable, n_events); data2 = get_data(observable, n_events); parameters1, model1 = get_model(observable); parameters2, model2 = get_model(observable). result1 = fit_gauss(model1, data1, ""cpu""); result2 = fit_gauss(model2, data2, ""cuda""). c = ROOT.TCanvas("""", """", 800, 400); c.Divide(2). c.cd(1); frame1 = observable.frame(); data1.plotOn(frame1); model1.plotOn(frame1); frame1.SetTitle(""Fit performed with the 'cpu' backend""); frame1.Draw(). c.cd(2); frame2 = observable.frame(); data2.plotOn(frame2); model2.plotOn(frame2); frame2.SetTitle(""Fit performed with the 'cuda' backend""); frame2.Draw(). c.Print(""myPlot.png""). if __name__ == ""__main__"":; main(int(1e6)); ```; Run the code as `python fit.py`. ### ROOT version. ``` bash; ------------------------------------------------------------------; | Welcome to ROOT 6.29/01 https://root.cern |; | (c) 1995-2022, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built for linuxx8664gcc on Aug 29 2023, 08:42:45 |; | From heads/master@v6-29-01-2512-gf6aeead07d |; | With c++ (Ubuntu 11.4.0-1ubuntu1~22.04) 11.4.0 |; | Try '.help'/'.?', '.demo', '.license', '.credits', '.quit'/'.q' |; ------------------------------------------------------------------; ```. ### Installation method. build from source. ### Operating system. Ubuntu 22.04.3 LTS. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13603:3951,Install,Installation,3951,https://root.cern,https://github.com/root-project/root/issues/13603,1,['Install'],['Installation']
Deployability,Vc: update to Vc 0.7.4,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/19:4,update,update,4,https://root.cern,https://github.com/root-project/root/pull/19,1,['update'],['update']
Deployability,"Version 3.11 of `nlohmann/json` introduced ""versioned, ABI-tagged inline namespace""s, which breaks our forward declaration. Fortunately, we can assume the `json_fwd.hpp` header to be present starting from that same version because the `JSON_MultipleHeaders` option now defaults to `ON` and even if not, `json_fwd.hpp` is installed since patch version 3.11.2. For; earlier versions, both methods work but `json_fwd.hpp` isn't guaranteed to be installed. Still use it if available. Fixes https://github.com/root-project/root/issues/11130",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11205:321,install,installed,321,https://root.cern,https://github.com/root-project/root/pull/11205,3,"['install', 'patch']","['installed', 'patch']"
Deployability,"Visual Studio 2017 doesn't use the registry anymore, so no need to try to find keys. This prevent picking wrong directories in the case there is another version installed on the computer, and prevent also the following errors when starting ROOT:; RegQueryValueEx: returned 2: The system cannot find the file specified.; RegOpenKeyEx: returned 2: The system cannot find the file specified.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2678:161,install,installed,161,https://root.cern,https://github.com/root-project/root/pull/2678,1,['install'],['installed']
Deployability,Vmc application update,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/461:16,update,update,16,https://root.cern,https://github.com/root-project/root/pull/461,1,['update'],['update']
Deployability,"WIP: As the title says - trying to update TMVA to support cuDNN 8, but also be backwards compatible. More commits to come",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6058:35,update,update,35,https://root.cern,https://github.com/root-project/root/pull/6058,1,['update'],['update']
Deployability,"Walking the dyld map manually is missing the libc lock. Instead, use the; official interface for this. Make sure that any call to UpdateListOfLoadedSharedLibraries; is actually locked by gInterpreterMutex.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6850:130,Update,UpdateListOfLoadedSharedLibraries,130,https://root.cern,https://github.com/root-project/root/pull/6850,1,['Update'],['UpdateListOfLoadedSharedLibraries']
Deployability,"Walking the dyld map manually is missing the libc lock. Instead, use the; official interface for this. Make sure that any call to UpdateListOfLoadedSharedLibraries; is actually locked by gInterpreterMutex. (cherry picked from commit 653d927f1d21a50812b049bc16a73e91302485d4)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6877:130,Update,UpdateListOfLoadedSharedLibraries,130,https://root.cern,https://github.com/root-project/root/pull/6877,1,['Update'],['UpdateListOfLoadedSharedLibraries']
Deployability,"Was already reverted in the ""Revert ""PCH has partial names (include/TObject.h), use them for full …; …paths."""" , but with LLVM5.0 upgrade was accidentally returned back.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1727:130,upgrade,upgrade,130,https://root.cern,https://github.com/root-project/root/pull/1727,1,['upgrade'],['upgrade']
Deployability,"We *know* C++20 is failing the test suite, make the builds green by adding C++20 support to a PR rather than master. # This Pull request:. ## Changes or fixes:. ## Checklist:. - [ ] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12837:212,update,updated,212,https://root.cern,https://github.com/root-project/root/pull/12837,1,['update'],['updated']
Deployability,"We accidentially check and annotate the return type of the function twice for; being a pointer/reference type when we do the ""else"" part of the; wrapper. This patch removes this wrong second check and extends; the tests to check that the cast in both branches of the if/else; is correct.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/667:159,patch,patch,159,https://root.cern,https://github.com/root-project/root/pull/667,1,['patch'],['patch']
Deployability,"We already reverted this patch, but the LLVM upgrade to 5.0 seems; to have ignored this reversion.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1273:25,patch,patch,25,https://root.cern,https://github.com/root-project/root/pull/1273,2,"['patch', 'upgrade']","['patch', 'upgrade']"
Deployability,"We always wanted to use ""old"", and my prior attept to convince CMake to use ""DOWNLOAD_EXTRACT_TIMESTAMP false"" did not work. So instead of passing this to each ExternalProject_Add, just switch the global policy to OLD. # This Pull request:. ## Changes or fixes:. ## Checklist:. - [ ] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11846:314,update,updated,314,https://root.cern,https://github.com/root-project/root/pull/11846,1,['update'],['updated']
Deployability,"We always wanted to use ""old"", and my prior attept to convince CMake to use ""DOWNLOAD_EXTRACT_TIMESTAMP false"" did not work. So instead of passing this to each ExternalProject_Add, just switch the global policy to OLD. (cherry picked from commit 51302692c483755d4d70a87dc39706bab72b1bf7). # This Pull request:. ## Changes or fixes:. ## Checklist:. - [ ] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11845:384,update,updated,384,https://root.cern,https://github.com/root-project/root/pull/11845,1,['update'],['updated']
Deployability,"We are currently discussing what the next ROOT release version number will be, and if we want to remove the deprecated methods now. To avoid the annoying warnings, change the check to 6.33.02; *if* we release a development release later this year, it would likely be called 6.33.01 or 6.33.02. Afterwards master would be bumped to 6.33.03 and we would again be reminded to remove the methods.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15148:47,release,release,47,https://root.cern,https://github.com/root-project/root/pull/15148,3,['release'],['release']
Deployability,"We are excluding directories, which are accidentaly copied via unxpected behaviour of install(DIRECTORY ..)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4792:86,install,install,86,https://root.cern,https://github.com/root-project/root/pull/4792,1,['install'],['install']
Deployability,"We are relying on this since a while, for example for reemission of template symbols. At the moment, we get the incremental extensions because `Preprocessor::enableIncrementalProcessing()` turns them on internally, but this will change with LLVM 18 where this method only controls incremental processing of a single `Preprocessor` object. ---. This should mean no change in `master` with LLVM 16, but given that we already rely on this we should enable the incremental extensions properly outside of the upgrade to LLVM 18.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16191:504,upgrade,upgrade,504,https://root.cern,https://github.com/root-project/root/pull/16191,1,['upgrade'],['upgrade']
Deployability,"We are working on LCFIPlus, a flavor tagging software used for linear collider (ILC/CLIC) studies.; We use multi-class BDT with output of b-tag, c-tag, and uds-tag (3 outputs).; We also separate events into four categories according to number of reconstructed vertices; (0-vtx, 1-vtx, 1-vtx+1-partial-vtx, and 2-vtx) which are trained and evaluated independently.; In the previous release with TMVA 4.1.0 we can use the output of BDTs as variables common to ; all categories, because the average value of eg. b-tag output from each BDT; over full training samples reflects the fraction of b events in the training samples.; (eg. if we have 80% of b and 20% of c + uds, we have the avarage value of .8 for b-tag output.); We found this feature is not preserved in the latest releases (after TMVA 4.1.2); due to the normalization procedure introduced in that version.; In result this causes significant degradation of our flavor tagging performance,; which was reported from a user using latest ROOT/TMVA.; We also found that just switching off the normalization procedure in the ROOT 6.06/TMVA 4.2.1; gives very similar performance to the ROOT 5.28/TMVA 4.1.0.; Therefore, we need to switch off the normalization to keep the performance,; which is realized in an option implemented in this pull request.; We hope this will be accepted, to avoid us from patching this to every release of ROOT; we use for studies using LCFIPlus flavor tagging feature.; We set this option to non-default, so current users should not be affected by this change.; ![btag-100k-root-6 06 02-skipnorm](https://cloud.githubusercontent.com/assets/7939934/18453216/0f501eb0-78f3-11e6-892c-912f9b68553d.png); B-tag performance with the SkipNormalization option; ![btag-100k-root-6 06 02-noskipnorm](https://cloud.githubusercontent.com/assets/7939934/18453215/0f4e6b60-78f3-11e6-94bd-b4be9631937d.png); B-tag performance without the SkipNormalization option",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/244:381,release,release,381,https://root.cern,https://github.com/root-project/root/pull/244,4,"['patch', 'release']","['patching', 'release', 'releases']"
Deployability,"We assumed that we will always have module file and unconditionally disable; header parsing on demand. However, the major use-case is gradual migration; to modules. In this scenario (tested by root-meta-fwdDecls-fwdDeclarations),; we have a dictionary which has no module file and still relies on the old; behavior. This can realistically happen when users gradually migrate to; modules. For example, we have modules-aware ROOT and untouched third party; code. This patch enables header parsing on demand when we have no module file; available.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2721:466,patch,patch,466,https://root.cern,https://github.com/root-project/root/pull/2721,1,['patch'],['patch']
Deployability,"We currently don't support numba 0.60.0 yet:; https://github.com/root-project/root/blob/master/requirements.txt#L17. One can see the problem when going into `roottest/python/numba` and running the test there:; ```bash; python PyROOT_numbatests.py; ```. Output with ROOT master and numba 0.59, where it's only a warning:; ```txt; PyROOT_numbatests.py::TestClasNumba::test03_inheritance; /home/rembserj/spaces/master/root/src/root/roottest/python/numba/PyROOT_numbatests.py:107: NumbaPendingDeprecationWarning: Code using Numba extension API maybe depending on 'old_style' error-capturing, which is deprecated and will be replaced by 'new_style' in a future release. See details at https://numba.readthedocs.io/en/latest/reference/deprecation.html#deprecation-of-old-style-numba-captured-errors; Exception origin:; File ""/home/rembserj/spaces/master/install/lib/root/cppyy/numba_ext.py"", line 349, in generic_resolve; f = typ._scope.__dict__[attr]; ~~~~~~~~~~~~~~~~~~~^^^^^^. return obj.get_one(). -- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html; ```. Supporting numba 0.60.0 would be nice, because 0.59.0 doesn't support NumPy 2 yet. Thus, our current environment falls back to NumPy 1 and we are lacking NumPy 2 test support.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/16201:656,release,release,656,https://root.cern,https://github.com/root-project/root/issues/16201,2,"['install', 'release']","['install', 'release']"
Deployability,"We currently fail to create a module for RootFit with the following error; message when merging a union in signal.h:; ```; In file included from input_line_12:67:; In file included from /build/jenkins/workspace/root-nightly-runtime-cxxmodules/BUILDTYPE/Debug/COMPILER/gcc62/LABEL/slc6/build/include/RooErrorHandler.h:20:; In file included from /usr/include/signal.h:394:; /usr/include/bits/pthreadtypes.h:130:3: error: typedef redefinition with different types ('union pthread_cond_t' vs 'union pthread_cond_t'); } pthread_cond_t;; ^; /usr/include/sys/types.h:271:11: note: '/usr/include/bits/pthreadtypes.h' included multiple times, additional include site in header from module 'Hist.Foption.h'; ^; /build/jenkins/workspace/root-nightly-runtime-cxxmodules/BUILDTYPE/Debug/COMPILER/gcc62/LABEL/slc6/build/include/module.modulemap:820:10: note: Hist.Foption.h defined here; module ""Foption.h"" { header ""Foption.h"" export * }; ^; /usr/include/signal.h:394:11: note: '/usr/include/bits/pthreadtypes.h' included multiple times, additional include site in header from module 'RooFitCore.RooErrorHandler.h'; ^; /build/jenkins/workspace/root-nightly-runtime-cxxmodules/BUILDTYPE/Debug/COMPILER/gcc62/LABEL/slc6/build/include/module.modulemap:2449:10: note: RooFitCore.RooErrorHandler.h defined here; module ""RooErrorHandler.h"" { header ""RooErrorHandler.h"" export * }; ^; Error: /build/jenkins/workspace/root-nightly-runtime-cxxmodules/BUILDTYPE/Debug/COMPILER/gcc62/LABEL/slc6/build/bin/rootcling: compilation failure (/build/jenkins/workspace/root-nightly-runtime-cxxmodules/BUILDTYPE/Debug/COMPILER/gcc62/LABEL/slc6/build/lib/libRooFitCorecbd7d3c40e_dictUmbrella.h); make[2]: *** [roofit/roofitcore/G__RooFitCore.cxx] Error 1; ```. This patch adds the header to the modulemap which prevents us from; trying to merge this struct.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1020:1733,patch,patch,1733,https://root.cern,https://github.com/root-project/root/pull/1020,1,['patch'],['patch']
Deployability,"We currently have two ODR errors when using modules. One is when; using setjmp, the other is coming from TException. This patch; makes TException non-textual and moves it to the config module; to prevent cyclic dependencies. We also add setjmp to the; modulemap to fix the ODR errors on the setjmp struct.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/876:122,patch,patch,122,https://root.cern,https://github.com/root-project/root/pull/876,1,['patch'],['patch']
Deployability,"We do not need TCling_UnloadMarker infrastructure anymore. It was originally fixing a problem of Belle II, however, now it breaks their code. The reason it was necessary was that `--as-needed` linker option was used which affected the new teardown order of ROOT. This patch removes the TCling_UnloadMarker and resolves ROOT-10659.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5465:268,patch,patch,268,https://root.cern,https://github.com/root-project/root/pull/5465,1,['patch'],['patch']
Deployability,"We do not need to install rdict here, because it is already installed.; Also this FIXME doesn't work as the list of pcms change; depending on which -D option that you give to cmake.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3228:18,install,install,18,https://root.cern,https://github.com/root-project/root/pull/3228,2,['install'],"['install', 'installed']"
Deployability,"We do not want to remember the build directory, see issue #7108. # This Pull request:. ## Changes or fixes:. ## Checklist:. - [ ] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9520:160,update,updated,160,https://root.cern,https://github.com/root-project/root/pull/9520,1,['update'],['updated']
Deployability,"We do not want to remember the build directory, see issue #7108. (cherry picked from commit c2f028feb6da152ff07020b3b4b2a961c1af315e). # This Pull request:. ## Changes or fixes:. ## Checklist:. - [ ] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9533:230,update,updated,230,https://root.cern,https://github.com/root-project/root/pull/9533,1,['update'],['updated']
Deployability,We don't need any input_line declration from rootmap for startup time. However it may cause a failure on tests when they have custom dictionaries.; ; Should give 5MB improvements for modules.; ; Patch by Yuka Takahashi and me!,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3043:195,Patch,Patch,195,https://root.cern,https://github.com/root-project/root/pull/3043,1,['Patch'],['Patch']
Deployability,"We don't need it, and with the upgrade to LLVM 16 the NVPTX target (correctly) errors that there is no (direct) JIT execution support.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13482:31,upgrade,upgrade,31,https://root.cern,https://github.com/root-project/root/pull/13482,1,['upgrade'],['upgrade']
Deployability,"We don't use it in our configuration of civetweb, and it will be removed in upcoming versions of Fedora and RHEL:. https://github.com/dotnet/runtime/issues/104775#issuecomment-2229857943. This change is tested by all CI platforms, because globally we set `http=ON`.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16749:23,configurat,configuration,23,https://root.cern,https://github.com/root-project/root/pull/16749,1,['configurat'],['configuration']
Deployability,"We generate C++ modules, but we currently don't install them where; they belong.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2024:48,install,install,48,https://root.cern,https://github.com/root-project/root/pull/2024,1,['install'],['install']
Deployability,"We have `fail-on-missing=ON` in our builds, and arrow is not installed [everywhere](http://cdash.cern.ch/viewConfigure.php?buildid=487012).",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1832:61,install,installed,61,https://root.cern,https://github.com/root-project/root/pull/1832,1,['install'],['installed']
Deployability,"We have failures in our nightly builds for some MacOS builds, for example [here](https://lcgapp-services.cern.ch/root-jenkins/view/ROOT%20Nightly/job/root-nightly-v6-22-00-patches/LABEL=mac1015,SPEC=noimt,V=6-22/lastCompletedBuild/testReport/) (v6.22, mac10.15). The issue seems to be caused by multiple python versions installed (e.g. system python3 and python3 coming with Xcode 12): it seems that ROOT picks up different versions at different times causing stacktraces that look like this:. ```; Processing /Users/sftnight/build/night/LABEL/mac1015/SPEC/noimt/V/6-22/root/tutorials/tmva/TMVA_CNN_Classification.C...; cling::DynamicLibraryManager::loadLibrary(): dlopen(/Users/sftnight/build/night/LABEL/mac1015/SPEC/noimt/V/6-22/build/lib/libPyMVA.so, 9): Library not loaded: @rpath/Python3.framework/Versions/3.8/Python3; Referenced from: /Users/sftnight/build/night/LABEL/mac1015/SPEC/noimt/V/6-22/build/lib/libPyMVA.so; Reason: image not found; Error in <TCling__LazyFunctionCreatorAutoloadForModule>: Failed to load library /Users/sftnight/build/night/LABEL/mac1015/SPEC/noimt/V/6-22/build/lib/libPyMVA.so; cling::DynamicLibraryManager::loadLibrary(): dlopen(/Users/sftnight/build/night/LABEL/mac1015/SPEC/noimt/V/6-22/build/lib/libPyMVA.so, 9): Library not loaded: @rpath/Python3.framework/Versions/3.8/Python3; Referenced from: /Users/sftnight/build/night/LABEL/mac1015/SPEC/noimt/V/6-22/build/lib/libPyMVA.so; Reason: image not found; Error in <TCling__LazyFunctionCreatorAutoloadForModule>: Failed to load library /Users/sftnight/build/night/LABEL/mac1015/SPEC/noimt/V/6-22/build/lib/libPyMVA.so; IncrementalExecutor::executeFunction: symbol '_ZN4TMVA12PyMethodBase12PyInitializeEv' unresolved while linking [cling interface function]!; You are probably missing the definition of TMVA::PyMethodBase::PyInitialize(); Maybe you need to load the corresponding shared library?; CMake Error at /Users/sftnight/build/night/LABEL/mac1015/SPEC/noimt/V/6-22/build/RootTestDriver.cmake:237 (message):",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6563:172,patch,patches,172,https://root.cern,https://github.com/root-project/root/issues/6563,2,"['install', 'patch']","['installed', 'patches']"
Deployability,"We might be in a situation where we linked the library into an executable and; our trigger function is inside it. There is no point in trying to load rdict; and pcm files as it will fail. In that case we exit early avoiding the; invalid state pointed by an assert. This patch is another try to fix the assert in the incrementals. @Axel-Naumann, I have tested and this patch fixes the assert. However it does not fix the test failure. I checked with a local alternative patch which did not have the early exit but just avoided the LoadPCM section and the test fails in the same way.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3896:270,patch,patch,270,https://root.cern,https://github.com/root-project/root/pull/3896,3,['patch'],['patch']
Deployability,We need the VFS we generated during runtime to prevent merging; issues coming from libc/STL when running rootcling. This patch; adds the relevant flag to the normal compilation args (where; it does nothing as we don't have cxxmodules enabled by default); and then let them propagate to cling.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1014:121,patch,patch,121,https://root.cern,https://github.com/root-project/root/pull/1014,1,['patch'],['patch']
Deployability,"We need to be able to build release binaries. This is likely somehow connected also to the new CI :-) @smuzaffar I'd be interested to hear your thoughts on this... Maybe we can address this (and still enable https://github.com/root-project/root/issues/12270) by the following sequence for the regular CI:. 1. build ROOT; 2. build the (tar.gz|rpm|deb|...) package; 4. delete build and source dir; 5. unpack the tar.gz package; 6. run roottest; 7. if release: make package available on root.cern. Installing a `.pkg` file on macOS, or an install package on Windows will be very intrusive, so maybe there we can only do steps 5 and 6 using a tar.gz / zip, but that's already better than what we have today. The goal should be to ""test what we release"".",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12272:28,release,release,28,https://root.cern,https://github.com/root-project/root/issues/12272,5,"['Install', 'install', 'release']","['Installing', 'install', 'release']"
Deployability,"We need to be able to specify ""`ubuntu22` combined with `-DDLLVM_BUILD_TYPE=Debug -Dsoversion=On`"". Ideally we can trigger such a bit from a PR commit. Also for the matrix specified in `.github/workflows/buildroot.yml`:; ```yaml; strategy:; matrix:; image: [""fedora37"", ""centos8"", ""ubuntu18"", ""ubuntu20"", ""ubuntu22""]; config: [""Release""]; ```; we want to specify the flags. We discussed changing this to a list; for me, `[""ubuntu22"", ""-DDLLVM_BUILD_TYPE=Debug"", ""-Dsoversion=On""]` would work well as a replacement for the current `""ubuntu22""` entry.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12297:328,Release,Release,328,https://root.cern,https://github.com/root-project/root/issues/12297,1,['Release'],['Release']
Deployability,"We need to disable the validation of PCM files because rootcling; serializes what it sees. For instance, we even serialize in the PCM; file some temporary lookup buffers and the contents of the module maps. We disable the PCH validation but that is not sufficient for PCM. The; TCling code `fInterpreter->getCI()->getPreprocessorOpts().DisablePCHValidation = true`; is not enough because we rely more on the clang driver to setup correctly; our modules-aware interpreter. This patch just uses the correct flag when setting up cling. A proper fix to this issue is thoroughly described in RE-0003 (rootcling; refactor proposal).",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1345:477,patch,patch,477,https://root.cern,https://github.com/root-project/root/pull/1345,1,['patch'],['patch']
Deployability,"We need to do additional work to get zlib-cf fully working, reverting temporary before new release branching.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1977:91,release,release,91,https://root.cern,https://github.com/root-project/root/pull/1977,1,['release'],['release']
Deployability,We need to have class.rules during configuration time to avoid silent error during generation of dictionary: Error in <TClass::ReadRules()>: Cannot find rules,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4876:35,configurat,configuration,35,https://root.cern,https://github.com/root-project/root/pull/4876,1,['configurat'],['configuration']
Deployability,We need to respect the existing ExternalASTSource when setting up the; interpreter. Otherwise the ASTReader (which is the existing source); doesn't receive the required callbacks to properly load C++ modules. This patch now creates a multiplexer that contains our new; ASTSource and the existing one if it's necessary. We also; no longer attach the existing sema source which seemingly; was only a workaround that only works for the special case; were the external sema source and the external AST source; are the same object.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1284:214,patch,patch,214,https://root.cern,https://github.com/root-project/root/pull/1284,1,['patch'],['patch']
Deployability,"We needed to save and restore fHeaderParsingOnDemand value when exitting; RegisterModule function, so as not to enter wrong branch here: https://github.com/root-project/root/blob/master/core/metacling/src/TCling.cxx#L5899. Patch by Vassil and me.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2785:223,Patch,Patch,223,https://root.cern,https://github.com/root-project/root/pull/2785,1,['Patch'],['Patch']
Deployability,We often parse the output of commands to get certain system; information. This however fails as soon as the system locale changes; which results in cryptic errors where certain variables have the; wrong content on an otherwise perfectly fine working system. This patch sets LANG=C from CMake to force all subprocesses that; we run to use the stable C locale that should prevent all those; errors in the future.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/780:263,patch,patch,263,https://root.cern,https://github.com/root-project/root/pull/780,1,['patch'],['patch']
Deployability,"We only have release builds for incrementals, i.e. only release builds use artifacts, so there is no point in building debug artifacts.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12593:13,release,release,13,https://root.cern,https://github.com/root-project/root/pull/12593,2,['release'],['release']
Deployability,"We removed the pytest shipped with roottest because the source code was from 2014 and incompatible with py3.9 (see #6597). However, this poses now the issue on MacOs with python2 that we have to install pytest. Without a virtual environment, MacOS does not allow to pip packages. Since roottest fails on configuration level without pytest, roottest is currently broken in this configuration. @axel @oshadura What should we do? Our CI always runs roottest against python3, so we currently don't see the issue in our infrastructure. I see three options:; 1. Ditch testing of python2 on MacOS and rely on the test coverage of other platforms (python2 is anyway dead); 2. Use a venv overlay in Jenkins for the MacOS nodes (haven't tested but it should work and is binary compatible with the system python); 3. We change the hard failure of roottest to a soft failure.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6686:195,install,install,195,https://root.cern,https://github.com/root-project/root/issues/6686,3,"['configurat', 'install']","['configuration', 'install']"
Deployability,We replace it with a combination of a global property and an additional custom target.; The global property is used to collect the dependencies created before the modules.idx target is created.; The custom target is used as a direct dependency of the custom_command (add_dependencies can not be used on the target of a custom_command). Then we can use; this custom target to collect the dependencies created after the modules.idx target. This fixes #10510. To test:. ```; ls -rtl lib/modules.idx lib/libEve.so; rm lib/*Eve*; ninja # or make or cmake --build ; this should update modules.idx; ls -rtl lib/modules.idx lib/libEve.so; ```,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11506:572,update,update,572,https://root.cern,https://github.com/root-project/root/pull/11506,1,['update'],['update']
Deployability,We see several timeouts when running in coverage mode; this might help. We also really do not care about coverage of interpreter/: there are dedicated test suites that are not run as part of testing ROOT. # This Pull request:. ## Changes or fixes:. ## Checklist:. - [ ] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13490:300,update,updated,300,https://root.cern,https://github.com/root-project/root/pull/13490,1,['update'],['updated']
Deployability,"We see the assert ""Specialization is already registered as lazy"" triggered; due to a hash collision of two sets of template arguments: the arguments; are different but the hash happens to be identical. Be more specific when; claiming that the specialization was already registered as lazy, by not; only comparing the hash, but also the template arguments we found under; that hash key (""structurallyEquals"" is good enough here). Fixes macOS builds with assertions enabled:; $ root.exe -l -b tutorials/multicore/mp001_fillHistos.C; where these two specializations have the same hash:. ClassTemplateSpecializationDecl 0x1019a3478 </Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/type_traits:1364:1, col:113> col:50 imported in std.type_traits hidden <undeserialized declarations> struct remove_reference definition; |-DefinitionData pass_in_registers empty aggregate standard_layout trivially_copyable pod trivial literal has_constexpr_non_copy_move_ctor can_const_default_init; | |-DefaultConstructor exists trivial constexpr needs_implicit defaulted_is_constexpr; | |-CopyConstructor simple trivial has_const_param needs_implicit implicit_has_const_param; | |-MoveConstructor exists simple trivial needs_implicit; | |-CopyAssignment trivial has_const_param needs_implicit implicit_has_const_param; | |-MoveAssignment exists simple trivial needs_implicit; | `-Destructor simple irrelevant trivial needs_implicit; `-TemplateArgument type '(lambda at /Users/axel/build/root/master/deb/include/nlohmann/json.hpp:17411:24)'. while looking for the argument. RecordType 0x1038b8be0 'class (lambda at /Users/axel/build/root/master/deb/tutorials/multicore/mp001_fillHistos.C:23:20)'. # This Pull request:. ## Changes or fixes:. ## Checklist:. - [ ] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9248:1827,update,updated,1827,https://root.cern,https://github.com/root-project/root/pull/9248,1,['update'],['updated']
Deployability,"We should enable rootcling warnings and just fix the issues; they point out. This patch enables those warnings and; fixes the warnings that have accumulated over the past years. The specific actions to fix each warnings were:. * We remove TSchemaWarning as this class was removed in commit; 3803a99. * We remove TMPInterruptHandler as this class was removed in commit; 780e16a. * We rename the ROOT::TPoolManager selection rule to the correct; ROOT::Internal::TPoolManager. * We added the VarTransformHandler.h to the headers passed to rootcling; in TMVA. * We remove the selection rule for TMVA::DataSetFactory::EventStats; because the class is private/protected. * Fixed missing ""_t"" in the TrackMathCoreLinkDef.h.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/759:82,patch,patch,82,https://root.cern,https://github.com/root-project/root/pull/759,1,['patch'],['patch']
Deployability,"We should follow the shutdown procedure from FrontendAction::EndSourceFile which ensures clang is properly torn down. This patch allows us to write a module file without having to explicitly call CompilerInstance::clearOutputFiles. This is part of a patch intending to lay down some infrastructure to fix the conditional build of the clang-internal module _Builtin_intrinsics.pcm in the context of cmssw. I've found an easier way to do so, however, this is of generic importance for ROOT.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4675:123,patch,patch,123,https://root.cern,https://github.com/root-project/root/pull/4675,2,['patch'],['patch']
Deployability,We should not descend into sub-declarations when the top-level declaration was not processed by rootcling. This patch should fix a recent regression in cmssw where we ask for a dictionary for tbb::detail::d1::concurrent_unordered_base<...>. cc: @davidlange6,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9295:112,patch,patch,112,https://root.cern,https://github.com/root-project/root/pull/9295,1,['patch'],['patch']
Deployability,"We should put the Python version check at the right place. Right now, the configuration logs tell you that ROOT requires Python; 3.0, because there is no minimum version yet, which can be misleading. Also, remove some redundant comments about the minimum C++ standard for `root7` and `webgui`. This PR should maybe be backported in one of the bulk backports, so the divergence between 6.32 and `master` doesn't increase too much.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15168:74,configurat,configuration,74,https://root.cern,https://github.com/root-project/root/pull/15168,1,['configurat'],['configuration']
Deployability,We use a dummy map during configuration to pass the CMake compiler steps; with the enabled modulemap overlay. We later configure this overlay file; correctly to actually use the STL modulemap.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/335:26,configurat,configuration,26,https://root.cern,https://github.com/root-project/root/pull/335,1,['configurat'],['configuration']
Deployability,"We use the target clingInterpreter in a few places as a general dependency rule making sure the cling infrastructure is already built. In some cases, such as clad, the highly parallel builds trigger build of clad before clangSema, clangBasic and clangAST are built. This patch ensures the right dependencies are in order.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2858:271,patch,patch,271,https://root.cern,https://github.com/root-project/root/pull/2858,1,['patch'],['patch']
Deployability,We wanted FATAL_ERROR for our Jenkins. That has been running for many; months now; switch to WARNING for the release as this still allows; users to get a proper ROOT build.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7734:109,release,release,109,https://root.cern,https://github.com/root-project/root/pull/7734,1,['release'],['release']
Deployability,We wanted FATAL_ERROR for our Jenkins. That has been running for many; months now; switch to WARNING for the release as this still allows; users to get a proper ROOT build. (cherry picked from commit 193c3160c0442e099d80e9ec43306efe299f2edc),MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7743:109,release,release,109,https://root.cern,https://github.com/root-project/root/pull/7743,1,['release'],['release']
Deployability,"We were trying to collect the owning modules of every deserialized; decl. Later, we loaded the corresponding library. This is too; much because for some entities (such as forward declarations) we; load the shared object file in vain because no CodeGen is; required.; ; This patch relies on the ASTReader to decide if a decl needs to; be CodeGenned or not. If it requires an action from CodeGen the; ASTReader passes it through the HandleInterestingDecl interface.; ; This patch brings back to normal the amount of loaded libraries.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2006:274,patch,patch,274,https://root.cern,https://github.com/root-project/root/pull/2006,2,['patch'],['patch']
Deployability,"Web-based geometry viewer now extracted into separate library. Rename classes: `REveGeomViewer` -> `RGeomViewer`. By this also simplify handling of so-called ""server-side shapes"" - less data can be transferred, no extra workaround for normals calculations. Ease usage of geometry viewer in `RBrowser`. Update JSROOT",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11554:302,Update,Update,302,https://root.cern,https://github.com/root-project/root/pull/11554,1,['Update'],['Update']
Deployability,Web-releated release notes for 6.16 branch,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3084:13,release,release,13,https://root.cern,https://github.com/root-project/root/pull/3084,1,['release'],['release']
Deployability,WebGui - do not produce error output when chrome not installed,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4880:53,install,installed,53,https://root.cern,https://github.com/root-project/root/pull/4880,1,['install'],['installed']
Deployability,WebWindow: cummulative patch with many fixes and updates,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2603:23,patch,patch,23,https://root.cern,https://github.com/root-project/root/pull/2603,2,"['patch', 'update']","['patch', 'updates']"
Deployability,Webgui update,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9094:7,update,update,7,https://root.cern,https://github.com/root-project/root/pull/9094,1,['update'],['update']
Deployability,"Well-known branch names, e.g. `master` or `v6-28-00-patches` always use the equivalent upstream roottest branch. However, we should be careful not to match a substring. Concretely, before this patch, `master-14449` was incorrectly taken as a well-known branch causing the error below.; ```; Cloning into 'roottest'...; fatal: Remote branch master-13449 not found in upstream origin; CMake Error at CMakeLists.txt:780 (message): Expected roottest at 'C:/ROOT-CI/src/roottest' (not a directory?); ```. ## Checklist:; - [x] tested changes locally",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13504:52,patch,patches,52,https://root.cern,https://github.com/root-project/root/pull/13504,2,['patch'],"['patch', 'patches']"
Deployability,"When CUDA is installed on macOS, `clang -v` prints also the version of CUDA that is found, which breaks version detection. As a workaround, `clang --version` prints the same information, but without printing the CUDA version. Fixes: [ROOT-9678](https://sft.its.cern.ch/jira/browse/ROOT-9678).",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3926:13,install,installed,13,https://root.cern,https://github.com/root-project/root/pull/3926,1,['install'],['installed']
Deployability,"When ROOT macros running, they typically create canvas ""c1"".; If run macro again and again - new canvas will be created but old will be deleted.; This was not handled before in RBrowser.; Now widget is closed if correspondent RWebWindow is destroyed. Also change logic how TCanvas widget handle canvas pointer.; While ROOT manage canvas itself one cannot use `std::unique_ptr<TCanvas>` to hold pointer.; Instead canvas always searched by name and if gone - widget automatically closed. Update slightly client part",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16444:486,Update,Update,486,https://root.cern,https://github.com/root-project/root/pull/16444,1,['Update'],['Update']
Deployability,"When RooWorkspaces that contain a RooStats::ModelConfig are cloned, the ModelConfig did not get updated. With current RooFit, this is impossible because of a circular dependency. The ModelConfig would therefore still point to the original workspace. By introducing an abstract interface, the circular dependency is broken such that this updating works now. **Question for reviewers**; Currently, the abstract interface does not have Type/Streamer info such that root complains:; `Warning in <TStreamerInfo::Build>: RooStats::ModelConfig: base class RooWorkspaceHandle has no streamer or dictionary it will not be saved`; How can this be silenced? Since the interface is abstract, no I/O is needed, maybe not even type info.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3222:96,update,updated,96,https://root.cern,https://github.com/root-project/root/pull/3222,1,['update'],['updated']
Deployability,"When TMVA is reading an input tree it is possible for the user to have forgotten; to remove pointers to out-of-scope variables. This patch prevents TMVA from; messing up the stack in that case. The user should *always* call ResetBranchAddresses on their trees; when they are done with them, but in case they forgot this can save; some debugging time at no cost.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/872:133,patch,patch,133,https://root.cern,https://github.com/root-project/root/pull/872,1,['patch'],['patch']
Deployability,"When `TButton` clicked in web canvas, button method executed on the server side. Adjust `TButton::SavePrimitive` and `TSlider::SavePrimitive` to correctly handle escape characters. Update JSROOT for future 6.28 release. Fix plugin file name for web geometry viewer",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11893:181,Update,Update,181,https://root.cern,https://github.com/root-project/root/pull/11893,2,"['Update', 'release']","['Update', 'release']"
Deployability,"When `builtin_vdt=ON`, vdt headers are in `${CMAKE_BINARY_DIR}/include` and `libvdt.so` is in `${CMAKE_BINARY_DIR}/lib`, so we don't need to add the extra include directory and can link using just the library name. Once ROOT is installed, the Vdt headers and library will be along with ROOT ones, so they can also be found without needing anything else. Fixes: [ROOT-10197](https://sft.its.cern.ch/jira/browse/ROOT-10197).",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3986:228,install,installed,228,https://root.cern,https://github.com/root-project/root/pull/3986,1,['install'],['installed']
Deployability,"When a RooDataSet is constructed without a weight variable, weights are ignored when events; are added to the dataset. Now, there will be a clear warning notifying the user that an event; weight is being ignored.; The documentation has also been updated. See also:; https://root-forum.cern.ch/t/fit-to-a-weighted-unbinned-data-set/33495",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3657:246,update,updated,246,https://root.cern,https://github.com/root-project/root/pull/3657,1,['update'],['updated']
Deployability,"When a continuous PDF is fit to binned data, bins need to be sampled more fine grained to avoid biases. This fixes; ROOT-3874; ROOT-3635. Note that the first commits before `AddRooBinSamplingPdf` are in #6693, so no need to review those.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6694:7,continuous,continuous,7,https://root.cern,https://github.com/root-project/root/pull/6694,1,['continuous'],['continuous']
Deployability,When a library is re-loaded (via .L) we should reload the corresponding rdict file. However current ROOT (without modules) just re-reads the rdict file. This patch brings this behavior for modules and is intended to be a quick fix for the os nightly failures of kind:. Error in TCling::LoadPCM: ROOT PCM /.../libTree_rdict.pcm file does not exist; Info in TCling::LoadPCM: In-memory ROOT PCM candidate /.../libASImageGui_rdict.pcm; Info in TCling::LoadPCM: In-memory ROOT PCM candidate /.../libASImage_rdict.pcmError in TCling::LoadPCM: ROOT PCM /.../libTree_rdict.pcm file does not exist; Info in TCling::LoadPCM: In-memory ROOT PCM candidate /.../libASImageGui_rdict.pcm; Info in TCling::LoadPCM: In-memory ROOT PCM candidate /.../libASImage_rdict.pcm. The continuation of this work is in root-project/root#5420,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5422:158,patch,patch,158,https://root.cern,https://github.com/root-project/root/pull/5422,1,['patch'],['patch']
Deployability,"When building ROOT in optimized mode, we enable fast math which then; disables errno on math functions. But this only happens in TCling,; so all modules built by rootcling_stage1 are suddenly out of sync; and we get errors like this:; ```; error: errno in math functions was enabled in PCH file but is currently disabled; ```. This patch just applies the same setting in _stage1. In theory we; should make a central place where we have these extra flags, but; that's out of scope for now.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1229:332,patch,patch,332,https://root.cern,https://github.com/root-project/root/pull/1229,1,['patch'],['patch']
Deployability,"When building root from source, I encountered an error that the SHA-256 hash in root_build/builtins/xrootd/XROOTD-prefix/src/XROOTD-stamp/download-XROOTD.cmake does not match the hash of the latest (5.4.2) version of the downloaded file. Most likely the hardcoded hash in this file needs to be updated.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10578:294,update,updated,294,https://root.cern,https://github.com/root-project/root/issues/10578,1,['update'],['updated']
Deployability,"When building the foundation of frameworks often the dictionary modules require third party modules such as clhep, boost and tinyxml. Those modules do not require I/O information and it is permissible to be built as a part of another dictionary module build. This patch relaxes the eager check for implicit module builds by adding a flag -mByproduct which turns of the diagnostic disallowing implicit module builds. cc @oshadura, @davidlange6, @smuzaffar",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5613:264,patch,patch,264,https://root.cern,https://github.com/root-project/root/pull/5613,1,['patch'],['patch']
Deployability,"When building with CMSSW, root was being in an infinite loop when; parsing this forward declaration at TCling::RegisterModule:; `namespace reco{namespace btau{enum __attribute__((annotate(\""$clingAutoload$DataFormats/BTauReco/interface/TaggingVariable.h\""))) TaggingVariableName : unsigned int;}}`. This patch fixes the bug which nsPos was always the size of namespace; name (4, in this case)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3186:304,patch,patch,304,https://root.cern,https://github.com/root-project/root/pull/3186,1,['patch'],['patch']
Deployability,"When calling TOracleStatement::GetBinary() function, memory was; allocated with `malloc(len)` operator, but released with `delete [] buf`; Definitely wrong. Nobody was using it before - or clib was doing; something wrong. Adjust Oracle/MySQL/SQLite/ODBC/PgSQL classes to c++11.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4927:108,release,released,108,https://root.cern,https://github.com/root-project/root/pull/4927,1,['release'],['released']
Deployability,"When calling rootcling we expect a set of header files and a selection file. In some cases it is more convenient to include all of them in a single header and give it to rootcling. In cases where the header files are so many and exceed the maximum characters allowed by the console the umbrella header is the only way to work it around. In cases where the umbrella header is temporary (such as in cmssw) we cannot add it as a part of the module, however, we have added its direct includes in the module definition. Then rootcling should not complain if the umbrella header file is not part of the module definition. This patch should fix the issues in cmssw when building a dictionary for DataFormats/StdDictionaries.; cc: @smuzaffar, @oshadura, @davidlange6",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4537:621,patch,patch,621,https://root.cern,https://github.com/root-project/root/pull/4537,1,['patch'],['patch']
Deployability,"When cling is embedded and the plugins are linked statically we can rely; on the initialization of the Preprocessor to register the pragmas. Currently, due to the current implementation deficiency we cannot rely; on the same mechanism when loading the plugins as shared objects. This patch fixes the failing cling test.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2992:284,patch,patch,284,https://root.cern,https://github.com/root-project/root/pull/2992,1,['patch'],['patch']
Deployability,"When composing the expressions to jit autoparsing is redundant as we; know what and when to synthesize. This patch has two effects, first it limits the recursive behavior of; autoparse and autoload (useful for modules); and secondly avoids deep call; chains of virtual function calls. EDIT: Rationale -- I was working on a new, cxxmodules-based implementation of TCling::GetClassSharedLibs which does not rely on rootmap files. I had to debug a few failures in RDF and I noticed the recursive calls to autoparse and autoload always without success. I thought it might be a simplification (and performance optimization) if we disabled that part.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3765:109,patch,patch,109,https://root.cern,https://github.com/root-project/root/pull/3765,1,['patch'],['patch']
Deployability,"When created JSON should be used outside ROOT application and without running THttpServer,; it is better to use batch mode for generation of JSON files. Places are:. 1. jupyter; 2. doxygen; 3. c1->SaveAs(""file.json""). Produced JSON is more robust and can be processed as is - how it is performed by the batch image production.; Main difference - extra JS modules directly embed into JSON. And `TF1` always store its values. Also configure `source_dir` of JSROOT when producing images. This let use local mathjax. Update JSROOT with Android/TGeo fix.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16783:513,Update,Update,513,https://root.cern,https://github.com/root-project/root/pull/16783,1,['Update'],['Update']
Deployability,"When creating an object in a RooWorkspace and making a deepcopy (via `cloneTree`), one would expect that this can be imported into another RooWorkspace. However, that only works if the original workspace is still in-memory and has not been deleted yet, which seems to be a bug (given that `cloneTree` is supposed to give a copy completely independent of the original workspace).; The issue is that the exensiveObjectCache-pointer in the clone still points to the old workspace. This can be alleviated by simply resetting the expensiveObjectCache pointer in the RooAbsArg copy constructor. I have attached a patch that fixes the problem for me.; [eocache-segfault.txt](https://github.com/root-project/root/files/5312235/eocache-segfault.txt)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6529:607,patch,patch,607,https://root.cern,https://github.com/root-project/root/issues/6529,1,['patch'],['patch']
Deployability,"When drawing different projections via View -> Browse to menu; command, one have to cleanup previousely shown views.; Implement for plain three.js and JSROOT-based views,; to be implemented for `RCore` renderer.; Update JSROOT with correspondent fixes",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7321:213,Update,Update,213,https://root.cern,https://github.com/root-project/root/pull/7321,1,['Update'],['Update']
Deployability,"When filling histograms without limits in parallel a problem to be addressed is how to make sure that the ranges are compatible for the final merging.; This PR proposes a technique based on a static reference list of TAxis, kept as a static in TH1, filled/used by the different threads. The first thread calculates the TAxis ranges and saves it into the list, the others use it. The list is protected by a RW lock .; The logic is implemented in TH1::BufferEmpty and holds for TH{1,2,3}, the specificity of each TH{1,2,3} being moved to a set of new member functions called by TH1::BufferEmpty. The change in TH1Merger is required to calculate the axis and dump the internal buffers when the internal buffersize has not yet been reached. This treatment can perhaps be improved to get the same result of the single thread case. The patch also implements the hook for a call back function to implement the same functionality in the case of multi-processing. A patch with adaptation to multiproc will follow. The tutorial mt301_fillHistAutoBin.C illustrates the usage with TThreadedObject . NB: many of the changes in TH1.h come from clang-format-{3.8, 3.9, 4.0}",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/902:830,patch,patch,830,https://root.cern,https://github.com/root-project/root/pull/902,2,['patch'],['patch']
Deployability,"When gPad->Modified() called without real change in the content, produced TWebCnavas JSON will be equivalent with previous one. Therefore one can assume that newer version already was send to the client and do not need to be updated again",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13116:225,update,updated,225,https://root.cern,https://github.com/root-project/root/pull/13116,2,['update'],['updated']
Deployability,"When installing ROOT 6.24 with a package manager, CMake will try to modify `/usr` directly even when the installation is supposed to happen to a staging area beforehand. We need to change the link creation to respect DESTDIR such that installations like `env DESTDIR=${PWD}/test-install cmake --build . --target install` doesn't try to modify any system directories.; Here is a sandbox violation report from Portage:; ```; * --------------------------- ACCESS VIOLATION SUMMARY ---------------------------; * LOG FILE: ""/var/tmp/portage/sci-physics/root-6.24.00/temp/sandbox.log""; * ; VERSION 1.0; FORMAT: F - Function called; FORMAT: S - Access Status; FORMAT: P - Path as passed to function; FORMAT: A - Absolute Path (not canonical); FORMAT: R - Canonical Path; FORMAT: C - Command Line. F: symlink; S: deny; P: /usr/lib/python3.8/site-packages/libcppyy_backend3_8.so; A: /usr/lib/python3.8/site-packages/libcppyy_backend3_8.so; R: /usr/lib/python3.8/site-packages/libcppyy_backend3_8.so; C: /usr/bin/cmake -E create_symlink /usr/lib64/root-6.24/libcppyy_backend3_8.so /usr/lib/python3.8/site-packages/libcppyy_backend3_8.so . F: symlink; S: deny; P: /usr/lib/python3.8/site-packages/libcppyy3_8.so; A: /usr/lib/python3.8/site-packages/libcppyy3_8.so; R: /usr/lib/python3.8/site-packages/libcppyy3_8.so; C: /usr/bin/cmake -E create_symlink /usr/lib64/root-6.24/libcppyy3_8.so /usr/lib/python3.8/site-packages/libcppyy3_8.so ; * --------------------------------------------------------------------------------; ```",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7964:5,install,installing,5,https://root.cern,https://github.com/root-project/root/issues/7964,5,['install'],"['install', 'installation', 'installations', 'installing']"
Deployability,"When integrating a region next to a narrow Crystal Ball shape, the integral; can evaluate to zero. Since RooFit cannot deal with zero integrals,; the CBShape will now return the smallest possible double. See also https://root-forum.cern.ch/t/fit-a-double-crystal-ball-with-roofitranges/34599",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4000:5,integrat,integrating,5,https://root.cern,https://github.com/root-project/root/pull/4000,1,['integrat'],['integrating']
Deployability,"When integrating the discretely-sampled RooCurves, the algorithm; implemented in RooCurve::average() was unnecessarily complicated. The existing midpoints were only considered for the trapezoidal rule if; they are away from the interval limits with an arbitrary tolerance,; which seems like a premature optimization to me. In particular, the logic was not correct if all midpoints were close to; the limits without this tolerance, resulting in issue https://github.com/root-project/root/issues/9838. Instead of making that case work correctly by implementing more code; branches, this commit suggests to simply don't do this tolerace check; and use all available midpoints for the trapezoidal integration rule. A unit test with the reproducer from https://github.com/root-project/root/issues/9838 is also implemented. Closes https://github.com/root-project/root/issues/9838. There are two additional commits in this PR with general code improvements.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16099:5,integrat,integrating,5,https://root.cern,https://github.com/root-project/root/pull/16099,2,['integrat'],"['integrating', 'integration']"
Deployability,"When one updates a file using `Snapshot`, one ends up with multiple cycles:; ```python; In [10]: f.hi.ls(); TDirectoryFile*		hi	hi; KEY: TTree	there;2	there; KEY: TTree	there;1	there; ```; This adds the `fOverwrite` option to the `RSnapshotOptions` class to overwrite an existing `TTree`. First mentioned in the forum [here](https://root-forum.cern.ch/t/no-way-to-overwrite-using-snapshot/37936).",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4965:9,update,updates,9,https://root.cern,https://github.com/root-project/root/pull/4965,1,['update'],['updates']
Deployability,"When performing multi-thread reads of ROOT files, we need to pick the number; of TBB tasks among which we will divide the dataset. Our heuristic is ""try to produce around `T = N/ntrees` tasks per tree per; worker thread"": we don't know the number of clusters in each tree before; we open the files, so we don't know the total number of clusters upfront.; Instead we set a ""desired value"" of T tasks per tree and per thread, and; then when each thread opens a file it tries to make T tasks out of it (if; the file turns out to be too small, it might end up producing _less_ tasks than; desired. If we are processing `M > N` small files, we might end up producing; _more_ tasks per worker than N). N is a free parameter, and it represents the desired total number of; tasks per worker. If N is too low, parallelism will be too coarse-grained; and we might get imbalance/tails with bad parallelization.; The higher N is, the more CPU time we spend in task setup/teardown. Empirically, I believe we have set N too high (before this patch we set; it to 24). We often see runtime improvements in benchmarks by setting it; to a lower value, e.g. 10.; Again from experience, N == 10 should be a high-enough value to avoid; load imbalance between threads while it significantly reduces the amount; of tasks spawned (and the overhead that comes with it).; Therefore this patch sets N to 10. More discussion:; - https://mattermost.web.cern.ch/root/pl/8ay6my4pwbru7kzqs97f8xcdre; - https://docs.oneapi.com/versions/latest/onetbb/tbb_userguide/Task-Based_Programming.html",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/8565:1028,patch,patch,1028,https://root.cern,https://github.com/root-project/root/pull/8565,2,['patch'],['patch']
Deployability,"When previous node of a RRange or RFilter node was a RJittedFilter,; we were wrongly downcasting _varied_ filters to the RJittedFilter type,; but varied filters are _not_ jitted filters, they are copies of the; actual concrete filter. With this patch, if the type of the previous node is RJittedFilter,; we treat it everywhere as the generic base class RFilterBase, which; fixes the problem and it is consistent with what we already do in; RVariedAction. The PR comes with the corresponding regression test.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10544:245,patch,patch,245,https://root.cern,https://github.com/root-project/root/pull/10544,1,['patch'],['patch']
Deployability,"When producing single image for the canvas - do not add ""%d"" qualifier,; which is required for multiple files. Update JSROOT with minor fixes in interactive functions",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13626:111,Update,Update,111,https://root.cern,https://github.com/root-project/root/pull/13626,1,['Update'],['Update']
Deployability,"When reading an evaluated EST, make sure we provide *that* to the; update object, instead of leaving the EST to be used for the; update uninitialized. Remove the now unused (and due to two FuncDecls fairly ambiguous); ctor from a FuncDecl. Instead, set ShouldUpdateESI explicitly in; the only case where it matters. This fixes 30ecf72, and as that; points out, should become irrelevant once; llvm-mirror/clang@5d50602; is merged into ROOT.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6161:67,update,update,67,https://root.cern,https://github.com/root-project/root/pull/6161,2,['update'],['update']
Deployability,When reading rdict files from the module we use the module name to form an; entry in a pending rdict map. It is later used when a library is loaded to; locate the corresponding rdict file. This patch resolves a potential symlinks and allows ROOT to find its rdict; files. It fixes the cmssw C++ modules setup.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4175:194,patch,patch,194,https://root.cern,https://github.com/root-project/root/pull/4175,1,['patch'],['patch']
Deployability,"When running ""make package"", it was observed that copying the; Python source files to runtimedir was incorrect, and the generation; of the bytecodes was failing later too as a consequence. This change ensures that the Python sources are installed; correctly.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5663:237,install,installed,237,https://root.cern,https://github.com/root-project/root/pull/5663,1,['install'],['installed']
Deployability,"When running ccmake in a root build directory, I noticed that some variable descriptions are empty (usually one sees a one-line description stemming from cmake/modules/RootBuildOptions.cmake). This happens when their value is forced in cmake/modules/SearchInstalledSoftware.cmake. This also affects the comments in builddir/CMakeCache.txt. I claim that when forcing these variables' values, the comment is even more important than when they remain at their defaults or user-set values. In the below patch, I basically ran an editor macro retaining the values of `${opt}_description` (as set by `ROOT_BUILD_OPTION`) and adds a very brief explanation of why the value got changed (usually by inspecting the immediate control flow and/or echoing the status message that is print out anyway). The comments are sometimes sub-optimal (when values are forced to the value that the user has set themselves anyway), but … I guess it's still nice to point out ""you had no choice here"". Unrelated to the main part:. `tmva-cuda` is force set, but nowhere else used, I suspect this should've been `tmva-gpu`. In one place I replaced; ```; if (something); else(); code; ```; by; ```; if (NOT something); code; ```",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2056:499,patch,patch,499,https://root.cern,https://github.com/root-project/root/pull/2056,1,['patch'],['patch']
Deployability,"When running rootcling to produce C++ modules we currently run; into this issue that is an issue in this specific LLVM revision; we are using in ROOT. The issue was fixed by Richard upstream; in r303373. The error we fix with this patch is:; ```; While building module 'Core':; While building module 'stl' imported from input_line_1:1:; In file included from <module-includes>:5:; In file included from /cvmfs/sft.cern.ch/lcg/contrib/gcc/6.2.0native/x86_64-slc6/bin/../lib/gcc/x86_64-pc-linux-gnu/6.2.0/../../../../include/c++/6.2.0/ccomplex:39:; In file included from /cvmfs/sft.cern.ch/lcg/contrib/gcc/6.2.0native/x86_64-slc6/bin/../lib/gcc/x86_64-pc-linux-gnu/6.2.0/../../../../include/c++/6.2.0/complex:42:; /cvmfs/sft.cern.ch/lcg/contrib/gcc/6.2.0native/x86_64-slc6/bin/../lib/gcc/x86_64-pc-linux-gnu/6.2.0/../../../../include/c++/6.2.0/bits/cpp_type_traits.h:102:23: error: use of undeclared identifier '_Tp'; struct __are_same<_Tp, _Tp>; ^; /cvmfs/sft.cern.ch/lcg/contrib/gcc/6.2.0native/x86_64-slc6/bin/../lib/gcc/x86_64-pc-linux-gnu/6.2.0/../../../../include/c++/6.2.0/bits/cpp_type_traits.h:318:25: error: use of undeclared identifier '_Tp'; struct __is_pointer<_Tp*>; ^; /cvmfs/sft.cern.ch/lcg/contrib/gcc/6.2.0native/x86_64-slc6/bin/../lib/gcc/x86_64-pc-linux-gnu/6.2.0/../../../../include/c++/6.2.0/bits/cpp_type_traits.h:318:29: error: expected expression; struct __is_pointer<_Tp*>; ^; /cvmfs/sft.cern.ch/lcg/contrib/gcc/6.2.0native/x86_64-slc6/bin/../lib/gcc/x86_64-pc-linux-gnu/6.2.0/../../../../include/c++/6.2.0/bits/cpp_type_traits.h:329:37: error: declaration of '_Tp' must be imported from module 'stl.ccomplex' before it is required; : public __traitor<__is_integer<_Tp>, __is_floating<_Tp> >; ^; /cvmfs/sft.cern.ch/lcg/contrib/gcc/6.2.0native/x86_64-slc6/bin/../lib/gcc/x86_64-pc-linux-gnu/6.2.0/../../../../include/c++/6.2.0/bits/cpp_type_traits.h:327:21: note: previous declaration is here; template<typename _Tp>; ^; ```. Original patch description:. When we enter a module ",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1016:231,patch,patch,231,https://root.cern,https://github.com/root-project/root/pull/1016,1,['patch'],['patch']
Deployability,"When running:. ```c++; #include <boost/program_options.hpp>; ```. I get the following [crash](https://github.com/root-project/root/files/11401279/crash.txt). This is on a macOS 13.3.1 M1 machine, using XCode 14.3 and the tip of the v6-28-00-patches branch, without any modifications on my side.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12762:241,patch,patches,241,https://root.cern,https://github.com/root-project/root/issues/12762,1,['patch'],['patches']
Deployability,"When starting root.exe on Windows with a version of Visual Studio different than the one used to build ROOT, it mighty crash with the following error:; Assertion failed: !isNull() && ""Cannot retrieve a NULL type pointer"", file C:\build\ws\BUILDTYPE\Debug\LABEL\windows10\V\6-20\root\interpreter\llvm\src\tools\clang\include\clang/AST/Type.h, line 630; This patch fixes the issue.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5620:357,patch,patch,357,https://root.cern,https://github.com/root-project/root/pull/5620,2,['patch'],['patch']
Deployability,When testing #6385 I've had issues with the linking order of the LLVM libs due to CMake not knowing about their dependencies. I don't have a log or reproducer to hand but this patch was enough to fix it:. https://github.com/chrisburr/root-feedstock/blob/4dff10152d66bd0e873b60150e72cf0f9bfa8c19/recipe/patches/0001-Use-find_package-for-llvm-clang.patch. The `get_directory_property` call was also an issue. That patch contains the values copied from a build with `builtin_llvm=ON`.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7176:176,patch,patch,176,https://root.cern,https://github.com/root-project/root/issues/7176,4,['patch'],"['patch', 'patches']"
Deployability,"When the mempool for RooArgSet was modernised to prevent crashes during the teardown of; global statics, the macro name for RooSetProxy didn't get updated. Therefore, new-ed; RooSetProxys will also end up in the mempool, which was not intended.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3742:147,update,updated,147,https://root.cern,https://github.com/root-project/root/pull/3742,1,['update'],['updated']
Deployability,"When the normalization range for coefficient determination of a; RooAddPdf is changed, the AddPdf's projection cache needs to be reset,; just like it is already done in `RooAddPdf::fixCoefNormalization`.; Otherwise, there will be problems in the pdf evaluation and integration; because the projection cache is invalid. A unit test based on the GitHub issue that reported this problem is also; implemented. Closes https://github.com/root-project/root/issues/10988. Furthermore, another potential RooAddPdf problem is fixed, where several instances of RooRecursiveFraction were created with the same name (which could become problematic for example when using the new BatchMode).",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10995:265,integrat,integration,265,https://root.cern,https://github.com/root-project/root/pull/10995,1,['integrat'],['integration']
Deployability,"When the output TFile of a Snapshot is opened in UPDATE mode, and; the output TTree has the same name as a TTree already in the TFile,; the expected behavior is that Snapshot writes adds a new namecycle; to the file. However, Snapshot+IMT is based on TBufferMerger, and TBufferMerger's; behavior in this scenario is to try to merge the new data with the; data already in the TFile (in the same namecycle). In order to make Snapshot+IMT behave the same as a non-IMT Snapshot,; we now always write an empty TTree (with the correct branches) to; the TFile before we start an IMT fill. This first write creates the; new namecycle (initially with no data) with which TBufferMerger will; merge its buffers. This fixes ROOT-10573.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5139:49,UPDATE,UPDATE,49,https://root.cern,https://github.com/root-project/root/pull/5139,1,['UPDATE'],['UPDATE']
Deployability,"When the output TFile of a Snapshot is opened in UPDATE mode, and; the output TTree has the same name as a TTree already in the TFile,; the expected behavior is that Snapshot writes adds a new namecycle; to the file.; However, Snapshot+IMT is based on TBufferMerger, and TBufferMerger's; behavior in this scenario is to try to merge the new data with the; data already in the TFile (in the same namecycle). In order to make Snapshot+IMT behave the same as a non-IMT Snapshot,; we now always write an empty TTree (with the correct branches) to; the TFile before we start an IMT fill. This first write creates the; new namecycle (initially with no data) with which TBufferMerger will; merge its buffers. This fixes ROOT-10573. This is a backport of #5139 to v6.20.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5140:49,UPDATE,UPDATE,49,https://root.cern,https://github.com/root-project/root/pull/5140,1,['UPDATE'],['UPDATE']
Deployability,"When the user passes a gradient to the `ROOT::Math::Minimizer` via inheriting from the `ROOT::Math::IMultiGradFunction`, the error level is only considered correctly if `SetFunction()` is **called after** `SetErrorDef()`, which is completely unexpected. This should either be fixed, or if not possible, the minimizer should error out if you try to set the function too early. This bug is the reason why it took me so long to figure out to use the analytical gradient provided by `clad` in the minimizer for RooFit: I just couldn't understand why the uncertainties were wrong and until now thought it was because the gradient was wrong or not handled correctly by the minimizer. But in the end, it was all just this simple configuration problem. This code reproduces the issue with the example of finding the minimum of a simple parabola:; ```C++; double eval(double x) { return x * x; }. double evalDerivative(double x) {return 2 * x; }. class MyFunc : public ROOT::Math::IMultiGenFunction {; public:; ROOT::Math::IMultiGenFunction *Clone() const override { return new MyFunc; }; unsigned int NDim() const override { return 1; }. private:; double DoEval(const double *x) const override { return eval(x[0]); }; };. class MyGradFunc : public ROOT::Math::IMultiGradFunction {; public:; ROOT::Math::IMultiGenFunction *Clone() const override { return new MyFunc; }; unsigned int NDim() const override { return 1; }; private:; double DoEval(const double *x) const override { return eval(x[0]); }; double DoDerivative(const double *x, unsigned int /*icoord*/) const override { return evalDerivative(x[0]); }; };. template<class Func>; void minimize(Func const& func); {; std::unique_ptr<ROOT::Math::Minimizer> m{ROOT::Math::Factory::CreateMinimizer(""Minuit2"")};; m->SetPrintLevel(1);. // Set initial value, step size, and range; m->SetLimitedVariable(0, ""x"", 10, 1, -50, 50);. // The error level will be ignored in the IMultiGradFunction case without; // any warning to the user! Swapping the next two lines ",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12338:722,configurat,configuration,722,https://root.cern,https://github.com/root-project/root/issues/12338,1,['configurat'],['configuration']
Deployability,"When two histograms created with different upper edges of the last bin are drawn in the same pad with a Log y-axis. The edge of the last bin should be drawn as the minimum y value of the pad, instead, it is always set to 1. This artifact is most noticeable when the histogram values are less than 1. This occurred only when the histogram was drawn as a line, it was correct with a filled area. This patch uses the same algorithm for line drawing as fill area drawing. The problem was seen here: https://github.com/root-project/root/issues/12394. The following macro can be used as a reproducer:; ```; {; gStyle->SetOptStat(0);; gStyle->SetOptTitle(0);. auto C = new TCanvas();; C->Divide(2,1);. auto h15 = new TH1F(""h15"",""h15"", 3, 10, 15);; auto h25 = new TH1F(""h25"",""h25"", 5, 0, 25);. h15->Fill(11,.5);; h15->Fill(12,1.);; h15->Fill(14,.5);; h15->SetLineWidth(3);. h25->Fill(1,1);; h25->Fill(6,2);; h25->Fill(11,3);; h25->Fill(16,2);; h25->Fill(23,1);; h25->SetLineColor(2);; h25->SetLineWidth(3);; h25->SetMinimum(.05);. C->cd(1);; h25->Draw(""hist"");; h15->Draw(""hist same"");; gPad->SetLogy(1);; gPad->SetGridx(1);; gPad->SetGridy(1);. C->cd(2);; h25->Draw(""hist"");; h15->Draw(""hist same"");; gPad->SetGridx(1);; gPad->SetGridy(1);; }; ```",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12448:399,patch,patch,399,https://root.cern,https://github.com/root-project/root/pull/12448,1,['patch'],['patch']
Deployability,"When updating `cppyy-backend` to v1.7.3 in PyROOT experimental, a compilation error appears because of a missing functionality in `TCling`, in particular a method to get using declarations of namespaces. This functionality was added to Cppyy's ROOT recently, and a patch was created for it:; https://bitbucket.org/wlav/cppyy-backend/src/59a4a747d03c6e94eaaa28062daf83104334f27d/cling/patches/using_directives.diff. This PR proposes to add such functionality to mainstream ROOT. . Inviting @Axel-Naumann and @wlav to the party.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3579:265,patch,patch,265,https://root.cern,https://github.com/root-project/root/pull/3579,2,['patch'],"['patch', 'patches']"
Deployability,"When updating names in UpdateAssociativeToVector, do not use trailing…",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3532:23,Update,UpdateAssociativeToVector,23,https://root.cern,https://github.com/root-project/root/pull/3532,1,['Update'],['UpdateAssociativeToVector']
Deployability,"When url has options before, it was not correctly released; Following code always produced memory leak:. TUrl url;; url.SetUrl(""http://server/file?arg=1&arg2=2"");; url.SetUrl(""http://server/file?arg=1&arg2=2"");. Simplify handling of options",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4908:50,release,released,50,https://root.cern,https://github.com/root-project/root/pull/4908,1,['release'],['released']
Deployability,"When using `RooGenericPdf` to implement custom PDF's, fitting becomes quite slow due to the use of numerical integration. This becomes a big problem when one needs to be perform several fits on the PDF (such as when studying systematical errors or statistical significances). It would be great if we could set an expression for the analytical integral the same way we already do for the PDF itself. As concrete example, if one needed to implement a PDF such as `f(x) = a/x + b*x + c`, it feels like we should be able to do; ```c; // Define custom pdf; RooGenericPdf my_pdf(""my_pdf"", ""x[1]/x[0] + x[2]*x[0] + x[3]"", RooArgList(x, a, b, c));; // Set formula for analytical integral; my_pdf.SetAnalyticalIntegralFormula(""x[1]*TMath::Log(x[0]) + x[2]*x[0]*x[0]/2 + x[0]*x[3]"");; ```. This would be implemented in such way that just creating an `RooGenericPdf` object would set it to numerical integration by default, and then calling `SetAnalyticalIntegralFormula()` would make it use analytical integration based on the supplied formula. Follow up from https://root-forum.cern.ch/t/analytical-integral-for-roogenericpdf/50409",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10763:109,integrat,integration,109,https://root.cern,https://github.com/root-project/root/issues/10763,3,['integrat'],['integration']
Deployability,"When using `TLegend::AddEntry()`, it is not necessary to get a pointer to the plotted object via `RooPlot::findObject()`. One can just use the `AddEntry` overload that takes the name as a string, and then looks up the object in the plot itself. This should be updated to avoid that users copy-paste overly verbose code from the tutorials. I noticed this when copy pasting code myself for a RooFit tutorial. Also fixes a typo in `rf711_lagrangianmorph.py`.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11555:260,update,updated,260,https://root.cern,https://github.com/root-project/root/pull/11555,1,['update'],['updated']
Deployability,"When using only ```cmake ../source -DPYTHON_EXECUTABLE=/usr/bin/python3```, as suggested on the [webpage](https://root.cern/install/build_from_source/), the compiler would say that pyROOT libraries would be built for python3. When looking for the libraries at $ROOTSYS/lib, they are not there, and *import ROOT* in the python interpreter gives error. . Only after using ```cmake ../source -Dpyroot=ON -DPYTHON_EXECUTABLE=/usr/bin/python3``` that the pyROOT libraries were built and python could find them. . I'm installing ROOT on Fedora 33.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/8095:124,install,install,124,https://root.cern,https://github.com/root-project/root/issues/8095,2,['install'],"['install', 'installing']"
Deployability,"When using source bilds, all necessary source includes; will be provided via dependencies. When using installed root,; anyway ${CMAKE_BINARY_DIR}/include has to be used. Reduce usage of `find_package(ROOT)` method. ; If was misused to produce variables like `ROOT_asimage_FOUND` or `ROOT_vc_FOUND`; Now only kept at the place where it can be really used outside ROOT.; Plus two historical files in `test/` and `tutorials/` are mostly unchanged while too many such variables are used",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5577:102,install,installed,102,https://root.cern,https://github.com/root-project/root/pull/5577,1,['install'],['installed']
Deployability,"When using the SofieFunctor to integrate the SOFIE inference in RDF from Python, it works if we declare in C++ and; JIT the code as in line 51 of the tutorial `tmva/TMVA_SOFIE_RDataFrame.py`, see ; https://github.com/root-project/root/blob/master/tutorials/tmva/TMVA_SOFIE_RDataFrame.py#L51. but if we replace that line with ; ```; sofie_functor = ROOT.TMVA.Experimental.SofieFunctor[7,'TMVA_SOFIE_Higgs_trained_model::Session'](0,""""); ```; and then later use the other signature of `RDataFrame::Define`; ```; df1.Define(""DNN_Value"", sofie_functor, [""rdfslot_"",""m_jj"", ""m_jjj"", ""m_lv"", ""m_jlv"", ""m_bb"", ""m_wbb"", ""m_wwbb""]); ```. it does not work. Doing: ; `print(sofie_functor)` results in None object. Trying also this , it does not work: ; ```; df1.Define(""DNN_Value"", ROOT.TMVA.Experimental.SofieFunctor[7,'TMVA_SOFIE_Higgs_trained_model::Session'](0,""""), [""rdfslot_"",""m_jj"", ""m_jjj"", ""m_lv"", ""m_jlv"", ""m_bb"", ""m_wbb"", ""m_wwbb""]); ```. Trying instead to make a simpler reproducible with a similar template functor works fine.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10684:31,integrat,integrate,31,https://root.cern,https://github.com/root-project/root/issues/10684,1,['integrat'],['integrate']
Deployability,"When writing trained methods to the output file, there was a typo in the target directory. This lead to the results of a method of type ""BDT"" and name ""MyBDT"" being placed (incorrectly) in a folder named; ""Method_MyBDT/MyBDT"". This patch places the data correctly in ""Method_BDT/BDT"". This is important since e.g. the GUI relies on all BDT's being placed in the ""MethodBDT"" folder. This will affect all methods, not only BDT's. This can be seen e.g. in the output of the `TMVAClassification.C` macro with several BDT's enabled: The GUI cannot generate plots for all BDT's. That the previous implementation was a typo is corroborated by this line:; ```; Log() << kDEBUG << Form(""Dataset[%s] : "", datasetName) << "" Base Directory for ""; << GetMethodTypeName() << "" not set yet --> check if already there.."" << Endl;; ```; , where it is implied that a directory of name `GetMethodTypeName()` should be created. However, in the old implementation a directory with name `GetMethodName()` was created instead. The issue was reported [here](https://root-forum.cern.ch/t/tmvagui-not-working-for-multiple-methods-of-bdt-in-file/32267) initially.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3253:232,patch,patch,232,https://root.cern,https://github.com/root-project/root/pull/3253,1,['patch'],['patch']
Deployability,When xmin=xmax or ymin=ymax the transformed min max are Nan and this causes the; routine to find the triangles to hang forever.; Now in this case and when also no trisangles are found the default zero value is always return. Update also the documentation of the class and of TGraphDelaunay2D. This Pull request fixes #10266,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10276:225,Update,Update,225,https://root.cern,https://github.com/root-project/root/pull/10276,1,['Update'],['Update']
Deployability,"While `mathjax.tar.gz` already provided with ROOT sources,; just install it inside `${CMAKE_BINARY_DIR}/js/mathjax` folder; and use it directly. Allows to stay fully local when requires `MathJax` from `RWebWindow`. Also significant upgrade of JSROOT - many changes with 7.4.0 release and after it",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13085:65,install,install,65,https://root.cern,https://github.com/root-project/root/pull/13085,3,"['install', 'release', 'upgrade']","['install', 'release', 'upgrade']"
Deployability,"While investigating performance issues with performing many fits in a RooFit analysis workflow, I discovered this memory leak in my valgrind logs. Getting this fix in as many release streams as possible would be good.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7137:175,release,release,175,https://root.cern,https://github.com/root-project/root/pull/7137,1,['release'],['release']
Deployability,"While the `TTreeReaderValue` is indeed not copyable for good reason, I don't see why it shouldn't be moveable (deleting the copy constructor appears to implicitly delete the move constructor). With this small patch, the following works:. ```; TFile *tf = TFile::Open(""somefile.root"");; TTreeReader reader(""T"", tf);; auto foo = std::make_tuple( TTreeReaderValue<int>(reader, ""branchname"") );; ```",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/290:209,patch,patch,209,https://root.cern,https://github.com/root-project/root/pull/290,1,['patch'],['patch']
Deployability,"Will be merged into v6-16, too. @gganis FYI re LCG releases - please make sure we don't have mismatched expectations here :-)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3020:51,release,releases,51,https://root.cern,https://github.com/root-project/root/pull/3020,1,['release'],['releases']
Deployability,"Wim says: adding 'shell=True' makes the command run on; /bin/sh and allows you to use shell features (such as expansion and; replacement of variables). But nothing in the command seems to need that; feature, and anyway it's a risky thing to rely on, or what am I missing?. Spawning an intermediate shell makes a mess of the environment when running; under conda on Mac in the non-build environment. Running the normal way as; per the patched line above, and all seems good.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4406:434,patch,patched,434,https://root.cern,https://github.com/root-project/root/pull/4406,1,['patch'],['patched']
Deployability,Windows CMake project cannot find_library() after integrating with ROOT.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15727:50,integrat,integrating,50,https://root.cern,https://github.com/root-project/root/issues/15727,1,['integrat'],['integrating']
Deployability,Windows installers are not signed,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15896:8,install,installers,8,https://root.cern,https://github.com/root-project/root/issues/15896,1,['install'],['installers']
Deployability,"Windows:; ```; C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Microsoft\VC\v170\Microsoft.CppCommon.targets(205,5): error MSB4018: The ""GetOutOfDateItems"" task failed unexpectedly. [C:\Users\sftnight\build\release\interpreter\llvm\src\lib\Target\X86\X86CommonTableGen.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Microsoft\VC\v170\Microsoft.CppCommon.targets(205,5): error MSB4018: System.IO.IOException: The process cannot access the file 'C:\Users\sftnight\build\release\interpreter\llvm\src\lib\Target\X86\x64\Release\X86CommonTableGen\X86Commo.12E1F1A7.tlog\CustomBuild.command.1.tlog' because it is being used by another process. [C:\Users\sftnight\build\release\interpreter\llvm\src\lib\Target\X86\X86CommonTableGen.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Microsoft\VC\v170\Microsoft.CppCommon.targets(205,5): error MSB4018: at System.IO.__Error.WinIOError(Int32 errorCode, String maybeFullPath) [C:\Users\sftnight\build\release\interpreter\llvm\src\lib\Target\X86\X86CommonTableGen.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Microsoft\VC\v170\Microsoft.CppCommon.targets(205,5): error MSB4018: at System.IO.FileStream.Init(String path, FileMode mode, FileAccess access, Int32 rights, Boolean useRights, FileShare share, Int32 bufferSize, FileOptions options, SECURITY_ATTRIBUTES secAttrs, String msgPath, Boolean bFromProxy, Boolean useLongPath, Boolean checkHost) [C:\Users\sftnight\build\release\interpreter\llvm\src\lib\Target\X86\X86CommonTableGen.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Microsoft\VC\v170\Microsoft.CppCommon.targets(205,5): error MSB4018: at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options, String msgPath, Boolean bFromProxy, Boolean useLongPath, Boolean checkHost) [C:\Users\sftnight\build\release\interpreter\llvm\src\lib\Target\X86\X86CommonT",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10247:1096,release,release,1096,https://root.cern,https://github.com/root-project/root/pull/10247,1,['release'],['release']
Deployability,"With `ROOTSYS` unset and no `DISPLAY` variable, this setup causes a spurious warning about an unset `DISPLAY`. `TROOT()` calls `SetBatch(true)`, then cppyy ""agrees"", and `ROOT/__init__.py` tries to revert that. Just let everyone keep their hands off `SetBatch()` (as is done in newer cppyy anyway). # This Pull request:. ## Changes or fixes:. ## Checklist:. - [ ] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11858:394,update,updated,394,https://root.cern,https://github.com/root-project/root/pull/11858,1,['update'],['updated']
Deployability,"With a task scheduler, `RPageSinkBuf::CommitPage` copies the uncompressed page; https://github.com/root-project/root/blob/226e4c00e5dc4b7aaf881bad810a0c78c8a14185/tree/ntuple/v7/src/RPageSinkBuf.cxx#L167-L170; for asynchronous compression. However, the uncompressed page is only released in `FlushClusterImpl` which leads to significant memory overhead for high compression factors (such as CMS miniAOD). In principle, the uncompressed buffer can be released directly after compression, which is only a bit tricky because it requires the allocator to be thread-safe.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/16753:279,release,released,279,https://root.cern,https://github.com/root-project/root/issues/16753,2,['release'],['released']
Deployability,"With latest `civetweb` special windows files names not working; Also disable by default directory listing, can be enabled with URL arguments; Let change custom HTTP server settings for web widgets via special `gEnv` variable; Update documentation",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9801:226,Update,Update,226,https://root.cern,https://github.com/root-project/root/pull/9801,1,['Update'],['Update']
Deployability,"With modules, we have autoloading of library feature; (LazyFunctionCreatorAutoloadForModule) so we can load TRandom function.; Thus, we don't have to explicitly load MathCore. It improves memory by 3Mbytes; Patch by Oksana and me :D",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2854:207,Patch,Patch,207,https://root.cern,https://github.com/root-project/root/pull/2854,1,['Patch'],['Patch']
Deployability,"With multiple concurrent `RNTupleFillContext`s, the order of clusters is generally indeterminate and entries are only partially ordered. With staged cluster committing, this restriction can be partially lifted by splitting a cluster commit into two phases:; 1. Once full, or when manually triggered, all fields are committed which triggers flushing of all columns. All pages are compressed and staged via the page sink. The result is a `RStagedCluster` that records all information for the second phase. This step can be repeated multiple times as entries are filled into the context.; 2. When appropriate for the application, all staged clusters can be committed, which logically appends them to the RNTuple. This is implemented in a single critical section, which guarantees that the clusters and their entries are consecutive. Moreover, by synchronizing the second phase between multiple contexts, the application can enforce a total ordering of all contained entries at reasonable resource consumption: During the first phase, all write buffers are flushed and will be reused for the following cluster. The metadata stored in `RStagedCluster` should require only minimal memory, which will accumulate while staging more clusters. Staged cluster committing is expected to be slightly slower than the default mode, but should still scale well as the second phase only updates the metadata which is a lightweight operation compared to preparing and filling entries, compressing pages, and writing them to disk. A noteworthy disadvantage is that staged cluster committing will lead to non-linear files, where sequentially iterating over clusters may require seeking to distant file offsets. The impact resulting from this will depend on the storage technology and the read pattern. Closes #16326",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16343:1370,update,updates,1370,https://root.cern,https://github.com/root-project/root/pull/16343,1,['update'],['updates']
Deployability,"With root 6.22.00, the following fragment. ```; import ROOT; class Foo (ROOT.TProfile): pass. ```. gives errors:. ```; >>> import ROOT; >>> class Foo (ROOT.TProfile): pass; ... ; input_line_38:8:19: error: redeclaration of using declaration; using TProfile::BufferFill;; ~~~~~~~~~~^; input_line_38:7:19: note: previous using declaration; using TProfile::BufferFill;; ^; input_line_38:9:19: error: 'SetBins' is a private member of 'TProfile'; using TProfile::SetBins;; ^; /cvmfs/sft.cern.ch/lcg/releases/ROOT/v6.22.00-be0a0/x86_64-centos7-gcc8-opt/include/TProfile.h:67:9: note: declared private here; void SetBins(Int_t, Double_t, Double_t, Int_t, Double_t, Double_t); ^; input_line_38:9:19: error: 'SetBins' is a private member of 'TProfile'; using TProfile::SetBins;; ^; /cvmfs/sft.cern.ch/lcg/releases/ROOT/v6.22.00-be0a0/x86_64-centos7-gcc8-opt/include/TProfile.h:69:9: note: declared private here; void SetBins(Int_t, const Double_t*, Int_t, const Double_t*); ^; input_line_38:9:19: error: 'SetBins' is a private member of 'TProfile'; using TProfile::SetBins;; ^; /cvmfs/sft.cern.ch/lcg/releases/ROOT/v6.22.00-be0a0/x86_64-centos7-gcc8-opt/include/TProfile.h:71:9: note: declared private here; void SetBins(Int_t, Double_t, Double_t, Int_t, Double_t, Double_t, In...; ^; input_line_38:9:19: error: 'SetBins' is a private member of 'TProfile'; using TProfile::SetBins;; ^; /cvmfs/sft.cern.ch/lcg/releases/ROOT/v6.22.00-be0a0/x86_64-centos7-gcc8-opt/include/TProfile.h:73:9: note: declared private here; void SetBins(Int_t, const Double_t *, Int_t, const Double_t *, Int_t...; ^; input_line_38:10:19: error: 'Fill' is a private member of 'TProfile'; using TProfile::Fill;; ^; /cvmfs/sft.cern.ch/lcg/releases/ROOT/v6.22.00-be0a0/x86_64-centos7-gcc8-opt/include/TProfile.h:61:10: note: declared private here; Int_t Fill(Double_t) { MayNotUse(""Fill(Double_t)""); return -1;}; ^; Traceback (most recent call last):; File ""<stdin>"", line 1, in <module>; TypeError: no python-side overrides supported (fai",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6345:494,release,releases,494,https://root.cern,https://github.com/root-project/root/issues/6345,2,['release'],['releases']
Deployability,"With some more minimal cmake configurations `assert` is not declared in `RField.hxx` and needs an `#include <cassert>`. `R__ASSERT` is declared however. Additionally, this makes it more consistent with other assertions in `RField`.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14737:29,configurat,configurations,29,https://root.cern,https://github.com/root-project/root/pull/14737,1,['configurat'],['configurations']
Deployability,"With the bundled MS corefonts, root license isn't completely free. What I ask is to make MS corefonts optional. A patch from Fedora is also available here https://src.fedoraproject.org/rpms/root/blob/rawhide/f/root-fontconfig.patch",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/8357:114,patch,patch,114,https://root.cern,https://github.com/root-project/root/issues/8357,2,['patch'],['patch']
Deployability,"With the current logic, if for some reason fAutoFlush is set to 0; for the TTree, the TTreeCache is disabled.; That is undesirable: we still can and want to do pre-fetching even; if auto-flushing was turned off when writing the TTree. Other more direct methods to turn off the TTreeCache still work,; e.g. tree->SetCacheSize(0). ## Checklist:. - [x] tested changes locally (complicated because of https://github.com/root-project/root/issues/7366 , but seems mostly ok) ; - [ ] updated the docs (@pcanal let me know if there are docs to update); - [x] could we set the cachesize to a better value than the autoflush default of ~30MB?. This PR fixes #8713 .",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/8714:477,update,updated,477,https://root.cern,https://github.com/root-project/root/pull/8714,2,['update'],"['update', 'updated']"
Deployability,"With the function `RooDataHist::interpolateLinear` it is now possible to use; `RooDataHist::weights()` (implemented in https://github.com/root-project/root/pull/11171) to evaluate weights for one; dimensional histograms with up to first order interpolation. `RooDataHist::interpolateLinear` finds the coefficients of a straight line; between two neighboring bin centers by solving a system of two linear; equations. With the coefficients of the straight line, the interpolated weight; for an event between two bin centers can be calculated. If an event in a bin is to the left of the bin center coordinates, the; corresponding weight is found by interpolating between the current bin and the; neighboring bin to the left. If the event is to the right of the bin center,; the weight is found by inteperpolating between the current bin center and the; one to the right. For the first and last bin, the interpolation is performed; either by mirroring the histogram outside its boundaries, or by applying cdf; boundaries. `RooDataHist::weights()` has been updated so that it calls; `RooDataHist::interpolateLinear()` when the interpolation order is one.; Furthermore, `RooDataHist::computeBatch()` and `RooHistFunc::computeBatch()`; have been updated so that they call `RooDatahist::weights()` in the cases; where the histogram is one dimensional and the interpolation order is zero or; one. - [x] tested changes locally; - [x] updated the docs (if necessary)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11211:1052,update,updated,1052,https://root.cern,https://github.com/root-project/root/pull/11211,3,['update'],['updated']
Deployability,"With the function `RooDataHist::interpolateQuadratic()` it is now possible to; use `RooDataHist::weights()` (implemented in #11171) to evaluate weights for; one dimensional histograms with up to second order interpolation. The structure of `RooDataHist::interpolateQuadratic()` is similar to that of; `RooDataHist::interpolateLinear()`, which was implemented in #11211; It finds the coefficients of a second order polynomial between three; neighboring bin centers by solving a system of three quadratic equations. With; the coefficients of the quadratic function, the interpolated weight for an event; between two bin centers can be calculated. If an event in a bin is to the left of the bin center coordinates, the; corresponding weight is found by interpolating between the current bin and the; two neighboring bins to the left. If the event is to the right of the bin center,; the weight is found by interpolating between the current bin center, one bin to; the the left and one bin to the right. For the first two bins and the last bin,; the interpolation is performed either by mirroring the histogram outside its; boundaries or by applying cdf boundaries. `RooDataHist::weights()` has been updated so that it calls; `RooDataHist::interpolateQuadratic()` when the interpolation order is two.; Furthermore, `RooDataHist::computeBatch()` and `RooHistFunc::computeBatch()`; have been updated so that they always call RooDatahist::weights() in the case; where the histogram is one dimensional. Since the old interpolation; implementation `RooDataHist::interpolateDim()` only supported up to second; order interpolation, it has been completely replaced by; `RooDataHist::interpolateLinear()` and `RooDataHist::interpolateQuadratic()`; in these `computeBatch()` functions in the case of one dimensional histograms. # This Pull request:. ## Changes or fixes:. ## Checklist:. - [x] tested changes locally; - [x] updated the docs (if necessary)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11224:1196,update,updated,1196,https://root.cern,https://github.com/root-project/root/pull/11224,3,['update'],['updated']
Deployability,"With the module generation in rootcling Clang rlies on AST consumers; to do the module generation work for it. Right now this doesn't work; however with the interpreter, as we just overwrite the deserialization; listener that clang added which will cause strange errors during; the module generation (the most prompinent error is that the number; of recorded submodules will be incorrect, as this it the first thing; that Clang checks before writing a module and which is recorded by; an ASTDeserializationListener). This patch just adds a multiplexer here that allows us to keep the; old listener while also adding the one we have.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/995:522,patch,patch,522,https://root.cern,https://github.com/root-project/root/pull/995,1,['patch'],['patch']
Deployability,"With the new MacOS update python (and python2) is not existing anymore, only python3. Add then a new function TMVA::Python_executable() using ROOT config to determine if ROOT is using python version 2 or 3. In case of 3 returns as executable ""python3"". Fix also the correct location of the input ONNX file for TMVA_SOFIE_ONNX.C (copying the file at configure time). This PR is a backport in 6.26 of PR #10160",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11568:19,update,update,19,https://root.cern,https://github.com/root-project/root/pull/11568,1,['update'],['update']
Deployability,"With the new MacOS update python (and python2) is not existing anymore, only python3.; Add then a new function TMVA::Python_executable() using ROOT config to determine if ROOT is using python version 2 or 3. In case of 3 returns as executable ""python3"". Fix also the correct location of the input ONNX file for TMVA_SOFIE_ONNX.C (copying the file at configure time)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10160:19,update,update,19,https://root.cern,https://github.com/root-project/root/pull/10160,1,['update'],['update']
Deployability,"With the patch at the end of this report, the test `roottest-root-io-issue-9899-read_cmssw_class_v3` fails with (partial output):; ```; Error in <readfile>: For entries 0 we have result=19200; ```; This is due to the fact that there is no branch for `w.fPersValue.fPersLowData.fProblems.fContent.fHolder` because the typeof `fHolder` : `RefVectorMemberPointersHolder` only has one transient member. Consequently, the line in `TBranchElement`'s `GatherArtificialElements` function:; ```; if (!foundRelatedSplit) {; continue;; }; ```; which is designed to avoid drilling through data members that are ""new"" in the current (in-memory) class layout. `fContent` also has no explicit branch (it is intentionally elided) but `fContent.fID` has a branch. Since the object (`fContent` is updated during the read, we should be running the I/O rules on its sub-objects ... but we don't. The issue can be senen by applying this patch to `roottest` and running `ctest -R issue-9899`. ```; diff --git a/root/io/issue-9899/read_cmssw_class_v3.cxx b/root/io/issue-9899/read_cmssw_class_v3.cxx; index 58b50a93..e0aef7e1 100644; --- a/root/io/issue-9899/read_cmssw_class_v3.cxx; +++ b/root/io/issue-9899/read_cmssw_class_v3.cxx; @@ -129,10 +129,8 @@ struct PersHighData {; }; int check(int slide = 1) {; int res = 0;; -#ifdef FIXED_ISSUE_99xx; for(auto &d : fPersLowData); res += d.check(slide, 0);; -#endif; for(auto &d : fLowData); res += d.check(slide * BIT(6), 10);; return res;; ```",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/9924:9,patch,patch,9,https://root.cern,https://github.com/root-project/root/issues/9924,3,"['patch', 'update']","['patch', 'updated']"
Deployability,"With the upgrade to LLVM 16, `llvm::Optional` is a deprecated / legacy alias of `std::optional`: https://github.com/llvm/llvm-project/commit/2916b99182752b1aece8cc4479d8d6a20b5e02da Likewise, `llvm::None` / `llvm::NoneType` become `std::nullopt` / `std::nullopt_t`: https://github.com/llvm/llvm-project/commit/abfe65a12b77f9f0292d3ec70bd9fc3b9c13d905. These transitional aliases are removed with LLVM 17: https://github.com/llvm/llvm-project/commit/397f2e9ebee8d8e45547e90dd05228d7f965df67 To prepare for this, we should replace, in `core/metacling/` and `interpreter/cling`; * [ ] all spellings of `llvm::Optional` with `std::optional`,; * [ ] all spellings of `llvm::None` / `llvm::NoneType` with `std::nullopt` / `std::nullopt_t`",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14205:9,upgrade,upgrade,9,https://root.cern,https://github.com/root-project/root/issues/14205,1,['upgrade'],['upgrade']
Deployability,"With the upgrade to llvm-13, the JIT lost the ability to re-use existing weak symbols that the JIT had already emitted, instead only looking at dlsym. This causes a significant increase in JITted symbols, and thus a significant slow-down of cling / its JIT. This restores the old behavior, with an identical set of symbols that jet jitted. # This Pull request:. ## Changes or fixes:. ## Checklist:. - [ ] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12018:9,upgrade,upgrade,9,https://root.cern,https://github.com/root-project/root/pull/12018,2,"['update', 'upgrade']","['updated', 'upgrade']"
Deployability,"With the upgrade to llvm-13, the JIT lost the ability to re-use existing weak; symbols that the JIT had already emitted, instead only looking at dlsym. This; causes a significant increase in JITted symbols, and thus a significant slow-down; of cling / its JIT. This restores the old behavior, with an identical set of symbols that jet jitted. (cherry picked from commit 23ca9fe)# This Pull request:",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12163:9,upgrade,upgrade,9,https://root.cern,https://github.com/root-project/root/pull/12163,1,['upgrade'],['upgrade']
Deployability,"With the upgrade to llvm13, `llvm::orc::ResourceTracker` takes care of deleting the code sections upon unloading:; ```; #0 llvm::sys::Memory::releaseMappedMemory (M=...); at /home/axel/build/root/llvmupgrade/src/interpreter/llvm/src/lib/Support/Unix/Memory.inc:162; #1 0x00007fffee4988ab in llvm::(anonymous namespace)::DefaultMMapper::releaseMappedMemory (; this=0x7ffff6a3c620 <llvm::(anonymous namespace)::DefaultMMapperInstance>, M=...); at /home/axel/build/root/llvmupgrade/src/interpreter/llvm/src/lib/ExecutionEngine/SectionMemoryManager.cpp:263; #2 0x00007fffee498701 in llvm::SectionMemoryManager::~SectionMemoryManager (this=0x5555588b0570, ; __in_chrg=<optimized out>); at /home/axel/build/root/llvmupgrade/src/interpreter/llvm/src/lib/ExecutionEngine/SectionMemoryManager.cpp:237; #3 0x00007fffee4987a0 in llvm::SectionMemoryManager::~SectionMemoryManager (this=0x5555588b0570, ; __in_chrg=<optimized out>); at /home/axel/build/root/llvmupgrade/src/interpreter/llvm/src/lib/ExecutionEngine/SectionMemoryManager.cpp:239; #4 0x00007fffee41a1b4 in std::default_delete<llvm::RuntimeDyld::MemoryManager>::operator() (this=0x5555587feb70, ; __ptr=0x5555588b0570) at /usr/include/c++/11/bits/unique_ptr.h:85; #5 0x00007fffee418420 in std::unique_ptr<llvm::RuntimeDyld::MemoryManager, std::default_delete<llvm::RuntimeDyld::MemoryManager> >::~unique_ptr (this=0x5555587feb70, __in_chrg=<optimized out>); at /usr/include/c++/11/bits/unique_ptr.h:361; #6 0x00007fffee41f27f in std::_Destroy<std::unique_ptr<llvm::RuntimeDyld::MemoryManager, std::default_delete<llvm::RuntimeDyld::MemoryManager> > > (__pointer=0x5555587feb70) at /usr/include/c++/11/bits/stl_construct.h:151; #7 0x00007fffee41e671 in std::_Destroy_aux<false>::__destroy<std::unique_ptr<llvm::RuntimeDyld::MemoryManager, std::default_delete<llvm::RuntimeDyld::MemoryManager> >*> (__first=0x5555587feb70, __last=0x5555587feb78); at /usr/include/c++/11/bits/stl_construct.h:163; #8 0x00007fffee41cf98 in std::_Destroy<std::unique_ptr<ll",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10898:9,upgrade,upgrade,9,https://root.cern,https://github.com/root-project/root/issues/10898,3,"['release', 'upgrade']","['releaseMappedMemory', 'upgrade']"
Deployability,"With the upgrade, BackendPasses was modifying a TargetMachine that was not used by SimpleCompiler. Change that by; - using a SimpleCompiler that uses IncrementalJIT::TM;; - moving the TM creation to IncrementalJIT, and giving access to it. This reduces the runtime of https://github.com/root-project/root/issues/11927 to; - before llvm upgrade: 2.69s; - llvm13, without this commit: ???; - llvm13, with this commit: 2.89s i.e, a slow-down of 7% (that is likely caused by the different emission mechanism of Orc-v2; to be confirmed...). # This Pull request:. ## Changes or fixes:. ## Checklist:. - [ ] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11945:9,upgrade,upgrade,9,https://root.cern,https://github.com/root-project/root/pull/11945,3,"['update', 'upgrade']","['updated', 'upgrade']"
Deployability,"With the upgrade, BackendPasses was modifying a TargetMachine that was not used by SimpleCompiler. Change that by; - using a SimpleCompiler that uses IncrementalJIT::TM;; - moving the TM creation to IncrementalJIT, and giving access to it. This reduces the runtime of https://github.com/root-project/root/issues/11927 to; - before llvm upgrade: 2.69s; - llvm13, without this commit: ???; - llvm13, with this commit: 2.89s i.e, a slow-down of 7% (that is likely caused by the different emission mechanism of Orc-v2; to be confirmed...). (cherry picked from commit d3793f2bb8c5948f4c64947c7f76fb0b0e1a3567). # This Pull request:. ## Changes or fixes:. ## Checklist:. - [ ] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12096:9,upgrade,upgrade,9,https://root.cern,https://github.com/root-project/root/pull/12096,3,"['update', 'upgrade']","['updated', 'upgrade']"
Deployability,"With this (large) patch, RAction, RFilter, RDefine, RRange and RVariation learn how to operate on ranges of N masked entries instead of one entry at a time. Currently ranges are always of size 1, but most of RDF's internal logic has been parameterized over that size. Notably, RAction, RFilter, RDefine and RDefineReader should be now almost completely ""bulkified"" while RVariation and other column readers (e.g. RVariationReader and RTreeColumnReader) still have some logic that assumes a bulk size of 1 (e.g. they only store a single result/value at a time). **Note**: This is still a draft PR because the performance impact of these changes, when using a bulk size of 1, seems to be significant.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11517:18,patch,patch,18,https://root.cern,https://github.com/root-project/root/pull/11517,1,['patch'],['patch']
Deployability,"With this PR, `RNTupleInspector::RColumnInfo` and `RNTupleInspector::RFieldTreeInfo` are renamed to `RNTupleInspector::RColumnInspector` and `RNTupleInspector::RFieldTreeInspector`, along with their getters. The rationale behind this change is to make the class names more symmetric with the general `RNTupleInspector` name and remove any potential ambiguity. - [x] tested changes locally; - [x] updated the docs (if necessary)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14131:396,update,updated,396,https://root.cern,https://github.com/root-project/root/pull/14131,1,['update'],['updated']
Deployability,"With this PR, a proper exception is thrown when a user tries to load an out-of-bounds RNTuple entry (instead of aborting due to a failed assert statement).; To prevent the `RColumn` destructor from attempting to again clean up the page for the entry that was (potentially) loaded prior to attempting to read the out-bounds entry, `fReadPage` in `RColumn` is reset to a null page before attempting to populate it. ## Checklist:. - [x] tested changes locally; - [x] updated the docs (if necessary)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14129:464,update,updated,464,https://root.cern,https://github.com/root-project/root/pull/14129,1,['update'],['updated']
Deployability,"With this change, fields are only added to the `REntry` and read when they are referenced in the processor loop. This prevents unecessary reads of unused fields. It also makes the REntry completely transparent from an interface perspective. Pointers to values can be obtained through the processor interface itself *before* the iteration starts, or alternatively via the iterator returned by the processor. Important to note that during iteration, the pointer returned by `RNTupleProcessor::GetPtr` will **not** contain the value for the current entry. The reason for this is that from the `RNTupleProcessor` interface there is (with the current implementation) no way to know what the current entry index is. For now, `RNTupleProcessor::GetPtr` contains a warning and a recommendation to get the pointer through the iterator instead. Alternative solutions could be:; 1. Remove `RNTupleProcessor::GetPtr` altogether and only allow access to the field value pointers through the iterator.; 2. Dispatch the local entry index from `RState` back to the processor on every `Advance`, and (re)load the entry when `RNTupleProcessor::GetPtr` is called. ## Checklist:. - [x] tested changes locally; - [x] updated the docs (if necessary)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15939:1196,update,updated,1196,https://root.cern,https://github.com/root-project/root/pull/15939,1,['update'],['updated']
Deployability,"With this change, the reproducer provided in #12631 works for me, while it indeed fails to find `xrootd` in the configuration step without this commit. See:; https://github.com/xrootd/xrootd/blob/master/cmake/XRootDConfig.cmake.in. Closes #12631.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13750:112,configurat,configuration,112,https://root.cern,https://github.com/root-project/root/pull/13750,1,['configurat'],['configuration']
Deployability,"With this change, the use of TFile when creating an `RNTupleInspector` object from an RNTuple name and source path is removed by directly creating the page source instead. This is in accordance with other places that require the opening of an RNTuple (i.e. `RNTupleReader` and `ROOT::RDF::Experimental::FromRNTuple`). ## Checklist:. - [x] tested changes locally; - [x] updated the docs (if necessary)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14315:369,update,updated,369,https://root.cern,https://github.com/root-project/root/pull/14315,1,['update'],['updated']
Deployability,With this patch we can finally do `make -j200`! (And I no longer have to explain to the summer students why they have to type `make Cling; make` to compile root :) ). We also get the module dependencies for rootcling right. See the specific commits for the individual fixes.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/752:10,patch,patch,10,https://root.cern,https://github.com/root-project/root/pull/752,1,['patch'],['patch']
Deployability,With this patch we create chains with kWithoutGlobalRegistration in; RDF's constructors -- this is the chain object that RDF uses for; single-thread runs and to look up which branches exist and other; information about the input dataset. The deregistration of that chain from the global lists can take; some time in certain cases. This PR depends (and is based) on #11321 .,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11322:10,patch,patch,10,https://root.cern,https://github.com/root-project/root/pull/11322,1,['patch'],['patch']
Deployability,"With this patch, RResultMap points to the one and only nominal; result and we do not duplicate work for the nominal value (i.e.; we don't handle the nominal case in RVariedAction anymore).",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10662:10,patch,patch,10,https://root.cern,https://github.com/root-project/root/pull/10662,1,['patch'],['patch']
Deployability,"With this patch, RResultMap points to the one and only nominal; result and we do not duplicate work for the nominal value (i.e.; we don't handle the nominal case in RVariedAction anymore). Vincenzo please check whether things make sense for RMergeableValues.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10658:10,patch,patch,10,https://root.cern,https://github.com/root-project/root/pull/10658,1,['patch'],['patch']
Deployability,"Without this patch we get:. ld: Undefined symbols:; TMacOSXSystem::TMacOSXSystem(), referenced from:; ROOT::new_TMacOSXSystem(void*) in G__Core.cxx.o; ROOT::new_TMacOSXSystem(void*) in G__Core.cxx.o; ROOT::newArray_TMacOSXSystem(long, void*) in G__Core.cxx.o; ROOT::newArray_TMacOSXSystem(long, void*) in G__Core.cxx.o; TMacOSXSystem::~TMacOSXSystem(), referenced from:; ROOT::newArray_TMacOSXSystem(long, void*) in G__Core.cxx.o; ROOT::newArray_TMacOSXSystem(long, void*) in G__Core.cxx.o; ROOT::deleteArray_TMacOSXSystem(void*) in G__Core.cxx.o; typeinfo for TMacOSXSystem, referenced from:; ROOT::GenerateInitInstanceLocal(TMacOSXSystem const*) in G__Core.cxx.o; clang: error: linker command failed with exit code 1",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14387:13,patch,patch,13,https://root.cern,https://github.com/root-project/root/pull/14387,1,['patch'],['patch']
Deployability,"Without this patch, CMake was always re-generating G__Imt.cxx, the re-buildding Core, and re-generating all the dictionaries, extending the build time from around two minutes to more than 30 minutes when nothing changed in the code.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7316:13,patch,patch,13,https://root.cern,https://github.com/root-project/root/pull/7316,1,['patch'],['patch']
Deployability,"Would it be possible to backport:. https://github.com/root-project/root/pull/11060 (already merged into [root-project:master]) ; (from what I understand a followup PR is also needed). to the v6.24 branch, and retag a new version of ROOT after that is done. ; This would use use it as part of a LCG 101 patch release. Many thanks. FYI @andresailer @bellenot",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11080:302,patch,patch,302,https://root.cern,https://github.com/root-project/root/issues/11080,2,"['patch', 'release']","['patch', 'release']"
Deployability,Wrong Xrootd SHA256 has in release v6-26-06,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11160:27,release,release,27,https://root.cern,https://github.com/root-project/root/issues/11160,1,['release'],['release']
Deployability,"X=$SOFTWARE/root/20240113 -Dimt=ON -Dbuiltin_glew=ON -Dmathmore=ON -DCMAKE_CXX_STANDARD=17 -DROOT7=ON; -- Detected ROOT_VERSION 6.26.10; -- Checking internet connectivity...; -- Yes; -- Looking for Python; -- Could NOT find Python3 (missing: Python3_NumPy_INCLUDE_DIRS NumPy) (found version ""3.12.0""); -- Could NOT find Python2 (missing: Python2_EXECUTABLE Python2_INCLUDE_DIRS Python2_LIBRARIES Python2_NumPy_INCLUDE_DIRS Interpreter Development NumPy Development.Module Development.Embed) ; Reason given by package: ; Interpreter: Wrong major version for the interpreter ""/opt/homebrew/bin/python"". -- Found a macOS system 14.2; -- Found an AArch64 system; -- ROOT Platform: macosx; -- ROOT Compiler: AppleClang 15.0.0.15000100; -- ROOT Processor: arm64; -- ROOT Architecture: macosxarm64; -- Build Type: 'Release' (flags = '-O3 -DNDEBUG'); -- Compiler Flags: -std=c++17 -Wc++11-narrowing -Wsign-compare -Wsometimes-uninitialized -Wconditional-uninitialized -Wheader-guard -Warray-bounds -Wcomment -Wtautological-compare -Wstrncat-size -Wloop-analysis -Wbool-conversion -m64 -pipe -W -Wall -Woverloaded-virtual -fsigned-char -fno-common -Qunused-arguments -pthread -stdlib=libc++ -O3 -DNDEBUG; -- ROOT default compression algorithm: zlib; -- PyROOT will be built for version 3.12.0; -- Looking for ZLib; -- Building freetype version 2.12.1 included in ROOT itself; -- Looking for PCRE; -- Looking for LZMA; -- Looking for ZSTD; -- Looking for LZ4; -- Building AfterImage library included in ROOT itself; -- Looking for GSL; -- Looking for OpenGL; -- Looking for LibXml2; -- Looking for MySQL; -- Looking for SQLite; -- Looking for FFTW3; -- Looking for XROOTD; -- Found Xrootd version num: 5.5.0 (setting -DROOTXRDVERS=500050000); -- libXrdMain not found: xproofd will be a wrapper around xrootd; -- libXrdClient not found: use built-in; -- include_dirs: /Users/marcomeyer/Software/xrootd/5.5.0/include/xrootd;/Users/marcomeyer/Software/root/src/proof/xrdinc; -- libraries: /Users/marcomeyer/Softwa",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14337:1040,Release,Release,1040,https://root.cern,https://github.com/root-project/root/issues/14337,1,['Release'],['Release']
Deployability,XCode 10 comes with -fmodules-local-submodule-visibility aware toolchain. This patch adjusts a few flags to enable a cxxmodules=On builds for this; platform. This patch will pave our way for enabling runtime_cxxmodules on OSX.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2895:79,patch,patch,79,https://root.cern,https://github.com/root-project/root/pull/2895,2,['patch'],['patch']
Deployability,"X] Checked for duplicates. ### Description. This https://github.com/root-project/root/pull/14703 (my guess on the changes, I did not confirm that this is the case) seems to have caused issues in python projects depending on root. E.g. https://lcgapp-services.cern.ch/cdash/testDetails.php?test=23867111&build=312289 ; ```; # setting LC_ALL to ""C""; Traceback (most recent call last):; File ""<string>"", line 1, in <module>; File ""/cvmfs/sft-nightlies.cern.ch/lcg/views/dev3/Thu/x86_64-el9-gcc11-opt/python/GaudiPython/__init__.py"", line 29, in <module>; from .Bindings import * # noqa: F401 F403; File ""/cvmfs/sft-nightlies.cern.ch/lcg/views/dev3/Thu/x86_64-el9-gcc11-opt/python/GaudiPython/Bindings.py"", line 55, in <module>; import cppyy; File ""/cvmfs/sft-nightlies.cern.ch/lcg/views/dev3/Thu/x86_64-el9-gcc11-opt/lib/cppyy/__init__.py"", line 71, in <module>; from ._cpython_cppyy import *; File ""/cvmfs/sft-nightlies.cern.ch/lcg/views/dev3/Thu/x86_64-el9-gcc11-opt/lib/cppyy/_cpython_cppyy.py"", line 18, in <module>; c = loader.load_cpp_backend(); File ""/cvmfs/sft-nightlies.cern.ch/lcg/views/dev3/Thu/x86_64-el9-gcc11-opt/lib/cppyy_backend/loader.py"", line 79, in load_cpp_backend; raise RuntimeError(""could not load cppyy_backend library""); RuntimeError: could not load cppyy_backend library; ```. and many others in the list https://lcgapp-services.cern.ch/cdash/viewTest.php?onlyfailed&buildid=312289. Are we missing some required changes to build options?. ### Reproducer. On any centos7 machine with cvmfs (or use available stack for your OS); ```; source /cvmfs/sft-nightlies.cern.ch/lcg/views/dev3/latest/x86_64-centos7-gcc11-dbg/setup.sh; python -c ""import GaudiPython""; ```. ### ROOT version. Master from tonight.; Things were fine yesterday. ### Installation method. build from sources in lcgcmake, options https://gitlab.cern.ch/sft/lcgcmake/-/blob/master/projects/CMakeLists.txt#L95. ### Operating system. centos7, alma9, alma8, ubuntu20, ubuntu22. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14904:1789,Install,Installation,1789,https://root.cern,https://github.com/root-project/root/issues/14904,1,['Install'],['Installation']
Deployability,[6-16] Release notes backport,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3089:7,Release,Release,7,https://root.cern,https://github.com/root-project/root/pull/3089,1,['Release'],['Release']
Deployability,[6-20-backport] Remove malicious cleanup and fix installations of rdicts.pcms,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4776:49,install,installations,49,https://root.cern,https://github.com/root-project/root/pull/4776,1,['install'],['installations']
Deployability,[6-28-patches][master] Segmentation fault in ROOT::TGenericClassInfo::~TGenericClassInfo,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12957:6,patch,patches,6,https://root.cern,https://github.com/root-project/root/issues/12957,1,['patch'],['patches']
Deployability,[6.30] diverging branches of the release notes,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14439:33,release,release,33,https://root.cern,https://github.com/root-project/root/issues/14439,1,['release'],['release']
Deployability,[6.30] rootls and rootprint broken on Ubuntu 22.04 binary release,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14416:58,release,release,58,https://root.cern,https://github.com/root-project/root/issues/14416,1,['release'],['release']
Deployability,[632] Misc update,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16571:11,update,update,11,https://root.cern,https://github.com/root-project/root/pull/16571,1,['update'],['update']
Deployability,[BP][6.30][core] Upgrade openssl and davix builtin versions,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15533:17,Upgrade,Upgrade,17,https://root.cern,https://github.com/root-project/root/pull/15533,1,['Upgrade'],['Upgrade']
Deployability,[BP][6.32][core] Upgrade openssl and davix builtin versions,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15530:17,Upgrade,Upgrade,17,https://root.cern,https://github.com/root-project/root/pull/15530,1,['Upgrade'],['Upgrade']
Deployability,[Backport 6-20] Fix installation of PCMs,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4792:20,install,installation,20,https://root.cern,https://github.com/root-project/root/pull/4792,1,['install'],['installation']
Deployability,[Backport] Update cmake/modules/RootCPack.cmake,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14927:11,Update,Update,11,https://root.cern,https://github.com/root-project/root/pull/14927,1,['Update'],['Update']
Deployability,[Backport][DF] ProgressBar finalize update,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13899:36,update,update,36,https://root.cern,https://github.com/root-project/root/pull/13899,1,['update'],['update']
Deployability,[Backport][PyROOT] Install additional PyROOT headers,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5992:19,Install,Install,19,https://root.cern,https://github.com/root-project/root/pull/5992,1,['Install'],['Install']
Deployability,[Backport][ROOT-9924] Fixing compile time installation of clad,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3382:42,install,installation,42,https://root.cern,https://github.com/root-project/root/pull/3382,1,['install'],['installation']
Deployability,[Build system] ROOT installs its builtins directly into `CMAKE_INSTALL_PREFIX`.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/8655:20,install,installs,20,https://root.cern,https://github.com/root-project/root/issues/8655,1,['install'],['installs']
Deployability,[CI] Add CPU label for standard jobs; update upload-artifact action.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16591:38,update,update,38,https://root.cern,https://github.com/root-project/root/pull/16591,1,['update'],['update']
Deployability,[CI] Add a cpu label to github workflows; update actions.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16590:42,update,update,42,https://root.cern,https://github.com/root-project/root/pull/16590,1,['update'],['update']
Deployability,[CI] Update runner labels to avoid running on GPUs.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16581:5,Update,Update,5,https://root.cern,https://github.com/root-project/root/pull/16581,1,['Update'],['Update']
Deployability,"[CMake] Attempt to write `ClingConfig.cmake.tmp` to the external LLVM library directory, causing configuration failure",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11920:97,configurat,configuration,97,https://root.cern,https://github.com/root-project/root/issues/11920,1,['configurat'],['configuration']
Deployability,[CMake] Correctly return real (safe) install paths at runtime,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5084:37,install,install,37,https://root.cern,https://github.com/root-project/root/pull/5084,1,['install'],['install']
Deployability,[CMake] Don't fail configuration on macOS if textutil can't be found,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16433:19,configurat,configuration,19,https://root.cern,https://github.com/root-project/root/pull/16433,1,['configurat'],['configuration']
Deployability,[CMake] Improvements related to `opengl` build configuration flag,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16605:47,configurat,configuration,47,https://root.cern,https://github.com/root-project/root/pull/16605,1,['configurat'],['configuration']
Deployability,[CMake] Install pcms with file(GLOB ...) + install(FILES ...),MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4751:8,Install,Install,8,https://root.cern,https://github.com/root-project/root/pull/4751,2,"['Install', 'install']","['Install', 'install']"
Deployability,[CMake] Move towards target-based CMake and partly fix picking up headers from an installed ROOT,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/8709:82,install,installed,82,https://root.cern,https://github.com/root-project/root/pull/8709,1,['install'],['installed']
Deployability,[CMake] Simplify build configuration with Python 3,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15401:23,configurat,configuration,23,https://root.cern,https://github.com/root-project/root/pull/15401,1,['configurat'],['configuration']
Deployability,[CMake] Small CMake updates needed for RooFit's LinkDefs and Tests,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4968:20,update,updates,20,https://root.cern,https://github.com/root-project/root/pull/4968,1,['update'],['updates']
Deployability,[CMake] Temporary solution for installing pcms without using install(DIRECTORY ...),MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4763:31,install,installing,31,https://root.cern,https://github.com/root-project/root/pull/4763,2,['install'],"['install', 'installing']"
Deployability,[CMake] Update TBB version,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13724:8,Update,Update,8,https://root.cern,https://github.com/root-project/root/pull/13724,1,['Update'],['Update']
Deployability,[CMake] Update Vc version to 1.4.4,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13823:8,Update,Update,8,https://root.cern,https://github.com/root-project/root/pull/13823,1,['Update'],['Update']
Deployability,[CMake] Update XRootD builtin to version 5.5.2,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12247:8,Update,Update,8,https://root.cern,https://github.com/root-project/root/pull/12247,1,['Update'],['Update']
Deployability,[CMake] Update XRootD builtin to version 5.6.1,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13209:8,Update,Update,8,https://root.cern,https://github.com/root-project/root/pull/13209,1,['Update'],['Update']
Deployability,[CMake][Backport] Update Vc version to 1.4.4,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13826:18,Update,Update,18,https://root.cern,https://github.com/root-project/root/pull/13826,1,['Update'],['Update']
Deployability,[CMake][Exp PyROOT] Move search for Python installations outside Sear…,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4939:43,install,installations,43,https://root.cern,https://github.com/root-project/root/pull/4939,2,['install'],['installations']
Deployability,[CMake][ROOT-9739] Upgrade VDT built-in version from 0.4.1 to 0.4.2,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2966:19,Upgrade,Upgrade,19,https://root.cern,https://github.com/root-project/root/pull/2966,1,['Upgrade'],['Upgrade']
Deployability,[Cling] Enable tarball-tag flag to build cling using LLVM binary release.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4713:65,release,release,65,https://root.cern,https://github.com/root-project/root/pull/4713,1,['release'],['release']
Deployability,[Cling] Replace ROOT patches on top of Clang with backported upstream patches,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/8173:21,patch,patches,21,https://root.cern,https://github.com/root-project/root/pull/8173,2,['patch'],['patches']
Deployability,[Cling] Update cpt to build Cling using LLVM 9,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7760:8,Update,Update,8,https://root.cern,https://github.com/root-project/root/pull/7760,1,['Update'],['Update']
Deployability,[Cling]Enable cpt to build cling using binary LLVM release,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4706:51,release,release,51,https://root.cern,https://github.com/root-project/root/pull/4706,1,['release'],['release']
Deployability,[Cling][cpt]Update cpt shebang to reflect Python 3 requirement [skip-ci],MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7376:12,Update,Update,12,https://root.cern,https://github.com/root-project/root/pull/7376,1,['Update'],['Update']
Deployability,[Core] Update year in the ROOT banner,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13756:7,Update,Update,7,https://root.cern,https://github.com/root-project/root/pull/13756,1,['Update'],['Update']
Deployability,[Core][ROOT-9756] Upgrade the version of TBB used as built in to 2019_U1,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2876:18,Upgrade,Upgrade,18,https://root.cern,https://github.com/root-project/root/pull/2876,1,['Upgrade'],['Upgrade']
Deployability,"[CppInterOp](https://github.com/compiler-research/CppInterOp) exposes API from Clang and LLVM in a mostly backward compatibe way. The API support downstream tools that utilize interactive C++ by using the compiler as a service. Adopting more of CppInterOp in ROOT will help simplify the LLVM migration process and allow us to upstream more patches to either CppInterOp or LLVM. @aaronj0, you can take it from here.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16296:340,patch,patches,340,https://root.cern,https://github.com/root-project/root/pull/16296,1,['patch'],['patches']
Deployability,"[CppInterOp](https://github.com/compiler-research/CppInterOp) exposes API from Clang and LLVM in a mostly backward compatibe way. The API support downstream tools that utilize interactive C++ by using the compiler as a service. This PR is the first step in using pure clang based reflection API in meta, and part of eventually integrating the JITCall and DynamicLibraryManager infrastructure. Adopting more of CppInterOp in ROOT will help simplify the LLVM migration process and allow us to upstream more patches to either CppInterOp or LLVM.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16814:327,integrat,integrating,327,https://root.cern,https://github.com/root-project/root/pull/16814,2,"['integrat', 'patch']","['integrating', 'patches']"
Deployability,[DF] Misc non-functional changes (mostly doc upgrades),MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7553:45,upgrade,upgrades,45,https://root.cern,https://github.com/root-project/root/pull/7553,1,['upgrade'],['upgrades']
Deployability,[DF] RResultPtr::Release,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7047:17,Release,Release,17,https://root.cern,https://github.com/root-project/root/issues/7047,1,['Release'],['Release']
Deployability,[DF] Remove RResultPtr::Release (an unreleased feature),MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7485:24,Release,Release,24,https://root.cern,https://github.com/root-project/root/pull/7485,2,['Release'],['Release']
Deployability,"[DF] Throw in case of Snapshot w/ IMT + ""UPDATE"" mode",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5115:41,UPDATE,UPDATE,41,https://root.cern,https://github.com/root-project/root/pull/5115,2,['UPDATE'],['UPDATE']
Deployability,[DF] Update Arrow datasource to the version in v6.20,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5505:5,Update,Update,5,https://root.cern,https://github.com/root-project/root/pull/5505,1,['Update'],['Update']
Deployability,[DF] Update functions to use ROOT::Internal::GetDemangledTypeName,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14676:5,Update,Update,5,https://root.cern,https://github.com/root-project/root/pull/14676,1,['Update'],['Update']
Deployability,[DF] Update v6.24 release notes,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7545:5,Update,Update,5,https://root.cern,https://github.com/root-project/root/pull/7545,2,"['Update', 'release']","['Update', 'release']"
Deployability,[DF] Upgrades to RBookedDefines in preparation for systematic variations,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9466:5,Upgrade,Upgrades,5,https://root.cern,https://github.com/root-project/root/pull/9466,1,['Upgrade'],['Upgrades']
Deployability,"[DF] Use assert, not R__ASSERT when checks are unnecessary in releases",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9258:62,release,releases,62,https://root.cern,https://github.com/root-project/root/pull/9258,1,['release'],['releases']
Deployability,[DF][Doc] Updated the doc,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2551:10,Update,Updated,10,https://root.cern,https://github.com/root-project/root/pull/2551,1,['Update'],['Updated']
Deployability,[DF][Doc] Updated the release notes,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2524:10,Update,Updated,10,https://root.cern,https://github.com/root-project/root/pull/2524,2,"['Update', 'release']","['Updated', 'release']"
Deployability,[DF][Doc][NFC] Add DescribeDataset to cheat sheet and release notes,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7962:54,release,release,54,https://root.cern,https://github.com/root-project/root/pull/7962,1,['release'],['release']
Deployability,[DF][skip-ci] Minor updates to RDF user guide,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7797:20,update,updates,20,https://root.cern,https://github.com/root-project/root/pull/7797,2,['update'],['updates']
Deployability,[DF][skip-ci] Update v6.24 release notes,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7546:14,Update,Update,14,https://root.cern,https://github.com/root-project/root/pull/7546,2,"['Update', 'release']","['Update', 'release']"
Deployability,[DO NOT MERGE] Update to LLVM18.1.8,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16762:15,Update,Update,15,https://root.cern,https://github.com/root-project/root/pull/16762,1,['Update'],['Update']
Deployability,"[DOCS] Release notes, small fix for RDF",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2750:7,Release,Release,7,https://root.cern,https://github.com/root-project/root/pull/2750,1,['Release'],['Release']
Deployability,[DOCS] Update RDF release notes,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2279:7,Update,Update,7,https://root.cern,https://github.com/root-project/root/pull/2279,4,"['Update', 'release']","['Update', 'release']"
Deployability,[DOCS] Update release notes,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2623:7,Update,Update,7,https://root.cern,https://github.com/root-project/root/pull/2623,4,"['Update', 'release']","['Update', 'release']"
Deployability,[DOCS][NFC] Update v6.22 release notes,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5545:12,Update,Update,12,https://root.cern,https://github.com/root-project/root/pull/5545,2,"['Update', 'release']","['Update', 'release']"
Deployability,[DOC] Add more TDF tutorials to the release notes,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1448:36,release,release,36,https://root.cern,https://github.com/root-project/root/pull/1448,2,['release'],['release']
Deployability,[DOC] Callbacks tutorial and release notes,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1109:29,release,release,29,https://root.cern,https://github.com/root-project/root/pull/1109,1,['release'],['release']
Deployability,[DOC] Small improvements to RDF release notes,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2068:32,release,release,32,https://root.cern,https://github.com/root-project/root/pull/2068,1,['release'],['release']
Deployability,[DOC] Update RDF release notes with new name `SaveGraph` for method,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2670:6,Update,Update,6,https://root.cern,https://github.com/root-project/root/pull/2670,2,"['Update', 'release']","['Update', 'release']"
Deployability,[DOC] Update TDF release notes,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/557:6,Update,Update,6,https://root.cern,https://github.com/root-project/root/pull/557,4,"['Update', 'release']","['Update', 'release']"
Deployability,[DOC] Update release notes,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1176:6,Update,Update,6,https://root.cern,https://github.com/root-project/root/pull/1176,2,"['Update', 'release']","['Update', 'release']"
Deployability,[DOC] Update release notes for RDF+TTreeProcessorMT,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2886:6,Update,Update,6,https://root.cern,https://github.com/root-project/root/pull/2886,2,"['Update', 'release']","['Update', 'release']"
Deployability,[DOC][NFC][skip-ci] Update RDF release notes,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7930:20,Update,Update,20,https://root.cern,https://github.com/root-project/root/pull/7930,2,"['Update', 'release']","['Update', 'release']"
Deployability,[DOC][skip ci] Update RDF release notes,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3453:15,Update,Update,15,https://root.cern,https://github.com/root-project/root/pull/3453,2,"['Update', 'release']","['Update', 'release']"
Deployability,[DOC][skip ci] Update RVec release notes,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3634:15,Update,Update,15,https://root.cern,https://github.com/root-project/root/pull/3634,2,"['Update', 'release']","['Update', 'release']"
Deployability,[Do not merge] Test clad master before release.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11166:39,release,release,39,https://root.cern,https://github.com/root-project/root/pull/11166,1,['release'],['release']
Deployability,[Doc] Update readme,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2665:6,Update,Update,6,https://root.cern,https://github.com/root-project/root/pull/2665,1,['Update'],['Update']
Deployability,[Doc][PyROOT] Update release notes for 6.22/04,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6631:14,Update,Update,14,https://root.cern,https://github.com/root-project/root/pull/6631,2,"['Update', 'release']","['Update', 'release']"
Deployability,[Doc][skip-ci] Update Minuit2 documentation page,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9897:15,Update,Update,15,https://root.cern,https://github.com/root-project/root/pull/9897,1,['Update'],['Update']
Deployability,[Docs] Collection of documentation updates.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6070:35,update,updates,35,https://root.cern,https://github.com/root-project/root/pull/6070,1,['update'],['updates']
Deployability,[Docs] Incorrect URL in github release for git tag v6.32.02,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15881:31,release,release,31,https://root.cern,https://github.com/root-project/root/issues/15881,1,['release'],['release']
Deployability,[Docs] Remove link to non-closed bug from release notes.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5070:42,release,release,42,https://root.cern,https://github.com/root-project/root/pull/5070,1,['release'],['release']
Deployability,[Draft] Debug test error in TError patches,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5803:35,patch,patches,35,https://root.cern,https://github.com/root-project/root/pull/5803,1,['patch'],['patches']
Deployability,[Exp PyROOT] Add patch for TROOT::Initialize in clingwrapper,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4747:17,patch,patch,17,https://root.cern,https://github.com/root-project/root/pull/4747,1,['patch'],['patch']
Deployability,"[Exp PyROOT] Add pythonisation for RooWorkspace. RooWorkspace.import() cannot be called from Python. This adds a; pythonisation called RooWorkspace.Import() instead. @etejedor I updated the tutorials accordingly (they also serve as a test). A potential problem is that I didn't write a pythonisation for old PyROOT, so the tutorials won't work if somebody switches back.; Do we want to support also old PyROOT, or do we move on?",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5308:178,update,updated,178,https://root.cern,https://github.com/root-project/root/pull/5308,1,['update'],['updated']
Deployability,[Exp PyROOT] Cppyy update,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4957:19,update,update,19,https://root.cern,https://github.com/root-project/root/pull/4957,1,['update'],['update']
Deployability,[Exp PyROOT] Fix installation bug introduced in 1d2e76,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4748:17,install,installation,17,https://root.cern,https://github.com/root-project/root/pull/4748,1,['install'],['installation']
Deployability,[Exp PyROOT] Fixes for installation of PyROOT packages,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5363:23,install,installation,23,https://root.cern,https://github.com/root-project/root/pull/5363,1,['install'],['installation']
Deployability,[Exp PyROOT] Install public headers of Cppyy,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3546:13,Install,Install,13,https://root.cern,https://github.com/root-project/root/pull/3546,1,['Install'],['Install']
Deployability,[Exp PyROOT] New exception handler - cppyy patch,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4671:43,patch,patch,43,https://root.cern,https://github.com/root-project/root/pull/4671,1,['patch'],['patch']
Deployability,[Exp PyROOT] Release notes: multi-Python versions build and installation,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4769:13,Release,Release,13,https://root.cern,https://github.com/root-project/root/pull/4769,6,"['Release', 'install']","['Release', 'installation']"
Deployability,[Exp PyROOT] Trivial changes fixing installation troubles and tests,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4636:36,install,installation,36,https://root.cern,https://github.com/root-project/root/pull/4636,1,['install'],['installation']
Deployability,[Exp PyROOT] Update Cppyy,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4051:13,Update,Update,13,https://root.cern,https://github.com/root-project/root/pull/4051,2,['Update'],['Update']
Deployability,[Exp PyROOT] Update Cppyy to newest version,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3664:13,Update,Update,13,https://root.cern,https://github.com/root-project/root/pull/3664,1,['Update'],['Update']
Deployability,[Exp PyROOT] Update loader with new use of CLING_STANDARD_PCH,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3581:13,Update,Update,13,https://root.cern,https://github.com/root-project/root/pull/3581,1,['Update'],['Update']
Deployability,[Exp PyROOT] Update of Cppyy + test fixes,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4264:13,Update,Update,13,https://root.cern,https://github.com/root-project/root/pull/4264,1,['Update'],['Update']
Deployability,[Exp PyROOT] Update the Cppyy packages,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3322:13,Update,Update,13,https://root.cern,https://github.com/root-project/root/pull/3322,1,['Update'],['Update']
Deployability,[Geom] Update VecGeom header paths to post version 1.2.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11790:7,Update,Update,7,https://root.cern,https://github.com/root-project/root/pull/11790,1,['Update'],['Update']
Deployability,"[HF] Fix ROOT-10779, cannot update model with new histograms.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5650:28,update,update,28,https://root.cern,https://github.com/root-project/root/pull/5650,2,['update'],['update']
Deployability,[HS3][RF] Hotfixes,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13813:10,Hotfix,Hotfixes,10,https://root.cern,https://github.com/root-project/root/pull/13813,1,['Hotfix'],['Hotfixes']
Deployability,[Hist] Call UpdateStats() in TProfile::Add for negative coefficients,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14688:12,Update,UpdateStats,12,https://root.cern,https://github.com/root-project/root/pull/14688,1,['Update'],['UpdateStats']
Deployability,[JSROOT] Release notes,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4797:9,Release,Release,9,https://root.cern,https://github.com/root-project/root/pull/4797,1,['Release'],['Release']
Deployability,[JupyROOT] Backport 622: Support installation of JupyROOT lib on Python directories,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6313:33,install,installation,33,https://root.cern,https://github.com/root-project/root/pull/6313,1,['install'],['installation']
Deployability,[JupyROOT] Support installation of JupyROOT lib on Python directories,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6312:19,install,installation,19,https://root.cern,https://github.com/root-project/root/pull/6312,1,['install'],['installation']
Deployability,"[LLVM] Replace ""&"" printing patch with LLVM commit",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/8066:28,patch,patch,28,https://root.cern,https://github.com/root-project/root/pull/8066,1,['patch'],['patch']
Deployability,[MetaCling][ROOT-10872] Apply cppyy patch,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5925:36,patch,patch,36,https://root.cern,https://github.com/root-project/root/pull/5925,1,['patch'],['patch']
Deployability,[Metacling] Integrate cppyy patch for lambdas,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5541:12,Integrat,Integrate,12,https://root.cern,https://github.com/root-project/root/pull/5541,2,"['Integrat', 'patch']","['Integrate', 'patch']"
Deployability,[NFC] Add release notes,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3783:10,release,release,10,https://root.cern,https://github.com/root-project/root/pull/3783,1,['release'],['release']
Deployability,"[NFC] Remove installation instructions from README, point to website",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/8457:13,install,installation,13,https://root.cern,https://github.com/root-project/root/pull/8457,1,['install'],['installation']
Deployability,[NFC] Update RVec rel notes,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12124:6,Update,Update,6,https://root.cern,https://github.com/root-project/root/pull/12124,1,['Update'],['Update']
Deployability,[NFC] Update my contact email,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5708:6,Update,Update,6,https://root.cern,https://github.com/root-project/root/pull/5708,1,['Update'],['Update']
Deployability,[NFC][DF] Add Ivan to release notes,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9223:22,release,release,22,https://root.cern,https://github.com/root-project/root/pull/9223,1,['release'],['release']
Deployability,[NFC][DF] Add note about ProgressBar feature to release notes,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13830:48,release,release,48,https://root.cern,https://github.com/root-project/root/pull/13830,1,['release'],['release']
Deployability,[NFC][DF] Add note about RunGraphs return value to release notes,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13828:51,release,release,51,https://root.cern,https://github.com/root-project/root/pull/13828,1,['release'],['release']
Deployability,[NFC][PyROOT] Add release notes for the ROOT.Numba.Declare feature,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5480:18,release,release,18,https://root.cern,https://github.com/root-project/root/pull/5480,1,['release'],['release']
Deployability,[NFC][RDF][Doc] Mention new analysis tutorials in the release notes,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5512:54,release,release,54,https://root.cern,https://github.com/root-project/root/pull/5512,1,['release'],['release']
Deployability,[NFC][RF] Release notes for RooFit,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4801:10,Release,Release,10,https://root.cern,https://github.com/root-project/root/pull/4801,1,['Release'],['Release']
Deployability,[NFC][TMVA] Users guide -- update instructions for randomised trees,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3256:27,update,update,27,https://root.cern,https://github.com/root-project/root/pull/3256,2,['update'],['update']
Deployability,[NFC][skip-ci] Sall updates to RNTuple docs,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/8687:20,update,updates,20,https://root.cern,https://github.com/root-project/root/pull/8687,1,['update'],['updates']
Deployability,[NFC][skip-ci] Update release notes,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9497:15,Update,Update,15,https://root.cern,https://github.com/root-project/root/pull/9497,2,"['Update', 'release']","['Update', 'release']"
Deployability,[No CI] Update v618 I/O and TTree release notes,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3668:8,Update,Update,8,https://root.cern,https://github.com/root-project/root/pull/3668,2,"['Update', 'release']","['Update', 'release']"
Deployability,[PyROOT & RDF] Release notes,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4784:15,Release,Release,15,https://root.cern,https://github.com/root-project/root/pull/4784,1,['Release'],['Release']
Deployability,"[PyROOT] Add release notes (@pythonization, TTree.AsMatrix)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9511:13,release,release,13,https://root.cern,https://github.com/root-project/root/pull/9511,1,['release'],['release']
Deployability,[PyROOT] Add release notes for 6.18,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3806:13,release,release,13,https://root.cern,https://github.com/root-project/root/pull/3806,1,['release'],['release']
Deployability,[PyROOT] Allow customization of install dir for Python modules,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5907:32,install,install,32,https://root.cern,https://github.com/root-project/root/pull/5907,1,['install'],['install']
Deployability,[PyROOT] Allow customization of install dir for Python modules (v6.22 backport),MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5908:32,install,install,32,https://root.cern,https://github.com/root-project/root/pull/5908,1,['install'],['install']
Deployability,[PyROOT] Backport fixes for installation of PyROOT,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6623:28,install,installation,28,https://root.cern,https://github.com/root-project/root/pull/6623,1,['install'],['installation']
Deployability,[PyROOT] Backport: Install missing header TPyDispatcher.h,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6589:19,Install,Install,19,https://root.cern,https://github.com/root-project/root/pull/6589,1,['Install'],['Install']
Deployability,[PyROOT] Example with inheriting from `ROOT.Math.IMultiGenFunction` doesn't work after recent cppyy upgrade,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15315:100,upgrade,upgrade,100,https://root.cern,https://github.com/root-project/root/issues/15315,1,['upgrade'],['upgrade']
Deployability,[PyROOT] Fix installation of PyROOT Python modules,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9469:13,install,installation,13,https://root.cern,https://github.com/root-project/root/pull/9469,1,['install'],['installation']
Deployability,[PyROOT] Install additional PyROOT headers,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5991:9,Install,Install,9,https://root.cern,https://github.com/root-project/root/pull/5991,1,['Install'],['Install']
Deployability,[PyROOT] Integrate JsMVA into PyROOT,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15402:9,Integrat,Integrate,9,https://root.cern,https://github.com/root-project/root/pull/15402,1,['Integrat'],['Integrate']
Deployability,[PyROOT] Redo patch for multi-python,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6618:14,patch,patch,14,https://root.cern,https://github.com/root-project/root/pull/6618,1,['patch'],['patch']
Deployability,[PyROOT] Remove string converter patches to CPyCppyy,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16212:33,patch,patches,33,https://root.cern,https://github.com/root-project/root/pull/16212,1,['patch'],['patches']
Deployability,[PyROOT] Revert patch for versioned PyROOT libraries,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14703:16,patch,patch,16,https://root.cern,https://github.com/root-project/root/pull/14703,1,['patch'],['patch']
Deployability,[PyROOT] Update GUI demo tutorial,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6627:9,Update,Update,9,https://root.cern,https://github.com/root-project/root/pull/6627,1,['Update'],['Update']
Deployability,[PyROOT] Update `print_roofit_pyz_doctrings.py` to work with Python 2,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/8884:9,Update,Update,9,https://root.cern,https://github.com/root-project/root/pull/8884,1,['Update'],['Update']
Deployability,[PyROOT] Update cppyy to a recent version,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14507:9,Update,Update,9,https://root.cern,https://github.com/root-project/root/pull/14507,1,['Update'],['Update']
Deployability,[RDF][NFC] Update cheat sheet with links to the RDFInterface methods,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2100:11,Update,Update,11,https://root.cern,https://github.com/root-project/root/pull/2100,1,['Update'],['Update']
Deployability,[REve] RenderCore integration,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7185:18,integrat,integration,18,https://root.cern,https://github.com/root-project/root/pull/7185,1,['integrat'],['integration']
Deployability,"[REve] Update to RenderCore release from github, deploy it as builtin tarball",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11936:7,Update,Update,7,https://root.cern,https://github.com/root-project/root/pull/11936,3,"['Update', 'deploy', 'release']","['Update', 'deploy', 'release']"
Deployability,[RF] Add line about SPlot to release notes.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5017:29,release,release,29,https://root.cern,https://github.com/root-project/root/pull/5017,1,['release'],['release']
Deployability,[RF] Add the initial integration of AD to RooFit,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11773:21,integrat,integration,21,https://root.cern,https://github.com/root-project/root/pull/11773,1,['integrat'],['integration']
Deployability,[RF] Analytical integration for RooNDKeysPdf with custom range,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/8019:16,integrat,integration,16,https://root.cern,https://github.com/root-project/root/pull/8019,1,['integrat'],['integration']
Deployability,[RF] Attempt to integrate xRooFit into RooFit,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11499:16,integrat,integrate,16,https://root.cern,https://github.com/root-project/root/pull/11499,1,['integrat'],['integrate']
Deployability,[RF] Avoid any dependencies of RooFitHS3 for dictionary generation and update HistFactory::JSONTool interface,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10082:71,update,update,71,https://root.cern,https://github.com/root-project/root/pull/10082,1,['update'],['update']
Deployability,[RF] Collection of a few small patches.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6693:31,patch,patches,31,https://root.cern,https://github.com/root-project/root/pull/6693,1,['patch'],['patches']
Deployability,[RF] Collection of small code updates,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6111:30,update,updates,30,https://root.cern,https://github.com/root-project/root/pull/6111,1,['update'],['updates']
Deployability,[RF] Collection of small fixes and documentation updates,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4739:49,update,updates,49,https://root.cern,https://github.com/root-project/root/pull/4739,1,['update'],['updates']
Deployability,[RF] Collection of small patches,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6626:25,patch,patches,25,https://root.cern,https://github.com/root-project/root/pull/6626,1,['patch'],['patches']
Deployability,[RF] Collection of small patches.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6653:25,patch,patches,25,https://root.cern,https://github.com/root-project/root/pull/6653,1,['patch'],['patches']
Deployability,[RF] Consider rangeName for integration in RooParamHistFunc,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7198:28,integrat,integration,28,https://root.cern,https://github.com/root-project/root/pull/7198,1,['integrat'],['integration']
Deployability,[RF] Correct RooPoisson integral if integrated from a > 0 to infinity,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11697:36,integrat,integrated,36,https://root.cern,https://github.com/root-project/root/pull/11697,1,['integrat'],['integrated']
Deployability,[RF] Correctly forward integrator config in RooImproperIntegrator1D,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11074:23,integrat,integrator,23,https://root.cern,https://github.com/root-project/root/pull/11074,1,['integrat'],['integrator']
Deployability,[RF] Crash in reading some RooWorkspaces after recent TStreamerInfo update,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10282:68,update,update,68,https://root.cern,https://github.com/root-project/root/issues/10282,1,['update'],['update']
Deployability,[RF] Documentation updates,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3834:19,update,updates,19,https://root.cern,https://github.com/root-project/root/pull/3834,2,['update'],['updates']
Deployability,"[RF] Documentation updates, improvement of warning and error messages",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5315:19,update,updates,19,https://root.cern,https://github.com/root-project/root/pull/5315,1,['update'],['updates']
Deployability,[RF] Documentation updates.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3611:19,update,updates,19,https://root.cern,https://github.com/root-project/root/pull/3611,2,['update'],['updates']
Deployability,[RF] Documentation upgrades in RooFit.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5543:19,upgrade,upgrades,19,https://root.cern,https://github.com/root-project/root/pull/5543,1,['upgrade'],['upgrades']
Deployability,[RF] Enable analytic integration of RooHistPdfs with RooLinearVars,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12482:21,integrat,integration,21,https://root.cern,https://github.com/root-project/root/pull/12482,1,['integrat'],['integration']
Deployability,[RF] Explicitly forbid integration of a `RooAbsRealLValue`,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11162:23,integrat,integration,23,https://root.cern,https://github.com/root-project/root/pull/11162,1,['integrat'],['integration']
Deployability,[RF] Failing tutorial when pandas not installed.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/9357:38,install,installed,38,https://root.cern,https://github.com/root-project/root/issues/9357,1,['install'],['installed']
Deployability,[RF] Fix the integration of a cloned RooParamHistFunc with range,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7478:13,integrat,integration,13,https://root.cern,https://github.com/root-project/root/pull/7478,2,['integrat'],['integration']
Deployability,[RF] Generalize `RooIntegrator1D` to n dimensions and merge with other Romberg integrator classes,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13384:79,integrat,integrator,79,https://root.cern,https://github.com/root-project/root/pull/13384,1,['integrat'],['integrator']
Deployability,[RF] HS3: updates to reflect the suggested changes in the RooFit JSON standard,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12207:10,update,updates,10,https://root.cern,https://github.com/root-project/root/pull/12207,1,['update'],['updates']
Deployability,[RF] Helper functions for bin integration for simultaneous fits,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9358:30,integrat,integration,30,https://root.cern,https://github.com/root-project/root/pull/9358,1,['integrat'],['integration']
Deployability,[RF] Improve doxygen and add release notes.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5555:29,release,release,29,https://root.cern,https://github.com/root-project/root/pull/5555,1,['release'],['release']
Deployability,[RF] Make headers of integrator implementations private,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12146:21,integrat,integrator,21,https://root.cern,https://github.com/root-project/root/pull/12146,1,['integrat'],['integrator']
Deployability,[RF] Make integrator replaceable from outside for bin sampling.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6921:10,integrat,integrator,10,https://root.cern,https://github.com/root-project/root/pull/6921,1,['integrat'],['integrator']
Deployability,[RF] Make it possible to build RooFit CUDA evaluation library standalone to use in existing ROOT release with `cuda=OFF`,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15775:97,release,release,97,https://root.cern,https://github.com/root-project/root/pull/15775,1,['release'],['release']
Deployability,[RF] Make sure that categories in multi-layer SimPdfs get updated.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3738:58,update,updated,58,https://root.cern,https://github.com/root-project/root/pull/3738,2,['update'],['updated']
Deployability,[RF] Many small updates/fixes,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7439:16,update,updates,16,https://root.cern,https://github.com/root-project/root/pull/7439,1,['update'],['updates']
Deployability,[RF] Minor RooFit interface updates,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9337:28,update,updates,28,https://root.cern,https://github.com/root-project/root/pull/9337,1,['update'],['updates']
Deployability,[RF] Misc patches,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6531:10,patch,patches,10,https://root.cern,https://github.com/root-project/root/pull/6531,1,['patch'],['patches']
Deployability,[RF] Move RooFit pythonizations to roofit and make them pip installable,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16608:60,install,installable,60,https://root.cern,https://github.com/root-project/root/pull/16608,1,['install'],['installable']
Deployability,[RF] MultiProcess README.md should be updated to include LikelihoodJob,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10967:38,update,updated,38,https://root.cern,https://github.com/root-project/root/issues/10967,1,['update'],['updated']
Deployability,[RF] Promote `ROOFIT_MEMORY_SAFE_INTERFACES` to users in release notes,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14177:57,release,release,57,https://root.cern,https://github.com/root-project/root/pull/14177,1,['release'],['release']
Deployability,[RF] Release notes.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5876:5,Release,Release,5,https://root.cern,https://github.com/root-project/root/pull/5876,1,['Release'],['Release']
Deployability,[RF] Remove integration code from RooEffProd,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10100:12,integrat,integration,12,https://root.cern,https://github.com/root-project/root/pull/10100,1,['integrat'],['integration']
Deployability,[RF] Remove redundant configuration members of `RooAbsMinimizerFcn`,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11695:22,configurat,configuration,22,https://root.cern,https://github.com/root-project/root/pull/11695,1,['configurat'],['configuration']
Deployability,[RF] Reorganize RooAbsTestStatistic configuration with configuration struct,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7616:36,configurat,configuration,36,https://root.cern,https://github.com/root-project/root/pull/7616,2,['configurat'],['configuration']
Deployability,[RF] RooAbsData code modernization and docmumentation update,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10663:54,update,update,54,https://root.cern,https://github.com/root-project/root/pull/10663,1,['update'],['update']
Deployability,[RF] RooFit open issues and backports for 6.26.00 release,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/9508:50,release,release,50,https://root.cern,https://github.com/root-project/root/issues/9508,1,['release'],['release']
Deployability,[RF] RooFit open issues and backports for 6.26.02 release,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10112:50,release,release,50,https://root.cern,https://github.com/root-project/root/issues/10112,1,['release'],['release']
Deployability,[RF] RooFit open issues and backports for 6.26.04 release,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10493:50,release,release,50,https://root.cern,https://github.com/root-project/root/issues/10493,1,['release'],['release']
Deployability,[RF] RooFit open issues and backports for 6.26.06 release,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10758:50,release,release,50,https://root.cern,https://github.com/root-project/root/issues/10758,1,['release'],['release']
Deployability,[RF] RooFit open issues and backports for 6.26.08/10 releases,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11059:53,release,releases,53,https://root.cern,https://github.com/root-project/root/issues/11059,1,['release'],['releases']
Deployability,[RF] RooFit open issues and backports for 6.26.12 release,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11534:50,release,release,50,https://root.cern,https://github.com/root-project/root/issues/11534,1,['release'],['release']
Deployability,[RF] RooFit open issues and backports for 6.28 patch releases,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12319:47,patch,patch,47,https://root.cern,https://github.com/root-project/root/issues/12319,2,"['patch', 'release']","['patch', 'releases']"
Deployability,[RF] RooFit open issues and backports for 6.28.00 release,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11856:50,release,release,50,https://root.cern,https://github.com/root-project/root/issues/11856,1,['release'],['release']
Deployability,[RF] RooFit open issues and backports for 6.30 releases,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13458:47,release,releases,47,https://root.cern,https://github.com/root-project/root/issues/13458,1,['release'],['releases']
Deployability,[RF] RooHypatia2 Analytical integral integration,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7254:37,integrat,integration,37,https://root.cern,https://github.com/root-project/root/issues/7254,1,['integrat'],['integration']
Deployability,[RF] RooTruthModel analytical integrals for general integration ranges,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14021:52,integrat,integration,52,https://root.cern,https://github.com/root-project/root/pull/14021,1,['integrat'],['integration']
Deployability,[RF] Set BatchMode in `stressRooFit` via global configuration flag,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12719:48,configurat,configuration,48,https://root.cern,https://github.com/root-project/root/pull/12719,1,['configurat'],['configuration']
Deployability,[RF] Several improvements to the RooFit build configuration,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13915:46,configurat,configuration,46,https://root.cern,https://github.com/root-project/root/pull/13915,1,['configurat'],['configuration']
Deployability,[RF] Some RooFit code updated with range-based loops and smart ptrs,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10686:22,update,updated,22,https://root.cern,https://github.com/root-project/root/pull/10686,1,['update'],['updated']
Deployability,[RF] Some RooFit documentation updates,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11420:31,update,updates,31,https://root.cern,https://github.com/root-project/root/pull/11420,1,['update'],['updates']
Deployability,[RF] Tweak release notes.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5875:11,release,release,11,https://root.cern,https://github.com/root-project/root/pull/5875,1,['release'],['release']
Deployability,[RF] Update ParamHistFunc.cxx - remove bogus assertion,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12725:5,Update,Update,5,https://root.cern,https://github.com/root-project/root/pull/12725,1,['Update'],['Update']
Deployability,[RF] Update Python version of rf408 tutorial,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/9360:5,Update,Update,5,https://root.cern,https://github.com/root-project/root/issues/9360,1,['Update'],['Update']
Deployability,[RF] Update Python version of rf408_RDataFrameToRooFit tutorial,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10893:5,Update,Update,5,https://root.cern,https://github.com/root-project/root/pull/10893,1,['Update'],['Update']
Deployability,[RF] Update RooAbsCollection.cxx - fix invalid read bug in remove,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13033:5,Update,Update,5,https://root.cern,https://github.com/root-project/root/pull/13033,1,['Update'],['Update']
Deployability,[RF] Update RooAbsReal to use less owning pointers,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/8262:5,Update,Update,5,https://root.cern,https://github.com/root-project/root/pull/8262,1,['Update'],['Update']
Deployability,[RF] Update RooFit AD to support ATLAS and CMS Higgs combinations,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15616:5,Update,Update,5,https://root.cern,https://github.com/root-project/root/pull/15616,1,['Update'],['Update']
Deployability,[RF] Update RooFit `rf204b_extendedLikelihood_rangedFit` tutorial,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11378:5,Update,Update,5,https://root.cern,https://github.com/root-project/root/pull/11378,1,['Update'],['Update']
Deployability,[RF] Update RooFitResult.cxx - use printValue for constPars,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13056:5,Update,Update,5,https://root.cern,https://github.com/root-project/root/pull/13056,1,['Update'],['Update']
Deployability,[RF] Update SBI tutorials with improved plot styling and labels,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16692:5,Update,Update,5,https://root.cern,https://github.com/root-project/root/pull/16692,1,['Update'],['Update']
Deployability,[RF] Update crystal ball shapes in RooFit,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7258:5,Update,Update,5,https://root.cern,https://github.com/root-project/root/issues/7258,1,['Update'],['Update']
Deployability,[RF] Update reference files for testProxiesAndCategories,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/8790:5,Update,Update,5,https://root.cern,https://github.com/root-project/root/pull/8790,1,['Update'],['Update']
Deployability,[RF] Update release notes.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5707:5,Update,Update,5,https://root.cern,https://github.com/root-project/root/pull/5707,2,"['Update', 'release']","['Update', 'release']"
Deployability,[RF] Update the HS3 HistFactory implementation,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12340:5,Update,Update,5,https://root.cern,https://github.com/root-project/root/pull/12340,1,['Update'],['Update']
Deployability,[RF] Update to latest xRooFit,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13717:5,Update,Update,5,https://root.cern,https://github.com/root-project/root/pull/13717,1,['Update'],['Update']
Deployability,[RF] Update xRooFit,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15301:5,Update,Update,5,https://root.cern,https://github.com/root-project/root/pull/15301,2,['Update'],['Update']
Deployability,[RF] Update xroofit,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14292:5,Update,Update,5,https://root.cern,https://github.com/root-project/root/pull/14292,4,['Update'],['Update']
Deployability,[RF] Update/fix a few tutorials.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5983:5,Update,Update,5,https://root.cern,https://github.com/root-project/root/pull/5983,1,['Update'],['Update']
Deployability,[RF] Updates to RooFit tutorials necessary before the next release,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/8808:5,Update,Updates,5,https://root.cern,https://github.com/root-project/root/issues/8808,2,"['Update', 'release']","['Updates', 'release']"
Deployability,[RF] Updates to the RooFit code generation,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16007:5,Update,Updates,5,https://root.cern,https://github.com/root-project/root/pull/16007,1,['Update'],['Updates']
Deployability,[RF] WIP RooFit codegen + AD updates,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13133:29,update,updates,29,https://root.cern,https://github.com/root-project/root/pull/13133,1,['update'],['updates']
Deployability,[RF] Wrong integral for RooPoisson if integrated from a > 0 to infinity,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10868:38,integrat,integrated,38,https://root.cern,https://github.com/root-project/root/issues/10868,1,['integrat'],['integrated']
Deployability,[RF] remove RooGradMinimizerFcn and simplify RooMinimizer configuration,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11716:58,configurat,configuration,58,https://root.cern,https://github.com/root-project/root/pull/11716,2,['configurat'],['configuration']
Deployability,[RF] update MultiProcess/TestStatistics docs,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16788:5,update,update,5,https://root.cern,https://github.com/root-project/root/pull/16788,1,['update'],['update']
Deployability,[RF] update bernstein using std::tie for xmin and xmax,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5506:5,update,update,5,https://root.cern,https://github.com/root-project/root/pull/5506,1,['update'],['update']
Deployability,[RF] v6-26-00-patches branch fails to build on ubuntu 18.04,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10107:14,patch,patches,14,https://root.cern,https://github.com/root-project/root/issues/10107,1,['patch'],['patches']
Deployability,[RF] xroofit update,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15843:13,update,update,13,https://root.cern,https://github.com/root-project/root/pull/15843,1,['update'],['update']
Deployability,[RF][Docs] Breaking changes of batch computation interface not documented in release notes,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7454:77,release,release,77,https://root.cern,https://github.com/root-project/root/issues/7454,1,['release'],['release']
Deployability,[RF][Docs] Documentation updates,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4147:25,update,updates,25,https://root.cern,https://github.com/root-project/root/pull/4147,2,['update'],['updates']
Deployability,[RF][Docs] Documentation updates / fixes collected througout june.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4009:25,update,updates,25,https://root.cern,https://github.com/root-project/root/pull/4009,1,['update'],['updates']
Deployability,[RF][Docs] Documentation updates for RooFit,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7451:25,update,updates,25,https://root.cern,https://github.com/root-project/root/pull/7451,1,['update'],['updates']
Deployability,[RF][Docs] Documentation updates.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6145:25,update,updates,25,https://root.cern,https://github.com/root-project/root/pull/6145,1,['update'],['updates']
Deployability,[RF][HF] Update `hf001_example` tutorial with example fit and plot,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16323:9,Update,Update,9,https://root.cern,https://github.com/root-project/root/pull/16323,1,['Update'],['Update']
Deployability,[RF][NFC] Collection of documentation updates from june.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5964:38,update,updates,38,https://root.cern,https://github.com/root-project/root/pull/5964,1,['update'],['updates']
Deployability,[RF][No CI] Update release notes.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3662:12,Update,Update,12,https://root.cern,https://github.com/root-project/root/pull/3662,2,"['Update', 'release']","['Update', 'release']"
Deployability,[RF][RelNotes] Final RooFit release notes and documentation changes for v626 release,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9799:28,release,release,28,https://root.cern,https://github.com/root-project/root/pull/9799,2,['release'],['release']
Deployability,"[RM] Exclude ""rdict"" from install script",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3228:26,install,install,26,https://root.cern,https://github.com/root-project/root/pull/3228,1,['install'],['install']
Deployability,"[ROOT-10093] When generating events with simultaneous PDFs that contain; further simultaneous PDFs, the category tags of each generated event have to be updated to yield a usable dataset.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3738:153,update,updated,153,https://root.cern,https://github.com/root-project/root/pull/3738,1,['update'],['updated']
Deployability,"[ROOT-10093] When generating events with simultaneous PDFs that contain; simultaneous PDFs as children, the category tags for the children have to; be updated before being written into a dataset. Otherwise, a dataset with; wrong category labels is obtained. (cherry picked from commit 0a107acffd708818361dfbfefc2369fa45e9306f)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3739:151,update,updated,151,https://root.cern,https://github.com/root-project/root/pull/3739,1,['update'],['updated']
Deployability,[ROOT-10370] Update buitin version of CFITSIO,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4566:13,Update,Update,13,https://root.cern,https://github.com/root-project/root/pull/4566,1,['Update'],['Update']
Deployability,[ROOT-10529] Copy class.rules during configuration time,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4876:37,configurat,configuration,37,https://root.cern,https://github.com/root-project/root/pull/4876,1,['configurat'],['configuration']
Deployability,"[ROOT-10713][ROOT-7986] Several objects were leaking when being read from a file. This is because ownership was unclear, and because reading apparently wasn't tested.; Here; - Four leaks are fixed; - A reading test is added (which is reading the object that revealed all the leaks. This tests both for leaks in address sanitizer builds, but also ensures that the updated streamers still work.); - A container overflow detected by address sanitizer is fixed.; - And the includes of RooRealVar are stripped down significantly. This is nice for RooFit, since almost everything includes RooRealVar.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5466:363,update,updated,363,https://root.cern,https://github.com/root-project/root/pull/5466,1,['update'],['updated']
Deployability,[ROOT-10872][PyROOT] Backport 6.22: Update Dispatcher to prevent use of deleted copy…,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6020:36,Update,Update,36,https://root.cern,https://github.com/root-project/root/pull/6020,1,['Update'],['Update']
Deployability,[ROOT-10872][PyROOT] Update Dispatcher to prevent use of deleted copy…,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6005:21,Update,Update,21,https://root.cern,https://github.com/root-project/root/pull/6005,1,['Update'],['Update']
Deployability,[ROOT-130] Update Minuit2 User Guide,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14551:11,Update,Update,11,https://root.cern,https://github.com/root-project/root/issues/14551,1,['Update'],['Update']
Deployability,[ROOT-9489] Exclude Clang from install directive when using shared LLVM,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2653:31,install,install,31,https://root.cern,https://github.com/root-project/root/pull/2653,1,['install'],['install']
Deployability,"[ROOT-9518] The analytical integral of RooPoisson was interpolating between the points of the; discrete CDF. The CDF, however, is shifted by 1 such that asking for CDF_Pois(x=0, mu=1); yields 0. [ROOT-5333] Further, giving a range with an upper limit larger than max int (variables without; ranges will default to 1.E30) will overflow an integer and yield NaN. Now, max int will be used; as end of the integration range, yielding an integral of 1 in such cases. For an unlimited range,; the integral will always be 1. The CDF obtained with these changes is now discrete.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3326:402,integrat,integration,402,https://root.cern,https://github.com/root-project/root/pull/3326,1,['integrat'],['integration']
Deployability,[ROOT-9685] Fix installation of generated kernel.json file,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2952:16,install,installation,16,https://root.cern,https://github.com/root-project/root/pull/2952,1,['install'],['installation']
Deployability,[ROOT-9685] Fix installation of generated kernel.json file (6.14 patches),MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2969:16,install,installation,16,https://root.cern,https://github.com/root-project/root/pull/2969,2,"['install', 'patch']","['installation', 'patches']"
Deployability,[ROOT-9685] Fix installation of generated kernel.json file (6.16 patches),MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2970:16,install,installation,16,https://root.cern,https://github.com/root-project/root/pull/2970,2,"['install', 'patch']","['installation', 'patches']"
Deployability,[ROOT-9924] Fix installation of clad and its headers,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3337:16,install,installation,16,https://root.cern,https://github.com/root-project/root/pull/3337,1,['install'],['installation']
Deployability,[RS] Update HypoTestInverterResult::ExclusionCleanup.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6219:5,Update,Update,5,https://root.cern,https://github.com/root-project/root/pull/6219,1,['Update'],['Update']
Deployability,[RelNotes] Backport small tweaks for RF-related release notes.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7466:48,release,release,48,https://root.cern,https://github.com/root-project/root/pull/7466,1,['release'],['release']
Deployability,[RelNotes] Clarify statement in 6.18 release notes.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6909:37,release,release,37,https://root.cern,https://github.com/root-project/root/pull/6909,2,['release'],['release']
Deployability,[RelNotes] Update release notes for RooFit.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7452:11,Update,Update,11,https://root.cern,https://github.com/root-project/root/pull/7452,4,"['Update', 'release']","['Update', 'release']"
Deployability,[Skip-CI] Update code owners,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14377:10,Update,Update,10,https://root.cern,https://github.com/root-project/root/pull/14377,1,['Update'],['Update']
Deployability,[TCling] Updates required by Cling's Definitionshadower,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4446:9,Update,Updates,9,https://root.cern,https://github.com/root-project/root/pull/4446,1,['Update'],['Updates']
Deployability,[TDF] Backport doc updates to v6.12,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1537:19,update,updates,19,https://root.cern,https://github.com/root-project/root/pull/1537,1,['update'],['updates']
Deployability,[TDF] Backport latest patches,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1552:22,patch,patches,22,https://root.cern,https://github.com/root-project/root/pull/1552,1,['patch'],['patches']
Deployability,[TDF] Integrate TVec with TDF,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1676:6,Integrat,Integrate,6,https://root.cern,https://github.com/root-project/root/pull/1676,1,['Integrat'],['Integrate']
Deployability,[TDF] Update user guide,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/418:6,Update,Update,6,https://root.cern,https://github.com/root-project/root/pull/418,2,['Update'],['Update']
Deployability,[TDF] Update/improve naming of internal variables and methods,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1902:6,Update,Update,6,https://root.cern,https://github.com/root-project/root/pull/1902,1,['Update'],['Update']
Deployability,[TDF][VecOps] Improve integration of VecOps and TDF,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1679:22,integrat,integration,22,https://root.cern,https://github.com/root-project/root/pull/1679,1,['integrat'],['integration']
Deployability,[TMVA] Add new features to release notes,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4800:27,release,release,27,https://root.cern,https://github.com/root-project/root/pull/4800,1,['release'],['release']
Deployability,[TMVA] Add operations needed for performing optimizer updates:,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2315:54,update,updates,54,https://root.cern,https://github.com/root-project/root/pull/2315,1,['update'],['updates']
Deployability,[TMVA] Doc - Update TMVA License location,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2410:13,Update,Update,13,https://root.cern,https://github.com/root-project/root/pull/2410,1,['Update'],['Update']
Deployability,[TMVA] JsMVA -- Update d3 lib,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2353:16,Update,Update,16,https://root.cern,https://github.com/root-project/root/pull/2353,1,['Update'],['Update']
Deployability,[TMVA] Optimizer choice simplification (Update of #3414),MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3493:40,Update,Update,40,https://root.cern,https://github.com/root-project/root/pull/3493,1,['Update'],['Update']
Deployability,[TMVA] Update Keras tutorials using tensorflow.keras,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7255:7,Update,Update,7,https://root.cern,https://github.com/root-project/root/pull/7255,1,['Update'],['Update']
Deployability,[TMVA] Update User's Guide authors,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2399:7,Update,Update,7,https://root.cern,https://github.com/root-project/root/pull/2399,1,['Update'],['Update']
Deployability,[TMVA] Update documentation pdf,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2465:7,Update,Update,7,https://root.cern,https://github.com/root-project/root/pull/2465,1,['Update'],['Update']
Deployability,[TMVA] [SOFIE] Update SOFIE documentation,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13095:15,Update,Update,15,https://root.cern,https://github.com/root-project/root/pull/13095,1,['Update'],['Update']
Deployability,[TRint] Properly update the prompt after incomplete input on a nested call to `TROOT::ProcessLine()`,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9733:17,update,update,17,https://root.cern,https://github.com/root-project/root/pull/9733,1,['update'],['update']
Deployability,"[This issue](https://github.com/root-project/root/issues/16523) noted that the GL component of ROOT is not functioning correctly on Mac. It appears that the problem is related to the use of an incorrect OpenGL library for rendering GL images. This additional library, which comes with XQuartz, is required when installing glew. This pull request aims to ensure that the system's OpenGL library is given priority.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16543:311,install,installing,311,https://root.cern,https://github.com/root-project/root/pull/16543,1,['install'],['installing']
Deployability,[Tree][skip-ci] Update documentation of TTreeFormula,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16025:16,Update,Update,16,https://root.cern,https://github.com/root-project/root/pull/16025,1,['Update'],['Update']
Deployability,"[Tutorials] Make converttonotebook smarter, and update RF tutorials.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5913:48,update,update,48,https://root.cern,https://github.com/root-project/root/pull/5913,1,['update'],['update']
Deployability,"[UPDATE]: The problem is in the default internal flag used for computing the combined error. Code below works if one uses correct settings. See comments below. The TGraphMultiErrors does not implement correctly the overloads from TGraph of the error getters. ; In case of multiple errors, the function should returned , according to the documentation, the combined error, summing them in quadrature assuming they are un-correlated. This causes that a wrong error is used when fitting.; See https://root-forum.cern.ch/t/tgraphmultierrors-fitting/47807. To reproduce: ; ```; TGraphMultiErrors g;; g.AddPoint(2,3);; double e1[1] = {1};; double e2[1] = {3}; ; g.AddYError(1, e1, e1);; g.AddYError(1, e2, e2); ; std::cout << g.GetEYlow()[0] << std::endl;; ```. As a side note, the interface needs several improvements ! It is not clear how to correctly fill the input errors. ; One should probably use just std::vector and make it clear how points and errors are referenced in the input arrays.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/9335:1,UPDATE,UPDATE,1,https://root.cern,https://github.com/root-project/root/issues/9335,1,['UPDATE'],['UPDATE']
Deployability,[WIP] Runtime modules patch,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/788:22,patch,patch,22,https://root.cern,https://github.com/root-project/root/pull/788,1,['patch'],['patch']
Deployability,[WIP][cling] Review workarounds for upstreamed patches,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16409:47,patch,patches,47,https://root.cern,https://github.com/root-project/root/pull/16409,1,['patch'],['patches']
Deployability,[Work Product] This pull request contains the code pertaining to the **Google Summer of Code 2020** project [Development of 3D CNN in TMVA](https://summerofcode.withgoogle.com/projects/#5442246578536448). It implements the following features:. - 3D CNN layer for cpu and and tests for the same; - 3D MaxPool layer for cpu and tests for the same. Implementation for CUDA architecture is still WIP. The last commit is Added backward pass tests([1b82793](https://github.com/root-project/root/pull/6263/commits/1b8279319807d1940b5f4a3d5278e15f74a941fa)). These features are yet to be merged. Detailed updates can be found on my [blog post](https://surya2191997.github.io/).,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6263:597,update,updates,597,https://root.cern,https://github.com/root-project/root/pull/6263,1,['update'],['updates']
Deployability,[Work Product] This pull request contains the code pertaining to the GSoC 2019 project [Development of LSTM and GRU layers in TMVA](https://summerofcode.withgoogle.com/projects/#5680527699345408). It implements the following features:. - LSTM layer for cpu and ref architecture types and tests for the same; - GRU layer for cpu and ref architecture types and tests for the same. Implementation for CUDA architecture is still WIP. The last commit is **Added comments**(9c94d63). These features are yet to be merged. Detailed updates can be found on my [blog post](https://surya2191997.github.io/),MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3924:524,update,updates,524,https://root.cern,https://github.com/root-project/root/pull/3924,1,['update'],['updates']
Deployability,[afterimage] Update to latest config.guess,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16260:13,Update,Update,13,https://root.cern,https://github.com/root-project/root/pull/16260,1,['Update'],['Update']
Deployability,[asan] Fix asan configuration for MacOS,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16499:16,configurat,configuration,16,https://root.cern,https://github.com/root-project/root/pull/16499,1,['configurat'],['configuration']
Deployability,[backport][NFC][DF] Add note about ProgressBar addition to release notes,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13838:59,release,release,59,https://root.cern,https://github.com/root-project/root/pull/13838,1,['release'],['release']
Deployability,[backport][relnotes] Relnote update Marta - df106 tutorials,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13960:29,update,update,29,https://root.cern,https://github.com/root-project/root/pull/13960,1,['update'],['update']
Deployability,[bug] Update TVirtualX.cxx to fix 6483,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6547:6,Update,Update,6,https://root.cern,https://github.com/root-project/root/pull/6547,1,['Update'],['Update']
Deployability,[bugfix] Update SimplexBuilder.cxx to fix #6775,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10492:9,Update,Update,9,https://root.cern,https://github.com/root-project/root/pull/10492,1,['Update'],['Update']
Deployability,[builtins] Update Davix to latest available version: 0.7.6,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7331:11,Update,Update,11,https://root.cern,https://github.com/root-project/root/pull/7331,1,['Update'],['Update']
Deployability,[builtins] Update builtin xrootd to 5.3.0 and move it to proper ROOT builtins,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7335:11,Update,Update,11,https://root.cern,https://github.com/root-project/root/pull/7335,1,['Update'],['Update']
Deployability,[builtins] Update xxhash to latest version: 0.8.0,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7328:11,Update,Update,11,https://root.cern,https://github.com/root-project/root/pull/7328,1,['Update'],['Update']
Deployability,[cefdisplay] update CEF code [skip-ci],MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13486:13,update,update,13,https://root.cern,https://github.com/root-project/root/pull/13486,1,['update'],['update']
Deployability,[ci-config] Add dependabot to update GitHub Actions,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14683:30,update,update,30,https://root.cern,https://github.com/root-project/root/pull/14683,1,['update'],['update']
Deployability,[ci] Add Python version to Windows precomplied release title or filename,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15774:47,release,release,47,https://root.cern,https://github.com/root-project/root/issues/15774,1,['release'],['release']
Deployability,[ci] Exclude Debug configurations on Windows from the matrix [skip-ci],MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13086:19,configurat,configurations,19,https://root.cern,https://github.com/root-project/root/pull/13086,1,['configurat'],['configurations']
Deployability,[ci] Exclude Win Debug from releases,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16490:28,release,releases,28,https://root.cern,https://github.com/root-project/root/pull/16490,1,['release'],['releases']
Deployability,[ci] Fix many duplications and mistakes in the CI configuration,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14852:50,configurat,configuration,50,https://root.cern,https://github.com/root-project/root/pull/14852,1,['configurat'],['configuration']
Deployability,[ci] Fix release binaries.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13786:9,release,release,9,https://root.cern,https://github.com/root-project/root/pull/13786,1,['release'],['release']
Deployability,"[ci] For Windows, only build artifacts for Release: [skip-ci]",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12593:43,Release,Release,43,https://root.cern,https://github.com/root-project/root/pull/12593,1,['Release'],['Release']
Deployability,[ci] Optimize total build action time acting on compression of artifacts and releases,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15802:77,release,releases,77,https://root.cern,https://github.com/root-project/root/pull/15802,1,['release'],['releases']
Deployability,[ci] Revert Numba restrictions and lock NumPy version for upgrades,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16209:58,upgrade,upgrades,58,https://root.cern,https://github.com/root-project/root/pull/16209,1,['upgrade'],['upgrades']
Deployability,[ci] Start integration for the v6-34-00-patches,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16728:11,integrat,integration,11,https://root.cern,https://github.com/root-project/root/pull/16728,2,"['integrat', 'patch']","['integration', 'patches']"
Deployability,[ci] The only Mac in the new CI was upgraded to macOS 14.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13757:36,upgrade,upgraded,36,https://root.cern,https://github.com/root-project/root/pull/13757,1,['upgrade'],['upgraded']
Deployability,[ci] Update builtin xrootd and davix versions,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16665:5,Update,Update,5,https://root.cern,https://github.com/root-project/root/pull/16665,1,['Update'],['Update']
Deployability,[ci] Upgrade builtin xrootd and openssl versions,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14995:5,Upgrade,Upgrade,5,https://root.cern,https://github.com/root-project/root/pull/14995,1,['Upgrade'],['Upgrade']
Deployability,[clad] Also update the version on unix.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2719:12,update,update,12,https://root.cern,https://github.com/root-project/root/pull/2719,1,['update'],['update']
Deployability,[clad] Fix corrupt patch file (missing space in context).,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12833:19,patch,patch,19,https://root.cern,https://github.com/root-project/root/pull/12833,1,['patch'],['patch']
Deployability,[clang-analyzer-security.insecureAPI.strcpy]; 1: expanded from macro 'strcat0' in /opt/root_src/net/http/civetweb/civetweb.c:18868; 2: Call to function 'strcat' is insecure as it does not provide bounding of the memory buffer. Replace unbounded copy functions with analogous functions that support length arguments such as 'strlcat'. CWE-119 in /opt/root_src/net/http/civetweb/civetweb.c:19242; 3: expanded from macro 'strcat0' in /opt/root_src/net/http/civetweb/civetweb.c:18868; /opt/root_src/net/net/src/TNetFile.cxx:697:7: warning: Value stored to 'read' is never read [clang-analyzer-deadcode.DeadStores]; 1: Value stored to 'read' is never read in /opt/root_src/net/net/src/TNetFile.cxx:697; /opt/root_src/net/net/src/TNetFile.cxx:722:7: warning: Value stored to 'recreate' is never read [clang-analyzer-deadcode.DeadStores]; 1: Value stored to 'recreate' is never read in /opt/root_src/net/net/src/TNetFile.cxx:722; /opt/root_src/net/net/src/TNetFile.cxx:728:7: warning: Value stored to 'update' is never read [clang-analyzer-deadcode.DeadStores]; 1: Value stored to 'update' is never read in /opt/root_src/net/net/src/TNetFile.cxx:728; /opt/root_src/net/net/src/TSQLMonitoring.cxx:178:99: warning: Called C++ object pointer is null [clang-analyzer-core.CallAndMessage]; 1: Assuming field 'fDB' is non-null in /opt/root_src/net/net/src/TSQLMonitoring.cxx:89; 2: Taking false branch in /opt/root_src/net/net/src/TSQLMonitoring.cxx:89; 3: Assuming 'values' is non-null in /opt/root_src/net/net/src/TSQLMonitoring.cxx:95; 4: Left side of '||' is false in /opt/root_src/net/net/src/TSQLMonitoring.cxx:95; 5: 'values' is non-null in /opt/root_src/net/net/src/TSQLMonitoring.cxx:95; 6: Left side of '&&' is true in /opt/root_src/net/net/src/TSQLMonitoring.cxx:95; 7: Assuming the condition is false in /opt/root_src/net/net/src/TSQLMonitoring.cxx:95; 8: Taking false branch in /opt/root_src/net/net/src/TSQLMonitoring.cxx:95; 9: Loop condition is true. Entering loop body in /opt/root_src/net/net/sr,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7528:81874,update,update,81874,https://root.cern,https://github.com/root-project/root/issues/7528,1,['update'],['update']
Deployability,[clang] Backport patch to merge template member parent,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13370:17,patch,patch,17,https://root.cern,https://github.com/root-project/root/pull/13370,1,['patch'],['patch']
Deployability,[clang] Revert patch to `Sema::computeDeclContext`,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13123:15,patch,patch,15,https://root.cern,https://github.com/root-project/root/pull/13123,1,['patch'],['patch']
Deployability,[cling-cpt]Fix broken requirements check for cpt - Cling's installer,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5605:59,install,installer,59,https://root.cern,https://github.com/root-project/root/pull/5605,1,['install'],['installer']
Deployability,[cling] Install the modulemap files,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7455:8,Install,Install,8,https://root.cern,https://github.com/root-project/root/pull/7455,1,['Install'],['Install']
Deployability,[cling] New interface to export Cling run-time configuration bits.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6928:47,configurat,configuration,47,https://root.cern,https://github.com/root-project/root/pull/6928,1,['configurat'],['configuration']
Deployability,[cling] Re-enable CodeGen-OptLevel after llvm13 upgrade:,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11945:48,upgrade,upgrade,48,https://root.cern,https://github.com/root-project/root/pull/11945,1,['upgrade'],['upgrade']
Deployability,[cling] Review workarounds for upstreamed patches,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14210:42,patch,patches,42,https://root.cern,https://github.com/root-project/root/issues/14210,1,['patch'],['patches']
Deployability,[cling] Use canary bytes to determine whether to run dtor:,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4074:12,canary,canary,12,https://root.cern,https://github.com/root-project/root/pull/4074,1,['canary'],['canary']
Deployability,[cling] backport patch from llvm 13~dev to fix problem with -fgpu-rdc,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/8112:17,patch,patch,17,https://root.cern,https://github.com/root-project/root/issues/8112,1,['patch'],['patch']
Deployability,[cmake] Adapt to ZeroMQ 4.3.5 being now released,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14003:40,release,released,40,https://root.cern,https://github.com/root-project/root/pull/14003,1,['release'],['released']
Deployability,[cmake] Backport in 6.26 patches update of vdt to 0.4.4 to fix macOS 12.3.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10234:25,patch,patches,25,https://root.cern,https://github.com/root-project/root/pull/10234,2,"['patch', 'update']","['patches', 'update']"
Deployability,[cmake] Do not operate on install directory at build time,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10198:26,install,install,26,https://root.cern,https://github.com/root-project/root/pull/10198,1,['install'],['install']
Deployability,[cmake] Do not operate on install directory at build time (v6.26),MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10199:26,install,install,26,https://root.cern,https://github.com/root-project/root/pull/10199,1,['install'],['install']
Deployability,[cmake] Fix installation of the prepareHistFactory script on Windows,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12015:12,install,installation,12,https://root.cern,https://github.com/root-project/root/pull/12015,1,['install'],['installation']
Deployability,[cmake] Patch tbb for Apple M1 (issue #6903).,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7020:8,Patch,Patch,8,https://root.cern,https://github.com/root-project/root/pull/7020,1,['Patch'],['Patch']
Deployability,[cmake] Set ROOT_VERSION to major.minor.patch (ROOT-10142):,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3864:40,patch,patch,40,https://root.cern,https://github.com/root-project/root/pull/3864,1,['patch'],['patch']
Deployability,[cmake] Set the permissions for etc and other folders that are in the source tree when installing,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15138:87,install,installing,87,https://root.cern,https://github.com/root-project/root/pull/15138,1,['install'],['installing']
Deployability,[cmake] Update XRootD to v5.4.2,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10025:8,Update,Update,8,https://root.cern,https://github.com/root-project/root/pull/10025,2,['Update'],['Update']
Deployability,[cmake] Update XRootD to v5.4.3,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10725:8,Update,Update,8,https://root.cern,https://github.com/root-project/root/pull/10725,2,['Update'],['Update']
Deployability,[cmake] Update XRootD to v5.5.0,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11328:8,Update,Update,8,https://root.cern,https://github.com/root-project/root/pull/11328,2,['Update'],['Update']
Deployability,[cmake] Update XRootD to v5.5.1,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11613:8,Update,Update,8,https://root.cern,https://github.com/root-project/root/pull/11613,2,['Update'],['Update']
Deployability,[cmake] Update built-in xrootd to 4.12.3:,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5874:8,Update,Update,8,https://root.cern,https://github.com/root-project/root/pull/5874,1,['Update'],['Update']
Deployability,[cmake] Update builtin tbb to 2021.9.0.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12726:8,Update,Update,8,https://root.cern,https://github.com/root-project/root/pull/12726,1,['Update'],['Update']
Deployability,[cmake] Update tbb to 2019U9:,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4593:8,Update,Update,8,https://root.cern,https://github.com/root-project/root/pull/4593,1,['Update'],['Update']
Deployability,[cmake] macOS: prefer user-provided Python install over Framework:,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6789:43,install,install,43,https://root.cern,https://github.com/root-project/root/pull/6789,1,['install'],['install']
Deployability,[cmake] update urls in windows installer [skip-ci],MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/8506:8,update,update,8,https://root.cern,https://github.com/root-project/root/pull/8506,2,"['install', 'update']","['installer', 'update']"
Deployability,[cmake][PyROOT] Pythonizations in build directory don't get updated in incremental builds,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11233:60,update,updated,60,https://root.cern,https://github.com/root-project/root/issues/11233,1,['update'],['updated']
Deployability,[cmake][windows] Don't install system DLLs,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15114:23,install,install,23,https://root.cern,https://github.com/root-project/root/pull/15114,1,['install'],['install']
Deployability,[config] remove install of removed root-help.el,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13711:16,install,install,16,https://root.cern,https://github.com/root-project/root/pull/13711,1,['install'],['install']
Deployability,[core] Add installation step for gitinfo.txt,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13794:11,install,installation,11,https://root.cern,https://github.com/root-project/root/pull/13794,1,['install'],['installation']
Deployability,[core] Don't split TStorage::UpdateIsOnHeap declaration and definition,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10500:29,Update,UpdateIsOnHeap,29,https://root.cern,https://github.com/root-project/root/pull/10500,1,['Update'],['UpdateIsOnHeap']
Deployability,[core] TDirectory::RegisterGDirectory must not update other TDirectoy without lock,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/8924:47,update,update,47,https://root.cern,https://github.com/root-project/root/pull/8924,1,['update'],['update']
Deployability,"[core] Update ""logo"" to 2022 (NFC).",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10129:7,Update,Update,7,https://root.cern,https://github.com/root-project/root/pull/10129,1,['Update'],['Update']
Deployability,[core] Update RStringView.hxx,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/8108:7,Update,Update,7,https://root.cern,https://github.com/root-project/root/pull/8108,1,['Update'],['Update']
Deployability,[core] Update TCollection.cxx to prevent null pointer dereference.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6634:7,Update,Update,7,https://root.cern,https://github.com/root-project/root/pull/6634,1,['Update'],['Update']
Deployability,[core] Update davix to 0.8.6 and openssl to 3.0.13,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15466:7,Update,Update,7,https://root.cern,https://github.com/root-project/root/pull/15466,1,['Update'],['Update']
Deployability,[cxxmodules] Also install generated C++ modules,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2024:18,install,install,18,https://root.cern,https://github.com/root-project/root/pull/2024,1,['install'],['install']
Deployability,[cxxmodules] Also install the overlay file and modulemaps,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2023:18,install,install,18,https://root.cern,https://github.com/root-project/root/pull/2023,1,['install'],['install']
Deployability,[cxxmodules] Complain if glibc is not installed.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9057:38,install,installed,38,https://root.cern,https://github.com/root-project/root/pull/9057,1,['install'],['installed']
Deployability,[cxxmodules] Create a overlay file for installed directory,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3179:39,install,installed,39,https://root.cern,https://github.com/root-project/root/pull/3179,1,['install'],['installed']
Deployability,"[cxxmodules] Do not push a transaction per LoadModule. Prior to this patch, we push/pop transaction for each LoadModule call. This is reasonable if we assume modules are perfectly layered. That is, no eager module deserialization require definitions from another module. This is hard to achieve for dependent on ROOT codebases during their incremental migration process.; ; The current patch push/pops once per loading of all modules. This should perform slightly better and allow entangled modules to still load. This patch should address the CMSSW Modules IB:; Assertion `OldBuilder->DeferredDeclsToEmit.empty() && ""Should have emitted all decls deferred to emit.""' failed.; ```; 0 0x00007ffff6f113d7 in raise () from /lib64/libc.so.6; 1 0x00007ffff6f12ac8 in abort () from /lib64/libc.so.6; 2 0x00007ffff6f0a1a6 in __assert_fail_base () from /lib64/libc.so.6; 3 0x00007ffff6f0a252 in __assert_fail () from /lib64/libc.so.6; 4 0x00007fffed24ed82 in clang::CodeGeneratorImpl::StartModule; 5 0x00007fffed24d33e in clang::CodeGenerator::StartModule; 6 0x00007fffed0664f1 in cling::IncrementalParser::StartModule; 7 0x00007fffed066f84 in cling::IncrementalParser::codeGenTransaction; 8 0x00007fffed066aec in cling::IncrementalParser::commitTransaction; 9 0x00007fffecf1af2c in cling::Interpreter::PushTransactionRAII::pop; 10 0x00007fffecf1ae72 in cling::Interpreter::PushTransactionRAII::~PushTransactionRAII; 11 0x00007fffece78534 in ClingMemberIterInternal::DCIter::DCIter; 12 0x00007fffece7712c in TClingMemberIter::TClingMemberIter; 13 0x00007fffece7724c in TClingDataMemberIter::TClingDataMemberIter; 14 0x00007fffece750b6 in TClingDataMemberInfo::TClingDataMemberInfo; 15 0x00007fffecd25918 in TCling::DataMemberInfo_Factory; 16 0x00007ffff6b0e33e in TListOfDataMembers::Load; 17 0x00007ffff6ae539d in TClass::CreateListOfDataMembers; 18 0x00007ffff6ae54d4 in TClass::GetListOfDataMembers; 19 0x00007ffff6ae3dd1 in TClass::GetDataMember; 20 0x00007ffff6b259a0 in ROOT::Detail::TSchemaRuleSet::Add",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7398:69,patch,patch,69,https://root.cern,https://github.com/root-project/root/pull/7398,3,['patch'],['patch']
Deployability,[cxxmodules] Install all pcms,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3181:13,Install,Install,13,https://root.cern,https://github.com/root-project/root/pull/3181,1,['Install'],['Install']
Deployability,[cxxmodules] Install vc.modulemap unconditionally.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7348:13,Install,Install,13,https://root.cern,https://github.com/root-project/root/pull/7348,2,['Install'],['Install']
Deployability,[cxxmodules] Revert broken VFS CMake patch / add -vfsoverlay to rootcling/TCling,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1015:37,patch,patch,37,https://root.cern,https://github.com/root-project/root/pull/1015,1,['patch'],['patch']
Deployability,[cxxmodules] Revert broken cling patch again,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1273:33,patch,patch,33,https://root.cern,https://github.com/root-project/root/pull/1273,1,['patch'],['patch']
Deployability,[cxxmodules] Update redeclaration chain after loading modules,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11423:13,Update,Update,13,https://root.cern,https://github.com/root-project/root/pull/11423,1,['Update'],['Update']
Deployability,[cxxmodules] Update the requires clauses of the modulemap.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10320:13,Update,Update,13,https://root.cern,https://github.com/root-project/root/pull/10320,2,['Update'],['Update']
Deployability,[daos] Generalize daos_mock's fetch/update to accept multiple I/O descriptors,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10388:36,update,update,36,https://root.cern,https://github.com/root-project/root/pull/10388,1,['update'],['update']
Deployability,[df] Correctly update sample info when dataset is in TFile subdirectory,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15907:15,update,update,15,https://root.cern,https://github.com/root-project/root/pull/15907,1,['update'],['update']
Deployability,[doc][math] Update Minimizer documentation,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12819:12,Update,Update,12,https://root.cern,https://github.com/root-project/root/pull/12819,1,['Update'],['Update']
Deployability,[docu] Update THttpServer documentation,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10733:7,Update,Update,7,https://root.cern,https://github.com/root-project/root/pull/10733,1,['Update'],['Update']
Deployability,[doxy] upgrade to Mathjax3,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10067:7,upgrade,upgrade,7,https://root.cern,https://github.com/root-project/root/issues/10067,1,['upgrade'],['upgrade']
Deployability,"[eve7] Silence ""unused par"" warning on Mac release builds:",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13957:43,release,release,43,https://root.cern,https://github.com/root-project/root/pull/13957,1,['release'],['release']
Deployability,[eve7] repair GL scene update,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4631:23,update,update,23,https://root.cern,https://github.com/root-project/root/pull/4631,1,['update'],['update']
Deployability,[eve] update alice_esd_split.C tutorial [skip-ci],MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7203:6,update,update,6,https://root.cern,https://github.com/root-project/root/pull/7203,1,['update'],['update']
Deployability,[geom] Updated reference docs for hyperboloid.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12700:7,Update,Updated,7,https://root.cern,https://github.com/root-project/root/pull/12700,1,['Update'],['Updated']
Deployability,[github] Update code owners. [skip-ci],MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7049:9,Update,Update,9,https://root.cern,https://github.com/root-project/root/pull/7049,1,['Update'],['Update']
Deployability,[gpad] silence unused variable in release mode,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16174:34,release,release,34,https://root.cern,https://github.com/root-project/root/pull/16174,1,['release'],['release']
Deployability,[gpad] update list of free colors when streaming canvas from file,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16139:7,update,update,7,https://root.cern,https://github.com/root-project/root/pull/16139,1,['update'],['update']
Deployability,[gsoc '17] Second patch CNN,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/689:18,patch,patch,18,https://root.cern,https://github.com/root-project/root/pull/689,1,['patch'],['patch']
Deployability,[gui] TGSpeedo class broken in 6.30 binary release Ubu22.04,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14247:43,release,release,43,https://root.cern,https://github.com/root-project/root/issues/14247,1,['release'],['release']
Deployability,[gui] Update TGClient.cxx to prevent null pointer dereference.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6633:6,Update,Update,6,https://root.cern,https://github.com/root-project/root/pull/6633,1,['Update'],['Update']
Deployability,"[gui] Update the order of wildcards, to demote rare ones.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13967:6,Update,Update,6,https://root.cern,https://github.com/root-project/root/pull/13967,1,['Update'],['Update']
Deployability,"[hist] Fit to TH2 silently ignores the `""I""` option for bin integration",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11016:60,integrat,integration,60,https://root.cern,https://github.com/root-project/root/issues/11016,1,['integrat'],['integration']
Deployability,[hist] Update TUnfold to most recent version 17.9,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14350:7,Update,Update,7,https://root.cern,https://github.com/root-project/root/pull/14350,1,['Update'],['Update']
Deployability,[http] upgrade civetweb from 1.12 to 1.15,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9694:7,upgrade,upgrade,7,https://root.cern,https://github.com/root-project/root/pull/9694,1,['upgrade'],['upgrade']
Deployability,[interpreter] Update expected LLVM minor version number,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16432:14,Update,Update,14,https://root.cern,https://github.com/root-project/root/pull/16432,1,['Update'],['Update']
Deployability,[io] Update TFile spec to follow MIME magic bytes (NFC). [skip-ci],MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12865:5,Update,Update,5,https://root.cern,https://github.com/root-project/root/pull/12865,1,['Update'],['Update']
Deployability,[io] Update TKey::Sizeof doc comment,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15612:5,Update,Update,5,https://root.cern,https://github.com/root-project/root/pull/15612,1,['Update'],['Update']
Deployability,[io] update TFile docu about kReproducible bit,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4286:5,update,update,5,https://root.cern,https://github.com/root-project/root/pull/4286,1,['update'],['update']
Deployability,[ipython] implement `canvas.Update()` in notebooks,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13644:28,Update,Update,28,https://root.cern,https://github.com/root-project/root/pull/13644,1,['Update'],['Update']
Deployability,[jsroot] 7.3.2 release with several fixes [skip-ci],MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12904:15,release,release,15,https://root.cern,https://github.com/root-project/root/pull/12904,1,['release'],['release']
Deployability,[jsroot] 7.3.3 release [skip-ci],MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12992:15,release,release,15,https://root.cern,https://github.com/root-project/root/pull/12992,1,['release'],['release']
Deployability,[jsroot] fix TGeo update in TWebCanvas [skip-ci],MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11926:18,update,update,18,https://root.cern,https://github.com/root-project/root/pull/11926,1,['update'],['update']
Deployability,[jsroot] patch WebWindowHandle code [skip-ci],MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9739:9,patch,patch,9,https://root.cern,https://github.com/root-project/root/pull/9739,1,['patch'],['patch']
Deployability,[jsroot] release 6.3.3 [skip-ci],MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9719:9,release,release,9,https://root.cern,https://github.com/root-project/root/pull/9719,1,['release'],['release']
Deployability,[jsroot] release 6.3.4 with several fixes for 6.26 [skip-ci],MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9891:9,release,release,9,https://root.cern,https://github.com/root-project/root/pull/9891,1,['release'],['release']
Deployability,[jsroot] several fixes for v6-22-00-patches [skip-ci],MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6420:36,patch,patches,36,https://root.cern,https://github.com/root-project/root/pull/6420,1,['patch'],['patches']
Deployability,[jsroot] update 6.24 with many fixes [skip-ci],MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7647:9,update,update,9,https://root.cern,https://github.com/root-project/root/pull/7647,1,['update'],['update']
Deployability,[jsroot] update for 6.28 branch,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14095:9,update,update,9,https://root.cern,https://github.com/root-project/root/pull/14095,1,['update'],['update']
Deployability,[jsroot] update three.js to r145,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11467:9,update,update,9,https://root.cern,https://github.com/root-project/root/pull/11467,1,['update'],['update']
Deployability,[jsroot] update to version 7.2.0 with few extra fixes,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11210:9,update,update,9,https://root.cern,https://github.com/root-project/root/pull/11210,1,['update'],['update']
Deployability,[llvm] Backport patch D34510 for merging anonymous structs.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/808:16,patch,patch,16,https://root.cern,https://github.com/root-project/root/pull/808,1,['patch'],['patch']
Deployability,[master][cmake] Build xrootd in release mode with warnings enabled,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6292:32,release,release,32,https://root.cern,https://github.com/root-project/root/pull/6292,1,['release'],['release']
Deployability,[math] KahanSum release notes for 6.28,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12089:16,release,release,16,https://root.cern,https://github.com/root-project/root/pull/12089,1,['release'],['release']
Deployability,[mathcore] Delete obscure conditions in class for adaptive quadrature integration in multi-dimensions (AdaptiveIntegratorMultiDim),MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11826:70,integrat,integration,70,https://root.cern,https://github.com/root-project/root/pull/11826,1,['integrat'],['integration']
Deployability,"[ntuple,v6-28] RPageSinkBuf: add missing call to ReleasePage()",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12377:49,Release,ReleasePage,49,https://root.cern,https://github.com/root-project/root/pull/12377,1,['Release'],['ReleasePage']
Deployability,[ntuple] Bump release candidate tag to RC2,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13566:14,release,release,14,https://root.cern,https://github.com/root-project/root/pull/13566,1,['release'],['release']
Deployability,[ntuple] Integrate RNTupleMerger into TFileMerger,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14398:9,Integrat,Integrate,9,https://root.cern,https://github.com/root-project/root/pull/14398,1,['Integrat'],['Integrate']
Deployability,[ntuple] RPageSinkBuf: add missing call to `ReleasePage()`,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12298:44,Release,ReleasePage,44,https://root.cern,https://github.com/root-project/root/pull/12298,1,['Release'],['ReleasePage']
Deployability,[ntuple] Update comment in ntpl004_dimuon.C,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14035:9,Update,Update,9,https://root.cern,https://github.com/root-project/root/pull/14035,1,['Update'],['Update']
Deployability,[ntuple] Update formatting for ROOTv7 revised climate tutorial,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7408:9,Update,Update,9,https://root.cern,https://github.com/root-project/root/pull/7408,1,['Update'],['Update']
Deployability,[ntuple] Updated formatting for ROOTv7 revised climate tutorial,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7301:9,Update,Updated,9,https://root.cern,https://github.com/root-project/root/pull/7301,2,['Update'],['Updated']
Deployability,[ntuple] add RFieldBase::RValue::Release(),MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13642:33,Release,Release,33,https://root.cern,https://github.com/root-project/root/pull/13642,1,['Release'],['Release']
Deployability,[ntuple][skip-ci] Update `std::variant` section in specifications.md,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12587:18,Update,Update,18,https://root.cern,https://github.com/root-project/root/pull/12587,1,['Update'],['Update']
Deployability,"[pr.log](https://github.com/root-project/root/files/14873477/pr.log); This pull request changes the behavior of the create and recreate functions of the `TFile` class. When a new ROOT file is created, the underlying path may not exist. This commit modifies the logic of `TFile.cxx` such that the underlying path is explicitly created. It works only if `TFile.cxx` is compiled with the C++17 standard, otherwise the relevant code is excluded by the means of the preprocessor. ## Checklist:. - [x] tested changes locally; - [ ] updated the docs (if necessary). ## Quick test; I prepared a small program in C++ (requires C++17) to quickly test the pull request (see at the bottom of the message). In log, with the patched ROOT version the output looks like thit:; ```; Attempt to (re)createa/b/c/test.root; Ok.; ```; while with the ROOT version 6.28 the output looks like this:; ```; Attempt to (re)createa/b/c/test.root; SysError in <TFile::TFile>: file XXXXXX/ftest/XXYqNIoC/a/b/c/test.root can not be opened No such file or directory; Fail.; ```. The program:; ```c++; #include ""TFile.h""; #include <filesystem>; #include <cstdlib>; #include <iostream>; namespace fs = std::filesystem;. char tmpname[] = ""XXXXXXXX"";. char E[] = ""test.root"";; char F[] = ""a/b/c/test.root"";; char H[] = ""a/b/d/atest.root"";. void ok(char *fname); {; if (fs::exists(fs::path(fname))); std::cout << ""Ok."" << std::endl;; else; std::cout << ""Fail."" << std::endl;; }. int main(); {; char *tmpnm = mkdtemp(tmpname);; if (tmpnm == NULL) {; std::cout << ""Error while creating tmp dir"" << std::endl;; return -1;; }; const auto tmp = fs::path(tmpnm);; const auto prev = fs::current_path();. fs::current_path(tmp);; std::cout << ""Attempt to (re)create"" << E << std::endl;; TFile e(E, ""recreate""); e.Close(); ok(E);; std::cout << ""Attempt to (re)create"" << F << std::endl;; TFile f(F, ""recreate""); f.Close(); ok(F);; std::cout << ""Attempt to open"" << F << std::endl;; TFile g(F); g.Close(); ok(F);; std::cout << ""Attempt to open"" << H",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15141:526,update,updated,526,https://root.cern,https://github.com/root-project/root/pull/15141,3,"['a/b', 'patch', 'update']","['a/b', 'patched', 'updated']"
Deployability,[pyroot exp] Integrate cppyy fix solving issues with python include p…,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3415:13,Integrat,Integrate,13,https://root.cern,https://github.com/root-project/root/pull/3415,1,['Integrat'],['Integrate']
Deployability,[qtwebdisplay] Update to new RLogger interface.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6942:15,Update,Update,15,https://root.cern,https://github.com/root-project/root/pull/6942,1,['Update'],['Update']
Deployability,[release notes] Release notes for ZLIB-CF,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3970:1,release,release,1,https://root.cern,https://github.com/root-project/root/pull/3970,2,"['Release', 'release']","['Release', 'release']"
Deployability,[release notes] mention remote CSV reading in RDF,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6494:1,release,release,1,https://root.cern,https://github.com/root-project/root/pull/6494,1,['release'],['release']
Deployability,[relnotes] Relnote update Marta - df106 tutorials,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13959:19,update,update,19,https://root.cern,https://github.com/root-project/root/pull/13959,1,['update'],['update']
Deployability,[relnotes] Update release notes for v6.26,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9440:11,Update,Update,11,https://root.cern,https://github.com/root-project/root/pull/9440,2,"['Update', 'release']","['Update', 'release']"
Deployability,[relnotes] Updated v6.24 release notes for Cling,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7549:11,Update,Updated,11,https://root.cern,https://github.com/root-project/root/pull/7549,2,"['Update', 'release']","['Updated', 'release']"
Deployability,[relnotes] Updated v6.24 release notes for Cling.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7548:11,Update,Updated,11,https://root.cern,https://github.com/root-project/root/pull/7548,2,"['Update', 'release']","['Updated', 'release']"
Deployability,[relnotes][skip-ci] Backport some updates to v624,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7689:34,update,updates,34,https://root.cern,https://github.com/root-project/root/pull/7689,1,['update'],['updates']
Deployability,[relnotes][skip-ci] Fix v6.26 release notes for RNTuple (NFC),MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9443:30,release,release,30,https://root.cern,https://github.com/root-project/root/pull/9443,1,['release'],['release']
Deployability,[relnotes][skip-ci] Fix v6.26 release notes for RNTuple (NFC). Co-authored-by: Axel Naumann <Axel.Naumann@cern.ch>,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9443:30,release,release,30,https://root.cern,https://github.com/root-project/root/pull/9443,1,['release'],['release']
Deployability,[relnotes][skip-ci] Update release notes for the upcoming v6.28 release,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11871:20,Update,Update,20,https://root.cern,https://github.com/root-project/root/pull/11871,3,"['Update', 'release']","['Update', 'release']"
Deployability,[relnotes][skip-ci][v6-30] Update release notes incl. RNTuple and Build system changes,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13315:27,Update,Update,27,https://root.cern,https://github.com/root-project/root/pull/13315,2,"['Update', 'release']","['Update', 'release']"
Deployability,[reve] Integrate JSROOT TGeo geometry tessellation and hierarchy browser/table in REve,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16806:7,Integrat,Integrate,7,https://root.cern,https://github.com/root-project/root/pull/16806,1,['Integrat'],['Integrate']
Deployability,[reve] Update RenderCore,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15382:7,Update,Update,7,https://root.cern,https://github.com/root-project/root/pull/15382,1,['Update'],['Update']
Deployability,[reve] backport to v6-32-00-patches t fix rendering of REveBoxSet,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15411:28,patch,patches,28,https://root.cern,https://github.com/root-project/root/pull/15411,1,['patch'],['patches']
Deployability,[reve] v632 ReleaseNotes,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15592:12,Release,ReleaseNotes,12,https://root.cern,https://github.com/root-project/root/pull/15592,1,['Release'],['ReleaseNotes']
Deployability,[skip ci] RN update,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15569:13,update,update,13,https://root.cern,https://github.com/root-project/root/pull/15569,1,['update'],['update']
Deployability,[skip ci] Update the Action and script used to harvest solved issues per project,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15525:10,Update,Update,10,https://root.cern,https://github.com/root-project/root/pull/15525,1,['Update'],['Update']
Deployability,[skip ci][WIP] Integration of Zstd compression algorithm in ROOT,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3681:15,Integrat,Integration,15,https://root.cern,https://github.com/root-project/root/pull/3681,1,['Integrat'],['Integration']
Deployability,[skip-ci] Add RNTuple release notes,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15630:22,release,release,22,https://root.cern,https://github.com/root-project/root/pull/15630,1,['release'],['release']
Deployability,[skip-ci] Add Vincenzo's contributions for release 6.26,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9217:43,release,release,43,https://root.cern,https://github.com/root-project/root/pull/9217,1,['release'],['release']
Deployability,[skip-ci] Add release notes O.Shadura and B.P.Bockelman,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4840:14,release,release,14,https://root.cern,https://github.com/root-project/root/pull/4840,1,['release'],['release']
Deployability,[skip-ci] Backport release notes updates to v6.26,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9510:19,release,release,19,https://root.cern,https://github.com/root-project/root/pull/9510,2,"['release', 'update']","['release', 'updates']"
Deployability,[skip-ci] Fix release notes formatting,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4814:14,release,release,14,https://root.cern,https://github.com/root-project/root/pull/4814,1,['release'],['release']
Deployability,[skip-ci] Minor updates to RDF docs,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9667:16,update,updates,16,https://root.cern,https://github.com/root-project/root/pull/9667,1,['update'],['updates']
Deployability,[skip-ci] Misc release notes for 6.32,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15632:15,release,release,15,https://root.cern,https://github.com/root-project/root/pull/15632,1,['release'],['release']
Deployability,[skip-ci] NFC Update to double32/float16 doc,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11558:14,Update,Update,14,https://root.cern,https://github.com/root-project/root/pull/11558,1,['Update'],['Update']
Deployability,[skip-ci] Small updates to RDF docs,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11399:16,update,updates,16,https://root.cern,https://github.com/root-project/root/pull/11399,1,['update'],['updates']
Deployability,[skip-ci] Update .clang-format to comply with schema,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14690:10,Update,Update,10,https://root.cern,https://github.com/root-project/root/pull/14690,1,['Update'],['Update']
Deployability,[skip-ci] Update .gitignore,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10258:10,Update,Update,10,https://root.cern,https://github.com/root-project/root/pull/10258,1,['Update'],['Update']
Deployability,[skip-ci] Update Doxyfile to doxygen 1.9.8,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13204:10,Update,Update,10,https://root.cern,https://github.com/root-project/root/pull/13204,1,['Update'],['Update']
Deployability,[skip-ci] Update GetRMS help,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11537:10,Update,Update,10,https://root.cern,https://github.com/root-project/root/pull/11537,1,['Update'],['Update']
Deployability,"[skip-ci] Update TChain::Add(name, nentries) doc",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/8894:10,Update,Update,10,https://root.cern,https://github.com/root-project/root/pull/8894,1,['Update'],['Update']
Deployability,[skip-ci] Update Vincenzo's credits and mention RMergeableValue in 6.…,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6899:10,Update,Update,10,https://root.cern,https://github.com/root-project/root/pull/6899,1,['Update'],['Update']
Deployability,[skip-ci] Update and fix issues-nudge,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13237:10,Update,Update,10,https://root.cern,https://github.com/root-project/root/pull/13237,1,['Update'],['Update']
Deployability,[skip-ci] Update doc Makefile.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10521:10,Update,Update,10,https://root.cern,https://github.com/root-project/root/pull/10521,1,['Update'],['Update']
Deployability,[skip-ci] Update documentation of TFormula adding the full list of predefined functions,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/8889:10,Update,Update,10,https://root.cern,https://github.com/root-project/root/pull/8889,1,['Update'],['Update']
Deployability,[skip-ci] Update fonts' documentation (CMS request),MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14049:10,Update,Update,10,https://root.cern,https://github.com/root-project/root/pull/14049,1,['Update'],['Update']
Deployability,[skip-ci] Update rel-notes,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10587:10,Update,Update,10,https://root.cern,https://github.com/root-project/root/pull/10587,1,['Update'],['Update']
Deployability,[skip-ci] Update release notes,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7605:10,Update,Update,10,https://root.cern,https://github.com/root-project/root/pull/7605,4,"['Update', 'release']","['Update', 'release']"
Deployability,[skip-ci] Update release notes [v6.24],MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7658:10,Update,Update,10,https://root.cern,https://github.com/root-project/root/pull/7658,2,"['Update', 'release']","['Update', 'release']"
Deployability,[skip-ci] Update release notes for 6.30 for new contributors for TMVA and RooFit,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14028:10,Update,Update,10,https://root.cern,https://github.com/root-project/root/pull/14028,2,"['Update', 'release']","['Update', 'release']"
Deployability,[skip-ci] Update ttree doc,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11847:10,Update,Update,10,https://root.cern,https://github.com/root-project/root/pull/11847,1,['Update'],['Update']
Deployability,[skip-ci] Update v6.22 release notes,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5286:10,Update,Update,10,https://root.cern,https://github.com/root-project/root/pull/5286,2,"['Update', 'release']","['Update', 'release']"
Deployability,[skip-ci] Update v628 patch notes regarding RDF,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9856:10,Update,Update,10,https://root.cern,https://github.com/root-project/root/pull/9856,2,"['Update', 'patch']","['Update', 'patch']"
Deployability,[skip-ci] Update v632 contributors,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15339:10,Update,Update,10,https://root.cern,https://github.com/root-project/root/pull/15339,1,['Update'],['Update']
Deployability,[skip-ci] [RN] Update affiliation,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15646:15,Update,Update,15,https://root.cern,https://github.com/root-project/root/pull/15646,1,['Update'],['Update']
Deployability,"[skip-ci] [relnotes] Add llvm upgrade, builtin package upgrades, Python 3.10 support.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12204:30,upgrade,upgrade,30,https://root.cern,https://github.com/root-project/root/pull/12204,2,['upgrade'],"['upgrade', 'upgrades']"
Deployability,[skip-ci] doc update.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9003:14,update,update,14,https://root.cern,https://github.com/root-project/root/pull/9003,2,['update'],['update']
Deployability,[skip-ci] update TAttAxis doc,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10519:10,update,update,10,https://root.cern,https://github.com/root-project/root/pull/10519,1,['update'],['update']
Deployability,[skip-ci] update to doxygen 1.9.3,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9111:10,update,update,10,https://root.cern,https://github.com/root-project/root/pull/9111,1,['update'],['update']
Deployability,[skip-ci]. Some documentation updates to populate empty doxygen pages.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7451:30,update,updates,30,https://root.cern,https://github.com/root-project/root/pull/7451,1,['update'],['updates']
Deployability,"[skip-ci]; # This Pull request:. Adds a lot of changes to address; https://github.com/root-project/root/issues/12270; https://github.com/root-project/root/pull/12201#issuecomment-1417627970. ## Changes or fixes:. - Runs tests on CI (has to be done in the same job for now, at least on PR builds); - Disables use of OpenStack credentials in PR builds; - Loads OpenStack credentials from GitHub secrets on non-PR builds (i.e. valid secrets are no longer stored on runners); - Reduces verbosity in the config files; - Reduces permissions of the build workflow. It can now only read repository (when PR commenting is getting implemented it has to run in a separate workflow anyways); - Re-enables output buffering to improve performance, at the cost of stderr being redirected to stdout. Currently runs tests on **every** type of job, could look into ways to skip it under certain conditions. ## Checklist:. - [x] tested changes locally; - [ ] updated the docs (if necessary)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12275:940,update,updated,940,https://root.cern,https://github.com/root-project/root/pull/12275,1,['update'],['updated']
Deployability,[skip-ci]; In notebook this script generates:; ```; Error in <TXMLEngine::ParseFile>: Unexpected end of xml file; ```; This patch deactivate the notebook generation as this error seems to be the last one preventing to have; the ref guide build green.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10483:124,patch,patch,124,https://root.cern,https://github.com/root-project/root/pull/10483,1,['patch'],['patch']
Deployability,[skip-ci]Update 6.26 release notes for SOFIE,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9776:9,Update,Update,9,https://root.cern,https://github.com/root-project/root/pull/9776,2,"['Update', 'release']","['Update', 'release']"
Deployability,[skip-ci]Update documentation for enum ROOT::RCompressionSetting::ELevel::EValues,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4894:9,Update,Update,9,https://root.cern,https://github.com/root-project/root/pull/4894,1,['Update'],['Update']
Deployability,[skip-ci][Core] Update TMethodCall documentation,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16026:16,Update,Update,16,https://root.cern,https://github.com/root-project/root/pull/16026,1,['Update'],['Update']
Deployability,[skip-ci][DF] Update v6.24 release notes,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7513:14,Update,Update,14,https://root.cern,https://github.com/root-project/root/pull/7513,2,"['Update', 'release']","['Update', 'release']"
Deployability,[skip-ci][DF] Updated explanation of actions and fixes of grammar mistakes in df001…,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11005:14,Update,Updated,14,https://root.cern,https://github.com/root-project/root/pull/11005,1,['Update'],['Updated']
Deployability,[skip-ci][DOCS] Freshen up README/INSTALL,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6152:34,INSTALL,INSTALL,34,https://root.cern,https://github.com/root-project/root/pull/6152,1,['INSTALL'],['INSTALL']
Deployability,[skip-ci][DOCS] Mention CMAKE_INSTALL_PYTHONDIR in release notes,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6207:51,release,release,51,https://root.cern,https://github.com/root-project/root/pull/6207,1,['release'],['release']
Deployability,[skip-ci][PyROOT] A few more release notes,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5801:29,release,release,29,https://root.cern,https://github.com/root-project/root/pull/5801,1,['release'],['release']
Deployability,[skip-ci][PyROOT] Release notes for 6.22,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5729:18,Release,Release,18,https://root.cern,https://github.com/root-project/root/pull/5729,1,['Release'],['Release']
Deployability,[skip-ci][PyROOT][Release Notes] Add note about vector<string> iteration,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5832:18,Release,Release,18,https://root.cern,https://github.com/root-project/root/pull/5832,1,['Release'],['Release']
Deployability,[skip-ci][PyROOT][Release Notes] Fix formatting for pandoc,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5873:18,Release,Release,18,https://root.cern,https://github.com/root-project/root/pull/5873,1,['Release'],['Release']
Deployability,[skip-ci][RN] Update 632 version with closed items,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15649:14,Update,Update,14,https://root.cern,https://github.com/root-project/root/pull/15649,1,['Update'],['Update']
Deployability,[skip-ci][RelNotes] Update RDF release notes,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6530:20,Update,Update,20,https://root.cern,https://github.com/root-project/root/pull/6530,2,"['Update', 'release']","['Update', 'release']"
Deployability,[skip-ci][cling] Update cling release procedure.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7030:17,Update,Update,17,https://root.cern,https://github.com/root-project/root/pull/7030,2,"['Update', 'release']","['Update', 'release']"
Deployability,[skip-ci][ntuple] update RNTuple anchor doc,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15700:18,update,update,18,https://root.cern,https://github.com/root-project/root/pull/15700,1,['update'],['update']
Deployability,[skip-ci][ntuple][NFC] Update importer documentation,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13950:23,Update,Update,23,https://root.cern,https://github.com/root-project/root/pull/13950,1,['Update'],['Update']
Deployability,[skip-ci][relnotes] Update v6.26 release notes,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/8829:20,Update,Update,20,https://root.cern,https://github.com/root-project/root/pull/8829,2,"['Update', 'release']","['Update', 'release']"
Deployability,[skip-ci][relnotes] Update v6.26 release notes and CREDITS file,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9034:20,Update,Update,20,https://root.cern,https://github.com/root-project/root/pull/9034,2,"['Update', 'release']","['Update', 'release']"
Deployability,[skip-ci][tmva][math] Add release notes for new TMVA and Math developments in 6.28,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12118:26,release,release,26,https://root.cern,https://github.com/root-project/root/pull/12118,1,['release'],['release']
Deployability,[skip-ci][windows] Install also cfitsio.dll,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12982:19,Install,Install,19,https://root.cern,https://github.com/root-project/root/pull/12982,1,['Install'],['Install']
Deployability,[tcling] Install the JIT symbol resolution hook after initializing dyld.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5753:9,Install,Install,9,https://root.cern,https://github.com/root-project/root/pull/5753,1,['Install'],['Install']
Deployability,[test] Update location of xrootd test files,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7870:7,Update,Update,7,https://root.cern,https://github.com/root-project/root/pull/7870,1,['Update'],['Update']
Deployability,[test] Update location of xrootd test files (6.20),MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7868:7,Update,Update,7,https://root.cern,https://github.com/root-project/root/pull/7868,1,['Update'],['Update']
Deployability,[test] Update location of xrootd test files (6.22),MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7869:7,Update,Update,7,https://root.cern,https://github.com/root-project/root/pull/7869,1,['Update'],['Update']
Deployability,[test] Update location of xrootd test files:,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7840:7,Update,Update,7,https://root.cern,https://github.com/root-project/root/pull/7840,1,['Update'],['Update']
Deployability,[test] Update location of xrootd test files: (6.16),MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7947:7,Update,Update,7,https://root.cern,https://github.com/root-project/root/pull/7947,1,['Update'],['Update']
Deployability,[tmva] Backport pymva fixes for new versions of sklearn and torch in V6 28 00 patches,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14978:78,patch,patches,78,https://root.cern,https://github.com/root-project/root/pull/14978,1,['patch'],['patches']
Deployability,[tmva] Fix a TMVA tutorial when Keras is not installed,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11347:45,install,installed,45,https://root.cern,https://github.com/root-project/root/pull/11347,1,['install'],['installed']
Deployability,"[tmva] Update RBatchGenerator, add tests",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15510:7,Update,Update,7,https://root.cern,https://github.com/root-project/root/pull/15510,1,['Update'],['Update']
Deployability,"[tmva] assert is ignored in Release mode, so return null",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15369:28,Release,Release,28,https://root.cern,https://github.com/root-project/root/pull/15369,1,['Release'],['Release']
Deployability,[tmva][sofie] Add support for parsing Linear layers from graph_nets and null updates,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14262:77,update,updates,77,https://root.cern,https://github.com/root-project/root/pull/14262,1,['update'],['updates']
Deployability,[tmva][sofie] Binary and Unary Operators updated for parametric tensors,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16012:41,update,updated,41,https://root.cern,https://github.com/root-project/root/pull/16012,1,['update'],['updated']
Deployability,[tmva][sofie] Speed up SOFIE tests configuration,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12070:35,configurat,configuration,35,https://root.cern,https://github.com/root-project/root/pull/12070,1,['configurat'],['configuration']
Deployability,[tmva][sofie] Update documentation with list of supported ONNX operators,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16761:14,Update,Update,14,https://root.cern,https://github.com/root-project/root/pull/16761,1,['Update'],['Update']
Deployability,[tree] Integrate rootreadspeed into ROOT,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11102:7,Integrat,Integrate,7,https://root.cern,https://github.com/root-project/root/pull/11102,1,['Integrat'],['Integrate']
Deployability,[v6-24] Update the freetype library from 2.6.1 to 2.12.1,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11122:8,Update,Update,8,https://root.cern,https://github.com/root-project/root/pull/11122,1,['Update'],['Update']
Deployability,"[v6-26] Revert ""[cmake] Update xrootd hash after a new version of the…",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11165:24,Update,Update,24,https://root.cern,https://github.com/root-project/root/pull/11165,1,['Update'],['Update']
Deployability,[v6-26] Update the freetype library from 2.6.1 to 2.12.1,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10876:8,Update,Update,8,https://root.cern,https://github.com/root-project/root/pull/10876,1,['Update'],['Update']
Deployability,[v6-26][CI] Update upload-artifact action; refine runner selection,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16615:12,Update,Update,12,https://root.cern,https://github.com/root-project/root/pull/16615,1,['Update'],['Update']
Deployability,[v6-26][win] Fix installation of root-config.bat and thisroot.ps1,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10767:17,install,installation,17,https://root.cern,https://github.com/root-project/root/pull/10767,1,['install'],['installation']
Deployability,[v6-28][CI] Update upload-artifact action; refine runner selection,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16614:12,Update,Update,12,https://root.cern,https://github.com/root-project/root/pull/16614,1,['Update'],['Update']
Deployability,[v6-28][skip-ci][windows] Install also cfitsio.dll,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12983:26,Install,Install,26,https://root.cern,https://github.com/root-project/root/pull/12983,1,['Install'],['Install']
Deployability,[v6-30][CI] Add a cpu label to github workflows; update actions.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16593:49,update,update,49,https://root.cern,https://github.com/root-project/root/pull/16593,1,['update'],['update']
Deployability,[v6-32-00-patches] [skip-ci] improve labeling in candle plot examples. | Fix warnings in timeaxis3.C | Simplify timeonaxis.C and make the year labels clearer | simplify timeonaxis examples. | Remove an unused variable and use exact dates.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15674:10,patch,patches,10,https://root.cern,https://github.com/root-project/root/pull/15674,2,['patch'],['patches']
Deployability,[v626][RF] Backports of RooFit PRs to `v6-26-00-patches`: Part 1,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9559:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/9559,1,['patch'],['patches']
Deployability,[v626][RF] Backports of RooFit PRs to `v6-26-00-patches`: Part 10,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10367:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/10367,1,['patch'],['patches']
Deployability,[v626][RF] Backports of RooFit PRs to `v6-26-00-patches`: Part 11,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10376:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/10376,1,['patch'],['patches']
Deployability,[v626][RF] Backports of RooFit PRs to `v6-26-00-patches`: Part 12,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10513:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/10513,1,['patch'],['patches']
Deployability,[v626][RF] Backports of RooFit PRs to `v6-26-00-patches`: Part 13,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10554:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/10554,1,['patch'],['patches']
Deployability,[v626][RF] Backports of RooFit PRs to `v6-26-00-patches`: Part 14,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10613:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/10613,1,['patch'],['patches']
Deployability,[v626][RF] Backports of RooFit PRs to `v6-26-00-patches`: Part 15,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10667:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/10667,1,['patch'],['patches']
Deployability,[v626][RF] Backports of RooFit PRs to `v6-26-00-patches`: Part 16,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10803:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/10803,1,['patch'],['patches']
Deployability,[v626][RF] Backports of RooFit PRs to `v6-26-00-patches`: Part 17,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10986:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/10986,1,['patch'],['patches']
Deployability,[v626][RF] Backports of RooFit PRs to `v6-26-00-patches`: Part 18,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11057:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/11057,1,['patch'],['patches']
Deployability,[v626][RF] Backports of RooFit PRs to `v6-26-00-patches`: Part 19,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11133:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/11133,1,['patch'],['patches']
Deployability,[v626][RF] Backports of RooFit PRs to `v6-26-00-patches`: Part 2,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9614:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/9614,1,['patch'],['patches']
Deployability,[v626][RF] Backports of RooFit PRs to `v6-26-00-patches`: Part 20,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11402:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/11402,1,['patch'],['patches']
Deployability,[v626][RF] Backports of RooFit PRs to `v6-26-00-patches`: Part 21,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11427:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/11427,1,['patch'],['patches']
Deployability,[v626][RF] Backports of RooFit PRs to `v6-26-00-patches`: Part 22,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11505:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/11505,1,['patch'],['patches']
Deployability,[v626][RF] Backports of RooFit PRs to `v6-26-00-patches`: Part 23,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11528:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/11528,1,['patch'],['patches']
Deployability,[v626][RF] Backports of RooFit PRs to `v6-26-00-patches`: Part 24,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11748:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/11748,1,['patch'],['patches']
Deployability,[v626][RF] Backports of RooFit PRs to `v6-26-00-patches`: Part 25,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11848:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/11848,1,['patch'],['patches']
Deployability,[v626][RF] Backports of RooFit PRs to `v6-26-00-patches`: Part 26,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11961:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/11961,1,['patch'],['patches']
Deployability,[v626][RF] Backports of RooFit PRs to `v6-26-00-patches`: Part 27,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12322:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/12322,1,['patch'],['patches']
Deployability,[v626][RF] Backports of RooFit PRs to `v6-26-00-patches`: Part 28,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12709:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/12709,1,['patch'],['patches']
Deployability,[v626][RF] Backports of RooFit PRs to `v6-26-00-patches`: Part 3,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9710:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/9710,1,['patch'],['patches']
Deployability,[v626][RF] Backports of RooFit PRs to `v6-26-00-patches`: Part 4,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9746:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/9746,1,['patch'],['patches']
Deployability,[v626][RF] Backports of RooFit PRs to `v6-26-00-patches`: Part 5,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9749:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/9749,1,['patch'],['patches']
Deployability,[v626][RF] Backports of RooFit PRs to `v6-26-00-patches`: Part 6,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9800:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/9800,1,['patch'],['patches']
Deployability,[v626][RF] Backports of RooFit PRs to `v6-26-00-patches`: Part 7,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9901:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/9901,1,['patch'],['patches']
Deployability,[v626][RF] Backports of RooFit PRs to `v6-26-00-patches`: Part 8,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10114:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/10114,1,['patch'],['patches']
Deployability,[v626][RF] Backports of RooFit PRs to `v6-26-00-patches`: Part 9,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10252:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/10252,1,['patch'],['patches']
Deployability,[v628][RF] Backports of RooFit PRs to `v6-28-00-patches`: Part 1,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11960:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/11960,1,['patch'],['patches']
Deployability,[v628][RF] Backports of RooFit PRs to `v6-28-00-patches`: Part 10,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12169:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/12169,1,['patch'],['patches']
Deployability,[v628][RF] Backports of RooFit PRs to `v6-28-00-patches`: Part 11,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12321:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/12321,1,['patch'],['patches']
Deployability,[v628][RF] Backports of RooFit PRs to `v6-28-00-patches`: Part 12,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12590:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/12590,1,['patch'],['patches']
Deployability,[v628][RF] Backports of RooFit PRs to `v6-28-00-patches`: Part 13,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12618:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/12618,1,['patch'],['patches']
Deployability,[v628][RF] Backports of RooFit PRs to `v6-28-00-patches`: Part 14,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12620:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/12620,1,['patch'],['patches']
Deployability,[v628][RF] Backports of RooFit PRs to `v6-28-00-patches`: Part 15,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12630:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/12630,1,['patch'],['patches']
Deployability,[v628][RF] Backports of RooFit PRs to `v6-28-00-patches`: Part 16,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12681:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/12681,2,['patch'],['patches']
Deployability,[v628][RF] Backports of RooFit PRs to `v6-28-00-patches`: Part 17,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12708:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/12708,1,['patch'],['patches']
Deployability,[v628][RF] Backports of RooFit PRs to `v6-28-00-patches`: Part 18,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12722:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/12722,2,['patch'],['patches']
Deployability,[v628][RF] Backports of RooFit PRs to `v6-28-00-patches`: Part 19,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12733:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/12733,1,['patch'],['patches']
Deployability,[v628][RF] Backports of RooFit PRs to `v6-28-00-patches`: Part 2,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11979:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/11979,1,['patch'],['patches']
Deployability,[v628][RF] Backports of RooFit PRs to `v6-28-00-patches`: Part 20,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12905:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/12905,1,['patch'],['patches']
Deployability,[v628][RF] Backports of RooFit PRs to `v6-28-00-patches`: Part 21,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12971:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/12971,1,['patch'],['patches']
Deployability,[v628][RF] Backports of RooFit PRs to `v6-28-00-patches`: Part 22,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13044:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/13044,1,['patch'],['patches']
Deployability,[v628][RF] Backports of RooFit PRs to `v6-28-00-patches`: Part 23,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13295:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/13295,1,['patch'],['patches']
Deployability,[v628][RF] Backports of RooFit PRs to `v6-28-00-patches`: Part 3,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11993:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/11993,1,['patch'],['patches']
Deployability,[v628][RF] Backports of RooFit PRs to `v6-28-00-patches`: Part 4,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12014:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/12014,1,['patch'],['patches']
Deployability,[v628][RF] Backports of RooFit PRs to `v6-28-00-patches`: Part 5,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12057:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/12057,1,['patch'],['patches']
Deployability,[v628][RF] Backports of RooFit PRs to `v6-28-00-patches`: Part 6,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12083:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/12083,1,['patch'],['patches']
Deployability,[v628][RF] Backports of RooFit PRs to `v6-28-00-patches`: Part 7,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12092:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/12092,1,['patch'],['patches']
Deployability,[v628][RF] Backports of RooFit PRs to `v6-28-00-patches`: Part 8,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12115:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/12115,1,['patch'],['patches']
Deployability,[v628][RF] Backports of RooFit PRs to `v6-28-00-patches`: Part 9,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12120:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/12120,1,['patch'],['patches']
Deployability,[v628][RF] Remove `RooExpPoly` and `RooPower` from the next 6.28 patch release,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15330:65,patch,patch,65,https://root.cern,https://github.com/root-project/root/pull/15330,2,"['patch', 'release']","['patch', 'release']"
Deployability,[v630] Make RBatchGenerator more visible for the release,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14004:49,release,release,49,https://root.cern,https://github.com/root-project/root/pull/14004,1,['release'],['release']
Deployability,[v630][RF] Backports of RooFit PRs to `v6-30-00-patches`: Part 1,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13870:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/13870,1,['patch'],['patches']
Deployability,[v630][RF] Backports of RooFit PRs to `v6-30-00-patches`: Part 10,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14768:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/14768,1,['patch'],['patches']
Deployability,[v630][RF] Backports of RooFit PRs to `v6-30-00-patches`: Part 2,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13891:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/13891,1,['patch'],['patches']
Deployability,[v630][RF] Backports of RooFit PRs to `v6-30-00-patches`: Part 3,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13909:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/13909,1,['patch'],['patches']
Deployability,[v630][RF] Backports of RooFit PRs to `v6-30-00-patches`: Part 4,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13930:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/13930,1,['patch'],['patches']
Deployability,[v630][RF] Backports of RooFit PRs to `v6-30-00-patches`: Part 5,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13940:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/13940,1,['patch'],['patches']
Deployability,[v630][RF] Backports of RooFit PRs to `v6-30-00-patches`: Part 6,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14047:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/14047,1,['patch'],['patches']
Deployability,[v630][RF] Backports of RooFit PRs to `v6-30-00-patches`: Part 7,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14167:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/14167,1,['patch'],['patches']
Deployability,[v630][RF] Backports of RooFit PRs to `v6-30-00-patches`: Part 8,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14252:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/14252,1,['patch'],['patches']
Deployability,[v630][RF] Backports of RooFit PRs to `v6-30-00-patches`: Part 9,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14407:48,patch,patches,48,https://root.cern,https://github.com/root-project/root/pull/14407,1,['patch'],['patches']
Deployability,[v630][RF] Remove `RooExpPoly` and `RooPower` from the next 6.30 patch release,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15299:65,patch,patch,65,https://root.cern,https://github.com/root-project/root/pull/15299,2,"['patch', 'release']","['patch', 'release']"
Deployability,[v630][RF] Update xroofit,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14363:11,Update,Update,11,https://root.cern,https://github.com/root-project/root/pull/14363,2,['Update'],['Update']
Deployability,[v632] Backport of recent fixes for next patch release,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15760:41,patch,patch,41,https://root.cern,https://github.com/root-project/root/pull/15760,2,"['patch', 'release']","['patch', 'release']"
Deployability,[v632] Backport recent fixes and improvements to 6.32 for patch release,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15846:58,patch,patch,58,https://root.cern,https://github.com/root-project/root/pull/15846,2,"['patch', 'release']","['patch', 'release']"
Deployability,[v632] Backports for 6.32.02 patch release,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15706:29,patch,patch,29,https://root.cern,https://github.com/root-project/root/pull/15706,2,"['patch', 'release']","['patch', 'release']"
Deployability,[v632] Update release notes to include iterator fix(#15269),MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16233:7,Update,Update,7,https://root.cern,https://github.com/root-project/root/pull/16233,2,"['Update', 'release']","['Update', 'release']"
Deployability,[v632][RF] Backports for RooFit for the next patch release,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15863:45,patch,patch,45,https://root.cern,https://github.com/root-project/root/pull/15863,2,"['patch', 'release']","['patch', 'release']"
Deployability,[v632][RF] Make it possible to build RooFit CUDA evaluation library standalone to use in existing ROOT release with `cuda=OFF`,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15779:103,release,release,103,https://root.cern,https://github.com/root-project/root/pull/15779,1,['release'],['release']
Deployability,[v632][RF] Update RooFit AD to support ATLAS and CMS Higgs combinations,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16052:11,Update,Update,11,https://root.cern,https://github.com/root-project/root/pull/16052,1,['Update'],['Update']
Deployability,[v632][skip-ci] Add `RNTuple` release notes,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15619:30,release,release,30,https://root.cern,https://github.com/root-project/root/pull/15619,1,['release'],['release']
Deployability,[v632][skip-ci] Update release notes,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15611:16,Update,Update,16,https://root.cern,https://github.com/root-project/root/pull/15611,2,"['Update', 'release']","['Update', 'release']"
Deployability,[vc] provide patch for gcc 10 warning,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5833:13,patch,patch,13,https://root.cern,https://github.com/root-project/root/pull/5833,1,['patch'],['patch']
Deployability,"[webcanvas] TExec support, sub-pads update",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11727:36,update,update,36,https://root.cern,https://github.com/root-project/root/pull/11727,1,['update'],['update']
Deployability,"[webcanvas] fix GED issues, update JSROOT [skip-ci]",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13435:28,update,update,28,https://root.cern,https://github.com/root-project/root/pull/13435,1,['update'],['update']
Deployability,[webcanvas] fix update optimization,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13116:16,update,update,16,https://root.cern,https://github.com/root-project/root/pull/13116,1,['update'],['update']
Deployability,[webcanvas] fix update optimization [6.28],MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13117:16,update,update,16,https://root.cern,https://github.com/root-project/root/pull/13117,1,['update'],['update']
Deployability,[webcanvas] handle TCanvas::Update() also in batch mode,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13289:28,Update,Update,28,https://root.cern,https://github.com/root-project/root/pull/13289,1,['Update'],['Update']
Deployability,"[webgui] `TF1` save buffer, skip WaitPrimitive support, update jsroot [6.32]",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15827:56,update,update,56,https://root.cern,https://github.com/root-project/root/pull/15827,1,['update'],['update']
Deployability,[webgui] do install of openui5 libs,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4701:12,install,install,12,https://root.cern,https://github.com/root-project/root/pull/4701,1,['install'],['install']
Deployability,"[webgui] fix geopainter plugin, update jsroot [skip-ci]",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13867:32,update,update,32,https://root.cern,https://github.com/root-project/root/pull/13867,1,['update'],['update']
Deployability,"[webgui] fix store file name, update jsroot",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13626:30,update,update,30,https://root.cern,https://github.com/root-project/root/pull/13626,1,['update'],['update']
Deployability,"[webgui] let configure openui5 with rootrc file, provide light configurations in webgeom",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4630:63,configurat,configurations,63,https://root.cern,https://github.com/root-project/root/pull/4630,1,['configurat'],['configurations']
Deployability,"[webgui] let run ping.cxx from any place, update jsroot [skip-ci]",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7888:42,update,update,42,https://root.cern,https://github.com/root-project/root/pull/7888,1,['update'],['update']
Deployability,[webgui] update openui5 to 1.128.0,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16484:9,update,update,9,https://root.cern,https://github.com/root-project/root/pull/16484,1,['update'],['update']
Deployability,[webgui] update three.js to r155 [skip-ci],MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13535:9,update,update,9,https://root.cern,https://github.com/root-project/root/pull/13535,1,['update'],['update']
Deployability,[webgui] upgrade openui5 to 1.98.0,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9796:9,upgrade,upgrade,9,https://root.cern,https://github.com/root-project/root/pull/9796,1,['upgrade'],['upgrade']
Deployability,[win] Fix installation of root-config.bat and thisroot.ps1,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10764:10,install,installation,10,https://root.cern,https://github.com/root-project/root/pull/10764,1,['install'],['installation']
Deployability,[wincxxmodules] Enable proper installation of modulemaps; build the libc module.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5376:30,install,installation,30,https://root.cern,https://github.com/root-project/root/pull/5376,1,['install'],['installation']
Deployability,"\GIMatchDag.cpp(51,18): message : Reason: cannot convert from 'const char [5]' to 'const std::locale' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(51,18): message : Constructor for class 'std::locale' is declared 'explicit' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\VC\Tools\MSVC\14.35.32215\include\format(3531,19): message : or 'std::string std::format(const std::locale &,const std::basic_format_string<char,type_identity<_Args>::type...>,_Types &&...)' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(51,18): message : 'initializing': cannot convert from 'const char [5]' to 'const std::locale &' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(51,18): message : Reason: cannot convert from 'const char [5]' to 'const std::locale' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(51,18): message : Constructor for class 'std::locale' is declared 'explicit' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(51,11): message : while trying to match the argument list '(const char [5], const std::unique_ptr<llvm::GIMatchDagInstr,std::default_delete<llvm::GIMatchDagInstr>> *)' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\sr",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12523:4813,release,release,4813,https://root.cern,https://github.com/root-project/root/pull/12523,1,['release'],['release']
Deployability,"\GIMatchDag.cpp(85,18): message : Reason: cannot convert from 'const char [5]' to 'const std::locale' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(85,18): message : Constructor for class 'std::locale' is declared 'explicit' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\VC\Tools\MSVC\14.35.32215\include\format(3531,19): message : or 'std::string std::format(const std::locale &,const std::basic_format_string<char,type_identity<_Args>::type...>,_Types &&...)' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(85,18): message : 'initializing': cannot convert from 'const char [5]' to 'const std::locale &' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(85,18): message : Reason: cannot convert from 'const char [5]' to 'const std::locale' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(85,18): message : Constructor for class 'std::locale' is declared 'explicit' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(85,11): message : while trying to match the argument list '(const char [5], const std::unique_ptr<llvm::GIMatchDagPredicate,std::default_delete<llvm::GIMatchDagPredicate>> *)' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12523:10886,release,release,10886,https://root.cern,https://github.com/root-project/root/pull/12523,1,['release'],['release']
Deployability,"\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Microsoft\VC\v170\Microsoft.CppCommon.targets(205,5): error MSB4018: at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options, String msgPath, Boolean bFromProxy, Boolean useLongPath, Boolean checkHost) [C:\Users\sftnight\build\release\interpreter\llvm\src\lib\Target\X86\X86CommonTableGen.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Microsoft\VC\v170\Microsoft.CppCommon.targets(205,5): error MSB4018: at System.IO.StreamWriter.CreateFile(String path, Boolean append, Boolean checkHost) [C:\Users\sftnight\build\release\interpreter\llvm\src\lib\Target\X86\X86CommonTableGen.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Microsoft\VC\v170\Microsoft.CppCommon.targets(205,5): error MSB4018: at System.IO.StreamWriter..ctor(String path, Boolean append, Encoding encoding, Int32 bufferSize, Boolean checkHost) [C:\Users\sftnight\build\release\interpreter\llvm\src\lib\Target\X86\X86CommonTableGen.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Microsoft\VC\v170\Microsoft.CppCommon.targets(205,5): error MSB4018: at System.IO.File.InternalWriteAllText(String path, String contents, Encoding encoding, Boolean checkHost) [C:\Users\sftnight\build\release\interpreter\llvm\src\lib\Target\X86\X86CommonTableGen.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Microsoft\VC\v170\Microsoft.CppCommon.targets(205,5): error MSB4018: at Microsoft.Build.CPPTasks.GetOutOfDateItems.Execute() [C:\Users\sftnight\build\release\interpreter\llvm\src\lib\Target\X86\X86CommonTableGen.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Microsoft\VC\v170\Microsoft.CppCommon.targets(205,5): error MSB4018: at Microsoft.Build.BackEnd.TaskExecutionHost.Microsoft.Build.BackEnd.ITaskExecutionHost.Execute() [C:\Users\sftnight\build\release\interpreter\llv",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10247:2698,release,release,2698,https://root.cern,https://github.com/root-project/root/pull/10247,1,['release'],['release']
Deployability,"\build\x86\release\tree\dataframe\test\datasource_sqlite.vcxproj]; C:\Users\bellenot\git\master\tree\dataframe\inc\ROOT/RDataFrame.hxx(41): message : see reference to class template instantiation 'ROOT::RDF::RInterface<ROOT::RDF::RInterface<Proxied,DataSource>::RLoopManager,void>' being compiled [C:\Users\bellenot\build\x86\release\tree\dataframe\test\datasource_sqlite.vcxproj]; C:\Users\bellenot\git\master\tree\dataframe\inc\ROOT/RDF/RInterface.hxx(1123,64): error C3083: 'TreeUtils': the symbol to the left of a '::' must be a type [C:\Users\bellenot\build\x86\release\tree\dataframe\test\datasource_sqlite.vcxproj]; C:\Users\bellenot\git\master\tree\dataframe\inc\ROOT/RDF/RInterface.hxx(1123,75): error C2039: 'GetTopLevelBranchNames': is not a member of 'ROOT::RDF::Internal' [C:\Users\bellenot\build\x86\release\tree\dataframe\test\datasource_sqlite.vcxproj]; C:\Users\bellenot\git\master\tree\dataframe\inc\ROOT/RSqliteDS.hxx(27): message : see declaration of 'ROOT::RDF::Internal' [C:\Users\bellenot\build\x86\release\tree\dataframe\test\datasource_sqlite.vcxproj]; C:\Users\bellenot\git\master\tree\dataframe\inc\ROOT/RDF/RInterface.hxx(1123,1): error C3861: 'GetTopLevelBranchNames': identifier not found [C:\Users\bellenot\build\x86\release\tree\dataframe\test\datasource_sqlite.vcxproj]; C:\Users\bellenot\git\master\tree\dataframe\inc\ROOT/RDF/RInterface.hxx(1123,18): error C2737: 'treeBranchNames': const object must be initialized [C:\Users\bellenot\build\x86\release\tree\dataframe\test\datasource_sqlite.vcxproj]; C:\Users\bellenot\git\master\tree\dataframe\inc\ROOT/RDF/RInterface.hxx(1130,1): error C3536: 'treeBranchNames': cannot be used before it is initialized [C:\Users\bellenot\build\x86\release\tree\dataframe\test\datasource_sqlite.vcxproj]; C:\Users\bellenot\git\master\tree\dataframe\inc\ROOT/RDF/RInterface.hxx(1132,1): error C2661: 'std::vector<std::string,std::allocator<std::string>>::insert': no overloaded function takes 1 arguments [C:\Users\bellenot\build\x86",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11153:2497,release,release,2497,https://root.cern,https://github.com/root-project/root/pull/11153,1,['release'],['release']
Deployability,"] Add 'translate' to RooNllVarNew.; 666a4fcbde [RF] Minor improvements to RooFit evaluation code generation; c51376731b [RF][NFC] Fix typo.; 826a6b38f4 [RF] Disable RooFuncWrapper test if clad is off.; 4148a05e5a [RF] Remove wrong header declaration from roofit/roofit.; 98d004c200 [RF] Fix visibility of the res/ directories.; e97347056c [RF] Make RooBatchCompute dependency public.; 4483b01b7f [RF] Add initial interface and implementation for code-squashing.; f230374eb5 [RF] Enable passing of gradient function directly to RooMinimizer; 0e5633535a [RF] Add support for differentiating Gaussian integrals using AD. This commits adds support for including analytical integrals into the mock code-squashing test by introducing a private header that stores the stateless implementation details.; 7d39c0769c [RF] Enable analytic integration of RooHistPdfs with RooLinearVars; fce73f0565 [RF] Replace `RooAbsReal::_lastNSet` pointer with ID of last normSet; 7e9c10b714 [RF] Remove `evaluateSpan()` from RooGenericPdf and RooFormulaVar; bf4990c5d4 [RF] Exclude RooHistError from IO; 79edfbafa6 [RF] Remove `add(row, weight, weightError)` from RooAbsData interface; f355c3ced4 [RF] Code-format `testRooDataHist.cxx`; 3fd99f7679 [RF] Enable AD code-gen test for RooFit.; a654d915e5 [RF] Less manual memory management in RooAbsArg and RooProdGenContext; 1367091202 [RF] Code modernization of RooAbsReal; 5c20fdc652 [RF] Add intiial minimizer interface for RooFuncWrapper.; cf88615b6e [RF] Improve code in `MinuitFcnGrad`; 17bac5528b [RF] Code improvements in tests for new TestStatistics; afcb2d3931 [RF] Composition over inheritance in RooAbsMinimizerFcn implementations; 3a52e89a99 [RF] No need for `RooAbsMinimizerFcn::fit()` method; 3869282efb Fix modules and modules.idx generation on Windows and disable a few more modules causing potential crashes (#12252); 55bc2c0484 [RF] Define infinity as `std::numeric_limits<double>::infinity()`; 026a1a701b [RF] Split RooFuncWrapper into '.h' and '.cxx'.; 5964",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12681:2779,integrat,integration,2779,https://root.cern,https://github.com/root-project/root/pull/12681,9,['integrat'],['integration']
Deployability,"] ^cmake@3.24.1%apple-clang@13.1.6~doc+ncurses+ownlibs~qt build_type=Release arch=darwin-monterey-m1; [+] ^freetype@2.11.1%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^bzip2@1.0.8%apple-clang@13.1.6~debug~pic+shared arch=darwin-monterey-m1; [+] ^gnuconfig@2021-08-14%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^libpng@1.6.37%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^zlib@1.2.12%apple-clang@13.1.6+optimize+pic+shared patches=0d38234 arch=darwin-monterey-m1; [+] ^pkgconf@1.8.0%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^libice@1.0.9%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^util-macros@1.19.3%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^xproto@7.0.31%apple-clang@13.1.6 arch=darwin-monterey-m1; [-] ^pkgconf@1.9.3%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^xtrans@1.3.5%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^libjpeg-turbo@2.1.3%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^cmake@3.24.1%apple-clang@13.1.6~doc+ncurses+ownlibs~qt build_type=Release arch=darwin-monterey-m1; [+] ^nasm@2.15.05%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^libxml2@2.10.1%apple-clang@13.1.6~python arch=darwin-monterey-m1; [+] ^libiconv@1.16%apple-clang@13.1.6 libs=shared,static arch=darwin-monterey-m1; [+] ^xz@5.2.5%apple-clang@13.1.6~pic libs=shared,static arch=darwin-monterey-m1; [+] ^lz4@1.9.3%apple-clang@13.1.6 libs=shared,static arch=darwin-monterey-m1; [+] ^ncurses@5.7.20081102%apple-clang@13.1.6~symlinks+termlib abi=5 patches=f84b270 arch=darwin-monterey-m1; [+] ^nlohmann-json@3.11.2%apple-clang@13.1.6~ipo+multiple_headers build_type=RelWithDebInfo arch=darwin-monterey-m1; [+] ^openblas@0.3.20%apple-clang@13.1.6~bignuma~consistent_fpcsr~ilp64+locking+pic+shared symbol_suffix=none threads=none arch=darwin-monterey-m1; [+] ^perl@5.30.3%apple-clang@13.1.6~cpanm+shared+threads arch=darwin-monterey-m1; [+] ^pcre@8.45%apple-clang@13.1.6~jit+multibyte+utf arch=darwin-monterey-m1; [+] ^python@3.9.13%apple-clang@13.1.6+bz2+ctypes+dbm~debug+libxml2",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11312:8224,Release,Release,8224,https://root.cern,https://github.com/root-project/root/issues/11312,1,['Release'],['Release']
Deployability,"]*[10]*[11]*[12]"");. f.SetParNames(""a"", ""b"", ""c"", ""d""); // works perfectly; g.SetParNames(""a"", ""b"", ""c"", ""d"", ""e"", ""f"", ""g"", ""h"", ""i"", ""j"", ""k"", ""l"", ""m""); // error; ```. and also, if we assign names to all parameters using `TFormula::SetParName(Int_t, const char*)` and then call `TFormula::SetParNames()`, then it will only reset upto 11th parameter, parameters after that will have their assigned names. Same issues exists with `TFormula::SetParameters()`. #### Why do I think `TFormula::SetParNames()` and `TFormula::SetParameters()` are unintuitive . Consider this example:. ```c++; TFormula f(""f"", ""x*[0]*[1]*[2]*[3]"");; f.SetParName(3, ""lastParameter"");; // Parameters names: p0, p1, p2, lastParameter; f.SetParNames(""a"", ""b"");; // Parameters names: a, b, p2, p3; ```; User generally would not expect that `TFormula::SetParNames()` will change name of parameters that he/she did not specify, and will thus expect parameters names at the end of this snippet to be: `a, b, p2, lastParameter`. Same issue exists with `TFormula::SetParameters()`. Thus, I would like to modify `TFormula::SetParNames()` and `TFormula::SetParameters()` such that they do not reset the parameter names and values respectively. . ### Optional: share how it could be improved; <!--; If you already have an idea what we could improve, then please tell us.; -->; Both `TFormula::SetParNames()` and `TFormula::SetParameters()` can be improved by replacing current implementation by variadic template function, this will remove the constraint of having fix number of arguments. It will also reduce the code duplication in both of these functions. It is also trivial to disable the resetting of parameters to their default values and names using variadic template function. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->; Root version: 6.25/01; Operating system: Ubuntu 20.04; How you obtained ROOT: built it from source",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7805:2719,install,install,2719,https://root.cern,https://github.com/root-project/root/issues/7805,1,['install'],['install']
Deployability,"_0_X_2021-04-26-1100/lib/slc7_amd64_gcc900/libFWCoreFramework.so; #18 0x000000000040ba11 in tbb::interface7::internal::delegated_function<main::{lambda()#1}::operator()() const::{lambda()#1} const, void>::operator()() const (); #19 0x00007ffff5ef5552 in tbb::interface7::internal::task_arena_base::internal_execute (this=0x7fffffff3100, d=...) at ../../src/tbb/arena.cpp:1105; #20 0x000000000040ca13 in main::{lambda()#1}::operator()() const (); #21 0x000000000040b62c in main (). ```; After using XrootD 5.1.1 to open a file ROOT crashes in TMutex::UnLock. ### Expected behavior. ```. cmsRun src/CalibTracker/SiStripChannelGain/test/testSSTGain_PCL_FromRECO_cfg.py era=A; Using Dataset: /ZeroBias/Run2018A-SiStripCalMinBias-12Nov2019_UL2018-v1/ALCARECO; 27-Apr-2021 14:00:10 CEST Initiating request to open file root://eoscms.cern.ch//eos/cms/store/data/Run2018A/ZeroBias/ALCARECO/SiStripCalMinBias-12Nov2019_UL2018-v1/260000/0F90F012-3C97-344E-8E2F-F459A798FA74.root; 27-Apr-2021 14:00:12 CEST Successfully opened file root://eoscms.cern.ch//eos/cms/store/data/Run2018A/ZeroBias/ALCARECO/SiStripCalMinBias-12Nov2019_UL2018-v1/260000/0F90F012-3C97-344E-8E2F-F459A798FA74.root; %MSG-i SiStripGainsPCLWorker: SiStripGainsPCLWorker:ALCARECOSiStripCalib@beginRun 27-Apr-2021 14:00:20 CEST Run: 315420; Resetting APV struct; %MSG; ```. this -> Successfully opened file root:// ; and then working on the file. ### To Reproduce. Use this install script:. ```; /cvmfs/cms-ci.cern.ch/week0/cms-sw/cmsdist/6831/14586/install.sh; cd CMSSW_12_0_X_2021-04-26-1100; cmsenv; cmsRun src/CalibTracker/SiStripChannelGain/test/testSSTGain_PCL_FromRECO_cfg.py era=A; ```. ### Setup. 1. 6-22 - ; https://github.com/cms-sw/root/commits/cms/v6-22-00-patches/d1d36a5f17904f7d3661c97d28da8f3954e02340; 2. SLC7; 3. Installed from source. ### Additional context. The pull request from above ; https://github.com/cms-sw/cmsdist/pull/6831; is setuping cmake release type to Debug for both ROOT and XrootD ; as requested in #7335",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/8008:8135,install,install,8135,https://root.cern,https://github.com/root-project/root/issues/8008,5,"['Install', 'install', 'patch', 'release']","['Installed', 'install', 'patches', 'release']"
Deployability,"_64-unknown-linux-gnu/11.3.0/../../../../include/c++/11.3.0:/nix/store/gc7zr7wh575g1i5zs20lf3g45damwwbs-gcc-11.3.0/lib/gcc/x86_64-unknown-linux-gnu/11.3.0/../../../../include/c++/11.3.0/x86_64-unknown-linux-gnu:/nix/store/gc7zr7wh575g1i5zs20lf3g45damwwbs-gcc-11.3.0/lib/gcc/x86_64-unknown-linux-gnu/11.3.0/../../../../include/c++/11.3.0/backward' at runtime.; -- And then fallback to: 'g++'; CMake Error: Could not open file for write in copy operation //nix/store/vqlvh9dv2prsrmk6lng8n66wgfpvra1j-llvm-13.0.1-lib/lib/cmake/cling/ClingConfig.cmake.tmp; CMake Error: : System Error: No such file or directory; CMake Error at interpreter/cling/cmake/modules/CMakeLists.txt:22 (configure_file):; configure_file Problem configuring file; ```. Possible source of the issue:; https://github.com/root-project/root/blob/master/interpreter/cling/cmake/modules/CMakeLists.txt#L4-L5. ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->; 1. The configurations works, just as it does on the 6.26 branch.; 2. If not feasible, the build error should at least guide the user / package aintainer the configuration option to solve the issue or where to find the solution. ### To Reproduce. 1. Build against the master branch (6.27, 0fafc31efb5a94472af2a6b35ded27796cb141c8) with CMake Flag `-Dbuiltin_llvm=OFF`.; (See the external context for steps to reproduce the behavior with the Nix package manager and Nixpkgs.); 2. See error. ### Setup; <!--; 1. ROOT version; 3. Operating system; 4. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->; 1. ROOT version: 6.27.* on the master branch (f9d15227e4c92eac7c6499379912d1ed24d0142b).; 2. Operating system: NixOS (Linux), on a x86_64 machine.; - system: `""x86_64-linux""`; - host os: `Linux 5.10.156, NixOS, 22.11 (Raccoon), 22.11.20221130.596a8e8`; - multi-user?: `yes`; - sandbox: `yes`; - version: `nix-env (Nix) 2.11.0`; - nixpkgs: `/nix/store/qwgw2b19ga8dr7c6wfpd6p87bdjyrnha-sou",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11920:1919,configurat,configurations,1919,https://root.cern,https://github.com/root-project/root/issues/11920,1,['configurat'],['configurations']
Deployability,"_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/range_access.h:36:10: note: submodule of top-level module 'std' implicitly imported here; #include <initializer_list>; ^; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/range_access.h:37:10: note: submodule of top-level module 'std' implicitly imported here; #include <type_traits> // common_type_t, make_signed_t; ^; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/stl_iterator.h:63:10: note: submodule of top-level module 'std' implicitly imported here; #include <bits/cpp_type_traits.h>; ^; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/stl_iterator_base_types.h:67:11: note: submodule of top-level module 'std' implicitly importe",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10528:25344,Install,Installed,25344,https://root.cern,https://github.com/root-project/root/issues/10528,1,['Install'],['Installed']
Deployability,"_SYSCONFDIR=""/opt/local/libexec/root6/etc/root"" -DCMAKE_INSTALL_NAME_DIR=""/opt/local/libexec/root6/lib/root"" -Dfortran=ON -Dbuiltin_davix=OFF -Dbuiltin_freetype=ON -Dbuiltin_glew=ON -Dbuiltin_pcre=OFF -Dbuiltin_zlib=ON -Dbuiltin_lzma=OFF -Dbuiltin_tbb=OFF -Dbuiltin_afterimage=ON -Ddavix=ON -Dfftw3=OFF -Dkrb5=OFF -Dmysql=OFF -Dsqlite=OFF -Dodbc=OFF -Dopengl=ON -Dpythia6=OFF -Dpythia8=OFF -Droofit=ON -Dssl=ON -Dxml=ON -Dpyroot=ON -Dfitsio=OFF -Dgsl_shared=ON -Dbuiltin_gsl=OFF -Dpgsql=OFF -Ddcache=OFF -Dchirp=OFF -Dhdfs=OFF -Druby=OFF -Dminuit2=ON -Dtmva=ON -Dqt=OFF -Dqtgsi=OFF -Dgviz=ON -Dsoversion=ON -Dcxx11=ON -Dcxx14=OFF -Dcxx17=ON -Dlibcxx=ON -Dxrootd=ON -Dbuiltin_ftgl=ON -Dmathmore=ON -Dgenvector=ON -Dmemstat=ON -Dunuran=ON -Dgdml=ON -Dhttp=ON -Dvc=OFF -Dastiff=ON -Dgeocad=OFF -Dr=OFF -Droot7=ON -Dbuiltin_veccore=OFF -DPNG_LIBRARY=/opt/local/lib/libpng.dylib -DPNG_PNG_INCLUDE_DIR=/opt/local/include -Druntime_cxxmodules=OFF -DPYTHON_INCLUDE_DIR=""/opt/local/Library/Frameworks/Python.framework/Versions/3.8/Headers"" -DPYTHON_EXECUTABLE=""/opt/local/Library/Frameworks/Python.framework/Versions/3.8/bin/python3.8"" -DPYTHON_LIBRARY=""/opt/local/Library/Frameworks/Python.framework/Versions/3.8/lib/libpython3.8.dylib"" -DXROOTD_INCLUDE_DIR=""/opt/local/include/xrootd"" -DGRAPHVIZ_INCLUDE_DIR=""/opt/local/include"" -DGSL_CONFIG_EXECUTABLE=""/opt/local/bin/gsl-config"" -DLIBXML2_INCLUDE_DIR=""/opt/local/include/libxml2"" -DLIBXML2_LIBRARIES=""/opt/local/lib/libxml2.dylib"" -DLIBXML2_LIBRARY=""/opt/local/lib/libxml2.dylib"" -DLIBXML2_XMLLINT_EXECUTABLE=""/opt/local/bin/xmllint"" -Dcocoa=ON -Dx11=OFF -DCMAKE_OSX_ARCHITECTURES=""x86_64"" -DCMAKE_OSX_DEPLOYMENT_TARGET=""10.15"" -DCMAKE_OSX_SYSROOT=""/Library/Developer/CommandLineTools/SDKs/MacOSX10.15.sdk"" -DCMAKE_INSTALL_PREFIX=/Users/chris/Projects/ROOT/install ../root 2>&1 | tee ../configure.log; cmake --build . -- -j8 2>&1 | tee ../build.log; ```. ## Setup; <!--. -->. ## Additional context; <!--; Add any other context about the problem here.; -->",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6366:3828,install,install,3828,https://root.cern,https://github.com/root-project/root/issues/6366,1,['install'],['install']
Deployability,"_VEC'; __MATHCALL (function, suffix, args); ^; /usr/include/math.h:273:3: note: expanded from macro '__MATHCALL'; __MATHDECL (_Mdouble_,function,suffix, args); ^; /usr/include/math.h:276:3: note: expanded from macro '__MATHDECL'; __MATHDECL_1(type, __CONCAT(__,function),suffix, args); ^; /usr/include/math.h:283:15: note: expanded from macro '__MATHDECL_1'; extern type __MATH_PRECNAME(function,suffix) args __THROW; ^; /usr/include/math.h:303:34: note: expanded from macro '__MATH_PRECNAME'; # define __MATH_PRECNAME(name,r) name##f##r; ^; <scratch space>:216:1: note: expanded from here; __expf; ^; cling: In file included from <built-in>:1:; In file included from /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_runtime_wrapper.h:148:; /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:195:10: error: reference to __device__ function '__nvvm_atom_add_gen_f' in __host__ function; return __nvvm_atom_add_gen_f(__p, __v);; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:195:10: note: '__nvvm_atom_add_gen_f' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:198:10: error: reference to __device__ function '__nvvm_atom_cta_add_gen_f' in __host__ function; return __nvvm_atom_cta_add_gen_f(__p, __v);; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:198:10: note: '__nvvm_atom_cta_add_gen_f' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:201:10: error: reference to __device__ function '__nvvm_atom_sys_add_gen_f' in __host__ function; return __nvvm_atom_sys_add_gen_f(__p, __v);; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7518:7389,install,install,7389,https://root.cern,https://github.com/root-project/root/issues/7518,1,['install'],['install']
Deployability,"__device__ function '__nvvm_atom_xchg_gen_i' in __host__ function; __nvvm_atom_xchg_gen_i((int *)__p, __nv_float_as_int(__v)));; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:205:7: note: '__nvvm_atom_xchg_gen_i' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:209:7: error: reference to __device__ function '__nvvm_atom_cta_xchg_gen_i' in __host__ function; __nvvm_atom_cta_xchg_gen_i((int *)__p, __nv_float_as_int(__v)));; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:209:7: note: '__nvvm_atom_cta_xchg_gen_i' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:213:7: error: reference to __device__ function '__nvvm_atom_sys_xchg_gen_i' in __host__ function; __nvvm_atom_sys_xchg_gen_i((int *)__p, __nv_float_as_int(__v)));; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:213:7: note: '__nvvm_atom_sys_xchg_gen_i' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:244:16: error: static declaration of '__finite' follows non-static declaration; __DEVICE__ int __finite(double __a) { return __nv_isfinited(__a); }; ^; cling: /usr/include/x86_64-linux-gnu/bits/mathcalls-helper-functions.h:33:20: note: previous declaration is here; __MATHDECL_1 (int, __finite,, (_Mdouble_ __value)) __attribute__ ((__const__));; ^; cling: In file included from <built-in>:1:; In file included from /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_runtime_wrapper.h:148:; /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:245:16: error: st",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7518:9631,install,install,9631,https://root.cern,https://github.com/root-project/root/issues/7518,1,['install'],['install']
Deployability,"_bind_textdomain_codeset in libpython3.10.a(_localemodule.o); ""_libintl_bindtextdomain"", referenced from:; __locale_bindtextdomain in libpython3.10.a(_localemodule.o); ""_libintl_dcgettext"", referenced from:; __locale_dcgettext in libpython3.10.a(_localemodule.o); ""_libintl_dgettext"", referenced from:; __locale_dgettext in libpython3.10.a(_localemodule.o); ""_libintl_gettext"", referenced from:; __locale_gettext in libpython3.10.a(_localemodule.o); ""_libintl_setlocale"", referenced from:; __locale_setlocale in libpython3.10.a(_localemodule.o); __locale_localeconv in libpython3.10.a(_localemodule.o); ""_libintl_textdomain"", referenced from:; __locale_textdomain in libpython3.10.a(_localemodule.o); ld: symbol(s) not found for architecture x86_64; clang: error: linker command failed with exit code 1 (use -v to see invocation); make[2]: *** [lib/libPyMVA.so] Error 1; make[1]: *** [tmva/pymva/CMakeFiles/PyMVA.dir/all] Error 2; make: *** [all] Error 2; ```. ### Reproducer. `cmake --build mybuild --target install -j4 -v`. ### ROOT version. master branch from 12.02.2024:. ```; root -b -q ; ------------------------------------------------------------------------------; | Welcome to ROOT 6.31/01 https://root.cern |; | (c) 1995-2024, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built for macosx64 on Feb 13 2024, 09:47:07 |; | From heads/ianna/call_to_implicitly-deleted_copy_constructor_fix@5d76922a0f |; | With Apple clang version 13.0.0 (clang-1300.0.29.30) |; | Try '.help'/'.?', '.demo', '.license', '.credits', '.quit'/'.q' |; ------------------------------------------------------------------------------. ```. ### Installation method. fixation step-by-step instructions. ### Operating system. MacOS 11.6. ### Additional context. Python's build is detecting `libintl` but not using necessary linker flags when compiling. For example, fix for my local build is to add `-L/usr/local/lib -lintl`. ```; Python 3.10.1 (main, Jan 10 2022, 12:04:16) [Clang 13.0.0 (clang-1300.0.29.30)] ",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14672:1252,install,install,1252,https://root.cern,https://github.com/root-project/root/issues/14672,1,['install'],['install']
Deployability,"_cuda_device_functions.h:195:10: error: reference to __device__ function '__nvvm_atom_add_gen_f' in __host__ function; return __nvvm_atom_add_gen_f(__p, __v);; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:195:10: note: '__nvvm_atom_add_gen_f' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:198:10: error: reference to __device__ function '__nvvm_atom_cta_add_gen_f' in __host__ function; return __nvvm_atom_cta_add_gen_f(__p, __v);; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:198:10: note: '__nvvm_atom_cta_add_gen_f' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:201:10: error: reference to __device__ function '__nvvm_atom_sys_add_gen_f' in __host__ function; return __nvvm_atom_sys_add_gen_f(__p, __v);; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:201:10: note: '__nvvm_atom_sys_add_gen_f' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:205:7: error: reference to __device__ function '__nvvm_atom_xchg_gen_i' in __host__ function; __nvvm_atom_xchg_gen_i((int *)__p, __nv_float_as_int(__v)));; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:205:7: note: '__nvvm_atom_xchg_gen_i' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:209:7: error: reference to __device__ function '__nvvm_atom_cta_xchg_gen_i' in __host__ function; __nvvm_atom_cta_xchg_gen_i((int *)__p, __nv_float_as_int(__v)));; ^; cling: /home/sehrig/workspace/root-project/install/etc/",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7518:8263,install,install,8263,https://root.cern,https://github.com/root-project/root/issues/7518,1,['install'],['install']
Deployability,"_device_functions.h:205:7: note: '__nvvm_atom_xchg_gen_i' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:209:7: error: reference to __device__ function '__nvvm_atom_cta_xchg_gen_i' in __host__ function; __nvvm_atom_cta_xchg_gen_i((int *)__p, __nv_float_as_int(__v)));; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:209:7: note: '__nvvm_atom_cta_xchg_gen_i' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:213:7: error: reference to __device__ function '__nvvm_atom_sys_xchg_gen_i' in __host__ function; __nvvm_atom_sys_xchg_gen_i((int *)__p, __nv_float_as_int(__v)));; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:213:7: note: '__nvvm_atom_sys_xchg_gen_i' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:244:16: error: static declaration of '__finite' follows non-static declaration; __DEVICE__ int __finite(double __a) { return __nv_isfinited(__a); }; ^; cling: /usr/include/x86_64-linux-gnu/bits/mathcalls-helper-functions.h:33:20: note: previous declaration is here; __MATHDECL_1 (int, __finite,, (_Mdouble_ __value)) __attribute__ ((__const__));; ^; cling: In file included from <built-in>:1:; In file included from /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_runtime_wrapper.h:148:; /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:245:16: error: static declaration of '__finitef' follows non-static declaration; __DEVICE__ int __finitef(float __a) { return __nv_finitef(__a); }; ^; cling: /usr/include/x86_64-linux-gnu/bits/mathcalls-helper-functions.h:33:1: note: previous decl",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7518:9806,install,install,9806,https://root.cern,https://github.com/root-project/root/issues/7518,1,['install'],['install']
Deployability,"_file_idx', 0], ['last_file_idx', 1], ['first_tree_start_perc', 0.5], ['last_tree_end_perc', 1], ['friendinfo', None]])))); kwargs: {}; Exception: ""RuntimeError('C++ exception thrown:\\n\\truntime_error: \\nAn error occurred during just-in-time compilation in RLoopManager::Run. The lines above might indicate the cause of the crash\\nAll RDF objects that have not run their event loop yet should be considered in an invalid state.\\n')""; ```. The Python `RuntimeError` in turn is just a wrapper of the C++ `std::runtime_error` which comes from [this function](https://github.com/root-project/root/blob/bc6c4d327bf0b6c78aff0e9622f959441c480d8e/tree/dataframe/src/RDFUtils.cxx#L335-L342) in the RDF machinery. That error suggests a failure in `TInterpreter::Calc`, which should be visible with some kind of output to stderr showing the compilation error. Unfortunately, stderr is completely empty, no error is shown by `TInterpreter`. By adding a bunch of print statements here and there, we can get to see some more details of this issue (the patch will be attached). ```; Failure in cling::IncrementalExecutor::jitInitOrWrapper: PID=31643,funcname=_Z16__cling_Un1Qu340Pv. Failure at /home/vpadulan/programs/rootproject/rootsrc/interpreter/cling/lib/Interpreter/Interpreter.cpp:1438 with ExecutionResult=3. Failure in Interpreter::EvaluateInternal: PID=31643,evalres=1; The process was evaluating: ROOT::Internal::RDF::CallBuildAction<ROOT::Internal::RDF::ActionTags::Histo1D, Int_t>(reinterpret_cast<std::shared_ptr<ROOT::Detail::RDF::RNodeBase>*>(0x7f0cc988e7d0), new const char*[1]{""b1""}, 1, 1, reinterpret_cast<shared_ptr<TH1D>*>(0x7f0cd043c1f0), reinterpret_cast<std::weak_ptr<ROOT::Internal::RDF::RJittedAction>*>(0x7f0cc94b3830), reinterpret_cast<ROOT::Internal::RDF::RColumnRegister*>(0x7f0cc29a41b0));. Failure in gInterpreter->Calc: PID=31643,errorCode=1; ```. Adding these two lines in `cling::IncrementalExecutor::jitInitOrWrapper` provides a way to stop the execution when the offending ",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11515:1914,patch,patch,1914,https://root.cern,https://github.com/root-project/root/issues/11515,1,['patch'],['patch']
Deployability,"_functions.h:209:7: note: '__nvvm_atom_cta_xchg_gen_i' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:213:7: error: reference to __device__ function '__nvvm_atom_sys_xchg_gen_i' in __host__ function; __nvvm_atom_sys_xchg_gen_i((int *)__p, __nv_float_as_int(__v)));; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:213:7: note: '__nvvm_atom_sys_xchg_gen_i' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:244:16: error: static declaration of '__finite' follows non-static declaration; __DEVICE__ int __finite(double __a) { return __nv_isfinited(__a); }; ^; cling: /usr/include/x86_64-linux-gnu/bits/mathcalls-helper-functions.h:33:20: note: previous declaration is here; __MATHDECL_1 (int, __finite,, (_Mdouble_ __value)) __attribute__ ((__const__));; ^; cling: In file included from <built-in>:1:; In file included from /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_runtime_wrapper.h:148:; /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:245:16: error: static declaration of '__finitef' follows non-static declaration; __DEVICE__ int __finitef(float __a) { return __nv_finitef(__a); }; ^; cling: /usr/include/x86_64-linux-gnu/bits/mathcalls-helper-functions.h:33:1: note: previous declaration is here; __MATHDECL_1 (int, __finite,, (_Mdouble_ __value)) __attribute__ ((__const__));; ^; /usr/include/math.h:283:15: note: expanded from macro '__MATHDECL_1'; extern type __MATH_PRECNAME(function,suffix) args __THROW; ^; /usr/include/math.h:303:34: note: expanded from macro '__MATH_PRECNAME'; # define __MATH_PRECNAME(name,r) name##f##r; ^; <scratch space>:160:1: note: expanded from here; __finitef; ^; cling: In file included from <built-in>:1:; I",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7518:10333,install,install,10333,https://root.cern,https://github.com/root-project/root/issues/7518,1,['install'],['install']
Deployability,"_load(object, __ATOMIC_SEQ_CST); ^; <built-in>:16:26: note: expanded from here; #define __ATOMIC_SEQ_CST 5; ^; In file included from libMyLibrary dictionary payload:5:; In file included from ./MyClass.h:6:; In file included from /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_ptr.hpp:17:; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1077:33: error: expected ')'; /Users/krasznaa/ATLAS/sw/projects/externals/build/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:134:55: note: expanded from macro 'atomic_load'; #define atomic_load(object) __c11_atomic_load(object, __ATOMIC_SEQ_CST); ^; <built-in>:16:26: note: expanded from here; #define __ATOMIC_SEQ_CST 5; ^; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1077:33: note: to match this '('; /Users/krasznaa/ATLAS/sw/projects/externals/build/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:134:46: note: expanded from macro 'atomic_load'; #define atomic_load(object) __c11_atomic_load(object, __ATOMIC_SEQ_CST); ^; In file included from libMyLibrary dictionary payload:5:; In file included from ./MyClass.h:6:; In file included from /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_ptr.hpp:17:; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1088:24: error: expected parameter declarator; template<class T> void atomic_store( shared_ptr<T> * p, shared_ptr<T> r ) BOOST_SP_NOEXCEPT; ^; /Users/krasznaa/ATLAS/sw/projects/externals/build/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:131",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6454:4865,Install,InstallArea,4865,https://root.cern,https://github.com/root-project/root/issues/6454,1,['Install'],['InstallArea']
Deployability,"_mod"", """", RooArgSet(par, RooConst(10)));. RooGaussian gauss(""gauss"", """", x, parMod, RooConst(2.0));; RooGenericPdf pdf(""pdf"", ""gauss"", gauss);. std::unique_ptr<RooAbsReal> integ1{gauss.createIntegral(x, *pdf.getIntegratorConfig(), nullptr)};; integ1->Print(""v"");. std::cout << std::endl;. std::unique_ptr<RooAbsReal> integ2{pdf.createIntegral(x, *pdf.getIntegratorConfig(), nullptr)};; integ2->Print(""v"");; }; ```. The integral of the Gaussian has the correct value (`V`) servers (the parameters of the Gaussian):; ```; (0x7ffc9b9bf798,-S) RooRealVar::x """"; (0x7ffc9b9bf240,--) RooGaussian::gauss """"; (0x7ffc9b9bff68,V-) RooProduct::par_mod """"; (0x55ac531cd470,V-) RooConstVar::2 ""2""; ```. The integral of the `RooGenericPdf` should have the same value servers,; but it doesn't. Instead, it uses the leaves of the computation graph:; ```; (0x7ffc9b9bf798,-S) RooRealVar::x """"; (0x7ffc9b9bec88,--) RooRealSumPdf::pdf """"; (0x7ffc9b9bfb80,V-) RooRealVar::par """"; (0x55ac51984c50,V-) RooConstVar::10 ""10""; (0x55ac531cd470,V-) RooConstVar::2 ""2""; ```. That means, the direct value server `par_mod` is **skipped** now,; misrepresenting the client-server relationship. The new BatchMode makes strong use of the value-server interface for the; `RooFitDriver`, so it's very sensitive to `RooRealIntegrals` getting it; wrong. That's why this commit suggests to change the logic in `RooRealIntegral`; to always add the next direct value servers that don't depend on the; integration variable, and not the leaves. A unit test that verifies that the value servers of the integral are the; mathematically direct value servers and not the computation graph leaves; is also implemented. Closes https://github.com/root-project/root/issues/11578. The PR also fixes the same problem for the RooProjectedPdf, which is essentially a integral wrapper but it also got the server-client interface wrong. Now, it simply takes over the shape and value servers from the underlying integral, which is now implemented correctly.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11597:1746,integrat,integration,1746,https://root.cern,https://github.com/root-project/root/pull/11597,1,['integrat'],['integration']
Deployability,"_string<char, std::char_traits<char>, std::allocator<char> > > > > const&, std::vector<std::variant<signed char, unsigned char, short, unsigned short, int, unsigned int, long, unsigned long, double, float, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::variant<signed char, unsigned char, short, unsigned short, int, unsigned int, long, unsigned long, double, float, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > >&, char const*, int&) () from /cvmfs/cms-ib.cern.ch/nweek-02665/slc7_amd64_gcc900/cms/cmssw/CMSSW_11_3_ROOT6_X_2021-01-24-0000/lib/slc7_amd64_gcc900/libCommonToolsUtils.so; ```. while another thread is at:; ```; #3 <signal handler called>; #4 0x00002b8fcf63cbbb in clang::serialization::MultiOnDiskHashTable<clang::serialization::reader::ASTDeclContextNameLookupTrait>::find(clang::DeclarationName const&) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #5 0x00002b8fcf63cfae in clang::ASTReader::FindExternalVisibleDeclsByName(clang::DeclContext const*, clang::DeclarationName) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #6 0x00002b8fcf758534 in clang::MultiplexExternalSemaSource::FindExternalVisibleDeclsByName(clang::DeclContext const*, clang::DeclarationName) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #7 0x00002b8fd105c4ee in clang::DeclContext::lookup(clang::DeclarationName) const () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #8 0x00002b8fcfb18f77 in LookupDirect(clang::Sema&, clang::LookupResult&, clang::DeclContext const*) () from /cvmfs/cms-ib.cern.ch/week1/slc",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7093:3896,patch,patch,3896,https://root.cern,https://github.com/root-project/root/issues/7093,1,['patch'],['patch']
Deployability,"_working/rootcling/v6-14-00-patches/interpreter/cling/lib/Interpreter/Interpreter.cpp:106; #3 0x00007fffeebeb659 in cling::LookupHelper::findScope (this=0x4a9dd0, className=..., diagOnOff=cling::LookupHelper::NoDiagnostics, resultType=0x7fffffffcd08, instantiateTemplate=false); at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/interpreter/cling/lib/Interpreter/LookupHelper.cpp:466; #4 0x00007fffeeabe0df in TCling::CheckClassInfo (this=0x4a0550, name=<optimized out>, autoload=<optimized out>, isClassOrNamespaceOnly=<optimized out>); at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/metacling/src/TCling.cxx:3630; #5 0x00007ffff7c3040d in TClass::Init (this=this@entry=0xdafd20, name=name@entry=0x7ffff7cb7638 ""TGlobal"", cversion=cversion@entry=2, typeinfo=typeinfo@entry=0x7ffff7d8b6d8 <typeinfo for TGlobal>, isa=isa@entry=0x477430,; dfil=dfil@entry=0x7ffff7cb8cab ""TGlobal.h"", ifil=<optimized out>, dl=<optimized out>, il=<optimized out>, givenInfo=<optimized out>, silent=<optimized out>); at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/meta/src/TClass.cxx:1431; #6 0x00007ffff7c3a1b8 in TClass::TClass (this=0xdafd20, name=0x7ffff7cb7638 ""TGlobal"", cversion=<optimized out>, info=..., isa=0x477430, dfil=0x7ffff7cb8cab ""TGlobal.h"",; ifil=0x7ffff7cccf88 ""/local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/meta/src/TGlobal.cxx"", dl=27, il=25, silent=false) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/meta/src/TClass.cxx:1273; #7 0x00007ffff7c3a72a in ROOT::CreateClass (cname=0x7ffff7cb7638 ""TGlobal"", id=id@entry=2, info=..., isa=isa@entry=0x477430, dfil=dfil@entry=0x7ffff7cb8cab ""TGlobal.h"",; ifil=ifil@entry=0x7ffff7cccf88 ""/local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/meta/src/TGlobal.cxx"", dl=27, il=25) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/meta/src/TClass.cxx:5607; #8 0x00007ffff7c4b552 in ROOT::Internal::TDefaultInitBehavior::CreateClass (il=25, dl=27, ifil=0x7ffff7cccf88 ""/",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2776:3402,patch,patches,3402,https://root.cern,https://github.com/root-project/root/pull/2776,2,['patch'],['patches']
Deployability,"_x86-64/GCC-Toolchain/v12.2.0-alice1-5/include/c++/12.2.0/bits/unique_ptr.h:191; #19 0x00007fa76afa4b02 in TCling::ProcessLineSynch (this=0x16e7bc0, line=0x16e8930 "".X /home/tdietel/alice/data/ole/./sortbug.C+"", error=0x7fff0771f04c); at /jenkins/workspace/build-any-ib/sw/20156516/1/SOURCES/ROOT/v6-28-04/v6-28-04/core/metacling/src/TCling.cxx:3554; #20 0x00007fa7711777e7 in TApplication::ExecuteFile (file=<optimized out>, error=0x7fff0771f04c, keep=<optimized out>) at /jenkins/workspace/build-any-ib; /sw/20156516/1/SOURCES/ROOT/v6-28-04/v6-28-04/core/base/src/TApplication.cxx:1661; #21 0x00007fa77172040c in TRint::ProcessLineNr (this=0x16b4f60, filestem=<optimized out>, line=0x7fff0771f060 "".x sortbug.C+"", error=0x7fff0771f04c) at /; jenkins/workspace/build-any-ib/sw/20156516/1/SOURCES/ROOT/v6-28-04/v6-28-04/core/rint/src/TRint.cxx:820; #22 0x00007fa771721fc6 in TRint::Run (this=this; entry=0x16b4f60, retrn=retrn; entry=false) at /jenkins/workspace/build-any-ib/sw/20156516/1/SOURCES/ROOT/v6-28-04/v6-28-04/core/rint/src/TRint.cxx:461; #23 0x00000000004011dd in main (argc=<optimized out>, argv=0x7fff077211e8) at /jenkins/workspace/build-any-ib/sw/20156516/1/SOURCES/ROOT/v6-28-04/v6-28-0; 4/main/src/rmain.cxx:84; ```. I assume the bug can be triggered with other data sets in plain ROOT. If needed, I could try to strip things down, but I don't know if this is the most efficient use of my time. ### ROOT version; ```; ------------------------------------------------------------------; | Welcome to ROOT 6.28/04 https://root.cern |; | (c) 1995-2022, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built for linuxx8664gcc on Jul 10 2023, 10:38:00 |; | From tags/v6-28-04@v6-28-04 |; | With c++ (GCC) 12.2.0 |; | Try '.help'/'.?', '.demo', '.license', '.credits', '.quit'/'.q' |; ------------------------------------------------------------------; ```. ### Installation method. Built with alibuild. ### Operating system. CentOS 7, Ubuntu. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13314:10366,Install,Installation,10366,https://root.cern,https://github.com/root-project/root/issues/13314,1,['Install'],['Installation']
Deployability,"` such that the underlying path is explicitly created. It works only if `TFile.cxx` is compiled with the C++17 standard, otherwise the relevant code is excluded by the means of the preprocessor. ## Checklist:. - [x] tested changes locally; - [ ] updated the docs (if necessary). ## Quick test; I prepared a small program in C++ (requires C++17) to quickly test the pull request (see at the bottom of the message). In log, with the patched ROOT version the output looks like thit:; ```; Attempt to (re)createa/b/c/test.root; Ok.; ```; while with the ROOT version 6.28 the output looks like this:; ```; Attempt to (re)createa/b/c/test.root; SysError in <TFile::TFile>: file XXXXXX/ftest/XXYqNIoC/a/b/c/test.root can not be opened No such file or directory; Fail.; ```. The program:; ```c++; #include ""TFile.h""; #include <filesystem>; #include <cstdlib>; #include <iostream>; namespace fs = std::filesystem;. char tmpname[] = ""XXXXXXXX"";. char E[] = ""test.root"";; char F[] = ""a/b/c/test.root"";; char H[] = ""a/b/d/atest.root"";. void ok(char *fname); {; if (fs::exists(fs::path(fname))); std::cout << ""Ok."" << std::endl;; else; std::cout << ""Fail."" << std::endl;; }. int main(); {; char *tmpnm = mkdtemp(tmpname);; if (tmpnm == NULL) {; std::cout << ""Error while creating tmp dir"" << std::endl;; return -1;; }; const auto tmp = fs::path(tmpnm);; const auto prev = fs::current_path();. fs::current_path(tmp);; std::cout << ""Attempt to (re)create"" << E << std::endl;; TFile e(E, ""recreate""); e.Close(); ok(E);; std::cout << ""Attempt to (re)create"" << F << std::endl;; TFile f(F, ""recreate""); f.Close(); ok(F);; std::cout << ""Attempt to open"" << F << std::endl;; TFile g(F); g.Close(); ok(F);; std::cout << ""Attempt to open"" << H << std::endl;; TFile h(H); h.Close(); ok(H);. std::cout << ""List temporary directory tree:"" << std::endl;; std::system(""tree"");. fs::current_path(prev);; fs::remove_all(tmp);; if (not fs::exists(tmp)); std::cout << ""Temporary directory deleted"" << std::endl;; else; std::cerr <<",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15141:1284,a/b,a/b,1284,https://root.cern,https://github.com/root-project/root/pull/15141,1,['a/b'],['a/b']
Deployability,"`**note**` -> `\note`, and that PyROOT and RDataFrame are required for distRDF is kind of obvious and anyways they are included in virtually any ROOT installation.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13148:150,install,installation,150,https://root.cern,https://github.com/root-project/root/pull/13148,1,['install'],['installation']
Deployability,`+` test; `+` release notes,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9040:14,release,release,14,https://root.cern,https://github.com/root-project/root/pull/9040,1,['release'],['release']
Deployability,"`-D` shouldn't be emitted, so the build will work. ### To Reproduce. I'm building with Spack:; <details><summary>Spack concretization</summary><pre>; - root@6.26.06%apple-clang@13.1.6~aqua~davix~dcache~emacs~examples~fftw~fits~fortran+gdml+gminimal~graphviz~gsl~http~ipo~jemalloc~math~memstat+minuit~mlp~mysql~opengl~oracle~postgres~pythia6~pythia8+python~qt4~r+roofit~root7+rpath~shadow~spectrum~sqlite~ssl~table~tbb+threads~tmva+unuran~vc+vdt~veccore~vmc~x+xml~xrootd build_type=RelWithDebInfo cxxstd=17 patches=22af347 arch=darwin-monterey-m1; [+] ^cmake@3.24.1%apple-clang@13.1.6~doc+ncurses+ownlibs~qt build_type=Release arch=darwin-monterey-m1; [+] ^freetype@2.11.1%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^bzip2@1.0.8%apple-clang@13.1.6~debug~pic+shared arch=darwin-monterey-m1; [+] ^gnuconfig@2021-08-14%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^libpng@1.6.37%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^zlib@1.2.12%apple-clang@13.1.6+optimize+pic+shared patches=0d38234 arch=darwin-monterey-m1; [+] ^pkgconf@1.8.0%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^libice@1.0.9%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^util-macros@1.19.3%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^xproto@7.0.31%apple-clang@13.1.6 arch=darwin-monterey-m1; [-] ^pkgconf@1.9.3%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^xtrans@1.3.5%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^libjpeg-turbo@2.1.3%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^cmake@3.24.1%apple-clang@13.1.6~doc+ncurses+ownlibs~qt build_type=Release arch=darwin-monterey-m1; [+] ^nasm@2.15.05%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^libxml2@2.10.1%apple-clang@13.1.6~python arch=darwin-monterey-m1; [+] ^libiconv@1.16%apple-clang@13.1.6 libs=shared,static arch=darwin-monterey-m1; [+] ^xz@5.2.5%apple-clang@13.1.6~pic libs=shared,static arch=darwin-monterey-m1; [+] ^lz4@1.9.3%apple-clang@13.1.6 libs=shared,static arch=darwin-monterey-m1; [+] ^ncurses@5.7.20081102%apple-clang@13.1.6~sym",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11312:7662,patch,patches,7662,https://root.cern,https://github.com/root-project/root/issues/11312,1,['patch'],['patches']
Deployability,"`-Wbidirectional=` was RedHat's initial proposal that they also shipped in gcc-8.5.0-4.el8 for CentOS 8. During review, the name was changed to `-Wbidi-chars=` which will appear in GCC 12 and was backported to the next gcc-8.5.0-5.el8. See the mailing list thread at https://gcc.gnu.org/pipermail/gcc-patches/2021-November/thread.html#583031 for details.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9532:301,patch,patches,301,https://root.cern,https://github.com/root-project/root/pull/9532,1,['patch'],['patches']
Deployability,"`: in particular, _(i)_ `RNTupleDescriptorBuilder::BeginHeaderExtension()` marks the beginning of the header extension; and _(ii)_ extension header information, including an iterator over the top-level fields may be obtained via `RNTupleDescriptor::GetHeaderExtension()`.; - Serialize/deserialize an incremental schema description, i.e. schema extension, as part of the footer envelope. This changes the layout of the footer as explained in the [updated binary format specification](https://github.com/jalopezg-git/root/blob/2ed0dd65698c937f0c06017172c6fbcdfbbb9636/tree/ntuple/v7/doc/specifications.md).; **NOTE:** another change required in the serialization code is the use depth-first serialization of columns instead. Rationale: given that; 1. New columns may appear during write as a result of schema extension; and; 2. On-disk IDs for those columns have to be assigned before serializing the next page list,. we have to ensure that these columns get the same ID both when they are seen for the first time (in page lists) and by the time the description for the schema extension is serialized.; This change only affects how the schema is serialized and does not change deserialization, i.e. the change is backwards compatible.; - `RPageSink::UpdateSchema(const RNTupleModelChangeset &)` allows incremental updates to the ntuple descriptor kept internally in the `RPageSink`, which is required, e.g. if new fields were added after the initial call to `RPageSink::Create(RNTupleModel &)`.; - Per the current state of affairs in `RPageSinkBuf`, some adjustments are also needed to keep `fInnerModel` in sync.; - Add class `RNTupleModel::RUpdater`, which provides limited support for incremental updates, e.g. addition of new fields.; - Add `RNTupleWriter::CreateModelUpdater()` that returns a usable `RUpdater` object. ## Checklist:; - [X] tested changes locally; - [X] updated the docs (if necessary); - [x] Update to format version to RC 2 -- to be done after merging both parts + split encoding",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12376:2281,Update,UpdateSchema,2281,https://root.cern,https://github.com/root-project/root/pull/12376,5,"['Update', 'update']","['Update', 'UpdateSchema', 'updated', 'updates']"
Deployability,"`AppendImpl()` returns the number of bytes written. For collections, this accounts for the size of the written elements + one element in the index column. However, `sizeof(RColumnElement<T>)` was erroneously taken as the size of the latter. Instead, use the packed size of an element in the principal column. Note that such size may be either 64 or 32 bit, depending on whether small clusters are used. The `RNTuple.SmallClusters` test was adjusted accordingly. As side effect, this PR should fix the RNTuple.SmallClusters test on Win32 (and thus supersedes #13004). ## Changes or fixes:; - Fix return value of `AppendImpl()` for collection fields.; - Adjust RNTuple.SmallClusters; also, set the target zipped cluster size and no compression, as otherwise the estimation of the zipped cluster size hits in. ## Checklist:; - [x] tested changes locally; - [ ] updated the docs (if necessary)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13021:858,update,updated,858,https://root.cern,https://github.com/root-project/root/pull/13021,1,['update'],['updated']
Deployability,"`Count` should return the same type that we use to enumerate entries, by definition. A related PR in roottest updates `test_misc` to comply with the interface change.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1046:110,update,updates,110,https://root.cern,https://github.com/root-project/root/pull/1046,1,['update'],['updates']
Deployability,"`RAttrBox` had too many encapsulations. Use instead directly `RAttrFill` and newly introduced `RAttrBorder` for `RFrame`, `RBox`, `RPave`. Remove `RAttrOnFrame` class which was used in inheritance for the drawables, put ""onframe"" and ""clipping"" attributes directly in the classes where supported. Simplify naming convention. For every attributes aggregation like `RAttrLine` provide only two methods:. RAttrLine &AttrLine() { return fAttrLine; }; const RAttrLine &AttrLine() const { return fAttrLine; }. Update JSROOT to reflect changes on C++ side",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/8373:504,Update,Update,504,https://root.cern,https://github.com/root-project/root/pull/8373,1,['Update'],['Update']
Deployability,"`RColumnElement` template specializations follow the same schema. This pull request proposes judicious use of preprocessor macros, which results in more readable and maintanable code. ## Changes or fixes:; - Define PP macros: `DECLARE_RCOLUMNELEMENT_SPEC` and `DECLARE_RCOLUMNELEMENT_SPEC_SIMPLE`, which can be used to declare `RColumnElement` template specializations.; - Rewrite current specializations in terms of the aforementioned macros. ## Checklist:; - [x] tested changes locally; - [x] updated the docs (if necessary)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13220:495,update,updated,495,https://root.cern,https://github.com/root-project/root/pull/13220,1,['update'],['updated']
Deployability,"`RColumnReaderBase` is now a non-template class, and only its `Get`; method is templated over the type of the value to retrieve. This alternative design has two main advantages:; - it simplifies `RAction` greatly, removing the need for the special; `RTypeErasedColumnReader` type: now all column readers are type erased; in the sense that a `RColumnReaderBase*` does not contain the type of; the column that will be read; - it makes it possible to pass `RColumnReaderBase` through interfaces; that type-erase column types, which is important to better integrate; RDF and RDataSource: in the future, `RDataSource` implementations will; be able to return specialized column readers to RDF rather than raw; pointers to the datasource values. There should be no visible difference in event loop runtimes: a virtual; call to `SomeColumnReader<T>::Get` has been substituted with a direct,; inlined call to `RColumnReaderBase::Get<T>` which in turn executes a; virtual call to `SomeColumnReader<T>::GetImpl`. Compile times and jitting times should benefit from the reduced amount; of templates.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6310:552,integrat,integrate,552,https://root.cern,https://github.com/root-project/root/pull/6310,1,['integrat'],['integrate']
Deployability,"`RNTupleDescriptor::GetColumnIterable` returns an iterator over all *logical* columns, causing projected fields to be considered as well in the size calculation by the RNTupleInspector. With this fix, projected fields are skipped. - [x] tested changes locally; - [x] updated the docs (if necessary)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14857:267,update,updated,267,https://root.cern,https://github.com/root-project/root/pull/14857,1,['update'],['updated']
Deployability,"`RPageSource` now lives in the `Internal` namespace, so we can make the `UnsealPage` method public. This gives the possibility to get the contents of individual columns for benchmarking and testing purposes. - [x] tested changes locally; - [x] updated the docs (if necessary)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14847:244,update,updated,244,https://root.cern,https://github.com/root-project/root/pull/14847,1,['update'],['updated']
Deployability,"`RooLinkedList::At(ix)` was implemented using an `ix`-step walk through the list. We found that in HistFactory models, `At` was used to loop over the list, which thus caused a lot of double walking through the list. This PR (a cherry-pick from the [roofit-dev fork](https://github.com/roofit-dev/root/tree/linked_list_at)) improves this situation by replacing `At`'s walk by a direct lookup from a `std::vector` of `RooLinkedListElem` pointers. In our HistFactory-based benchmark, this gave a significant speed boost of 1.6x on a likelihood minimization task. Since this was not the focus of the roofit-dev project, unfortunately, I had no time yet to wrap up this feature into a nice PR, do rigorous testing and benchmarking, etcetera. I would appreciate reviews and suggestions or additional commits for improvements. For instance, I put `//!` behind the index vector (the name of this `//!` feature currently eludes me), so I wouldn't have to update the class version, but I guess this will break the class when it is (de)serialized. I'll gladly take any advice on how to best handle this.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3024:946,update,update,946,https://root.cern,https://github.com/root-project/root/pull/3024,1,['update'],['update']
Deployability,``; Cling :: CodeUnloading/PCH/VTables.C; Cling :: DynamicLibraryManager/callable_lib_L_AB_order1.C; ```. Remaining failures (excluding the ones above):; ```; Cling :: CodeGeneration/Symbols.C; Cling :: CodeUnloading/AtExit.C; Cling :: CodeUnloading/PCH/VTablesClingPCH.C; Cling :: CodeUnloading/RereadFile.C; Cling :: ErrorRecovery/StoredState.C; Cling :: MultipleInterpreters/MultipleInterpreters.C; ```; </details>. ROOT:; - [x] Compare the build size against master; - [x] Compare the `.pcm` file size against master; - [ ] Add flags to ignore compilation warnings coming from llvm; - [x] Remove the FIXME from commit 'Add another symbol generator to resolve the generated lazy symbol' - the explanation is in the commit; - [x] Fix the llvm::StringRef conversion failures on OSX. <details>; <summary>; Binary Size this PR needs 13% more space (2.3 vs 2. GB); </summary>. ```; du -hs root-release-llvm13; 2.3G	.; (base) vvassilev@vv-nuc /build/vvassilev/root-release-llvm13 $ du -hs ../root-release-master/; 2.0G	../root-release-master/; ```. </details>. <details>; <summary>; Module files need ~5% more space on disk (215 vs 206 MB); </summary>. ```; diff -y llvm13 master ; 424K	lib/ASImageGui.pcm				 |	444K	lib/ASImageGui.pcm; 468K	lib/ASImage.pcm					 |	484K	lib/ASImage.pcm; 4.2M	lib/_Builtin_intrinsics.pcm			 |	4.0M	lib/_Builtin_intrinsics.pcm; 48K	lib/_Builtin_stddef_max_align_t.pcm		 |	44K	lib/_Builtin_stddef_max_align_t.pcm; 200K	lib/Cling_Runtime_Extra.pcm			 |	132K	lib/Cling_Runtime_Extra.pcm; 100K	lib/Cling_Runtime.pcm					100K	lib/Cling_Runtime.pcm; 11M	lib/Core.pcm					 |	9.6M	lib/Core.pcm; 564K	lib/EG.pcm					 |	584K	lib/EG.pcm; 5.7M	lib/Eve.pcm					 |	5.4M	lib/Eve.pcm; 652K	lib/FitPanel.pcm				 |	656K	lib/FitPanel.pcm; 504K	lib/Foam.pcm					 |	520K	lib/Foam.pcm; 440K	lib/Fumili.pcm					 |	460K	lib/Fumili.pcm; 1.2M	lib/Gdml.pcm						1.2M	lib/Gdml.pcm; 960K	lib/Ged.pcm					 |	968K	lib/Ged.pcm; 432K	lib/Genetic.pcm					 |	456K	lib/Genetic.pcm; 2.9M	lib/GenVector.pcm				 ,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10294:1378,release,release-master,1378,https://root.cern,https://github.com/root-project/root/pull/10294,1,['release'],['release-master']
Deployability,"``; We have an executable which loops over multiple TFiles (each containing 1 object of different classes not known to this application, though the problem is the same if all includes are added) , and for each file. opens it in the ""update"" mode (w/o explicitly loading the object stored in the file); writes some simple struct with metadata; closes the file.; Afterwards, in separate processes, these files are read by other executables (Consumers) which include headers for objects inside these files. The ClassVersion of the content for some of these files is lower than the current ClassVersion used by Consumers. Automatic schema evolution accounts for differences. The problem appears when two initial files contain objects of the same class (MyClass in the example below) of version A while the Consumer uses higher class version B because:. the 1st updated file happens to have StreamerInfo of its original object together with the StreamerInfo of the added metadata (as shown by gFile->GetStreamerInfoList()->Print() ); the 2nd updated file has StreamerInfo only for added metadata class, reading the object from these files leads to an error.; I am wondering if there is a way to enforce the presence of the original StreamerInfo in the updated file. The reproducer is attached:. tar xvzf tst.tar.gz ; cd tst; chmod +x runTest.sh;; ./runTest.sh; It produces (suppressing ACLIC output):. Creating library for MyClass version 1; Storing object of class version 1 in two identical files; Creating library for MyClass version 2; Updating files containing object of old class version 1 (by writing metadata object of unrelated class OtherClass). Reading 1st (updated) file; Processing testFile.C(""outv1.root"")...; printing GetStreamerInfoList()->Print() for outv1.root; Collection name='TList', class='TList', size=2; OBJ: TStreamerInfo	MyClass	; OBJ: TStreamerInfo	OtherClass	. Reading 2nd (updated) file; Processing testFile.C(""outv2.root"")...; Error in <TBufferFile::CheckByteCount>: object o",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14171:1062,update,updated,1062,https://root.cern,https://github.com/root-project/root/issues/14171,2,['update'],['updated']
Deployability,"```-- Installing: /workspace/install/ROOT/HEAD/x86_64-centos7-gcc7-opt/bin/roots; -- Installing: /workspace/install/ROOT/HEAD/x86_64-centos7-gcc7-opt/bin/proofserv; -- Installing: /workspace/install/ROOT/HEAD/x86_64-centos7-gcc7-opt/bin/xproofd; CMake Error at cmake_install.cmake:111 (file):; file INSTALL cannot find; ""/workspace/build/projects/ROOT-HEAD/src/ROOT-HEAD-build/include/RConfigOptions.h"":; No such file or directory.; ```",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5450:6,Install,Installing,6,https://root.cern,https://github.com/root-project/root/pull/5450,7,"['INSTALL', 'Install', 'install']","['INSTALL', 'Installing', 'install']"
Deployability,"```. And then run; ```; git clone https://github.com/andresailer/dictfailure.git; cd dictfailure; mkdir build; cd build; cmake ..; make; python ../fail.py; ```. The python ends up with; ```; Error in <TInterpreter::AutoParse>: Error parsing payload code for class myProject::dict::DictCreation with content:. #line 1 ""G__DDDict dictionary payload"". #define _BACKWARD_BACKWARD_WARNING_H; // Inline headers; #include <string>; namespace myProject {; namespace sim {; class TypeName : public std::pair<std::string, std::string> {; public:; TypeName(const std::pair<std::string, std::string>& c); : std::pair<std::string, std::string>(c) {}; /// Initializing constructor; TypeName(const std::string& typ, const std::string& nam); : std::pair<std::string, std::string>(typ, nam) {}; };; } // End namespace sim; } // End namespace myProject. namespace myProject {; namespace dict {; struct DictCreation {; };; } // dict; } //myProject. typedef myProject::dict::DictCreation DictCreation;. #if defined(__CINT__) || defined(__MAKECINT__) || defined(__CLING__) || defined(__ROOTCLING__). #pragma link C++ class myProject::dict::DictCreation;. #endif //cint and __friends__. #undef _BACKWARD_BACKWARD_WARNING_H. Error in <TClass::LoadClassInfo>: no interpreter information for class myProject::dict::DictCreation is available even though it has a TClass initialization routine.; Error in <TClass::LoadClassInfo>: no interpreter information for class myProject::dict::DictCreation is available even though it has a TClass initialization routine.; Error in <TClass::LoadClassInfo>: no interpreter information for class myProject::dict::DictCreation is available even though it has a TClass initialization routine.; <class cppyy.gbl.myProject.dict.DictCreation at 0x8cda7c0>; ```. ### ROOT version. Broken: 6-32-00 patches, master; Working: 6-30-00 patches, From Tuesday April 4 and earlier releases of ROOT . ### Installation method. LCG stacks. ### Operating system. Alma9. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15221:2534,patch,patches,2534,https://root.cern,https://github.com/root-project/root/issues/15221,4,"['Install', 'patch', 'release']","['Installation', 'patches', 'releases']"
Deployability,"```; *************************************************************; Geant4 version Name: geant4-10-03-patch-03 [MT] (20-October-2017); << in Multi-threaded mode >> ; Copyright : Geant4 Collaboration; Reference : NIM A 506 (2003), 250-303; WWW : http://cern.ch/geant4; *************************************************************. Checking overlaps for volume NaI ... OK! ; Checking overlaps for volume collimator ... OK! ; Checking overlaps for volume glass ... OK! . *** Break *** segmentation violation. ===========================================================; There was a crash.; This is the entire stack trace of all threads:; ===========================================================; #0 0x00007f075f899687 in __GI___waitpid (pid=2927, stat_loc=stat_loc; entry=0x7ffd2902c628, options=options; entry=0) at ../sysdeps/unix/sysv/linux/waitpid.c:30; #1 0x00007f075f804067 in do_system (line=<optimized out>) at ../sysdeps/posix/system.c:149; #2 0x00007f0765354577 in TUnixSystem::Exec (shellcmd=<optimized out>, this=0x55935a0857c0) at /home/yasmin/root/root-6.12.06/core/unix/src/TUnixSystem.cxx:2118; #3 TUnixSystem::StackTrace (this=0x55935a0857c0) at /home/yasmin/root/root-6.12.06/core/unix/src/TUnixSystem.cxx:2412; #4 0x00007f0765356c9c in TUnixSystem::DispatchSignals (this=0x55935a0857c0, sig=kSigSegmentationViolation) at /home/yasmin/root/root-6.12.06/core/unix/src/TUnixSystem.cxx:3643; #5 <signal handler called>; #6 0x00007f0761bb4118 in G4RToEConvForGamma::BuildAbsorptionLengthVector(G4Material const*, G4PhysicsLogVector*) () from /home/yasmin/CERN/geant4.10.03.p03-install/lib/libG4processes.so; #7 0x00007f0761bb6c3f in G4VRangeToEnergyConverter::Convert(double, G4Material const*) () from /home/yasmin/CERN/geant4.10.03.p03-install/lib/libG4processes.so; #8 0x00007f0761bb0bee in G4ProductionCutsTable::UpdateCoupleTable(G4VPhysicalVolume*) () from /home/yasmin/CERN/geant4.10.03.p03-install/lib/libG4processes.so; #9 0x00007f0763b9c5e2 in G4RunManagerKernel::RunInitializ",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/9952:102,patch,patch-,102,https://root.cern,https://github.com/root-project/root/issues/9952,1,['patch'],['patch-']
Deployability,"```; .../root_build/XROOTD-prefix/src/XROOTD/src/XrdSys/XrdSysDNS.cc: In ; static member function 'static char* XrdSysDNS::Peername(int, sockaddr*, char**); ': ; .../root_build/XROOTD-prefix/src/XROOTD/src/XrdSys/XrdSysDNS.cc:704:50: error: invalid conversion from 'int*' to 'socklen_t*' {aka 'unsigned int*'} [-fpermissive]; 704 | if (getpeername(snum, (struct sockaddr *)sap, &addrlen) < 0); | ^~~~~~~~; | |; | int*; ```. XrdSysDNS was deprecated in xrootd. Perhaps either add cast to socklen_t* on the third parameter or update to xrootd 5.3.2?",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/9173:524,update,update,524,https://root.cern,https://github.com/root-project/root/issues/9173,1,['update'],['update']
Deployability,"```; 6 0x00007fc41ee3de62 in Fatima::ReadSensitive(G4Event const*) () at /home/apal/nptool/NPSimulation/lib/libNPSFatima.so; #7 0x00007fc42d774f3d in DetectorConstruction::ReadAllSensitive(G4Event const*) () at /home/apal/nptool/NPSimulation/lib/libNPSCore.so; #8 0x00007fc42d756444 in EventAction::EndOfEventAction(G4Event const*) () at /home/apal/nptool/NPSimulation/lib/libNPSCore.so; #9 0x00007fc42b8aaf23 in G4EventManager::DoProcessing(G4Event*) () at /home/apal/G4/geant4-install/lib/libG4event.so; #10 0x00007fc42d2240f7 in G4RunManager::DoEventLoop(int, char const*, int) () at /home/apal/G4/geant4-install/lib/libG4run.so; #11 0x00007fc42d221d22 in G4RunManager::BeamOn(int, char const*, int) () at /home/apal/G4/geant4-install/lib/libG4run.so; #12 0x00007fc42d23fb27 in G4RunMessenger::SetNewValue(G4UIcommand*, G4String) () at /home/apal/G4/geant4-install/lib/libG4run.so; #13 0x00007fc42d14f35f in G4UIcommand::DoIt(G4String) () at /home/apal/G4/geant4-install/lib/libG4intercoms.so; #14 0x00007fc42d16cc9a in G4UImanager::ApplyCommand(char const*) () at /home/apal/G4/geant4-install/lib/libG4intercoms.so; #15 0x00007fc42d2e28bf in G4VBasicShell::ExecuteCommand(G4String const&) () at /home/apal/G4/geant4-install/lib/libG4interfaces.so; #16 0x00007fc42d2e7afe in G4VBasicShell::ApplyShellCommand(G4String const&, bool&, bool&) () at /home/apal/G4/geant4-install/lib/libG4interfaces.so; #17 0x00007fc42d2daac4 in G4UIQt::ButtonCallback(QString const&) () at /home/apal/G4/geant4-install/lib/libG4interfaces.so; #18 0x00007fc4283cf328 in QMetaObject::activate(QObject*, int, int, void**) () at /usr/lib/x86_64-linux-gnu/libQt5Core.so.5; #19 0x00007fc428f0e3e6 in QAction::triggered(bool) () at /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5; #20 0x00007fc428f10aa2 in QAction::activate(QAction::ActionEvent) () at /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5; #21 0x00007fc42900ae10 in () at /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5; #22 0x00007fc42900b035 in QAbstractButton::mouseRele",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11071:479,install,install,479,https://root.cern,https://github.com/root-project/root/issues/11071,5,['install'],['install']
Deployability,```; CMake Error at interpreter/cling/docs/CMakeLists.txt:60 (include):; include could not find requested file:. AddSphinxTarget; ```. when configuring with. `cmake -DLLVM_ENABLE_SPHINX=ON`. Affects `master` and latest v6.28/06 / `v6-28-00-patches`. Reported on the forum: https://root-forum.cern.ch/t/cmake-failed-w-dllvm-enable-sphinx-on/56260,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13597:240,patch,patches,240,https://root.cern,https://github.com/root-project/root/issues/13597,1,['patch'],['patches']
Deployability,"```; In file included from /builddir/build/BUILD/root-6.26.00/tmva/sofie/inc/TMVA/RModel.hxx:14,; from /builddir/build/BUILD/root-6.26.00/tmva/sofie/src/RModel.cxx:3:; /builddir/build/BUILD/root-6.26.00/tmva/sofie/inc/TMVA/SOFIE_common.hxx: In member function 'void TMVA::Experimental::SOFIE::InitializedTensor::CastPersistentToShared()':; /builddir/build/BUILD/root-6.26.00/tmva/sofie/inc/TMVA/SOFIE_common.hxx:75:12: error: 'memcpy' is not a member of 'std'; did you mean 'wmemcpy'?; 75 | std::memcpy(tData.get(), fPersistentData,fSize * sizeof(float));; | ^~~~~~; | wmemcpy; gmake[2]: *** [tmva/sofie/CMakeFiles/ROOTTMVASofie.dir/build.make:79: tmva/sofie/CMakeFiles/ROOTTMVASofie.dir/src/RModel.cxx.o] Error 1; ```. # This Pull request:. ## Changes or fixes:. Add #include \<cstring\> for std::memcpy. ## Checklist:. - [x] tested changes locally; - [ ] updated the docs (if necessary)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10116:857,update,updated,857,https://root.cern,https://github.com/root-project/root/pull/10116,1,['update'],['updated']
Deployability,"```; Master; [yuka@yuka-arch module-release]$ du lib/*.pcm | grep -v rdict | awk -F ' ' '{sum += $1} END {print sum}'; 360608; Processing /home/yuka/CERN/ROOT/memory.C...; cpu time = 0.291462 seconds; sys time = 0.064409 seconds; res memory = 345.816 Mbytes; vir memory = 573.508 Mbytes. With this patch; [yuka@yuka-arch module-release]$ du lib/*.pcm | grep -v rdict | awk -F ' ' '{sum += $1} END {print sum}'; 343336; Processing /home/yuka/CERN/ROOT/memory.C...; cpu time = 0.268580 seconds; sys time = 0.082866 seconds; res memory = 329.051 Mbytes; vir memory = 553.289 Mbytes; ```. It improves res memeory by 5% compared with master, and by 8% with",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2434:36,release,release,36,https://root.cern,https://github.com/root-project/root/pull/2434,3,"['patch', 'release']","['patch', 'release']"
Deployability,"```; ROOT Version: root-5-34-00-patches; Platform: 4.18.0-193.6.3.el8_2.x86_64 (RHEL 8.2 Ootpa); Compiler: gcc (GCC) 8.3.1 20191121 (Red Hat 8.3.1-5); ```. I have been asked to install ROOT v5-34 in a machine that does not have an internet connection. My configure line is:; ```; ./configure --prefix=/software/root/5.34; ```; But it fails to find the LZ4 library as shown below in the output of the `configure` command:; ```; Checking whether to build included lz4 ... yes; ```; Even if the library can be found in the PATH by the command `which`. This is a problem, because it will then try to download the package and it will fail. So I try the following configure line:; ```; ./configure --prefix=/software/root/5.34 --disable-builtin-lz4; ```; But the option is ignored and the output of the configure shows that it will build the builtin_lz4 (and therefore download it from internet):; ```; Enabled support for asimage, astiff, builtin_afterimage, builtin_glew, builtin_lz4, cintex, explicitlink, fftw3, gviz, genvector, krb5, memstat, opengl, reflex, shadowpw, shared, ssl, tmva, vdt, x11, xft, xml.; ```; I was able to bypass the behaviour for the version 6.24 using `cmake` with the following line:; ```; cmake -DCMAKE_INSTALL_PREFIX=<some-path> -Dasimage=on -Dcocoa=on -Dvdt=off -Dxrootd=off -Dclad=off <path-to-source>; ```; Again, for version 6.24, I was not able to use the `--disable` option, but somehow, this combination of options resulted in the bypassing of the builtin-lz4. This issue was opened following a [suggestion in the root forum](https://root-forum.cern.ch/t/installation-without-internet-access/45361/2?u=eduardo) where the same question was posted earlier. Regards,; Eduardo",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/8424:32,patch,patches,32,https://root.cern,https://github.com/root-project/root/issues/8424,3,"['install', 'patch']","['install', 'installation-without-internet-access', 'patches']"
Deployability,"```; build/rmkdepend/include.c:306:28: warning: ‘%s’ directive writing up to 8190 bytes into a region of size between 1 and 8191 [-Wformat-overflow=]; 306 | sprintf(path, ""%s/%s"", *pp, include);; | ^~; ```. # This Pull request:. ## Changes or fixes:. ## Checklist:. - [ ] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11861:302,update,updated,302,https://root.cern,https://github.com/root-project/root/pull/11861,1,['update'],['updated']
Deployability,"```; build/rmkdepend/include.c:306:28: warning: ‘%s’ directive writing up to 8190 bytes into a region of size between 1 and 8191 [-Wformat-overflow=]; 306 | sprintf(path, ""%s/%s"", *pp, include);; | ^~; ```; Apple needs to be told to expose snprintf... (cherry picked from commit 19909eb71a5ce5a066ca4588e62ff012dec0bb7c). # This Pull request:. ## Changes or fixes:. ## Checklist:. - [ ] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12099:417,update,updated,417,https://root.cern,https://github.com/root-project/root/pull/12099,1,['update'],['updated']
Deployability,"```; rulevisCorr.cxx:173:43: error: ‘snprintf’ output may be truncated before the last format character [-Werror=format-truncation=]; 173 | snprintf( cn, 20, ""rulecorr%d_"", countCanvas+1 );; | ^; rulevisCorr.cxx:173:21: note: ‘snprintf’ output between 11 and 21 bytes into a destination of size 20; 173 | snprintf( cn, 20, ""rulecorr%d_"", countCanvas+1 );; | ~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~; ```; # This Pull request:. ## Changes or fixes:. ## Checklist:. - [ ] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11702:508,update,updated,508,https://root.cern,https://github.com/root-project/root/pull/11702,1,['update'],['updated']
Deployability,"```; rulevisCorr.cxx:173:43: error: ‘snprintf’ output may be truncated before the last format character [-Werror=format-truncation=]; 173 | snprintf( cn, 20, ""rulecorr%d_"", countCanvas+1 );; | ^; rulevisCorr.cxx:173:21: note: ‘snprintf’ output between 11 and 21 bytes into a destination of size 20; 173 | snprintf( cn, 20, ""rulecorr%d_"", countCanvas+1 );; | ~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~; ```; (backport from master). # This Pull request:. ## Changes or fixes:. ## Checklist:. - [ ] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11928:532,update,updated,532,https://root.cern,https://github.com/root-project/root/pull/11928,1,['update'],['updated']
Deployability,"```console; ❯ cat reproducer.def; Bootstrap: docker; From: fedora:36. %post; dnf -y update; dnf -y install git make cmake gcc-c++ gcc binutils ninja-build \; libX11-devel libXpm-devel libXft-devel libXext-devel python openssl-devel; dnf -y clean all. mkdir /reproducer && cd /reproducer; git clone -b master --depth 1 http://github.com/root-project/root source; git -C source log; gcc --version; cmake -GNinja -S source -B build -Dxrootd=OFF; cmake --build build. ```; ```console; ❯ singularity --version; singularity version 3.8.7-1.fc35; ❯ singularity build -f reproducer.sif reproducer.def; (...skip...); + mkdir /reproducer; + cd /reproducer; + git clone -b master --depth 1 http://github.com/root-project/root source; Cloning into 'source'...; (...skip...); + git -C source log; commit 9c12a2a4e707ee75f37bde96772ab53e94f01033 (grafted, HEAD -> master, origin/master, origin/HEAD); Author: Jonas Rembser <jonas.rembser@cern.ch>; Date: Mon Apr 25 11:58:45 2022 +0200. [RF] Also compare parameter errors in RooFitResult::isIdentical(NoCov). The `RooFitResult::isIdentical` method so far only compared parameter; values and covariance matrix values. Even though comparing the final; parameter errors would be redundant with the covariance matrix checks,; it's still important to check parameter errors for two reasons:. 1. Initial parameter errors need to be compared, because the the; initial error determins the initial step size which influences the; minimization path. If initial errors are different, the final; parameter values are almost never identical. Catching differences in initial parameter errors informs the user; that differences in fit result are because of the starting; conditions. 2. In the case of `RooFitResult::isIdenticalNoCov`, we need to check; the error of final parameters because there is no comparison of; covariance matrix values. The signature of the public function `isIdenticalNoCov` is extended by a; tolerance parameter for the error comparison. This is expected ",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10478:84,update,update,84,https://root.cern,https://github.com/root-project/root/issues/10478,2,"['install', 'update']","['install', 'update']"
Deployability,"```valgrind --suppressions=/build/vvassilev/root-release-master/etc/valgrind-root.supp root.exe -e ""#define ClingWorkAroundPrintfIssues"" -e ""#define ClingWorkAroundLackOfModule"" -e ""#define ClingWorkAroundProxyConfusion"" -e ""#define ClingWorkAroundMissingDynamicScope"" -e ""#define ClingWorkAroundMultipleInclude"" -e ""#define ClingWorkAroundAutoParseUsingNamespace"" -e ""#define ClingWorkAroundExtraParensWithImplicitAuto"" -e ""#define ClingWorkAroundNoPrivateClassIO"" -e ""#define ClingWorkAroundBrokenUnnamedReturn"" -e ""#define ClingWorkAroundUnnamedDetection2"" -e ""#define ClingWorkAroundUnnamedInclude"" -e ""#define ClingWorkAroundJITfullSymbolResolution"" -e ""#define ClingWorkAroundNoDotNamespace"" -e ""#define ClingWorkAroundNoDotInclude"" -e ""#define ClingWorkAroundTClassUpdateDouble32"" -e ""#define ClingWorkAroundUnloadingVTABLES"" -q -l -b assertSparseSelection.C; ==22765== Memcheck, a memory error detector; ==22765== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.; ==22765== Using Valgrind-3.15.0 and LibVEX; rerun with -h for copyright info; ==22765== Command: root.exe -e #define\ ClingWorkAroundPrintfIssues -e #define\ ClingWorkAroundLackOfModule -e #define\ ClingWorkAroundProxyConfusion -e #define\ ClingWorkAroundMissingDynamicScope -e #define\ ClingWorkAroundMultipleInclude -e #define\ ClingWorkAroundAutoParseUsingNamespace -e #define\ ClingWorkAroundExtraParensWithImplicitAuto -e #define\ ClingWorkAroundNoPrivateClassIO -e #define\ ClingWorkAroundBrokenUnnamedReturn -e #define\ ClingWorkAroundUnnamedDetection2 -e #define\ ClingWorkAroundUnnamedInclude -e #define\ ClingWorkAroundJITfullSymbolResolution -e #define\ ClingWorkAroundNoDotNamespace -e #define\ ClingWorkAroundNoDotInclude -e #define\ ClingWorkAroundTClassUpdateDouble32 -e #define\ ClingWorkAroundUnloadingVTABLES -q -l -b assertSparseSelection.C; ==22765== . Processing assertSparseSelection.C...; ==22765== Conditional jump or move depends on uninitialised value(s); ==22765== at 0x9D9A01A: llvm::Co",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11385:49,release,release-master,49,https://root.cern,https://github.com/root-project/root/issues/11385,1,['release'],['release-master']
Deployability,"`from ROOT import *` leads to a segmentation violation when used with Python 3.6. One could try fixing it instead of disabling it but the code which is used to install the lookup handler in the module `RootModule::SetRootLazyLookup` depends on internal CPython implementation details of the dict class which are not part of the public API. As a consequence keeping this alive will lead to very; fragile code, require continuous effort to adapt to internal changes and cause a lot of #ifdef handling. (as a matter of fact, Python 3.7 would probably already require new changes to this code already). . Also there's a statement in the bug report that `from ROOT import *` is broken in Python 3 so I don't understand why it's not disabled as it will only confuse users: https://sft.its.cern.ch/jira/browse/ROOT-8931. As such I would propose to instead have a clear error message that `from ROOT import *` does not work. This pr adds an `ImportError` which is easy to handle but cannot be just ignored by the user.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/825:160,install,install,160,https://root.cern,https://github.com/root-project/root/pull/825,2,"['continuous', 'install']","['continuous', 'install']"
Deployability,"`gInterpreter::ProcessLine` has an important run-time cost.; Instead of calling it everytime the jitting of an action is required, we now store all the strings that are to jit in TLoopManager and do a single call to `gInterpreter::ProcessLine` before running the event-loop. A couple of life-time issues had to be resolved for this to work properly: in order to let result proxies and action helpers share ownership of the result object, I introduced (simple) manual lifetime management of a shared_ptr (weird, I know). In order to deal with deferred jitting of an action that hangs from a node whose `TInterface` has already been destroyed (can happen due to the deferral of jitting) all `BuildAndBook` functions have been made independent of `TInterface`. In the long term it might be possible to refactor the jitting mechanism so that the `TAction` (and the `TTreeReaderValue/Array`s that it contains) is jitted but the action helpers are not, lifting the requirement of manual lifetime management of a shared_ptr. Although this should be possible in principle, I currently don't see how we could integrate it with the existing logic, so I decided for this much less invasive solution. Before/after runtimes for two extreme scenarios:. `test_inference.cxx` (which performs a lot of jitting).; compile time: ~8s -> ~9s; run time: ~40s -> ~7s. 50 jitted Histo1D calls in a loop (thanks to Attila for the use-case):; run time: ~35s -> <2s. This PR conflicts with #713 . Depending on which one gets merged first I will rebase the other.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/720:1100,integrat,integrate,1100,https://root.cern,https://github.com/root-project/root/pull/720,1,['integrat'],['integrate']
Deployability,"`import ROOT` in Python, on macOS : . ```; Python 3.9.6 (default, Mar 29 2024, 10:51:09); [Clang 15.0.0 (clang-1500.3.9.4)] on darwin; Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.; >>> import ROOT; Traceback (most recent call last):; File ""<stdin>"", line 1, in <module>; File ""/Users/laurent/github.com/root-project/install-2/lib/root/ROOT/__init__.py"", line 25, in <module>; import cppyy; File ""/Users/laurent/github.com/root-project/install-2/lib/root/cppyy/__init__.py"", line 81, in <module>; from ._cpython_cppyy import *; File ""/Users/laurent/github.com/root-project/install-2/lib/root/cppyy/_cpython_cppyy.py"", line 21, in <module>; c = loader.load_cpp_backend(); File ""/Users/laurent/github.com/root-project/install-2/lib/root/cppyy_backend/loader.py"", line 79, in load_cpp_backend; raise RuntimeError(""could not load cppyy_backend library""); RuntimeError: could not load cppyy_backend library; >>> quit(); ```. resulting libraries are installed under `someinstalldir/lib/root`. . ### Reproducer. ```; git clone https://github.com/root-project/root; cd root; mkdir build; cmake ../root -DCMAKE_GENERATOR=Ninja -DCMAKE_INSTALL_PREFIX=../install-2 -Dxrootd=OFF -Dgnuinstall=ON; source ../install-2/thisroot.sh; python3 -c 'import ROOT'; ```. (by setting gnuinstall=OFF import ROOT does work). ### ROOT version. ```; ---------------------------------------------------------------------------; | Welcome to ROOT 6.33.01 https://root.cern |; | (c) 1995-2024, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built for macosxarm64 on Jun 25 2024, 12:00:47 |; | From heads/macos-python-import-root-gnuinstall@v6-31-01-2416-gb4c9e549e1 |; | With Apple clang version 15.0.0 (clang-1500.3.9.4) |; | Try '.help'/'.?', '.demo', '.license', '.credits', '.quit'/'.q' |; ---------------------------------------------------------------------------. ```. ### Installation method. built from source. ### Operating system. macOS Sonoma 14.5. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15924:1318,install,install-,1318,https://root.cern,https://github.com/root-project/root/issues/15924,3,"['Install', 'install']","['Installation', 'install-']"
Deployability,"`pdf` is `RooAbsPdf*`, and `RooAbsPdf` inherits from `RooAbsReal`,; so the check can only fail if `pdf` is a nullptr, in which case; `pdf->GetName()` would be a nullptr dereference. This fixes the following warning in gcc11:. ```; ../roofit/roofitcore/src/RooAddModel.cxx: In constructor ‘RooAddModel::RooAddModel(const char*, const char*, const RooArgList&, const RooArgList&, Bool_t)’:; ../roofit/roofitcore/src/RooAddModel.cxx:125:106: warning: ‘this’ pointer is null [-Wnonnull]; 125 | coutE(InputArguments) << ""RooAddModel::RooAddModel("" << GetName() << "") pdf "" << pdf->GetName() << "" is not of type RooAbsPdf, ignored"" << endl ;; ```. # This Pull request:. ## Changes or fixes:. ## Checklist:. - [] tested changes locally; - [] updated the docs (if necessary). This PR fixes #",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/8432:735,update,updated,735,https://root.cern,https://github.com/root-project/root/pull/8432,1,['update'],['updated']
Deployability,`pip install ROOT`,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16669:5,install,install,5,https://root.cern,https://github.com/root-project/root/pull/16669,1,['install'],['install']
Deployability,"`root macro.C -- arg1 arg2 arg3 ...` will behave as `root macro.C(arg1,arg2,arg3,...)`. Options won't be attached to:; - expressions — `root -e expression`;; - macros, passed with options (with `(` in them, to be precise) — `root macro.C(arg1, arg2)`;; - `.root` files;. If there are several macros without options, the arguments will be passed to the last one (with warning).; If there are no macros, the options after the `--` will be ignored (with warning). No options description was updated yet. Initially my idea was to allow to turn macro function parameters into named options, but @Axel-Naumann asked to leave them positional. But I'm still planning to introduce named arguments/options. Positional arguments as options is not a great improvement over the current way to pass arguments to macros.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/616:488,update,updated,488,https://root.cern,https://github.com/root-project/root/pull/616,1,['update'],['updated']
Deployability,"`rootfit/CMakeLists.txt` does not check whether `HistFactory` is on, despite hs3 depending on it. This happens e.g. if there's no libxml2. See https://root-forum.cern.ch/t/installing-root-error-on-ubuntu/49146/8",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10103:172,install,installing-root-error-on-ubuntu,172,https://root.cern,https://github.com/root-project/root/issues/10103,1,['install'],['installing-root-error-on-ubuntu']
Deployability,`std::iterator<...>` was deprecated in C++17; manually declare the expected member types instead. ## Checklist:; - [X] tested changes locally. This PR fixes #10351.; This PR is a backport of https://github.com/root-project/root/pull/10457 to v6-26-00-patches.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10468:251,patch,patches,251,https://root.cern,https://github.com/root-project/root/pull/10468,1,['patch'],['patches']
Deployability,"`verifyPreservedAnalysis()` is super slow these days. It gets run when assertions are one (!NDEBUG). Turn this off unless told to build a Debug build of ROOT (where time does not matter, and is expected to not be representative for reality) or where LLVM_BUILD_TYPE is turning asserts on. # This Pull request:. ## Changes or fixes:. ## Checklist:. - [ ] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11991:384,update,updated,384,https://root.cern,https://github.com/root-project/root/pull/11991,1,['update'],['updated']
Deployability,"`verifyPreservedAnalysis()` is super slow these days. It gets run when assertions are one (!NDEBUG). Turn this off unless told to build a Debug build of ROOT (where time does not matter, and is expected to not be representative for reality) or where LLVM_BUILD_TYPE is turning asserts on. (cherry picked from commit 92c90e8deff323fd2eab700e384dd3944b754471). # This Pull request:. ## Changes or fixes:. ## Checklist:. - [ ] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12101:454,update,updated,454,https://root.cern,https://github.com/root-project/root/pull/12101,1,['update'],['updated']
Deployability,"a class member that is already marked as a class member with the underscore prefix convention. Please replace all occurences of `this->_` in the source file with just `_`.; - [x] [`makeCrosssectionContainer()`](https://github.com/root-project/root/blob/1608dfa0d8d630617d6b529ccb090a0bbab00bbc/roofit/roofit/src/RooLagrangianMorphFunc.cxx#L2128) returns a `TPair*` that is owned by the caller. Please return `std::unique_ptr<TPair>` is this case, or even better return a `std::pair` instead (avoid using old ROOT container classes that were written before the standard library was introduced).; - [x] Similarly, [`createTH1`](https://github.com/root-project/root/blob/1608dfa0d8d630617d6b529ccb090a0bbab00bbc/roofit/roofit/src/RooLagrangianMorphFunc.cxx#L2621) returns an owning raw pointer too, while it should return a `std::unique_ptr<TH1>` in this case. Can this interface still be changed without disrupting users too much? **No, this can break usercode, so this suggestion was not implemented!**. All these flaws above have been addressed by @rahulgrit in #9912. Some more flaws were fixed in #11023. - [x] The `getCache` function takes a unused argument. It is a private function, so to signature can simply be changed and the argument removed; - [x] The unused `_ownsParameters` member should be removed. However, that's not all! There are more issues with this class that have to be resolved in a followup PR:. - [x] Various memory leaks (search for `new ` in the file and you will find them, almost everything created on the heap is leaking.; - for example, [here](https://github.com/root-project/root/blob/1608dfa0d8d630617d6b529ccb090a0bbab00bbc/roofit/roofit/src/RooLagrangianMorphFunc.cxx#L836) we even have some RooDataHists that leak; - [x] There is a static counter variable in the default constructor. It is unused and should be removed; - [x] The `RooStringVar` is used in the configuration of the class. We should investigate if it's not possible to simply use `std::string` here.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/9845:3204,configurat,configuration,3204,https://root.cern,https://github.com/root-project/root/issues/9845,1,['configurat'],['configuration']
Deployability,"a namespace:; ```py; import ROOT. ROOT.gInterpreter.Declare(; """"""; namespace ROOT{; namespace Detail{; struct MyStruct{};; void dostuff(){}; int myint;; }}; """"""; ); ```; Then try to access them in a Python session; ```py; $ python -i namespace_function.py; >>> ROOT.Detail.MyStruct; Traceback (most recent call last):; File ""<stdin>"", line 1, in <module>; AttributeError: <namespace cppyy.gbl.Detail at 0x55e51fdc7f50> has no attribute 'MyStruct'. Full details:; type object 'Detail' has no attribute 'MyStruct'; 'Detail::MyStruct' is not a known C++ class; 'MyStruct' is not a known C++ template; 'MyStruct' is not a known C++ enum; >>> ROOT.ROOT.Detail.MyStruct; <class cppyy.gbl.ROOT.Detail.MyStruct at 0x55e51fe1dd60>; >>> ROOT.Detail.dostuff; Traceback (most recent call last):; File ""<stdin>"", line 1, in <module>; AttributeError: <namespace cppyy.gbl.Detail at 0x55e51fdc7f50> has no attribute 'dostuff'. Full details:; type object 'Detail' has no attribute 'dostuff'; 'Detail::dostuff' is not a known C++ class; 'dostuff' is not a known C++ template; 'dostuff' is not a known C++ enum; >>> ROOT.ROOT.Detail.dostuff; <cppyy.CPPOverload object at 0x7f522b684eb0>; >>> ROOT.Detail.myint; Traceback (most recent call last):; File ""<stdin>"", line 1, in <module>; AttributeError: <namespace cppyy.gbl.Detail at 0x55e51fdc7f50> has no attribute 'myint'. Full details:; type object 'Detail' has no attribute 'myint'; 'Detail::myint' is not a known C++ class; 'myint' is not a known C++ template; 'myint' is not a known C++ enum; >>> ROOT.ROOT.Detail.myint; 0; ```. It's unclear how to avoid the double `ROOT.ROOT` in general. ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->. Be able to avoid typing the name twice, at least for classes/functions defined in ROOT source code. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->. ROOT master on Fedora32",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/8745:2214,install,install,2214,https://root.cern,https://github.com/root-project/root/issues/8745,1,['install'],['install']
Deployability,a/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1072:31: error: expected expression; template<class T> inline bool atomic_is_lock_free( shared_ptr<T> const * /*p*/ ) BOOST_SP_NOEXCEPT; ^; /Users/krasznaa/ATLAS/sw/projects/externals/build/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:83:73: note: expanded from macro 'atomic_is_lock_free'; #define atomic_is_lock_free(obj) __c11_atomic_is_lock_free(sizeof(*(obj))); ^; In file included from libMyLibrary dictionary payload:5:; In file included from ./MyClass.h:6:; In file included from /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_ptr.hpp:17:; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1072:81: error: expected ';' at end of declaration; template<class T> inline bool atomic_is_lock_free( shared_ptr<T> const * /*p*/ ) BOOST_SP_NOEXCEPT; ^; ;; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1072:82: error: expected unqualified-id; template<class T> inline bool atomic_is_lock_free( shared_ptr<T> const * /*p*/ ) BOOST_SP_NOEXCEPT; ^; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/detail/sp_noexcept.hpp:28:29: note: expanded from macro 'BOOST_SP_NOEXCEPT'; # define BOOST_SP_NOEXCEPT BOOST_NOEXCEPT; ^; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/config/detail/suffix.hpp:965:26: note: expanded from macro 'BOOST_NOEXCEPT'; # define BOOST_NOEXCEPT noexcept; ^; In file included from libMyLibrary dictionary payload:5:; In file included from ./MyClass.h:6:; In file included from /Users/krasznaa/ATLAS/,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6454:2356,install,install,2356,https://root.cern,https://github.com/root-project/root/issues/6454,1,['install'],['install']
Deployability,"aFrame in 6.32.04. In 6.30.08 everything is fine:. ```python; $ python3; Python 3.9.18 (main, Aug 23 2024, 00:00:00); [GCC 11.4.1 20231218 (Red Hat 11.4.1-3)] on linux; Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.; >>> import ROOT; >>> url = 'root://eosuser.cern.ch//eos/user/c/cburr/hsimple.root?xrd.wantprot=unix&authz=' + open(""token.txt"").read().strip(); >>> ROOT.TFile.Open(url).ls(); TNetXNGFile**		root://eosuser.cern.ch//eos/user/c/cburr/hsimple.root	Demo ROOT file with histograms; TNetXNGFile*		root://eosuser.cern.ch//eos/user/c/cburr/hsimple.root	Demo ROOT file with histograms; KEY: TH1F	hpx;1	This is the px distribution; KEY: TH2F	hpxpy;1	py vs px; KEY: TProfile	hprof;1	Profile of pz versus px; KEY: TNtuple	ntuple;1	Demo ntuple; >>> df = ROOT.RDataFrame(""ntuple"", url); >>>; ```. ### Reproducer. On lxplus:. ```bash; $ source /cvmfs/sft.cern.ch/lcg/app/releases/ROOT/6.32.04/x86_64-almalinux9.4-gcc114-opt/bin/thisroot.sh; $ cp /cvmfs/sft.cern.ch/lcg/app/releases/ROOT/6.32.04/x86_64-almalinux9.4-gcc114-opt/tutorials/hsimple.root /eos/user/c/cburr/hsimple.root; $ EOS_MGM_URL=root://eoshome-c.cern.ch eos token --path /eos/user/c/cburr/hsimple.root --permission=rx --expires=$(date +%s -d ""30 minutes"") > token.txt; $ kdestroy; $ python3; ```. ```python; Python 3.9.18 (main, Aug 23 2024, 00:00:00); [GCC 11.4.1 20231218 (Red Hat 11.4.1-3)] on linux; Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.; >>> import ROOT; >>> url = 'root://eosuser.cern.ch//eos/user/c/cburr/hsimple.root?xrd.wantprot=unix&authz=' + open(""token.txt"").read().strip(); >>> ROOT.TFile.Open(url).ls(); TNetXNGFile**		root://eosuser.cern.ch//eos/user/c/cburr/hsimple.root	Demo ROOT file with histograms; TNetXNGFile*		root://eosuser.cern.ch//eos/user/c/cburr/hsimple.root	Demo ROOT file with histograms; KEY: TH1F	hpx;1	This is the px distribution; KEY: TH2F	hpxpy;1	py vs px; KEY: TProfile	hprof;1	Profile of pz versus px; KEY: TNtuple	ntuple;1	Demo ntuple; >>>",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/16475:1108,release,releases,1108,https://root.cern,https://github.com/root-project/root/issues/16475,1,['release'],['releases']
Deployability,"aa0b9be10db43857cd7""><code>570e8b1</code></a> add publishConfig for v3 publishes</li>; <li><a href=""https://github.com/isaacs/minimatch/commit/5b7cd3372be253759fb4d865eb3f38f189a5fcdf""><code>5b7cd33</code></a> 3.0.6</li>; <li><a href=""https://github.com/isaacs/minimatch/commit/20b4b562830680867feb75f9c635aca08e5c86ff""><code>20b4b56</code></a> [fix] revert all breaking syntax changes</li>; <li><a href=""https://github.com/isaacs/minimatch/commit/2ff038852ec03e85e60e0eb333005c680ac8a543""><code>2ff0388</code></a> document, expose, and test 'partial:true' option</li>; <li>Additional commits viewable in <a href=""https://github.com/isaacs/minimatch/compare/v3.0.4...v3.1.2"">compare view</a></li>; </ul>; </details>; <br />. [![Dependabot compatibility score](https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=minimatch&package-manager=npm_and_yarn&previous-version=3.0.4&new-version=3.1.2)](https://docs.github.com/en/github/managing-security-vulnerabilities/about-dependabot-security-updates#about-compatibility-scores). Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`. [//]: # (dependabot-automerge-start); [//]: # (dependabot-automerge-end). ---. <details>; <summary>Dependabot commands and options</summary>; <br />. You can trigger Dependabot actions by commenting on this PR:; - `@dependabot rebase` will rebase this PR; - `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it; - `@dependabot merge` will merge this PR after your CI passes on it; - `@dependabot squash and merge` will squash and merge this PR after your CI passes on it; - `@dependabot cancel merge` will cancel a previously requested merge and block automerging; - `@dependabot reopen` will reopen this PR if it is closed; - `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by c",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11864:2106,update,updates,2106,https://root.cern,https://github.com/root-project/root/pull/11864,1,['update'],['updates']
Deployability,"ach file. opens it in the ""update"" mode (w/o explicitly loading the object stored in the file); writes some simple struct with metadata; closes the file.; Afterwards, in separate processes, these files are read by other executables (Consumers) which include headers for objects inside these files. The ClassVersion of the content for some of these files is lower than the current ClassVersion used by Consumers. Automatic schema evolution accounts for differences. The problem appears when two initial files contain objects of the same class (MyClass in the example below) of version A while the Consumer uses higher class version B because:. the 1st updated file happens to have StreamerInfo of its original object together with the StreamerInfo of the added metadata (as shown by gFile->GetStreamerInfoList()->Print() ); the 2nd updated file has StreamerInfo only for added metadata class, reading the object from these files leads to an error.; I am wondering if there is a way to enforce the presence of the original StreamerInfo in the updated file. The reproducer is attached:. tar xvzf tst.tar.gz ; cd tst; chmod +x runTest.sh;; ./runTest.sh; It produces (suppressing ACLIC output):. Creating library for MyClass version 1; Storing object of class version 1 in two identical files; Creating library for MyClass version 2; Updating files containing object of old class version 1 (by writing metadata object of unrelated class OtherClass). Reading 1st (updated) file; Processing testFile.C(""outv1.root"")...; printing GetStreamerInfoList()->Print() for outv1.root; Collection name='TList', class='TList', size=2; OBJ: TStreamerInfo	MyClass	; OBJ: TStreamerInfo	OtherClass	. Reading 2nd (updated) file; Processing testFile.C(""outv2.root"")...; Error in <TBufferFile::CheckByteCount>: object of class MyClass read too many bytes: 12 instead of 6; Warning in <TBufferFile::CheckByteCount>: MyClass::Streamer() not in sync with data on file outv2.root, fix Streamer(); printing GetStreamerInfoList()->",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14171:1452,update,updated,1452,https://root.cern,https://github.com/root-project/root/issues/14171,1,['update'],['updated']
Deployability,"ache.txt*. However, my main Python version is 3.10. $ python -V; Python 3.10.10; $ls -l /usr/bin/python; lrwxrwxrwx 1 root root 7 Mar 5 23:26 /usr/bin/python -> python3; $ls -l /usr/bin/python3; lrwxrwxrwx 1 root root 10 Mar 5 23:26 /usr/bin/python3 -> python3.10. that's why I get a crash,. ```; python -c 'import ROOT'; Traceback (most recent call last):; File ""/opt/root/install/lib/cppyy/__init__.py"", line 60, in <module>; importlib.import_module(libcppyy_mod_name); File ""/usr/lib/python3.10/importlib/__init__.py"", line 126, in import_module; return _bootstrap._gcd_import(name[level:], package, level); File ""<frozen importlib._bootstrap>"", line 1050, in _gcd_import; File ""<frozen importlib._bootstrap>"", line 1027, in _find_and_load; File ""<frozen importlib._bootstrap>"", line 1004, in _find_and_load_unlocked; ModuleNotFoundError: No module named 'libcppyy3_10'. During handling of the above exception, another exception occurred:. Traceback (most recent call last):; File ""<string>"", line 1, in <module>; File ""/opt/root/install/lib/ROOT/__init__.py"", line 25, in <module>; import cppyy; File ""/opt/root/install/lib/cppyy/__init__.py"", line 62, in <module>; raise ImportError(; ImportError: Failed to import libcppyy3_10. Please check that ROOT has been built for Python 3.10; ```. ### Optional: share how it could be improved. Can Python 3 version be found checking symlinks of `/usr/bin/python`, and not its highest version available?; I also use Python 2, hope it won't break its search. ### To Reproduce. Steps to reproduce the behavior:; 1. Install Python version newer than the system one.; 2. Build root.; 3. Import Python ROOT (it will fail). ### Setup. 1. ROOT version: ROOT Version: 6.29/01, From heads/master@v6-29-01-1273-g360c0c7c54.; 2. Operating system: Arch Linux, Built for linuxx8664gcc.; 3. Build myself from this repo. ### Additional context; I create software packages, that's why I use several Python versions (to provide better experience to users with different too",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12744:1487,install,install,1487,https://root.cern,https://github.com/root-project/root/issues/12744,1,['install'],['install']
Deployability,"achine. Please ignore those. For the other tests, I repeated the build with GCC 10.3 and I still see the same failures.*. Please click [here](https://github.com/root-project/root/files/6343199/output.txt) for the full output for each test.; Some things to note:. - Test pyunittests-pyroot-import-load-libs fails with; ```sh; ERROR: test_import (import_load_libs.ImportLoadLibs); Test libraries loaded after importing ROOT; ----------------------------------------------------------------------; Traceback (most recent call last):; File ""/srv/root/src/root/bindings/pyroot/pythonizations/test/import_load_libs.py"", line 117, in test_import; raise Exception('Found not whitelisted libraries after importing ROOT:' \; Exception: Found not whitelisted libraries after importing ROOT:; - libz3; If the test fails with a library that is loaded on purpose, please add it to the whitelist.; ```; Note that z3 is a library used by LLVM. It may be that because I have other versions of LLVM/Clang in the system, z3 got installed and picked up by the builtin LLVM from the ROOT build. Ideally, this sort of behavior of automatically picking whatever is installed on the system should be avoided, as it can cause problems, so I recommend looking into the configuration of the builtin LLVM more closely and either disabling z3 if not used, or adding it to the dependencies of ROOT and enabling by force. - Test tutorial-v7-ntuple-ntpl005_introspection failure is related to uring support, is that tested in nightlies? It could also be a permissions issue that I don't have configured properly, I don't know.; ```sh; Start 995: tutorial-v7-ntuple-ntpl005_introspection; 7/18 Test #995: tutorial-v7-ntuple-ntpl005_introspection ...........***Failed 1.57 sec; ...; terminate called after throwing an instance of 'std::runtime_error'; what(): Fatal Error: failed to allocate memory for the smallest possible io_uring instance. 'memlock' memory has been exhausted for this user; CMake Error at /srv/root/build/RootTest",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7936:3287,install,installed,3287,https://root.cern,https://github.com/root-project/root/issues/7936,1,['install'],['installed']
Deployability,"ackage; i | python-base | Python Interpreter base package | package; i+ | python-devel | Include Files and Libraries Mandatory for Building Python Modules | package; i | python38 | Python 3 Interpreter | package; i | python38-base | Python 3 Interpreter and Stdlib Core | package; i | python38-pyudev | Udev bindings for Python | package; ```. # output. ```; -- Detected ROOT_VERSION 6.25.01; -- Looking for Python; -- Could NOT find Python3 (missing: Python3_INCLUDE_DIRS Python3_LIBRARIES Python3_NumPy_INCLUDE_DIRS Development NumPy Development.Module Development.Embed) (found version ""3.8.9""); -- Could NOT find Python2 (missing: Python2_NumPy_INCLUDE_DIRS NumPy) (found version ""2.7.18""); -- ROOT Platform: linux; -- ROOT Compiler: Clang 12.0.0; -- ROOT Processor: x86_64; -- ROOT Architecture: linuxx8664gcc; -- Build Type: 'Release' (flags = '-O3 -DNDEBUG'); -- Compiler Flags: -std=c++14 -Wc++11-narrowing -Wsign-compare -Wsometimes-uninitialized -Wconditional-uninitialized -Wheader-guard -Warray-bounds -Wcomment -Wtautological-compare -Wstrncat-size -Wloop-analysis -Wbool-conversion -pipe -Wall -W -Woverloaded-virtual -fsigned-char -pthread -O3 -DNDEBUG; -- ROOT default compression algorithm: zlib; -- PyROOT will be built for version 2.7.18; -- Looking for ZLib; -- Looking for Freetype; -- Looking for LZMA; -- Looking for X11; -- Could NOT find GIF (missing: GIF_LIBRARY GIF_INCLUDE_DIR); -- Could NOT find TIFF (missing: TIFF_LIBRARY TIFF_INCLUDE_DIR); -- Could NOT find PNG (missing: PNG_LIBRARY PNG_PNG_INCLUDE_DIR); -- Could NOT find JPEG (missing: JPEG_LIBRARY JPEG_INCLUDE_DIR); -- Building AfterImage library included in ROOT itself; -- Looking for LibXml2; -- Downloading and building XROOTD version; -- Cannot select cudnn without selecting cuda or tmva-gpu. Option is ignored; -- Building LLVM in 'Release' mode.; -- Could NOT find Z3: Found unsuitable version ""0.0.0"", but required is at least ""4.7.1"" (found Z3_LIBRARIES-NOTFOUND); -- Native target architecture is X86; -",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/8097:1758,Release,Release,1758,https://root.cern,https://github.com/root-project/root/issues/8097,1,['Release'],['Release']
Deployability,"acks::TransactionCommitted (this=0x57fe20, T=...) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/interpreter/cling/lib/Interpreter/MultiplexInterpreterCallbacks.h:76; #23 0x00007fffeed05d71 in cling::IncrementalParser::commitTransaction (this=0x4a2980, PRT=..., ClearDiagClient=true) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/interpreter/cling/lib/Interpreter/IncrementalParser.cpp:532; #24 0x00007fffeed06399 in cling::IncrementalParser::Compile (this=0x4a2980, input=..., Opts=...) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/interpreter/cling/lib/Interpreter/IncrementalParser.cpp:663; #25 0x00007fffeebcbc4e in cling::Interpreter::DeclareInternal (this=0x4a0f30, input=..., CO=..., T=0x7fffffffd680) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/interpreter/cling/lib/Interpreter/Interpreter.cpp:1195; #26 0x00007fffeebca8e8 in cling::Interpreter::declare (this=0x4a0f30, input=..., T=0x7fffffffd680) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/interpreter/cling/lib/Interpreter/Interpreter.cpp:823; #27 0x00007fffeebcb560 in cling::Interpreter::DeclareCFunction (this=0x4a0f30, name=..., code=..., withAccessControl=true) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/interpreter/cling/lib/Interpreter/Interpreter.cpp:1096; #28 0x00007fffeebcb862 in cling::Interpreter::compileFunction (this=0x4a0f30, name=..., code=..., ifUnique=false, withAccessControl=true); at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/interpreter/cling/lib/Interpreter/Interpreter.cpp:1140; #29 0x00007fffeeafb83c in TClingCallFunc::compile_wrapper (withAccessControl=true, wrapper=..., wrapper_name=..., this=0xcf3c10) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/metacling/src/TClingCallFunc.cxx:270; #30 TClingCallFunc::make_wrapper (this=this@entry=0xcf3c10) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/metacling/src/TClingCallFunc.cxx:1096; #31 0x00007fffeeafbcb8 in TClingCallFunc::IFace",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2776:7841,patch,patches,7841,https://root.cern,https://github.com/root-project/root/pull/2776,2,['patch'],['patches']
Deployability,"acters (`[` and `]`, in this case), and these characters end up in variable names in the .C macro. I have included a reproducer below (`test_plot_macros.cpp`) which produces three .C macros, two of which are broken as described above.; For instance, in `plot1.C` (one of the produced macros), one can find invalid code such as ; ```cpp; Double_t pdf_Norm[x]_fx1[114] = {; -10.2002,; -10.2,; ...; ```. Would it be possible to filter these special characters when producing the macros?. ### Reproducer. Create a file `test_plot_macros.cpp` containing the script below and run `root test_plot_macros.cpp`. ```cpp; #include ""TCanvas.h"". #include ""RooArgSet.h""; #include ""RooDataSet.h""; #include ""RooGaussian.h""; #include ""RooPlot.h""; #include ""RooRealVar.h"". using namespace RooFit;. void test_plot_macros() {; // Create a PDF; RooRealVar x(""x"", ""x"", -10, 10);; RooRealVar mean(""mean"", ""mean"", 0, -10, 10);; RooRealVar width(""width"", ""width"", 2, 0, 5);; RooGaussian gaus(""pdf"", ""pdf"", x, mean, width);. // Generate some data; RooDataSet* data = gaus.generate(RooArgSet(x), Name(""data""), NumEvents(2000));. // Plots; TCanvas* c = new TCanvas(""c"");. // Plot 1; // Broken .C macro because of default pdf ""Name()""; RooPlot* frame1 = x.frame();; data->plotOn(frame1);; gaus.plotOn(frame1);; frame1->Draw();; c->SaveAs(""./plot1.png"");; c->SaveAs(""./plot1.C"");. // Plot 2; // Not broken .C macro because of explicit (and safe) ""Name()"" configuration; RooPlot* frame2 = x.frame();; data->plotOn(frame2);; gaus.plotOn(frame2, Name(""gaus""));; frame2->Draw();; c->SaveAs(""./plot2.png"");; c->SaveAs(""./plot2.C"");. // Plot 3; // Broken .C macro again because special charecters are not filtered from ""Name""; RooPlot* frame3 = x.frame();; data->plotOn(frame3);; gaus.plotOn(frame3, Name(""a+b""));; frame3->Draw();; c->SaveAs(""./plot3.png"");; c->SaveAs(""./plot3.C"");; }; ```. ### ROOT version. 6.24.06. ### Installation method. Built from source. ### Operating system. Ubuntu 22.04. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15887:1826,configurat,configuration,1826,https://root.cern,https://github.com/root-project/root/issues/15887,2,"['Install', 'configurat']","['Installation', 'configuration']"
Deployability,"actorySimultaneous( *model );. // Minimisation; RooAbsReal* nll_hf=model_hf->createNLL(*data, Offset(kTRUE));; RooMinimizer *minuit = new RooMinimizer(*nll_hf);; minuit->setOffsetting(kTRUE);; minuit->setStrategy(1);; minuit->migrad();. // Run MINOS on the parameter of interest; minuit->minos(*parameter_of_interest);; ```; Then, the execution of MINOS in the final line results in the modification of the values of the `gamma_stat` parameters. ### Reproducer. I have set up a repository with code to reproduce the issue: https://gitlab.cern.ch/anthonyc/histfactorysimultaneousminosbug; After cloning the repository, you can run:; ```bash; root example.C; ```. After running it, you should observe the following:; ```; [...]. ======== Before MINOS ========; Lumi: 1; SigXsecOverSM: 1.11544; alpha_syst1: 0; alpha_syst2: -0.00946086; alpha_syst3: 0.0209843; gamma_stat_channel1_bin_0: 0.999547; gamma_stat_channel1_bin_1: 1.00348; nom_alpha_syst1: 0; nom_alpha_syst2: 0; nom_alpha_syst3: 0; nom_gamma_stat_channel1_bin_0: 400; nom_gamma_stat_channel1_bin_1: 100. [...]. ======== After MINOS ========; Lumi: 1; SigXsecOverSM: 1.11544; alpha_syst1: 0; alpha_syst2: -0.00946086; alpha_syst3: 0.0209843; gamma_stat_channel1_bin_0: 1.02666; gamma_stat_channel1_bin_1: 1.04061; nom_alpha_syst1: 0; nom_alpha_syst2: 0; nom_alpha_syst3: 0; nom_gamma_stat_channel1_bin_0: 400; nom_gamma_stat_channel1_bin_1: 100; nominalLumi: 1; ```; The `gamma_stat_` parameters are indeed modified. ### ROOT version. The issue was observed in ROOT 6.26/10 and 6.16/00. ### Installation method. Conda for ROOT 6.26/10, unknown for 6.16/00. ### Operating system. CentOS 7.9. ### Additional context. We're using HistFactory for our analysis. In our case, this apparent bug biases the one-dimensional projected pulls (normalised residuals) between the fitted model and data, when MINOS is called.; Since I'm still learning the ins and outs of HistFactory, I apologize if any misunderstanding on my part is causing this issue! :)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13142:2832,Install,Installation,2832,https://root.cern,https://github.com/root-project/root/issues/13142,1,['Install'],['Installation']
Deployability,acts/debug_1613296575343/_h_env/include/cling/module.modulemap' not found; fatal error: module map file '/home/conda/feedstock_root/build_artifacts/debug_1613296575343/_h_env/include/cling/module.modulemap' not found; fatal error: module map file '/home/conda/feedstock_root/build_artifacts/debug_1613296575343/_h_env/include/cling/module.modulemap' not found; fatal error: module map file '/home/conda/feedstock_root/build_artifacts/debug_1613296575343/_h_env/include/cling/module.modulemap' not found; Error: Error loading the default rootcling header files.; make[3]: *** [core/CMakeFiles/G__Core.dir/build.make:481: core/G__Core.cxx] Error 1; make[3]: Leaving directory '/home/conda/feedstock_root/build_artifacts/debug_1613296575343/work/build-dir'; make[2]: *** [CMakeFiles/Makefile2:6505: core/CMakeFiles/G__Core.dir/all] Error 2; make[2]: Leaving directory '/home/conda/feedstock_root/build_artifacts/debug_1613296575343/work/build-dir'; make[1]: *** [CMakeFiles/Makefile2:6484: core/CMakeFiles/Core.dir/rule] Error 2; make[1]: Leaving directory '/home/conda/feedstock_root/build_artifacts/debug_1613296575343/work/build-dir'; make: *** [Makefile:762: Core] Error 2; ```. ## How cling was built. Cling is being built from https://github.com/vgvassilev/cling/tree/upgrade_llvm90 with two patches added:. * https://github.com/chrisburr/cling-feedstock/blob/8359ffc4aafde1fcd09ffa2caeae93600449d439/recipe/use-findpackage.patch (see #7176); * https://github.com/chrisburr/cling-feedstock/blob/8359ffc4aafde1fcd09ffa2caeae93600449d439/recipe/Always-install-ClingTargets.patch. ## Reproducer. This should work on any machine with docker installed:. ```bash; git clone https://github.com/chrisburr/root-feedstock.git -b llvm90-install-error; cd root-feedstock; export CPU_COUNT=$(nproc); ./build-locally.py --debug linux_64_numpy1.16python3.8.____cpython; # Run the line printed which will be similar to; cd xxxx && source xxxx; source /home/conda/recipe_root/build.sh; make Core VERBOSE=1 -j1; ```,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7206:7833,patch,patches,7833,https://root.cern,https://github.com/root-project/root/issues/7206,6,"['install', 'patch']","['install-ClingTargets', 'install-error', 'installed', 'patch', 'patches']"
Deployability,"ad jobs pipe: Bad file descriptor. Stop.; make[7]: *** Waiting for unfinished jobs....; In file included from ../../src/tbb/concurrent_hash_map.cpp:17:; ../../include/tbb/concurrent_hash_map.h: In constructor ‘tbb::interface5::internal::hash_map_base::hash_map_base()’:; ../../include/tbb/concurrent_hash_map.h:131:24: warning: ‘void* memset(void*, int, size_t)’ clearing an object of type ‘struct tbb::interface5::internal::hash_map_base::bucket’ with no trivial copy-assignment; use value-initialization instead [-Wclass-memaccess]; 131 | std::memset(my_embedded_segment, 0, sizeof(my_embedded_segment));; | ~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~; ../../include/tbb/concurrent_hash_map.h:93:16: note: ‘struct tbb::interface5::internal::hash_map_base::bucket’ declared here; 93 | struct bucket : tbb::internal::no_copy {; | ^~~~~~; make[6]: *** [Makefile:28: tbb] Error 2; ```. Trying to upgrade to v6-28-12, https://github.com/SyneRBI/SIRF-SuperBuild/pull/859/files, it compiled TBB ok, but failed in XROOTD installation. XROOTD-install-err.log says; ```; [I] No git repository info found. Trying to interpret VERSION_INFO; [I] The XrdVersion.hh file already exists; gmake[7]: *** read jobs pipe: Bad file descriptor. Stop.; gmake[7]: *** Waiting for unfinished jobs....; gmake[6]: *** [Makefile:136: all] Error 2; CMake Error at /home/runner/work/SIRF-SuperBuild/SIRF-SuperBuild/build/builds/ROOT/build/builtins/xrootd/XROOTD-prefix/src/XROOTD-stamp/XROOTD-install-Release-impl.cmake:9 (message):; Command failed (2):. '/usr/local/bin/cmake' '--build' '.' '--target' 'install'; ```; The same error occurs with v6-30-04. The log files actually don't really give an error, but the `bad file descriptor` is strange of course. I'm therefore not sure if this is a problem in ROOT, or a temporary problem on GitHub Actions, or of course a problem with how we build (although that seems to be finally CMake, https://github.com/SyneRBI/SIRF-SuperBuild/blob/master/SuperBuild/Exte",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14520:2199,install,installation,2199,https://root.cern,https://github.com/root-project/root/issues/14520,1,['install'],['installation']
Deployability,adjust release notes formatting,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1779:7,release,release,7,https://root.cern,https://github.com/root-project/root/pull/1779,1,['release'],['release']
Deployability,"ails-to-build-on-ubuntu-18-04/49149):; This is Ubuntu 18.04 LTS / x86_64 / gcc, g++, gfortran 7.5.0 / cmake 3.20.3 here. The building of the current “v6-26-00-patches” branch (as of 2022.03.12) generates an error (“--std=c++14”):; ```; (...); In file included from /tmp/ROOT/v6-26-00-patches/roofit/roofitZMQ/src/ZeroMQSvc.cpp:14:0:; /tmp/ROOT/v6-26-00-patches/roofit/roofitZMQ/res/RooFit_ZMQ/ZeroMQSvc.h: In member function ‘void ZmqLingeringSocketPtrDeleter<PERIOD>::operator()(zmq::socket_t*)’:; /tmp/ROOT/v6-26-00-patches/roofit/roofitZMQ/res/RooFit_ZMQ/ZeroMQSvc.h:60:24: error: ‘class zmq::socket_t’ has no member named ‘set’; did you mean ‘send’?; socket->set(zmq::sockopt::linger, PERIOD);; ^~~; send; /tmp/ROOT/v6-26-00-patches/roofit/roofitZMQ/res/RooFit_ZMQ/ZeroMQSvc.h:60:33: error: ‘zmq::sockopt’ has not been declared; socket->set(zmq::sockopt::linger, PERIOD);; ^~~~~~~; /tmp/ROOT/v6-26-00-patches/roofit/roofitZMQ/res/RooFit_ZMQ/ZeroMQSvc.h: At global scope:; /tmp/ROOT/v6-26-00-patches/roofit/roofitZMQ/res/RooFit_ZMQ/ZeroMQSvc.h:79:36: error: ‘unique_ptr’ in namespace ‘std’ does not name a template type; using ZmqLingeringSocketPtr = std::unique_ptr<zmq::socket_t, ZmqLingeringSocketPtrDeleter<PERIOD>>;; ^~~~~~~~~~; (...); /tmp/ROOT/v6-26-00-patches/roofit/roofitZMQ/res/RooFit_ZMQ/ZeroMQSvc.h:103:6: error: no matching function for call to ‘zmq::socket_t::recv(std::reference_wrapper<zmq::message_t>&, int&)’; In file included from /tmp/ROOT/v6-26-00-patches/roofit/roofitZMQ/res/RooFit_ZMQ/ZeroMQSvc.h:17:0,; from /tmp/ROOT/v6-26-00-patches/roofit/roofitZMQ/res/RooFit_ZMQ/ZeroMQPoller.h:17,; from /tmp/ROOT/v6-26-00-patches/roofit/roofitZMQ/src/ZeroMQPoller.cpp:14:; /usr/include/zmq.hpp:625:23: note: candidate: size_t zmq::socket_t::recv(void*, size_t, int); inline size_t recv (void *buf_, size_t len_, int flags_ = 0); ^~~~; /usr/include/zmq.hpp:625:23: note: no known conversion for argument 1 from ‘std::reference_wrapper<zmq::message_t>’ to ‘void*’; /usr/include/zmq.hp",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10107:1095,patch,patches,1095,https://root.cern,https://github.com/root-project/root/issues/10107,1,['patch'],['patches']
Deployability,"aits<char>, std::allocator<char> >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > >&, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCling.so; #20 0x00007fffefb1b377 in TCling::AutoLoad(char const*, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCling.so; #21 0x00007ffff560ee86 in TClass::GetClass(char const*, bool, bool, unsigned long, unsigned long) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #22 0x00007ffff563608a in TProtoClass::FillTClass(TClass*) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #23 0x00007ffff56188e5 in TClass::Init(char const*, short, std::type_info const*, TVirtualIsAProxy*, char const*, char const*, int, int, ClassInfo_t*, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #24 0x00007ffff5619f76 in TClass::TClass(char const*, short, std::type_info const&, TVirtualIsAProxy*, char const*, char const*, int, int, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #25 0x00007ffff561a48a in ROOT::CreateClass(char const*, short, std::type_info const&, TVirtualIsAProxy*, char const*, char const*, int, int) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #26 0x00007ffff562906a in ROOT::TGenericClassInfo::GetClass() (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patc",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7657:5562,patch,patches,5562,https://root.cern,https://github.com/root-project/root/issues/7657,1,['patch'],['patches']
Deployability,"ake --build . --target install -- -j4`. ### Setup; <!--; 1. ROOT version; 8. Operating system; 9. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->. ### Additional context; <!--; Add any other context about the problem here.; -->; 1. `gcc -v`; ```sh; Using built-in specs.; COLLECT_GCC=gcc; COLLECT_LTO_WRAPPER=/usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/lto-wrapper; Target: x86_64-pc-linux-gnu; Configured with: /build/gcc/src/gcc/configure --enable-languages=c,c++,ada,fortran,go,lto,objc,obj-c++,d --enable-bootstrap --prefix=/usr --libdir=/usr/lib --libexecdir=/usr/lib --mandir=/usr/share/man --infodir=/usr/share/info --with-bugurl=https://bugs.archlinux.org/ --with-linker-hash-style=gnu --with-system-zlib --enable-__cxa_atexit --enable-cet=auto --enable-checking=release --enable-clocale=gnu --enable-default-pie --enable-default-ssp --enable-gnu-indirect-function --enable-gnu-unique-object --enable-linker-build-id --enable-lto --enable-multilib --enable-plugin --enable-shared --enable-threads=posix --disable-libssp --disable-libstdcxx-pch --disable-werror --with-build-config=bootstrap-lto --enable-link-serialization=1 gdc_include_dir=/usr/include/dlang/gdc; Thread model: posix; Supported LTO compression algorithms: zlib zstd; gcc version 11.2.0 (GCC); ```; 2. `clang -v`; ```sh; clang version 13.0.1; Target: x86_64-pc-linux-gnu; Thread model: posix; InstalledDir: /usr/bin; Found candidate GCC installation: /usr/bin/../lib/gcc/x86_64-pc-linux-gnu/11.2.0; Found candidate GCC installation: /usr/bin/../lib64/gcc/x86_64-pc-linux-gnu/11.2.0; Selected GCC installation: /usr/bin/../lib64/gcc/x86_64-pc-linux-gnu/11.2.0; Candidate multilib: .;@m64; Candidate multilib: 32;@m32; Selected multilib: .;@m64; ```; 3. `cat /etc/*release`; ```sh; DISTRIB_ID=""Arch""; DISTRIB_RELEASE=""rolling""; DISTRIB_DESCRIPTION=""Arch Linux""; NAME=""Arch Linux""; PRETTY_NAME=""Arch Linux""; ID=arch; BUILD_ID=rolling; ANSI_COLOR=""38;2;23;147;209""; HOME_URL=""https://arch",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10528:30877,release,release,30877,https://root.cern,https://github.com/root-project/root/issues/10528,1,['release'],['release']
Deployability,"ake[2]: *** [core/CMakeFiles/G__Core.dir/build.make:474: core/G__Core.cxx] Error 1; make[1]: *** [CMakeFiles/Makefile2:24008: core/CMakeFiles/G__Core.dir/all] Error 2; make[1]: *** Waiting for unfinished jobs....; [ 75%] Building CXX object core/metacling/src/CMakeFiles/MetaCling.dir/TClingValue.cxx.o; [ 75%] Built target MetaCling; make: *** [Makefile:156: all] Error 2. ```. </details>. ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->; Root builds without any errors. ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->; 1. `mkdir -p HEP/root`; 2. `cd HEP/root`; 3. `mkdir build install`; 4. `git clone --depth=1 https://github.com/root-project/root gitclone`; 5. `cd build`; 6. `cmake -DCMAKE_INSTALL_PREFIX=../install ../gitclone`; 7. `cmake --build . --target install -- -j4`. ### Setup; <!--; 1. ROOT version; 8. Operating system; 9. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->. ### Additional context; <!--; Add any other context about the problem here.; -->; 1. `gcc -v`; ```sh; Using built-in specs.; COLLECT_GCC=gcc; COLLECT_LTO_WRAPPER=/usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/lto-wrapper; Target: x86_64-pc-linux-gnu; Configured with: /build/gcc/src/gcc/configure --enable-languages=c,c++,ada,fortran,go,lto,objc,obj-c++,d --enable-bootstrap --prefix=/usr --libdir=/usr/lib --libexecdir=/usr/lib --mandir=/usr/share/man --infodir=/usr/share/info --with-bugurl=https://bugs.archlinux.org/ --with-linker-hash-style=gnu --with-system-zlib --enable-__cxa_atexit --enable-cet=auto --enable-checking=release --enable-clocale=gnu --enable-default-pie --enable-default-ssp --enable-gnu-indirect-function --enable-gnu-unique-object --enable-linker-build-id --enable-l",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10528:30037,install,install,30037,https://root.cern,https://github.com/root-project/root/issues/10528,1,['install'],['install']
Deployability,"akefile; │ ├── readme.md; │ ├── RegressionBDTest.hxx; │ ├── run_all.sh; │ ├── testAll.cxx; ├── train_classifiers_examples.py; └── utils.py. ### Setup script for ubuntu 18.04; It sets up a new machine, installing everything in the home folder. Please modify for your needs.; ```bash; #!/bin/bash; cd; # can be ran with yes | bash this_file.sh # to say yes when prompted. sudo apt update ; yes | sudo apt upgrade. # Install all the stuff with apt. sudo apt install clang # to use clang; sudo apt install g++-7 gcc-7 # to use gcc; sudo apt install libx11-dev build-essential cmake ; sudo apt install git dpkg-dev cmake binutils libx11-dev libxpm-dev \; libxft-dev libxext-dev; sudo apt-get install gfortran libssl-dev libpcre3-dev \; xlibmesa-glu-dev libglew1.5-dev libftgl-dev \; libmysqlclient-dev libfftw3-dev libcfitsio-dev \; graphviz-dev libavahi-compat-libdnssd-dev \; libldap2-dev python-dev libxml2-dev libkrb5-dev \; libgsl0-dev libqt4-dev; sudo apt install gdb. sudo apt install libstdc++ # then add flag -stdlib=libstdc++. wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh; (echo ''; echo 'yes'; echo ''; echo 'yes';) | bash ./Miniconda3-latest-Linux-x86_64.sh; source .bashrc; source activate base; pip install numpy sklearn xgboost matplotlib. #################################### install projects #############################3; # Get ROOT; cd; git clone git@github.com:LucaZampieri/root.git. # build with gcc; mkdir build_gcc && cd build_gcc && cmake ../root && make -j8. ## Google bench; cd; # Check out the library.; git clone https://github.com/google/benchmark.git; # Benchmark requires Google Test as a dependency. Add the source tree as a subdirectory.; git clone https://github.com/google/googletest.git benchmark/googletest. # Go to the library root directory; cd benchmark ; mkdir build_gcc; cd build_gcc ; cmake -DCMAKE_BUILD_TYPE=Release ../root && make -j8. # XGBoost; cd; git clone --recursive https://github.com/dmlc/xgboost; cd xgboost; mkdir buil",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4351:2760,install,install,2760,https://root.cern,https://github.com/root-project/root/pull/4351,1,['install'],['install']
Deployability,"al/cint_working/rootcling/v6-14-00-patches/core/meta/src/TGlobal.cxx"", dl=27, il=25) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/meta/src/TClass.cxx:5607; #8 0x00007ffff7c4b552 in ROOT::Internal::TDefaultInitBehavior::CreateClass (il=25, dl=27, ifil=0x7ffff7cccf88 ""/local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/meta/src/TGlobal.cxx"", dfil=0x7ffff7cb8cab ""TGlobal.h"",; isa=0x477430, info=..., id=2, cname=<optimized out>, this=0x7ffff7da7508 <ROOT::Internal::DefineBehavior(void*, void*)::theDefault>) at /home/pcanal/root_builds/v6-14-00-patches/opt/include/Rtypes.h:176; #9 ROOT::TGenericClassInfo::GetClass (this=0x7ffff7dab660 <ROOT::GenerateInitInstanceLocal(TGlobal const*)::instance>) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/meta/src/TGenericClassInfo.cxx:250; #10 0x00007ffff7b1a2d8 in TGlobal::Class () at /home/pcanal/root_builds/v6-14-00-patches/opt/core/base/G__Core.cxx:17156; #11 0x00007ffff7ac01de in TGlobal::IsA (this=0xee3bc0) at /home/pcanal/root_builds/v6-14-00-patches/opt/include/TGlobal.h:48; #12 TGlobal::CheckTObjectHashConsistency (this=0xee3bc0) at /home/pcanal/root_builds/v6-14-00-patches/opt/include/TGlobal.h:48; #13 0x00007ffff7be9dcd in TObject::CheckedHash (this=0xee3bc0) at /home/pcanal/root_builds/v6-14-00-patches/opt/include/TObject.h:314; #14 THashTable::GetCheckedHashValue (this=0xe65a20, obj=0xee3bc0) at /home/pcanal/root_builds/v6-14-00-patches/opt/include/THashTable.h:94; #15 THashTable::Add (this=0xe65a20, obj=0xee3bc0) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/cont/src/THashTable.cxx:96; #16 0x00007ffff7be6bf1 in THashList::AddLast (this=this@entry=0x5be690, obj=obj@entry=0xee3bc0) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/cont/src/THashList.cxx:100; #17 0x00007ffff7c4e0d1 in TListOfDataMembers::AddLast (this=0x5be690, obj=0xee3bc0) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/meta/src/TListOfDataMembers.cxx:103; #18 0x00007fff",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2776:5085,patch,patches,5085,https://root.cern,https://github.com/root-project/root/pull/2776,2,['patch'],['patches']
Deployability,"al::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNTupleDescriptorBuilder&)>: Pre-release format version: RC 1; [ FAILED ] RNTuple.StdPair (287 ms); [ --- ]; [ RUN ] RNTuple.StdTuple; /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/test/ntuple_types.cxx:151: Failure; Expected equality of these values:; (alignof(std::tuple<char, int64_t, char>)); Which is: 4; otherField->GetAlignment(); Which is: 8; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RPageStorageFile.cxx:51 in ROOT::Experimental::Detail::RPageSinkFile::RPageSinkFile(std::string_view, const ROOT::Experimental::RNTupleWriteOptions&)>: The RNTuple file format will change. Do not store real data with this version of RNTuple!; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experimental::Internal::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNTupleDescriptorBuilder&)>: Pre-release format version: RC 1; [ FAILED ] RNTuple.StdTuple (317 ms); [ --- ]; [----------] 18 tests from RNTuple (7848 ms total); [----------] Global test environment tear-down; [==========] 18 tests from 1 test suite ran. (7848 ms total); [ PASSED ] 16 tests.; [ FAILED ] 2 tests, listed below:; [ FAILED ] RNTuple.StdPair; [ FAILED ] RNTuple.StdTuple; 2 FAILED TESTS. ~~~. gtest-tree-ntuple-v7-test-ntuple-extended fails with:; Fatal: fWritePage[otherIdx].IsEmpty() violated. ~~~; 520/1318 Test #454: gtest-tree-ntuple-v7-test-ntuple-extended ...........................***Failed 73.15 sec; Running main() from /builddir/build/BUILD/googletest-1.13.0/googletest/src/gtest_main.cc; Note: Google Test filter = -RCsvDS.Remote:RRawFile.Remote:RSqliteDS.Davix:TFile.ReadWithoutGlobalRegistrationWeb:TFile.ReadWithoutGlobalRegistrationNet; [==========] Running 4 tests from 1 test suite.; [----------] Global test environment set-u",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12427:2858,release,release,2858,https://root.cern,https://github.com/root-project/root/issues/12427,1,['release'],['release']
Deployability,"alculations (like 3-dimensional fits), but mostly I use pure Python for high-level data analysis, and it would be useful to combine PyPy and ROOT for middle-hard calculations. ; I'm also developing an architectural framework for data analysis in Python, and I'm curious whether PyPy + ROOT will ever be possible (it would be a good combination for speeding up Python). I'm interested in the possibility to use PyPy with ROOT. When I launched that, there was an error. > $ pypy; > \>\>\>\> import ROOT; Traceback (most recent call last):; File ""<stdin>"", line 1, in <module>; File ""/opt/root/cur/lib/ROOT/\_\_init__.py"", line 22, in <module> import cppyy; File ""/opt/root/cur/lib/cppyy/\_\_init__.py"", line 64, in <module> libcppyy_mod_name, major, minor)); ImportError: Failed to import libcppyy2_7. Please check that ROOT has been built for Python 2.7. However, I allowed Python 2 support in ROOT, and `python2` imports ROOT fine. A similar error was for Python 3, but Python 3 version for my PyPy and ROOT installations were different, so I checked that with Python 2. ### Describe the solution you'd like; Allow PyPy to use ROOT. ### Describe alternatives you've considered; I think that PyPy is the most general fast Python implementation (I didn't use other ones and not sure whether they will work with ROOT).; I've heard about `numba`, but it looks like it's mostly useful with numpy.; `Jython` didn't run when I tried it with `tox`. ### Additional context; I've sent a letter to PyPy developers, and this is what they [replied](https://mail.python.org/pipermail/pypy-dev/2021-May/016164.html):. > ROOT uses a fork of cppyy with several local modifications (and; it's also very much behind cppyy master). One of them is precisely this:; >; > \> ImportError: Failed to import libcppyy2_7. Please check that ROOT has; been built for Python 2.7; > ; > Which is referring to their ""multi-python"" build, a local ""invention."" But; also, libcppyy is not used in PyPy and should never be loaded directl",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/8110:1364,install,installations,1364,https://root.cern,https://github.com/root-project/root/issues/8110,1,['install'],['installations']
Deployability,"alizationExtraTypes);; | ^~~~~~~~~~~~~~~~~~~~~~; /opt/root/install/include/ROOT/RField.hxx:111:49: note: no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const ROOT::Experimental::Detail::RFieldBase::RColumnRepresentations::TypesList_t&’ {aka ‘const std::vector<std::vector<ROOT::Experimental::EColumnType> >&’}; 111 | RColumnRepresentations(const TypesList_t &serializationTypes, const TypesList_t &deserializationExtraTypes);; | ~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~; /opt/root/install/include/ROOT/RField.hxx:110:7: note: candidate: ‘ROOT::Experimental::Detail::RFieldBase::RColumnRepresentations::RColumnRepresentations()’; 110 | RColumnRepresentations();; | ^~~~~~~~~~~~~~~~~~~~~~; /opt/root/install/include/ROOT/RField.hxx:110:7: note: candidate expects 0 arguments, 2 provided; /opt/root/install/include/ROOT/RField.hxx:107:10: note: candidate: ‘ROOT::Experimental::Detail::RFieldBase::RColumnRepresentations::RColumnRepresentations(const ROOT::Experimental::Detail::RFieldBase::RColumnRepresentations&)’; 107 | class RColumnRepresentations {; | ^~~~~~~~~~~~~~~~~~~~~~; /opt/root/install/include/ROOT/RField.hxx:107:10: note: candidate expects 1 argument, 2 provided; /opt/root/install/include/ROOT/RField.hxx:107:10: note: candidate: ‘ROOT::Experimental::Detail::RFieldBase::RColumnRepresentations::RColumnRepresentations(ROOT::Experimental::Detail::RFieldBase::RColumnRepresentations&&)’; /opt/root/install/include/ROOT/RField.hxx:107:10: note: candidate expects 1 argument, 2 provided; make[2]: *** [tree/dataframe/CMakeFiles/ROOTDataFrame.dir/build.make:524: tree/dataframe/CMakeFiles/ROOTDataFrame.dir/src/RNTupleDS.cxx.o] Error 1; make[1]: *** [CMakeFiles/Makefile2:36193: tree/dataframe/CMakeFiles/ROOTDataFrame.dir/all] Error 2; ```. No header inclusion helped; it's really strange why 32 bit fields from the very same structure (enumeration) are visible, and 64 are not...; Had to comment out . > // {EColumnType::kSplitIndex64}, {EColumnType::kIndex64}",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13103:2722,install,install,2722,https://root.cern,https://github.com/root-project/root/issues/13103,1,['install'],['install']
Deployability,"all/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1072:82: error: expected unqualified-id; template<class T> inline bool atomic_is_lock_free( shared_ptr<T> const * /*p*/ ) BOOST_SP_NOEXCEPT; ^; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/detail/sp_noexcept.hpp:28:29: note: expanded from macro 'BOOST_SP_NOEXCEPT'; # define BOOST_SP_NOEXCEPT BOOST_NOEXCEPT; ^; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/config/detail/suffix.hpp:965:26: note: expanded from macro 'BOOST_NOEXCEPT'; # define BOOST_NOEXCEPT noexcept; ^; In file included from libMyLibrary dictionary payload:5:; In file included from ./MyClass.h:6:; In file included from /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_ptr.hpp:17:; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1077:33: error: expected parameter declarator; template<class T> shared_ptr<T> atomic_load( shared_ptr<T> const * p ) BOOST_SP_NOEXCEPT; ^; /Users/krasznaa/ATLAS/sw/projects/externals/build/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:134:55: note: expanded from macro 'atomic_load'; #define atomic_load(object) __c11_atomic_load(object, __ATOMIC_SEQ_CST); ^; <built-in>:16:26: note: expanded from here; #define __ATOMIC_SEQ_CST 5; ^; In file included from libMyLibrary dictionary payload:5:; In file included from ./MyClass.h:6:; In file included from /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_ptr.hpp:17:; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6454:3329,Install,InstallArea,3329,https://root.cern,https://github.com/root-project/root/issues/6454,1,['Install'],['InstallArea']
Deployability,"all/lib/libCling.so; #15 0x00007f174c79fab4 in clang::Parser::ParseStatementOrDeclaration(llvm::SmallVector<clang::Stmt*, 32u>&, clang::Parser::ParsedStmtContext, clang::SourceLocation*) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #16 0x00007f174c7a7902 in clang::Parser::ParseCompoundStatementBody(bool) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #17 0x00007f174c7a9bcc in clang::Parser::ParseFunctionStatementBody(clang::Decl*, clang::Parser::ParseScope&) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #18 0x00007f174c7d5ac5 in clang::Parser::ParseFunctionDefinition(clang::ParsingDeclarator&, clang::Parser::ParsedTemplateInfo const&, clang::Parser::LateParsedAttrList*) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #19 0x00007f174c70dd20 in clang::Parser::ParseDeclGroup(clang::ParsingDeclSpec&, clang::DeclaratorContext, clang::SourceLocation*, clang::Parser::ForRangeInit*) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #20 0x00007f174c7d1e54 in clang::Parser::ParseDeclarationOrFunctionDefinition(clang::ParsedAttributesWithRange&, clang::ParsingDeclSpec*, clang::AccessSpecifier) [clone .part.0] () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #21 0x00007f174c7d8830 in clang::Parser::ParseExternalDeclaration(clang::ParsedAttributesWithRange&, clang::ParsingDeclSpec*) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #22 0x00007f174c7d9900 in clang::Parser::ParseTopLevelDecl(clang::OpaquePtr<clang::DeclGroupRef>&, bool) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #23 0x00007f174be0d87a in cling::IncrementalParser::ParseInternal(llvm::StringRef) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #24 0x00007f174be0e9b0 in cling::Incremen",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12673:4432,install,install,4432,https://root.cern,https://github.com/root-project/root/issues/12673,2,['install'],['install']
Deployability,alling default constructor for 'TLine' in /opt/root_src/hist/histpainter/src/TGraphPainter.cxx:3948; 25: Calling default constructor for 'TObject' in /opt/root_src/graf2d/graf/inc/TLine.h:38; 26: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 27: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 28: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Calling copy constructor for 'TH1D' in /opt/root_src/hist/hist/src/TH1.cxx:10203; 2: Calling default constructor for 'TH1' in /opt/root_src/hist/hist/src/TH1.cxx:10112; 3: Calling default constructor for 'TNamed' in /opt/root_src/hist/hist/src/TH1.cxx:595; 4: Calling default constructor for 'TObject' in /opt/root_src/core/base/inc/TNamed.h:36; 5: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 6: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 7: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Assuming 'subinfo' is non-null in /opt/root_src/io/io/src/TContainerConverters.cxx:70; 2: expanded from macro 'R__ASSERT' in /opt/root_src/core/foundation/inc/TError.h:120; 3: Taking false branch in /opt/root_src/io/io/src/TContainerConverters.cxx:70; 4: expanded from macro 'R__ASSERT' in /opt/root_src/core/foundation/inc/TError.h:120; 5: Loop condition is false. Exiting loop in /opt/root_src/io/io/src/TContainerConverters.cxx:70; 6: expanded from macro 'R__ASSERT' in /opt/root_src/core/foundation/inc/TError.h:119; 7: Taking false branch in /opt/root_src/io/io/src/TContainerConverters.cxx:79; 8: expanded ,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:31517,Update,UpdateIsOnHeap,31517,https://root.cern,https://github.com/root-project/root/issues/7412,1,['Update'],['UpdateIsOnHeap']
Deployability,"als/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_ptr.hpp:17:; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1077:33: error: expected parameter declarator; template<class T> shared_ptr<T> atomic_load( shared_ptr<T> const * p ) BOOST_SP_NOEXCEPT; ^; /Users/krasznaa/ATLAS/sw/projects/externals/build/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:134:55: note: expanded from macro 'atomic_load'; #define atomic_load(object) __c11_atomic_load(object, __ATOMIC_SEQ_CST); ^; <built-in>:16:26: note: expanded from here; #define __ATOMIC_SEQ_CST 5; ^; In file included from libMyLibrary dictionary payload:5:; In file included from ./MyClass.h:6:; In file included from /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_ptr.hpp:17:; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1077:33: error: expected ')'; /Users/krasznaa/ATLAS/sw/projects/externals/build/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:134:55: note: expanded from macro 'atomic_load'; #define atomic_load(object) __c11_atomic_load(object, __ATOMIC_SEQ_CST); ^; <built-in>:16:26: note: expanded from here; #define __ATOMIC_SEQ_CST 5; ^; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1077:33: note: to match this '('; /Users/krasznaa/ATLAS/sw/projects/externals/build/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:134:46: note: expanded from macro 'atomic_load'; #define atomic_load(object) __c11_atomic_load(object, __ATOMIC_SEQ_CST); ^; In file included from libMyLibrary dictionary payload:5:; In file included from ./MyClass.h:6:; In file i",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6454:4328,install,install,4328,https://root.cern,https://github.com/root-project/root/issues/6454,1,['install'],['install']
Deployability,"an run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code: build it / `root myMacro.C` / ...; -->. ```python. >>> import ROOT; >>> rdf = ROOT.RDataFrame(100).Define(""bool_branch"", ""(int)rdfentry_ > 50"").AsNumpy([""bool_branch""]); >>> rdf; {'bool_branch': ndarray([False, False, False, False, False, False, False, False, False,; False, False, False, False, False, False, False, False, False,; False, False, False, False, False, False, False, False, False,; False, False, False, False, False, False, False, False, False,; False, False, False, False, False, False, False, False, False,; False, False, False, False, False, False, True, True, True, True,; True, True, True, True, True, True, True, True, True, True, True,; True, True, True, True, True, True, True, True, True, True, True,; True, True, True, True, True, True, True, True, True, True, True,; True, True, True, True, True, True, True, True, True, True, True,; True], dtype=object)}; ```. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->; Conda:; ```; - root=6.24.0=py39hde0f152_0; - root_base=6.24.0=py39h9c0239e_0; ```. ```; ------------------------------------------------------------------; | Welcome to ROOT 6.24/00 https://root.cern |; | (c) 1995-2021, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built for linuxx8664gcc on Apr 20 2021, 16:07:00 |; | From tag , 14 April 2021 |; | With |; | Try '.help', '.demo', '.license', '.credits', '.quit'/'.q' |; ------------------------------------------------------------------; ```. Operating system (running inside singularity); ```; (/conda_prefix/4579f7cd229dff884e79648a22bf1fbc) Singularity> cat /etc/*release; DISTRIB_ID=Ubuntu; DISTRIB_RELEASE=20.10; DISTRIB_CODENAME=groovy; DISTRIB_DESCRIPTION=""Ubuntu 20.10""; ```. ### Additional context; <!--; Add any other context about the problem here.; -->. I also reproduced the issue on macos.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/8639:1772,install,install,1772,https://root.cern,https://github.com/root-project/root/issues/8639,2,"['install', 'release']","['install', 'release']"
Deployability,anch in /opt/root_src/build/rmkdepend/pr.c:176; 5: Calling 'pr' in /opt/root_src/build/rmkdepend/pr.c:177; 6: Assuming 'len' is <= 2 in /opt/root_src/build/rmkdepend/pr.c:104; 7: Left side of '&&' is false in /opt/root_src/build/rmkdepend/pr.c:104; 8: Assuming the condition is true in /opt/root_src/build/rmkdepend/pr.c:127; 9: Left side of '||' is true in /opt/root_src/build/rmkdepend/pr.c:127; 10: Assuming 'rootBuild' is 0 in /opt/root_src/build/rmkdepend/pr.c:129; 11: Taking false branch in /opt/root_src/build/rmkdepend/pr.c:129; 12: Assuming 'dep' is not equal to null in /opt/root_src/build/rmkdepend/pr.c:131; 13: Taking false branch in /opt/root_src/build/rmkdepend/pr.c:131; 14: Assuming 'len' is > 2 in /opt/root_src/build/rmkdepend/pr.c:144; 15: Left side of '&&' is true in /opt/root_src/build/rmkdepend/pr.c:144; 16: Assuming the condition is true in /opt/root_src/build/rmkdepend/pr.c:144; 17: Taking true branch in /opt/root_src/build/rmkdepend/pr.c:144; 18: Memory is released in /opt/root_src/build/rmkdepend/pr.c:145; 19: 'rootBuild' is 0 in /opt/root_src/build/rmkdepend/pr.c:147; 20: Taking false branch in /opt/root_src/build/rmkdepend/pr.c:147; 21: Assuming the condition is false in /opt/root_src/build/rmkdepend/pr.c:150; 22: Taking false branch in /opt/root_src/build/rmkdepend/pr.c:150; 23: Assuming 'verbose' is not equal to 0 in /opt/root_src/build/rmkdepend/pr.c:156; 24: Left side of '||' is false in /opt/root_src/build/rmkdepend/pr.c:156; 25: Assuming field 'i_list' is not equal to NULL in /opt/root_src/build/rmkdepend/pr.c:156; 26: Left side of '||' is false in /opt/root_src/build/rmkdepend/pr.c:156; 27: Assuming the condition is false in /opt/root_src/build/rmkdepend/pr.c:156; 28: Taking false branch in /opt/root_src/build/rmkdepend/pr.c:156; 29: Use of memory after it is freed in /opt/root_src/build/rmkdepend/pr.c:160; /opt/root_src/build/rmkdepend/cppsetup.c; /opt/root_src/build/rmkdepend/include.c; /opt/root_src/build/rmkdepend/main.c; /opt/root_src,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7410:49382,release,released,49382,https://root.cern,https://github.com/root-project/root/issues/7410,1,['release'],['released']
Deployability,anch in /opt/root_src/core/meta/src/TSchemaRule.cxx:961; 8: Loop condition is true. Entering loop body in /opt/root_src/core/meta/src/TSchemaRule.cxx:964; 9: Calling default constructor for 'TObjString' in /opt/root_src/core/meta/src/TSchemaRule.cxx:966; 10: Calling default constructor for 'TObject' in /opt/root_src/core/base/inc/TObjString.h:34; 11: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 12: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 13: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Calling constructor for 'TGeoBatemanSol' in /opt/root_src/geom/geom/src/TGeoElement.cxx:554; 2: Calling default constructor for 'TObject' in /opt/root_src/geom/geom/src/TGeoElement.cxx:1377; 3: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 4: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 5: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Calling default constructor for 'TGeoHMatrix' in /opt/root_src/geom/geom/src/TGeoMatrix.cxx:2459; 2: Calling default constructor for 'TGeoMatrix' in /opt/root_src/geom/geom/src/TGeoMatrix.cxx:2301; 3: Calling default constructor for 'TNamed' in /opt/root_src/geom/geom/src/TGeoMatrix.cxx:231; 4: Calling default constructor for 'TObject' in /opt/root_src/core/base/inc/TNamed.h:36; 5: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 6: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 7: The left operand of '==' is a garbage value in /opt,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:3646,Update,UpdateIsOnHeap,3646,https://root.cern,https://github.com/root-project/root/issues/7412,1,['Update'],['UpdateIsOnHeap']
Deployability,and allow to use the root-ci.yml in the v6-30-00-patches to treat the configuration of the builds of branches as regular code.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14882:49,patch,patches,49,https://root.cern,https://github.com/root-project/root/pull/14882,2,"['configurat', 'patch']","['configuration', 'patches']"
Deployability,"and assign it to the dataframe/df027_SQliteDependencyOverVersion.C, as a start. ## Checklist:. - [v] tested changes locally; - [v] updated the docs (if necessary). This PR fixes; - [ROOT-9705](https://its.cern.ch/jira/browse/ROOT-9705); - [ROOT-10539](https://its.cern.ch/jira/browse/ROOT-10539)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16328:131,update,updated,131,https://root.cern,https://github.com/root-project/root/pull/16328,1,['update'],['updated']
Deployability,and of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Calling copy constructor for 'TEfficiency' in /opt/root_src/hist/hist/src/TEfficiency.cxx:3674; 2: Calling default constructor for 'TNamed' in /opt/root_src/hist/hist/src/TEfficiency.cxx:973; 3: Calling default constructor for 'TObject' in /opt/root_src/core/base/inc/TNamed.h:36; 4: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 5: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 6: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Calling constructor for 'THnIter' in /opt/root_src/hist/hist/src/THnBase.cxx:617; 2: Calling default constructor for 'TObject' in /opt/root_src/hist/hist/inc/THnBase.h:305; 3: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 4: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 5: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Assuming 'i' is < 'nobjects' in /opt/root_src/hist/hist/src/TFormula.cxx:220; 2: Loop condition is true. Entering loop body in /opt/root_src/hist/hist/src/TFormula.cxx:220; 3: Assuming the condition is true in /opt/root_src/hist/hist/src/TFormula.cxx:221; 4: Left side of '&&' is true in /opt/root_src/hist/hist/src/TFormula.cxx:221; 5: Assuming the condition is true in /opt/root_src/hist/hist/src/TFormula.cxx:221; 6: Taking true branch in /opt/root_src/hist/hist/src/TFormula.cxx:221; 7: Calling constructor for 'TFormula' in /opt/root_src/hist/hist/src/TFormula.cxx:222; 8: Calling constructor for 'TNamed' ,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:24023,Update,UpdateIsOnHeap,24023,https://root.cern,https://github.com/root-project/root/issues/7412,1,['Update'],['UpdateIsOnHeap']
Deployability,and update the list of deprecations in the 6.36 RNs.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16818:4,update,update,4,https://root.cern,https://github.com/root-project/root/pull/16818,1,['update'],['update']
Deployability,"ang/9.0.1/include/__clang_cuda_device_functions.h:49:40: note: '__nvvm_vote_all' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:50:40: error: reference to __device__ function '__nvvm_vote_any' in __host__ function; __DEVICE__ int __any(int __a) { return __nvvm_vote_any(__a); }; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:50:40: note: '__nvvm_vote_any' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:51:52: error: reference to __device__ function '__nvvm_vote_ballot' in __host__ function; __DEVICE__ unsigned int __ballot(int __a) { return __nvvm_vote_ballot(__a); }; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:51:52: note: '__nvvm_vote_ballot' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:69:18: error: static declaration of '__cosf' follows non-static declaration; __DEVICE__ float __cosf(float __a) { return __nv_fast_cosf(__a); }; ^; cling: /usr/include/x86_64-linux-gnu/bits/mathcalls.h:62:1: note: previous declaration is here; __MATHCALL_VEC (cos,, (_Mdouble_ __x));; ^; /usr/include/math.h:266:3: note: expanded from macro '__MATHCALL_VEC'; __MATHCALL (function, suffix, args); ^; /usr/include/math.h:273:3: note: expanded from macro '__MATHCALL'; __MATHDECL (_Mdouble_,function,suffix, args); ^; /usr/include/math.h:276:3: note: expanded from macro '__MATHDECL'; __MATHDECL_1(type, __CONCAT(__,function),suffix, args); ^; /usr/include/math.h:283:15: note: expanded from macro '__MATHDECL_1'; extern type __MATH_PRECNAME(function,suffix) args __THROW; ^; /usr/include/math.h:303:34: note: expanded from macro '__MATH_PRECNAME'; # define __MATH_PRECNAME(name,r) name##f##r; ^; ",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7518:2195,install,install,2195,https://root.cern,https://github.com/root-project/root/issues/7518,1,['install'],['install']
Deployability,"ang_cuda_device_functions.h:201:10: note: '__nvvm_atom_sys_add_gen_f' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:205:7: error: reference to __device__ function '__nvvm_atom_xchg_gen_i' in __host__ function; __nvvm_atom_xchg_gen_i((int *)__p, __nv_float_as_int(__v)));; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:205:7: note: '__nvvm_atom_xchg_gen_i' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:209:7: error: reference to __device__ function '__nvvm_atom_cta_xchg_gen_i' in __host__ function; __nvvm_atom_cta_xchg_gen_i((int *)__p, __nv_float_as_int(__v)));; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:209:7: note: '__nvvm_atom_cta_xchg_gen_i' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:213:7: error: reference to __device__ function '__nvvm_atom_sys_xchg_gen_i' in __host__ function; __nvvm_atom_sys_xchg_gen_i((int *)__p, __nv_float_as_int(__v)));; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:213:7: note: '__nvvm_atom_sys_xchg_gen_i' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:244:16: error: static declaration of '__finite' follows non-static declaration; __DEVICE__ int __finite(double __a) { return __nv_isfinited(__a); }; ^; cling: /usr/include/x86_64-linux-gnu/bits/mathcalls-helper-functions.h:33:20: note: previous declaration is here; __MATHDECL_1 (int, __finite,, (_Mdouble_ __value)) __attribute__ ((__const__));; ^; cling: In file included from <built-in>:1:; In file included from /home/sehrig/w",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7518:9346,install,install,9346,https://root.cern,https://github.com/root-project/root/issues/7518,1,['install'],['install']
Deployability,"anged with respect to the default one. This makes easier the maintenance, as you do not need to constantly update the Doxyfile when a new doxygen version arises, and prevents warnings when running in older doxygen versions. This will hopefully contribute to next point:; - [ ] https://github.com/root-project/root/issues/9953; - [ ] Allow in the future for automatic meta-documentation of the CMake flag system. See https://github.com/root-project/root/issues/8999; - [x] Potentially add a flag in the main ROOT CMakeLists.txt, to enable the building of the documentation via a normal ""add_subdirectory()"", so that one does not need to build as a separate process.; - [x] Make the doxygen documentation thread-safe; - [x] Don't let doxygen search for ""input"" files in the output directory (e.g. it looks now for Mathjax output files that one just ""generated""). ## Checklist:. - [x] tested changes locally; - [ ] We would need to update https://github.com/root-project/web/blob/main/for_developers/doxygen/index.md; - [ ] Update rootspi scripts to build docu in CI accordingly; - [ ] tutorial generation does not work yet as ""out of source"". To-do...; - [x] require min doxygen version 1.9.4; - [ ] pre-check that output directory is empty ?; - [ ] if GVIZ not found, disable dot; - [ ] Stamp file generation to only recompile when changes; - [x] Remove unneeded unnecessary files Images.dat etc ? (or prevent that they appear in root source); - [x] Make filter.cxx threadsafe but giving unique names to ImageSizes.dat .root etc; - [x] set NUM_PROC_THREADS; - [ ] listLibs pass ROOT_CMD as variable; - [x] check why there are stdout.dat and NumberOfImages not being removed; - [ ] Consider enabling https://www.doxygen.nl/manual/config.html#cfg_clang_assisted_parsing; - [ ] Fix strip_from_path in root-tag https://github.com/root-project/root/issues/10059; - [x] Check compress https://github.com/root-project/root/issues/10066; - [x] Upgrade mathjax https://github.com/root-project/root/issues/10067",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9966:1664,Update,Update,1664,https://root.cern,https://github.com/root-project/root/pull/9966,2,"['Update', 'Upgrade']","['Update', 'Upgrade']"
Deployability,"ant to root 6.24.06, but the issue described appears to be present in 6.26.00 as well. I recently saw a report of a crash in the ATLAS trigger code; (https://its.cern.ch/jira/browse/ATR-25254) that included this stack trace:. ```; #5 <signal handler called>; #6 0x0000000000000000 in ?? (); #7 0x00007f68343efc71 in TClassEdit::GetSplit(char const*, std::vector<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::allocator<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > >&, int&, TClassEdit::EModType) () from /sw/atlas/sw/lcg/releases/LCG_101_ATLAS_14/ROOT/6.24.06/x86_64-centos7-gcc11-opt/lib/libCore.so; #8 0x00007f68343f12f1 in TClassEdit::TSplitType::TSplitType(char const*, TClassEdit::EModType) () from /sw/atlas/sw/lcg/releases/LCG_101_ATLAS_14/ROOT/6.24.06/x86_64-centos7-gcc11-opt/lib/libCore.so; #9 0x00007f68343f23f1 in TClassEdit::GetNormalizedName(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, std::basic_string_view<char, std::char_traits<char> >) () from /sw/atlas/sw/lcg/releases/LCG_101_ATLAS_14/ROOT/6.24.06/x86_64-centos7-gcc11-opt/lib/libCore.so; #10 0x00007f683440dc8b in TClass::GetClass(char const*, bool, bool, unsigned long, unsigned long) () from /sw/atlas/sw/lcg/releases/LCG_101_ATLAS_14/ROOT/6.24.06/x86_64-centos7-gcc11-opt/lib/libCore.so; #11 0x00007f683441e338 in TClassRef::InternalGetClass() const () from /sw/atlas/sw/lcg/releases/LCG_101_ATLAS_14/ROOT/6.24.06/x86_64-centos7-gcc11-opt/lib/libCore.so; #12 0x00007f682e411d18 in TScopeAdapter::Init(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, bool, bool) () from /sw/atlas/Athena/22.0.60/InstallArea/x86_64-centos7-gcc11-opt/lib/libDataModelRoot.so; ```. The place in the code where it's crashing in GetSplit after it calls; to StdLen:. ```; if ( mode & kDropStd) {; unsigned int offset = (0==strncmp(""const "",full.c_str(),6)) ? 6 : 0;; RemoveStd( full, offset );; ",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10353:1113,release,releases,1113,https://root.cern,https://github.com/root-project/root/issues/10353,1,['release'],['releases']
Deployability,"appear and disappear just shuffling some class definitions. I also find weird that the segfault seems to be related to an `atexit` function in `libCling.so`:; ```; ===========================================================; #10 0x00007f05fa744a7e in ?? (); #11 0x00007ffd45bee240 in ?? (); #12 0x00007f060b10d028 in ?? (); #13 0x00007ffd45bee270 in ?? (); #14 0x00007f05fa745920 in ?? (); #15 0x00007f060b10c1a0 in ?? (); #16 0x00007ffd45bee260 in ?? (); #17 0x00007ffd45bee2c0 in ?? (); #18 0x00007f05fa745b0d in ?? (); #19 0x000000000204fc10 in ?? (); #20 0x00000000133b2cc8 in ?? (); #21 0x00000000133b2cc0 in ?? (); #22 0x00007f060309016c in (anonymous namespace)::local_cxa_atexit(void (*)(void*), void*, cling::Interpreter*) () from /cvmfs/lhcb.cern.ch/lib/lcg/releases/ROOT/6.30.04-dd2db/x86_64-el9-gcc13-dbg/lib/libCling.so; #23 0x00007ffd45bee260 in ?? (); #24 0x00007f060b10d110 in ?? (); #25 0x00007f060b10d020 in ?? (); #26 0x00007f0607fe2e7a in ?? () from /cvmfs/lhcb.cern.ch/lib/lcg/releases/ROOT/6.30.04-dd2db/x86_64-el9-gcc13-dbg/lib/libCling.so; #27 0x00007f05fa741095 in ?? (); #28 0x00007f05fa740f20 in ?? (); #29 0x00007f060471d882 in (anonymous namespace)::GenericLLVMIRPlatformSupport::initialize(llvm::orc::JITDylib&) () from /cvmfs/lhcb.cern.ch/lib/lcg/releases/ROOT/6.30.04-dd2db/x86_64-el9-gcc13-dbg/lib/libCling.so; #30 0x00007f06031155f3 in cling::IncrementalExecutor::runStaticInitializersOnce(cling::Transaction&) () from /cvmfs/lhcb.cern.ch/lib/lcg/releases/ROOT/6.30.04-dd2db/x86_64-el9-gcc13-dbg/lib/libCling.so; #31 0x00007f0603092698 in cling::Interpreter::executeTransaction(cling::Transaction&) () from /cvmfs/lhcb.cern.ch/lib/lcg/releases/ROOT/6.30.04-dd2db/x86_64-el9-gcc13-dbg/lib/libCling.so; #32 0x00007f0603125b4a in cling::IncrementalParser::commitTransaction(llvm::PointerIntPair<cling::Transaction*, 2u, cling::IncrementalParser::EParseResult, llvm::PointerLikeTypeTraits<cling::Transaction*>, llvm::PointerIntPairInfo<cling::Transaction*, 2u, llvm::Poin",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15511:1467,release,releases,1467,https://root.cern,https://github.com/root-project/root/issues/15511,1,['release'],['releases']
Deployability,"apper.h:148:; /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:245:16: error: static declaration of '__finitef' follows non-static declaration; __DEVICE__ int __finitef(float __a) { return __nv_finitef(__a); }; ^; cling: /usr/include/x86_64-linux-gnu/bits/mathcalls-helper-functions.h:33:1: note: previous declaration is here; __MATHDECL_1 (int, __finite,, (_Mdouble_ __value)) __attribute__ ((__const__));; ^; /usr/include/math.h:283:15: note: expanded from macro '__MATHDECL_1'; extern type __MATH_PRECNAME(function,suffix) args __THROW; ^; /usr/include/math.h:303:34: note: expanded from macro '__MATH_PRECNAME'; # define __MATH_PRECNAME(name,r) name##f##r; ^; <scratch space>:160:1: note: expanded from here; __finitef; ^; cling: In file included from <built-in>:1:; In file included from /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_runtime_wrapper.h:148:; /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:359:10: error: reference to __device__ function '__nvvm_atom_add_gen_i' in __host__ function; return __nvvm_atom_add_gen_i(__p, __v);; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:359:10: note: '__nvvm_atom_add_gen_i' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:362:3: error: reference to __device__ function '__nvvm_atom_cta_add_gen_i' in __host__ function; __nvvm_atom_cta_add_gen_i(__p, __v);; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:362:3: note: '__nvvm_atom_cta_add_gen_i' declared here; cling: fatal error: too many errors emitted, stopping now [-ferror-limit=]; cling: In file included from input_line_4:36:; In file included from /opt/spack-modules/linux-ubuntu20.0",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7518:11406,install,install,11406,https://root.cern,https://github.com/root-project/root/issues/7518,1,['install'],['install']
Deployability,"aps_samp_thr.patch; [check_overlaps.tar.gz](https://github.com/root-project/root/files/14261529/check_overlaps.tar.gz). 1. Run once the macro with master: some big overlaps, some known overlaps of size ~0.4, some overlap of size ~10^-8 only if higher number of samples provided, overlap threshold does not have an effect in sampling mode calls. 2. Apply following patch; ```diff; diff --git a/geom/geompainter/src/TGeoChecker.cxx b/geom/geompainter/src/TGeoChecker.cxx; index fc93cc8b82..0e77517729 100644; --- a/geom/geompainter/src/TGeoChecker.cxx; +++ b/geom/geompainter/src/TGeoChecker.cxx; @@ -1193,7 +1193,7 @@ TGeoOverlap *TGeoChecker::MakeCheckOverlap(const char *name, TGeoVolume *vol1, T; /// Check illegal overlaps for volume VOL within a limit OVLP by sampling npoints; /// inside the volume shape. -void TGeoChecker::CheckOverlapsBySampling(TGeoVolume *vol, Double_t /* ovlp */, Int_t npoints) const; +void TGeoChecker::CheckOverlapsBySampling(TGeoVolume *vol, Double_t ovlp, Int_t npoints) const; {; Int_t nd = vol->GetNdaughters();; if (nd < 2); @@ -1268,7 +1268,7 @@ void TGeoChecker::CheckOverlapsBySampling(TGeoVolume *vol, Double_t /* ovlp */,; }; // The point is inside 2 or more daughters, check safety; safe = shape->Safety(local, kTRUE);; - // if (safe < ovlp) continue;; + if (safe < ovlp) continue;; // We really have found an overlap -> store the point in a container; iovlp++;; if (!novlps) {; ```. 3. Recompile/Reinstall and Re-run: big overlaps unchanged as expected, known overlaps of size ~0.4 still there with low threshold but masked with sufficient threshold, overlap of size ~10^-8 cut in all cases as expected. ### ROOT version. Original observation with `v6.22` to `v6.26`; Cross-check with current master, given source commit probably present from `v5-19-04` until current master. ### Installation method. Built from source within Fairsoft, built from source standalone. ### Operating system. Ubuntu 20.04, Debian 10 and 11. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14675:5079,Install,Installation,5079,https://root.cern,https://github.com/root-project/root/issues/14675,1,['Install'],['Installation']
Deployability,"arsedAttributesWithRange&, clang::ParsingDeclSpec&, clang::AccessSpecifier) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #17 0x00002b8fcf5ec950 in clang::Parser::ParseExternalDeclaration(clang::Parser::ParsedAttributesWithRange&, clang::ParsingDeclSpec*) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #18 0x00002b8fcf57b004 in clang::Parser::ParseLinkage(clang::ParsingDeclSpec&, unsigned int) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #19 0x00002b8fcf5e611e in clang::Parser::ParseDeclOrFunctionDefInternal(clang::Parser::ParsedAttributesWithRange&, clang::ParsingDeclSpec&, clang::AccessSpecifier) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #20 0x00002b8fcf5e64b1 in clang::Parser::ParseDeclarationOrFunctionDefinition(clang::Parser::ParsedAttributesWithRange&, clang::ParsingDeclSpec*, clang::AccessSpecifier) [clone .part.0] () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #21 0x00002b8fcf5ecf42 in clang::Parser::ParseExternalDeclaration(clang::Parser::ParsedAttributesWithRange&, clang::ParsingDeclSpec*) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #22 0x00002b8fcf5ed399 in clang::Parser::ParseTopLevelDecl(clang::OpaquePtr<clang::DeclGroupRef>&) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #23 0x00002b8fcef7c0e6 in cling::IncrementalParser::ParseInternal(llvm:",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7093:8150,patch,patch,8150,https://root.cern,https://github.com/root-project/root/issues/7093,1,['patch'],['patch']
Deployability,"ary use of code needing the ROOT lock within code run under the AppKit lock so that in they case thread #1 no longer need to wait for the ROOT (read) lock. In addition it should be investigated whether the ROOT (write) lock should be taken in thread #1, frame 1 (TMacOSXSystem::ProcessPendingEvents) for the same reason it is taken in TCanvas::Update. thread #11; frame #0: 0x00007fffab109bf2 libsystem_kernel.dylib`__psynch_cvwait + 10; frame #1: 0x00007fffab1f57fa libsystem_pthread.dylib`_pthread_cond_wait + 712; frame #2: 0x00007fff93394e34 AppKit`-[NSViewHierarchyLock lockForReadingWithExceptionHandler:] + 287; frame #3: 0x00007fff934948ae AppKit`-[NSWindow _copyAcquiredViewHierarchyLock] + 126; frame #4: 0x00007fff9349442c AppKit`-[NSView lockFocusIfCanDraw] + 159; frame #5: 0x000000011c09063d libGCocoa.so`ROOT::MacOSX::X11::CommandBuffer::Flush(this=0x0000000100dbb080, impl=0x0000000100dbb000) at X11Buffer.mm:550; frame #6: 0x000000011c04e9c4 libGCocoa.so`TGCocoa::Update(this=0x0000000100ad1bc0, mode=1) at TGCocoa.mm:536; frame #7: 0x000000011c04ff3e libGCocoa.so`TGCocoa::UpdateWindow(this=0x0000000100ad1bc0, (null)=1) at TGCocoa.mm:776; frame #8: 0x000000011ad70827 libGpad.so`TCanvas::Flush(this=0x000000012274e740) at TCanvas.cxx:1096; frame #9: 0x000000011ad7830f libGpad.so`TCanvas::Update(this=0x000000012274e740) at TCanvas.cxx:2287; frame #10: 0x0000000100fe4e86 threadsh2_C.so`handle2((null)=0x0000000000000001) at threadsh2.C:105; frame #11: 0x0000000100f55680 libThread.so`TThread::Function(ptr=0x0000000122753b00) at TThread.cxx:821; frame #12: 0x00007fffab1f493b libsystem_pthread.dylib`_pthread_body + 180; frame #13: 0x00007fffab1f4887 libsystem_pthread.dylib`_pthread_start + 286; frame #14: 0x00007fffab1f408d libsystem_pthread.dylib`thread_start + 13. thread #1, queue = 'com.apple.main-thread', stop reason = signal SIGSTOP; frame #0: 0x00007fffab109bf2 libsystem_kernel.dylib`__psynch_cvwait + 10; frame #1: 0x00007fffab1f57fa libsystem_pthread.dylib`_pthread_c",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1573:1421,Update,Update,1421,https://root.cern,https://github.com/root-project/root/pull/1573,1,['Update'],['Update']
Deployability,as is the case with function GetReadStatus. This prevents the crash on line 35 (stack trace by @amadio on https://its.cern.ch/jira/browse/ROOT-11006):. # This Pull request:. ## Changes or fixes:. The test for this PR is the same as in https://github.com/root-project/root/pull/15317/files. ## Checklist:. - [x] tested changes locally; - [x] updated the docs (if necessary). This PR fixes #,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15324:341,update,updated,341,https://root.cern,https://github.com/root-project/root/pull/15324,1,['update'],['updated']
Deployability,"as merged, one can rewrite the Romberg integrator to use batch evaluations. It turned out that the old integrator has a bug: It sometimes stops too early. Here's the performance of different integrators as extracted from tests that come via this PR. The numbers are the relative deviation from the analytic solution:; ```; Integrating log(a*x), relEps = 0.001; 	 	mean 	median 	q95 	q99 	max; 	old:	0.0016594	0.00161012	0.00193414	0.00225071	0.0168282	t=0.04; 	new:	0.000505525	0.00049051	0.000589222	0.000685661	0.0168282	t=0.03; 	ROOT:	3.45732e-08	3.36752e-08	4.03318e-08	4.62674e-08	0.0168282	t=0.14; Integrating log(a*x), relEps = 1e-06; 	 	mean 	median 	q95 	q99 	max; 	old:	2.45769e-05	2.45769e-05	2.4577e-05	2.4577e-05	2.4577e-05	t=0.19; 	new:	3.25114e-07	3.25114e-07	3.25115e-07	3.25115e-07	2.4577e-05	t=0.41; 	ROOT:	7.94638e-14	7.95337e-14	7.9692e-14	7.98497e-14	2.4577e-05	t=0.3; Old integrator reached poor precision: 2.45769e-05 +/- 4.91464e-11 instead of 1e-06; Integrating log(a*x), relEps = 1e-08; 	 	mean 	median 	q95 	q99 	max; 	old:	1.62946e-08	1.62946e-08	1.62946e-08	1.62946e-08	1.62946e-08	t=1.26; 	new:	3.98296e-10	3.98296e-10	3.98297e-10	3.98297e-10	1.62946e-08	t=1.48; 	ROOT:	7.94604e-14	7.95337e-14	7.96915e-14	7.98493e-14	1.62946e-08	t=0.38; [ OK ] Roo1DIntegrator.ConvergenceSettings_log (4402 ms); [ RUN ] Roo1DIntegrator.ConvergenceSettings_pol4; Integrating Polynomial 4th order, relEps = 0.001; 	 	mean 	median 	q95 	q99 	max; 	old:	3.01835e-16	1.45346e-16	5.65891e-16	2.22915e-15	1.15949e-13	t=0.04; 	new:	3.3408e-16	1.84038e-16	6.31068e-16	2.24297e-15	1.15949e-13	t=0.05; 	ROOT:	3.09356e-16	1.56283e-16	5.63307e-16	2.02418e-15	1.15949e-13	t=0.05; Integrating Polynomial 4th order, relEps = 1e-06; 	 	mean 	median 	q95 	q99 	max; 	old:	1.40432e-16	2.12767e-16	4.25546e-16	4.25569e-16	6.38354e-16	t=0.05; 	new:	1.77284e-16	2.12771e-16	4.25564e-16	6.38325e-16	6.38354e-16	t=0.04; 	ROOT:	1.44538e-16	2.12768e-16	4.25551e-16	4.25569e-16	6.38354e-16	t=0.06; Integrating Pol",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6632:1006,Integrat,Integrating,1006,https://root.cern,https://github.com/root-project/root/pull/6632,1,['Integrat'],['Integrating']
Deployability,"as per request by Peter Hristov, ALICE. # This Pull request:. ## Changes or fixes:. ## Checklist:. - [ ] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13716:135,update,updated,135,https://root.cern,https://github.com/root-project/root/pull/13716,1,['update'],['updated']
Deployability,as.cxx:159; 20: Calling default constructor for 'TText' in /opt/root_src/graf2d/gpad/src/TInspectCanvas.cxx:162; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Calling 'TClass::HasConsistentHashMember' in /opt/root_src/core/meta/src/TClass.cxx:7309; 2: Assuming the condition is true in /opt/root_src/core/meta/inc/TClass.h:500; 3: Taking true branch in /opt/root_src/core/meta/inc/TClass.h:500; 4: Calling 'TClass::SetRuntimeProperties' in /opt/root_src/core/meta/inc/TClass.h:501; 5: Calling 'TCheckHashRecursiveRemoveConsistency::Check' in /opt/root_src/core/meta/src/TClass.cxx:6148; 6: Calling default constructor for 'TCheckHashRecursiveRemoveConsistency' in /opt/root_src/core/meta/src/TCheckHashRecursiveRemoveConsistency.h:241; 7: Calling default constructor for 'TObject' in /opt/root_src/core/meta/src/TCheckHashRecursiveRemoveConsistency.h:52; 8: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 9: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 10: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Calling copy constructor for 'REveTrans' in /opt/root_src/graf3d/eve7/src/REveTrans.cxx:334; 2: Calling default constructor for 'TObject' in /opt/root_src/graf3d/eve7/src/REveTrans.cxx:87; 3: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 4: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 5: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:7475,Update,UpdateIsOnHeap,7475,https://root.cern,https://github.com/root-project/root/issues/7412,1,['Update'],['UpdateIsOnHeap']
Deployability,"ase\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\VC\Tools\MSVC\14.35.32215\include\format(3521,19): message : or 'std::string std::format<const std::unique_ptr<llvm::GIMatchDagInstr,std::default_delete<llvm::GIMatchDagInstr>>*>(const std::basic_format_string<char,const std::unique_ptr<llvm::GIMatchDagInstr,std::default_delete<llvm::GIMatchDagInstr>> *>,const std::unique_ptr<llvm::GIMatchDagInstr,std::default_delete<llvm::GIMatchDagInstr>> *&&)' [found using argument-dependent lookup] [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\VC\Tools\MSVC\14.35.32215\include\format(3536,20): message : or 'std::wstring std::format(const std::locale &,const std::basic_format_string<wchar_t,type_identity<_Args>::type...>,_Types &&...)' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(51,18): message : 'initializing': cannot convert from 'const char [5]' to 'const std::locale &' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(51,18): message : Reason: cannot convert from 'const char [5]' to 'const std::locale' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(51,18): message : Constructor for class 'std::locale' is declared 'explicit' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\VC\Tools\MSVC\14.35.32215\include\format(3531,19): message : or 'std::string std::f",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12523:3378,release,release,3378,https://root.cern,https://github.com/root-project/root/pull/12523,1,['release'],['release']
Deployability,"ash.; You may get help by asking at the ROOT forum https://root.cern.ch/forum; Only if you are really convinced it is a bug in ROOT then please submit a; report at https://root.cern.ch/bugs Please post the ENTIRE stack trace; from above as an attachment in addition to anything else; that might help us fixing this issue.; ===========================================================; #6 0x00007f2d879f62ee in TList::FindObject(TObject const*) const () from /home/cburr/miniconda3/envs/test4/bin/../lib/libCore.so.6.24; #7 0x00007f2d879f354a in THashTable::FindObject(TObject const*) const () from /home/cburr/miniconda3/envs/test4/bin/../lib/libCore.so.6.24; #8 0x00007f2d879f1739 in THashList::Remove(TObject*) () from /home/cburr/miniconda3/envs/test4/bin/../lib/libCore.so.6.24; #9 0x00007f2d883c69c8 in TTree::~TTree() () from /home/cburr/miniconda3/envs/test4/bin/../lib/libTree.so.6.24; #10 0x00007f2d883c712a in TTree::~TTree() () from /home/cburr/miniconda3/envs/test4/bin/../lib/libTree.so.6.24; #11 0x00007f2d87ec9eb0 in (anonymous namespace)::WriteOneAndDelete(TString const&, TClass*, TObject*, bool, bool, TDirectory*) () from /home/cburr/miniconda3/envs/test4/bin/../lib/libRIO.so.6.24; #12 0x00007f2d87ecc318 in TFileMerger::MergeOne(TDirectory*, TList*, int, TFileMergeInfo&, TString&, THashList&, bool&, bool&, TString const&, TDirectory*, TFile*, TKey*, TObject*, TIter&) () from /home/cburr/miniconda3/envs/test4/bin/../lib/libRIO.so.6.24; #13 0x00007f2d87ece757 in TFileMerger::MergeRecursive(TDirectory*, TList*, int) () from /home/cburr/miniconda3/envs/test4/bin/../lib/libRIO.so.6.24; #14 0x00007f2d87ecdae0 in TFileMerger::PartialMerge(int) () from /home/cburr/miniconda3/envs/test4/bin/../lib/libRIO.so.6.24; #15 0x000056019ca7ba3d in main (); ===========================================================; ```. ### ROOT version. See above. ### Installation method. Botg LCG and conda builds exhibit the issue. ### Operating system. Linux. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14793:5066,Install,Installation,5066,https://root.cern,https://github.com/root-project/root/issues/14793,1,['Install'],['Installation']
Deployability,"ast a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->; standard cmake build process, as described in the guide. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->; ROOT v6-26-10 (@4dddea35); FreeBSD 13.2 RELEASE (clang 14.0.5), required dependencies installed from ports. ### Additional context; <!--; Add any other context about the problem here.; -->. a port exists v6-28-02 (development/root), installs in binary form (so somebody got it to compile, did not have too much time to test it thoroughly). In my case, however, the port also does not compile, craps out somewhere else. plus it hauls in too many dependencies so it is less than ideal.; I imagine getting it to work on FreeBSD would not end at fixing this issue here. The fbsd port maintainer has some patches which might help, but I have also seen that e.g. procfs is deprecated in new releases and libprocstat has to be used, etc, etc.; With that being said, it would be extremely nice to get ROOT to work on FreeBSD...; thanks,. ```; [ 52%] Built target rootcling_stage1; [ 52%] Generating G__Core.cxx, ../lib/Core.pcm; #0 0x000000000446e3d5 llvm::sys::PrintStackTrace(llvm::raw_ostream&) Signals.cpp:0:0; #1 0x000000000446c646 llvm::sys::RunSignalHandlers() Signals.cpp:0:0; #2 0x000000000446eba6 SignalHandler(int) Signals.cpp:0:0; #3 0x0000000826961b60 (/lib/libthr.so.3+0x19b60); #4 0x000000082696111f (/lib/libthr.so.3+0x1911f); #5 0x00007ffffffff8a3 ([vdso]+0x2d3); #6 0x000000082da5f7b4 strlen (/lib/libc.so.7+0x1587b4); #7 0x00000000016482c9 std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >::basic_string<std::nullptr_t>(char const*) rootcling_stage1.cxx:0:0; #8 0x0000000001648213 GetEtcDir() rootcling_stage1.cxx:0:0; #9 0x00000000016b2792 RootClingMain(int, cha",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12787:1575,patch,patches,1575,https://root.cern,https://github.com/root-project/root/issues/12787,1,['patch'],['patches']
Deployability,"ast); ~\build\release\bin\JupyROOT\helpers\utils.py in _post_execute(self); 461; 462 def _post_execute(self):; --> 463 NotebookDraw(); 464; 465 def register(self):. ~\build\release\bin\JupyROOT\helpers\utils.py in NotebookDraw(); 450 def NotebookDraw():; 451 DrawGeometry(); --> 452 DrawCanvases(); 453 DrawRCanvases(); 454. ~\build\release\bin\JupyROOT\helpers\utils.py in DrawCanvases(); 441 drawers = GetCanvasDrawers(); 442 for drawer in drawers:; --> 443 drawer.Draw(); 444; 445 def DrawRCanvases():. ~\build\release\bin\JupyROOT\helpers\utils.py in Draw(self); 598; 599 def Draw(self):; --> 600 self._display(); 601 return 0; 602. ~\build\release\bin\JupyROOT\helpers\utils.py in _display(self); 583 self._jsDisplay(); 584 else:; --> 585 self._pngDisplay(); 586; 587 def GetDrawableObjects(self):. ~\build\release\bin\JupyROOT\helpers\utils.py in _pngDisplay(self); 572; 573 def _pngDisplay(self):; --> 574 img = self._getPngImage(); 575 IPython.display.display(img); 576. ~\build\release\bin\JupyROOT\helpers\utils.py in _getPngImage(self); 566 with _setIgnoreLevel(ROOT.kError):; 567 self.drawableObject.SaveAs(ofile.name); --> 568 img = IPython.display.Image(filename=ofile.name, format='png', embed=True); 569 #ofile.close(); 570 #os.unlink(ofile.name). c:\python38-32\lib\site-packages\IPython\core\display.py in __init__(self, data, url, filename, format, embed, width, height, retina, unconfined, metadata); 1229 self.retina = retina; 1230 self.unconfined = unconfined; -> 1231 super(Image, self).__init__(data=data, url=url, filename=filename,; 1232 metadata=metadata); 1233. c:\python38-32\lib\site-packages\IPython\core\display.py in __init__(self, data, url, filename, metadata); 635 self.metadata = {}; 636; --> 637 self.reload(); 638 self._check_data(); 639. c:\python38-32\lib\site-packages\IPython\core\display.py in reload(self); 1261 """"""Reload the raw data from file or URL.""""""; 1262 if self.embed:; -> 1263 super(Image,self).reload(); 1264 if self.retina:; 1265 self._retina_s",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9109:1678,release,release,1678,https://root.cern,https://github.com/root-project/root/pull/9109,1,['release'],['release']
Deployability,"at needs to be changed with respect to the default one. This makes easier the maintenance, as you do not need to constantly update the Doxyfile when a new doxygen version arises, and prevents warnings when running in older doxygen versions. This will hopefully contribute to next point:; - [ ] https://github.com/root-project/root/issues/9953 in combination with https://github.com/ammaraskar/gcc-problem-matcher; - [ ] Allow in the future for automatic meta-documentation of the CMake flag system. See https://github.com/root-project/root/issues/8999; - [x] Potentially add a flag in the main ROOT CMakeLists.txt, to enable the building of the documentation via a normal ""add_subdirectory()"", so that one does not need to build as a separate process.; - [x] Make the doxygen documentation thread-safe; - [x] Don't let doxygen search for ""input"" files in the output directory (e.g. it looks now for Mathjax output files that one just ""generated""). ## Checklist:. - [x] tested changes locally; - [ ] We would need to update https://github.com/root-project/web/blob/main/for_developers/doxygen/index.md; - [x] Update rootspi scripts to build docu in CI accordingly; - [ ] tutorial generation does not work yet as ""out of source"". To-do...; - [x] require min doxygen version 1.9.4; - [ ] pre-check that output directory is empty ?; - [ ] if GVIZ not found, disable dot; - [ ] Stamp file generation to only recompile when changes; - [x] Remove unneeded unnecessary files Images.dat etc ? (or prevent that they appear in root source); - [x] Make filter.cxx threadsafe but giving unique names to ImageSizes.dat .root etc; - [x] set NUM_PROC_THREADS; - [x] listLibs pass ROOT_CMD as variable; - [x] Understand why libs.C does not find classes such as TBrowserTimer in libCore.so; - [x] check why there are stdout.dat and NumberOfImages not being removed; - [ ] Consider enabling https://www.doxygen.nl/manual/config.html#cfg_clang_assisted_parsing; - [ ] Fix strip_from_path in root-tag https://github.com/r",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15160:2093,update,update,2093,https://root.cern,https://github.com/root-project/root/pull/15160,1,['update'],['update']
Deployability,"at<const std::unique_ptr<llvm::GIMatchDagInstr,std::default_delete<llvm::GIMatchDagInstr>>*>(const std::basic_format_string<char,const std::unique_ptr<llvm::GIMatchDagInstr,std::default_delete<llvm::GIMatchDagInstr>> *>,const std::unique_ptr<llvm::GIMatchDagInstr,std::default_delete<llvm::GIMatchDagInstr>> *&&)' [found using argument-dependent lookup] [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\VC\Tools\MSVC\14.35.32215\include\format(3536,20): message : or 'std::wstring std::format(const std::locale &,const std::basic_format_string<wchar_t,type_identity<_Args>::type...>,_Types &&...)' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(51,18): message : 'initializing': cannot convert from 'const char [5]' to 'const std::locale &' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(51,18): message : Reason: cannot convert from 'const char [5]' to 'const std::locale' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(51,18): message : Constructor for class 'std::locale' is declared 'explicit' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\VC\Tools\MSVC\14.35.32215\include\format(3531,19): message : or 'std::string std::format(const std::locale &,const std::basic_format_string<char,type_identity<_Args>::type...>,_Types &&...)' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; in",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12523:3653,release,release,3653,https://root.cern,https://github.com/root-project/root/pull/12523,1,['release'],['release']
Deployability,ateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 21: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 22: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Assuming field 'fDoTrace' is true in /opt/root_src/proof/proofplayer/src/TPerfStats.cxx:610; 2: Left side of '||' is true in /opt/root_src/proof/proofplayer/src/TPerfStats.cxx:610; 3: Assuming the condition is true in /opt/root_src/proof/proofplayer/src/TPerfStats.cxx:610; 4: Taking true branch in /opt/root_src/proof/proofplayer/src/TPerfStats.cxx:610; 5: Calling default constructor for 'TPerfEvent' in /opt/root_src/proof/proofplayer/src/TPerfStats.cxx:611; 6: Calling default constructor for 'TObject' in /opt/root_src/proof/proofplayer/src/TPerfStats.cxx:53; 7: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 8: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 9: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Calling 'operator*<double>' in /opt/root_src/math/matrix/src/TMatrixTSparse.cxx:2676; 2: Calling copy constructor for 'TMatrixTSparse<double>' in /opt/root_src/math/matrix/src/TMatrixTSparse.cxx:2655; 3: Calling implicit copy constructor for 'TMatrixTBase<double>' in /opt/root_src/math/matrix/src/TMatrixTSparse.cxx:152; 4: Calling copy constructor for 'TObject' in /opt/root_src/math/matrix/src/TMatrixTSparse.cxx:152; 5: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:265; 6: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 7: The left oper,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:64705,Update,UpdateIsOnHeap,64705,https://root.cern,https://github.com/root-project/root/issues/7412,1,['Update'],['UpdateIsOnHeap']
Deployability,"ateParsedAttrList*) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #15 0x00002b8fcf566f2e in clang::Parser::ParseDeclGroup(clang::ParsingDeclSpec&, unsigned int, clang::SourceLocation*, clang::Parser::ForRangeInit*) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #16 0x00002b8fcf5e5fa1 in clang::Parser::ParseDeclOrFunctionDefInternal(clang::Parser::ParsedAttributesWithRange&, clang::ParsingDeclSpec&, clang::AccessSpecifier) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #17 0x00002b8fcf5ec950 in clang::Parser::ParseExternalDeclaration(clang::Parser::ParsedAttributesWithRange&, clang::ParsingDeclSpec*) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #18 0x00002b8fcf57b004 in clang::Parser::ParseLinkage(clang::ParsingDeclSpec&, unsigned int) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #19 0x00002b8fcf5e611e in clang::Parser::ParseDeclOrFunctionDefInternal(clang::Parser::ParsedAttributesWithRange&, clang::ParsingDeclSpec&, clang::AccessSpecifier) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #20 0x00002b8fcf5e64b1 in clang::Parser::ParseDeclarationOrFunctionDefinition(clang::Parser::ParsedAttributesWithRange&, clang::ParsingDeclSpec*, clang::AccessSpecifier) [clone .part.0] () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #21 0x00002b8fcf5ecf42 in clang::Parser::ParseE",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7093:7595,patch,patch,7595,https://root.cern,https://github.com/root-project/root/issues/7093,1,['patch'],['patch']
Deployability,"ate_base&, long)'; /work1/celeritas/pcanal/geant-public/gcc12/install/opt/lib/libImt.so: undefined reference to `tbb::interface7::internal::task_arena_base::internal_max_concurrency(tbb::interface7::task_arena const*)'; /work1/celeritas/pcanal/geant-public/gcc12/install/opt/lib/libImt.so: undefined reference to `tbb::interface9::global_control::active_value(int)'; /work1/celeritas/pcanal/geant-public/gcc12/install/opt/lib/libImt.so: undefined reference to `tbb::interface7::internal::task_arena_base::internal_terminate()'; /work1/celeritas/pcanal/geant-public/gcc12/install/opt/lib/libImt.so: undefined reference to `tbb::interface7::internal::task_arena_base::internal_initialize()'; /work1/celeritas/pcanal/geant-public/gcc12/install/opt/lib/libImt.so: undefined reference to `tbb::interface7::internal::task_arena_base::internal_execute(tbb::interface7::internal::delegate_base&) const; ```. Notes. * Adding the `libtbb` installed by ROOT explicitly solves the problem.; * doing `ldd` on `libImt` prints the expected path for `libtbb`; * re-doing the failing link with `LD_LIBRARY_PATH` containing the directory where the builtin `libtbb` is solved the problem; * redoing the failing link adding to `-Wl,-rpath-link,` the directory where the builtin `libtbb` is solved the problem ; * The main difference is that when linking `libImt` with builtin the link line uses `-ltbb` while when linking against an external `tbb` it list the full pathname of the library (while the ROOT library use a relative path). So the problem is might be either that; * we use `-ltbb` for the buitin; * the CMake fragment used by the dependent product does not add the ROOT library path to `rpath` (in contrast both Geant4 and VecGeom add their path to rpath or so it seems. ### Reproducer. build ROOT with buitin tbb; build Celeritas against that ROOT install. ### ROOT version. at least v6.28/04 and master. ### Installation method. hand build. ### Operating system. linux. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13079:2247,install,install,2247,https://root.cern,https://github.com/root-project/root/issues/13079,2,"['Install', 'install']","['Installation', 'install']"
Deployability,"ates as private attributes;. 2. The users find that they most often use radius and azimuth, hence decide to store spherical coordinates instead of (x,y,z);. 3. Actually, colliders use eta more often than theta, so that the internal state is now given by (r, phi, eta). * In parallel and independently, Hit also evolves:. a. Simplest implementation is to have only the energy as private member;. b. Because the number of requests for the transverse energy is very high, the users want to optimize the speed by keeping Et as private member;. c. Well, it happens that disk space is short and e() is rarely called, so that it makes sense to reduce the size of the Hit class by dropping the energy member and computing the energy just when calling the method e(). They also found that the detector parameters used to store data in version b are wrong, so that one needs to scale the energy by 1.3 only for version b (a and c are correct). Could you please provide a working example in which data are saved and fetched with different combinations of (1, 2, 3)x(a, b, c) (at least with 1a, 2b, 3c)?. * The next step is to consider collections of objects:. i) define. ```cpp; class Track { /* particle trajectory */. private:; std::vector< Hit > m_hits;. };; ```. ii) Because the crazy developers of Hit decided to make such class variable size, one needs to store a vector of pointers instead of objects:. ```cpp; class Track { /* particle trajectory */. private:; std::vector< Hit* > m_hits;. };; ```. iii) Disk space is very short! We cannot waste the single 32-bits word used by the STL vector... ```cpp; class Track { /* particle trajectory */. private:; unsigned int m_Nhits;; Hit* m_hits; //[m_Nhits]. };; ```. Please, provide some working example that shows how to write and read all these 3 evolutions of Track (you may use whatever version of Hits). . [Courtesy of Diego Casadei]. ### ROOT version. Any. ### Installation method. Any. ### Operating system. Any. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14540:2701,Install,Installation,2701,https://root.cern,https://github.com/root-project/root/issues/14540,1,['Install'],['Installation']
Deployability,"atest version of Xcode. While trying to load the dictionary of a class whose header includes `<boost/shared_ptr.hpp>`, my test application dies. To simplify things a bit, I put a simple reproducer under: https://github.com/krasznaa/root-boost-dictionary-error With which I see the following:. ```; [bash][eowyn-1]:root-boost-dictionary-error > root; ------------------------------------------------------------------; | Welcome to ROOT 6.22/02 https://root.cern |; | (c) 1995-2020, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built for macosx64 on Aug 17 2020, 12:46:52 |; | From tags/v6-22-02@v6-22-02 |; | Try '.help', '.demo', '.license', '.credits', '.quit'/'.q' |; ------------------------------------------------------------------. root [0] MyClass c;; In file included from libMyLibrary dictionary payload:5:; In file included from ./MyClass.h:6:; In file included from /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_ptr.hpp:17:; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1072:31: error: expected expression; template<class T> inline bool atomic_is_lock_free( shared_ptr<T> const * /*p*/ ) BOOST_SP_NOEXCEPT; ^; /Users/krasznaa/ATLAS/sw/projects/externals/build/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:83:73: note: expanded from macro 'atomic_is_lock_free'; #define atomic_is_lock_free(obj) __c11_atomic_is_lock_free(sizeof(*(obj))); ^; In file included from libMyLibrary dictionary payload:5:; In file included from ./MyClass.h:6:; In file included from /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_ptr.hpp:17:; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_p",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6454:1105,Install,InstallArea,1105,https://root.cern,https://github.com/root-project/root/issues/6454,1,['Install'],['InstallArea']
Deployability,"ath-exampleFunction-py (Failed); Errors while running CTest; ```; With the proposed change in #10303 to not fail on the warning about RooNaNPacker not being implemented for big endian, the list of failures is shorter:; ```; 99% tests passed, 17 tests failed out of 1232; Label Time Summary:; longtest = 540.69 sec*proc (27 tests); multithreaded = 678.83 sec*proc (2 tests); python_runtime_deps = 60.39 sec*proc (11 tests); tutorial = 3802.05 sec*proc (786 tests); Total Test time (real) = 2732.59 sec; The following tests FAILED:; 	 16 - pyunittests-pyroot-pyz-stl-vector (Failed); 	 57 - pyunittests-pyroot-pyz-rtensor (Failed); 	237 - gtest-roofit-roofitcore-test-testRooProdPdf (Failed); 	243 - gtest-roofit-roofitcore-test-testNaNPacker (Failed); 	274 - test-stresshistogram (Failed); 	275 - test-stresshistogram-interpreted (Failed); 	296 - test-stresshistofit (Failed); 	297 - test-stresshistofit-interpreted (Failed); 	396 - gtest-tree-dataframe-test-datasource-ntuple (Failed); 	402 - gtest-tree-ntuple-v7-test-ntuple-basics (Failed); 	406 - gtest-tree-ntuple-v7-test-ntuple-merger (Failed); 	412 - gtest-tree-ntuple-v7-test-ntuple-serialize (Failed); 	420 - gtest-tree-ntuple-v7-test-ntuple-minifile (Failed); 	423 - gtest-tree-ntuple-v7-test-ntuple-extended (Failed); 	870 - tutorial-roofit-rf612_recoverFromInvalidParameters (Failed); 	1077 - tutorial-dataframe-df006_ranges-py (Failed); 	1106 - tutorial-math-exampleFunction-py (Failed); Errors while running CTest; ```; For both lists the proposed change in #10308 was applied. ### Expected behavior. Ideally there should be no test failures. ### To Reproduce. Steps to reproduce the behaviour:; 1. build root for s390x.; 2. run the unit tests. ### Setup; 1. ROOT version 6.26.02.; 2. Fedora rawhide for s390x. The list of failures is similar for other Fedora and EPEL releases. ; 3. Build from source (during package build for Fedora/EPEL). ### Additional context. [The log](https://github.com/root-project/root/files/8501663/s390x.txt)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10409:4221,release,releases,4221,https://root.cern,https://github.com/root-project/root/issues/10409,1,['release'],['releases']
Deployability,"atic declaration; __DEVICE__ float __exp10f(float __a) { return __nv_fast_exp10f(__a); }; ^; cling: /usr/include/x86_64-linux-gnu/bits/mathcalls.h:114:1: note: previous declaration is here; __MATHCALL (exp10,, (_Mdouble_ __x));; ^; /usr/include/math.h:273:3: note: expanded from macro '__MATHCALL'; __MATHDECL (_Mdouble_,function,suffix, args); ^; /usr/include/math.h:276:3: note: expanded from macro '__MATHDECL'; __MATHDECL_1(type, __CONCAT(__,function),suffix, args); ^; /usr/include/math.h:283:15: note: expanded from macro '__MATHDECL_1'; extern type __MATH_PRECNAME(function,suffix) args __THROW; ^; /usr/include/math.h:303:34: note: expanded from macro '__MATH_PRECNAME'; # define __MATH_PRECNAME(name,r) name##f##r; ^; <scratch space>:237:1: note: expanded from here; __exp10f; ^; cling: In file included from <built-in>:1:; In file included from /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_runtime_wrapper.h:148:; /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:193:18: error: static declaration of '__expf' follows non-static declaration; __DEVICE__ float __expf(float __a) { return __nv_fast_expf(__a); }; ^; cling: /usr/include/x86_64-linux-gnu/bits/mathcalls.h:95:1: note: previous declaration is here; __MATHCALL_VEC (exp,, (_Mdouble_ __x));; ^; /usr/include/math.h:266:3: note: expanded from macro '__MATHCALL_VEC'; __MATHCALL (function, suffix, args); ^; /usr/include/math.h:273:3: note: expanded from macro '__MATHCALL'; __MATHDECL (_Mdouble_,function,suffix, args); ^; /usr/include/math.h:276:3: note: expanded from macro '__MATHDECL'; __MATHDECL_1(type, __CONCAT(__,function),suffix, args); ^; /usr/include/math.h:283:15: note: expanded from macro '__MATHDECL_1'; extern type __MATH_PRECNAME(function,suffix) args __THROW; ^; /usr/include/math.h:303:34: note: expanded from macro '__MATH_PRECNAME'; # define __MATH_PRECNAME(name,r) name##f##r; ^; <scratch space>:216:1: n",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7518:5885,install,install,5885,https://root.cern,https://github.com/root-project/root/issues/7518,1,['install'],['install']
Deployability,"atic schema evolution accounts for differences. The problem appears when two initial files contain objects of the same class (MyClass in the example below) of version A while the Consumer uses higher class version B because:. the 1st updated file happens to have StreamerInfo of its original object together with the StreamerInfo of the added metadata (as shown by gFile->GetStreamerInfoList()->Print() ); the 2nd updated file has StreamerInfo only for added metadata class, reading the object from these files leads to an error.; I am wondering if there is a way to enforce the presence of the original StreamerInfo in the updated file. The reproducer is attached:. tar xvzf tst.tar.gz ; cd tst; chmod +x runTest.sh;; ./runTest.sh; It produces (suppressing ACLIC output):. Creating library for MyClass version 1; Storing object of class version 1 in two identical files; Creating library for MyClass version 2; Updating files containing object of old class version 1 (by writing metadata object of unrelated class OtherClass). Reading 1st (updated) file; Processing testFile.C(""outv1.root"")...; printing GetStreamerInfoList()->Print() for outv1.root; Collection name='TList', class='TList', size=2; OBJ: TStreamerInfo	MyClass	; OBJ: TStreamerInfo	OtherClass	. Reading 2nd (updated) file; Processing testFile.C(""outv2.root"")...; Error in <TBufferFile::CheckByteCount>: object of class MyClass read too many bytes: 12 instead of 6; Warning in <TBufferFile::CheckByteCount>: MyClass::Streamer() not in sync with data on file outv2.root, fix Streamer(); printing GetStreamerInfoList()->Print() for outv2.root; Collection name='TList', class='TList', size=1; OBJ: TStreamerInfo	OtherClass	; ```. ### Reproducer. Unzip attached file [bug.zip](https://github.com/root-project/root/files/13544360/bug.zip); and run the shell script`runTest.sh`. ### ROOT version. 6.28/04; gcc (GCC) 12.2.0. ### Installation method. build from source. ### Operating system. MacOS, Linux. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14171:1869,update,updated,1869,https://root.cern,https://github.com/root-project/root/issues/14171,3,"['Install', 'update']","['Installation', 'updated']"
Deployability,"ation based on `RooFit::MultiProcess`. Other possible implementations could use the GPU or external tools like TensorFlow. The coupling of all these classes to `RooMinimizer` is made via the `MinuitFcnGrad` class, which owns the `...Wrappers` that calculate the likelihood components. ## Todo:. There are still a couple of things that require attention, which I hope the reviewers can help me with:. 1. I have a Kahan summation helper class. This should probably be replaced with the new Kahan summation class in ROOT itself, but I didn't get to this yet. Maybe it is not urgent to do now, up for discussion.; 2. `likelihood_builders.cxx` is still missing the top level entry point function. This should be quite a simple function: it should just check whether the pdf is binned, unbinned or sum and has subsidiary terms. All the building blocks are already present, so it is just a matter of building it, but didn't get to it yet.; 3. `optional_parameter_types.h`: maybe we could replace this with @guitargeek's new configuration structs.; 4. `testRooRealL.getValRooAddition` fails because it doesn't know `RooFormulaVar`... I'm not sure what this means, but I vaguely remember that (I think) @hageboeck and @cburgard were talking about this, so I was hoping you may be able to help me out with fixing that test. Finally, one thing that in an ideal world I would have liked to do is add a serial implementation of the `LikelihoodGradientWrapper` class. Probably, we can reuse a lot of `RooGradMinimizerFcn` for this and it should be rather straightforward. However, I'm rather short on time right now, and these things almost always tend to take longer than one expects, so I'm hesitant to build it now. The **advantage** would be that we could add a test to this PR that covers all that is added, basically by just running a minimization. Note that I do have such a full-coverage test, but only for the `MultiProcess` minimization, where I implemented `LikelihoodGradientWrapper` in the parallel `Li",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/8700:2058,configurat,configuration,2058,https://root.cern,https://github.com/root-project/root/pull/8700,1,['configurat'],['configuration']
Deployability,"ation flag). ### Reproducer. ```; gEnv->GetValue(""TFile.v630forwardCompatibility"", 0). TFile file1 = TFile(""file1.root"",""CREATE""); file1.TestBit(TFile::k630forwardCompatibility); file1.Close(). TFile file2 = TFile(""file1.root"",""READ""); file2.TestBit(TFile::k630forwardCompatibility); file2.Close(). TFile* file3 = TFile::Open(""file3.root"",""CREATE""); file3->TestBit(TFile::k630forwardCompatibility); file3->Close(). TFile* file4 = TFile::Open(""file3.root"",""READ""); file4->TestBit(TFile::k630forwardCompatibility); file4->Close(); ```; produces; ```; $ root -l ; root [0] gEnv->GetValue(""TFile.v630forwardCompatibility"", 0); (int) 1; root [1] ; root [1] TFile file1 = TFile(""file1.root"",""CREATE""); (TFile &) Name: file1.root Title: ; root [2] file1.TestBit(TFile::k630forwardCompatibility); (bool) false; root [3] file1.Close(); root [4] ; root [4] TFile file2 = TFile(""file1.root"",""READ""); (TFile &) Name: file1.root Title: ; root [5] file2.TestBit(TFile::k630forwardCompatibility); (bool) true; root [6] file2.Close(); root [7] ; root [7] TFile* file3 = TFile::Open(""file3.root"",""CREATE""); (TFile *) 0x5650bd7edba0; root [8] file3->TestBit(TFile::k630forwardCompatibility); (bool) false; root [9] file3->Close(); root [10] ; root [10] TFile* file4 = TFile::Open(""file3.root"",""READ""); (TFile *) 0x5650bd584570; root [11] file4->TestBit(TFile::k630forwardCompatibility); (bool) true; root [12] file4->Close(); ```. ### ROOT version. ```; ------------------------------------------------------------------; | Welcome to ROOT 6.30/02 https://root.cern |; | (c) 1995-2023, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built for linuxx8664gcc on Aug 02 2024, 15:34:40 |; | From heads/master@tags/v6-30-02 |; | With g++ (Debian 12.2.0-14) 12.2.0 |; | Try '.help'/'.?', '.demo', '.license', '.credits', '.quit'/'.q' |; ------------------------------------------------------------------; ```. ### Installation method. Spack. ### Operating system. Linux, debian. ### Additional context. Ref. #15006 .",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/16189:2253,Install,Installation,2253,https://root.cern,https://github.com/root-project/root/issues/16189,1,['Install'],['Installation']
Deployability,atomic.h:83:73: note: expanded from macro 'atomic_is_lock_free'; #define atomic_is_lock_free(obj) __c11_atomic_is_lock_free(sizeof(*(obj))); ^; In file included from libMyLibrary dictionary payload:5:; In file included from ./MyClass.h:6:; In file included from /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_ptr.hpp:17:; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1072:81: error: expected ';' at end of declaration; template<class T> inline bool atomic_is_lock_free( shared_ptr<T> const * /*p*/ ) BOOST_SP_NOEXCEPT; ^; ;; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1072:82: error: expected unqualified-id; template<class T> inline bool atomic_is_lock_free( shared_ptr<T> const * /*p*/ ) BOOST_SP_NOEXCEPT; ^; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/detail/sp_noexcept.hpp:28:29: note: expanded from macro 'BOOST_SP_NOEXCEPT'; # define BOOST_SP_NOEXCEPT BOOST_NOEXCEPT; ^; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/config/detail/suffix.hpp:965:26: note: expanded from macro 'BOOST_NOEXCEPT'; # define BOOST_NOEXCEPT noexcept; ^; In file included from libMyLibrary dictionary payload:5:; In file included from ./MyClass.h:6:; In file included from /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_ptr.hpp:17:; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1077:33: error: exp,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6454:2659,install,install,2659,https://root.cern,https://github.com/root-project/root/issues/6454,1,['install'],['install']
Deployability,"ator type should throw; [ FAILED ] RNTuple.SerializeLocator (0 ms); [ RUN ] RNTuple.SerializeEnvelopeLink; [ OK ] RNTuple.SerializeEnvelopeLink (0 ms); [ RUN ] RNTuple.SerializeClusterSummary; [ OK ] RNTuple.SerializeClusterSummary (0 ms); [ RUN ] RNTuple.SerializeClusterGroup; [ OK ] RNTuple.SerializeClusterGroup (0 ms); [ RUN ] RNTuple.SerializeEmptyHeader; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experimental::Internal::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNTupleDescriptorBuilder&)>: Pre-release format version: RC 1; [ OK ] RNTuple.SerializeEmptyHeader (190 ms); [ RUN ] RNTuple.SerializeHeader; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experimental::Internal::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNTupleDescriptorBuilder&)>: Pre-release format version: RC 1; [ OK ] RNTuple.SerializeHeader (0 ms); [ RUN ] RNTuple.SerializeFooter; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experimental::Internal::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNTupleDescriptorBuilder&)>: Pre-release format version: RC 1; [ OK ] RNTuple.SerializeFooter (0 ms); [----------] 14 tests from RNTuple (190 ms total); [----------] Global test environment tear-down; [==========] 14 tests from 1 test suite ran. (190 ms total); [ PASSED ] 12 tests.; [ FAILED ] 2 tests, listed below:; [ FAILED ] RNTuple.SerializeEnvelope; [ FAILED ] RNTuple.SerializeLocator; 2 FAILED TESTS; CMake Error at /builddir/build/BUILD/root-6.28.00/cmake/modules/RootTestDriver.cmake:232 (message):; error code: 1; ~~~. #### gtest-tree-ntupl",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12426:14264,release,release,14264,https://root.cern,https://github.com/root-project/root/issues/12426,1,['release'],['release']
Deployability,"aviour is triggered, the output file of the merger (`fOutputFile`) will be deleted, thus triggering a fatal error in `TFileMerger::RecursiveRemove`. This error came out after the patch provided by #6570 and shows that the behaviour of changing files is also faulty with TFileMerger that doesn't use `TMemFile` for its output. ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->; The output file of TFileMerger is never deleted, thus all the merging can happen correctly.; ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->; See the following reproducer https://gist.github.com/vepadulano/cf52f6326ae2058c36a35d08dee3a258. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->; ROOT master; Fedora 32; `cmake -GNinja -Ddev=ON -DCMAKE_BUILD_TYPE=Debug -Dtesting=ON -Droottest=ON -DCMAKE_INSTALL_PREFIX=$ROOT_INSTALL $ROOT_HOME`; ### Additional context; <!--; Add any other context about the problem here.; -->; Stack trace of the reproducer; ```; Fill: Switching to new file: filemergerinput_1.root; Fill: Switching to new file: filemergerinput_2.root; Fill: Switching to new file: filemergeroutput_1.root; Fatal in <TFileMerger::RecursiveRemove>: Output file of the TFile Merger (targeting filemergeroutput.root) has been deleted (likely due to a TTree larger than 100Gb); aborting; #0 0x00007fb64aa08eca in __GI___wait4 (pid=307930, stat_loc=stat_loc; entry=0x7ffcc038dd08, options=options; entry=0, usage=usage; entry=0x0) at ../sysdeps/unix/sysv/linux/wait4.c:27; #1 0x00007fb64aa08e8b in __GI___waitpid (pid=<optimized out>, stat_loc=stat_loc; entry=0x7ffcc038dd08, options=options; entry=0) at waitpid.c:38; #2 0x00007fb64",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6640:1579,install,install,1579,https://root.cern,https://github.com/root-project/root/issues/6640,1,['install'],['install']
Deployability,"ay's master"".; -->. ### Describe the bug. This issue report follows my post in the ROOT forums https://root-forum.cern.ch/t/gdml-multiple-files-error-with-define/48581. Please refer to the forum post for additional details. In summary, when using the GDML modules feature as described on the manual (or so I think), the `<define/>` section of the child file is not being accessed correctly when the volume is a tessellated solid. This does not happen with a simple volume such as a box. On top of that I have managed to load the problematic GDML into Geant4 without problems, so that lead me to believe it is a ROOT bug. ### Expected behavior. Geometry should load without throwing an exception. ### To Reproduce. I load the GDML the following way:. ```; TGeoManager::Import(""mother.gdml"");; ```. `mother.gdml`:; ```; <?xml version=""1.0"" encoding=""UTF-8""?>; <gdml xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance"" xsi:noNamespaceSchemaLocation=""https://service-spi.web.cern.ch/service-spi/app/releases/GDML/schema/gdml.xsd"">; <define />; <solids>; <box name=""world_solid"" x=""100"" y=""100"" z=""100"" />; </solids>; <structure>; <volume name=""world"">; <physvol>; <file name=""child.gdml"" />; </physvol>; <materialref ref=""world_material"" />; <solidref ref=""world_solid"" />; </volume>; </structure>; <setup name=""Default"" version=""1.0"">; <world ref=""world"" />; </setup>; </gdml>; ```. `child.gdml`:; ```; <?xml version=""1.0"" encoding=""UTF-8""?>; <gdml xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance""; xsi:noNamespaceSchemaLocation=""https://service-spi.web.cern.ch/service-spi/app/releases/GDML/schema/gdml.xsd"">; <define>; <position name=""cube_v0"" unit=""mm"" x=""10.0"" y=""-10.0"" z=""10.0""/>; <position name=""cube_v1"" unit=""mm"" x=""10.0"" y=""0.0"" z=""10.0""/>; <position name=""cube_v2"" unit=""mm"" x=""0.0"" y=""-10.0"" z=""10.0""/>; <position name=""cube_v3"" unit=""mm"" x=""0.0"" y=""0.0"" z=""10.0""/>; <position name=""cube_v4"" unit=""mm"" x=""0.0"" y=""-10.0"" z=""0.0""/>; <position name=""cube_v5"" unit=""mm"" x=""0.0"" y=""0.0"" z=""",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/9744:1338,release,releases,1338,https://root.cern,https://github.com/root-project/root/issues/9744,1,['release'],['releases']
Deployability,"ay's master"".; -->. ### Describe the bug; <!--; A clear and concise description of what the wrong behavior is.; -->. The provided reproducer's ""bad"" test fails when the reproducer is built against a ROOT with `runtime_cxxmodules=ON` but passes when `runtime_cxxmodules=OFF`. Verified with 6.24/06 and 6.25/02. ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->. Tests ""good,"" and ""bad"" should both pass. ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->. 1. Ensure you are using ROOT >= 6.24/00; 1. Ensure you are using CMake >= 3.22.0; 1. Execute the provided `runit` script to configure, build, and execute the tests. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->. 1. Problem verified on 6.24/06 and 6.25/02.; 2. SLF7.; 3. ROOT was compiled for UPS, configured using FNAL/art standard options. See attached ROOT build logs for details. ### Additional context; <!--; Add any other context about the problem here.; -->. The showstopper issue appears to be that when looking for information about `gallery::Event` (defined in an ""old-style"" dictionary rather than a C++ module), it mistakenly identifies the TMVA module as providing `Event` and never loads the dictionary containing the definition for `gallery::Event`. This issue does not occur if we look for the aliased `gallery::GalleryEvent` instead, nor if `runtime_cxxmodules=OFF`. In addition, when `runtime_cxxmodules=ON`—even for the ""good"" case—I get many messages of the form:; ```Console; Error in <TCling::RegisterRdictForLoadPCM>: Rdict '/scratch/greenc/products/root/v6_25_02/Linux64bit+3.10-2.17-e20-p399-debug/lib/libNet_rdict.pcm' is both in Module",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/9583:1334,install,install,1334,https://root.cern,https://github.com/root-project/root/issues/9583,1,['install'],['install']
Deployability,ayload:5:; In file included from ./MyClass.h:6:; In file included from /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_ptr.hpp:17:; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1072:31: error: expected expression; template<class T> inline bool atomic_is_lock_free( shared_ptr<T> const * /*p*/ ) BOOST_SP_NOEXCEPT; ^; /Users/krasznaa/ATLAS/sw/projects/externals/build/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:83:73: note: expanded from macro 'atomic_is_lock_free'; #define atomic_is_lock_free(obj) __c11_atomic_is_lock_free(sizeof(*(obj))); ^; In file included from libMyLibrary dictionary payload:5:; In file included from ./MyClass.h:6:; In file included from /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_ptr.hpp:17:; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1072:81: error: expected ';' at end of declaration; template<class T> inline bool atomic_is_lock_free( shared_ptr<T> const * /*p*/ ) BOOST_SP_NOEXCEPT; ^; ;; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1072:82: error: expected unqualified-id; template<class T> inline bool atomic_is_lock_free( shared_ptr<T> const * /*p*/ ) BOOST_SP_NOEXCEPT; ^; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/detail/sp_noexcept.hpp:28:29: note: expanded from macro 'BOOST_SP_NOEXCEPT'; # define BOOST_SP_NOEXCEPT BOOST_NOEXCEPT; ^; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExterna,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6454:1922,Install,InstallArea,1922,https://root.cern,https://github.com/root-project/root/issues/6454,1,['Install'],['InstallArea']
Deployability,"b.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #24 0x00002b8fcef7dfed in cling::IncrementalParser::Compile(llvm::StringRef, cling::CompilationOptions const&) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #25 0x00002b8fceee6852 in cling::Interpreter::DeclareInternal(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, cling::CompilationOptions const&, cling::Transaction**) const () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #26 0x00002b8fceee69fa in cling::Interpreter::declare(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, cling::Transaction**) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #27 0x00002b8fceee79e1 in cling::Interpreter::DeclareCFunction(llvm::StringRef, llvm::StringRef, bool, cling::Transaction*&) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #28 0x00002b8fceeeaa2d in cling::Interpreter::compileFunction(llvm::StringRef, llvm::StringRef, bool, bool) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #29 0x00002b8fcee7556b in TClingCallFunc::compile_wrapper (this=0x2b913aff4c00, wrapper_name=..., wrapper=..., withAccessControl=true) at /data/cmsbld/jenkins/workspace/build-any-ib/w/BUILD/slc7_amd64_gcc900/lcg/root/6.23.01-8e7a9c4406e195d049d6d9526c8e2ae6/root-6.23.01/core/metacling/src/TClingCallFunc.cxx:267; #30 0x00002b8fcee78390 in TClingCallFunc::make_wrapper (this=0x2b913aff4c00) at /data/cmsbld",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7093:10182,patch,patch,10182,https://root.cern,https://github.com/root-project/root/issues/7093,1,['patch'],['patch']
Deployability,"b.com/root-project/root/issues/11411; * https://github.com/root-project/root/issues/11596. ## Upstream contributions to cppyy in the context of this synchronization. - https://github.com/wlav/CPyCppyy/pull/11; - https://github.com/wlav/CPyCppyy/pull/12; - https://github.com/wlav/CPyCppyy/pull/14; - https://github.com/wlav/CPyCppyy/pull/16 *(was in PyROOT before)*; - https://github.com/wlav/CPyCppyy/pull/17 *(was in PyROOT before)*; - https://github.com/wlav/cppyy-backend/pull/20 *(was in PyROOT before)*; - https://github.com/wlav/CPyCppyy/pull/18; - https://github.com/wlav/CPyCppyy/pull/19; - https://github.com/wlav/CPyCppyy/pull/21; - https://github.com/wlav/CPyCppyy/pull/22; - https://github.com/wlav/CPyCppyy/pull/23. ## Performance validation. To validate the performance, I ran the [Python tests in roottest](https://github.com/root-project/roottest/tree/master/python) and the [PyROOT pythonization tests](https://github.com/root-project/root/tree/master/bindings/pyroot/pythonizations/test) and compared runtimes with and without the cppyy upgrade. The total runtime of these tests reduced by about 4 % from 208 s to 287 s, so the performance impact of this PR is marginal. The runtime comparison for each test can be found in [cppyy_upgrade_test_runtimes.txt](https://github.com/root-project/root/files/14623432/cppyy_upgrade_test_runtimes.txt).; The worst observed performance penalty is 24 %. However, significant speedups are observed in some of the longer tests. For convenience, the 20 tests with the longest runtime are listed here:; ```; title no_cppyy_upgrade cppyy_upgrade ratio; python-regression-regression 32.61 34.30 1.051825; pyroot-pyz-rdataframe-asnumpy 14.30 14.61 1.021678; pyroot-pyz-rdataframe-makenumpy 13.66 9.65 0.706442; python-function-function 12.27 11.08 0.903015; python-cpp-cpp 12.03 11.26 0.935993; python-cpp-advanced 11.55 10.83 0.937662; pyroot-pyz-rdataframe-histo-profile 11.24 7.37 0.655694; python-basic-basic 10.11 9.95 0.984174; python-stl-stl ",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14507:3035,upgrade,upgrade,3035,https://root.cern,https://github.com/root-project/root/pull/14507,1,['upgrade'],['upgrade']
Deployability,"b3d18/x86_64-el9/include/c++/13.1.0/bits/alloc_traits.h:539; #2 std::vector<CPyCppyy::PyCallable*, std::allocator<CPyCppyy::PyCallable*> >::push_back (this=0x7ffff75ba167, __x=@0x7fffffff7c40: 0x73abec0); at /cvmfs/sft.cern.ch/lcg/releases/gcc/13.1.0-b3d18/x86_64-el9/include/c++/13.1.0/bits/stl_vector.h:1281; #3 0x00007ffff75624a9 in CPyCppyy::CPPOverload::AdoptMethod (; this=0x7ffff75fe9a0 <CPyCppyy::TemplateProxy_Type>, pc=0x73abec0); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-28-00-patches/src/ROOT/v6-28-00-patches/bindings/pyroot/cppyy/CPyCppyy/src/CPPOverload.cxx:946; #4 0x00007ffff759fb6a in CPyCppyy::TemplateProxy::AdoptMethod (; this=0x7fffd65c01f0, pc=0x73abec0); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-28-00-patches/src/ROOT/v6-28-00-patches/bindings/pyroot/cppyy/CPyCppyy/src/TemplateProxy.cxx:111; #5 0x00007ffff758ffea in CPyCppyy::BuildScopeProxyDict (scope=18, ; pyclass=0x1335040); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-28-00-patches/src/ROOT/v6-28-00-patches/bindings/pyroot/cppyy/CPyCppyy/src/ProxyWrappers.cxx:254; #6 0x00007ffff7591ed3 in CPyCppyy::CreateScopeProxy (name=..., ; parent=0x2f57300); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-28-00-patches/src/ROOT/v6-28-00-patches/bindings/pyroot/cppyy/CPyCppyy/src/ProxyWrappers.cxx:681; #7 0x00007ffff756a4ca in CPyCppyy::meta_getattro (pyclass=0x2f57300, ; pyname=0x7ffff770f9f0); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-28-00-patches/src/ROOT/v6-28-00-patches/bindings/pyroot/cppyy/CPyCppyy/src/CPPScope.cxx:324; #8 0x00007ffff7d01ef7 in _PyObject_LookupAttr (v=0x2f57300, ; name=<optimized out>, result=result@entry=0x7fffffff87b8); at /build/jenkins/workspace/lcg_release_pipeline/build/externals/Python-3.9.12/src/Python/3.9.12/Objects/object.c:927; ```. I think things are going wrong in CPyCppyy::BuildScopeProxyDict, where we have; around line 247:. ```; ",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13410:2157,patch,patches,2157,https://root.cern,https://github.com/root-project/root/issues/13410,2,['patch'],['patches']
Deployability,"b64/root/libGraf.so.6.22; #9 0x0000000000400d05 in main (argc=1, argv=0x7fff9bced0c8) at pavelabel.cxx:13; ===========================================================. The lines below might hint at the cause of the crash.; You may get help by asking at the ROOT forum http://root.cern.ch/forum; Only if you are really convinced it is a bug in ROOT then please submit a; report at http://root.cern.ch/bugs Please post the ENTIRE stack trace; from above as an attachment in addition to anything else; that might help us fixing this issue.; ===========================================================; #5 0x00007f4b22407674 in TPad::PaintBox(double, double, double, double, char const*) () from /usr/lib64/root/libGpad.so.6.22; #6 0x00007f4b229661a3 in TBox::PaintBox(double, double, double, double, char const*) () from /usr/lib64/root/libGraf.so.6.22; #7 0x00007f4b229a7570 in TPave::PaintPave(double, double, double, double, int, char const*) () from /usr/lib64/root/libGraf.so.6.22; #8 0x00007f4b229aa009 in TPaveLabel::PaintPaveLabel(double, double, double, double, char const*, char const*) () from /usr/lib64/root/libGraf.so.6.22; #9 0x0000000000400d05 in main (argc=1, argv=0x7fff9bced0c8) at pavelabel.cxx:13; ===========================================================. [user@lxplus733 ~]$ ; ```. ## Expected behavior; No segmentation violation. ## To Reproduce; Code:; ```; #include <TCanvas.h>; #include <TPaveLabel.h>; #include <TPad.h>; #include <fenv.h>. int main(int argc, char **argv) {; feenableexcept(FE_DIVBYZERO | FE_INVALID | FE_OVERFLOW);; TCanvas* C= new TCanvas(""canvas"",""canvas"",2000,10);; C->cd();; TPad* p= new TPad();; p->cd();; TPaveLabel* l= new TPaveLabel(0,1,0,1,""I hope not crash"");; l->Paint();//Crash here; return 0;; }; ```; Compile. ```; g++ pavelabel.cxx $(root-config --glibs --cflags --libs) -o pavelabel -g; ```; Run ; ```; ./pavelabel; ```. ## Setup; ROOT 6.22.02 as installed on lxplus. ## Additional context; This is a piece of #6344 (hopefully the last one)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6375:3358,install,installed,3358,https://root.cern,https://github.com/root-project/root/issues/6375,1,['install'],['installed']
Deployability,"bMyLibrary dictionary payload:5:; In file included from ./MyClass.h:6:; In file included from /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_ptr.hpp:17:; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1077:33: error: expected parameter declarator; template<class T> shared_ptr<T> atomic_load( shared_ptr<T> const * p ) BOOST_SP_NOEXCEPT; ^; /Users/krasznaa/ATLAS/sw/projects/externals/build/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:134:55: note: expanded from macro 'atomic_load'; #define atomic_load(object) __c11_atomic_load(object, __ATOMIC_SEQ_CST); ^; <built-in>:16:26: note: expanded from here; #define __ATOMIC_SEQ_CST 5; ^; In file included from libMyLibrary dictionary payload:5:; In file included from ./MyClass.h:6:; In file included from /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_ptr.hpp:17:; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1077:33: error: expected ')'; /Users/krasznaa/ATLAS/sw/projects/externals/build/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:134:55: note: expanded from macro 'atomic_load'; #define atomic_load(object) __c11_atomic_load(object, __ATOMIC_SEQ_CST); ^; <built-in>:16:26: note: expanded from here; #define __ATOMIC_SEQ_CST 5; ^; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1077:33: note: to match this '('; /Users/krasznaa/ATLAS/sw/projects/externals/build/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:134:46: note: expanded from macro 'atomic_load'; #define atomic_loa",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6454:4174,install,install,4174,https://root.cern,https://github.com/root-project/root/issues/6454,1,['install'],['install']
Deployability,"b` subdirectory:. https://github.com/root-project/root/blob/0d47873e53e2cbf6980146fd2e657629890c15d6/config/thisroot.sh#L41. while the path that gets added is the `@libdir@` variable:. https://github.com/root-project/root/blob/0d47873e53e2cbf6980146fd2e657629890c15d6/config/thisroot.sh#L101. For my installation (which I think is pretty standard), `@libdir@` resolves to the `lib/root` subdirectory. So the path entries do not match and no entry was removed. This means that sourcing `thisroot.sh` multiple times causes the path variables to accumulate ROOT entries. ### Reproducer. I am using ROOT built from source like this:. ```; cmake3 /opt/src/root \; -DCMAKE_INSTALL_PREFIX=/opt/root \; -DPYTHON_EXECUTABLE=${python_executable} \; -DPYTHON_INCLUDE_DIR=${python_include_dir} \; -DPYTHON_LIBRARY=${python_include_dir} \; -Dpython3:BOOL=ON \; -Dsoversion:BOOL=ON \; -Dtmva:BOOL=OFF \; -Dgnuinstall:BOOL=ON \; -Wno-de; cmake3 --build . --clean-first --target install; ```. I think this is pretty standard and that I am not doing anything special to cause the build to use the `lib/root` subdirectory instead of the `lib` subdirectory. My memory from experimenting in the past is that the `root` subdirectory under `lib/` gets added when using `gnuinstall=OFF` (and if `gnuinstall=ON` then I don't think you usually need to run `thisroot.sh` since it is a system wide installation). ### ROOT version. ```; ------------------------------------------------------------------; | Welcome to ROOT 6.30/02 https://root.cern |; | (c) 1995-2023, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built for linuxx8664gcc on Jun 19 2024, 14:56:30 |; | From heads/master@tags/v6-30-02 |; | With c++ (GCC) 8.5.0 20210514 (Red Hat 8.5.0-22) |; | Try '.help'/'.?', '.demo', '.license', '.credits', '.quit'/'.q' |; ------------------------------------------------------------------; ```. ### Installation method. Build from source. ### Operating system. Linux (RHEL 8). ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/16024:1742,install,installation,1742,https://root.cern,https://github.com/root-project/root/issues/16024,2,"['Install', 'install']","['Installation', 'installation']"
Deployability,back port release notes fix,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7851:10,release,release,10,https://root.cern,https://github.com/root-project/root/pull/7851,1,['release'],['release']
Deployability,"bal const*)::instance>) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/meta/src/TGenericClassInfo.cxx:250; #10 0x00007ffff7b1a2d8 in TGlobal::Class () at /home/pcanal/root_builds/v6-14-00-patches/opt/core/base/G__Core.cxx:17156; #11 0x00007ffff7ac01de in TGlobal::IsA (this=0xee3bc0) at /home/pcanal/root_builds/v6-14-00-patches/opt/include/TGlobal.h:48; #12 TGlobal::CheckTObjectHashConsistency (this=0xee3bc0) at /home/pcanal/root_builds/v6-14-00-patches/opt/include/TGlobal.h:48; #13 0x00007ffff7be9dcd in TObject::CheckedHash (this=0xee3bc0) at /home/pcanal/root_builds/v6-14-00-patches/opt/include/TObject.h:314; #14 THashTable::GetCheckedHashValue (this=0xe65a20, obj=0xee3bc0) at /home/pcanal/root_builds/v6-14-00-patches/opt/include/THashTable.h:94; #15 THashTable::Add (this=0xe65a20, obj=0xee3bc0) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/cont/src/THashTable.cxx:96; #16 0x00007ffff7be6bf1 in THashList::AddLast (this=this@entry=0x5be690, obj=obj@entry=0xee3bc0) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/cont/src/THashList.cxx:100; #17 0x00007ffff7c4e0d1 in TListOfDataMembers::AddLast (this=0x5be690, obj=0xee3bc0) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/meta/src/TListOfDataMembers.cxx:103; #18 0x00007ffff7ab8785 in TList::Add (obj=0xee3bc0, this=0x5be690) at /home/pcanal/root_builds/v6-14-00-patches/opt/include/TList.h:87; #19 TROOT::GetListOfGlobals (this=0x7ffff7da7a60 <ROOT::Internal::GetROOT1()::alloc>, load=load@entry=false) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/base/src/TROOT.cxx:1767; #20 0x00007fffeeab1058 in TCling::HandleNewDecl (this=0x4a0550, DV=0xedf238, isDeserialized=isDeserialized@entry=true, modifiedTClasses=...) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/metacling/src/TCling.cxx:555; #21 0x00007fffeeabb785 in TCling::UpdateListsOnCommitted (this=0x4a0550, T=...) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/meta",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2776:5809,patch,patches,5809,https://root.cern,https://github.com/root-project/root/pull/2776,2,['patch'],['patches']
Deployability,because it's not supported since February 1st:; https://ubuntu.com/about/release-cycle,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14878:73,release,release-cycle,73,https://root.cern,https://github.com/root-project/root/pull/14878,1,['release'],['release-cycle']
Deployability,"bin/sh: line 30: -m: command not found; /bin/sh: line 30: -m: command not found; /bin/sh: line 30: -m: command not found; /bin/sh: line 30: -m: command not found; /bin/sh: line 30: -m: command not found; /bin/sh: line 30: -m: command not found; /bin/sh: line 30: -m: command not found; /bin/sh: line 30: -m: command not found; /bin/sh: line 30: -m: command not found; /bin/sh: line 30: -m: command not found; /bin/sh: line 30: -m: command not found; /bin/sh: line 30: -m: command not found; /bin/sh: line 30: -m: command not found; /bin/sh: line 30: -m: command not found; /bin/sh: line 30: -m: command not found; /bin/sh: line 30: -m: command not found; /bin/sh: line 30: -m: command not found; /bin/sh: line 30: -m: command not found; /bin/sh: line 30: -m: command not found; gmake[3]: m: Command not found; /bin/sh: line 2: -m: command not found; gmake[3]: *** [Makefile:145: install.static] Error 127; ```. The cause seems to be the `sed` substitutions at https://github.com/root-project/root/blob/aee48761f0c4a4d91d0a16c367ca3b66a597a484/graf2d/asimage/src/libAfterImage/configure#L2834 (thanks @chrisburr ). @dennisklein mentioned that in homebrew they work around the issue with [this patch](https://github.com/FairRootGroup/homebrew-fairsoft/blob/a0d012d9138c3673af171644340a58c7bd5cbc99/Formula/fairsoft%4020.11.rb#L105-L111). @amadio suggested we should ""use / as separator and escape the slashes that are part of the patterns themselves."". ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->. Build ROOT with built-in libafterimage in a directory with a path that contains a `@`. ### Additional context; <!--; Add any other context about the problem here.; -->. Further discussion available at https://mattermost.web.cern.ch/root/pl/zszko6zhwjnsprxjk54gu5ye6h",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7786:2361,patch,patch,2361,https://root.cern,https://github.com/root-project/root/issues/7786,1,['patch'],['patch']
Deployability,"bits/postypes.h:40:10: note: submodule of top-level module 'std' implicitly imported here; #include <cwchar> // For mbstate_t; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/postypes.h:68:15: error: expected '{'; namespace std _GLIBCXX_VISIBILITY(default); ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/postypes.h:68:15: error: C++ requires a type specifier for all declarations; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/postypes.h:68:35: error: expected expression; namespace std _GLIBCXX_VISIBILITY(default); ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/postypes.h:68:43: error: expected ';' after top level declarator; namespace std _GLIBCXX_VISIBILITY(default); ^; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/char_traits.h:41:10: note: submodule of top-level module 'std' implicitly imported here; #include <cwchar> // For WEOF, wmemmove, wmemset, etc.; ^; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/char_traits.h:699:10: note: submodule of top-level module 'std' implicitly imported here; #include <cstdint>; ^; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/bui",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10528:22783,Install,Installed,22783,https://root.cern,https://github.com/root-project/root/issues/10528,1,['Install'],['Installed']
Deployability,"bject of const-qualified type must be initialized; 1>(compiling source file 'RootGrapher.cpp'); 1> E:\dev\root_build\include\TVirtualTreePlayer.h(45,30):; 1> see declaration of 'TVirtualTreePlayer::kMaxEntries'; 1>E:\dev\root_build\include\TVirtualTreePlayer.h(45,75): error C2059: syntax error: ')'; 1>(compiling source file 'RootGrapher.cpp'); 1>E:\dev\root_build\include\TTree.h(229,64): error C2131: expression did not evaluate to a constant; 1>(compiling source file 'RootGrapher.cpp'); 1> E:\dev\root_build\include\TTree.h(229,64):; 1> failure was caused by a read of an uninitialized symbol; 1> E:\dev\root_build\include\TTree.h(229,64):; 1> see usage of 'kMaxEntries'. ### Reproducer. put this in a cpp file and compile it to see the error:. #include <iostream>; #include <gsl\gsl>; #include ""TF1.h""; #include ""TH1F.h""; #include ""TApplication.h""; #include <TAxis.h>; #include ""TCanvas.h""; #include ""TDatime.h""; #include ""TFrame.h""; #include ""TGraph.h""; #include ""TMultiGraph.h""; #include ""TRootCanvas.h"". #include ""TODBCServer.h""; // TMVA seems to compile only when before TODBCServer.h; #include ""TMVA/Factory.h"". ### ROOT version. ------------------------------------------------------------------; | Welcome to ROOT 6.32.06 https://root.cern |; | (c) 1995-2024, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built for win64 on Oct 07 2024, 17:23:18 |; | From tags/6-32-06@6-32-06 |; | With MSVC 19.41.34120.0 |; | Try '.help'/'.?', '.demo', '.license', '.credits', '.quit'/'.q' |; ------------------------------------------------------------------. Welcome to the ROOT tutorials. Type "".x demos.C"" to get a toolbar from which to execute the demos. Type "".x demoshelp.C"" to see the help window. ==> Many tutorials use the file hsimple.root produced by hsimple.C; ==> It is recommended to execute hsimple.C before any other script. Taking a break from ROOT? Hope to see you back!. ### Installation method. N/A. ### Operating system. Windows 11. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/16638:3049,Install,Installation,3049,https://root.cern,https://github.com/root-project/root/issues/16638,1,['Install'],['Installation']
Deployability,bject.h:245; 8: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 9: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Assuming 'norm' is not equal to 0 in /opt/root_src/hist/hist/src/TF3.cxx:715; 2: Taking false branch in /opt/root_src/hist/hist/src/TF3.cxx:715; 3: Calling constructor for 'TF3' in /opt/root_src/hist/hist/src/TF3.cxx:725; 4: Calling constructor for 'TF2' in /opt/root_src/hist/hist/inc/TF3.h:72; 5: Calling constructor for 'TF1' in /opt/root_src/hist/hist/inc/TF2.h:72; 6: Calling constructor for 'TF1' in /opt/root_src/hist/hist/inc/TF1.h:373; 7: Calling constructor for 'TNamed' in /opt/root_src/hist/hist/inc/TF1.h:274; 8: Calling default constructor for 'TObject' in /opt/root_src/core/base/inc/TNamed.h:37; 9: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 10: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 11: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Assuming 'norm' is not equal to 0 in /opt/root_src/hist/hist/src/TF2.cxx:1016; 2: Taking false branch in /opt/root_src/hist/hist/src/TF2.cxx:1016; 3: Calling constructor for 'TF2' in /opt/root_src/hist/hist/src/TF2.cxx:1026; 4: Calling constructor for 'TF1' in /opt/root_src/hist/hist/inc/TF2.h:72; 5: Calling constructor for 'TF1' in /opt/root_src/hist/hist/inc/TF1.h:373; 6: Calling constructor for 'TNamed' in /opt/root_src/hist/hist/inc/TF1.h:274; 7: Calling default constructor for 'TObject' in /opt/root_src/core/base/inc/TNamed.h:37; 8: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:21086,Update,UpdateIsOnHeap,21086,https://root.cern,https://github.com/root-project/root/issues/7412,1,['Update'],['UpdateIsOnHeap']
Deployability,"bleGen\GlobalISel\GIMatchDag.cpp(51,18): message : Reason: cannot convert from 'const char [5]' to 'const std::locale' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(51,18): message : Constructor for class 'std::locale' is declared 'explicit' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(51,11): message : while trying to match the argument list '(const char [5], const std::unique_ptr<llvm::GIMatchDagInstr,std::default_delete<llvm::GIMatchDagInstr>> *)' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(51,11): message : note: qualification adjustment (const/volatile) may be causing the ambiguity [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(85,11): error C2666: 'llvm::format': overloaded functions have similar conversions [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\include\llvm/Support/Format.h(124,29): message : could be 'llvm::format_object<const std::unique_ptr<llvm::GIMatchDagPredicate,std::default_delete<llvm::GIMatchDagPredicate>> *> llvm::format<const std::unique_ptr<llvm::GIMatchDagPredicate,std::default_delete<llvm::GIMatchDagPredicate>>*>(const char *,const std::unique_ptr<llvm::GIMatchDagPredicate,std::default_delete<llvm::GIMatchDagPredicate>> *const &)' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\VC\Tools\MSVC\14.35.32",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12523:5955,release,release,5955,https://root.cern,https://github.com/root-project/root/pull/12523,1,['release'],['release']
Deployability,"boost_align and boost_python have umbrella header design, however we cannot use that specifier because then it warns about all the rest of boost not being part of the particular module. This patch just adds align.hpp and python.hpp in the module. This may lead to some duplicates which we will hunt down and fix if needed. The patch should fix cmssw. cc: @davidlange6",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6244:191,patch,patch,191,https://root.cern,https://github.com/root-project/root/pull/6244,2,['patch'],['patch']
Deployability,"build; ## <tr><td>ENABLE_TESTS <td>ON (OFF) <td>Build CTests; #~ ## <tr><td>FunctionalPlus_DIR <td>/opt/FunctionalPlus/install/lib/cmake/FunctionalPlus <td>FPlus install folder containing FindFunctionalPlus; ## <tr><td>CMAKEMODULES_DIR <td>/opt/cmake-modules <td>rpavlik git source dir, use https://github.com/ferdymercury/cmake-modules and git checkout master; ## <tr><td>ROOT_DIR <td>$ROOTSYS (/opt/root) <td>ROOT build directory; ## <tr><td>ZSTR_DIR <td>/opt/zstr <td>ZSTR git repository; ## </table>; ##; ## CMAKE_DOCUMENTATION_END; ## See https://www.stack.nl/~dimitri/doxygen/manual/tables.html. # Add Doxygen documentation https://stackoverflow.com/questions/34878276/build-doxygen-from-cmake-script. ### cmake-modules; if(NOT DEFINED CMAKEMODULES_DIR); set (CMAKEMODULES_DIR ""/opt/cmake-modules"" CACHE STRING ""cmake-modules git repository""); endif(); list(APPEND CMAKE_MODULE_PATH ""${CMAKEMODULES_DIR}""). option(BUILD_DOCUMENTATION ""Create and install the HTML based API documentation (requires Doxygen)"" ON); if(BUILD_DOCUMENTATION); find_package(Doxygen OPTIONAL_COMPONENTS dot). if(DOXYGEN_FOUND); set(DOXYGEN_PROJECT_NAME ""Data Acquisition System""); set(DOXYGEN_USE_MDFILE_AS_MAINPAGE ""${CMAKE_SOURCE_DIR}/README.md""); set(DOXYGEN_WARN_NO_PARAMDOC YES); set(DOXYGEN_GENERATE_QHP YES); set(DOXYGEN_QCH_FILE ""TheName.qch""); set(DOXYGEN_QHP_NAMESPACE org.doxygen.TheName.Project); set(DOXYGEN_GENERATE_LATEX NO); set(DOXYGEN_GENERATE_TREEVIEW YES); #set(DOXYGEN_HIDE_UNDOC_RELATIONS NO); #set(DOXYGEN_DOT_NUM_THREADS 1); #set(DOXYGEN_UML_LOOK YES); #set(DOXYGEN_UML_LIMIT_NUM_FIELDS 50); #set(DOXYGEN_TEMPLATE_RELATIONS YES); set(DOXYGEN_DOT_IMAGE_FORMAT svg); set(DOXYGEN_INTERACTIVE_SVG YES); #set(DOXYGEN_DOT_GRAPH_MAX_NODES 100); #set(DOXYGEN_DOT_TRANSPARENT YES); #set(DOXYGEN_OUTPUT_DIRECTORY ${CMAKE_CURRENT_BINARY_DIR}). doxygen_add_docs(doc ALL; ${CMAKE_SOURCE_DIR} ${CMAKE_SOURCE_DIR}/doc/cmake.dox ${CMAKE_SOURCE_DIR}/usb; ALLOW_DUPLICATE_CUSTOM_TARGETS; #USE_STAMP_FILE; COMMENT """,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/8999:2097,install,install,2097,https://root.cern,https://github.com/root-project/root/issues/8999,1,['install'],['install']
Deployability,"by removing invocations to the root-config executable. This executable was invoked twice to check if RDataFrame was available. Such a behaviour causes a severe slowdown, especially on cvmfs. This has been replaced by a simple string comparison. Backport of 4c863d. # This Pull request:. ## Changes or fixes:. ## Checklist:. - [ ] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13898:360,update,updated,360,https://root.cern,https://github.com/root-project/root/pull/13898,1,['update'],['updated']
Deployability,"c++ standard gets downgraded during the compilation, because while compiling the `RRangeCast.hxx` it no longer recognize `std::span`. I am able to compile short C++ code involving `std::span`. This is the full error i get:. ```; /opt/root6/root-6.28.04_src/core/foundation/inc/ROOT/RRangeCast.hxx:186:27: error: ‘span’ is not a member of ‘std’; 186 | RRangeCast<T, false, std::span<U>> RangeStaticCast(U (&arr)[N]); | ^~~~; /opt/root6/root-6.28.04_src/core/foundation/inc/ROOT/RRangeCast.hxx:186:32: error: template argument 3 is invalid; 186 | RRangeCast<T, false, std::span<U>> RangeStaticCast(U (&arr)[N]); | ^; /opt/root6/root-6.28.04_src/core/foundation/inc/ROOT/RRangeCast.hxx:186:33: error: expected unqualified-id before ‘>’ token; 186 | RRangeCast<T, false, std::span<U>> RangeStaticCast(U (&arr)[N]); | ^~; /opt/root6/root-6.28.04_src/core/foundation/inc/ROOT/RRangeCast.hxx:225:26: error: ‘span’ is not a member of ‘std’; 225 | RRangeCast<T, true, std::span<U>> RangeDynCast(U (&arr)[N]); | ^~~~; /opt/root6/root-6.28.04_src/core/foundation/inc/ROOT/RRangeCast.hxx:225:31: error: template argument 3 is invalid; 225 | RRangeCast<T, true, std::span<U>> RangeDynCast(U (&arr)[N]); | ^; /opt/root6/root-6.28.04_src/core/foundation/inc/ROOT/RRangeCast.hxx:225:32: error: expected unqualified-id before ‘>’ token; 225 | RRangeCast<T, true, std::span<U>> RangeDynCast(U (&arr)[N]); | ^~; make[2]: *** [core/imt/CMakeFiles/Imt.dir/build.make:132: core/imt/CMakeFiles/Imt.dir/src/RTaskArena.cxx.o] Error 1; make[1]: *** [CMakeFiles/Makefile2:32924: core/imt/CMakeFiles/Imt.dir/all] Error 2; make: *** [Makefile:156: all] Error 2; ```. ### Reproducer. My [CMakeCache.txt](https://github.com/root-project/root/files/12080083/CMakeCache.txt) used for the build. ### ROOT version. ROOT 6.28.04. ### Installation method. build from source. ### Operating system. Ubuntu 20.04 running under WSL2. ### Additional context. Trying to build from source ROOT 6.28.04 with gcc 10.3 on WSL2 running ubuntu 20.04",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13270:1963,Install,Installation,1963,https://root.cern,https://github.com/root-project/root/issues/13270,1,['Install'],['Installation']
Deployability,"c.h:60:24: error: ‘class zmq::socket_t’ has no member named ‘set’; did you mean ‘send’?; socket->set(zmq::sockopt::linger, PERIOD);; ^~~; send; /tmp/ROOT/v6-26-00-patches/roofit/roofitZMQ/res/RooFit_ZMQ/ZeroMQSvc.h:60:33: error: ‘zmq::sockopt’ has not been declared; socket->set(zmq::sockopt::linger, PERIOD);; ^~~~~~~; /tmp/ROOT/v6-26-00-patches/roofit/roofitZMQ/res/RooFit_ZMQ/ZeroMQSvc.h: At global scope:; /tmp/ROOT/v6-26-00-patches/roofit/roofitZMQ/res/RooFit_ZMQ/ZeroMQSvc.h:79:36: error: ‘unique_ptr’ in namespace ‘std’ does not name a template type; using ZmqLingeringSocketPtr = std::unique_ptr<zmq::socket_t, ZmqLingeringSocketPtrDeleter<PERIOD>>;; ^~~~~~~~~~; (...); /tmp/ROOT/v6-26-00-patches/roofit/roofitZMQ/res/RooFit_ZMQ/ZeroMQSvc.h:103:6: error: no matching function for call to ‘zmq::socket_t::recv(std::reference_wrapper<zmq::message_t>&, int&)’; In file included from /tmp/ROOT/v6-26-00-patches/roofit/roofitZMQ/res/RooFit_ZMQ/ZeroMQSvc.h:17:0,; from /tmp/ROOT/v6-26-00-patches/roofit/roofitZMQ/res/RooFit_ZMQ/ZeroMQPoller.h:17,; from /tmp/ROOT/v6-26-00-patches/roofit/roofitZMQ/src/ZeroMQPoller.cpp:14:; /usr/include/zmq.hpp:625:23: note: candidate: size_t zmq::socket_t::recv(void*, size_t, int); inline size_t recv (void *buf_, size_t len_, int flags_ = 0); ^~~~; /usr/include/zmq.hpp:625:23: note: no known conversion for argument 1 from ‘std::reference_wrapper<zmq::message_t>’ to ‘void*’; /usr/include/zmq.hpp:635:21: note: candidate: bool zmq::socket_t::recv(zmq::message_t*, int); inline bool recv (message_t *msg_, int flags_ = 0); ^~~~; /usr/include/zmq.hpp:635:21: note: no known conversion for argument 1 from ‘std::reference_wrapper<zmq::message_t>’ to ‘zmq::message_t*’; In file included from /tmp/ROOT/v6-26-00-patches/roofit/roofitZMQ/res/RooFit_ZMQ/ZeroMQPoller.h:17:0,; from /tmp/ROOT/v6-26-00-patches/roofit/roofitZMQ/src/ZeroMQPoller.cpp:14:; (...); /tmp/ROOT/v6-26-00-patches/roofit/roofitZMQ/src/ZeroMQPoller.cpp:231:14: error: ‘m_fds’ was not declared in th",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10107:1656,patch,patches,1656,https://root.cern,https://github.com/root-project/root/issues/10107,1,['patch'],['patches']
Deployability,c/MethodBase.cxx:1993; 10: Taking true branch in /opt/root_src/tmva/tmva/src/MethodBase.cxx:1993; 11: Calling default constructor for 'TObjString' in /opt/root_src/tmva/tmva/src/MethodBase.cxx:1994; 12: Calling default constructor for 'TObject' in /opt/root_src/core/base/inc/TObjString.h:34; 13: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 14: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 15: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Calling constructor for 'TCut' in /opt/root_src/tree/tree/src/TCut.cxx:242; 2: Calling constructor for 'TNamed' in /opt/root_src/tree/tree/src/TCut.cxx:54; 3: Calling default constructor for 'TObject' in /opt/root_src/core/base/inc/TNamed.h:37; 4: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 5: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 6: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Assuming 'fname' is non-null in /opt/root_src/tree/treeviewer/src/TMemStatShow.cxx:176; 2: Left side of '||' is false in /opt/root_src/tree/treeviewer/src/TMemStatShow.cxx:176; 3: Assuming the condition is false in /opt/root_src/tree/treeviewer/src/TMemStatShow.cxx:176; 4: Left side of '||' is false in /opt/root_src/tree/treeviewer/src/TMemStatShow.cxx:176; 5: Assuming the condition is false in /opt/root_src/tree/treeviewer/src/TMemStatShow.cxx:176; 6: Taking false branch in /opt/root_src/tree/treeviewer/src/TMemStatShow.cxx:176; 7: Assuming 'f' is non-null in /opt/root_src/tree/treeviewer/src/TMemStatSho,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:86029,Update,UpdateIsOnHeap,86029,https://root.cern,https://github.com/root-project/root/issues/7412,1,['Update'],['UpdateIsOnHeap']
Deployability,"c/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:131:75: note: expanded from macro 'atomic_store'; #define atomic_store(object, desired) __c11_atomic_store(object, desired, __ATOMIC_SEQ_CST); ^; <built-in>:16:26: note: expanded from here; #define __ATOMIC_SEQ_CST 5; ^; In file included from libMyLibrary dictionary payload:5:; In file included from ./MyClass.h:6:; In file included from /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_ptr.hpp:17:; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1088:24: error: expected ')'; /Users/krasznaa/ATLAS/sw/projects/externals/build/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:131:75: note: expanded from macro 'atomic_store'; #define atomic_store(object, desired) __c11_atomic_store(object, desired, __ATOMIC_SEQ_CST); ^; <built-in>:16:26: note: expanded from here; #define __ATOMIC_SEQ_CST 5; ^; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1088:24: note: to match this '('; /Users/krasznaa/ATLAS/sw/projects/externals/build/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:131:57: note: expanded from macro 'atomic_store'; #define atomic_store(object, desired) __c11_atomic_store(object, desired, __ATOMIC_SEQ_CST); ^; In file included from libMyLibrary dictionary payload:5:; In file included from ./MyClass.h:6:; In file included from /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_ptr.hpp:17:; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1099:33: error: expected parameter declarator;",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6454:6956,install,install,6956,https://root.cern,https://github.com/root-project/root/issues/6454,1,['install'],['install']
Deployability,"c/cling/Interpreter/RuntimeUniverse.h:27:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:17:10: note: submodule of top-level module 'std' implicitly imported here; #include <type_traits>; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:93:41: error: use of undeclared identifier 'std'; template <class T, class = typename std::enable_if<std::is_integral<T>::value>::type>; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:93:56: error: use of undeclared identifier 'std'; template <class T, class = typename std::enable_if<std::is_integral<T>::value>::type>; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:93:83: error: expected ',' or '>' in template-parameter-list; template <class T, class = typename std::enable_if<std::is_integral<T>::value>::type>; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:95:14: error: use of undeclared identifier 'std'; return std::is_signed<T>::value; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:94:35: error: no return statement in constexpr function; static constexpr EStorageType determineStorageTypeT(T*) {; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:198:11: error: use of undeclared identifier 'std'; = std::is_reference<T>::value ?; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:199:40: error: use of undeclared identifier 'std'; determineStorageTypeT((typename std::remove_reference<T>::type**)nullptr); ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:199:66: error: expected a qualified name after 'typename'; determineStorageTypeT((typename std::remove_reference<T>::type**)nullptr); ^; /home/razorr/",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10528:17583,Install,Installed,17583,https://root.cern,https://github.com/root-project/root/issues/10528,1,['Install'],['Installed']
Deployability,c/graf3d/eve7/glu/sweep.c:1102; 18: Taking false branch in /opt/root_src/graf3d/eve7/glu/sweep.c:1102; 19: Calling 'FinishLeftRegions' in /opt/root_src/graf3d/eve7/glu/sweep.c:1105; 20: 'regPrev' is not equal to 'regLast' in /opt/root_src/graf3d/eve7/glu/sweep.c:304; 21: Loop condition is true. Entering loop body in /opt/root_src/graf3d/eve7/glu/sweep.c:304; 22: Assuming 'e->Org' is not equal to 'ePrev->Org' in /opt/root_src/graf3d/eve7/glu/sweep.c:308; 23: Taking true branch in /opt/root_src/graf3d/eve7/glu/sweep.c:308; 24: Assuming field 'fixUpperEdge' is 0 in /opt/root_src/graf3d/eve7/glu/sweep.c:309; 25: Taking true branch in /opt/root_src/graf3d/eve7/glu/sweep.c:309; 26: Calling 'FinishRegion' in /opt/root_src/graf3d/eve7/glu/sweep.c:316; 27: Calling 'DeleteRegion' in /opt/root_src/graf3d/eve7/glu/sweep.c:280; 28: Field 'fixUpperEdge' is 0 in /opt/root_src/graf3d/eve7/glu/sweep.c:153; 29: Taking false branch in /opt/root_src/graf3d/eve7/glu/sweep.c:153; 30: Memory is released in /opt/root_src/graf3d/eve7/glu/sweep.c:162; 31: expanded from macro 'memFree' in /opt/root_src/graf3d/eve7/glu/memalloc.h:41; 32: Returning; memory was released via 2nd parameter in /opt/root_src/graf3d/eve7/glu/sweep.c:280; 33: Returning; memory was released via 2nd parameter in /opt/root_src/graf3d/eve7/glu/sweep.c:316; 34: Execution continues on line 336 in /opt/root_src/graf3d/eve7/glu/sweep.c:317; 35: Returning; memory was released via 2nd parameter in /opt/root_src/graf3d/eve7/glu/sweep.c:1105; 36: Assuming 'eTopLeft' is equal to field 'Onext' in /opt/root_src/graf3d/eve7/glu/sweep.c:1112; 37: Taking true branch in /opt/root_src/graf3d/eve7/glu/sweep.c:1112; 38: Calling 'ConnectRightVertex' in /opt/root_src/graf3d/eve7/glu/sweep.c:1114; 39: Use of memory after it is freed in /opt/root_src/graf3d/eve7/glu/sweep.c:885; /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1168:25: warning: Potential leak of memory pointed to by 'sliceVal' [clang-analyzer-cplusplus.NewDeleteLeaks]; 1: Taking true,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7531:29842,release,released,29842,https://root.cern,https://github.com/root-project/root/issues/7531,1,['release'],['released']
Deployability,"c; entry=0x7ffd2902c628, options=options; entry=0) at ../sysdeps/unix/sysv/linux/waitpid.c:30; #1 0x00007f075f804067 in do_system (line=<optimized out>) at ../sysdeps/posix/system.c:149; #2 0x00007f0765354577 in TUnixSystem::Exec (shellcmd=<optimized out>, this=0x55935a0857c0) at /home/yasmin/root/root-6.12.06/core/unix/src/TUnixSystem.cxx:2118; #3 TUnixSystem::StackTrace (this=0x55935a0857c0) at /home/yasmin/root/root-6.12.06/core/unix/src/TUnixSystem.cxx:2412; #4 0x00007f0765356c9c in TUnixSystem::DispatchSignals (this=0x55935a0857c0, sig=kSigSegmentationViolation) at /home/yasmin/root/root-6.12.06/core/unix/src/TUnixSystem.cxx:3643; #5 <signal handler called>; #6 0x00007f0761bb4118 in G4RToEConvForGamma::BuildAbsorptionLengthVector(G4Material const*, G4PhysicsLogVector*) () from /home/yasmin/CERN/geant4.10.03.p03-install/lib/libG4processes.so; #7 0x00007f0761bb6c3f in G4VRangeToEnergyConverter::Convert(double, G4Material const*) () from /home/yasmin/CERN/geant4.10.03.p03-install/lib/libG4processes.so; #8 0x00007f0761bb0bee in G4ProductionCutsTable::UpdateCoupleTable(G4VPhysicalVolume*) () from /home/yasmin/CERN/geant4.10.03.p03-install/lib/libG4processes.so; #9 0x00007f0763b9c5e2 in G4RunManagerKernel::RunInitialization(bool) () from /home/yasmin/CERN/geant4.10.03.p03-install/lib/libG4run.so; #10 0x00007f0763b8b3f7 in G4RunManager::RunInitialization() () from /home/yasmin/CERN/geant4.10.03.p03-install/lib/libG4run.so; #11 0x00007f0763b852c6 in G4RunManager::BeamOn(int, char const*, int) () from /home/yasmin/CERN/geant4.10.03.p03-install/lib/libG4run.so; #12 0x00007f0763b921fb in G4MTRunManager::Initialize() () from /home/yasmin/CERN/geant4.10.03.p03-install/lib/libG4run.so; #13 0x0000559358750187 in main (); ===========================================================. The lines below might hint at the cause of the crash.; You may get help by asking at the ROOT forum http://root.cern.ch/forum.; Only if you are really convinced it is a bug in ROOT then please submit",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/9952:1753,install,install,1753,https://root.cern,https://github.com/root-project/root/issues/9952,1,['install'],['install']
Deployability,"c\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\VC\Tools\MSVC\14.35.32215\include\format(3521,19): message : or 'std::string std::format<const std::unique_ptr<llvm::GIMatchDagPredicate,std::default_delete<llvm::GIMatchDagPredicate>>*>(const std::basic_format_string<char,const std::unique_ptr<llvm::GIMatchDagPredicate,std::default_delete<llvm::GIMatchDagPredicate>> *>,const std::unique_ptr<llvm::GIMatchDagPredicate,std::default_delete<llvm::GIMatchDagPredicate>>*&&)' [found using argument-dependent lookup] [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\VC\Tools\MSVC\14.35.32215\include\format(3536,20): message : or 'std::wstring std::format(const std::locale &,const std::basic_format_string<wchar_t,type_identity<_Args>::type...>,_Types &&...)' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(85,18): message : 'initializing': cannot convert from 'const char [5]' to 'const std::locale &' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(85,18): message : Reason: cannot convert from 'const char [5]' to 'const std::locale' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(85,18): message : Constructor for class 'std::locale' is declared 'explicit' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\VC\Tools\MSVC\14.35.32215\include\format(3531,19): message : or 'std::string std::f",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12523:9451,release,release,9451,https://root.cern,https://github.com/root-project/root/pull/12523,1,['release'],['release']
Deployability,"cal/share/cmake/nlohmann_json/nlohmann_jsonConfig.cmake (found suitable version ""3.11.2"", minimum required is ""3.11.2"") ; CMake Error at /usr/local/Cellar/cmake/3.27.8/share/cmake/Modules/FindPackageHandleStandardArgs.cmake:230 (message):; Could NOT find Vdt (missing: VDT_INCLUDE_DIR VDT_LIBRARY); Call Stack (most recent call first):; /usr/local/Cellar/cmake/3.27.8/share/cmake/Modules/FindPackageHandleStandardArgs.cmake:600 (_FPHSA_FAILURE_MESSAGE); /usr/local/Cellar/root/6.30.00/share/root/cmake/modules/FindVdt.cmake:63 (find_package_handle_standard_args); /usr/local/Cellar/cmake/3.27.8/share/cmake/Modules/CMakeFindDependencyMacro.cmake:76 (find_package); /usr/local/share/root/cmake/rootConfig.cmake:132 (find_dependency); CMakeLists.txt:3 (find_package). -- Configuring incomplete, errors occurred!; ```. ### Reproducer. - Install Root and CMake using Homebrew.; - Create a simple project.; ```cmake; cmake_minimum_required(VERSION 3.20); project(minimum_root); find_package(Root CONFIG REQUIRED); ```; - Run CMake with `cmake -S .`. ### ROOT version; ```; ------------------------------------------------------------------; | Welcome to ROOT 6.30/00 https://root.cern |; | (c) 1995-2023, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built for macosx64 on Nov 06 2023, 16:07:43 |; | From heads/v6-30-patches@tags/v6-30-00 |; | With Apple clang version 15.0.0 (clang-1500.0.40.1) |; | Try '.help'/'.?', '.demo', '.license', '.credits', '.quit'/'.q' |; ------------------------------------------------------------------; ```. ### Installation method. homebrew. ### Operating system. MacOS(14.1.1). ### Additional context. Since the update in the Homebrew formulae at [this commit](https://github.com/Homebrew/homebrew-core/commit/46e299a429160ea85f93dd15a4359b9cc63e8efb), an issue has arisen. As a temporary workaround, set the following values in `CMakeLists.txt` before `find_package(root)`:; ```; set(VDT_INCLUDE_DIR /usr/local/opt/root/include/root); set(VDT_LIBRARY vdt); ```",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14113:2213,patch,patches,2213,https://root.cern,https://github.com/root-project/root/issues/14113,3,"['Install', 'patch', 'update']","['Installation', 'patches', 'update']"
Deployability,"callPackage; , fetchFromGitHub; , fetchpatch; , makeWrapper; , cmake; , coreutils; , git; , davix; , ftgl; , gl2ps; , glew; , gnugrep; , gnused; , gsl; , lapack; , libX11; , libXpm; , libXft; , libXext; , libGLU; , libGL; , libxcrypt; , libxml2; , llvm_13; , lsof; , lz4; , xz; , man; , openblas; , openssl; , pcre; , nlohmann_json; , pkg-config; , procps; , python; , which; , xxHash; , zlib; , zstd; , libAfterImage; , giflib; , libjpeg; , libtiff; , libpng; , patchRcPathCsh; , patchRcPathFish; , patchRcPathPosix; , tbb; , Cocoa; , CoreSymbolication; , OpenGL; , noSplash ? false; }:. stdenv.mkDerivation rec {; pname = ""root"";; version = ""6.27.00"";. src = fetchFromGitHub {; owner = ""root-project"";; repo = ""root"";; rev = ""0fafc31efb5a94472af2a6b35ded27796cb141c8"";; sha256 = ""sha256-oO5K7AIH3Zhxpox3acuLcoTHD529pyIKXk9rfYi3U4U="";; };. nativeBuildInputs = [ makeWrapper cmake pkg-config git ];; buildInputs = [; davix; ftgl; gl2ps; glew; pcre; zlib; zstd; lapack; libxcrypt; libxml2; llvm_13; lz4; xz; gsl; openblas; openssl; xxHash; libAfterImage; giflib; libjpeg; libtiff; libpng; nlohmann_json; patchRcPathCsh; patchRcPathFish; patchRcPathPosix; python.pkgs.numpy; tbb; ]; ++ lib.optionals (!stdenv.isDarwin) [ libX11 libXpm libXft libXext libGLU libGL ]; ++ lib.optionals (stdenv.isDarwin) [ Cocoa CoreSymbolication OpenGL ]; ;. patches = [; ./sw_vers.patch; ];. preConfigure = ''; rm -rf builtins/*; substituteInPlace cmake/modules/SearchInstalledSoftware.cmake \; --replace 'set(lcgpackages ' '#set(lcgpackages '. # Don't require textutil on macOS; : > cmake/modules/RootCPack.cmake. # Hardcode path to fix use with cmake; sed -i cmake/scripts/ROOTConfig.cmake.in \; -e '1iset(nlohmann_json_DIR ""${nlohmann_json}/lib/cmake/nlohmann_json/"")'. patchShebangs build/unix/; '' + lib.optionalString noSplash ''; substituteInPlace rootx/src/rootx.cxx --replace ""gNoLogo = false"" ""gNoLogo = true""; '' + lib.optionalString stdenv.isDarwin ''; # Eliminate impure reference to /System/Library/PrivateF",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11920:4930,patch,patchRcPathCsh,4930,https://root.cern,https://github.com/root-project/root/issues/11920,3,['patch'],"['patchRcPathCsh', 'patchRcPathFish', 'patchRcPathPosix']"
Deployability,"called>; #6 0x0000000000000000 in ?? (); #7 0x00007f68343efc71 in TClassEdit::GetSplit(char const*, std::vector<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::allocator<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > >&, int&, TClassEdit::EModType) () from /sw/atlas/sw/lcg/releases/LCG_101_ATLAS_14/ROOT/6.24.06/x86_64-centos7-gcc11-opt/lib/libCore.so; #8 0x00007f68343f12f1 in TClassEdit::TSplitType::TSplitType(char const*, TClassEdit::EModType) () from /sw/atlas/sw/lcg/releases/LCG_101_ATLAS_14/ROOT/6.24.06/x86_64-centos7-gcc11-opt/lib/libCore.so; #9 0x00007f68343f23f1 in TClassEdit::GetNormalizedName(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, std::basic_string_view<char, std::char_traits<char> >) () from /sw/atlas/sw/lcg/releases/LCG_101_ATLAS_14/ROOT/6.24.06/x86_64-centos7-gcc11-opt/lib/libCore.so; #10 0x00007f683440dc8b in TClass::GetClass(char const*, bool, bool, unsigned long, unsigned long) () from /sw/atlas/sw/lcg/releases/LCG_101_ATLAS_14/ROOT/6.24.06/x86_64-centos7-gcc11-opt/lib/libCore.so; #11 0x00007f683441e338 in TClassRef::InternalGetClass() const () from /sw/atlas/sw/lcg/releases/LCG_101_ATLAS_14/ROOT/6.24.06/x86_64-centos7-gcc11-opt/lib/libCore.so; #12 0x00007f682e411d18 in TScopeAdapter::Init(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, bool, bool) () from /sw/atlas/Athena/22.0.60/InstallArea/x86_64-centos7-gcc11-opt/lib/libDataModelRoot.so; ```. The place in the code where it's crashing in GetSplit after it calls; to StdLen:. ```; if ( mode & kDropStd) {; unsigned int offset = (0==strncmp(""const "",full.c_str(),6)) ? 6 : 0;; RemoveStd( full, offset );; }; ```. where RemoveStd is inlined:. ```; static void RemoveStd(std::string &name, size_t pos = 0); {; size_t len = StdLen({name.data()+pos,name.length()-pos});; if (len) {; ```. So, it calls to StdLen, which apparently then crashes by branching to 0",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10353:1316,release,releases,1316,https://root.cern,https://github.com/root-project/root/issues/10353,1,['release'],['releases']
Deployability,"category, and a RooSimultaneous pdf. The sim pdf does not contain a pdf for each value of the category, because some values are to be ignored in that stage of the fit. ; In ROOT 6.26 this segfaults, either in prepareSimultaneousModelForBatchMode (when batchmode is on) or in RooAbsData::split (when batchmode is off).; The issue in both functions is that they iterate over the values of the index category, and assume that each value has a corresponding pdf inside the RooSimultaneous. ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->; No crash, the sim pdf fits the pdfs for the index it contains and ignores the rest. This used to work in ROOT 6.24 and earlier. ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->; ```; void test_roosimcrash() {; RooRealVar x(""x"", """", 0, 1);; RooRealVar rnd(""rnd"", """", 0, 1);; RooThresholdCategory catThr(""cat"", """", rnd, ""v2"", 2);; catThr.addThreshold(1./3, ""v0"", 0);; catThr.addThreshold(2./3, ""v1"", 1);; ; RooRealVar m(""m"", """", 0.5, 0, 1);; RooGaussian g(""g"", """", x, m, RooFit::RooConst(0.1));; RooUniform rndPdf(""rndPdf"", """", rnd);; RooProdPdf pdf(""pdf"", """", RooArgSet(g, rndPdf));; ; auto ds = pdf.generate(RooArgSet(x, rnd), RooFit::Name(""ds""), RooFit::NumEvents(100));; auto cat = dynamic_cast<RooCategory*>(ds->addColumn(catThr));; ; RooSimultaneous sim(""sim"", """", *cat);; sim.addPdf(g, ""v0"");; sim.addPdf(g, ""v1"");; ; sim.fitTo(*ds, RooFit::Save(true))->Print(""V"");; }; ```. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->; Centos7; Broken in 6.26 from LCG dev4; Works in 6.24.06 from LCG_101. ### Additional context; <!--; Add any other context about the problem here.; -->",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10473:2274,install,install,2274,https://root.cern,https://github.com/root-project/root/issues/10473,1,['install'],['install']
Deployability,"cations to both RooFit and non-RooFit code were made as well:. 1. In `Minuit2`:; 1. We added a subclass of the AnalyticalGradientCalculator called the ExternalInternalGradientCalculator. Whereas the AGC assumes that the gradient that is passed to it (from outside of Minuit2) is in normal parameter space, the EIGC allows its (External) user to use Minuit2 ""Internal"" parameter space, i.e. the parameter space that may be bounded into some range using transformation functions. This allowed us to exactly (floating point bit-wise) replicate the Minuit2 gradient calculation outside of Minuit2 itself, allowing us to parallelize this gradient calculation process exactly without having to worry about breaking Minuit2. The replication, `NumericalDerivatorMinuit2`, was based on earlier work by @lmoneta who already had separated out the bulk of the gradient calculation code from Minuit2.; 2. To make this all work, we also had to upgrade precision of the transformation functions to long double instead of double, otherwise round off errors would still persist and ruin any chances of exact bit-wise equality.; 2. In `mathcore`: Some additions to `IFunction` were made to allow Minuit2 to probe functions for their ability to generate gradients and second derivatives. Similar additions were made to function adapter classes in Minuit2.; 3. In RooFit:; 1. Most RooMinimizerFcn functionality was moved into an abstract base class RooAbsMinimizerFcn, which in turn forms the base class of the new RooMinimizerFcn, but also of the added RooGradMinimizerFcn (serial, but gradient external to Minuit2) and MinuitFcnGrad (with parallel MultiProcess back-end) classes.; 2. The RooRealMPFE based classes can make use of an added parameter `CPUAffinity`. In Unix systems (not macOS), this makes the MPFE based parallelization a lot faster by pinning processes to physical CPU cores.; 3. To accomodate the new minimization frameworks, RooMinimizer was changed quite a bit as well. It is still backwards compati",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/8294:1962,upgrade,upgrade,1962,https://root.cern,https://github.com/root-project/root/pull/8294,1,['upgrade'],['upgrade']
Deployability,"cc; -- Build Type: 'Release' (flags = '-O3 -DNDEBUG'); -- Compiler Flags: -std=c++14 -Wc++11-narrowing -Wsign-compare -Wsometimes-uninitialized -Wconditional-uninitialized -Wheader-guard -Warray-bounds -Wcomment -Wtautological-compare -Wstrncat-size -Wloop-analysis -Wbool-conversion -pipe -Wall -W -Woverloaded-virtual -fsigned-char -pthread -O3 -DNDEBUG; -- ROOT default compression algorithm: zlib; -- PyROOT will be built for version 2.7.18; -- Looking for ZLib; -- Looking for Freetype; -- Looking for LZMA; -- Looking for X11; -- Could NOT find GIF (missing: GIF_LIBRARY GIF_INCLUDE_DIR); -- Could NOT find TIFF (missing: TIFF_LIBRARY TIFF_INCLUDE_DIR); -- Could NOT find PNG (missing: PNG_LIBRARY PNG_PNG_INCLUDE_DIR); -- Could NOT find JPEG (missing: JPEG_LIBRARY JPEG_INCLUDE_DIR); -- Building AfterImage library included in ROOT itself; -- Looking for LibXml2; -- Downloading and building XROOTD version; -- Cannot select cudnn without selecting cuda or tmva-gpu. Option is ignored; -- Building LLVM in 'Release' mode.; -- Could NOT find Z3: Found unsuitable version ""0.0.0"", but required is at least ""4.7.1"" (found Z3_LIBRARIES-NOTFOUND); -- Native target architecture is X86; -- Threads disabled.; -- Doxygen disabled.; -- Go bindings disabled.; -- Could NOT find OCaml (missing: OCAMLFIND OCAML_VERSION OCAML_STDLIB_PATH); -- OCaml bindings disabled.; -- LLVM host triple: x86_64-unknown-linux-gnu; -- LLVM default target triple: x86_64-unknown-linux-gnu; -- Building with -fPIC; -- Constructing LLVMBuild project information; -- Linker detection: GNU ld; -- Targeting X86; -- Targeting NVPTX; -- Clang version: 9.0.1; -- Cling version (from VERSION file): ROOT_0.9; -- Cling will look for C++ headers in '/usr/bin/../lib64/gcc/x86_64-suse-linux/10/../../../../include/c++/10:/usr/bin/../lib64/gcc/x86_64-suse-linux/10/../../../../include/c++/10/x86_64-suse-linux:/usr/bin/../lib64/gcc/x86_64-suse-linux/10/../../../../include/c++/10/backward' at runtime.; -- And then fallback to: 'clang",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/8097:2752,Release,Release,2752,https://root.cern,https://github.com/root-project/root/issues/8097,1,['Release'],['Release']
Deployability,"ce all the category classes were happily using the RooCatType, several; parts had to be touched to convert everything to using integers. This feature; has been cooking since March, and the interface for category classes was; discussed in the PPP, but nevertheless, have a double look at the above-mentioned; headers. In more detail:; - Replace RooCatType by an integer.; - Replace names saved in each row of dataset with RooCatType by a map in; RooAbsCategory that maps state names to numbers. This saves 64 bytes; + the size of TObject for each event, and makes loading strings in each; event unnecessary.; - Provide legacy iterator for iterating through states instances of; RooCatType, which will be created on the fly.; - Make RooVectorDataStore store integers instead of RooCatType instances.; - With this, also reduce the amount of unnecessary members in RooVectorDataStore.; - Outline functions that polluted the header of RooVectorDataStore. Updates for category interfaces:; - Provide new interfaces for categories to work without RooCatType.; - Add bracket operator and constructor arguments to define multiple; category states at once or using category[""stateName""] = 1.; - Mark legacy interfaces exposing RooCatType as deprecated in doxygen.; - Stop including RooCatType when R__LESS_INCLUDES is set.; - Flag legacy interfaces with R__SUGGEST_ALTERNATIVE.; - Don't create RooCatType instances, unless users continue to use; the legacy interface.; - Provide functions hasIndex() and hasLabel() to check validity of; index/label.; - Provide function states() with direct access to map of category names; to category numbers.; - Add functions getCurrent{Index|Label} to make clear that they access; class state. - Prevent clearing of shapeDirty in RooAbsCategory::evaluate(), since; derived category classes might need to recompute their shapes if one; of their input categories change. Changes in special category classes:; - Consolidate RooMultiCategory and RooSuperCategory. These share a",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5502:1808,Update,Updates,1808,https://root.cern,https://github.com/root-project/root/pull/5502,1,['Update'],['Updates']
Deployability,"ce to 'ranges' is ambiguous; concept compares_as = same_as<ranges::common_comparison_category_t<T, Cat>, Cat>;; ^; /cvmfs/sft-nightlies.cern.ch/lcg/views/dev4/Mon/x86_64-el9-gcc13-dbg/include/range/v3/compare.hpp:25:11: note: candidate found by name lookup is 'ranges'; namespace ranges; ^; /cvmfs/sft.cern.ch/lcg/releases/gcc/13.1.0-b3d18/x86_64-el9/include/c++/13.1.0/experimental/string_view:689:13: note: candidate found by name lookup is 'std::ranges'; namespace ranges; ^; ```. ### What is the expected behaviour?. I expect to be able to use the top level `ranges` namespace at the same time as `std::ranges`. ### How to reproduce?. From lxplus9.cern.ch; ```; ❯ . /cvmfs/sft-nightlies.cern.ch/lcg/views/dev4/Mon/x86_64-el9-gcc13-dbg/setup.sh; ❯ root; ------------------------------------------------------------------; | Welcome to ROOT 6.28/05 https://root.cern |; | (c) 1995-2023, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built for linuxx8664gcc on Jun 10 2023, 00:28:00 |; | From heads/v6-28-00-patches@v6-28-04-94-gb7de1efc73 |; | With g++ (GCC) 13.1.0 |; | Try '.help'/'.?', '.demo', '.license', '.credits', '.quit'/'.q' |; ------------------------------------------------------------------. root [0] #include <range/v3/range/traits.hpp>; In file included from ROOT_prompt_0:1:; In file included from /cvmfs/sft-nightlies.cern.ch/lcg/views/dev4/Mon/x86_64-el9-gcc13-dbg/include/range/v3/range/traits.hpp:24:; In file included from /cvmfs/sft-nightlies.cern.ch/lcg/views/dev4/Mon/x86_64-el9-gcc13-dbg/include/range/v3/range_fwd.hpp:23:; /cvmfs/sft-nightlies.cern.ch/lcg/views/dev4/Mon/x86_64-el9-gcc13-dbg/include/concepts/compare.hpp:35:39: error: reference to 'ranges' is ambiguous; concept compares_as = same_as<ranges::common_comparison_category_t<T, Cat>, Cat>;; ^; /cvmfs/sft-nightlies.cern.ch/lcg/views/dev4/Mon/x86_64-el9-gcc13-dbg/include/range/v3/compare.hpp:25:11: note: candidate found by name lookup is 'ranges'; namespace ranges; ^; /cvmfs/sft.cern.ch/lcg/releas",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13001:1668,patch,patches,1668,https://root.cern,https://github.com/root-project/root/issues/13001,1,['patch'],['patches']
Deployability,"ce to __device__ function '__nvvm_atom_sys_xchg_gen_i' in __host__ function; __nvvm_atom_sys_xchg_gen_i((int *)__p, __nv_float_as_int(__v)));; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:213:7: note: '__nvvm_atom_sys_xchg_gen_i' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:244:16: error: static declaration of '__finite' follows non-static declaration; __DEVICE__ int __finite(double __a) { return __nv_isfinited(__a); }; ^; cling: /usr/include/x86_64-linux-gnu/bits/mathcalls-helper-functions.h:33:20: note: previous declaration is here; __MATHDECL_1 (int, __finite,, (_Mdouble_ __value)) __attribute__ ((__const__));; ^; cling: In file included from <built-in>:1:; In file included from /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_runtime_wrapper.h:148:; /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:245:16: error: static declaration of '__finitef' follows non-static declaration; __DEVICE__ int __finitef(float __a) { return __nv_finitef(__a); }; ^; cling: /usr/include/x86_64-linux-gnu/bits/mathcalls-helper-functions.h:33:1: note: previous declaration is here; __MATHDECL_1 (int, __finite,, (_Mdouble_ __value)) __attribute__ ((__const__));; ^; /usr/include/math.h:283:15: note: expanded from macro '__MATHDECL_1'; extern type __MATH_PRECNAME(function,suffix) args __THROW; ^; /usr/include/math.h:303:34: note: expanded from macro '__MATH_PRECNAME'; # define __MATH_PRECNAME(name,r) name##f##r; ^; <scratch space>:160:1: note: expanded from here; __finitef; ^; cling: In file included from <built-in>:1:; In file included from /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_runtime_wrapper.h:148:; /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/in",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7518:10449,install,install,10449,https://root.cern,https://github.com/root-project/root/issues/7518,1,['install'],['install']
Deployability,"centos7-gcc9-opt/lib/python3.7/pickle.py"", line 859, in save_dict; self._batch_setitems(obj.items()); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 885, in _batch_setitems; save(v); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 504, in save; f(self, obj) # Call unbound method with explicit self; File ""/cvmfs/sft.cern.ch/lcg/views/LCG_97python3/x86_64-centos7-gcc9-opt/lib/python3.7/site-packages/dill/_dill.py"", line 902, in save_module_dict; StockPickler.save_dict(pickler, obj); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 859, in save_dict; self._batch_setitems(obj.items()); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 890, in _batch_setitems; save(v); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 504, in save; f(self, obj) # Call unbound method with explicit self; File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 819, in save_list; self._batch_appends(obj); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 846, in _batch_appends; save(tmp[0]); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 549, in save; self.save_reduce(obj=obj, *rv); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 633, in save_reduce; save(cls); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 504, in save; f(self, obj) # Call unbound method with explicit self; File ""/cvmfs/sft.cern.c",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6370:5130,release,releases,5130,https://root.cern,https://github.com/root-project/root/issues/6370,1,['release'],['releases']
Deployability,"cg/releases/ROOT/6.24.06-f0308/aarch64-centos7-gcc8-opt/etc/""; -I""/cvmfs/sft.cern.ch/lcg/releases/ROOT/6.24.06-f0308/aarch64-centos7-gcc8-opt/etc//cling""; -I""/cvmfs/sft.cern.ch/lcg/releases/ROOT/6.24.06-f0308/aarch64-centos7-gcc8-opt/include/""; -I""/cvmfs/sft.cern.ch/lcg/releases/Python/3.9.6-b0f98/aarch64-centos7-gcc8-opt/include""; -I""/home/sftnight/build/workspace/lcg_release_pipeline/build/projects/ROOT-6.24.06/src/ROOT-6.24.06-build/include""; -I""/data/sftnight/build/workspace/lcg_release_pipeline/install/Vc/1.4.2/aarch64-centos7-gcc8-opt/include""; -I""/data/sftnight/build/workspace/lcg_release_pipeline/install/zlib/1.2.11/aarch64-centos7-gcc8-opt/include""; -I""/data/sftnight/build/workspace/lcg_release_pipeline/install/jsonmcpp/3.9.1/aarch64-centos7-gcc8-opt/include""; -I""/home/sftnight/build/workspace/lcg_release_pipeline/build/projects/ROOT-6.24.06/src/ROOT-6.24.06-build/include/""; -I""/data/sftnight/build/workspace/lcg_release_pipeline/install/tbb/2020_U2/aarch64-centos7-gcc8-opt/include""'; ```; The first three elements are directly the contents of `$ROOT_INCLUDE_PATH` which in the that setup, which is . ```; $ echo $ROOT_INCLUDE_PATH; /cvmfs/sft.cern.ch/lcg/views/LCG_101arm/aarch64-centos7-gcc8-opt/include/Geant4:/cvmfs/sft.cern.ch/lcg/views/LCG_101arm/aarch64-centos7-gcc8-opt/include:/cvmfs/sft.cern.ch/lcg/releases/Python/3.9.6-b0f98/aarch64-centos7-gcc8-opt/include/python3.9; ```; ### To Reproduce; On an ARM64 system with CVMFS ; ```; $ source /cvmfs/sft.cern.ch/lcg/views/LCG_101arm/aarch64-centos7-gcc8-opt/setup.sh; $ python -c 'import ROOT; print(ROOT.gSystem.GetIncludePath())'; ```. ### Expected behavior. On a Centos7 system (e.g. lxplus.cern.ch), then list is different. ```; -I$ROOTSYS/include; -I""/cvmfs/sft.cern.ch/lcg/views/LCG_101/x86_64-centos7-gcc8-opt/include/Geant4""; -I""/cvmfs/sft.cern.ch/lcg/releases/jsonmcpp/3.9.1-72770/x86_64-centos7-gcc8-opt/include""; -I""/cvmfs/sft.cern.ch/lcg/views/LCG_101/x86_64-centos7-gcc8-opt/src/cpp""; -I""/cvmfs/sft.cern.ch/",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/9243:1622,install,install,1622,https://root.cern,https://github.com/root-project/root/issues/9243,1,['install'],['install']
Deployability,"ch is required to write the integral in a computationally feasiable way.; tutorials/math/Voigt.C - Add a tutorial which shows the use of the new VoigtRelativistic class two produce two plots, comparing relativistic voigt to non relativistic voigt, both as the voigt itself and their dumping functions.; Files modified:; math/mathmore/CMakeLists.txt; math/mathmore/inc/Math/LinkDef.h - These two files needed to be modified to compile my changes adding in the relativisitc voigt. **Full description**; Implemented relativistic version of voigt (non-relativistic case already exists in TMath). As previously discussed in the ROOT forum https://root-forum.cern.ch/t/relativistic-breit-wigner-and-relativistic-voigt/48844 , the relativistic version has been added to mathmore rather than TMath, as it requires including a header file with an integrator which is CPU intensive. This has hence been added as it's own class in mathmore, with two functions:. static double evaluate(double x, double median, double sigma, double lg, double integrationRange=26.615717509251260);; static double dumpingFunction(double median, double sigma, double lg, double integrationRange=26.615717509251260);. The default integrationRange was chosen as the integral has been wrote in a form where it is multiplied by exp(-t^2), and this value of integrationRange results in going to the point where exp(-t^2) reaches the minimum value stored by a double. A relativistic voigt is a convolution of a relativistic breit wigner and a gaussian, doing this naively is computationally infeasible however a fairly simple redefinition of variables allows rewriting the integral in a form that is reasonable to compute. This is shown in https://arxiv.org/pdf/1711.09304.pdf equation 9 which has been used here. I am unsure how referencing works with ROOT. [Note: the function used here is not actually identical to equation 9, as the paper linked uses a different normalization than ROOT does for the non relativistic voigt which is al",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11049:1716,integrat,integrationRange,1716,https://root.cern,https://github.com/root-project/root/pull/11049,1,['integrat'],['integrationRange']
Deployability,"ch test.; Some things to note:. - Test pyunittests-pyroot-import-load-libs fails with; ```sh; ERROR: test_import (import_load_libs.ImportLoadLibs); Test libraries loaded after importing ROOT; ----------------------------------------------------------------------; Traceback (most recent call last):; File ""/srv/root/src/root/bindings/pyroot/pythonizations/test/import_load_libs.py"", line 117, in test_import; raise Exception('Found not whitelisted libraries after importing ROOT:' \; Exception: Found not whitelisted libraries after importing ROOT:; - libz3; If the test fails with a library that is loaded on purpose, please add it to the whitelist.; ```; Note that z3 is a library used by LLVM. It may be that because I have other versions of LLVM/Clang in the system, z3 got installed and picked up by the builtin LLVM from the ROOT build. Ideally, this sort of behavior of automatically picking whatever is installed on the system should be avoided, as it can cause problems, so I recommend looking into the configuration of the builtin LLVM more closely and either disabling z3 if not used, or adding it to the dependencies of ROOT and enabling by force. - Test tutorial-v7-ntuple-ntpl005_introspection failure is related to uring support, is that tested in nightlies? It could also be a permissions issue that I don't have configured properly, I don't know.; ```sh; Start 995: tutorial-v7-ntuple-ntpl005_introspection; 7/18 Test #995: tutorial-v7-ntuple-ntpl005_introspection ...........***Failed 1.57 sec; ...; terminate called after throwing an instance of 'std::runtime_error'; what(): Fatal Error: failed to allocate memory for the smallest possible io_uring instance. 'memlock' memory has been exhausted for this user; CMake Error at /srv/root/build/RootTestDriver.cmake:237 (message):; error code: Subprocess aborted; ```; - The dataframe tests all fail with something like this; ```sh; Processing /srv/root/src/roottest/root/dataframe/test_ctors.C+...; Info in <TUnixSystem::ACLiC>: creat",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7936:3420,install,installed,3420,https://root.cern,https://github.com/root-project/root/issues/7936,2,"['configurat', 'install']","['configuration', 'installed']"
Deployability,"char* members fName, fTitle, fOption should be released in destructor",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4863:47,release,released,47,https://root.cern,https://github.com/root-project/root/pull/4863,1,['release'],['released']
Deployability,"char, std::char_traits<char>, std::allocator<char> >*) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCling.so; #14 0x00007fffefbd7838 in cling::DynamicLibraryManager::loadLibrary(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, bool, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCling.so; #15 0x00007fffefb06b14 in TCling::Load(char const*, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCling.so; #16 0x00007ffff55908e6 in TSystem::Load(char const*, char const*, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #17 0x00007ffff551c9e3 in TROOT::LoadClass(char const*, char const*, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #18 0x00007fffefb05a65 in TCling::ShallowAutoLoadImpl(char const*) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCling.so; #19 0x00007fffefb1acd2 in TCling::DeepAutoLoadImpl(char const*, std::unordered_set<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > >&, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCling.so; #20 0x00007fffefb1b377 in TCling::AutoLoad(char const*, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCl",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7657:4197,patch,patches,4197,https://root.cern,https://github.com/root-project/root/issues/7657,1,['patch'],['patches']
Deployability,"cin is not seekable. Temporary stringstream is created to store cin. This patch fixes the error. But I am afraid using intermediate stringstream is not an efficient way, especially it costs a lot of memory if the input file is large. Any suggestion? @bbockelm",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/84:74,patch,patch,74,https://root.cern,https://github.com/root-project/root/pull/84,1,['patch'],['patch']
Deployability,"ck (most recent call last):; File ""/builddir/build/BUILD/root-6.28.00/tutorials/math/exampleFunction.py"", line 57, in <module>; fitter.Result().Print(ROOT.std.cout); ReferenceError: attempt to access a null-pointer; CMake Error at /builddir/build/BUILD/root-6.28.00/redhat-linux-build/RootTestDriver.cmake:232 (message):; error code: 1; ~~~. #### tutorial-tmva-TMVA_CNN_Classification-py. There are probably 6 thread, not 25769803776. (Zero-extended from 32 to 64 bits in the wrong direction.). $ printf '%016x\n' 25769803776; 0000000600000000. TypeError: none of the 3 overloaded methods succeeded.; ~~~; 1270/1272 Test #1267: tutorial-tmva-TMVA_CNN_Classification-py ............................***Failed 1.33 sec; TMVA_CNN_Classificaton:0: RuntimeWarning: Skip using Keras since tensorflow is not installed; TMVA_CNN_Classificaton:0: RuntimeWarning: Skip using PyTorch since torch is not installed; DataSetInfo : [dataset] : Added class ""Signal""; : Add Tree sig_tree of type Signal with 1000 events; DataSetInfo : [dataset] : Added class ""Background""; : Add Tree bkg_tree of type Background with 1000 events; <FATAL> : Unknown method index in map: 0; ***> abort program execution; Running with nthreads = 25769803776; Traceback (most recent call last):; File ""/builddir/build/BUILD/root-6.28.00/tutorials/tmva/TMVA_CNN_Classification.py"", line 299, in <module>; factory.BookMethod(; File ""/builddir/build/BUILD/root-6.28.00/redhat-linux-build/lib/ROOT/_pythonization/_tmva/_factory.py"", line 61, in BookMethod; return self._BookMethod(*args, **kwargs); ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^; TypeError: none of the 3 overloaded methods succeeded. Full details:; TMVA::MethodBase* TMVA::Factory::BookMethod(TMVA::DataLoader* loader, TString theMethodName, TString methodTitle, TString theOption = """") =>; TypeError: could not convert argument 2; TMVA::MethodBase* TMVA::Factory::BookMethod(TMVA::DataLoader* loader, TMVA::Types::EMVA theMethod, TString methodTitle, TString theOption = """") =>; runtime_e",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12429:8127,install,installed,8127,https://root.cern,https://github.com/root-project/root/issues/12429,2,['install'],['installed']
Deployability,"ck with `readelf` reveals the runpath of the libraries installed to `CMAKE_INSTALL_PYTHONDIR` is the reason for this problem. ```; $ readelf -a /usr/local/lib/root/libcppyy3_10.so | grep -i runpath; 0x000000000000001d (RUNPATH) Library runpath: [$ORIGIN:$ORIGIN/../lib/root]; ```. ```; $ readelf -a /usr/local/lib/python3.10/dist-packages/libcppyy3_10.so | grep -i runpath; 0x000000000000001d (RUNPATH) Library runpath: [$ORIGIN:$ORIGIN/../lib/root]; ```. As you can see above, the libraries installed to `CMAKE_INSTALL_PYTHONDIR` have the same runpath as the ones installed to `CMAKE_INSTALL_LIBDIR`, which shouldn't be the case if the two are different directories. ### Expected behavior; The libraries installed to `CMAKE_INSTALL_PYTHONDIR` should have the runpath set to the correct relative location of `CMAKE_INSTALL_LIBDIR` (`$ORIGIN/../../../lib/root` in the previous example). ### To Reproduce; 1. Configure the build with `CMAKE_INSTALL_PYTHONDIR` different from `CMAKE_INSTALL_LIBDIR` and with rpath enabled.; 2. Compile and install as usual.; 3. Try to use the python modules installed by ROOT, such as by running `rootbrowse`. ### Setup; - ROOT version 6.26/06; - Ubuntu 22.04 running on WSL2; - ROOT installed from source with the build config command `CUDACXX=/usr/local/cuda-11.7/bin/nvcc cmake -C config.cmake .. -DCMAKE_CUDA_ARCHITECTURES='86' -Dgnuinstall=ON -Dcuda=ON -Dcudnn=ON -Dtmva-gpu=ON -Dsoversion=ON -Dfortran=ON -DPYTHON_EXECUTABLE=/usr/bin/python -Drpath=ON`, where the file `config.cmake` contains; ```; set(CMAKE_INSTALL_PYTHONDIR ""lib/python3.10/dist-packages"" CACHE PATH ""python libraries and modules (same as LIBDIR)""); set(CMAKE_INSTALL_SYSCONFDIR ""/etc/root"" CACHE PATH ""read-only single-machine data (etc/root)""); ```. ### Additional context; A temporary workaround while this issue is not resolved is to manually modify the runpath of the libraries installed to `CMAKE_INSTALL_PYTHONDIR`, e.g. using `chrpath` or [`patchelf`](https://github.com/NixOS/patchelf).",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11431:2826,install,install,2826,https://root.cern,https://github.com/root-project/root/issues/11431,6,"['install', 'patch']","['install', 'installed', 'patchelf']"
Deployability,"ckOverlap` (l.1173) and not commented out](https://github.com/root-project/root/blame/master/geom/geompainter/src/TGeoChecker.cxx#L1173), which would indicate that the intended original usage is still valid. We (CBMROOT) stumbled upon this as we started to find for some of our geometries overlaps with total integrated volume in the order of `10^-6 to 10^-10 cm3` when changing the sampling points number. We first started by adding exceptions in our CI but the list quickly grew as the sampling position is different with each change in the fully assembled geometry volume.; Having/restoring the possibility to ignore the ""really small"" overlaps would cure our problem with a single parameter. Proposed solutions:; - either un-comment the line to re-enable the threshold if it is not bringing other bugs (see simple patch in **Reproducer**).; => This seems to work for me locally with a fresh copy of the master under Ubuntu 20.04; - or at least update the documentation to indicate that the parameter `ovlp` is used only in standard mode and ignored in sampling mode. --------------------------------; Potential related bug: some of these really small overlaps appear only when the number of samples is increased but disappear if it is further increased.; However for a given number the list of overlaps is stabled over re-running the macro (new ROOT session at each time).; The new overlaps also appear mostly in the ""last volumes in the geometry"" to be tested.; So it could be that something is not so stable in the sequence of random points:; - first volume getting always mostly the same points independent of the number of samples ; - while last volume getting set of points depending highly on number of samples. I did not manage to reliably reproduce it however so I would create a separate issue if I find the time to test and confirm it later. ### Reproducer. Files in archive: examine_mcbm_beam_2019_03.geo.root, check_overlaps.C, root_overlaps_samp_thr.patch; [check_overlaps.tar.gz](ht",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14675:2250,update,update,2250,https://root.cern,https://github.com/root-project/root/issues/14675,1,['update'],['update']
Deployability,"ckaging Guidelines some time ago added a section on packaging javascript files. This section says that minified scripts should be treated as compiled code. And like for programs written in other languages, pre-compiled code that is part of the sources must not be used in packaging, but must be regenerated from sources during the package build. I recently implemented these guidelines in the root package and found some issues. This pull request has three commits. 1) The word ""default"" is a reserved word in the language, and when used as a key in a dictionary it must be quoted. The yuicompressor minifier complains about this:; ```; $ yuicompressor etc/notebook/JsMVA/js/DecisionTree.js ; [ERROR] in etc/notebook/JsMVA/js/DecisionTree.js; 57:24:invalid property id; ```; 2. In one place (and one place only) in the script a construct from a very new version of the javascript standard is used for defining default values to function parameters. This unnecessarily makes the code incompatible with old browsers. It also makes it hard to run the minification during the package build as both yuicompressor and uglufyjs choke on it.; ```; $ yuicompressor etc/notebook/JsMVA/js/NeuralNetwork.js ; [ERROR] in etc/notebook/JsMVA/js/NeuralNetwork.js; 509:75:missing ) after formal parameters; ```; ```; $ uglifyjs etc/notebook/JsMVA/js/NeuralNetwork.js -c -m; Parse error at etc/notebook/JsMVA/js/NeuralNetwork.js:509,73; = function (divid, netobj, oldStructure=false) {; ^; SyntaxError: Unexpected token operator «=», expected punc «,»; ```; 3. The code has not been updated to reflect changes in jsroot. The code still tries to load d3.v3.min.js from jsroot. In the current version of jsroot the d3 script has been updated to version 4 and the file is now called d3.min.js. The pull request changes the name of the file in the two places where it is referenced, so it should now find the file. However this change is incomplete since the d3 API changes between the versions and some porting is needed.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1520:1578,update,updated,1578,https://root.cern,https://github.com/root-project/root/pull/1520,2,['update'],['updated']
Deployability,"cked for duplicates. ### Describe the bug; Calling RooStats::HistFactory::MakeModelAndMeasurementFast(meas) leads to a seg violation in root 6.26.04 with gcc11 on CentOS7 machine (lxplus), while the same code worked with 6.24.06 with gcc8 on CentOS7 machine.; This is the relevant stack trace:; ```; ===========================================================; There was a crash.; This is the entire stack trace of all threads:; ===========================================================; #0 0x00007f43c411c60c in waitpid () from /lib64/libc.so.6; #1 0x00007f43c4099f62 in do_system () from /lib64/libc.so.6; #2 0x00007f43c6fe5a5c in TUnixSystem::StackTrace() () from /cvmfs/sft.cern.ch/lcg/views/LCG_102/x86_64-centos7-gcc11-opt/lib/libCore.so; #3 0x00007f43c6fe3155 in TUnixSystem::DispatchSignals(ESignals) () from /cvmfs/sft.cern.ch/lcg/views/LCG_102/x86_64-centos7-gcc11-opt/lib/libCore.so; #4 <signal handler called>; #5 0x00007f43c481adef in __dynamic_cast () from /cvmfs/sft.cern.ch/lcg/releases/gcc/11.2.0-8a51a/x86_64-centos7/lib64/libstdc++.so.6; #6 0x00007f43c51b2ff1 in RooAbsCollection::insert(RooAbsArg*) () from /cvmfs/sft.cern.ch/lcg/views/LCG_102/x86_64-centos7-gcc11-opt/lib/libRooFitCore.so; #7 0x00007f43c51b83db in RooAbsCollection::RooAbsCollection(RooAbsCollection const&, char const*) () from /cvmfs/sft.cern.ch/lcg/views/LCG_102/x86_64-centos7-gcc11-opt/lib/libRooFitCore.so; #8 0x00007f43c52480f9 in RooArgList::RooArgList(RooArgList const&, char const*) () from /cvmfs/sft.cern.ch/lcg/views/LCG_102/x86_64-centos7-gcc11-opt/lib/libRooFitCore.so; #9 0x00007f43c573c6f5 in RooStats::HistFactory::HistoToWorkspaceFactoryFast::createStatConstraintTerms(RooWorkspace*, std::vector<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::allocator<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > >&, ParamHistFunc&, TH1 const*, RooStats::HistFactory::Constraint::Type, double) () from /cvmfs/sft.cern.ch/lcg/views/",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10840:1005,release,releases,1005,https://root.cern,https://github.com/root-project/root/issues/10840,1,['release'],['releases']
Deployability,"cked for duplicates. ### Description. When using Python in interactive mode, the web window does not launch properly (see screenshot). It works from a C++ macro. One can also save canvas contents in ROOT batch mode. ![image](https://github.com/root-project/root/assets/1557360/2181f05e-27bd-4473-9151-b28a90773900). ### Reproducer. ```python; import ROOT; import numpy as np. def main():; voltages = np.array([1,2,3], dtype=np.uint32); capacitances = np.array([4,5,6], dtype=np.float32). #ROOT.gROOT.SetBatch(True); df = ROOT.RDF.FromNumpy({'voltages': voltages, 'capacitances': capacitances}); df = df.Define('inv', '1/(capacitances*capacitances)'). c = ROOT.TCanvas(); graph = df.Graph('voltages', 'inv'); graph.Draw('APL'). c.SaveAs(""graph.pdf""). if __name__ == ""__main__"":; main(); ```; Output:; ```bash; $ python3 -i repro.py ; Info in <THttpEngine::Create>: Starting HTTP server on port 127.0.0.1:9449; Opening in existing browser session.; [102887:102898:0312/160727.268507:ERROR:object_proxy.cc(576)] Failed to call method: org.freedesktop.DBus.Properties.Get: object_path= /org/freedesktop/portal/desktop: org.freedesktop.DBus.Error.InvalidArgs: No such interface “org.freedesktop.portal.FileChooser”; [102887:102898:0312/160727.268546:ERROR:select_file_dialog_linux_portal.cc(285)] Failed to read portal version property; [102887:102887:0312/160727.306050:ERROR:policy_logger.cc(156)] :components/enterprise/browser/controller/chrome_browser_cloud_management_controller.cc(161) Cloud management controller initialization aborted as CBCM is not enabled. Please use the `--enable-chrome-browser-cloud-management` command line flag to enable it if you are not using the official Google Chrome build.; 13986 bytes written to file /home/jakob/Documents/CERN/ROOT/demo/graph.pdf; Info in <ProduceImage>: PDF file graph.pdf with 1 pages has been created; >>> ; ```. ### ROOT version. master. ### Installation method. From sources. ### Operating system. Linux. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14943:1936,Install,Installation,1936,https://root.cern,https://github.com/root-project/root/issues/14943,1,['Install'],['Installation']
Deployability,"ckward' at runtime.; -- And then fallback to: 'ccache'; CMake Error: Could not open file for write in copy operation /usr/lib/llvm-13/lib/cmake/cling/ClingConfig.cmake.tmp; CMake Error: : System Error: No such file or directory; CMake Error at interpreter/cling/cmake/modules/CMakeLists.txt:22 (configure_file):; configure_file Problem configuring file; ```. The error is thrown in [interpreter/cling/cmake/modules/CMakeLists.txt:22-25](https://github.com/root-project/root/blob/fd244e56523bf5c5957bfae5117b36ca73c27813/interpreter/cling/cmake/modules/CMakeLists.txt#L22-L25) when trying to create a file in `cling_cmake_builddir` which is not writable. The bug originates from [interpreter/cling/cmake/modules/CMakeLists.txt:5](https://github.com/root-project/root/blob/fd244e56523bf5c5957bfae5117b36ca73c27813/interpreter/cling/cmake/modules/CMakeLists.txt#L5) and was introduced in 2b283ccf3a624f70dab3e8783d361d25c13e2c65 from #10294. ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->. I think there are three options to fix this:; - 2b283ccf3a624f70dab3e8783d361d25c13e2c65 is reverted (the commit mentions some fixes though); - CMake checks for `builtin_llvm=OFF` and sets the dir accordingly; - Some other path is found that prevents the issues mentioned in 2b283ccf3a624f70dab3e8783d361d25c13e2c65 (maybe `CLING_BINARY_DIR`?). ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->. Build from master with `builtin_llvm=OFF`. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->. git master, Debian Sid. ### Additional context; <!--; Add any other context about the problem here.; -->. /cc @hahnjo @vgvassilev @bellenot",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12151:2696,install,install,2696,https://root.cern,https://github.com/root-project/root/issues/12151,1,['install'],['install']
Deployability,"clang_cuda_device_functions.h:71:10: error: reference to __device__ function '__nvvm_atom_add_gen_d' in __host__ function; return __nvvm_atom_add_gen_d(__p, __v);; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:71:10: note: '__nvvm_atom_add_gen_d' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:74:10: error: reference to __device__ function '__nvvm_atom_cta_add_gen_d' in __host__ function; return __nvvm_atom_cta_add_gen_d(__p, __v);; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:74:10: note: '__nvvm_atom_cta_add_gen_d' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:77:10: error: reference to __device__ function '__nvvm_atom_sys_add_gen_d' in __host__ function; return __nvvm_atom_sys_add_gen_d(__p, __v);; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:77:10: note: '__nvvm_atom_sys_add_gen_d' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:192:18: error: static declaration of '__exp10f' follows non-static declaration; __DEVICE__ float __exp10f(float __a) { return __nv_fast_exp10f(__a); }; ^; cling: /usr/include/x86_64-linux-gnu/bits/mathcalls.h:114:1: note: previous declaration is here; __MATHCALL (exp10,, (_Mdouble_ __x));; ^; /usr/include/math.h:273:3: note: expanded from macro '__MATHCALL'; __MATHDECL (_Mdouble_,function,suffix, args); ^; /usr/include/math.h:276:3: note: expanded from macro '__MATHDECL'; __MATHDECL_1(type, __CONCAT(__,function),suffix, args); ^; /usr/include/math.h:283:15: note: expanded from macro '__MATHDECL_1'; extern type __MATH_PRECNAME(function,suffix) args __THROW; ^; /usr",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7518:4567,install,install,4567,https://root.cern,https://github.com/root-project/root/issues/7518,1,['install'],['install']
Deployability,"cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:195:10: note: '__nvvm_atom_add_gen_f' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:198:10: error: reference to __device__ function '__nvvm_atom_cta_add_gen_f' in __host__ function; return __nvvm_atom_cta_add_gen_f(__p, __v);; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:198:10: note: '__nvvm_atom_cta_add_gen_f' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:201:10: error: reference to __device__ function '__nvvm_atom_sys_add_gen_f' in __host__ function; return __nvvm_atom_sys_add_gen_f(__p, __v);; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:201:10: note: '__nvvm_atom_sys_add_gen_f' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:205:7: error: reference to __device__ function '__nvvm_atom_xchg_gen_i' in __host__ function; __nvvm_atom_xchg_gen_i((int *)__p, __nv_float_as_int(__v)));; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:205:7: note: '__nvvm_atom_xchg_gen_i' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:209:7: error: reference to __device__ function '__nvvm_atom_cta_xchg_gen_i' in __host__ function; __nvvm_atom_cta_xchg_gen_i((int *)__p, __nv_float_as_int(__v)));; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:209:7: note: '__nvvm_atom_cta_xchg_gen_i' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_d",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7518:8438,install,install,8438,https://root.cern,https://github.com/root-project/root/issues/7518,1,['install'],['install']
Deployability,"cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/char_traits.h:699:10: note: submodule of top-level module 'std' implicitly imported here; #include <cstdint>; ^; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/functional_hash.h:35:10: note: submodule of top-level module 'std' implicitly imported here; #include <type_traits>; ^; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/range_access.h:36:10: note: submodule of top-level module 'std' implicitly imported here; #include <initializer_list>; ^; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/range_access.h:37:10: note: submodule of top-level module 'std' implicitly imported here; #include <type_traits> // common_type_t, make_signed_t; ^; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HE",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10528:24352,Install,Installed,24352,https://root.cern,https://github.com/root-project/root/issues/10528,1,['Install'],['Installed']
Deployability,"clude <new>; ^; While building module 'Core':; While building module 'Cling_Runtime' imported from input_line_2:1:; While building module 'Cling_Runtime_Extra' imported from /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/RuntimeUniverse.h:27:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:17:10: note: submodule of top-level module 'std' implicitly imported here; #include <type_traits>; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:93:41: error: use of undeclared identifier 'std'; template <class T, class = typename std::enable_if<std::is_integral<T>::value>::type>; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:93:56: error: use of undeclared identifier 'std'; template <class T, class = typename std::enable_if<std::is_integral<T>::value>::type>; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:93:83: error: expected ',' or '>' in template-parameter-list; template <class T, class = typename std::enable_if<std::is_integral<T>::value>::type>; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:95:14: error: use of undeclared identifier 'std'; return std::is_signed<T>::value; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:94:35: error: no return statement in constexpr function; static constexpr EStorageType determineStorageTypeT(T*) {; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:198:11: error: use of undeclared identifier 'std'; = std::is_reference<T>::value ?; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:199:40: error: use of undeclared identifier 'std'; determineStorageTypeT((typename std::remove_reference<T>::type**)nullptr); ^; /hom",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10528:17353,Install,Installed,17353,https://root.cern,https://github.com/root-project/root/issues/10528,1,['Install'],['Installed']
Deployability,"clude \""cling/Interpreter/RuntimeUniverse.h\""; - #include \""cling/Interpreter/DynamicLookupRuntimeUniverse.h\""; - namespace cling { class Interpreter; namespace runtime { Interpreter* gCling }}}; - PrintValue; These are passed to Cling as string and initialized at the start up time. So I think it makes sense to reduce top-level global variables, #includes and eagerly deserializations. 1. Global variables; If we break at emitModule, we can get a list of global variables and functions which are actually deserialized. These include functions, variables, STL classes and all the functions derives from them. I tried to change them to for example constexpr, so that it's processed at compile time.; 2. Eagerly Deserialized decls; Thanks to @Axel 's hint and tip, we could minimize eagerly deserialized decls deserialized in ASTReader::PassInterestingDeclsToConsumer. We already removed most of eagerly deserialized decls (Some are remaining to be removed, some are hard to remove and some don't cost a lot). So far, we got 9.2% of cpu time improvement, 15% real time improvement and 8.8% of memory improvement at start up time in release build. I took an average, but the variation of the real-time was very big. - root.exe -q -l; - master; cpu time = 0.09186914285714286 sec (average of 7 times); real time = 0.18371428571428572 sec (average of 7 times); res memory = 142.008 Mbytes. - HEAD; cpu time = 0.08337842857142856 sec; real time = 0.15685714285714286 sec; res memory = 129.508 Mbytes. - hsimple.C; Improved by 13% of cpu time and 8.5% of memory; - master; cpu time = 0.0954708 sec (average); res memory = 142.891 Mbytes. - HEAD; cpu time = 0.0833258 sec; res memory = 130.73 Mbytes. With modules; - Improvement by 17.7% in cputime and 2% in memory on root.exe -q -l; (For memory, small improvement is because most of the memory is taken by LoadModules); - With this patch, release modules is 11.2% slower in cpu time and 6% better in residential memory compared to release without modules.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1790:1202,release,release,1202,https://root.cern,https://github.com/root-project/root/pull/1790,4,"['patch', 'release']","['patch', 'release']"
Deployability,"clude/math.h:303:34: note: expanded from macro '__MATH_PRECNAME'; # define __MATH_PRECNAME(name,r) name##f##r; ^; <scratch space>:180:1: note: expanded from here; __cosf; ^; cling: In file included from <built-in>:1:; In file included from /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_runtime_wrapper.h:148:; /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:71:10: error: reference to __device__ function '__nvvm_atom_add_gen_d' in __host__ function; return __nvvm_atom_add_gen_d(__p, __v);; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:71:10: note: '__nvvm_atom_add_gen_d' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:74:10: error: reference to __device__ function '__nvvm_atom_cta_add_gen_d' in __host__ function; return __nvvm_atom_cta_add_gen_d(__p, __v);; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:74:10: note: '__nvvm_atom_cta_add_gen_d' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:77:10: error: reference to __device__ function '__nvvm_atom_sys_add_gen_d' in __host__ function; return __nvvm_atom_sys_add_gen_d(__p, __v);; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:77:10: note: '__nvvm_atom_sys_add_gen_d' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:192:18: error: static declaration of '__exp10f' follows non-static declaration; __DEVICE__ float __exp10f(float __a) { return __nv_fast_exp10f(__a); }; ^; cling: /usr/include/x86_64-linux-gnu/bits/mathcalls.h:114:1: note: previous decl",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7518:4130,install,install,4130,https://root.cern,https://github.com/root-project/root/issues/7518,1,['install'],['install']
Deployability,"cluded from /opt/root/src/tree/dataframe/src/RNTupleDS.cxx:19:; /opt/root/install/include/ROOT/RField.hxx:111:7: note: candidate: ‘ROOT::Experimental::Detail::RFieldBase::RColumnRepresentations::RColumnRepresentations(const TypesList_t&, const TypesList_t&)’; 111 | RColumnRepresentations(const TypesList_t &serializationTypes, const TypesList_t &deserializationExtraTypes);; | ^~~~~~~~~~~~~~~~~~~~~~; /opt/root/install/include/ROOT/RField.hxx:111:49: note: no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const ROOT::Experimental::Detail::RFieldBase::RColumnRepresentations::TypesList_t&’ {aka ‘const std::vector<std::vector<ROOT::Experimental::EColumnType> >&’}; 111 | RColumnRepresentations(const TypesList_t &serializationTypes, const TypesList_t &deserializationExtraTypes);; | ~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~; /opt/root/install/include/ROOT/RField.hxx:110:7: note: candidate: ‘ROOT::Experimental::Detail::RFieldBase::RColumnRepresentations::RColumnRepresentations()’; 110 | RColumnRepresentations();; | ^~~~~~~~~~~~~~~~~~~~~~; /opt/root/install/include/ROOT/RField.hxx:110:7: note: candidate expects 0 arguments, 2 provided; /opt/root/install/include/ROOT/RField.hxx:107:10: note: candidate: ‘ROOT::Experimental::Detail::RFieldBase::RColumnRepresentations::RColumnRepresentations(const ROOT::Experimental::Detail::RFieldBase::RColumnRepresentations&)’; 107 | class RColumnRepresentations {; | ^~~~~~~~~~~~~~~~~~~~~~; /opt/root/install/include/ROOT/RField.hxx:107:10: note: candidate expects 1 argument, 2 provided; /opt/root/install/include/ROOT/RField.hxx:107:10: note: candidate: ‘ROOT::Experimental::Detail::RFieldBase::RColumnRepresentations::RColumnRepresentations(ROOT::Experimental::Detail::RFieldBase::RColumnRepresentations&&)’; /opt/root/install/include/ROOT/RField.hxx:107:10: note: candidate expects 1 argument, 2 provided; make[2]: *** [tree/dataframe/CMakeFiles/ROOTDataFrame.dir/build.make:524: tree/dataframe/CMakeFiles/ROOTDataFrame.dir/src",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13103:2332,install,install,2332,https://root.cern,https://github.com/root-project/root/issues/13103,1,['install'],['install']
Deployability,cmake fails if `arrow` not installed while ARROW_VERSION is not defined,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11708:27,install,installed,27,https://root.cern,https://github.com/root-project/root/pull/11708,1,['install'],['installed']
Deployability,"cmake fails if `arrow` not installed while ARROW_VERSION is not defined. Error message is:; ```; CMake Error at cmake/modules/FindArrow.cmake:40 (if):; if given arguments:. ""0"" ""AND"" ""VERSION_GREATER_EQUAL"" ""10.0.0"". Unknown arguments specified; Call Stack (most recent call first):; cmake/modules/SearchInstalledSoftware.cmake:18 (_find_package); cmake/modules/SearchInstalledSoftware.cmake:1062 (find_package); CMakeLists.txt:249 (include); ```",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11706:27,install,installed,27,https://root.cern,https://github.com/root-project/root/pull/11706,1,['install'],['installed']
Deployability,cmake: do not install python binding with SOVERSION,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16228:14,install,install,14,https://root.cern,https://github.com/root-project/root/pull/16228,1,['install'],['install']
Deployability,"code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->; ```Python; import ROOT. x = ROOT.RooRealVar('x', '', 0, 1); y = ROOT.RooRealVar('y', '', 0, 1). mu = ROOT.RooRealVar(""mu"", """", 0.5, 0, 1); gx = ROOT.RooGaussian(""gx"", """", x, mu, ROOT.RooFit.RooConst(0.2)); gy = ROOT.RooGaussian(""gy"", """", y, mu, ROOT.RooFit.RooConst(0.2)); g = ROOT.RooProdPdf(""g"", '', [gx, gy]). # works; condg1 = ROOT.RooProdPdf(""g"", '', {gx}, Conditional = (gy, {y})); condg2 = ROOT.RooProdPdf(""g"", '', {gx}, Conditional = ({gy}, y)); condg3 = ROOT.RooProdPdf(""g"", '', {gx}, Conditional = ({gy}, {y})). data = g.generate({x,y}, NumEvents = 10000). # often segfaults, valgrind reports problems; g.fitTo(data, Minos = {mu}, PrintLevel = -1). # both of these work; g.fitTo(data, ROOT.RooFit.Minos({mu}), PrintLevel = -1); g.fitTo(data, Minos = ROOT.RooArgSet(mu), PrintLevel = -1). # works; constr = ROOT.RooGaussian('c', '', mu, ROOT.RooFit.RooConst(0.5), ROOT.RooFit.RooConst(0.01)); g.fitTo(data, ExternalConstraints = {constr}, PrintLevel = -1). # works; gWithConstr = ROOT.RooProdPdf('gWC', '', [g, constr]); gWithConstr.fitTo(data, Constrain = {mu}, PrintLevel = -1). frame = x.frame(). # works; g.plotOn(frame, Components = {g}). # segfault/valgrind errors; g.plotOn(frame, Slice = {y}). # segfault/valgrind errors; g.plotOn(frame, Project = {y}). fitres = g.fitTo(data, PrintLevel = -1, Save = True); g.plotOn(frame, VisualizeError = (fitres, {x})). # valgrind reports problems; g.paramOn(frame, Parameters = {mu}). # segfault; datax = data.reduce(SelectVars = {x}); ```. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->; ROOT 6.26.07 from LCG dev4; ROOT master from LCG dev3. ### Additional context; <!--; Add any other context about the problem here.; -->",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11421:3366,install,install,3366,https://root.cern,https://github.com/root-project/root/issues/11421,1,['install'],['install']
Deployability,"com/root-project/root/issues/8742#issuecomment-888177051. There is a way to document CMake flags so that they appear neatly within the Doxygen reference guide of ROOT. ### Optional: share how it could be improved; https://github.com/ferdymercury/cmake-modules/blob/master/make_documentation.cmake; http://jesnault.fr/website/document-your-cmake-code-within-doxygen/. In the main, I use add_subdirectory(doc), and then I create a ""doc"" folder with a .gitignore containing cmake.dox, and then a CMakeLists.txt with more or less this structure:. ```; ## CMAKE_DOCUMENTATION_START CMakeLists.txt; ##; ## Main CMakeFile for compiling zdt-daq.; ## Following variables can be configured when running ccmake:; ## <table>; ## <caption id=""config-cmake"">Table of configurable CMake parameters</caption>; ## <tr><th>Variable <th>Values <th>Description; ## <tr><td>BUILD_DOCUMENTATION <td>ON (OFF) <td>Build Doxygen HTML documentation; ## <tr><td>CLI11_DIR <td>/opt/CLI11 <td>CLI11 git repository; ## <tr><td>CMAKE_BUILD_TYPE <td>Release (Debug) <td>Choose the type of build; ## <tr><td>ENABLE_TESTS <td>ON (OFF) <td>Build CTests; #~ ## <tr><td>FunctionalPlus_DIR <td>/opt/FunctionalPlus/install/lib/cmake/FunctionalPlus <td>FPlus install folder containing FindFunctionalPlus; ## <tr><td>CMAKEMODULES_DIR <td>/opt/cmake-modules <td>rpavlik git source dir, use https://github.com/ferdymercury/cmake-modules and git checkout master; ## <tr><td>ROOT_DIR <td>$ROOTSYS (/opt/root) <td>ROOT build directory; ## <tr><td>ZSTR_DIR <td>/opt/zstr <td>ZSTR git repository; ## </table>; ##; ## CMAKE_DOCUMENTATION_END; ## See https://www.stack.nl/~dimitri/doxygen/manual/tables.html. # Add Doxygen documentation https://stackoverflow.com/questions/34878276/build-doxygen-from-cmake-script. ### cmake-modules; if(NOT DEFINED CMAKEMODULES_DIR); set (CMAKEMODULES_DIR ""/opt/cmake-modules"" CACHE STRING ""cmake-modules git repository""); endif(); list(APPEND CMAKE_MODULE_PATH ""${CMAKEMODULES_DIR}""). option(BUILD_DOCUMENTATION ""Cr",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/8999:1106,Release,Release,1106,https://root.cern,https://github.com/root-project/root/issues/8999,3,"['Release', 'install']","['Release', 'install']"
Deployability,compilation fails on FreeBSD 13.2 RELEASE,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12787:34,RELEASE,RELEASE,34,https://root.cern,https://github.com/root-project/root/issues/12787,1,['RELEASE'],['RELEASE']
Deployability,"concatenation of pages from the same page-group can achieve.; - `RPageSinkDaos::CommitSealedPageVImpl()` maps pages from the same page-group to the same attribute key, thus concatenating them on the DAOS-side (i.e. relies on scatter-gathered I/O) until the cage limit is reached. The cage sizes can vary due to page compression and the length of page-groups, thus it is calculated and stored to be referenced when reading back.; - `RWOperation` is generalized to allow many IOVs associated with one attribute key in a request, enabling the non-contiguous buffers of sealed pages to be aggregated into a cage under the same position ID in the object store. ; - `RNTupleLocator`: leverages the changes introduced by PR #11828; all DAOS locators use the type `kDaos` and payload format `RNTupleLocatorObject64`. To locate pages within a cage, the 64-bit payload encodes the cage index in the LS half and the offset in the MS half. If caging is disabled, the offset remains zero, and each 'cage' is trivially the sealed page.; - Currently, there are no plans to enable support for page-wise reading without cluster caching if the desired page is caged, as that use-case is not performant and thus not recommended. Caged pages in DAOS should be accessed with the page buffering read option turned on. By disallowing the reading of a single caged page when the wrapping cage size is unknown, the cage sizes - or upper bounds for them - do not need to be passed to `RPageSourceDaos`; they are trivially devised in `RPageSourceDaos::LoadClusters()` by accessing all page locators in a buffered page-group. ; - `RPageSourceDaos::LoadClusters()` and `RPageSourceDaos::PopulatePageFromCluster()` extract the cage position and offset-in-cage from each sealed page's `RNTupleLocator::fPosition`. The former function has been changed to coalesce the page locators by cage index and perform a single read operation per cage. ## Checklist:. - [x] tested changes locally + HPE `delphi` cluster; - [x] updated the docs",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11466:3364,update,updated,3364,https://root.cern,https://github.com/root-project/root/pull/11466,1,['update'],['updated']
Deployability,"conda/miniconda3/envs/cxROOTGEANT4/bin/../include/c++/v1/cmath:325:9: error: no member named 'isnan' in the global namespace; using ::isnan;; ~~^; /Users/chenxu/software/conda/miniconda3/envs/cxROOTGEANT4/bin/../include/c++/v1/cmath:326:9: error: no member named 'isnormal' in the global namespace; using ::isnormal;; ~~^; /Users/chenxu/software/conda/miniconda3/envs/cxROOTGEANT4/bin/../include/c++/v1/cmath:327:9: error: no member named 'isgreater' in the global namespace; using ::isgreater;; ~~^; /Users/chenxu/software/conda/miniconda3/envs/cxROOTGEANT4/bin/../include/c++/v1/cmath:328:9: error: no member named 'isgreaterequal' in the global namespace; using ::isgreaterequal;; ...; Error in <ACLiC>: Executing '/Users/chenxu/software/conda/miniconda3/envs/cxROOTGEANT4/bin/rootcling -v0 ""--lib-list-prefix=/Users/chenxu/tmp/aa1_cpp_ACLiC_map"" -f ""/Users/chenxu/tmp/aa1_cpp_ACLiC_dict.cxx"" -I$ROOTSYS/include -I""/Users/chenxu/software/conda/miniconda3/envs/cxROOTGEANT4/etc/"" -I""/Users/chenxu/software/conda/miniconda3/envs/cxROOTGEANT4/etc//cling"" -I""/Users/chenxu/software/conda/miniconda3/envs/cxROOTGEANT4/include/"" -I""/Users/chenxu/software/conda/miniconda3/envs/cxROOTGEANT4/include"" -I""/usr/local/include/"" -I""/opt/X11/include/"" -I""/Users/chenxu/software/install2/include/healpix_cxx/"" -D__ACLIC__ -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include ""/Users/chenxu/tmp/./aa1.cpp"" ""/Users/chenxu/tmp/aa1_cpp_ACLiC_linkdef.h""' failed!; ```. ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->. ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->. ### Setup. 1. ROOT version 6.24.00; 2. OS X 10.15; 3. conda install. ### Additional context; It's a bug for Mac for a long time even in other softwares.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/8418:3479,install,install,3479,https://root.cern,https://github.com/root-project/root/issues/8418,1,['install'],['install']
Deployability,conflict with installed nlohman/json,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14634:14,install,installed,14,https://root.cern,https://github.com/root-project/root/issues/14634,1,['install'],['installed']
Deployability,"const&, cling::CompilationOptions const&, cling::Transaction**) const () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #26 0x00002b8fceee69fa in cling::Interpreter::declare(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, cling::Transaction**) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #27 0x00002b8fceee79e1 in cling::Interpreter::DeclareCFunction(llvm::StringRef, llvm::StringRef, bool, cling::Transaction*&) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #28 0x00002b8fceeeaa2d in cling::Interpreter::compileFunction(llvm::StringRef, llvm::StringRef, bool, bool) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #29 0x00002b8fcee7556b in TClingCallFunc::compile_wrapper (this=0x2b913aff4c00, wrapper_name=..., wrapper=..., withAccessControl=true) at /data/cmsbld/jenkins/workspace/build-any-ib/w/BUILD/slc7_amd64_gcc900/lcg/root/6.23.01-8e7a9c4406e195d049d6d9526c8e2ae6/root-6.23.01/core/metacling/src/TClingCallFunc.cxx:267; #30 0x00002b8fcee78390 in TClingCallFunc::make_wrapper (this=0x2b913aff4c00) at /data/cmsbld/jenkins/workspace/build-any-ib/w/BUILD/slc7_amd64_gcc900/lcg/root/6.23.01-8e7a9c4406e195d049d6d9526c8e2ae6/root-6.23.01/core/metacling/src/TClingCallFunc.cxx:1117; #31 0x00002b8fcee7d5a8 in TClingCallFunc::IFacePtr (this=0x2b913aff4c00) at /data/cmsbld/jenkins/workspace/build-any-ib/w/BUILD/slc7_amd64_gcc900/lcg/root/6.23.01-8e7a9c4406e195d049d6d9526c8e2ae6/root-6.23.01/core/metacling/src/TClingCallFunc.cxx:2301; #32 0x00002b8fced52d75 in TCling::CallFunc_IFacePtr (this=0x2b8fb708cf80, func=0x2b913aff4c00) at /data/cmsbld/je",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7093:10713,patch,patch,10713,https://root.cern,https://github.com/root-project/root/issues/7093,1,['patch'],['patch']
Deployability,"const*) + 2528; 36 rootcling_stage1 0x0000000104920bd4 RootClingMain(int, char**, bool) + 13976; 37 rootcling_stage1 0x000000010492fc04 ROOT_rootcling_Driver + 868; 38 rootcling_stage1 0x00000001048c8308 main + 64; 39 dyld 0x000000018768c274 start + 2840; PLEASE submit a bug report to https://github.com/llvm/llvm-project/issues/ and include the crash backtrace.; Stack dump:; 0.	Program arguments: /Users/josiahlee/WORK/Tools/root_build_release/core/rootcling_stage1/src/rootcling_stage1 -v2 -f G__Core.cxx -cxxmodule -s /Users/josiahlee/WORK/Tools/root_build_release/lib/libCore.so -excludePath /Users/josiahlee/WORK/Tools/root-6.32.04 -excludePath /Users/josiahlee/WORK/Tools/root_build_release/ginclude -excludePath /Users/josiahlee/WORK/Tools/root_build_release/externals -excludePath /Users/josiahlee/WORK/Tools/root_build_release/builtins -writeEmptyRootPCM -m _Builtin_intrinsics -mByproduct _Builtin_intrinsics -mByproduct ROOT_Foundation_Stage1_NoRTTI -mByproduct ROOT_Foundation_C -mByproduct ROOT_Rtypes -DR__ARC4_STDLIB -D__STDC_NO_COMPLEX__ -D__COMPLEX_H__ -D_COMPLEX_H -D__CLANG_STDATOMIC_H -compilerI/Users/josiahlee/WORK/Tools/GEANT/install/include -compilerI/Users/josiahlee/WORK/Tools/clhep_install/include -compilerI/opt/homebrew/opt/libomp/include -compilerI/opt/homebrew/opt/open-mpi/include -compilerI/Users/josiahlee/WORK/Tools/xerces-c-3.2.4-install/include -compilerI/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX15.0.sdk/usr/include/c++/v1 -compilerI/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/16/include -compilerI/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX15.0.sdk/usr/include -compilerI/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/include -compilerI/Users/josiahlee/WORK/Tools/GEANT/install/include -compilerI/Users/josiahlee/WORK/Tools/clhep_install/include -compilerI/opt/homebrew/opt/libo",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/16498:11025,install,install,11025,https://root.cern,https://github.com/root-project/root/issues/16498,1,['install'],['install']
Deployability,constructor for 'TSpectrum2' in /opt/root_src/hist/spectrum/src/TSpectrum2.cxx:1721; 2: Calling constructor for 'TNamed' in /opt/root_src/hist/spectrum/src/TSpectrum2.cxx:57; 3: Calling default constructor for 'TObject' in /opt/root_src/core/base/inc/TNamed.h:37; 4: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 5: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 6: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Calling default constructor for 'TSpectrum' in /opt/root_src/hist/spectrum/src/TSpectrum.cxx:2590; 2: Calling constructor for 'TNamed' in /opt/root_src/hist/spectrum/src/TSpectrum.cxx:51; 3: Calling default constructor for 'TObject' in /opt/root_src/core/base/inc/TNamed.h:37; 4: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 5: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 6: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Calling default constructor for 'TMatrixTSym<double>' in /opt/root_src/hist/hist/src/TPrincipal.cxx:880; 2: Calling default constructor for 'TMatrixTBase<double>' in /opt/root_src/math/matrix/inc/TMatrixTSym.h:54; 3: Calling default constructor for 'TObject' in /opt/root_src/math/matrix/inc/TMatrixTBase.h:115; 4: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 5: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 6: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TSto,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:26604,Update,UpdateIsOnHeap,26604,https://root.cern,https://github.com/root-project/root/issues/7412,1,['Update'],['UpdateIsOnHeap']
Deployability,cppyy update changed behavior of exceptions thrown in c++ and caught in python,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15375:6,update,update,6,https://root.cern,https://github.com/root-project/root/issues/15375,1,['update'],['update']
Deployability,crash after installing root version v6-22-00 on suse Leap 15-2,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6645:12,install,installing,12,https://root.cern,https://github.com/root-project/root/issues/6645,1,['install'],['installing']
Deployability,"cro '__MATHDECL'; __MATHDECL_1(type, __CONCAT(__,function),suffix, args); ^; /usr/include/math.h:283:15: note: expanded from macro '__MATHDECL_1'; extern type __MATH_PRECNAME(function,suffix) args __THROW; ^; /usr/include/math.h:303:34: note: expanded from macro '__MATH_PRECNAME'; # define __MATH_PRECNAME(name,r) name##f##r; ^; <scratch space>:180:1: note: expanded from here; __cosf; ^; cling: In file included from <built-in>:1:; In file included from /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_runtime_wrapper.h:148:; /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:71:10: error: reference to __device__ function '__nvvm_atom_add_gen_d' in __host__ function; return __nvvm_atom_add_gen_d(__p, __v);; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:71:10: note: '__nvvm_atom_add_gen_d' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:74:10: error: reference to __device__ function '__nvvm_atom_cta_add_gen_d' in __host__ function; return __nvvm_atom_cta_add_gen_d(__p, __v);; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:74:10: note: '__nvvm_atom_cta_add_gen_d' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:77:10: error: reference to __device__ function '__nvvm_atom_sys_add_gen_d' in __host__ function; return __nvvm_atom_sys_add_gen_d(__p, __v);; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:77:10: note: '__nvvm_atom_sys_add_gen_d' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:192:18: error: sta",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7518:3867,install,install,3867,https://root.cern,https://github.com/root-project/root/issues/7518,1,['install'],['install']
Deployability,"cro (new ROOT session at each time).; The new overlaps also appear mostly in the ""last volumes in the geometry"" to be tested.; So it could be that something is not so stable in the sequence of random points:; - first volume getting always mostly the same points independent of the number of samples ; - while last volume getting set of points depending highly on number of samples. I did not manage to reliably reproduce it however so I would create a separate issue if I find the time to test and confirm it later. ### Reproducer. Files in archive: examine_mcbm_beam_2019_03.geo.root, check_overlaps.C, root_overlaps_samp_thr.patch; [check_overlaps.tar.gz](https://github.com/root-project/root/files/14261529/check_overlaps.tar.gz). 1. Run once the macro with master: some big overlaps, some known overlaps of size ~0.4, some overlap of size ~10^-8 only if higher number of samples provided, overlap threshold does not have an effect in sampling mode calls. 2. Apply following patch; ```diff; diff --git a/geom/geompainter/src/TGeoChecker.cxx b/geom/geompainter/src/TGeoChecker.cxx; index fc93cc8b82..0e77517729 100644; --- a/geom/geompainter/src/TGeoChecker.cxx; +++ b/geom/geompainter/src/TGeoChecker.cxx; @@ -1193,7 +1193,7 @@ TGeoOverlap *TGeoChecker::MakeCheckOverlap(const char *name, TGeoVolume *vol1, T; /// Check illegal overlaps for volume VOL within a limit OVLP by sampling npoints; /// inside the volume shape. -void TGeoChecker::CheckOverlapsBySampling(TGeoVolume *vol, Double_t /* ovlp */, Int_t npoints) const; +void TGeoChecker::CheckOverlapsBySampling(TGeoVolume *vol, Double_t ovlp, Int_t npoints) const; {; Int_t nd = vol->GetNdaughters();; if (nd < 2); @@ -1268,7 +1268,7 @@ void TGeoChecker::CheckOverlapsBySampling(TGeoVolume *vol, Double_t /* ovlp */,; }; // The point is inside 2 or more daughters, check safety; safe = shape->Safety(local, kTRUE);; - // if (safe < ovlp) continue;; + if (safe < ovlp) continue;; // We really have found an overlap -> store the point in a con",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14675:3620,patch,patch,3620,https://root.cern,https://github.com/root-project/root/issues/14675,1,['patch'],['patch']
Deployability,ct' in /opt/root_src/io/sql/src/TSQLStructure.cxx:825; 7: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 8: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 9: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Taking false branch in /opt/root_src/io/io/src/TStreamerInfoActions.cxx:3246; 2: Control jumps to 'case kTString:' at line 3291 in /opt/root_src/io/io/src/TStreamerInfoActions.cxx:3248; 3: Calling 'TActionSequence::AddAction' in /opt/root_src/io/io/src/TStreamerInfoActions.cxx:3291; 4: Calling constructor for 'TConfiguredAction' in /opt/root_src/io/io/inc/TStreamerInfoActions.h:185; 5: Calling default constructor for 'TObject' in /opt/root_src/io/io/inc/TStreamerInfoActions.h:102; 6: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 7: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 8: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Assuming the condition is false in /opt/root_src/math/matrix/src/TMatrixTUtils.cxx:1306; 2: Left side of '||' is false in /opt/root_src/math/matrix/src/TMatrixTUtils.cxx:1306; 3: Assuming the condition is false in /opt/root_src/math/matrix/src/TMatrixTUtils.cxx:1306; 4: Taking false branch in /opt/root_src/math/matrix/src/TMatrixTUtils.cxx:1306; 5: Calling default constructor for 'TMatrixTSym<double>' in /opt/root_src/math/matrix/src/TMatrixTUtils.cxx:1313; 6: Calling default constructor for 'TMatrixTBase<double>' in /opt/root_src/math/matrix/inc/TMatrixTSym.h:54; 7: Calling default constructor for 'TObj,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:41440,Update,UpdateIsOnHeap,41440,https://root.cern,https://github.com/root-project/root/issues/7412,1,['Update'],['UpdateIsOnHeap']
Deployability,"ct/rootsrc/core/metacling/src/TCling.cxx:3556; #5 0x00007f132bf6da60 in operator() (__closure=0x7f131ad40bc0, ; codeSlice=""ROOT::Internal::RDF::CallBuildAction<ROOT::Internal::RDF::ActionTags::Histo1D, Int_t>(reinterpret_cast<std::shared_ptr<ROOT::Detail::RDF::RNodeBase>*>(0x7f130be1a880), new const char*[1]{\""b1\""}, 1, 1, ""...); at /home/vpadulan/programs/rootproject/rootsrc/tree/dataframe/src/RDFUtils.cxx:340; #6 0x00007f132bf6def9 in ROOT::Internal::RDF::InterpreterCalc (; code=""ROOT::Internal::RDF::CallBuildAction<ROOT::Internal::RDF::ActionTags::Histo1D, Int_t>(reinterpret_cast<std::shared_ptr<ROOT::Detail::RDF::RNodeBase>*>(0x7f130be1a880), new const char*[1]{\""b1\""}, 1, 1, ""..., context=""RLoopManager::Run""); ```. Which as a first instinct hints at some possible contention between the different things cling is doing in the two threads. For the moment I cannot come up with an easier reproducer, see next section for more details. # How to reproduce. Here is the patch to print the statements that show the PID (as .txt so that I can attach it to this issue):; [0001-Print-statements-for-DistRDF-Cling-failure.txt](https://github.com/root-project/root/files/9735187/0001-Print-statements-for-DistRDF-Cling-failure.txt). The following is a Python script with the test; ```py; import os. import pyspark; from dask.distributed import Client, LocalCluster. import ROOT; RunGraphs = ROOT.RDF.Experimental.Distributed.RunGraphs; SparkDF = ROOT.RDF.Experimental.Distributed.Spark.RDataFrame; DaskDF = ROOT.RDF.Experimental.Distributed.Dask.RDataFrame; # verbosity = ROOT.Experimental.RLogScopedVerbosity(ROOT.Detail.RDF.RDFLogChannel(), ROOT.Experimental.ELogLevel.kDebug+10). def connection():; daskconn = Client(LocalCluster(n_workers=2, threads_per_worker=1, processes=True, memory_limit=""2GiB"")). conf = {""spark.master"": ""local[2]"", ""spark.driver.memory"": ""4g"", ""spark.app.name"": ""roottest-distrdf-common""}; sparkconf = pyspark.SparkConf().setAll(conf.items()); sparkconn = pyspark.Spar",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11515:11854,patch,patch,11854,https://root.cern,https://github.com/root-project/root/issues/11515,1,['patch'],['patch']
Deployability,"cted behavior; <!--; A clear and concise description of what you expected to happen.; -->; Expect that one event loop can be triggered with different nodes (downstream of filters, whether or not they produce exclusive sets of events) writing output to unique files via Snapshot. Without this capability, have to fall back to multiple event loops over extensive amounts of data to separate them into different files, which is not really expected. ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->; embedded in python script here; I first saw this issue in a more pythonic script (e.g. snapshot options set via cppyy rather than doing everything in the intepreter); ```; import ROOT; ROOT.gInterpreter.ProcessLine(""""""; ROOT::EnableImplicitMT(8);; auto df = ROOT::RDataFrame(10000).Define(""x"", ""rdfentry_"").Define(""y"", ""fabs(rdfentry_ - 5000)"").Define(""z"", ""rdfslot_"");; ROOT::RDF::RSnapshotOptions opts;; opts.fLazy = true;; auto colNames = df.GetColumnNames();; auto c = df.Count();; auto n1 = df.Filter(""x > 2000 && y < 0"").Snapshot(""Events"", ""A.root"", colNames, opts);; auto n4 = df.Filter(""z < 3 && y >= 0"").Snapshot(""Events"", ""D.root"", colNames);; std::cout << c.GetValue() << std::endl;; """"""); ```. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->; Any recent root version should behave the same. This was first seen in 6.18, 6.20... now confirmed still present in 6.25 (.../dev3/Sun/... build), as obtained via the LCG stack.; ```; export SCRAM_ARCH=slc7_amd64_gcc830; source /cvmfs/sft.cern.ch/lcg/views/dev3/Sun/x86_64-centos7-gcc8-opt/setup.sh; ```; Reproduced on lxplus (CC7). ### Additional context; <!--; Add any other context about the problem here.; -->",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7500:2173,install,install,2173,https://root.cern,https://github.com/root-project/root/issues/7500,1,['install'],['install']
Deployability,"ctive function is provided by RooFit and is in general not thread safe. ### What is the expected behaviour?. Probably RooFit should disable the minuit2 multithreading when it calls minuit2 (but actually I couldn't even figure out how to do this myself beyond the brute force solution of setting the environment variable OMP_NUM_THREADS=1. ### How to reproduce?. In a build with minuit2_omp (e.g. standard root package on arch linux). ```python. import ROOT; import time. def gaussian_minuit2():; """"""; """""". axis = ROOT.RooRealVar(""x"", ""x"", 50, 130); axis.setBins(100); axis.setRange(50, 130). mu = ROOT.RooRealVar(""mu"", ""mu"", 91.0, 85.0, 97.0) # 91; sigma = ROOT.RooRealVar(""sigma"", ""sigma"", 4.0, 0.5, 10.0) # 4. background = ROOT.RooGaussian(""gauss_bkg"", ""Gaussian background"",; axis, mu, sigma). NDATA = 100000. data = background.generateBinned({axis}, NDATA); data.SetName(""Data_gauss""). mu2 = ROOT.RooRealVar(""mu2"", ""mu2"", 97.0, 50.0, 130.0) # 91; sigma2 = ROOT.RooRealVar(""sigma2"", ""sigma2"", 6.0, 0.5, 10.0) # 4. bkg_fit = ROOT.RooGaussian(""bkg_fit"", ""Gaussian background for fit"",; axis, mu2, sigma2). expected_num = ROOT.RooRealVar(; ""nexp"", ""nexp"", NDATA, 90000, 110000). model = ROOT.RooExtendPdf(; ""Extended"", ""extend"", bkg_fit, expected_num). res2 = model.fitTo(data, ; ROOT.RooFit.Extended(True), ; ROOT.RooFit.Minimizer(""Minuit2""),; ROOT.RooFit.Save(True), ; ROOT.RooFit.PrintLevel(0)). print(""***********************************""); res2.Print(); res2.correlationMatrix().Print(); print(res2.status()); print(res2.covQual()). '''; c = ROOT.TCanvas(); c.cd(); frame = axis.frame(Title=""Title""); data.plotOn(frame); model.plotOn(frame); frame.Draw(); c.SaveAs(""gaussian.png""); '''. if __name__ == '__main__':. ROOT.RooRandom.randomGenerator().SetSeed(42); gaussian_minuit2(). print(ROOT.RooRandom.randomGenerator().GetSeed()). ```. ### ROOT version. 6.28/04. ### How did you install ROOT?. pacman. ### Which operating system are you using?. Arch Linux. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12940:2138,install,install,2138,https://root.cern,https://github.com/root-project/root/issues/12940,1,['install'],['install']
Deployability,"ctor; $4 = false; (gdb) p isTemplate; $5 = false; ```. If i treat this as a special case and add an explicit test on the type. ```; diff --git a/bindings/pyroot/cppyy/CPyCppyy/src/ProxyWrappers.cxx b/bindings/pyr; oot/cppyy/CPyCppyy/src/ProxyWrappers.cxx; index bda60720cf..897d7b4967 100644; --- a/bindings/pyroot/cppyy/CPyCppyy/src/ProxyWrappers.cxx; +++ b/bindings/pyroot/cppyy/CPyCppyy/src/ProxyWrappers.cxx; @@ -245,14 +245,21 @@ static int BuildScopeProxyDict(Cppyy::TCppScope_t scope, PyObject* pyclass); ; // for operator[]/() that returns by ref, also add __setitem__; if (setupSetItem) {; - TemplateProxy* pysi = (TemplateProxy*)PyObject_GetAttrString(pyclass, const_cast<char*>(""__setitem__""));; - if (!pysi) {; - pysi = TemplateProxy_New(mtCppName, ""__setitem__"", pyclass);; - PyObject_SetAttrString(pyclass, const_cast<char*>(""__setitem__""), (PyObject*)pysi);; + auto setitemMeth = new CPPSetItem(scope, method);; + PyObject* pysi_o = PyObject_GetAttrString(pyclass, const_cast<char*>(""__setitem__""));; + if (pysi_o && CPPOverload_Check(pysi_o)) {; + ((CPPOverload*)pysi_o)->AdoptMethod(setitemMeth);; }; - if (isTemplate) pysi->AdoptTemplate(new CPPSetItem(scope, method));; - else pysi->AdoptMethod(new CPPSetItem(scope, method));; - Py_XDECREF(pysi);; + else {; + TemplateProxy* pysi = (TemplateProxy*)pysi_o;; + if (!pysi) {; + pysi = TemplateProxy_New(mtCppName, ""__setitem__"", pyclass);; + PyObject_SetAttrString(pyclass, const_cast<char*>(""__setitem__""), (PyObject*)pysi);; + }; + if (isTemplate) pysi->AdoptTemplate(setitemMeth);; + else pysi->AdoptMethod(setitemMeth);; + }; + Py_XDECREF(pysi_o);; }; ; } else {; ```. then i can confirm that the problem goes away, both for the reproducer and; the failing unit tests in the ATLAS build. But this seems ugly,; so maybe there's a better fix. thanks,; sss. ### Reproducer. See attached. ### ROOT version. root-6.28.00-patches. ### Installation method. lcg build. ### Operating system. lxplus9. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13410:6414,patch,patches,6414,https://root.cern,https://github.com/root-project/root/issues/13410,2,"['Install', 'patch']","['Installation', 'patches']"
Deployability,"cts/ROOT-6.24.06/src/ROOT-6.24.06-build/include/""; -I""/data/sftnight/build/workspace/lcg_release_pipeline/install/tbb/2020_U2/aarch64-centos7-gcc8-opt/include""'; ```; The first three elements are directly the contents of `$ROOT_INCLUDE_PATH` which in the that setup, which is . ```; $ echo $ROOT_INCLUDE_PATH; /cvmfs/sft.cern.ch/lcg/views/LCG_101arm/aarch64-centos7-gcc8-opt/include/Geant4:/cvmfs/sft.cern.ch/lcg/views/LCG_101arm/aarch64-centos7-gcc8-opt/include:/cvmfs/sft.cern.ch/lcg/releases/Python/3.9.6-b0f98/aarch64-centos7-gcc8-opt/include/python3.9; ```; ### To Reproduce; On an ARM64 system with CVMFS ; ```; $ source /cvmfs/sft.cern.ch/lcg/views/LCG_101arm/aarch64-centos7-gcc8-opt/setup.sh; $ python -c 'import ROOT; print(ROOT.gSystem.GetIncludePath())'; ```. ### Expected behavior. On a Centos7 system (e.g. lxplus.cern.ch), then list is different. ```; -I$ROOTSYS/include; -I""/cvmfs/sft.cern.ch/lcg/views/LCG_101/x86_64-centos7-gcc8-opt/include/Geant4""; -I""/cvmfs/sft.cern.ch/lcg/releases/jsonmcpp/3.9.1-72770/x86_64-centos7-gcc8-opt/include""; -I""/cvmfs/sft.cern.ch/lcg/views/LCG_101/x86_64-centos7-gcc8-opt/src/cpp""; -I""/cvmfs/sft.cern.ch/lcg/views/LCG_101/x86_64-centos7-gcc8-opt/include""; -I""/cvmfs/sft.cern.ch/lcg/releases/Python/3.9.6-b0f98/x86_64-centos7-gcc8-opt/include/python3.9""; -I""/cvmfs/sft.cern.ch/lcg/releases/R/3.6.3-dfb24/x86_64-centos7-gcc8-opt/lib64/R/include""; -I""/cvmfs/sft.cern.ch/lcg/releases/R/3.6.3-dfb24/x86_64-centos7-gcc8-opt/lib64/R/library/RInside/include""; -I""/cvmfs/sft.cern.ch/lcg/releases/R/3.6.3-dfb24/x86_64-centos7-gcc8-opt/lib64/R/library/Rcpp/include""; -I""/cvmfs/sft.cern.ch/lcg/releases/ROOT/6.24.06-3455f/x86_64-centos7-gcc8-opt/etc/""; -I""/cvmfs/sft.cern.ch/lcg/releases/ROOT/6.24.06-3455f/x86_64-centos7-gcc8-opt/etc//cling""; -I""/cvmfs/sft.cern.ch/lcg/releases/ROOT/6.24.06-3455f/x86_64-centos7-gcc8-opt/include/""; -I""/cvmfs/sft.cern.ch/lcg/releases/Python/3.9.6-b0f98/x86_64-centos7-gcc8-opt/include""; ```; Again the first 8 elements are direct",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/9243:2510,release,releases,2510,https://root.cern,https://github.com/root-project/root/issues/9243,1,['release'],['releases']
Deployability,"cxx#L581-L583). This notably prevents using `DefinePerSample` effectively when the input data source is an `RNTuple`. ```; $: ./repro.out; +-----+-----------+; | Row | file_name |; +-----+-----------+; | 0 | """" |; +-----+-----------+; | 1 | """" |; +-----+-----------+; | 2 | """" |; +-----+-----------+; | 3 | """" |; +-----+-----------+; | 4 | """" |; +-----+-----------+; | 5 | """" |; +-----+-----------+; | 6 | """" |; +-----+-----------+; | 7 | """" |; +-----+-----------+; | 8 | """" |; +-----+-----------+; | 9 | """" |; +-----+-----------+; | 10 | """" |; +-----+-----------+; | 11 | """" |; +-----+-----------+; | 12 | """" |; +-----+-----------+; | 13 | """" |; +-----+-----------+; | 14 | """" |; +-----+-----------+; ```. ### Reproducer. ```cpp; #include <ROOT/RNTupleDS.hxx>; #include <ROOT/RNTupleWriter.hxx>; #include <ROOT/RNTupleModel.hxx>; #include <TFile.h>; #include <ROOT/RNTuple.hxx>; #include <ROOT/RNTupleReader.hxx>; #include <ROOT/RVec.hxx>. #include <iostream>. using RNTupleModel = ROOT::Experimental::RNTupleModel;; using RNTupleWriter = ROOT::Experimental::RNTupleWriter;. void create_definepersample(const std::string &ntpl_name, const std::vector<std::string> &filenames); {; for (const auto &fn : filenames); {; auto model = RNTupleModel::Create();; auto fldX = model->MakeField<ULong64_t>(""x"");; auto ntpl = RNTupleWriter::Recreate(std::move(model), ntpl_name, fn);; for (ULong64_t entry = 0; entry < 10; entry++); {; *fldX = entry;; ntpl->Fill();; }; }; }. int main(); {; std::vector<std::string> filenames{; ""sample1.root"",; ""sample2.root"",; ""sample3.root""};; std::string ntpl_name = ""Events"";; create_definepersample(ntpl_name, filenames);; ROOT::RDataFrame df{ntpl_name, filenames};; auto df1 = df.DefinePerSample(""file_name"", [](unsigned int, const ROOT::RDF::RSampleInfo &si) {; return si.AsString();; });; df1.Display<std::string>({""file_name""}, 30)->Print();; }; ```. ### ROOT version. Any. ### Installation method. Any. ### Operating system. Any. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15086:2407,Install,Installation,2407,https://root.cern,https://github.com/root-project/root/issues/15086,1,['Install'],['Installation']
Deployability,"d as follows:; ```c++; auto model = RNTupleModel::Create();; auto field1 = model->MakeField<float>(""field1"", 42.0);. auto ntuple = RNTupleWriter::Recreate(std::move(model), ""myNTuple"", ""some/file.root"");; auto modelUpdater = ntuple->CreateModelUpdater();; modelUpdater->BeginUpdate();; float field2 = 10.0;; modelUpdater->AddField<float>(""field2"", &field2);; modelUpdater->CommitUpdate();; // possibly more calls to `BeginUpdate()`/`CommitUpdate()` here... *field2 = 42.0;; ntuple->Fill();; ```. ## Changes or fixes:; - Changes required to `RNTupleDescriptor`: in particular, _(i)_ `RNTupleDescriptorBuilder::BeginHeaderExtension()` marks the beginning of the header extension; and _(ii)_ extension header information, including an iterator over the top-level fields may be obtained via `RNTupleDescriptor::GetHeaderExtension()`.; - Serialize/deserialize an incremental schema description, i.e. schema extension, as part of the footer envelope. This changes the layout of the footer as explained in the [updated binary format specification](https://github.com/jalopezg-git/root/blob/2ed0dd65698c937f0c06017172c6fbcdfbbb9636/tree/ntuple/v7/doc/specifications.md).; **NOTE:** another change required in the serialization code is the use depth-first serialization of columns instead. Rationale: given that; 1. New columns may appear during write as a result of schema extension; and; 2. On-disk IDs for those columns have to be assigned before serializing the next page list,. we have to ensure that these columns get the same ID both when they are seen for the first time (in page lists) and by the time the description for the schema extension is serialized.; This change only affects how the schema is serialized and does not change deserialization, i.e. the change is backwards compatible.; - `RPageSink::UpdateSchema(const RNTupleModelChangeset &)` allows incremental updates to the ntuple descriptor kept internally in the `RPageSink`, which is required, e.g. if new fields were added after the in",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12376:1479,update,updated,1479,https://root.cern,https://github.com/root-project/root/pull/12376,1,['update'],['updated']
Deployability,"d library ../lib/libCore.so; ```. ## Expected behavior; Builds OK. ## To Reproduce; ```; git clone git@github.com:root-project/root.git; cd root; git checkout v6-22-02; cd ..; mkdir install build; cd build; cmake -G ""CodeBlocks - Unix Makefiles"" -DCMAKE_BUILD_TYPE=MacPorts -DCMAKE_INSTALL_PREFIX=""/opt/local"" -DCMAKE_INSTALL_NAME_DIR=""/opt/local/lib"" -DCMAKE_SYSTEM_PREFIX_PATH=""/opt/local;/usr"" -DCMAKE_C_COMPILER=""$CC"" -DCMAKE_CXX_COMPILER=""$CXX"" -DCMAKE_POLICY_DEFAULT_CMP0025=NEW -DCMAKE_POLICY_DEFAULT_CMP0060=NEW -DCMAKE_VERBOSE_MAKEFILE=ON -DCMAKE_COLOR_MAKEFILE=ON -DCMAKE_FIND_FRAMEWORK=LAST -DCMAKE_EXPORT_COMPILE_COMMANDS=ON -DCMAKE_MAKE_PROGRAM=/usr/bin/make -DCMAKE_MODULE_PATH=""/opt/local/share/cmake/Modules"" -DCMAKE_PREFIX_PATH=""/opt/local/share/cmake/Modules"" -DCMAKE_BUILD_WITH_INSTALL_RPATH:BOOL=ON -DCMAKE_INSTALL_RPATH=""/opt/local/lib"" -Wno-dev -Dgnuinstall=ON -Drpath=ON -DCMAKE_INSTALL_PREFIX=""/opt/local/libexec/root6"" -DCMAKE_INSTALL_SYSCONFDIR=""/opt/local/libexec/root6/etc/root"" -DCMAKE_INSTALL_NAME_DIR=""/opt/local/libexec/root6/lib/root"" -Dfortran=ON -Dbuiltin_davix=OFF -Dbuiltin_freetype=ON -Dbuiltin_glew=ON -Dbuiltin_pcre=OFF -Dbuiltin_zlib=ON -Dbuiltin_lzma=OFF -Dbuiltin_tbb=OFF -Dbuiltin_afterimage=ON -Ddavix=ON -Dfftw3=OFF -Dkrb5=OFF -Dmysql=OFF -Dsqlite=OFF -Dodbc=OFF -Dopengl=ON -Dpythia6=OFF -Dpythia8=OFF -Droofit=ON -Dssl=ON -Dxml=ON -Dpyroot=ON -Dfitsio=OFF -Dgsl_shared=ON -Dbuiltin_gsl=OFF -Dpgsql=OFF -Ddcache=OFF -Dchirp=OFF -Dhdfs=OFF -Druby=OFF -Dminuit2=ON -Dtmva=ON -Dqt=OFF -Dqtgsi=OFF -Dgviz=ON -Dsoversion=ON -Dcxx11=ON -Dcxx14=OFF -Dcxx17=ON -Dlibcxx=ON -Dxrootd=ON -Dbuiltin_ftgl=ON -Dmathmore=ON -Dgenvector=ON -Dmemstat=ON -Dunuran=ON -Dgdml=ON -Dhttp=ON -Dvc=OFF -Dastiff=ON -Dgeocad=OFF -Dr=OFF -Droot7=ON -Dbuiltin_veccore=OFF -DPNG_LIBRARY=/opt/local/lib/libpng.dylib -DPNG_PNG_INCLUDE_DIR=/opt/local/include -Druntime_cxxmodules=OFF -DPYTHON_INCLUDE_DIR=""/opt/local/Library/Frameworks/Python.framework/Versions/3.8/Headers"" -DPYTHON_EX",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6366:1249,install,install,1249,https://root.cern,https://github.com/root-project/root/issues/6366,1,['install'],['install']
Deployability,"d on GitHub.com; your repository will automatically benefit from the most recently released version. #### The analysis doesn’t seem to be working; If you get an error in GitHub Actions that indicates that CodeQL wasn’t able to analyze your code, please [follow the instructions here](https://docs.github.com/en/code-security/code-scanning/automatically-scanning-your-code-for-vulnerabilities-and-errors/troubleshooting-the-codeql-workflow) to debug the analysis. #### How do I disable LGTM.com?; If you have LGTM’s automatic pull request analysis enabled, then you can [follow these steps to disable the LGTM pull request analysis](https://lgtm.com/help/lgtm/managing-automated-code-review#disabling-pr-integration). You don’t actually need to remove your repository from LGTM.com; it will automatically be removed in the next few months as part of the deprecation of LGTM.com ([more info here](https://github.blog/2022-08-15-the-next-step-for-lgtm-com-github-code-scanning/)). #### Which source code hosting platforms does code scanning support?; GitHub code scanning is deeply integrated within GitHub itself. If you’d like to scan source code that is hosted elsewhere, we suggest that you create a mirror of that code on GitHub. #### How do I know this PR is legitimate?; This PR is filed by the official LGTM.com GitHub App, in line with the [deprecation timeline that was announced on the official GitHub Blog](https://github.blog/2022-08-15-the-next-step-for-lgtm-com-github-code-scanning/). The proposed GitHub Action workflow uses the [official open source GitHub CodeQL Action](https://github.com/github/codeql-action/). If you have any other questions or concerns, please join the discussion [here](https://github.com/orgs/community/discussions/29534) in the official GitHub community!. #### I have another question / how do I get in touch?; Please join the discussion [here](https://github.com/orgs/community/discussions/29534) to ask further questions and send us suggestions!. </details>",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11808:4397,integrat,integrated,4397,https://root.cern,https://github.com/root-project/root/pull/11808,1,['integrat'],['integrated']
Deployability,"d(Foo*)>*)args[0]);; ^; input_line_28:5:33: error: expected expression; ((void (&)(function<void(Foo*)>))apply)(*(function<void(Foo*)>*)args[0]);; ^; input_line_28:5:29: error: use of undeclared identifier 'Foo'; ((void (&)(function<void(Foo*)>))apply)(*(function<void(Foo*)>*)args[0]);; ^; input_line_28:5:33: error: expected expression; ((void (&)(function<void(Foo*)>))apply)(*(function<void(Foo*)>*)args[0]);; ^; input_line_28:5:37: error: address of overloaded function 'apply' does not match required type 'void (int)'; ((void (&)(function<void(Foo*)>))apply)(*(function<void(Foo*)>*)args[0]);; ^~~~~; input_line_24:12:6: note: candidate function has type mismatch at 1st parameter (expected 'int' but has 'std::function<void (foo::Foo *)>'); void apply(std::function<void(foo::Foo*)> f) {; ^; /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/tuple:1423:26: note: candidate template ignored: failed template argument deduction; constexpr decltype(auto) apply(_Fn && __f, _Tuple && __t); ^; input_line_28:5:60: error: use of undeclared identifier 'Foo'; ((void (&)(function<void(Foo*)>))apply)(*(function<void(Foo*)>*)args[0]);; ^; input_line_28:5:64: error: expected expression; ((void (&)(function<void(Foo*)>))apply)(*(function<void(Foo*)>*)args[0]);; ^; input_line_28:5:66: error: type name requires a specifier or qualifier; ((void (&)(function<void(Foo*)>))apply)(*(function<void(Foo*)>*)args[0]);; ^; ```; If I drop the `foo` namespace then it works fine. ### Setup; ROOT 6.22 or 6.24 with cppyy 1.6.2. Same behavior through conda-forge, homebrew, and cmssw. ### Additional context; If I install cppyy 2.3.1 through conda-forge, the code works. On the other hand, if I install cppyy 1.6.2 through pip (conda did not work) then a random integer is returned 😱 (probably reading junk memory).; So this might be a cppyy issue that is already resolved. If so, what is the upgrade schedule for ROOT+cppyy? Also, any idea for a workaround?",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10680:2360,install,install,2360,https://root.cern,https://github.com/root-project/root/issues/10680,3,"['install', 'upgrade']","['install', 'upgrade']"
Deployability,"d/release/roottest/root/dataframe/test_ctors_C.dll; 1306: In file included from input_line_9:9:; 1306: In file included from C:/Users/sftnight/git/roottest/root/dataframe/test_ctors.C:4:; 1306: In file included from C:/Users/sftnight/build/release/include\ROOT/RDataFrame.hxx:20:; 1306: In file included from C:/Users/sftnight/build/release/include\ROOT/RDF/RInterface.hxx:15:; 1306: In file included from C:/Users/sftnight/build/release/include\ROOT/RDF/ActionHelpers.hxx:25:; 1306: C:/Users/sftnight/build/release/include\ROOT/RVec.hxx:1434:36: error: use of undeclared identifier 'M_PI'; 1306: T DeltaPhi(T v1, T v2, const T c = M_PI); 1306: ^; 1306: C:/Users/sftnight/build/release/include\ROOT/RVec.hxx:1455:68: error: use of undeclared identifier 'M_PI'; 1306: RVec<T> DeltaPhi(const RVec<T>& v1, const RVec<T>& v2, const T c = M_PI); 1306: ^; 1306: C:/Users/sftnight/build/release/include\ROOT/RVec.hxx:1473:55: error: use of undeclared identifier 'M_PI'; 1306: RVec<T> DeltaPhi(const RVec<T>& v1, T v2, const T c = M_PI); 1306: ^; 1306: C:/Users/sftnight/build/release/include\ROOT/RVec.hxx:1491:55: error: use of undeclared identifier 'M_PI'; 1306: RVec<T> DeltaPhi(T v1, const RVec<T>& v2, const T c = M_PI); 1306: ^; 1306: C:/Users/sftnight/build/release/include\ROOT/RVec.hxx:1510:113: error: use of undeclared identifier 'M_PI'; 1306: RVec<T> DeltaR2(const RVec<T>& eta1, const RVec<T>& eta2, const RVec<T>& phi1, const RVec<T>& phi2, const T c = M_PI); 1306: ^; 1306: C:/Users/sftnight/build/release/include\ROOT/RVec.hxx:1524:112: error: use of undeclared identifier 'M_PI'; 1306: RVec<T> DeltaR(const RVec<T>& eta1, const RVec<T>& eta2, const RVec<T>& phi1, const RVec<T>& phi2, const T c = M_PI); 1306: ^; 1306: C:/Users/sftnight/build/release/include\ROOT/RVec.hxx:1537:54: error: use of undeclared identifier 'M_PI'; 1306: T DeltaR(T eta1, T eta2, T phi1, T phi2, const T c = M_PI); 1306: ^; 1306: Error in <ACLiC>: Executing 'C:\Users\sftnight\build\release\bin\rootcling -v0 ""--li",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6727:1718,release,release,1718,https://root.cern,https://github.com/root-project/root/pull/6727,1,['release'],['release']
Deployability,"d>::RInterface<ROOT::Detail::RDF::RNodeBase,void>(ROOT::RDF::RInterface<ROOT::Detail::RDF::RNodeBase,void>&&) =>; TypeError: could not convert argument 1; RInterface<ROOT::Detail::RDF::RNodeBase,void>::RInterface<ROOT::Detail::RDF::RNodeBase,void>(const ROOT::RDF::RInterface<ROOT::Detail::RDF::RNodeBase,void>&) =>; TypeError: could not convert argument 1; RInterface<ROOT::Detail::RDF::RNodeBase,void>::RInterface<ROOT::Detail::RDF::RNodeBase,void>(ROOT::RDF::RInterface<ROOT::Detail::RDF::RNodeBase,void>&&) =>; TypeError: could not convert argument 1; none of the 2 overloaded methods succeeded. Full details:; RInterface<ROOT::Detail::RDF::RNodeBase,void>::RInterface<ROOT::Detail::RDF::RNodeBase,void>(ROOT::RDF::RInterface<ROOT::Detail::RDF::RNodeBase,void>&&) =>; TypeError: could not convert argument 1; RInterface<ROOT::Detail::RDF::RNodeBase,void>::RInterface<ROOT::Detail::RDF::RNodeBase,void>(const ROOT::RDF::RInterface<ROOT::Detail::RDF::RNodeBase,void>&) =>; TypeError: could not convert argument 1; none of the 3 overloaded methods succeeded. Full details:; RInterface<ROOT::Detail::RDF::RNodeBase,void>::RInterface<ROOT::Detail::RDF::RNodeBase,void>(ROOT::RDF::RInterface<ROOT::Detail::RDF::RNodeBase,void>&&) =>; TypeError: could not convert argument 1; RInterface<ROOT::Detail::RDF::RNodeBase,void>::RInterface<ROOT::Detail::RDF::RNodeBase,void>(ROOT::RDF::RInterface<ROOT::Detail::RDF::RNodeBase,void>&&) =>; TypeError: could not convert argument 1; RInterface<ROOT::Detail::RDF::RNodeBase,void>::RInterface<ROOT::Detail::RDF::RNodeBase,void>(const ROOT::RDF::RInterface<ROOT::Detail::RDF::RNodeBase,void>&) =>; TypeError: could not convert argument 1; ```. This is because instead of `ROOT.RDF.RNode`, one should use `ROOT.RDF.AsRNode`. It would be great if the documentation can be updated (or the method updated so that it does not throw error). ### ROOT version. 6.30/04. ### Installation method. LCG (Swan). ### Operating system. Linux. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15040:2729,update,updated,2729,https://root.cern,https://github.com/root-project/root/issues/15040,3,"['Install', 'update']","['Installation', 'updated']"
Deployability,"dTemplateArgument>, bool, llvm::SmallVectorImpl<clang::TemplateIdAnnotation*>&) (ParsedTemplate.h:206); ==174298== by 0xB90CA4B: clang::Parser::AnnotateTemplateIdToken(clang::OpaquePtr<clang::TemplateName>, clang::TemplateNameKind, clang::CXXScopeSpec&, clang::SourceLocation, clang::UnqualifiedId&, bool, bool) (ParseTemplate.cpp:1356); ==174298== by 0xB893CA9: clang::Parser::ParseOptionalCXXScopeSpecifier(clang::CXXScopeSpec&, clang::OpaquePtr<clang::QualType>, bool, bool, bool*, bool, clang::IdentifierInfo**, bool, bool) (ParseExprCXX.cpp:506); ==174298== by 0xB91DDED: clang::Parser::TryAnnotateCXXScopeToken(bool) (Parser.cpp:2094); ==174298== by 0xA8FB2A9: cling::LookupHelper::findScope(llvm::StringRef, cling::LookupHelper::DiagSetting, clang::Type const**, bool) const (LookupHelper.cpp:629); ==174298== by 0xA7FF96C: TClingClassInfo::TClingClassInfo(cling::Interpreter*, char const*, bool) (TClingClassInfo.cxx:87); ```. Full report from valgrind; [valgrind_report.txt](https://github.com/root-project/root/files/11914909/valgrind_report.txt). ### Reproducer. ROOT was built with the following configuration; ```; cmake -GNinja -DCMAKE_BUILD_TYPE=Debug -DLLVM_BUILD_TYPE=Debug; ```. This is the reproducer; ```cpp; #include <TChain.h>; int main(){; TChain c;; }; ```. Compile and run with valgrind; ```; $: g++ -g -o repro.out repro.cpp `root-config --cflags --glibs`; $: valgrind --leak-check=full --num-callers=30 --suppressions=$ROOTSYS/etc/valgrind-root.supp ./repro.out; ```. ### ROOT version. [master@1be2785](https://github.com/root-project/root/commit/1be278540d35a9a46a4e6c3f11eb8c97ce1a1a68). ### Installation method. built from source. ### Operating system. Fedora 37. ### Additional context. Compiler: GCC 12. I have arrived to the minimal reproducer above starting from the code in [RSample.cxx](https://github.com/root-project/root/blob/8474306b89fdd2b9026c3311d65b63d6f29144f1/tree/dataframe/src/RSample.cxx#L54C4-L72) which creates a temporary TChain in the constructor.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13130:1777,configurat,configuration,1777,https://root.cern,https://github.com/root-project/root/issues/13130,2,"['Install', 'configurat']","['Installation', 'configuration']"
Deployability,"da --cuda-path=/opt/spack-modules/linux-ubuntu20.04-skylake_avx512/gcc-10.2.0/cuda-10.1.243-7i5cvq4bobfu6g23zltag3fpcwdlc3ye --cuda-gpu-arch=sm_35"" root.exe; cling: In file included from <built-in>:1:; In file included from /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_runtime_wrapper.h:148:; /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:49:40: error: reference to __device__ function '__nvvm_vote_all' in __host__ function; __DEVICE__ int __all(int __a) { return __nvvm_vote_all(__a); }; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:49:40: note: '__nvvm_vote_all' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:50:40: error: reference to __device__ function '__nvvm_vote_any' in __host__ function; __DEVICE__ int __any(int __a) { return __nvvm_vote_any(__a); }; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:50:40: note: '__nvvm_vote_any' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:51:52: error: reference to __device__ function '__nvvm_vote_ballot' in __host__ function; __DEVICE__ unsigned int __ballot(int __a) { return __nvvm_vote_ballot(__a); }; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:51:52: note: '__nvvm_vote_ballot' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:69:18: error: static declaration of '__cosf' follows non-static declaration; __DEVICE__ float __cosf(float __a) { return __nv_fast_cosf(__a); }; ^; cling: /usr/include/x86_64-linux-gnu/bits/mathcalls.h:62:1: note: previo",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7518:1574,install,install,1574,https://root.cern,https://github.com/root-project/root/issues/7518,1,['install'],['install']
Deployability,"data/cmsbld/jenkins/workspace/build-any-ib/w/BUILD/el8_amd64_gcc11/lcg/root/6.29.01-192f857c68d2f0a1a8cb821f03f5a854/root-6.29.01/core/base/src/TStyle.cxx:483; #9 0x00007ffff68fa74e in TCollection::GarbageCollect (obj=0xcbb500) at /data/cmsbld/jenkins/workspace/build-any-ib/w/BUILD/el8_amd64_gcc11/lcg/root/6.29.01-192f857c68d2f0a1a8cb821f03f5a854/root-6.29.01/core/cont/src/TCollection.cxx:736; #10 0x00007ffff6902c6f in TList::Delete (this=0xcb8070, option=0x7ffff69efd24 """") at /data/cmsbld/jenkins/workspace/build-any-ib/w/BUILD/el8_amd64_gcc11/lcg/root/6.29.01-192f857c68d2f0a1a8cb821f03f5a854/root-6.29.01/core/cont/src/TList.cxx:537; #11 0x00007ffff689635c in TROOT::EndOfProcessCleanups (this=0x7ffff6b34040 <ROOT::Internal::GetROOT1()::alloc>) at /data/cmsbld/jenkins/workspace/build-any-ib/w/BUILD/el8_amd64_gcc11/lcg/root/6.29.01-192f857c68d2f0a1a8cb821f03f5a854/root-6.29.01/core/base/src/TROOT.cxx:1235; #12 0x00007ffff682ef46 in CallEndOfProcessCleanups () at /data/cmsbld/jenkins/workspace/build-any-ib/w/BUILD/el8_amd64_gcc11/lcg/root/6.29.01-192f857c68d2f0a1a8cb821f03f5a854/root-6.29.01/core/base/src/TApplication.cxx:90; #13 0x00007ffff4c7026c in __run_exit_handlers () from /lib64/libc.so.6; #14 0x00007ffff4c703a0 in exit () from /lib64/libc.so.6; #15 0x00007ffff4c59d8c in __libc_start_main () from /lib64/libc.so.6; #16 0x000000000040803e in _start (); ```; See https://github.com/cms-sw/cmssw/issues/42468#issuecomment-1671897314 for other destructors failing on cleanup. . It runs fine when using `cmsRunJE` instead (for JeMalloc allocation type): `cmsRunJE /cvmfs/cms-ib.cern.ch/week1/el8_amd64_gcc11/cms/cmssw/CMSSW_13_3_ROOT6_X_2023-08-07-2300/src/AlignmentunitTest=True trackCollection=ALCARECOTkAlCosmicsCTF0T`. ### ROOT version. CMSSW ROOT6 (version `6.29.01`) and ROOT628 (version `6.28.05`) IBs. ### Installation method. from source. ### Operating system. el8. ### Additional context; FYI, @smuzaffar @makortel; Reported to ROOT as discussed in Core Software meeting",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13429:4733,Install,Installation,4733,https://root.cern,https://github.com/root-project/root/issues/13429,1,['Install'],['Installation']
Deployability,"db/x86_64-el9-gcc13-dbg/lib/libCling.so; #30 0x00007f06031155f3 in cling::IncrementalExecutor::runStaticInitializersOnce(cling::Transaction&) () from /cvmfs/lhcb.cern.ch/lib/lcg/releases/ROOT/6.30.04-dd2db/x86_64-el9-gcc13-dbg/lib/libCling.so; #31 0x00007f0603092698 in cling::Interpreter::executeTransaction(cling::Transaction&) () from /cvmfs/lhcb.cern.ch/lib/lcg/releases/ROOT/6.30.04-dd2db/x86_64-el9-gcc13-dbg/lib/libCling.so; #32 0x00007f0603125b4a in cling::IncrementalParser::commitTransaction(llvm::PointerIntPair<cling::Transaction*, 2u, cling::IncrementalParser::EParseResult, llvm::PointerLikeTypeTraits<cling::Transaction*>, llvm::PointerIntPairInfo<cling::Transaction*, 2u, llvm::PointerLikeTypeTraits<cling::Transaction*> > >&, bool) () from /cvmfs/lhcb.cern.ch/lib/lcg/releases/ROOT/6.30.04-dd2db/x86_64-el9-gcc13-dbg/lib/libCling.so; #33 0x00007f0603128d98 in cling::IncrementalParser::Compile(llvm::StringRef, cling::CompilationOptions const&) () from /cvmfs/lhcb.cern.ch/lib/lcg/releases/ROOT/6.30.04-dd2db/x86_64-el9-gcc13-dbg/lib/libCling.so; #34 0x00007f06030933dc in cling::Interpreter::DeclareInternal(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, cling::CompilationOptions const&, cling::Transaction**) const () from /cvmfs/lhcb.cern.ch/lib/lcg/releases/ROOT/6.30.04-dd2db/x86_64-el9-gcc13-dbg/lib/libCling.so; #35 0x00007f0603095986 in cling::Interpreter::process(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, cling::Value*, cling::Transaction**, bool) () from /cvmfs/lhcb.cern.ch/lib/lcg/releases/ROOT/6.30.04-dd2db/x86_64-el9-gcc13-dbg/lib/libCling.so; #36 0x00007f06031781a7 in cling::MetaProcessor::process(llvm::StringRef, cling::Interpreter::CompilationResult&, cling::Value*, bool) () from /cvmfs/lhcb.cern.ch/lib/lcg/releases/ROOT/6.30.04-dd2db/x86_64-el9-gcc13-dbg/lib/libCling.so; #37 0x00007f0602e677f7 in HandleInterpreterException (metaProcessor=0x308b020, input_line=0x4194ba0 ",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15511:2770,release,releases,2770,https://root.cern,https://github.com/root-project/root/issues/15511,2,['release'],['releases']
Deployability,"db9 . It has been tested with different LCG releases from LCG_94 to LCG_97a; and it always works for `pytjon2` and fails for `python3`. for `python3` one gets an error; ```; Traceback (most recent call last):; File ""./test_dill.py"", line 13, in <module>; hh = dill.loads ( dill.dumps ( h ) ); File ""/cvmfs/sft.cern.ch/lcg/views/LCG_97python3/x86_64-centos7-gcc9-opt/lib/python3.7/site-packages/dill/_dill.py"", line 294, in dumps; dump(obj, file, protocol, byref, fmode, recurse)#, strictio); File ""/cvmfs/sft.cern.ch/lcg/views/LCG_97python3/x86_64-centos7-gcc9-opt/lib/python3.7/site-packages/dill/_dill.py"", line 287, in dump; pik.dump(obj); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 437, in dump; self.save(obj); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 549, in save; self.save_reduce(obj=obj, *rv); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 637, in save_reduce; save(func); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 504, in save; f(self, obj) # Call unbound method with explicit self; File ""/cvmfs/sft.cern.ch/lcg/views/LCG_97python3/x86_64-centos7-gcc9-opt/lib/python3.7/site-packages/dill/_dill.py"", line 1064, in save_builtin_method; pickler.save_reduce(_get_attr, (module, obj.__name__), obj=obj); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 638, in save_reduce; save(args); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 504, in save; f(self, obj) # Call unbound method with explicit self; File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 774, in save_tuple; s",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6370:2162,release,releases,2162,https://root.cern,https://github.com/root-project/root/issues/6370,1,['release'],['releases']
Deployability,"de that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->; ```c++; void test_batchmodecond() {; using namespace RooFit;. RooRealVar x(""x"", """", 0, 1);; RooRealVar xErr(""xErr"", """", 0.0001, 0.1);. RooGaussModel gm(""gm"", """", x, RooConst(0), xErr);; ; RooRealVar tau(""tau"", """", 0.4, 0, 1);; RooDecay decayPdf(""decayPdf"", """", x, tau, gm, RooDecay::SingleSided);; ; RooGamma errPdf(""errPdf"", """", xErr, RooConst(4), RooConst(0.005), RooConst(0));; ; ; RooProdPdf pdf1(""pdf1"", """", RooArgSet(errPdf), Conditional(decayPdf, x, false)); // what we want: decayPdf(x|xErr)*errPdf(xErr); RooProdPdf pdf2(""pdf2"", """", RooArgSet(errPdf), Conditional(decayPdf, xErr, true)); // in theory the same as pdf1; RooProdPdf pdf3(""pdf3"", """", RooArgSet(errPdf), Conditional(decayPdf, xErr, false)); // wrong, normalizes decay in xErr and not in x; ; auto data = pdf1.generate(RooArgSet(x, xErr), NumEvents(10000));; ; // works with BatchMode = ""cpu"", because depsAreCond is false; pdf1.fitTo(*data; , Save(true); , BatchMode(""cpu""); , PrintLevel(-1); )->Print(""V"");; ; // bad fit, actually normalizes as if decayPdf was normalized in xErr (ignores depsAreCond); tau.setVal(0.4);; pdf2.fitTo(*data; , Save(true); , BatchMode(""cpu""); , PrintLevel(-1); )->Print(""V"");; ; // works without batchmode; tau.setVal(0.4);; pdf2.fitTo(*data; , Save(true); //, BatchMode(""cpu""); , PrintLevel(-1); )->Print(""V"");; ; // same as pdf2 with BatchMode; tau.setVal(0.4);; pdf3.fitTo(*data; , Save(true); , BatchMode(""cpu""); , PrintLevel(-1); )->Print(""V"");; }; ```. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->; ROOT master, from LCG dev3; ROOT 6.26.07 from LCG dev4; works in ROOT 6.24.06 from LCG 101. ### Additional context; <!--; Add any other context about the problem here.; -->",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11332:3073,install,install,3073,https://root.cern,https://github.com/root-project/root/issues/11332,1,['install'],['install']
Deployability,"de/math.h:303:34: note: expanded from macro '__MATH_PRECNAME'; # define __MATH_PRECNAME(name,r) name##f##r; ^; <scratch space>:216:1: note: expanded from here; __expf; ^; cling: In file included from <built-in>:1:; In file included from /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_runtime_wrapper.h:148:; /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:195:10: error: reference to __device__ function '__nvvm_atom_add_gen_f' in __host__ function; return __nvvm_atom_add_gen_f(__p, __v);; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:195:10: note: '__nvvm_atom_add_gen_f' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:198:10: error: reference to __device__ function '__nvvm_atom_cta_add_gen_f' in __host__ function; return __nvvm_atom_cta_add_gen_f(__p, __v);; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:198:10: note: '__nvvm_atom_cta_add_gen_f' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:201:10: error: reference to __device__ function '__nvvm_atom_sys_add_gen_f' in __host__ function; return __nvvm_atom_sys_add_gen_f(__p, __v);; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:201:10: note: '__nvvm_atom_sys_add_gen_f' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:205:7: error: reference to __device__ function '__nvvm_atom_xchg_gen_i' in __host__ function; __nvvm_atom_xchg_gen_i((int *)__p, __nv_float_as_int(__v)));; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7518:7824,install,install,7824,https://root.cern,https://github.com/root-project/root/issues/7518,1,['install'],['install']
Deployability,"de/x86_64-linux-gnu/bits/mathcalls.h:62:1: note: previous declaration is here; __MATHCALL_VEC (cos,, (_Mdouble_ __x));; ^; /usr/include/math.h:266:3: note: expanded from macro '__MATHCALL_VEC'; __MATHCALL (function, suffix, args); ^; /usr/include/math.h:273:3: note: expanded from macro '__MATHCALL'; __MATHDECL (_Mdouble_,function,suffix, args); ^; /usr/include/math.h:276:3: note: expanded from macro '__MATHDECL'; __MATHDECL_1(type, __CONCAT(__,function),suffix, args); ^; /usr/include/math.h:283:15: note: expanded from macro '__MATHDECL_1'; extern type __MATH_PRECNAME(function,suffix) args __THROW; ^; /usr/include/math.h:303:34: note: expanded from macro '__MATH_PRECNAME'; # define __MATH_PRECNAME(name,r) name##f##r; ^; <scratch space>:180:1: note: expanded from here; __cosf; ^; cling: In file included from <built-in>:1:; In file included from /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_runtime_wrapper.h:148:; /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:71:10: error: reference to __device__ function '__nvvm_atom_add_gen_d' in __host__ function; return __nvvm_atom_add_gen_d(__p, __v);; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:71:10: note: '__nvvm_atom_add_gen_d' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:74:10: error: reference to __device__ function '__nvvm_atom_cta_add_gen_d' in __host__ function; return __nvvm_atom_cta_add_gen_d(__p, __v);; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:74:10: note: '__nvvm_atom_cta_add_gen_d' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:77:10: error: reference to __device__ function '__nvvm_at",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7518:3442,install,install,3442,https://root.cern,https://github.com/root-project/root/issues/7518,1,['install'],['install']
Deployability,"de/x86_64-linux-gnu/bits/mathcalls.h:95:1: note: previous declaration is here; __MATHCALL_VEC (exp,, (_Mdouble_ __x));; ^; /usr/include/math.h:266:3: note: expanded from macro '__MATHCALL_VEC'; __MATHCALL (function, suffix, args); ^; /usr/include/math.h:273:3: note: expanded from macro '__MATHCALL'; __MATHDECL (_Mdouble_,function,suffix, args); ^; /usr/include/math.h:276:3: note: expanded from macro '__MATHDECL'; __MATHDECL_1(type, __CONCAT(__,function),suffix, args); ^; /usr/include/math.h:283:15: note: expanded from macro '__MATHDECL_1'; extern type __MATH_PRECNAME(function,suffix) args __THROW; ^; /usr/include/math.h:303:34: note: expanded from macro '__MATH_PRECNAME'; # define __MATH_PRECNAME(name,r) name##f##r; ^; <scratch space>:216:1: note: expanded from here; __expf; ^; cling: In file included from <built-in>:1:; In file included from /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_runtime_wrapper.h:148:; /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:195:10: error: reference to __device__ function '__nvvm_atom_add_gen_f' in __host__ function; return __nvvm_atom_add_gen_f(__p, __v);; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:195:10: note: '__nvvm_atom_add_gen_f' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:198:10: error: reference to __device__ function '__nvvm_atom_cta_add_gen_f' in __host__ function; return __nvvm_atom_cta_add_gen_f(__p, __v);; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:198:10: note: '__nvvm_atom_cta_add_gen_f' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:201:10: error: reference to __device__ function '__nv",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7518:7133,install,install,7133,https://root.cern,https://github.com/root-project/root/issues/7518,1,['install'],['install']
Deployability,"declares its dependency on VDT in a very silly way that does not make any sense to me...). Even though it clearly ""publicly"" depends on those headers. https://github.com/root-project/root/blob/master/math/vecops/inc/ROOT/RVec.hxx#L54. ### Expected behavior. When using the exported target `ROOT::ROOTVecOps`, I would expect to be able to use `RVec.hxx` just by linking my own target against `ROOT::ROOTVecOps`. Not having to care about the ""internal"" dependency of the ROOT code on VDT myself. To fix, the following should happen:; - VDT should be used in the ROOT CMake configuration through an imported target, not through `${VDT_INCLUDE_DIRS}` and `${VDT_LIBRARIES}`. (Since these make relocation very hard.); - Once `ROOTVecOps` depends on a library like `VDT::vdt`, `ROOTConfig.cmake.in` will need to include. ```cmake; find_dependency(VDT); ```. somewhere around here: https://github.com/root-project/root/blob/master/cmake/scripts/ROOTConfig.cmake.in#L88-L99. In such a setup, as long as `builtin_vdt` is ""correctly"" installed alongside ROOT, the configuration should start becoming correct under all circumstances. ### To Reproduce. Don't really have a reproducer. But a CMake project like:. ```cmake; cmake_minimum_required( VERSION 3.10 ); project( VecOpsTest ). find_package( ROOT REQUIRED ). add_executable( VecOpsTest VecOpsText.cpp ); target_link_libraries( VecOpsTest PRIVATE ROOT::ROOTVecOps ); ```. , with a simple. ```c++; #include <ROOT/RVec.hxx>. int main() { return 0; }; ```. (as `VecOpsTest.cpp`) should be able to produce an error. As long as ROOT and VDT headers are not in the same location. Which is usually the case unfortunately... ### Setup. This is primarily an issue with ""LCG builds"" of ROOT. Where currently we have to manually take care of linking our code explicitly against VDT, even if we don't use those headers directly ourselves. ### Additional context. The report was triggered by an ATLAS analyser complaining about this issue, with their own analysis code.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11797:1265,install,installed,1265,https://root.cern,https://github.com/root-project/root/issues/11797,2,"['configurat', 'install']","['configuration', 'installed']"
Deployability,ded from libMyLibrary dictionary payload:5:; In file included from ./MyClass.h:6:; In file included from /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_ptr.hpp:17:; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1072:81: error: expected ';' at end of declaration; template<class T> inline bool atomic_is_lock_free( shared_ptr<T> const * /*p*/ ) BOOST_SP_NOEXCEPT; ^; ;; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1072:82: error: expected unqualified-id; template<class T> inline bool atomic_is_lock_free( shared_ptr<T> const * /*p*/ ) BOOST_SP_NOEXCEPT; ^; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/detail/sp_noexcept.hpp:28:29: note: expanded from macro 'BOOST_SP_NOEXCEPT'; # define BOOST_SP_NOEXCEPT BOOST_NOEXCEPT; ^; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/config/detail/suffix.hpp:965:26: note: expanded from macro 'BOOST_NOEXCEPT'; # define BOOST_NOEXCEPT noexcept; ^; In file included from libMyLibrary dictionary payload:5:; In file included from ./MyClass.h:6:; In file included from /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_ptr.hpp:17:; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1077:33: error: expected parameter declarator; template<class T> shared_ptr<T> atomic_load( shared_ptr<T> const * p ) BOOST_SP_NOEXCEPT; ^; /Users/krasznaa/ATLAS/sw/projects/e,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6454:2696,Install,InstallArea,2696,https://root.cern,https://github.com/root-project/root/issues/6454,1,['Install'],['InstallArea']
Deployability,dedent does not work because {log} is not indented. # This Pull request:. ## Changes or fixes:. ## Checklist:. - [ ] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12562:147,update,updated,147,https://root.cern,https://github.com/root-project/root/pull/12562,1,['update'],['updated']
Deployability,"der 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/range_access.h:36:10: note: submodule of top-level module 'std' implicitly imported here; #include <initializer_list>; ^; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/range_access.h:37:10: note: submodule of top-level module 'std' implicitly imported here; #include <type_traits> // common_type_t, make_signed_t; ^; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/stl_iterator.h:63:10: note: submodule of top-level module 'std' implicitly imported here; #include <bits/cpp_type_traits.h>; ^; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/stl_iterator_base_types.h:67:11: note: submodule of top-level module 'std' implicitly imported here; # include <type_traits> // For __void_t, is_convertible; ^; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Soft",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10528:25415,Install,Installed,25415,https://root.cern,https://github.com/root-project/root/issues/10528,1,['Install'],['Installed']
Deployability,"des>:5:; In file included from /cvmfs/sft.cern.ch/lcg/contrib/gcc/6.2.0native/x86_64-slc6/bin/../lib/gcc/x86_64-pc-linux-gnu/6.2.0/../../../../include/c++/6.2.0/ccomplex:39:; In file included from /cvmfs/sft.cern.ch/lcg/contrib/gcc/6.2.0native/x86_64-slc6/bin/../lib/gcc/x86_64-pc-linux-gnu/6.2.0/../../../../include/c++/6.2.0/complex:42:; /cvmfs/sft.cern.ch/lcg/contrib/gcc/6.2.0native/x86_64-slc6/bin/../lib/gcc/x86_64-pc-linux-gnu/6.2.0/../../../../include/c++/6.2.0/bits/cpp_type_traits.h:102:23: error: use of undeclared identifier '_Tp'; struct __are_same<_Tp, _Tp>; ^; /cvmfs/sft.cern.ch/lcg/contrib/gcc/6.2.0native/x86_64-slc6/bin/../lib/gcc/x86_64-pc-linux-gnu/6.2.0/../../../../include/c++/6.2.0/bits/cpp_type_traits.h:318:25: error: use of undeclared identifier '_Tp'; struct __is_pointer<_Tp*>; ^; /cvmfs/sft.cern.ch/lcg/contrib/gcc/6.2.0native/x86_64-slc6/bin/../lib/gcc/x86_64-pc-linux-gnu/6.2.0/../../../../include/c++/6.2.0/bits/cpp_type_traits.h:318:29: error: expected expression; struct __is_pointer<_Tp*>; ^; /cvmfs/sft.cern.ch/lcg/contrib/gcc/6.2.0native/x86_64-slc6/bin/../lib/gcc/x86_64-pc-linux-gnu/6.2.0/../../../../include/c++/6.2.0/bits/cpp_type_traits.h:329:37: error: declaration of '_Tp' must be imported from module 'stl.ccomplex' before it is required; : public __traitor<__is_integer<_Tp>, __is_floating<_Tp> >; ^; /cvmfs/sft.cern.ch/lcg/contrib/gcc/6.2.0native/x86_64-slc6/bin/../lib/gcc/x86_64-pc-linux-gnu/6.2.0/../../../../include/c++/6.2.0/bits/cpp_type_traits.h:327:21: note: previous declaration is here; template<typename _Tp>; ^; ```. Original patch description:. When we enter a module within a linkage specification, switch the linkage; specification and the TU to the new module. This is necessary to get the module ownership correct for entities that we; temporarily hang off the TranslationUnitDecl, such as template parameters and; function parameters. git-svn-id: https://llvm.org/svn/llvm-project/cfe/trunk@303373 91177308-0d34-0410-b5e6-96231b3b80d8",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1016:1958,patch,patch,1958,https://root.cern,https://github.com/root-project/root/pull/1016,1,['patch'],['patch']
Deployability,"dex 7a094cc01f..d74c69aa2b 100644; --- a/tree/dataframe/inc/ROOT/RDataFrame.hxx; +++ b/tree/dataframe/inc/ROOT/RDataFrame.hxx; @@ -73,4 +73,6 @@ namespace cling {; std::string printValue(ROOT::RDataFrame *tdf);; } // ns cling; ; +static ROOT::RDataFrame thisWillBeBadForTheModulesIdx(17);; +; #endif // ROOT_RDATAFRAME; ```. This causes; ```; [522/527] Generating lib/modules.idx; [runStaticInitializersOnce]: Failed to materialize symbols: { (main, { __cxx_global_var_initcling_module_1_.2, __cxx_global_var_initcling_module_1_, _ZL29thisWillBeBadForTheModulesIdx, _ZN4ROOT8InternalL13gVersionCheckE, $.cling-module-1.__inits.0, _ZNSt16_Sp_counted_baseILN9__gnu_cxx12_Lock_policyE2EE10_M_releaseEv, _ZNSt10shared_ptrIN4ROOT6Detail3RDF12RLoopManagerEED2Ev, _ZNSt12__shared_ptrIN4ROOT6Detail3RDF12RLoopManagerELN9__gnu_cxx12_Lock_policyE2EED2Ev, _ZN4ROOT10RDataFrameD2Ev, _ZN4ROOT3RDF10RInterfaceINS_6Detail3RDF12RLoopManagerEvED2Ev, _ZN4ROOT10RDataFrameD1Ev, _ZN4ROOT3RDF14RInterfaceBaseD2Ev, _ZNSt16_Sp_counted_baseILN9__gnu_cxx12_Lock_policyE2EE19_M_release_last_useEv, _GLOBAL__sub_I_cling_module_1, _ZNSt10shared_ptrIN4ROOT6Detail3RDF12RLoopManagerEED1Ev, _ZNSt14__shared_countILN9__gnu_cxx12_Lock_policyE2EED2Ev, _ZStL8__ioinit, __cxx_global_var_initcling_module_1_.1, _ZNSt16_Sp_counted_baseILN9__gnu_cxx12_Lock_policyE2EE24_M_release_last_use_coldEv, __orc_init_func.cling-module-1, _ZNSt14__shared_countILN9__gnu_cxx12_Lock_policyE2EED1Ev }) }. [523/527] Generating tutorials/hsimple.root. Processing hsimple.C...; hsimple : Real Time = 0.04 seconds Cpu Time = 0.04 seconds; (TFile *) 0x56335b1cf6e0; [527/527] Linking CXX executable tree/dataframe/test/dataframe_simple; ```. As you can see, the RDataFrame library is built happily, no missing symbols. Yet the JIT complains because it cannot load the library. ### ROOT version. master + modification. ### How did you install ROOT?. built myself. ### Which operating system are you using?. Ubuntu 22.04. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12988:2580,install,install,2580,https://root.cern,https://github.com/root-project/root/issues/12988,1,['install'],['install']
Deployability,dexIter.hxx strlcpy.h snprintf.h strtok.h root_std_complex.h ROOT/TSeq.hxx TArrayC.h TArrayD.h TArrayF.h TArray.h TArrayI.h TArrayL64.h TArrayL.h TArrayS.h TBits.h TBtree.h TClassTable.h TClonesArray.h TCollection.h TCollectionProxyInfo.h TExMap.h THashList.h THashTable.h TIterator.h TList.h TMap.h TObjArray.h TObjectTable.h TOrdCollection.h TRefArray.h TRefTable.h TSeqCollection.h TSortedList.h TVirtualCollectionProxy.h ESTLType.h RStringView.h TClassEdit.h TError.h ThreadLocalStorage.h ROOT/RLogger.hxx ROOT/RNotFn.hxx ROOT/RRangeCast.hxx ROOT/RSpan.hxx ROOT/RStringView.hxx ROOT/StringUtils.hxx ROOT/span.hxx ROOT/TypeTraits.hxx ROOT/RError.hxx GuiTypes.h TApplicationImp.h TBrowser.h TBrowserImp.h TCanvasImp.h TClassMenuItem.h TContextMenu.h TContextMenuImp.h TControlBarImp.h TGuiFactory.h TInspectorImp.h TObjectSpy.h TToggleGroup.h TToggle.h TBaseClass.h TClassGenerator.h TClass.h TClassRef.h TClassStreamer.h TDataMember.h TDataType.h TDictAttributeMap.h TDictionary.h TEnumConstant.h TEnum.h TFileMergeInfo.h TFunction.h TFunctionTemplate.h TGenericClassInfo.h TGlobal.h TInterpreter.h TInterpreterValue.h TIsAProxy.h TListOfDataMembers.h TListOfEnums.h TListOfEnumsWithLock.h TListOfFunctions.h TListOfFunctionTemplates.h TMemberStreamer.h TMethodArg.h TMethodCall.h TMethod.h TProtoClass.h TRealData.h TSchemaHelper.h TSchemaRule.h TSchemaRuleSet.h TStatusBitsChecker.h TStreamerElement.h TStreamer.h TVirtualIsAProxy.h TVirtualRefProxy.h TVirtualStreamerInfo.h TVirtualArray.h TVirtualObject.h Getline.h TUnixSystem.h /bld6/root/src/core/base/inc/LinkDef.h; Subprocess aborted; ```. I understand thought that a special version of clang is needed (at least that's what a warning in one of the CMakelists.txt states). Are there any instructions on how to build it or what patches need to be applied?. I've been using v6-30-03 for this. ### Reproducer. . ### ROOT version. v6-30-03. ### Installation method. source. ### Operating system. centos7. ### Additional context. _No response_,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14250:8662,patch,patches,8662,https://root.cern,https://github.com/root-project/root/issues/14250,2,"['Install', 'patch']","['Installation', 'patches']"
Deployability,"dicate that the parameter `ovlp` is used only in standard mode and ignored in sampling mode. --------------------------------; Potential related bug: some of these really small overlaps appear only when the number of samples is increased but disappear if it is further increased.; However for a given number the list of overlaps is stabled over re-running the macro (new ROOT session at each time).; The new overlaps also appear mostly in the ""last volumes in the geometry"" to be tested.; So it could be that something is not so stable in the sequence of random points:; - first volume getting always mostly the same points independent of the number of samples ; - while last volume getting set of points depending highly on number of samples. I did not manage to reliably reproduce it however so I would create a separate issue if I find the time to test and confirm it later. ### Reproducer. Files in archive: examine_mcbm_beam_2019_03.geo.root, check_overlaps.C, root_overlaps_samp_thr.patch; [check_overlaps.tar.gz](https://github.com/root-project/root/files/14261529/check_overlaps.tar.gz). 1. Run once the macro with master: some big overlaps, some known overlaps of size ~0.4, some overlap of size ~10^-8 only if higher number of samples provided, overlap threshold does not have an effect in sampling mode calls. 2. Apply following patch; ```diff; diff --git a/geom/geompainter/src/TGeoChecker.cxx b/geom/geompainter/src/TGeoChecker.cxx; index fc93cc8b82..0e77517729 100644; --- a/geom/geompainter/src/TGeoChecker.cxx; +++ b/geom/geompainter/src/TGeoChecker.cxx; @@ -1193,7 +1193,7 @@ TGeoOverlap *TGeoChecker::MakeCheckOverlap(const char *name, TGeoVolume *vol1, T; /// Check illegal overlaps for volume VOL within a limit OVLP by sampling npoints; /// inside the volume shape. -void TGeoChecker::CheckOverlapsBySampling(TGeoVolume *vol, Double_t /* ovlp */, Int_t npoints) const; +void TGeoChecker::CheckOverlapsBySampling(TGeoVolume *vol, Double_t ovlp, Int_t npoints) const; {; Int_t nd = ",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14675:3269,patch,patch,3269,https://root.cern,https://github.com/root-project/root/issues/14675,1,['patch'],['patch']
Deployability,"dill.py"", line 1064, in save_builtin_method; pickler.save_reduce(_get_attr, (module, obj.__name__), obj=obj); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 638, in save_reduce; save(args); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 504, in save; f(self, obj) # Call unbound method with explicit self; File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 774, in save_tuple; save(element); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 504, in save; f(self, obj) # Call unbound method with explicit self; File ""/cvmfs/sft.cern.ch/lcg/views/LCG_97python3/x86_64-centos7-gcc9-opt/lib/python3.7/site-packages/dill/_dill.py"", line 1269, in save_module; state=_main_dict); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 662, in save_reduce; save(state); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 504, in save; f(self, obj) # Call unbound method with explicit self; File ""/cvmfs/sft.cern.ch/lcg/views/LCG_97python3/x86_64-centos7-gcc9-opt/lib/python3.7/site-packages/dill/_dill.py"", line 902, in save_module_dict; StockPickler.save_dict(pickler, obj); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 859, in save_dict; self._batch_setitems(obj.items()); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 885, in _batch_setitems; save(v); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 504, in save; f(self, obj) # Call unbound method with explicit se",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6370:3570,release,releases,3570,https://root.cern,https://github.com/root-project/root/issues/6370,1,['release'],['releases']
Deployability,"dir/all] Error 2; make[2]: Leaving directory '<builddir>'; make[1]: *** [Makefile:159: all] Error 2; make[1]: Leaving directory '<builddir>'; ```. ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->; The compilation does not fail. ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->; Compile with `vecgeom` option. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->; Compiling ROOT v6.26.04 on Debian Unstable (amd64), with GCC 11.3.0 and VecGeom 1.2.0, with this configuration:; ```; -- ROOT Configuration . System Linux-5.18.0-2-amd64; Processor 4 core Intel(R) Core(TM) i5-8250U CPU @ 1.60GHz (x86_64); Build type None; Install path /usr; Compiler GNU 11.3.0; Compiler flags:; C -g -O2 -ffile-prefix-map=<srcdir>=. -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -Wno-implicit-fallthrough -pipe -Wall -W -pthread ; C++ -g -O2 -ffile-prefix-map=<srcdir>=. -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -std=c++17 -Wno-implicit-fallthrough -Wno-noexcept-type -pipe -Wshadow -Wall -W -Woverloaded-virtual -fsigned-char -pthread ; Linker flags:; Executable -Wl,-z,relro -Wl,-z,now -rdynamic; Module -Wl,-z,relro -Wl,-z,now; Shared -Wl,-z,relro -Wl,-z,now -Wl,--no-undefined -Wl,--hash-style=""both"". -- Enabled support for: asimage builtin_clang builtin_cling builtin_llvm builtin_unuran builtin_vdt ccache dataframe davix dcache exceptions fftw3 fitsio fortran gdml gfal gnuinstall gsl_shared gviz http fcgi imt mathmore mlp minuit2 mpi mysql odbc opengl pgsql pyroot qt5web qt6web r roofit root7 rpath shadowpw shared soversion sqlite ssl",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10984:5164,Install,Install,5164,https://root.cern,https://github.com/root-project/root/issues/10984,1,['Install'],['Install']
Deployability,"direct-xrootd@v6-09-01-24773-gd85df4c5e9 |; | With c++ (GCC) 8.5.0 20210514 (Red Hat 8.5.0-15) |; | Try '.help'/'.?', '.demo', '.license', '.credits', '.quit'/'.q' |; ------------------------------------------------------------------. root [0] auto f1 = TFile::Open(""file://Run2012BC_DoubleMuParked_Muons.root"");; root [1] auto f2 = TFile::Open(""Run2012BC_DoubleMuParked_Muons.root"");; root [2] f1->GetName(); (const char *) ""Run2012BC_DoubleMuParked_Muons.root""; root [3] f2->GetName(); (const char *) ""root://eoshome-a.cern.ch//eos/user/a/amadio/Run2012BC_DoubleMuParked_Muons.root""; root [4] .q; $; ```; and with a slightly modified `df102_NanoAODDimuonAnalysis` tutorial to avoid `TChain`:; ```diff; void df102_NanoAODDimuonAnalysis(const char* filename); {; // Enable multi-threading; ROOT::EnableImplicitMT();; ; - // std::cout << ""Using filename: "" << filename << std::endl;; + auto f = TFile::Open(filename);; + auto t = f->Get<TTree>(""Events"");; ; - ROOT::RDataFrame df(""Events"", filename);; + ROOT::RDataFrame df(*t);; ```. I got the following:. ```sh; $ time ./dimuon file://Run2012BC_DoubleMuParked_Muons.root ; Info in <TCanvas::Print>: pdf file dimuon_spectrum.pdf has been created; Events with exactly two muons: pass=31104343 all=61540413 -- eff=50.54 % cumulative eff=50.54 %; Muons with opposite charge: pass=24067843 all=31104343 -- eff=77.38 % cumulative eff=39.11 %; 13.34; $ time ./dimuon Run2012BC_DoubleMuParked_Muons.root ; Info in <TCanvas::Print>: pdf file dimuon_spectrum.pdf has been created; Events with exactly two muons: pass=31104343 all=61540413 -- eff=50.54 % cumulative eff=50.54 %; Muons with opposite charge: pass=24067843 all=31104343 -- eff=77.38 % cumulative eff=39.11 %; 8.81; $; ```. **Note:** With the final version of the patch, instead of using `file://`, which now does not disable the redirection anymore, one should add `TFile.CrossProtocolRedirects: no` to their `rootrc` configuration file in order to disable this feature (I checked that it works).",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11644:2730,patch,patch,2730,https://root.cern,https://github.com/root-project/root/pull/11644,2,"['configurat', 'patch']","['configuration', 'patch']"
Deployability,"distributed RDataFrame tests that use `pyspark` will report `ResourceWarning`s like the ones seen here; https://lcgapp-services.cern.ch/root-jenkins/job/root-nightly-master/LABEL=ROOT-ubuntu18.04,SPEC=nortcxxmod,V=master/2956/testReport/projectroot.roottest.python/distrdf/roottest_python_distrdf_spark_test_reducer_merge/. This kind of warning is apparently common in Python unittests that use socket, both with [pyspark](https://stackoverflow.com/questions/49361286/unittesting-with-pyspark-unclosed-socket-warnings) and [others](https://stackoverflow.com/questions/14938716/socket-resourcewarning-using-urllib-in-python-3). The reason they are shown is that in Python3 the unittest module has been updated to use the ""default"" level of warnings filters, as mentioned [in the docs](https://docs.python.org/3.5/library/warnings.html#updating-code-for-new-versions-of-python). For the particular case of `pyspark`, these warnings are actually present in any application that uses the same ""default"" level:; ```py; $: cat sparktest.py ; import pyspark; import warnings. warnings.simplefilter(""default"", ResourceWarning). sc = pyspark.SparkContext.getOrCreate(). sc.parallelize([1,2,3,4,5]).map(lambda x: 1).reduce(lambda x,y: x+y); ```. ```bash; $: python sparktest.py ; 21/08/30 11:04:59 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable; Using Spark's default log4j profile: org/apache/spark/log4j-defaults.properties; Setting default log level to ""WARN"".; To adjust logging level use sc.setLogLevel(newLevel). For SparkR, use setLogLevel(newLevel).; /usr/lib64/python3.8/socket.py:740: ResourceWarning: unclosed <socket.socket fd=7, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 35374), raddr=('127.0.0.1', 36167)>; self._sock = None; ResourceWarning: Enable tracemalloc to get the object allocation traceback; ```. This commit adds an extra call in the setup part of unittests that",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/8938:701,update,updated,701,https://root.cern,https://github.com/root-project/root/pull/8938,1,['update'],['updated']
Deployability,dition is false. Execution continues on line 1284 in /opt/root_src/roofit/roofitcore/src/RooFitResult.cxx:1276; 4: Loop condition is false. Execution continues on line 1294 in /opt/root_src/roofit/roofitcore/src/RooFitResult.cxx:1289; 5: Assuming the condition is false in /opt/root_src/roofit/roofitcore/src/RooFitResult.cxx:1298; 6: Taking false branch in /opt/root_src/roofit/roofitcore/src/RooFitResult.cxx:1298; 7: Assuming the condition is false in /opt/root_src/roofit/roofitcore/src/RooFitResult.cxx:1321; 8: Loop condition is false. Execution continues on line 1331 in /opt/root_src/roofit/roofitcore/src/RooFitResult.cxx:1321; 9: Calling default constructor for 'TMatrixTSym<double>' in /opt/root_src/roofit/roofitcore/src/RooFitResult.cxx:1331; 10: Calling default constructor for 'TMatrixTBase<double>' in /opt/root_src/math/matrix/inc/TMatrixTSym.h:54; 11: Calling default constructor for 'TObject' in /opt/root_src/math/matrix/inc/TMatrixTBase.h:115; 12: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 13: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 14: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Calling default constructor for 'SplitRule' in /opt/root_src/roofit/roofitcore/src/RooSimWSTool.cxx:844; 2: Calling constructor for 'TNamed' in /opt/root_src/roofit/roofitcore/inc/RooSimWSTool.h:82; 3: Calling default constructor for 'TObject' in /opt/root_src/core/base/inc/TNamed.h:37; 4: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 5: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 6: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warnin,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:72530,Update,UpdateIsOnHeap,72530,https://root.cern,https://github.com/root-project/root/issues/7412,1,['Update'],['UpdateIsOnHeap']
Deployability,"doc; - 0, // tp_traverse; + (traverseproc)op_traverse, // tp_traverse; (inquiry)op_clear, // tp_clear; (richcmpfunc)op_richcompare, // tp_richcompare; 0, // tp_weaklistoffset; diff --git a/bindings/pyroot/cppyy/CPyCppyy/src/CustomPyTypes.cxx b/bindings/pyroot/cppyy/CPyCppyy/src/CustomPyTypes.cxx; index 97ce06daa7..ed41b1637c 100644; --- a/bindings/pyroot/cppyy/CPyCppyy/src/CustomPyTypes.cxx; +++ b/bindings/pyroot/cppyy/CPyCppyy/src/CustomPyTypes.cxx; @@ -78,8 +78,7 @@ PyTypeObject TypedefPointerToClass_Type = {; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,; (ternaryfunc)tpc_call, // tp_call; 0, 0, 0, 0,; - Py_TPFLAGS_DEFAULT |; - Py_TPFLAGS_HAVE_GC, // tp_flags; + Py_TPFLAGS_DEFAULT, // tp_flags; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0; #if PY_VERSION_HEX >= 0x02030000; , 0 // tp_del; diff --git a/bindings/pyroot/cppyy/CPyCppyy/src/MemoryRegulator.cxx b/bindings/pyroot/cppyy/CPyCppyy/src/MemoryRegulator.cxx; index f9e92f9c8c..5da48364ac 100644; --- a/bindings/pyroot/cppyy/CPyCppyy/src/MemoryRegulator.cxx; +++ b/bindings/pyroot/cppyy/CPyCppyy/src/MemoryRegulator.cxx; @@ -45,7 +45,7 @@ struct InitCPyCppyy_NoneType_t {; ((PyVarObject&)CPyCppyy_NoneType).ob_size = 0;; ; CPyCppyy_NoneType.tp_name = const_cast<char*>(""CPyCppyy_NoneType"");; - CPyCppyy_NoneType.tp_flags = Py_TPFLAGS_HAVE_RICHCOMPARE | Py_TPFLAGS_HAVE_GC;; + CPyCppyy_NoneType.tp_flags = Py_TPFLAGS_HAVE_RICHCOMPARE;; ; CPyCppyy_NoneType.tp_traverse = (traverseproc)0;; CPyCppyy_NoneType.tp_clear = (inquiry)0;; ~~~; This patch either drops the Py_TPFLAGS_HAVE_GC flag when .tp_traverse is 0 or makes sure it is not 0. This helps with the ""has the Py_TPFLAGS_HAVE_GC flag but has no traverse function"" errors, and ""import ROOT"" works. Most of the python tests work with this patch, but a few of them segfaults during the Python garbage collection, so it is not the correct fix. Anyone familiar with cppyy that have some ideas?. ~~~; Thread 1 ""python3"" received signal SIGSEGV, Segmentation fault.; 0",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10799:3106,a/b,a/bindings,3106,https://root.cern,https://github.com/root-project/root/issues/10799,1,['a/b'],['a/bindings']
Deployability,"ds/v6-28-00-patches@v6-28-04-96-g9248a09 |; | With g++ (GCC) 12.1.0 |; | Try '.help'/'.?', '.demo', '.license', '.credits', '.quit'/'.q' |; ------------------------------------------------------------------. root [0] std::span<int> s; (std::span<int> &) {}; root [1] ; ```; which looks wrong to me. ### What is the expected behaviour?. `__has_include(<span>)` should evaluate to false in C++17 builds. ### How to reproduce?. from lxplus.cern.ch; ```; ❯ . /cvmfs/sft-nightlies.cern.ch/lcg/views/dev4/Thu/x86_64-centos7-gcc12-dbg/setup.sh; ❯ root; ------------------------------------------------------------------; | Welcome to ROOT 6.28/05 https://root.cern |; | (c) 1995-2023, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built for linuxx8664gcc on Jun 13 2023, 00:22:00 |; | From heads/v6-28-00-patches@v6-28-04-96-g9248a09 |; | With g++ (GCC) 12.1.0 |; | Try '.help'/'.?', '.demo', '.license', '.credits', '.quit'/'.q' |; ------------------------------------------------------------------. root [0] #include <range/v3/range/access.hpp>; /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Thu/ROOT/v6-28-00-patches/x86_64-centos7-gcc12-dbg/etc/cling/std.modulemap:312:10: error: module 'std.span' requires feature 'cplusplus20'; module ""span"" {; ^; /cvmfs/sft-nightlies.cern.ch/lcg/views/dev4/Thu/x86_64-centos7-gcc12-dbg/include/range/v3/range/access.hpp:25:10: note: submodule of top-level module 'std' implicitly imported here; #include <span>; ^; root.exe: /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-28-00-patches/src/ROOT/v6-28-00-patches/interpreter/llvm/src/tools/clang/lib/AST/DeclBase.cpp:1517: void clang::DeclContext::removeDecl(clang::Decl*): Assertion `Pos != Map->end() && ""no lookup entry for decl""' failed.; ```. ### ROOT version. v6-28-00-patches@v6-28-04-96-g9248a09. ### How did you install ROOT?. LCG nightly builds in /cvmfs/sft-nightlies.cern.ch. ### Which operating system are you using?. Linux CentOS 7. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13032:2101,patch,patches,2101,https://root.cern,https://github.com/root-project/root/issues/13032,5,"['install', 'patch']","['install', 'patches']"
Deployability,"dule 'std' implicitly imported here; #include <new>; ^; Warning in cling::IncrementalParser::CheckABICompatibility():; Failed to extract C++ standard library version.; While building module 'Core':; While building module 'Cling_Runtime' imported from input_line_2:1:; While building module 'Cling_Runtime_Extra' imported from /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/RuntimeUniverse.h:27:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/DynamicExprInfo.h:13:10: note: submodule of top-level module 'std' implicitly imported here; #include <string>; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/DynamicExprInfo.h:40:7: error: use of undeclared identifier 'std'; std::string m_Result;; ^; While building module 'Core':; While building module 'Cling_Runtime' imported from input_line_2:1:; While building module 'Cling_Runtime_Extra' imported from /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/RuntimeUniverse.h:27:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/DynamicLookupLifetimeHandler.h:12:10: note: submodule of top-level module 'std' implicitly imported here; #include <string>; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/DynamicLookupLifetimeHandler.h:56:7: error: use of undeclared identifier 'std'; std::string m_Type;; ^; While building module 'Core':; While building module 'Cling_Runtime' imported from input_line_2:1:; While building module 'Cling_Runtime_Extra' imported from /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/RuntimeUniverse.h:27:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/st",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10528:15143,Install,Installed,15143,https://root.cern,https://github.com/root-project/root/issues/10528,1,['Install'],['Installed']
Deployability,"dule (this=0x5555557aaed0, T=...); at /home/axel/build/root/llvmupgrade/src/interpreter/cling/lib/Interpreter/IncrementalJIT.cpp:184; #15 0x00007fffec0320a6 in cling::IncrementalExecutor::unloadModule (this=0x555555750eb0, T=...); at /home/axel/build/root/llvmupgrade/src/interpreter/cling/lib/Interpreter/IncrementalExecutor.h:181; #16 0x00007fffec031858 in cling::TransactionUnloader::RevertTransaction (this=0x7fffffff9610, T=0x55555886b420); at /home/axel/build/root/llvmupgrade/src/interpreter/cling/lib/Interpreter/TransactionUnloader.cpp:119; #17 0x00007fffec004b0f in cling::Interpreter::unload (this=0x555555607950, T=...); at /home/axel/build/root/llvmupgrade/src/interpreter/cling/lib/Interpreter/Interpreter.cpp:1551; #18 0x00007fffec004c64 in cling::Interpreter::unload (this=0x555555607950, numberOfTransactions=1); at /home/axel/build/root/llvmupgrade/src/interpreter/cling/lib/Interpreter/Interpreter.cpp:1572; #19 0x00007fffec28e780 in cling::MetaSema::actOnUCommand (this=0x5555561e0910, file=...); at /home/axel/build/root/llvmupgrade/src/interpreter/cling/lib/MetaProcessor/MetaSema.cpp:222; #20 0x00007fffec2a04dd in cling::MetaParser::isUCommand (this=0x7fffffff9940, ; actionResult=@0x7fffffff993c: cling::MetaSema::AR_Success); ```. This leaves `TClingCallFunc::fWrapper` point to invalid memory and causes test failures at least in `roottest-root-meta-callfunc-assertUnload-auto`. I have disabled the deletion of the code segments, but that's just a temporary hack to make progress. We need a callback from the unloading to inform all `TClingCallFunc`s that use unloaded sections (including an update of `gWrapperStore` and friends), such that they can re-emit/-JIT the code if their `Decl` has not been unloaded. This serves as a marker to re-enable the deletion of the Sections, by enabling the `#if 0`'ed code around `interpreter/cling/lib/Interpreter/IncrementalJIT.cpp:189` (in `IncrementalJIT::removeModule(const Transaction& T)`), as introduced by the llvm 13 upgrade.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10898:5231,update,update,5231,https://root.cern,https://github.com/root-project/root/issues/10898,2,"['update', 'upgrade']","['update', 'upgrade']"
Deployability,"dule MathMore; Failed to load module RooFitXRooFit; Failed to load module RooFitHS3; Failed to load module Foam; Failed to load module SpectrumPainter; Failed to load module Minuit2; Failed to load module MLP; Failed to load module ROOTDataFrame; Failed to load module GenVector; Failed to load module ROOTBrowserv7; Failed to load module Minuit; Failed to load module Graf3d; Failed to load module TMVA; Failed to load module ROOTNTupleUtil; Failed to load module ASImageGui; Failed to load module Graf; Failed to load module GX11; Failed to load module Gdml; Failed to load module ROOTTreeViewer; Failed to load module MathCore; Failed to load module Gviz3d; Failed to load module WebGui6; Failed to load module ROOTHist; Failed to load module TreePlayer; Failed to load module ROOTGeomViewer; Failed to load module ROOTFitPanelv7; Failed to load module Smatrix; root.exe: /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-HEAD/src/ROOT/HEAD/interpreter/llvm-project/clang/lib/Lex/Lexer.cpp:4370: bool clang::Lexer::LexTokenInternal(clang::Token&, bool): Assertion `Result.is(tok::eof) && ""Preprocessor did not set tok:eof""' failed. ```. According to `strace` previous version ROOT would first try the `/build/...` folder to find Vc.pcm, and then look parallel to other ROOT libraries (not sure how that is decided). But now only the build path is tried and nothing else. Vc.pcm is present; ```; ls -l /cvmfs/sft-nightlies.cern.ch/lcg/views/dev3/latest/x86_64-el9-gcc13-dbg/lib/Vc.pcm; lrwxrwxrwx. 1 cvmfs cvmfs 93 Mar 13 12:58 /cvmfs/sft-nightlies.cern.ch/lcg/views/dev3/latest/x86_64-el9-gcc13-dbg/lib/Vc.pcm -> /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev3/Wed/ROOT/HEAD/x86_64-el9-gcc13-dbg/lib/Vc.pcm; ```. ### ROOT version. master. ### Installation method. lcgcmake from source: options https://gitlab.cern.ch/sft/lcgcmake/-/blob/master/projects/CMakeLists.txt?ref_type=heads#L82. ### Operating system. alma9, alma8, ubuntu20, ubuntu22. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14964:4305,Install,Installation,4305,https://root.cern,https://github.com/root-project/root/issues/14964,1,['Install'],['Installation']
Deployability,"during its build:. ![root-6 20 08-build](https://user-images.githubusercontent.com/30694331/94133565-1d97ec80-fe61-11ea-927d-94b8926cd41b.png). The build starts ""pretty much"" at the left hand side of the timeline, and lasts until ""pretty much"" the right hand side of it. As you can see, the build starts out very well. Building LLVM scales perfectly to 64 threads. And I believe it would scale well to even beyond that. But once the LLVM build is done, many bottlenecks show up. First there is a big bottleneck with building `libCling` and `rootcling`, but after that the build of `libRIO` is also taking a surprising amount of time. And the build is stuck waiting for all of these. Towards the end things improve a bit once more, as many libraries / source files can build in parallel once more. But even then, very rarely does the build manage to make use of all of the available cores. ## Optional: share how it could be improved. From a quick glance it seems that ROOT's CMake configuration sets up way too many unnecessary dependencies between its build targets. Most of the issues seem to arise from how the dictionary generation is set up as far as I can see. In ATLAS I use the following code to set up the generation of dictionary source files:. https://gitlab.cern.ch/atlas/atlasexternals/-/blob/master/Build/AtlasCMake/modules/AtlasDictionaryFunctions.cmake. And that provides a much better behaviour. Mainly because in ATLAS's setup dictionary generations do not need to wait for anything. Even if the library that a dictionary is being produced for depends on a number of upstream libraries, the dictionary for that library can be generated before all the upstream libraries would have finished building. In practice this actually means that the start of any ATLAS software build is dominated by running dictionary generation. As GNU Make and Ninja both prefer running those build steps first. (As they do not have any dependencies themselves.). The reason I blame the dictionary generat",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6432:1290,configurat,configuration,1290,https://root.cern,https://github.com/root-project/root/issues/6432,1,['configurat'],['configuration']
Deployability,"e 'Cling_Runtime' imported from input_line_2:1:; While building module 'Cling_Runtime_Extra' imported from /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/RuntimeUniverse.h:27:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/DynamicLookupLifetimeHandler.h:12:10: note: submodule of top-level module 'std' implicitly imported here; #include <string>; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/DynamicLookupLifetimeHandler.h:56:7: error: use of undeclared identifier 'std'; std::string m_Type;; ^; While building module 'Core':; While building module 'Cling_Runtime' imported from input_line_2:1:; While building module 'Cling_Runtime_Extra' imported from /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/RuntimeUniverse.h:27:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Visibility.h:13:10: note: submodule of top-level module 'std' implicitly imported here; #include <new>; ^; While building module 'Core':; While building module 'Cling_Runtime' imported from input_line_2:1:; While building module 'Cling_Runtime_Extra' imported from /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/RuntimeUniverse.h:27:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:17:10: note: submodule of top-level module 'std' implicitly imported here; #include <type_traits>; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:93:41: error: use of undeclared identifier",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10528:16009,Install,Installed,16009,https://root.cern,https://github.com/root-project/root/issues/10528,1,['Install'],['Installed']
Deployability,"e (219 ms); [ RUN ] LikelihoodJobTest.UnbinnedGaussianND; [ OK ] LikelihoodJobTest.UnbinnedGaussianND (331 ms); [ RUN ] LikelihoodJobTest.SimBinned; [ OK ] LikelihoodJobTest.SimBinned (323 ms); [ RUN ] LikelihoodJobTest.BinnedConstrained; [ OK ] LikelihoodJobTest.BinnedConstrained (311 ms); [ RUN ] LikelihoodJobTest.SimUnbinned; [ OK ] LikelihoodJobTest.SimUnbinned (281 ms); [ RUN ] LikelihoodJobTest.SimUnbinnedNonExtended; [ OK ] LikelihoodJobTest.SimUnbinnedNonExtended (264 ms); [ RUN ] LikelihoodJobTest.BatchedUnbinnedGaussianND; [ OK ] LikelihoodJobTest.BatchedUnbinnedGaussianND (362 ms); [----------] 9 tests from LikelihoodJobTest (2698 ms total); [----------] 2 tests from LikelihoodJobBinnedDatasetTest; [ RUN ] LikelihoodJobBinnedDatasetTest.UnbinnedPdf; [ OK ] LikelihoodJobBinnedDatasetTest.UnbinnedPdf (152 ms); [ RUN ] LikelihoodJobBinnedDatasetTest.BinnedNLL; [ OK ] LikelihoodJobBinnedDatasetTest.BinnedNLL (325 ms); [----------] 2 tests from LikelihoodJobBinnedDatasetTest (480 ms total); [----------] 2 tests from LikelihoodJobSimBinnedConstrainedTest; [ RUN ] LikelihoodJobSimBinnedConstrainedTest.BasicParameters; [ OK ] LikelihoodJobSimBinnedConstrainedTest.BasicParameters (452 ms); [ RUN ] LikelihoodJobSimBinnedConstrainedTest.ConstrainedAndOffset; /usr/include/c++/14/bits/stl_vector.h:1130: std::vector<_Tp, _Alloc>::reference std::vector<_Tp, _Alloc>::operator[](size_type) [with _Tp = ROOT::Math::KahanSum<double>; _Alloc = std::allocator<ROOT::Math::KahanSum<double> >; reference = ROOT::Math::KahanSum<double>&; size_type = long unsigned int]: Assertion '__n < this->size()' failed.; ```; The test hangs at this point, and is eventually killed by the timeout limit. ### Reproducer. Compile ROOT with `-Wp,-D_GLIBCXX_ASSERTIONS` in CXXFLAGS. This is part of the default flags for Fedora package builds. ### ROOT version. 6.32.00. ### Installation method. Package build on Fedora from source. ### Operating system. Fedora Linux. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15730:2532,Install,Installation,2532,https://root.cern,https://github.com/root-project/root/issues/15730,1,['Install'],['Installation']
Deployability,"e 3.1+; - Support for adding as a subdirectory, using from build directory, or installing; - Works inside of ROOT or standalone; - Support for CPack binary `make package`; - Options for MPI and OpenMP integrated with main ROOT build; - Support for macOS, Linux, and Windows; - Version captured from ROOT; - CTest support; - `make docs` support (CMake 3.8+ only); * No need for extra ""prepare"" shell scripts, everything is done cross-platform through CMake and CPack; - Files can be copied in to make redistributable source with `-Dminuit2-standalone=ON`; - `make package_source` on Unix creates `.tar.gz` and `.zip` files (non-binary CPack); - `make purge` can remove copied files; * Helpful `README.md` and `DEVELOP.md` files. ### To produce a source distribution:; Make sure you have CMake 3.1+ (ROOT requires 3.4.3+, so that's likely). Then, from `/math/minuit2/build` run:. ```bash; cmake .. -Dminuit2-standalone=ON; make package_source; make purge; ```. ### You can also build Minuit2 for testing (standalone option on or off) with:. ```; make; ```. ### And you can make a prebuilt binary package with:. ```; make package; ```. (Standard CPack option for different generators apply.). ### Maintenence. If new files are needed by Minuit2 due to additions to ROOT, they should be added to the source files lists in `/math/minuit2/src/Math/CMakeLists.txt` and `/math/minuit2/src/CMakeLists.txt` (depending on if it's a new Math or Minuit2 requirement). ### Windows; This works on Windows; and you can even then create binary installers for Windows trivially. (Though ""package_source"" does not seem to be supported on Windows). This is the procedure on Windows:. First, install Visual Studio 17, Git, CMake, and NSIS. Then from the `math/minuit2/build directory` of your ROOT checkout, run:. ```; ""C:\Program Files\CMake\bin\cmake.exe"" ..; ""C:\Program Files\CMake\bin\cmake.exe"" --build .; ""C:\Program Files\CMake\bin\cmake.exe"" --build . --target package; ```. This creates a `.exe` installer file.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1680:1776,install,installers,1776,https://root.cern,https://github.com/root-project/root/pull/1680,3,['install'],"['install', 'installer', 'installers']"
Deployability,"e Transaction object still in use.; When the constructor is run, the entry in that Transaction object is erased,; ultimately leading to getting an empty transaction above. Now, the TransactionPool gets messed up on an earlier GetClass call,; at this code in LookupHelper.cxx:. ```; // NOTE: We cannot instantiate the scope: not a valid decl.; // Need to unload it if this decl is a definition.; // But do not unload pre-existing fwd decls. Note that this might have failed; // because several other Decls failed to instantiate, leaving several Decls; // in invalid state. We should be unloading all of them, i.e. inload the; // current (possibly nested) transaction.; auto *T = const_cast<Transaction*>(m_Interpreter->getCurrentTransaction());; m_Interpreter->unload(*T);; *setResultType = nullptr;; return 0;; ```. The call stack here is. ```; #0 0x00007fffef9dde70 in cling::Interpreter::unload(cling::Transaction&)@plt; (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCling.so; #1 0x00007fffefbf28ce in cling::LookupHelper::findScope(llvm::StringRef, cling::LookupHelper::DiagSetting, clang::Type const**, bool) const (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCling.so; #2 0x00007fffefb854d9 in TClingClassInfo::TClingClassInfo(cling::Interpreter*, char const*, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCling.so; #3 0x00007fffefb06c54 in TCling::GetInterpreterTypeName(char const*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, bool); (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCling.so; #4 0x00007ffff560f184 in TClass::GetClass(char const*, bool, bool, unsigned long, unsigned long) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7657:11787,patch,patches,11787,https://root.cern,https://github.com/root-project/root/issues/7657,1,['patch'],['patches']
Deployability,"e a previous successful call to a fit routine. As a result, various tests that employ fits fail/crash, for example the ""test-stresshistogram"" test. ### What is the expected behaviour?. After a call to a fit function, e.g.`h1->Fit(...)` (see below) , expect `TVirtualFitter::GetFitter() != nullptr` to be true. ### How to reproduce?. This snippet (taken from the test-stresshistogram source),; ```; ROOT::DisableImplicitMT();; double gaus1d(const double *x, const double * p) { return p[0] * TMath::Gaus( x[0], p[1], p[2], true); }; TH1D * h1 = new TH1D(""h1"",""h1"",100,-5,5);; TF1 * gaus = new TF1(""gaus1d"",gaus1d,-5,5,3);; gaus->SetParameters(1,0,1);; h1->FillRandom(""gaus1d"",10000);; auto res = h1->Fit(gaus,""L0S"");; cout << TVirtualFitter::GetFitter() << endl;; ```; run either interactively or in compiled code, should print a non-zero number, which it does on older platforms. But it prints `0x0` with the latest ROOT/macOS/Xcode (details below). ### ROOT version. 6.28.04, 6.26.10. ### How did you install ROOT?. Custom build from source. ### Which operating system are you using?. macOS 13.4, Xcode 14.3.1; macOS 12.6.5, Xcode 14.2. ### Additional context. It works with ROOT 6.28.04 on macOS 11.7.7 (Intel) with Xcode 13.2.1. It fails with the exact same ROOT, compiled with the exact same configuration, on macOS 13.4 (Intel) with Xcode 14.3.1. Details:; ```; $ root-config --cflags; -stdlib=libc++ -pthread -std=c++17 -m64 -I/Users/ole/Develop/BUILD/ROOT/6.28.04/include; $ root-config --features; cxx17 asimage builtin_afterimage builtin_clang builtin_cling builtin_freetype builtin_glew builtin_gtest builtin_llvm builtin_openui5 builtin_tbb builtin_unuran builtin_vdt clad cocoa dataframe exceptions fftw3 fortran gdml gviz http imt libcxx mathmore mlp minuit2 mysql opengl pgsql pyroot pythia8 qt6web roofit webgui root7 rpath runtime_cxxmodules shared soversion sqlite ssl tmva tmva-cpu tmva-pymva spectrum unuran vc vdt vecgeom xml xrootd; ```. It also fails with ROOT 6.26.10 on the mac",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13041:1395,install,install,1395,https://root.cern,https://github.com/root-project/root/issues/13041,1,['install'],['install']
Deployability,e branch in /opt/root_src/graf3d/eve7/glu/sweep.c:791; 48: Taking true branch in /opt/root_src/graf3d/eve7/glu/sweep.c:793; 49: Assuming field 'fixUpperEdge' is not equal to 0 in /opt/root_src/graf3d/eve7/glu/sweep.c:799; 50: Taking true branch in /opt/root_src/graf3d/eve7/glu/sweep.c:799; 51: Calling 'DeleteRegion' in /opt/root_src/graf3d/eve7/glu/sweep.c:800; 52: Field 'fixUpperEdge' is not equal to 0 in /opt/root_src/graf3d/eve7/glu/sweep.c:153; 53: Taking true branch in /opt/root_src/graf3d/eve7/glu/sweep.c:153; 54: Assuming field 'winding' is equal to 0 in /opt/root_src/graf3d/eve7/glu/sweep.c:158; 55: expanded from macro 'assert' in /usr/include/assert.h:109; 56: Taking true branch in /opt/root_src/graf3d/eve7/glu/sweep.c:158; 57: expanded from macro 'assert' in /usr/include/assert.h:109; 58: Memory is released in /opt/root_src/graf3d/eve7/glu/sweep.c:162; 59: expanded from macro 'memFree' in /opt/root_src/graf3d/eve7/glu/memalloc.h:41; 60: Returning; memory was released via 2nd parameter in /opt/root_src/graf3d/eve7/glu/sweep.c:800; 61: Assuming the condition is false in /opt/root_src/graf3d/eve7/glu/sweep.c:801; 62: Taking false branch in /opt/root_src/graf3d/eve7/glu/sweep.c:801; 63: Use of memory after it is freed in /opt/root_src/graf3d/eve7/glu/sweep.c:803; /opt/root_src/graf3d/eve7/glu/sweep.c:808:10: warning: Use of memory after it is freed [clang-analyzer-unix.Malloc]; 1: Assuming the condition is false in /opt/root_src/graf3d/eve7/glu/sweep.c:1321; 2: Taking false branch in /opt/root_src/graf3d/eve7/glu/sweep.c:1321; 3: Assuming the condition is true in /opt/root_src/graf3d/eve7/glu/sweep.c:1325; 4: Loop condition is true. Entering loop body in /opt/root_src/graf3d/eve7/glu/sweep.c:1325; 5: Loop condition is true. Entering loop body in /opt/root_src/graf3d/eve7/glu/sweep.c:1326; 6: Assuming 'vNext' is not equal to NULL in /opt/root_src/graf3d/eve7/glu/sweep.c:1328; 7: Left side of '||' is false in /opt/root_src/graf3d/eve7/glu/sweep.c:1328; 8: Assumi,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7531:20325,release,released,20325,https://root.cern,https://github.com/root-project/root/issues/7531,1,['release'],['released']
Deployability,"e configuration output](https://github.com/root-project/root/files/7709954/cmake.log), [CMakeCache.txt](https://github.com/root-project/root/files/7709963/CMakeCache.txt), the full [build log](https://github.com/root-project/root/files/7709957/build.log), and the [log for failed tests](https://github.com/root-project/root/files/7710157/ctest-failed.log). To save you some time looking over these files, here is the full list of tests that fail:. ```; The following tests FAILED:; 	 1 - clingtest-check-cling (Failed); 	 13 - pyunittests-pyroot-dependency-versions (Failed); 	 68 - pyunittests-pyroot-numbadeclare (Not Run); 	 69 - test-import-numba (Failed); 	160 - gtest-math-mathcore-test-stressMathCoreUnit (Failed); 	282 - test-stressmathcore (Failed); 	307 - test-TFormulaTests (Failed); 	800 - tutorial-pythia-pythiaExample (Failed); 	1142 - tutorial-pyroot-pyroot004_NumbaDeclare-py (Not Run); 	1143 - test-import-numba (Failed); 	1358 - roottest-cling-stl-dicts-build (Failed); 	1611 - roottest-root-dataframe-test_snapshot_copyaddresses (Failed); 	1753 - roottest-root-io-transient-base-WriteFile (Failed); 	1754 - roottest-root-io-transient-base-hadd_autoload (Failed); 	1799 - roottest-root-meta-countIncludePaths (Failed); 	1841 - roottest-root-meta-MakeProject-runaliceesd (Failed); 	1852 - roottest-root-meta-ROOT-7462-make (Failed); 	2229 - roottest-root-tree-cache-perfstattest-libevent-build (Failed); 	2230 - roottest-root-tree-cache-perfstattest (Failed); ```; * You can ignore the failures for numba, as I don't have that installed.; * The math tests seem to fail because of strict tolerances and errors related to SIMD being enabled (I used `-march=native` on a machine that has AVX2 support). I suggest enabling SIMD on at least one of the CI builds in Jenkins to cover that if that's not the case now. ; * The test `roottest-root-tree-cache-perfstattest-libevent-build` and some others fail because of a build type not being set (I just set `CMAKE_CXX_FLAGS` and not `CMAKE_BU",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/9436:2221,install,installed,2221,https://root.cern,https://github.com/root-project/root/issues/9436,1,['install'],['installed']
Deployability,"e description of what the wrong behavior is.; -->. Some classes are imported in the Python session namespace when wildcard import is used, while others aren't:. ```; vpadulan@fedorathinkpad-T550 [~]: python; Python 3.8.7 (default, Jan 20 2021, 00:00:00) ; [GCC 10.2.1 20201125 (Red Hat 10.2.1-9)] on linux; Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.; >>> from ROOT import *; >>> RDataFrame; Traceback (most recent call last):; File ""<stdin>"", line 1, in <module>; NameError: name 'RDataFrame' is not defined; >>> TPyDispatcher; Traceback (most recent call last):; File ""<stdin>"", line 1, in <module>; NameError: name 'TPyDispatcher' is not defined; >>> TGHorizontalFrame; <class cppyy.gbl.TGHorizontalFrame at 0x55f59c990900>; >>> RDF; Traceback (most recent call last):; File ""<stdin>"", line 1, in <module>; NameError: name 'RDF' is not defined; >>> TTree; <class cppyy.gbl.TTree at 0x55f59cac9650>; >>> TTreeReader; <class cppyy.gbl.TTreeReader at 0x55f59ce32910>; >>> ; ```. ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->. We should be able to tell more consistenty which names are available after wildcard import, it is handled [here](https://github.com/root-project/root/blob/34fc1dcd8c12b49349c3e54c033effdb6f6354f0/bindings/pyroot/pythonizations/python/ROOT/_facade.py#L153) . ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->. `from ROOT import *` in a python session. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->. ROOT master@34fc1dc; Fedora 32; built from source. ### Additional context; <!--; Add any other context about the problem here.; -->; This issue stems from #7436",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7669:2189,install,install,2189,https://root.cern,https://github.com/root-project/root/issues/7669,1,['install'],['install']
Deployability,"e known. Here are some examples of g++'s output. I have not checked whether these are false positives, but in case they are, maybe we can suppress the warnings locally:; ```; /home/bgruber/root/io/io/src/TStreamerInfo.cxx: In member function ‘virtual void TStreamerInfo::BuildCheck(TFile*, Bool_t)’:; /home/bgruber/root/io/io/src/TStreamerInfo.cxx:1112:29: warning: ‘this’ pointer is null [-Wnonnull]; 1112 | Warning(""BuildCheck"", ""\n\; | ~~~~~~~^~~~~~~~~~~~~~~~~~~; 1113 | The StreamerInfo from %s does not match existing one (%s:%d)\n\; | ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~; 1114 | The existing one has not been used yet and will be discarded.\n\; | ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~; 1115 | Reading should work properly, however writing object of\n\; | ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~; 1116 | type %s will not work properly. Most likely the version number\n\; | ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~; 1117 | of the class was not properly updated [See ClassDef(%s,%d)]."",; | ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~; 1118 | file->GetName(), GetName(), fClassVersion, GetName(), GetName(), fClassVersion);; | ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~; ```. ```; /home/bgruber/root/net/davix/src/RRawFileDavix.cxx: In member function ‘virtual void ROOT::Internal::RRawFileDavix::ReadVImpl(ROOT::Internal::RRawFile::RIOVec*, unsigned int)’:; /home/bgruber/root/net/davix/src/RRawFileDavix.cxx:104:37: warning: ‘<unknown>’ may be used uninitialized [-Wmaybe-uninitialized]; 104 | auto ret = fFileDes->pos.preadVec(fFileDes->fd, in, out, nReq, &davixErr);; | ~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~; In file included from /usr/include/davix/davix.hpp:70,; from /home/bgruber/root/net/davix/src/RRawFileDavix.cxx:19:; /usr/include/davix/file/davposix.hpp:353:17: note: by argument 3 of type ‘const Davix::D",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/8129:1452,update,updated,1452,https://root.cern,https://github.com/root-project/root/issues/8129,1,['update'],['updated']
Deployability,"e of spurious errors:. ```python; from array import array; import ROOT. RDataFrame = ROOT.RDF.Experimental.Distributed.Spark.RDataFrame. tree = ROOT.TTree(""tree"", ""Tree in memory""); x = array(""f"", [0]); tree.Branch(""x"", x, ""x/F""). r = ROOT.TRandomMixMax(). for i in range(100000):; x[0] = r.Gaus(10, 1); tree.Fill(). df = RDataFrame(tree). print(df.Count().GetValue()); ```. The first error is; ```; File ""/home/vpadulan/Programs/rootproject/rootinstall/devrelease/lib/DistRDF/Node.py"", line 717, in get_treename; return first_arg.GetUserInfo().At(0).GetName(); ReferenceError: attempt to access a null-pointer; ```; Since the `get_treename` function calls `GetUserInfo()` which is empty in this case. Changing that line to `return first_arg.GetName()` triggers; ```; File ""/home/vpadulan/Programs/rootproject/rootinstall/devrelease/lib/DistRDF/Backends/Base.py"", line 158, in mapper; for f in current_range.filelist:; TypeError: 'NoneType' object is not iterable; ```; And in this case the name of the tree is correctly retrieved, but the function [build_ranges](https://github.com/root-project/root/blob/bdd8a241d5ce5d2f7d3b5b273a0660d7ed52a517/bindings/experimental/distrdf/python/DistRDF/Node.py#L605) expects the inputfiles to be non-empty, otherwise the ranges will be created as if the constructor called was `RDataFrame(ULong64_t numEntries)` instead. So that's a silent fallback to something completely different from the requested input arguments. ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->. Distributed RDataFrame should raise an exception if the user is trying to process an in-memory-only tree distributedly, similarly to how it's done in TTreeProcessorMT. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->. ROOT master; Fedora 32; Build from source. ### Additional context; <!--; Add any other context about the problem here.; -->",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7788:2442,install,install,2442,https://root.cern,https://github.com/root-project/root/issues/7788,1,['install'],['install']
Deployability,"e real data with this version of RNTuple!; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experimental::Internal::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNTupleDescriptorBuilder&)>: Pre-release format version: RC 1; [ OK ] RNTuple.RealWorld1 (5260 ms); [ RUN ] RNTuple.RandomAccess; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RPageStorageFile.cxx:51 in ROOT::Experimental::Detail::RPageSinkFile::RPageSinkFile(std::string_view, const ROOT::Experimental::RNTupleWriteOptions&)>: The RNTuple file format will change. Do not store real data with this version of RNTuple!; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experimental::Internal::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNTupleDescriptorBuilder&)>: Pre-release format version: RC 1; [ OK ] RNTuple.RandomAccess (229 ms); [ RUN ] RNTuple.LargeFile1; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RPageStorageFile.cxx:51 in ROOT::Experimental::Detail::RPageSinkFile::RPageSinkFile(std::string_view, const ROOT::Experimental::RNTupleWriteOptions&)>: The RNTuple file format will change. Do not store real data with this version of RNTuple!; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experimental::Internal::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNTupleDescriptorBuilder&)>: Pre-release format version: RC 1; Error in <TFile::Init>: file test_large_file1.root has an incorrect header length (1677721600) or incorrect end of file length (-1760683648); /builddir/build/BUILD/",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12426:7218,release,release,7218,https://root.cern,https://github.com/root-project/root/issues/12426,1,['release'],['release']
Deployability,"e real data with this version of RNTuple!; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experimental::Internal::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNTupleDescriptorBuilder&)>: Pre-release format version: RC 1; [ OK ] RNTuple.RealWorld1 (9118 ms); [ RUN ] RNTuple.RandomAccess; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RPageStorageFile.cxx:51 in ROOT::Experimental::Detail::RPageSinkFile::RPageSinkFile(std::string_view, const ROOT::Experimental::RNTupleWriteOptions&)>: The RNTuple file format will change. Do not store real data with this version of RNTuple!; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experimental::Internal::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNTupleDescriptorBuilder&)>: Pre-release format version: RC 1; [ OK ] RNTuple.RandomAccess (201 ms); [ RUN ] RNTuple.LargeFile1; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RPageStorageFile.cxx:51 in ROOT::Experimental::Detail::RPageSinkFile::RPageSinkFile(std::string_view, const ROOT::Experimental::RNTupleWriteOptions&)>: The RNTuple file format will change. Do not store real data with this version of RNTuple!; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experimental::Internal::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNTupleDescriptorBuilder&)>: Pre-release format version: RC 1; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12427:5216,release,release,5216,https://root.cern,https://github.com/root-project/root/issues/12427,1,['release'],['release']
Deployability,"e specifically, when importing ""generic functions"", aka RooFormulas, the parser used to get the names of the dependent variables is extremely brittle and cannot handle numbers in scientific notation in all cases... and to be honest, reading the code, what surprises me is that it can at all work in some cases. Can't you rely on the built-in parsers for `RooFormula` instead, for instance ?. The issue is in `extractArguments` function. BTW, if you fix the bug, can you take the opportunity to change the output from `vector<string>` to `set<string>` ? There are warnings printed down the line with a difference between what the function ""claims to use"" and what it ""is in use"", that all come from variables that appear several times in the formula. See below for reproducer. ### Reproducer. Here is a copy of the function:. ``` C++; #include <vector>; #include <algorithm>; #include <string>; #include <iostream>; #include <cctype>. std::vector<std::string> extractArguments(std::string expr); {; // Get rid of whitespaces; expr.erase(std::remove_if(expr.begin(), expr.end(), [](unsigned char c) { return std::isspace(c); }), expr.end());. std::vector<std::string> arguments;; size_t startidx = expr.size();; for (size_t i = 0; i < expr.size(); ++i) {; if (startidx >= expr.size()) {; if (isalpha(expr[i])) {; startidx = i;; }; } else {; if (!isdigit(expr[i]) && !isalpha(expr[i]) && expr[i] != '_') {; if (expr[i] == '(') {; startidx = expr.size();; continue;; }; std::string arg(expr.substr(startidx, i - startidx));; startidx = expr.size();; arguments.push_back(arg);; }; }; }; if (startidx < expr.size()) {; arguments.push_back(expr.substr(startidx));; }; return arguments;; }; ```. Then:; ```; root; root [0] .L blih.C+; root [1] res = extractArguments(""1.0e-8*blah""); (std::vector &) { ""e"", ""blah"" }; ```; where obviously 'e' should not have been picked up. ### ROOT version. 6.30.04. ### Installation method. release. ### Operating system. centos7 build. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14637:2257,Install,Installation,2257,https://root.cern,https://github.com/root-project/root/issues/14637,2,"['Install', 'release']","['Installation', 'release']"
Deployability,"e the created file to prevent the following error:; ```; Error in callback <bound method CaptureDrawnPrimitives._post_execute of <JupyROOT.helpers.utils.CaptureDrawnPrimitives object at 0x0C321C58>> (for post_execute):; ---------------------------------------------------------------------------; PermissionError Traceback (most recent call last); ~\build\release\bin\JupyROOT\helpers\utils.py in _post_execute(self); 461; 462 def _post_execute(self):; --> 463 NotebookDraw(); 464; 465 def register(self):. ~\build\release\bin\JupyROOT\helpers\utils.py in NotebookDraw(); 450 def NotebookDraw():; 451 DrawGeometry(); --> 452 DrawCanvases(); 453 DrawRCanvases(); 454. ~\build\release\bin\JupyROOT\helpers\utils.py in DrawCanvases(); 441 drawers = GetCanvasDrawers(); 442 for drawer in drawers:; --> 443 drawer.Draw(); 444; 445 def DrawRCanvases():. ~\build\release\bin\JupyROOT\helpers\utils.py in Draw(self); 598; 599 def Draw(self):; --> 600 self._display(); 601 return 0; 602. ~\build\release\bin\JupyROOT\helpers\utils.py in _display(self); 583 self._jsDisplay(); 584 else:; --> 585 self._pngDisplay(); 586; 587 def GetDrawableObjects(self):. ~\build\release\bin\JupyROOT\helpers\utils.py in _pngDisplay(self); 572; 573 def _pngDisplay(self):; --> 574 img = self._getPngImage(); 575 IPython.display.display(img); 576. ~\build\release\bin\JupyROOT\helpers\utils.py in _getPngImage(self); 566 with _setIgnoreLevel(ROOT.kError):; 567 self.drawableObject.SaveAs(ofile.name); --> 568 img = IPython.display.Image(filename=ofile.name, format='png', embed=True); 569 #ofile.close(); 570 #os.unlink(ofile.name). c:\python38-32\lib\site-packages\IPython\core\display.py in __init__(self, data, url, filename, format, embed, width, height, retina, unconfined, metadata); 1229 self.retina = retina; 1230 self.unconfined = unconfined; -> 1231 super(Image, self).__init__(data=data, url=url, filename=filename,; 1232 metadata=metadata); 1233. c:\python38-32\lib\site-packages\IPython\core\display.py in __init__",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9109:1336,release,release,1336,https://root.cern,https://github.com/root-project/root/pull/9109,1,['release'],['release']
Deployability,"e very welcome to add to the existing report, for instance ""issue still exists in today's master"".; -->. I have my own project that uses ROOT (and Python); my CMakeList file contains following ilnes ; ```; find_package(ROOT 6 CONFIG REQUIRED ); ...; find_package(Python3 ${PY3VERSION_ROOT} COMPONENTS Interpreter Development NumPy). ```; And it build, works, and everything is fine . To follow up development in ROOT, I regularly rebuild my project using ROOT version from LCG nighlies dev3 build. And starting from Tuesday, August 31 I have a build error - numpy i snot found. ```; -- Could NOT find Python3 (missing: Python3_NumPy_INCLUDE_DIRS NumPy) (found suitable version ""3.9.6"", minimum required is ""3.9.6""); ```. As a result all binaries/libraries in my project are invalid and result in segfaults. . It is not clear if this is ROOT,CMAKE or LCG-nighlies problem. . ### Describe the bug; <!--; A clear and concise description of what the wrong behavior is.; -->. for ROOT-based project ; cmake does not find NumPy for dev3 LCG nighlies built Staring form August 31, 2021 . ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->. cmake should find NumPy . ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->. 1. lxplus.cern.ch ; 2. source /cvmfs/sft.cern.ch/lcg/views/dev3/Tue/x86_64-centos7-gcc9-opt/setup.sh; 3. any CMAKe project with these two ilnes included ; ```; find_package(ROOT 6 CONFIG REQUIRED ); ...; find_package(Python3 3.6.9 COMPONENTS Interpreter Development NumPy); ```. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->. ### Additional context; <!--; Add any other context about the problem here.; -->",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/8942:2118,install,install,2118,https://root.cern,https://github.com/root-project/root/issues/8942,1,['install'],['install']
Deployability,e' is 0 in /opt/root_src/graf3d/eve7/glu/sweep.c:799; 68: Taking false branch in /opt/root_src/graf3d/eve7/glu/sweep.c:799; 69: Assuming field 'fixUpperEdge' is not equal to 0 in /opt/root_src/graf3d/eve7/glu/sweep.c:804; 70: Taking true branch in /opt/root_src/graf3d/eve7/glu/sweep.c:804; 71: Calling 'DeleteRegion' in /opt/root_src/graf3d/eve7/glu/sweep.c:805; 72: Field 'fixUpperEdge' is not equal to 0 in /opt/root_src/graf3d/eve7/glu/sweep.c:153; 73: Taking true branch in /opt/root_src/graf3d/eve7/glu/sweep.c:153; 74: Assuming field 'winding' is equal to 0 in /opt/root_src/graf3d/eve7/glu/sweep.c:158; 75: expanded from macro 'assert' in /usr/include/assert.h:109; 76: Taking true branch in /opt/root_src/graf3d/eve7/glu/sweep.c:158; 77: expanded from macro 'assert' in /usr/include/assert.h:109; 78: Memory is released in /opt/root_src/graf3d/eve7/glu/sweep.c:162; 79: expanded from macro 'memFree' in /opt/root_src/graf3d/eve7/glu/memalloc.h:41; 80: Returning; memory was released via 2nd parameter in /opt/root_src/graf3d/eve7/glu/sweep.c:805; 81: Assuming the condition is false in /opt/root_src/graf3d/eve7/glu/sweep.c:806; 82: Taking false branch in /opt/root_src/graf3d/eve7/glu/sweep.c:806; 83: Use of memory after it is freed in /opt/root_src/graf3d/eve7/glu/sweep.c:808; /opt/root_src/graf3d/eve7/glu/sweep.c:885:22: warning: Use of memory after it is freed [clang-analyzer-unix.Malloc]; 1: Assuming the condition is false in /opt/root_src/graf3d/eve7/glu/sweep.c:1321; 2: Taking false branch in /opt/root_src/graf3d/eve7/glu/sweep.c:1321; 3: Assuming the condition is true in /opt/root_src/graf3d/eve7/glu/sweep.c:1325; 4: Loop condition is true. Entering loop body in /opt/root_src/graf3d/eve7/glu/sweep.c:1325; 5: Loop condition is true. Entering loop body in /opt/root_src/graf3d/eve7/glu/sweep.c:1326; 6: Assuming 'vNext' is not equal to NULL in /opt/root_src/graf3d/eve7/glu/sweep.c:1328; 7: Left side of '||' is false in /opt/root_src/graf3d/eve7/glu/sweep.c:1328; 8: Assumi,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7531:27050,release,released,27050,https://root.cern,https://github.com/root-project/root/issues/7531,1,['release'],['released']
Deployability,e.g.; ```; bitwise operation between different enumeration types ‘TBranch::EStatusBits’ and ‘TBranchElement::EStatusBits’ is deprecated [-Wdeprecated-enum-enum-conversion]; ```; ```; implicit capture of ‘this’ via ‘[=]’ is deprecated in C++20 [-Wdeprecated]. ```. # This Pull request:. ## Changes or fixes:. ## Checklist:. - [ ] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12776:359,update,updated,359,https://root.cern,https://github.com/root-project/root/pull/12776,1,['update'],['updated']
Deployability,"e.py"", line 549, in save; self.save_reduce(obj=obj, *rv); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 637, in save_reduce; save(func); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 504, in save; f(self, obj) # Call unbound method with explicit self; File ""/cvmfs/sft.cern.ch/lcg/views/LCG_97python3/x86_64-centos7-gcc9-opt/lib/python3.7/site-packages/dill/_dill.py"", line 1064, in save_builtin_method; pickler.save_reduce(_get_attr, (module, obj.__name__), obj=obj); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 638, in save_reduce; save(args); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 504, in save; f(self, obj) # Call unbound method with explicit self; File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 774, in save_tuple; save(element); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 504, in save; f(self, obj) # Call unbound method with explicit self; File ""/cvmfs/sft.cern.ch/lcg/views/LCG_97python3/x86_64-centos7-gcc9-opt/lib/python3.7/site-packages/dill/_dill.py"", line 1269, in save_module; state=_main_dict); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 662, in save_reduce; save(state); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 504, in save; f(self, obj) # Call unbound method with explicit self; File ""/cvmfs/sft.cern.ch/lcg/views/LCG_97python3/x86_64-centos7-gcc9-opt/lib/python3.7/site-packages/dill/_dill.py"", line 902, in save_module_dict; StockPickler.save_dict(pickler, obj); File """,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6370:3063,release,releases,3063,https://root.cern,https://github.com/root-project/root/issues/6370,1,['release'],['releases']
Deployability,"e/GaudiKernel/ChronoEntity.h:19:; In file included from /cvmfs/sft-nightlies.cern.ch/lcg/views/dev3/Tue/x86_64-centos7-gcc9-dbg/include/GaudiKernel/StatEntity.h:12:; In file included from /cvmfs/sft-nightlies.cern.ch/lcg/views/dev3/Tue/x86_64-centos7-gcc9-dbg/include/Gaudi/Accumulators.h:14:; In file included from /cvmfs/sft-nightlies.cern.ch/lcg/views/dev3/Tue/x86_64-centos7-gcc9-dbg/include/Gaudi/MonitoringHub.h:15:; In file included from /cvmfs/sft-nightlies.cern.ch/lcg/views/dev3/Tue/x86_64-centos7-gcc9-dbg/include/nlohmann/json.hpp:49:; In file included from /cvmfs/sft-nightlies.cern.ch/lcg/views/dev3/Tue/x86_64-centos7-gcc9-dbg/include/nlohmann/adl_serializer.hpp:5:; In file included from /cvmfs/sft-nightlies.cern.ch/lcg/views/dev3/Tue/x86_64-centos7-gcc9-dbg/include/nlohmann/detail/conversions/from_json.hpp:18:; /cvmfs/sft-nightlies.cern.ch/lcg/views/dev3/Tue/x86_64-centos7-gcc9-dbg/include/nlohmann/detail/meta/type_traits.hpp:11:10: fatal error: cannot open file '/build/jenkins/workspace/lcg_nightly_pipeline/install/dev3/jsonmcpp/3.9.1/x86_64-centos7-gcc9-dbg/include/nlohmann/json_fwd.hpp': No such file or directory; #include <nlohmann/json_fwd.hpp>; ^; python: /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-HEAD/src/ROOT/HEAD/interpreter/cling/lib/Interpreter/TransactionUnloader.cpp:72: bool cling::TransactionUnloader::unloadFromPreprocessor(cling::Transaction*, cling::DeclUnloader&): Assertion `Successful && ""Cannot handle that yet!""' failed.; *** Break *** abort; ...; ```; The header file being loaded is in `/cvmfs/sft-nightlies.cern.ch/lcg/views/dev3/Tue/x86_64-centos7-gcc9-dbg/include/nlohmann/json_fwd.hpp`, which is included in `ROOT_INCLUDE_PATH `. According to Vassil. This is due to some bug/feature in clang when it resolves include paths with symlinks. The problem is avoided if the realpath of the directory containing the header is prepended explicitely to `ROOT_INCLUDE_PATH`. ```; $ export ROOT_INCLUDE_PATH=/cvmfs/sft.cern.ch/lcg/",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7950:1652,install,install,1652,https://root.cern,https://github.com/root-project/root/issues/7950,1,['install'],['install']
Deployability,"e/arrow/Findre2Alt.cmake:25 (find_package); cmake/modules/SearchInstalledSoftware.cmake:20 (_find_package); /usr/share/cmake-3.16/Modules/CMakeFindDependencyMacro.cmake:47 (find_package); /usr/lib/x86_64-linux-gnu/cmake/arrow/ArrowConfig.cmake:96 (find_dependency); cmake/modules/SearchInstalledSoftware.cmake:20 (_find_package); cmake/modules/FindArrow.cmake:206 (find_package); cmake/modules/FindArrow.cmake:313 (arrow_find_package_cmake_package_configuration); cmake/modules/FindArrow.cmake:350 (arrow_find_package); cmake/modules/SearchInstalledSoftware.cmake:20 (_find_package); cmake/modules/SearchInstalledSoftware.cmake:1088 (find_package); CMakeLists.txt:245 (include); ```; and; ```; CMake Warning at cmake/modules/SearchInstalledSoftware.cmake:20 (_find_package):; By not providing ""Findc-ares.cmake"" in CMAKE_MODULE_PATH this project has; asked CMake to find a package configuration file provided by ""c-ares"", but; CMake did not find one. Could not find a package configuration file provided by ""c-ares"" with any; of the following names:. c-aresConfig.cmake; c-ares-config.cmake. Add the installation prefix of ""c-ares"" to CMAKE_PREFIX_PATH or set; ""c-ares_DIR"" to a directory containing one of the above files. If ""c-ares""; provides a separate development package or SDK, be sure it has been; installed.; Call Stack (most recent call first):; /usr/lib/x86_64-linux-gnu/cmake/arrow/Findc-aresAlt.cmake:25 (find_package); cmake/modules/SearchInstalledSoftware.cmake:20 (_find_package); /usr/share/cmake-3.16/Modules/CMakeFindDependencyMacro.cmake:47 (find_package); /usr/lib/x86_64-linux-gnu/cmake/arrow/ArrowConfig.cmake:96 (find_dependency); cmake/modules/SearchInstalledSoftware.cmake:20 (_find_package); cmake/modules/FindArrow.cmake:206 (find_package); cmake/modules/FindArrow.cmake:313 (arrow_find_package_cmake_package_configuration); cmake/modules/FindArrow.cmake:350 (arrow_find_package); cmake/modules/SearchInstalledSoftware.cmake:20 (_find_package); cmake/modules/SearchInstall",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/8832:1725,configurat,configuration,1725,https://root.cern,https://github.com/root-project/root/pull/8832,3,['configurat'],['configuration']
Deployability,"e/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/clingutils/src/TClingUtils.cxx:4768; #6 0x00007ffff2f85c07 in ROOT::TMetaUtils::ReSubstTemplateArg (input=..., ; instance=0x7fffef6df2c0); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/clingutils/src/TClingUtils.cxx:4791; #7 0x00007ffff32362a4 in TClingBaseClassInfo::InternalNext (; this=0x7fffffff4430, onlyDirect=1); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/metacling/src/TClingBaseClassInfo.cxx:341; #8 0x00007ffff323636e in TClingBaseClassInfo::Next (this=0x7fffffff4430, ; onlyDirect=1); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/metacling/src/TClingBaseClassInfo.cxx:350; #9 0x00007ffff323638d in TClingBaseClassInfo::Next (this=0x7fffffff4430); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/metacling/src/TClingBaseClassInfo.cxx:355; #10 0x00007ffff30f8681 in TCling::CreateListOfBaseClasses (this=0x4b6670, ; cl=0x32e8cc0); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/metacling/src/TCling.cxx:4292; #11 0x00007ffff260dc29 in TClass::GetListOfBases (this=0x32e8cc0); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/meta/src/TClass.cxx:3649; #12 0x00007ffff260a96e in TClass::GetBaseClass (this=0x32e8cc0, cl=0x235be20); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/meta/src/TClass.cxx:2679; #13 0x00007ffff260a9f6 in TClass::GetBaseClass (this=0x2c3e4b0, cl=0x235be20); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/meta/sr",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11259:2881,patch,patches,2881,https://root.cern,https://github.com/root-project/root/issues/11259,2,['patch'],['patches']
Deployability,"e/meta/src/TClass.cxx:2688; #14 0x00007ffff2611f76 in TClass::InheritsFrom (this=0x2c3e4b0, cl=0x235be20); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/meta/src/TClass.cxx:4891; #15 0x00007ffff26163d7 in TClass::Property (this=0x2c3e4b0); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/meta/src/TClass.cxx:6097; #16 0x00007ffff261a27d in TClass::IsClassStructOrUnion (this=0x2c3e4b0); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/meta/inc/TClass.h:352; #17 0x00007ffff260e309 in TClass::GetListOfDataMembers (this=0x2c3e4b0, ; load=true); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/meta/src/TClass.cxx:3759; #18 0x00007ffff7d132ac in CloseStreamerInfoROOTFile (writeEmptyRootPCM=false); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/io/rootpcm/src/rootclingIO.cxx:162; #19 0x00007ffff305e2a7 in FinalizeStreamerInfoWriting (interp=..., ; writeEmptyRootPCM=false); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/dictgen/src/rootcling_impl.cxx:2632; #20 0x00007ffff305ecd8 in GenerateFullDict (dictStream=..., interp=..., ; scan=..., ctorTypes=..., isSplit=false, isGenreflex=true, ; writeEmptyRootPCM=false); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/dictgen/src/rootcling_impl.cxx:2784; #21 0x00007ffff306ba57 in RootClingMain (argc=7, argv=0x4a4f10, ; isGenreflex=true); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/dictgen/src/rootcling_impl.cxx:4906; #22 0x00007ffff306f44b in genreflex::invokeRootCling (verbosity=..., ; sele",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11259:4881,patch,patches,4881,https://root.cern,https://github.com/root-project/root/issues/11259,2,['patch'],['patches']
Deployability,"e/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:17:10: note: submodule of top-level module 'std' implicitly imported here; #include <type_traits>; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:93:41: error: use of undeclared identifier 'std'; template <class T, class = typename std::enable_if<std::is_integral<T>::value>::type>; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:93:56: error: use of undeclared identifier 'std'; template <class T, class = typename std::enable_if<std::is_integral<T>::value>::type>; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:93:83: error: expected ',' or '>' in template-parameter-list; template <class T, class = typename std::enable_if<std::is_integral<T>::value>::type>; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:95:14: error: use of undeclared identifier 'std'; return std::is_signed<T>::value; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:94:35: error: no return statement in constexpr function; static constexpr EStorageType determineStorageTypeT(T*) {; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:198:11: error: use of undeclared identifier 'std'; = std::is_reference<T>::value ?; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:199:40: error: use of undeclared identifier 'std'; determineStorageTypeT((typename std::remove_reference<T>::type**)nullptr); ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:199:66: error: expected a qualified name after 'typename'; determineStorageTypeT((typename std::remove_reference<T>::type**)nullptr); ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:199:66: error: unknown type name 'type'; While building module 'Core':; While building module 'Cling_Runtime' imported from input_li",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10528:17747,Install,Installed,17747,https://root.cern,https://github.com/root-project/root/issues/10528,1,['Install'],['Installed']
Deployability,"e/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:93:41: error: use of undeclared identifier 'std'; template <class T, class = typename std::enable_if<std::is_integral<T>::value>::type>; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:93:56: error: use of undeclared identifier 'std'; template <class T, class = typename std::enable_if<std::is_integral<T>::value>::type>; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:93:83: error: expected ',' or '>' in template-parameter-list; template <class T, class = typename std::enable_if<std::is_integral<T>::value>::type>; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:95:14: error: use of undeclared identifier 'std'; return std::is_signed<T>::value; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:94:35: error: no return statement in constexpr function; static constexpr EStorageType determineStorageTypeT(T*) {; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:198:11: error: use of undeclared identifier 'std'; = std::is_reference<T>::value ?; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:199:40: error: use of undeclared identifier 'std'; determineStorageTypeT((typename std::remove_reference<T>::type**)nullptr); ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:199:66: error: expected a qualified name after 'typename'; determineStorageTypeT((typename std::remove_reference<T>::type**)nullptr); ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:199:66: error: unknown type name 'type'; While building module 'Core':; While building module 'Cling_Runtime' imported from input_line_2:1:; In file included from <module-includes>:1:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/RuntimeUniverse.h:27:10: fatal error: could not build modu",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10528:17944,Install,Installed,17944,https://root.cern,https://github.com/root-project/root/issues/10528,1,['Install'],['Installed']
Deployability,"e9c96a9 ""libNet"", headers=0x7f770e9fb4c8 <(anonymous namespace)::TriggerDictionaryInitialization_libNet_Impl()::headers>, includePaths=0x7f770e9fb4d0 <(anonymous namespace)::TriggerDictionaryInitialization_libNet_Impl()::includePaths>, payloadCode=0x7f770e9c9064 """", fwdDeclsCode=0x7f770e9c9064 """", triggerFunc=0x7f770e9828af <(anonymous namespace)::TriggerDictionaryInitialization_libNet_Impl()>, fwdDeclsArgToSkip=std::vector of length 0, capacity 0, classesHeaders=0x7f770e9f84d0 <(anonymous namespace)::TriggerDictionaryInitialization_libNet_Impl()::classesHeaders>, lateRegistration=true, hasCxxModule=true) at /home/vpadulan/programs/rootproject/rootsrc/core/metacling/src/TCling.cxx:2307; #30 0x00007f770e5b2787 in TROOT::InitInterpreter (this=0x7f770e8a3ac0 <ROOT::Internal::GetROOT1()::alloc>) at /home/vpadulan/programs/rootproject/rootsrc/core/base/src/TROOT.cxx:2104; #31 0x00007f770e5abc8c in ROOT::Internal::GetROOT2 () at /home/vpadulan/programs/rootproject/rootsrc/core/base/src/TROOT.cxx:390; #32 0x00007f770e5abfee in ROOT::GetROOT () at /home/vpadulan/programs/rootproject/rootsrc/core/base/src/TROOT.cxx:472; #33 0x00007f770e570a1a in TDirectory::~TDirectory (this=0x7ffd338cef30, __in_chrg=<optimized out>) at /home/vpadulan/programs/rootproject/rootsrc/core/base/src/TDirectory.cxx:99; #34 0x00007f770de58af0 in TDirectoryFile::~TDirectoryFile (this=0x7ffd338cef30, __in_chrg=<optimized out>) at /home/vpadulan/programs/rootproject/rootsrc/io/io/src/TDirectoryFile.cxx:202; #35 0x0000000000401184 in main () at repro.cpp:5; ```. ### Reproducer. Given the following reproducer. ```cpp; #include <TDirectoryFile.h>. int main(){; TDirectoryFile f(""f"", ""f"");; }; ```. Compile with `g++ -g -o repro.out repro.cpp $(root-config --cflags --glibs)` and run. Note that if the equivalent is run via `root mymacro.C` the crash doesn't happen. ### ROOT version. master. ### Installation method. build from source. ### Operating system. Linux Fedora 38. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13691:6429,Install,Installation,6429,https://root.cern,https://github.com/root-project/root/issues/13691,1,['Install'],['Installation']
Deployability,"e:474: core/G__Core.cxx] Error 1; make[1]: *** [CMakeFiles/Makefile2:24008: core/CMakeFiles/G__Core.dir/all] Error 2; make[1]: *** Waiting for unfinished jobs....; [ 75%] Building CXX object core/metacling/src/CMakeFiles/MetaCling.dir/TClingValue.cxx.o; [ 75%] Built target MetaCling; make: *** [Makefile:156: all] Error 2. ```. </details>. ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->; Root builds without any errors. ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->; 1. `mkdir -p HEP/root`; 2. `cd HEP/root`; 3. `mkdir build install`; 4. `git clone --depth=1 https://github.com/root-project/root gitclone`; 5. `cd build`; 6. `cmake -DCMAKE_INSTALL_PREFIX=../install ../gitclone`; 7. `cmake --build . --target install -- -j4`. ### Setup; <!--; 1. ROOT version; 8. Operating system; 9. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->. ### Additional context; <!--; Add any other context about the problem here.; -->; 1. `gcc -v`; ```sh; Using built-in specs.; COLLECT_GCC=gcc; COLLECT_LTO_WRAPPER=/usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/lto-wrapper; Target: x86_64-pc-linux-gnu; Configured with: /build/gcc/src/gcc/configure --enable-languages=c,c++,ada,fortran,go,lto,objc,obj-c++,d --enable-bootstrap --prefix=/usr --libdir=/usr/lib --libexecdir=/usr/lib --mandir=/usr/share/man --infodir=/usr/share/info --with-bugurl=https://bugs.archlinux.org/ --with-linker-hash-style=gnu --with-system-zlib --enable-__cxa_atexit --enable-cet=auto --enable-checking=release --enable-clocale=gnu --enable-default-pie --enable-default-ssp --enable-gnu-indirect-function --enable-gnu-unique-object --enable-linker-build-id --enable-lto --enable-multilib --enable-plugin --enable-shar",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10528:30088,install,install,30088,https://root.cern,https://github.com/root-project/root/issues/10528,1,['install'],['install']
Deployability,"e<class T> inline bool atomic_is_lock_free( shared_ptr<T> const * /*p*/ ) BOOST_SP_NOEXCEPT; ^; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/detail/sp_noexcept.hpp:28:29: note: expanded from macro 'BOOST_SP_NOEXCEPT'; # define BOOST_SP_NOEXCEPT BOOST_NOEXCEPT; ^; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/config/detail/suffix.hpp:965:26: note: expanded from macro 'BOOST_NOEXCEPT'; # define BOOST_NOEXCEPT noexcept; ^; In file included from libMyLibrary dictionary payload:5:; In file included from ./MyClass.h:6:; In file included from /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_ptr.hpp:17:; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1077:33: error: expected parameter declarator; template<class T> shared_ptr<T> atomic_load( shared_ptr<T> const * p ) BOOST_SP_NOEXCEPT; ^; /Users/krasznaa/ATLAS/sw/projects/externals/build/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:134:55: note: expanded from macro 'atomic_load'; #define atomic_load(object) __c11_atomic_load(object, __ATOMIC_SEQ_CST); ^; <built-in>:16:26: note: expanded from here; #define __ATOMIC_SEQ_CST 5; ^; In file included from libMyLibrary dictionary payload:5:; In file included from ./MyClass.h:6:; In file included from /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_ptr.hpp:17:; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1077:33: error: expected ')'; /Users/krasznaa/ATLAS/sw/projects/externals/bu",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6454:3483,Install,InstallArea,3483,https://root.cern,https://github.com/root-project/root/issues/6454,1,['Install'],['InstallArea']
Deployability,"eClassInfo::Next (this=0x7fffffff4430, ; onlyDirect=1); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/metacling/src/TClingBaseClassInfo.cxx:350; #9 0x00007ffff323638d in TClingBaseClassInfo::Next (this=0x7fffffff4430); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/metacling/src/TClingBaseClassInfo.cxx:355; #10 0x00007ffff30f8681 in TCling::CreateListOfBaseClasses (this=0x4b6670, ; cl=0x32e8cc0); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/metacling/src/TCling.cxx:4292; #11 0x00007ffff260dc29 in TClass::GetListOfBases (this=0x32e8cc0); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/meta/src/TClass.cxx:3649; #12 0x00007ffff260a96e in TClass::GetBaseClass (this=0x32e8cc0, cl=0x235be20); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/meta/src/TClass.cxx:2679; #13 0x00007ffff260a9f6 in TClass::GetBaseClass (this=0x2c3e4b0, cl=0x235be20); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/meta/src/TClass.cxx:2688; #14 0x00007ffff2611f76 in TClass::InheritsFrom (this=0x2c3e4b0, cl=0x235be20); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/meta/src/TClass.cxx:4891; #15 0x00007ffff26163d7 in TClass::Property (this=0x2c3e4b0); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/meta/src/TClass.cxx:6097; #16 0x00007ffff261a27d in TClass::IsClassStructOrUnion (this=0x2c3e4b0); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/meta/inc/TClass.h:352; #17 0x00007ffff260",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11259:3569,patch,patches,3569,https://root.cern,https://github.com/root-project/root/issues/11259,2,['patch'],['patches']
Deployability,"ead me to believe it is a ROOT bug. ### Expected behavior. Geometry should load without throwing an exception. ### To Reproduce. I load the GDML the following way:. ```; TGeoManager::Import(""mother.gdml"");; ```. `mother.gdml`:; ```; <?xml version=""1.0"" encoding=""UTF-8""?>; <gdml xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance"" xsi:noNamespaceSchemaLocation=""https://service-spi.web.cern.ch/service-spi/app/releases/GDML/schema/gdml.xsd"">; <define />; <solids>; <box name=""world_solid"" x=""100"" y=""100"" z=""100"" />; </solids>; <structure>; <volume name=""world"">; <physvol>; <file name=""child.gdml"" />; </physvol>; <materialref ref=""world_material"" />; <solidref ref=""world_solid"" />; </volume>; </structure>; <setup name=""Default"" version=""1.0"">; <world ref=""world"" />; </setup>; </gdml>; ```. `child.gdml`:; ```; <?xml version=""1.0"" encoding=""UTF-8""?>; <gdml xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance""; xsi:noNamespaceSchemaLocation=""https://service-spi.web.cern.ch/service-spi/app/releases/GDML/schema/gdml.xsd"">; <define>; <position name=""cube_v0"" unit=""mm"" x=""10.0"" y=""-10.0"" z=""10.0""/>; <position name=""cube_v1"" unit=""mm"" x=""10.0"" y=""0.0"" z=""10.0""/>; <position name=""cube_v2"" unit=""mm"" x=""0.0"" y=""-10.0"" z=""10.0""/>; <position name=""cube_v3"" unit=""mm"" x=""0.0"" y=""0.0"" z=""10.0""/>; <position name=""cube_v4"" unit=""mm"" x=""0.0"" y=""-10.0"" z=""0.0""/>; <position name=""cube_v5"" unit=""mm"" x=""0.0"" y=""0.0"" z=""0.0""/>; <position name=""cube_v6"" unit=""mm"" x=""10.0"" y=""-10.0"" z=""0.0""/>; <position name=""cube_v7"" unit=""mm"" x=""10.0"" y=""0.0"" z=""0.0""/>; </define>; <solids>; <box name=""world_solid"" x=""100"" y=""100"" z=""100""/>; <tessellated name=""child_solid"" aunit=""deg"" lunit=""mm"">; <triangular vertex1=""cube_v0"" vertex2=""cube_v1"" vertex3=""cube_v2""/>; <triangular vertex1=""cube_v2"" vertex2=""cube_v1"" vertex3=""cube_v3""/>; <triangular vertex1=""cube_v4"" vertex2=""cube_v5"" vertex3=""cube_v6""/>; <triangular vertex1=""cube_v6"" vertex2=""cube_v5"" vertex3=""cube_v7""/>; <triangular vertex1=""cube_v3"" vertex2=""cube_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/9744:1923,release,releases,1923,https://root.cern,https://github.com/root-project/root/issues/9744,1,['release'],['releases']
Deployability,"eady----------------; (TGeoManager *) 0x556180ad1d50; root [1] geo->CheckOverlaps(); Info in <TGeoNodeMatrix::CheckOverlaps>: Checking overlaps for barrel and daughters within 0.1; warning: Failed to call `P020_REveGeoPainter()` to execute the macro.; Add this function or rename the macro. Falling back to `.L`.; Check overlaps: [==========] 3 [100.00 %] 00:00 ; Info in <TGeoNodeMatrix::CheckOverlaps>: Number of illegal overlaps/extrusions : 1. root [2] geo->PrintOverlaps(); === Overlaps for Default ===; = Overlap ov00000: barrel/plate_1 overlapping barrel/plate_2 ovlp=10.0823; root [3] auto* vol1 = geo->GetTopNode()->GetDaughter(0)->GetVolume(); (TGeoVolume *) 0x556181070960; root [4] auto* vol2 = geo->GetTopNode()->GetDaughter(1)->GetVolume(); (TGeoVolume *) 0x556181070960; root [5] auto* mat1 = geo->GetTopNode()->GetDaughter(0)->GetMatrix(); (TGeoMatrix *) 0x5561811a2390; root [6] auto* mat2 = geo->GetTopNode()->GetDaughter(1)->GetMatrix(); (TGeoMatrix *) 0x5561811b19c0; root [7] TGeoChecker ch(geo); (TGeoChecker &) Name: TGeoChecker Title: a simple geometry checker; root [8] overlap = ch.MakeCheckOverlap(""overlap"", vol1, vol2, mat1, mat2, false, 0.1); (TGeoOverlap *) 0x55618132f820; root [9] overlap->Print(); = Overlap : overlap ovlp=3.51789; - first volume: plate at position:; matrix - tr=1 rot=1 refl=0 scl=0 shr=0 reg=0 own=0; 0.959245 0.282576 0.000000 Tx = 75.401418; -0.282576 0.959245 0.000000 Ty = 214.140485; 0.000000 0.000000 1.000000 Tz = 25.354000; - second volume: plate at position:; matrix - tr=1 rot=1 refl=0 scl=0 shr=0 reg=0 own=0; 0.964608 0.263688 0.000000 Tx = 71.182515; -0.263688 0.964608 0.000000 Ty = 215.579615; 0.000000 0.000000 1.000000 Tz = 25.354000; ```. ### Setup; This occurs on an install of ROOT 6.26.06 with spack (v0.19) as well as a compiled version of `master`. ### Additional context; This issue originates in a DD4hep geometry of a detector at the Electron-Ion Collider, but we have been able to narrow it down to this minimal example.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11784:4197,install,install,4197,https://root.cern,https://github.com/root-project/root/issues/11784,1,['install'],['install']
Deployability,"eam>; #include <type_traits>. namespace repro {. struct Base {; virtual ~Base() = default;; virtual int func() const = 0;; };. struct Derived : public Base {; Derived(int i) : m_i(i) {}; ~Derived() = default;; Derived(const Derived&) = delete;; Derived& operator=(const Derived&) = delete;; Derived(Derived&&) = default;; Derived& operator=(Derived&&) = default;. int func() const final { return m_i; }; private:; int m_i{42};; };. void foo(std::unique_ptr<Base> basePtr) {; std::cout << ""via unique_ptr: "" << basePtr->func() << std::endl;; }. template<typename T, typename = std::enable_if_t<std::is_base_of_v<Base, T> &&; !std::is_lvalue_reference_v<T>>>; void foo(T&& t) {; std::cout << ""via template func: "" << t.func() << std::endl;; }. } // namespace repro; """"""; ). from ROOT import repro. c = repro.Derived(123); repro.foo(ROOT.std.move(c)); ```. ### ROOT version. This works with 6.30.04 (and previous) but starts to fail with the current ROOT master (via `dev3` on `ubuntu2204`). ### Installation method. 6.30.04 via spack, ROOT master via LCG `dev3` nightly build. ### Operating system. Ubuntu 22.04. ### Additional context. With 6.30.04 I get. ```console; $ python repro.py; via template func: 123; ```. However, with the updated cppyy I get:; ```console; $ python repro.py ; input_line_42:6:92: error: call to deleted constructor of 'std::unique_ptr<repro::Base, std::default_delete<repro::Base> >'; ((void (&)(std::unique_ptr<repro::Base, std::default_delete<repro::Base> >))repro::foo)(*(std::unique_ptr<repro::Base, std::default_delete<repro::Base> >*)args[0]);; ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~; /usr/include/c++/11/bits/unique_ptr.h:468:7: note: 'unique_ptr' has been explicitly marked deleted here; unique_ptr(const unique_ptr&) = delete;; ^; ```. Which is in principle correct, but I don't understand why it chooses that overload in the first place, as it should use the templated function instead. Curiously, one thing that makes things ""w",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15117:1646,Install,Installation,1646,https://root.cern,https://github.com/root-project/root/issues/15117,1,['Install'],['Installation']
Deployability,"ease search in; * [GitHub](https://github.com/root-project/root/issues?q=is%3Aissue); * AND [Jira](https://sft.its.cern.ch/jira/issues/?jql=project %3D ROOT); for existing reports of your issue. If you find one, you are very welcome to add to the existing report, for instance ""issue still exists in today's master"".; -->. ### Describe the bug; <!--; A clear and concise description of what the wrong behavior is.; -->; `RooLinearVar`s and other `RooAbsRealLValue`s are special inside integrals, as `RooRealIntegral` over the underling `RooRealVar` can transparently integrate over the `RooLinearVar` variable and then use the jacobian to correct the result.; If the integral is inside a plot instead, the integral does not see the `RooLinearVar` as client of the integration variable, and decides to just integrate numerically, which, at least in my case, is slow. ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->; `RooLinearVar` are used in the integration even when doing a plot projection. ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->; ```python; import ROOT; from ROOT.RooFit import RooConst. x = ROOT.RooRealVar('x', '', 0, 1); y = ROOT.RooRealVar('y', '', 0, 1). x2 = ROOT.RooLinearVar('x2', '', x, RooConst(1), RooConst(0)); y2 = ROOT.RooLinearVar('y2', '', y, RooConst(1), RooConst(0)). # RooGaussian can integrate over x or mu, but not both; # still, the issue is visible regardless; D2 = ROOT.RooGaussian('g', '', x2, y2, RooConst(0.2)). # needed only to set the correct normalization in the frame; dt = D2.generate({x,y}, NumEvents = 10). # works fine, numerical integral only for the 2D normalization integral, and its over y2 (meaning that the RooLinearVar integral works); # but not in the y project",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12646:1034,integrat,integration,1034,https://root.cern,https://github.com/root-project/root/issues/12646,1,['integrat'],['integration']
Deployability,ease/core/<<< cling interactive line includer >>>; /home/vpadulan/programs/rootproject/rootbuild/master-fbd6abb371-release/core/<<< cling interactive line includer >>>; /home/vpadulan/programs/rootproject/rootbuild/master-fbd6abb371-release/core/input_line_1; /home/vpadulan/programs/rootproject/rootbuild/master-fbd6abb371-release/core/input_line_2; /home/vpadulan/programs/rootproject/rootbuild/master-fbd6abb371-release/core/input_line_3; /home/vpadulan/programs/rootproject/rootbuild/master-fbd6abb371-release/core/input_line_4; /home/vpadulan/programs/rootproject/rootbuild/master-fbd6abb371-release/core/input_line_5; /home/vpadulan/programs/rootproject/rootbuild/master-fbd6abb371-release/core/input_line_6; /home/vpadulan/programs/rootproject/rootbuild/master-fbd6abb371-release/core/input_line_7; /home/vpadulan/programs/rootproject/rootbuild/master-fbd6abb371-release/core/input_line_8; /home/vpadulan/programs/rootproject/rootbuild/master-fbd6abb371-release/etc/cling/lib/clang/16/include/stdarg.h; /home/vpadulan/programs/rootproject/rootbuild/master-fbd6abb371-release/etc/cling/lib/clang/16/include/stddef.h; /home/vpadulan/programs/rootproject/rootbuild/master-fbd6abb371-release/core/input_line_8; /home/vpadulan/programs/rootproject/rootbuild/master-fbd6abb371-release/core/input_line_7; /home/vpadulan/programs/rootproject/rootbuild/master-fbd6abb371-release/core/input_line_3; /home/vpadulan/programs/rootproject/rootbuild/master-fbd6abb371-release/etc/cling/lib/clang/16/include/stdarg.h; /home/vpadulan/programs/rootproject/rootbuild/master-fbd6abb371-release/core/<<< cling interactive line includer >>>; /home/vpadulan/programs/rootproject/rootbuild/master-fbd6abb371-release/etc/cling/lib/clang/16/include/stddef.h; ```. ### Reproducer. In any ROOT install directory:; ```; strings $ROOTSYS/lib/Core.pcm | grep $NAME_OF_BUILD_DIRECTORY; ```. ### ROOT version. master. ### Installation method. build from source. ### Operating system. Any. ### Additional context. _No response_,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14296:3879,release,release,3879,https://root.cern,https://github.com/root-project/root/issues/14296,9,"['Install', 'install', 'release']","['Installation', 'install', 'release']"
Deployability,"ect/root/issues?q=is%3Aissue); * AND [Jira](https://sft.its.cern.ch/jira/issues/?jql=project %3D ROOT); for existing reports of your issue. If you find one, you are very welcome to add to the existing report, for instance ""issue still exists in today's master"".; -->. ### Describe the bug. On Linux, in a Juyter/ROOT Python notebook, every cell execution makes the `python` process open two ""files"":; ; lrwx------ 1 user users 64 2 Jun 22.33 77 -> /dev/pts/7; lr-x------ 1 user users 64 2 Jun 22.33 78 -> 'pipe:[214404]'; ; one to the terminal bound to the notebook server (`/dev/pts/7`), and another always a different pipe reading for nothing to write in it, e.g. from `lsof`:; ; python3.8 16586 user 78r FIFO 0,10 0t0 214404 pipe; ; These stay open, making the process reach the OS limit of open files sooner or later, at which point grief ensues.; Some commands (e.g. `matplotlib` figures) may create additional pairs out of the void. ### Expected behavior. The open file descriptor count should be roughly stable and not proportional to the number of executed cells. ### To Reproduce; ; jupyter --notebook # or root --notebook; ; then execute _(empty lines mark cell boundaries)_:; ```.py; import os; def printFiles(): print(f""PID={os.getpid()} files={len(os.listdir(f'/proc/{os.getpid()}/fd'))}""); printFiles(). printFiles(). printFiles(). printFiles(). import ROOT; printFiles(). printFiles(). printFiles(). printFiles(); ```; I get a file count of `43` or `44` on each cell before importing ROOT, and from the _next_ cell, each cell increments by 4 (`48`, `52`, ...).; The issue does not appear on plain `python`/`ipython`. ### Setup. Working with:; * Gentoo Linux, amd64, kernel 5.12.4 (last update a few days ago); * ROOT 6.24/00; * Python 3.8.10 (`dev-lang/python-3.8.10_p1` from Gentoo); * Jupyter 1.0.0; * ipython 7.24.0. I assume this issue is setup-dependent, or it would have been reported already... ([actually, it was in 2017](https://github.com/matplotlib/matplotlib/issues/8308)).",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/8326:1794,update,update,1794,https://root.cern,https://github.com/root-project/root/issues/8326,1,['update'],['update']
Deployability,ectTable.h TOrdCollection.h TRefArray.h TRefTable.h TSeqCollection.h TSortedList.h TVirtualCollectionProxy.h ESTLType.h RStringView.h TClassEdit.h TError.h ThreadLocalStorage.h ROOT/RLogger.hxx ROOT/RNotFn.hxx ROOT/RRangeCast.hxx ROOT/RSpan.hxx ROOT/RStringView.hxx ROOT/StringUtils.hxx ROOT/span.hxx ROOT/TypeTraits.hxx ROOT/RError.hxx GuiTypes.h TApplicationImp.h TBrowser.h TBrowserImp.h TCanvasImp.h TClassMenuItem.h TContextMenu.h TContextMenuImp.h TControlBarImp.h TGuiFactory.h TInspectorImp.h TObjectSpy.h TToggleGroup.h TToggle.h TBaseClass.h TClassGenerator.h TClass.h TClassRef.h TClassStreamer.h TDataMember.h TDataType.h TDictAttributeMap.h TDictionary.h TEnumConstant.h TEnum.h TFileMergeInfo.h TFunction.h TFunctionTemplate.h TGenericClassInfo.h TGlobal.h TInterpreter.h TInterpreterValue.h TIsAProxy.h TListOfDataMembers.h TListOfEnums.h TListOfEnumsWithLock.h TListOfFunctions.h TListOfFunctionTemplates.h TMemberStreamer.h TMethodArg.h TMethodCall.h TMethod.h TProtoClass.h TRealData.h TSchemaHelper.h TSchemaRule.h TSchemaRuleSet.h TStatusBitsChecker.h TStreamerElement.h TStreamer.h TVirtualIsAProxy.h TVirtualRefProxy.h TVirtualStreamerInfo.h TVirtualArray.h TVirtualObject.h Getline.h TMacOSXSystem.h TUnixSystem.h /Users/josiahlee/WORK/Tools/root-6.32.04/core/base/inc/LinkDef.h; 1.	/Users/josiahlee/WORK/Tools/root_build_release/etc/cling/Interpreter/RuntimePrintValue.h:319:5: current parser token 'using'; 2.	/Users/josiahlee/WORK/Tools/root_build_release/etc/cling/Interpreter/RuntimePrintValue.h:33:1: parsing namespace 'cling'; 3.	/Users/josiahlee/WORK/Tools/root_build_release/etc/cling/Interpreter/RuntimePrintValue.h:318:3: in compound statement ('{}'); Segmentation fault; make[2]: *** [core/G__Core.cxx] Error 1; make[1]: *** [core/CMakeFiles/G__Core.dir/all] Error 2; make: *** [all] Error 2. ### Reproducer. build from source. ### ROOT version. 6.32.04. ### Installation method. build from source. ### Operating system. MacOS. ### Additional context. _No response_,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/16498:17634,Install,Installation,17634,https://root.cern,https://github.com/root-project/root/issues/16498,1,['Install'],['Installation']
Deployability,"ects/ATLASG-1602/externals/build/AnalysisBaseExternals/src/Python/Include/cpython/abstract.h:147; ...; ```. Unfortunately all I could decipher from this is that things go south while accessing the `DataVector<xAOD::TauJet_v3>` type in Python. That access itself happens in a fairly complicated way itself, in this helper code:. https://gitlab.cern.ch/atlas/athena/-/blob/master/Control/xAODRootAccess/python/GenerateDVIterators.py. As before, I found that by explicitly accessing types ""in the right order"", I can work around the issue. (See: https://gitlab.cern.ch/atlas/athena/-/merge_requests/44843) But I'd really like to understand what the underlying issue actually is. Note that this problem only shows up in a debug build. In an optimised build the test in question runs just fine. ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->. The code should not encounter an assertion inside LLVM/Cling. ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->. Unfortunately this would be pretty involved to describe. :frowning: Especially the setup that I used with Cling compiled in Debug mode. So I'm rather just hoping for input on how I myself could debug this further. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->; - ROOT 6.24/00; - `x86_64-centos7-gcc8-dbg`; - ROOT built using: https://gitlab.cern.ch/atlas/atlasexternals/-/tree/master/External/ROOT. ### Additional context; <!--; Add any other context about the problem here.; -->. I guess my question is how I could get enough information out of of the `clang::DeclContext` object that the assertion fails on, to understand why the code ended up where it did...",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/8578:12216,install,install,12216,https://root.cern,https://github.com/root-project/root/issues/8578,1,['install'],['install']
Deployability,"ecutable -rdynamic; Module ; Shared -Wl,--no-undefined -Wl,--hash-style=""both"". -- Enabled support for: asimage builtin_afterimage builtin_clang builtin_cling builtin_ftgl builtin_gl2ps builtin_glew builtin_llvm builtin_lz4 builtin_lzma builtin_nlohmannjson builtin_openui5 builtin_pcre builtin_tbb builtin_vdt builtin_xrootd builtin_xxhash builtin_zstd clad dataframe gdml http imt mlp opengl proof pyroot roofit webgui root7 rpath runtime_cxxmodules shared ssl tmva tmva-cpu tmva-pymva spectrum vdt x11 xrootd; -- Configuring done (28.0s); -- Generating done (3.2s); -- Build files have been written to: /home/<user>; ```. I tried to run `cmake --build . --target install` and ended up with. ```; CMake Error: The current CMakeCache.txt directory /home/<user>/root_build/CMakeCache.txt is different than the directory /home/<user> where CMakeCache.txt was created. This may result in binaries being created in the wrong place. If you are not sure, reedit the CMakeCache.txt; CMake Error: Target DependInfo.cmake file not found; Creating directories for 'LZMA'; CMake Error: Error processing file: /home/francisco/LZMA-prefix/tmp/LZMA-mkdirs.cmake; gmake[2]: *** [CMakeFiles/LZMA.dir/build.make:108: LZMA-prefix/src/LZMA-stamp/LZMA-mkdir] Error 1; gmake[1]: *** [CMakeFiles/Makefile2:8564: CMakeFiles/LZMA.dir/all] Error 2; gmake: *** [Makefile:156: all] Error 2; ``` . ### ROOT version. supposedly the most recent ; root_v6.30.02. ### Installation method. build from source. ### Operating system. Ubuntu 23.10 . ### Additional context. I have been using Ubuntu and ROOT for some years now but when I come across this type of problems normally I can work them and come up with a solution. But all this with installations and building from source is quite new to me. When I have done it before I have never came across problems that would put me reading through the outputs.; I am sorry if it definetly not contextualized but please guide me through this issue :); Thank you in advance for your help!",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14479:5249,Install,Installation,5249,https://root.cern,https://github.com/root-project/root/issues/14479,2,"['Install', 'install']","['Installation', 'installations']"
Deployability,ed from macro 'CheckMagic' in /opt/root_src/core/newdelete/src/NewDelete.cxx:112; 22: expanded from macro 'TestMagic' in /opt/root_src/core/newdelete/src/NewDelete.cxx:110; 23: Taking false branch in /opt/root_src/core/newdelete/src/NewDelete.cxx:279; 24: expanded from macro 'RemoveStatMagic' in /opt/root_src/core/newdelete/src/NewDelete.cxx:120; 25: expanded from macro 'CheckMagic' in /opt/root_src/core/newdelete/src/NewDelete.cxx:112; 26: Assuming the condition is false in /opt/root_src/core/newdelete/src/NewDelete.cxx:280; 27: expanded from macro 'MemClear' in /opt/root_src/core/newdelete/src/NewDelete.cxx:109; 28: Taking false branch in /opt/root_src/core/newdelete/src/NewDelete.cxx:280; 29: expanded from macro 'MemClear' in /opt/root_src/core/newdelete/src/NewDelete.cxx:109; 30: Assuming 'gFreeIfTMapFile' is null in /opt/root_src/core/newdelete/src/NewDelete.cxx:282; 31: Left side of '||' is true in /opt/root_src/core/newdelete/src/NewDelete.cxx:283; 32: Memory is released in /opt/root_src/core/newdelete/src/NewDelete.cxx:286; 33: Assuming the condition is true in /opt/root_src/core/newdelete/src/NewDelete.cxx:287; 34: Loop condition is true. Execution continues on line 285 in /opt/root_src/core/newdelete/src/NewDelete.cxx:284; 35: Attempt to free released memory in /opt/root_src/core/newdelete/src/NewDelete.cxx:286; ```; ```; /opt/root_src/core/newdelete/src/NewDelete.cxx:424:7: warning: Null pointer passed to 1st parameter expecting 'nonnull' [clang-analyzer-core.NonNullParamChecker]; 1: expanded from macro 'MemClearRe' in /opt/root_src/core/newdelete/src/NewDelete.cxx:140; 2: Assuming the condition is false in /opt/root_src/core/newdelete/src/NewDelete.cxx:401; 3: Taking false branch in /opt/root_src/core/newdelete/src/NewDelete.cxx:401; 4: Assuming 'ovp' is not equal to null in /opt/root_src/core/newdelete/src/NewDelete.cxx:406; 5: Taking false branch in /opt/root_src/core/newdelete/src/NewDelete.cxx:406; 6: Assuming 'gNewInit' is not equal to 0 in /opt/roo,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7426:62025,release,released,62025,https://root.cern,https://github.com/root-project/root/issues/7426,1,['release'],['released']
Deployability,"ed/HEP/Root/build/etc/cling/Interpreter/DynamicLookupLifetimeHandler.h:56:7: error: use of undeclared identifier 'std'; std::string m_Type;; ^; While building module 'Core':; While building module 'Cling_Runtime' imported from input_line_2:1:; While building module 'Cling_Runtime_Extra' imported from /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/RuntimeUniverse.h:27:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Visibility.h:13:10: note: submodule of top-level module 'std' implicitly imported here; #include <new>; ^; While building module 'Core':; While building module 'Cling_Runtime' imported from input_line_2:1:; While building module 'Cling_Runtime_Extra' imported from /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/RuntimeUniverse.h:27:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:17:10: note: submodule of top-level module 'std' implicitly imported here; #include <type_traits>; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:93:41: error: use of undeclared identifier 'std'; template <class T, class = typename std::enable_if<std::is_integral<T>::value>::type>; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:93:56: error: use of undeclared identifier 'std'; template <class T, class = typename std::enable_if<std::is_integral<T>::value>::type>; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:93:83: error: expected ',' or '>' in template-parameter-list; template <class T, class = typename std::enable_if<std::is_integral<T>::value>::type>; ^; /home/razorr/Softwares/Installed",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10528:16587,Install,Installed,16587,https://root.cern,https://github.com/root-project/root/issues/10528,1,['Install'],['Installed']
Deployability,"edSoftware.cmake:20 (_find_package); /usr/share/cmake-3.16/Modules/CMakeFindDependencyMacro.cmake:47 (find_package); /usr/lib/x86_64-linux-gnu/cmake/arrow/ArrowConfig.cmake:96 (find_dependency); cmake/modules/SearchInstalledSoftware.cmake:20 (_find_package); cmake/modules/FindArrow.cmake:206 (find_package); cmake/modules/FindArrow.cmake:313 (arrow_find_package_cmake_package_configuration); cmake/modules/FindArrow.cmake:350 (arrow_find_package); cmake/modules/SearchInstalledSoftware.cmake:20 (_find_package); cmake/modules/SearchInstalledSoftware.cmake:1088 (find_package); CMakeLists.txt:245 (include); ```; and; ```; CMake Warning at cmake/modules/SearchInstalledSoftware.cmake:20 (_find_package):; By not providing ""Findc-ares.cmake"" in CMAKE_MODULE_PATH this project has; asked CMake to find a package configuration file provided by ""c-ares"", but; CMake did not find one. Could not find a package configuration file provided by ""c-ares"" with any; of the following names:. c-aresConfig.cmake; c-ares-config.cmake. Add the installation prefix of ""c-ares"" to CMAKE_PREFIX_PATH or set; ""c-ares_DIR"" to a directory containing one of the above files. If ""c-ares""; provides a separate development package or SDK, be sure it has been; installed.; Call Stack (most recent call first):; /usr/lib/x86_64-linux-gnu/cmake/arrow/Findc-aresAlt.cmake:25 (find_package); cmake/modules/SearchInstalledSoftware.cmake:20 (_find_package); /usr/share/cmake-3.16/Modules/CMakeFindDependencyMacro.cmake:47 (find_package); /usr/lib/x86_64-linux-gnu/cmake/arrow/ArrowConfig.cmake:96 (find_dependency); cmake/modules/SearchInstalledSoftware.cmake:20 (_find_package); cmake/modules/FindArrow.cmake:206 (find_package); cmake/modules/FindArrow.cmake:313 (arrow_find_package_cmake_package_configuration); cmake/modules/FindArrow.cmake:350 (arrow_find_package); cmake/modules/SearchInstalledSoftware.cmake:20 (_find_package); cmake/modules/SearchInstalledSoftware.cmake:1088 (find_package); CMakeLists.txt:245 (include); ```",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/8832:1849,install,installation,1849,https://root.cern,https://github.com/root-project/root/pull/8832,6,['install'],"['installation', 'installed']"
Deployability,ed_ptr<T> const * /*p*/ ) BOOST_SP_NOEXCEPT; ^; /Users/krasznaa/ATLAS/sw/projects/externals/build/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:83:73: note: expanded from macro 'atomic_is_lock_free'; #define atomic_is_lock_free(obj) __c11_atomic_is_lock_free(sizeof(*(obj))); ^; In file included from libMyLibrary dictionary payload:5:; In file included from ./MyClass.h:6:; In file included from /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_ptr.hpp:17:; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1072:81: error: expected ';' at end of declaration; template<class T> inline bool atomic_is_lock_free( shared_ptr<T> const * /*p*/ ) BOOST_SP_NOEXCEPT; ^; ;; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1072:82: error: expected unqualified-id; template<class T> inline bool atomic_is_lock_free( shared_ptr<T> const * /*p*/ ) BOOST_SP_NOEXCEPT; ^; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/detail/sp_noexcept.hpp:28:29: note: expanded from macro 'BOOST_SP_NOEXCEPT'; # define BOOST_SP_NOEXCEPT BOOST_NOEXCEPT; ^; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/config/detail/suffix.hpp:965:26: note: expanded from macro 'BOOST_NOEXCEPT'; # define BOOST_NOEXCEPT noexcept; ^; In file included from libMyLibrary dictionary payload:5:; In file included from ./MyClass.h:6:; In file included from /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_ptr.hpp:17:; /Users/krasznaa/ATLAS/sw/pr,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6454:2393,Install,InstallArea,2393,https://root.cern,https://github.com/root-project/root/issues/6454,1,['Install'],['InstallArea']
Deployability,"edfiles] [-cachesize size] [-j ncpus] [-v [verbosity]]; targetfile source1 [source2 source3 ...]. If the option -v is used, explicitly set the verbosity level;; 0 request no output, 99 is the default; ```. ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->; ```; hadd -v 0 target.root file_1.root file_2.root. hadd Target file: 0; hadd compression setting for all ouput: 1; hadd Source file 1: target.root; Error in <TFile::TFile>: file target.root does not exist; Error in <TFileMerger::AddFile>: cannot open file target.root; hadd exiting due to error in target.root; ```; Result: target.root not created. ```; hadd target.root file_1.root file_2.root -v 0. hadd Target file: target.root; hadd compression setting for all ouput: 1; hadd Source file 1: file_2.root; hadd Source file 2: -v; Error in <TFile::TFile>: file -v does not exist; Error in <TFileMerger::AddFile>: cannot open file -v; hadd exiting due to error in -v; ```; Result: target.root created, but contains no tree and no entries. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->. ROOT version:; ```; ------------------------------------------------------------; | Welcome to ROOT 6.14/09 http://root.cern.ch |; | (c) 1995-2018, The ROOT Team |; | Built for linuxx8664gcc |; | From tag , 22 November 2018 |; | Try '.help', '.demo', '.license', '.credits', '.quit'/'.q' |; ------------------------------------------------------------; ```. Operating system:; ```; cat /etc/redhat-release. CentOS Linux release 7.8.2003 (Core); ```. CMSSW setup to obtain ROOT:; ```; cmsrel CMSSW_10_6_5; cd CMSSW_10_6_5/src; cmsenv; ```. ### Additional context; <!--; Add any other context about the problem here.; -->",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11372:2614,install,install,2614,https://root.cern,https://github.com/root-project/root/issues/11372,3,"['install', 'release']","['install', 'release']"
Deployability,"ee object, `kFlushAtCluster`, one can enter the ""one basket per event cluster"" mode. This forces baskets to line up with event clusters, at the cost of extra memory use. This new mode simplifies the basket layout within the file, reducing the amount of time handling special cases for the bulk IO mode. Because the baskets *must* grow to the size of an event cluster, we do not invoke `OptimizeBaskets` when one-basket-per-cluster mode is enabled. As this mode is expected to cause increased memory usage (the memory utilized by the `TTree` is more strongly tied to the variations in event size), we combine this with a technique borrowed from a CMS patchset to more aggressively shrink basket sizes after very large objects. The new basket shrinking algorithm will trigger whenever the basket is flushed. If the actual object size in the last clusters is significantly below the buffer size, then the basket will be shrunk. Given this tradeoff, I do not currently see this being enabled by default. The ideal ratio of `(basket buffer size)/(occupied buffer size)` is controlled by a new tunable in the `TTree`, defaulting to 1.1. A lower setting reduces overall memory usage at the cost of extra allocations; a higher setting increases aggregate memory usage. In writing out a 10k event CMS file (total CPU time is 32 minutes):. - Base case (without this patch):; - 888MB RSS; - 30 reallocations (shrinking of baskets due to low occupancy).; - 0.173ms taken for reallocation.; - New shrinking algorithm (this patch with defaults):; - 866MB RSS; - 4434 reallocations; - 97.0ms; - One basket per cluster mode with new shrinking algorithm:; - 902MB RSS; - 2882 reallocations; - 93.6ms. The CPU-time cost of the reallocation is 0.005% of total runtime (considering the file has to be read also, maybe 0.01% of output time?). This patch purposely leaves in the code that measures reallocation time in order to allow others to experiment; the intent is to disable / remove the code before a final release.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/774:1387,patch,patch,1387,https://root.cern,https://github.com/root-project/root/pull/774,4,"['patch', 'release']","['patch', 'release']"
Deployability,ee/WORK/Tools/GEANT/install/include -compilerI/Users/josiahlee/WORK/Tools/clhep_install/include -compilerI/opt/homebrew/opt/libomp/include -compilerI/opt/homebrew/opt/open-mpi/include -compilerI/Users/josiahlee/WORK/Tools/xerces-c-3.2.4-install/include -compilerI/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX15.0.sdk/usr/include/c++/v1 -compilerI/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/16/include -compilerI/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX15.0.sdk/usr/include -compilerI/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/include -compilerI/Users/josiahlee/WORK/Tools/GEANT/install/include -compilerI/Users/josiahlee/WORK/Tools/clhep_install/include -compilerI/opt/homebrew/opt/libomp/include -compilerI/opt/homebrew/opt/open-mpi/include -compilerI/Users/josiahlee/WORK/Tools/xerces-c-3.2.4-install/include -compilerI/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/16/include -compilerI/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX15.0.sdk/usr/include -compilerI/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/include -I/Users/josiahlee/WORK/Tools/root_build_release/include -I/opt/homebrew/include -I/Users/josiahlee/WORK/Tools/root_build_release/ginclude -I/Users/josiahlee/WORK/Tools/root-6.32.04/core/base/inc -I/Users/josiahlee/WORK/Tools/root-6.32.04/core/base/v7/inc -I/Users/josiahlee/WORK/Tools/root-6.32.04/core/clib/inc -I/Users/josiahlee/WORK/Tools/root-6.32.04/core/clingutils/inc -I/Users/josiahlee/WORK/Tools/root-6.32.04/core/clingutils/res -I/Users/josiahlee/WORK/Tools/root-6.32.04/core/cont/inc -I/Users/josiahlee/WORK/Tools/root-6.32.04/core/foundation/inc -I/Users/josiahlee/WORK/Tools/root-6.32.04/core/foundation/v7/inc -I/Users/josiahlee/WORK/Tools/root-6.32.04/co,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/16498:11983,install,install,11983,https://root.cern,https://github.com/root-project/root/issues/16498,1,['install'],['install']
Deployability,"efault_delete<llvm::GIMatchDagInstr>> *&&)' [found using argument-dependent lookup] [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\VC\Tools\MSVC\14.35.32215\include\format(3536,20): message : or 'std::wstring std::format(const std::locale &,const std::basic_format_string<wchar_t,type_identity<_Args>::type...>,_Types &&...)' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(51,18): message : 'initializing': cannot convert from 'const char [5]' to 'const std::locale &' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(51,18): message : Reason: cannot convert from 'const char [5]' to 'const std::locale' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(51,18): message : Constructor for class 'std::locale' is declared 'explicit' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\VC\Tools\MSVC\14.35.32215\include\format(3531,19): message : or 'std::string std::format(const std::locale &,const std::basic_format_string<char,type_identity<_Args>::type...>,_Types &&...)' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(51,18): message : 'initializing': cannot convert from 'const char [5]' to 'const std::locale &' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12523:3918,release,release,3918,https://root.cern,https://github.com/root-project/root/pull/12523,1,['release'],['release']
Deployability,"egabytes (600 - 800?) of space and requires a number of dependencies. This both greatly affects image sizes (e.g. docker) which, in turn, affects many areas such as automated testing, CI, transferring to farm nodes, even using in cloud resources and binder. . If one dares to build ROOT with it dependencies in something like Spack or other kind build scripts which take root dependencies into account and work on older system (which is a standard in HENP community) it just takes forever. Even If one uses something like Conda with precompiled ROOT binaries it quickly eats couple of gigabytes of space and still takes time. . Yet **many application require just a minimal ROOT IO** with saving data to files in ROOT format. Even without reflection, generating dictionaries and etc. - flat root files with `vector<value>` as the max complexity. . ## Describe the solution you'd like. In the ideal world I would be glad to have really modular ROOT build where I could choose that I want to have just a basic IO and get root installation witch is done in minutes and resulting binaries would be just megabytes in size. . ## Describe alternatives you've considered. - Surprisingly one can achieve such behavior with uproot. The only caveat is that you have to call python from C++ which is slow and feels perverse. Still compilation time of the whole python is much less and for sure python is preinstalled on all linux systems. . - Geant4 has some C++ library for writing root files and one even can find it on github ([It is diana_hep. Isn't it?](https://github.com/diana-hep/inexlib_rio)) but it doesn't allow to save something like arrays or something like `vector<double>`. I'm talking about at least some basic IO but not that basic. uproot is a good example. Also there is no documentation, no one touched it in years and I doubt about the code quality (at least I didn't find any tests, user responses etc.). - One can try to minimize root installation by switching off options. But it doesn't a",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6471:1281,install,installation,1281,https://root.cern,https://github.com/root-project/root/issues/6471,1,['install'],['installation']
Deployability,"eighted samples. It should be clarified both in the code documentation and in the user guide, if the implementation can handle weighted templates in the asymptotic limit, by applying the SPD approximation discussed by Bohm and Zech, 2014. This is possible (as we show in our paper https://inspirehep.net/literature/2512593), but only if the implementations handles this special case. Conway's paper does not discuss weighted templates and does not explain how to use the SPD approximation in this context. Long version:. The code documentation of RooBarlowBeestonLL on the master is incorrect. It is stated that this class implements the Barlow-Beeston likelihood computation, but it actually implements an approximation introduced by Conway in 2011. The approximation is only asymptotically equivalent to Barlow-Beeston, for small samples it is inferior. We recently published a paper about a new approximation to Barlow-Beeston (https://inspirehep.net/literature/2512593), which is fast to compute and can be used with weighted templates and weighted data. In this paper, we compare the performance of Barlow-Beeston and several approximations including ours. It is shown there, that Conway's approximation is inferior to the exact computation by Barlow-Beeston. I was pointed to this class by the LHCb collaboration. There is uncertainty in the community what this class actually computes and whether it is asymptotically correct for weighted templates. I kindly ask to correct and extend the documentation. **I think the best solution is to revert the implementation of BarlowBeestonLL to actually implement the original BarlowBeeston.** Then make a new class called ConwayLL which implements Conway's approximation. I am happy to provide another class which implements our method in ROOT. So far, the reference implementation is in the iminuit Python package. ### ROOT version. Master branch. ### Installation method. None. ### Operating system. Irrelevant. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15252:2816,Install,Installation,2816,https://root.cern,https://github.com/root-project/root/issues/15252,1,['Install'],['Installation']
Deployability,"eing switching ON 'builtin_ftgl' option; -- Checking for module 'davix>=0.6.4'; -- Package 'davix', required by 'virtual:world', not found; -- Looking for uuid_generate_random in uuid; -- Looking for uuid_generate_random in uuid - found; -- Found libuuid: /usr/include; -- Davix dependencies not found, switching OFF 'davix' option.; -- Looking for TBB; -- Found TBB: /usr (Required is at least version ""2018""); -- Looking for VDT; -- Could NOT find Vdt (missing: VDT_INCLUDE_DIR VDT_LIBRARY) (Required is at least version ""0.4""); -- VDT not found. Ensure that the installation of VDT is in the CMAKE_PREFIX_PATH; -- Switching ON 'builtin_vdt' option; -- Cannot select cudnn without selecting cuda or tmva-gpu. Option is ignored; -- Looking for BLAS for optional parts of TMVA; -- Looking for sgemm_; -- Looking for sgemm_ - not found; -- Looking for sgemm_; -- Looking for sgemm_ - found; -- Found BLAS: /usr/lib/libblas.so; -- Performing Test ROOT_HAVE_CXX_ATOMICS_WITHOUT_LIB; -- Performing Test ROOT_HAVE_CXX_ATOMICS_WITHOUT_LIB - Success; -- Building LLVM in 'Release' mode.; -- The ASM compiler identification is GNU; -- Found assembler: /usr/bin/cc; -- Could NOT find Z3: Found unsuitable version ""0.0.0"", but required is at least ""4.7.1"" (found Z3_LIBRARIES-NOTFOUND); -- Looking for backtrace; -- Looking for backtrace - found; -- backtrace facility detected in default set of libraries; -- Found Backtrace: /usr/include; -- Native target architecture is X86; -- Threads disabled.; -- Doxygen disabled.; -- Go bindings disabled.; -- Could NOT find OCaml (missing: OCAMLFIND OCAML_VERSION OCAML_STDLIB_PATH); -- OCaml bindings disabled.; -- Found Python module pygments; -- Found Python module pygments.lexers.c_cpp; -- Found Python module yaml; -- LLVM host triple: x86_64-unknown-linux-gnu; -- LLVM default target triple: x86_64-unknown-linux-gnu; -- Building with -fPIC; -- Found PythonInterp: /usr/bin/python3.10 (found version ""3.10.4""); -- Constructing LLVMBuild project information; -- ",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10528:8255,Release,Release,8255,https://root.cern,https://github.com/root-project/root/issues/10528,1,['Release'],['Release']
Deployability,"ek1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #13 0x00002b8fcf87fc2c in clang::Sema::ActOnStartOfFunctionDef(clang::Scope*, clang::Declarator&, llvm::MutableArrayRef<clang::TemplateParameterList*>, clang::Sema::SkipBodyInfo*) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #14 0x00002b8fcf5e98cb in clang::Parser::ParseFunctionDefinition(clang::ParsingDeclarator&, clang::Parser::ParsedTemplateInfo const&, clang::Parser::LateParsedAttrList*) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #15 0x00002b8fcf566f2e in clang::Parser::ParseDeclGroup(clang::ParsingDeclSpec&, unsigned int, clang::SourceLocation*, clang::Parser::ForRangeInit*) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #16 0x00002b8fcf5e5fa1 in clang::Parser::ParseDeclOrFunctionDefInternal(clang::Parser::ParsedAttributesWithRange&, clang::ParsingDeclSpec&, clang::AccessSpecifier) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #17 0x00002b8fcf5ec950 in clang::Parser::ParseExternalDeclaration(clang::Parser::ParsedAttributesWithRange&, clang::ParsingDeclSpec*) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #18 0x00002b8fcf57b004 in clang::Parser::ParseLinkage(clang::ParsingDeclSpec&, unsigned int) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #19 0x00002b8fcf5e611e in clang::Parser::ParseDeclOrFunctionDefInternal(clang::Parser::ParsedAttrib",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7093:6999,patch,patch,6999,https://root.cern,https://github.com/root-project/root/issues/7093,1,['patch'],['patch']
Deployability,"el9-gcc13-dbg/lib/libCling.so; #34 0x00007f06030933dc in cling::Interpreter::DeclareInternal(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, cling::CompilationOptions const&, cling::Transaction**) const () from /cvmfs/lhcb.cern.ch/lib/lcg/releases/ROOT/6.30.04-dd2db/x86_64-el9-gcc13-dbg/lib/libCling.so; #35 0x00007f0603095986 in cling::Interpreter::process(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, cling::Value*, cling::Transaction**, bool) () from /cvmfs/lhcb.cern.ch/lib/lcg/releases/ROOT/6.30.04-dd2db/x86_64-el9-gcc13-dbg/lib/libCling.so; #36 0x00007f06031781a7 in cling::MetaProcessor::process(llvm::StringRef, cling::Interpreter::CompilationResult&, cling::Value*, bool) () from /cvmfs/lhcb.cern.ch/lib/lcg/releases/ROOT/6.30.04-dd2db/x86_64-el9-gcc13-dbg/lib/libCling.so; #37 0x00007f0602e677f7 in HandleInterpreterException (metaProcessor=0x308b020, input_line=0x4194ba0 ""#line 1 ""ROOT_prompt_0""n#include <LoKi/ParticleCuts.h>"", compRes=; 0x7ffd45beeafc: cling::Interpreter::kSuccess, result=0x7ffd45beeb00) at /build/jenkins/workspace/lcg_release_pipeline/build/projects/ROOT-6.30.04/src/ROOT/6.30.04/core/metacling/src/TCling.cxx:2436; ===========================================================. Root > .q; ```. ### ROOT version; ```; ❯ which root; /cvmfs/lhcb.cern.ch/lib/lcg/releases/ROOT/6.30.04-dd2db/x86_64-el9-gcc13-dbg/bin/root; ```. ```; ------------------------------------------------------------------; | Welcome to ROOT 6.30/04 https://root.cern |; | (c) 1995-2024, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built for linuxx8664gcc on Feb 03 2024, 17:20:15 |; | From heads/master@tags/v6-30-04 |; | With g++ (GCC) 13.1.0 |; | Try '.help'/'.?', '.demo', '.license', '.credits', '.quit'/'.q' |; ------------------------------------------------------------------; ```. ### Installation method. LCG builds. ### Operating system. Linux (EL9). ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15511:16922,release,releases,16922,https://root.cern,https://github.com/root-project/root/issues/15511,2,"['Install', 'release']","['Installation', 'releases']"
Deployability,"elEps = 0.001; 	 	mean 	median 	q95 	q99 	max; 	old:	3.01835e-16	1.45346e-16	5.65891e-16	2.22915e-15	1.15949e-13	t=0.04; 	new:	3.3408e-16	1.84038e-16	6.31068e-16	2.24297e-15	1.15949e-13	t=0.05; 	ROOT:	3.09356e-16	1.56283e-16	5.63307e-16	2.02418e-15	1.15949e-13	t=0.05; Integrating Polynomial 4th order, relEps = 1e-06; 	 	mean 	median 	q95 	q99 	max; 	old:	1.40432e-16	2.12767e-16	4.25546e-16	4.25569e-16	6.38354e-16	t=0.05; 	new:	1.77284e-16	2.12771e-16	4.25564e-16	6.38325e-16	6.38354e-16	t=0.04; 	ROOT:	1.44538e-16	2.12768e-16	4.25551e-16	4.25569e-16	6.38354e-16	t=0.06; Integrating Polynomial 4th order, relEps = 1e-08; 	 	mean 	median 	q95 	q99 	max; 	old:	1.40424e-16	2.12764e-16	4.25528e-16	4.25528e-16	6.38292e-16	t=0.06; 	new:	1.7536e-16	2.12764e-16	4.25528e-16	6.38292e-16	6.38292e-16	t=0.02; 	ROOT:	1.45531e-16	2.12764e-16	4.25528e-16	4.25528e-16	6.38292e-16	t=0.03; [ OK ] Roo1DIntegrator.ConvergenceSettings_pol4 (501 ms); [ RUN ] Roo1DIntegrator.ConvergenceSettings_breitWig; Integrating Breit-Wigner distribution, relEps = 0.001; 	 	mean 	median 	q95 	q99 	max; 	old:	0.0303175	0.0209141	0.0827284	0.116045	0.125775	t=0.05; 	new:	0.00084728	0.000305644	0.00479046	0.0129056	0.125775	t=0.02; 	ROOT:	1.69943e-06	6.01714e-12	2.93861e-09	6.96465e-08	0.125775	t=0.25; Old integrator reached poor precision: 0.0303175 +/- 0.0273059 instead of 0.001; Integrating Breit-Wigner distribution, relEps = 1e-06; 	 	mean 	median 	q95 	q99 	max; 	old:	3.37556e-06	3.37556e-06	3.39334e-06	3.39492e-06	3.39532e-06	t=0.18; 	new:	2.27034e-08	2.27035e-08	2.28213e-08	2.28318e-08	3.39532e-06	t=0.18; 	ROOT:	1.98411e-16	2.29224e-16	4.58502e-16	4.58676e-16	3.39532e-06	t=0.16; Integrating Breit-Wigner distribution, relEps = 1e-08; 	 	mean 	median 	q95 	q99 	max; 	old:	2.28344e-08	2.28344e-08	2.28344e-08	2.28344e-08	2.28344e-08	t=0.3; 	new:	1.21223e-10	1.21223e-10	1.21223e-10	1.21223e-10	2.28344e-08	t=0.25; 	ROOT:	2.1239e-16	2.29339e-16	4.58677e-16	5.73346e-16	2.28344e-08	t=0.2; [ OK ] Roo1DIntegrator.C",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6632:2432,Integrat,Integrating,2432,https://root.cern,https://github.com/root-project/root/pull/6632,1,['Integrat'],['Integrating']
Deployability,"elp), I think it doesn't require anything except standardised list of type_info-derived types [8]; > 3) Take a closer look at noop1() and noop2() virtual methods above [6]. I suspect they were added to make libcxxabi type_info's vtable compatible with one of type_info from libsupc++, because libsupc++'s type_info also has a couple of virtual methods before the method which does catching check (see above [3]). The only difference is that __do_catch() has additional third argument whilst libcxxabi's can_catch() has only two. I think it won't cause problems if one calls two-argument method with three arguments, but doing the opposite might be troublesome. So, finally, if I'm right, we may try to call the method using vtable offset directly.; > ; > [1] https://itanium-cxx-abi.github.io/cxx-abi/abi.html#dynamic_cast-algorithm; > [2] https://itanium-cxx-abi.github.io/cxx-abi/abi.html#exception-matching-algorithm; > [3] https://github.com/gcc-mirror/gcc/blob/8805daa6d1a973e4e85698d7cf65a46c8cc85aac/libstdc%2B%2B-v3/libsupc%2B%2B/typeinfo#L163; > [4] https://github.com/llvm-mirror/libcxx/blob/68fdad67e334de18451c749550908274a5fd2542/include/typeinfo; > [5] https://github.com/llvm-mirror/libcxxabi/blob/1f4353379227ba3d8b44a8694fc54e0ca6de39cd/src/private_typeinfo.h#L20; > [6] https://github.com/llvm-mirror/libcxxabi/blob/1f4353379227ba3d8b44a8694fc54e0ca6de39cd/src/private_typeinfo.h#L26; > [7] https://github.com/llvm-mirror/libcxxabi/blob/1f4353379227ba3d8b44a8694fc54e0ca6de39cd/src/private_typeinfo.cpp#L147; > [8] https://itanium-cxx-abi.github.io/cxx-abi/abi.html#rtti-layout. On 26/03/17 16:54, Berserker Troll wrote:; > I've implemented cast based on direct vtable access [9]. It should work for both libstdc++/libsupc++ and libcxx(abi).; > Also I've updated my TDirectory test so they have the same output format [a]; >; > [9] https://gist.github.com/BerserkerTroll/01debd56c2987ab89b0a94b783373e35; > [a] https://gist.github.com/BerserkerTroll/b94c2d3e3a5848be7c7dd53e323e1cdb",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/463:3954,update,updated,3954,https://root.cern,https://github.com/root-project/root/pull/463,1,['update'],['updated']
Deployability,"em::StackTrace (this=0x55fecde2a420) at ../core/unix/src/TUnixSystem.cxx:2395; #5 0x00007f17519606f4 in TUnixSystem::DispatchSignals (this=0x55fecde2a420, sig=kSigSegmentationViolation) at ../core/unix/src/TUnixSystem.cxx:3615; #6 <signal handler called>; #7 0x00007f174bc8faac in TCling__GetObjectDecl (obj=0x55fed02b7470) at ../core/metacling/src/TCling.cxx:603; #8 0x00007f174bce6d72 in TClingCallbacks::tryFindROOTSpecialInternal (this=this; entry=0x55fece888730, R=..., S=S; entry=0x55fecdea0250) at ../core/metacling/src/TClingCallbacks.cxx:772; #9 0x00007f174bce8e51 in TClingCallbacks::LookupObject (this=0x55fece888730, R=..., S=0x55fecdea0250) at ../core/metacling/src/TClingCallbacks.cxx:402; #10 0x00007f174bd7939f in cling::MultiplexInterpreterCallbacks::LookupObject(clang::LookupResult&, clang::Scope*) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #11 0x00007f174c94bf1c in clang::MultiplexExternalSemaSource::LookupUnqualified(clang::LookupResult&, clang::Scope*) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #12 0x00007f174cb36a92 in clang::Sema::ClassifyName(clang::Scope*, clang::CXXScopeSpec&, clang::IdentifierInfo*&, clang::SourceLocation, clang::Token const&, clang::CorrectionCandidateCallback*) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #13 0x00007f174c7d02fe in clang::Parser::TryAnnotateName(clang::CorrectionCandidateCallback*) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #14 0x00007f174c79f729 in clang::Parser::ParseStatementOrDeclarationAfterAttributes(llvm::SmallVector<clang::Stmt*, 32u>&, clang::Parser::ParsedStmtContext, clang::SourceLocation*, clang::ParsedAttributesWithRange&) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #15 0x00007f174c79fab4 in clang::Parser::ParseStatementOrDeclaration(llvm::SmallVector<clang::Stmt*, 32u>&, clang::Parser::ParsedStmtCo",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12673:2566,install,install,2566,https://root.cern,https://github.com/root-project/root/issues/12673,1,['install'],['install']
Deployability,"emakers |; | Built for linuxarm64 on Feb 03 2024, 21:41:03 |; | From heads/master@tags/v6-30-04 |; | With g++ (GCC) 13.1.0 |; | Try '.help'/'.?', '.demo', '.license', '.credits', '.quit'/'.q' |; ------------------------------------------------------------------. root [0] .q; >; ```. It woks also if I use an old container with gcc 11.3:; ```; ssh lxplus-arm.cern.ch; > /cvmfs/lhcb.cern.ch/lib/var/lib/LbEnv/3067/stable/linux-aarch64/bin/apptainer shell -e -B /cvmfs /cvmfs/lhcb.cern.ch/containers/os-base/alma9-devel/2023-06-30_12-00-00/aarch64; WARNING: /cvmfs/lhcb.cern.ch/lib/var/lib/LbEnv/3067/stable/linux-aarch64/etc/singularity/ exists, migration to apptainer by system administrator is not complete; Apptainer> rpm -q gcc; gcc-11.3.1-4.3.el9.alma.aarch64; Apptainer> . /cvmfs/sft.cern.ch/lcg/releases/gcc/13.1.0-b3d18/aarch64-el9/setup.sh; Apptainer> . /cvmfs/sft.cern.ch/lcg/views/LCG_105a/aarch64-el9-gcc13-dbg/setup.sh; Apptainer> root; ------------------------------------------------------------------; | Welcome to ROOT 6.30/04 https://root.cern |; | (c) 1995-2024, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built for linuxarm64 on Feb 04 2024, 02:07:16 |; | From heads/master@tags/v6-30-04 |; | With g++ (GCC) 13.1.0 |; | Try '.help'/'.?', '.demo', '.license', '.credits', '.quit'/'.q' |; ------------------------------------------------------------------. root [0] .q; Apptainer>; ```. ### ROOT version. ```; ------------------------------------------------------------------; | Welcome to ROOT 6.30/04 https://root.cern |; | (c) 1995-2024, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built for linuxarm64 on Feb 04 2024, 02:07:16 |; | From heads/master@tags/v6-30-04 |; | With g++ (GCC) 13.1.0 |; | Try '.help'/'.?', '.demo', '.license', '.credits', '.quit'/'.q' |; ------------------------------------------------------------------; ```. ### Installation method. SFTR LCG view. ### Operating system. RHEL9, Almalinux 9. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14789:3665,Install,Installation,3665,https://root.cern,https://github.com/root-project/root/issues/14789,1,['Install'],['Installation']
Deployability,emanSol' in /opt/root_src/geom/geom/src/TGeoElement.cxx:554; 2: Calling default constructor for 'TObject' in /opt/root_src/geom/geom/src/TGeoElement.cxx:1377; 3: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 4: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 5: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Calling default constructor for 'TGeoHMatrix' in /opt/root_src/geom/geom/src/TGeoMatrix.cxx:2459; 2: Calling default constructor for 'TGeoMatrix' in /opt/root_src/geom/geom/src/TGeoMatrix.cxx:2301; 3: Calling default constructor for 'TNamed' in /opt/root_src/geom/geom/src/TGeoMatrix.cxx:231; 4: Calling default constructor for 'TObject' in /opt/root_src/core/base/inc/TNamed.h:36; 5: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 6: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 7: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Assuming 'inspect' is null in /opt/root_src/graf2d/gpad/src/TInspectCanvas.cxx:380; 2: Taking true branch in /opt/root_src/graf2d/gpad/src/TInspectCanvas.cxx:380; 3: Calling 'TInspectCanvas::InspectObject' in /opt/root_src/graf2d/gpad/src/TInspectCanvas.cxx:383; 4: Assuming the condition is false in /opt/root_src/graf2d/gpad/src/TInspectCanvas.cxx:125; 5: Taking false branch in /opt/root_src/graf2d/gpad/src/TInspectCanvas.cxx:125; 6: Assuming the condition is false in /opt/root_src/graf2d/gpad/src/TInspectCanvas.cxx:127; 7: Taking false branch in /opt/root_src/graf2d/gpad/src/TInspectCanvas.cxx:127; 8: As,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:4452,Update,UpdateIsOnHeap,4452,https://root.cern,https://github.com/root-project/root/issues/7412,1,['Update'],['UpdateIsOnHeap']
Deployability,"entBody(clang::Decl*, clang::Parser::ParseScope&) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #18 0x00007f174c7d5ac5 in clang::Parser::ParseFunctionDefinition(clang::ParsingDeclarator&, clang::Parser::ParsedTemplateInfo const&, clang::Parser::LateParsedAttrList*) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #19 0x00007f174c70dd20 in clang::Parser::ParseDeclGroup(clang::ParsingDeclSpec&, clang::DeclaratorContext, clang::SourceLocation*, clang::Parser::ForRangeInit*) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #20 0x00007f174c7d1e54 in clang::Parser::ParseDeclarationOrFunctionDefinition(clang::ParsedAttributesWithRange&, clang::ParsingDeclSpec*, clang::AccessSpecifier) [clone .part.0] () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #21 0x00007f174c7d8830 in clang::Parser::ParseExternalDeclaration(clang::ParsedAttributesWithRange&, clang::ParsingDeclSpec*) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #22 0x00007f174c7d9900 in clang::Parser::ParseTopLevelDecl(clang::OpaquePtr<clang::DeclGroupRef>&, bool) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #23 0x00007f174be0d87a in cling::IncrementalParser::ParseInternal(llvm::StringRef) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #24 0x00007f174be0e9b0 in cling::IncrementalParser::Compile(llvm::StringRef, cling::CompilationOptions const&) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #25 0x00007f174bd71127 in cling::Interpreter::EvaluateInternal(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, cling::CompilationOptions, cling::Value*, cling::Transaction**, unsigned long) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #26 0x00007f174bd7152d",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12673:4906,install,install,4906,https://root.cern,https://github.com/root-project/root/issues/12673,2,['install'],['install']
Deployability,"eous` are flattened into a single `RooSimultaneous` with a `RooSuperCategory` as index. ; When plotting a `RooSimultaneous`, if the index category is derived its servers are searched inside the `ProjWData` set, and if not found the plot becomes a slice in the categories.; However, the only server of a `RooSuperCategory` is the internal `RooMultiCategory`, so in case of a nested `RooSimultaneous` the plot is always a slice.; This is basically https://github.com/root-project/root/issues/12020, except during plots and not generation. The solution is probably the same. ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->; Categories are summed over and not sliced. ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->; ```python; import ROOT. x = ROOT.RooRealVar('x', '', 0, 1). c1 = ROOT.RooCategory('c1', '', {'c11': 0, 'c12': 1}); c2 = ROOT.RooCategory('c2', '', {'c21': 0}). u = ROOT.RooUniform('u', '', x); g = ROOT.RooGaussian('g', '', x, ROOT.RooFit.RooConst(0.5), ROOT.RooFit.RooConst(0.1)); s1 = ROOT.RooSimultaneous('s1', '', {'c11': u, 'c12': g}, c1); s2 = ROOT.RooSimultaneous('s2', '', {'c21': s1}, c2). proto = ROOT.RooDataSet('proto', '', {c1, c2}); c1.setIndex(0); for i in range(50):; proto.add({c1, c2}); c1.setIndex(1); for i in range(50):; proto.add({c1, c2}); ; frame = x.frame(); s2.plotOn(frame, ProjWData = ({c1, c2}, proto)) # only gauss; c1.setIndex(0); s2.plotOn(frame, ProjWData = ({c1, c2}, proto)) # only uniform; frame.Draw(); ```. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->; ROOT master from LCG dev3. ### Additional context; <!--; Add any other context about the problem here.; -->",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12652:2312,install,install,2312,https://root.cern,https://github.com/root-project/root/issues/12652,1,['install'],['install']
Deployability,"er ""bits/utility.h""; ^; /home/razorr/Softwares/Installed/HEP/Root/build/include/RtypesCore.h:28:10: note: submodule of top-level module 'std' implicitly imported here; #include <cstddef> // size_t, NULL; ^; In file included from input_line_3:2:; /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:23:10: fatal error: could not build module 'ROOT_Rtypes'; #include ""RtypesCore.h""; ~~~~~~~~^~~~~~~~~~~~~~; While building module 'Core':; While building module 'ROOT_Foundation_C' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:29:; In file included from <module-includes>:1:; /home/razorr/Softwares/Installed/HEP/Root/build/include/ThreadLocalStorage.h:60:10: fatal error: could not build module 'ROOT_Rtypes'; #include ""RtypesCore.h""; ~~~~~~~~^~~~~~~~~~~~~~; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/string_view:40:10: note: submodule of top-level module 'std' implicitly imported here; #include <iosfwd>; ^; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/char_traits.h:39:10: note: submodule of top-level module 'std' implicitly imported here; #include <bits/stl_algobase.h> // std::copy, std::fill_n; ^; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/incl",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10528:20543,Install,Installed,20543,https://root.cern,https://github.com/root-project/root/issues/10528,1,['Install'],['Installed']
Deployability,"er cases, when relative paths are not appropriate. Thus, it is safer in the general case to have these relative paths resolved to absolute system paths immediately before being passed to a caller. This merge request tries to accomplish just that with complete transparency and zero side-effects. It has been tested and deployed in Arch Linux x86_64, CMake 3.16.4, GCC 9.2.1:; - resulting relevant CMake config:; ```cmake; #----------------------------------------------------------------------------; # Configure the path to the ROOT headers, using a relative path if possible.; # This is only known at CMake time, so we expand a CMake supplied variable.; #. # ROOT configured for the install with relative paths, so use these; get_filename_component(_ROOT_INCLUDE_DIRS ""${_thisdir}/../../../include"" REALPATH). # resolve relative paths to absolute system paths; get_filename_component(ROOT_INCLUDE_DIRS ""${_ROOT_INCLUDE_DIRS}"" REALPATH). # ROOT configured for the install with relative paths, so use these; get_filename_component(_ROOT_LIBRARY_DIR ""${_thisdir}/../../root"" REALPATH). # resolve relative paths to absolute system paths; get_filename_component(ROOT_LIBRARY_DIR ""${_ROOT_LIBRARY_DIR}"" REALPATH). # ROOT configured for the install with relative paths, so use these; get_filename_component(_ROOT_BINDIR ""${_thisdir}/../../../bin"" REALPATH). # resolve relative paths to absolute system paths; get_filename_component(ROOT_BINDIR ""${_ROOT_BINDIR}"" REALPATH). # Deprecated value, please don't use it and use ROOT_BINDIR instead.; get_filename_component(ROOT_BINARY_DIR ""${ROOT_BINDIR}"" REALPATH); ```; - CMake runtime check:; ```bash; $ cmake --find-package -DNAME=ROOT -DCOMPILER_ID=GNU -DLANGUAGE=CXX -DMODE=EXIST --log-level=DEBUG -N --trace-expand 2>&1 | grep ROOT_BIN; /usr/lib64/cmake/ROOT/ROOTConfig.cmake(83): get_filename_component(_ROOT_BINDIR /usr/lib64/cmake/ROOT/../../../bin REALPATH ); /usr/lib64/cmake/ROOT/ROOTConfig.cmake(87): get_filename_component(ROOT_BINDIR /usr/bin REAL",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5084:1351,install,install,1351,https://root.cern,https://github.com/root-project/root/pull/5084,1,['install'],['install']
Deployability,"er need to wait for the ROOT (read) lock. In addition it should be investigated whether the ROOT (write) lock should be taken in thread #1, frame 1 (TMacOSXSystem::ProcessPendingEvents) for the same reason it is taken in TCanvas::Update. thread #11; frame #0: 0x00007fffab109bf2 libsystem_kernel.dylib`__psynch_cvwait + 10; frame #1: 0x00007fffab1f57fa libsystem_pthread.dylib`_pthread_cond_wait + 712; frame #2: 0x00007fff93394e34 AppKit`-[NSViewHierarchyLock lockForReadingWithExceptionHandler:] + 287; frame #3: 0x00007fff934948ae AppKit`-[NSWindow _copyAcquiredViewHierarchyLock] + 126; frame #4: 0x00007fff9349442c AppKit`-[NSView lockFocusIfCanDraw] + 159; frame #5: 0x000000011c09063d libGCocoa.so`ROOT::MacOSX::X11::CommandBuffer::Flush(this=0x0000000100dbb080, impl=0x0000000100dbb000) at X11Buffer.mm:550; frame #6: 0x000000011c04e9c4 libGCocoa.so`TGCocoa::Update(this=0x0000000100ad1bc0, mode=1) at TGCocoa.mm:536; frame #7: 0x000000011c04ff3e libGCocoa.so`TGCocoa::UpdateWindow(this=0x0000000100ad1bc0, (null)=1) at TGCocoa.mm:776; frame #8: 0x000000011ad70827 libGpad.so`TCanvas::Flush(this=0x000000012274e740) at TCanvas.cxx:1096; frame #9: 0x000000011ad7830f libGpad.so`TCanvas::Update(this=0x000000012274e740) at TCanvas.cxx:2287; frame #10: 0x0000000100fe4e86 threadsh2_C.so`handle2((null)=0x0000000000000001) at threadsh2.C:105; frame #11: 0x0000000100f55680 libThread.so`TThread::Function(ptr=0x0000000122753b00) at TThread.cxx:821; frame #12: 0x00007fffab1f493b libsystem_pthread.dylib`_pthread_body + 180; frame #13: 0x00007fffab1f4887 libsystem_pthread.dylib`_pthread_start + 286; frame #14: 0x00007fffab1f408d libsystem_pthread.dylib`thread_start + 13. thread #1, queue = 'com.apple.main-thread', stop reason = signal SIGSTOP; frame #0: 0x00007fffab109bf2 libsystem_kernel.dylib`__psynch_cvwait + 10; frame #1: 0x00007fffab1f57fa libsystem_pthread.dylib`_pthread_cond_wait + 712; frame #2: 0x00007fffa9b734cd libc++.1.dylib`std::__1::condition_variable::wait(std::__1::unique_lo",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1573:1531,Update,UpdateWindow,1531,https://root.cern,https://github.com/root-project/root/pull/1573,1,['Update'],['UpdateWindow']
Deployability,"er/CMakeLists.txt` and runtime searches in `interpreter/cling/lib/Interpreter/CIFactory.cpp`. Below I'm listing a number of things I noticed, and I think it would be worth it to clean up this business:. - [ ] Let's start with the obvious: `CLING_CXX_PATH` and `CLING_CXX_HEADERS` are declared as `option`s in `interpreter/cling/lib/Interpreter/CMakeLists.txt`. This gives them a type of `BOOL` instead of `STRING` (or maybe `FILEPATH` for `CLING_CXX_PATH`?).; - [ ] If these variables are not set by the user, the build system starts to make some guesses. These choices are not `FORCE`d back into the `CACHE`, so it will be re-computed on every CMake invocation.; - [ ] The code for determining `CLING_CXX_PATH` has a large section dealing with `ccache` and `distcc`, which can only be taken if users set the environment variable `CXX=""ccache g++""`. Since CMake 3.4, it is recommended to instead use `CMAKE_CXX_COMPILER_LAUNCHER=ccache`, or ROOT's `ccache=ON`, so this may be obsolete?; - [ ] The header lookup is inconsistent between the build system and the `CIFactory`: The messages during configuration suggest that the order is; 1. Determined directories of C++ headers, or if not found; 2. Invocation of the compiler's full path, or as a fallback; 3. Invocation of the compiler's relative path. I think this matches the initial implementation, but it's not true anymore since commit afabc3b63885427251fd69b4aeda887bae35a289 switched to asking the compiler in the `PATH` first, to address a problem report from CMS.; - [ ] It also appears that the default guess from the build system is to *either* set the compiler's full path *or* its relative path. This is potentially problematic because changing the `PATH` could make the interpreter pick up a different compiler, even though it could still ask the existing full path. It's also inconsistent with respect to the previous point because a compiler in `PATH` takes precedence over the directories determined at build time, while a compiler out",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11612:1241,configurat,configuration,1241,https://root.cern,https://github.com/root-project/root/issues/11612,1,['configurat'],['configuration']
Deployability,erfStats.cxx:611; 6: Calling default constructor for 'TObject' in /opt/root_src/proof/proofplayer/src/TPerfStats.cxx:53; 7: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 8: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 9: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Calling 'operator*<double>' in /opt/root_src/math/matrix/src/TMatrixTSparse.cxx:2676; 2: Calling copy constructor for 'TMatrixTSparse<double>' in /opt/root_src/math/matrix/src/TMatrixTSparse.cxx:2655; 3: Calling implicit copy constructor for 'TMatrixTBase<double>' in /opt/root_src/math/matrix/src/TMatrixTSparse.cxx:152; 4: Calling copy constructor for 'TObject' in /opt/root_src/math/matrix/src/TMatrixTSparse.cxx:152; 5: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:265; 6: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 7: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Assuming the condition is false in /opt/root_src/proof/proofplayer/src/TProofPlayer.cxx:4830; 2: Taking false branch in /opt/root_src/proof/proofplayer/src/TProofPlayer.cxx:4830; 3: Assuming the condition is false in /opt/root_src/proof/proofplayer/src/TProofPlayer.cxx:4842; 4: Loop condition is false. Execution continues on line 4865 in /opt/root_src/proof/proofplayer/src/TProofPlayer.cxx:4842; 5: 'nerti' is <= 0 in /opt/root_src/proof/proofplayer/src/TProofPlayer.cxx:4865; 6: '?' condition is false in /opt/root_src/proof/proofplayer/src/TProofPlayer.cxx:4865; 7: 'nsrti' is <= 0 in /opt/root_src/proof/,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:65550,Update,UpdateIsOnHeap,65550,https://root.cern,https://github.com/root-project/root/issues/7412,1,['Update'],['UpdateIsOnHeap']
Deployability,"erference_size - Failed; Running /home/razorr/Softwares/Installed/HEP/Root/gitclone/build/unix/compiledata.sh; Making /home/razorr/Softwares/Installed/HEP/Root/build/ginclude/compiledata.h; -- ROOT Configuration. System Linux-5.15.37-1-lts; Processor 2 core Intel(R) Core(TM) i3-5010U CPU @ 2.10GHz (x86_64); Build type Release; Install path /home/razorr/Softwares/Installed/HEP/Root/install; Compiler GNU 11.2.0; Compiler flags:; C -Wno-implicit-fallthrough -pipe -Wall -W -pthread -O3 -DNDEBUG; C++ -std=c++17 -Wno-implicit-fallthrough -Wno-noexcept-type -pipe -Wshadow -Wall -W -Woverloaded-virtual -fsigned-char -pthread -O3 -DNDEBUG; Linker flags:; Executable -rdynamic; Module; Shared -Wl,--no-undefined -Wl,--hash-style=""both"". -- Enabled support for: asimage builtin_afterimage builtin_clang builtin_cling builtin_ftgl builtin_gl2ps builtin_glew builtin_llvm builtin_nlohmannjson builtin_openui5 builtin_vdt builtin_xrootd clad dataframe exceptions fftw3 gdml http imt mathmore mlp minuit2 mysql opengl pyroot roofit webgui root7 rpath runtime_cxxmodules shared sqlite ssl tmva tmva-cpu tmva-pymva spectrum vdt x11 xml xrootd; -- Configuring done; -- Generating done; -- Build files have been written to: /home/razorr/Softwares/Installed/HEP/Root/build; ```. </details>. `$ cmake --build . --target install -- -j4`; <details>; <summary>truncated output</summary>. ``` ; [ 75%] Building CXX object core/clingutils/CMakeFiles/ClingUtils.dir/src/TClingUtils.cxx.o; [ 75%] Built target Dictgen; [ 75%] Building CXX object core/metacling/src/CMakeFiles/MetaCling.dir/TClingClassInfo.cxx.o; [ 75%] Building CXX object core/metacling/src/CMakeFiles/MetaCling.dir/TClingDataMemberInfo.cxx.o; [ 75%] Building CXX object core/metacling/src/CMakeFiles/MetaCling.dir/TClingDeclInfo.cxx.o; [ 75%] Building CXX object core/metacling/src/CMakeFiles/MetaCling.dir/TClingDiagnostics.cxx.o; [ 75%] Building CXX object core/metacling/src/CMakeFiles/MetaCling.dir/TClingMemberIter.cxx.o; [ 75%] Building CXX obje",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10528:12428,Install,Installed,12428,https://root.cern,https://github.com/root-project/root/issues/10528,1,['Install'],['Installed']
Deployability,"erforming Test found_stdstringview; -- Performing Test found_stdstringview - Success; -- Performing Test found_stod_stringview; -- Performing Test found_stod_stringview - Failed; -- Performing Test found_opplusequal_stringview; -- Performing Test found_opplusequal_stringview - Success; -- Performing Test found_stdapply; -- Performing Test found_stdapply - Success; -- Performing Test found_stdinvoke; -- Performing Test found_stdinvoke - Success; -- Performing Test found_stdindexsequence; -- Performing Test found_stdindexsequence - Success; -- Performing Test found_attribute_always_inline; -- Performing Test found_attribute_always_inline - Success; -- Performing Test has_found_attribute_noinline; -- Performing Test has_found_attribute_noinline - Success; -- Performing Test found_hardware_interference_size; -- Performing Test found_hardware_interference_size - Failed; Running /home/razorr/Softwares/Installed/HEP/Root/gitclone/build/unix/compiledata.sh; Making /home/razorr/Softwares/Installed/HEP/Root/build/ginclude/compiledata.h; -- ROOT Configuration. System Linux-5.15.37-1-lts; Processor 2 core Intel(R) Core(TM) i3-5010U CPU @ 2.10GHz (x86_64); Build type Release; Install path /home/razorr/Softwares/Installed/HEP/Root/install; Compiler GNU 11.2.0; Compiler flags:; C -Wno-implicit-fallthrough -pipe -Wall -W -pthread -O3 -DNDEBUG; C++ -std=c++17 -Wno-implicit-fallthrough -Wno-noexcept-type -pipe -Wshadow -Wall -W -Woverloaded-virtual -fsigned-char -pthread -O3 -DNDEBUG; Linker flags:; Executable -rdynamic; Module; Shared -Wl,--no-undefined -Wl,--hash-style=""both"". -- Enabled support for: asimage builtin_afterimage builtin_clang builtin_cling builtin_ftgl builtin_gl2ps builtin_glew builtin_llvm builtin_nlohmannjson builtin_openui5 builtin_vdt builtin_xrootd clad dataframe exceptions fftw3 gdml http imt mathmore mlp minuit2 mysql opengl pyroot roofit webgui root7 rpath runtime_cxxmodules shared sqlite ssl tmva tmva-cpu tmva-pymva spectrum vdt x11 xml xrootd; -- Configuri",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10528:11333,Install,Installed,11333,https://root.cern,https://github.com/root-project/root/issues/10528,1,['Install'],['Installed']
Deployability,"error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/char_traits.h:41:10: note: submodule of top-level module 'std' implicitly imported here; #include <cwchar> // For WEOF, wmemmove, wmemset, etc.; ^; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/char_traits.h:699:10: note: submodule of top-level module 'std' implicitly imported here; #include <cstdint>; ^; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/functional_hash.h:35:10: note: submodule of top-level module 'std' implicitly imported here; #include <type_traits>; ^; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/range_access.h:36:10: note: submodule of top-level module 'std' implicitly imported here; #include <initializer_list>; ^; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10528:23836,Install,Installed,23836,https://root.cern,https://github.com/root-project/root/issues/10528,1,['Install'],['Installed']
Deployability,"error: reference to 'Experimental' is ambiguous; Experimental::RH2D hist{{100, 0., 1.}, {{0., 1., 2., 3., 10.}}};; ^; ...root.../include/ROOT/RLogger.hxx:28:11: note: candidate found by name lookup is 'ROOT::Experimental'; namespace Experimental {; ^; ...root.../include/TMVA/RBDT.hxx:31:11: note: candidate found by name lookup is 'TMVA::Experimental'; namespace Experimental {. # This Pull request:. ## Changes or fixes:. ## Checklist:. - [x] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/8492:475,update,updated,475,https://root.cern,https://github.com/root-project/root/pull/8492,1,['update'],['updated']
Deployability,"ers\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(51,11): message : 'std::wstring std::format<const std::unique_ptr<llvm::GIMatchDagInstr,std::default_delete<llvm::GIMatchDagInstr>>*>(const std::basic_format_string<wchar_t,const std::unique_ptr<llvm::GIMatchDagInstr,std::default_delete<llvm::GIMatchDagInstr>> *>,const std::unique_ptr<llvm::GIMatchDagInstr,std::default_delete<llvm::GIMatchDagInstr>> *&&)': cannot convert argument 1 from 'const char [5]' to 'const std::basic_format_string<wchar_t,const std::unique_ptr<llvm::GIMatchDagInstr,std::default_delete<llvm::GIMatchDagInstr>> *>' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(51,18): message : No constructor could take the source type, or constructor overload resolution was ambiguous [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\VC\Tools\MSVC\14.35.32215\include\format(3521,19): message : or 'std::string std::format<const std::unique_ptr<llvm::GIMatchDagInstr,std::default_delete<llvm::GIMatchDagInstr>>*>(const std::basic_format_string<char,const std::unique_ptr<llvm::GIMatchDagInstr,std::default_delete<llvm::GIMatchDagInstr>> *>,const std::unique_ptr<llvm::GIMatchDagInstr,std::default_delete<llvm::GIMatchDagInstr>> *&&)' [found using argument-dependent lookup] [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\VC\Tools\MSVC\14.35.32215\include\format(3536,20): message : or 'std::wstring std::format(const std::locale &,const std::basic_format_string<wchar_t,type_identity<_Args>::type...>,_Types &&...)' [C:\Users\bellen",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12523:2397,release,release,2397,https://root.cern,https://github.com/root-project/root/pull/12523,1,['release'],['release']
Deployability,"ersions/3.12/Python] PyEval_EvalCode (no debug info); [/Library/Frameworks/Python.framework/Versions/3.12/Python] builtin_exec (no debug info); [/Library/Frameworks/Python.framework/Versions/3.12/Python] cfunction_vectorcall_FASTCALL_KEYWORDS (no debug info); [/Library/Frameworks/Python.framework/Versions/3.12/Python] _PyEval_EvalFrameDefault (no debug info); [/Library/Frameworks/Python.framework/Versions/3.12/Python] PyEval_EvalCode (no debug info); [/Library/Frameworks/Python.framework/Versions/3.12/Python] builtin_exec (no debug info); [/Library/Frameworks/Python.framework/Versions/3.12/Python] cfunction_vectorcall_FASTCALL_KEYWORDS (no debug info); [/Library/Frameworks/Python.framework/Versions/3.12/Python] _PyEval_EvalFrameDefault (no debug info); [/Library/Frameworks/Python.framework/Versions/3.12/Python] object_vacall (no debug info); [/Library/Frameworks/Python.framework/Versions/3.12/Python] PyObject_CallMethodObjArgs (no debug info); [/Library/Frameworks/Python.framework/Versions/3.12/Python] PyImport_ImportModuleLevelObject (no debug info); [/Library/Frameworks/Python.framework/Versions/3.12/Python] _PyEval_EvalFrameDefault (no debug info); [/Library/Frameworks/Python.framework/Versions/3.12/Python] PyEval_EvalCode (no debug info); [/Library/Frameworks/Python.framework/Versions/3.12/Python] run_mod (no debug info); [/Library/Frameworks/Python.framework/Versions/3.12/Python] PyRun_SimpleStringFlags (no debug info); [/Library/Frameworks/Python.framework/Versions/3.12/Python] Py_RunMain (no debug info); [/Library/Frameworks/Python.framework/Versions/3.12/Python] pymain_main (no debug info); [/Library/Frameworks/Python.framework/Versions/3.12/Python] Py_BytesMain (no debug info); [/usr/lib/dyld] start (no debug info). ```. ### Reproducer. Take ROOT master and Python 3.12, build it. ### ROOT version. master. ### Installation method. Official Python distribution. ### Operating system. MacOS (I suspect that it's also Linux). ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13864:5690,Install,Installation,5690,https://root.cern,https://github.com/root-project/root/issues/13864,1,['Install'],['Installation']
Deployability,"es. - [X] Checked for duplicates. ### Describe the bug. We are using a customized version of https://github.com/therocode/meta_enum that fails with ROOT v6-28-00-patches. When including the attached file I get an assertion failure from LLVM:; ```; root [0] #include ""custom_meta_enum_test.hpp""; root.exe: /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-28-00-patches/src/ROOT/v6-28-00-patches/interpreter/llvm/src/tools/clang/lib/AST/ExprConstant.cpp:5921: bool HandleUnionActiveMemberChange({anonymous}::EvalInfo&, const clang::Expr*, const {anonymous}::LValue&): Assertion `declaresSameEntity(FD, LHS.Designator.Entries[PathLength] .getAsBaseOrMember().getPointer())' failed.; ```. By trial and errors I managed to find the bit of code that triggers the assertion error and I embedded the workaround in the attached file:; ```; root [0] #define WORKAROUND; root [1] #include ""custom_meta_enum_test.hpp""; root [2] ; ```. The difference that works around the issue is basically; ```patch; +++ b/Kernel/LHCbKernel/include/Kernel/meta_enum.h; @@ -130,10 +130,11 @@ namespace meta_enum_internal {; currentStringStart = currentStringEnd;; }; for ( size_t i = 0; i < memberStrings.size(); ++i ) {; - result.members[i].name = parseEnumMemberName( memberStrings[i] );; + auto name = parseEnumMemberName( memberStrings[i] );; + result.members[i].name = name;; result.members[i].value = std::get<1>( values )[i];; if ( std::get<0>( values ) == std::get<1>( values )[i] ) {; - result.defaultString = result.members[i].name;; + result.defaultString = name;; result.defaultValue = std::get<0>( values );; }; }. ```. [custom_meta_enum_test.hpp.gz](https://github.com/root-project/root/files/11749495/custom_meta_enum_test.hpp.gz). ### What is the expected behaviour?. _No response_. ### How to reproduce?. From lxplus9.cern.ch:; ```; ❯ . /cvmfs/sft-nightlies.cern.ch/lcg/views/dev4/Mon/x86_64-el9-gcc13-dbg/setup.sh; ❯ root; ------------------------------------------------------------------; ",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13019:1027,patch,patch,1027,https://root.cern,https://github.com/root-project/root/issues/13019,1,['patch'],['patch']
Deployability,"es.h>; ^; fatal error: too many errors emitted, stopping now [-ferror-limit=]; Error: Error loading the default rootcling header files.; make[2]: *** [core/CMakeFiles/G__Core.dir/build.make:474: core/G__Core.cxx] Error 1; make[1]: *** [CMakeFiles/Makefile2:24008: core/CMakeFiles/G__Core.dir/all] Error 2; make[1]: *** Waiting for unfinished jobs....; [ 75%] Building CXX object core/metacling/src/CMakeFiles/MetaCling.dir/TClingValue.cxx.o; [ 75%] Built target MetaCling; make: *** [Makefile:156: all] Error 2. ```. </details>. ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->; Root builds without any errors. ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->; 1. `mkdir -p HEP/root`; 2. `cd HEP/root`; 3. `mkdir build install`; 4. `git clone --depth=1 https://github.com/root-project/root gitclone`; 5. `cd build`; 6. `cmake -DCMAKE_INSTALL_PREFIX=../install ../gitclone`; 7. `cmake --build . --target install -- -j4`. ### Setup; <!--; 1. ROOT version; 8. Operating system; 9. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->. ### Additional context; <!--; Add any other context about the problem here.; -->; 1. `gcc -v`; ```sh; Using built-in specs.; COLLECT_GCC=gcc; COLLECT_LTO_WRAPPER=/usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/lto-wrapper; Target: x86_64-pc-linux-gnu; Configured with: /build/gcc/src/gcc/configure --enable-languages=c,c++,ada,fortran,go,lto,objc,obj-c++,d --enable-bootstrap --prefix=/usr --libdir=/usr/lib --libexecdir=/usr/lib --mandir=/usr/share/man --infodir=/usr/share/info --with-bugurl=https://bugs.archlinux.org/ --with-linker-hash-style=gnu --with-system-zlib --enable-__cxa_atexit --enable-cet=auto --enable-checking=release --enable-clocale=g",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10528:29904,install,install,29904,https://root.cern,https://github.com/root-project/root/issues/10528,1,['install'],['install']
Deployability,"es/Installed/HEP/Root/build/etc/cling/Interpreter/DynamicExprInfo.h:40:7: error: use of undeclared identifier 'std'; std::string m_Result;; ^; While building module 'Core':; While building module 'Cling_Runtime' imported from input_line_2:1:; While building module 'Cling_Runtime_Extra' imported from /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/RuntimeUniverse.h:27:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/DynamicLookupLifetimeHandler.h:12:10: note: submodule of top-level module 'std' implicitly imported here; #include <string>; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/DynamicLookupLifetimeHandler.h:56:7: error: use of undeclared identifier 'std'; std::string m_Type;; ^; While building module 'Core':; While building module 'Cling_Runtime' imported from input_line_2:1:; While building module 'Cling_Runtime_Extra' imported from /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/RuntimeUniverse.h:27:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Visibility.h:13:10: note: submodule of top-level module 'std' implicitly imported here; #include <new>; ^; While building module 'Core':; While building module 'Cling_Runtime' imported from input_line_2:1:; While building module 'Cling_Runtime_Extra' imported from /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/RuntimeUniverse.h:27:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:17:10: note: submodule of to",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10528:15916,Install,Installed,15916,https://root.cern,https://github.com/root-project/root/issues/10528,1,['Install'],['Installed']
Deployability,"estfunc` will correctly print the values of the branches and `testfunc` column in the Scan will show the correct output of the formula `a+b*c`. When run with ROOT 6.30, the `cout` will print `0 0 0` and the `testfunc` column will always be 0. ```; #include <iostream>; #include <string>; #include <TFile.h>; #include <TTree.h>. using namespace std;. float testfunc(int a, int b, float c); {; cout << a << "" "" << b << "" "" << c << endl;; return a + b * c;; }. void createTree(const string &filename); {; cout << ""Creating tree in file "" << filename << endl;; TFile *f = TFile::Open(filename.c_str(), ""RECREATE"");; TTree *t = new TTree(""t"", ""t"");; int a;; int b;; float c;; t->Branch(""a"", &a, ""a/I"");; t->Branch(""b"", &b, ""b/I"");; t->Branch(""c"", &c, ""c/F"");; for (int i = 0; i < 10; ++i); {; a = i;; b = i + 1;; c = i + 2;; t->Fill();; }; t->Write();; f->Close();; cout << ""Tree created"" << endl;; }. void runExampleScan(const string &filename); {; cout << ""Running example scan"" << endl;; TFile *f = TFile::Open(filename.c_str());; TTree *t = (TTree *)f->Get(""t"");; t->Scan(""a:b:c:testfunc(a,b,c)"", """", ""colsize=20"");; delete t;; delete f;; }. void runExampleDraw(const string &filename); {; gROOT->SetBatch();; TCanvas *c = new TCanvas(""c"", ""c"", 800, 600);; cout << ""Running example draw"" << endl;; TFile *f = TFile::Open(filename.c_str());; TTree *t = (TTree *)f->Get(""t"");; t->Draw(""testfunc(a,b,c)"", """");; delete t;; delete f;; c->SaveAs(""test.png"");; }. int test(); {; string filename = ""test.root"";; createTree(filename);; runExampleScan(filename);; runExampleDraw(filename);; return 0;; }. ```. ### ROOT version. ```; ROOT v6.30/02; Built for linuxx8664gcc on Dec 20 2023, 18:59:44; From heads/master@tags/v6-30-02; With g++ (GCC) 13.1.0; Binary directory: /cvmfs/sft.cern.ch/lcg/releases/ROOT/6.30.02-fb5be/x86_64-el9-gcc13-opt/bin; ```. ### Installation method. Pre-built binary. ### Operating system. Red Hat Enterprise Linux 9.3 (tested also on Centos7). ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14405:2489,release,releases,2489,https://root.cern,https://github.com/root-project/root/issues/14405,2,"['Install', 'release']","['Installation', 'releases']"
Deployability,"et ""Cling"" which requires target ""clingInterpreter"" that is not in any export set.; [ 53s] CMake Error: install(EXPORT ""ROOTExports"" ...) includes target ""Cling"" which requires target ""clingMetaProcessor"" that is not in any export set.; [ 53s] CMake Error: install(EXPORT ""ROOTExports"" ...) includes target ""Cling"" which requires target ""clingUtils"" that is not in any export set.; [ 54s] -- Generating done; ```. ### Expected behavior; CMake call succeeds. ### To Reproduce; The problem is caused by the SHARED libCling (TARGET Cling) specyfing the 3 OBJECT libraries from above as PUBLIC link libraries:. https://github.com/root-project/root/blob/69002fa23d19ad50ff8dd6c7678a6343748ba3fd/core/metacling/src/CMakeLists.txt#L107-L112. https://github.com/root-project/root/blob/69002fa23d19ad50ff8dd6c7678a6343748ba3fd/cmake/modules/RootMacros.cmake#L889. `CLING_LIBRARIES` is `clingInterpreter;clingMetaProcessor;clingUtils`. OBJECT libraries which are just used as convenience libraries and are not installed should by specified as PRIVATE link libraries. A minimal reproducer is given below, with `PRIVATE` it works fine, with `PUBLIC` `cmake -B _builddir -S .` fails.; ```; project(exportTest). cmake_minimum_required(VERSION 3.1). add_library(objLib OBJECT); target_sources(objLib PRIVATE ${CMAKE_CURRENT_SOURCE_DIR}/objA.cxx). add_library(shLib SHARED); target_sources(shLib PRIVATE ${CMAKE_CURRENT_SOURCE_DIR}/libA.cxx); target_link_libraries(shLib PUBLIC objLib) # <-- fails; #target_link_libraries(shLib PRIVATE objLib) # <-- OK. add_executable(main); target_sources(main PRIVATE ${CMAKE_CURRENT_SOURCE_DIR}/main.cxx); target_link_libraries(main PUBLIC shLib). install(TARGETS main shLib EXPORT exportTest); install(EXPORT exportTest DESTINATION lib/exportTest); ```; (`libA.cxx` and `objA.cxx` are empty files. `main.cxx` just contains an empty main function: `int main(int, char**) { return 0;}`). ### Setup; 1. ROOT version: 6.26.06; 2. openSUSE Leap 15.4, SLE15SP4. ### Additional context",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11138:2190,install,install,2190,https://root.cern,https://github.com/root-project/root/issues/11138,2,['install'],['install']
Deployability,"etc/ file installation fix, master branch (2018.02.13.)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1625:10,install,installation,10,https://root.cern,https://github.com/root-project/root/pull/1625,1,['install'],['installation']
Deployability,"etc/cling/lib/clang/5.0.0/include/stdatomic.h:137:81: note: expanded from macro 'atomic_exchange'; #define atomic_exchange(object, desired) __c11_atomic_exchange(object, desired, __ATOMIC_SEQ_CST); ^; <built-in>:16:26: note: expanded from here; #define __ATOMIC_SEQ_CST 5; ^; In file included from libMyLibrary dictionary payload:5:; In file included from ./MyClass.h:6:; In file included from /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_ptr.hpp:17:; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1099:33: error: expected ')'; /Users/krasznaa/ATLAS/sw/projects/externals/build/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:137:81: note: expanded from macro 'atomic_exchange'; #define atomic_exchange(object, desired) __c11_atomic_exchange(object, desired, __ATOMIC_SEQ_CST); ^; <built-in>:16:26: note: expanded from here; #define __ATOMIC_SEQ_CST 5; ^; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1099:33: note: to match this '('; /Users/krasznaa/ATLAS/sw/projects/externals/build/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:137:63: note: expanded from macro 'atomic_exchange'; #define atomic_exchange(object, desired) __c11_atomic_exchange(object, desired, __ATOMIC_SEQ_CST); ^; Error in <TInterpreter::AutoParse>: Error parsing payload code for class MyClass with content:. #line 1 ""libMyLibrary dictionary payload"". #define _BACKWARD_BACKWARD_WARNING_H; // Inline headers; #include ""MyClass.h"". #undef _BACKWARD_BACKWARD_WARNING_H. ROOT_prompt_0:1:1: error: must use 'class' tag to refer to type 'MyClass' in this scope; MyClass c;; ^; class ; ROOT_prompt_0:1:1: note: class 'MyClass' is hidden by a non-type declaration of 'MyClass' here; R",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6454:9135,install,install,9135,https://root.cern,https://github.com/root-project/root/issues/6454,1,['install'],['install']
Deployability,"ev/root-release-master/lib/libCling.so); ==22765== by 0x91305C5: AddReachableCodeToWorklist(llvm::BasicBlock*, llvm::DataLayout const&, llvm::SmallPtrSetImpl<llvm::BasicBlock*>&, llvm::InstCombineWorklist&, llvm::TargetLibraryInfo const*) (in /build/vvassilev/root-release-master/lib/libCling.so); ==22765== by 0x9139861: combineInstructionsOverFunction(llvm::Function&, llvm::InstCombineWorklist&, llvm::AAResults*, llvm::AssumptionCache&, llvm::TargetLibraryInfo&, llvm::DominatorTree&, llvm::OptimizationRemarkEmitter&, llvm::BlockFrequencyInfo*, llvm::ProfileSummaryInfo*, bool, llvm::LoopInfo*) (in /build/vvassilev/root-release-master/lib/libCling.so); ==22765== by 0x913A00E: llvm::InstructionCombiningPass::runOnFunction(llvm::Function&) (in /build/vvassilev/root-release-master/lib/libCling.so); ==22765== by 0x9E4CCC7: llvm::FPPassManager::runOnFunction(llvm::Function&) (in /build/vvassilev/root-release-master/lib/libCling.so); ==22765== by 0x9E4CE00: llvm::FPPassManager::runOnModule(llvm::Module&) (in /build/vvassilev/root-release-master/lib/libCling.so); ==22765== by 0x9E4BEE5: llvm::legacy::PassManagerImpl::run(llvm::Module&) (in /build/vvassilev/root-release-master/lib/libCling.so); ==22765== by 0x6F12B5A: cling::IncrementalExecutor::runStaticInitializersOnce(cling::Transaction&) (in /build/vvassilev/root-release-master/lib/libCling.so); ==22765== ; ==22765== Warning: set address range perms: large range [0x1cfd0000, 0x31242000) (defined); ==22765== Warning: set address range perms: large range [0x1cfd0000, 0x31242000) (noaccess); ==22765== Warning: set address range perms: large range [0x1cfd0000, 0x31242000) (defined); ==22765== Warning: set address range perms: large range [0x1cfd0000, 0x31242000) (noaccess); ==22765== Warning: set address range perms: large range [0x1cfd0000, 0x2d27d000) (defined); ==22765== Warning: set address range perms: large range [0x1cfd0000, 0x2d27d000) (noaccess); ==22765== Warning: set address range perms: large range [0x1cfd0000, 0x2",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11385:4261,release,release-master,4261,https://root.cern,https://github.com/root-project/root/issues/11385,1,['release'],['release-master']
Deployability,eve/src/TEveElement.cxx:664; 13: Assuming field 'fTopItemCnt' is <= 0 in /opt/root_src/graf3d/eve/src/TEveElement.cxx:664; 14: Left side of '&&' is true in /opt/root_src/graf3d/eve/src/TEveElement.cxx:664; 15: Assuming field 'fDestroyOnZeroRefCnt' is true in /opt/root_src/graf3d/eve/src/TEveElement.cxx:665; 16: Left side of '&&' is true in /opt/root_src/graf3d/eve/src/TEveElement.cxx:664; 17: Assuming field 'fDenyDestroy' is <= 0 in /opt/root_src/graf3d/eve/src/TEveElement.cxx:665; 18: Taking true branch in /opt/root_src/graf3d/eve/src/TEveElement.cxx:664; 19: Assuming the condition is false in /opt/root_src/graf3d/eve/src/TEveElement.cxx:667; 20: Taking false branch in /opt/root_src/graf3d/eve/src/TEveElement.cxx:667; 21: Assuming 'gDebug' is <= 0 in /opt/root_src/graf3d/eve/src/TEveElement.cxx:677; 22: Taking false branch in /opt/root_src/graf3d/eve/src/TEveElement.cxx:677; 23: Memory is released in /opt/root_src/graf3d/eve/src/TEveElement.cxx:681; 24: Returning; memory was released in /opt/root_src/graf3d/eve/src/TEveElement.cxx:650; 25: Returning; memory was released in /opt/root_src/graf3d/eve/src/TEveElement.cxx:1345; 26: Returning; memory was released via 1st parameter in /opt/root_src/graf3d/eve/src/TEveElement.cxx:359; 27: Use of memory after it is freed in /opt/root_src/graf3d/eve/src/TEveElement.cxx:361; /opt/root_src/graf3d/eve/src/TEveFrameBox.cxx:65:40: warning: Value stored to 'p' is never read [clang-analyzer-deadcode.DeadStores]; 1: Value stored to 'p' is never read in /opt/root_src/graf3d/eve/src/TEveFrameBox.cxx:65; /opt/root_src/graf3d/eve/src/TEveFrameBox.cxx:83:40: warning: Value stored to 'p' is never read [clang-analyzer-deadcode.DeadStores]; 1: Value stored to 'p' is never read in /opt/root_src/graf3d/eve/src/TEveFrameBox.cxx:83; /opt/root_src/graf3d/eve/src/TEveGeoNode.cxx:86:11: warning: Called C++ object pointer is null [clang-analyzer-core.CallAndMessage]; 1: Calling 'TEveGeoNode::DumpShapeTree' in /opt/root_src/graf3d/eve/src/TEveGeoNod,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7531:4762,release,released,4762,https://root.cern,https://github.com/root-project/root/issues/7531,1,['release'],['released']
Deployability,eve7: fix in GL view update,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3159:21,update,update,21,https://root.cern,https://github.com/root-project/root/pull/3159,2,['update'],['update']
Deployability,"everal other Decls failed to instantiate, leaving several Decls; // in invalid state. We should be unloading all of them, i.e. inload the; // current (possibly nested) transaction.; auto *T = const_cast<Transaction*>(m_Interpreter->getCurrentTransaction());; m_Interpreter->unload(*T);; *setResultType = nullptr;; return 0;; ```. The call stack here is. ```; #0 0x00007fffef9dde70 in cling::Interpreter::unload(cling::Transaction&)@plt; (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCling.so; #1 0x00007fffefbf28ce in cling::LookupHelper::findScope(llvm::StringRef, cling::LookupHelper::DiagSetting, clang::Type const**, bool) const (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCling.so; #2 0x00007fffefb854d9 in TClingClassInfo::TClingClassInfo(cling::Interpreter*, char const*, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCling.so; #3 0x00007fffefb06c54 in TCling::GetInterpreterTypeName(char const*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, bool); (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCling.so; #4 0x00007ffff560f184 in TClass::GetClass(char const*, bool, bool, unsigned long, unsigned long) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #5 0x00007ffff563608a in TProtoClass::FillTClass(TClass*) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #6 0x00007ffff56188e5 in TClass::Init(char const*, short, std::type_info const*, TVirtualIsAProxy*, char const*, char const*, int, int, ClassInfo_t*, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libC",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7657:12273,patch,patches,12273,https://root.cern,https://github.com/root-project/root/issues/7657,1,['patch'],['patches']
Deployability,"ew flag is added to the column description, `kFlagDeferredColumn`, which indicates that the index of the first on-disk element in the column is not zero (i.e., the column was added at a later point during write). If the flag is set, an additional 64bit integer ($firstElementIndex$) specifies the global index of the first stored element.; Compliant implementations should yield synthetic data pages made up of `0x00` bytes when trying to read back elements in the range $[0, firstElementIndex-1]$. This ensures zero-initialized values for fields of any supported C++ type, including `std::variant<Ts...>` and collections such as `std::vector<T>`. ## Changes or fixes:; - Allow for including the index of the first element in a column in the column description. This introduces the column flag `kFlagDeferredColumn` which specifies that the column has no on-disk data for elements preceding the given element index.; - `RPageSink::UpdateSchema()` now takes an additional argument (firstEntry) that specifies the first entry that stores an on-disk value for the fields in the changeset. The entry index is translated to column element index by `EntryToColumnElementIndex()`.; - `RPage::MakePageZero()`: this function returns a page that is comprised of `0x00` bytes only.; - Introduce locator type `kTypePageZero`. This locator type represents unmaterialized (i.e., in-memory only) zero pages for deferred columns.; - Add `RPageRange::ExtendToFitColumnRange()`: this function extends a RPageRange to fit the given RColumnRange, i.e. prepend as many synthetic `RPageInfo`s as needed to cover the entire range. `RPageInfo`s are constructed to contain as many elements given a page size limit in bytes; the locator for the referenced pages is `kPageZero`.; This function is used to make up `RPageRange`s for clusters that contain deferred columns.; - Add `RClusterDescriptorBuilder::AddDeferredColumnRanges()`, which makes up `RColumnRange` and `RPageRange`s that make sense for deferred columns that are",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12676:1178,Update,UpdateSchema,1178,https://root.cern,https://github.com/root-project/root/pull/12676,1,['Update'],['UpdateSchema']
Deployability,"ewer versions of Osx / Xcode. The error happens during the configuration:; ```; cmake .. -G Xcode ; -- The C compiler identification is AppleClang 14.0.0.14000029; -- The CXX compiler identification is AppleClang 14.0.0.14000029; -- Detecting C compiler ABI info; -- Detecting C compiler ABI info - done; -- Check for working C compiler: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang - skipped; -- Detecting C compile features; -- Detecting C compile features - done; -- Detecting CXX compiler ABI info; -- Detecting CXX compiler ABI info - done; -- Check for working CXX compiler: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang++ - skipped; -- Detecting CXX compile features; -- Detecting CXX compile features - done; -- Configuring done (12.8s); -- Generating done (0.0s); CMake Error in CMakeLists.txt:; The custom command generating. /Users/agramunt/Downloads/root-master/tutorials/tree/dictionary/xcode/G__data2Tree.cxx. is attached to multiple targets:. G__data2Tree; data2TreeLib. but none of these is a common dependency of the other(s). This is not; allowed by the Xcode ""new build system"". CMake Generate step failed. Build files cannot be regenerated correctly.; ```. ### Reproducer. Try to compile the tutorial `root-master/tutorials/tree/dictionary`. ### ROOT version. fails with several versions in the same manner. ```; ------------------------------------------------------------------; | Welcome to ROOT 6.26/14 https://root.cern |; | (c) 1995-2021, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built for macosx64 on Nov 28 2023, 00:39:39 |; | From tags/v6-26-14@v6-26-14 |; | With Apple clang version 14.0.0 (clang-1400.0.29.202) |; | Try '.help', '.demo', '.license', '.credits', '.quit'/'.q' |; ------------------------------------------------------------------; ```. ### Installation method. pre-built binary. ### Operating system. MacOS. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14595:2095,Install,Installation,2095,https://root.cern,https://github.com/root-project/root/issues/14595,1,['Install'],['Installation']
Deployability,"example makefile from tutorials/tmva should use the same c++ standard as; root (otherwise one faces errors from string views in the root headers; when building the tutorials). Note:; - I also changed in the global CMakeLists.txt `tutorial_file` into `artifact_file`, (which looks like a renaming variable mistake to me, but didn't go through the history); - This causes `tutorials/tmva/makefile` to not appear in artifact_files_builddir and thus the dependencies of move_artifacts. → I am not sure if I broke dependencies here. (WIP struggeling to install the configured makefile)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2547:548,install,install,548,https://root.cern,https://github.com/root-project/root/pull/2547,1,['install'],['install']
Deployability,exclude clang from install directive. Related JIRA issue: https://sft.its.cern.ch/jira/browse/ROOT-9489,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2653:19,install,install,19,https://root.cern,https://github.com/root-project/root/pull/2653,1,['install'],['install']
Deployability,"existing reports of your issue. If you find one, you are very welcome to add to the existing report, for instance ""issue still exists in today's master"".; -->; At least I could not find any obvious ones that described the same problem. But it might be a more general problem in the python bindings which I have missed. ### Describe the bug; <!--; A clear and concise description of what the wrong behavior is.; -->; Defining new `TColor`s in python seems to pick the wrong constructor. ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->; In previous versions of ROOT (up to 6.20/04) the right constructor was picked here. . ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->; ```python; import ROOT as r. color_index = r.TColor.GetFreeColorIndex(); print(type(color_index), color_index) # just to be sure that color_index is indeed an int. # This seems to be chosing the TColor(float, float, float, float) constructor; # instead of the TColor(int, float, float, float, const char*, float); color = r.TColor(color_index, 0.1, 0.2, 0.3). # This should be 0.1, 0.2, 0.3, but will actually be the color index, 0.1, 0.2; print(color.GetRed(), color.GetBlue(), color.GetGreen()). # Explicitly passing an empty string to the constructor helps in picking the correct constructor; color = r.TColor(color_index + 1, 0.1, 0.2, 0.3, """"); print(color.GetRed(), color.GetBlue(), color.GetGreen()) # now is 0.1, 0.2, 0.3; ```. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->; ROOT v6.22/08 (built with system gcc 9.3.0 and python 3.8.5) on Ubuntu 20.04. ### Additional context; <!--; Add any other context about the problem here.; -->",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7790:1985,install,install,1985,https://root.cern,https://github.com/root-project/root/issues/7790,1,['install'],['install']
Deployability,extend and update man pages,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1487:11,update,update,11,https://root.cern,https://github.com/root-project/root/pull/1487,1,['update'],['update']
Deployability,"f = 0x0, ; fTemplateArgs = 0x770e650, fWeakrefList = 0x7fffd65c0240, ; fTI = {<std::__shared_ptr<CPyCppyy::TemplateInfo, (__gnu_cxx::_Lock_policy)2>> = {<std::__shared_ptr_access<CPyCppyy::TemplateInfo, (__gnu_cxx::_Lock_policy)2, false, false>> = {<No data fields>}, _M_ptr = 0x7fffd88d0710, _M_refcount = {; _M_pi = 0x1}}, <No data fields>}}; (gdb) p mtName; $2 = {; _M_dataplus = {<std::allocator<char>> = {<std::__new_allocator<char>> = {<No data fields>}, <No data fields>}, _M_p = 0x7fffffff7cd0 ""__call__""}, ; _M_string_length = 8, {_M_local_buf = ""__call__\000\230d\a\000\000\000"", ; _M_allocated_capacity = 6872330769136836447}}; (gdb) p setupSetItem; $3 = true; (gdb) p isConstructor; $4 = false; (gdb) p isTemplate; $5 = false; ```. If i treat this as a special case and add an explicit test on the type. ```; diff --git a/bindings/pyroot/cppyy/CPyCppyy/src/ProxyWrappers.cxx b/bindings/pyr; oot/cppyy/CPyCppyy/src/ProxyWrappers.cxx; index bda60720cf..897d7b4967 100644; --- a/bindings/pyroot/cppyy/CPyCppyy/src/ProxyWrappers.cxx; +++ b/bindings/pyroot/cppyy/CPyCppyy/src/ProxyWrappers.cxx; @@ -245,14 +245,21 @@ static int BuildScopeProxyDict(Cppyy::TCppScope_t scope, PyObject* pyclass); ; // for operator[]/() that returns by ref, also add __setitem__; if (setupSetItem) {; - TemplateProxy* pysi = (TemplateProxy*)PyObject_GetAttrString(pyclass, const_cast<char*>(""__setitem__""));; - if (!pysi) {; - pysi = TemplateProxy_New(mtCppName, ""__setitem__"", pyclass);; - PyObject_SetAttrString(pyclass, const_cast<char*>(""__setitem__""), (PyObject*)pysi);; + auto setitemMeth = new CPPSetItem(scope, method);; + PyObject* pysi_o = PyObject_GetAttrString(pyclass, const_cast<char*>(""__setitem__""));; + if (pysi_o && CPPOverload_Check(pysi_o)) {; + ((CPPOverload*)pysi_o)->AdoptMethod(setitemMeth);; }; - if (isTemplate) pysi->AdoptTemplate(new CPPSetItem(scope, method));; - else pysi->AdoptMethod(new CPPSetItem(scope, method));; - Py_XDECREF(pysi);; + else {; + TemplateProxy* pysi = (Template",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13410:4824,a/b,a/bindings,4824,https://root.cern,https://github.com/root-project/root/issues/13410,1,['a/b'],['a/bindings']
Deployability,"f the super-category, and it does so by checking the super-category servers. ; However, recently `RooSuperCategory` was changed to contain a `RooMultiCategory` internally, and the only reported direct server is the internal multi-category. This leads to a wrong generation (the prototype data is ignored, the gen context refers to the current labels). ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->; Proto data works even with nested RooSimultaneous. ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->; ```Python; import ROOT. x = ROOT.RooRealVar('x', '', 0, 1). c1 = ROOT.RooCategory('c1', '', {'c11': 0}); c2 = ROOT.RooCategory('c2', '', {'c21': 0}). u = ROOT.RooUniform('u', '', x); s1 = ROOT.RooSimultaneous('s1', '', {'c11': u}, c1); s2 = ROOT.RooSimultaneous('s2', '', {'c21': s1}, c2). proto = ROOT.RooDataSet('proto', '', {c1, c2}); for i in range(100):; proto.add({c1, c2}). proto.table(c1).Print(""V""); proto.table(c2).Print(""V""). ROOT.RooMsgService.instance().addStream(ROOT.RooFit.INFO). # correct; context = s1.genContext(ROOT.RooArgSet(x), proto, ROOT.nullptr, True); print(context.ClassName()); context.Print(). # not a RooSimGenContext; context = s2.genContext(ROOT.RooArgSet(x), proto, ROOT.nullptr, True); print(context.ClassName()); context.Print(). # internal super-cat; print(s2.indexCat().GetName(), s2.indexCat().ClassName()). # the server is the internal multi-cat; print([cat.GetName() for cat in s2.indexCat().servers()]); ```. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->; Head of ROOT 6.26 from LCG dev4. ### Additional context; <!--; Add any other context about the problem here.; -->",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12020:2576,install,install,2576,https://root.cern,https://github.com/root-project/root/issues/12020,1,['install'],['install']
Deployability,f/src/TPie.cxx:580:13: warning: Value stored to 'isRedrawing' is never read [clang-analyzer-deadcode.DeadStores]; 1: Value stored to 'isRedrawing' is never read in /opt/root_src/graf2d/graf/src/TPie.cxx:580; /opt/root_src/graf2d/graf/src/TPie.cxx:604:10: warning: Value stored to 'isRedrawing' is never read [clang-analyzer-deadcode.DeadStores]; 1: Value stored to 'isRedrawing' is never read in /opt/root_src/graf2d/graf/src/TPie.cxx:604; /opt/root_src/graf2d/graf/src/TText.cxx:118:33: warning: Use of memory after it is freed [clang-analyzer-cplusplus.NewDelete]; 1: Calling 'TText::Copy' in /opt/root_src/graf2d/graf/src/TText.cxx:92; 2: Assuming field 'fWcsTitle' is not equal to NULL in /opt/root_src/graf2d/graf/src/TText.cxx:113; 3: Taking true branch in /opt/root_src/graf2d/graf/src/TText.cxx:113; 4: Assuming field 'fWcsTitle' is equal to NULL in /opt/root_src/graf2d/graf/src/TText.cxx:114; 5: Taking false branch in /opt/root_src/graf2d/graf/src/TText.cxx:114; 6: Memory is released in /opt/root_src/graf2d/graf/src/TText.cxx:117; 7: Use of memory after it is freed in /opt/root_src/graf2d/graf/src/TText.cxx:118; /opt/root_src/graf2d/mathtext/src/fontembed.cxx:130:7: warning: Value stored to 'offset_current' is never read [clang-analyzer-deadcode.DeadStores]; 1: Value stored to 'offset_current' is never read in /opt/root_src/graf2d/mathtext/src/fontembed.cxx:130; /opt/root_src/graf2d/mathtext/src/fontembed.cxx:954:50: warning: Value stored to 'priority' is never read [clang-analyzer-deadcode.DeadStores]; 1: Value stored to 'priority' is never read in /opt/root_src/graf2d/mathtext/src/fontembed.cxx:954; /opt/root_src/graf2d/mathtext/src/fontembed.cxx:959:50: warning: Value stored to 'priority' is never read [clang-analyzer-deadcode.DeadStores]; 1: Value stored to 'priority' is never read in /opt/root_src/graf2d/mathtext/src/fontembed.cxx:959; /opt/root_src/graf2d/mathtext/src/fontembed.cxx:978:50: warning: Value stored to 'priority' is never read [clang-analyzer-deadcode,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7432:63448,release,released,63448,https://root.cern,https://github.com/root-project/root/issues/7432,1,['release'],['released']
Deployability,"f4430, onlyDirect=1); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/metacling/src/TClingBaseClassInfo.cxx:341; #8 0x00007ffff323636e in TClingBaseClassInfo::Next (this=0x7fffffff4430, ; onlyDirect=1); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/metacling/src/TClingBaseClassInfo.cxx:350; #9 0x00007ffff323638d in TClingBaseClassInfo::Next (this=0x7fffffff4430); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/metacling/src/TClingBaseClassInfo.cxx:355; #10 0x00007ffff30f8681 in TCling::CreateListOfBaseClasses (this=0x4b6670, ; cl=0x32e8cc0); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/metacling/src/TCling.cxx:4292; #11 0x00007ffff260dc29 in TClass::GetListOfBases (this=0x32e8cc0); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/meta/src/TClass.cxx:3649; #12 0x00007ffff260a96e in TClass::GetBaseClass (this=0x32e8cc0, cl=0x235be20); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/meta/src/TClass.cxx:2679; #13 0x00007ffff260a9f6 in TClass::GetBaseClass (this=0x2c3e4b0, cl=0x235be20); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/meta/src/TClass.cxx:2688; #14 0x00007ffff2611f76 in TClass::InheritsFrom (this=0x2c3e4b0, cl=0x235be20); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/meta/src/TClass.cxx:4891; #15 0x00007ffff26163d7 in TClass::Property (this=0x2c3e4b0); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/meta/src/TClass.cxx:6097; #16 0x00007ffff",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11259:3347,patch,patches,3347,https://root.cern,https://github.com/root-project/root/issues/11259,2,['patch'],['patches']
Deployability,"fault.xctoolchain/usr/bin/c++ - skipped; -- Detecting CXX compile features; -- Detecting CXX compile features - done; -- Found nlohmann_json: /usr/local/share/cmake/nlohmann_json/nlohmann_jsonConfig.cmake (found suitable version ""3.11.2"", minimum required is ""3.11.2"") ; CMake Error at /usr/local/Cellar/cmake/3.27.8/share/cmake/Modules/FindPackageHandleStandardArgs.cmake:230 (message):; Could NOT find Vdt (missing: VDT_INCLUDE_DIR VDT_LIBRARY); Call Stack (most recent call first):; /usr/local/Cellar/cmake/3.27.8/share/cmake/Modules/FindPackageHandleStandardArgs.cmake:600 (_FPHSA_FAILURE_MESSAGE); /usr/local/Cellar/root/6.30.00/share/root/cmake/modules/FindVdt.cmake:63 (find_package_handle_standard_args); /usr/local/Cellar/cmake/3.27.8/share/cmake/Modules/CMakeFindDependencyMacro.cmake:76 (find_package); /usr/local/share/root/cmake/rootConfig.cmake:132 (find_dependency); CMakeLists.txt:3 (find_package). -- Configuring incomplete, errors occurred!; ```. ### Reproducer. - Install Root and CMake using Homebrew.; - Create a simple project.; ```cmake; cmake_minimum_required(VERSION 3.20); project(minimum_root); find_package(Root CONFIG REQUIRED); ```; - Run CMake with `cmake -S .`. ### ROOT version; ```; ------------------------------------------------------------------; | Welcome to ROOT 6.30/00 https://root.cern |; | (c) 1995-2023, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built for macosx64 on Nov 06 2023, 16:07:43 |; | From heads/v6-30-patches@tags/v6-30-00 |; | With Apple clang version 15.0.0 (clang-1500.0.40.1) |; | Try '.help'/'.?', '.demo', '.license', '.credits', '.quit'/'.q' |; ------------------------------------------------------------------; ```. ### Installation method. homebrew. ### Operating system. MacOS(14.1.1). ### Additional context. Since the update in the Homebrew formulae at [this commit](https://github.com/Homebrew/homebrew-core/commit/46e299a429160ea85f93dd15a4359b9cc63e8efb), an issue has arisen. As a temporary workaround, set the foll",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14113:1726,Install,Install,1726,https://root.cern,https://github.com/root-project/root/issues/14113,1,['Install'],['Install']
Deployability,"ferent numeric integration methods (more detail in the PR description).; It will also make porting the numerical integration with the Romberg method to the GPU much easier. The changes were validated with the following script:; ```c++; // runNumIntValidation.C. #include <RooFormulaVar.h>; #include <RooNumIntConfig.h>; #include <RooRealVar.h>. void testIntegrationMethod(int ndim, std::string const &label); {; RooRealVar x{""x"", ""x"", 0, 10};; RooRealVar y{""y"", ""y"", 0, 10};. std::string funcName = std::string(""func"") + label;; RooFormulaVar func{funcName.c_str(), ""x*std::sqrt(x) + y*std::sqrt(y) + x*y"", {x, y}};. std::cout << label << "":"" << std::endl;. RooNumIntConfig cfg(*func.getIntegratorConfig());. if (ndim == 2) {; cfg.method2D().setLabel(label.c_str());; }; if (ndim == 1) {; cfg.method1D().setLabel(label.c_str());; }. RooArgSet iset{x};; if (ndim > 1); iset.add(y);; std::unique_ptr<RooAbsReal> integ{func.createIntegral(iset, RooFit::NumIntConfig(cfg))};; double val = integ->getVal();; std::cout << std::setprecision(15) << val << std::endl;. std::cout << std::endl;; }. void runNumIntValidation(); {; RooHelpers::LocalChangeMsgLevel changeMsgLvl(RooFit::WARNING);. std::vector<std::string> methods1d{""RooIntegrator1D"", ""RooSegmentedIntegrator1D""};; std::vector<std::string> methods2d{""RooAdaptiveIntegratorND"", ""RooIntegrator2D"", ""RooSegmentedIntegrator2D""};. for (auto const &label : methods1d) {; testIntegrationMethod(1, label);; }. for (auto const &label : methods2d) {; testIntegrationMethod(2, label);; }; }; ```. The output with this PR is the same as with ROOT master:; ```; RooIntegrator1D:; 488.294986988088. RooSegmentedIntegrator1D:; 488.294680086881. RooAdaptiveIntegratorND:; 5029.82213550336. RooIntegrator2D:; 5029.84276464679. RooSegmentedIntegrator2D:; 5029.82506801992; ```. A new unit test that checks these numbers is also implemented. This is a follow up to #13350, which made it possible to implement different numeric integration plugins with the same class.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13384:2273,integrat,integration,2273,https://root.cern,https://github.com/root-project/root/pull/13384,1,['integrat'],['integration']
Deployability,"ff306f44b in genreflex::invokeRootCling (verbosity=..., ; selectionFileName=..., targetLibName=..., multiDict=false, pcmsNames=..., ; includes=..., preprocDefines=..., preprocUndefines=..., warnings=..., ; rootmapFileName=..., rootmapLibName=..., interpreteronly=false, ; doSplit=false, isCxxmodule=false, writeEmptyRootPCM=false, ; selSyntaxOnly=false, noIncludePaths=false, noGlobalUsingStd=false, ; headersNames=..., failOnWarnings=false, ofilename=...); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/dictgen/src/rootcling_impl.cxx:5371; #23 0x00007ffff307131c in GenReflexMain (argc=3, argv=0x7fffffff8d40); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/dictgen/src/rootcling_impl.cxx:6071; #24 0x00007ffff30717b3 in ROOT_rootcling_Driver (argc=5, argv=0x7fffffff8d38, ; config=...); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/dictgen/src/rootcling_impl.cxx:6148; #25 0x0000000000401269 in main (argc=5, argv=0x7fffffff8d38); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/main/src/rootcling.cxx:43; ```. The crash occurs here in TClingUtils.cxx:. ```; } else {; return TST->getArg(index).getAsType();; }; ```. because the Kind of this argument is clang::TemplateArgument::Expression,; not Type. This change fixes the crash for me:. ```; diff --git a/core/clingutils/src/TClingUtils.cxx b/core/clingutils/src/TClingUtils.cxx; index 2373f0c..ee0cf7c 100644; --- a/core/clingutils/src/TClingUtils.cxx; +++ b/core/clingutils/src/TClingUtils.cxx; @@ -4765,7 +4765,8 @@ clang::QualType ROOT::TMetaUtils::ReSubstTemplateArg(clang::QualType input, cons; // (See AddDefaultParameters).; return input;; } else {; - return TST->getArg(index).getAsType();; + if (TST->getArg(index).getKind() == clang::TemplateArgument::Type); ",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11259:6774,patch,patches,6774,https://root.cern,https://github.com/root-project/root/issues/11259,2,['patch'],['patches']
Deployability,"ff7be9dcd in TObject::CheckedHash (this=0xee3bc0) at /home/pcanal/root_builds/v6-14-00-patches/opt/include/TObject.h:314; #14 THashTable::GetCheckedHashValue (this=0xe65a20, obj=0xee3bc0) at /home/pcanal/root_builds/v6-14-00-patches/opt/include/THashTable.h:94; #15 THashTable::Add (this=0xe65a20, obj=0xee3bc0) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/cont/src/THashTable.cxx:96; #16 0x00007ffff7be6bf1 in THashList::AddLast (this=this@entry=0x5be690, obj=obj@entry=0xee3bc0) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/cont/src/THashList.cxx:100; #17 0x00007ffff7c4e0d1 in TListOfDataMembers::AddLast (this=0x5be690, obj=0xee3bc0) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/meta/src/TListOfDataMembers.cxx:103; #18 0x00007ffff7ab8785 in TList::Add (obj=0xee3bc0, this=0x5be690) at /home/pcanal/root_builds/v6-14-00-patches/opt/include/TList.h:87; #19 TROOT::GetListOfGlobals (this=0x7ffff7da7a60 <ROOT::Internal::GetROOT1()::alloc>, load=load@entry=false) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/base/src/TROOT.cxx:1767; #20 0x00007fffeeab1058 in TCling::HandleNewDecl (this=0x4a0550, DV=0xedf238, isDeserialized=isDeserialized@entry=true, modifiedTClasses=...) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/metacling/src/TCling.cxx:555; #21 0x00007fffeeabb785 in TCling::UpdateListsOnCommitted (this=0x4a0550, T=...) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/metacling/src/TCling.cxx:6115; #22 0x00007fffeebd0103 in cling::MultiplexInterpreterCallbacks::TransactionCommitted (this=0x57fe20, T=...) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/interpreter/cling/lib/Interpreter/MultiplexInterpreterCallbacks.h:76; #23 0x00007fffeed05d71 in cling::IncrementalParser::commitTransaction (this=0x4a2980, PRT=..., ClearDiagClient=true) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/interpreter/cling/lib/Interpreter/IncrementalParser.cpp:532; #24 0x00007fff",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2776:6329,patch,patches,6329,https://root.cern,https://github.com/root-project/root/pull/2776,2,['patch'],['patches']
Deployability,"fffefbd7838 in cling::DynamicLibraryManager::loadLibrary(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, bool, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCling.so; #15 0x00007fffefb06b14 in TCling::Load(char const*, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCling.so; #16 0x00007ffff55908e6 in TSystem::Load(char const*, char const*, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #17 0x00007ffff551c9e3 in TROOT::LoadClass(char const*, char const*, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #18 0x00007fffefb05a65 in TCling::ShallowAutoLoadImpl(char const*) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCling.so; #19 0x00007fffefb1acd2 in TCling::DeepAutoLoadImpl(char const*, std::unordered_set<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > >&, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCling.so; #20 0x00007fffefb1b377 in TCling::AutoLoad(char const*, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCling.so; #21 0x00007ffff560ee86 in TClass::GetClass(char const*, bool, bool, unsigned long, unsigned long) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x8",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7657:4387,patch,patches,4387,https://root.cern,https://github.com/root-project/root/issues/7657,1,['patch'],['patches']
Deployability,"ffff05eafdf in ROOT::Internal::GetROOT2() () from /usr/lib/root/6.24/lib/libCore.so.6.24; #8 0x00007ffff06eee6c in TClass::GetClass(std::type_info const&, bool, bool, unsigned long, unsigned long) () from /usr/lib/root/6.24/lib/libCore.so.6.24; #9 0x00007ffff3529838 in o2::conf::ConfigurableParamHelper<o2::conf::KeyValParam>::putKeyValues (tree=0x5555556a24a0, this=0x7ffff35743e0 <o2::conf::KeyValParam::sInstance>) at /home/qon/alice/sw/SOURCES/O2/dev/0/Common/Utils/include/CommonUtils/ConfigurableParamHelper.h:138; #10 o2::conf::ConfigurableParam::initPropertyTree () at /home/qon/alice/sw/SOURCES/O2/dev/0/Common/Utils/src/ConfigurableParam.cxx:265; #11 0x00007ffff3529953 in o2::conf::ConfigurableParam::initialize () at /home/qon/alice/sw/SOURCES/O2/dev/0/Common/Utils/src/ConfigurableParam.cxx:357; #12 0x00007ffff352fbc5 in o2::conf::ConfigurableParam::updateFromFile (configFile="""", paramsList="""", unchangedOnly=unchangedOnly@entry=false) at /home/qon/alice/sw/SOURCES/O2/dev/0/Common/Utils/src/ConfigurableParam.cxx:386; #13 0x0000555555564294 in o2sim_init (asservice=<optimized out>) at /home/qon/alice/sw/SOURCES/O2/dev/0/run/../macro/o2sim.C:54; #14 0x00005555555673c3 in o2sim (asservice=asservice@entry=false) at /home/qon/alice/sw/SOURCES/O2/dev/0/run/../macro/o2sim.C:230; #15 0x000055555555f5bf in main (argc=-38592, argv=<optimized out>) at /home/qon/alice/sw/SOURCES/O2/dev/0/run/o2sim.cxx:30; ```; This is on 64 bit Gentoo Linux compiling ROOT myself with GCC 10.2.; I assume the llvm11 is pulled in by libgandiva of apache-arrow, which links to my system llvm. I do not see this problem with ROOT 6.22.08 (setup identical otherwise), so I assume it might be to the bump of the LLVM version in ROOT.; So far I have tried the 6.24.00 tag and the `v6-24-00-patches` branch, both with the same result. For reference, we had very similar issues quite a while ago, which was fixed by #4689, although perhaps now it is the other way around, with ROOT linking to my llvm11 symbols.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/8180:4491,patch,patches,4491,https://root.cern,https://github.com/root-project/root/issues/8180,1,['patch'],['patches']
Deployability,"figUnix::HandleSignal (this=0x7f060af75d80 <textinput::TerminalConfigUnix::Get()::s>, signum=11) at /build/jenkins/workspace/lcg_release_pipeline/build/projects/ROOT-6.30.04/src/ROOT/6.30.; #8 0x00007f060ac47736 in (anonymous namespace)::TerminalConfigUnix__handleSignal (signum=11) at /build/jenkins/workspace/lcg_release_pipeline/build/projects/ROOT-6.30.04/src/ROOT/6.30.04/core/textinput/src/textinput/TerminalConfigUnix.; #9 <signal handler called>; #10 0x00007f05fa744a7e in ?? (); #11 0x00007ffd45bee240 in ?? (); #12 0x00007f060b10d028 in ?? (); #13 0x00007ffd45bee270 in ?? (); #14 0x00007f05fa745920 in ?? (); #15 0x00007f060b10c1a0 in ?? (); #16 0x00007ffd45bee260 in ?? (); #17 0x00007ffd45bee2c0 in ?? (); #18 0x00007f05fa745b0d in ?? (); #19 0x000000000204fc10 in ?? (); #20 0x00000000133b2cc8 in ?? (); #21 0x00000000133b2cc0 in ?? (); #22 0x00007f060309016c in (anonymous namespace)::local_cxa_atexit(void (*)(void*), void*, cling::Interpreter*) () from /cvmfs/lhcb.cern.ch/lib/lcg/releases/ROOT/6.30.04-dd2db/x86_64-el9-gcc13-dbg/lib/libCling.so; #23 0x00007ffd45bee260 in ?? (); #24 0x00007f060b10d110 in ?? (); #25 0x00007f060b10d020 in ?? (); #26 0x00007f0607fe2e7a in ?? () from /cvmfs/lhcb.cern.ch/lib/lcg/releases/ROOT/6.30.04-dd2db/x86_64-el9-gcc13-dbg/lib/libCling.so; #27 0x00007f05fa741095 in ?? (); #28 0x00007f05fa740f20 in ?? (); #29 0x00007f060471d882 in (anonymous namespace)::GenericLLVMIRPlatformSupport::initialize(llvm::orc::JITDylib&) () from /cvmfs/lhcb.cern.ch/lib/lcg/releases/ROOT/6.30.04-dd2db/x86_64-el9-gcc13-dbg/lib/libCling.so; #30 0x00007f06031155f3 in cling::IncrementalExecutor::runStaticInitializersOnce(cling::Transaction&) () from /cvmfs/lhcb.cern.ch/lib/lcg/releases/ROOT/6.30.04-dd2db/x86_64-el9-gcc13-dbg/lib/libCling.so; #31 0x00007f0603092698 in cling::Interpreter::executeTransaction(cling::Transaction&) () from /cvmfs/lhcb.cern.ch/lib/lcg/releases/ROOT/6.30.04-dd2db/x86_64-el9-gcc13-dbg/lib/libCling.so; #32 0x00007f0603125b4a in cling::Inc",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15511:7491,release,releases,7491,https://root.cern,https://github.com/root-project/root/issues/15511,1,['release'],['releases']
Deployability,"finally working. This patch enables ROOT to preload all modules at startup time. In my; environment, this patch fixes 14 tests for runtime cxxmodules. Preloading all the modules has several advantages. 1. We do not have to; rely on rootmap files which don't support some features (namespaces and; templates) 2. Lookup would be faster because we don't have to do; trampoline via rootmap files. The only disadvantage of preloading all the modules is the startup time performance.; `root.exe -q -l memory.C`; This is a release build without modules:; ```; cpu time = 0.091694 seconds; sys time = 0.026187 seconds; res memory = 133.008 Mbytes; vir memory = 217.742 Mbytes; ```; This is a release build with modules, with this patch:; ```; cpu time = 0.234134 seconds; sys time = 0.066774 seconds; res memory = 275.301 Mbytes; vir memory = 491.832 Mbytes; ```; As you can see, preloading all the modules makes both time and memory 2; to 3 times worse **at a startup time**. **Edit** : With hsimple.C; `root.exe -l -b tutorials/hsimple.C -q ~/CERN/ROOT/memory.C`; Release build without modules:; ```; Processing tutorials/hsimple.C... ; hsimple : Real Time = 0.04 seconds Cpu Time = 0.05 seconds ; (TFile *) 0x555ae2a9d560 ; Processing /home/yuka/CERN/ROOT/memory.C... ; cpu time = 0.173591 seconds ; sys time = 0.011835 seconds ; res memory = 135.32 Mbytes ; vir memory = 209.664 Mbytes ; ```; Release build with modules, with this patch:; ```; Processing tutorials/hsimple.C...; hsimple : Real Time = 0.04 seconds Cpu Time = 0.04 seconds; (TFile *) 0x55d1b036d230; Processing /home/yuka/CERN/ROOT/memory.C...; cpu time = 0.290742 seconds; sys time = 0.043851 seconds; res memory = 256.844 Mbytes; vir memory = 438.484 Mbytes; ```. However, it is a matter of course that we get slower startup time if we; try to load all the modules at startup time, not on-demand. I haven't had a good benchmark for this but, in theory, it reduces execution time instead as we're anyway loading modules after the startup.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1814:1270,Release,Release,1270,https://root.cern,https://github.com/root-project/root/pull/1814,3,"['Release', 'patch']","['Release', 'patch']"
Deployability,"find_file without NO_DEFAULT_PATH searches pretty much the whole; file system for the given file. As we are looking for a root; header here that we then turn into a dictionary, copy and install; it we should probably limit us to just the ROOT directories here.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/948:186,install,install,186,https://root.cern,https://github.com/root-project/root/pull/948,1,['install'],['install']
Deployability,"fix a bug in excluding underflow bin when computing shortest interval in BayesianCalculator::ComputeShortestInterval. Before the underflow bin was included and the last bin excluded. ; Normally the underflow bin of the posterior histogram will be empty, but the last bin not and a difference could be observed in the computed interval.; The reference file of stressRooStats needs to be updated ; This fixes problem reported in ROOT-4619",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3402:386,update,updated,386,https://root.cern,https://github.com/root-project/root/pull/3402,1,['update'],['updated']
Deployability,fix root 9762 on v6-14-00-patches,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2929:26,patch,patches,26,https://root.cern,https://github.com/root-project/root/pull/2929,1,['patch'],['patches']
Deployability,fixes #11190. # This Pull request:. ## Changes or fixes:. ## Checklist:. - [x] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14109:109,update,updated,109,https://root.cern,https://github.com/root-project/root/pull/14109,1,['update'],['updated']
Deployability,fixes #13965. # This Pull request:. ## Changes or fixes:. ## Checklist:. - [x] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #13965,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14451:109,update,updated,109,https://root.cern,https://github.com/root-project/root/pull/14451,1,['update'],['updated']
Deployability,fixing issue. # This Pull request:. ## Changes or fixes:; https://github.com/root-project/root/issues/14914. ## Checklist:. - [ ] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14915:160,update,updated,160,https://root.cern,https://github.com/root-project/root/pull/14915,1,['update'],['updated']
Deployability,"fo const&, TVirtualIsAProxy*, char const*, char const*, int, int, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #8 0x00007ffff561a48a in ROOT::CreateClass(char const*, short, std::type_info const&, TVirtualIsAProxy*, char const*, char const*, int, int) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #9 0x00007ffff562906a in ROOT::TGenericClassInfo::GetClass() (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #10 0x00007ffff560ee22 in TClass::GetClass(char const*, bool, bool, unsigned long, unsigned long) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #11 0x00007ffff563608a in TProtoClass::FillTClass(TClass*) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #12 0x00007ffff56188e5 in TClass::Init(char const*, short, std::type_info const*, TVirtualIsAProxy*, char const*, char const*, int, int, ClassInfo_t*, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #13 0x00007ffff5619f76 in TClass::TClass(char const*, short, std::type_info const&, TVirtualIsAProxy*, char const*, char const*, int, int, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #14 0x00007ffff561a48a in ROOT::CreateClass(char const*, short, std::type_info const&, TVirtualIsAProxy*, char const*, char const*, int, int) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #15 0x00007ffff562906a in ROOT::TGenericClassInfo::GetClass() (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patc",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7657:14354,patch,patches,14354,https://root.cern,https://github.com/root-project/root/issues/7657,1,['patch'],['patches']
Deployability,"for copyright info; ==22765== Command: root.exe -e #define\ ClingWorkAroundPrintfIssues -e #define\ ClingWorkAroundLackOfModule -e #define\ ClingWorkAroundProxyConfusion -e #define\ ClingWorkAroundMissingDynamicScope -e #define\ ClingWorkAroundMultipleInclude -e #define\ ClingWorkAroundAutoParseUsingNamespace -e #define\ ClingWorkAroundExtraParensWithImplicitAuto -e #define\ ClingWorkAroundNoPrivateClassIO -e #define\ ClingWorkAroundBrokenUnnamedReturn -e #define\ ClingWorkAroundUnnamedDetection2 -e #define\ ClingWorkAroundUnnamedInclude -e #define\ ClingWorkAroundJITfullSymbolResolution -e #define\ ClingWorkAroundNoDotNamespace -e #define\ ClingWorkAroundNoDotInclude -e #define\ ClingWorkAroundTClassUpdateDouble32 -e #define\ ClingWorkAroundUnloadingVTABLES -q -l -b assertSparseSelection.C; ==22765== . Processing assertSparseSelection.C...; ==22765== Conditional jump or move depends on uninitialised value(s); ==22765== at 0x9D9A01A: llvm::ConstantExpr::getGetElementPtr(llvm::Type*, llvm::Constant*, llvm::ArrayRef<llvm::Value*>, bool, llvm::Optional<unsigned int>, llvm::Type*) (in /build/vvassilev/root-release-master/lib/libCling.so); ==22765== by 0x93F2CBA: (anonymous namespace)::SymbolicallyEvaluateGEP(llvm::GEPOperator const*, llvm::ArrayRef<llvm::Constant*>, llvm::DataLayout const&, llvm::TargetLibraryInfo const*) (in /build/vvassilev/root-release-master/lib/libCling.so); ==22765== by 0x93F35A1: (anonymous namespace)::ConstantFoldInstOperandsImpl(llvm::Value const*, unsigned int, llvm::ArrayRef<llvm::Constant*>, llvm::DataLayout const&, llvm::TargetLibraryInfo const*) (in /build/vvassilev/root-release-master/lib/libCling.so); ==22765== by 0x93F15DF: (anonymous namespace)::ConstantFoldConstantImpl(llvm::Constant const*, llvm::DataLayout const&, llvm::TargetLibraryInfo const*, llvm::SmallDenseMap<llvm::Constant*, llvm::Constant*, 4u, llvm::DenseMapInfo<llvm::Constant*>, llvm::detail::DenseMapPair<llvm::Constant*, llvm::Constant*> >&) (in /build/vvassilev/root-rele",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11385:2165,release,release-master,2165,https://root.cern,https://github.com/root-project/root/issues/11385,1,['release'],['release-master']
Deployability,"for existing reports of your issue. If you find one, you are very welcome to add to the existing report, for instance ""issue still exists in today's master"".; -->. ### Describe the bug; <!--; A clear and concise description of what the wrong behavior is.; -->; I tried to create ""additional"" datasets for one RooFit sample. They do not show up in the XML file (and it seems also not in the root file of the model). When discussing this with @cburgard , we found that the `fAdditionalData` member of `Channel` [is supposed to hold additional datasets to be added to the XML](https://github.com/root-project/root/blob/c8d49336b666355553879aea9448f7e9588ecb5e/roofit/histfactory/inc/RooStats/HistFactory/Channel.h#L96), but [is never used in `Channel::XML](https://github.com/root-project/root/blob/c8d49336b666355553879aea9448f7e9588ecb5e/roofit/histfactory/src/Channel.cxx#L105). ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->; The additional datasets also get exported to XML/rootfile/etc.; ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->; Add an additional data sample to a workspace, save it. I have modified one of the python examples so that it should reproduce this issue.; It was first discovered in our analysis framework.; [histfactoryxmlexport.py.txt](https://github.com/root-project/root/files/8641363/histfactoryxmlexport.py.txt). ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->; Both with ROOT 6.20/06 from `AnalysisBase,21.2.204` and ROOT 6.24/06 from [LCG_101_ATLAS_20](https://lcginfo.cern.ch/release/101_ATLAS_20/); ### Additional context; <!--; Add any other context about the problem here.; -->",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10538:1918,install,install,1918,https://root.cern,https://github.com/root-project/root/issues/10538,2,"['install', 'release']","['install', 'release']"
Deployability,"found; # fatal error: could not build module '_Builtin_intrinsics'; ""-Druntime_cxxmodules=OFF""; ];. NIX_LDFLAGS = lib.optionalString (stdenv.isLinux && stdenv.isAarch64 && stdenv.cc.isGNU) ""-lgcc"";. postInstall = ''; for prog in rootbrowse rootcp rooteventselector rootls rootmkdir rootmv rootprint rootrm rootslimtree; do; wrapProgram ""$out/bin/$prog"" \; --set PYTHONPATH ""$out/lib"" \; --set ${lib.optionalString stdenv.isDarwin ""DY""}LD_LIBRARY_PATH ""$out/lib""; done. # Make ldd and sed available to the ROOT executable; wrapProgram ""$out/bin/root"" --prefix PATH : ""${lib.makeBinPath [; gnused # sed; stdenv.cc # c++ ld etc.; stdenv.cc.libc # ldd; ]}"". # Patch thisroot.{sh,csh,fish}. # The main target of `thisroot.sh` is ""bash-like shells"",; # but it also need to support Bash-less POSIX shell like dash,; # as they are mentioned in `thisroot.sh`. # `thisroot.sh` would include commands `lsof` and `procps` since ROOT 6.28.; # See https://github.com/root-project/root/pull/10332. patchRcPathPosix ""$out/bin/thisroot.sh"" ""${lib.makeBinPath [; coreutils # dirname tail; gnugrep # grep; gnused # sed; lsof # lsof # for ROOT (>=6.28); man # manpath; procps # ps # for ROOT (>=6.28); which # which; ]}""; patchRcPathCsh ""$out/bin/thisroot.csh"" ""${lib.makeBinPath [; coreutils; gnugrep; gnused; lsof # lsof # for ROOT (>=6.28); man; which; ]}""; patchRcPathFish ""$out/bin/thisroot.fish"" ""${lib.makeBinPath [; coreutils; man; which; ]}""; '';. setupHook = ./setup-hook.sh;; }; ```. `flake.nix`. ```Nix; {; inputs.flake-utils.url = ""github:numtide/flake-utils"";; inputs.nixpkgs.url = ""github:NixOS/nixpkgs/2787fc7d1e51404678614bf0fe92fc296746eec0"";. outputs = { flake-utils, nixpkgs, ... }: flake-utils.lib.eachDefaultSystem (system:; let; lib = nixpkgs.lib;; pkgs = nixpkgs.legacyPackages.${system};; root = with pkgs; callPackage ./. {; python = python3;; inherit (darwin.apple_sdk.frameworks) Cocoa CoreSymbolication OpenGL;; # https://github.com/NixOS/nixpkgs/issues/201254; stdenv = if stdenv.isLinux && ",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11920:8132,patch,patchRcPathPosix,8132,https://root.cern,https://github.com/root-project/root/issues/11920,1,['patch'],['patchRcPathPosix']
Deployability,"from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #21 0x00007f174c7d8830 in clang::Parser::ParseExternalDeclaration(clang::ParsedAttributesWithRange&, clang::ParsingDeclSpec*) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #22 0x00007f174c7d9900 in clang::Parser::ParseTopLevelDecl(clang::OpaquePtr<clang::DeclGroupRef>&, bool) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #23 0x00007f174be0d87a in cling::IncrementalParser::ParseInternal(llvm::StringRef) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #24 0x00007f174be0e9b0 in cling::IncrementalParser::Compile(llvm::StringRef, cling::CompilationOptions const&) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #25 0x00007f174bd71127 in cling::Interpreter::EvaluateInternal(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, cling::CompilationOptions, cling::Value*, cling::Transaction**, unsigned long) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #26 0x00007f174bd7152d in cling::Interpreter::process(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, cling::Value*, cling::Transaction**, bool) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #27 0x00007f174be638ab in cling::MetaProcessor::process(llvm::StringRef, cling::Interpreter::CompilationResult&, cling::Value*, bool) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #28 0x00007f174bc85e4d in HandleInterpreterException (metaProcessor=0x55fecea7b020, input_line=0x55fecfb58800 ""#line 1 \""ROOT_prompt_2\""\nEvents"", compRes=; 0x7ffd9df7f23c: cling::Interpreter::kSuccess, result=result; entry=0x7ffd9df7f250) at ../core/metacling/src/TCling.cxx:2428; #29 0x00007f174bca2557 in TCling::ProcessLine (this=0x55fecde8e9d0, ",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12673:5775,install,install,5775,https://root.cern,https://github.com/root-project/root/issues/12673,1,['install'],['install']
Deployability,"from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:29:; In file included from <module-includes>:1:; /home/razorr/Softwares/Installed/HEP/Root/build/include/ThreadLocalStorage.h:60:10: fatal error: could not build module 'ROOT_Rtypes'; #include ""RtypesCore.h""; ~~~~~~~~^~~~~~~~~~~~~~; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/string_view:40:10: note: submodule of top-level module 'std' implicitly imported here; #include <iosfwd>; ^; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/char_traits.h:39:10: note: submodule of top-level module 'std' implicitly imported here; #include <bits/stl_algobase.h> // std::copy, std::fill_n; ^; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/postypes.h:40:10: note: submodule of top-level module 'std' implicitly imported here; #include <cwchar> // For mbstate_t; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/postypes.h:68:15: error: expected '{'; namespace std _",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10528:21043,Install,Installed,21043,https://root.cern,https://github.com/root-project/root/issues/10528,1,['Install'],['Installed']
Deployability,"fs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #7 0x00007ffff5619f76 in TClass::TClass(char const*, short, std::type_info const&, TVirtualIsAProxy*, char const*, char const*, int, int, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #8 0x00007ffff561a48a in ROOT::CreateClass(char const*, short, std::type_info const&, TVirtualIsAProxy*, char const*, char const*, int, int) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #9 0x00007ffff562906a in ROOT::TGenericClassInfo::GetClass() (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #10 0x00007ffff560ee22 in TClass::GetClass(char const*, bool, bool, unsigned long, unsigned long) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #11 0x00007ffff563608a in TProtoClass::FillTClass(TClass*) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #12 0x00007ffff56188e5 in TClass::Init(char const*, short, std::type_info const*, TVirtualIsAProxy*, char const*, char const*, int, int, ClassInfo_t*, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #13 0x00007ffff5619f76 in TClass::TClass(char const*, short, std::type_info const&, TVirtualIsAProxy*, char const*, char const*, int, int, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #14 0x00007ffff561a48a in ROOT::CreateClass(char const*, short, std::type_info const&, TVirtualIsAProxy*, char const*, char const*, int, int) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7657:14172,patch,patches,14172,https://root.cern,https://github.com/root-project/root/issues/7657,1,['patch'],['patches']
Deployability,ft operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Assuming the condition is false in /opt/root_src/core/meta/src/TSchemaRule.cxx:601; 2: Taking false branch in /opt/root_src/core/meta/src/TSchemaRule.cxx:601; 3: Assuming field 'fIncludeVect' is null in /opt/root_src/core/meta/src/TSchemaRule.cxx:604; 4: Taking true branch in /opt/root_src/core/meta/src/TSchemaRule.cxx:604; 5: Calling 'TSchemaRule::ProcessList' in /opt/root_src/core/meta/src/TSchemaRule.cxx:607; 6: Assuming the condition is false in /opt/root_src/core/meta/src/TSchemaRule.cxx:961; 7: Taking false branch in /opt/root_src/core/meta/src/TSchemaRule.cxx:961; 8: Loop condition is true. Entering loop body in /opt/root_src/core/meta/src/TSchemaRule.cxx:964; 9: Calling default constructor for 'TObjString' in /opt/root_src/core/meta/src/TSchemaRule.cxx:966; 10: Calling default constructor for 'TObject' in /opt/root_src/core/base/inc/TObjString.h:34; 11: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 12: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 13: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Calling constructor for 'TGeoBatemanSol' in /opt/root_src/geom/geom/src/TGeoElement.cxx:554; 2: Calling default constructor for 'TObject' in /opt/root_src/geom/geom/src/TGeoElement.cxx:1377; 3: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 4: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 5: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:3029,Update,UpdateIsOnHeap,3029,https://root.cern,https://github.com/root-project/root/issues/7412,1,['Update'],['UpdateIsOnHeap']
Deployability,ft operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Calling 'TVector3::Cross' in /opt/root_src/math/physics/src/TQuaternion.cxx:405; 2: Calling constructor for 'TVector3' in /opt/root_src/math/physics/inc/TVector3.h:336; 3: Calling default constructor for 'TObject' in /opt/root_src/math/physics/inc/TVector3.h:253; 4: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 5: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 6: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Calling constructor for 'TVector3' in /opt/root_src/math/physics/src/TRotation.cxx:759; 2: Calling default constructor for 'TObject' in /opt/root_src/math/physics/inc/TVector3.h:253; 3: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 4: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 5: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Calling 'TVector3::operator*=' in /opt/root_src/math/physics/src/TVector3.cxx:293; 2: Calling 'TRotation::operator*' in /opt/root_src/math/physics/src/TVector3.cxx:184; 3: Calling constructor for 'TVector3' in /opt/root_src/math/physics/inc/TRotation.h:258; 4: Calling default constructor for 'TObject' in /opt/root_src/math/physics/inc/TVector3.h:253; 5: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 6: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 7: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStora,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:45572,Update,UpdateIsOnHeap,45572,https://root.cern,https://github.com/root-project/root/issues/7412,1,['Update'],['UpdateIsOnHeap']
Deployability,ft operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Calling 'RooMultiVarGaussian::genData' in /opt/root_src/roofit/roofitcore/src/RooMultiVarGaussian.cxx:434; 2: Taking false branch in /opt/root_src/roofit/roofitcore/src/RooMultiVarGaussian.cxx:503; 3: Assuming the condition is false in /opt/root_src/roofit/roofitcore/src/RooMultiVarGaussian.cxx:510; 4: Taking false branch in /opt/root_src/roofit/roofitcore/src/RooMultiVarGaussian.cxx:510; 5: Calling default constructor for 'TMatrixTSym<double>' in /opt/root_src/roofit/roofitcore/src/RooMultiVarGaussian.cxx:536; 6: Calling default constructor for 'TMatrixTBase<double>' in /opt/root_src/math/matrix/inc/TMatrixTSym.h:54; 7: Calling default constructor for 'TObject' in /opt/root_src/math/matrix/inc/TMatrixTBase.h:115; 8: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 9: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 10: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Assuming 'det' is > 0 in /opt/root_src/roofit/roofitcore/src/RooFitResult.cxx:1266; 2: Taking false branch in /opt/root_src/roofit/roofitcore/src/RooFitResult.cxx:1266; 3: Loop condition is false. Execution continues on line 1284 in /opt/root_src/roofit/roofitcore/src/RooFitResult.cxx:1276; 4: Loop condition is false. Execution continues on line 1294 in /opt/root_src/roofit/roofitcore/src/RooFitResult.cxx:1289; 5: Assuming the condition is false in /opt/root_src/roofit/roofitcore/src/RooFitResult.cxx:1298; 6: Taking false branch in /opt/root_src/roofit/roofitcore/src/RooFitResult.cxx:1298; 7: Assuming t,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:70959,Update,UpdateIsOnHeap,70959,https://root.cern,https://github.com/root-project/root/issues/7412,1,['Update'],['UpdateIsOnHeap']
Deployability,"g a number of unit test failures in the dev4LCG/el9 nightlies; (which use root-6.28.00-patches); that are linked to trying to operate on Eigen objects from pyroot.; I've managed to reduce this to a simple, standalone example, which reveals; that the issue has to do with a template overload for operator(). The reproducer is in the attached archive. The included setup script; should be appropriate for lxplus9.; Run:. $ . ./setup; $ ./build.sh; $ python test.py. and it crashes with a segmentation violation. From gdb, the stack trace is:. ```; #0 0x00007ffff7558f13 in std::construct_at<CPyCppyy::PyCallable*, CPyCppyy::PyCallable* const&> (__location=0x5f3a3a676e697274); at /cvmfs/sft.cern.ch/lcg/releases/gcc/13.1.0-b3d18/x86_64-el9/include/c++/13.1.0/bits/stl_construct.h:97; #1 0x00007ffff75588c3 in std::allocator_traits<std::allocator<CPyCppyy::PyCallable*> >::construct<CPyCppyy::PyCallable*, CPyCppyy::PyCallable* const&> (; __p=0x5f3a3a676e697274, __a=...); at /cvmfs/sft.cern.ch/lcg/releases/gcc/13.1.0-b3d18/x86_64-el9/include/c++/13.1.0/bits/alloc_traits.h:539; #2 std::vector<CPyCppyy::PyCallable*, std::allocator<CPyCppyy::PyCallable*> >::push_back (this=0x7ffff75ba167, __x=@0x7fffffff7c40: 0x73abec0); at /cvmfs/sft.cern.ch/lcg/releases/gcc/13.1.0-b3d18/x86_64-el9/include/c++/13.1.0/bits/stl_vector.h:1281; #3 0x00007ffff75624a9 in CPyCppyy::CPPOverload::AdoptMethod (; this=0x7ffff75fe9a0 <CPyCppyy::TemplateProxy_Type>, pc=0x73abec0); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-28-00-patches/src/ROOT/v6-28-00-patches/bindings/pyroot/cppyy/CPyCppyy/src/CPPOverload.cxx:946; #4 0x00007ffff759fb6a in CPyCppyy::TemplateProxy::AdoptMethod (; this=0x7fffd65c01f0, pc=0x73abec0); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-28-00-patches/src/ROOT/v6-28-00-patches/bindings/pyroot/cppyy/CPyCppyy/src/TemplateProxy.cxx:111; #5 0x00007ffff758ffea in CPyCppyy::BuildScopeProxyDict (scope=18, ; pyclass=0x1335040); at /build/jenkins",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13410:1091,release,releases,1091,https://root.cern,https://github.com/root-project/root/issues/13410,1,['release'],['releases']
Deployability,"g from this week, my PyROOT/RooFit scripts with complicated PDFs with multiple components produce segmentation faults for `plotOn` invocation. Unfortunately I can not reproduce the problem with simple PDFs. ; There were no problem with last week nighlies as well as there are no problems with any released verisons of ROOT. - [ ] Checked for duplicates; <!--; Please search in; * [GitHub](https://github.com/root-project/root/issues?q=is%3Aissue); * AND [Jira](https://sft.its.cern.ch/jira/issues/?jql=project %3D ROOT); for existing reports of your issue. If you find one, you are very welcome to add to the existing report, for instance ""issue still exists in today's master"".; -->. ### Describe the bug; <!--; A clear and concise description of what the wrong behavior is.; -->. Segmentation fault for drawing complicated multicomponent PDFs in PyROOT/RooFit in calling for `plotOn` method.; Problem appears from the start of this week. There were no problem till with last week nightlies ; as well as there are no problems with any released versions of ROOT. . ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->. ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->. 1. ROOT version 6.25.01 from dev3 nightlies slot ; 2. lxplus.cern.ch ; 3. LCG nightlies dev3 slot . ### Additional context; <!--; Add any other context about the problem here.; -->. There are no problems with any released ROOT versions, and my tests with dev-3 LCG nightly slot till the mid mid of the previous week were successfull (unfortnuately I'venot run test Last Thursday and Friday). There are ",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/8474:1088,release,released,1088,https://root.cern,https://github.com/root-project/root/issues/8474,1,['release'],['released']
Deployability,"g happen when trying to`import ROOT` in Python, on macOS : . ```; Python 3.9.6 (default, Mar 29 2024, 10:51:09); [Clang 15.0.0 (clang-1500.3.9.4)] on darwin; Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.; >>> import ROOT; Traceback (most recent call last):; File ""<stdin>"", line 1, in <module>; File ""/Users/laurent/github.com/root-project/install-2/lib/root/ROOT/__init__.py"", line 25, in <module>; import cppyy; File ""/Users/laurent/github.com/root-project/install-2/lib/root/cppyy/__init__.py"", line 81, in <module>; from ._cpython_cppyy import *; File ""/Users/laurent/github.com/root-project/install-2/lib/root/cppyy/_cpython_cppyy.py"", line 21, in <module>; c = loader.load_cpp_backend(); File ""/Users/laurent/github.com/root-project/install-2/lib/root/cppyy_backend/loader.py"", line 79, in load_cpp_backend; raise RuntimeError(""could not load cppyy_backend library""); RuntimeError: could not load cppyy_backend library; >>> quit(); ```. resulting libraries are installed under `someinstalldir/lib/root`. . ### Reproducer. ```; git clone https://github.com/root-project/root; cd root; mkdir build; cmake ../root -DCMAKE_GENERATOR=Ninja -DCMAKE_INSTALL_PREFIX=../install-2 -Dxrootd=OFF -Dgnuinstall=ON; source ../install-2/thisroot.sh; python3 -c 'import ROOT'; ```. (by setting gnuinstall=OFF import ROOT does work). ### ROOT version. ```; ---------------------------------------------------------------------------; | Welcome to ROOT 6.33.01 https://root.cern |; | (c) 1995-2024, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built for macosxarm64 on Jun 25 2024, 12:00:47 |; | From heads/macos-python-import-root-gnuinstall@v6-31-01-2416-gb4c9e549e1 |; | With Apple clang version 15.0.0 (clang-1500.3.9.4) |; | Try '.help'/'.?', '.demo', '.license', '.credits', '.quit'/'.q' |; ---------------------------------------------------------------------------. ```. ### Installation method. built from source. ### Operating system. macOS Sonoma 14.5. ### Additional ",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15924:1118,install,installed,1118,https://root.cern,https://github.com/root-project/root/issues/15924,1,['install'],['installed']
Deployability,"g module 'Core':; While building module 'Cling_Runtime' imported from input_line_2:1:; While building module 'Cling_Runtime_Extra' imported from /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/RuntimeUniverse.h:27:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Visibility.h:13:10: note: submodule of top-level module 'std' implicitly imported here; #include <new>; ^; While building module 'Core':; While building module 'Cling_Runtime' imported from input_line_2:1:; While building module 'Cling_Runtime_Extra' imported from /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/RuntimeUniverse.h:27:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:17:10: note: submodule of top-level module 'std' implicitly imported here; #include <type_traits>; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:93:41: error: use of undeclared identifier 'std'; template <class T, class = typename std::enable_if<std::is_integral<T>::value>::type>; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:93:56: error: use of undeclared identifier 'std'; template <class T, class = typename std::enable_if<std::is_integral<T>::value>::type>; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:93:83: error: expected ',' or '>' in template-parameter-list; template <class T, class = typename std::enable_if<std::is_integral<T>::value>::type>; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:95:14: error: use of undeclared identifier 'std'; return std::is_signed<T>::value; ^; /home/razorr/Softwares/In",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10528:16737,Install,Installed,16737,https://root.cern,https://github.com/root-project/root/issues/10528,1,['Install'],['Installed']
Deployability,"g.so); ==22765== by 0x93F15DF: (anonymous namespace)::ConstantFoldConstantImpl(llvm::Constant const*, llvm::DataLayout const&, llvm::TargetLibraryInfo const*, llvm::SmallDenseMap<llvm::Constant*, llvm::Constant*, 4u, llvm::DenseMapInfo<llvm::Constant*>, llvm::detail::DenseMapPair<llvm::Constant*, llvm::Constant*> >&) (in /build/vvassilev/root-release-master/lib/libCling.so); ==22765== by 0x93F38B7: llvm::ConstantFoldInstruction(llvm::Instruction*, llvm::DataLayout const&, llvm::TargetLibraryInfo const*) (in /build/vvassilev/root-release-master/lib/libCling.so); ==22765== by 0x91305C5: AddReachableCodeToWorklist(llvm::BasicBlock*, llvm::DataLayout const&, llvm::SmallPtrSetImpl<llvm::BasicBlock*>&, llvm::InstCombineWorklist&, llvm::TargetLibraryInfo const*) (in /build/vvassilev/root-release-master/lib/libCling.so); ==22765== by 0x9139861: combineInstructionsOverFunction(llvm::Function&, llvm::InstCombineWorklist&, llvm::AAResults*, llvm::AssumptionCache&, llvm::TargetLibraryInfo&, llvm::DominatorTree&, llvm::OptimizationRemarkEmitter&, llvm::BlockFrequencyInfo*, llvm::ProfileSummaryInfo*, bool, llvm::LoopInfo*) (in /build/vvassilev/root-release-master/lib/libCling.so); ==22765== by 0x913A00E: llvm::InstructionCombiningPass::runOnFunction(llvm::Function&) (in /build/vvassilev/root-release-master/lib/libCling.so); ==22765== by 0x9E4CCC7: llvm::FPPassManager::runOnFunction(llvm::Function&) (in /build/vvassilev/root-release-master/lib/libCling.so); ==22765== by 0x9E4CE00: llvm::FPPassManager::runOnModule(llvm::Module&) (in /build/vvassilev/root-release-master/lib/libCling.so); ==22765== by 0x9E4BEE5: llvm::legacy::PassManagerImpl::run(llvm::Module&) (in /build/vvassilev/root-release-master/lib/libCling.so); ==22765== by 0x6F12B5A: cling::IncrementalExecutor::runStaticInitializersOnce(cling::Transaction&) (in /build/vvassilev/root-release-master/lib/libCling.so); ==22765== ; ==22765== Warning: set address range perms: large range [0x1cfd0000, 0x31242000) (defined); ==22765=",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11385:3849,release,release-master,3849,https://root.cern,https://github.com/root-project/root/issues/11385,1,['release'],['release-master']
Deployability,"g/fixing values, the .Draw() options shows that the red fit line somehow is drawn as if slope is positive. seems like a typo in the library somewhere... OUTPUT of the code; ```; FCN=2.0002 FROM MIGRAD STATUS=CONVERGED 193 CALLS 194 TOTAL; EDM=3.27759e-006 STRATEGY= 1 ERROR MATRIX ACCURATE; EXT PARAMETER STEP FIRST; NO. NAME VALUE ERROR SIZE DERIVATIVE; 1 p0 -3.92352e+004 3.69975e+005 4.36167e+000 -1.48093e-007; 2 p1 1.96154e+004 1.84897e+005 3.42375e+000 -3.06657e-007; <ROOT.TFitResultPtr object at 0x16B2CEE8>. ```; both p1 and p0 are BS. ### Reproducer. ```; import ROOT, numpy; x=numpy.array([1,2,3.0]); xerr=numpy.array([1,1,1.0]); yerr=numpy.array([0.1,0.1,0.1]); y=numpy.array([6.0,5,4]); a=ROOT.TGraphErrors(len(x),x,y,xerr,yerr); a.Fit(""pol1"", ""V""). ```; ### ROOT version. ```; ROOT Version 5.34/38 12 March 2018 (on WINDOWS); Python 2.7.16 (v2.7.16:413a49145e, Mar 4 2019, 01:30:55) [MSC v.1500 32 bit (Intel)] on win32; numpy in c:\python27\lib\site-packages (1.16.6); ```. ### Installation method. from package installer (windows) VS13. ### Operating system. Windows 11. ### Additional context. tested with; ROOT 6.26/10 complied from source on Ubuntu LTS 2022; Python 3.10.6 (main, May 29 2023, 11:10:38) [GCC 11.3.0] on linux; same error!. ```; a.Fit(""pol1"",""V""). **********. ** 10 **SET NOGRAD. **********. PARAMETER DEFINITIONS:. NO. NAME VALUE STEP SIZE LIMITS. 1 p0 -3.92352e+04 3.69975e+05 no limits. 2 p1 1.96154e+04 1.84897e+05 no limits. **********. ** 11 **SET ERR 1. **********. **********. ** 12 **SET PRINT 2. **********. **********. ** 13 **SET STR 1. **********. NOW USING STRATEGY 1: TRY TO BALANCE SPEED AGAINST RELIABILITY. **********. ** 14 **MIGRAD 1220 0.01. **********. FIRST CALL TO USER FUNCTION AT NEW START POINT, WITH IFLAG=4. START MIGRAD MINIMIZATION. STRATEGY 1. CONVERGENCE WHEN EDM .LT. 1.00e-05. FCN=2.0002 FROM MIGRAD STATUS=INITIATE 10 CALLS 11 TOTAL. EDM= unknown STRATEGY= 1 NO ERROR MATRIX . EXT PARAMETER CURRENT GUESS STEP FIRST . NO. NAME VALU",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13895:1286,Install,Installation,1286,https://root.cern,https://github.com/root-project/root/issues/13895,1,['Install'],['Installation']
Deployability,"g/lib/libCling.so); ==290973== by 0x6F468D4: cling::MetaParser::isCommand(cling::MetaSema::ActionResult&, cling::Value*) (in /home/vpadulan/Programs/rootproject/rootbuild/fix-tutorial-tmva-cnn-classification-testing/lib/libCling.so); ==290973== by 0x6F2EF9F: cling::MetaProcessor::process(llvm::StringRef, cling::Interpreter::CompilationResult&, cling::Value*, bool) (in /home/vpadulan/Programs/rootproject/rootbuild/fix-tutorial-tmva-cnn-classification-testing/lib/libCling.so); ==290973== by 0x6C20B67: HandleInterpreterException(cling::MetaProcessor*, char const*, cling::Interpreter::CompilationResult&, cling::Value*) (TCling.cxx:2438); ==290973== by 0x6C215B6: TCling::ProcessLine(char const*, TInterpreter::EErrorCode*) (TCling.cxx:2582); ==290973== by 0x6C24E6E: TCling::ProcessLineSynch(char const*, TInterpreter::EErrorCode*) (TCling.cxx:3545); ==290973== by 0x4C06042: TApplication::ExecuteFile(char const*, int*, bool) (TApplication.cxx:1865); ==290973== by 0x4C0586B: TApplication::ProcessFile(char const*, int*, bool) (TApplication.cxx:1737); ==290973== by 0x4C05680: TApplication::ProcessLine(char const*, bool, int*) (TApplication.cxx:1710); ==290973== by 0x487A58F: TRint::ProcessLineNr(char const*, char const*, int*) (TRint.cxx:820); ==290973== by 0x4878CD2: TRint::Run(bool) (TRint.cxx:461); ==290973== by 0x401446: main (rmain.cxx:84); ==290973== Uninitialised value was created by a stack allocation; ==290973== at 0x4F950B4: ???; ==290973== ; ```. Where `AddTree` ultimately calls into `AddDataset` . https://github.com/root-project/root/blob/224551cf3fc5bdc80b2693578d082eb9cb0e32a3/tmva/tmva/src/DataLoader.cxx#L360. ### Reproducer. ```; valgrind --track-origin=yes --num-callers=30 --suppressions=$ROOTSYS/etc/valgrind-root.supp --suppressions=$ROOTSYS/etc/valgrind-root-python.supp root.exe -l -b -q $ROOTSYS/tutorials/tmva/TMVA_CNN_Classification.C; ```. ### ROOT version. any. ### Installation method. any. ### Operating system. any. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14433:4441,Install,Installation,4441,https://root.cern,https://github.com/root-project/root/issues/14433,1,['Install'],['Installation']
Deployability,"g/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCling.so; #3 0x00007fffefb06c54 in TCling::GetInterpreterTypeName(char const*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, bool); (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCling.so; #4 0x00007ffff560f184 in TClass::GetClass(char const*, bool, bool, unsigned long, unsigned long) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #5 0x00007ffff563608a in TProtoClass::FillTClass(TClass*) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #6 0x00007ffff56188e5 in TClass::Init(char const*, short, std::type_info const*, TVirtualIsAProxy*, char const*, char const*, int, int, ClassInfo_t*, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #7 0x00007ffff5619f76 in TClass::TClass(char const*, short, std::type_info const&, TVirtualIsAProxy*, char const*, char const*, int, int, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #8 0x00007ffff561a48a in ROOT::CreateClass(char const*, short, std::type_info const&, TVirtualIsAProxy*, char const*, char const*, int, int) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #9 0x00007ffff562906a in ROOT::TGenericClassInfo::GetClass() (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #10 0x00007ffff560ee22 in TClass::GetClass(char const*, bool, bool, unsigned long, unsigned long) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #11 0x00007ffff563",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7657:13236,patch,patches,13236,https://root.cern,https://github.com/root-project/root/issues/7657,1,['patch'],['patches']
Deployability,"g::HandleNewDecl (this=0x4a0550, DV=0xedf238, isDeserialized=isDeserialized@entry=true, modifiedTClasses=...) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/metacling/src/TCling.cxx:555; #21 0x00007fffeeabb785 in TCling::UpdateListsOnCommitted (this=0x4a0550, T=...) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/metacling/src/TCling.cxx:6115; #22 0x00007fffeebd0103 in cling::MultiplexInterpreterCallbacks::TransactionCommitted (this=0x57fe20, T=...) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/interpreter/cling/lib/Interpreter/MultiplexInterpreterCallbacks.h:76; #23 0x00007fffeed05d71 in cling::IncrementalParser::commitTransaction (this=0x4a2980, PRT=..., ClearDiagClient=true) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/interpreter/cling/lib/Interpreter/IncrementalParser.cpp:532; #24 0x00007fffeed06399 in cling::IncrementalParser::Compile (this=0x4a2980, input=..., Opts=...) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/interpreter/cling/lib/Interpreter/IncrementalParser.cpp:663; #25 0x00007fffeebcbc4e in cling::Interpreter::DeclareInternal (this=0x4a0f30, input=..., CO=..., T=0x7fffffffd680) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/interpreter/cling/lib/Interpreter/Interpreter.cpp:1195; #26 0x00007fffeebca8e8 in cling::Interpreter::declare (this=0x4a0f30, input=..., T=0x7fffffffd680) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/interpreter/cling/lib/Interpreter/Interpreter.cpp:823; #27 0x00007fffeebcb560 in cling::Interpreter::DeclareCFunction (this=0x4a0f30, name=..., code=..., withAccessControl=true) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/interpreter/cling/lib/Interpreter/Interpreter.cpp:1096; #28 0x00007fffeebcb862 in cling::Interpreter::compileFunction (this=0x4a0f30, name=..., code=..., ifUnique=false, withAccessControl=true); at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/interpreter/cling/lib/Interpreter/Interpreter.cpp:1140; #29 ",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2776:7394,patch,patches,7394,https://root.cern,https://github.com/root-project/root/pull/2776,2,['patch'],['patches']
Deployability,"g::Transaction*> > > >&, bool) IncrementalParser.cpp:0:0; #32 0x000000000151d992 cling::Interpreter::Interpreter(int, char const* const*, char const*, std::__2::vector<std::__2::shared_ptr<clang::ModuleFileExtension>, std::__2::allocator<std::__2::shared_ptr<clang::ModuleFileExtension> > > const&, bool, cling::Interpreter const*) Interpreter.cpp:0:0; #33 0x00000000014a5117 std::__2::vector<std::__2::shared_ptr<clang::ModuleFileExtension>, std::__2::allocator<std::__2::shared_ptr<clang::ModuleFileExtension> > >::~vector() /scratch/greenc/test-products/clang/v14_0_6b/Linux64bit+3.10-2.17/bin/../include/c++/v1/vector:399:17; #34 0x00000000014a5117 RootClingMain(int, char**, bool) /scratch/greenc/test-products/root/v6_26_04/source/root-6.26.04/core/dictgen/src/rootcling_impl.cxx:4315:7; #35 0x00000000014b2135 ROOT_rootcling_Driver /scratch/greenc/test-products/root/v6_26_04/source/root-6.26.04/core/dictgen/src/rootcling_impl.cxx:0:16; #36 0x00000000014f6b7e main /scratch/greenc/test-products/root/v6_26_04/source/root-6.26.04/core/rootcling_stage1/src/rootcling_stage1.cxx:46:4; #37 0x00007f1551302555 __libc_start_main (/lib64/libc.so.6+0x22555); #38 0x000000000143eb89 _start (/scratch/greenc/test-products/root/v6_26_04/build/Linux64bit+3.10-2.17-c13-p3912-prof/core/rootcling_stage1/src/rootcling_stage1+0x143eb89); <snip/>; ```. ### Expected behavior. Successful build. ### To Reproduce. Attempt to build ROOT with LLVM/Clang 14.0.6 and C++17 / `libc++` (precise configuration should be irrelevant provided `runtime_cxxmodules` is `ON`). ### Additional context. This was a second, simplified attempt after `rootcling` failed to find PSTL headers (_e.g._ `__pstl_memory`) in `<clang-lib>/clang/14.0.6/include` during the ROOT build when LLVM/Clang was compiled with parallel algorithms enabled in `libc++`. ~Currently attempting to reproduce on `master` branch.~. Fail with identical error on master (https://github.com/root-project/root/tree/7b7983fa8ab9e1a4af98776f7f80bea1f9b2b0b0).",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10861:6340,configurat,configuration,6340,https://root.cern,https://github.com/root-project/root/issues/10861,1,['configurat'],['configuration']
Deployability,"g; , procps; , python; , which; , xxHash; , zlib; , zstd; , libAfterImage; , giflib; , libjpeg; , libtiff; , libpng; , patchRcPathCsh; , patchRcPathFish; , patchRcPathPosix; , tbb; , Cocoa; , CoreSymbolication; , OpenGL; , noSplash ? false; }:. stdenv.mkDerivation rec {; pname = ""root"";; version = ""6.27.00"";. src = fetchFromGitHub {; owner = ""root-project"";; repo = ""root"";; rev = ""0fafc31efb5a94472af2a6b35ded27796cb141c8"";; sha256 = ""sha256-oO5K7AIH3Zhxpox3acuLcoTHD529pyIKXk9rfYi3U4U="";; };. nativeBuildInputs = [ makeWrapper cmake pkg-config git ];; buildInputs = [; davix; ftgl; gl2ps; glew; pcre; zlib; zstd; lapack; libxcrypt; libxml2; llvm_13; lz4; xz; gsl; openblas; openssl; xxHash; libAfterImage; giflib; libjpeg; libtiff; libpng; nlohmann_json; patchRcPathCsh; patchRcPathFish; patchRcPathPosix; python.pkgs.numpy; tbb; ]; ++ lib.optionals (!stdenv.isDarwin) [ libX11 libXpm libXft libXext libGLU libGL ]; ++ lib.optionals (stdenv.isDarwin) [ Cocoa CoreSymbolication OpenGL ]; ;. patches = [; ./sw_vers.patch; ];. preConfigure = ''; rm -rf builtins/*; substituteInPlace cmake/modules/SearchInstalledSoftware.cmake \; --replace 'set(lcgpackages ' '#set(lcgpackages '. # Don't require textutil on macOS; : > cmake/modules/RootCPack.cmake. # Hardcode path to fix use with cmake; sed -i cmake/scripts/ROOTConfig.cmake.in \; -e '1iset(nlohmann_json_DIR ""${nlohmann_json}/lib/cmake/nlohmann_json/"")'. patchShebangs build/unix/; '' + lib.optionalString noSplash ''; substituteInPlace rootx/src/rootx.cxx --replace ""gNoLogo = false"" ""gNoLogo = true""; '' + lib.optionalString stdenv.isDarwin ''; # Eliminate impure reference to /System/Library/PrivateFrameworks; substituteInPlace core/CMakeLists.txt \; --replace ""-F/System/Library/PrivateFrameworks"" """"; '' + lib.optionalString (stdenv.isDarwin && lib.versionAtLeast stdenv.hostPlatform.darwinMinVersion ""11"") ''; MACOSX_DEPLOYMENT_TARGET=10.16; '';. cmakeFlags = [; ""-Drpath=ON""; ""-DCMAKE_INSTALL_BINDIR=bin""; ""-DCMAKE_INSTALL_LIBDIR=lib""; ""-D",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11920:5165,patch,patches,5165,https://root.cern,https://github.com/root-project/root/issues/11920,1,['patch'],['patches']
Deployability,"gDirectory is now backed by an atomic thread local pointer so that the thread deleting a TFile can update other thread's gDirectory.; TDirectory now has a `std::vector<std::atomic<TDirectory*>*>` to keep track of the gDirectory's thread local pointing to the TDirectory.; TDirectory::TContext was already thread safe.; gDirectory is a macro that now actualy 'return' a TDirectoryAtomicAdapter which provides an adaption from std::atomic<TDirectory*> to the; outstanding usage (i.e. behave somewhat like a TDirectory*).; TDirectory::CurrentDirectory now returns a reference to a `std::atomic<TDirectory*>`. Note: due to the actual (but intended to be unnoticeable) change in the type of gDirectory, there is no plan to backport this PR.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6952:99,update,update,99,https://root.cern,https://github.com/root-project/root/pull/6952,1,['update'],['update']
Deployability,gHEAD/SPEC/noimt/roottest/root/core/assertHumanReadable.cxx+...; Checking FromHumanReadableSize; Checking ToHumanReadableSize; Checking 1024 vs 1.024KiB an 1KB; Checking 2097152 vs 2.09715MiB an 2MB; Checking 4294967296 vs 4.29497GiB an 4GB; Checking 8796093022208 vs 8.79609TiB an 8TB; Checking 18014398509481984 vs 18.0144EiB an 16EB; Checking 16 vs 16B and 16B; Checking 24576 vs 24.576KiB and 24KB; Checking 3.77487e+07 vs 37.7487MiB and 36MB; Checking 5.79821e+10 vs 57.9821GiB and 54GB; Checking 8.90604e+13 vs 89.0604TiB and 81TB; Checking 1.36797e+17 vs 136.797EiB and 121.5EB; Checking 2.1012e+20 vs 210.12ZiB and 182.25ZB; Checking 3.22744e+23 vs 322.744YiB and 273.375YB; (int) 0. -- END TEST OUTPUT --; -- BEGIN TEST ERROR --; Info in <TUnixSystem::ACLiC>: creating shared library /mnt/build/wsincrv6-18-00-patches/LABEL/ROOT-ubuntu1804-clangHEAD/SPEC/noimt/build/roottest/root/core/assertHumanReadable_cxx.so; In file included from /mnt/build/wsincrv6-18-00-patches/LABEL/ROOT-ubuntu1804-clangHEAD/SPEC/noimt/build/roottest/root/core/assertHumanReadable_cxx_ACLiC_dict.cxx:41:; In file included from /mnt/build/wsincrv6-18-00-patches/LABEL/ROOT-ubuntu1804-clangHEAD/SPEC/noimt/roottest/root/core/assertHumanReadable.cxx:1:; [NON-XML-CHAR-0x1B][1m/mnt/build/wsincrv6-18-00-patches/LABEL/ROOT-ubuntu1804-clangHEAD/SPEC/noimt/build/include/ROOT/StringConv.hxx:103:18: [NON-XML-CHAR-0x1B][0m[NON-XML-CHAR-0x1B][0;1;35mwarning: [NON-XML-CHAR-0x1B][0m[NON-XML-CHAR-0x1B][1mimplicit conversion from 'long long' to 'double' changes value from 9223372036854775807 to 9223372036854775808 [-Wimplicit-int-float-conversion][NON-XML-CHAR-0x1B][0m; if (v < std::numeric_limits<T>::max()) {; [NON-XML-CHAR-0x1B][0;1;32m ~ ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~; [NON-XML-CHAR-0x1B][0m[NON-XML-CHAR-0x1B][1m/mnt/build/wsincrv6-18-00-patches/LABEL/ROOT-ubuntu1804-clangHEAD/SPEC/noimt/roottest/root/core/assertHumanReadable.cxx:9:29: [NON-XML-CHAR-0x1B][0m[NON-XML-CHAR-0x1B][0;1;30mnote: [NON-XML-CHAR-0x1B][0min ,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4257:2698,patch,patches,2698,https://root.cern,https://github.com/root-project/root/pull/4257,1,['patch'],['patches']
Deployability,"gcc/x86_64-unknown-linux-gnu/11.3.0/../../../../include/c++/11.3.0/x86_64-unknown-linux-gnu:/nix/store/gc7zr7wh575g1i5zs20lf3g45damwwbs-gcc-11.3.0/lib/gcc/x86_64-unknown-linux-gnu/11.3.0/../../../../include/c++/11.3.0/backward' at runtime.; -- And then fallback to: 'g++'; CMake Error: Could not open file for write in copy operation //nix/store/vqlvh9dv2prsrmk6lng8n66wgfpvra1j-llvm-13.0.1-lib/lib/cmake/cling/ClingConfig.cmake.tmp; CMake Error: : System Error: No such file or directory; CMake Error at interpreter/cling/cmake/modules/CMakeLists.txt:22 (configure_file):; configure_file Problem configuring file; ```. Possible source of the issue:; https://github.com/root-project/root/blob/master/interpreter/cling/cmake/modules/CMakeLists.txt#L4-L5. ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->; 1. The configurations works, just as it does on the 6.26 branch.; 2. If not feasible, the build error should at least guide the user / package aintainer the configuration option to solve the issue or where to find the solution. ### To Reproduce. 1. Build against the master branch (6.27, 0fafc31efb5a94472af2a6b35ded27796cb141c8) with CMake Flag `-Dbuiltin_llvm=OFF`.; (See the external context for steps to reproduce the behavior with the Nix package manager and Nixpkgs.); 2. See error. ### Setup; <!--; 1. ROOT version; 3. Operating system; 4. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->; 1. ROOT version: 6.27.* on the master branch (f9d15227e4c92eac7c6499379912d1ed24d0142b).; 2. Operating system: NixOS (Linux), on a x86_64 machine.; - system: `""x86_64-linux""`; - host os: `Linux 5.10.156, NixOS, 22.11 (Raccoon), 22.11.20221130.596a8e8`; - multi-user?: `yes`; - sandbox: `yes`; - version: `nix-env (Nix) 2.11.0`; - nixpkgs: `/nix/store/qwgw2b19ga8dr7c6wfpd6p87bdjyrnha-source`; 4. Build with Nix and get dependencies from Nixpkgs. ### Additional context. Here is the build steps to reproduce ",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11920:2069,configurat,configuration,2069,https://root.cern,https://github.com/root-project/root/issues/11920,1,['configurat'],['configuration']
Deployability,"gcc11 uses the `no_unique_address` attribute in its implementation of `std::tuple`; (which is then used by `std::unique_ptr`). However, it spells it; `__no_unique_address__`, which cling doesn't recognize. This can result; in having differing memory layouts for structures in compiled code versus; cling, which will cause mysterious failures. Patch cling to recognize `__no_unique_address__` as a synonym; for no_unique_address. See issue #8071. This should probably also go to 6.24-patches.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/8221:343,Patch,Patch,343,https://root.cern,https://github.com/root-project/root/pull/8221,2,"['Patch', 'patch']","['Patch', 'patches']"
Deployability,"gcc9-dbg/include/GaudiKernel/StatEntity.h:12:; In file included from /cvmfs/sft-nightlies.cern.ch/lcg/views/dev3/Tue/x86_64-centos7-gcc9-dbg/include/Gaudi/Accumulators.h:14:; In file included from /cvmfs/sft-nightlies.cern.ch/lcg/views/dev3/Tue/x86_64-centos7-gcc9-dbg/include/Gaudi/MonitoringHub.h:15:; In file included from /cvmfs/sft-nightlies.cern.ch/lcg/views/dev3/Tue/x86_64-centos7-gcc9-dbg/include/nlohmann/json.hpp:49:; In file included from /cvmfs/sft-nightlies.cern.ch/lcg/views/dev3/Tue/x86_64-centos7-gcc9-dbg/include/nlohmann/adl_serializer.hpp:5:; In file included from /cvmfs/sft-nightlies.cern.ch/lcg/views/dev3/Tue/x86_64-centos7-gcc9-dbg/include/nlohmann/detail/conversions/from_json.hpp:18:; /cvmfs/sft-nightlies.cern.ch/lcg/views/dev3/Tue/x86_64-centos7-gcc9-dbg/include/nlohmann/detail/meta/type_traits.hpp:11:10: fatal error: cannot open file '/build/jenkins/workspace/lcg_nightly_pipeline/install/dev3/jsonmcpp/3.9.1/x86_64-centos7-gcc9-dbg/include/nlohmann/json_fwd.hpp': No such file or directory; #include <nlohmann/json_fwd.hpp>; ^; python: /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-HEAD/src/ROOT/HEAD/interpreter/cling/lib/Interpreter/TransactionUnloader.cpp:72: bool cling::TransactionUnloader::unloadFromPreprocessor(cling::Transaction*, cling::DeclUnloader&): Assertion `Successful && ""Cannot handle that yet!""' failed.; *** Break *** abort; ...; ```; The header file being loaded is in `/cvmfs/sft-nightlies.cern.ch/lcg/views/dev3/Tue/x86_64-centos7-gcc9-dbg/include/nlohmann/json_fwd.hpp`, which is included in `ROOT_INCLUDE_PATH `. According to Vassil. This is due to some bug/feature in clang when it resolves include paths with symlinks. The problem is avoided if the realpath of the directory containing the header is prepended explicitely to `ROOT_INCLUDE_PATH`. ```; $ export ROOT_INCLUDE_PATH=/cvmfs/sft.cern.ch/lcg/releases/jsonmcpp/3.9.1-72770/x86_64-centos7-gcc9-dbg/include:$ROOT_INCLUDE_PATH; $ python -c 'import GaudiPython'; ```",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7950:2620,release,releases,2620,https://root.cern,https://github.com/root-project/root/issues/7950,1,['release'],['releases']
Deployability,"ge1.cxx.o; [ 75%] Linking CXX executable src/rootcling_stage1; [ 75%] Building CXX object core/metacling/src/CMakeFiles/MetaCling.dir/TClingRdictModuleFileExtension.cxx.o; [ 75%] Building CXX object core/metacling/src/CMakeFiles/MetaCling.dir/TClingTypedefInfo.cxx.o; [ 75%] Built target rootcling_stage1; [ 75%] Generating G__Core.cxx, ../lib/Core.pcm; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; input_line_1:1:10: note: submodule of top-level module 'std' implicitly imported here; #include <new>; ^; Warning in cling::IncrementalParser::CheckABICompatibility():; Failed to extract C++ standard library version.; While building module 'Core':; While building module 'Cling_Runtime' imported from input_line_2:1:; While building module 'Cling_Runtime_Extra' imported from /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/RuntimeUniverse.h:27:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/DynamicExprInfo.h:13:10: note: submodule of top-level module 'std' implicitly imported here; #include <string>; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/DynamicExprInfo.h:40:7: error: use of undeclared identifier 'std'; std::string m_Result;; ^; While building module 'Core':; While building module 'Cling_Runtime' imported from input_line_2:1:; While building module 'Cling_Runtime_Extra' imported from /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/RuntimeUniverse.h:27:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/DynamicLookupLifetimeHandler.h:12:10: note: submodule of to",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10528:14487,Install,Installed,14487,https://root.cern,https://github.com/root-project/root/issues/10528,1,['Install'],['Installed']
Deployability,"ge1; [ 75%] Generating G__Core.cxx, ../lib/Core.pcm; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; input_line_1:1:10: note: submodule of top-level module 'std' implicitly imported here; #include <new>; ^; Warning in cling::IncrementalParser::CheckABICompatibility():; Failed to extract C++ standard library version.; While building module 'Core':; While building module 'Cling_Runtime' imported from input_line_2:1:; While building module 'Cling_Runtime_Extra' imported from /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/RuntimeUniverse.h:27:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/DynamicExprInfo.h:13:10: note: submodule of top-level module 'std' implicitly imported here; #include <string>; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/DynamicExprInfo.h:40:7: error: use of undeclared identifier 'std'; std::string m_Result;; ^; While building module 'Core':; While building module 'Cling_Runtime' imported from input_line_2:1:; While building module 'Cling_Runtime_Extra' imported from /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/RuntimeUniverse.h:27:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/DynamicLookupLifetimeHandler.h:12:10: note: submodule of top-level module 'std' implicitly imported here; #include <string>; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/DynamicLookupLifetimeHandler.h:56:7: error: use of undeclared identifier 'std'; std::string m_Type;; ^; While building module 'Core':; While building module 'Clin",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10528:14822,Install,Installed,14822,https://root.cern,https://github.com/root-project/root/issues/10528,1,['Install'],['Installed']
Deployability,"ger.SetPrintLevel(1);. // Set a selective list of objects to hadd ; // The rest of objects will not be considered in the input files ; fileMerger.AddObjectNames(""hist1"");; fileMerger.AddObjectNames(""hist2"");. // Set output file ; fileMerger.OutputFile(""myExclusiveFile.root"",""recreate"");. // Set input file(s) ; fileMerger.AddFile(""myFileWithHists.root"");. if (numTest == 1){; ; // In that case add a dummy file i.e. empty file ; // In order to avoid the bug in in the TFileMerger class ; // if there is only one input file used. std::string tmpDir = gSystem->TempDirectory();; // create a unique empty file ; std::string dummyFileName = tmpDir +""/dummyEmptyFile-"" + std::string(TUUID().AsString()) + "".root"";. std::cout << ""Creating a dummy empty file to avoid a bug in TFileMerger class: "" << dummyFileName << std::endl;; // Just create dummy file ; TFile *file = TFile::Open(dummyFileName.c_str(),""recreate"");; delete file;; fileMerger.AddFile(dummyFileName.c_str());; }; ; // Will only merge in the output files ; // the list of objects specified ; Int_t mode = (TFileMerger::kAll | TFileMerger::kRegular | TFileMerger::kOnlyListed);; ; fileMerger.PartialMerge(mode);; ; return 0;; }. void createFileWithHists(const std::string &fileName){; TFile *file = TFile::Open(fileName.c_str(), ""recreate""); . TH1F *hist1 = new TH1F(""hist1"", ""hist1"", 1 , 0 , 2);; TH1F *hist2 = new TH1F(""hist2"", ""hist2"", 1 , 0 , 2);; TH1F *hist3 = new TH1F(""hist3"", ""hist3"", 1 , 0 , 2);; TH1F *hist4 = new TH1F(""hist4"", ""hist4"", 1 , 0 , 2);. hist1->Fill(1);. hist2->Fill(1);; hist2->Fill(2);. hist3->Fill(1);; hist3->Fill(1);; hist3->Fill(1);. hist4->Fill(1);; hist4->Fill(1);; hist4->Fill(1);; hist4->Fill(1);. // Write and close file; file->Write();; delete file;; }; ```. ### ROOT version. Tested with ROOT Version: 6.26/10; But I believe all versions are affected . ### Installation method. Build from source. ### Operating system. Tested on Linux (I believe all OS are affected). ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13359:4585,Install,Installation,4585,https://root.cern,https://github.com/root-project/root/issues/13359,1,['Install'],['Installation']
Deployability,gic' in /opt/root_src/core/newdelete/src/NewDelete.cxx:120; 25: expanded from macro 'CheckMagic' in /opt/root_src/core/newdelete/src/NewDelete.cxx:112; 26: Assuming the condition is false in /opt/root_src/core/newdelete/src/NewDelete.cxx:280; 27: expanded from macro 'MemClear' in /opt/root_src/core/newdelete/src/NewDelete.cxx:109; 28: Taking false branch in /opt/root_src/core/newdelete/src/NewDelete.cxx:280; 29: expanded from macro 'MemClear' in /opt/root_src/core/newdelete/src/NewDelete.cxx:109; 30: Assuming 'gFreeIfTMapFile' is null in /opt/root_src/core/newdelete/src/NewDelete.cxx:282; 31: Left side of '||' is true in /opt/root_src/core/newdelete/src/NewDelete.cxx:283; 32: Memory is released in /opt/root_src/core/newdelete/src/NewDelete.cxx:286; 33: Assuming the condition is true in /opt/root_src/core/newdelete/src/NewDelete.cxx:287; 34: Loop condition is true. Execution continues on line 285 in /opt/root_src/core/newdelete/src/NewDelete.cxx:284; 35: Attempt to free released memory in /opt/root_src/core/newdelete/src/NewDelete.cxx:286; ```; ```; /opt/root_src/core/newdelete/src/NewDelete.cxx:424:7: warning: Null pointer passed to 1st parameter expecting 'nonnull' [clang-analyzer-core.NonNullParamChecker]; 1: expanded from macro 'MemClearRe' in /opt/root_src/core/newdelete/src/NewDelete.cxx:140; 2: Assuming the condition is false in /opt/root_src/core/newdelete/src/NewDelete.cxx:401; 3: Taking false branch in /opt/root_src/core/newdelete/src/NewDelete.cxx:401; 4: Assuming 'ovp' is not equal to null in /opt/root_src/core/newdelete/src/NewDelete.cxx:406; 5: Taking false branch in /opt/root_src/core/newdelete/src/NewDelete.cxx:406; 6: Assuming 'gNewInit' is not equal to 0 in /opt/root_src/core/newdelete/src/NewDelete.cxx:409; 7: Taking false branch in /opt/root_src/core/newdelete/src/NewDelete.cxx:409; 8: Assuming 'oldsize' is not equal to 'size' in /opt/root_src/core/newdelete/src/NewDelete.cxx:413; 9: Taking false branch in /opt/root_src/core/newdelete/src/NewDelete,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7426:62314,release,released,62314,https://root.cern,https://github.com/root-project/root/issues/7426,1,['release'],['released']
Deployability,"gin handler for TVirtualStreamerInfo was found but failed to create the factory object!; ```; The reason is that during TClingCallFunc::make_wrapper, the call to cling::Interpreter::compileFunction ends with:; ```; if (const llvm::GlobalValue* GV; = getLastTransaction()->getModule()->getNamedValue(name)); ```; However in the 'broken' case, the getLastTransaction does not return the transaction for the code being compiled by DeclareCFunction but instead the one used/created at:. ```; #0 cling::IncrementalParser::endTransaction (this=0x4a2980, T=0x8c0fb0) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/interpreter/cling/lib/Interpreter/IncrementalParser.cpp:345; #1 0x00007fffeebc7899 in cling::Interpreter::PushTransactionRAII::pop (this=0x7fffffffcb00) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/interpreter/cling/lib/Interpreter/Interpreter.cpp:111; #2 0x00007fffeebc785e in cling::Interpreter::PushTransactionRAII::~PushTransactionRAII (this=0x7fffffffcb00, __in_chrg=<optimized out>); at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/interpreter/cling/lib/Interpreter/Interpreter.cpp:106; #3 0x00007fffeebeb659 in cling::LookupHelper::findScope (this=0x4a9dd0, className=..., diagOnOff=cling::LookupHelper::NoDiagnostics, resultType=0x7fffffffcd08, instantiateTemplate=false); at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/interpreter/cling/lib/Interpreter/LookupHelper.cpp:466; #4 0x00007fffeeabe0df in TCling::CheckClassInfo (this=0x4a0550, name=<optimized out>, autoload=<optimized out>, isClassOrNamespaceOnly=<optimized out>); at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/metacling/src/TCling.cxx:3630; #5 0x00007ffff7c3040d in TClass::Init (this=this@entry=0xdafd20, name=name@entry=0x7ffff7cb7638 ""TGlobal"", cversion=cversion@entry=2, typeinfo=typeinfo@entry=0x7ffff7d8b6d8 <typeinfo for TGlobal>, isa=isa@entry=0x477430,; dfil=dfil@entry=0x7ffff7cb8cab ""TGlobal.h"", ifil=<optimized out>, dl=<optimized out>, il=<optim",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2776:2360,patch,patches,2360,https://root.cern,https://github.com/root-project/root/pull/2776,2,['patch'],['patches']
Deployability,"git dpkg-dev cmake binutils libx11-dev libxpm-dev \; libxft-dev libxext-dev; sudo apt-get install gfortran libssl-dev libpcre3-dev \; xlibmesa-glu-dev libglew1.5-dev libftgl-dev \; libmysqlclient-dev libfftw3-dev libcfitsio-dev \; graphviz-dev libavahi-compat-libdnssd-dev \; libldap2-dev python-dev libxml2-dev libkrb5-dev \; libgsl0-dev libqt4-dev; sudo apt install gdb. sudo apt install libstdc++ # then add flag -stdlib=libstdc++. wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh; (echo ''; echo 'yes'; echo ''; echo 'yes';) | bash ./Miniconda3-latest-Linux-x86_64.sh; source .bashrc; source activate base; pip install numpy sklearn xgboost matplotlib. #################################### install projects #############################3; # Get ROOT; cd; git clone git@github.com:LucaZampieri/root.git. # build with gcc; mkdir build_gcc && cd build_gcc && cmake ../root && make -j8. ## Google bench; cd; # Check out the library.; git clone https://github.com/google/benchmark.git; # Benchmark requires Google Test as a dependency. Add the source tree as a subdirectory.; git clone https://github.com/google/googletest.git benchmark/googletest. # Go to the library root directory; cd benchmark ; mkdir build_gcc; cd build_gcc ; cmake -DCMAKE_BUILD_TYPE=Release ../root && make -j8. # XGBoost; cd; git clone --recursive https://github.com/dmlc/xgboost; cd xgboost; mkdir build_gcc; cd build_gcc; cmake -DCMAKE_BUILD_TYPE=Release ../. # Setup aliases; echo ""alias bdt='cd ~/root/tmva/tmva/src/BDT'"" >> ~/.bashrc; source .bashrc. # Add the folders missing from github (add them directly in github?) ; cd; bdt ; git checkout backend/FastInference; mkdir build. # For ROOT; echo 'export ROOTSYS=""~/root/""' >> ~/.bashrc; echo 'export ROOTBUILD=""~/build_gcc/""' >> ~/.bashrc; echo 'source $ROOTBUILD/bin/thisroot.sh' >> ~/.bashrc. echo 'export XGBOOST_ROOT=""~/xgboost""' >> ~/.bashrc. echo 'export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:~/xgboost/lib/' >> ~/.bashrc. source .bashrc; ```",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4351:3660,Release,Release,3660,https://root.cern,https://github.com/root-project/root/pull/4351,2,['Release'],['Release']
Deployability,gitinfo.txt not updated in incremental build,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11287:16,update,updated,16,https://root.cern,https://github.com/root-project/root/issues/11287,1,['update'],['updated']
Deployability,gold is not evolving anymore and causes problems. # This Pull request:. ## Changes or fixes:. ## Checklist:. - [ ] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12384:145,update,updated,145,https://root.cern,https://github.com/root-project/root/pull/12384,1,['update'],['updated']
Deployability,"gram Files (x86)\Microsoft Visual Studio\2019\Enterprise\Common7\Tools\VsDevCmd.bat"" -host_arch=amd64 -arch=arm64; 3. git clone https://github.com/root-project/root F:\root; 4. cd F:\root; 5. mkdir build_arm64ec & cd build_arm64ec; 6. set PATH=%PATH:C:\Strawberry\perl\bin;=%; 7. cmake -G ""Visual Studio 16 2019"" -A ARM64EC -DCMAKE_SYSTEM_VERSION=10.0.22618.0 -DCMAKE_BUILD_TYPE=Release -Droofit=off -Dtesting=OFF -Droottest=OFF .. ; 8. msbuild /m /p:Platform=ARM64EC /p:Configuration=Release ALL_BUILD.vcxproj /t:Rebuild . **Error info:**; ```; Line 4659: 53>C:\Program Files (x86)\Microsoft Visual Studio\2019\Enterprise\MSBuild\Microsoft\VC\v160\Microsoft.CppCommon.targets(241,5): error MSB8066: Custom build for 'F:\root\build_arm64ec\CMakeFiles\63abf6fef7a213853e6ccbb8f8ae4e08\TBB-mkdir.rule;F:\root\build_arm64ec\CMakeFiles\63abf6fef7a213853e6ccbb8f8ae4e08\TBB-download.rule;F:\root\build_arm64ec\CMakeFiles\63abf6fef7a213853e6ccbb8f8ae4e08\TBB-update.rule;F:\root\build_arm64ec\CMakeFiles\63abf6fef7a213853e6ccbb8f8ae4e08\TBB-patch.rule;F:\root\build_arm64ec\CMakeFiles\63abf6fef7a213853e6ccbb8f8ae4e08\TBB-configure.rule;F:\root\build_arm64ec\CMakeFiles\63abf6fef7a213853e6ccbb8f8ae4e08\TBB-build.rule;F:\root\build_arm64ec\CMakeFiles\63abf6fef7a213853e6ccbb8f8ae4e08\TBB-install.rule;F:\root\build_arm64ec\CMakeFiles\63abf6fef7a213853e6ccbb8f8ae4e08\TBB-tbb2externals.rule;F:\root\build_arm64ec\CMakeFiles\087a075fd7e4ae75a86c11aaf55edf65\TBB-complete.rule;F:\root\build_arm64ec\CMakeFiles\b3a0475d795c353882bf26193a7d45fe\TBB.rule' exited with code 1. [F:\root\build_arm64ec\TBB.vcxproj]; 	Line 9000: 203>C:\Program Files (x86)\Microsoft Visual Studio\2019\Enterprise\MSBuild\Microsoft\VC\v160\Microsoft.CppCommon.targets(241,5): error MSB8066: Custom build for 'F:\root\build_arm64ec\CMakeFiles\b04d8333b5c039b823a8aff01d40cf91\DiagnosticSemaKinds.inc.rule;F:\root\build_arm64ec\CMakeFiles\b7ee079947e4abdf24e97017e83e6e49\ClangDiagnosticSema.rule' exited with code -1073741819. [F:\root\",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11787:1786,patch,patch,1786,https://root.cern,https://github.com/root-project/root/issues/11787,1,['patch'],['patch']
Deployability,graph: update test/stressGraphics_builtinzlib.ref for el9,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16492:7,update,update,7,https://root.cern,https://github.com/root-project/root/pull/16492,1,['update'],['update']
Deployability,"gs); 9.604 /usr/share/cmake-3.28/Modules/CMakeFindDependencyMacro.cmake:76 (find_package); 9.604 /opt/root/cmake/ROOTConfig.cmake:167 (find_dependency); 9.604 CMakeLists.txt:363 (find_package); ```. I tried 3 different packages `ACTS`, `PODIO`, `JANA2` - all failed with the same error during the configuration. . ### Reproducer. Reproducer, where ACTS is taken as an example. ```Dockerfile. FROM rootproject/root:6.32.02-ubuntu24.04. # Number of build threads; ARG BUILD_THREADS=8. ARG DEBIAN_FRONTEND=noninteractive. RUN root-config --cflags. RUN apt-get update &&\; apt-get install -y python3-pip python3-dev sudo git cmake gdb ninja-build apt-utils bash ccache clang valgrind &&\; apt-get install -y dialog apt-utils&&\; apt-get install -y tzdata &&\; apt-get install -y libmsgsl-dev libftgl-dev libxml2-dev libldap2-dev libgsl0-dev libfftw3-dev libmysqlclient-dev libavahi-compat-libdnssd-dev libssl-dev python3-dev libcfitsio-dev xlibmesa-glu-dev libkrb5-dev gfortran graphviz-dev libpcre3-dev libglew-dev libxmu-dev libexpat-dev python3-jinja2 libtbb-dev libxerces-c-dev cmake libboost-filesystem-dev dpkg-dev libspdlog-dev libxext-dev qtbase5-dev libqt5opengl5-dev libx11-dev libboost-test-dev libocct-draw-dev libeigen3-dev libocct-data-exchange-dev python3-dev libocct-foundation-dev libfmt-dev libxft-dev libboost-program-options-dev libboost-dev binutils libxpm-dev curl libxerces-c3-dev occt-misc python3-yaml &&\; rm -rf /var/lib/apt/lists/*. ENV LC_ALL=C.UTF-8; ENV LANG=C.UTF-8. RUN mkdir -p /container/app/acts/src/v35.2.0 &&\; git clone --depth 1 -b v35.2.0 https://github.com/acts-project/acts /container/app/acts/src/v35.2.0 &&\; mkdir -p /container/app/acts/build/v35.2.0 &&\; cmake -Wno-dev -DCMAKE_INSTALL_PREFIX=/container/app/acts/acts-v35.2.0 -DCMAKE_CXX_STANDARD=20 -DCMAKE_BUILD_TYPE=RelWithDebInfo -DACTS_BUILD_PLUGIN_TGEO=ON -DACTS_BUILD_PLUGIN_DD4HEP=OFF -DACTS_BUILD_PLUGIN_JSON=ON -DACTS_BUILD_PLUGIN_ACTSVG=OFF /container/app/acts/src/v35.2.0&& cmake --build . -- -j",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/16038:1192,update,update,1192,https://root.cern,https://github.com/root-project/root/issues/16038,5,"['install', 'update']","['install', 'update']"
Deployability,"gvassilev. When testing the LLVM 9 PR for conda-forge and had a few issues with external LLVM/Clang/Cling so I temporarily switched to the builtins. This works from the build directory but it then has issues once `make install` is ran. More details are in the comment copied at the end of this issue. I think this is an issue with root's install commands rather than the conda-recipe, but you can reproduce what I'm doing it docker by running:. ```bash; git clone https://github.com/chrisburr/root-feedstock.git; cd root-feedstock; git checkout llvm90-install-error; # Adjust CPU_COUNT as required; CPU_COUNT=192 ./build-locally.py --debug --output-id '*root_base*' linux_64_numpy1.16python3.8.____cpython; # When the container launches, look at the output and run the suggested command; # which will be of the form:; cd xxxxx && source xxxxx/build_env_setup.sh; source $RECIPE_DIR/build_root-base.sh; # Anything with ROOT will now fail, e.g.; root; # Rather than waiting to build again, you can roll back to before; # ""make install"" was ran by running; cd ../..; rm -rf $PWD/*; cp -rp $PWD.bak/* $PWD/; cd -; ```. >The command I'm running was simply `root` to get the interactive prompt. The full output of trying to run `1+2` is below:; >```log; >$ root -b -q -x -e 1+2; >input_line_1:1:2: fatal error: module 'libc' imported by AST file '/home/cburr/mambaforge/conda-bld/root_1609268594446/_h_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placeh/lib/std.pcm' found in a different module map file (/home/cburr/mambaforge/conda-bld/root_1609268594446/_h_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placeh/etc/cling/libc.modulemap) than when the importing AST file was built (/home/cburr/mambaforge/con",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7055:1135,install,install,1135,https://root.cern,https://github.com/root-project/root/issues/7055,1,['install'],['install']
Deployability,"h this version of RNTuple!; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experimental::Internal::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNTupleDescriptorBuilder&)>: Pre-release format version: RC 1; [ OK ] RNTuple.RandomAccess (229 ms); [ RUN ] RNTuple.LargeFile1; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RPageStorageFile.cxx:51 in ROOT::Experimental::Detail::RPageSinkFile::RPageSinkFile(std::string_view, const ROOT::Experimental::RNTupleWriteOptions&)>: The RNTuple file format will change. Do not store real data with this version of RNTuple!; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experimental::Internal::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNTupleDescriptorBuilder&)>: Pre-release format version: RC 1; Error in <TFile::Init>: file test_large_file1.root has an incorrect header length (1677721600) or incorrect end of file length (-1760683648); /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/test/ntuple_extended.cxx:159: Failure; Value of: f; Actual: false; Expected: true; *** Break *** segmentation violation; [ --- ]; CMake Error at /builddir/build/BUILD/root-6.28.00/cmake/modules/RootTestDriver.cmake:232 (message):; error code: 139; ~~~. #### gtest-tree-ntuple-v7-test-ntuple-minifile. $ printf '%x\n' 1677721600; 64000000. Header length shoud be 0x00000064 = 100. Fatal: nread == nbytes violated; ~~~; 478/1272 Test #440: gtest-tree-ntuple-v7-test-ntuple-minifile ...........................***Failed 65.92 sec; Running main() from /builddir/build/BUILD/googletest-1.13.0/googletest/src/gtest_main.cc; Note: Google Test filter = -RCsvDS.Remote:RRawFile.Remote:RSqliteDS.Davix:TFile.ReadWithoutGlobalRe",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12426:7948,release,release,7948,https://root.cern,https://github.com/root-project/root/issues/12426,1,['release'],['release']
Deployability,"h"". int main() {. // x variable with bins for convolution; RooRealVar x(""x"",""x"", -2000, 3000.);; x.setBins(1000, ""cache"");. // let's try to convolute two Gaussians; RooRealVar zero(""zero"", ""zero"", 0.0);; RooRealVar sigma(""sima"", ""sigma"", 100.);. RooRealVar mass(""mass"", ""mass"", 1000);; RooRealVar width(""width"", ""width"", 100.);. RooGaussian gaus1(""gaus1"", ""gaus1"", x, zero, sigma);; RooGaussian gaus2(""gaus2"", ""gaus2"", x, mass, width);. // multiply one Gaussian with unity to get a RooProdPdf; RooUniform uni(""uni"", ""uni"", RooArgList(x));; RooProdPdf prod(""prod"", ""prod"", RooArgList(gaus1, uni));. // add zero trick to ""convert"" the RooProdPdf into a RealSumPdf; RooUniform dummy_for_sum_pdf{""dummy_for_sum_pdf"", ""dummy_for_sum_pdf"", x};; RooRealVar unity_for_sum_pdf(""unity_for_sum_pdf"", ""unity_for_sum_pdf"", 1);; RooRealSumPdf prod_fixed( ""prod_fixed"", ""prod_fixed"",; RooArgList(prod, dummy_for_sum_pdf),; RooArgList(unity_for_sum_pdf) );. // convolute pdf (replace prod with prod_fixed to enable hotfix); RooFFTConvPdf conv(""conv"", ""conv"", x, prod, gaus2);. // make plot; TCanvas c(""convolution"", ""convolution"");; auto xframe = x.frame(RooFit::Title(""With RooProdPdf""));. gaus1.plotOn(xframe);; gaus2.plotOn(xframe);; prod.plotOn(xframe);; conv.plotOn(xframe);. xframe->Draw();; c.SaveAs(""convolution.png"");. // the result of the convolution is expected to be a wider Gaussian around 1000,; // but without the hotfix it is just a non-zero constant!; }; ```. The executable can be compiled with:; ```bash; g++ $(root-config --cflags) -o convolution convolution.cc $(root-config --libs) -lRooFitCore -lRooFit; ```. An interesting observation is that by turning the `RooProdPdf` into a `RooRealSumPdf` by adding another `RooUniform` with coefficient zero, the problem is gone. So the problem is really in the interaction between `RooProdPdf` and `RooFFTConvPdf`. <img src=""https://user-images.githubusercontent.com/6578603/107349328-5eb73300-6ac8-11eb-953b-b21e90db8abc.png"" width=""400"" alt=""convoluti",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7157:1536,hotfix,hotfix,1536,https://root.cern,https://github.com/root-project/root/issues/7157,1,['hotfix'],['hotfix']
Deployability,"h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/stl_iterator.h:63:10: note: submodule of top-level module 'std' implicitly imported here; #include <bits/cpp_type_traits.h>; ^; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/stl_iterator_base_types.h:67:11: note: submodule of top-level module 'std' implicitly imported here; # include <type_traits> // For __void_t, is_convertible; ^; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/ext/type_traits.h:35:10: note: submodule of top-level module 'std' implicitly imported here; #include <bits/cpp_type_traits.h>; ^; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/move.h:57:10: note: submodule of top-level module 'std' implicitly imported here; #include <type_traits> // Brings in std::declval too.; ^; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Roo",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10528:26496,Install,Installed,26496,https://root.cern,https://github.com/root-project/root/issues/10528,1,['Install'],['Installed']
Deployability,"h, FileMode mode, FileAccess access, Int32 rights, Boolean useRights, FileShare share, Int32 bufferSize, FileOptions options, SECURITY_ATTRIBUTES secAttrs, String msgPath, Boolean bFromProxy, Boolean useLongPath, Boolean checkHost) [C:\Users\sftnight\build\release\interpreter\llvm\src\lib\Target\X86\X86CommonTableGen.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Microsoft\VC\v170\Microsoft.CppCommon.targets(205,5): error MSB4018: at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options, String msgPath, Boolean bFromProxy, Boolean useLongPath, Boolean checkHost) [C:\Users\sftnight\build\release\interpreter\llvm\src\lib\Target\X86\X86CommonTableGen.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Microsoft\VC\v170\Microsoft.CppCommon.targets(205,5): error MSB4018: at System.IO.StreamWriter.CreateFile(String path, Boolean append, Boolean checkHost) [C:\Users\sftnight\build\release\interpreter\llvm\src\lib\Target\X86\X86CommonTableGen.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Microsoft\VC\v170\Microsoft.CppCommon.targets(205,5): error MSB4018: at System.IO.StreamWriter..ctor(String path, Boolean append, Encoding encoding, Int32 bufferSize, Boolean checkHost) [C:\Users\sftnight\build\release\interpreter\llvm\src\lib\Target\X86\X86CommonTableGen.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Microsoft\VC\v170\Microsoft.CppCommon.targets(205,5): error MSB4018: at System.IO.File.InternalWriteAllText(String path, String contents, Encoding encoding, Boolean checkHost) [C:\Users\sftnight\build\release\interpreter\llvm\src\lib\Target\X86\X86CommonTableGen.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Microsoft\VC\v170\Microsoft.CppCommon.targets(205,5): error MSB4018: at Microsoft.Build.CPPTasks.GetOutOfDateItems.Execute() [C:\Users\sftnight\build\release\interpreter",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10247:2351,release,release,2351,https://root.cern,https://github.com/root-project/root/pull/10247,1,['release'],['release']
Deployability,"h/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #12 0x00002b8fcf87cf29 in clang::Sema::HandleDeclarator(clang::Scope*, clang::Declarator&, llvm::MutableArrayRef<clang::TemplateParameterList*>) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #13 0x00002b8fcf87fc2c in clang::Sema::ActOnStartOfFunctionDef(clang::Scope*, clang::Declarator&, llvm::MutableArrayRef<clang::TemplateParameterList*>, clang::Sema::SkipBodyInfo*) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #14 0x00002b8fcf5e98cb in clang::Parser::ParseFunctionDefinition(clang::ParsingDeclarator&, clang::Parser::ParsedTemplateInfo const&, clang::Parser::LateParsedAttrList*) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #15 0x00002b8fcf566f2e in clang::Parser::ParseDeclGroup(clang::ParsingDeclSpec&, unsigned int, clang::SourceLocation*, clang::Parser::ForRangeInit*) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #16 0x00002b8fcf5e5fa1 in clang::Parser::ParseDeclOrFunctionDefInternal(clang::Parser::ParsedAttributesWithRange&, clang::ParsingDeclSpec&, clang::AccessSpecifier) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #17 0x00002b8fcf5ec950 in clang::Parser::ParseExternalDeclaration(clang::Parser::ParsedAttributesWithRange&, clang::ParsingDeclSpec*) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #18 0x00002b8fcf57b004 in clang::Parser::Pa",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7093:6701,patch,patch,6701,https://root.cern,https://github.com/root-project/root/issues/7093,1,['patch'],['patch']
Deployability,h2root/g2root man pages should be excluded from install when fortran is disabled,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11182:48,install,install,48,https://root.cern,https://github.com/root-project/root/issues/11182,1,['install'],['install']
Deployability,hRecursiveRemoveConsistency::Check' in /opt/root_src/core/meta/src/TClass.cxx:6148; 6: Calling default constructor for 'TCheckHashRecursiveRemoveConsistency' in /opt/root_src/core/meta/src/TCheckHashRecursiveRemoveConsistency.h:241; 7: Calling default constructor for 'TObject' in /opt/root_src/core/meta/src/TCheckHashRecursiveRemoveConsistency.h:52; 8: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 9: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 10: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Calling copy constructor for 'REveTrans' in /opt/root_src/graf3d/eve7/src/REveTrans.cxx:334; 2: Calling default constructor for 'TObject' in /opt/root_src/graf3d/eve7/src/REveTrans.cxx:87; 3: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 4: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 5: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Calling 'TPostScript::Text' in /opt/root_src/graf2d/postscript/src/TPostScript.cxx:2993; 2: Assuming the condition is false in /opt/root_src/graf2d/postscript/src/TPostScript.cxx:2660; 3: Taking false branch in /opt/root_src/graf2d/postscript/src/TPostScript.cxx:2660; 4: Assuming 'wh' is >= 'hh' in /opt/root_src/graf2d/postscript/src/TPostScript.cxx:2669; 5: Taking false branch in /opt/root_src/graf2d/postscript/src/TPostScript.cxx:2669; 6: Assuming 'fontsize' is > 0 in /opt/root_src/graf2d/postscript/src/TPostScript.cxx:2679; 7: Taking false branch in /opt/root_src/graf2d/postscript/src/TPostScript.cxx:,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:8089,Update,UpdateIsOnHeap,8089,https://root.cern,https://github.com/root-project/root/issues/7412,1,['Update'],['UpdateIsOnHeap']
Deployability,"har **, bool) E:\vcpkg_folders\new_master\buildtrees\root\src\57b00fa7ea-10a10c16cc\core\dictgen\src\rootcling_impl.cxx:4927:0; #39 0x00007ffef58759d9 ROOT_rootcling_Driver E:\vcpkg_folders\new_master\buildtrees\root\src\57b00fa7ea-10a10c16cc\core\dictgen\src\rootcling_impl.cxx:6171:0; #40 0x00007ff6481b2635 main E:\vcpkg_folders\new_master\buildtrees\root\src\57b00fa7ea-10a10c16cc\main\src\rootcling.cxx:44:0; #41 0x00007ff6481b2ae9 invoke_main D:\a\_work\1\s\src\vctools\crt\vcstartup\src\startup\exe_common.inl:79:0; #42 0x00007ff6481b298e __scrt_common_main_seh D:\a\_work\1\s\src\vctools\crt\vcstartup\src\startup\exe_common.inl:288:0; #43 0x00007ff6481b284e __scrt_common_main D:\a\_work\1\s\src\vctools\crt\vcstartup\src\startup\exe_common.inl:331:0; #44 0x00007ff6481b2b7e mainCRTStartup D:\a\_work\1\s\src\vctools\crt\vcstartup\src\startup\exe_main.cpp:17:0; #45 0x00007fffb4f47604 (C:\Windows\System32\KERNEL32.DLL+0x17604); #46 0x00007fffb6de26a1 (C:\Windows\SYSTEM32\ntdll.dll+0x526a1); ```; ### Expected behavior; Build succeeds. ### To Reproduce. (if you know how to use vcpkg & git); checkout https://github.com/microsoft/vcpkg/pull/31161; bootstrap vcpkg; vcpkg install root. ### Setup; 1. Ref: 6438fdb78a7d0cc06e2f3dd2dd5bf057b00fa7ea; 2. Windows 10; VS 17.5.4. ### Additional context; I tried debugging the problem and the only thing I found is that in `io\io\src\TStreamerInfoWriteBuffer.cxx:` the call; `proxy->GetFunctionCreateIterators(/*read = */ kFALSE)(obj, &begin, &end, proxy);` returns a start iterator which is higher then the end iterator leading later to a read access violation when trying to (infinitely) iterate over it. So I assume `obj` is somehow bogus but without knowing what that actually should be further steps back are not possible., The error is reproducible but seems to occur at different times of execution if retried (number of breakpoint hits vary). ; The release build however seems fine. ; If you need a full configure/build log I can provide it.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12738:21697,install,install,21697,https://root.cern,https://github.com/root-project/root/issues/12738,2,"['install', 'release']","['install', 'release']"
Deployability,"har> >, std::allocator<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > >&, int&, TClassEdit::EModType) () from /sw/atlas/sw/lcg/releases/LCG_101_ATLAS_14/ROOT/6.24.06/x86_64-centos7-gcc11-opt/lib/libCore.so; #8 0x00007f68343f12f1 in TClassEdit::TSplitType::TSplitType(char const*, TClassEdit::EModType) () from /sw/atlas/sw/lcg/releases/LCG_101_ATLAS_14/ROOT/6.24.06/x86_64-centos7-gcc11-opt/lib/libCore.so; #9 0x00007f68343f23f1 in TClassEdit::GetNormalizedName(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, std::basic_string_view<char, std::char_traits<char> >) () from /sw/atlas/sw/lcg/releases/LCG_101_ATLAS_14/ROOT/6.24.06/x86_64-centos7-gcc11-opt/lib/libCore.so; #10 0x00007f683440dc8b in TClass::GetClass(char const*, bool, bool, unsigned long, unsigned long) () from /sw/atlas/sw/lcg/releases/LCG_101_ATLAS_14/ROOT/6.24.06/x86_64-centos7-gcc11-opt/lib/libCore.so; #11 0x00007f683441e338 in TClassRef::InternalGetClass() const () from /sw/atlas/sw/lcg/releases/LCG_101_ATLAS_14/ROOT/6.24.06/x86_64-centos7-gcc11-opt/lib/libCore.so; #12 0x00007f682e411d18 in TScopeAdapter::Init(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, bool, bool) () from /sw/atlas/Athena/22.0.60/InstallArea/x86_64-centos7-gcc11-opt/lib/libDataModelRoot.so; ```. The place in the code where it's crashing in GetSplit after it calls; to StdLen:. ```; if ( mode & kDropStd) {; unsigned int offset = (0==strncmp(""const "",full.c_str(),6)) ? 6 : 0;; RemoveStd( full, offset );; }; ```. where RemoveStd is inlined:. ```; static void RemoveStd(std::string &name, size_t pos = 0); {; size_t len = StdLen({name.data()+pos,name.length()-pos});; if (len) {; ```. So, it calls to StdLen, which apparently then crashes by branching to 0.; It's unfortunately difficult to then tell exactly why that happened.; FWIW, the registers at the crash were:. ```; rip: 0033:0000000000000000 eflags: 0000000000010202; rax: 00000000f",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10353:1483,release,releases,1483,https://root.cern,https://github.com/root-project/root/issues/10353,1,['release'],['releases']
Deployability,"har_traits<char>, std::allocator<char> > > >&, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCling.so; #20 0x00007fffefb1b377 in TCling::AutoLoad(char const*, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCling.so; #21 0x00007ffff560ee86 in TClass::GetClass(char const*, bool, bool, unsigned long, unsigned long) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #22 0x00007ffff563608a in TProtoClass::FillTClass(TClass*) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #23 0x00007ffff56188e5 in TClass::Init(char const*, short, std::type_info const*, TVirtualIsAProxy*, char const*, char const*, int, int, ClassInfo_t*, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #24 0x00007ffff5619f76 in TClass::TClass(char const*, short, std::type_info const&, TVirtualIsAProxy*, char const*, char const*, int, int, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #25 0x00007ffff561a48a in ROOT::CreateClass(char const*, short, std::type_info const&, TVirtualIsAProxy*, char const*, char const*, int, int) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #26 0x00007ffff562906a in ROOT::TGenericClassInfo::GetClass() (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #27 0x00007ffff560ee22 in TClass::GetClass(char const*, bool, bool, unsigned long, unsigned long) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #28 0x00007ffff",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7657:5842,patch,patches,5842,https://root.cern,https://github.com/root-project/root/issues/7657,1,['patch'],['patches']
Deployability,"hashes are not stable when downloading release sources from github, see; https://security.stackexchange.com/a/240209; https://github.com/root-project/root/issues/10503",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10585:39,release,release,39,https://root.cern,https://github.com/root-project/root/pull/10585,1,['release'],['release']
Deployability,"hashes are not stable when downloading release sources from github, see; https://security.stackexchange.com/a/240209; https://github.com/root-project/root/issues/10503. (cherry picked from commit 8f05559cb9d74e5bc6c65bbd39a0dce82b18a3eb)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10674:39,release,release,39,https://root.cern,https://github.com/root-project/root/pull/10674,1,['release'],['release']
Deployability,"hat the wrong behavior is.; -->. I have some data in RDataFrame, and I want to fit them using RooFit. I book a `RooDataSet` using the `RooDataSetHelper` like this; ```cpp; auto data_set = df.Book<double, double>(; RooDataSetHelper(""data_set"", ""title"", RooArgSet(var1, var2)), {""var1"", ""var2""});; ```; The fit is wrong because the `data_set` doesn't respect the limits on `var1` and `var2`, resulting in an incorrect normalization. The only difference in the following simplified fits is that I used; ```cpp; auto data_set = df.Book<double, double>(; ```; for the first one, and ; ```cpp; auto data_set = df.Filter(""var2>2005 && var2<2020"").Book<double, double>(; ```; for the second one. ![all_wrong](https://user-images.githubusercontent.com/23052054/180235896-9f9d8cdb-5804-4567-9f0f-e1279c141777.png); ![all_right](https://user-images.githubusercontent.com/23052054/180235919-42ba997b-7bcb-4462-8b81-eab405454b1d.png). ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->; I expected the RooDataSet to account for the RooRealVar range. ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->; 1. Get any `RDataFrame`; 2. Create a `RooRealVar` with limits narrower than the corresponding data in the `RDataFrame`; 3. Use `RooDataSetHelper` to book a `RooDataSet` from the `RDataFrame` using the `RooRealVar`; 4. Fit the `RooRealVar` of the `RooDataSet`; 5. The fit will be wrong unless you cut on the `RDataFrame` to match the limits of the `RooRealVar`. ### Setup; <!--; 1. ROOT version; 6. Operating system; 7. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->; ROOT 6.26/04; macOS 12.4; Brew install. ### Additional context; <!--; Add any other context about the problem here.; -->",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11017:2247,install,install,2247,https://root.cern,https://github.com/root-project/root/issues/11017,2,['install'],['install']
Deployability,"he correct value, it's just the integral which uses the wrong one. ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->; Integral uses correct parameters. ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->; ```C++; void testIntegralDesync() {; using namespace RooFit;; RooRealVar x(""x"", """", 0, 1);; ; RooRealVar par(""par"", """", -0.005, -5, 5);; RooProduct par_mod(""par_mod"", """", RooArgSet(par, RooConst(10)));; ; // RooPolyVar fn(""fn"", """", x, RooArgList(RooConst(1), par_mod));; // RooRealSumPdf pdf(""pdf"", """", fn, RooConst(1));; ; RooGaussModel gm(""gm"", """", x, RooConst(0), RooConst(0.001));; RooFormulaVar formula(""formula"", ""exp(-@0/@1)"", RooArgList(x, par_mod));; auto fn = gm.convolution(&formula, &x);; RooRealSumPdf pdf(""pdf"", """", *fn, RooConst(1));; ; auto data = pdf.generate(x, NumEvents(1));; ; auto nllBase = pdf.createNLL(*data);; auto nllBatch = pdf.createNLL(*data, BatchMode(""cpu""));; ; gm.verboseEval(10); // printout helps showing the exact problem, since it prints the parameter; ; double nllBaseVal = nllBase->getVal();; double nllBatchVal = nllBatch->getVal();; clog << ""Before changing: "" << nllBaseVal << "" vs "" << nllBatchVal << endl;; ; par.setVal(-0.1);; nllBaseVal = nllBase->getVal();; nllBatchVal = nllBatch->getVal(); ; clog << ""After changing: "" << nllBaseVal << "" vs "" << nllBatchVal << endl; ; }; ```. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->; ROOT master from LCG dev3. ### Additional context; <!--; Add any other context about the problem here.; -->; I tested this with a `RooRealSumPdf` but I'm not sure it is the only one affected or if it is anything with an internal integral.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11578:2865,install,install,2865,https://root.cern,https://github.com/root-project/root/issues/11578,1,['install'],['install']
Deployability,"he following errors in `bindings/jupyroot/python/JupyROOT/kernel/utils.py`:; ```; Traceback (most recent call last):; File ""C:\Users\bellenot\build\x86\release\bin\JupyROOT\kernel\utils.py"", line 70, in __init__; module = importlib.import_module(module_path); File ""c:\python39-32\lib\importlib\__init__.py"", line 127, in import_module; return _bootstrap._gcd_import(name[level:], package, level); File ""<frozen importlib._bootstrap>"", line 1030, in _gcd_import; File ""<frozen importlib._bootstrap>"", line 1007, in _find_and_load; File ""<frozen importlib._bootstrap>"", line 984, in _find_and_load_unlocked; ModuleNotFoundError: No module named 'JupyROOT.kernel.magics.magics\\cppmagic'. During handling of the above exception, another exception occurred:. Traceback (most recent call last):; File ""c:\python39-32\lib\runpy.py"", line 197, in _run_module_as_main; return _run_code(code, main_globals, None,; File ""c:\python39-32\lib\runpy.py"", line 87, in _run_code; exec(code, run_globals); File ""C:\Users\bellenot\build\x86\release\bin\JupyROOT\kernel\rootkernel.py"", line 137, in <module>; main(); File ""C:\Users\bellenot\build\x86\release\bin\JupyROOT\kernel\rootkernel.py"", line 134, in main; IPKernelApp.launch_instance(kernel_class=ROOTKernel); File ""c:\python39-32\lib\site-packages\traitlets\config\application.py"", line 844, in launch_instance; app.initialize(argv); File ""c:\python39-32\lib\site-packages\traitlets\config\application.py"", line 87, in inner; return method(app, *args, **kwargs); File ""c:\python39-32\lib\site-packages\ipykernel\kernelapp.py"", line 637, in initialize; self.init_kernel(); File ""c:\python39-32\lib\site-packages\ipykernel\kernelapp.py"", line 489, in init_kernel; kernel = kernel_factory(parent=self, session=self.session,; File ""c:\python39-32\lib\site-packages\traitlets\config\configurable.py"", line 537, in instance; inst = cls(*args, **kwargs); File ""C:\Users\bellenot\build\x86\release\bin\JupyROOT\kernel\rootkernel.py"", line 67, in __init__; self.magicl",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12951:1139,release,release,1139,https://root.cern,https://github.com/root-project/root/pull/12951,1,['release'],['release']
Deployability,he left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Assuming 'writeEmptyRootPCM' is true in /opt/root_src/io/rootpcm/src/rootclingIO.cxx:144; 2: Taking true branch in /opt/root_src/io/rootpcm/src/rootclingIO.cxx:144; 3: Calling default constructor for 'TObject' in /opt/root_src/io/rootpcm/src/rootclingIO.cxx:145; 4: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 5: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 6: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Calling constructor for 'TFoamVect' in /opt/root_src/math/foam/src/TFoamVect.cxx:171; 2: Calling default constructor for 'TObject' in /opt/root_src/math/foam/src/TFoamVect.cxx:38; 3: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 4: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 5: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: 'rc' is >= 0 in /opt/root_src/main/src/xpdtest.cxx:93; 2: Taking false branch in /opt/root_src/main/src/xpdtest.cxx:93; 3: 'rc' is <= 0 in /opt/root_src/main/src/xpdtest.cxx:96; 4: Taking false branch in /opt/root_src/main/src/xpdtest.cxx:96; 5: 'verbose' is false in /opt/root_src/main/src/xpdtest.cxx:99; 6: '?' condition is false in /opt/root_src/main/src/xpdtest.cxx:99; 7: Taking false branch in /opt/root_src/main/src/xpdtest.cxx:105; 8: Taking false branch in /opt/root_src/main/src/xpdtest.cxx:110; 9: 'rc' is equal to 0 in /opt/root_src/main/src/xpdtest.cxx:134; 10: Left side of '&&' is true in /opt/r,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:35246,Update,UpdateIsOnHeap,35246,https://root.cern,https://github.com/root-project/root/issues/7412,1,['Update'],['UpdateIsOnHeap']
Deployability,"hen trying to fill them. I've attached an example below. ### Reproducer. This is a minimal script that shows that issue. ```cpp; #include <ROOT/RNTupleModel.hxx>; #include <ROOT/RNTupleWriter.hxx>; ; #include <TSystem.h>; ; #include <vector>; #include <variant>; #include <optional>; ; using RNTupleModel = ROOT::Experimental::RNTupleModel;; using RNTupleWriter = ROOT::Experimental::RNTupleWriter;; ; void ntpl_issue(); {; auto model = RNTupleModel::Create();; ; auto fldVvar = model->MakeField<std::vector<std::variant<std::optional<int>,float>>>(""vvar"");; ; auto ntuple = RNTupleWriter::Recreate(std::move(model), ""F"", ""ntpl_issue.root"");; ; for (int i = 0; i < 10; i++) {; fldVvar->clear();; ; for (int j = 0; j < 5; ++j) {; std::variant<std::optional<int>,float> var(1.0);; fldVvar->emplace_back(var);; }; ; ntuple->Fill();; }; }; ```. And this is the error that it produces.; ```; Fatal: (typedValue->size() % fItemSize) == 0 violated at line 2432 of `.../root_src/tree/ntuple/v7/src/RField.cxx'; aborting; ```. Another way to get it to fail is by using `std::vector<std::variant<std::atomic<int>,float>>`. ### ROOT version. 6.33/01 (commit eef2244). ### Installation method. Built from source. ### Operating system. macOS. ### Additional context. I found this issue while trying to generate `std::variant` types in an invalid state by doing something like this. ```cpp; struct S {; operator int() { throw 42; }; };. std::variant<int,float> var;; try {; var = S();; } catch (int) {}; fldVvar->emplace_back(var);; ```. The spec indicates that invalid states are supported, as shown in the line below. I wanted to ask what's the reason for them being supported given that they are not really supposed to be ""legal"", and it seems like one can't successfully generate an RNTuple with an invalid state. It either ends up initializing the first variant or it crashes. https://github.com/root-project/root/blob/95307116ca3dd811ac1b5e496ad7f9828402dc51/tree/ntuple/v7/doc/specifications.md?plain=1#L780",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15534:1307,Install,Installation,1307,https://root.cern,https://github.com/root-project/root/issues/15534,1,['Install'],['Installation']
Deployability,"herited in PyRoot;; due to ""composition over inheritance"" idiom and warnings on bad data type manipulation internally; leading to wrong numerical results. ; Is this going to be for all ROOT classes? No ROOT class should be inherited in a Python class from now on ?. It only affects the last release 6.32.04 and 6.32.06; Release 6.30.02 works fine.; ; Similar issues:; https://github.com/root-project/root/issues/12391; https://root-forum.cern.ch/t/rdataframe-has-no-virtual-destructor/53605; https://root-forum.cern.ch/t/typeerror-no-python-side-overrides-supported-failed-to-compile-the-dispatcher-code/53198/14; . ### Reproducer. ```python; from ROOT import TObject. class C(TObject):; def __init__(self):; super().__init__() # Initialize the base class. def some_method(self):; print(""This is a method in class C.""); ```. ```; In [1]: from ROOT import TObject; ...: ; ...: class C(TObject):; ...: def __init__(self):; ...: super().__init__() # Call the constructor of TObject; ...: ; Installed ROOT event loop hook.; input_line_35:10:62: error: unknown type name '__va_list_tag'; void DoError(int arg0, const char* arg1, const char* arg2, __va_list_tag[1] arg3) const {; ^; input_line_35:10:79: error: expected ')'; void DoError(int arg0, const char* arg1, const char* arg2, __va_list_tag[1] arg3) const {; ^; input_line_35:10:15: note: to match this '('; void DoError(int arg0, const char* arg1, const char* arg2, __va_list_tag[1] arg3) const {; ^; input_line_35:11:47: error: use of undeclared identifier 'arg3'; return TObject::DoError(arg0, arg1, arg2, arg3);; ^; ---------------------------------------------------------------------------; TypeError Traceback (most recent call last); Cell In[1], line 3; 1 from ROOT import TObject; ----> 3 class C(TObject):; 4 def __init__(self):; 5 super().__init__() # Call the constructor of TObject. TypeError: no python-side overrides supported (failed to compile the dispatcher code); ```. ### ROOT version. ROOT Version: 6.32.02; Built for linuxx8664g",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/16520:1346,Install,Installed,1346,https://root.cern,https://github.com/root-project/root/issues/16520,1,['Install'],['Installed']
Deployability,"hi -. In the past few days, we've been seeing a new dictionary-related crash; in the atlas builds using root-6.24.00-patches. I apologize that i don't have a standalone reproducer for this, but it; can be reproduced readily on lxplus in a recent atlas nightly:. ```; $ asetup master--dev4LCG,Athena,r2021-03-21; $ python; >>> import ROOT; >>> cl1 = ROOT.TClass.GetClass('LArAutoCorrMC'); *** Break *** segmentation violation; ...; ```. Note that the problem does _not_ occur if run against the dbg root libraries. Here is the stack trace:. ```; #0 0x00007fffefb5d19f in TCling::RegisterModule(char const*, char const**, char const**, char const*, char const*, void (*)(), std::vector<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, int>, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, int> > > const&, char const**, bool, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCling.so; #1 0x00007ffff551ec61 in TROOT::RegisterModule(char const*, char const**, char const**, char const*, char const*, void (*)(), std::vector<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, int>, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, int> > > const&, char const**, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #2 0x00007fffd50a6cf2 in (anonymous namespace)::TriggerDictionaryInitialization_libAthenaPoolUtilitiesDict_Impl() (); from /cvmfs/atlas-nightlies.cern.ch/repo/sw/master--dev4LCG_Athena_x86_64-centos7-gcc8-opt/2021-03-21T0600/Athena/22.0.30/InstallArea/x86_64-centos7-gcc8-opt/lib/libAthenaPoolUtilitiesDict.so; #3 0x00007fffd508bad3 in __static_initialization_and_destruction_0(int, int) [clone .constprop.966] (); from /cvmfs/atlas-nightlies.cer",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7657:117,patch,patches,117,https://root.cern,https://github.com/root-project/root/issues/7657,1,['patch'],['patches']
Deployability,"hi -. This is relevant to root 6.24.06, but the issue described appears to be present in 6.26.00 as well. I recently saw a report of a crash in the ATLAS trigger code; (https://its.cern.ch/jira/browse/ATR-25254) that included this stack trace:. ```; #5 <signal handler called>; #6 0x0000000000000000 in ?? (); #7 0x00007f68343efc71 in TClassEdit::GetSplit(char const*, std::vector<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::allocator<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > >&, int&, TClassEdit::EModType) () from /sw/atlas/sw/lcg/releases/LCG_101_ATLAS_14/ROOT/6.24.06/x86_64-centos7-gcc11-opt/lib/libCore.so; #8 0x00007f68343f12f1 in TClassEdit::TSplitType::TSplitType(char const*, TClassEdit::EModType) () from /sw/atlas/sw/lcg/releases/LCG_101_ATLAS_14/ROOT/6.24.06/x86_64-centos7-gcc11-opt/lib/libCore.so; #9 0x00007f68343f23f1 in TClassEdit::GetNormalizedName(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, std::basic_string_view<char, std::char_traits<char> >) () from /sw/atlas/sw/lcg/releases/LCG_101_ATLAS_14/ROOT/6.24.06/x86_64-centos7-gcc11-opt/lib/libCore.so; #10 0x00007f683440dc8b in TClass::GetClass(char const*, bool, bool, unsigned long, unsigned long) () from /sw/atlas/sw/lcg/releases/LCG_101_ATLAS_14/ROOT/6.24.06/x86_64-centos7-gcc11-opt/lib/libCore.so; #11 0x00007f683441e338 in TClassRef::InternalGetClass() const () from /sw/atlas/sw/lcg/releases/LCG_101_ATLAS_14/ROOT/6.24.06/x86_64-centos7-gcc11-opt/lib/libCore.so; #12 0x00007f682e411d18 in TScopeAdapter::Init(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, bool, bool) () from /sw/atlas/Athena/22.0.60/InstallArea/x86_64-centos7-gcc11-opt/lib/libDataModelRoot.so; ```. The place in the code where it's crashing in GetSplit after it calls; to StdLen:. ```; if ( mode & kDropStd) {; unsigned int offset = (0==strncmp(""const "",full.c_str(),6)) ? 6 : 0;; RemoveStd(",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10353:616,release,releases,616,https://root.cern,https://github.com/root-project/root/issues/10353,2,['release'],['releases']
Deployability,"hich defines `strlcat` as a global symbol. Since `rootcling_impl` also defines this symbol as global, there is an unresolved conflict. ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->. Tbh I'm not sure how this should be fixed. Clearly by default there is no `strlcat` et al on linux by default, *but* there is libbsd and this should be checked somwhere. Currently this check is in [core/foundation/inc/ROOT/RConfig.hxx:248-276](https://github.com/root-project/root/blob/fd244e56523bf5c5957bfae5117b36ca73c27813/core/foundation/inc/ROOT/RConfig.hxx#L248-L276) and only takes into account the operating system. Check with [`__has_include`](https://en.cppreference.com/w/cpp/preprocessor/include) if `bsd/string.h` exists on other unixes *might* be a way to do it, but I would have no clue how to do the proper linking. Also it doesn't fix the issue if libbsd is introduced in a downstream project using ROOT. Alternatively, I think the ""better"" solution is to add a `link_libbsd` build option (disabled by default ofc). If enabled, it adds `-lbsd` to the public link flags of `Clib` and sets some compile flag like `HAS_STRLCPY_VIA_LIBBSD` (in addition to `HAS_STRLCPY`) that triggers the inclusion of bsd/string.h in clib/inc/strlcpy.h in the `#else` case of `#ifndef HAS_STRLCPY`. ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->. git master, `builtin_llvm=OFF`, #12151 fixed via `${CLING_BINARY_DIR}` instead of `${LLVM_BINARY_DIR}`. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->. master, Debian Sid, LLVM 13.0.1-11, gcc 12.2.0-3. ### Additional context; <!--; Add any other context about the problem here.; -->",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12152:11584,install,install,11584,https://root.cern,https://github.com/root-project/root/issues/12152,1,['install'],['install']
Deployability,"his '('; constexpr explicit(; ^; C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\\include\utility(218,24): error G08EB1F86: expected member name or ';' after declaration specifiers [C:\Users\sftnight\build\release\core\G__Core.vcxproj]; constexpr explicit(!is_convertible_v<const _Other1&, _Ty1> || !is_convertible_v<const _Other2&, _Ty2>); ~~~~~~~~~~~~~~~~~~ ^; C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\\include\utility(218,24): error GC66A3811: expected ')' [C:\Users\sftnight\build\release\core\G__Core.vcxproj]; C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\\include\utility:218:23: note: to match this '('; constexpr explicit(!is_convertible_v<const _Other1&, _Ty1> || !is_convertible_v<const _Other2&, _Ty2>); ^; In file included from input_line_5:1:; In file included from C:/Users/sftnight/build/release/include\Rtypes.h:191:; In file included from C:/Users/sftnight/build/release/include/TGenericClassInfo.h:21:; In file included from C:/Users/sftnight/build/release/include/TSchemaHelper.h:17:; In file included from C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\\include\string:11:; In file included from C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\\include\xstring:14:; In file included from C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\\include\xmemory:16:; C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\\include\xutility(63,31): error G959205E0: '_To' does not refer to a value [C:\Users\sftnight\build\release\core\G__Core.vcxproj]; return __builtin_bit_cast(_To, _Val);; ^; C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\\include\xutility:51:17: note: declared here; template <class _To, class _From,; ^; CUSTOMBUILD : error : Error loading th",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6143:2701,release,release,2701,https://root.cern,https://github.com/root-project/root/pull/6143,2,['release'],['release']
Deployability,hod_vectorcall () from /lib64/libpython3.13.so.1.0; #35 0x00007f3f14178546 in _PyEval_EvalFrameDefault () from /lib64/libpython3.13.so.1.0; #36 0x00007f3f1423d53d in _PyObject_VectorcallDictTstate () from /lib64/libpython3.13.so.1.0; #37 0x00007f3f14291f67 in slot_tp_call () from /lib64/libpython3.13.so.1.0; #38 0x00007f3f1415ea6b in _PyObject_MakeTpCall () from /lib64/libpython3.13.so.1.0; #39 0x00007f3f14173894 in _PyEval_EvalFrameDefault () from /lib64/libpython3.13.so.1.0; #40 0x00007f3f141a5d0b in slot_tp_init () from /lib64/libpython3.13.so.1.0; #41 0x00007f3f1415e9c5 in _PyObject_MakeTpCall () from /lib64/libpython3.13.so.1.0; #42 0x00007f3f1417d188 in _PyEval_EvalFrameDefault () from /lib64/libpython3.13.so.1.0; #43 0x00007f3f1423f8eb in PyEval_EvalCode () from /lib64/libpython3.13.so.1.0; #44 0x00007f3f1425afe4 in builtin_exec () from /lib64/libpython3.13.so.1.0; #45 0x00007f3f1418e3e7 in cfunction_vectorcall_FASTCALL_KEYWORDS () from /lib64/libpython3.13.so.1.0; #46 0x00007f3f14160f57 in PyObject_Vectorcall () from /lib64/libpython3.13.so.1.0; #47 0x00007f3f14173894 in _PyEval_EvalFrameDefault () from /lib64/libpython3.13.so.1.0; #48 0x00007f3f142797ed in pymain_run_module () from /lib64/libpython3.13.so.1.0; #49 0x00007f3f1427500c in Py_RunMain () from /lib64/libpython3.13.so.1.0; #50 0x00007f3f1422bcbc in Py_BytesMain () from /lib64/libpython3.13.so.1.0; #51 0x00007f3f13e3c1c8 in __libc_start_call_main () from /lib64/libc.so.6; #52 0x00007f3f13e3c28b in __libc_start_main_impl () from /lib64/libc.so.6; #53 0x00005619b4d2b095 in _start (); ===========================================================. CMake Error at /builddir/build/BUILD/root-6.32.00-build/root-6.32.00/cmake/modules/RootTestDriver.cmake:232 (message):; error code: 129; ```. ### Reproducer. Compile root with Python 3.13. Run tests. ### ROOT version. 6.32.00. ### Installation method. RPM package build from source. ### Operating system. Fedora 41 (rawhide). ### Additional context. _No response_,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15799:25531,Install,Installation,25531,https://root.cern,https://github.com/root-project/root/issues/15799,1,['Install'],['Installation']
Deployability,"hold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_place/lib/python3.9/site-packages/ROOT/__init__.py"", line 22, in <module>; import cppyy; File ""/Users/christopherburr/miniconda3/conda-bld/root_base_1630311151559/_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_place/lib/python3.9/site-packages/cppyy/__init__.py"", line 62, in <module>; raise ImportError(; ImportError: Failed to import libcppyy3_9. Please check that ROOT has been built for Python 3.9; Tests failed for root_base-6.24.4-py39h04197d9_0.tar.bz2 - moving package to /Users/christopherburr/miniconda3/conda-bld/broken; ```. This issue was introduced in https://github.com/root-project/root/commit/aefe374411d9bfecaa4a9eb764aee05f7b76a8e6 as the patch uses `CMAKE_SHARED_LIBRARY_SUFFIX` despite the fact that the suffix is overridden by:. https://github.com/root-project/root/blob/c06ad10a69b6b173fd21692f38394700b635abb0/bindings/pyroot/cppyy/cppyy-backend/CMakeLists.txt#L36-L37. https://github.com/root-project/root/blob/4eab5042f748d08f62f224d44a4ac9c82b9a3a13/cmake/modules/RootMacros.cmake#L37-L48. https://github.com/root-project/root/blob/4eab5042f748d08f62f224d44a4ac9c82b9a3a13/cmake/modules/RootMacros.cmake#L21-L25. ### Expected behavior. `CMAKE_INSTALL_PYTHONDIR` creates the correctly named symlinks for the binaries it installed. ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->. ### Additional context; <!--; Add any other context about the problem here.; -->",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/8933:3247,install,installed,3247,https://root.cern,https://github.com/root-project/root/issues/8933,2,['install'],"['install', 'installed']"
Deployability,"home/apal/G4/geant4-install/lib/libG4event.so; #10 0x00007fc42d2240f7 in G4RunManager::DoEventLoop(int, char const*, int) () at /home/apal/G4/geant4-install/lib/libG4run.so; #11 0x00007fc42d221d22 in G4RunManager::BeamOn(int, char const*, int) () at /home/apal/G4/geant4-install/lib/libG4run.so; #12 0x00007fc42d23fb27 in G4RunMessenger::SetNewValue(G4UIcommand*, G4String) () at /home/apal/G4/geant4-install/lib/libG4run.so; #13 0x00007fc42d14f35f in G4UIcommand::DoIt(G4String) () at /home/apal/G4/geant4-install/lib/libG4intercoms.so; #14 0x00007fc42d16cc9a in G4UImanager::ApplyCommand(char const*) () at /home/apal/G4/geant4-install/lib/libG4intercoms.so; #15 0x00007fc42d2e28bf in G4VBasicShell::ExecuteCommand(G4String const&) () at /home/apal/G4/geant4-install/lib/libG4interfaces.so; #16 0x00007fc42d2e7afe in G4VBasicShell::ApplyShellCommand(G4String const&, bool&, bool&) () at /home/apal/G4/geant4-install/lib/libG4interfaces.so; #17 0x00007fc42d2daac4 in G4UIQt::ButtonCallback(QString const&) () at /home/apal/G4/geant4-install/lib/libG4interfaces.so; #18 0x00007fc4283cf328 in QMetaObject::activate(QObject*, int, int, void**) () at /usr/lib/x86_64-linux-gnu/libQt5Core.so.5; #19 0x00007fc428f0e3e6 in QAction::triggered(bool) () at /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5; #20 0x00007fc428f10aa2 in QAction::activate(QAction::ActionEvent) () at /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5; #21 0x00007fc42900ae10 in () at /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5; #22 0x00007fc42900b035 in QAbstractButton::mouseReleaseEvent(QMouseEvent*) () at /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5; #23 0x00007fc4290fe5fe in QToolButton::mouseReleaseEvent(QMouseEvent*) () at /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5; #24 0x00007fc428f572b6 in QWidget::event(QEvent*) () at /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5; #25 0x00007fc4290fe6a8 in QToolButton::event(QEvent*) () at /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5; #26 0x00007fc428f14a66 in QApplicationPrivate::notif",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11071:1493,install,install,1493,https://root.cern,https://github.com/root-project/root/issues/11071,1,['install'],['install']
Deployability,"hon3.7/pickle.py"", line 504, in save; f(self, obj) # Call unbound method with explicit self; File ""/cvmfs/sft.cern.ch/lcg/views/LCG_97python3/x86_64-centos7-gcc9-opt/lib/python3.7/site-packages/dill/_dill.py"", line 1269, in save_module; state=_main_dict); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 662, in save_reduce; save(state); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 504, in save; f(self, obj) # Call unbound method with explicit self; File ""/cvmfs/sft.cern.ch/lcg/views/LCG_97python3/x86_64-centos7-gcc9-opt/lib/python3.7/site-packages/dill/_dill.py"", line 902, in save_module_dict; StockPickler.save_dict(pickler, obj); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 859, in save_dict; self._batch_setitems(obj.items()); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 885, in _batch_setitems; save(v); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 504, in save; f(self, obj) # Call unbound method with explicit self; File ""/cvmfs/sft.cern.ch/lcg/views/LCG_97python3/x86_64-centos7-gcc9-opt/lib/python3.7/site-packages/dill/_dill.py"", line 902, in save_module_dict; StockPickler.save_dict(pickler, obj); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 859, in save_dict; self._batch_setitems(obj.items()); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 890, in _batch_setitems; save(v); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 504, in save; f(self, obj) # Call unbound method with explicit se",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6370:4273,release,releases,4273,https://root.cern,https://github.com/root-project/root/issues/6370,1,['release'],['releases']
Deployability,"hon3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 859, in save_dict; self._batch_setitems(obj.items()); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 890, in _batch_setitems; save(v); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 504, in save; f(self, obj) # Call unbound method with explicit self; File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 819, in save_list; self._batch_appends(obj); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 846, in _batch_appends; save(tmp[0]); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 549, in save; self.save_reduce(obj=obj, *rv); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 633, in save_reduce; save(cls); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 504, in save; f(self, obj) # Call unbound method with explicit self; File ""/cvmfs/sft.cern.ch/lcg/views/LCG_97python3/x86_64-centos7-gcc9-opt/lib/python3.7/site-packages/dill/_dill.py"", line 1330, in save_type; StockPickler.save_global(pickler, obj); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 960, in save_global; (obj, module_name, name)) from None; _pickle.PicklingError: Can't pickle <class '_pythonization.compose_method.<locals>.composition_pythonizor'>: it's not found as _pythonization.compose_method.<locals>.composition_pythonizor; ```. ## Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; ",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6370:5808,release,releases,5808,https://root.cern,https://github.com/root-project/root/issues/6370,1,['release'],['releases']
Deployability,"hrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:362:3: error: reference to __device__ function '__nvvm_atom_cta_add_gen_i' in __host__ function; __nvvm_atom_cta_add_gen_i(__p, __v);; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:362:3: note: '__nvvm_atom_cta_add_gen_i' declared here; cling: fatal error: too many errors emitted, stopping now [-ferror-limit=]; cling: In file included from input_line_4:36:; In file included from /opt/spack-modules/linux-ubuntu20.04-skylake_avx512/gcc-9.3.0/gcc-10.2.0-nd7xsa2anuya7be46rjsaxbiobtgguod/lib/gcc/x86_64-pc-linux-gnu/10.2.0/../../../../include/c++/10.2.0/cassert:44:; In file included from /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/assert.h:8:; /usr/include/assert.h:69:13: error: exception specification in declaration does not match previous declaration; extern void __assert_fail (const char *__assertion, const char *__file,; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_runtime_wrapper.h:349:31: note: previous declaration is here; __device__ static inline void __assert_fail(const char *__message,; ^; cling-ptx: Forward declarations from /home/sehrig/workspace/root-project/install/lib/libcomplexDict.rootmap:2:19: error: explicit specialization of undeclared template class 'complex'; template <> class complex<float>;; ^ ~~~~~~~; cling-ptx: Forward declarations from /home/sehrig/workspace/root-project/install/lib/libcomplexDict.rootmap:3:19: error: explicit specialization of non-template class 'complex'; template <> class complex<double>;; ^ ~~~~~~~~; IncrementalCUDADeviceCompiler::declare(); failed at compile ptx code; ------------------------------------------------------------------; | Welcome to ROOT 6.25/01 https://root.cern |; | (c) 1995-2021, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built f",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7518:12895,install,install,12895,https://root.cern,https://github.com/root-project/root/issues/7518,1,['install'],['install']
Deployability,http: latest civetweb 1.11 plus OpenSSL patches,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2649:40,patch,patches,40,https://root.cern,https://github.com/root-project/root/pull/2649,1,['patch'],['patches']
Deployability,https://github.com/dpiparo/VecOps/releases/tag/v0.1,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1613:34,release,releases,34,https://root.cern,https://github.com/root-project/root/pull/1613,1,['release'],['releases']
Deployability,https://github.com/lz4/lz4/releases/tag/v1.9.3,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7197:27,release,releases,27,https://root.cern,https://github.com/root-project/root/pull/7197,1,['release'],['releases']
Deployability,https://github.com/root-project/cling/pull/158. NOTE: must apply textinput patches directly to cling.git.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/712:75,patch,patches,75,https://root.cern,https://github.com/root-project/root/pull/712,1,['patch'],['patches']
Deployability,"https://github.com/root-project/root/blob/30fcf1f071d36a4142daf9f2e75aa6c1338fec38/core/foundation/inc/ROOT/libcpp_string_view.h#L10. During the execution of `cmake --build . -- install` per [this wiki's instruction](https://root.cern/install/#build-from-source) on branch v6-22-08: cmake crashes at 26%, throwing the following error:. `[ 26%] Building CXX object core/foundation/CMakeFiles/Foundation_Stage1.dir/src/RConversionRuleParser.cxx.o; In file included from[REDACTED]/root/core/foundation/inc/ROOT/RWrap_libcpp_string_view.h:545,; from [REDACTED]/root/core/foundation/inc/ROOT/RStringView.hxx:26,; from [REDACTED]root/core/foundation/inc/TClassEdit.h:65,; from[REDACTED]/root/core/foundation/src/RConversionRuleParser.cxx:18:; [REDACTED]root/core/foundation/inc/ROOT/libcpp_string_view.h: In member function ‘constexpr std::experimental::__ROOT::basic_string_view<_CharT, _Traits>::size_type std::experimental::__ROOT::basic_string_view<_CharT, _Traits>::max_size() const’:; [REDACTED]/root/core/foundation/inc/ROOT/libcpp_string_view.h:275:63: error: ‘numeric_limits’ is not a member of ‘std’; 275 | pe max_size() const _NOEXCEPT { return (_VSTD::numeric_limits<size_type>::max)(); }; |`. The following insertion at the reference above fixes this behaviour:. `#include <limits>`",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/8610:178,install,install,178,https://root.cern,https://github.com/root-project/root/issues/8610,2,['install'],['install']
Deployability,https://github.com/root-project/root/pull/3386 reloaded. This intends to fix PyROOT experimental until https://bitbucket.org/wlav/cppyy-backend/pull-requests/17/remove-special-handling-for-ginterpreter is merged and ROOT's copy of Cppyy is updated with a future release.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3410:240,update,updated,240,https://root.cern,https://github.com/root-project/root/pull/3410,2,"['release', 'update']","['release', 'updated']"
Deployability,"https://root.cern/doc/master/classTAxis.html#afc19787e727c9e3c85be72eba03338da. Currently this method's doxygen contains:; ```; <p>Define new text attributes for the label number ""labNum"". </p>; <p>It allows to do a fine tuning of the labels. All the attributes can be changed, even the label text itself.</p>; <dl class=""params""><dt>Parameters</dt><dd>; . [in] | labNum | Number of the label to be changed, negative numbers start from the end; -- | -- | --; [in] | labAngle | New angle value; [in] | labSize | New size (0 erase the label); [in] | labAlign | New alignment value; [in] | labColor | New label color; [in] | labFont | New label font; [in] | labText | New label text. </dd>; </dl>; <p>If an attribute should not be changed just give the value ""-1"".</p>; <p>If labnum=0 the list of modified labels is reset. </p>; ```. Things which can be improved:; A note that 'deleting' a label is accomplished via setting the label size to 0; A note that the empty string is the '-1'/'do not change' for the label itself. Although the author might have felt it was obvious being the default value, to someone looking to modify labels, they might actually try to use an empty string to delete the label.; A note that you cannot change label sizes or alignments or rotations one-by-one, only one value takes precedence (whether first or last, probably last I'd expect, since one might only modify a single bin). . ### Setup; 1. ROOT version = master (March 30, 2022); 2. Operating system = CentOS7; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself. = LCG release",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10279:1535,install,install,1535,https://root.cern,https://github.com/root-project/root/issues/10279,2,"['install', 'release']","['install', 'release']"
Deployability,"https://root.cern/forum; preferably using the command (.forum bug) in the ROOT prompt.; Only if you are really convinced it is a bug in ROOT then please submit a; report at https://root.cern/bugs or (preferably) using the command (.gh bug) in; the ROOT prompt. Please post the ENTIRE stack trace; from above as an attachment in addition to anything else; that might help us fixing this issue.; ===========================================================; #10 0x00007f05fa744a7e in ?? (); #11 0x00007ffd45bee240 in ?? (); #12 0x00007f060b10d028 in ?? (); #13 0x00007ffd45bee270 in ?? (); #14 0x00007f05fa745920 in ?? (); #15 0x00007f060b10c1a0 in ?? (); #16 0x00007ffd45bee260 in ?? (); #17 0x00007ffd45bee2c0 in ?? (); #18 0x00007f05fa745b0d in ?? (); #19 0x000000000204fc10 in ?? (); #20 0x00000000133b2cc8 in ?? (); #21 0x00000000133b2cc0 in ?? (); #22 0x00007f060309016c in (anonymous namespace)::local_cxa_atexit(void (*)(void*), void*, cling::Interpreter*) () from /cvmfs/lhcb.cern.ch/lib/lcg/releases/ROOT/6.30.04-dd2db/x86_64-el9-gcc13-dbg/lib/libCling.so; #23 0x00007ffd45bee260 in ?? (); #24 0x00007f060b10d110 in ?? (); #25 0x00007f060b10d020 in ?? (); #26 0x00007f0607fe2e7a in ?? () from /cvmfs/lhcb.cern.ch/lib/lcg/releases/ROOT/6.30.04-dd2db/x86_64-el9-gcc13-dbg/lib/libCling.so; #27 0x00007f05fa741095 in ?? (); #28 0x00007f05fa740f20 in ?? (); #29 0x00007f060471d882 in (anonymous namespace)::GenericLLVMIRPlatformSupport::initialize(llvm::orc::JITDylib&) () from /cvmfs/lhcb.cern.ch/lib/lcg/releases/ROOT/6.30.04-dd2db/x86_64-el9-gcc13-dbg/lib/libCling.so; #30 0x00007f06031155f3 in cling::IncrementalExecutor::runStaticInitializersOnce(cling::Transaction&) () from /cvmfs/lhcb.cern.ch/lib/lcg/releases/ROOT/6.30.04-dd2db/x86_64-el9-gcc13-dbg/lib/libCling.so; #31 0x00007f0603092698 in cling::Interpreter::executeTransaction(cling::Transaction&) () from /cvmfs/lhcb.cern.ch/lib/lcg/releases/ROOT/6.30.04-dd2db/x86_64-el9-gcc13-dbg/lib/libCling.so; #32 0x00007f0603125b4a in cling::Inc",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15511:13977,release,releases,13977,https://root.cern,https://github.com/root-project/root/issues/15511,1,['release'],['releases']
Deployability,https://root.cern/install/: add --depth=20 to git clone commands,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10238:18,install,install,18,https://root.cern,https://github.com/root-project/root/issues/10238,1,['install'],['install']
Deployability,https://root.cern/install/build_from_source/#relevant-cmake-variables mentions `-DBUILD_SHARED_LIBS` but this isn't actually supported. We should remove the option. See https://github.com/root-project/root/issues/8448 for additional background,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/8532:18,install,install,18,https://root.cern,https://github.com/root-project/root/issues/8532,1,['install'],['install']
Deployability,https://sft.its.cern.ch/jira/browse/ROOT-7818; https://sft.its.cern.ch/jira/browse/ROOT-7721; https://sft.its.cern.ch/jira/browse/ROOT-7654; https://sft.its.cern.ch/jira/browse/ROOT-7319; https://sft.its.cern.ch/jira/browse/ROOT-7285; Possibly more... Adapted from:; http://pkgs.fedoraproject.org/cgit/llvm.git/tree/0001-add-gcc-abi_tag-support.patch,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/124:345,patch,patch,345,https://root.cern,https://github.com/root-project/root/pull/124,1,['patch'],['patch']
Deployability,"i><a href=""https://github.com/minimistjs/minimist/commit/ab033567b9c8b31117cb026dc7f1e592ce455c65""><code>ab03356</code></a> [Dev Deps] switch from <code>covert</code> to <code>nyc</code></li>; <li><a href=""https://github.com/minimistjs/minimist/commit/49c5f9fb7e6a92db9eb340cc679de92fb3aacded""><code>49c5f9f</code></a> [Dev Deps] update <code>covert</code>, <code>tape</code>; remove unnecessary <code>tap</code></li>; <li><a href=""https://github.com/minimistjs/minimist/commit/783a49bfd47e8335d3098a8cac75662cf71eb32a""><code>783a49b</code></a> [meta] create FUNDING.yml; add <code>funding</code> in package.json</li>; <li>Additional commits viewable in <a href=""https://github.com/minimistjs/minimist/compare/v0.0.8...v1.2.7"">compare view</a></li>; </ul>; </details>; <details>; <summary>Maintainer changes</summary>; <p>This version was pushed to npm by <a href=""https://www.npmjs.com/~ljharb"">ljharb</a>, a new releaser for minimist since your current version.</p>; </details>; <br />. Updates `mkdirp` from 0.5.1 to 0.5.6; <details>; <summary>Commits</summary>; <ul>; <li><a href=""https://github.com/isaacs/node-mkdirp/commit/92f086d2e28c6848951776fbe8ecadcf54c80c29""><code>92f086d</code></a> 0.5.6</li>; <li><a href=""https://github.com/isaacs/node-mkdirp/commit/2a2812536c0d3e23dce78978e1d4691d7ff445a7""><code>2a28125</code></a> clean up tests</li>; <li><a href=""https://github.com/isaacs/node-mkdirp/commit/c905d653e9cd294f7124c83ad499d95baed17088""><code>c905d65</code></a> update minimist</li>; <li><a href=""https://github.com/isaacs/node-mkdirp/commit/049cf185c9e91727bc505b796a2d16a4fe70d64d""><code>049cf18</code></a> 0.5.5</li>; <li><a href=""https://github.com/isaacs/node-mkdirp/commit/bea638225aa991095f29a9e16d914effa0c134fe""><code>bea6382</code></a> Remove unnecessary umask calls</li>; <li><a href=""https://github.com/isaacs/node-mkdirp/commit/42a012cc6dbd4648790f380df88190bb697dbb9c""><code>42a012c</code></a> 0.5.4</li>; <li><a href=""https://github.com/isaacs/node-mkdirp/commit/28679",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11865:7521,Update,Updates,7521,https://root.cern,https://github.com/root-project/root/pull/11865,1,['Update'],['Updates']
Deployability,"iDict=false, pcmsNames=..., ; includes=..., preprocDefines=..., preprocUndefines=..., warnings=..., ; rootmapFileName=..., rootmapLibName=..., interpreteronly=false, ; doSplit=false, isCxxmodule=false, writeEmptyRootPCM=false, ; selSyntaxOnly=false, noIncludePaths=false, noGlobalUsingStd=false, ; headersNames=..., failOnWarnings=false, ofilename=...); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/dictgen/src/rootcling_impl.cxx:5371; #23 0x00007ffff307131c in GenReflexMain (argc=3, argv=0x7fffffff8d40); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/dictgen/src/rootcling_impl.cxx:6071; #24 0x00007ffff30717b3 in ROOT_rootcling_Driver (argc=5, argv=0x7fffffff8d38, ; config=...); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/dictgen/src/rootcling_impl.cxx:6148; #25 0x0000000000401269 in main (argc=5, argv=0x7fffffff8d38); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/main/src/rootcling.cxx:43; ```. The crash occurs here in TClingUtils.cxx:. ```; } else {; return TST->getArg(index).getAsType();; }; ```. because the Kind of this argument is clang::TemplateArgument::Expression,; not Type. This change fixes the crash for me:. ```; diff --git a/core/clingutils/src/TClingUtils.cxx b/core/clingutils/src/TClingUtils.cxx; index 2373f0c..ee0cf7c 100644; --- a/core/clingutils/src/TClingUtils.cxx; +++ b/core/clingutils/src/TClingUtils.cxx; @@ -4765,7 +4765,8 @@ clang::QualType ROOT::TMetaUtils::ReSubstTemplateArg(clang::QualType input, cons; // (See AddDefaultParameters).; return input;; } else {; - return TST->getArg(index).getAsType();; + if (TST->getArg(index).getKind() == clang::TemplateArgument::Type); + return TST->getArg(index).getAsType();; }; }; }; ```. This is a blocker for ATLAS testing with gcc12.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11259:6990,patch,patches,6990,https://root.cern,https://github.com/root-project/root/issues/11259,2,['patch'],['patches']
Deployability,"ib/libCling.so; #5 0x00002b8fcf63cfae in clang::ASTReader::FindExternalVisibleDeclsByName(clang::DeclContext const*, clang::DeclarationName) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #6 0x00002b8fcf758534 in clang::MultiplexExternalSemaSource::FindExternalVisibleDeclsByName(clang::DeclContext const*, clang::DeclarationName) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #7 0x00002b8fd105c4ee in clang::DeclContext::lookup(clang::DeclarationName) const () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #8 0x00002b8fcfb18f77 in LookupDirect(clang::Sema&, clang::LookupResult&, clang::DeclContext const*) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #9 0x00002b8fcfb19a5a in CppNamespaceLookup(clang::Sema&, clang::LookupResult&, clang::ASTContext&, clang::DeclContext*, (anonymous namespace)::UnqualUsingDirectiveSet&) [clone .isra.0] () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #10 0x00002b8fcfb1c4f5 in clang::Sema::CppLookupName(clang::LookupResult&, clang::Scope*) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #11 0x00002b8fcfb1ca1d in clang::Sema::LookupName(clang::LookupResult&, clang::Scope*, bool) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #12 0x00002b8fcf87cf29 in clang::Sema::HandleDeclarator(clang::Scope*, clang::Declarator&, llvm::MutableArrayRef<clang::T",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7093:4943,patch,patch,4943,https://root.cern,https://github.com/root-project/root/issues/7093,1,['patch'],['patch']
Deployability,"ibraryInfo&, llvm::TargetTransformInfo&, llvm::DominatorTree&, llvm::OptimizationRemarkEmitter&, llvm::BlockFrequencyInfo*, llvm::ProfileSummaryInfo*, unsigned int, llvm::LoopInfo*) (in /export/home/jb242989/root_v6.32.02_deb/lib/libCling.so.6.32.02); ==75628== by 0xC9C31AC: llvm::InstCombinePass::run(llvm::Function&, llvm::AnalysisManagerllvm::Function&) (in /export/home/jb242989/root_v6.32.02_deb/lib/libCling.so.6.32.02); ==75628== by 0x978A08D: llvm::detail::PassModel<llvm::Function, llvm::InstCombinePass, llvm::PreservedAnalyses, llvm::AnalysisManagerllvm::Function>::run(llvm::Function&, llvm::AnalysisManagerllvm::Function&) (in /export/home/jb242989/root_v6.32.02_deb/lib/libCling.so.6.32.02); ==75628== by 0x979857D: llvm::detail::PassModel<llvm::Function, llvm::PassManager<llvm::Function, llvm::AnalysisManagerllvm::Function>, llvm::PreservedAnalyses, llvm::AnalysisManagerllvm::Function>::run(llvm::Function&, llvm::AnalysisManagerllvm::Function&) (in /export/home/jb242989/root_v6.32.02_deb/lib/libCling.so.6.32.02); ==75628== by 0xD6893E5: llvm::ModuleToFunctionPassAdaptor::run(llvm::Module&, llvm::AnalysisManagerllvm::Module&) (in /export/home/jb242989/root_v6.32.02_deb/lib/libCling.so.6.32.02); ==75628== by 0x9789E2D: llvm::detail::PassModel<llvm::Module, llvm::ModuleToFunctionPassAdaptor, llvm::PreservedAnalyses, llvm::AnalysisManagerllvm::Module>::run(llvm::Module&, llvm::AnalysisManagerllvm::Module&) (in /export/home/jb242989/root_v6.32.02_deb/lib/libCling.so.6.32.02); ==75628== by 0x9559F36: cling::BackendPasses::runOnModule(llvm::Module&, int) (in /export/home/jb242989/root_v6.32.02_deb/lib/libCling.so.6.32.02); ==75628==; ```. Should this be added to the suppression file or is it a real issue?. ### Reproducer. Running valgrind on [CreateTreeTestv2.tar.gz](https://github.com/user-attachments/files/16392930/CreateTreeTestv2.tar.gz). ### ROOT version. 6.32.02	. ### Installation method. local. ### Operating system. linux. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/16123:8225,Install,Installation,8225,https://root.cern,https://github.com/root-project/root/issues/16123,1,['Install'],['Installation']
Deployability,"icPdf pdfxy{""pdfxy"", ""1.0 + x - x + y - y"", {x, y}};. RooProdPdf pdf{""pdf"", ""pdf"", pdfx, RooFit::Conditional(pdfxy, y)};. RooArgSet normSet{x, y};. RooCategory cat{""cat"", ""cat"", {{""0"", 0}}};; RooSimultaneous simPdf{""simPdf"", ""simPdf"", {{""0"", &pdf}}, cat};. {; std::cout << ""This looks good:"" << std::endl;; RooFit::Detail::CompileContext ctx{normSet};; std::unique_ptr<RooAbsPdf> compiled{static_cast<RooAbsPdf*>(pdf.compileForNormSet(normSet, ctx).release())};; compiled->getVal(normSet);; }; {; std::cout << ""Too many integrals:"" << std::endl;; RooFit::Detail::CompileContext ctx{normSet};; std::unique_ptr<RooAbsPdf> compiled{static_cast<RooAbsPdf*>(simPdf.compileForNormSet(normSet, ctx).release())};; compiled->getVal(normSet);; }; ```; The output is:; ```; This looks good:; [#1] INFO:NumericIntegration -- RooRealIntegral::init(pdfx_Int[x]) using numeric integrator RooIntegrator1D to calculate Int(x); [#1] INFO:NumericIntegration -- RooRealIntegral::init(pdfxy_Int[y]) using numeric integrator RooIntegrator1D to calculate Int(y). Too many integrals:; [#1] INFO:NumericIntegration -- RooRealIntegral::init(_0_pdfx_Int[_0_x]) using numeric integrator RooIntegrator1D to calculate Int(_0_x); [#1] INFO:NumericIntegration -- RooRealIntegral::init(_0_pdfxy_Int[_0_y]) using numeric integrator RooIntegrator1D to calculate Int(_0_y); [#1] INFO:NumericIntegration -- RooRealIntegral::init([_0_pdfx_over__0_pdfx_Int[_0_x]_X__0_pdfxy_over__0_pdfxy_Int[_0_y]]_Norm[_0_x,_0_y]_denominator_Int[_0_x,_0_y]) using numeric integrator RooAdaptiveIntegratorND to calculate Int(_0_x,_0_y); [#1] INFO:NumericIntegration -- RooRealIntegral::init(_0_pdfx_Int[_0_x]) using numeric integrator RooIntegrator1D to calculate Int(_0_x); [#1] INFO:NumericIntegration -- RooRealIntegral::init(_0_pdfxy_Int[_0_y]) using numeric integrator RooIntegrator1D to calculate Int(_0_y); [#1] INFO:NumericIntegration -- RooRealIntegral::init(_0_pdfx_Int[_0_x]) using numeric integrator RooIntegrator1D to calculate Int(_0_x); ```",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15751:1825,integrat,integrator,1825,https://root.cern,https://github.com/root-project/root/issues/15751,6,['integrat'],['integrator']
Deployability,"icates. ### Description. I am naively trying to create a RNTuple inside a TDirectory, and I fail to do so. Moreover, when looking at the produced TFile with TBrowser, I see some weird recursive structure. ![image](https://github.com/root-project/root/assets/10544/e6362230-7f82-4beb-8140-60cdd49efe4a). ### Reproducer. I tried a few permutations of the following, all giving me weird results. ```C++; #include <TFile.h>; #include <TTree.h>; #include <TDirectory.h>; #include <ROOT/RNTuple.hxx>; #include <ROOT/RNTupleModel.hxx>; #undef NDEBUG; #include <cassert>. int writeTree(); {; TFile* f;; int x = 0;; f = new TFile(""foo.root"", ""RECREATE"");; auto* dir = f->mkdir(""dir"");; dir->cd();; auto* tree = new TTree(""T"", ""a Tree"");; tree->Branch(""x"", &x, ""x/D"");; for (int i = 0; i < 10; i++) {; x = i;; tree->Fill();; }; tree->Write();. using namespace ROOT::Experimental;; // Create and fill an RNTuple; auto model = RNTupleModel::Create();; auto wrPt = model->MakeField<float>(""pt"", 42.0);. {; RNTupleWriteOptions options;; options.SetContainerFormat(ENTupleContainerFormat::kBare);; auto* bar = f->mkdir(""bar"");; bar->cd();; ; auto ntuple = RNTupleWriter::Append(std::move(model), ""f"", *f, options);; bool ok = bar->cd();. ntuple->Fill();; ntuple->CommitCluster();; *wrPt = 24.0;; ntuple->Fill();; *wrPt = 12.0;; ntuple->Fill();; ntuple->CommitCluster();; }. return 0;; }; ```. ### ROOT version; ```; ------------------------------------------------------------------; | Welcome to ROOT 6.28/04 https://root.cern |; | (c) 1995-2022, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built for macosxarm64 on Nov 01 2023, 10:33:00 |; | From tags/v6-28-04-alice3@v6-28-04-3-g186ec88ba4 |; | With Apple clang version 15.0.0 (clang-1500.0.40.1) |; | Try '.help'/'.?', '.demo', '.license', '.credits', '.quit'/'.q' |; ------------------------------------------------------------------; ```; ### Installation method. aliBuild. ### Operating system. macOS Ventura. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14007:1945,Install,Installation,1945,https://root.cern,https://github.com/root-project/root/issues/14007,1,['Install'],['Installation']
Deployability,"icates; <!--; Please search in; * [GitHub](https://github.com/root-project/root/issues?q=is%3Aissue); * AND [Jira](https://sft.its.cern.ch/jira/issues/?jql=project %3D ROOT); for existing reports of your issue. If you find one, you are very welcome to add to the existing report, for instance ""issue still exists in today's master"".; -->. ### Describe the bug; <!--. -->; segfault in build process. ; ### Expected behavior; <!--; -->; build process completes. ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->; standard cmake build process, as described in the guide. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->; ROOT v6-26-10 (@4dddea35); FreeBSD 13.2 RELEASE (clang 14.0.5), required dependencies installed from ports. ### Additional context; <!--; Add any other context about the problem here.; -->. a port exists v6-28-02 (development/root), installs in binary form (so somebody got it to compile, did not have too much time to test it thoroughly). In my case, however, the port also does not compile, craps out somewhere else. plus it hauls in too many dependencies so it is less than ideal.; I imagine getting it to work on FreeBSD would not end at fixing this issue here. The fbsd port maintainer has some patches which might help, but I have also seen that e.g. procfs is deprecated in new releases and libprocstat has to be used, etc, etc.; With that being said, it would be extremely nice to get ROOT to work on FreeBSD...; thanks,. ```; [ 52%] Built target rootcling_stage1; [ 52%] Generating G__Core.cxx, ../lib/Core.pcm; #0 0x000000000446e3d5 llvm::sys::PrintStackTrace(llvm::raw_ostream&) Signals.cpp:0:0; #1 0x000000000446c646 llvm::sys::RunSigna",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12787:1015,RELEASE,RELEASE,1015,https://root.cern,https://github.com/root-project/root/issues/12787,1,['RELEASE'],['RELEASE']
Deployability,"ick-devel/tutorials/tmva/TMVA_SOFIE_GNN.py"", line 150, in __init__; self.encoder_session = ROOT.TMVA_SOFIE_encoder.Session(); TypeError: none of the 4 overloaded methods succeeded. Full details:; Session::Session(TMVA_SOFIE_encoder::Session&&) =>; TypeError: takes at least 1 arguments (0 given); Session::Session(const TMVA_SOFIE_encoder::Session&) =>; TypeError: takes at least 1 arguments (0 given); Session::Session() =>; runtime_error: TMVA-SOFIE failed to read the correct tensor name; expected name is tensor_EncodeProcessDecodeMLPGraphIndependentgraph_independentedge_modelmlplinear_3w0 , read ; 0.00669210032; void __cppyy_internal::init_TMVA_SOFIE_encoder__Session(TMVA_SOFIE_encoder::Session*& self, const TMVA_SOFIE_encoder::Edge_Update::Session& edge_update = TMVA_SOFIE_encoder::Edge; _Update::Session{}, const vector<float>& fEdgeInputs = vector<float>{}, const TMVA_SOFIE_encoder::Node_Update::Session& node_update = TMVA_SOFIE_encoder::Node_Update::Session{}, co; nst vector<float>& fNodeInputs = vector<float>{}, const TMVA_SOFIE_encoder::Global_Update::Session& global_update = TMVA_SOFIE_encoder::Global_Update::Session{}) =>; runtime_error: TMVA-SOFIE failed to read the correct tensor name; expected name is tensor_EncodeProcessDecodeMLPGraphIndependentgraph_independentedge_modelmlplinear_3w0 , read ; 0.00669210032; ```. I also see from grepping:. ```; ./src/./tutorials/tmva/TMVA_SOFIE_GNN_Application.C; 10:#include ""encoder.hxx"". ./src/./tutorials/tmva/TMVA_SOFIE_GNN.py; 127:ROOT.gInterpreter.Declare('#include ""encoder.hxx""'); ```. So at least both of those test are uses the same generated file name (I can't find it in the repository) `encoder.hxx` and are still allowed to run in parallel ... leading to unstable result. ### Reproducer. Rerun https://github.com/root-project/root/pull/16664/checks?check_run_id=31435842971. ### ROOT version. master. ### Installation method. both local install and CI. ### Operating system. linux. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/16680:2459,Install,Installation,2459,https://root.cern,https://github.com/root-project/root/issues/16680,2,"['Install', 'install']","['Installation', 'install']"
Deployability,"ict.cxx, …/…/lib/libforward_listDict.rootmap; [ 79%] Generating G__vectorDict.cxx, …/…/lib/libvectorDict.rootmap; In file included from input_line_7:21:; /srv/ussapc/home/ussapc/sw/root_build/include/ROOT/TReentrantRWLock.hxx:26:10: fatal error: ‘tbb/enumerable_thread_specific.h’ file not found; #include “tbb/enumerable_thread_specific.h”; ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~; Error: /srv/ussapc/home/ussapc/sw/root_build/core/rootcling_stage1/src/rootcling_stage1: compilation failure (/srv/ussapc/home/ussapc/sw/root_build/lib/libThreaddb2bde6cdd_dictUmbrella.h); gmake[2]: *** [core/thread/CMakeFiles/G__Thread.dir/build.make:109: core/thread/G__Thread.cxx] Error 1; gmake[1]: *** [CMakeFiles/Makefile2:27339: core/thread/CMakeFiles/G__Thread.dir/all] Error 2; gmake[1]: *** Waiting for unfinished jobs…. I found out that tbb is required by imt, so again; $ rm -rf *; $ cmake -Dclad=OFF -Dvdt=OFF -Dimt=OFF -DCMAKE_INSTALL_PREFIX=…/root_install …/root-6.24.00; $ cmake --build . – install -j 8; …; [100%] Building CXX object roofit/roostats/CMakeFiles/RooStats.dir/src/ToyMCSampler.cxx.o; [100%] Building CXX object roofit/roostats/CMakeFiles/RooStats.dir/src/ToyMCStudy.cxx.o; [100%] Building CXX object roofit/roostats/CMakeFiles/RooStats.dir/src/UniformProposal.cxx.o; [100%] Building CXX object roofit/roostats/CMakeFiles/RooStats.dir/src/UpperLimitMCSModule.cxx.o; [100%] Linking CXX shared library …/…/lib/libRooStats.so; [100%] Built target RooStats; (stucks). $ cmake --build . – install; [ 0%] Built target OPENUI5; [ 0%] Performing download step (download, verify and extract) for ‘XROOTD’. unbeliveable…; $ rm -rf *; $ cmake -Dclad=OFF -Dvdt=OFF -Dimt=OFF -Dxrootd=OFF -DCMAKE_INSTALL_PREFIX=…/root_install …/root-6.24.00; $ cmake --build . – install -j 8. runs.; Please fix at next release.; I would recommend to implement a “localonly” option in case you don’t have internet access from the installation PC. Georg. _ROOT Version: 6.24.00; _Platform: RetHat 8.3; _Compiler:gcc 8.3.1-5",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/8292:2104,install,install,2104,https://root.cern,https://github.com/root-project/root/issues/8292,5,"['install', 'release']","['install', 'installation', 'release']"
Deployability,"ies. Here is the stack trace:. ```; #0 0x00007fffefb5d19f in TCling::RegisterModule(char const*, char const**, char const**, char const*, char const*, void (*)(), std::vector<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, int>, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, int> > > const&, char const**, bool, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCling.so; #1 0x00007ffff551ec61 in TROOT::RegisterModule(char const*, char const**, char const**, char const*, char const*, void (*)(), std::vector<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, int>, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, int> > > const&, char const**, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #2 0x00007fffd50a6cf2 in (anonymous namespace)::TriggerDictionaryInitialization_libAthenaPoolUtilitiesDict_Impl() (); from /cvmfs/atlas-nightlies.cern.ch/repo/sw/master--dev4LCG_Athena_x86_64-centos7-gcc8-opt/2021-03-21T0600/Athena/22.0.30/InstallArea/x86_64-centos7-gcc8-opt/lib/libAthenaPoolUtilitiesDict.so; #3 0x00007fffd508bad3 in __static_initialization_and_destruction_0(int, int) [clone .constprop.966] (); from /cvmfs/atlas-nightlies.cern.ch/repo/sw/master--dev4LCG_Athena_x86_64-centos7-gcc8-opt/2021-03-21T0600/Athena/22.0.30/InstallArea/x86_64-centos7-gcc8-opt/lib/libAthenaPoolUtilitiesDict.so; #4 0x00007fffd508bd1b in _GLOBAL__sub_I_AthenaPoolUtilitiesDictReflexDict.cxx; (); from /cvmfs/atlas-nightlies.cern.ch/repo/sw/master--dev4LCG_Athena_x86_64-centos7-gcc8-opt/2021-03-21T0600/Athena/22.0.30/InstallArea/x86_64-centos7-gcc8-opt/lib/libAthenaPoolUtilitiesDict.so; #5 0x00007ffff7dea9c3 in _dl_init_internal () from /lib64/ld-linux-x86",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7657:1507,patch,patches,1507,https://root.cern,https://github.com/root-project/root/issues/7657,1,['patch'],['patches']
Deployability,"if imt is not specified, this tutorial should not be run as a test. # This Pull request:; Avoids running the `TMVA_CNN_Classification.C` when ROOT is not built with imt, since it is a requirement and trying to proceed nevertheless causes errors. ## Changes or fixes:. ## Checklist:. - [ ] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13712:319,update,updated,319,https://root.cern,https://github.com/root-project/root/pull/13712,1,['update'],['updated']
Deployability,"if(); list(APPEND CMAKE_MODULE_PATH ""${CMAKEMODULES_DIR}""). option(BUILD_DOCUMENTATION ""Create and install the HTML based API documentation (requires Doxygen)"" ON); if(BUILD_DOCUMENTATION); find_package(Doxygen OPTIONAL_COMPONENTS dot). if(DOXYGEN_FOUND); set(DOXYGEN_PROJECT_NAME ""Data Acquisition System""); set(DOXYGEN_USE_MDFILE_AS_MAINPAGE ""${CMAKE_SOURCE_DIR}/README.md""); set(DOXYGEN_WARN_NO_PARAMDOC YES); set(DOXYGEN_GENERATE_QHP YES); set(DOXYGEN_QCH_FILE ""TheName.qch""); set(DOXYGEN_QHP_NAMESPACE org.doxygen.TheName.Project); set(DOXYGEN_GENERATE_LATEX NO); set(DOXYGEN_GENERATE_TREEVIEW YES); #set(DOXYGEN_HIDE_UNDOC_RELATIONS NO); #set(DOXYGEN_DOT_NUM_THREADS 1); #set(DOXYGEN_UML_LOOK YES); #set(DOXYGEN_UML_LIMIT_NUM_FIELDS 50); #set(DOXYGEN_TEMPLATE_RELATIONS YES); set(DOXYGEN_DOT_IMAGE_FORMAT svg); set(DOXYGEN_INTERACTIVE_SVG YES); #set(DOXYGEN_DOT_GRAPH_MAX_NODES 100); #set(DOXYGEN_DOT_TRANSPARENT YES); #set(DOXYGEN_OUTPUT_DIRECTORY ${CMAKE_CURRENT_BINARY_DIR}). doxygen_add_docs(doc ALL; ${CMAKE_SOURCE_DIR} ${CMAKE_SOURCE_DIR}/doc/cmake.dox ${CMAKE_SOURCE_DIR}/usb; ALLOW_DUPLICATE_CUSTOM_TARGETS; #USE_STAMP_FILE; COMMENT ""Generating doxygen documentation for ${PROJECT_NAME}""; ). # install generated files; #install(; # DIRECTORY ${CMAKE_CURRENT_BINARY_DIR}/doc/html; # TYPE DOC; # OPTIONAL # because available only after ""make doc""; #); else(); message(FATAL_ERROR ""Doxygen is needed to build the documentation.""); endif(). add_custom_target(dox ALL; #DEPENDS ${CMAKE_CURRENT_BINARY_DIR}/doxygen.stamp; DEPENDS ${CMAKE_CURRENT_SOURCE_DIR}/CMakeLists.txt; ); include(make_documentation); PARSE_CMAKE_DOCUMENTATION(INCLUDES ""${CMAKE_CURRENT_SOURCE_DIR}/CMakeLists.txt"" EXCLUDES ""${CMAKE_CURRENT_BINARY_DIR}/*"" ); WRITE_CMAKE_DOCUMENTATION( ""${CMAKE_CURRENT_SOURCE_DIR}/cmake.dox"" SORTED ); endif(); ```; ### Aditional context; https://github.com/root-project/root/issues/8950; https://github.com/root-project/root/issues/8947; https://github.com/root-project/root/issues/8781",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/8999:3206,install,install,3206,https://root.cern,https://github.com/root-project/root/issues/8999,2,['install'],['install']
Deployability,"ignment_map_def.h+; root [1] .x BboxAlignBug.C(""mcbm_beam_2022_05_23_nickel.geo.root"", ""AlignmentMatrices_mcbm_beam_2022_05_23_nickel.root""); ```; Of the 3 transformations visible in the printout; - Two are applied to TGeoVolumeAssembly objects and lead to these assembly having zero size bounding boxes (`/cave_1/sts_v22e_mcbm_0` and `/cave_1/sts_v22e_mcbm_0/Station01_1`); - One is applied to a Node and leads to 2 TGeoVolumeAssembly higher in the hierarchy to have zero size bounding boxes (`/cave_1/sts_v22e_mcbm_0/Station02_2/Ladder10_2/HalfLadder10d_2/HalfLadder10d_Module04_2`); <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 3. Don't forget to attach the required input files!; 4. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->. ### Setup; 1. ROOT 6.22.08, 6.26.10; 1. OS: Debian 8, Debian 10, Ubuntu 20.04; 1. Compiler: GCC > 8; 1. ROOT provided (compilation/installation) from:; - FairSoft apr21 (and patch releases) for 6.22, Legacy mode (""not Spack""); - FairSoft nov22 (and patch releases) for 6.26, Legacy mode (""not Spack""). <!--; 1. ROOT version; 3. Operating system; 5. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->. ### Additional context; - Fixed for now on the Fairroot side by [PR 1244](https://github.com/FairRootGroup/FairRoot/pull/1244/files#diff-91fa880fced775e0a97b72507da489affb1a15a59197901ae774ed40d6ca1ca1) ([Issue 1243](https://github.com/FairRootGroup/FairRoot/issues/1243)); - Unsure if this is a not-well documented intended behavior or an unexpected bug; - Adding a call to `gGeoManager->CloseGeometry();` instead of the fix used in FairRoot (as advised in [ROOT-7420](https://sft.its.cern.ch/jira/browse/ROOT-7420) for the AddNode case) does not cure the problem and results in a warning that the geometry is already closed; - I am not the author nor an expert of the section of code used to apply the ali",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12242:3586,install,installation,3586,https://root.cern,https://github.com/root-project/root/issues/12242,3,"['install', 'patch', 'release']","['installation', 'patch', 'releases']"
Deployability,"ild/include/""; -I""/data/sftnight/build/workspace/lcg_release_pipeline/install/tbb/2020_U2/aarch64-centos7-gcc8-opt/include""'; ```; The first three elements are directly the contents of `$ROOT_INCLUDE_PATH` which in the that setup, which is . ```; $ echo $ROOT_INCLUDE_PATH; /cvmfs/sft.cern.ch/lcg/views/LCG_101arm/aarch64-centos7-gcc8-opt/include/Geant4:/cvmfs/sft.cern.ch/lcg/views/LCG_101arm/aarch64-centos7-gcc8-opt/include:/cvmfs/sft.cern.ch/lcg/releases/Python/3.9.6-b0f98/aarch64-centos7-gcc8-opt/include/python3.9; ```; ### To Reproduce; On an ARM64 system with CVMFS ; ```; $ source /cvmfs/sft.cern.ch/lcg/views/LCG_101arm/aarch64-centos7-gcc8-opt/setup.sh; $ python -c 'import ROOT; print(ROOT.gSystem.GetIncludePath())'; ```. ### Expected behavior. On a Centos7 system (e.g. lxplus.cern.ch), then list is different. ```; -I$ROOTSYS/include; -I""/cvmfs/sft.cern.ch/lcg/views/LCG_101/x86_64-centos7-gcc8-opt/include/Geant4""; -I""/cvmfs/sft.cern.ch/lcg/releases/jsonmcpp/3.9.1-72770/x86_64-centos7-gcc8-opt/include""; -I""/cvmfs/sft.cern.ch/lcg/views/LCG_101/x86_64-centos7-gcc8-opt/src/cpp""; -I""/cvmfs/sft.cern.ch/lcg/views/LCG_101/x86_64-centos7-gcc8-opt/include""; -I""/cvmfs/sft.cern.ch/lcg/releases/Python/3.9.6-b0f98/x86_64-centos7-gcc8-opt/include/python3.9""; -I""/cvmfs/sft.cern.ch/lcg/releases/R/3.6.3-dfb24/x86_64-centos7-gcc8-opt/lib64/R/include""; -I""/cvmfs/sft.cern.ch/lcg/releases/R/3.6.3-dfb24/x86_64-centos7-gcc8-opt/lib64/R/library/RInside/include""; -I""/cvmfs/sft.cern.ch/lcg/releases/R/3.6.3-dfb24/x86_64-centos7-gcc8-opt/lib64/R/library/Rcpp/include""; -I""/cvmfs/sft.cern.ch/lcg/releases/ROOT/6.24.06-3455f/x86_64-centos7-gcc8-opt/etc/""; -I""/cvmfs/sft.cern.ch/lcg/releases/ROOT/6.24.06-3455f/x86_64-centos7-gcc8-opt/etc//cling""; -I""/cvmfs/sft.cern.ch/lcg/releases/ROOT/6.24.06-3455f/x86_64-centos7-gcc8-opt/include/""; -I""/cvmfs/sft.cern.ch/lcg/releases/Python/3.9.6-b0f98/x86_64-centos7-gcc8-opt/include""; ```; Again the first 8 elements are directly related to `$ROOT_INCLUDE_PATH`.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/9243:2748,release,releases,2748,https://root.cern,https://github.com/root-project/root/issues/9243,8,['release'],['releases']
Deployability,"ild/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/clingutils/src/TClingUtils.cxx:4791; #7 0x00007ffff32362a4 in TClingBaseClassInfo::InternalNext (; this=0x7fffffff4430, onlyDirect=1); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/metacling/src/TClingBaseClassInfo.cxx:341; #8 0x00007ffff323636e in TClingBaseClassInfo::Next (this=0x7fffffff4430, ; onlyDirect=1); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/metacling/src/TClingBaseClassInfo.cxx:350; #9 0x00007ffff323638d in TClingBaseClassInfo::Next (this=0x7fffffff4430); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/metacling/src/TClingBaseClassInfo.cxx:355; #10 0x00007ffff30f8681 in TCling::CreateListOfBaseClasses (this=0x4b6670, ; cl=0x32e8cc0); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/metacling/src/TCling.cxx:4292; #11 0x00007ffff260dc29 in TClass::GetListOfBases (this=0x32e8cc0); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/meta/src/TClass.cxx:3649; #12 0x00007ffff260a96e in TClass::GetBaseClass (this=0x32e8cc0, cl=0x235be20); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/meta/src/TClass.cxx:2679; #13 0x00007ffff260a9f6 in TClass::GetBaseClass (this=0x2c3e4b0, cl=0x235be20); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/meta/src/TClass.cxx:2688; #14 0x00007ffff2611f76 in TClass::InheritsFrom (this=0x2c3e4b0, cl=0x235be20); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/meta/src/TClass.cxx:4",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11259:3132,patch,patches,3132,https://root.cern,https://github.com/root-project/root/issues/11259,2,['patch'],['patches']
Deployability,"ild/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:134:55: note: expanded from macro 'atomic_load'; #define atomic_load(object) __c11_atomic_load(object, __ATOMIC_SEQ_CST); ^; <built-in>:16:26: note: expanded from here; #define __ATOMIC_SEQ_CST 5; ^; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1077:33: note: to match this '('; /Users/krasznaa/ATLAS/sw/projects/externals/build/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:134:46: note: expanded from macro 'atomic_load'; #define atomic_load(object) __c11_atomic_load(object, __ATOMIC_SEQ_CST); ^; In file included from libMyLibrary dictionary payload:5:; In file included from ./MyClass.h:6:; In file included from /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_ptr.hpp:17:; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1088:24: error: expected parameter declarator; template<class T> void atomic_store( shared_ptr<T> * p, shared_ptr<T> r ) BOOST_SP_NOEXCEPT; ^; /Users/krasznaa/ATLAS/sw/projects/externals/build/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:131:75: note: expanded from macro 'atomic_store'; #define atomic_store(object, desired) __c11_atomic_store(object, desired, __ATOMIC_SEQ_CST); ^; <built-in>:16:26: note: expanded from here; #define __ATOMIC_SEQ_CST 5; ^; In file included from libMyLibrary dictionary payload:5:; In file included from ./MyClass.h:6:; In file included from /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_ptr.hpp:17:; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6454:5529,install,install,5529,https://root.cern,https://github.com/root-project/root/issues/6454,1,['install'],['install']
Deployability,"ilder&)>: Pre-release format version: RC 1; [ OK ] RNTuple.RandomAccess (201 ms); [ RUN ] RNTuple.LargeFile1; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RPageStorageFile.cxx:51 in ROOT::Experimental::Detail::RPageSinkFile::RPageSinkFile(std::string_view, const ROOT::Experimental::RNTupleWriteOptions&)>: The RNTuple file format will change. Do not store real data with this version of RNTuple!; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experimental::Internal::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNTupleDescriptorBuilder&)>: Pre-release format version: RC 1; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experimental::Internal::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNTupleDescriptorBuilder&)>: Pre-release format version: RC 1; [ OK ] RNTuple.LargeFile1 (34858 ms); [ RUN ] RNTuple.LargeFile2; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RPageStorageFile.cxx:51 in ROOT::Experimental::Detail::RPageSinkFile::RPageSinkFile(std::string_view, const ROOT::Experimental::RNTupleWriteOptions&)>: The RNTuple file format will change. Do not store real data with this version of RNTuple!; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RPageStorageFile.cxx:51 in ROOT::Experimental::Detail::RPageSinkFile::RPageSinkFile(std::string_view, const ROOT::Experimental::RNTupleWriteOptions&)>: The RNTuple file format will change. Do not store real data with this version of RNTuple!; Fatal: fWritePage[otherIdx].IsEmpty() violated at line 82 of `/builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RColumn.cxx'; aborting; Thread 6 (Thread 0xe26ffb4",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12427:6279,release,release,6279,https://root.cern,https://github.com/root-project/root/issues/12427,1,['release'],['release']
Deployability,"ile ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 504, in save; f(self, obj) # Call unbound method with explicit self; File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 819, in save_list; self._batch_appends(obj); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 846, in _batch_appends; save(tmp[0]); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 549, in save; self.save_reduce(obj=obj, *rv); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 633, in save_reduce; save(cls); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 504, in save; f(self, obj) # Call unbound method with explicit self; File ""/cvmfs/sft.cern.ch/lcg/views/LCG_97python3/x86_64-centos7-gcc9-opt/lib/python3.7/site-packages/dill/_dill.py"", line 1330, in save_type; StockPickler.save_global(pickler, obj); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 960, in save_global; (obj, module_name, name)) from None; _pickle.PicklingError: Can't pickle <class '_pythonization.compose_method.<locals>.composition_pythonizor'>: it's not found as _pythonization.compose_method.<locals>.composition_pythonizor; ```. ## Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->. 1. ROOT versions from LCG_94 to LCG_97a; 2. centos7, lxplus7.cern.ch ; 3. LCG-releases via cvmfs ; . ## Additional context; <!--; Add any other context about the problem here.; -->. I've opened the issue also for `dill` project: https://github.com/uqfoundation/dill/issues/356",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6370:6331,release,releases,6331,https://root.cern,https://github.com/root-project/root/issues/6370,3,"['install', 'release']","['install', 'releases']"
Deployability,"ile included from /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_runtime_wrapper.h:148:; /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:195:10: error: reference to __device__ function '__nvvm_atom_add_gen_f' in __host__ function; return __nvvm_atom_add_gen_f(__p, __v);; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:195:10: note: '__nvvm_atom_add_gen_f' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:198:10: error: reference to __device__ function '__nvvm_atom_cta_add_gen_f' in __host__ function; return __nvvm_atom_cta_add_gen_f(__p, __v);; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:198:10: note: '__nvvm_atom_cta_add_gen_f' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:201:10: error: reference to __device__ function '__nvvm_atom_sys_add_gen_f' in __host__ function; return __nvvm_atom_sys_add_gen_f(__p, __v);; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:201:10: note: '__nvvm_atom_sys_add_gen_f' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:205:7: error: reference to __device__ function '__nvvm_atom_xchg_gen_i' in __host__ function; __nvvm_atom_xchg_gen_i((int *)__p, __nv_float_as_int(__v)));; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:205:7: note: '__nvvm_atom_xchg_gen_i' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:209",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7518:7999,install,install,7999,https://root.cern,https://github.com/root-project/root/issues/7518,1,['install'],['install']
Deployability,"ile trying to use the ATLAS analysis software on the latest version of macOS, with the latest version of Xcode. While trying to load the dictionary of a class whose header includes `<boost/shared_ptr.hpp>`, my test application dies. To simplify things a bit, I put a simple reproducer under: https://github.com/krasznaa/root-boost-dictionary-error With which I see the following:. ```; [bash][eowyn-1]:root-boost-dictionary-error > root; ------------------------------------------------------------------; | Welcome to ROOT 6.22/02 https://root.cern |; | (c) 1995-2020, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built for macosx64 on Aug 17 2020, 12:46:52 |; | From tags/v6-22-02@v6-22-02 |; | Try '.help', '.demo', '.license', '.credits', '.quit'/'.q' |; ------------------------------------------------------------------. root [0] MyClass c;; In file included from libMyLibrary dictionary payload:5:; In file included from ./MyClass.h:6:; In file included from /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_ptr.hpp:17:; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1072:31: error: expected expression; template<class T> inline bool atomic_is_lock_free( shared_ptr<T> const * /*p*/ ) BOOST_SP_NOEXCEPT; ^; /Users/krasznaa/ATLAS/sw/projects/externals/build/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:83:73: note: expanded from macro 'atomic_is_lock_free'; #define atomic_is_lock_free(obj) __c11_atomic_is_lock_free(sizeof(*(obj))); ^; In file included from libMyLibrary dictionary payload:5:; In file included from ./MyClass.h:6:; In file included from /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_ptr.hpp:17:; /Users/krasznaa/ATLAS/sw/projects/externals/install/An",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6454:1068,install,install,1068,https://root.cern,https://github.com/root-project/root/issues/6454,1,['install'],['install']
Deployability,"ime — to make sure you benefit from the latest updated security analysis even when no code was committed or PRs were opened. #### What will this cost?; Nothing! The CodeQL engine will run inside GitHub Actions, making use of your [unlimited free compute minutes for public repositories](https://docs.github.com/en/actions/learn-github-actions/usage-limits-billing-and-administration#about-billing-for-github-actions). #### What types of problems does CodeQL find?; The CodeQL engine that powers GitHub code scanning is the exact same engine that powers LGTM.com. The exact set of rules has been tweaked slightly, but you should see almost exactly the same types of alerts as you were used to on LGTM.com: we’ve enabled the [`security-and-quality` query suite](https://docs.github.com/en/code-security/code-scanning/automatically-scanning-your-code-for-vulnerabilities-and-errors/configuring-code-scanning#using-queries-in-ql-packs) for you. #### How do I upgrade my CodeQL engine?; No need! New versions of the CodeQL analysis are constantly deployed on GitHub.com; your repository will automatically benefit from the most recently released version. #### The analysis doesn’t seem to be working; If you get an error in GitHub Actions that indicates that CodeQL wasn’t able to analyze your code, please [follow the instructions here](https://docs.github.com/en/code-security/code-scanning/automatically-scanning-your-code-for-vulnerabilities-and-errors/troubleshooting-the-codeql-workflow) to debug the analysis. #### How do I disable LGTM.com?; If you have LGTM’s automatic pull request analysis enabled, then you can [follow these steps to disable the LGTM pull request analysis](https://lgtm.com/help/lgtm/managing-automated-code-review#disabling-pr-integration). You don’t actually need to remove your repository from LGTM.com; it will automatically be removed in the next few months as part of the deprecation of LGTM.com ([more info here](https://github.blog/2022-08-15-the-next-step-for-lgtm-com",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11808:3224,upgrade,upgrade,3224,https://root.cern,https://github.com/root-project/root/pull/11808,2,"['deploy', 'upgrade']","['deployed', 'upgrade']"
Deployability,"ime. ```; -I$ROOTSYS/include; -I""/cvmfs/sft.cern.ch/lcg/views/LCG_101arm/aarch64-centos7-gcc8-opt/include/Geant4""; -I""/cvmfs/sft.cern.ch/lcg/views/LCG_101arm/aarch64-centos7-gcc8-opt/include""; -I""/cvmfs/sft.cern.ch/lcg/releases/Python/3.9.6-b0f98/aarch64-centos7-gcc8-opt/include/python3.9""; -I""/cvmfs/sft.cern.ch/lcg/releases/ROOT/6.24.06-f0308/aarch64-centos7-gcc8-opt/etc/""; -I""/cvmfs/sft.cern.ch/lcg/releases/ROOT/6.24.06-f0308/aarch64-centos7-gcc8-opt/etc//cling""; -I""/cvmfs/sft.cern.ch/lcg/releases/ROOT/6.24.06-f0308/aarch64-centos7-gcc8-opt/include/""; -I""/cvmfs/sft.cern.ch/lcg/releases/Python/3.9.6-b0f98/aarch64-centos7-gcc8-opt/include""; -I""/home/sftnight/build/workspace/lcg_release_pipeline/build/projects/ROOT-6.24.06/src/ROOT-6.24.06-build/include""; -I""/data/sftnight/build/workspace/lcg_release_pipeline/install/Vc/1.4.2/aarch64-centos7-gcc8-opt/include""; -I""/data/sftnight/build/workspace/lcg_release_pipeline/install/zlib/1.2.11/aarch64-centos7-gcc8-opt/include""; -I""/data/sftnight/build/workspace/lcg_release_pipeline/install/jsonmcpp/3.9.1/aarch64-centos7-gcc8-opt/include""; -I""/home/sftnight/build/workspace/lcg_release_pipeline/build/projects/ROOT-6.24.06/src/ROOT-6.24.06-build/include/""; -I""/data/sftnight/build/workspace/lcg_release_pipeline/install/tbb/2020_U2/aarch64-centos7-gcc8-opt/include""'; ```; The first three elements are directly the contents of `$ROOT_INCLUDE_PATH` which in the that setup, which is . ```; $ echo $ROOT_INCLUDE_PATH; /cvmfs/sft.cern.ch/lcg/views/LCG_101arm/aarch64-centos7-gcc8-opt/include/Geant4:/cvmfs/sft.cern.ch/lcg/views/LCG_101arm/aarch64-centos7-gcc8-opt/include:/cvmfs/sft.cern.ch/lcg/releases/Python/3.9.6-b0f98/aarch64-centos7-gcc8-opt/include/python3.9; ```; ### To Reproduce; On an ARM64 system with CVMFS ; ```; $ source /cvmfs/sft.cern.ch/lcg/views/LCG_101arm/aarch64-centos7-gcc8-opt/setup.sh; $ python -c 'import ROOT; print(ROOT.gSystem.GetIncludePath())'; ```. ### Expected behavior. On a Centos7 system (e.g. lxplus.cern.ch), t",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/9243:1392,install,install,1392,https://root.cern,https://github.com/root-project/root/issues/9243,1,['install'],['install']
Deployability,"imeUniverse.h:27:; In file included from <module-includes>:1:; /home/luowt/Apps/root/root_build/etc/cling/Interpreter/DynamicExprInfo.h:13:10: fatal error:; could not build module 'std'; #include <string>; ~~~~~~~~^; /home/luowt/Apps/root/root_build/etc/cling/Interpreter/RuntimeUniverse.h:27:10: fatal error:; could not build module 'Cling_Runtime_Extra'; #include ""cling/Interpreter/Visibility.h""; ~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~; In file included from input_line_3:1:; In file included from /usr/include/assert.h:35:; In file included from /usr/include/features.h:510:; /usr/include/x86_64-linux-gnu/gnu/stubs.h:7:11: fatal error: 'gnu/stubs-32.h' file not found; # include <gnu/stubs-32.h>; ^~~~~~~~~~~~~~~~; While building module 'Core':; While building module 'ROOT_Rtypes' imported from /home/luowt/Apps/root/root_build/include/Rtypes.h:23:; In file included from <module-includes>:1:; /home/luowt/Apps/root/root_build/include/RtypesCore.h:28:10: fatal error: could not build module 'std'; #include <cstddef> // size_t, NULL; ~~~~~~~~^; /home/luowt/Apps/root/root_build/include/ThreadLocalStorage.h:60:10: fatal error: could not build module 'ROOT_Rtypes'; #include ""RtypesCore.h""; ~~~~~~~~^~~~~~~~~~~~~~; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/luowt/Apps/root/root_build/include/Rtypes.h:197:; In file included from <module-includes>:3:; /home/luowt/Apps/root/root_build/include/TClassEdit.h:29:10: fatal error: could not build module 'std'; #include <cxxabi.h>; ~~~~~~~~^; Error: Error loading the default rootcling header files.; make[2]: *** [core/CMakeFiles/G__Core.dir/build.make:482: core/G__Core.cxx] Error 1; make[1]: *** [CMakeFiles/Makefile2:31685: core/CMakeFiles/G__Core.dir/all] Error 2. ### Reproducer. Build from source. ### ROOT version. root-master on wsl2, Ubuntu22.04. ### Installation method. Build from source. ### Operating system. Windows wsl2 Ubuntu22.04. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14062:4721,Install,Installation,4721,https://root.cern,https://github.com/root-project/root/issues/14062,1,['Install'],['Installation']
Deployability,"imilar conversions [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\include\llvm/Support/Format.h(124,29): message : could be 'llvm::format_object<const std::unique_ptr<llvm::GIMatchDagInstr,std::default_delete<llvm::GIMatchDagInstr>> *> llvm::format<const std::unique_ptr<llvm::GIMatchDagInstr,std::default_delete<llvm::GIMatchDagInstr>>*>(const char *,const std::unique_ptr<llvm::GIMatchDagInstr,std::default_delete<llvm::GIMatchDagInstr>> *const &)' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\VC\Tools\MSVC\14.35.32215\include\format(3526,20): message : or 'std::wstring std::format<const std::unique_ptr<llvm::GIMatchDagInstr,std::default_delete<llvm::GIMatchDagInstr>>*>(const std::basic_format_string<wchar_t,const std::unique_ptr<llvm::GIMatchDagInstr,std::default_delete<llvm::GIMatchDagInstr>> *>,const std::unique_ptr<llvm::GIMatchDagInstr,std::default_delete<llvm::GIMatchDagInstr>> *&&)' [found using argument-dependent lookup] [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(51,11): message : 'std::wstring std::format<const std::unique_ptr<llvm::GIMatchDagInstr,std::default_delete<llvm::GIMatchDagInstr>>*>(const std::basic_format_string<wchar_t,const std::unique_ptr<llvm::GIMatchDagInstr,std::default_delete<llvm::GIMatchDagInstr>> *>,const std::unique_ptr<llvm::GIMatchDagInstr,std::default_delete<llvm::GIMatchDagInstr>> *&&)': cannot convert argument 1 from 'const char [5]' to 'const std::basic_format_string<wchar_t,const std::unique_ptr<llvm::GIMatchDagInstr,std::default_delete<llvm::GIMatchDagInstr>> *>' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; inte",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12523:1387,release,release,1387,https://root.cern,https://github.com/root-project/root/pull/12523,1,['release'],['release']
Deployability,"imitives object at 0x0C321C58>> (for post_execute):; ---------------------------------------------------------------------------; PermissionError Traceback (most recent call last); ~\build\release\bin\JupyROOT\helpers\utils.py in _post_execute(self); 461; 462 def _post_execute(self):; --> 463 NotebookDraw(); 464; 465 def register(self):. ~\build\release\bin\JupyROOT\helpers\utils.py in NotebookDraw(); 450 def NotebookDraw():; 451 DrawGeometry(); --> 452 DrawCanvases(); 453 DrawRCanvases(); 454. ~\build\release\bin\JupyROOT\helpers\utils.py in DrawCanvases(); 441 drawers = GetCanvasDrawers(); 442 for drawer in drawers:; --> 443 drawer.Draw(); 444; 445 def DrawRCanvases():. ~\build\release\bin\JupyROOT\helpers\utils.py in Draw(self); 598; 599 def Draw(self):; --> 600 self._display(); 601 return 0; 602. ~\build\release\bin\JupyROOT\helpers\utils.py in _display(self); 583 self._jsDisplay(); 584 else:; --> 585 self._pngDisplay(); 586; 587 def GetDrawableObjects(self):. ~\build\release\bin\JupyROOT\helpers\utils.py in _pngDisplay(self); 572; 573 def _pngDisplay(self):; --> 574 img = self._getPngImage(); 575 IPython.display.display(img); 576. ~\build\release\bin\JupyROOT\helpers\utils.py in _getPngImage(self); 566 with _setIgnoreLevel(ROOT.kError):; 567 self.drawableObject.SaveAs(ofile.name); --> 568 img = IPython.display.Image(filename=ofile.name, format='png', embed=True); 569 #ofile.close(); 570 #os.unlink(ofile.name). c:\python38-32\lib\site-packages\IPython\core\display.py in __init__(self, data, url, filename, format, embed, width, height, retina, unconfined, metadata); 1229 self.retina = retina; 1230 self.unconfined = unconfined; -> 1231 super(Image, self).__init__(data=data, url=url, filename=filename,; 1232 metadata=metadata); 1233. c:\python38-32\lib\site-packages\IPython\core\display.py in __init__(self, data, url, filename, metadata); 635 self.metadata = {}; 636; --> 637 self.reload(); 638 self._check_data(); 639. c:\python38-32\lib\site-packages\IPython\core\d",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9109:1503,release,release,1503,https://root.cern,https://github.com/root-project/root/pull/9109,1,['release'],['release']
Deployability,"in <module>; import cppyy; ^^^^^^^^^^^^; File ""/builddir/build/BUILD/root-6.26.04/redhat-linux-build/lib/cppyy/__init__.py"", line 60, in <module>; importlib.import_module(libcppyy_mod_name); ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^; File ""/usr/lib/python3.11/importlib/__init__.py"", line 126, in import_module; return _bootstrap._gcd_import(name[level:], package, level); ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^; SystemError: type cppyy.CPPInstance has the Py_TPFLAGS_HAVE_GC flag but has no traverse function; ~~~. ### Expected behavior. ""import ROOT"" works. ### To Reproduce. 1. Compile ROOT with Python 3.11; 2. Try ""import ROOT"" in python ...; 3. ... or run the test suite and see every python test fail. ### Setup. 1. ROOT version: 6.26.04 + commit 484deb056dacf768aba4954073b41105c431bffc + commit 484deb056dacf768aba4954073b41105c431bffc; 2. Operating system: Fedora 37 (rawhide). ### Additional information. I tried the following patch:. ~~~{.patch}; diff --git a/bindings/pyroot/cppyy/CPyCppyy/src/CPPInstance.cxx b/bindings/pyroot/cppyy/CPyCppyy/src/CPPInstance.cxx; index 73fb8099b5..2854b2e919 100644; --- a/bindings/pyroot/cppyy/CPyCppyy/src/CPPInstance.cxx; +++ b/bindings/pyroot/cppyy/CPyCppyy/src/CPPInstance.cxx; @@ -332,6 +332,12 @@ static void op_dealloc(CPPInstance* pyobj); PyObject_GC_Del((PyObject*)pyobj);; }; ; +//----------------------------------------------------------------------------; +static int op_traverse(CPPInstance*, visitproc, void*); +{; + return 0;; +}; +; //----------------------------------------------------------------------------; static int op_clear(CPPInstance* pyobj); {; @@ -767,7 +773,7 @@ PyTypeObject CPPInstance_Type = {; Py_TPFLAGS_HAVE_GC |; Py_TPFLAGS_CHECKTYPES, // tp_flags; (char*)""cppyy object proxy (internal)"", // tp_doc; - 0, // tp_traverse; + (traverseproc)op_traverse, // tp_traverse; (inquiry)op_clear, // tp_clear; (richcmpfunc)op_richcompare, // tp_richcompare; 0, // tp_weaklistoffset; diff --git a/bindings/pyroot",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10799:1291,patch,patch,1291,https://root.cern,https://github.com/root-project/root/issues/10799,2,"['a/b', 'patch']","['a/bindings', 'patch']"
Deployability,"in TMap is `TObjString` and values are `TObjArray` of `TObjString`. Every time when TMap is read from a file the memory use grows dramatically by many megabytes, even though the Python object is discarded almost immediately after use. ### Expected behavior; Memory use should not grow indefinitely, memory should be deallocated when Python object is destroyed. ### To Reproduce; I managed to reproduce this issue with a simple script, attached here:; ```python; import os; import tempfile. import psutil; import ROOT. def main():. proc = psutil.Process(). with tempfile.TemporaryDirectory() as tmpdir:. file_name = os.path.join(tmpdir, ""testfile.root""); print(""Creating test root file"", file_name); _make_file_with_tmap(file_name). mem0 = proc.memory_info(); rootfile = ROOT.TFile.Open(file_name, ""READ""); while True:. ann_obj = rootfile.Get(""annotations""); # ann_obj.DeleteAll() # DeleteAll seems to slow leak but not 100%; del ann_obj. mem1 = proc.memory_info(); _memstat(mem0, mem1); mem0 = mem1. def _make_file_with_tmap(file_name):. rootfile = ROOT.TFile.Open(file_name, ""RECREATE""). map = ROOT.TMap(). for i in range(50_000):. key = ROOT.TObjString(""long_histogram_name_"" * 10 + str(i)); value = ROOT.TObjArray(); value.Add(ROOT.TObjString(""annotation"")); value.Add(ROOT.TObjString(f""10000"")); map.Add(key, value). rootfile.WriteTObject(map, ""annotations""); rootfile.Close(). def _memstat(mem0, mem1):; MB = 1024 * 1024; rss_mb = mem1.rss // MB; vms_mb = mem1.vms // MB; rss_delta_mb = (mem1.rss - mem0.rss) / MB; vms_delta_mb = (mem1.vms - mem0.vms) / MB; print(f""Memory stat: RSS={rss_mb} MB, VMS={vms_mb} MB. Delta RSS={rss_delta_mb:.2f} MB VMS={vms_delta_mb:.2f} MB""). if __name__ == ""__main__"":; main(); ```; just setup ROOT from a LCG release and run it, it will print memory use on each iteration, for me it grows by ~35MB on each loop. ### Setup; Tested this with ROOT 6.24.06 from LCG_101 and ROOT 6.26.04 from LCG_102 on CentOS7 host (x86_64-centos7-gcc11-opt). ### Additional context",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11099:2141,release,release,2141,https://root.cern,https://github.com/root-project/root/issues/11099,1,['release'],['release']
Deployability,in presence of an overloaded operator().; The test for these changes can be found in roottest: https://github.com/root-project/roottest/pull/1024. ## Checklist:. - [v] tested changes locally; - [ ] updated the docs (if necessary). Fixes: https://github.com/root-project/root/issues/13410,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13820:198,update,updated,198,https://root.cern,https://github.com/root-project/root/pull/13820,1,['update'],['updated']
Deployability,"in static ROOT::Experimental::RResult<void> ROOT::Experimental::Internal::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNTupleDescriptorBuilder&)>: Pre-release format version: RC 1; /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/test/ntuple_types.cxx:280: Failure; Expected equality of these values:; 42; *fieldCast; Which is: 180388626432; [ FAILED ] RNTuple.Casting (56 ms); [ RUN ] RNTuple.TClass; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RPageStorageFile.cxx:51 in ROOT::Experimental::Detail::RPageSinkFile::RPageSinkFile(std::string_view, const ROOT::Experimental::RNTupleWriteOptions&)>: The RNTuple file format will change. Do not store real data with this version of RNTuple!; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experimental::Internal::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNTupleDescriptorBuilder&)>: Pre-release format version: RC 1; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experimental::Internal::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNTupleDescriptorBuilder&)>: Pre-release format version: RC 1; [ OK ] RNTuple.TClass (284 ms); [ RUN ] RNTuple.TClassMultipleInheritance; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RPageStorageFile.cxx:51 in ROOT::Experimental::Detail::RPageSinkFile::RPageSinkFile(std::string_view, const ROOT::Experimental::RNTupleWriteOptions&)>: The RNTuple file format will change. Do not store real data with this version of RNTuple!; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12426:20316,release,release,20316,https://root.cern,https://github.com/root-project/root/issues/12426,1,['release'],['release']
Deployability,"include them or comment them out. On Ubuntu 20.04.1 LTS (gcc 9.4.0), with ROOT version from 6.12.06 to 6.28.04, none of the combinations got to work. For instance, when the TMapFile works with ROOT 6.12.06, then the TApplication returns an error of ""Segmentation violation"". With a newer ROOT, e.g. 6.28.04, the TApplication works but the TMapFile got the error message; *****************************************************************************; Error in <TMapFile::TMapFile> : no memory mapped file capability available; Use rootn.exe or link application against ""-lNew""; *****************************************************************************. Could you guys have a look at this problem and find out what happened or may find a solution? Many thanks in advance. Huagen Xu from FZ Juelich, IKP; [root_examples.zip](https://github.com/root-project/root/files/12415948/root_examples.zip). ### Reproducer. As attached, there are three Macro files plus one Makefile. Those three files are all the ROOT examples to demostrate how the TMapFile as well as the TApplication work. To reproduce the problem described above, one could follow the tipps below.; 1. Unzip the file into a local directory ; 2. Open a terminal and cd to the unzipped directory, type ""make"" to compile the files; 3. Run ""./appdemo"" in a terminal to check whether TApplication works properly; 4. Run ""./hisprod"" in a termianl to check whether the TMapFile will be created; 5. Assuming the ""hisprod"" works and creates a ""hsimple.map"" file, run ""./hisplot"" in a new Terminal to check whether the TMapFile and TApplication could work together. In the Makefile, it is required to have the link of -lNew or --new for running TMapFile. With different combinations of ROOT and operating versions, the error message might be different. . ### ROOT version. Ubuntu 20.04.2 LTS; ROOT 6.12.06 to 6.28.04. ### Installation method. both of compiling and binary package. ### Operating system. Ubuntu . ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13511:2668,Install,Installation,2668,https://root.cern,https://github.com/root-project/root/issues/13511,1,['Install'],['Installation']
Deployability,"include/TClassEdit.h:132:74: error: no type named 'string' in namespace 'std'; virtual bool GetPartiallyDesugaredNameWithScopeHandling(const std::string & /*tname*/,; ~~~~~^; /Users/couet/git/root-bin/include/TClassEdit.h:133:68: error: no type named 'string' in namespace 'std'; std::string & /*result*/,; ~~~~~^; /Users/couet/git/root-bin/include/TClassEdit.h:141:12: error: no template named 'vector' in namespace 'std'; std::vector<std::string> fElements;; ~~~~~^; /Users/couet/git/root-bin/include/TClassEdit.h:141:24: error: no member named 'string' in namespace 'std'; std::vector<std::string> fElements;; ~~~~~^; /Users/couet/git/root-bin/include/TClassEdit.h:148:27: error: no type named 'string' in namespace 'std'; void ShortType(std::string &answer, int mode);; ~~~~~^; /Users/couet/git/root-bin/include/TClassEdit.h:158:9: error: no type named 'string' in namespace 'std'; std::string CleanType (const char *typeDesc,int mode = 0,const char **tail = nullptr);; ~~~~~^; /Users/couet/git/root-bin/include/TClassEdit.h:159:34: error: no type named 'string_view' in namespace 'std'; inline bool IsArtificial(std::string_view name) { return name.find('@') != name.npos; }; ~~~~~^; /Users/couet/git/root-bin/include/TClassEdit.h:167:44: error: no type named 'string_view' in namespace 'std'; ROOT::ESTLType UnderlyingIsSTLCont(std::string_view type);; ~~~~~^; fatal error: too many errors emitted, stopping now [-ferror-limit=]; Error: Error loading the default rootcling header files.; make[2]: *** [core/G__Core.cxx] Error 1; make[1]: *** [core/CMakeFiles/G__Core.dir/all] Error 2; make[1]: *** Waiting for unfinished jobs....; [ 76%] Built target MetaCling. ```; I have no problems on ARM. ### Reproducer. ```; git clone https://github.com/root-project/root.git ; mkdir root-build; cd root-build; cmake ../root; make -j8; ```. ### ROOT version. master. ### Installation method. cmake / make. ### Operating system. MacOS 15 (Sequoia) on Intel processor. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/16451:9661,Install,Installation,9661,https://root.cern,https://github.com/root-project/root/issues/16451,1,['Install'],['Installation']
Deployability,"included from C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.291 10\\include\xutility:15:; C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\\include\utility(137,9): error G08EB1F86: expected member name or ';' after declaration specifiers [C:\Users\sftnight\build\release\core\G__Core.vcxproj]; !_Is_implicitly_default_constructible<_Uty1>::value || !_Is_implicitly_default_constructible<_Uty2>::value); ^; C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\\include\utility(137,9): error GC66A3811: expected ')' [C:\Users\sftnight\build\release\core\G__Core.vcxproj]; C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\\include\utility:136:23: note: to match this '('; constexpr explicit(; ^; C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\\include\utility(218,24): error G08EB1F86: expected member name or ';' after declaration specifiers [C:\Users\sftnight\build\release\core\G__Core.vcxproj]; constexpr explicit(!is_convertible_v<const _Other1&, _Ty1> || !is_convertible_v<const _Other2&, _Ty2>); ~~~~~~~~~~~~~~~~~~ ^; C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\\include\utility(218,24): error GC66A3811: expected ')' [C:\Users\sftnight\build\release\core\G__Core.vcxproj]; C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\\include\utility:218:23: note: to match this '('; constexpr explicit(!is_convertible_v<const _Other1&, _Ty1> || !is_convertible_v<const _Other2&, _Ty2>); ^; In file included from input_line_5:1:; In file included from C:/Users/sftnight/build/release/include\Rtypes.h:191:; In file included from C:/Users/sftnight/build/release/include/TGenericClassInfo.h:21:; In file included from C:/Users/sftnight/build/release/include/TSchemaHelper.h:17:; In file included from C:\Program Files (x86)\Microsoft Vi",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6143:1937,release,release,1937,https://root.cern,https://github.com/root-project/root/pull/6143,2,['release'],['release']
Deployability,"indings. https://github.com/root-project/root/blob/a940bdbc40d9a0cdac8975c287e1cb7ada0d0c65/builtins/xrootd/CMakeLists.txt#L43. given 2c23502137acd9276fc21da300ab3d562278d57f (from @peremato in 2015). I am unclear on the specifics of explicitly disabling the Python bindings from being built as there is no associated PR for the commit. If there is not a modern reason for this to stay disabled (my assumption is that there is and I am missing it), updating to XRootD `v5.4.1` would allow for the Python bindings to be optionally enabled and to be build safely with the improvements to the Python bindings build process (and also bring along new features and bug fixes). If there are reasons to keep XRootD below `v5.4.X` then this Issue can get closed. ### Optional: share how it could be improved; <!--; If you already have an idea what we could improve, then please tell us.; -->. Make a PR similar to PR #7335 that would update the builtin to XRootD [`v5.4.1`](https://github.com/xrootd/xrootd/releases/tag/v5.4.1). ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code: build it / `root myMacro.C` / ...; -->. There isn't a bug explicitly here, but for a discussion on the Python 3 binding and modern `setuptools` issue that was resolved in XRootD `v5.4.1` see the links in additional context. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->. Not relevant for this issue, but all instances related to the XRootD issues were tested in ROOT `v6.24/06`. ### Additional context; <!--; Add any other context about the problem here.; -->. * https://github.com/xrootd/xrootd/issues/1579; * https://gitlab.cern.ch/atlas-amglab/atlstats/-/merge_requests/58; * https://gitlab.cern.ch/atlas-amglab/atlstats/-/merge_requests/64",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/9967:2571,install,install,2571,https://root.cern,https://github.com/root-project/root/issues/9967,1,['install'],['install']
Deployability,"ine/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/meta/inc/TClass.h:352; #17 0x00007ffff260e309 in TClass::GetListOfDataMembers (this=0x2c3e4b0, ; load=true); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/meta/src/TClass.cxx:3759; #18 0x00007ffff7d132ac in CloseStreamerInfoROOTFile (writeEmptyRootPCM=false); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/io/rootpcm/src/rootclingIO.cxx:162; #19 0x00007ffff305e2a7 in FinalizeStreamerInfoWriting (interp=..., ; writeEmptyRootPCM=false); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/dictgen/src/rootcling_impl.cxx:2632; #20 0x00007ffff305ecd8 in GenerateFullDict (dictStream=..., interp=..., ; scan=..., ctorTypes=..., isSplit=false, isGenreflex=true, ; writeEmptyRootPCM=false); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/dictgen/src/rootcling_impl.cxx:2784; #21 0x00007ffff306ba57 in RootClingMain (argc=7, argv=0x4a4f10, ; isGenreflex=true); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/dictgen/src/rootcling_impl.cxx:4906; #22 0x00007ffff306f44b in genreflex::invokeRootCling (verbosity=..., ; selectionFileName=..., targetLibName=..., multiDict=false, pcmsNames=..., ; includes=..., preprocDefines=..., preprocUndefines=..., warnings=..., ; rootmapFileName=..., rootmapLibName=..., interpreteronly=false, ; doSplit=false, isCxxmodule=false, writeEmptyRootPCM=false, ; selSyntaxOnly=false, noIncludePaths=false, noGlobalUsingStd=false, ; headersNames=..., failOnWarnings=false, ofilename=...); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/dictgen/src/rootcling_impl.cxx:5371; #23 0x00007ffff307131c ",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11259:5438,patch,patches,5438,https://root.cern,https://github.com/root-project/root/issues/11259,2,['patch'],['patches']
Deployability,"ing for unfinished jobs....; In file included from ../../src/tbb/concurrent_hash_map.cpp:17:; ../../include/tbb/concurrent_hash_map.h: In constructor ‘tbb::interface5::internal::hash_map_base::hash_map_base()’:; ../../include/tbb/concurrent_hash_map.h:131:24: warning: ‘void* memset(void*, int, size_t)’ clearing an object of type ‘struct tbb::interface5::internal::hash_map_base::bucket’ with no trivial copy-assignment; use value-initialization instead [-Wclass-memaccess]; 131 | std::memset(my_embedded_segment, 0, sizeof(my_embedded_segment));; | ~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~; ../../include/tbb/concurrent_hash_map.h:93:16: note: ‘struct tbb::interface5::internal::hash_map_base::bucket’ declared here; 93 | struct bucket : tbb::internal::no_copy {; | ^~~~~~; make[6]: *** [Makefile:28: tbb] Error 2; ```. Trying to upgrade to v6-28-12, https://github.com/SyneRBI/SIRF-SuperBuild/pull/859/files, it compiled TBB ok, but failed in XROOTD installation. XROOTD-install-err.log says; ```; [I] No git repository info found. Trying to interpret VERSION_INFO; [I] The XrdVersion.hh file already exists; gmake[7]: *** read jobs pipe: Bad file descriptor. Stop.; gmake[7]: *** Waiting for unfinished jobs....; gmake[6]: *** [Makefile:136: all] Error 2; CMake Error at /home/runner/work/SIRF-SuperBuild/SIRF-SuperBuild/build/builds/ROOT/build/builtins/xrootd/XROOTD-prefix/src/XROOTD-stamp/XROOTD-install-Release-impl.cmake:9 (message):; Command failed (2):. '/usr/local/bin/cmake' '--build' '.' '--target' 'install'; ```; The same error occurs with v6-30-04. The log files actually don't really give an error, but the `bad file descriptor` is strange of course. I'm therefore not sure if this is a problem in ROOT, or a temporary problem on GitHub Actions, or of course a problem with how we build (although that seems to be finally CMake, https://github.com/SyneRBI/SIRF-SuperBuild/blob/master/SuperBuild/External_ROOT.cmake). Any ideas?. ### Reproducer. I cannot repr",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14520:2220,install,install-err,2220,https://root.cern,https://github.com/root-project/root/issues/14520,1,['install'],['install-err']
Deployability,"ing since moving to ROOT 6.32 on AlmaLinux 9.4. It worked fine with 6.20.04 running on Centos7. The library for accessing the TTree information was created using MakeProject. . ### Reproducer. This is the python code that crashes; ```; #!/usr/bin/env python3; import os; import ROOT; import argparse. parser = argparse.ArgumentParser(description='Analyse events.'); parser.add_argument(""inputfile""); parser.add_argument(""-o"",""--outputfile"",default=""Output.root"",help=""Name of output file""); args = parser.parse_args(). READEVENTANALYSISLIBRARY=ROOT.gSystem.Getenv(""READEVENTANALYSISLIBRARY"");; ROOT.gSystem.Load(READEVENTANALYSISLIBRARY);. globalRecon = ROOT.TChain(""ReconDir/Global""); globalRecon.AddFile(args.inputfile). OutputFile = ROOT.TFile(args.outputfile,""RECREATE"",""ND280 Analysis""); hTrackMomenta = ROOT.TH1F(""TrackMomenta"", ""Charged Track Momentum"", 100, 0, 1000.0). entries = globalRecon.GetEntries(); for entry in range(entries):; 	print("" entry = ""+str(entry)); 	ientry = globalRecon.LoadTree(entry); 	if ientry < 0:; 		break; 	nb = globalRecon.GetEntry(entry); 	if nb<=0:; 		continue; 	; 	for	pid in globalRecon.PIDs :; 		if(pid.Charge != 0) :; 			print("" charge is ""+str(pid.Charge)); 		#	hTrackMomenta.Fill(pid.FrontMomentum); OutputFile.Write(); OutputFile.Close(); ```. The crash traceback suggest this as the line causing the crash:. #7 0x00007fe963a68e9a in TBranchElement::ReadLeavesClones(TBuffer&) () from /home/aleph/ajf/t2k/root/lib/libTree.so; #8 0x00007fe963a60899 in TBranch::GetEntry(long long, int) () from /home/aleph/ajf/t2k/root/lib/libTree.so; #9 0x00007fe963a7326b in TBranchElement::GetEntry(long long, int) () from /home/aleph/ajf/t2k/root/lib/libTree.so; #10 0x00007fe963ad7300 in TTree::GetEntry(long long, int) () from /home/aleph/ajf/t2k/root/lib/libTree.so. ### ROOT version. 6.32.00 . ### Installation method. prebuilt binary root_v6.32.00.Linux-almalinux9.4-x86_64-gcc11.4.tar.gz. ### Operating system. AlmaLinux 9.4. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/16725:2096,Install,Installation,2096,https://root.cern,https://github.com/root-project/root/issues/16725,1,['Install'],['Installation']
Deployability,"ing.so; #7 0x00002b8fd105c4ee in clang::DeclContext::lookup(clang::DeclarationName) const () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #8 0x00002b8fcfb18f77 in LookupDirect(clang::Sema&, clang::LookupResult&, clang::DeclContext const*) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #9 0x00002b8fcfb19a5a in CppNamespaceLookup(clang::Sema&, clang::LookupResult&, clang::ASTContext&, clang::DeclContext*, (anonymous namespace)::UnqualUsingDirectiveSet&) [clone .isra.0] () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #10 0x00002b8fcfb1c4f5 in clang::Sema::CppLookupName(clang::LookupResult&, clang::Scope*) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #11 0x00002b8fcfb1ca1d in clang::Sema::LookupName(clang::LookupResult&, clang::Scope*, bool) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #12 0x00002b8fcf87cf29 in clang::Sema::HandleDeclarator(clang::Scope*, clang::Declarator&, llvm::MutableArrayRef<clang::TemplateParameterList*>) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #13 0x00002b8fcf87fc2c in clang::Sema::ActOnStartOfFunctionDef(clang::Scope*, clang::Declarator&, llvm::MutableArrayRef<clang::TemplateParameterList*>, clang::Sema::SkipBodyInfo*) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #14 0x00002b8fcf5e98cb in clang::Parser::ParseFunctionDefinition(clang::",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7093:5517,patch,patch,5517,https://root.cern,https://github.com/root-project/root/issues/7093,1,['patch'],['patch']
Deployability,"ing/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:193:18: error: static declaration of '__expf' follows non-static declaration; __DEVICE__ float __expf(float __a) { return __nv_fast_expf(__a); }; ^; cling: /usr/include/x86_64-linux-gnu/bits/mathcalls.h:95:1: note: previous declaration is here; __MATHCALL_VEC (exp,, (_Mdouble_ __x));; ^; /usr/include/math.h:266:3: note: expanded from macro '__MATHCALL_VEC'; __MATHCALL (function, suffix, args); ^; /usr/include/math.h:273:3: note: expanded from macro '__MATHCALL'; __MATHDECL (_Mdouble_,function,suffix, args); ^; /usr/include/math.h:276:3: note: expanded from macro '__MATHDECL'; __MATHDECL_1(type, __CONCAT(__,function),suffix, args); ^; /usr/include/math.h:283:15: note: expanded from macro '__MATHDECL_1'; extern type __MATH_PRECNAME(function,suffix) args __THROW; ^; /usr/include/math.h:303:34: note: expanded from macro '__MATH_PRECNAME'; # define __MATH_PRECNAME(name,r) name##f##r; ^; <scratch space>:216:1: note: expanded from here; __expf; ^; cling: In file included from <built-in>:1:; In file included from /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_runtime_wrapper.h:148:; /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:195:10: error: reference to __device__ function '__nvvm_atom_add_gen_f' in __host__ function; return __nvvm_atom_add_gen_f(__p, __v);; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:195:10: note: '__nvvm_atom_add_gen_f' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:198:10: error: reference to __device__ function '__nvvm_atom_cta_add_gen_f' in __host__ function; return __nvvm_atom_cta_add_gen_f(__p, __v);; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:1",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7518:7017,install,install,7017,https://root.cern,https://github.com/root-project/root/issues/7518,1,['install'],['install']
Deployability,"ing: OCAMLFIND OCAML_VERSION OCAML_STDLIB_PATH); -- OCaml bindings disabled.; -- LLVM host triple: x86_64-unknown-linux-gnu; -- LLVM default target triple: x86_64-unknown-linux-gnu; -- Building with -fPIC; -- Constructing LLVMBuild project information; -- Linker detection: GNU ld; -- Targeting X86; -- Targeting NVPTX; -- Clang version: 9.0.1; -- Cling version (from VERSION file): ROOT_0.9; -- Cling will look for C++ headers in '/usr/bin/../lib64/gcc/x86_64-suse-linux/10/../../../../include/c++/10:/usr/bin/../lib64/gcc/x86_64-suse-linux/10/../../../../include/c++/10/x86_64-suse-linux:/usr/bin/../lib64/gcc/x86_64-suse-linux/10/../../../../include/c++/10/backward' at runtime.; -- And then fallback to: 'clang-12.0.0'; -- Performing Test found_stdstringview; -- Performing Test found_stdstringview - Failed; -- Performing Test found_stdexpstringview; -- Performing Test found_stdexpstringview - Success; -- Performing Test found_stod_stringview; -- Performing Test found_stod_stringview - Failed; -- Performing Test found_stdapply; -- Performing Test found_stdapply - Failed; -- Performing Test found_stdinvoke; -- Performing Test found_stdinvoke - Failed; -- Performing Test found_stdindexsequence; -- Performing Test found_stdindexsequence - Success; -- ROOT Configuration. System Linux-5.11.16-1-default; Processor 6 core AMD Ryzen 5 3600XT 6-Core Processor (x86_64); Build type Release; Install path /usr/local; Compiler Clang 12.0.0; Compiler flags:; C -pipe -Wall -W -pthread -O3 -DNDEBUG; C++ -std=c++14 -Wc++11-narrowing -Wsign-compare -Wsometimes-uninitialized -Wconditional-uninitialized -Wheader-guard -Warray-bounds -Wcomment -Wtautological-compare -Wstrncat-size -Wloop-analysis -Wbool-conversion -pipe -Wall -W -Woverloaded-virtual -fsigned-char -pthread -O3 -DNDEBUG; Linker flags:; Executable -rdynamic; Module; Shared -Wl,--no-undefined. -- Enabled support for: asimage builtin_afterimage builtin_clang builtin_cling builtin_llvm builtin_lz4 builtin_nlohmannjson builtin_openui5",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/8097:4291,Configurat,Configuration,4291,https://root.cern,https://github.com/root-project/root/issues/8097,1,['Configurat'],['Configuration']
Deployability,"ing_assertion(mode); 1312: INTERNALERROR> File ""/home/sftnight/swunsch/root/roottest/python/pytest/_pytest/assertion/__init__.py"", line 113, in warn_about_missing_assertion; 1312: INTERNALERROR> assert False; 1312: INTERNALERROR> AssertionError; 1312: ! /home/sftnight/swunsch/root/roottest/python/pytest/_pytest/assertion/__init__.py; 1312: Traceback (most recent call last):; 1312: File ""/home/sftnight/swunsch/root/roottest/python/pytest/_pytest/main.py"", line 77, in wrap_session; 1312: config.do_configure(); 1312: File ""/home/sftnight/swunsch/root/roottest/python/pytest/_pytest/config.py"", line 608, in do_configure; 1312: self.hook.pytest_configure(config=self); 1312: File ""/home/sftnight/swunsch/root/roottest/python/pytest/_pytest/core.py"", line 377, in __call__; 1312: return self._docall(methods, kwargs); 1312: File ""/home/sftnight/swunsch/root/roottest/python/pytest/_pytest/core.py"", line 388, in _docall; 1312: res = mc.execute(); 1312: File ""/home/sftnight/swunsch/root/roottest/python/pytest/_pytest/core.py"", line 289, in execute; 1312: res = method(**kwargs); 1312: File ""/home/sftnight/swunsch/root/roottest/python/pytest/_pytest/assertion/__init__.py"", line 56, in pytest_configure; 1312: warn_about_missing_assertion(mode); 1312: File ""/home/sftnight/swunsch/root/roottest/python/pytest/_pytest/assertion/__init__.py"", line 113, in warn_about_missing_assertion; 1312: assert False; 1312: AssertionError; 1312: ; 1312: -- END TEST OUTPUT --; 1312: CMake Error at /home/sftnight/swunsch/build/RootTestDriver.cmake:191 (message):; 1312: got exit code 3 but expected 0; 1312: ; 1312: ; 1/1 Test #1312: roottest-python-basic-basic ......***Failed 5.07 sec. 0% tests passed, 1 tests failed out of 1. Total Test time (real) = 6.17 sec. The following tests FAILED:; 1312 - roottest-python-basic-basic (Failed). ```. That means our pytest in roottest is not compatible with py3.9. We can either hotfix our own pytest distribution or remove the inbuilt module and use official versions.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6597:5340,hotfix,hotfix,5340,https://root.cern,https://github.com/root-project/root/issues/6597,1,['hotfix'],['hotfix']
Deployability,"ings a bit, I put a simple reproducer under: https://github.com/krasznaa/root-boost-dictionary-error With which I see the following:. ```; [bash][eowyn-1]:root-boost-dictionary-error > root; ------------------------------------------------------------------; | Welcome to ROOT 6.22/02 https://root.cern |; | (c) 1995-2020, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built for macosx64 on Aug 17 2020, 12:46:52 |; | From tags/v6-22-02@v6-22-02 |; | Try '.help', '.demo', '.license', '.credits', '.quit'/'.q' |; ------------------------------------------------------------------. root [0] MyClass c;; In file included from libMyLibrary dictionary payload:5:; In file included from ./MyClass.h:6:; In file included from /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_ptr.hpp:17:; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1072:31: error: expected expression; template<class T> inline bool atomic_is_lock_free( shared_ptr<T> const * /*p*/ ) BOOST_SP_NOEXCEPT; ^; /Users/krasznaa/ATLAS/sw/projects/externals/build/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:83:73: note: expanded from macro 'atomic_is_lock_free'; #define atomic_is_lock_free(obj) __c11_atomic_is_lock_free(sizeof(*(obj))); ^; In file included from libMyLibrary dictionary payload:5:; In file included from ./MyClass.h:6:; In file included from /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_ptr.hpp:17:; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1072:81: error: expected ';' at end of declaration; template<class T> inline bool atomic_is_lock_free( shared_ptr<T> const * /*p*/ ) BOOST_SP",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6454:1259,Install,InstallArea,1259,https://root.cern,https://github.com/root-project/root/issues/6454,1,['Install'],['InstallArea']
Deployability,"inkingLayer::removeObject(llvm::orc::VModuleKey)':; [ 82s] /home/abuild/rpmbuild/BUILD/root-6.26.06/interpreter/cling/lib/Interpreter/IncrementalJIT.h:118:49: error: 'std::map<long unsigned int, std::unique_ptr<llvm::orc::LegacyRTDyldObjectLinkingLayerBase::LinkedObject> > llvm::orc::LegacyRTDyldObjectLinkingLayer::LinkedObjects' is private within this context; [ 82s] = static_cast<const AccessSymbolTable*>(LinkedObjects[K].get());; [ 82s] ^~~~~~~~~~~~~; [ 82s] In file included from /home/abuild/rpmbuild/BUILD/root-6.26.06/interpreter/cling/lib/Interpreter/IncrementalJIT.h:22:0,; [ 82s] from /home/abuild/rpmbuild/BUILD/root-6.26.06/interpreter/cling/lib/Interpreter/BackendPasses.cpp:12:; [ 82s] /usr/include/llvm/ExecutionEngine/Orc/RTDyldObjectLinkingLayer.h:475:55: note: declared private here; [ 82s] std::map<VModuleKey, std::unique_ptr<LinkedObject>> LinkedObjects;; [ 82s] ^~~~~~~~~~~~~; [ 82s] make[2]: *** [interpreter/cling/lib/Interpreter/CMakeFiles/obj.clingInterpreter.dir/build.make:125: interpreter/cling/lib/Interpreter/CMakeFiles/obj.clingInterpreter.dir/BackendPasses.cpp.o] Error 1; ```; https://github.com/root-project/root/blob/cd992545ae18f0d036e382408d4acfccfa16db48/interpreter/cling/lib/Interpreter/IncrementalJIT.h#L111-L112. Patched version in ROOT:; https://github.com/root-project/root/blob/cd992545ae18f0d036e382408d4acfccfa16db48/interpreter/llvm/src/include/llvm/ExecutionEngine/Orc/RTDyldObjectLinkingLayer.h#L473-L476. Upstream (LLVM 9.x):; https://github.com/llvm/llvm-project/blob/c1a0a213378a458fbea1a5c77b315c7dce08fd05/llvm/include/llvm/ExecutionEngine/Orc/RTDyldObjectLinkingLayer.h#L465; ```; private:; ExecutionSession &ES;. ResourcesGetter GetResources;; NotifyLoadedFtor NotifyLoaded;; NotifyFinalizedFtor NotifyFinalized;; NotifyFreedFtor NotifyFreed;. // NB! `LinkedObjects` needs to be destroyed before `NotifyFreed` because; // `~ConcreteLinkedObject` calls `NotifyFreed`; std::map<VModuleKey, std::unique_ptr<LinkedObject>> LinkedObjects;; ```",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11146:1466,Patch,Patched,1466,https://root.cern,https://github.com/root-project/root/issues/11146,1,['Patch'],['Patched']
Deployability,install python module to site-dir (ROOT-3316),MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/73:0,install,install,0,https://root.cern,https://github.com/root-project/root/pull/73,1,['install'],['install']
Deployability,"install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1099:33: error: expected parameter declarator; template<class T> shared_ptr<T> atomic_exchange( shared_ptr<T> * p, shared_ptr<T> r ) BOOST_SP_NOEXCEPT; ^; /Users/krasznaa/ATLAS/sw/projects/externals/build/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:137:81: note: expanded from macro 'atomic_exchange'; #define atomic_exchange(object, desired) __c11_atomic_exchange(object, desired, __ATOMIC_SEQ_CST); ^; <built-in>:16:26: note: expanded from here; #define __ATOMIC_SEQ_CST 5; ^; In file included from libMyLibrary dictionary payload:5:; In file included from ./MyClass.h:6:; In file included from /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_ptr.hpp:17:; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1099:33: error: expected ')'; /Users/krasznaa/ATLAS/sw/projects/externals/build/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:137:81: note: expanded from macro 'atomic_exchange'; #define atomic_exchange(object, desired) __c11_atomic_exchange(object, desired, __ATOMIC_SEQ_CST); ^; <built-in>:16:26: note: expanded from here; #define __ATOMIC_SEQ_CST 5; ^; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1099:33: note: to match this '('; /Users/krasznaa/ATLAS/sw/projects/externals/build/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:137:63: note: expanded from macro 'atomic_exchange'; #define atomic_exchange(object, desired) __c11_atomic_exchange(object, desired, __ATOMIC_SEQ_CST); ^; Error in <TInterpreter::AutoParse>: Error parsing payload code for class MyClass with content:. #line 1 ""libMyLibrary dictionary",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6454:8642,Install,InstallArea,8642,https://root.cern,https://github.com/root-project/root/issues/6454,1,['Install'],['InstallArea']
Deployability,"int main() {; toy();; return 0;; }; ```; Run it by `rool -l toy.cpp` or compile and run by `c++ toy.cpp -o t $(root-config --cflags --glibs) && ./t`. Result: `Warning in <Snapshot>: A lazy Snapshot action was booked but never triggered.` warning is given but `test3.root` is present. ---. Create `toy.cpp` with content:; ```cpp; #include <ROOT/RDataFrame.hxx>; #include <TRandom.h>. void toy() {; // comment this line out (i.e. single thread) won't reproduce the problem.; ROOT::EnableImplicitMT();; ROOT::RDataFrame emptydf{10000};; auto df = emptydf.Define(""x"", []() { return gRandom->Gaus(); }, {});; ROOT::RDF::RSnapshotOptions opts;; opts.fLazy = true;; auto act = df.Snapshot(""treeout"", ""test3.root"", """", opts);; // create a histogram and trigger the event loop; df.Histo1D(""x"")->SaveAs(""hist.root"");; return;; }. int main() {; toy();; return 0;; }; ```; Run it by `rool -l toy.cpp` or compile and run by `c++ toy.cpp -o t $(root-config --cflags --glibs) && ./t`. Result: `Warning in <Snapshot>: A lazy Snapshot action was booked but never triggered.` warning is given, `test3.root` is present. But `hist.root` that should come from `TH1D::SaveAs` is missing. . GDB suggest that control flow have reached `TObject::SaveAs`, I have no idea how to dig into the issue, but it looks to me as if ; https://github.com/root-project/root/blob/d245ee7889eb1ef1c30622356757a2731108abdc/core/base/src/TObject.cxx#L690; is skipped due to `gDirectory` being casted to `false` as `TDirectory::GetSharedLocalCurrentDirectory().get()._M_b._M_p` is `nullptr` in this case. ### ROOT version. Reproduced on ; ```; ROOT Version: 6.28/08; Built for linuxx8664gcc on Oct 13 2023, 09:48:14; From tags/v6-28-08@v6-28-08; ```; and; ```; ROOT Version: 6.30/00; Built for linuxx8664gcc on Nov 26 2023, 23:25:40; From heads/v6-30-patches@tags/v6-30-00; ```. ### Installation method. 6.28/08 from Fedora 39, self-compiled 6.30/00. ### Operating system. Fedora release 39 (Thirty Nine). ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14132:2768,patch,patches,2768,https://root.cern,https://github.com/root-project/root/issues/14132,3,"['Install', 'patch', 'release']","['Installation', 'patches', 'release']"
Deployability,"intuitive. #### Input line; ```c++; vccc::views::iota(10) | vccc::views::take(4); ```; #### Output; ```c++; In file included from input_line_11:1:; In file included from /Users/yonggyulee/Documents/GitHub/lackhole/xeus-cling/install/include/xcpp/xmime.hpp:16:; /usr/local/include/cling/Interpreter/RuntimePrintValue.h:224:7: error: 'auto' deduced as 'counted_iterator<I>' (aka 'counted_iterator<vccc::ranges::iota_view<int, vccc::unreachable_sentinel_t>::iterator>') in declaration of 'iter' and deduced as 'sentinel<true>' in declaration of 'iterEnd'; auto iter = obj->begin(), iterEnd = obj->end();; ^ ~~~~~~~~~~~~ ~~~~~~~~~~; /usr/local/include/cling/Interpreter/RuntimePrintValue.h:241:39: note: in instantiation of function template specialization 'cling::collectionPrinterInternal::printValue_impl<vccc::ranges::take_view<vccc::ranges::iota_view<int>>>' requested here; return collectionPrinterInternal::printValue_impl(obj);; ^; /Users/yonggyulee/Documents/GitHub/lackhole/xeus-cling/install/include/xcpp/xmime.hpp:49:39: note: in instantiation of function template specialization 'cling::printValue<vccc::ranges::take_view<vccc::ranges::iota_view<int>>>' requested here; bundle[""text/plain""] = cling::printValue(&value);; ^; input_line_24:2:2: note: in instantiation of function template specialization 'xcpp::mime_bundle_repr<vccc::ranges::take_view<vccc::ranges::iota_view<int>>>' requested here; mime_bundle_repr(*(*(vccc::ranges::take_view<vccc::ranges::iota_view<int, vccc::unreachable_sentinel_t>>**)0x7ff7b1808090));; ```. #### Fix; Just fixing the two lines of code would work.; https://github.com/lackhole/root/commit/9371e52a2403b173c3bdbc43fc045b2294812ad9. ### ROOT version. Latest (6.30.04). ### Installation method. Pre-built binary from the official website. ### Operating system. MacOS Sonoma 14.3.1. ### Additional context. Issue and PR already opened at root-project/cling; * https://github.com/root-project/cling/issues/517; * https://github.com/root-project/cling/pull/516",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14966:2624,Install,Installation,2624,https://root.cern,https://github.com/root-project/root/issues/14966,1,['Install'],['Installation']
Deployability,"ional: share how it could be improved; i was wondering if, given the special local only usage of a private/local version of cppyy, if this could be encapsulated somehow, so ROOT would use only it’s own version in such a way that is does not see any other cppyy version (even if discovered), and also the private cppyy modules are put in a place that would not be seen by anything outside ROOT as it’s not usable anyway:; ```; [Thursday 06.04.23 21:38 adrian@hal] ~ $; python3; Python 3.11.2 (main, Feb 8 2023, 00:00:00) [GCC 12.2.1 20221121 (Red Hat 12.2.1-4)] on linux; Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.; >>> import cppyy; /usr/lib64/python3.11/site-packages/cppyy_backend/loader.py:90: UserWarning: No precompiled header available (/usr/lib64/python3.11/site-packages/cppyy_backend/etc not writable); this may impact performance.; warnings.warn('No precompiled header available (%s); this may impact performance.' % msg); /usr/lib64/python3.11/site-packages/cppyy/__init__.py:266: UserWarning: CPyCppyy API path not found (tried: /usr/include); set CPPYY_API_PATH to fix; warnings.warn(""CPyCppyy API path not found (tried: %s); set CPPYY_API_PATH to fix"" % os.path.dirname(cpycppyy_path)); ```. ### To Reproduce; ```; rootls; usage: rootls [-h] [-1] [-l] [-t] FILE [FILE ...]; rootls: error: the following arguments are required: FILE. pip3 install --user cppyy. rootls; Traceback (most recent call last):; File ""/usr/bin/rootls"", line 12, in <module>; import cmdLineUtils; File ""/usr/share/root/cli/cmdLineUtils.py"", line 81, in <module>; import ROOT; File ""/usr/lib64/python3.11/site-packages/ROOT/__init__.py"", line 25, in <module>; cppyy.gbl.gROOT.SetBatch(False); ^^^^^^^^^^^^^^^^^^^^^^^^; AttributeError: 'TROOT' object has no attribute 'SetBatch'. Did you mean: 'GetPath'?; ```. ### Setup; 1.; ```; root-config --version; 6.26/10; ```. 2. Fedora 37. 3. dnf install. 1st posted in root-forum: https://root-forum.cern.ch/t/cppyy-user-side-breaks-root/54393",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12635:1633,install,install,1633,https://root.cern,https://github.com/root-project/root/issues/12635,2,['install'],['install']
Deployability,"ions shows that the red fit line somehow is drawn as if slope is positive. seems like a typo in the library somewhere... OUTPUT of the code; ```; FCN=2.0002 FROM MIGRAD STATUS=CONVERGED 193 CALLS 194 TOTAL; EDM=3.27759e-006 STRATEGY= 1 ERROR MATRIX ACCURATE; EXT PARAMETER STEP FIRST; NO. NAME VALUE ERROR SIZE DERIVATIVE; 1 p0 -3.92352e+004 3.69975e+005 4.36167e+000 -1.48093e-007; 2 p1 1.96154e+004 1.84897e+005 3.42375e+000 -3.06657e-007; <ROOT.TFitResultPtr object at 0x16B2CEE8>. ```; both p1 and p0 are BS. ### Reproducer. ```; import ROOT, numpy; x=numpy.array([1,2,3.0]); xerr=numpy.array([1,1,1.0]); yerr=numpy.array([0.1,0.1,0.1]); y=numpy.array([6.0,5,4]); a=ROOT.TGraphErrors(len(x),x,y,xerr,yerr); a.Fit(""pol1"", ""V""). ```; ### ROOT version. ```; ROOT Version 5.34/38 12 March 2018 (on WINDOWS); Python 2.7.16 (v2.7.16:413a49145e, Mar 4 2019, 01:30:55) [MSC v.1500 32 bit (Intel)] on win32; numpy in c:\python27\lib\site-packages (1.16.6); ```. ### Installation method. from package installer (windows) VS13. ### Operating system. Windows 11. ### Additional context. tested with; ROOT 6.26/10 complied from source on Ubuntu LTS 2022; Python 3.10.6 (main, May 29 2023, 11:10:38) [GCC 11.3.0] on linux; same error!. ```; a.Fit(""pol1"",""V""). **********. ** 10 **SET NOGRAD. **********. PARAMETER DEFINITIONS:. NO. NAME VALUE STEP SIZE LIMITS. 1 p0 -3.92352e+04 3.69975e+05 no limits. 2 p1 1.96154e+04 1.84897e+05 no limits. **********. ** 11 **SET ERR 1. **********. **********. ** 12 **SET PRINT 2. **********. **********. ** 13 **SET STR 1. **********. NOW USING STRATEGY 1: TRY TO BALANCE SPEED AGAINST RELIABILITY. **********. ** 14 **MIGRAD 1220 0.01. **********. FIRST CALL TO USER FUNCTION AT NEW START POINT, WITH IFLAG=4. START MIGRAD MINIMIZATION. STRATEGY 1. CONVERGENCE WHEN EDM .LT. 1.00e-05. FCN=2.0002 FROM MIGRAD STATUS=INITIATE 10 CALLS 11 TOTAL. EDM= unknown STRATEGY= 1 NO ERROR MATRIX . EXT PARAMETER CURRENT GUESS STEP FIRST . NO. NAME VALUE ERROR SIZE DERIVATIVE . 1 p0 -",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13895:1320,install,installer,1320,https://root.cern,https://github.com/root-project/root/issues/13895,1,['install'],['installer']
Deployability,"ions.h:198:10: error: reference to __device__ function '__nvvm_atom_cta_add_gen_f' in __host__ function; return __nvvm_atom_cta_add_gen_f(__p, __v);; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:198:10: note: '__nvvm_atom_cta_add_gen_f' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:201:10: error: reference to __device__ function '__nvvm_atom_sys_add_gen_f' in __host__ function; return __nvvm_atom_sys_add_gen_f(__p, __v);; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:201:10: note: '__nvvm_atom_sys_add_gen_f' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:205:7: error: reference to __device__ function '__nvvm_atom_xchg_gen_i' in __host__ function; __nvvm_atom_xchg_gen_i((int *)__p, __nv_float_as_int(__v)));; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:205:7: note: '__nvvm_atom_xchg_gen_i' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:209:7: error: reference to __device__ function '__nvvm_atom_cta_xchg_gen_i' in __host__ function; __nvvm_atom_cta_xchg_gen_i((int *)__p, __nv_float_as_int(__v)));; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:209:7: note: '__nvvm_atom_cta_xchg_gen_i' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:213:7: error: reference to __device__ function '__nvvm_atom_sys_xchg_gen_i' in __host__ function; __nvvm_atom_sys_xchg_gen_i((int *)__p, __nv_float_as_int(__v)));; ^; cling: /home/sehrig/workspace/root-projec",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7518:8715,install,install,8715,https://root.cern,https://github.com/root-project/root/issues/7518,1,['install'],['install']
Deployability,"ir/TClingMethodInfo.cxx.o; [ 75%] Built target ClingUtils; [ 75%] Building CXX object core/rootcling_stage1/CMakeFiles/rootcling_stage1.dir/src/rootcling_stage1.cxx.o; [ 75%] Linking CXX executable src/rootcling_stage1; [ 75%] Building CXX object core/metacling/src/CMakeFiles/MetaCling.dir/TClingRdictModuleFileExtension.cxx.o; [ 75%] Building CXX object core/metacling/src/CMakeFiles/MetaCling.dir/TClingTypedefInfo.cxx.o; [ 75%] Built target rootcling_stage1; [ 75%] Generating G__Core.cxx, ../lib/Core.pcm; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; input_line_1:1:10: note: submodule of top-level module 'std' implicitly imported here; #include <new>; ^; Warning in cling::IncrementalParser::CheckABICompatibility():; Failed to extract C++ standard library version.; While building module 'Core':; While building module 'Cling_Runtime' imported from input_line_2:1:; While building module 'Cling_Runtime_Extra' imported from /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/RuntimeUniverse.h:27:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/DynamicExprInfo.h:13:10: note: submodule of top-level module 'std' implicitly imported here; #include <string>; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/DynamicExprInfo.h:40:7: error: use of undeclared identifier 'std'; std::string m_Result;; ^; While building module 'Core':; While building module 'Cling_Runtime' imported from input_line_2:1:; While building module 'Cling_Runtime_Extra' imported from /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/RuntimeUniverse.h:27:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found;",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10528:14394,Install,Installed,14394,https://root.cern,https://github.com/root-project/root/issues/10528,1,['Install'],['Installed']
Deployability,"ire stack trace of all threads:; ===========================================================; #0 0x00007f075f899687 in __GI___waitpid (pid=2927, stat_loc=stat_loc; entry=0x7ffd2902c628, options=options; entry=0) at ../sysdeps/unix/sysv/linux/waitpid.c:30; #1 0x00007f075f804067 in do_system (line=<optimized out>) at ../sysdeps/posix/system.c:149; #2 0x00007f0765354577 in TUnixSystem::Exec (shellcmd=<optimized out>, this=0x55935a0857c0) at /home/yasmin/root/root-6.12.06/core/unix/src/TUnixSystem.cxx:2118; #3 TUnixSystem::StackTrace (this=0x55935a0857c0) at /home/yasmin/root/root-6.12.06/core/unix/src/TUnixSystem.cxx:2412; #4 0x00007f0765356c9c in TUnixSystem::DispatchSignals (this=0x55935a0857c0, sig=kSigSegmentationViolation) at /home/yasmin/root/root-6.12.06/core/unix/src/TUnixSystem.cxx:3643; #5 <signal handler called>; #6 0x00007f0761bb4118 in G4RToEConvForGamma::BuildAbsorptionLengthVector(G4Material const*, G4PhysicsLogVector*) () from /home/yasmin/CERN/geant4.10.03.p03-install/lib/libG4processes.so; #7 0x00007f0761bb6c3f in G4VRangeToEnergyConverter::Convert(double, G4Material const*) () from /home/yasmin/CERN/geant4.10.03.p03-install/lib/libG4processes.so; #8 0x00007f0761bb0bee in G4ProductionCutsTable::UpdateCoupleTable(G4VPhysicalVolume*) () from /home/yasmin/CERN/geant4.10.03.p03-install/lib/libG4processes.so; #9 0x00007f0763b9c5e2 in G4RunManagerKernel::RunInitialization(bool) () from /home/yasmin/CERN/geant4.10.03.p03-install/lib/libG4run.so; #10 0x00007f0763b8b3f7 in G4RunManager::RunInitialization() () from /home/yasmin/CERN/geant4.10.03.p03-install/lib/libG4run.so; #11 0x00007f0763b852c6 in G4RunManager::BeamOn(int, char const*, int) () from /home/yasmin/CERN/geant4.10.03.p03-install/lib/libG4run.so; #12 0x00007f0763b921fb in G4MTRunManager::Initialize() () from /home/yasmin/CERN/geant4.10.03.p03-install/lib/libG4run.so; #13 0x0000559358750187 in main (); ===========================================================. The lines below might hint at the caus",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/9952:1592,install,install,1592,https://root.cern,https://github.com/root-project/root/issues/9952,1,['install'],['install']
Deployability,"irly easy to reproduce. It seems that one can not provide `-isystem` and `-D` command line options to `genreflex` in any order. Specifying `-D` flags after `-isystem` flags seems to not work. ### Reproducer. Take the following file, called `header.h`:. ```c++; #ifndef HEADER_H; #define HEADER_H. // Require the preprocessor definition.; #ifndef DO_NOT_FAIL; #error ""Preprocessor definition not set!""; #endif. /// Dummy type; struct TypeWithDictionary {; int foo;; };. #endif; ```. With the following additional `selection.xml` file:. ```xml; <lcgdict>; <class name=""TypeWithDictionary"" />; </lcgdict>; ```. With these two, I can run the following happily:. ```; [bash][atspot01]:root-dict-isystem > genreflex header.h --select=selection.xml -o test_dict_success.cpp -D DO_NOT_FAIL -isystem /some/path; [bash][atspot01]:root-dict-isystem > head test_dict_success.cpp ; // Do NOT change. Changes will be lost next time file is generated. #define R__DICTIONARY_FILENAME test_dict_success; #define R__NO_DEPRECATION. /*******************************************************************/; #include <stddef.h>; #include <stdio.h>; #include <stdlib.h>; #include <string.h>; [bash][atspot01]:root-dict-isystem >; ```. But the following fails:. ```; [bash][atspot01]:root-dict-isystem > genreflex header.h --select=selection.xml -o test_dict_fail.cpp -isystem /some/path -D DO_NOT_FAIL; input_line_7:8:2: error: ""Preprocessor definition not set!""; #error ""Preprocessor definition not set!""; ^; Error: rootcling: compilation failure (./test_dict_fail5dde80a7de_dictUmbrella.h); [bash][atspot01]:root-dict-isystem >; ```. My guess is that `-isystem` in general is not taken correctly into account, but as I wrote in the description, I couldn't clearly demonstrate that thing just yet... ### ROOT version. Tried `6.26.06` and `v6-28-00-patches`. ### Installation method. Does not play a role here. ### Operating system. `x86_64-ubuntu2004-gcc9-opt`, `x86_64-el9-gcc13-opt`. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13207:2698,patch,patches,2698,https://root.cern,https://github.com/root-project/root/issues/13207,2,"['Install', 'patch']","['Installation', 'patches']"
Deployability,"irtualIsAProxy*, char const*, char const*, int, int, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #14 0x00007ffff561a48a in ROOT::CreateClass(char const*, short, std::type_info const&, TVirtualIsAProxy*, char const*, char const*, int, int) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #15 0x00007ffff562906a in ROOT::TGenericClassInfo::GetClass() (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #16 0x00007ffff5606b70 in TClass::LoadClassDefault(char const*, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #17 0x00007ffff560ee9c in TClass::GetClass(char const*, bool, bool, unsigned long, unsigned long) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; ...; ```. The unload() call here may free the Transaction T; (via IncrementalParser::deregisterTransaction) and return it to the pool.; But the code in findScope is protected by . ```; // The user wants to see the template instantiation, existing or not.; // Here we might not have an active transaction to handle; // the caused instantiation decl.; // Also quickFindDecl could trigger deserialization of decls.; Interpreter::PushTransactionRAII pushedT(m_Interpreter);; ```. The dtor of this runs when we hit the return above --- and this will; end up releasing the _same_ Transaction object to the pool. This version of the code in findScope was introduced by this change:. ```; commit 036133908aebab2c2e17e97c36923eed6ab87c5b; Author: Axel Naumann <Axel.Naumann@cern.ch>; Date: Thu Dec 17 18:41:51 2020 +0100. [cling] In failed lookup, unload only decls produced, not existing fwd decl:; ; Before, pre-existing fwd decls of specializations got unloade",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7657:15766,patch,patches,15766,https://root.cern,https://github.com/root-project/root/issues/7657,1,['patch'],['patches']
Deployability,irtualPacketizer.cxx:289; 10: Taking false branch in /opt/root_src/proof/proof/src/TVirtualPacketizer.cxx:289; 11: Taking true branch in /opt/root_src/proof/proof/src/TVirtualPacketizer.cxx:304; 12: Assuming 'gProofServ' is non-null in /opt/root_src/proof/proof/src/TVirtualPacketizer.cxx:353; 13: Taking true branch in /opt/root_src/proof/proof/src/TVirtualPacketizer.cxx:353; 14: Assuming the condition is true in /opt/root_src/proof/proof/src/TVirtualPacketizer.cxx:356; 15: Taking true branch in /opt/root_src/proof/proof/src/TVirtualPacketizer.cxx:356; 16: Assuming field 'fProgressPerf' is null in /opt/root_src/proof/proof/src/TVirtualPacketizer.cxx:360; 17: Left side of '&&' is false in /opt/root_src/proof/proof/src/TVirtualPacketizer.cxx:360; 18: Calling default constructor for 'TProofProgressInfo' in /opt/root_src/proof/proof/src/TVirtualPacketizer.cxx:397; 19: Calling default constructor for 'TObject' in /opt/root_src/proof/proof/inc/TProof.h:173; 20: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 21: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 22: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Assuming field 'fDoTrace' is true in /opt/root_src/proof/proofplayer/src/TPerfStats.cxx:610; 2: Left side of '||' is true in /opt/root_src/proof/proofplayer/src/TPerfStats.cxx:610; 3: Assuming the condition is true in /opt/root_src/proof/proofplayer/src/TPerfStats.cxx:610; 4: Taking true branch in /opt/root_src/proof/proofplayer/src/TPerfStats.cxx:610; 5: Calling default constructor for 'TPerfEvent' in /opt/root_src/proof/proofplayer/src/TPerfStats.cxx:611; 6: Calling default constructor for 'TObject' in /opt/root_src/proof/proofplayer/src/TPerfStats.cxx:53; 7: Calling 'TStorage::UpdateIsOnHeap' in /op,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:63714,Update,UpdateIsOnHeap,63714,https://root.cern,https://github.com/root-project/root/issues/7412,1,['Update'],['UpdateIsOnHeap']
Deployability,"is appears to be related to the traits-like class that we use to specify; the inheritance relations for our DataVector class. Schematically, it looks; like this:. ```; struct NoBase {};. template <class T>; struct DataVectorBase; {; typedef NoBase Base;; };. // Specialized derived version.; template <class T, class BASE = typename DataVectorBase<T>::Base>; class DataVector : public BASE {...};. // Base class version.; template <class T>; class DataVector<T, NoBase> {...};; ```. where user classes then specialize the DataVectorBase class; (in practice, done via a macro). I've now finally bit the bullet and reduced one example of this such that; it does not depend on ATLAS software. The test case is attached. If github still isn't allowing be to attach; archives, i've also put a copy on lxplus at ~ssnyder/public/fwddict-crash.tar. The set up is against a nightly debug build of 6.28-patches:. ```; $ . ./setup; $ echo $ROOTSYS; /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sat/ROOT/v6-28-00-patches/x86_64-el9-gcc13-dbg; $ ./build.sh ; $ python -i test.py; python: /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-28-00-patches/src/ROOT/v6-28-00-patches/interpreter/llvm/src/tools/clang/lib/Sema/SemaLookup.cpp:2165: bool clang::Sema::LookupQualifiedName(clang::LookupResult&, clang::DeclContext*, bool): Assertion `(!isa<TagDecl>(LookupCtx) || LookupCtx->isDependentContext() || cast<TagDecl>(LookupCtx)->isCompleteDefinition() || cast<TagDecl>(LookupCtx)->isBeingDefined()) && ""Declaration context must already be complete!""' failed.; *** Break *** abort; ```. The test script here is loading dictionaries from two separate libraries:. ```; getattr( ROOT, 'DataVector<TrackParticle_v1>', None ); getattr( ROOT, 'DataVector<Egamma_v1>', None ); ```. Either of these lines works by itself, but together they cause this crash. See https://its.cern.ch/jira/browse/ATEAM-942.; May also be related to https://sft.its.cern.ch/jira/browse/ROOT-10940. ### Reproducer. See abo",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14186:1482,patch,patches,1482,https://root.cern,https://github.com/root-project/root/issues/14186,1,['patch'],['patches']
Deployability,"is taken in TCanvas::Update. thread #11; frame #0: 0x00007fffab109bf2 libsystem_kernel.dylib`__psynch_cvwait + 10; frame #1: 0x00007fffab1f57fa libsystem_pthread.dylib`_pthread_cond_wait + 712; frame #2: 0x00007fff93394e34 AppKit`-[NSViewHierarchyLock lockForReadingWithExceptionHandler:] + 287; frame #3: 0x00007fff934948ae AppKit`-[NSWindow _copyAcquiredViewHierarchyLock] + 126; frame #4: 0x00007fff9349442c AppKit`-[NSView lockFocusIfCanDraw] + 159; frame #5: 0x000000011c09063d libGCocoa.so`ROOT::MacOSX::X11::CommandBuffer::Flush(this=0x0000000100dbb080, impl=0x0000000100dbb000) at X11Buffer.mm:550; frame #6: 0x000000011c04e9c4 libGCocoa.so`TGCocoa::Update(this=0x0000000100ad1bc0, mode=1) at TGCocoa.mm:536; frame #7: 0x000000011c04ff3e libGCocoa.so`TGCocoa::UpdateWindow(this=0x0000000100ad1bc0, (null)=1) at TGCocoa.mm:776; frame #8: 0x000000011ad70827 libGpad.so`TCanvas::Flush(this=0x000000012274e740) at TCanvas.cxx:1096; frame #9: 0x000000011ad7830f libGpad.so`TCanvas::Update(this=0x000000012274e740) at TCanvas.cxx:2287; frame #10: 0x0000000100fe4e86 threadsh2_C.so`handle2((null)=0x0000000000000001) at threadsh2.C:105; frame #11: 0x0000000100f55680 libThread.so`TThread::Function(ptr=0x0000000122753b00) at TThread.cxx:821; frame #12: 0x00007fffab1f493b libsystem_pthread.dylib`_pthread_body + 180; frame #13: 0x00007fffab1f4887 libsystem_pthread.dylib`_pthread_start + 286; frame #14: 0x00007fffab1f408d libsystem_pthread.dylib`thread_start + 13. thread #1, queue = 'com.apple.main-thread', stop reason = signal SIGSTOP; frame #0: 0x00007fffab109bf2 libsystem_kernel.dylib`__psynch_cvwait + 10; frame #1: 0x00007fffab1f57fa libsystem_pthread.dylib`_pthread_cond_wait + 712; frame #2: 0x00007fffa9b734cd libc++.1.dylib`std::__1::condition_variable::wait(std::__1::unique_lock<std::__1::mutex>&) + 47; frame #3: 0x0000000100f76b6f libThread.so`void std::__1::condition_variable_any::wait<std::__1::unique_lock<std::__1::mutex> >(this=0x0000000122753a28, __lock=0x00007fff5fbf5cf8) at",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1573:1748,Update,Update,1748,https://root.cern,https://github.com/root-project/root/pull/1573,1,['Update'],['Update']
Deployability,"is version of RNTuple!; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experimental::Internal::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNTupleDescriptorBuilder&)>: Pre-release format version: RC 1; [ OK ] RNTuple.TClassTemplatedBase (260 ms); [ RUN ] RNTuple.TVirtualCollectionProxy; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RPageStorageFile.cxx:51 in ROOT::Experimental::Detail::RPageSinkFile::RPageSinkFile(std::string_view, const ROOT::Experimental::RNTupleWriteOptions&)>: The RNTuple file format will change. Do not store real data with this version of RNTuple!; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experimental::Internal::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNTupleDescriptorBuilder&)>: Pre-release format version: RC 1; [ OK ] RNTuple.TVirtualCollectionProxy (4036 ms); [ RUN ] RNTuple.Enums; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RPageStorageFile.cxx:51 in ROOT::Experimental::Detail::RPageSinkFile::RPageSinkFile(std::string_view, const ROOT::Experimental::RNTupleWriteOptions&)>: The RNTuple file format will change. Do not store real data with this version of RNTuple!; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experimental::Internal::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNTupleDescriptorBuilder&)>: Pre-release format version: RC 1; [ OK ] RNTuple.Enums (29 ms); [ RUN ] RNTuple.Traits; [ OK ] RNTuple.Traits (0 ms); [----------] 18 tests from RNTuple (5604 ms total); [----------] Global t",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12426:22890,release,release,22890,https://root.cern,https://github.com/root-project/root/issues/12426,1,['release'],['release']
Deployability,"is=0x4a2980, input=..., Opts=...) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/interpreter/cling/lib/Interpreter/IncrementalParser.cpp:663; #25 0x00007fffeebcbc4e in cling::Interpreter::DeclareInternal (this=0x4a0f30, input=..., CO=..., T=0x7fffffffd680) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/interpreter/cling/lib/Interpreter/Interpreter.cpp:1195; #26 0x00007fffeebca8e8 in cling::Interpreter::declare (this=0x4a0f30, input=..., T=0x7fffffffd680) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/interpreter/cling/lib/Interpreter/Interpreter.cpp:823; #27 0x00007fffeebcb560 in cling::Interpreter::DeclareCFunction (this=0x4a0f30, name=..., code=..., withAccessControl=true) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/interpreter/cling/lib/Interpreter/Interpreter.cpp:1096; #28 0x00007fffeebcb862 in cling::Interpreter::compileFunction (this=0x4a0f30, name=..., code=..., ifUnique=false, withAccessControl=true); at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/interpreter/cling/lib/Interpreter/Interpreter.cpp:1140; #29 0x00007fffeeafb83c in TClingCallFunc::compile_wrapper (withAccessControl=true, wrapper=..., wrapper_name=..., this=0xcf3c10) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/metacling/src/TClingCallFunc.cxx:270; #30 TClingCallFunc::make_wrapper (this=this@entry=0xcf3c10) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/metacling/src/TClingCallFunc.cxx:1096; #31 0x00007fffeeafbcb8 in TClingCallFunc::IFacePtr (this=this@entry=0xcf3c10) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/metacling/src/TClingCallFunc.cxx:2233; #32 0x00007fffeeafbe83 in TClingCallFunc::ExecT<long> (address=0x0, this=0xcf3c10) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/metacling/src/TClingCallFunc.cxx:2045; #33 TClingCallFunc::ExecInt (this=0xcf3c10, address=0x0) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/metacling/src/TClingCallFunc.cxx:2065; #",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2776:8330,patch,patches,8330,https://root.cern,https://github.com/root-project/root/pull/2776,2,['patch'],['patches']
Deployability,"is=0x7ffdab5e2070, entry=0) at /home/eguiraud/ROOT/build_dbg/include/TTreeReader.h:191; #15 0x0000561d87cc8829 in TTreeReader::Next (this=0x7ffdab5e2070) at /home/eguiraud/ROOT/build_dbg/include/TTreeReader.h:183; #16 0x0000561d87cc863b in main () at repro_treereader.cpp:42; ```. ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->. ```c++; #include <TChain.h>; #include <TTreeReader.h>; #include <TTreeReaderValue.h>; #include <TTree.h>; #include <TFile.h>; #include <ROOT/RDataFrame.hxx>; #include <iostream>. int main(); {; {; // write a TTree and its friend to the same file:; // when t1 is read back, it automatically also loads its friend; TFile f(""f.root"", ""recreate"");; TTree t1(""t1"", ""t1"");; TTree t2(""t2"", ""t2"");; int x = 42;; t2.Branch(""x"", &x);; t1.Fill();; t2.Fill();; t1.AddFriend(&t2);; t1.Write();; t2.Write();; f.Close();; }. {; // reading t2.x via chain->SetBranchAddress works; TChain c;; c.Add(""f.root/t1"");; c.LoadTree(0);; int x = 0;; c.SetBranchAddress(""t2.x"", &x);; c.GetEntry(0);; std::cout << x << '\n'; // prints 42; }. {; // reading t2.x via TTreeReader segfaults; TChain c;; c.Add(""f.root/t1"");; c.LoadTree(0);; TTreeReader r(&c);; TTreeReaderValue<int> rv(r, ""t2.x"");; r.Next();; }. return 0;; }; ```. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->. ROOT master@b694869108 (v6.23). ### Additional context; <!--; Add any other context about the problem here.; -->. This blocks #6741 . Using TTree directly instead of passing through TChain works:. ```c++; { ; TFile f(""f.root""); ; auto *t = f.Get<TTree>(""t1""); ; TTreeReader r(t); ; TTreeReaderValue<int> rv(r, ""t2.x""); ; r.Next();; std::cout << *rv << std::endl; // prints 42 ; } ; ```",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6993:3397,install,install,3397,https://root.cern,https://github.com/root-project/root/issues/6993,1,['install'],['install']
Deployability,issue while installing root,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14102:12,install,installing,12,https://root.cern,https://github.com/root-project/root/issues/14102,1,['install'],['installing']
Deployability,"issues?q=is%3Aissue); * AND [Jira](https://sft.its.cern.ch/jira/issues/?jql=project %3D ROOT); for existing reports of your issue. If you find one, you are very welcome to add to the existing report, for instance ""issue still exists in today's master"".; -->. ### Describe the bug; <!--; A clear and concise description of what the wrong behavior is.; -->; When passing a argument to a formula based RooFit function (e.g. `RooFormulaVar` or `RooGenericPdf`), RooFit will search for all occurrences of the object name in the formula and replace them with an ordinal parameter (needed for the underling `TFormula`). However, when the argument is a `RooConst` the name is just a string containing the value and this can break if there are numeric literals inside the formula.; For example; ```; RooFormulaVar f(""f"", ""2.7*@0"", RooFit::RooConst(2.)); ```; becomes inside the `TFormula`; ```; x[0].7*x[0]; ```; because the name 2 of the `RooConst` matched the 2 of the numeric literal. This of course breaks during formula compilation. ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->; The variables do not replace numeric literals no matter the name. Possibly `RooConst`s should be matched only by index?. ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->; ```; RooFormulaVar f(""f"", ""2.7*@0"", RooFit::RooConst(2.)); ```. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->; HEAD of ROOT 6.26 from LCG dev4. ### Additional context; <!--; Add any other context about the problem here.; -->; `RooFormulaVar f(""f"", ""2.7*@0"", RooFit::RooConst(2.7))` creates `x[0]*x[0]`, which is mostly fine but may break if servers are redirected",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11992:1792,install,install,1792,https://root.cern,https://github.com/root-project/root/issues/11992,1,['install'],['install']
Deployability,"istjs/minimist/commit/783a49bfd47e8335d3098a8cac75662cf71eb32a""><code>783a49b</code></a> [meta] create FUNDING.yml; add <code>funding</code> in package.json</li>; <li>Additional commits viewable in <a href=""https://github.com/minimistjs/minimist/compare/v0.0.8...v1.2.7"">compare view</a></li>; </ul>; </details>; <details>; <summary>Maintainer changes</summary>; <p>This version was pushed to npm by <a href=""https://www.npmjs.com/~ljharb"">ljharb</a>, a new releaser for minimist since your current version.</p>; </details>; <br />. Updates `mkdirp` from 0.5.1 to 0.5.6; <details>; <summary>Commits</summary>; <ul>; <li><a href=""https://github.com/isaacs/node-mkdirp/commit/92f086d2e28c6848951776fbe8ecadcf54c80c29""><code>92f086d</code></a> 0.5.6</li>; <li><a href=""https://github.com/isaacs/node-mkdirp/commit/2a2812536c0d3e23dce78978e1d4691d7ff445a7""><code>2a28125</code></a> clean up tests</li>; <li><a href=""https://github.com/isaacs/node-mkdirp/commit/c905d653e9cd294f7124c83ad499d95baed17088""><code>c905d65</code></a> update minimist</li>; <li><a href=""https://github.com/isaacs/node-mkdirp/commit/049cf185c9e91727bc505b796a2d16a4fe70d64d""><code>049cf18</code></a> 0.5.5</li>; <li><a href=""https://github.com/isaacs/node-mkdirp/commit/bea638225aa991095f29a9e16d914effa0c134fe""><code>bea6382</code></a> Remove unnecessary umask calls</li>; <li><a href=""https://github.com/isaacs/node-mkdirp/commit/42a012cc6dbd4648790f380df88190bb697dbb9c""><code>42a012c</code></a> 0.5.4</li>; <li><a href=""https://github.com/isaacs/node-mkdirp/commit/2867920c08dc6c47bad0ea5b385a8e78bade0c8f""><code>2867920</code></a> fix infinite loop on windows machines</li>; <li><a href=""https://github.com/isaacs/node-mkdirp/commit/d784e70d1eb3fc73bcda52f22f57ec55c00c2525""><code>d784e70</code></a> 0.5.3</li>; <li><a href=""https://github.com/isaacs/node-mkdirp/commit/d612c5ddca62d50282147f5d199810bf1de0b314""><code>d612c5d</code></a> add files list so this package isn't a monster</li>; <li><a href=""https://github.com/isa",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11865:8012,update,update,8012,https://root.cern,https://github.com/root-project/root/pull/11865,1,['update'],['update']
Deployability,istpainter/src/TGraphPainter.cxx:1223; 16: Taking false branch in /opt/root_src/hist/histpainter/src/TGraphPainter.cxx:1223; 17: Assuming the condition is true in /opt/root_src/hist/histpainter/src/TGraphPainter.cxx:1225; 18: Taking true branch in /opt/root_src/hist/histpainter/src/TGraphPainter.cxx:1225; 19: Calling 'TGraphPainter::PaintGraphQQ' in /opt/root_src/hist/histpainter/src/TGraphPainter.cxx:1226; 20: Assuming 'theX' is non-null in /opt/root_src/hist/histpainter/src/TGraphPainter.cxx:3926; 21: Taking false branch in /opt/root_src/hist/histpainter/src/TGraphPainter.cxx:3926; 22: Assuming 'theF' is null in /opt/root_src/hist/histpainter/src/TGraphPainter.cxx:3931; 23: Taking false branch in /opt/root_src/hist/histpainter/src/TGraphPainter.cxx:3931; 24: Calling default constructor for 'TLine' in /opt/root_src/hist/histpainter/src/TGraphPainter.cxx:3948; 25: Calling default constructor for 'TObject' in /opt/root_src/graf2d/graf/inc/TLine.h:38; 26: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 27: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 28: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Calling copy constructor for 'TH1D' in /opt/root_src/hist/hist/src/TH1.cxx:10203; 2: Calling default constructor for 'TH1' in /opt/root_src/hist/hist/src/TH1.cxx:10112; 3: Calling default constructor for 'TNamed' in /opt/root_src/hist/hist/src/TH1.cxx:595; 4: Calling default constructor for 'TObject' in /opt/root_src/core/base/inc/TNamed.h:36; 5: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 6: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 7: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:30745,Update,UpdateIsOnHeap,30745,https://root.cern,https://github.com/root-project/root/issues/7412,1,['Update'],['UpdateIsOnHeap']
Deployability,"it/roofitZMQ/res/RooFit_ZMQ/ZeroMQSvc.h:17:0,; from /tmp/ROOT/v6-26-00-patches/roofit/roofitZMQ/res/RooFit_ZMQ/ZeroMQPoller.h:17,; from /tmp/ROOT/v6-26-00-patches/roofit/roofitZMQ/src/ZeroMQPoller.cpp:14:; /usr/include/zmq.hpp:625:23: note: candidate: size_t zmq::socket_t::recv(void*, size_t, int); inline size_t recv (void *buf_, size_t len_, int flags_ = 0); ^~~~; /usr/include/zmq.hpp:625:23: note: no known conversion for argument 1 from ‘std::reference_wrapper<zmq::message_t>’ to ‘void*’; /usr/include/zmq.hpp:635:21: note: candidate: bool zmq::socket_t::recv(zmq::message_t*, int); inline bool recv (message_t *msg_, int flags_ = 0); ^~~~; /usr/include/zmq.hpp:635:21: note: no known conversion for argument 1 from ‘std::reference_wrapper<zmq::message_t>’ to ‘zmq::message_t*’; In file included from /tmp/ROOT/v6-26-00-patches/roofit/roofitZMQ/res/RooFit_ZMQ/ZeroMQPoller.h:17:0,; from /tmp/ROOT/v6-26-00-patches/roofit/roofitZMQ/src/ZeroMQPoller.cpp:14:; (...); /tmp/ROOT/v6-26-00-patches/roofit/roofitZMQ/src/ZeroMQPoller.cpp:231:14: error: ‘m_fds’ was not declared in this scope; auto it = m_fds.find(fd);; ^~~~~; /tmp/ROOT/v6-26-00-patches/roofit/roofitZMQ/src/ZeroMQPoller.cpp:231:14: note: suggested alternative: ‘m_free’; auto it = m_fds.find(fd);; ^~~~~; m_free; Consolidate compiler generated dependencies of target obj.clingInterpreter; [ 73%] Built target obj.clingInterpreter; [ 73%] Built target clingInterpreter; [ 73%] Built target CLING; [ 73%] Built target clad; [ 73%] Built target LLVMRES; Consolidate compiler generated dependencies of target ClingUtils; roofit/roofitZMQ/CMakeFiles/RooFitZMQ.dir/build.make:89: recipe for target 'roofit/roofitZMQ/CMakeFiles/RooFitZMQ.dir/src/ZeroMQPoller.cpp.o' failed; make[2]: *** [roofit/roofitZMQ/CMakeFiles/RooFitZMQ.dir/src/ZeroMQPoller.cpp.o] Error 1; make[2]: Target 'roofit/roofitZMQ/CMakeFiles/RooFitZMQ.dir/build' not remade because of errors.; CMakeFiles/Makefile2:35161: recipe for target 'roofit/roofitZMQ/CMakeFiles/RooFit",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10107:2575,patch,patches,2575,https://root.cern,https://github.com/root-project/root/issues/10107,1,['patch'],['patches']
Deployability,it/roofitcore/src/RooFitResult.cxx:1331; 10: Calling default constructor for 'TMatrixTBase<double>' in /opt/root_src/math/matrix/inc/TMatrixTSym.h:54; 11: Calling default constructor for 'TObject' in /opt/root_src/math/matrix/inc/TMatrixTBase.h:115; 12: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 13: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 14: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Calling default constructor for 'SplitRule' in /opt/root_src/roofit/roofitcore/src/RooSimWSTool.cxx:844; 2: Calling constructor for 'TNamed' in /opt/root_src/roofit/roofitcore/inc/RooSimWSTool.h:82; 3: Calling default constructor for 'TObject' in /opt/root_src/core/base/inc/TNamed.h:37; 4: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 5: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 6: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Assuming 'cl' is <= 0 in /opt/root_src/roofit/roostats/src/ConfidenceBelt.cxx:176; 2: Left side of '||' is false in /opt/root_src/roofit/roostats/src/ConfidenceBelt.cxx:176; 3: Assuming 'leftside' is <= 0 in /opt/root_src/roofit/roostats/src/ConfidenceBelt.cxx:176; 4: Taking false branch in /opt/root_src/roofit/roostats/src/ConfidenceBelt.cxx:176; 5: Taking false branch in /opt/root_src/roofit/roostats/src/ConfidenceBelt.cxx:181; 6: 'hist' is non-null in /opt/root_src/roofit/roostats/src/ConfidenceBelt.cxx:185; 7: Taking true branch in /opt/root_src/roofit/roostats/src/ConfidenceBelt.cxx:185; 8: Assuming ,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:73244,Update,UpdateIsOnHeap,73244,https://root.cern,https://github.com/root-project/root/issues/7412,1,['Update'],['UpdateIsOnHeap']
Deployability,"itCore.6.22.06.so"" ""/<path/to>/opt/anaconda3/envs/aslsRun2_ana/lib/libMinuit.6.22.06.so"" ""/<path/to>/opt/anaconda3/envs/aslsRun2_ana/lib/libFoam.6.22.06.so"" ""/<path/to>/opt/anaconda3/envs/aslsRun2_ana/lib/libGraf.6.22.06.so"" ""/<path/to>/opt/anaconda3/envs/aslsRun2_ana/lib/libHist.6.22.06.so"" ""/<path/to>/opt/anaconda3/envs/aslsRun2_ana/lib/libMatrix.6.22.06.so"" ""/<path/to>/opt/anaconda3/envs/aslsRun2_ana/lib/libMathCore.6.22.06.so"" ""-lsandbox.1"" ""-lCoreStorage"" ""-lcsfde"" ""-lMatch.1"" -o ""/<path/to>/Downloads/.wscode.305a6bb0-6f9d-11eb-9678-a001a8c0beef.ws/RooSDSCBShape_cxx.so""' failed!; [#0] ERROR:ObjectHandling -- RooWorkspace::CodeRepo::compileClasses() ERROR compiling class RooSDSCBShape, to fix this you can do the following: ; 1) Fix extracted source code files in directory .wscode.305a6bb0-6f9d-11eb-9678-a001a8c0beef.ws/; 2) In clean ROOT session compiled fixed classes by hand using '.x .wscode.305a6bb0-6f9d-11eb-9678-a001a8c0beef.ws/ClassName.cxx+'; 3) Reopen file with RooWorkspace with broken source code in UPDATE mode. Access RooWorkspace to force loading of class; Broken instances in workspace will _not_ be compiled, instead precompiled fixed instances will be used.; 4) Reimport fixed code in workspace using 'RooWorkspace::importClassCode(""*"",kTRUE)' method, Write() updated workspace to file and close file; 5) Reopen file in clean ROOT session to confirm that problems are fixed; ```. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->; ROOT version 6.22/06 on macOS, obtained from conda-forge. ### Additional context; <!--; Add any other context about the problem here.; -->; See the forum post [here](https://root-forum.cern.ch/t/import-custom-pdf-in-rooworkspace/43478?u=mwilkins). In my view, `importClassCode` ought to be sufficient on its own, but in any case, once this is resolved, the required sequence of `RooWorkspace::addClassDeclImportDir`, `RooWorkspace::add",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7249:7960,UPDATE,UPDATE,7960,https://root.cern,https://github.com/root-project/root/issues/7249,1,['UPDATE'],['UPDATE']
Deployability,"ite,, (_Mdouble_ __value)) __attribute__ ((__const__));; ^; cling: In file included from <built-in>:1:; In file included from /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_runtime_wrapper.h:148:; /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:245:16: error: static declaration of '__finitef' follows non-static declaration; __DEVICE__ int __finitef(float __a) { return __nv_finitef(__a); }; ^; cling: /usr/include/x86_64-linux-gnu/bits/mathcalls-helper-functions.h:33:1: note: previous declaration is here; __MATHDECL_1 (int, __finite,, (_Mdouble_ __value)) __attribute__ ((__const__));; ^; /usr/include/math.h:283:15: note: expanded from macro '__MATHDECL_1'; extern type __MATH_PRECNAME(function,suffix) args __THROW; ^; /usr/include/math.h:303:34: note: expanded from macro '__MATH_PRECNAME'; # define __MATH_PRECNAME(name,r) name##f##r; ^; <scratch space>:160:1: note: expanded from here; __finitef; ^; cling: In file included from <built-in>:1:; In file included from /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_runtime_wrapper.h:148:; /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:359:10: error: reference to __device__ function '__nvvm_atom_add_gen_i' in __host__ function; return __nvvm_atom_add_gen_i(__p, __v);; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:359:10: note: '__nvvm_atom_add_gen_i' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:362:3: error: reference to __device__ function '__nvvm_atom_cta_add_gen_i' in __host__ function; __nvvm_atom_cta_add_gen_i(__p, __v);; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:362:3: n",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7518:11290,install,install,11290,https://root.cern,https://github.com/root-project/root/issues/7518,1,['install'],['install']
Deployability,"iteToFile(""simplest-53432.root"");; ```; * Since it isn't easy to get ROOT 5.34 running on CentOS7 these days, I have saved some workspace files here:; * `/afs/cern.ch/user/a/adye/public/root/bug-62206/simplest-53425.root` (created with ROOT 5.34/25); * `/afs/cern.ch/user/a/adye/public/root/bug-62206/simplest-53432.root` (created with ROOT 5.34/32); * `/afs/cern.ch/user/a/adye/public/root/bug-62206/simplest-60212.root` (created with ROOT 6.02/12); * Setup ROOT 6.22/06 and load the file:; ```; % . /cvmfs/sft.cern.ch/lcg/views/setupViews.sh LCG_99 x86_64-centos7-gcc8-dbg; % root -b; root [0] TFile::Open(""simplest-53432.root""); *** Break *** segmentation violation; ...; #10 std::__atomic_base<TVirtualStreamerInfo*>::load (__m=std::memory_order_seq_cst, this=0x1d8) at /cvmfs/sft.cern.ch/lcg/releases/gcc/8.3.0-cebb0/x86_64-centos7/include/c++/8.3.0/bits/atomic_base.h:713; #11 std::__atomic_base<TVirtualStreamerInfo*>::operator TVirtualStreamerInfo* (this=0x1d8) at /cvmfs/sft.cern.ch/lcg/releases/gcc/8.3.0-cebb0/x86_64-centos7/include/c++/8.3.0/bits/atomic_base.h:590; #12 0x00007f791c62f23e in std::atomic<TVirtualStreamerInfo*>::operator TVirtualStreamerInfo* (this=0x1d8) at /cvmfs/sft.cern.ch/lcg/releases/gcc/8.3.0-cebb0/x86_64-centos7/include/c++/8.3.0/atomic:367; #13 0x00007f791c625873 in TClass::GetStreamerInfo (this=0x0, version=0, isTransient=false) at /build/jenkins/workspace/lcg_release_pipeline/build/projects/ROOT-v6.22.06/src/ROOT/v6.22.06/core/meta/src/TClass.cxx:4563; #14 0x00007f7919c70b29 in (anonymous namespace)::FixCollectionV5 (context=0x372fc40, oldClass=0x3a21c20, newClass=0x3a23a30) at /build/jenkins/workspace/lcg_release_pipeline/build/projects/ROOT-v6.22.06/src/ROOT/v6.22.06/io/io/src/TStreamerInfo.cxx:1586; #15 0x00007f7919c76b47 in (anonymous namespace)::TMemberInfo::operator!= (this=0x7ffe32cab7e0, other=...) at /build/jenkins/workspace/lcg_release_pipeline/build/projects/ROOT-v6.22.06/src/ROOT/v6.22.06/io/io/src/TStreamerInfo.cxx:2690; #16 0x00007",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7276:1929,release,releases,1929,https://root.cern,https://github.com/root-project/root/issues/7276,1,['release'],['releases']
Deployability,"itic voigt's dumping function. ; math/mathmore/src/VoigtRelativistic.cxx - Implements the two functions defined in VoigtRelativistic.h . This implementation uses the redefinition of variables in https://arxiv.org/pdf/1711.09304.pdf which is required to write the integral in a computationally feasiable way.; tutorials/math/Voigt.C - Add a tutorial which shows the use of the new VoigtRelativistic class two produce two plots, comparing relativistic voigt to non relativistic voigt, both as the voigt itself and their dumping functions.; Files modified:; math/mathmore/CMakeLists.txt; math/mathmore/inc/Math/LinkDef.h - These two files needed to be modified to compile my changes adding in the relativisitc voigt. **Full description**; Implemented relativistic version of voigt (non-relativistic case already exists in TMath). As previously discussed in the ROOT forum https://root-forum.cern.ch/t/relativistic-breit-wigner-and-relativistic-voigt/48844 , the relativistic version has been added to mathmore rather than TMath, as it requires including a header file with an integrator which is CPU intensive. This has hence been added as it's own class in mathmore, with two functions:. static double evaluate(double x, double median, double sigma, double lg, double integrationRange=26.615717509251260);; static double dumpingFunction(double median, double sigma, double lg, double integrationRange=26.615717509251260);. The default integrationRange was chosen as the integral has been wrote in a form where it is multiplied by exp(-t^2), and this value of integrationRange results in going to the point where exp(-t^2) reaches the minimum value stored by a double. A relativistic voigt is a convolution of a relativistic breit wigner and a gaussian, doing this naively is computationally infeasible however a fairly simple redefinition of variables allows rewriting the integral in a form that is reasonable to compute. This is shown in https://arxiv.org/pdf/1711.09304.pdf equation 9 which has been",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11049:1523,integrat,integrator,1523,https://root.cern,https://github.com/root-project/root/pull/11049,1,['integrat'],['integrator']
Deployability,ition is false in /opt/root_src/tmva/tmva/src/DataInputHandler.cxx:89; 5: Taking false branch in /opt/root_src/tmva/tmva/src/DataInputHandler.cxx:89; 6: Assuming the condition is false in /opt/root_src/tmva/tmva/src/DataInputHandler.cxx:90; 7: Taking false branch in /opt/root_src/tmva/tmva/src/DataInputHandler.cxx:90; 8: Assuming 'tt' is equal to kMaxTreeType in /opt/root_src/tmva/tmva/src/DataInputHandler.cxx:96; 9: Assuming the condition is false in /opt/root_src/tmva/tmva/src/DataInputHandler.cxx:96; 10: Taking false branch in /opt/root_src/tmva/tmva/src/DataInputHandler.cxx:96; 11: Assuming the condition is false in /opt/root_src/tmva/tmva/src/DataInputHandler.cxx:105; 12: Taking false branch in /opt/root_src/tmva/tmva/src/DataInputHandler.cxx:105; 13: Calling constructor for 'TreeInfo' in /opt/root_src/tmva/tmva/src/DataInputHandler.cxx:109; 14: Calling default constructor for 'TObject' in /opt/root_src/tmva/tmva/inc/TMVA/DataInputHandler.h:56; 15: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 16: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 17: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Assuming 'param' is >= field 'fNumParams' in /opt/root_src/tmva/tmva/src/LDA.cxx:83; 2: Loop condition is false. Execution continues on line 91 in /opt/root_src/tmva/tmva/src/LDA.cxx:83; 3: Assuming field 'fDebug' is false in /opt/root_src/tmva/tmva/src/LDA.cxx:94; 4: Taking false branch in /opt/root_src/tmva/tmva/src/LDA.cxx:94; 5: Assuming the condition is false in /opt/root_src/tmva/tmva/src/LDA.cxx:109; 6: Taking false branch in /opt/root_src/tmva/tmva/src/LDA.cxx:109; 7: Assuming 'row' is >= field 'fNumParams' in /opt/root_src/tmva/tmva/src/LDA.cxx:111; 8: Loop condition is false. Execution contin,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:77819,Update,UpdateIsOnHeap,77819,https://root.cern,https://github.com/root-project/root/issues/7412,1,['Update'],['UpdateIsOnHeap']
Deployability,"its between fit cycles. Only the ones that changed.; - [ ] Disable recalculateCache etc belonging to Lvl2 optimisation.; - [ ] Use batch evaluation & inverted CDF for toys; - [ ] Continue to improve interface with variadic templates; - [ ] Profile and optimise new Batch interface; - [ ] Modernise proxyList member of RooSimultaneous; - [ ] Investigate if retrieving batch data with category states is better for batch evaluations. (vs. splitting composite datasets into components, and creating one NLL for each.); - [ ] Continue modernisation of RooSimultaneous. Requires rebasing and fixing an index bug in https://github.com/hageboeck/root/tree/updateRooSimultaneous; - [ ] Implement analytical integration of RooJohnson.; - [ ] Correct interface of RooAbsData and derived classes to use e.g. `std::size_t` for indexing events. `int` doesn't make sense.; - [ ] Always have a debug version of RooFit around with `-DROOFIT_CHECK_CACHED_VALUES`.; - [ ] Use analytic integrals in RooBinSamplingPdf when available.; - [ ] Check that different integrator settings are honoured in RooBinSamplingPdf.; - [ ] https://sft.its.cern.ch/jira/browse/ROOT-8304; - [ ] Implement evaluateSpan() in classes relevant for HistFactory fits.; - [ ] Throw Gaussian & Poisson constraints into dedicated fast class.; - [ ] Switch on FastEvaluations topic in RooFit message streams, and use it to trace down PDFs that don't implement the faster interface.; - [ ] #7210, slowly augment PDFs with checks of the definition range of parameters. This prevents evaluation errors and can stabilise fits.; - [ ] #7217, pythonisations for RooFit; - [ ] Vectorized generation of events. Unless specialised generator functions are implemented, RooFit employs accept/reject sampling. Since this has to evaluate the PDF many times, one could think about using the batch interface to generate e.g. 2x the requested number of events, and do accept/reject on those. Repeat until enough events have been generated, and throw away the rest.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6557:1370,integrat,integrator,1370,https://root.cern,https://github.com/root-project/root/issues/6557,1,['integrat'],['integrator']
Deployability,"its/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/range_access.h:37:10: note: submodule of top-level module 'std' implicitly imported here; #include <type_traits> // common_type_t, make_signed_t; ^; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/stl_iterator.h:63:10: note: submodule of top-level module 'std' implicitly imported here; #include <bits/cpp_type_traits.h>; ^; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/stl_iterator_base_types.h:67:11: note: submodule of top-level module 'std' implicitly imported here; # include <type_traits> // For __void_t, is_convertible; ^; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/ext/type_traits.h:35:10: note: submodule of top-level module 'std' implicitly imported here; #include <bits/cpp_type_traits.h>; ^; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwa",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10528:25939,Install,Installed,25939,https://root.cern,https://github.com/root-project/root/issues/10528,1,['Install'],['Installed']
Deployability,"ive tools command prompt for VS 2019; 2. set VSCMD_SKIP_SENDTELEMETRY=1 & ""C:\Program Files (x86)\Microsoft Visual Studio\2019\Enterprise\Common7\Tools\VsDevCmd.bat"" -host_arch=amd64 -arch=arm64; 3. git clone https://github.com/root-project/root F:\root; 4. cd F:\root; 5. mkdir build_arm64ec & cd build_arm64ec; 6. set PATH=%PATH:C:\Strawberry\perl\bin;=%; 7. cmake -G ""Visual Studio 16 2019"" -A ARM64EC -DCMAKE_SYSTEM_VERSION=10.0.22618.0 -DCMAKE_BUILD_TYPE=Release -Droofit=off -Dtesting=OFF -Droottest=OFF .. ; 8. msbuild /m /p:Platform=ARM64EC /p:Configuration=Release ALL_BUILD.vcxproj /t:Rebuild . **Error info:**; ```; Line 4659: 53>C:\Program Files (x86)\Microsoft Visual Studio\2019\Enterprise\MSBuild\Microsoft\VC\v160\Microsoft.CppCommon.targets(241,5): error MSB8066: Custom build for 'F:\root\build_arm64ec\CMakeFiles\63abf6fef7a213853e6ccbb8f8ae4e08\TBB-mkdir.rule;F:\root\build_arm64ec\CMakeFiles\63abf6fef7a213853e6ccbb8f8ae4e08\TBB-download.rule;F:\root\build_arm64ec\CMakeFiles\63abf6fef7a213853e6ccbb8f8ae4e08\TBB-update.rule;F:\root\build_arm64ec\CMakeFiles\63abf6fef7a213853e6ccbb8f8ae4e08\TBB-patch.rule;F:\root\build_arm64ec\CMakeFiles\63abf6fef7a213853e6ccbb8f8ae4e08\TBB-configure.rule;F:\root\build_arm64ec\CMakeFiles\63abf6fef7a213853e6ccbb8f8ae4e08\TBB-build.rule;F:\root\build_arm64ec\CMakeFiles\63abf6fef7a213853e6ccbb8f8ae4e08\TBB-install.rule;F:\root\build_arm64ec\CMakeFiles\63abf6fef7a213853e6ccbb8f8ae4e08\TBB-tbb2externals.rule;F:\root\build_arm64ec\CMakeFiles\087a075fd7e4ae75a86c11aaf55edf65\TBB-complete.rule;F:\root\build_arm64ec\CMakeFiles\b3a0475d795c353882bf26193a7d45fe\TBB.rule' exited with code 1. [F:\root\build_arm64ec\TBB.vcxproj]; 	Line 9000: 203>C:\Program Files (x86)\Microsoft Visual Studio\2019\Enterprise\MSBuild\Microsoft\VC\v160\Microsoft.CppCommon.targets(241,5): error MSB8066: Custom build for 'F:\root\build_arm64ec\CMakeFiles\b04d8333b5c039b823a8aff01d40cf91\DiagnosticSemaKinds.inc.rule;F:\root\build_arm64ec\CMakeFiles\b7ee079947e4abdf",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11787:1704,update,update,1704,https://root.cern,https://github.com/root-project/root/issues/11787,1,['update'],['update']
Deployability,"ived& operator=(const Derived&) = delete;; Derived(Derived&&) = default;; Derived& operator=(Derived&&) = default;. int func() const final { return m_i; }; private:; int m_i{42};; };. void foo(std::unique_ptr<Base> basePtr) {; std::cout << ""via unique_ptr: "" << basePtr->func() << std::endl;; }. template<typename T, typename = std::enable_if_t<std::is_base_of_v<Base, T> &&; !std::is_lvalue_reference_v<T>>>; void foo(T&& t) {; std::cout << ""via template func: "" << t.func() << std::endl;; }. } // namespace repro; """"""; ). from ROOT import repro. c = repro.Derived(123); repro.foo(ROOT.std.move(c)); ```. ### ROOT version. This works with 6.30.04 (and previous) but starts to fail with the current ROOT master (via `dev3` on `ubuntu2204`). ### Installation method. 6.30.04 via spack, ROOT master via LCG `dev3` nightly build. ### Operating system. Ubuntu 22.04. ### Additional context. With 6.30.04 I get. ```console; $ python repro.py; via template func: 123; ```. However, with the updated cppyy I get:; ```console; $ python repro.py ; input_line_42:6:92: error: call to deleted constructor of 'std::unique_ptr<repro::Base, std::default_delete<repro::Base> >'; ((void (&)(std::unique_ptr<repro::Base, std::default_delete<repro::Base> >))repro::foo)(*(std::unique_ptr<repro::Base, std::default_delete<repro::Base> >*)args[0]);; ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~; /usr/include/c++/11/bits/unique_ptr.h:468:7: note: 'unique_ptr' has been explicitly marked deleted here; unique_ptr(const unique_ptr&) = delete;; ^; ```. Which is in principle correct, but I don't understand why it chooses that overload in the first place, as it should use the templated function instead. Curiously, one thing that makes things ""work"" with the current master branch is to change; ```diff; - void foo(std::unique_ptr<Base> basePtr) {; + void foo(std::unique_ptr<Base>&& basePtr) {; ```; However, that changes behavior slightly because now this calls the `unique_ptr` overload in",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15117:1886,update,updated,1886,https://root.cern,https://github.com/root-project/root/issues/15117,1,['update'],['updated']
Deployability,"iz/libcmaes), a novel high performance C++11 (with Python bindings) library for blackbox optimization. The new minimizer yields better results than Minuit2 for most problems, though for an higher computation cost on average. See below for links to relevant benchmarks backing up these claims. This implementation is on behalf of [Inria Saclay Research group TAO](http://www.inria.fr/en/teams/tao), [Laboratoire de l'Accelerateur Lineaire, group AppStat](http://appstat.lal.in2p3.fr/) and [University Paris-Sud LRI](https://www.lri.fr/index_en.php?lang=EN). ===Features===; - Seamless replacement for Minuit, Minuit2 and Fumili; - Seamless support for RooFit; - Relying on libcmaes allows for best performances known for CMA-ES + access to several flavors of the original algorithm, yielding best results with a trade off for computational cost, as needed; - Compilation support for both Autotools and CMake; - Included tutorial files, tests, and a special benchmark vs Minuit2. ===Documentation===; - Main documentation for building and using the new minimizer is here: https://github.com/beniz/libcmaes/wiki/using-CMA-ES-in-CERN's-ROOT. ===Performances===; - On-par with Minuit2 on low dimensional problems (< 10-D), consistently beats Minuit2 in higher dimension, leading to better fits. These claims are backed by two benchmarks and two experiments on real world data (we are still waiting from some results from usage at CERN); - Benchmark CMA-ES vs Minuit on [BBOB](http://coco.gforge.inria.fr/doku.php?id=bbob-2013) available here: https://drive.google.com/open?id=0B3J1vWYhta9ibktXc2JLRUExUTA&authuser=0; - In-ROOT benchmark vs Minuit2 on low-dimensional problems, results available here: https://drive.google.com/open?id=0B3J1vWYhta9iTmR0T0hnN21lSGM&authuser=0; - Beats out Minuit2 up to 98% of the time on some experiments (data + code available on demand from Auger group, ask me). I am available for help in testing and possibly integrating and maintaining this addition, just let me know.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/40:2128,integrat,integrating,2128,https://root.cern,https://github.com/root-project/root/pull/40,1,['integrat'],['integrating']
Deployability,"ject(ROOTBug); find_package(ROOT 6.28 REQUIRED). # https://github.com/root-project/root/issues/8308#issuecomment-1143791946; set(CMAKE_LIBRARY_OUTPUT_DIRECTORY ""${CMAKE_CURRENT_BINARY_DIR}""). # another bug... INSTALL FILES given no destination!; include(GNUInstallDirs). add_library(ROOTBug SHARED ROOTBug.cc); target_link_libraries(ROOTBug PRIVATE ROOT::Core); set_target_properties(ROOTBug PROPERTIES OUTPUT_NAME ROOTWorks) # Important!; root_generate_dictionary(ROOTWorksDict MODULE ROOTBug LINKDEF LinkDef.h). install(TARGETS ROOTBug); ```; Build commands:; ```; $ cmake -B build -DCMAKE_INSTALL_PREFIX=install; $ cmake --build build --target install; [ 25%] Generating ROOTBugDict.cxx, libROOTBug_rdict.pcm, libROOTBug.rootmap; [ 50%] Building CXX object CMakeFiles/ROOTBugDict.dir/ROOTBugDict.cxx.o; [ 50%] Built target ROOTBugDict; [ 75%] Linking CXX shared library libROOTWorks.so; [100%] Built target ROOTBug; Install the project...; -- Install configuration: """"; -- Installing: /nfs/dust/cms/user/mourelou/darwin/tests/install/lib64/libROOTBug_rdict.pcm; -- Installing: /nfs/dust/cms/user/mourelou/darwin/tests/install/lib64/libROOTBug.rootmap; -- Installing: /nfs/dust/cms/user/mourelou/darwin/tests/install/lib64/libROOTWorks.so; -- Set runtime path of ""/nfs/dust/cms/user/mourelou/darwin/tests/install/lib64/libROOTWorks.so"" to """"; ```; Then do:; ```; $ ls install/lib*; libROOTBug_rdict.pcm libROOTBug.rootmap libROOTWorks.so; ```; Notice how the library name is different from the dictionary name. ### ROOT version. LCG 104; ```; ------------------------------------------------------------------; | Welcome to ROOT 6.28/04 https://root.cern |; | (c) 1995-2022, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built for linuxx8664gcc on May 08 2023, 02:44:07 |; | From tags/v6-28-04@v6-28-04 |; | With g++ (GCC) 12.1.0 |; | Try '.help'/'.?', '.demo', '.license', '.credits', '.quit'/'.q' |; ------------------------------------------------------------------; ```. ### Installatio",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15792:1392,Install,Install,1392,https://root.cern,https://github.com/root-project/root/issues/15792,4,"['Install', 'configurat', 'install']","['Install', 'Installing', 'configuration', 'install']"
Deployability,jsroot - fixes for 6-16-00-patches branch,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3576:27,patch,patches,27,https://root.cern,https://github.com/root-project/root/pull/3576,1,['patch'],['patches']
Deployability,"k duplicate issues. - [X] Checked for duplicates. ### Description. EOS tokens no longer work with RDataFrame in 6.32.04. In 6.30.08 everything is fine:. ```python; $ python3; Python 3.9.18 (main, Aug 23 2024, 00:00:00); [GCC 11.4.1 20231218 (Red Hat 11.4.1-3)] on linux; Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.; >>> import ROOT; >>> url = 'root://eosuser.cern.ch//eos/user/c/cburr/hsimple.root?xrd.wantprot=unix&authz=' + open(""token.txt"").read().strip(); >>> ROOT.TFile.Open(url).ls(); TNetXNGFile**		root://eosuser.cern.ch//eos/user/c/cburr/hsimple.root	Demo ROOT file with histograms; TNetXNGFile*		root://eosuser.cern.ch//eos/user/c/cburr/hsimple.root	Demo ROOT file with histograms; KEY: TH1F	hpx;1	This is the px distribution; KEY: TH2F	hpxpy;1	py vs px; KEY: TProfile	hprof;1	Profile of pz versus px; KEY: TNtuple	ntuple;1	Demo ntuple; >>> df = ROOT.RDataFrame(""ntuple"", url); >>>; ```. ### Reproducer. On lxplus:. ```bash; $ source /cvmfs/sft.cern.ch/lcg/app/releases/ROOT/6.32.04/x86_64-almalinux9.4-gcc114-opt/bin/thisroot.sh; $ cp /cvmfs/sft.cern.ch/lcg/app/releases/ROOT/6.32.04/x86_64-almalinux9.4-gcc114-opt/tutorials/hsimple.root /eos/user/c/cburr/hsimple.root; $ EOS_MGM_URL=root://eoshome-c.cern.ch eos token --path /eos/user/c/cburr/hsimple.root --permission=rx --expires=$(date +%s -d ""30 minutes"") > token.txt; $ kdestroy; $ python3; ```. ```python; Python 3.9.18 (main, Aug 23 2024, 00:00:00); [GCC 11.4.1 20231218 (Red Hat 11.4.1-3)] on linux; Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.; >>> import ROOT; >>> url = 'root://eosuser.cern.ch//eos/user/c/cburr/hsimple.root?xrd.wantprot=unix&authz=' + open(""token.txt"").read().strip(); >>> ROOT.TFile.Open(url).ls(); TNetXNGFile**		root://eosuser.cern.ch//eos/user/c/cburr/hsimple.root	Demo ROOT file with histograms; TNetXNGFile*		root://eosuser.cern.ch//eos/user/c/cburr/hsimple.root	Demo ROOT file with histograms; KEY: TH1F	hpx;1	This is the px distribution; KEY: TH2F	h",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/16475:1006,release,releases,1006,https://root.cern,https://github.com/root-project/root/issues/16475,1,['release'],['releases']
Deployability,"ke Error at core/clingutils/cmake_install.cmake:56 (file):; file INSTALL cannot find; ""/opt/root/build-root-6.22.06/lib/libvectorDict.so"": No such file or; directory.; Call Stack (most recent call first):; core/cmake_install.cmake:75 (include); cmake_install.cmake:200 (include); make: *** [Makefile:148: install] Error 1. I had `libvectorDict.so` from the previous installation (also it is present at /usr/lib/root/libvectorDict.so, I don't know why), so I linked that file to the needed one. ln -s `realpath ../build-root-6.20.02/lib/libvectorDict.so` lib/. it was linked fine (existed). However, when I re-run `cmake`, it outputs the same error and the file is removed. I found that it's possible to [generate this file separately](https://root-forum.cern.ch/t/root-6-22-02-installation-error-cannot-find-libvectordict-so/42162/9) with. cmake --build . -- vectorDict . However, I can't be sure that this makes it a good installation (when I run `cmake --build . --target install -- -j15` after that, it fails to find the file again). `root` binary exists and can be run, so I hope it solves the problem for me. ### Expected behavior; `cmake` should not delete this file. ### To Reproduce; 1. Download and unpack a source .tar.gz, create and cd the build directory.; 2. cmake -Dxrootd=OFF -Dbuiltin_xrootd=OFF <source_dir> (I had to got rid of `xrootd` as I wrote in [another issue](https://github.com/root-project/root/issues/7292)).; 3. cmake --build . --target install -- -j15. ### Setup; 1. 6.22.06; 2. Arch Linux.; 3. Source package from site, root_v6.22.06.source.tar.gz. ### Additional context; There are really many reports with this problem. An existing issue most close to this may be https://github.com/root-project/root/issues/7108 (it was suggested by git search).; 1. https://root-forum.cern.ch/t/installation-issues-of-new-version-root-6-06-00/20523/8; 2. https://root-forum.cern.ch/t/error-file-install-can-not-find/37552; 3. https://root-forum.cern.ch/t/error-with-libvectordict-so",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7293:1147,install,install,1147,https://root.cern,https://github.com/root-project/root/issues/7293,1,['install'],['install']
Deployability,"ked for duplicates. ### Description. ### Describe the bug; A range object that return different types for `begin()` and `end()`(A.K.A. not a [common-range](https://en.cppreference.com/w/cpp/ranges/common_range)) fails to check if the types is printable. ### Expected behavior; `printValue_impl<CollectionType>` must not have hard error whether `CollectionType` is printable or not. ### Reproducer. I'm using C++14 library that provide [`vccc::views::iota`](https://github.com/visualcamp/vccc/blob/6080acb71122f984293c38f17412ceb085f43b02/include/vccc/__ranges/views/iota_view.hpp#L434-L445) that models [`std::views::iota`](https://en.cppreference.com/w/cpp/ranges/iota_view).; The standard defines that It returns different type for sentinel if it models unbounded `iota_view`. Anyway, detailed description is not really necessary because the fix is really simple and intuitive. #### Input line; ```c++; vccc::views::iota(10) | vccc::views::take(4); ```; #### Output; ```c++; In file included from input_line_11:1:; In file included from /Users/yonggyulee/Documents/GitHub/lackhole/xeus-cling/install/include/xcpp/xmime.hpp:16:; /usr/local/include/cling/Interpreter/RuntimePrintValue.h:224:7: error: 'auto' deduced as 'counted_iterator<I>' (aka 'counted_iterator<vccc::ranges::iota_view<int, vccc::unreachable_sentinel_t>::iterator>') in declaration of 'iter' and deduced as 'sentinel<true>' in declaration of 'iterEnd'; auto iter = obj->begin(), iterEnd = obj->end();; ^ ~~~~~~~~~~~~ ~~~~~~~~~~; /usr/local/include/cling/Interpreter/RuntimePrintValue.h:241:39: note: in instantiation of function template specialization 'cling::collectionPrinterInternal::printValue_impl<vccc::ranges::take_view<vccc::ranges::iota_view<int>>>' requested here; return collectionPrinterInternal::printValue_impl(obj);; ^; /Users/yonggyulee/Documents/GitHub/lackhole/xeus-cling/install/include/xcpp/xmime.hpp:49:39: note: in instantiation of function template specialization 'cling::printValue<vccc::ranges::take_view<",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14966:1132,install,install,1132,https://root.cern,https://github.com/root-project/root/issues/14966,1,['install'],['install']
Deployability,"ked for duplicates. ### Description. [df106_HiggsToFourLeptons.C](https://root.cern/doc/master/df106__HiggsToFourLeptons_8C.html) crashes when it is compiled and run (it runs fine if interpreted).; This is due to jitted code in some filters that call user-defined functions whose signature is unknown to Cling. This is a general problem with functions that evaluate code at runtime and, while it might not be possible to fix in all cases, it should at least be better documented. The tutorials themselves should be written to work both when compiled and when interpreted, or specify why they cannot be run as-is if compiled. There is also a more general discussion to be made about RDF and the kind of guarantees that it should provide to its users. Ideally there should be a way to use RDF such that it will be guaranteed to run correctly regardless of being compiled or interpreted. Finally, the documentation of RDF should be updated to better clarify the caveats and limitations of passing C++ expressions as strings, both in terms of performance and, especially, in terms of compatibility with compiled code (i.e. it should be clear to a user that a filter using an interpreted string containing a user-defined function may not work when AOT-compiled without additional efforts on the user side - like manually passing the signatures to cling beforehand). ### Bullet point recap; - [ ] fix the tutorials so they run properly when compiled AOT; - [ ] update the doc of RDF to include caveats and limitations of using jitted expressions; - [ ] (to be discussed) introduce an opt-in ""strict mode"" for RDF (C++ only) that checks and rejects all cases when jitting is required. This would allow a user to catch code that may incur in performance penalties and may not work properly when AOT-compiled. . ### Reproducer. 1. download the source code of [this tutorial](https://root.cern/doc/master/df106__HiggsToFourLeptons_8C.html); 2. compile it; 3. run it. ### ROOT version. 6.33.01. ### Installation",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15638:967,update,updated,967,https://root.cern,https://github.com/root-project/root/issues/15638,1,['update'],['updated']
Deployability,"l): Assertion `!(isOverridden && isOutOfDate) && ""an overridden cannot be out-of-date""' failed.; ```. It turns out that the failure is implicitly caused by an updated version of GCC (from 11.3 to 11.4). ### Reproducer. Here is a redacted log a sessions exposing the problem:; ```; ssh lxplus-arm.cern.ch; > rpm -q gcc; gcc-11.4.1-2.1.el9.aarch64; > . /cvmfs/sft.cern.ch/lcg/releases/gcc/13.1.0-b3d18/aarch64-el9/setup.sh; > . /cvmfs/sft.cern.ch/lcg/views/LCG_105a/aarch64-el9-gcc13-dbg/setup.sh; > root; root.exe: /build/jenkins/workspace/lcg_release_pipeline/build/projects/ROOT-6.30.04/src/ROOT/6.30.04/interpreter/llvm-project/clang/include/clang/Serialization/ModuleFile.h:77: clang::serialization::InputFile::InputFile(clang::FileEntryRef, bool, bool): Assertion `!(isOverridden && isOutOfDate) && ""an overridden cannot be out-of-date""' failed.; >; ```. The optimized build, of course, works; ```; ssh lxplus-arm.cern.ch; > rpm -q gcc; gcc-11.4.1-2.1.el9.aarch64; > . /cvmfs/sft.cern.ch/lcg/releases/gcc/13.1.0-b3d18/aarch64-el9/setup.sh; > . /cvmfs/sft.cern.ch/lcg/views/LCG_105a/aarch64-el9-gcc13-opt/setup.sh; > root; ------------------------------------------------------------------; | Welcome to ROOT 6.30/04 https://root.cern |; | (c) 1995-2024, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built for linuxarm64 on Feb 03 2024, 21:41:03 |; | From heads/master@tags/v6-30-04 |; | With g++ (GCC) 13.1.0 |; | Try '.help'/'.?', '.demo', '.license', '.credits', '.quit'/'.q' |; ------------------------------------------------------------------. root [0] .q; >; ```. It woks also if I use an old container with gcc 11.3:; ```; ssh lxplus-arm.cern.ch; > /cvmfs/lhcb.cern.ch/lib/var/lib/LbEnv/3067/stable/linux-aarch64/bin/apptainer shell -e -B /cvmfs /cvmfs/lhcb.cern.ch/containers/os-base/alma9-devel/2023-06-30_12-00-00/aarch64; WARNING: /cvmfs/lhcb.cern.ch/lib/var/lib/LbEnv/3067/stable/linux-aarch64/etc/singularity/ exists, migration to apptainer by system administrator is not co",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14789:1476,release,releases,1476,https://root.cern,https://github.com/root-project/root/issues/14789,1,['release'],['releases']
Deployability,"l/_dill.py"", line 902, in save_module_dict; StockPickler.save_dict(pickler, obj); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 859, in save_dict; self._batch_setitems(obj.items()); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 885, in _batch_setitems; save(v); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 504, in save; f(self, obj) # Call unbound method with explicit self; File ""/cvmfs/sft.cern.ch/lcg/views/LCG_97python3/x86_64-centos7-gcc9-opt/lib/python3.7/site-packages/dill/_dill.py"", line 902, in save_module_dict; StockPickler.save_dict(pickler, obj); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 859, in save_dict; self._batch_setitems(obj.items()); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 890, in _batch_setitems; save(v); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 504, in save; f(self, obj) # Call unbound method with explicit self; File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 819, in save_list; self._batch_appends(obj); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 846, in _batch_appends; save(tmp[0]); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 549, in save; self.save_reduce(obj=obj, *rv); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 633, in save_reduce; save(cls); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6370:4976,release,releases,4976,https://root.cern,https://github.com/root-project/root/issues/6370,1,['release'],['releases']
Deployability,"l=""1"" High=""10"" Low=""0"" Const=""False"" />; </Sample>. </Channel>; ```. and when I run this through `hist2workspace`, I get the following error:. ```; $ hist2workspace meas.xml. RooFit v3.60 -- Developed by Wouter Verkerke and David Kirkby; Copyright (C) 2000-2013 NIKHEF, University of California & Stanford University; All rights reserved, please read http://roofit.sourceforge.net/license.txt. [#2] INFO:HistFactory -- hist2workspace is less verbose now. Use -v and -vv for more details. ./meas_channel_0.xml:14: element ShapeFactor: validity error : No declaration for attribute InputFile of element ShapeFactor; "" InputFile=""data/data.root"" HistoName=""inits_shape_factor_0"" HistoPath=""""; ^; ./meas_channel_0.xml:14: element ShapeFactor: validity error : No declaration for attribute HistoName of element ShapeFactor; "" InputFile=""data/data.root"" HistoName=""inits_shape_factor_0"" HistoPath=""""; ^; ./meas_channel_0.xml:14: element ShapeFactor: validity error : No declaration for attribute HistoPath of element ShapeFactor; "" InputFile=""data/data.root"" HistoName=""inits_shape_factor_0"" HistoPath=""""; ^; [#2] ERROR:HistFactory -- Loading of xml document ""./meas_channel_0.xml"" failed; HistFactory - Exception; hist2workspace - Caught Exception: HistFactory - Exception; ```. which is correctly erroring, but also somewhat confusing. ### ROOT version. ```; ------------------------------------------------------------------; | Welcome to ROOT 6.26/06 https://root.cern |; | (c) 1995-2021, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built for macosx64 on Jul 28 2022, 18:08:51 |; | From tags/v6-26-06@v6-26-06 |; | With Apple clang version 14.0.0 (clang-1400.0.29.202) |; | Try '.help', '.demo', '.license', '.credits', '.quit'/'.q' |; ------------------------------------------------------------------; ```. ### Installation method. homebrew. ### Operating system. MacOS (13.0.1 (22A400)). ### Additional context. This comes out of scikit-hep/pyhf#2247 (please read that for some context).",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13287:5077,Install,Installation,5077,https://root.cern,https://github.com/root-project/root/issues/13287,1,['Install'],['Installation']
Deployability,"lSpec&, unsigned int, clang::SourceLocation*, clang::Parser::ForRangeInit*) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #16 0x00002b8fcf5e5fa1 in clang::Parser::ParseDeclOrFunctionDefInternal(clang::Parser::ParsedAttributesWithRange&, clang::ParsingDeclSpec&, clang::AccessSpecifier) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #17 0x00002b8fcf5ec950 in clang::Parser::ParseExternalDeclaration(clang::Parser::ParsedAttributesWithRange&, clang::ParsingDeclSpec*) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #18 0x00002b8fcf57b004 in clang::Parser::ParseLinkage(clang::ParsingDeclSpec&, unsigned int) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #19 0x00002b8fcf5e611e in clang::Parser::ParseDeclOrFunctionDefInternal(clang::Parser::ParsedAttributesWithRange&, clang::ParsingDeclSpec&, clang::AccessSpecifier) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #20 0x00002b8fcf5e64b1 in clang::Parser::ParseDeclarationOrFunctionDefinition(clang::Parser::ParsedAttributesWithRange&, clang::ParsingDeclSpec*, clang::AccessSpecifier) [clone .part.0] () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #21 0x00002b8fcf5ecf42 in clang::Parser::ParseExternalDeclaration(clang::Parser::ParsedAttributesWithRange&, clang::ParsingDeclSpec*) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #22 0x",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7093:7837,patch,patch,7837,https://root.cern,https://github.com/root-project/root/issues/7093,1,['patch'],['patch']
Deployability,"l_catch_error () from /lib64/ld-linux-x86-64.so.2; #8 0x00007ffff7deeb8b in _dl_open () from /lib64/ld-linux-x86-64.so.2; #9 0x00007ffff720afab in dlopen_doit () from /lib64/libdl.so.2; #10 0x00007ffff7dea7d4 in _dl_catch_error () from /lib64/ld-linux-x86-64.so.2; #11 0x00007ffff720b5ad in _dlerror_run () from /lib64/libdl.so.2; #12 0x00007ffff720b041 in dlopen@@GLIBC_2.2.5 () from /lib64/libdl.so.2; #13 0x00007fffefcd2e24 in cling::utils::platform::DLOpen(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCling.so; #14 0x00007fffefbd7838 in cling::DynamicLibraryManager::loadLibrary(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, bool, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCling.so; #15 0x00007fffefb06b14 in TCling::Load(char const*, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCling.so; #16 0x00007ffff55908e6 in TSystem::Load(char const*, char const*, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #17 0x00007ffff551c9e3 in TROOT::LoadClass(char const*, char const*, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #18 0x00007fffefb05a65 in TCling::ShallowAutoLoadImpl(char const*) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCling.so; #19 0x00007fffefb1acd2 in TCling::DeepAutoLoadImpl(char const*, std::unordered_set<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::hash<std::__cxx11::",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7657:3621,patch,patches,3621,https://root.cern,https://github.com/root-project/root/issues/7657,1,['patch'],['patches']
Deployability,"lang::ParsingDeclSpec&, clang::AccessSpecifier) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #20 0x00002b8fcf5e64b1 in clang::Parser::ParseDeclarationOrFunctionDefinition(clang::Parser::ParsedAttributesWithRange&, clang::ParsingDeclSpec*, clang::AccessSpecifier) [clone .part.0] () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #21 0x00002b8fcf5ecf42 in clang::Parser::ParseExternalDeclaration(clang::Parser::ParsedAttributesWithRange&, clang::ParsingDeclSpec*) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #22 0x00002b8fcf5ed399 in clang::Parser::ParseTopLevelDecl(clang::OpaquePtr<clang::DeclGroupRef>&) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #23 0x00002b8fcef7c0e6 in cling::IncrementalParser::ParseInternal(llvm::StringRef) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #24 0x00002b8fcef7dfed in cling::IncrementalParser::Compile(llvm::StringRef, cling::CompilationOptions const&) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #25 0x00002b8fceee6852 in cling::Interpreter::DeclareInternal(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, cling::CompilationOptions const&, cling::Transaction**) const () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #26 0x00002b8fceee69fa in cling::Interpreter::declare(std::__cxx11::basic_string<cha",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7093:9016,patch,patch,9016,https://root.cern,https://github.com/root-project/root/issues/7093,1,['patch'],['patch']
Deployability,"lang::ParsingDeclSpec*) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #18 0x00002b8fcf57b004 in clang::Parser::ParseLinkage(clang::ParsingDeclSpec&, unsigned int) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #19 0x00002b8fcf5e611e in clang::Parser::ParseDeclOrFunctionDefInternal(clang::Parser::ParsedAttributesWithRange&, clang::ParsingDeclSpec&, clang::AccessSpecifier) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #20 0x00002b8fcf5e64b1 in clang::Parser::ParseDeclarationOrFunctionDefinition(clang::Parser::ParsedAttributesWithRange&, clang::ParsingDeclSpec*, clang::AccessSpecifier) [clone .part.0] () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #21 0x00002b8fcf5ecf42 in clang::Parser::ParseExternalDeclaration(clang::Parser::ParsedAttributesWithRange&, clang::ParsingDeclSpec*) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #22 0x00002b8fcf5ed399 in clang::Parser::ParseTopLevelDecl(clang::OpaquePtr<clang::DeclGroupRef>&) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #23 0x00002b8fcef7c0e6 in cling::IncrementalParser::ParseInternal(llvm::StringRef) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #24 0x00002b8fcef7dfed in cling::IncrementalParser::Compile(llvm::StringRef, cling::CompilationOptions const&) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7093:8485,patch,patch,8485,https://root.cern,https://github.com/root-project/root/issues/7093,1,['patch'],['patch']
Deployability,"lang::ParsingDeclarator&, clang::Parser::ParsedTemplateInfo const&, clang::Parser::LateParsedAttrList*) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #19 0x00007f174c70dd20 in clang::Parser::ParseDeclGroup(clang::ParsingDeclSpec&, clang::DeclaratorContext, clang::SourceLocation*, clang::Parser::ForRangeInit*) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #20 0x00007f174c7d1e54 in clang::Parser::ParseDeclarationOrFunctionDefinition(clang::ParsedAttributesWithRange&, clang::ParsingDeclSpec*, clang::AccessSpecifier) [clone .part.0] () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #21 0x00007f174c7d8830 in clang::Parser::ParseExternalDeclaration(clang::ParsedAttributesWithRange&, clang::ParsingDeclSpec*) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #22 0x00007f174c7d9900 in clang::Parser::ParseTopLevelDecl(clang::OpaquePtr<clang::DeclGroupRef>&, bool) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #23 0x00007f174be0d87a in cling::IncrementalParser::ParseInternal(llvm::StringRef) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #24 0x00007f174be0e9b0 in cling::IncrementalParser::Compile(llvm::StringRef, cling::CompilationOptions const&) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #25 0x00007f174bd71127 in cling::Interpreter::EvaluateInternal(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, cling::CompilationOptions, cling::Value*, cling::Transaction**, unsigned long) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #26 0x00007f174bd7152d in cling::Interpreter::process(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, cling::Value*, cling::Transaction**, bool) () from /home/blue/ROOT/relwithdebinf",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12673:5096,install,install,5096,https://root.cern,https://github.com/root-project/root/issues/12673,2,['install'],['install']
Deployability,"lated to the discussion in [ROOT-5971](https://sft.its.cern.ch/jira/browse/ROOT-5971), this commit improves the situation by diagnosing the shadowing of declarations in the `std` namespace. In summary, given that ROOT issues an implicit `using namespace std;` and due to the way `SemaLookup` works, decls that shadow something in the `std` namespace cannot be referenced without using their fully-qualified name, i.e. `::xxx`.; See discussion in ROOT-5971 for the details. This pull-request improves the situation by emitting a warning for that case. ## Changes or fixes:; - Add `Interpreter::m_InputFlags`, which provides additional information about the context in which parsing occurs. In particular, the `kInputFromFile` and `kIFFLineByLine` flags allow to tell whether a sequence of calls to `Interpreter::process()` is issued from `MetaProcessor::readInputFromFile()` for the contents of an external file.; - Update cling's DefinitionShadower to emit a warning if a new declaration shadows a name in the `std` namespace (that became available via the implicit `using namespace std`). This diagnostic is disabled for unnamed macros, as input is typically ingested in a single `process()` call, which makes all the variables local to the generated wrapper. . This requires to change the lookup redeclaration kind to `NotForRedeclaration`, which has a performance penalty, given that the lookup will follow using directives, etc. This is approximately one order of magnitude slower than `ForVisibleRedeclaration` (see table below). The overhead seems acceptable given that this kind of lookup already occurs when a declaration is referenced and that definition is rare w.r.t. use.; ```; +-------------------------+-------------------------------+; | Redeclaration kind | Time (us) for 1000000 lookups |; +-------------------------+-------------------------------+; | ForVisibleRedeclaration | 27617 |; | NotForRedeclaration | 717458 |; +-------------------------+-------------------------------+; ",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9788:917,Update,Update,917,https://root.cern,https://github.com/root-project/root/pull/9788,1,['Update'],['Update']
Deployability,"lation) at /home/yasmin/root/root-6.12.06/core/unix/src/TUnixSystem.cxx:3643; #5 <signal handler called>; #6 0x00007f0761bb4118 in G4RToEConvForGamma::BuildAbsorptionLengthVector(G4Material const*, G4PhysicsLogVector*) () from /home/yasmin/CERN/geant4.10.03.p03-install/lib/libG4processes.so; #7 0x00007f0761bb6c3f in G4VRangeToEnergyConverter::Convert(double, G4Material const*) () from /home/yasmin/CERN/geant4.10.03.p03-install/lib/libG4processes.so; #8 0x00007f0761bb0bee in G4ProductionCutsTable::UpdateCoupleTable(G4VPhysicalVolume*) () from /home/yasmin/CERN/geant4.10.03.p03-install/lib/libG4processes.so; #9 0x00007f0763b9c5e2 in G4RunManagerKernel::RunInitialization(bool) () from /home/yasmin/CERN/geant4.10.03.p03-install/lib/libG4run.so; #10 0x00007f0763b8b3f7 in G4RunManager::RunInitialization() () from /home/yasmin/CERN/geant4.10.03.p03-install/lib/libG4run.so; #11 0x00007f0763b852c6 in G4RunManager::BeamOn(int, char const*, int) () from /home/yasmin/CERN/geant4.10.03.p03-install/lib/libG4run.so; #12 0x00007f0763b921fb in G4MTRunManager::Initialize() () from /home/yasmin/CERN/geant4.10.03.p03-install/lib/libG4run.so; #13 0x0000559358750187 in main (); ===========================================================. The lines below might hint at the cause of the crash.; You may get help by asking at the ROOT forum http://root.cern.ch/forum.; Only if you are really convinced it is a bug in ROOT then please submit a; report at http://root.cern.ch/bugs. Please post the ENTIRE stack trace; from above as an attachment in addition to anything else; that might help us fixing this issue.; ===========================================================; #6 0x00007f0761bb4118 in G4RToEConvForGamma::BuildAbsorptionLengthVector(G4Material const*, G4PhysicsLogVector*) () from /home/yasmin/CERN/geant4.10.03.p03-install/lib/libG4processes.so; #7 0x00007f0761bb6c3f in G4VRangeToEnergyConverter::Convert(double, G4Material const*) () from /home/yasmin/CERN/geant4.10.03.p03-install/lib/lib",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/9952:2322,install,install,2322,https://root.cern,https://github.com/root-project/root/issues/9952,1,['install'],['install']
Deployability,"lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #18 0x00007fffefb05a65 in TCling::ShallowAutoLoadImpl(char const*) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCling.so; #19 0x00007fffefb1acd2 in TCling::DeepAutoLoadImpl(char const*, std::unordered_set<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > >&, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCling.so; #20 0x00007fffefb1b377 in TCling::AutoLoad(char const*, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCling.so; #21 0x00007ffff560ee86 in TClass::GetClass(char const*, bool, bool, unsigned long, unsigned long) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #22 0x00007ffff563608a in TProtoClass::FillTClass(TClass*) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #23 0x00007ffff56188e5 in TClass::Init(char const*, short, std::type_info const*, TVirtualIsAProxy*, char const*, char const*, int, int, ClassInfo_t*, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #24 0x00007ffff5619f76 in TClass::TClass(char const*, short, std::type_info const&, TVirtualIsAProxy*, char const*, char const*, int, int, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #25",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7657:5158,patch,patches,5158,https://root.cern,https://github.com/root-project/root/issues/7657,1,['patch'],['patches']
Deployability,"lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 890, in _batch_setitems; save(v); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 504, in save; f(self, obj) # Call unbound method with explicit self; File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 819, in save_list; self._batch_appends(obj); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 846, in _batch_appends; save(tmp[0]); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 549, in save; self.save_reduce(obj=obj, *rv); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 633, in save_reduce; save(cls); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 504, in save; f(self, obj) # Call unbound method with explicit self; File ""/cvmfs/sft.cern.ch/lcg/views/LCG_97python3/x86_64-centos7-gcc9-opt/lib/python3.7/site-packages/dill/_dill.py"", line 1330, in save_type; StockPickler.save_global(pickler, obj); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 960, in save_global; (obj, module_name, name)) from None; _pickle.PicklingError: Can't pickle <class '_pythonization.compose_method.<locals>.composition_pythonizor'>: it's not found as _pythonization.compose_method.<locals>.composition_pythonizor; ```. ## Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->. 1. ROOT versions from LCG_94 to LCG_97a; 2. centos7, lxplus7.cern.ch ; 3. LCG-releases via cvmfs ; . ## Additional context; <!--; Add any other con",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6370:5960,release,releases,5960,https://root.cern,https://github.com/root-project/root/issues/6370,1,['release'],['releases']
Deployability,"ld return me an empty TTree, even though the job reported that it selected some events. For a while I was not able to find a handle on what triggered this problem, as it seemed quite random. (The same job would not always return empty trees.). I think I now understand what's going on. It has to do with the issue in TFileMerger that was discovered in ATLAS production jobs a long time ago. When TFileMerger is given multiple files, the first of which doesn't have any branches in it, the merged output file will not have any branches either. Even if the rest of the files given to TFileMerger did have some structure. In my PROOF jobs this happens because my code only sets up the format of its output TTree when it opens its first file. The output TTree format depends a bit on what branches are available on the input, so I can't do this any sooner. But PROOF in some cases will not process any events in some of its workers. When this happens, it's actually these workers that return their output files to the PROOF master first. Files which hold completely empty TTree-s. This made my jobs random, as PROOF would not always do this, sometimes (depending on the state of our cluster) it would actually process some events on all of the workers in this job. The problem can be demonstrated very easily. Attached is a macro that does this. (The macro was first written to demonstrate a problem with merging a file into a file on XRootD, but this issue doesn't depend on where the file is put.). While I may be able to circumvent the problem in my analysis code for now (by initializing the TTree format earlier in the code), this merging problem would be very good to solve. As I wrote at the beginning, the ATLAS production system also has to have extra code in place which knows not to give files with empty TTrees to hadd as the first file. Cheers,; Attila. ### Reproducer. NA. ### ROOT version. Any. ### Installation method. Any. ### Operating system. Any. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14558:2398,Install,Installation,2398,https://root.cern,https://github.com/root-project/root/issues/14558,1,['Install'],['Installation']
Deployability,"ld/fix-tutorial-tmva-cnn-classification-testing/lib/libCling.so); ==292588== by 0x6F45003: cling::MetaParser::isXCommand(cling::MetaSema::ActionResult&, cling::Value*) (in /home/vpadulan/Programs/rootproject/rootbuild/fix-tutorial-tmva-cnn-classification-testing/lib/libCling.so); ==292588== by 0x6F468D4: cling::MetaParser::isCommand(cling::MetaSema::ActionResult&, cling::Value*) (in /home/vpadulan/Programs/rootproject/rootbuild/fix-tutorial-tmva-cnn-classification-testing/lib/libCling.so); ==292588== by 0x6F2EF9F: cling::MetaProcessor::process(llvm::StringRef, cling::Interpreter::CompilationResult&, cling::Value*, bool) (in /home/vpadulan/Programs/rootproject/rootbuild/fix-tutorial-tmva-cnn-classification-testing/lib/libCling.so); ==292588== by 0x6C20B67: HandleInterpreterException(cling::MetaProcessor*, char const*, cling::Interpreter::CompilationResult&, cling::Value*) (TCling.cxx:2438); ==292588== by 0x6C215B6: TCling::ProcessLine(char const*, TInterpreter::EErrorCode*) (TCling.cxx:2582); ==292588== by 0x6C24E6E: TCling::ProcessLineSynch(char const*, TInterpreter::EErrorCode*) (TCling.cxx:3545); ==292588== by 0x4C06042: TApplication::ExecuteFile(char const*, int*, bool) (TApplication.cxx:1865); ==292588== by 0x4C0586B: TApplication::ProcessFile(char const*, int*, bool) (TApplication.cxx:1737); ==292588== by 0x4C05680: TApplication::ProcessLine(char const*, bool, int*) (TApplication.cxx:1710); ==292588== by 0x487A58F: TRint::ProcessLineNr(char const*, char const*, int*) (TRint.cxx:820); ==292588== by 0x4878CD2: TRint::Run(bool) (TRint.cxx:461); ==292588== by 0x401446: main (rmain.cxx:84); ```. ### Reproducer. ```; valgrind --track-origins=yes --num-callers=30 --suppressions=$ROOTSYS/etc/valgrind-root.supp --suppressions=$ROOTSYS/etc/valgrind-root-python.supp --leak-check=full root.exe -l -b -q $ROOTSYS/tutorials/tmva/TMVA_CNN_Classification.C; ```. ### ROOT version. any. ### Installation method. any. ### Operating system. any. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14438:4372,Install,Installation,4372,https://root.cern,https://github.com/root-project/root/issues/14438,1,['Install'],['Installation']
Deployability,"ld: warning: -undefined dynamic_lookup may not work with chained fixups. Rely on explicit linking, and only specify -undefined dynamic_lookup where really needed. # This Pull request:. ## Changes or fixes:. ## Checklist:. - [ ] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11432:258,update,updated,258,https://root.cern,https://github.com/root-project/root/pull/11432,1,['update'],['updated']
Deployability,"ld](https://github.com/root-project/root/actions/runs/8568832804/job/23483489958) it can be clearly seen that the segfault happens when a `RModel` instance is read from a ROOT file.; The stack trace is the following:; ``` ; TMVA SOFIE Operator Conv: asymmetric padding not supported. Assume an average padding ; ; *** Break *** segmentation violation; [/usr/lib/system/libsystem_platform.dylib] _sigtramp (no debug info); [/Users/sftnight/ROOT-CI/build/lib/libROOTTMVASofie.so] TMVA::Experimental::SOFIE::InitializedTensor::CastPersistentToShared() (no debug info); [/Users/sftnight/ROOT-CI/build/lib/libROOTTMVASofie.so] TMVA::Experimental::SOFIE::RModel::Streamer(TBuffer&) (no debug info); [/Users/sftnight/ROOT-CI/build/lib/libRIO.so] TKey::ReadObjectAny(TClass const*) (no debug info); [/Users/sftnight/ROOT-CI/build/lib/libRIO.so] TDirectoryFile::GetObjectChecked(char const*, TClass const*) (no debug info); [/Users/sftnight/ROOT-CI/build/tmva/sofie/test/emitFromROOT] EmitModel(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>) (no debug info); [/Users/sftnight/ROOT-CI/build/tmva/sofie/test/emitFromROOT] main (no debug info); [/usr/lib/dyld] start (no debug info); make[2]: *** [SofieCompileModels_ROOT] Error 139; make[1]: *** [tmva/sofie/test/CMakeFiles/SofieCompileModels_ROOT.dir/all] Error 2; make: *** [all] Error 2; ```. This bug could be affecting other ROOT branches (for sure at least master). Moreover, the I/O of those objects might be corrupt ( the class is in the `Experimental` namespace, but this issue is definitively blocking the promotion to ROOT proper). ### Reproducer. It's enough to do some IO of `TMVA::Experimental::SOFIE::RModel` instances. ### ROOT version. master and 6.32 but likely also other versions are affected. ### Installation method. from sources. ### Operating system. mac, but likely others. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15156:2256,Install,Installation,2256,https://root.cern,https://github.com/root-project/root/issues/15156,1,['Install'],['Installation']
Deployability,"le analytical answer), but it turned out that it's not possible to set bounds for it. [RooUniform](https://root.cern/doc/master/classRooUniform.html) creates a uniform distribution for the whole range of its variable (or many variables in the case of many dimensions). On the [forum](https://root-forum.cern.ch/t/rooaddpdf-sum-of-uniform-distributions/18927/2) @lmoneta writes in 2015: ""You cannot really assign weights to a RooUniformPdf."" (but probably this has already changed, because I see that it is a subclass of RooAbsPdf, like RooGaussian). ### Describe the solution you'd like; Change the constructor to. RooUniform(const char *name, const char *title, RooAbsReal &x_low, RooAbsReal &x_up). One- and multidimensional uniform distributions should become separate (like [RooGaussian](https://root.cern/doc/master/classRooGaussian.html) and [RooMultiVarGaussian](https://root.cern/doc/master/classRooMultiVarGaussian.html) (note also a spurious line break in its docs)). Probably there is even no need for the multidimensional uniform distribution, since it's just a product of one-dimensional pdfs (if you don't model complicated support shapes). The uniform (rectangular) distribution is just one of pdfs (see Wikipedia, [Continuous uniform distribution](https://en.wikipedia.org/wiki/Continuous_uniform_distribution)). It is a normal pdf, and its parameters are its lower and upper bounds. They should be set like other pdf parameters in RooFit. ### Describe alternatives you've considered; I think that there are no alternatives. No reason to model this with step functions or histograms. The uniform distribution is a simple and pretty basic probability distribution. ### Additional context; I [asked about this on the forum](https://root-forum.cern.ch/t/uniform-rectangular-pdf-with-variable-range/44232), but now as I better understand RooFit and as I see no answers for RooUniform, I think this is the only solution. P.S. There is a spurious line break in RooUniform class description.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7880:1367,Continuous,Continuous,1367,https://root.cern,https://github.com/root-project/root/issues/7880,1,['Continuous'],['Continuous']
Deployability,"le stream capture (currently not working on Windows). The output coming from C++ (ROOT) will only print in the command prompt and not in the notebook (to be investigated); - Disable tab completion (currently not working on Windows).; - Add the `delete=False` argument in `NamedTemporaryFile()` and manually delete the created file to prevent the following error:; ```; Error in callback <bound method CaptureDrawnPrimitives._post_execute of <JupyROOT.helpers.utils.CaptureDrawnPrimitives object at 0x0C321C58>> (for post_execute):; ---------------------------------------------------------------------------; PermissionError Traceback (most recent call last); ~\build\release\bin\JupyROOT\helpers\utils.py in _post_execute(self); 461; 462 def _post_execute(self):; --> 463 NotebookDraw(); 464; 465 def register(self):. ~\build\release\bin\JupyROOT\helpers\utils.py in NotebookDraw(); 450 def NotebookDraw():; 451 DrawGeometry(); --> 452 DrawCanvases(); 453 DrawRCanvases(); 454. ~\build\release\bin\JupyROOT\helpers\utils.py in DrawCanvases(); 441 drawers = GetCanvasDrawers(); 442 for drawer in drawers:; --> 443 drawer.Draw(); 444; 445 def DrawRCanvases():. ~\build\release\bin\JupyROOT\helpers\utils.py in Draw(self); 598; 599 def Draw(self):; --> 600 self._display(); 601 return 0; 602. ~\build\release\bin\JupyROOT\helpers\utils.py in _display(self); 583 self._jsDisplay(); 584 else:; --> 585 self._pngDisplay(); 586; 587 def GetDrawableObjects(self):. ~\build\release\bin\JupyROOT\helpers\utils.py in _pngDisplay(self); 572; 573 def _pngDisplay(self):; --> 574 img = self._getPngImage(); 575 IPython.display.display(img); 576. ~\build\release\bin\JupyROOT\helpers\utils.py in _getPngImage(self); 566 with _setIgnoreLevel(ROOT.kError):; 567 self.drawableObject.SaveAs(ofile.name); --> 568 img = IPython.display.Image(filename=ofile.name, format='png', embed=True); 569 #ofile.close(); 570 #os.unlink(ofile.name). c:\python38-32\lib\site-packages\IPython\core\display.py in __init__(self, data, u",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9109:1024,release,release,1024,https://root.cern,https://github.com/root-project/root/pull/9109,1,['release'],['release']
Deployability,"leaned up by the garbage collector. ### Reproducer. ```bash; python --version; Python 3.9.12; # Run as; python3 reproducer.py; ```. ```python; #reproducer.py; import ROOT; import os, psutil; import gc; import numpy as np; import matplotlib.pyplot as plt; import tqdm; process = psutil.Process(). # to cache a lot of things; ROOT.RVec('double')(). def get_mem_usage():; gc.collect(); return process.memory_info().rss # in kbytes . ROOT.gInterpreter.Declare(""""""; auto create_rvec(unsigned int n) {; //return std::array<unsigned int, 3>({n, n, n});; return ROOT::RVec<unsigned int>({n, n, n});; }; """"""); df = ROOT.ROOT.RDataFrame(1000).Define(""my_rvecs"", ""create_rvec(rdfentry_)""). # To trigger the event loop before measuring memory; my_rvecs = df.AsNumpy([""my_rvecs""])[""my_rvecs""]. mem0 = get_mem_usage(); print(mem0). #my_data is gone at the end of the loop, nice!; for rvec in my_rvecs:; my_data = rvec; mem1 = get_mem_usage(); print(mem1). #Does not free memory at the end of the loop!; for rvec in my_rvecs:; my_data = np.asarray(rvec); mem2 = get_mem_usage(); print(mem2). #Creating RVecs in place also does not free memory!; for i in range(1000):; ROOT.RVec('double')((42., 42., 42.)); mem3 = get_mem_usage(); print(mem3); ```. #### Output:. ```; 510033920; 510033920; 552292352; 555728896; ```. #### Expected:; No increase in memory usage over time!. #### Workaround. I guess this should work as a workaround.; ```python; for rvec in my_rvecs:; my_data = np.array([x for x in rvec]); ```. P.S. Thanks, Jonas for the the nice reproducer!. ### ROOT version. ROOT Version: 6.31/01; Built for linuxx8664gcc on Mar 11 2024, 23:52:46; From heads/master@v6-31-01-1407-gc76b8f7. ### Installation method. source /cvmfs/sft-nightlies.cern.ch/lcg/views/dev3/latest/x86_64-centos7-gcc11-dbg/setup.sh. ### Operating system. CentOS Linux 7 (Core). ### Additional context. Initially submitted on the forum [here](https://root-forum.cern.ch/t/rvecs-memory-is-not-freed-by-a-garbage-collector-in-pyroot/58545/2)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14981:2037,Install,Installation,2037,https://root.cern,https://github.com/root-project/root/issues/14981,1,['Install'],['Installation']
Deployability,"lease format version: RC 1; [ OK ] RNTuple.StdTuple (169 ms); [ RUN ] RNTuple.Int64_t; [ OK ] RNTuple.Int64_t (0 ms); [ RUN ] RNTuple.Char; [ OK ] RNTuple.Char (0 ms); [ RUN ] RNTuple.Int8_t; [ OK ] RNTuple.Int8_t (0 ms); [ RUN ] RNTuple.Int16_t; [ OK ] RNTuple.Int16_t (0 ms); [ RUN ] RNTuple.UInt16_t; [ OK ] RNTuple.UInt16_t (0 ms); [ RUN ] RNTuple.UnsupportedStdTypes; [ OK ] RNTuple.UnsupportedStdTypes (3 ms); [ RUN ] RNTuple.Casting; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RPageStorageFile.cxx:51 in ROOT::Experimental::Detail::RPageSinkFile::RPageSinkFile(std::string_view, const ROOT::Experimental::RNTupleWriteOptions&)>: The RNTuple file format will change. Do not store real data with this version of RNTuple!; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experimental::Internal::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNTupleDescriptorBuilder&)>: Pre-release format version: RC 1; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experimental::Internal::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNTupleDescriptorBuilder&)>: Pre-release format version: RC 1; /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/test/ntuple_types.cxx:280: Failure; Expected equality of these values:; 42; *fieldCast; Which is: 180388626432; [ FAILED ] RNTuple.Casting (56 ms); [ RUN ] RNTuple.TClass; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RPageStorageFile.cxx:51 in ROOT::Experimental::Detail::RPageSinkFile::RPageSinkFile(std::string_view, const ROOT::Experimental::RNTupleWriteOptions&)>: The RNTuple file format will change. Do not store real data with this version of RNTuple!; Warning i",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12426:19097,release,release,19097,https://root.cern,https://github.com/root-project/root/issues/12426,1,['release'],['release']
Deployability,"lease format version: RC 1; [ OK ] RNTuple.StdTuple (202 ms); [ RUN ] RNTuple.Int64_t; [ OK ] RNTuple.Int64_t (0 ms); [ RUN ] RNTuple.Char; [ OK ] RNTuple.Char (0 ms); [ RUN ] RNTuple.Int8_t; [ OK ] RNTuple.Int8_t (0 ms); [ RUN ] RNTuple.Int16_t; [ OK ] RNTuple.Int16_t (0 ms); [ RUN ] RNTuple.UInt16_t; [ OK ] RNTuple.UInt16_t (0 ms); [ RUN ] RNTuple.UnsupportedStdTypes; [ OK ] RNTuple.UnsupportedStdTypes (3 ms); [ RUN ] RNTuple.Casting; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RPageStorageFile.cxx:51 in ROOT::Experimental::Detail::RPageSinkFile::RPageSinkFile(std::string_view, const ROOT::Experimental::RNTupleWriteOptions&)>: The RNTuple file format will change. Do not store real data with this version of RNTuple!; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experimental::Internal::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNTupleDescriptorBuilder&)>: Pre-release format version: RC 1; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experimental::Internal::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNTupleDescriptorBuilder&)>: Pre-release format version: RC 1; [ OK ] RNTuple.Casting (12 ms); [ RUN ] RNTuple.TClass; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RPageStorageFile.cxx:51 in ROOT::Experimental::Detail::RPageSinkFile::RPageSinkFile(std::string_view, const ROOT::Experimental::RNTupleWriteOptions&)>: The RNTuple file format will change. Do not store real data with this version of RNTuple!; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experimenta",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12428:4262,release,release,4262,https://root.cern,https://github.com/root-project/root/issues/12428,1,['release'],['release']
Deployability,"lease\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\VC\Tools\MSVC\14.35.32215\include\format(3531,19): message : or 'std::string std::format(const std::locale &,const std::basic_format_string<char,type_identity<_Args>::type...>,_Types &&...)' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(85,18): message : 'initializing': cannot convert from 'const char [5]' to 'const std::locale &' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(85,18): message : Reason: cannot convert from 'const char [5]' to 'const std::locale' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(85,18): message : Constructor for class 'std::locale' is declared 'explicit' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(85,11): message : while trying to match the argument list '(const char [5], const std::unique_ptr<llvm::GIMatchDagPredicate,std::default_delete<llvm::GIMatchDagPredicate>> *)' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(85,11): message : note: qualification adjustment (const/volatile) may be causing the ambiguity [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; ```; This has also be fixed in LLVM. See https://github.com/llvm/llvm-project/commit/aa5492e7b218b7c79bf975ff751631392b03cecf",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12523:11407,release,release,11407,https://root.cern,https://github.com/root-project/root/pull/12523,3,['release'],['release']
Deployability,"led 63.64 sec; Running main() from /builddir/build/BUILD/googletest-1.13.0/googletest/src/gtest_main.cc; Note: Google Test filter = -RCsvDS.Remote:RRawFile.Remote:RSqliteDS.Davix:TFile.ReadWithoutGlobalRegistrationWeb:TFile.ReadWithoutGlobalRegistrationNet:RNTuple.TClassEBO; [==========] Running 17 tests from 2 test suites.; [----------] Global test environment set-up.; [----------] 13 tests from RNTuple; [ RUN ] RNTuple.ReconstructModel; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RPageStorageFile.cxx:51 in ROOT::Experimental::Detail::RPageSinkFile::RPageSinkFile(std::string_view, const ROOT::Experimental::RNTupleWriteOptions&)>: The RNTuple file format will change. Do not store real data with this version of RNTuple!; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experimental::Internal::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNTupleDescriptorBuilder&)>: Pre-release format version: RC 1; [ OK ] RNTuple.ReconstructModel (160 ms); [ RUN ] RNTuple.MultipleInFile; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RPageStorageFile.cxx:51 in ROOT::Experimental::Detail::RPageSinkFile::RPageSinkFile(std::string_view, const ROOT::Experimental::RNTupleWriteOptions&)>: The RNTuple file format will change. Do not store real data with this version of RNTuple!; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RPageStorageFile.cxx:51 in ROOT::Experimental::Detail::RPageSinkFile::RPageSinkFile(std::string_view, const ROOT::Experimental::RNTupleWriteOptions&)>: The RNTuple file format will change. Do not store real data with this version of RNTuple!; Fatal: nread == nbytes violated at line 1083 of `/builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RMiniFile.cxx'; aborting; [ --- ]; CMake Error at /buil",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12426:1768,release,release,1768,https://root.cern,https://github.com/root-project/root/issues/12426,1,['release'],['release']
Deployability,"led; -- lldb project is disabled; -- mlir project is disabled; -- openmp project is disabled; -- parallel-libs project is disabled; -- polly project is disabled; -- pstl project is disabled; -- flang project is disabled; ```; and these:; ```; -- LLVM host triple: x86_64-unknown-linux-gnu; -- LLVM default target triple: x86_64-unknown-linux-gnu; -- Building with -fPIC; -- Found Python3: /usr/bin/python3 (found suitable version ""3.11.6"", minimum required is ""3.0"") found components: Interpreter ; -- Linker detection: GNU ld; -- Targeting X86; -- Targeting NVPTX; -- Clang version: 13.0.0; -- Not building amdgpu-arch: hsa-runtime64 not found; -- Building Cling as part of ROOT; -- Cling version (from VERSION file): ROOT_1.0~dev; -- Cling will look for C++ headers in '/usr/include/c++/13:/usr/include/x86_64-linux-gnu/c++/13:/usr/include/c++/13/backward' at runtime.; -- And then fallback to: 'x86_64-linux-gnu-g++-13'; -- Performing Test CXX_HAS_fno_rtti; ```. The last lines of this cmake were:; ```cmake; -- ROOT Configuration . System Linux-6.5.0-15-generic; Processor 2 core Intel(R) Core(TM) i5-6200U CPU @ 2.30GHz (x86_64); Build type Release; Install path /home/<user>/root_install; Compiler GNU 13.2.0; Compiler flags:; C -Wno-implicit-fallthrough -pipe -Wall -W -pthread -O3 -DNDEBUG; C++ -std=c++17 -Wno-implicit-fallthrough -Wno-noexcept-type -pipe -Wshadow -Wall -W -Woverloaded-virtual -fsigned-char -pthread -O3 -DNDEBUG; Linker flags:; Executable -rdynamic; Module ; Shared -Wl,--no-undefined -Wl,--hash-style=""both"". -- Enabled support for: asimage builtin_afterimage builtin_clang builtin_cling builtin_ftgl builtin_gl2ps builtin_glew builtin_llvm builtin_lz4 builtin_lzma builtin_nlohmannjson builtin_openui5 builtin_pcre builtin_tbb builtin_vdt builtin_xrootd builtin_xxhash builtin_zstd clad dataframe gdml http imt mlp opengl proof pyroot roofit webgui root7 rpath runtime_cxxmodules shared ssl tmva tmva-cpu tmva-pymva spectrum vdt x11 xrootd; -- Configuring done (28.0s); ",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14479:3374,Configurat,Configuration,3374,https://root.cern,https://github.com/root-project/root/issues/14479,1,['Configurat'],['Configuration']
Deployability,"lem. as it provides ; 1. neither the parameters used in the top call ; 2. nor the actual error code returned by the underlying TTF library. **Proposed solution:** ; (inspired by a quick look at handling in `graf3d/ftgl/[inc src]/FTSize.[h cxx] `); ```diff; diff --git a/graf2d/graf/src/TTF.cxx b/graf2d/graf/src/TTF.cxx; index b8acf771d9..2f844b98da 100644; --- a/graf2d/graf/src/TTF.cxx; +++ b/graf2d/graf/src/TTF.cxx; @@ -570,8 +570,9 @@ void TTF::SetTextSize(Float_t textsize); }; ; Int_t tsize = (Int_t)(textsize*kScale+0.5) << 6;; - if (FT_Set_Char_Size(fgFace[fgCurFontIdx], tsize, tsize, 72, 72)); - Error(""TTF::SetTextSize"", ""error in FT_Set_Char_Size"");; + FT_Error err = FT_Set_Char_Size(fgFace[fgCurFontIdx], tsize, tsize, 72, 72);; + if (err); + Error(""TTF::SetTextSize"", ""error in FT_Set_Char_Size: %d (input size %f, calc. size %x)"", err, textsize, tsize);; }; ; ////////////////////////////////////////////////////////////////////////////////; ```. Patch tested locally based on ROOT v6.26.10 under Debian 12 (as far as I can tell this part of the file was not changed since the initial commit so the ROOT version should not matter).; The one thing where I am unsure is whether the calculated size (`tsize`) should be printed in hexadecimal (as it is offseted by multiple bits) or as standard integer. **Effect:**; In our case it allowed to find out that the automatic calculation of the TextSize value provided to the call was getting haywire due to a too small canvas (1x1 pixel), leading to large or negative values for `tsize`, maybe due to slightly different floating point calculations in Debian12. ### ROOT version. At least `v6.22` to `v6.26.10` but corresponding block seems unchanged since the initial commit in 2003, local compilation test on `master` worked. ### Installation method. Build from Source within FairSoft (v6.22 and v6.26), Build from source standalone (master). ### Operating system. Debian12, Ubuntu 20.04, Ubuntu 22.04. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14592:2410,Install,Installation,2410,https://root.cern,https://github.com/root-project/root/issues/14592,1,['Install'],['Installation']
Deployability,"les for using Objective-C between fork() and exec() have changed; in macOS 10.13. Incorrect code that happened to work most of the time in; the past may now fail. Some workarounds are available. This led to issues within the Python language, tracked at; https://bugs.python.org/issue33725. Any application that makes use of; e.g. multiprocessing (or in any way ends up calling MacOS system `fork`; or `exec`) is affected. According to the Python bug tracker, this issue; has been fixed in Python 3.8. The XCode Python 3.8 version begs to differ. In a very specific usecase,; that boils down to this simple reproducer:; ```python; import pyspark. sparkconf = pyspark.SparkConf().setAll(; {""spark.app.name"": ""distrdf001_spark_connection"",; ""spark.master"": ""local[4]"", }.items()); sparkcontext = pyspark.SparkContext(conf=sparkconf). def imp(partition):; import cppyy; return 1. count = sparkcontext.parallelize(range(1)).map(imp).reduce(lambda x,y:; x+y); ```. the issue is still triggered. Installing any other 3.8+ Python; executable on a MacOS node doesn't show this behaviour, with the exact; same pyspark version (3.2.1). It is possible to workaround this problem, by setting the environment; variable OBJC_DISABLE_INITIALIZE_FORK_SAFETY=YES before running a test.; This effectively brings back the behaviour of MacOS10.12 and previous; versions. This commit uses this workaround, since we cannot directly; modify how the system XCode Python on MacOS works. To give an idea of the impact of this issue (and therefore the changes; in this commit), the situation where this occurs is as follows:. 1. A user wants to run RDataFrame in distributed mode.; 2. Their environment is MacOS 10.13+.; 3. The application creates a pyspark mock cluster on the local Mac machine and; the computations happen strictly in the single local node, not in a; distributed cluster. Thus, it probably interests only a very small fraction of use cases for; distributed RDataFrame, mainly regarding quick checks done local",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9811:1115,Install,Installing,1115,https://root.cern,https://github.com/root-project/root/pull/9811,1,['Install'],['Installing']
Deployability,"lib/libCling.so; #13 0x00007f174c7d02fe in clang::Parser::TryAnnotateName(clang::CorrectionCandidateCallback*) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #14 0x00007f174c79f729 in clang::Parser::ParseStatementOrDeclarationAfterAttributes(llvm::SmallVector<clang::Stmt*, 32u>&, clang::Parser::ParsedStmtContext, clang::SourceLocation*, clang::ParsedAttributesWithRange&) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #15 0x00007f174c79fab4 in clang::Parser::ParseStatementOrDeclaration(llvm::SmallVector<clang::Stmt*, 32u>&, clang::Parser::ParsedStmtContext, clang::SourceLocation*) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #16 0x00007f174c7a7902 in clang::Parser::ParseCompoundStatementBody(bool) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #17 0x00007f174c7a9bcc in clang::Parser::ParseFunctionStatementBody(clang::Decl*, clang::Parser::ParseScope&) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #18 0x00007f174c7d5ac5 in clang::Parser::ParseFunctionDefinition(clang::ParsingDeclarator&, clang::Parser::ParsedTemplateInfo const&, clang::Parser::LateParsedAttrList*) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #19 0x00007f174c70dd20 in clang::Parser::ParseDeclGroup(clang::ParsingDeclSpec&, clang::DeclaratorContext, clang::SourceLocation*, clang::Parser::ForRangeInit*) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #20 0x00007f174c7d1e54 in clang::Parser::ParseDeclarationOrFunctionDefinition(clang::ParsedAttributesWithRange&, clang::ParsingDeclSpec*, clang::AccessSpecifier) [clone .part.0] () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #21 0x00007f174c7d8830 in clang::Parser::ParseExternalDeclaration(clang::ParsedAttributesWithRange&, clang::ParsingDeclSpec*) () from /",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12673:3931,install,install,3931,https://root.cern,https://github.com/root-project/root/issues/12673,2,['install'],['install']
Deployability,libAfterImage: apply changes for giflib-5 and other minor updates,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/328:58,update,updates,58,https://root.cern,https://github.com/root-project/root/pull/328,1,['update'],['updates']
Deployability,libNew is a custom memory allocator used in ROOT to output more information about memory pressure and used for interprocess communication in TMapFile. It essentially overrides the new and delete operators. We discovered that dlopening libNew at random time can trigger earthquakes because it allows the dynamic linker to sometimes resolve new and delete to the symbols from libNew and libc++. Patch by Alexander Penev (@alexander-penev) and me!,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4738:393,Patch,Patch,393,https://root.cern,https://github.com/root-project/root/pull/4738,1,['Patch'],['Patch']
Deployability,"lies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCling.so; #4 0x00007ffff560f184 in TClass::GetClass(char const*, bool, bool, unsigned long, unsigned long) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #5 0x00007ffff563608a in TProtoClass::FillTClass(TClass*) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #6 0x00007ffff56188e5 in TClass::Init(char const*, short, std::type_info const*, TVirtualIsAProxy*, char const*, char const*, int, int, ClassInfo_t*, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #7 0x00007ffff5619f76 in TClass::TClass(char const*, short, std::type_info const&, TVirtualIsAProxy*, char const*, char const*, int, int, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #8 0x00007ffff561a48a in ROOT::CreateClass(char const*, short, std::type_info const&, TVirtualIsAProxy*, char const*, char const*, int, int) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #9 0x00007ffff562906a in ROOT::TGenericClassInfo::GetClass() (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #10 0x00007ffff560ee22 in TClass::GetClass(char const*, bool, bool, unsigned long, unsigned long) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #11 0x00007ffff563608a in TProtoClass::FillTClass(TClass*) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #12 0x00007ffff56188e5 in TClass::Init(char const*, short, std::type_info const*, TVirtualIsAProxy*, ch",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7657:13503,patch,patches,13503,https://root.cern,https://github.com/root-project/root/issues/7657,1,['patch'],['patches']
Deployability,"lines regarding the integrals indicates that the model after the fit does not describe data well, despite a small EDM):. ```; Param of Interest: RawRDst; Saving PDF snapshot; DEBUG: BEFORE FIT:; 89215 data, 	73919.4 model; integral: 73919.4; ==============================; Minimizing the Minuit (Migrad). ... 6.97828e-06; Fit ran with status 0; Stat error on R(D*) is 0.000011; EDM at end was 0.000007; RooArgList:: = (Lumi,Nmu,RawRDst,alpha_BFD1); CURRENT NUISANCE PARAMETERS:; 0: Lumi			 = 3 +/- 1.68695e-05; 1: Nmu			 = 1e+06 +/- 5.62344; 3: alpha_BFD1			 = 3 +/- 0.000235825. 4x4 matrix is as follows. | 0 | 1 | 2 | 3 |; ---------------------------------------------------------; 0 | 1 -1.634e-08 7.913e-15 -8.172e-09 ; 1 | -1.634e-08 1 1.04e-08 -2.452e-08 ; 2 | 7.913e-15 1.04e-08 1 -9.891e-07 ; 3 | -8.172e-09 -2.452e-08 -9.891e-07 1 . Stopwatch: fit ran in 0.589563 seconds with 0.843554 seconds in prep; DEBUG: AFTER FIT:; 89215 data, 	4.92006e+06 model; integral: 7.56395e-83; ```. ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->. The fit converges. ### To Reproduce. We have our demo fitter publicly available at: https://github.com/umd-lhcb/histfactory-fitter-demo/tree/dev. The `dev` branch contains our latest development. The baseline fit was performed with `make fit-noshapes` so all shape variations are turned off. ### Setup. 1. ROOT version: 6.28.02; 2. Operating system: NixOS (Linux) with `gcc12`; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself. We build our self with the help of `nix`. ### Additional information. We noticed that newer ROOT started to use `RooBinWidthFunction` to support histogram templates with arbitrary binning scheme:. https://github.com/root-project/root/commit/dc65afe00ec72d18ebc5d31e7b2d6b50c6a20423#diff-42ea09980f1ed2bacde4381f212c35d78be6ddedccf746953dc99d6455525d8aL1256-R1221. Maybe there's a bug when introducing `RooBinWidthFunction`?. FYI @guitargeek",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12729:2358,install,install,2358,https://root.cern,https://github.com/root-project/root/issues/12729,1,['install'],['install']
Deployability,"ling/Interpreter/RuntimeUniverse.h:27:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/DynamicLookupLifetimeHandler.h:12:10: note: submodule of top-level module 'std' implicitly imported here; #include <string>; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/DynamicLookupLifetimeHandler.h:56:7: error: use of undeclared identifier 'std'; std::string m_Type;; ^; While building module 'Core':; While building module 'Cling_Runtime' imported from input_line_2:1:; While building module 'Cling_Runtime_Extra' imported from /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/RuntimeUniverse.h:27:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Visibility.h:13:10: note: submodule of top-level module 'std' implicitly imported here; #include <new>; ^; While building module 'Core':; While building module 'Cling_Runtime' imported from input_line_2:1:; While building module 'Cling_Runtime_Extra' imported from /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/RuntimeUniverse.h:27:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:17:10: note: submodule of top-level module 'std' implicitly imported here; #include <type_traits>; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:93:41: error: use of undeclared identifier 'std'; template <class T, class = typename std::enable_if<std::is_integral<T>::value>::type>; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Int",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10528:16159,Install,Installed,16159,https://root.cern,https://github.com/root-project/root/issues/10528,1,['Install'],['Installed']
Deployability,"ling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:69:18: error: static declaration of '__cosf' follows non-static declaration; __DEVICE__ float __cosf(float __a) { return __nv_fast_cosf(__a); }; ^; cling: /usr/include/x86_64-linux-gnu/bits/mathcalls.h:62:1: note: previous declaration is here; __MATHCALL_VEC (cos,, (_Mdouble_ __x));; ^; /usr/include/math.h:266:3: note: expanded from macro '__MATHCALL_VEC'; __MATHCALL (function, suffix, args); ^; /usr/include/math.h:273:3: note: expanded from macro '__MATHCALL'; __MATHDECL (_Mdouble_,function,suffix, args); ^; /usr/include/math.h:276:3: note: expanded from macro '__MATHDECL'; __MATHDECL_1(type, __CONCAT(__,function),suffix, args); ^; /usr/include/math.h:283:15: note: expanded from macro '__MATHDECL_1'; extern type __MATH_PRECNAME(function,suffix) args __THROW; ^; /usr/include/math.h:303:34: note: expanded from macro '__MATH_PRECNAME'; # define __MATH_PRECNAME(name,r) name##f##r; ^; <scratch space>:180:1: note: expanded from here; __cosf; ^; cling: In file included from <built-in>:1:; In file included from /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_runtime_wrapper.h:148:; /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:71:10: error: reference to __device__ function '__nvvm_atom_add_gen_d' in __host__ function; return __nvvm_atom_add_gen_d(__p, __v);; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:71:10: note: '__nvvm_atom_add_gen_d' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:74:10: error: reference to __device__ function '__nvvm_atom_cta_add_gen_d' in __host__ function; return __nvvm_atom_cta_add_gen_d(__p, __v);; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:74:1",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7518:3326,install,install,3326,https://root.cern,https://github.com/root-project/root/issues/7518,1,['install'],['install']
Deployability,"ling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/postypes.h:40:10: note: submodule of top-level module 'std' implicitly imported here; #include <cwchar> // For mbstate_t; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/postypes.h:68:15: error: expected '{'; namespace std _GLIBCXX_VISIBILITY(default); ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/postypes.h:68:15: error: C++ requires a type specifier for all declarations; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/postypes.h:68:35: error: expected expression; namespace std _GLIBCXX_VISIBILITY(default); ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/postypes.h:68:43: error: expected ';' after top level declarator; namespace std _GLIBCXX_VISIBILITY(default); ^; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/char_traits.h:41:10: note: submodule of top-level module 'std' implicitly imported here; #include <cwchar> // For WEOF, wmemmove, wmemset, etc.; ^; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/char_traits.h:699:10: note: submodule of top-level module 'std' implicitly imported here;",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10528:22712,Install,Installed,22712,https://root.cern,https://github.com/root-project/root/issues/10528,1,['Install'],['Installed']
Deployability,"ll path /home/razorr/Softwares/Installed/HEP/Root/install; Compiler GNU 11.2.0; Compiler flags:; C -Wno-implicit-fallthrough -pipe -Wall -W -pthread -O3 -DNDEBUG; C++ -std=c++17 -Wno-implicit-fallthrough -Wno-noexcept-type -pipe -Wshadow -Wall -W -Woverloaded-virtual -fsigned-char -pthread -O3 -DNDEBUG; Linker flags:; Executable -rdynamic; Module; Shared -Wl,--no-undefined -Wl,--hash-style=""both"". -- Enabled support for: asimage builtin_afterimage builtin_clang builtin_cling builtin_ftgl builtin_gl2ps builtin_glew builtin_llvm builtin_nlohmannjson builtin_openui5 builtin_vdt builtin_xrootd clad dataframe exceptions fftw3 gdml http imt mathmore mlp minuit2 mysql opengl pyroot roofit webgui root7 rpath runtime_cxxmodules shared sqlite ssl tmva tmva-cpu tmva-pymva spectrum vdt x11 xml xrootd; -- Configuring done; -- Generating done; -- Build files have been written to: /home/razorr/Softwares/Installed/HEP/Root/build; ```. </details>. `$ cmake --build . --target install -- -j4`; <details>; <summary>truncated output</summary>. ``` ; [ 75%] Building CXX object core/clingutils/CMakeFiles/ClingUtils.dir/src/TClingUtils.cxx.o; [ 75%] Built target Dictgen; [ 75%] Building CXX object core/metacling/src/CMakeFiles/MetaCling.dir/TClingClassInfo.cxx.o; [ 75%] Building CXX object core/metacling/src/CMakeFiles/MetaCling.dir/TClingDataMemberInfo.cxx.o; [ 75%] Building CXX object core/metacling/src/CMakeFiles/MetaCling.dir/TClingDeclInfo.cxx.o; [ 75%] Building CXX object core/metacling/src/CMakeFiles/MetaCling.dir/TClingDiagnostics.cxx.o; [ 75%] Building CXX object core/metacling/src/CMakeFiles/MetaCling.dir/TClingMemberIter.cxx.o; [ 75%] Building CXX object core/metacling/src/CMakeFiles/MetaCling.dir/TClingMethodArgInfo.cxx.o; [ 75%] Building CXX object core/metacling/src/CMakeFiles/MetaCling.dir/TClingMethodInfo.cxx.o; [ 75%] Built target ClingUtils; [ 75%] Building CXX object core/rootcling_stage1/CMakeFiles/rootcling_stage1.dir/src/rootcling_stage1.cxx.o; [ 75%] Linking CXX execu",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10528:12499,install,install,12499,https://root.cern,https://github.com/root-project/root/issues/10528,1,['install'],['install']
Deployability,"llenot\git\master\tree\dataframe\inc\ROOT/RSqliteDS.hxx(27): message : see declaration of 'ROOT::RDF::Internal' [C:\Users\bellenot\build\x86\release\tree\dataframe\test\datasource_sqlite.vcxproj]; C:\Users\bellenot\git\master\tree\dataframe\inc\ROOT/RDF/RInterface.hxx(1120): message : while compiling class template member function 'ROOT::RDF::RResultPtr<ROOT::RDF::RInterface<ROOT::RDF::RInterface<Proxied,DataSource>::RLoopManager,void>> ROOT::RDF::RInterface<ROOT::RDF::RInterface<Proxied,DataSource>::RLoopManager,void>::Snapshot(std::string_view,std::string_view,std::string_view,const ROOT::RDF::RSnapshotOptions &)' [C:\Users\bellenot\build\x86\release\tree\dataframe\test\datasource_sqlite.vcxproj]; C:\Users\bellenot\git\master\tree\dataframe\test\datasource_sqlite.cxx(41): message : see reference to function template instantiation 'ROOT::RDF::RResultPtr<ROOT::RDF::RInterface<ROOT::RDF::RInterface<Proxied,DataSource>::RLoopManager,void>> ROOT::RDF::RInterface<ROOT::RDF::RInterface<Proxied,DataSource>::RLoopManager,void>::Snapshot(std::string_view,std::string_view,std::string_view,const ROOT::RDF::RSnapshotOptions &)' being compiled [C:\Users\bellenot\build\x86\release\tree\dataframe\test\datasource_sqlite.vcxproj]; C:\Users\bellenot\git\master\tree\dataframe\inc\ROOT/RDataFrame.hxx(41): message : see reference to class template instantiation 'ROOT::RDF::RInterface<ROOT::RDF::RInterface<Proxied,DataSource>::RLoopManager,void>' being compiled [C:\Users\bellenot\build\x86\release\tree\dataframe\test\datasource_sqlite.vcxproj]; C:\Users\bellenot\git\master\tree\dataframe\inc\ROOT/RDF/RInterface.hxx(1123,64): error C3083: 'TreeUtils': the symbol to the left of a '::' must be a type [C:\Users\bellenot\build\x86\release\tree\dataframe\test\datasource_sqlite.vcxproj]; C:\Users\bellenot\git\master\tree\dataframe\inc\ROOT/RDF/RInterface.hxx(1123,75): error C2039: 'GetTopLevelBranchNames': is not a member of 'ROOT::RDF::Internal' [C:\Users\bellenot\build\x86\release\tree\datafr",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11153:1486,release,release,1486,https://root.cern,https://github.com/root-project/root/pull/11153,1,['release'],['release']
Deployability,"llowing tests:. roottest-root-dataframe-writeFcc (Failed); roottest-root-dataframe-test_readFcc (Failed); roottest-root-dataframe-regression_snapshot (Failed); roottest-root-dataframe-test_glob (Failed); roottest-root-dataframe-test_reduce (Failed); roottest-root-dataframe-ctors (Failed). Are failing with the following errors:. ```; 1306: Processing C:/Users/sftnight/git/roottest/root/dataframe/test_ctors.C+...; 1306: Info in <TWinNTSystem::ACLiC>: creating shared library C:/Users/sftnight/build/release/roottest/root/dataframe/test_ctors_C.dll; 1306: In file included from input_line_9:9:; 1306: In file included from C:/Users/sftnight/git/roottest/root/dataframe/test_ctors.C:4:; 1306: In file included from C:/Users/sftnight/build/release/include\ROOT/RDataFrame.hxx:20:; 1306: In file included from C:/Users/sftnight/build/release/include\ROOT/RDF/RInterface.hxx:15:; 1306: In file included from C:/Users/sftnight/build/release/include\ROOT/RDF/ActionHelpers.hxx:25:; 1306: C:/Users/sftnight/build/release/include\ROOT/RVec.hxx:1434:36: error: use of undeclared identifier 'M_PI'; 1306: T DeltaPhi(T v1, T v2, const T c = M_PI); 1306: ^; 1306: C:/Users/sftnight/build/release/include\ROOT/RVec.hxx:1455:68: error: use of undeclared identifier 'M_PI'; 1306: RVec<T> DeltaPhi(const RVec<T>& v1, const RVec<T>& v2, const T c = M_PI); 1306: ^; 1306: C:/Users/sftnight/build/release/include\ROOT/RVec.hxx:1473:55: error: use of undeclared identifier 'M_PI'; 1306: RVec<T> DeltaPhi(const RVec<T>& v1, T v2, const T c = M_PI); 1306: ^; 1306: C:/Users/sftnight/build/release/include\ROOT/RVec.hxx:1491:55: error: use of undeclared identifier 'M_PI'; 1306: RVec<T> DeltaPhi(T v1, const RVec<T>& v2, const T c = M_PI); 1306: ^; 1306: C:/Users/sftnight/build/release/include\ROOT/RVec.hxx:1510:113: error: use of undeclared identifier 'M_PI'; 1306: RVec<T> DeltaR2(const RVec<T>& eta1, const RVec<T>& eta2, const RVec<T>& phi1, const RVec<T>& phi2, const T c = M_PI); 1306: ^; 1306: C:/Users/sftnight/bu",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6727:1157,release,release,1157,https://root.cern,https://github.com/root-project/root/pull/6727,1,['release'],['release']
Deployability,"llvm::detail::DenseMapPair<llvm::Constant*, llvm::Constant*> >&) (in /build/vvassilev/root-release-master/lib/libCling.so); ==22765== by 0x93F38B7: llvm::ConstantFoldInstruction(llvm::Instruction*, llvm::DataLayout const&, llvm::TargetLibraryInfo const*) (in /build/vvassilev/root-release-master/lib/libCling.so); ==22765== by 0x91305C5: AddReachableCodeToWorklist(llvm::BasicBlock*, llvm::DataLayout const&, llvm::SmallPtrSetImpl<llvm::BasicBlock*>&, llvm::InstCombineWorklist&, llvm::TargetLibraryInfo const*) (in /build/vvassilev/root-release-master/lib/libCling.so); ==22765== by 0x9139861: combineInstructionsOverFunction(llvm::Function&, llvm::InstCombineWorklist&, llvm::AAResults*, llvm::AssumptionCache&, llvm::TargetLibraryInfo&, llvm::DominatorTree&, llvm::OptimizationRemarkEmitter&, llvm::BlockFrequencyInfo*, llvm::ProfileSummaryInfo*, bool, llvm::LoopInfo*) (in /build/vvassilev/root-release-master/lib/libCling.so); ==22765== by 0x913A00E: llvm::InstructionCombiningPass::runOnFunction(llvm::Function&) (in /build/vvassilev/root-release-master/lib/libCling.so); ==22765== by 0x9E4CCC7: llvm::FPPassManager::runOnFunction(llvm::Function&) (in /build/vvassilev/root-release-master/lib/libCling.so); ==22765== by 0x9E4CE00: llvm::FPPassManager::runOnModule(llvm::Module&) (in /build/vvassilev/root-release-master/lib/libCling.so); ==22765== by 0x9E4BEE5: llvm::legacy::PassManagerImpl::run(llvm::Module&) (in /build/vvassilev/root-release-master/lib/libCling.so); ==22765== by 0x6F12B5A: cling::IncrementalExecutor::runStaticInitializersOnce(cling::Transaction&) (in /build/vvassilev/root-release-master/lib/libCling.so); ==22765== ; ==22765== Warning: set address range perms: large range [0x1cfd0000, 0x31242000) (defined); ==22765== Warning: set address range perms: large range [0x1cfd0000, 0x31242000) (noaccess); ==22765== Warning: set address range perms: large range [0x1cfd0000, 0x31242000) (defined); ==22765== Warning: set address range perms: large range [0x1cfd0000, 0x31242",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11385:3995,release,release-master,3995,https://root.cern,https://github.com/root-project/root/issues/11385,1,['release'],['release-master']
Deployability,"lobal>, isa=isa@entry=0x477430,; dfil=dfil@entry=0x7ffff7cb8cab ""TGlobal.h"", ifil=<optimized out>, dl=<optimized out>, il=<optimized out>, givenInfo=<optimized out>, silent=<optimized out>); at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/meta/src/TClass.cxx:1431; #6 0x00007ffff7c3a1b8 in TClass::TClass (this=0xdafd20, name=0x7ffff7cb7638 ""TGlobal"", cversion=<optimized out>, info=..., isa=0x477430, dfil=0x7ffff7cb8cab ""TGlobal.h"",; ifil=0x7ffff7cccf88 ""/local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/meta/src/TGlobal.cxx"", dl=27, il=25, silent=false) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/meta/src/TClass.cxx:1273; #7 0x00007ffff7c3a72a in ROOT::CreateClass (cname=0x7ffff7cb7638 ""TGlobal"", id=id@entry=2, info=..., isa=isa@entry=0x477430, dfil=dfil@entry=0x7ffff7cb8cab ""TGlobal.h"",; ifil=ifil@entry=0x7ffff7cccf88 ""/local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/meta/src/TGlobal.cxx"", dl=27, il=25) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/meta/src/TClass.cxx:5607; #8 0x00007ffff7c4b552 in ROOT::Internal::TDefaultInitBehavior::CreateClass (il=25, dl=27, ifil=0x7ffff7cccf88 ""/local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/meta/src/TGlobal.cxx"", dfil=0x7ffff7cb8cab ""TGlobal.h"",; isa=0x477430, info=..., id=2, cname=<optimized out>, this=0x7ffff7da7508 <ROOT::Internal::DefineBehavior(void*, void*)::theDefault>) at /home/pcanal/root_builds/v6-14-00-patches/opt/include/Rtypes.h:176; #9 ROOT::TGenericClassInfo::GetClass (this=0x7ffff7dab660 <ROOT::GenerateInitInstanceLocal(TGlobal const*)::instance>) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/meta/src/TGenericClassInfo.cxx:250; #10 0x00007ffff7b1a2d8 in TGlobal::Class () at /home/pcanal/root_builds/v6-14-00-patches/opt/core/base/G__Core.cxx:17156; #11 0x00007ffff7ac01de in TGlobal::IsA (this=0xee3bc0) at /home/pcanal/root_builds/v6-14-00-patches/opt/include/TGlobal.h:48; #12 TGlobal::CheckTObjectHashConsistency (t",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2776:4182,patch,patches,4182,https://root.cern,https://github.com/root-project/root/pull/2776,2,['patch'],['patches']
Deployability,"lock.h TGenCollectionStreamer.h TGenCollectionProxy.h TKey.h TKeyMapFile.h TLockFile.h TMemFile.h TMapFile.h TMakeProject.h TStreamerInfoActions.h TVirtualCollectionIterators.h TStreamerInfo.h TZIPFile.h /var/folders/n9/mqnx20b929z469f6p3fbq7c40000gn/T/seth/spack-stage/spack-stage-root-6.26.06-htsa7u5mmwachooyld7p55v6t3ooncqo/spack-src/io/io/inc/LinkDef.h; In file included from <built-in>:433:; <command line>:1:9: error: macro name must be an identifier; #define -compilerI/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/c++/v1 1; ^; ```. ### Expected behavior. The `-D` shouldn't be emitted, so the build will work. ### To Reproduce. I'm building with Spack:; <details><summary>Spack concretization</summary><pre>; - root@6.26.06%apple-clang@13.1.6~aqua~davix~dcache~emacs~examples~fftw~fits~fortran+gdml+gminimal~graphviz~gsl~http~ipo~jemalloc~math~memstat+minuit~mlp~mysql~opengl~oracle~postgres~pythia6~pythia8+python~qt4~r+roofit~root7+rpath~shadow~spectrum~sqlite~ssl~table~tbb+threads~tmva+unuran~vc+vdt~veccore~vmc~x+xml~xrootd build_type=RelWithDebInfo cxxstd=17 patches=22af347 arch=darwin-monterey-m1; [+] ^cmake@3.24.1%apple-clang@13.1.6~doc+ncurses+ownlibs~qt build_type=Release arch=darwin-monterey-m1; [+] ^freetype@2.11.1%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^bzip2@1.0.8%apple-clang@13.1.6~debug~pic+shared arch=darwin-monterey-m1; [+] ^gnuconfig@2021-08-14%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^libpng@1.6.37%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^zlib@1.2.12%apple-clang@13.1.6+optimize+pic+shared patches=0d38234 arch=darwin-monterey-m1; [+] ^pkgconf@1.8.0%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^libice@1.0.9%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^util-macros@1.19.3%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^xproto@7.0.31%apple-clang@13.1.6 arch=darwin-monterey-m1; [-] ^pkgconf@1.9.3%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^xtrans@1.3.5%apple-clan",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11312:7185,patch,patches,7185,https://root.cern,https://github.com/root-project/root/issues/11312,1,['patch'],['patches']
Deployability,"ls/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1077:33: error: expected ')'; /Users/krasznaa/ATLAS/sw/projects/externals/build/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:134:55: note: expanded from macro 'atomic_load'; #define atomic_load(object) __c11_atomic_load(object, __ATOMIC_SEQ_CST); ^; <built-in>:16:26: note: expanded from here; #define __ATOMIC_SEQ_CST 5; ^; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1077:33: note: to match this '('; /Users/krasznaa/ATLAS/sw/projects/externals/build/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:134:46: note: expanded from macro 'atomic_load'; #define atomic_load(object) __c11_atomic_load(object, __ATOMIC_SEQ_CST); ^; In file included from libMyLibrary dictionary payload:5:; In file included from ./MyClass.h:6:; In file included from /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_ptr.hpp:17:; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1088:24: error: expected parameter declarator; template<class T> void atomic_store( shared_ptr<T> * p, shared_ptr<T> r ) BOOST_SP_NOEXCEPT; ^; /Users/krasznaa/ATLAS/sw/projects/externals/build/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:131:75: note: expanded from macro 'atomic_store'; #define atomic_store(object, desired) __c11_atomic_store(object, desired, __ATOMIC_SEQ_CST); ^; <built-in>:16:26: note: expanded from here; #define __ATOMIC_SEQ_CST 5; ^; In file included from libMyLibrary dictionary payload:5:; In file included from ./MyClass.h:6:; In file included from /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6454:5375,install,install,5375,https://root.cern,https://github.com/root-project/root/issues/6454,1,['install'],['install']
Deployability,lse branch in /opt/root_src/math/matrix/src/TDecompSVD.cxx:127; 6: Calling default constructor for 'TVectorT<double>' in /opt/root_src/math/matrix/src/TDecompSVD.cxx:136; 7: Calling default constructor for 'TObject' in /opt/root_src/math/matrix/inc/TVectorT.h:53; 8: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 9: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 10: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Calling 'TVectorT::GetSub' in /opt/root_src/math/quadp/src/TQpProbDens.cxx:224; 2: Calling default constructor for 'TVectorT<double>' in /opt/root_src/math/matrix/inc/TVectorT.h:208; 3: Calling default constructor for 'TObject' in /opt/root_src/math/matrix/inc/TVectorT.h:53; 4: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 5: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 6: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Calling 'TVectorT::GetSub' in /opt/root_src/math/quadp/src/TQpProbSparse.cxx:225; 2: Calling default constructor for 'TVectorT<double>' in /opt/root_src/math/matrix/inc/TVectorT.h:208; 3: Calling default constructor for 'TObject' in /opt/root_src/math/matrix/inc/TVectorT.h:53; 4: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 5: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 6: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left o,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:49073,Update,UpdateIsOnHeap,49073,https://root.cern,https://github.com/root-project/root/issues/7412,1,['Update'],['UpdateIsOnHeap']
Deployability,"ltiOnDiskHashTable<clang::serialization::reader::ASTDeclContextNameLookupTrait>::find(clang::DeclarationName const&) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #5 0x00002b8fcf63cfae in clang::ASTReader::FindExternalVisibleDeclsByName(clang::DeclContext const*, clang::DeclarationName) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #6 0x00002b8fcf758534 in clang::MultiplexExternalSemaSource::FindExternalVisibleDeclsByName(clang::DeclContext const*, clang::DeclarationName) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #7 0x00002b8fd105c4ee in clang::DeclContext::lookup(clang::DeclarationName) const () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #8 0x00002b8fcfb18f77 in LookupDirect(clang::Sema&, clang::LookupResult&, clang::DeclContext const*) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #9 0x00002b8fcfb19a5a in CppNamespaceLookup(clang::Sema&, clang::LookupResult&, clang::ASTContext&, clang::DeclContext*, (anonymous namespace)::UnqualUsingDirectiveSet&) [clone .isra.0] () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #10 0x00002b8fcfb1c4f5 in clang::Sema::CppLookupName(clang::LookupResult&, clang::Scope*) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #11 0x00002b8fcfb1ca1d in clang::Sema::LookupName(clang::LookupResult&, clang::Scope*, bool) () from /cvmfs/cms-i",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7093:4693,patch,patch,4693,https://root.cern,https://github.com/root-project/root/issues/7093,1,['patch'],['patch']
Deployability,"luded from ./MyClass.h:6:; In file included from /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_ptr.hpp:17:; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1099:33: error: expected parameter declarator; template<class T> shared_ptr<T> atomic_exchange( shared_ptr<T> * p, shared_ptr<T> r ) BOOST_SP_NOEXCEPT; ^; /Users/krasznaa/ATLAS/sw/projects/externals/build/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:137:81: note: expanded from macro 'atomic_exchange'; #define atomic_exchange(object, desired) __c11_atomic_exchange(object, desired, __ATOMIC_SEQ_CST); ^; <built-in>:16:26: note: expanded from here; #define __ATOMIC_SEQ_CST 5; ^; In file included from libMyLibrary dictionary payload:5:; In file included from ./MyClass.h:6:; In file included from /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_ptr.hpp:17:; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1099:33: error: expected ')'; /Users/krasznaa/ATLAS/sw/projects/externals/build/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:137:81: note: expanded from macro 'atomic_exchange'; #define atomic_exchange(object, desired) __c11_atomic_exchange(object, desired, __ATOMIC_SEQ_CST); ^; <built-in>:16:26: note: expanded from here; #define __ATOMIC_SEQ_CST 5; ^; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1099:33: note: to match this '('; /Users/krasznaa/ATLAS/sw/projects/externals/build/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:137:63: note: expanded from macro 'at",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6454:8451,install,install,8451,https://root.cern,https://github.com/root-project/root/issues/6454,1,['install'],['install']
Deployability,"ludes target ""Cling"" which requires target ""clingInterpreter"" that is not in any export set.; [ 53s] CMake Error: install(EXPORT ""ROOTExports"" ...) includes target ""Cling"" which requires target ""clingMetaProcessor"" that is not in any export set.; [ 53s] CMake Error: install(EXPORT ""ROOTExports"" ...) includes target ""Cling"" which requires target ""clingUtils"" that is not in any export set.; [ 54s] -- Generating done; ```. ### Expected behavior; CMake call succeeds. ### To Reproduce; The problem is caused by the SHARED libCling (TARGET Cling) specyfing the 3 OBJECT libraries from above as PUBLIC link libraries:. https://github.com/root-project/root/blob/69002fa23d19ad50ff8dd6c7678a6343748ba3fd/core/metacling/src/CMakeLists.txt#L107-L112. https://github.com/root-project/root/blob/69002fa23d19ad50ff8dd6c7678a6343748ba3fd/cmake/modules/RootMacros.cmake#L889. `CLING_LIBRARIES` is `clingInterpreter;clingMetaProcessor;clingUtils`. OBJECT libraries which are just used as convenience libraries and are not installed should by specified as PRIVATE link libraries. A minimal reproducer is given below, with `PRIVATE` it works fine, with `PUBLIC` `cmake -B _builddir -S .` fails.; ```; project(exportTest). cmake_minimum_required(VERSION 3.1). add_library(objLib OBJECT); target_sources(objLib PRIVATE ${CMAKE_CURRENT_SOURCE_DIR}/objA.cxx). add_library(shLib SHARED); target_sources(shLib PRIVATE ${CMAKE_CURRENT_SOURCE_DIR}/libA.cxx); target_link_libraries(shLib PUBLIC objLib) # <-- fails; #target_link_libraries(shLib PRIVATE objLib) # <-- OK. add_executable(main); target_sources(main PRIVATE ${CMAKE_CURRENT_SOURCE_DIR}/main.cxx); target_link_libraries(main PUBLIC shLib). install(TARGETS main shLib EXPORT exportTest); install(EXPORT exportTest DESTINATION lib/exportTest); ```; (`libA.cxx` and `objA.cxx` are empty files. `main.cxx` just contains an empty main function: `int main(int, char**) { return 0;}`). ### Setup; 1. ROOT version: 6.26.06; 2. openSUSE Leap 15.4, SLE15SP4. ### Additiona",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11138:1521,install,installed,1521,https://root.cern,https://github.com/root-project/root/issues/11138,1,['install'],['installed']
Deployability,lv' is not equal to 3 in /opt/root_src/graf2d/postscript/src/TPostScript.cxx:2695; 19: Taking false branch in /opt/root_src/graf2d/postscript/src/TPostScript.cxx:2695; 20: 'txalv' is not equal to 2 in /opt/root_src/graf2d/postscript/src/TPostScript.cxx:2698; 21: Taking false branch in /opt/root_src/graf2d/postscript/src/TPostScript.cxx:2698; 22: Calling default constructor for 'TText' in /opt/root_src/graf2d/postscript/src/TPostScript.cxx:2711; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Assuming 'view' is non-null in /opt/root_src/graf3d/g3d/src/TMarker3DBox.cxx:304; 2: Taking false branch in /opt/root_src/graf3d/g3d/src/TMarker3DBox.cxx:304; 3: Calling default constructor for 'TMarker3DBox' in /opt/root_src/graf3d/g3d/src/TMarker3DBox.cxx:319; 4: Calling default constructor for 'TObject' in /opt/root_src/graf3d/g3d/src/TMarker3DBox.cxx:48; 5: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 6: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 7: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Calling 'TPDF::Text' in /opt/root_src/graf2d/postscript/src/TPDF.cxx:2371; 2: Assuming field 'fTextSize' is > 0 in /opt/root_src/graf2d/postscript/src/TPDF.cxx:2169; 3: Taking false branch in /opt/root_src/graf2d/postscript/src/TPDF.cxx:2169; 4: Assuming 'font' is <= 'kNumberOfFonts' in /opt/root_src/graf2d/postscript/src/TPDF.cxx:2178; 5: Left side of '||' is false in /opt/root_src/graf2d/postscript/src/TPDF.cxx:2178; 6: Assuming 'font' is >= 1 in /opt/root_src/graf2d/postscript/src/TPDF.cxx:2178; 7: Taking false branch in /opt/root_src/graf2d/postscript/src/TPDF.cxx:2178; 8: Assuming 'wh' is >= 'hh' in,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:10981,Update,UpdateIsOnHeap,10981,https://root.cern,https://github.com/root-project/root/issues/7412,1,['Update'],['UpdateIsOnHeap']
Deployability,"lvm::GIMatchDagInstr,std::default_delete<llvm::GIMatchDagInstr>> *&&)': cannot convert argument 1 from 'const char [5]' to 'const std::basic_format_string<wchar_t,const std::unique_ptr<llvm::GIMatchDagInstr,std::default_delete<llvm::GIMatchDagInstr>> *>' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(51,18): message : No constructor could take the source type, or constructor overload resolution was ambiguous [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\VC\Tools\MSVC\14.35.32215\include\format(3521,19): message : or 'std::string std::format<const std::unique_ptr<llvm::GIMatchDagInstr,std::default_delete<llvm::GIMatchDagInstr>>*>(const std::basic_format_string<char,const std::unique_ptr<llvm::GIMatchDagInstr,std::default_delete<llvm::GIMatchDagInstr>> *>,const std::unique_ptr<llvm::GIMatchDagInstr,std::default_delete<llvm::GIMatchDagInstr>> *&&)' [found using argument-dependent lookup] [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\VC\Tools\MSVC\14.35.32215\include\format(3536,20): message : or 'std::wstring std::format(const std::locale &,const std::basic_format_string<wchar_t,type_identity<_Args>::type...>,_Types &&...)' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(51,18): message : 'initializing': cannot convert from 'const char [5]' to 'const std::locale &' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(51,18): message : Reas",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12523:3010,release,release,3010,https://root.cern,https://github.com/root-project/root/pull/12523,1,['release'],['release']
Deployability,"ly, there is no safeguard to prevent new commits from introducing new errors, which is prone to happen, as not everyone is familiar with the doxygen syntax. To maintain in a sustainable way the 'clean status' of the reference guide and online documentation, it would be helpful to add an automation script that compiles the documentation only with the files modified in the Pull Request to be merged, in the same way that a bot checks now about clang-format, etc. Because Doxygen can be configured to have only one input file, this extra check will not involve much time as compared to building the whole documentation. Then, it could be checked whether no warnings are produced by the 'touched' files. ### Optional: share how it could be improved; - [ ] The Github action or CI script should modify the -DDOCU_INPUT CMake flag to only add those touched by the Pull Request; - [x] The INCLUDE_PATH in the Doxyfile should be extended (for good, not just in the script) to all possible include folders, as you might touch a 'source file', but would get a bunch of warnings if Doxygen does not find the corresponding include path. (This is not the case in the full build, as the include files are also part of the INPUT, but wouldn't be the case if we just 'touch' the sources in the PR).; - [ ] The WARN_LOGFILE (-DDOCU_LOGFILE in cmake) should be set by the CI script to a useful filename. If the file is empty after running doxygen, the Test passes.; - [ ] Optional: HAVE_DOT, listLibs, etc. could be set to NO in case a speedup is wanted.; - [ ] Potentially hook it also up with spell-checking checks, see https://github.com/codespell-project/codespell; - [ ] Alternative approach suggested by albert-github to avoid missing references: use the overnight tag file from https://root.cern/reference/ with the pull request update test; - [ ] https://github.com/root-project/jenkins-pipelines/issues/10 jenkins parsing log fine-tune. ### Additional context; See https://root.cern/for_developers/doxygen/",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/9953:2051,update,update,2051,https://root.cern,https://github.com/root-project/root/issues/9953,2,"['pipeline', 'update']","['pipelines', 'update']"
Deployability,"m <module-includes>:1:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/RuntimeUniverse.h:27:10: fatal error: could not build module 'Cling_Runtime_Extra'; #include ""cling/Interpreter/Visibility.h""; ~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~; input_line_2:1:10: fatal error: could not build module 'Cling_Runtime'; #include ""cling/Interpreter/RuntimeUniverse.h""; ~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~; [ 75%] Building CXX object core/metacling/src/CMakeFiles/MetaCling.dir/TClingTypeInfo.cxx.o; While building module 'Core':; While building module 'ROOT_Rtypes' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:23:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /home/razorr/Softwares/Installed/HEP/Root/build/include/RtypesCore.h:28:10: note: submodule of top-level module 'std' implicitly imported here; #include <cstddef> // size_t, NULL; ^; In file included from input_line_3:2:; /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:23:10: fatal error: could not build module 'ROOT_Rtypes'; #include ""RtypesCore.h""; ~~~~~~~~^~~~~~~~~~~~~~; While building module 'Core':; While building module 'ROOT_Foundation_C' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:29:; In file included from <module-includes>:1:; /home/razorr/Softwares/Installed/HEP/Root/build/include/ThreadLocalStorage.h:60:10: fatal error: could not build module 'ROOT_Rtypes'; #include ""RtypesCore.h""; ~~~~~~~~^~~~~~~~~~~~~~; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/string",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10528:19816,Install,Installed,19816,https://root.cern,https://github.com/root-project/root/issues/10528,1,['Install'],['Installed']
Deployability,"m with linking libraries:. [100%] Linking CXX shared library ../../lib/libRMySQL.so; ld: library not found for -lzlib; clang: error: linker command failed with exit code 1 (use -v to see invocation); make[2]: *** [lib/libRMySQL.6.28.04.so] Error 1; make[1]: *** [sql/mysql/CMakeFiles/RMySQL.dir/all] Error 2; make: *** [all] Error 2. However, this library is present in the system and during the cmake it is found:; cmake:; -- Looking for ZLib; -- Found ZLIB: /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX13.3.sdk/usr/lib/libz.tbd (found version ""1.2.11""). The temporary, one-time solution that worked for me was to edit the file created by cmake:; [build directory]/sql/mysql/CMakeFiles/RMySQL.dir/link.txt; I removed the ""-lzlib -lzstd"" part from the list of libraries and the link completed without problems. It looks like the problem is in the build system; Best regards.; Yury. - [ ] Checked for duplicates; <!--; Please search in; * [GitHub](https://github.com/root-project/root/issues?q=is%3Aissue); * AND [Jira](https://sft.its.cern.ch/jira/issues/?jql=project %3D ROOT); for existing reports of your issue. If you find one, you are very welcome to add to the existing report, for instance ""issue still exists in today's master"".; -->. ### Describe the bug; <!--; A clear and concise description of what the wrong behavior is.; -->. ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->. ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->. ### Additional context; <!--; Add any other context about the problem here.; -->",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12820:1909,install,install,1909,https://root.cern,https://github.com/root-project/root/issues/12820,1,['install'],['install']
Deployability,"m/llvm-project/commit/8d67b9e2461d654c0a3657e511e2295006f23748; - https://github.com/llvm/llvm-project/commit/9478f661c26fbc22491218477917df5d8d73c51c; - https://github.com/llvm/llvm-project/commit/6a6994cc9bc0327aaf8b005c650ff5eb29d2bcce; - https://github.com/llvm/llvm-project/commit/8b1771bd9f304be39d4dcbdcccedb6d3bcd18200 . ### Notes; - Cling and Root commits for the rebase are kept separate for now (can squash similar commits together later).; - Also added a temporary commit https://github.com/root-project/llvm-project/commit/4066693bd33bc93bdee33415b7f5773bda1d1f49 in LLVM to prevent building of mlgo-utils, which will not compile when all the test folders are removed. We can either keep it or add an exception to this file in the Root GitHub workflow to not remove the test folders under mlgo-utils. #### TO DISCUSS/PROPERLY FIX; - [x] The commit 64f7cf6318ca9a4da766b02c45fc81aea7762f8e is memleaking; it is a temporary fix for now to prevent some failing tests, like `gtest-roofit-histfactory-test-testHistFactory`.; - Fixed with: https://github.com/root-project/root/pull/16314; - [x] This commit: https://github.com/root-project/root/pull/15696/commits/de5d1413e07170e396ac51d982c0844e4f548f4b is a temporarily fix reintroducing a memory leak. ; - Fixed with: https://github.com/root-project/root/pull/15696/commits/2c2d4dc2bf3ebe0f475b05a66a377c2467525d9d; - [x] This commit: d79963ecb74f957a332409ed91b106a0f53da10a fixes an issue with failing tests like `tutorial-hist-cumulative` when JITLink is turned on. This works for now, but will need to investigate further on why resource trackers were not destructed in the right order.; - Not a critical issue: Can also look into this later after the merge.; - [x] Discussion on a proper solution for the macOS modulemap issue; - Fixed with: https://github.com/root-project/root/pull/16315. ## Changes or fixes:. ## Checklist:; - [x] Fix mac13 build; - [x] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15696:2164,update,updated,2164,https://root.cern,https://github.com/root-project/root/pull/15696,1,['update'],['updated']
Deployability,"m/root-project/root/blob/e83e0e94a5e10f2cb97a5ff9cb57d5de0d25b9e5/tree/dataframe/src/RDFInterfaceUtils.cxx#L686) but is not compiled and executed right away. The cling invokation only happens in [`RLoopManager::Jit`](https://github.com/root-project/root/blob/e83e0e94a5e10f2cb97a5ff9cb57d5de0d25b9e5/tree/dataframe/src/RLoopManager.cxx#L804), which gets all the code previously declared by *any* RDataFrame within the same application via the singleton returned by [`GetCodeToJit`](https://github.com/root-project/root/blob/e83e0e94a5e10f2cb97a5ff9cb57d5de0d25b9e5/tree/dataframe/src/RLoopManager.cxx#L67). The fact that all the code from all the RDatFrame objects is JITted at the same time is an optimization, but it has a fragility. In case an RDataFrame books some JITted operation but the computation graph is never triggered, it will leak memory of those objects that were created on the heap but never freed by the corresponding helper functions. Furthermore, those objects in turn are connected to their respective RDataFrame object, which meanwhile can already be gone out of scope. ### Reproducer. ```cpp; #include <ROOT/RDataFrame.hxx>; #include <iostream>; #include <TFile.h>; #include <TTree.h>; #include <ROOT/RLogger.hxx>. auto verbosity = ROOT::Experimental::RLogScopedVerbosity(ROOT::Detail::RDF::RDFLogChannel(), ROOT::Experimental::ELogLevel::kDebug + 10);. int main(); {. {; std::cout << ""Begin scope\n"";; ROOT::RDataFrame rdf(1);; auto df1 = rdf.Define(""x"", ""42"");; std::cout << ""End scope\n"";; }; }; ```. Compile and run with valgrind:; ```; $: g++ -O2 -g -o repro_leak.out repro_leak.cpp `root-config --cflags --glibs`; valgrind --leak-check=full --suppressions=$ROOTSYS/etc/valgrind-root.supp ./repro_leak.out > valgrind.log 2>&1; ```. See the attached log file. [valgrind.log](https://github.com/root-project/root/files/15185034/valgrind.log). ### ROOT version. Any. ### Installation method. Build from source. ### Operating system. Any. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15399:2490,Install,Installation,2490,https://root.cern,https://github.com/root-project/root/issues/15399,1,['Install'],['Installation']
Deployability,m::FindDynamicLibrary>: libROOTQt5WebDisplay[.so | .dll | .dylib | .sl | .dl | .a] does not exist in /Users/build/lib:/Users/build/lib::.:/Users/build/lib:/usr/local/lib:/usr/X11R6/lib:/usr/lib:/lib:/lib/x86_64-linux-gnu:/usr/local/lib64:/usr/lib64:/lib64:; Error in <TMacOSXSystem::FindDynamicLibrary>: libROOTCefDisplay[.so | .dll | .dylib | .sl | .dl | .a] does not exist in /Users/build/lib:/Users/build/lib::.:/Users/build/lib:/usr/local/lib:/usr/X11R6/lib:/usr/lib:/lib:/lib/x86_64-linux-gnu:/usr/local/lib64:/usr/lib64:/lib64:; Info in <THttpEngine::Create>: Starting HTTP server on port 127.0.0.1:9005; Error in <TMacOSXSystem::FindDynamicLibrary>: libROOTQt6WebDisplay[.so | .dll | .dylib | .sl | .dl | .a] does not exist in /Users/build/lib:/Users/build/lib::.:/Users/build/lib:/usr/local/lib:/usr/X11R6/lib:/usr/lib:/lib:/lib/x86_64-linux-gnu:/usr/local/lib64:/usr/lib64:/lib64:; Error in <TMacOSXSystem::FindDynamicLibrary>: libROOTQt5WebDisplay[.so | .dll | .dylib | .sl | .dl | .a] does not exist in /Users/build/lib:/Users/build/lib::.:/Users/build/lib:/usr/local/lib:/usr/X11R6/lib:/usr/lib:/lib:/lib/x86_64-linux-gnu:/usr/local/lib64:/usr/lib64:/lib64:; Error in <TMacOSXSystem::FindDynamicLibrary>: libROOTCefDisplay[.so | .dll | .dylib | .sl | .dl | .a] does not exist in /Users/build/lib:/Users/build/lib::.:/Users/build/lib:/usr/local/lib:/usr/X11R6/lib:/usr/lib:/lib:/lib/x86_64-linux-gnu:/usr/local/lib64:/usr/lib64:/lib64:; Info in <TCanvas::MakeDefCanvas>: created default TCanvas with name c1; Opening in existing browser session.; [2237:259:0425/163421.850831:ERROR:background_contents_service.cc(441)] No extension found for BackgroundContents - id = efaidnbmnnnibpcajpcglclefdferfgrtgtt; [2237:259:0425/163422.333445:ERROR:extension_registrar.cc(539)] Failed to unregister service worker for extension efaidnbmnnnibpcajpcglclefdferfgrtgtt; ```. ### ROOT version. master. ### Installation method. sources. ### Operating system. macOS. ### Additional context. _No response_,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15340:3023,Install,Installation,3023,https://root.cern,https://github.com/root-project/root/issues/15340,1,['Install'],['Installation']
Deployability,"m::GetEnum(""B::E""); (TEnum *) nullptr; root [5] namespace C { using namespace A; }; root [6] TEnum::GetEnum(""C::E""); (TEnum *) nullptr; ```. ### Reproducer. With file `enumusing.cxx` (see below) return 1 instead 0;. The issue was uncovered was investigating the change/improvement shown in `related_enumusing` where the return value on master and v6-32 release candidate (due to commit fa278745f2141ea02d40ed27af986ac8729dee2b), the execution now return `0` (new correct behavior) instead of `3` (old inaccurate behavior but expected by the user). ```; namespace reco; {; namespace btau; {; enum class TaggingVariableName {; kOne; };; } // namespace btau; using btau::TaggingVariableName;. struct TaggingVariableList {; bool get(TaggingVariableName in) { return true; };; };; } // namespace reco. int enumusing() ; {; 	auto e1 = TEnum::GetEnum(""reco::TaggingVariableName"");; if (!e1); return 1;; auto e2 = TEnum::GetEnum(""reco::btau::TaggingVariableName"");; if (!e2); return 2;; return 0;; }. int related_enumusing(); {; auto c = TClass::GetClass(""reco::TaggingVariableList"");; auto m = static_cast<TMethod*>(c->GetListOfMethods()->FindObject(""get""));; if (!m); return 1;; auto arg = static_cast<TMethodArg*>(m->GetListOfMethodArgs()->At(0));; if (!arg); return 2;; std::string target(""reco::btau::TaggingVariableName"");; std::string newtype(""reco::TaggingVariableName"");. if (newtype == arg->GetTypeName()); return 0;. if (target == arg->GetTypeName()); return 3;. return 4;; }; ```. ### ROOT version. master. ### Installation method. any. ### Operating system. any. ### Additional context. `TClass::GetClass` handles properly direct using statement; ```; root [3] namespace A { class B {}; }; root [4] TClass::GetClass(""A::B""); (TClass *) 0x13af817f0; root [5] namespace C { using A::B; }; root [6] TClass::GetClass(""C::B""); (TClass *) 0x13af817f0; ```; but not using namespace statement:; ```; root [7] namespace D { using namespace A; }; root [8] TClass::GetClass(""D::B""); (TClass *) nullptr; ```",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15406:1877,Install,Installation,1877,https://root.cern,https://github.com/root-project/root/issues/15406,1,['Install'],['Installation']
Deployability,mByproduct ROOT_Foundation_C -mByproduct ROOT_Rtypes -DR__ARC4_STDLIB -D__STDC_NO_COMPLEX__ -D__COMPLEX_H__ -D_COMPLEX_H -D__CLANG_STDATOMIC_H -compilerI/Users/josiahlee/WORK/Tools/GEANT/install/include -compilerI/Users/josiahlee/WORK/Tools/clhep_install/include -compilerI/opt/homebrew/opt/libomp/include -compilerI/opt/homebrew/opt/open-mpi/include -compilerI/Users/josiahlee/WORK/Tools/xerces-c-3.2.4-install/include -compilerI/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX15.0.sdk/usr/include/c++/v1 -compilerI/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/16/include -compilerI/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX15.0.sdk/usr/include -compilerI/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/include -compilerI/Users/josiahlee/WORK/Tools/GEANT/install/include -compilerI/Users/josiahlee/WORK/Tools/clhep_install/include -compilerI/opt/homebrew/opt/libomp/include -compilerI/opt/homebrew/opt/open-mpi/include -compilerI/Users/josiahlee/WORK/Tools/xerces-c-3.2.4-install/include -compilerI/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/16/include -compilerI/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX15.0.sdk/usr/include -compilerI/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/include -I/Users/josiahlee/WORK/Tools/root_build_release/include -I/opt/homebrew/include -I/Users/josiahlee/WORK/Tools/root_build_release/ginclude -I/Users/josiahlee/WORK/Tools/root-6.32.04/core/base/inc -I/Users/josiahlee/WORK/Tools/root-6.32.04/core/base/v7/inc -I/Users/josiahlee/WORK/Tools/root-6.32.04/core/clib/inc -I/Users/josiahlee/WORK/Tools/root-6.32.04/core/clingutils/inc -I/Users/josiahlee/WORK/Tools/root-6.32.04/core/clingutils/res -I/Users/josiahlee/WORK/Tools/root-6.32.04/core/cont/inc -I/Users,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/16498:11766,install,install,11766,https://root.cern,https://github.com/root-project/root/issues/16498,1,['install'],['install']
Deployability,"m_atom_add_gen_i(__p, __v);; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:359:10: note: '__nvvm_atom_add_gen_i' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:362:3: error: reference to __device__ function '__nvvm_atom_cta_add_gen_i' in __host__ function; __nvvm_atom_cta_add_gen_i(__p, __v);; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:362:3: note: '__nvvm_atom_cta_add_gen_i' declared here; cling: fatal error: too many errors emitted, stopping now [-ferror-limit=]; cling: In file included from input_line_4:36:; In file included from /opt/spack-modules/linux-ubuntu20.04-skylake_avx512/gcc-9.3.0/gcc-10.2.0-nd7xsa2anuya7be46rjsaxbiobtgguod/lib/gcc/x86_64-pc-linux-gnu/10.2.0/../../../../include/c++/10.2.0/cassert:44:; In file included from /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/assert.h:8:; /usr/include/assert.h:69:13: error: exception specification in declaration does not match previous declaration; extern void __assert_fail (const char *__assertion, const char *__file,; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_runtime_wrapper.h:349:31: note: previous declaration is here; __device__ static inline void __assert_fail(const char *__message,; ^; cling-ptx: Forward declarations from /home/sehrig/workspace/root-project/install/lib/libcomplexDict.rootmap:2:19: error: explicit specialization of undeclared template class 'complex'; template <> class complex<float>;; ^ ~~~~~~~; cling-ptx: Forward declarations from /home/sehrig/workspace/root-project/install/lib/libcomplexDict.rootmap:3:19: error: explicit specialization of non-template class 'complex'; template <> class complex<double>;; ^ ~~~~~~~~; IncrementalCUDADeviceCompiler::declare(); fail",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7518:12608,install,install,12608,https://root.cern,https://github.com/root-project/root/issues/7518,1,['install'],['install']
Deployability,make Release() no-op if parameter is not fixed,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/8175:5,Release,Release,5,https://root.cern,https://github.com/root-project/root/pull/8175,1,['Release'],['Release']
Deployability,make minimal adjustments (for removed headers) to boost modulemap for boost 1.75.0 (+patches for missing includes). Can build boost pcms for same set of packages with boost 1.72 with these updates.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7568:85,patch,patches,85,https://root.cern,https://github.com/root-project/root/pull/7568,2,"['patch', 'update']","['patches', 'updates']"
Deployability,"mal=off"" ""-Dgnuinstall=off"" ""-Dgsl_shared=off"" ""-Dgviz=off"" ""-Dhttp=on"" ""-Dimt=on"" ""-Djemalloc=off"" ""-Dlibcxx=off"" ""-Dmacos_native=off"" ""-Dmathmore=on"" ""-Dmemory_termination=off"" ""-Dminimal=off"" ""-Dmpi=off"" ""-Dmysql=off"" ""-Dodbc=off"" ""-Dopengl=on"" ""-Dpgsql=on"" ""-Dpyroot=on"" ""-Dpythia8=off"" ""-Dqt5web=off"" ""-Dqt6web=off"" ""-Dr=off"" ""-Droofit=on"" ""-Droofit_multiprocess=on"" ""-Droot7=on"" ""-Drootbench=off"" ""-Droottest=on"" ""-Droottest_force_checkout=off"" ""-Drpath=on"" ""-Druntime_cxxmodules=on"" ""-Dshadowpw=off"" ""-Dshared=on"" ""-Dsoversion=off"" ""-Dspectrum=off"" ""-Dsqlite=off"" ""-Dssl=on"" ""-Dtcmalloc=off"" ""-Dtest_distrdf_dask=off"" ""-Dtest_distrdf_pyspark=off"" ""-Dtesting=on"" ""-Dtmva-cpu=on"" ""-Dtmva-gpu=off"" ""-Dtmva-pymva=on"" ""-Dtmva-rmva=off"" ""-Dtmva-sofie=off"" ""-Dtmva=on"" ""-Dunfold=off"" ""-Dunuran=on"" ""-During=off"" ""-Dvc=off"" ""-Dvdt=on"" ""-Dveccore=off"" ""-Dvecgeom=off"" ""-Dwebgui=off"" ""-Dwin_broken_tests=off"" ""-Dwinrtdebug=off"" ""-Dx11=on"" ""-Dxml=on"" ""-Dxrootd=on""; ```. This is the notebook it tries to run:; https://github.com/root-project/roottest/blob/master/python/JupyROOT/Cpp_IMT_Canvas.ipynb. And this is a minimal reproducer if you reverse engineer what the test does:; ```; root@bbb56c35bcff:~/build# jupyter nbconvert --debug --to notebook --ExecutePreprocessor.enabled=True ../roottest/python/JupyROOT/Cpp_IMT_Canvas.ipynb; [...]; [NbConvertApp] Executing cell:; ROOT::EnableImplicitMT();; TCanvas c(""c"", ""c"");; c.Draw();; [NbConvertApp] msg_type: status; [NbConvertApp] content: {'execution_state': 'busy'}; [NbConvertApp] msg_type: execute_input; [NbConvertApp] content: {'code': 'ROOT::EnableImplicitMT();\nTCanvas c(""c"", ""c"");\nc.Draw();', 'execution_count': 1}; ```. You can make it pass by:; - Enabling webgui (it seems to create an image based on the output); - Or by running with `--ExecutePreprocessor.enabled=False`. ### ROOT version. Master. ### Installation method. From source. ### Operating system. registry.cern.ch/root-ci/ubuntu2404-cuda. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/16689:3410,Install,Installation,3410,https://root.cern,https://github.com/root-project/root/issues/16689,1,['Install'],['Installation']
Deployability,"me. . Yet **many application require just a minimal ROOT IO** with saving data to files in ROOT format. Even without reflection, generating dictionaries and etc. - flat root files with `vector<value>` as the max complexity. . ## Describe the solution you'd like. In the ideal world I would be glad to have really modular ROOT build where I could choose that I want to have just a basic IO and get root installation witch is done in minutes and resulting binaries would be just megabytes in size. . ## Describe alternatives you've considered. - Surprisingly one can achieve such behavior with uproot. The only caveat is that you have to call python from C++ which is slow and feels perverse. Still compilation time of the whole python is much less and for sure python is preinstalled on all linux systems. . - Geant4 has some C++ library for writing root files and one even can find it on github ([It is diana_hep. Isn't it?](https://github.com/diana-hep/inexlib_rio)) but it doesn't allow to save something like arrays or something like `vector<double>`. I'm talking about at least some basic IO but not that basic. uproot is a good example. Also there is no documentation, no one touched it in years and I doubt about the code quality (at least I didn't find any tests, user responses etc.). - One can try to minimize root installation by switching off options. But it doesn't affect space and compilation time much. It still hundreds of megabytes (500 something) and takes almost the same time to compile. . ## Additional context. - I'm talking about C++ solution. ; - I know about ROOT team efforts to make root installation more modular. But haven't heard any progress on this and not sure that it is about such level of modularity; - I heard something about using system llvm, but I'm afraid even this wouldn't solve the issue; - Even javascript root can open root files in javascript and I'm surprised it is not possible in C++ without building WHOLE elephant. ; - Pitch phrase ""uproot for c++""",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6471:2203,install,installation,2203,https://root.cern,https://github.com/root-project/root/issues/6471,2,['install'],['installation']
Deployability,me.cxx:137; 3: Taking true branch in /opt/root_src/tmva/tmva/src/Volume.cxx:137; 4: Assuming field 'fLower' is null in /opt/root_src/tmva/tmva/src/Volume.cxx:138; 5: Taking false branch in /opt/root_src/tmva/tmva/src/Volume.cxx:138; 6: Assuming field 'fUpper' is null in /opt/root_src/tmva/tmva/src/Volume.cxx:139; 7: Taking false branch in /opt/root_src/tmva/tmva/src/Volume.cxx:139; 8: Forming reference to null pointer in /opt/root_src/tmva/tmva/src/Volume.cxx:140; /opt/root_src/tmva/tmva/src/Volume.cxx:140:20: warning: Use of memory after it is freed [clang-analyzer-cplusplus.NewDelete]; 1: Assuming V == *this in /opt/root_src/tmva/tmva/src/Volume.cxx:135; 2: Assuming field 'fOwnerShip' is true in /opt/root_src/tmva/tmva/src/Volume.cxx:137; 3: Taking true branch in /opt/root_src/tmva/tmva/src/Volume.cxx:137; 4: Assuming field 'fLower' is non-null in /opt/root_src/tmva/tmva/src/Volume.cxx:138; 5: Taking true branch in /opt/root_src/tmva/tmva/src/Volume.cxx:138; 6: Memory is released in /opt/root_src/tmva/tmva/src/Volume.cxx:138; 7: Assuming field 'fUpper' is null in /opt/root_src/tmva/tmva/src/Volume.cxx:139; 8: Taking false branch in /opt/root_src/tmva/tmva/src/Volume.cxx:139; 9: Use of memory after it is freed in /opt/root_src/tmva/tmva/src/Volume.cxx:140; /opt/root_src/tmva/tmvagui/src/BDT_Reg.cxx:312:4: warning: 6th function call argument is an uninitialized value [clang-analyzer-core.CallAndMessage]; 1: Assuming the condition is false in /opt/root_src/tmva/tmvagui/src/BDT_Reg.cxx:446; 2: Taking false branch in /opt/root_src/tmva/tmvagui/src/BDT_Reg.cxx:446; 3: Assuming the condition is false in /opt/root_src/tmva/tmvagui/src/BDT_Reg.cxx:450; 4: Taking false branch in /opt/root_src/tmva/tmvagui/src/BDT_Reg.cxx:450; 5: Calling 'StatDialogBDTReg::DrawTree' in /opt/root_src/tmva/tmvagui/src/BDT_Reg.cxx:463; 6: 'vars' declared without an initial value in /opt/root_src/tmva/tmvagui/src/BDT_Reg.cxx:294; 7: Calling 'StatDialogBDTReg::ReadTree' in /opt/root_src/tmva/tmvag,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7526:138715,release,released,138715,https://root.cern,https://github.com/root-project/root/issues/7526,1,['release'],['released']
Deployability,"me/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #20 0x00007f174c7d1e54 in clang::Parser::ParseDeclarationOrFunctionDefinition(clang::ParsedAttributesWithRange&, clang::ParsingDeclSpec*, clang::AccessSpecifier) [clone .part.0] () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #21 0x00007f174c7d8830 in clang::Parser::ParseExternalDeclaration(clang::ParsedAttributesWithRange&, clang::ParsingDeclSpec*) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #22 0x00007f174c7d9900 in clang::Parser::ParseTopLevelDecl(clang::OpaquePtr<clang::DeclGroupRef>&, bool) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #23 0x00007f174be0d87a in cling::IncrementalParser::ParseInternal(llvm::StringRef) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #24 0x00007f174be0e9b0 in cling::IncrementalParser::Compile(llvm::StringRef, cling::CompilationOptions const&) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #25 0x00007f174bd71127 in cling::Interpreter::EvaluateInternal(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, cling::CompilationOptions, cling::Value*, cling::Transaction**, unsigned long) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #26 0x00007f174bd7152d in cling::Interpreter::process(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, cling::Value*, cling::Transaction**, bool) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #27 0x00007f174be638ab in cling::MetaProcessor::process(llvm::StringRef, cling::Interpreter::CompilationResult&, cling::Value*, bool) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #28 0x00007f174bc85e4d in HandleInterpreterException (metaProcessor=0x55fecea7b020, input_line",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12673:5460,install,install,5460,https://root.cern,https://github.com/root-project/root/issues/12673,2,['install'],['install']
Deployability,ming the condition is false in /opt/root_src/hist/hist/src/TF1Helper.cxx:66; 7: Taking false branch in /opt/root_src/hist/hist/src/TF1Helper.cxx:66; 8: Assuming 'epsilon' is > 0 in /opt/root_src/hist/hist/src/TF1Helper.cxx:111; 9: Taking false branch in /opt/root_src/hist/hist/src/TF1Helper.cxx:111; 10: Assuming 'i' is < 'npar' in /opt/root_src/hist/hist/src/TF1Helper.cxx:114; 11: Loop condition is true. Entering loop body in /opt/root_src/hist/hist/src/TF1Helper.cxx:114; 12: Assuming the condition is true in /opt/root_src/hist/hist/src/TF1Helper.cxx:124; 13: Taking true branch in /opt/root_src/hist/hist/src/TF1Helper.cxx:124; 14: Calling constructor for 'TF1' in /opt/root_src/hist/hist/src/TF1Helper.cxx:125; 15: Calling constructor for 'TF1' in /opt/root_src/hist/hist/inc/TF1.h:373; 16: Calling constructor for 'TNamed' in /opt/root_src/hist/hist/inc/TF1.h:274; 17: Calling default constructor for 'TObject' in /opt/root_src/core/base/inc/TNamed.h:37; 18: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 19: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 20: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Assuming 'c' is non-null in /opt/root_src/gui/webgui6/src/TWebCanvas.cxx:1186; 2: Taking false branch in /opt/root_src/gui/webgui6/src/TWebCanvas.cxx:1186; 3: Calling constructor for 'TCanvasWebSnapshot' in /opt/root_src/gui/webgui6/src/TWebCanvas.cxx:1195; 4: Calling default constructor for 'TPadWebSnapshot' in /opt/root_src/gui/webgui6/inc/TWebSnapshot.h:93; 5: Calling implicit default constructor for 'TWebSnapshot' in /opt/root_src/gui/webgui6/inc/TWebSnapshot.h:66; 6: Calling default constructor for 'TObject' in /opt/root_src/gui/webgui6/inc/TWebSnapshot.h:66; 7: Calling 'TStorage::UpdateIsOnHeap' ,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:19053,Update,UpdateIsOnHeap,19053,https://root.cern,https://github.com/root-project/root/issues/7412,1,['Update'],['UpdateIsOnHeap']
Deployability,minor typo errors solved... # This Pull request:. ## Changes or fixes:. ## Checklist:. - [ ] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14206:123,update,updated,123,https://root.cern,https://github.com/root-project/root/pull/14206,1,['update'],['updated']
Deployability,"mitTransaction (this=0x4a2980, PRT=..., ClearDiagClient=true) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/interpreter/cling/lib/Interpreter/IncrementalParser.cpp:532; #24 0x00007fffeed06399 in cling::IncrementalParser::Compile (this=0x4a2980, input=..., Opts=...) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/interpreter/cling/lib/Interpreter/IncrementalParser.cpp:663; #25 0x00007fffeebcbc4e in cling::Interpreter::DeclareInternal (this=0x4a0f30, input=..., CO=..., T=0x7fffffffd680) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/interpreter/cling/lib/Interpreter/Interpreter.cpp:1195; #26 0x00007fffeebca8e8 in cling::Interpreter::declare (this=0x4a0f30, input=..., T=0x7fffffffd680) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/interpreter/cling/lib/Interpreter/Interpreter.cpp:823; #27 0x00007fffeebcb560 in cling::Interpreter::DeclareCFunction (this=0x4a0f30, name=..., code=..., withAccessControl=true) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/interpreter/cling/lib/Interpreter/Interpreter.cpp:1096; #28 0x00007fffeebcb862 in cling::Interpreter::compileFunction (this=0x4a0f30, name=..., code=..., ifUnique=false, withAccessControl=true); at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/interpreter/cling/lib/Interpreter/Interpreter.cpp:1140; #29 0x00007fffeeafb83c in TClingCallFunc::compile_wrapper (withAccessControl=true, wrapper=..., wrapper_name=..., this=0xcf3c10) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/metacling/src/TClingCallFunc.cxx:270; #30 TClingCallFunc::make_wrapper (this=this@entry=0xcf3c10) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/metacling/src/TClingCallFunc.cxx:1096; #31 0x00007fffeeafbcb8 in TClingCallFunc::IFacePtr (this=this@entry=0xcf3c10) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/metacling/src/TClingCallFunc.cxx:2233; #32 0x00007fffeeafbe83 in TClingCallFunc::ExecT<long> (address=0x0, this=0xcf3c10) at /local2/pcanal",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2776:8077,patch,patches,8077,https://root.cern,https://github.com/root-project/root/pull/2776,2,['patch'],['patches']
Deployability,"mldoc"" ""-P"" ""C:/Users/bellenot/build/release/RootTestDriver.cmake""; 993: Environment variables:; 993: ROOT_HIST=0; 993: Test timeout computed to be: 1500; 993: input_line_35:10:7: warning: ignoring return value of function declared with 'nodiscard' attribute [-Wunused-result]; 993: ((const shared_ptr<ROOT::Experimental::RCanvas>*)obj)->operator-><ROOT::Experimental::RCanvas, 0>();; 993: ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~; 993: input_line_39:10:7: warning: ignoring return value of function declared with 'nodiscard' attribute [-Wunused-result]; 993: ((const shared_ptr<ROOT::Experimental::RBox>*)obj)->operator-><ROOT::Experimental::RBox, 0>();; 993: ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~; 993: Traceback (most recent call last):; 993: File ""C:\Users\bellenot\git\master\tutorials\launcher.py"", line 34, in <module>; 993: spec.loader.exec_module(module); 993: File ""<frozen importlib._bootstrap_external>"", line 850, in exec_module; 993: File ""<frozen importlib._bootstrap>"", line 228, in _call_with_frames_removed; 993: File ""C:/Users/bellenot/git/master/tutorials/rcanvas/rbox.py"", line 24, in <module>; 993: box1.border.color = RColor.kBlue; 993: AttributeError: <class cppyy.gbl.ROOT.Experimental.RColor at 0x12092B98> has no attribute 'kBlue'. Full details:; 993: attribute access requires an instance; 993: 'ROOT::Experimental::RColor::kBlue' is not a known C++ class; 993: 'kBlue' is not a known C++ template; 993: 'kBlue' is not a known C++ enum; 993: CMake Error at C:/Users/bellenot/build/release/RootTestDriver.cmake:227 (message):; 993: error code: 1; 993:; 993:; 1/1 Test #993: tutorial-rcanvas-rbox-py .........***Failed 3.69 sec. 0% tests passed, 1 tests failed out of 1. Label Time Summary:; tutorial = 3.69 sec*proc (1 test). Total Test time (real) = 6.60 sec. The following tests FAILED:; 993 - tutorial-rcanvas-rbox-py (Failed); Errors while running CTest; ```",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9035:2137,release,release,2137,https://root.cern,https://github.com/root-project/root/pull/9035,1,['release'],['release']
Deployability,"mnRepresentations(const TypesList_t &serializationTypes, const TypesList_t &deserializationExtraTypes);; | ~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~; /opt/root/install/include/ROOT/RField.hxx:110:7: note: candidate: ‘ROOT::Experimental::Detail::RFieldBase::RColumnRepresentations::RColumnRepresentations()’; 110 | RColumnRepresentations();; | ^~~~~~~~~~~~~~~~~~~~~~; /opt/root/install/include/ROOT/RField.hxx:110:7: note: candidate expects 0 arguments, 2 provided; /opt/root/install/include/ROOT/RField.hxx:107:10: note: candidate: ‘ROOT::Experimental::Detail::RFieldBase::RColumnRepresentations::RColumnRepresentations(const ROOT::Experimental::Detail::RFieldBase::RColumnRepresentations&)’; 107 | class RColumnRepresentations {; | ^~~~~~~~~~~~~~~~~~~~~~; /opt/root/install/include/ROOT/RField.hxx:107:10: note: candidate expects 1 argument, 2 provided; /opt/root/install/include/ROOT/RField.hxx:107:10: note: candidate: ‘ROOT::Experimental::Detail::RFieldBase::RColumnRepresentations::RColumnRepresentations(ROOT::Experimental::Detail::RFieldBase::RColumnRepresentations&&)’; /opt/root/install/include/ROOT/RField.hxx:107:10: note: candidate expects 1 argument, 2 provided; make[2]: *** [tree/dataframe/CMakeFiles/ROOTDataFrame.dir/build.make:524: tree/dataframe/CMakeFiles/ROOTDataFrame.dir/src/RNTupleDS.cxx.o] Error 1; make[1]: *** [CMakeFiles/Makefile2:36193: tree/dataframe/CMakeFiles/ROOTDataFrame.dir/all] Error 2; ```. No header inclusion helped; it's really strange why 32 bit fields from the very same structure (enumeration) are visible, and 64 are not...; Had to comment out . > // {EColumnType::kSplitIndex64}, {EColumnType::kIndex64},. ### Reproducer. Clone ROOT repository, go to the build directory,. cmake -DCMAKE_CXX_COMPILER_LAUNCHER=ccache -DCMAKE_INSTALL_PREFIX=../install ../src; cmake --build . -- install -j4. ### ROOT version. Most recent ROOT version from the master branch at that time. commit https://github.com/root-project/root/commit/870618f1bfa43376c73bc07fa4becc0a54caa9",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13103:3043,install,install,3043,https://root.cern,https://github.com/root-project/root/issues/13103,1,['install'],['install']
Deployability,"modifies the logic of `TFile.cxx` such that the underlying path is explicitly created. It works only if `TFile.cxx` is compiled with the C++17 standard, otherwise the relevant code is excluded by the means of the preprocessor. ## Checklist:. - [x] tested changes locally; - [ ] updated the docs (if necessary). ## Quick test; I prepared a small program in C++ (requires C++17) to quickly test the pull request (see at the bottom of the message). In log, with the patched ROOT version the output looks like thit:; ```; Attempt to (re)createa/b/c/test.root; Ok.; ```; while with the ROOT version 6.28 the output looks like this:; ```; Attempt to (re)createa/b/c/test.root; SysError in <TFile::TFile>: file XXXXXX/ftest/XXYqNIoC/a/b/c/test.root can not be opened No such file or directory; Fail.; ```. The program:; ```c++; #include ""TFile.h""; #include <filesystem>; #include <cstdlib>; #include <iostream>; namespace fs = std::filesystem;. char tmpname[] = ""XXXXXXXX"";. char E[] = ""test.root"";; char F[] = ""a/b/c/test.root"";; char H[] = ""a/b/d/atest.root"";. void ok(char *fname); {; if (fs::exists(fs::path(fname))); std::cout << ""Ok."" << std::endl;; else; std::cout << ""Fail."" << std::endl;; }. int main(); {; char *tmpnm = mkdtemp(tmpname);; if (tmpnm == NULL) {; std::cout << ""Error while creating tmp dir"" << std::endl;; return -1;; }; const auto tmp = fs::path(tmpnm);; const auto prev = fs::current_path();. fs::current_path(tmp);; std::cout << ""Attempt to (re)create"" << E << std::endl;; TFile e(E, ""recreate""); e.Close(); ok(E);; std::cout << ""Attempt to (re)create"" << F << std::endl;; TFile f(F, ""recreate""); f.Close(); ok(F);; std::cout << ""Attempt to open"" << F << std::endl;; TFile g(F); g.Close(); ok(F);; std::cout << ""Attempt to open"" << H << std::endl;; TFile h(H); h.Close(); ok(H);. std::cout << ""List temporary directory tree:"" << std::endl;; std::system(""tree"");. fs::current_path(prev);; fs::remove_all(tmp);; if (not fs::exists(tmp)); std::cout << ""Temporary directory deleted"" <<",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15141:1253,a/b,a/b,1253,https://root.cern,https://github.com/root-project/root/pull/15141,1,['a/b'],['a/b']
Deployability,modules_idx_deps CMakeCache.txt variable grows boundless (and does not update properly for module that are turned off),MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10510:71,update,update,71,https://root.cern,https://github.com/root-project/root/issues/10510,1,['update'],['update']
Deployability,"mported from /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/RuntimeUniverse.h:27:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Visibility.h:13:10: note: submodule of top-level module 'std' implicitly imported here; #include <new>; ^; While building module 'Core':; While building module 'Cling_Runtime' imported from input_line_2:1:; While building module 'Cling_Runtime_Extra' imported from /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/RuntimeUniverse.h:27:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:17:10: note: submodule of top-level module 'std' implicitly imported here; #include <type_traits>; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:93:41: error: use of undeclared identifier 'std'; template <class T, class = typename std::enable_if<std::is_integral<T>::value>::type>; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:93:56: error: use of undeclared identifier 'std'; template <class T, class = typename std::enable_if<std::is_integral<T>::value>::type>; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:93:83: error: expected ',' or '>' in template-parameter-list; template <class T, class = typename std::enable_if<std::is_integral<T>::value>::type>; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:95:14: error: use of undeclared identifier 'std'; return std::is_signed<T>::value; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:94:35: error: no return statement in constexpr function; static constexpr ESto",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10528:16917,Install,Installed,16917,https://root.cern,https://github.com/root-project/root/issues/10528,1,['Install'],['Installed']
Deployability,"ms (not macOS), this makes the MPFE based parallelization a lot faster by pinning processes to physical CPU cores.; 3. To accomodate the new minimization frameworks, RooMinimizer was changed quite a bit as well. It is still backwards compatible, but the new functionality can be accessed through a new `create` template factory function. This template function allows users to pass in their own calculation back-ends, e.g. for calculating on GPUs or in autograd enabled frameworks. The commit history also contains the proof of concept version, the benchmark results of which were presented at [ACAT19](https://indico.cern.ch/event/708041/contributions/3276177/) and [CHEP19](https://doi.org/10.1051/epjconf/202024506027) (and [preliminary results at the 2018 ROOT Users workshop in Sarajevo](https://indico.cern.ch/event/697389/contributions/3062028/)). That version was redesigned starting from 2019 to better integrate with the rest of the code and at the same time untangle the test statistics classes to conceptually bring them closer to the math, instead of the more implementation-detail oriented existing design (RooAbsTestStatistic et al.). The new packages include the following tests, which should probably still be added to the testing infrastructure somehow:. 1. MultiProcess:; 1. test_RooFitMultiProcess_Messenger; 2. test_RooFitMultiProcess_ProcessManager; 3. test_RooFitMultiProcess_Job; 2. TestStatistics:; 1. testLikelihoodGradientJob; 2. testLikelihoodSerial; 3. testRooRealL; 3. RooFitZMQ:; 1. test_RooFitZMQ; 2. test_RooFitZMQ_polling; 3. test_RooFitZMQ_HWM; 4. test_RooFitZMQ_load_balancing; 4. RooFitCore:; 1. testRooGradMinimizer; 2. testBidirMMapPipe; 3. testMPFEnll. From my side (and that of the NL eScience Center), the project has ended and time has run out to make any further major contributions to it, except, of course finishing this PR and providing help to get it working and to possibly hand over further development :). Here are some notes for possible future work",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/8294:3703,integrat,integrate,3703,https://root.cern,https://github.com/root-project/root/pull/8294,1,['integrat'],['integrate']
Deployability,"ms); [ RUN ] RNTuple.UnsupportedStdTypes; [ OK ] RNTuple.UnsupportedStdTypes (3 ms); [ RUN ] RNTuple.Casting; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RPageStorageFile.cxx:51 in ROOT::Experimental::Detail::RPageSinkFile::RPageSinkFile(std::string_view, const ROOT::Experimental::RNTupleWriteOptions&)>: The RNTuple file format will change. Do not store real data with this version of RNTuple!; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experimental::Internal::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNTupleDescriptorBuilder&)>: Pre-release format version: RC 1; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experimental::Internal::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNTupleDescriptorBuilder&)>: Pre-release format version: RC 1; [ OK ] RNTuple.Casting (12 ms); [ RUN ] RNTuple.TClass; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RPageStorageFile.cxx:51 in ROOT::Experimental::Detail::RPageSinkFile::RPageSinkFile(std::string_view, const ROOT::Experimental::RNTupleWriteOptions&)>: The RNTuple file format will change. Do not store real data with this version of RNTuple!; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experimental::Internal::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNTupleDescriptorBuilder&)>: Pre-release format version: RC 1; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experiment",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12428:4595,release,release,4595,https://root.cern,https://github.com/root-project/root/issues/12428,1,['release'],['release']
Deployability,"ms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #14 0x00002b8fcf5e98cb in clang::Parser::ParseFunctionDefinition(clang::ParsingDeclarator&, clang::Parser::ParsedTemplateInfo const&, clang::Parser::LateParsedAttrList*) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #15 0x00002b8fcf566f2e in clang::Parser::ParseDeclGroup(clang::ParsingDeclSpec&, unsigned int, clang::SourceLocation*, clang::Parser::ForRangeInit*) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #16 0x00002b8fcf5e5fa1 in clang::Parser::ParseDeclOrFunctionDefInternal(clang::Parser::ParsedAttributesWithRange&, clang::ParsingDeclSpec&, clang::AccessSpecifier) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #17 0x00002b8fcf5ec950 in clang::Parser::ParseExternalDeclaration(clang::Parser::ParsedAttributesWithRange&, clang::ParsingDeclSpec*) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #18 0x00002b8fcf57b004 in clang::Parser::ParseLinkage(clang::ParsingDeclSpec&, unsigned int) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #19 0x00002b8fcf5e611e in clang::Parser::ParseDeclOrFunctionDefInternal(clang::Parser::ParsedAttributesWithRange&, clang::ParsingDeclSpec&, clang::AccessSpecifier) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #20 0x00002b8fcf5e64b1 in clang::Parser::ParseDeclarationOrFunctionDefinition(clang::Parser::Parsed",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7093:7312,patch,patch,7312,https://root.cern,https://github.com/root-project/root/issues/7093,1,['patch'],['patch']
Deployability,ms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/wctype.h:31:; While building module '__wctype' imported from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX15.0.sdk/usr/include/_wctype.h:36:; In file included from <module-includes>:1:; /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX15.0.sdk/usr/include/___wctype.h:72:10: fatal error: cyclic dependency in module 'std': std -> _wctype -> __wctype -> std; #include <ctype.h>; ^; /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX15.0.sdk/usr/include/_wctype.h:36:10: fatal error: could not build module '__wctype'; #include <_types/_wctrans_t.h>; ~~~~~~~~^; While building module 'Core':; While building module 'std' imported from input_line_1:1:; In file included from <module-includes>:1:; In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX15.0.sdk/usr/include/c++/v1/algorithm:1804:; In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX15.0.sdk/usr/include/c++/v1/__algorithm/find.h:31:; In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX15.0.sdk/usr/include/c++/v1/cwchar:112:; In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX15.0.sdk/usr/include/c++/v1/cwctype:56:; In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX15.0.sdk/usr/include/c++/v1/wctype.h:68:; /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/wctype.h:31:10: fatal error: could not build module '_wctype'; #include <_wctype.h>; ~~~~~~~~^. ### ROOT version. v6.32.04. ### Installation method. build from source. ### Operating system. Mac OS. ### Additional context. _No response_,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/16486:4357,Install,Installation,4357,https://root.cern,https://github.com/root-project/root/issues/16486,1,['Install'],['Installation']
Deployability,"n /build/vvassilev/root-release-master/lib/libCling.so); ==22765== by 0x93F35A1: (anonymous namespace)::ConstantFoldInstOperandsImpl(llvm::Value const*, unsigned int, llvm::ArrayRef<llvm::Constant*>, llvm::DataLayout const&, llvm::TargetLibraryInfo const*) (in /build/vvassilev/root-release-master/lib/libCling.so); ==22765== by 0x93F15DF: (anonymous namespace)::ConstantFoldConstantImpl(llvm::Constant const*, llvm::DataLayout const&, llvm::TargetLibraryInfo const*, llvm::SmallDenseMap<llvm::Constant*, llvm::Constant*, 4u, llvm::DenseMapInfo<llvm::Constant*>, llvm::detail::DenseMapPair<llvm::Constant*, llvm::Constant*> >&) (in /build/vvassilev/root-release-master/lib/libCling.so); ==22765== by 0x93F38B7: llvm::ConstantFoldInstruction(llvm::Instruction*, llvm::DataLayout const&, llvm::TargetLibraryInfo const*) (in /build/vvassilev/root-release-master/lib/libCling.so); ==22765== by 0x91305C5: AddReachableCodeToWorklist(llvm::BasicBlock*, llvm::DataLayout const&, llvm::SmallPtrSetImpl<llvm::BasicBlock*>&, llvm::InstCombineWorklist&, llvm::TargetLibraryInfo const*) (in /build/vvassilev/root-release-master/lib/libCling.so); ==22765== by 0x9139861: combineInstructionsOverFunction(llvm::Function&, llvm::InstCombineWorklist&, llvm::AAResults*, llvm::AssumptionCache&, llvm::TargetLibraryInfo&, llvm::DominatorTree&, llvm::OptimizationRemarkEmitter&, llvm::BlockFrequencyInfo*, llvm::ProfileSummaryInfo*, bool, llvm::LoopInfo*) (in /build/vvassilev/root-release-master/lib/libCling.so); ==22765== by 0x913A00E: llvm::InstructionCombiningPass::runOnFunction(llvm::Function&) (in /build/vvassilev/root-release-master/lib/libCling.so); ==22765== by 0x9E4CCC7: llvm::FPPassManager::runOnFunction(llvm::Function&) (in /build/vvassilev/root-release-master/lib/libCling.so); ==22765== by 0x9E4CE00: llvm::FPPassManager::runOnModule(llvm::Module&) (in /build/vvassilev/root-release-master/lib/libCling.so); ==22765== by 0x9E4BEE5: llvm::legacy::PassManagerImpl::run(llvm::Module&) (in /build/vvassilev",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11385:3488,release,release-master,3488,https://root.cern,https://github.com/root-project/root/issues/11385,1,['release'],['release-master']
Deployability,n /opt/root_src/core/base/inc/TStorage.h:132; 8: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Assuming the condition is false in /opt/root_src/math/matrix/src/TMatrixTUtils.cxx:1306; 2: Left side of '||' is false in /opt/root_src/math/matrix/src/TMatrixTUtils.cxx:1306; 3: Assuming the condition is false in /opt/root_src/math/matrix/src/TMatrixTUtils.cxx:1306; 4: Taking false branch in /opt/root_src/math/matrix/src/TMatrixTUtils.cxx:1306; 5: Calling default constructor for 'TMatrixTSym<double>' in /opt/root_src/math/matrix/src/TMatrixTUtils.cxx:1313; 6: Calling default constructor for 'TMatrixTBase<double>' in /opt/root_src/math/matrix/inc/TMatrixTSym.h:54; 7: Calling default constructor for 'TObject' in /opt/root_src/math/matrix/inc/TMatrixTBase.h:115; 8: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 9: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 10: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Assuming 'i' is < field 'fNt' in /opt/root_src/math/physics/src/TGenPhaseSpace.cxx:65; 2: Loop condition is true. Entering loop body in /opt/root_src/math/physics/src/TGenPhaseSpace.cxx:65; 3: Calling copy assignment operator for 'TLorentzVector' in /opt/root_src/math/physics/src/TGenPhaseSpace.cxx:67; 4: Calling 'TLorentzVector::Vect' in /opt/root_src/math/physics/inc/TLorentzVector.h:367; 5: Calling copy constructor for 'TVector3' in /opt/root_src/math/physics/inc/TLorentzVector.h:294; 6: Calling copy constructor for 'TObject' in /opt/root_src/math/physics/inc/TVector3.h:250; 7: Calling 'TStorage::Upd,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:42533,Update,UpdateIsOnHeap,42533,https://root.cern,https://github.com/root-project/root/issues/7412,1,['Update'],['UpdateIsOnHeap']
Deployability,n /opt/root_src/gui/gui/src/TGClient.cxx:651; 4: Taking false branch in /opt/root_src/gui/gui/src/TGClient.cxx:651; 5: Assuming the condition is true in /opt/root_src/gui/gui/src/TGClient.cxx:652; 6: expanded from macro 'gVirtualX' in /opt/root_src/core/base/inc/TVirtualX.h:338; 7: Taking true branch in /opt/root_src/gui/gui/src/TGClient.cxx:652; 8: Assuming 'kNone' is not equal to field 'fWaitForWindow' in /opt/root_src/gui/gui/src/TGClient.cxx:654; 9: Taking false branch in /opt/root_src/gui/gui/src/TGClient.cxx:654; 10: Calling 'TGClient::HandleMaskEvent' in /opt/root_src/gui/gui/src/TGClient.cxx:660; 11: Calling 'TGClient::GetWindowById' in /opt/root_src/gui/gui/src/TGClient.cxx:861; 12: Calling constructor for 'TGWindow' in /opt/root_src/gui/gui/src/TGClient.cxx:597; 13: Calling default constructor for 'TGObject' in /opt/root_src/gui/gui/inc/TGWindow.h:42; 14: Calling default constructor for 'TObject' in /opt/root_src/gui/gui/inc/TGObject.h:44; 15: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 16: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 17: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Calling constructor for 'TGRegion' in /opt/root_src/gui/gui/src/TGImageMap.cxx:211; 2: Calling default constructor for 'TObject' in /opt/root_src/gui/gui/src/TGImageMap.cxx:87; 3: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 4: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 5: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Assuming,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:16663,Update,UpdateIsOnHeap,16663,https://root.cern,https://github.com/root-project/root/issues/7412,1,['Update'],['UpdateIsOnHeap']
Deployability,"n ROOT then please submit a; report at https://root.cern/bugs Please post the ENTIRE stack trace; from above as an attachment in addition to anything else; that might help us fixing this issue.; ===========================================================; #7 0x00007f174bc8faac in TCling__GetObjectDecl (obj=0x55fed02b7470) at ../core/metacling/src/TCling.cxx:603; #8 0x00007f174bce6d72 in TClingCallbacks::tryFindROOTSpecialInternal (this=this; entry=0x55fece888730, R=..., S=S; entry=0x55fecdea0250) at ../core/metacling/src/TClingCallbacks.cxx:772; #9 0x00007f174bce8e51 in TClingCallbacks::LookupObject (this=0x55fece888730, R=..., S=0x55fecdea0250) at ../core/metacling/src/TClingCallbacks.cxx:402; #10 0x00007f174bd7939f in cling::MultiplexInterpreterCallbacks::LookupObject(clang::LookupResult&, clang::Scope*) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #11 0x00007f174c94bf1c in clang::MultiplexExternalSemaSource::LookupUnqualified(clang::LookupResult&, clang::Scope*) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #12 0x00007f174cb36a92 in clang::Sema::ClassifyName(clang::Scope*, clang::CXXScopeSpec&, clang::IdentifierInfo*&, clang::SourceLocation, clang::Token const&, clang::CorrectionCandidateCallback*) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #13 0x00007f174c7d02fe in clang::Parser::TryAnnotateName(clang::CorrectionCandidateCallback*) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #14 0x00007f174c79f729 in clang::Parser::ParseStatementOrDeclarationAfterAttributes(llvm::SmallVector<clang::Stmt*, 32u>&, clang::Parser::ParsedStmtContext, clang::SourceLocation*, clang::ParsedAttributesWithRange&) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #15 0x00007f174c79fab4 in clang::Parser::ParseStatementOrDeclaration(llvm::SmallVector<clang::Stmt*, 32u>&, clang::Parser::ParsedStmtCo",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12673:9407,install,install,9407,https://root.cern,https://github.com/root-project/root/issues/12673,1,['install'],['install']
Deployability,"n [5]: binning.GetNBins(); Out [5]: 1001; In [6]: binning.FindBin(array.array(""d"", (1.2, 0.5, 0.5, 0.5, 0.5))); Out [6]: 1004; In [7]: binning.GetBinContent(1004); TKDTreeBinning::GetBinContent:0: RuntimeWarning: No such bin. Returning 0.; Info in <TKDTreeBinning::GetBinContent>: 'bin' is between 0 and 1001.; Out [7]: 0; ```; The specified coordinates should be well within the binning range - if I understand the method correctly, the binning range is a hyper-rectangle that envelops all the data points, correct?; ```; In [15]: for i in range(5):; ...: print(f""Dim {i} - min:{binning.GetDataMin(i)}, max: {binning.GetDataMax(i)}""); ...:; Dim 0 - min:0.9872230887413025, max: 1.5643738508224487; Dim 1 - min:0.279508501291275, max: 0.8602268695831299; Dim 2 - min:-0.9999595284461975, max: 0.9999838471412659; Dim 3 - min:-0.9999908804893494, max: 0.9998750686645508; Dim 4 - min:-1.0, max: 1.0000001192092896; ```. ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->; `FindBin()` should return a value within [0, `binning.GetNBins()` - 1]. ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->; - Download the ROOT file with the binning from [CERNBox](https://cernbox.cern.ch/index.php/s/86ZPwwpEStaiIdS); - Run the following in Python; ```python; import array; import ROOT; file = ROOT.TFile(""binning.root""); binning = file.Get(""TKDTreeBinning""); binning.FindBin(array.array(""d"", (1.2, 0.5, 0.5, 0.5, 0.5))); binning.GetBinContent(1004); ```. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->; ROOT 6.26/02; macOS 12.3.1; Homebrew install. ### Additional context; <!--; Add any other context about the problem here.; -->",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10784:2389,install,install,2389,https://root.cern,https://github.com/root-project/root/issues/10784,2,['install'],['install']
Deployability,"n bindings. https://github.com/root-project/root/blob/a940bdbc40d9a0cdac8975c287e1cb7ada0d0c65/builtins/xrootd/CMakeLists.txt#L43. given 2c23502137acd9276fc21da300ab3d562278d57f (from @peremato in 2015). I am unclear on the specifics of explicitly disabling the Python bindings from being built as there is no associated PR for the commit. If there is not a modern reason for this to stay disabled (my assumption is that there is and I am missing it), updating to XRootD `v5.4.1` would allow for the Python bindings to be optionally enabled and to be build safely with the improvements to the Python bindings build process (and also bring along new features and bug fixes). If there are reasons to keep XRootD below `v5.4.X` then this Issue can get closed. ### Optional: share how it could be improved; <!--; If you already have an idea what we could improve, then please tell us.; -->. Make a PR similar to PR #7335 that would update the builtin to XRootD [`v5.4.1`](https://github.com/xrootd/xrootd/releases/tag/v5.4.1). ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code: build it / `root myMacro.C` / ...; -->. There isn't a bug explicitly here, but for a discussion on the Python 3 binding and modern `setuptools` issue that was resolved in XRootD `v5.4.1` see the links in additional context. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->. Not relevant for this issue, but all instances related to the XRootD issues were tested in ROOT `v6.24/06`. ### Additional context; <!--; Add any other context about the problem here.; -->. * https://github.com/xrootd/xrootd/issues/1579; * https://gitlab.cern.ch/atlas-amglab/atlstats/-/merge_requests/58; * https://gitlab.cern.ch/atlas-amglab/atlstats/-/merge_requests",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/9967:1999,release,releases,1999,https://root.cern,https://github.com/root-project/root/issues/9967,1,['release'],['releases']
Deployability,"n file included from /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_runtime_wrapper.h:148:; /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:71:10: error: reference to __device__ function '__nvvm_atom_add_gen_d' in __host__ function; return __nvvm_atom_add_gen_d(__p, __v);; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:71:10: note: '__nvvm_atom_add_gen_d' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:74:10: error: reference to __device__ function '__nvvm_atom_cta_add_gen_d' in __host__ function; return __nvvm_atom_cta_add_gen_d(__p, __v);; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:74:10: note: '__nvvm_atom_cta_add_gen_d' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:77:10: error: reference to __device__ function '__nvvm_atom_sys_add_gen_d' in __host__ function; return __nvvm_atom_sys_add_gen_d(__p, __v);; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:77:10: note: '__nvvm_atom_sys_add_gen_d' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:192:18: error: static declaration of '__exp10f' follows non-static declaration; __DEVICE__ float __exp10f(float __a) { return __nv_fast_exp10f(__a); }; ^; cling: /usr/include/x86_64-linux-gnu/bits/mathcalls.h:114:1: note: previous declaration is here; __MATHCALL (exp10,, (_Mdouble_ __x));; ^; /usr/include/math.h:273:3: note: expanded from macro '__MATHCALL'; __MATHDECL (_Mdouble_,function,suffix, args); ^; /usr/include/math.h:276:3: note: expanded f",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7518:4304,install,install,4304,https://root.cern,https://github.com/root-project/root/issues/7518,1,['install'],['install']
Deployability,"n help me with:. 1. I have a Kahan summation helper class. This should probably be replaced with the new Kahan summation class in ROOT itself, but I didn't get to this yet. Maybe it is not urgent to do now, up for discussion.; 2. `likelihood_builders.cxx` is still missing the top level entry point function. This should be quite a simple function: it should just check whether the pdf is binned, unbinned or sum and has subsidiary terms. All the building blocks are already present, so it is just a matter of building it, but didn't get to it yet.; 3. `optional_parameter_types.h`: maybe we could replace this with @guitargeek's new configuration structs.; 4. `testRooRealL.getValRooAddition` fails because it doesn't know `RooFormulaVar`... I'm not sure what this means, but I vaguely remember that (I think) @hageboeck and @cburgard were talking about this, so I was hoping you may be able to help me out with fixing that test. Finally, one thing that in an ideal world I would have liked to do is add a serial implementation of the `LikelihoodGradientWrapper` class. Probably, we can reuse a lot of `RooGradMinimizerFcn` for this and it should be rather straightforward. However, I'm rather short on time right now, and these things almost always tend to take longer than one expects, so I'm hesitant to build it now. The **advantage** would be that we could add a test to this PR that covers all that is added, basically by just running a minimization. Note that I do have such a full-coverage test, but only for the `MultiProcess` minimization, where I implemented `LikelihoodGradientWrapper` in the parallel `LikelihoodGradientJob` class. So this test will come in [""PR 7"" (see overview)](https://whimsical.com/roofit-multiprocess-teststatistics-pr-dependencies-QP47k9PyS24VuboQUP5W6P). So, up for discussion, two choices: **A:** add ""`LikelihoodGradientSerial`"" class (based on `RooGradMinimizerFcn`) so we can add an integration test in this PR; **B:** wait for the integration test in PR 7.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/8700:3350,integrat,integration,3350,https://root.cern,https://github.com/root-project/root/pull/8700,2,['integrat'],['integration']
Deployability,"n see that the TGeoMixture is supposed to contain fNelements=4 elements, and the last one is 0x0 hence the segfault when invoking A(). Digging further, I can see that the material is defined in DD4hep compact as:. ```; <!-- ### Pipe Supports Sintimid ### -->; <material name =""Pipe:Sintimid"">; <D type=""density"" value=""1.43"" unit=""g/cm3""/>; <composite ref=""C"" n=""18""/>; <composite ref=""O"" n=""5""/>; <composite ref=""N"" n=""2""/>; </material>. <!--### Pipe Supports Sintimid15G ###-->; <material name =""Pipe:Sintimid15G"">; <D type=""density"" value=""1.42"" unit=""g/cm3""/>; <fraction ref=""Pipe:Sintimid"" n=""0.85""/>; <fraction ref=""C"" n=""0.15""/>; </material>; ```; where the second mixture is a mixture of the first mixture and an element already present. ### Expected behavior; No segfault. ### To Reproduce. I have tried to reproduce the behaviour in a simple root macro:; ```; void test_mixture(); {; TGeoManager *geom = new TGeoManager("""","""");; TGeoElementTable *table = gGeoManager->GetElementTable();; TGeoElement *c = table->GetElement(6);; TGeoElement *n = table->GetElement(7);; TGeoElement *o = table->GetElement(8);; . TGeoMixture *mix = new TGeoMixture(""Pipe:Sintimid"", 3, 1.43);; double cc = 18 * c->A();; double cn = 2 * n->A();; double co = 5 * o->A();; double total = cc + cn + co;; mix->AddElement(c, cc/total);; mix->AddElement(n, cn/total);; mix->AddElement(o, co/total);; mix->Print();. TGeoMixture *mix2 = new TGeoMixture(""Pipe:Sintimid15G"", 2, 1.42);; mix2->AddElement(mix, 0.85);; mix2->AddElement(c, 0.15);; mix2->Print();; std::cout << ""Number of elements:"" << mix2->GetNelements() << '\n';; for(int i=0; i< mix2->GetNelements(); i++) {; std::cout << ""Element "" << i << "": "" << mix2->GetElement(i)->GetName() << '\n'; ; }; mix2->ComputeDerivedQuantities();; }; ``` ; reproduces the segfault with v6-26-00-patches, whereas 6.24.06 runs fine. ### Setup; 1. ROOT v6-26-00-patches from SFT nightlies: (/cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Mon/ROOT/v6-26-00-patches/); 2. centos7",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11272:2890,patch,patches,2890,https://root.cern,https://github.com/root-project/root/issues/11272,3,['patch'],['patches']
Deployability,"n the past few days, we've been seeing a new dictionary-related crash; in the atlas builds using root-6.24.00-patches. I apologize that i don't have a standalone reproducer for this, but it; can be reproduced readily on lxplus in a recent atlas nightly:. ```; $ asetup master--dev4LCG,Athena,r2021-03-21; $ python; >>> import ROOT; >>> cl1 = ROOT.TClass.GetClass('LArAutoCorrMC'); *** Break *** segmentation violation; ...; ```. Note that the problem does _not_ occur if run against the dbg root libraries. Here is the stack trace:. ```; #0 0x00007fffefb5d19f in TCling::RegisterModule(char const*, char const**, char const**, char const*, char const*, void (*)(), std::vector<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, int>, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, int> > > const&, char const**, bool, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCling.so; #1 0x00007ffff551ec61 in TROOT::RegisterModule(char const*, char const**, char const**, char const*, char const*, void (*)(), std::vector<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, int>, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, int> > > const&, char const**, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #2 0x00007fffd50a6cf2 in (anonymous namespace)::TriggerDictionaryInitialization_libAthenaPoolUtilitiesDict_Impl() (); from /cvmfs/atlas-nightlies.cern.ch/repo/sw/master--dev4LCG_Athena_x86_64-centos7-gcc8-opt/2021-03-21T0600/Athena/22.0.30/InstallArea/x86_64-centos7-gcc8-opt/lib/libAthenaPoolUtilitiesDict.so; #3 0x00007fffd508bad3 in __static_initialization_and_destruction_0(int, int) [clone .constprop.966] (); from /cvmfs/atlas-nightlies.cern.ch/re",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7657:1005,patch,patches,1005,https://root.cern,https://github.com/root-project/root/issues/7657,1,['patch'],['patches']
Deployability,"n with RBDT is the following:; * The implementation that is currently in master never actually worked on multiple levels (largely untested, tutorials did not check for correctness of results); * Even if it worked, it lacked the ability to handle imbalanced trees which is pretty common when using xgboost models; * The re-implementation of the feature available at https://github.com/root-project/root/pull/15173 vastly improves the functionality; * There seems to be a major issue with complex Python packages and C++ which looks like we can't solve and will make at least one platform always red on our CI if we leave things as they are. ### Reproducer. At least on Alma9, the following is the smallest reproducer of the aforementioned segfault; ```python; import xgboost; import ROOT; import numpy as np; import json. np.random.seed(1234). def create_dataset(num_events, num_features, num_outputs, dtype=np.float32):; x = np.random.normal(0.0, 1.0, (num_events, num_features)).astype(dtype=dtype); if num_outputs == 1:; y = np.random.normal(0.0, 1.0, (num_events)).astype(dtype=dtype); else:; y = np.random.choice(; a=range(num_outputs), size=(num_events), p=[1.0 / float(num_outputs)] * num_outputs; ).astype(dtype=dtype); return x, y. def _test_XGBBinary(label):; """"""; Compare response of XGB classifier and TMVA tree inference system.; """"""; x, y = create_dataset(1000, 10, 2); xgb = xgboost.XGBClassifier(n_estimators=100, max_depth=3); xgb.fit(x, y); ROOT.TMVA.Experimental.SaveXGBoost(xgb, ""myModel"", ""testXGBBinary{}.root"".format(label), num_inputs=10); bdt = ROOT.TMVA.Experimental.RBDT(""myModel"", ""testXGBBinary{}.root"".format(label)). y_xgb = xgb.predict_proba(x)[:, 1].squeeze(); y_bdt = bdt.Compute(x).squeeze(); np.testing.assert_array_almost_equal(y_xgb, y_bdt). if __name__ == ""__main__"":; _test_XGBBinary(""default""); ```. ### ROOT version. Any. ### Installation method. build from source. ### Operating system. Alma9 (others could be affected). ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15197:4431,Install,Installation,4431,https://root.cern,https://github.com/root-project/root/issues/15197,1,['Install'],['Installation']
Deployability,"n't itself use the offset (it doesn't calculate the likelihood), it must still synchronize offsets, because during the gradient calculation the LikelihoodSerial objects on the workers are used to calculate the likelihoods there, so for them the offsets must be up to date.; * The LikelihoodJob contains a LikelihoodSerial member as well now. This allows the LikelihoodJob to trigger calculating the offsets on the master process before sending them to the workers.; * LikelihoodWrapper has some added private helper functions for managing offsets. - Other miscellaneous changes:; * LikelihoodWrapper::setApplyWeightSquared was implemented properly for RooSumL likelihoods as well, passing along the call to component RooUnbinnedLs. Note, however, that it is currently not reachable for users because there is no interface to pass this along from the RooMinimizer, which contains the MinuitFcnGrad, which contains the LikelihoodWrapper. A comment in MinuitFcnGrad.h refers to this, reminding future devs to also flip offsets_reset_ when (un)setting squared weights.; * LikelihoodWrapper now holds the likelihood_type. This cleans up some code duplication in LikelihoodSerial and LikelihoodJob, which previously used the type only in their ctors, and avoids dynamic_casts later, e.g. on when calculating offsets.; * A RooSubsidiaryL can now also be computed with LikelihoodSerial and LikelihoodJob; this case was still missing in their evaluation functions.; * The LikelihoodSerial, LikelihoodJob and LikelihoodGradientJob ""ConstrainedAndOffset"" test cases used the wrong argument for the constrained parameter. These are now corrected from alpha_bkg_obs_A to become alpha_bkg_A.; * In LikelihoodJobTest, the added test case ""UnbinnedGaussian1DSelectedParameterValues"" shows where splitting over events can lead to bit-wise differences. This test will be useful in the future if further precision enhancements are made. ## Checklist:. - [x] tested changes locally; - [ ] updated the docs (if necessary)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12202:4610,update,updated,4610,https://root.cern,https://github.com/root-project/root/pull/12202,1,['update'],['updated']
Deployability,"n... "" << std::endl;; c->SetOwner(false);; auto iter = c->MakeIterator();; while (auto element = iter->Next()); {; deleteTCollections(element);; }; delete iter;; delete c;; }; else; {; delete obj;; }; }. void test(); {; int bins{10}, min{0}, max{10};; TObjArray *main = new TObjArray();; main->SetOwner(false);. auto *collectionInside = new TList();; collectionInside->SetOwner(true);. TH1I *histo1DinsideCollection = new TH1I(""histo 1d"", ""histo 1d"", bins, min, max);; histo1DinsideCollection->Fill(2);; collectionInside->Add(histo1DinsideCollection);. main->Add(collectionInside);; std::cout << "" ====== Listing elements in lists... ====== "" << std::endl;; for (int i = 0; i < main->GetEntries(); ++i); {; std::cout << ""main["" << i << ""] = "" << main->At(i) << "" is a: "" << main->At(i)->ClassName() << "" with title: "" << ((TNamed *)(main->At(i)))->GetTitle() << std::endl;; }; for (int i = 0; i < collectionInside->GetEntries(); ++i); {; std::cout << ""\t collectionInside["" << i << ""] = "" << collectionInside->At(i) << "" is a: "" << collectionInside->At(i)->ClassName() << "" with title: "" << ((TNamed *)(collectionInside->At(i)))->GetTitle() << std::endl;; }; std::cout << "" ====== Deleting... ====== "" << std::endl;; deleteTCollections(main);; return;; }; ```. ### ROOT version. ```; ROOT v6.30/01; Built for linuxx8664gcc on Jan 30 2024, 16:24:12; From tags/v6-30-01-alice2@v6-25-02-6400-g526782cfe8; With c++ (GCC) 12.2.0; Binary directory: /ssd_data/builds/latest/sw/ubuntu2204_x86-64/ROOT/526782cfe8-local1/bin; ```. ### Installation method. aliBuild. ### Operating system. Ubuntu 22.04.01. ### Additional context. ```bash; $> uname -ra; Linux <hostname> 6.2.0-39-generic #40~22.04.1-Ubuntu SMP PREEMPT_DYNAMIC Thu Nov 16 10:53:04 UTC 2 x86_64 x86_64 x86_64 GNU/Linux; $> lsb_release -a; No LSB modules are available.; Distributor ID:	Ubuntu; Description:	Ubuntu 22.04.3 LTS; Release:	22.04; Codename:	jammy; ```. [test.txt](https://github.com/root-project/root/files/14112818/test.txt). CC: @ktf",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14504:2721,Install,Installation,2721,https://root.cern,https://github.com/root-project/root/issues/14504,2,"['Install', 'Release']","['Installation', 'Release']"
Deployability,"n.; -->; `TBrowser` is opened smoothly without being overwhelmed by the upstream folders. Possible solutions include:; * Provide an option not to follow the symlink; * Provide an option to specify the number of super-directory to show. These solution would require changes of User Interface or even the TBrowser API, but it might be useful when moving the files to somewhere with thinner directory tree is inconvenient/impossible. ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->; Easy:. 1. `cd` into a temporary directory (`/dev/shm` would be convenient); 2. ```bash; mkdir testdir; cd testdir; for i in {1..100000}; do mkdir $i; done; cd 50000; cp /path/to/root/tutorial/hsimple.root .; root; ```; 3. Inside the ROOT interpreter,; ```ROOT; TBrowser tb; ```. Practical:; 1. Install [Nix package manager](https://nixos.org/) by executing the installation script, by setting up a NixOS, or by using the docker image.; 2. Fill `/nix/store` with packages by installing packages, `nix-shell` or `nix-build`; 2. Install ROOT by `nix-env -iA root`; 3. ```bash; cd ~/.nix-profile/tutorials; root; ```; 4. Inside the ROOT interpreter; ```ROOT; TBrowser tb; ```; 5. Since the `tutorials` is a symlink to `/nix/store/xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx-root-6.18.04/tutorials`, `TBrowser` will follow the symlink, try to expand `/nix/store` (where all the packages are stored), and get stuck there.; ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->; ROOT Version: 6.18/04; Built for linuxx8664gcc on Sep 11 2019, 15:38:23; From tags/v6-18-04@v6-18-04. Installed using nix package manager on NixOS. ### Additional context; <!--; Add any other context about the problem here.; -->",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7213:1756,Install,Install,1756,https://root.cern,https://github.com/root-project/root/issues/7213,6,"['Install', 'install']","['Install', 'Installed', 'install', 'installation', 'installing']"
Deployability,"n.cc; Note: Google Test filter = -RCsvDS.Remote:RRawFile.Remote:RSqliteDS.Davix:TFile.ReadWithoutGlobalRegistrationWeb:TFile.ReadWithoutGlobalRegistrationNet; [==========] Running 19 tests from 1 test suite.; [----------] Global test environment set-up.; [----------] 19 tests from RNTuple; [ RUN ] RNTuple.TypeName; [ OK ] RNTuple.TypeName (200 ms); [ RUN ] RNTuple.CreateField; [ OK ] RNTuple.CreateField (0 ms); [ RUN ] RNTuple.ArrayField; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RPageStorageFile.cxx:51 in ROOT::Experimental::Detail::RPageSinkFile::RPageSinkFile(std::string_view, const ROOT::Experimental::RNTupleWriteOptions&)>: The RNTuple file format will change. Do not store real data with this version of RNTuple!; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experimental::Internal::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNTupleDescriptorBuilder&)>: Pre-release format version: RC 1; [ OK ] RNTuple.ArrayField (37 ms); [ RUN ] RNTuple.StdPair; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RPageStorageFile.cxx:51 in ROOT::Experimental::Detail::RPageSinkFile::RPageSinkFile(std::string_view, const ROOT::Experimental::RNTupleWriteOptions&)>: The RNTuple file format will change. Do not store real data with this version of RNTuple!; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experimental::Internal::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNTupleDescriptorBuilder&)>: Pre-release format version: RC 1; [ OK ] RNTuple.StdPair (237 ms); [ RUN ] RNTuple.StdTuple; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RPageStorageFile.cxx:51",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12428:1738,release,release,1738,https://root.cern,https://github.com/root-project/root/issues/12428,1,['release'],['release']
Deployability,"n.h:58; #10 0x00007f55ea934e40 in __libc_start_main_impl (main=0x556fff8ad4d0 <main>, argc=2, argv=0x7ffffe68cf78, init=<optimized out>, fini=<optimized out>, rtld_fini=<optimized out>, stack_end=0x7ffffe68cf68) at ../csu/libc-start.c:392; #11 0x0000556fff8ad8b5 in _start (); ===========================================================. The lines below might hint at the cause of the crash. If you see question; marks as part of the stack trace, try to recompile with debugging information; enabled and export CLING_DEBUG=1 environment variable before running.; You may get help by asking at the ROOT forum https://root.cern/forum; preferably using the command (.forum bug) in the ROOT prompt.; Only if you are really convinced it is a bug in ROOT then please submit a; report at https://root.cern/bugs or (preferably) using the command (.gh bug) in; the ROOT prompt. Please post the ENTIRE stack trace; from above as an attachment in addition to anything else; that might help us fixing this issue.; ===========================================================; #6 0x0000556fff8ce440 in mzlink_ (); #7 0x0000556fff8be829 in hlimit_ (); #8 0x0000556fff8ad586 in main (); #9 0x00007f55ea934d90 in __libc_start_call_main (main=main; entry=0x556fff8ad4d0 <main>, argc=argc; entry=2, argv=argv; entry=0x7ffffe68cf78) at ../sysdeps/nptl/libc_start_call_main.h:58; #10 0x00007f55ea934e40 in __libc_start_main_impl (main=0x556fff8ad4d0 <main>, argc=2, argv=0x7ffffe68cf78, init=<optimized out>, fini=<optimized out>, rtld_fini=<optimized out>, stack_end=0x7ffffe68cf68) at ../csu/libc-start.c:392; #11 0x0000556fff8ad8b5 in _start (); ===========================================================. -- END TEST OUTPUT --; CMake Error at /home/sftnight/build/workspace/root-pullrequests-build/build/RootTestDriver.cmake:186 (message):; got exit code 139 but expected 0; ```. ### ROOT version. master. ### Installation method. Jenkins/CI. ### Operating system. Ubuntu 22.04. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14155:3693,Install,Installation,3693,https://root.cern,https://github.com/root-project/root/issues/14155,1,['Install'],['Installation']
Deployability,"n/cmake -E cmake_link_script CMakeFiles/TMVA.dir/link.txt --verbose=1; /usr/bin/c++ -fPIC -Wno-implicit-fallthrough -Wno-noexcept-type -pipe -Wshadow -Wall -W -Woverloaded-virtual; [...]; /usr/bin/ld: CMakeFiles/TMVA.dir/src/DNN/Architectures/Cudnn.cu.o: in function `TMVA::DNN::cudnnError(cudnnStatus_t, char const*, int, bool) [clone .part.0] [clone .constprop.1]':; tmpxft_0001274b_00000000-6_Cudnn.cudafe1.cpp:(.text+0x1b): undefined reference to `cudnnGetErrorString'; /usr/bin/ld: CMakeFiles/TMVA.dir/src/DNN/Architectures/Cudnn.cu.o: in function `TMVA::DNN::cudnnError(cudnnStatus_t, char const*, int, bool) [clone .part.0] [clone .constprop.2]':; tmpxft_0001274b_00000000-6_Cudnn.cudafe1.cpp:(.text+0x5b): undefined reference to `cudnnGetErrorString'; [...]; ```. I believe the way to trick it is to set `tmva-cudnn=ON`. It looks like users were not supposed to touch it, instead they should have set `-Dcudnn=On`. Setting the latter, the following code runs:; https://github.com/root-project/root/blob/45f13f0c6e145b0ddef82bf049a43fbe4870381b/cmake/modules/SearchInstalledSoftware.cmake#L1638-L1654. Instead, I set `tmva-cudnn` directly, the code above doesn't run, and tmva fails to link because the location of cudnn is never discovered. Maybe, one of `cudnn` or `tmva-cudnn` should be removed, and only a single flag should enable or disable it. ### Reproducer. On ubuntu with cuda and cudnn, I did:; ```; (ROOT-CI) root@102b09e3cf56:~/build# cmake -Dtmva-gpu=On -Dtesting=On -Dtmva-cudnn=On -Dbuiltin_openui5=Off -Dclad=Off -Dgdml=Off -Dgeom=Off -Dopengl=Off -Droot7=Off -Dspectrum=Off -Droofit=Off -Dvdt=Off ../root; ```. ```; $ apt list --installed | grep cudnn; libcudnn9-cuda-12/unknown,now 9.3.0.75-1 amd64 [installed,upgradable to: 9.5.0.50-1]; libcudnn9-dev-cuda-12/unknown,now 9.3.0.75-1 amd64 [installed,upgradable to: 9.5.0.50-1]; ```. ### ROOT version. Master. ### Installation method. Source. ### Operating system. Ubuntu with cuda-12-6. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/16715:1931,install,installed,1931,https://root.cern,https://github.com/root-project/root/issues/16715,4,"['Install', 'install']","['Installation', 'installed']"
Deployability,"n3.7/pickle.py"", line 504, in save; f(self, obj) # Call unbound method with explicit self; File ""/cvmfs/sft.cern.ch/lcg/views/LCG_97python3/x86_64-centos7-gcc9-opt/lib/python3.7/site-packages/dill/_dill.py"", line 902, in save_module_dict; StockPickler.save_dict(pickler, obj); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 859, in save_dict; self._batch_setitems(obj.items()); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 890, in _batch_setitems; save(v); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 504, in save; f(self, obj) # Call unbound method with explicit self; File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 819, in save_list; self._batch_appends(obj); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 846, in _batch_appends; save(tmp[0]); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 549, in save; self.save_reduce(obj=obj, *rv); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 633, in save_reduce; save(cls); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 504, in save; f(self, obj) # Call unbound method with explicit self; File ""/cvmfs/sft.cern.ch/lcg/views/LCG_97python3/x86_64-centos7-gcc9-opt/lib/python3.7/site-packages/dill/_dill.py"", line 1330, in save_type; StockPickler.save_global(pickler, obj); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 960, in save_global; (obj, module_name, name)) from None; _pickle.PicklingE",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6370:5484,release,releases,5484,https://root.cern,https://github.com/root-project/root/issues/6370,1,['release'],['releases']
Deployability,"n:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstra; p/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/Library/Apple/usr/bin:/opt/podman/bin#DYLD_LIBRARY_PATH=/Users/pcanal/root_working/builds/master-pr/lib:#ROOTSYS=/Users/pcanal/root_working; /builds/master-pr#PYTHONPATH=/Users/pcanal/root_working/builds/master-pr/lib:"" ""-P"" ""/Users/pcanal/root_working/builds/master-pr/RootTestDriver.cmake""; Directory: /Users/pcanal/root_working/builds/master-pr/runtutorials; ""tutorial-fit-exampleFit3D"" start time: Mar 28 16:08 CDT; Output:; ----------------------------------------------------------. Processing /Users/pcanal/root_working/code/master/tutorials/fit/exampleFit3D.C...; In file included from input_line_38:1:; /opt/build/root_builds/master-pr/include/Math/CladDerivator.h:25:10: fatal error: 'plugins/include/clad/Differentiator/Differentiator.h' file not found; #include <plugins/include/clad/Differentiator/Differentiator.h>; ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~; input_line_39:4:1: error: use of undeclared identifier 'clad'; clad::hessian(TFormula____id13317627456646018083, ""p[0:2]"" );; ^; ****************************************; Minimizer is Minuit2 / Migrad; Chi2 = 993.065; NDf = 997; Edm = 8.36115e-22; NCalls = 47; p0 = 0.993546 +/- 0.00475134 ; p1 = 0.99397 +/- 0.00434249 ; p2 = 0.997895 +/- 0.000545663 ; Good fit : p-value = 0.529221; <end of output>; Test time = 0.32 sec; ----------------------------------------------------------; Test Fail Reason:; Error regular expression found in output. Regex=[: error:]; ""tutorial-fit-exampleFit3D"" end time: Mar 28 16:08 CDT; ""tutorial-fit-exampleFit3D"" time elapsed: 00:00:00; ----------------------------------------------------------. ```. ### ROOT version. master. ### Installation method. local build. ### Operating system. any. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15091:3570,Install,Installation,3570,https://root.cern,https://github.com/root-project/root/issues/15091,1,['Install'],['Installation']
Deployability,"n_codeset in libpython3.10.a(_localemodule.o); ""_libintl_bindtextdomain"", referenced from:; __locale_bindtextdomain in libpython3.10.a(_localemodule.o); ""_libintl_dcgettext"", referenced from:; __locale_dcgettext in libpython3.10.a(_localemodule.o); ""_libintl_dgettext"", referenced from:; __locale_dgettext in libpython3.10.a(_localemodule.o); ""_libintl_gettext"", referenced from:; __locale_gettext in libpython3.10.a(_localemodule.o); ""_libintl_setlocale"", referenced from:; __locale_setlocale in libpython3.10.a(_localemodule.o); __locale_localeconv in libpython3.10.a(_localemodule.o); ""_libintl_textdomain"", referenced from:; __locale_textdomain in libpython3.10.a(_localemodule.o); ld: symbol(s) not found for architecture x86_64; clang: error: linker command failed with exit code 1 (use -v to see invocation); make[2]: *** [lib/libPyMVA.so] Error 1; make[1]: *** [tmva/pymva/CMakeFiles/PyMVA.dir/all] Error 2; make: *** [all] Error 2; ```. ### Reproducer. `cmake --build mybuild --target install -j4 -v`. ### ROOT version. master branch from 12.02.2024:. ```; root -b -q ; ------------------------------------------------------------------------------; | Welcome to ROOT 6.31/01 https://root.cern |; | (c) 1995-2024, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built for macosx64 on Feb 13 2024, 09:47:07 |; | From heads/ianna/call_to_implicitly-deleted_copy_constructor_fix@5d76922a0f |; | With Apple clang version 13.0.0 (clang-1300.0.29.30) |; | Try '.help'/'.?', '.demo', '.license', '.credits', '.quit'/'.q' |; ------------------------------------------------------------------------------. ```. ### Installation method. fixation step-by-step instructions. ### Operating system. MacOS 11.6. ### Additional context. Python's build is detecting `libintl` but not using necessary linker flags when compiling. For example, fix for my local build is to add `-L/usr/local/lib -lintl`. ```; Python 3.10.1 (main, Jan 10 2022, 12:04:16) [Clang 13.0.0 (clang-1300.0.29.30)] on darwin; ```",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14672:1880,Install,Installation,1880,https://root.cern,https://github.com/root-project/root/issues/14672,1,['Install'],['Installation']
Deployability,"naa/ATLAS/sw/projects/externals/build/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:131:75: note: expanded from macro 'atomic_store'; #define atomic_store(object, desired) __c11_atomic_store(object, desired, __ATOMIC_SEQ_CST); ^; <built-in>:16:26: note: expanded from here; #define __ATOMIC_SEQ_CST 5; ^; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1088:24: note: to match this '('; /Users/krasznaa/ATLAS/sw/projects/externals/build/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:131:57: note: expanded from macro 'atomic_store'; #define atomic_store(object, desired) __c11_atomic_store(object, desired, __ATOMIC_SEQ_CST); ^; In file included from libMyLibrary dictionary payload:5:; In file included from ./MyClass.h:6:; In file included from /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_ptr.hpp:17:; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1099:33: error: expected parameter declarator; template<class T> shared_ptr<T> atomic_exchange( shared_ptr<T> * p, shared_ptr<T> r ) BOOST_SP_NOEXCEPT; ^; /Users/krasznaa/ATLAS/sw/projects/externals/build/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:137:81: note: expanded from macro 'atomic_exchange'; #define atomic_exchange(object, desired) __c11_atomic_exchange(object, desired, __ATOMIC_SEQ_CST); ^; <built-in>:16:26: note: expanded from here; #define __ATOMIC_SEQ_CST 5; ^; In file included from libMyLibrary dictionary payload:5:; In file included from ./MyClass.h:6:; In file included from /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_ptr.hpp:17:; /Users/krasznaa/ATLAS/sw/projec",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6454:7561,Install,InstallArea,7561,https://root.cern,https://github.com/root-project/root/issues/6454,1,['Install'],['InstallArea']
Deployability,"nals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_ptr.hpp:17:; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1099:33: error: expected parameter declarator; template<class T> shared_ptr<T> atomic_exchange( shared_ptr<T> * p, shared_ptr<T> r ) BOOST_SP_NOEXCEPT; ^; /Users/krasznaa/ATLAS/sw/projects/externals/build/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:137:81: note: expanded from macro 'atomic_exchange'; #define atomic_exchange(object, desired) __c11_atomic_exchange(object, desired, __ATOMIC_SEQ_CST); ^; <built-in>:16:26: note: expanded from here; #define __ATOMIC_SEQ_CST 5; ^; In file included from libMyLibrary dictionary payload:5:; In file included from ./MyClass.h:6:; In file included from /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_ptr.hpp:17:; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1099:33: error: expected ')'; /Users/krasznaa/ATLAS/sw/projects/externals/build/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:137:81: note: expanded from macro 'atomic_exchange'; #define atomic_exchange(object, desired) __c11_atomic_exchange(object, desired, __ATOMIC_SEQ_CST); ^; <built-in>:16:26: note: expanded from here; #define __ATOMIC_SEQ_CST 5; ^; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1099:33: note: to match this '('; /Users/krasznaa/ATLAS/sw/projects/externals/build/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:137:63: note: expanded from macro 'atomic_exchange'; #define atomic_exchange(object, desired) __c11_atomic_exchange(object, ",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6454:8488,Install,InstallArea,8488,https://root.cern,https://github.com/root-project/root/issues/6454,1,['Install'],['InstallArea']
Deployability,"name;; + result.defaultString = name;; result.defaultValue = std::get<0>( values );; }; }. ```. [custom_meta_enum_test.hpp.gz](https://github.com/root-project/root/files/11749495/custom_meta_enum_test.hpp.gz). ### What is the expected behaviour?. _No response_. ### How to reproduce?. From lxplus9.cern.ch:; ```; ❯ . /cvmfs/sft-nightlies.cern.ch/lcg/views/dev4/Mon/x86_64-el9-gcc13-dbg/setup.sh; ❯ root; ------------------------------------------------------------------; | Welcome to ROOT 6.28/05 https://root.cern |; | (c) 1995-2023, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built for linuxx8664gcc on Jun 10 2023, 00:28:00 |; | From heads/v6-28-00-patches@v6-28-04-94-gb7de1efc73 |; | With g++ (GCC) 13.1.0 |; | Try '.help'/'.?', '.demo', '.license', '.credits', '.quit'/'.q' |; ------------------------------------------------------------------. root [0] #include ""custom_meta_enum_test.hpp""; root.exe: /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-28-00-patches/src/ROOT/v6-28-00-patches/interpreter/llvm/src/tools/clang/lib/AST/ExprConstant.cpp:5921: bool HandleUnionActiveMemberChange({anonymous}::EvalInfo&, const clang::Expr*, const {anonymous}::LValue&): Assertion `declaresSameEntity(FD, LHS.Designator.Entries[PathLength] .getAsBaseOrMember().getPointer())' failed.; ```. The workaround can be demonstrated with:; ```; ❯ . /cvmfs/sft-nightlies.cern.ch/lcg/views/dev4/Mon/x86_64-el9-gcc13-dbg/setup.sh; ❯ root; ------------------------------------------------------------------; | Welcome to ROOT 6.28/05 https://root.cern |; | (c) 1995-2023, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built for linuxx8664gcc on Jun 10 2023, 00:28:00 |; | From heads/v6-28-00-patches@v6-28-04-94-gb7de1efc73 |; | With g++ (GCC) 13.1.0 |; | Try '.help'/'.?', '.demo', '.license', '.credits', '.quit'/'.q' |; ------------------------------------------------------------------. root [0] #define WORKAROUND; root [1] #include ""custom_meta_enum_test.hpp""; root ",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13019:2549,patch,patches,2549,https://root.cern,https://github.com/root-project/root/issues/13019,2,['patch'],['patches']
Deployability,"nction ‘void ZmqLingeringSocketPtrDeleter<PERIOD>::operator()(zmq::socket_t*)’:; /tmp/ROOT/v6-26-00-patches/roofit/roofitZMQ/res/RooFit_ZMQ/ZeroMQSvc.h:60:24: error: ‘class zmq::socket_t’ has no member named ‘set’; did you mean ‘send’?; socket->set(zmq::sockopt::linger, PERIOD);; ^~~; send; /tmp/ROOT/v6-26-00-patches/roofit/roofitZMQ/res/RooFit_ZMQ/ZeroMQSvc.h:60:33: error: ‘zmq::sockopt’ has not been declared; socket->set(zmq::sockopt::linger, PERIOD);; ^~~~~~~; /tmp/ROOT/v6-26-00-patches/roofit/roofitZMQ/res/RooFit_ZMQ/ZeroMQSvc.h: At global scope:; /tmp/ROOT/v6-26-00-patches/roofit/roofitZMQ/res/RooFit_ZMQ/ZeroMQSvc.h:79:36: error: ‘unique_ptr’ in namespace ‘std’ does not name a template type; using ZmqLingeringSocketPtr = std::unique_ptr<zmq::socket_t, ZmqLingeringSocketPtrDeleter<PERIOD>>;; ^~~~~~~~~~; (...); /tmp/ROOT/v6-26-00-patches/roofit/roofitZMQ/res/RooFit_ZMQ/ZeroMQSvc.h:103:6: error: no matching function for call to ‘zmq::socket_t::recv(std::reference_wrapper<zmq::message_t>&, int&)’; In file included from /tmp/ROOT/v6-26-00-patches/roofit/roofitZMQ/res/RooFit_ZMQ/ZeroMQSvc.h:17:0,; from /tmp/ROOT/v6-26-00-patches/roofit/roofitZMQ/res/RooFit_ZMQ/ZeroMQPoller.h:17,; from /tmp/ROOT/v6-26-00-patches/roofit/roofitZMQ/src/ZeroMQPoller.cpp:14:; /usr/include/zmq.hpp:625:23: note: candidate: size_t zmq::socket_t::recv(void*, size_t, int); inline size_t recv (void *buf_, size_t len_, int flags_ = 0); ^~~~; /usr/include/zmq.hpp:625:23: note: no known conversion for argument 1 from ‘std::reference_wrapper<zmq::message_t>’ to ‘void*’; /usr/include/zmq.hpp:635:21: note: candidate: bool zmq::socket_t::recv(zmq::message_t*, int); inline bool recv (message_t *msg_, int flags_ = 0); ^~~~; /usr/include/zmq.hpp:635:21: note: no known conversion for argument 1 from ‘std::reference_wrapper<zmq::message_t>’ to ‘zmq::message_t*’; In file included from /tmp/ROOT/v6-26-00-patches/roofit/roofitZMQ/res/RooFit_ZMQ/ZeroMQPoller.h:17:0,; from /tmp/ROOT/v6-26-00-patches/roofit/roofi",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10107:1573,patch,patches,1573,https://root.cern,https://github.com/root-project/root/issues/10107,1,['patch'],['patches']
Deployability,"nctions derived from TObject. I was wondering if it's a typo, or if it's on purpose to not override it. If it's a typo, maybe a new function could be added with the right name, and keep the old signature as an alias to the correct one. `DistancetoPrimitive` vs `DistanceToPrimitive`. ```; /opt/root_src/documentation/users-guide/WritingGUI.md:2603:`DistanceToPrimitive()` that computes a ‘‘distance'' to an object from; /opt/root_src/documentation/users-guide/Graphics.md:265:The second one is `DistanceToPrimitive(px,py)`. This function computes a; /opt/root_src/documentation/users-guide/Graphics.md:527:as `DistanceToPrimitive()` and `ExecuteEvent()`. Its primary use is for; /opt/root_src/geom/geom/src/TGeoBoolNode.cxx:607:Int_t TGeoUnion::DistanceToPrimitive(Int_t /*px*/, Int_t /*py*/); /opt/root_src/geom/geom/src/TGeoBoolNode.cxx:1031:Int_t TGeoSubtraction::DistanceToPrimitive(Int_t /*px*/, Int_t /*py*/); /opt/root_src/geom/geom/src/TGeoBoolNode.cxx:1464:Int_t TGeoIntersection::DistanceToPrimitive(Int_t /*px*/, Int_t /*py*/); /opt/root_src/geom/geom/inc/TGeoBoolNode.h:69: virtual Int_t DistanceToPrimitive(Int_t px, Int_t py) = 0;; /opt/root_src/geom/geom/inc/TGeoBoolNode.h:113: Int_t DistanceToPrimitive(Int_t px, Int_t py) override;; /opt/root_src/geom/geom/inc/TGeoBoolNode.h:151: Int_t DistanceToPrimitive(Int_t px, Int_t py) override;; /opt/root_src/geom/geom/inc/TGeoBoolNode.h:188: Int_t DistanceToPrimitive(Int_t px, Int_t py) override;; /opt/root_src/gui/ged/doc/index.md:32:`DistanceToPrimitive()` that computes a ‘‘distance'' to an object from; /opt/root_src/hist/doc/v530/index.html:136: <li>Update in the class by implementing <tt>DistanceToPrimitive</tt> and <tt>ExecuteEvent</tt>. This allows the; ```. ### Reproducer. `grep -n -r DistanceToPrimitive /opt/root_src/*`. ### ROOT version. ```; ROOT v6.32.00; Built for linuxx8664gcc on May 28 2024, 05:02:02; From tags/v6-32-00@v6-32-00; With c++ (Ubuntu 11.4.0-1ubuntu1~22.04) 11.4.0; Binary directory: /opt/root/bin; ```",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/16087:1774,Update,Update,1774,https://root.cern,https://github.com/root-project/root/issues/16087,1,['Update'],['Update']
Deployability,"ncy and zero side-effects. It has been tested and deployed in Arch Linux x86_64, CMake 3.16.4, GCC 9.2.1:; - resulting relevant CMake config:; ```cmake; #----------------------------------------------------------------------------; # Configure the path to the ROOT headers, using a relative path if possible.; # This is only known at CMake time, so we expand a CMake supplied variable.; #. # ROOT configured for the install with relative paths, so use these; get_filename_component(_ROOT_INCLUDE_DIRS ""${_thisdir}/../../../include"" REALPATH). # resolve relative paths to absolute system paths; get_filename_component(ROOT_INCLUDE_DIRS ""${_ROOT_INCLUDE_DIRS}"" REALPATH). # ROOT configured for the install with relative paths, so use these; get_filename_component(_ROOT_LIBRARY_DIR ""${_thisdir}/../../root"" REALPATH). # resolve relative paths to absolute system paths; get_filename_component(ROOT_LIBRARY_DIR ""${_ROOT_LIBRARY_DIR}"" REALPATH). # ROOT configured for the install with relative paths, so use these; get_filename_component(_ROOT_BINDIR ""${_thisdir}/../../../bin"" REALPATH). # resolve relative paths to absolute system paths; get_filename_component(ROOT_BINDIR ""${_ROOT_BINDIR}"" REALPATH). # Deprecated value, please don't use it and use ROOT_BINDIR instead.; get_filename_component(ROOT_BINARY_DIR ""${ROOT_BINDIR}"" REALPATH); ```; - CMake runtime check:; ```bash; $ cmake --find-package -DNAME=ROOT -DCOMPILER_ID=GNU -DLANGUAGE=CXX -DMODE=EXIST --log-level=DEBUG -N --trace-expand 2>&1 | grep ROOT_BIN; /usr/lib64/cmake/ROOT/ROOTConfig.cmake(83): get_filename_component(_ROOT_BINDIR /usr/lib64/cmake/ROOT/../../../bin REALPATH ); /usr/lib64/cmake/ROOT/ROOTConfig.cmake(87): get_filename_component(ROOT_BINDIR /usr/bin REALPATH ); /usr/lib64/cmake/ROOT/ROOTConfig.cmake(91): get_filename_component(ROOT_BINARY_DIR /usr/bin REALPATH ). $ cmake --find-package -DNAME=ROOT -DCOMPILER_ID=GNU -DLANGUAGE=CXX -DMODE=EXIST --log-level=DEBUG -N --trace-expand 2>&1 | grep ROOT_INC; /usr/lib64/cmake/",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5084:1622,install,install,1622,https://root.cern,https://github.com/root-project/root/pull/5084,1,['install'],['install']
Deployability,"nded from macro 'atomic_load'; #define atomic_load(object) __c11_atomic_load(object, __ATOMIC_SEQ_CST); ^; <built-in>:16:26: note: expanded from here; #define __ATOMIC_SEQ_CST 5; ^; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1077:33: note: to match this '('; /Users/krasznaa/ATLAS/sw/projects/externals/build/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:134:46: note: expanded from macro 'atomic_load'; #define atomic_load(object) __c11_atomic_load(object, __ATOMIC_SEQ_CST); ^; In file included from libMyLibrary dictionary payload:5:; In file included from ./MyClass.h:6:; In file included from /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_ptr.hpp:17:; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1088:24: error: expected parameter declarator; template<class T> void atomic_store( shared_ptr<T> * p, shared_ptr<T> r ) BOOST_SP_NOEXCEPT; ^; /Users/krasznaa/ATLAS/sw/projects/externals/build/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:131:75: note: expanded from macro 'atomic_store'; #define atomic_store(object, desired) __c11_atomic_store(object, desired, __ATOMIC_SEQ_CST); ^; <built-in>:16:26: note: expanded from here; #define __ATOMIC_SEQ_CST 5; ^; In file included from libMyLibrary dictionary payload:5:; In file included from ./MyClass.h:6:; In file included from /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_ptr.hpp:17:; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1088:24: error: expected ')'; /Users/krasznaa/ATLAS/",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6454:5566,Install,InstallArea,5566,https://root.cern,https://github.com/root-project/root/issues/6454,1,['Install'],['InstallArea']
Deployability,"ndidate expects 1 argument, 0 provided; make[3]: *** [geom/vecgeom/CMakeFiles/G__ConverterVG.dir/build.make:96: geom/vecgeom/CMakeFiles/G__ConverterVG.dir/G__ConverterVG.cxx.o] Error 1; make[3]: Leaving directory '<builddir>'; make[2]: *** [CMakeFiles/Makefile2:33593: geom/vecgeom/CMakeFiles/G__ConverterVG.dir/all] Error 2; make[2]: Leaving directory '<builddir>'; make[1]: *** [Makefile:159: all] Error 2; make[1]: Leaving directory '<builddir>'; ```. ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->; The compilation does not fail. ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->; Compile with `vecgeom` option. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->; Compiling ROOT v6.26.04 on Debian Unstable (amd64), with GCC 11.3.0 and VecGeom 1.2.0, with this configuration:; ```; -- ROOT Configuration . System Linux-5.18.0-2-amd64; Processor 4 core Intel(R) Core(TM) i5-8250U CPU @ 1.60GHz (x86_64); Build type None; Install path /usr; Compiler GNU 11.3.0; Compiler flags:; C -g -O2 -ffile-prefix-map=<srcdir>=. -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -Wno-implicit-fallthrough -pipe -Wall -W -pthread ; C++ -g -O2 -ffile-prefix-map=<srcdir>=. -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -std=c++17 -Wno-implicit-fallthrough -Wno-noexcept-type -pipe -Wshadow -Wall -W -Woverloaded-virtual -fsigned-char -pthread ; Linker flags:; Executable -Wl,-z,relro -Wl,-z,now -rdynamic; Module -Wl,-z,relro -Wl,-z,now; Shared -Wl,-z,relro -Wl,-z,now -Wl,--no-undefined -Wl,--hash-style=""both"". -- Enabled support for: asimage ",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10984:4850,install,install,4850,https://root.cern,https://github.com/root-project/root/issues/10984,1,['install'],['install']
Deployability,"ndler called>; #7 0x00007f174bc8faac in TCling__GetObjectDecl (obj=0x55fed02b7470) at ../core/metacling/src/TCling.cxx:603; #8 0x00007f174bce6d72 in TClingCallbacks::tryFindROOTSpecialInternal (this=this; entry=0x55fece888730, R=..., S=S; entry=0x55fecdea0250) at ../core/metacling/src/TClingCallbacks.cxx:772; #9 0x00007f174bce8e51 in TClingCallbacks::LookupObject (this=0x55fece888730, R=..., S=0x55fecdea0250) at ../core/metacling/src/TClingCallbacks.cxx:402; #10 0x00007f174bd7939f in cling::MultiplexInterpreterCallbacks::LookupObject(clang::LookupResult&, clang::Scope*) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #11 0x00007f174c94bf1c in clang::MultiplexExternalSemaSource::LookupUnqualified(clang::LookupResult&, clang::Scope*) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #12 0x00007f174cb36a92 in clang::Sema::ClassifyName(clang::Scope*, clang::CXXScopeSpec&, clang::IdentifierInfo*&, clang::SourceLocation, clang::Token const&, clang::CorrectionCandidateCallback*) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #13 0x00007f174c7d02fe in clang::Parser::TryAnnotateName(clang::CorrectionCandidateCallback*) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #14 0x00007f174c79f729 in clang::Parser::ParseStatementOrDeclarationAfterAttributes(llvm::SmallVector<clang::Stmt*, 32u>&, clang::Parser::ParsedStmtContext, clang::SourceLocation*, clang::ParsedAttributesWithRange&) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #15 0x00007f174c79fab4 in clang::Parser::ParseStatementOrDeclaration(llvm::SmallVector<clang::Stmt*, 32u>&, clang::Parser::ParsedStmtContext, clang::SourceLocation*) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #16 0x00007f174c7a7902 in clang::Parser::ParseCompoundStatementBody(bool) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-b",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12673:2846,install,install,2846,https://root.cern,https://github.com/root-project/root/issues/12673,1,['install'],['install']
Deployability,"ne TTree is provided then it will be used for all files.; If multiple TTrees are specified, each TTree is read from the respective file. Specifying branches:; Branches can be specified using one of the following flags. Currently only one can be used at a time. --all-branches; Reads every branch from the specified files and TTrees.; --branches bname1 [bname2...]; Reads the branches with matching names. Will error if any of the branches are not found.; --branches-regex bregex1 [bregex2 ...]; Reads any branches with a name matching the provided regex. Will error if any provided regex does not match at least one branch. Meta arguments:; --threads nthreads; The number of threads to use for file reading. Will automatically cap to the number of available threads on the machine.; --tasks-per-worker ntasks; The number of tasks to generate for each worker thread when using multithreading. Description:. rootreadspeed is a tool used to help identify bottlenecks in ROOT analysis programs by providing an idea of what throughput you can expect when reading ROOT files in certain configurations. It does this by providing information about the number of bytes read from your files, how long this takes, and the different throughputs in MB/s, both in total and per thread. Compressed vs Uncompressed Throughput:. Throughput speeds are provided as compressed and uncompressed - ROOT files are usually saved in compressed format, so these will often differ. Compressed bytes is the total number of bytes read from TFiles during the readspeed test (possibly including meta-data). Uncompressed bytes is the number of bytes processed by reading the branch values in the TTree. Throughput is calculated as the total number of bytes over the total runtime (including decompression time) in the uncompressed and compressed cases. Interpreting results:. There are three possible scenarios when using rootreadspeed, namely:. 1. The 'Real Time' is significantly lower than your own analysis runtime.; This would ",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14039:1952,configurat,configurations,1952,https://root.cern,https://github.com/root-project/root/pull/14039,1,['configurat'],['configurations']
Deployability,"nfo.cxx.o; [ 75%] Building CXX object core/metacling/src/CMakeFiles/MetaCling.dir/TClingDeclInfo.cxx.o; [ 75%] Building CXX object core/metacling/src/CMakeFiles/MetaCling.dir/TClingDiagnostics.cxx.o; [ 75%] Building CXX object core/metacling/src/CMakeFiles/MetaCling.dir/TClingMemberIter.cxx.o; [ 75%] Building CXX object core/metacling/src/CMakeFiles/MetaCling.dir/TClingMethodArgInfo.cxx.o; [ 75%] Building CXX object core/metacling/src/CMakeFiles/MetaCling.dir/TClingMethodInfo.cxx.o; [ 75%] Built target ClingUtils; [ 75%] Building CXX object core/rootcling_stage1/CMakeFiles/rootcling_stage1.dir/src/rootcling_stage1.cxx.o; [ 75%] Linking CXX executable src/rootcling_stage1; [ 75%] Building CXX object core/metacling/src/CMakeFiles/MetaCling.dir/TClingRdictModuleFileExtension.cxx.o; [ 75%] Building CXX object core/metacling/src/CMakeFiles/MetaCling.dir/TClingTypedefInfo.cxx.o; [ 75%] Built target rootcling_stage1; [ 75%] Generating G__Core.cxx, ../lib/Core.pcm; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; input_line_1:1:10: note: submodule of top-level module 'std' implicitly imported here; #include <new>; ^; Warning in cling::IncrementalParser::CheckABICompatibility():; Failed to extract C++ standard library version.; While building module 'Core':; While building module 'Cling_Runtime' imported from input_line_2:1:; While building module 'Cling_Runtime_Extra' imported from /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/RuntimeUniverse.h:27:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/DynamicExprInfo.h:13:10: note: submodule of top-level module 'std' implicitly imported here; #include <string>; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Dynam",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10528:13868,Install,Installed,13868,https://root.cern,https://github.com/root-project/root/issues/10528,1,['Install'],['Installed']
Deployability,"ng information; enabled and export CLING_DEBUG=1 environment variable before running.; You may get help by asking at the ROOT forum https://root.cern/forum; Only if you are really convinced it is a bug in ROOT then please submit a; report at https://root.cern/bugs Please post the ENTIRE stack trace; from above as an attachment in addition to anything else; that might help us fixing this issue.; ===========================================================; #7 0x00007f174bc8faac in TCling__GetObjectDecl (obj=0x55fed02b7470) at ../core/metacling/src/TCling.cxx:603; #8 0x00007f174bce6d72 in TClingCallbacks::tryFindROOTSpecialInternal (this=this; entry=0x55fece888730, R=..., S=S; entry=0x55fecdea0250) at ../core/metacling/src/TClingCallbacks.cxx:772; #9 0x00007f174bce8e51 in TClingCallbacks::LookupObject (this=0x55fece888730, R=..., S=0x55fecdea0250) at ../core/metacling/src/TClingCallbacks.cxx:402; #10 0x00007f174bd7939f in cling::MultiplexInterpreterCallbacks::LookupObject(clang::LookupResult&, clang::Scope*) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #11 0x00007f174c94bf1c in clang::MultiplexExternalSemaSource::LookupUnqualified(clang::LookupResult&, clang::Scope*) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #12 0x00007f174cb36a92 in clang::Sema::ClassifyName(clang::Scope*, clang::CXXScopeSpec&, clang::IdentifierInfo*&, clang::SourceLocation, clang::Token const&, clang::CorrectionCandidateCallback*) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #13 0x00007f174c7d02fe in clang::Parser::TryAnnotateName(clang::CorrectionCandidateCallback*) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #14 0x00007f174c79f729 in clang::Parser::ParseStatementOrDeclarationAfterAttributes(llvm::SmallVector<clang::Stmt*, 32u>&, clang::Parser::ParsedStmtContext, clang::SourceLocation*, clang::ParsedAttributesWithRange&) () from /home/blu",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12673:9205,install,install,9205,https://root.cern,https://github.com/root-project/root/issues/12673,1,['install'],['install']
Deployability,"ng: In file included from input_line_4:36:; In file included from /opt/spack-modules/linux-ubuntu20.04-skylake_avx512/gcc-9.3.0/gcc-10.2.0-nd7xsa2anuya7be46rjsaxbiobtgguod/lib/gcc/x86_64-pc-linux-gnu/10.2.0/../../../../include/c++/10.2.0/cassert:44:; In file included from /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/assert.h:8:; /usr/include/assert.h:69:13: error: exception specification in declaration does not match previous declaration; extern void __assert_fail (const char *__assertion, const char *__file,; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_runtime_wrapper.h:349:31: note: previous declaration is here; __device__ static inline void __assert_fail(const char *__message,; ^; cling-ptx: Forward declarations from /home/sehrig/workspace/root-project/install/lib/libcomplexDict.rootmap:2:19: error: explicit specialization of undeclared template class 'complex'; template <> class complex<float>;; ^ ~~~~~~~; cling-ptx: Forward declarations from /home/sehrig/workspace/root-project/install/lib/libcomplexDict.rootmap:3:19: error: explicit specialization of non-template class 'complex'; template <> class complex<double>;; ^ ~~~~~~~~; IncrementalCUDADeviceCompiler::declare(); failed at compile ptx code; ------------------------------------------------------------------; | Welcome to ROOT 6.25/01 https://root.cern |; | (c) 1995-2021, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built for linuxx8664gcc on Mar 05 2021, 17:50:00 |; | From heads/master@v6-23-01-RF-binSampling-1125-gd3d7cf0bb6 |; | With g++ (Spack GCC) 10.2.0 |; | Try '.help', '.demo', '.license', '.credits', '.quit'/'.q' |; ------------------------------------------------------------------. root [0] cudaGetLastError(); IncrementalExecutor::executeFunction: symbol '_ZN5cling7runtime6gClingE' unresolved while linking [cling interface function]!; You are probably missing the definition of cling::runtime::gCling",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7518:13388,install,install,13388,https://root.cern,https://github.com/root-project/root/issues/7518,1,['install'],['install']
Deployability,"ng: long* ptrs_, no [dimension]. TStreamerInfo::Build:0: RuntimeWarning: awkward::ListArray_zKlKkVLNo: base class awkward::ArrayView has no streamer or dictionary it will not be saved; <cppyy.gbl.ROOT.RDF.RResultPtr<ROOT::RDF::RInterface<ROOT::Detail::RDF::RLoopManager,void> > object at 0x1dc7b5090>; ```; ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->; The first `TStreamerInfo::Build` error can be avoided by appending a comment `//!` to `long* ptrs_` line.; Would it be possible to propagate the `TStreamerInfo::Build:0: RuntimeWarning` message to the user?. ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->; Unfortunately, it is not reproducible if the code is run line by line in `Python`:; ```python; % python ; Python 3.10.6 | packaged by conda-forge | (main, Aug 22 2022, 20:43:44) [Clang 13.0.1 ] on darwin; Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.; >>> import awkward as ak; >>> import ROOT; >>> ak_array_in = ak.Array([[[1.1], [2.2]], [[3.3], [4.4, 5.5]]]); >>> data_frame = ak.to_rdataframe({""x"": ak_array_in}); >>> data_frame.Snapshot(""ListArray"", ""filename.root"", (""x"",)); TStreamerInfo::Build:0: RuntimeWarning: awkward::ListArray_T4lNHLu6jVU: base class awkward::ArrayView has no streamer or dictionary it will not be saved; <cppyy.gbl.ROOT.RDF.RResultPtr<ROOT::RDF::RInterface<ROOT::Detail::RDF::RLoopManager,void> > object at 0x7fc2238521d0>; >>> ; ```. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->; ```python; >>> ROOT.__version__; '6.26/06'; >>> ak.__version__; '2.0.0rc1'; ```; ### Additional context; <!--; Add any other context about the problem here.; -->",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11602:5543,install,install,5543,https://root.cern,https://github.com/root-project/root/issues/11602,1,['install'],['install']
Deployability,"ng::LookupResult&, clang::Scope*) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #12 0x00007f174cb36a92 in clang::Sema::ClassifyName(clang::Scope*, clang::CXXScopeSpec&, clang::IdentifierInfo*&, clang::SourceLocation, clang::Token const&, clang::CorrectionCandidateCallback*) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #13 0x00007f174c7d02fe in clang::Parser::TryAnnotateName(clang::CorrectionCandidateCallback*) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #14 0x00007f174c79f729 in clang::Parser::ParseStatementOrDeclarationAfterAttributes(llvm::SmallVector<clang::Stmt*, 32u>&, clang::Parser::ParsedStmtContext, clang::SourceLocation*, clang::ParsedAttributesWithRange&) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #15 0x00007f174c79fab4 in clang::Parser::ParseStatementOrDeclaration(llvm::SmallVector<clang::Stmt*, 32u>&, clang::Parser::ParsedStmtContext, clang::SourceLocation*) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #16 0x00007f174c7a7902 in clang::Parser::ParseCompoundStatementBody(bool) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #17 0x00007f174c7a9bcc in clang::Parser::ParseFunctionStatementBody(clang::Decl*, clang::Parser::ParseScope&) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #18 0x00007f174c7d5ac5 in clang::Parser::ParseFunctionDefinition(clang::ParsingDeclarator&, clang::Parser::ParsedTemplateInfo const&, clang::Parser::LateParsedAttrList*) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #19 0x00007f174c70dd20 in clang::Parser::ParseDeclGroup(clang::ParsingDeclSpec&, clang::DeclaratorContext, clang::SourceLocation*, clang::Parser::ForRangeInit*) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #20 0x00007f174c",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12673:3577,install,install,3577,https://root.cern,https://github.com/root-project/root/issues/12673,2,['install'],['install']
Deployability,"ng::MetaParser::isXCommand () at /builddir/build/BUILD/root-6.32.00-build/root-6.32.00/interpreter/cling/lib/MetaProcessor/MetaParser.cpp:321; #48 0xf12586cf in cling::MetaParser::isCommand () at /builddir/build/BUILD/root-6.32.00-build/root-6.32.00/interpreter/cling/lib/MetaProcessor/MetaParser.cpp:120; #49 0xf1240484 in cling::MetaProcessor::process () at /builddir/build/BUILD/root-6.32.00-build/root-6.32.00/interpreter/cling/lib/MetaProcessor/MetaProcessor.cpp:317; #50 0xf1058c2f in HandleInterpreterException (metaProcessor=0x581f2be0, input_line=<optimized out>, compRes=; 0xffefe348: cling::Interpreter::kSuccess, result=0xffefe350) at /builddir/build/BUILD/root-6.32.00-build/root-6.32.00/core/metacling/src/TCling.cxx:2438; ===========================================================; gmake[2]: Leaving directory '/builddir/build/BUILD/root-6.32.00-build/root-6.32.00/redhat-linux-build'; gmake[2]: *** [CMakeFiles/hsimple.dir/build.make:82: tutorials/hsimple.root] Error 129; gmake[2]: *** Deleting file 'tutorials/hsimple.root'; gmake[1]: *** [CMakeFiles/Makefile2:11941: CMakeFiles/hsimple.dir/all] Error 2; gmake[1]: *** Waiting for unfinished jobs....; ```. Looking att the code here:. https://github.com/root-project/root/blob/00693233c08b5c63f684717a15115b96d5e60417/io/io/src/TBufferFile.cxx#L40-L47. The `USE_BSWAPCPY` is only used if `defined(__i386__)`, i.e. on 32 bit intel only. The asm code in the `Bswapcpy.h` header seems to be intented to work for both ix86 and x86_64 though. So I don't know why it is only used for ix86 here. I have worked around this by replacing linr 40-41 with `#if 0`, i.e. not using the asm code on ix86 either, which gets rid of the crash. I didn't mak a PR of this change because I don't know if this is the preferred way to fix it. ### Reproducer. Build ROOT 6.32.00 on ix86. ### ROOT version. 6.32.00. ### Installation method. Package build on Fedora ix86 from source. ### Operating system. Fedora Linux. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15738:19412,Install,Installation,19412,https://root.cern,https://github.com/root-project/root/issues/15738,1,['Install'],['Installation']
Deployability,"ng::Parser::ParseStatementOrDeclarationAfterAttributes(llvm::SmallVector<clang::Stmt*, 32u>&, clang::Parser::ParsedStmtContext, clang::SourceLocation*, clang::ParsedAttributesWithRange&) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #15 0x00007f174c79fab4 in clang::Parser::ParseStatementOrDeclaration(llvm::SmallVector<clang::Stmt*, 32u>&, clang::Parser::ParsedStmtContext, clang::SourceLocation*) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #16 0x00007f174c7a7902 in clang::Parser::ParseCompoundStatementBody(bool) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #17 0x00007f174c7a9bcc in clang::Parser::ParseFunctionStatementBody(clang::Decl*, clang::Parser::ParseScope&) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #18 0x00007f174c7d5ac5 in clang::Parser::ParseFunctionDefinition(clang::ParsingDeclarator&, clang::Parser::ParsedTemplateInfo const&, clang::Parser::LateParsedAttrList*) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #19 0x00007f174c70dd20 in clang::Parser::ParseDeclGroup(clang::ParsingDeclSpec&, clang::DeclaratorContext, clang::SourceLocation*, clang::Parser::ForRangeInit*) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #20 0x00007f174c7d1e54 in clang::Parser::ParseDeclarationOrFunctionDefinition(clang::ParsedAttributesWithRange&, clang::ParsingDeclSpec*, clang::AccessSpecifier) [clone .part.0] () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #21 0x00007f174c7d8830 in clang::Parser::ParseExternalDeclaration(clang::ParsedAttributesWithRange&, clang::ParsingDeclSpec*) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #22 0x00007f174c7d9900 in clang::Parser::ParseTopLevelDecl(clang::OpaquePtr<clang::DeclGroupRef>&, bool) () from /home/blue/ROOT/relwithdebinfo-perf/",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12673:4186,install,install,4186,https://root.cern,https://github.com/root-project/root/issues/12673,2,['install'],['install']
Deployability,"ng::Sema&, clang::LookupResult&, clang::ASTContext&, clang::DeclContext*, (anonymous namespace)::UnqualUsingDirectiveSet&) [clone .isra.0] () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #10 0x00002b8fcfb1c4f5 in clang::Sema::CppLookupName(clang::LookupResult&, clang::Scope*) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #11 0x00002b8fcfb1ca1d in clang::Sema::LookupName(clang::LookupResult&, clang::Scope*, bool) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #12 0x00002b8fcf87cf29 in clang::Sema::HandleDeclarator(clang::Scope*, clang::Declarator&, llvm::MutableArrayRef<clang::TemplateParameterList*>) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #13 0x00002b8fcf87fc2c in clang::Sema::ActOnStartOfFunctionDef(clang::Scope*, clang::Declarator&, llvm::MutableArrayRef<clang::TemplateParameterList*>, clang::Sema::SkipBodyInfo*) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #14 0x00002b8fcf5e98cb in clang::Parser::ParseFunctionDefinition(clang::ParsingDeclarator&, clang::Parser::ParsedTemplateInfo const&, clang::Parser::LateParsedAttrList*) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #15 0x00002b8fcf566f2e in clang::Parser::ParseDeclGroup(clang::ParsingDeclSpec&, unsigned int, clang::SourceLocation*, clang::Parser::ForRangeInit*) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libC",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7093:6053,patch,patch,6053,https://root.cern,https://github.com/root-project/root/issues/7093,1,['patch'],['patch']
Deployability,"ng::Value*) const (IncrementalExecutor.cpp:217); ==1848772== by 0x67865DE: cling::Interpreter::RunFunction(clang::FunctionDecl const*, cling::Value*) (Interpreter.cpp:1167); ==1848772== by 0x6788F5C: cling::Interpreter::EvaluateInternal(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, cling::CompilationOptions, cling::Value*, cling::Transaction**, unsigned long) (Interpreter.cpp:1419); ==1848772== by 0x684A076: operator() (MetaSema.cpp:141); ==1848772== by 0x684A076: cling::MetaSema::actOnxCommand(llvm::StringRef, llvm::StringRef, cling::Value*) (MetaSema.cpp:158); ==1848772== by 0x6855743: cling::MetaParser::isXCommand(cling::MetaSema::ActionResult&, cling::Value*) (MetaParser.cpp:320); ==1848772== by 0x6856B15: cling::MetaParser::isCommand(cling::MetaSema::ActionResult&, cling::Value*) (MetaParser.cpp:119); ==1848772== by 0x68446DF: cling::MetaProcessor::process(llvm::StringRef, cling::Interpreter::CompilationResult&, cling::Value*, bool) (MetaProcessor.cpp:317); ==1848772== by 0x66B792B: HandleInterpreterException(cling::MetaProcessor*, char const*, cling::Interpreter::CompilationResult&, cling::Value*) (TCling.cxx:2436); ==1848772== by 0x66D26CE: TCling::ProcessLine(char const*, TInterpreter::EErrorCode*) (TCling.cxx:2580); ==1848772== by 0x66D2A81: TCling::ProcessLineSynch(char const*, TInterpreter::EErrorCode*) (TCling.cxx:3540); ==1848772== by 0x4A8A626: TApplication::ExecuteFile(char const*, int*, bool) (TApplication.cxx:1865); ==1848772== by 0x4863F8B: TRint::ProcessLineNr(char const*, char const*, int*) (TRint.cxx:820); ==1848772== by 0x4865B45: TRint::Run(bool) (TRint.cxx:461); ==1848772== by 0x1091CE: main (rmain.cxx:84); ```. ### Reproducer. `valgrind --num-callers=50 --track-origins=yes --suppressions=$ROOTSYS/etc/valgrind-root.supp root.exe tutorials/tmva/TMVA_CNN_Classification.C`. ### ROOT version. master. ### Installation method. From source. ### Operating system. Linux Debian. ### Additional context. GCC 12.2",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13667:10589,Install,Installation,10589,https://root.cern,https://github.com/root-project/root/issues/13667,1,['Install'],['Installation']
Deployability,"ngCodeGen.a(CGExprComplex.cpp.o): in function `(anonymous namespace)::ComplexExprEmitter::EmitLoadOfLValue(clang::CodeGen::LValue, clang::SourceLocation)':; CGExprComplex.cpp:(.text._ZN12_GLOBAL__N_118ComplexExprEmitter16EmitLoadOfLValueEN5clang7CodeGen6LValueENS1_14SourceLocationE+0x15c): undefined reference to `clang::CodeGen::CodeGenFunction::EmitAtomicLoad(clang::CodeGen::LValue, clang::SourceLocation, clang::CodeGen::AggValueSlot)'; /usr/bin/ld: ../../interpreter/llvm/src/lib/libclangCodeGen.a(CGExprComplex.cpp.o): in function `(anonymous namespace)::ComplexExprEmitter::Visit(clang::Expr*)':; CGExprComplex.cpp:(.text._ZN12_GLOBAL__N_118ComplexExprEmitter5VisitEPN5clang4ExprE+0x97d): undefined reference to `clang::CodeGen::CodeGenFunction::EmitAtomicExpr(clang::AtomicExpr*)'; collect2: error: ld returned 1 exit status; make[2]: *** [core/rootcling_stage1/CMakeFiles/rootcling_stage1.dir/build.make:228: core/rootcling_stage1/src/rootcling_stage1] Error 1; make[1]: *** [CMakeFiles/Makefile2:27877: core/rootcling_stage1/CMakeFiles/rootcling_stage1.dir/all] Error 2; make: *** [Makefile:152: all] Error 2; ```; <!--; A clear and concise description of what the wrong behavior is.; -->. ### Expected behavior; It work?; <!--; A clear and concise description of what you expected to happen.; -->. ### To Reproduce; I ran:; ```; mkdir rootinstall rootbuild; cd rootbuild; cmake -DCMAKE_INSTALL_PREFIX=../rootintstall ../root; cmake --build . -- -j4; ```; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->; Master branch of root-project/root; ### Additional context; <!--; Add any other context about the problem here.; -->",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/8487:15176,install,install,15176,https://root.cern,https://github.com/root-project/root/issues/8487,1,['install'],['install']
Deployability,"ngWorkAroundUnnamedInclude' -e '#define ClingWorkAroundMissingSmartInclude' -e '#define ClingWorkAroundNoDotInclude' -e '#define ClingWorkAroundMissingAutoLoadingForTemplates' -e '#define ClingWorkAroundAutoParseUsingNamespace' -e '#define ClingWorkAroundTClassUpdateDouble32' -e '#define ClingWorkAroundAutoParseDeclaration' -e '#define ClingWorkAroundMissingUnloading' -e '#define ClingWorkAroundBrokenUnnamedReturn' -e '#define ClingWorkAroundUnnamedDetection2' -e 'gSystem->SetBuildDir(""/test_job/roottest_build/cling/array"",true)' -e 'gSystem->AddDynamicPath(""/test_job/roottest_build/cling/array"")' -e 'gROOT->SetMacroPath(""/test_job/roottest/cling/array"")' -e 'gInterpreter->AddIncludePath(""-I/test_job/roottest_build/cling/array"")' -e 'gSystem->AddIncludePath(""-I/test_job/roottest_build/cling/array"")' -q -l -b /test_job/roottest/cling/array/runarray1test.C; -- BEGIN TEST OUTPUT --. ROOT_cli_0:1:9: warning: 'NDEBUG' macro redefined [-Wmacro-redefined]; #define NDEBUG; ^; <command line>:1:9: note: previous definition is here; #define NDEBUG 1; ^; ```. ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->. To reproduce it's sufficient to compile ROOT with `-DCMAKE_BUILD_TYPE=Release -Droottest=OFF` and then compile roottest separately against this build of ROOT. . ### Additional context; <!--; Add any other context about the problem here.; -->. As far as I understand, that ` -e '#define NDEBUG'` in the invocation of `root.exe` used by roottest was not there before, and it's what's causing the issue. roottest takes the `-e '#define ...'` arguments from cmake's `COMPILE_DEFINITIONS` (a quick `git grep COMPILE_DEFINITIONS` in the roottest repository shows where this happens). I could not figure out where the _other_ definition of `NDEBUG` comes from.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6575:1977,Release,Release,1977,https://root.cern,https://github.com/root-project/root/issues/6575,1,['Release'],['Release']
Deployability,"nings generated.; [8479/9530] Building CXX object graf2d/cocoa/CMakeFiles/GCocoa.dir/src/MenuLoader.mm.o; /Users/rdm/rootsrc/graf2d/cocoa/src/MenuLoader.mm:92:16: warning: variable 'menuItem' set but not used [-Wunused-but-set-variable]; NSMenuItem *menuItem = [aMenu addItemWithTitle : NSLocalizedString(@""Minimize"", nil); ^; 1 warning generated.; [8627/9530] Building CXX object gui/fitpanel/CMakeFiles/FitPanel.dir/src/TFitEditor.cxx.o; /Users/rdm/rootsrc/gui/fitpanel/src/TFitEditor.cxx:2806:26: warning: variable 'py1old' set but not used [-Wunused-but-set-variable]; static Int_t px1old, py1old, px2old, py2old; // to remember the square drawn.; ^; /Users/rdm/rootsrc/gui/fitpanel/src/TFitEditor.cxx:2806:34: warning: variable 'px2old' set but not used [-Wunused-but-set-variable]; static Int_t px1old, py1old, px2old, py2old; // to remember the square drawn.; ^; /Users/rdm/rootsrc/gui/fitpanel/src/TFitEditor.cxx:2806:42: warning: variable 'py2old' set but not used [-Wunused-but-set-variable]; static Int_t px1old, py1old, px2old, py2old; // to remember the square drawn.; ^; /Users/rdm/rootsrc/gui/fitpanel/src/TFitEditor.cxx:2806:18: warning: variable 'px1old' set but not used [-Wunused-but-set-variable]; static Int_t px1old, py1old, px2old, py2old; // to remember the square drawn.; ^; 4 warnings generated.; ```. ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->; No warnings. ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->; Compile on macOS with Cocoa. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->. Current master. ### Additional context; <!--; Add any other context about the problem here.; -->",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10572:4362,install,install,4362,https://root.cern,https://github.com/root-project/root/issues/10572,1,['install'],['install']
Deployability,"ninja rightfully said:; ```; ninja explain: output core/newdelete/move_header_core_newdelete of phony edge with no inputs doesn't exist; ninja explain: core/newdelete/move_header_core_newdelete is dirty; ninja explain: move_headers is dirty; ```. which likely triggered MSBUILD to re-run the move-headers target (during roottest). This might fix it, and in general gets rid of useless ""rebuilds"" of move_headers. # This Pull request:. ## Changes or fixes:. ## Checklist:. - [ ] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13755:508,update,updated,508,https://root.cern,https://github.com/root-project/root/pull/13755,1,['update'],['updated']
Deployability,"nking a dependent product (happens to be Celeritas but apriori it could be anything) against ROOT build with a builtin TBB, the link fails with:; ```; /work1/celeritas/pcanal/geant-public/gcc12/install/opt/lib/libImt.so: undefined reference to `tbb::interface7::internal::isolate_within_arena(tbb::interface7::internal::delegate_base&, long)'; /work1/celeritas/pcanal/geant-public/gcc12/install/opt/lib/libImt.so: undefined reference to `tbb::interface7::internal::task_arena_base::internal_max_concurrency(tbb::interface7::task_arena const*)'; /work1/celeritas/pcanal/geant-public/gcc12/install/opt/lib/libImt.so: undefined reference to `tbb::interface9::global_control::active_value(int)'; /work1/celeritas/pcanal/geant-public/gcc12/install/opt/lib/libImt.so: undefined reference to `tbb::interface7::internal::task_arena_base::internal_terminate()'; /work1/celeritas/pcanal/geant-public/gcc12/install/opt/lib/libImt.so: undefined reference to `tbb::interface7::internal::task_arena_base::internal_initialize()'; /work1/celeritas/pcanal/geant-public/gcc12/install/opt/lib/libImt.so: undefined reference to `tbb::interface7::internal::task_arena_base::internal_execute(tbb::interface7::internal::delegate_base&) const; ```. Notes. * Adding the `libtbb` installed by ROOT explicitly solves the problem.; * doing `ldd` on `libImt` prints the expected path for `libtbb`; * re-doing the failing link with `LD_LIBRARY_PATH` containing the directory where the builtin `libtbb` is solved the problem; * redoing the failing link adding to `-Wl,-rpath-link,` the directory where the builtin `libtbb` is solved the problem ; * The main difference is that when linking `libImt` with builtin the link line uses `-ltbb` while when linking against an external `tbb` it list the full pathname of the library (while the ROOT library use a relative path). So the problem is might be either that; * we use `-ltbb` for the buitin; * the CMake fragment used by the dependent product does not add the ROOT library path t",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13079:1140,install,install,1140,https://root.cern,https://github.com/root-project/root/issues/13079,1,['install'],['install']
Deployability,"nning)!. With LGTM fully integrated into code scanning, we are focused on improving CodeQL within the native GitHub code scanning experience. In order to take advantage of current and future improvements to our analysis capabilities, we suggest you enable code scanning on your repository. Please take a look at our [blog post for more information](https://github.blog/2022-08-15-the-next-step-for-lgtm-com-github-code-scanning/). This pull request enables code scanning by adding an auto-generated [`codeql.yml` workflow file for GitHub Actions](https://docs.github.com/en/code-security/code-scanning/automatically-scanning-your-code-for-vulnerabilities-and-errors/setting-up-code-scanning-for-a-repository#setting-up-code-scanning-manually) to your repository — take a look! We tested it before opening this pull request, so all should be working :heavy_check_mark:. In fact, you might already have seen some alerts appear on this pull request!. Where needed and if possible, we’ve adjusted the configuration to the needs of your particular repository. But of course, you should feel free to tweak it further! Check [this page](https://docs.github.com/en/code-security/code-scanning/automatically-scanning-your-code-for-vulnerabilities-and-errors/configuring-code-scanning#editing-a-code-scanning-workflow) for detailed documentation. Questions? Check out the FAQ below!. ### FAQ; <details>; <summary>Click here to expand the FAQ section</summary>. #### How often will the code scanning analysis run?; By default, code scanning will trigger a scan with the CodeQL engine on the following events:; * On every pull request — to flag up potential security problems for you to investigate before merging a PR.; * On every push to your default branch and other protected branches — this keeps the analysis results on your repository’s *Security* tab up to date.; * Once a week at a fixed time — to make sure you benefit from the latest updated security analysis even when no code was committed or PRs wer",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11808:1380,configurat,configuration,1380,https://root.cern,https://github.com/root-project/root/pull/11808,1,['configurat'],['configuration']
Deployability,"not store real data with this version of RNTuple!; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experimental::Internal::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNTupleDescriptorBuilder&)>: Pre-release format version: RC 1; [ OK ] RNTuple.StdPair (226 ms); [ RUN ] RNTuple.StdTuple; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RPageStorageFile.cxx:51 in ROOT::Experimental::Detail::RPageSinkFile::RPageSinkFile(std::string_view, const ROOT::Experimental::RNTupleWriteOptions&)>: The RNTuple file format will change. Do not store real data with this version of RNTuple!; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experimental::Internal::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNTupleDescriptorBuilder&)>: Pre-release format version: RC 1; [ OK ] RNTuple.StdTuple (169 ms); [ RUN ] RNTuple.Int64_t; [ OK ] RNTuple.Int64_t (0 ms); [ RUN ] RNTuple.Char; [ OK ] RNTuple.Char (0 ms); [ RUN ] RNTuple.Int8_t; [ OK ] RNTuple.Int8_t (0 ms); [ RUN ] RNTuple.Int16_t; [ OK ] RNTuple.Int16_t (0 ms); [ RUN ] RNTuple.UInt16_t; [ OK ] RNTuple.UInt16_t (0 ms); [ RUN ] RNTuple.UnsupportedStdTypes; [ OK ] RNTuple.UnsupportedStdTypes (3 ms); [ RUN ] RNTuple.Casting; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RPageStorageFile.cxx:51 in ROOT::Experimental::Detail::RPageSinkFile::RPageSinkFile(std::string_view, const ROOT::Experimental::RNTupleWriteOptions&)>: The RNTuple file format will change. Do not store real data with this version of RNTuple!; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResul",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12426:18020,release,release,18020,https://root.cern,https://github.com/root-project/root/issues/12426,1,['release'],['release']
Deployability,"not store real data with this version of RNTuple!; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experimental::Internal::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNTupleDescriptorBuilder&)>: Pre-release format version: RC 1; [ OK ] RNTuple.StdPair (237 ms); [ RUN ] RNTuple.StdTuple; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RPageStorageFile.cxx:51 in ROOT::Experimental::Detail::RPageSinkFile::RPageSinkFile(std::string_view, const ROOT::Experimental::RNTupleWriteOptions&)>: The RNTuple file format will change. Do not store real data with this version of RNTuple!; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experimental::Internal::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNTupleDescriptorBuilder&)>: Pre-release format version: RC 1; [ OK ] RNTuple.StdTuple (202 ms); [ RUN ] RNTuple.Int64_t; [ OK ] RNTuple.Int64_t (0 ms); [ RUN ] RNTuple.Char; [ OK ] RNTuple.Char (0 ms); [ RUN ] RNTuple.Int8_t; [ OK ] RNTuple.Int8_t (0 ms); [ RUN ] RNTuple.Int16_t; [ OK ] RNTuple.Int16_t (0 ms); [ RUN ] RNTuple.UInt16_t; [ OK ] RNTuple.UInt16_t (0 ms); [ RUN ] RNTuple.UnsupportedStdTypes; [ OK ] RNTuple.UnsupportedStdTypes (3 ms); [ RUN ] RNTuple.Casting; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RPageStorageFile.cxx:51 in ROOT::Experimental::Detail::RPageSinkFile::RPageSinkFile(std::string_view, const ROOT::Experimental::RNTupleWriteOptions&)>: The RNTuple file format will change. Do not store real data with this version of RNTuple!; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResul",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12428:3185,release,release,3185,https://root.cern,https://github.com/root-project/root/issues/12428,1,['release'],['release']
Deployability,"nother error about a protected field:. ```; /opt/root/src/roofit/hs3/src/JSONFactories_RooFitCore.cxx: In member function ‘virtual bool {anonymous}::RooExpPolyStreamer::exportObject(RooJSONFactoryWSTool*, const RooAbsArg*, RooFit::Detail::JSONNode&) const’:; /opt/root/src/roofit/hs3/src/JSONFactories_RooFitCore.cxx:448:25: error: ‘RooRealProxy RooExpPoly::_x’ is protected within this context; 448 | elem[""x""] << pdf->_x().GetName();; | ^~; In file included from /opt/root/src/roofit/hs3/src/JSONFactories_RooFitCore.cxx:20:; /opt/root/install/include/RooExpPoly.h:37:17: note: declared protected here; 37 | RooRealProxy _x;; | ^~; /opt/root/src/roofit/hs3/src/JSONFactories_RooFitCore.cxx:448:27: error: no match for call to ‘(const RooRealProxy {aka const RooTemplateProxy<RooAbsReal>}) ()’; 448 | elem[""x""] << pdf->_x().GetName();; | ~~~~~~~^~; /opt/root/src/roofit/hs3/src/JSONFactories_RooFitCore.cxx:453:32: error: ‘int RooExpPoly::_lowestOrder’ is protected within this context; 453 | for (int i = 0; i < pdf->_lowestOrder(); ++i) {; | ^~~~~~~~~~~~; /opt/root/install/include/RooExpPoly.h:39:8: note: declared protected here; 39 | int _lowestOrder;; | ^~~~~~~~~~~~; /opt/root/src/roofit/hs3/src/JSONFactories_RooFitCore.cxx:453:44: error: expression cannot be used as a function; 453 | for (int i = 0; i < pdf->_lowestOrder(); ++i) {; | ~~~~~~~~~~~~~~~~~^~; /opt/root/src/roofit/hs3/src/JSONFactories_RooFitCore.cxx:456:36: error: ‘RooListProxy RooExpPoly::_coefList’ is protected within this context; 456 | for (const auto &coef : pdf->_coefList()) {; | ^~~~~~~~~; /opt/root/install/include/RooExpPoly.h:38:17: note: declared protected here; 38 | RooListProxy _coefList;; | ^~~~~~~~~; /opt/root/src/roofit/hs3/src/JSONFactories_RooFitCore.cxx:456:45: error: no match for call to ‘(const RooListProxy {aka const RooCollectionProxy<RooArgList>}) ()’; 456 | for (const auto &coef : pdf->_coefList()) {; | ~~~~~~~~~~~~~~^~; make[2]: *** [roofit/hs3/CMakeFiles/RooFitHS3.dir/build.make:132: roof",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13101:2855,install,install,2855,https://root.cern,https://github.com/root-project/root/issues/13101,1,['install'],['install']
Deployability,"now that failed roottest causes the ROOT CI workflow to fail, reporing needs to happen also if the workflow failed, otherwise only successful tests are reported. # This Pull request:. ## Changes or fixes:. ## Checklist:. - [ ] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12823:257,update,updated,257,https://root.cern,https://github.com/root-project/root/pull/12823,1,['update'],['updated']
Deployability,"nput_line_38:7:19: note: previous using declaration; using TProfile::BufferFill;; ^; input_line_38:9:19: error: 'SetBins' is a private member of 'TProfile'; using TProfile::SetBins;; ^; /cvmfs/sft.cern.ch/lcg/releases/ROOT/v6.22.00-be0a0/x86_64-centos7-gcc8-opt/include/TProfile.h:67:9: note: declared private here; void SetBins(Int_t, Double_t, Double_t, Int_t, Double_t, Double_t); ^; input_line_38:9:19: error: 'SetBins' is a private member of 'TProfile'; using TProfile::SetBins;; ^; /cvmfs/sft.cern.ch/lcg/releases/ROOT/v6.22.00-be0a0/x86_64-centos7-gcc8-opt/include/TProfile.h:69:9: note: declared private here; void SetBins(Int_t, const Double_t*, Int_t, const Double_t*); ^; input_line_38:9:19: error: 'SetBins' is a private member of 'TProfile'; using TProfile::SetBins;; ^; /cvmfs/sft.cern.ch/lcg/releases/ROOT/v6.22.00-be0a0/x86_64-centos7-gcc8-opt/include/TProfile.h:71:9: note: declared private here; void SetBins(Int_t, Double_t, Double_t, Int_t, Double_t, Double_t, In...; ^; input_line_38:9:19: error: 'SetBins' is a private member of 'TProfile'; using TProfile::SetBins;; ^; /cvmfs/sft.cern.ch/lcg/releases/ROOT/v6.22.00-be0a0/x86_64-centos7-gcc8-opt/include/TProfile.h:73:9: note: declared private here; void SetBins(Int_t, const Double_t *, Int_t, const Double_t *, Int_t...; ^; input_line_38:10:19: error: 'Fill' is a private member of 'TProfile'; using TProfile::Fill;; ^; /cvmfs/sft.cern.ch/lcg/releases/ROOT/v6.22.00-be0a0/x86_64-centos7-gcc8-opt/include/TProfile.h:61:10: note: declared private here; Int_t Fill(Double_t) { MayNotUse(""Fill(Double_t)""); return -1;}; ^; Traceback (most recent call last):; File ""<stdin>"", line 1, in <module>; TypeError: no python-side overrides supported (failed to compile the dispatcher code); ```. It works ok with either TH1F or TH2F. It also worked with root 6.20.06. This is low priority. It showed up in ATLAS code, but the code in question is long obsolete and probably; best just removed. Submitting it now just to document the issue.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6345:1400,release,releases,1400,https://root.cern,https://github.com/root-project/root/issues/6345,2,['release'],['releases']
Deployability,"ns. 2. In the case of `RooFitResult::isIdenticalNoCov`, we need to check; the error of final parameters because there is no comparison of; covariance matrix values. The signature of the public function `isIdenticalNoCov` is extended by a; tolerance parameter for the error comparison. This is expected to not; break user code, because the function was only introduced in 6.26 and is; so far only used in a single unit test (`testSumW2Error`). The `testRooAbsPdf` unit test didn't reset the initial parameter errors; correctly, which is now fixed.; + gcc --version; gcc (GCC) 12.0.1 20220413 (Red Hat 12.0.1-0); Copyright (C) 2022 Free Software Foundation, Inc.; This is free software; see the source for copying conditions. There is NO; warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. + cmake -GNinja -S source -B build -Dxrootd=OFF; (...skip...); -- ROOT Configuration. System Linux-5.16.9-200.rog.fc35.x86_64; Processor 8 core AMD Ryzen 7 5800HS with Radeon Graphics (x86_64); Build type Release; Install path /usr/local; Compiler GNU 12.0.1; Compiler flags:; C -fdiagnostics-color=always -Wno-implicit-fallthrough -pipe -Wall -W -pthread -O3 -DNDEBUG; C++ -fdiagnostics-color=always -std=c++17 -Wno-implicit-fallthrough -Wno-noexcept-type -pipe -Wshadow -Wall -W -Woverloaded-virtual -fsigned-char -pthread -O3 -DNDEBUG; Linker flags:; Executable -rdynamic; Module; Shared -Wl,--no-undefined -Wl,--hash-style=""both"". -- Enabled support for: asimage builtin_afterimage builtin_clang builtin_cling builtin_llvm builtin_lz4 builtin_nlohmannjson builtin_openui5 builtin_tbb builtin_vdt builtin_xxhash builtin_zstd clad dataframe exceptions gdml http imt mlp minuit2 roofit webgui root7 rpath runtime_cxxmodules shared ssl tmva spectrum vdt x11 xml; -- Configuring done; -- Generating done; -- Build files have been written to: /reproducer/build; + cmake --build build; (...skip...); ```; ```; [7047/9103] Generating G__Core.cxx, ../lib/Core.pcm; FAILED: core/G__Core.cxx li",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10478:2717,Release,Release,2717,https://root.cern,https://github.com/root-project/root/issues/10478,2,"['Install', 'Release']","['Install', 'Release']"
Deployability,"ns::RColumnRepresentations()’; 110 | RColumnRepresentations();; | ^~~~~~~~~~~~~~~~~~~~~~; /opt/root/install/include/ROOT/RField.hxx:110:7: note: candidate expects 0 arguments, 2 provided; /opt/root/install/include/ROOT/RField.hxx:107:10: note: candidate: ‘ROOT::Experimental::Detail::RFieldBase::RColumnRepresentations::RColumnRepresentations(const ROOT::Experimental::Detail::RFieldBase::RColumnRepresentations&)’; 107 | class RColumnRepresentations {; | ^~~~~~~~~~~~~~~~~~~~~~; /opt/root/install/include/ROOT/RField.hxx:107:10: note: candidate expects 1 argument, 2 provided; /opt/root/install/include/ROOT/RField.hxx:107:10: note: candidate: ‘ROOT::Experimental::Detail::RFieldBase::RColumnRepresentations::RColumnRepresentations(ROOT::Experimental::Detail::RFieldBase::RColumnRepresentations&&)’; /opt/root/install/include/ROOT/RField.hxx:107:10: note: candidate expects 1 argument, 2 provided; make[2]: *** [tree/dataframe/CMakeFiles/ROOTDataFrame.dir/build.make:524: tree/dataframe/CMakeFiles/ROOTDataFrame.dir/src/RNTupleDS.cxx.o] Error 1; make[1]: *** [CMakeFiles/Makefile2:36193: tree/dataframe/CMakeFiles/ROOTDataFrame.dir/all] Error 2; ```. No header inclusion helped; it's really strange why 32 bit fields from the very same structure (enumeration) are visible, and 64 are not...; Had to comment out . > // {EColumnType::kSplitIndex64}, {EColumnType::kIndex64},. ### Reproducer. Clone ROOT repository, go to the build directory,. cmake -DCMAKE_CXX_COMPILER_LAUNCHER=ccache -DCMAKE_INSTALL_PREFIX=../install ../src; cmake --build . -- install -j4. ### ROOT version. Most recent ROOT version from the master branch at that time. commit https://github.com/root-project/root/commit/870618f1bfa43376c73bc07fa4becc0a54caa9ed (HEAD -> master, origin/master, origin/HEAD). ### Installation method. built from source. ### Operating system. Arch Linux. ### Additional context. Had several problems while installing ROOT from source today (submitted bugs). Hope this is not because of my own system.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13103:3743,install,install,3743,https://root.cern,https://github.com/root-project/root/issues/13103,4,"['Install', 'install']","['Installation', 'install', 'installing']"
Deployability,"nst*, std::vector<std::shared_ptr<clang::ModuleFileExtension>, std::allocator<std::shared_ptr<clang::ModuleFileExtension> > > const&, bool, cling::Interpreter const*) () from /cvmfs/sft-nightlies.cern.ch/lcg/views/dev3/Mon/x86_64-centos7-gcc8-opt/lib/libCling.so; #13 0x00007f6ff46276da in TCling::TCling(char const*, char const*, char const* const*) () from /cvmfs/sft-nightlies.cern.ch/lcg/views/dev3/Mon/x86_64-centos7-gcc8-opt/lib/libCling.so; #14 0x00007f6ff4628c20 in CreateInterpreter () from /cvmfs/sft-nightlies.cern.ch/lcg/views/dev3/Mon/x86_64-centos7-gcc8-opt/lib/libCling.so; #15 0x00007f70030165d9 in TROOT::InitInterpreter() () from /cvmfs/sft-nightlies.cern.ch/lcg/views/dev3/Mon/x86_64-centos7-gcc8-opt/lib/libCore.so; #16 0x00007f7003016a8f in ROOT::Internal::GetROOT2() () from /cvmfs/sft-nightlies.cern.ch/lcg/views/dev3/Mon/x86_64-centos7-gcc8-opt/lib/libCore.so; #17 0x00007f70035e68a2 in __static_initialization_and_destruction_0(int, int) [clone .constprop.376] () from /cvmfs/sft-nightlies.cern.ch/lcg/views/dev3/Mon/x86_64-centos7-gcc8-opt/lib/libcppyy_backend3_8.so; #18 0x00007f704e7d19c3 in _dl_init_internal () from /lib64/ld-linux-x86-64.so.2; #19 0x00007f704e7d659e in dl_open_worker () from /lib64/ld-linux-x86-64.so.2; #20 0x00007f704e7d17d4 in _dl_catch_error () from /lib64/ld-linux-x86-64.so.2; #21 0x00007f704e7d5b8b in _dl_open () from /lib64/ld-linux-x86-64.so.2; #22 0x00007f704dbf1fab in dlopen_doit () from /lib64/libdl.so.2; #23 0x00007f704e7d17d4 in _dl_catch_error () from /lib64/ld-linux-x86-64.so.2; #24 0x00007f704dbf25ad in _dlerror_run () from /lib64/libdl.so.2; #25 0x00007f704dbf2041 in dlopen. GLIBC_2.2.5 () from /lib64/libdl.so.2; ... (more Python-related stack); ```. Installing the ROOT dependencies in the system fixed the error. I ran the following command:. `sudo yum install git make cmake3 gcc-c++ gcc binutils libX11-devel libXpm-devel libXft-devel libXext-devel python openssl-devel`. but I don't know exactly what dependency fixed it.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/8157:5048,Install,Installing,5048,https://root.cern,https://github.com/root-project/root/issues/8157,2,"['Install', 'install']","['Installing', 'install']"
Deployability,"nstalled/HEP/Root/build/etc/cling/Interpreter/DynamicLookupLifetimeHandler.h:12:10: note: submodule of top-level module 'std' implicitly imported here; #include <string>; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/DynamicLookupLifetimeHandler.h:56:7: error: use of undeclared identifier 'std'; std::string m_Type;; ^; While building module 'Core':; While building module 'Cling_Runtime' imported from input_line_2:1:; While building module 'Cling_Runtime_Extra' imported from /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/RuntimeUniverse.h:27:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Visibility.h:13:10: note: submodule of top-level module 'std' implicitly imported here; #include <new>; ^; While building module 'Core':; While building module 'Cling_Runtime' imported from input_line_2:1:; While building module 'Cling_Runtime_Extra' imported from /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/RuntimeUniverse.h:27:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:17:10: note: submodule of top-level module 'std' implicitly imported here; #include <type_traits>; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:93:41: error: use of undeclared identifier 'std'; template <class T, class = typename std::enable_if<std::is_integral<T>::value>::type>; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:93:56: error: use of undeclared identifier 'std'; template <class T, class = typename std::enable_if<std::is_integral<T>::value>::type>; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10528:16494,Install,Installed,16494,https://root.cern,https://github.com/root-project/root/issues/10528,1,['Install'],['Installed']
Deployability,"nt [working as expected]. To see the behavior of the `OverallSys` modifier when removing the associated constraint term, edit the xml and add the `ConstraintTerm` configuration. The measurement should then look like this:; ```xml; <Measurement Name=""minimal_example"" Lumi=""1"" LumiRelErr=""0.1"" ExportOnly=""True"">; <POI>mu</POI>; <ParamSetting Const=""True"">Lumi</ParamSetting>; <ConstraintTerm Type=""Uniform"" RelativeUncertainty=""1"">NP_norm</ConstraintTerm>; </Measurement>; ```; Repeat the workspace conversion and fitting:; ```bash; cd input; hist2workspace minimal_example.xml; cd ..; root -l -q fit.cxx; ```; and the result is now; ```txt; NO. NAME VALUE; 1 alpha_NP_norm -6.61703e-01; 2 alpha_NP_shape -2.12313e-01; 3 mu 1.10747e+00; ```; where the pull for `alpha_NP_norm` has increased, which makes sense given the removal of its constraint term. #### `HistoSys` with uniform constraint [not working as expected]. To see the behavior of the `HistoSys` modifier when removing the associated constraint term, edit the xml and add the `ConstraintTerm` configuration for `NP_shape`. The measurement should then look like this:; ```xml; <Measurement Name=""minimal_example"" Lumi=""1"" LumiRelErr=""0.1"" ExportOnly=""True"">; <POI>mu</POI>; <ParamSetting Const=""True"">Lumi</ParamSetting>; <ConstraintTerm Type=""Uniform"" RelativeUncertainty=""1"">NP_shape</ConstraintTerm>; </Measurement>; ```; Repeat the workspace conversion and fitting:; ```bash; cd input; hist2workspace minimal_example.xml; cd ..; root -l -q fit.cxx; ```; and the result is again; ```txt; NO. NAME VALUE; 1 alpha_NP_norm -4.66233e-01; 2 alpha_NP_shape -1.70517e-01; 3 mu 1.04248e+00; ```; which is exactly the same as the initial result when; ```xml; <ConstraintTerm Type=""Uniform"" RelativeUncertainty=""1"">NP_shape</ConstraintTerm>; ```; was not used. The setting seems to have been ignored. #### Using `NoSyst` [crashing, unexpected behavior in workaround]. In addition to `Uniform`, `NoSyst` is also available:; https://github.com/root-p",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/9070:2809,configurat,configuration,2809,https://root.cern,https://github.com/root-project/root/issues/9070,1,['configurat'],['configuration']
Deployability,"ntal::RFieldBase> > ROOT::Experimental::RFieldBase::Create(const std::string&, const std::string&) [/home/florine/cern/root/src/tree/ntuple/v7/src/RField.cxx:485]; ```. The reason for this is that RNTuple friends are (virtually) represented as untyped record fields. One solution could be to create an artificial `RRecordField` to bind the fields to, in a similar fashion to what is done here: https://github.com/root-project/root/blob/f3fc75b2078cec442c0f6060d2bfd4e86cf83b06/tree/ntuple/v7/src/RNTupleDescriptor.cxx#L65-L77. With the reproducer below this would result in the following:; ``` ; // Show; {; ""ntpl1"": {; ""foo"": 3.14; },; ""ntpl2"": {; ""bar"": 2.72; }; }. // PrintInfo; ************************************ NTUPLE ************************************; * N-Tuple : _friends *; * Entries : 10 *; ********************************************************************************; * Field 1 : ntuple1 *; * Field 1.1 : x (std::int32_t) *; * Field 2 : ntuple2 *; * Field 2.1 : y (std::int32_t) *; ********************************************************************************; ```; As a quick fix this is fine, but it might be nicer to have a representation that better respects the meaning of befriended RNTuples. ### Reproducer. ```cpp; void show_friends() {; {; auto model = RNTupleModel::Create();; auto foo = model->MakeField<float>(""foo"");; auto writer = RNTupleWriter::Recreate(std::move(model), ""ntpl1"", ""ntpl1.root"");; *foo = 3.14;; writer->Fill();; }; {; auto model = RNTupleModel::Create();; auto bar = model->MakeField<float>(""bar"");; auto writer = RNTupleWriter::Recreate(std::move(model), ""ntpl2"", ""ntpl2.root"");; *bar = 2.72;; writer->Fill();; }. std::vector<RNTupleReader::ROpenSpec> friends = {{""ntpl1"", ""ntpl1.root""},; {""ntpl2"", ""ntpl2.root""}};; auto ntuple = RNTupleReader::OpenFriends(friends);; ntuple->Show(0);; // same for ntuple->PrintInfo();; }; ```. ### ROOT version. any. ### Installation method. any. ### Operating system. any. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14748:2467,Install,Installation,2467,https://root.cern,https://github.com/root-project/root/issues/14748,1,['Install'],['Installation']
Deployability,"nterey-m1; [+] ^gdbm@1.23%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^readline@8.1.2%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^gettext@0.21%apple-clang@13.1.6+bzip2+curses+git~libunistring+libxml2+tar+xz arch=darwin-monterey-m1; [+] ^libffi@3.4.2%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^openssl@1.1.1q%apple-clang@13.1.6~docs~shared certs=mozilla patches=3fdcf2d arch=darwin-monterey-m1; [+] ^ca-certificates-mozilla@2022-07-19%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^sqlite@3.39.2%apple-clang@13.1.6+column_metadata+dynamic_extensions+fts~functions+rtree arch=darwin-monterey-m1; [+] ^unuran@1.8.1%apple-clang@13.1.6~gsl+rngstreams+shared arch=darwin-monterey-m1; [+] ^rngstreams@1.0.1%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^vdt@0.4.3%apple-clang@13.1.6~ipo~preload build_type=RelWithDebInfo arch=darwin-monterey-m1; [+] ^python@3.9.13%apple-clang@13.1.6+bz2+ctypes+dbm~debug+libxml2+lzma~nis~optimizations+pic+pyexpat+pythoncmd+readline+shared+sqlite3+ssl~tix~tkinter~ucs4+uuid+zlib patches=0d98e93,4c24573,f2fd060 arch=darwin-monterey-m1; [+] ^apple-libuuid@1353.100.2%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^bzip2@1.0.8%apple-clang@13.1.6~debug~pic+shared arch=darwin-monterey-m1; [+] ^gdbm@1.23%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^readline@8.1.2%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^ncurses@5.7.20081102%apple-clang@13.1.6~symlinks+termlib abi=5 patches=f84b270 arch=darwin-monterey-m1; [+] ^gettext@0.21%apple-clang@13.1.6+bzip2+curses+git~libunistring+libxml2+tar+xz arch=darwin-monterey-m1; [+] ^sqlite@3.39.2%apple-clang@13.1.6+column_metadata+dynamic_extensions+fts~functions+rtree arch=darwin-monterey-m1; [+] ^xz@5.2.5%apple-clang@13.1.6~pic libs=shared,static arch=darwin-monterey-m1; [+] ^xxhash@0.8.1%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^zstd@1.5.2%apple-clang@13.1.6~programs libs=shared,static arch=darwin-monterey-m1; </pre></details>. which results in the cmake command:; <details><summary>cmake",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11312:10543,patch,patches,10543,https://root.cern,https://github.com/root-project/root/issues/11312,1,['patch'],['patches']
Deployability,"nterpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(85,11): message : 'std::wstring std::format<const std::unique_ptr<llvm::GIMatchDagPredicate,std::default_delete<llvm::GIMatchDagPredicate>>*>(const std::basic_format_string<wchar_t,const std::unique_ptr<llvm::GIMatchDagPredicate,std::default_delete<llvm::GIMatchDagPredicate>> *>,const std::unique_ptr<llvm::GIMatchDagPredicate,std::default_delete<llvm::GIMatchDagPredicate>> *&&)': cannot convert argument 1 from 'const char [5]' to 'const std::basic_format_string<wchar_t,const std::unique_ptr<llvm::GIMatchDagPredicate,std::default_delete<llvm::GIMatchDagPredicate>> *>' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(85,18): message : No constructor could take the source type, or constructor overload resolution was ambiguous [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\VC\Tools\MSVC\14.35.32215\include\format(3521,19): message : or 'std::string std::format<const std::unique_ptr<llvm::GIMatchDagPredicate,std::default_delete<llvm::GIMatchDagPredicate>>*>(const std::basic_format_string<char,const std::unique_ptr<llvm::GIMatchDagPredicate,std::default_delete<llvm::GIMatchDagPredicate>> *>,const std::unique_ptr<llvm::GIMatchDagPredicate,std::default_delete<llvm::GIMatchDagPredicate>>*&&)' [found using argument-dependent lookup] [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\VC\Tools\MSVC\14.35.32215\include\format(3536,20): message : or 'std::wstring std::format(const std::locale &,const std::basic_format_string<wchar_t,type_identity<_Args>::type...>,_Types &",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12523:8447,release,release,8447,https://root.cern,https://github.com/root-project/root/pull/12523,1,['release'],['release']
Deployability,"ntry=0x55e760617f50, self=self entry=0x55e75ccfd080, offset=<optimized out>, ctxt=ctxt entry=0x7f5b79ae0430) at ../bindings/pyroot/cppyy/CPyCppyy/src/CPPMethod.cxx:728; #27 0x00007f5b8debc46c in CPyCppyy::CPPMethod::Call(CPyCppyy::CPPInstance*&, _object*, _object*, CPyCppyy::CallContext*) (this=0x55e760617f50, self= 0x7f5b8080ef50: 0x7f5b808043c0, args=0x7f5b8e1ab040, kwds=<optimized out>, ctxt=0x7f5b79ae0430) at ../bindings/pyroot/cppyy/CPyCppyy/src/CPPMethod.cxx:783; #28 0x00007f5b8dec09fe in CPyCppyy::(anonymous namespace)::mp_call(CPyCppyy::CPPOverload*, PyObject*, PyObject*) (pymeth=0x7f5b8080ef40, args=0x7f5b8e1ab040, kwds=0x0) at ../bindings/pyroot/cppyy/CPyCppyy/src/CPPOverload.cxx:566; #29 0x00007f5b8e941333 in _PyObject_MakeTpCall () at /usr/lib/libpython3.9.so.1.0; #30 0x00007f5b8e93d218 in _PyEval_EvalFrameDefault () at /usr/lib/libpython3.9.so.1.0; #31 0x00007f5b8e936fd9 in () at /usr/lib/libpython3.9.so.1.0; #32 0x00007f5b8e948b8e in _PyFunction_Vectorcall () at /usr/lib/libpython3.9.so.1.0; #33 0x00007f5b8e93aec9 in _PyEval_EvalFrameDefault () at /usr/lib/libpython3.9.so.1.0; #34 0x00007f5b8e94896b in _PyFunction_Vectorcall () at /usr/lib/libpython3.9.so.1.0; #35 0x00007f5b8e93858e in _PyEval_EvalFrameDefault () at /usr/lib/libpython3.9.so.1.0; #36 0x00007f5b8e94896b in _PyFunction_Vectorcall () at /usr/lib/libpython3.9.so.1.0; #37 0x00007f5b8e93858e in _PyEval_EvalFrameDefault () at /usr/lib/libpython3.9.so.1.0; #38 0x00007f5b8e94896b in _PyFunction_Vectorcall () at /usr/lib/libpython3.9.so.1.0; #39 0x00007f5b8e95795b in () at /usr/lib/libpython3.9.so.1.0; #40 0x00007f5b8ea3cac6 in () at /usr/lib/libpython3.9.so.1.0; #41 0x00007f5b8ea17554 in () at /usr/lib/libpython3.9.so.1.0; #42 0x00007f5b8e62c259 in start_thread () at /usr/lib/libpthread.so.0; #43 0x00007f5b8e7425e3 in clone () at /usr/lib/libc.so.6; ```. # This Pull request:. ## Changes or fixes:. ## Checklist:. - [x] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9139:5045,update,updated,5045,https://root.cern,https://github.com/root-project/root/pull/9139,1,['update'],['updated']
Deployability,"ntuple/v7/src/RNTupleSerialize.cxx:646]\n"" (of type char const*); [ FAILED ] RNTuple.SerializeEnvelope (0 ms); [ RUN ] RNTuple.SerializeFrame; [ OK ] RNTuple.SerializeFrame (0 ms); [ RUN ] RNTuple.SerializeFeatureFlags; [ OK ] RNTuple.SerializeFeatureFlags (0 ms); [ RUN ] RNTuple.SerializeLocator; /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/test/ntuple_serialize.cxx:341: Failure; Failed; unsupported locator type should throw; [ FAILED ] RNTuple.SerializeLocator (0 ms); [ RUN ] RNTuple.SerializeEnvelopeLink; [ OK ] RNTuple.SerializeEnvelopeLink (0 ms); [ RUN ] RNTuple.SerializeClusterSummary; [ OK ] RNTuple.SerializeClusterSummary (0 ms); [ RUN ] RNTuple.SerializeClusterGroup; [ OK ] RNTuple.SerializeClusterGroup (0 ms); [ RUN ] RNTuple.SerializeEmptyHeader; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experimental::Internal::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNTupleDescriptorBuilder&)>: Pre-release format version: RC 1; [ OK ] RNTuple.SerializeEmptyHeader (190 ms); [ RUN ] RNTuple.SerializeHeader; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experimental::Internal::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNTupleDescriptorBuilder&)>: Pre-release format version: RC 1; [ OK ] RNTuple.SerializeHeader (0 ms); [ RUN ] RNTuple.SerializeFooter; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experimental::Internal::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNTupleDescriptorBuilder&)>: Pre-release format version: RC 1; [ OK ] RNTuple.SerializeFooter (0 ms); [----------] 14 tests from RNTuple (19",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12426:13852,release,release,13852,https://root.cern,https://github.com/root-project/root/issues/12426,1,['release'],['release']
Deployability,"nu-gfortran supports Fortran 90 - yes; -- Found GCC. Major version 10, minor version 3; -- Looking for pthread.h; -- Looking for pthread.h - found; -- Performing Test CMAKE_HAVE_LIBC_PTHREAD; -- Performing Test CMAKE_HAVE_LIBC_PTHREAD - Failed; -- Looking for pthread_create in pthreads; -- Looking for pthread_create in pthreads - not found; -- Looking for pthread_create in pthread; -- Looking for pthread_create in pthread - found; -- Found Threads: TRUE ; -- Performing Test GLIBCXX_USE_CXX11_ABI; -- Performing Test GLIBCXX_USE_CXX11_ABI - Success; -- ROOT Platform: linux; -- ROOT Compiler: GNU 10.3.0; -- ROOT Processor: x86_64; -- ROOT Architecture: linuxx8664gcc; -- Build Type: 'Debug' (flags = ''); -- Compiler Flags: -march=native -O2 -pipe -Og -fno-omit-frame-pointer -g -ggdb -std=c++17 -Wno-implicit-fallthrough -Wno-noexcept-type -pipe -Wshadow -Wall -W -Woverloaded-virtual -fsigned-char -pthread ; -- ROOT default compression algorithm: zlib; -- PyROOT will be built for version 3.8.10; CMake Error at CMakeLists.txt:139 (string):; string sub-command REGEX, mode REPLACE needs at least 6 arguments total to; command. CMake Error at CMakeLists.txt:140 (string):; string sub-command REGEX, mode REPLACE needs at least 6 arguments total to; command.; ```. Note that the default flags for 'Debug' build are empty (on purpose, because compile flags are controlled by the package manager), and that this makes a string substitution command fail, likely because of lack of quoting some variable. I set `asserts` to `OFF` in the command line, though. Ideally, if something is exposed as an option to users, like `-Dasserts=ON` is, and it's set to `OFF` on the command line, it should not be altered by the build system, as that is surprising behavior. In any case, empty default flags (or even build type) is not something that should break configuration. Note that in multi-configuration generators, `CMAKE_BUILD_TYPE` is *always* empty, so the build system cannot assume it has any value.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/8193:5647,configurat,configuration,5647,https://root.cern,https://github.com/root-project/root/issues/8193,2,['configurat'],['configuration']
Deployability,"numsWithLock.h TListOfFunctions.h TListOfFunctionTemplates.h TMemberStreamer.h TMethodArg.h TMethodCall.h TMethod.h TProtoClass.h TRealData.h TSchemaHelper.h TSchemaRule.h TSchemaRuleSet.h TStatusBitsChecker.h TStreamerElement.h TStreamer.h TVirtualIsAProxy.h TVirtualRefProxy.h TVirtualStreamerInfo.h TVirtualArray.h TVirtualObject.h Getline.h /home/cai/root/root-6.26.06/core/base/inc/LinkDef.h ; Segmentation fault; gmake[2]: *** [core/CMakeFiles/G__Core.dir/build.make:470: core/G__Core.cxx] Error 1; gmake[1]: *** [CMakeFiles/Makefile2:33018: core/CMakeFiles/G__Core.dir/all] Error 2; gmake: *** [Makefile:156: all] Error 2. I've tried some times, the build never success, here I come for help. reeBSD# gcc --version ; gcc (FreeBSD Ports Collection) 11.3.0; Copyright (C) 2021 Free Software Foundation, Inc.; This is free software; see the source for copying conditions. There is NO; warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. the compiler I installed:; FreeBSD# c++ --version; FreeBSD clang version 13.0.0 (git@github.com:llvm/llvm-project.git llvmorg-13.0.0-0-gd7b669b3a303); Target: x86_64-unknown-freebsd13.1; Thread model: posix; InstalledDir: /usr/bin; FreeBSD# clang --version; FreeBSD clang version 13.0.0 (git@github.com:llvm/llvm-project.git llvmorg-13.0.0-0-gd7b669b3a303); Target: x86_64-unknown-freebsd13.1; Thread model: posix; InstalledDir: /usr/bin; -->. ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->. ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->. ### Setup; <!--; 1. ROOT version 6.26.06; 2. Operating system FreeBSD13.1; 3. How you obtained ROOT: built it from source.; -->. ### Additional context; <!--; Add any other context about the problem here.; -->",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11430:7602,install,installed,7602,https://root.cern,https://github.com/root-project/root/issues/11430,3,"['Install', 'install']","['InstalledDir', 'installed']"
Deployability,"nux/waitpid.c:30; #1 0x00007f075f804067 in do_system (line=<optimized out>) at ../sysdeps/posix/system.c:149; #2 0x00007f0765354577 in TUnixSystem::Exec (shellcmd=<optimized out>, this=0x55935a0857c0) at /home/yasmin/root/root-6.12.06/core/unix/src/TUnixSystem.cxx:2118; #3 TUnixSystem::StackTrace (this=0x55935a0857c0) at /home/yasmin/root/root-6.12.06/core/unix/src/TUnixSystem.cxx:2412; #4 0x00007f0765356c9c in TUnixSystem::DispatchSignals (this=0x55935a0857c0, sig=kSigSegmentationViolation) at /home/yasmin/root/root-6.12.06/core/unix/src/TUnixSystem.cxx:3643; #5 <signal handler called>; #6 0x00007f0761bb4118 in G4RToEConvForGamma::BuildAbsorptionLengthVector(G4Material const*, G4PhysicsLogVector*) () from /home/yasmin/CERN/geant4.10.03.p03-install/lib/libG4processes.so; #7 0x00007f0761bb6c3f in G4VRangeToEnergyConverter::Convert(double, G4Material const*) () from /home/yasmin/CERN/geant4.10.03.p03-install/lib/libG4processes.so; #8 0x00007f0761bb0bee in G4ProductionCutsTable::UpdateCoupleTable(G4VPhysicalVolume*) () from /home/yasmin/CERN/geant4.10.03.p03-install/lib/libG4processes.so; #9 0x00007f0763b9c5e2 in G4RunManagerKernel::RunInitialization(bool) () from /home/yasmin/CERN/geant4.10.03.p03-install/lib/libG4run.so; #10 0x00007f0763b8b3f7 in G4RunManager::RunInitialization() () from /home/yasmin/CERN/geant4.10.03.p03-install/lib/libG4run.so; #11 0x00007f0763b852c6 in G4RunManager::BeamOn(int, char const*, int) () from /home/yasmin/CERN/geant4.10.03.p03-install/lib/libG4run.so; #12 0x00007f0763b921fb in G4MTRunManager::Initialize() () from /home/yasmin/CERN/geant4.10.03.p03-install/lib/libG4run.so; #13 0x0000559358750187 in main (); ===========================================================. The lines below might hint at the cause of the crash.; You may get help by asking at the ROOT forum http://root.cern.ch/forum.; Only if you are really convinced it is a bug in ROOT then please submit a; report at http://root.cern.ch/bugs. Please post the ENTIRE stack trace; f",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/9952:1832,Update,UpdateCoupleTable,1832,https://root.cern,https://github.com/root-project/root/issues/9952,1,['Update'],['UpdateCoupleTable']
Deployability,nvc++ issued a warning on the last return statement being unreachable. # This Pull request:. ## Changes or fixes:. Said warning. ## Checklist:. - [ ] tested changes locally; - [x] updated the docs (if necessary),MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14140:180,update,updated,180,https://root.cern,https://github.com/root-project/root/pull/14140,1,['update'],['updated']
Deployability,"o correct the result.; If the integral is inside a plot instead, the integral does not see the `RooLinearVar` as client of the integration variable, and decides to just integrate numerically, which, at least in my case, is slow. ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->; `RooLinearVar` are used in the integration even when doing a plot projection. ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->; ```python; import ROOT; from ROOT.RooFit import RooConst. x = ROOT.RooRealVar('x', '', 0, 1); y = ROOT.RooRealVar('y', '', 0, 1). x2 = ROOT.RooLinearVar('x2', '', x, RooConst(1), RooConst(0)); y2 = ROOT.RooLinearVar('y2', '', y, RooConst(1), RooConst(0)). # RooGaussian can integrate over x or mu, but not both; # still, the issue is visible regardless; D2 = ROOT.RooGaussian('g', '', x2, y2, RooConst(0.2)). # needed only to set the correct normalization in the frame; dt = D2.generate({x,y}, NumEvents = 10). # works fine, numerical integral only for the 2D normalization integral, and its over y2 (meaning that the RooLinearVar integral works); # but not in the y projection; # if the pdf supported 2D integrals, there would be no numerical integrals at all; integral = D2.createIntegral({y}, NormSet = {x,y}); print('Projection is', integral, flush = True). # numerical integral over y2 in the 2D normalization (expected, like above); # numerical integral in the y projection (unwanted); frame = x.frame(); dt.plotOn(frame); D2.plotOn(frame); ```. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->; ROOT master from LCG dev3. ### Additional context; <!--; Add any other context about the problem here.; -->",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12646:2510,install,install,2510,https://root.cern,https://github.com/root-project/root/issues/12646,1,['install'],['install']
Deployability,"o the existing report, for instance ""issue still exists in today's master"".; -->. ### Describe the bug; <!--; A clear and concise description of what the wrong behavior is.; -->; Specifying `colTypes` as `'D'` in `RDF::FromCSV` results in columns of type `double` with all values `0.0`. ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->; Columns of type `double` with values read from the csv file. ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->; Run the following macro with `root`; ```; {; std::ofstream outfile;; outfile.open(""./toydata.csv"");; outfile << ""5,3\n7,8.1\n4.1,4.67\n-1.3,5.01"";; outfile.close();. auto df1 = ROOT::RDF::FromCSV(""./toydata.csv"", false);; auto df2 = ROOT::RDF::FromCSV(""./toydata.csv"", false, ',', -1, {{""Col0"", 'D'}});; auto df3 = ROOT::RDF::FromCSV(""./toydata.csv"", false, ',', -1, {{""Col1"", 'D'}});; auto df4 = ROOT::RDF::FromCSV(""./toydata.csv"", false, ',', -1, {{""Col0"", 'D'},{""Col1"", 'D'}});. std::cout << ""colTypes = {}"" << std::endl;; df1.Display()->Print();; std::cout << ""colTypes = {{\""Col0\"", \'D\'}}"" << std::endl;; df2.Display()->Print();; std::cout << ""colTypes = {{\""Col1\"", \'D\'}}"" << std::endl;; df3.Display()->Print();; std::cout << ""colTypes = {{\""Col0\"", \'D\'},{\""Col1\"", \'D\'}}"" << std::endl;; df4.Display()->Print();; }; ```. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->; *ROOT Version:* 6.28/00; *Operating system:* macosx 10.15.7; *ROOT obtained from:* conda-forge. ### Additional context; <!--; Add any other context about the problem here.; -->; First posted on the ROOT forum here https://root-forum.cern.ch/t/how-to-use-coltype-in-rdf-fromcsv/54155.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12520:1938,install,install,1938,https://root.cern,https://github.com/root-project/root/issues/12520,1,['install'],['install']
Deployability,"o the existing report, for instance ""issue still exists in today's master"".; -->. ### Describe the bug; I built ROOT from source using option `gnuinstall=ON` and cloning `latest-stable` branch.; After the installation the script `/usr/local/bin/thisroot.fish` sets `JUPYTER*` environment variables as follows:; ```; JUPYTER_PATH=ROOTSYS/etc/notebook; JUPYTER_CONFIG_DIR=ROOTSYS/etc/notebook; ```. Commit [0be8bbe](https://github.com/root-project/root/commit/0be8bbee9570776d17196b32c82db1d25c6e3530) has already corrected `ROOTSYS` with `$ROOTSYS` (i.e. `/usr/local`) but still the path is not correct considering that `gnuinstall=ON`. . <!--; A clear and concise description of what the wrong behavior is.; -->. ### Expected behavior; The correct environment variables would be; ```; JUPYTER_PATH=/usr/local/etc/root/notebook; JUPYTER_CONFIG_DIR=/usr/local/etc/root/notebook; ```; <!--; A clear and concise description of what you expected to happen.; -->. ### To Reproduce; 1. Build and install `latest-stable` branch; 2. Modify `/usr/local/bin/thisroot.fish` prepending a `$` to `ROOTSYS` at lines 50 and 51; 3. Source `/usr/local/bin/thisroot.fish` and run `jupyter-lab`; 4. At this point an error shows that `/usr/local/etc/notebook` is not a valid path; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->. ### Setup; 1. ROOT version: 6.24/00; 2. Operating system: openSUSE Tumbleweed -- release: 20210606; 3. Compiler version: gcc (SUSE Linux) 11.1.1 20210510 [revision 23855a176609fe8dda6abaf2b21846b4517966eb]; 3. ROOT built for linuxx8664gcc on Jun 12 2021, 01:11:00, from heads/latest-stable@e6a04a86, with options:; a. `gnuinstall=ON`; b. `imt=ON`; c. `minuit2=ON`; d. `rpath=ON`; e. `pyroot=ON`; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `d",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/8435:1268,install,install,1268,https://root.cern,https://github.com/root-project/root/issues/8435,1,['install'],['install']
Deployability,"o the ntuple model. This will also create a memory location attached; // to the model's default entry, that will be used to place the data supposed to be written; model->AddField(std::move(field));; }; auto ntuple = RNTupleWriter::Append(std::move(model), name2, *out);; auto entry = ntuple->GetModel()->CreateEntry();. for (auto b : TRangeDynCast<TBranch>(*tree->GetListOfBranches())) {; auto l = static_cast<TLeaf*>(b->GetListOfLeaves()->First());; // We connect the model's default entry's memory location for the new field to the branch, so that we can; // fill the ntuple with the data read from the TTree; void* fieldDataPtr = entry->GetValue(l->GetName()).GetRawPtr();; tree->SetBranchAddress(b->GetName(), fieldDataPtr);; }; auto nEntries = tree->GetEntries();; for (decltype(nEntries) i = 0; i < nEntries; ++i) {; tree->GetEntry(i);; ntuple->Fill(*entry);. if (i && i % 100000 == 0) {; std::cout << ""Wrote "" << i << "" entries"" << std::endl;; }; }; }; }; out->cd();; }; }; }; ```. you can then compile it with . ```; c++ -std=c++17 -g ao2dToAO2NT.cxx -I$ROOTSYS/include -L$ROOTSYS/lib `root-config --libs` -lROOTNTuple -fsanitize=address`; ```. and run it on the downloaded test file:. ```bash; curl -O http://alimonitor.cern.ch/train-workdir/testdata/LFN/alice/data/2015/LHC15o/000246392/pass2/PWGZZ/Run3_Conversion/320_20220701-0813/AOD/174/AO2D.root; ./a.out AO2D.root; ```. ### ROOT version. ```; ------------------------------------------------------------------; | Welcome to ROOT 6.28/04 https://root.cern |; | (c) 1995-2022, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built for macosxarm64 on Nov 01 2023, 10:33:00 |; | From tags/v6-28-04-alice3@v6-28-04-3-g186ec88ba4 |; | With Apple clang version 15.0.0 (clang-1500.0.40.1) |; | Try '.help'/'.?', '.demo', '.license', '.credits', '.quit'/'.q' |; ------------------------------------------------------------------; ```. ### Installation method. aliBuild. ### Operating system. macos. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13996:14364,Install,Installation,14364,https://root.cern,https://github.com/root-project/root/issues/13996,1,['Install'],['Installation']
Deployability,"oGaussian gaus2(""gaus2"", ""gaus2"", x, mass, width);. // multiply one Gaussian with unity to get a RooProdPdf; RooUniform uni(""uni"", ""uni"", RooArgList(x));; RooProdPdf prod(""prod"", ""prod"", RooArgList(gaus1, uni));. // add zero trick to ""convert"" the RooProdPdf into a RealSumPdf; RooUniform dummy_for_sum_pdf{""dummy_for_sum_pdf"", ""dummy_for_sum_pdf"", x};; RooRealVar unity_for_sum_pdf(""unity_for_sum_pdf"", ""unity_for_sum_pdf"", 1);; RooRealSumPdf prod_fixed( ""prod_fixed"", ""prod_fixed"",; RooArgList(prod, dummy_for_sum_pdf),; RooArgList(unity_for_sum_pdf) );. // convolute pdf (replace prod with prod_fixed to enable hotfix); RooFFTConvPdf conv(""conv"", ""conv"", x, prod, gaus2);. // make plot; TCanvas c(""convolution"", ""convolution"");; auto xframe = x.frame(RooFit::Title(""With RooProdPdf""));. gaus1.plotOn(xframe);; gaus2.plotOn(xframe);; prod.plotOn(xframe);; conv.plotOn(xframe);. xframe->Draw();; c.SaveAs(""convolution.png"");. // the result of the convolution is expected to be a wider Gaussian around 1000,; // but without the hotfix it is just a non-zero constant!; }; ```. The executable can be compiled with:; ```bash; g++ $(root-config --cflags) -o convolution convolution.cc $(root-config --libs) -lRooFitCore -lRooFit; ```. An interesting observation is that by turning the `RooProdPdf` into a `RooRealSumPdf` by adding another `RooUniform` with coefficient zero, the problem is gone. So the problem is really in the interaction between `RooProdPdf` and `RooFFTConvPdf`. <img src=""https://user-images.githubusercontent.com/6578603/107349328-5eb73300-6ac8-11eb-953b-b21e90db8abc.png"" width=""400"" alt=""convolution""/> <img src=""https://user-images.githubusercontent.com/6578603/107349528-9de58400-6ac8-11eb-997a-ea938868de60.png"" width=""400"" alt=""convolution_hotfix""/>. ### Setup. Current ROOT master built on CentOS 7. ### Additional context. * Originally reported in the [ROOT forum](https://root-forum.cern.ch/t/roofftconvpdf-gives-constant-zero/43443); * In the forum it was reported that this",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7157:1950,hotfix,hotfix,1950,https://root.cern,https://github.com/root-project/root/issues/7157,1,['hotfix'],['hotfix']
Deployability,"oRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/move.h:57:10: note: submodule of top-level module 'std' implicitly imported here; #include <type_traits> // Brings in std::declval too.; ^; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/stl_iterator.h:70:11: note: submodule of top-level module 'std' implicitly imported here; # include <type_traits>; ^; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/ostream_insert.h:35:10: note: submodule of top-level module 'std' implicitly imported here; #include <iosfwd>; ^; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/ostream_insert.h:37:10: note: submodule of top-level module 'std' implicitly imported here; #include <bits/exception_define",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10528:27997,Install,Installed,27997,https://root.cern,https://github.com/root-project/root/issues/10528,1,['Install'],['Installed']
Deployability,"o_t*, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #13 0x00007ffff5619f76 in TClass::TClass(char const*, short, std::type_info const&, TVirtualIsAProxy*, char const*, char const*, int, int, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #14 0x00007ffff561a48a in ROOT::CreateClass(char const*, short, std::type_info const&, TVirtualIsAProxy*, char const*, char const*, int, int) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #15 0x00007ffff562906a in ROOT::TGenericClassInfo::GetClass() (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #16 0x00007ffff5606b70 in TClass::LoadClassDefault(char const*, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #17 0x00007ffff560ee9c in TClass::GetClass(char const*, bool, bool, unsigned long, unsigned long) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; ...; ```. The unload() call here may free the Transaction T; (via IncrementalParser::deregisterTransaction) and return it to the pool.; But the code in findScope is protected by . ```; // The user wants to see the template instantiation, existing or not.; // Here we might not have an active transaction to handle; // the caused instantiation decl.; // Also quickFindDecl could trigger deserialization of decls.; Interpreter::PushTransactionRAII pushedT(m_Interpreter);; ```. The dtor of this runs when we hit the return above --- and this will; end up releasing the _same_ Transaction object to the pool. This version of the code in findScope was introduced by this change:. ```; commit 036133908aebab2c2e17e97c36923eed6ab87c5b; Aut",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7657:15545,patch,patches,15545,https://root.cern,https://github.com/root-project/root/issues/7657,1,['patch'],['patches']
Deployability,"o_t*, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #30 0x00007ffff5619f76 in TClass::TClass(char const*, short, std::type_info const&, TVirtualIsAProxy*, char const*, char const*, int, int, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #31 0x00007ffff561a48a in ROOT::CreateClass(char const*, short, std::type_info const&, TVirtualIsAProxy*, char const*, char const*, int, int) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #32 0x00007ffff562906a in ROOT::TGenericClassInfo::GetClass() (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #33 0x00007ffff5606b70 in TClass::LoadClassDefault(char const*, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #34 0x00007ffff560ee9c in TClass::GetClass(char const*, bool, bool, unsigned long, unsigned long) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patche; s/x86_64-centos7-gcc8-opt/lib/libCore.so; #35 0x00007ffff645805b in ?? (); #36 0x000000000000042e in ?? (); #37 0x00007fffefb8337e in TClingMethodInfo::TClingMethodInfo(TClingMethodInfo const&) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCling.so; #38 0x00007ffff560f4b0 in ?? (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #39 0x00007fffffff3208 in ?? (); #40 0x00007fffffff3180 in ?? (); #41 0x000000010559b1b0 in ?? (); #42 0x0000000000000000 in ?? (); ```. The ultimate trigger here is what it usually is --- trying to find the TClass; for something for which no dictionary was generated, leading to autoparsing.; I can get",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7657:8154,patch,patches,8154,https://root.cern,https://github.com/root-project/root/issues/7657,1,['patch'],['patches']
Deployability,"oaded --- we can; usually make the crashes go away by forcing a particular dictionary; loading order. This appears to be related to the traits-like class that we use to specify; the inheritance relations for our DataVector class. Schematically, it looks; like this:. ```; struct NoBase {};. template <class T>; struct DataVectorBase; {; typedef NoBase Base;; };. // Specialized derived version.; template <class T, class BASE = typename DataVectorBase<T>::Base>; class DataVector : public BASE {...};. // Base class version.; template <class T>; class DataVector<T, NoBase> {...};; ```. where user classes then specialize the DataVectorBase class; (in practice, done via a macro). I've now finally bit the bullet and reduced one example of this such that; it does not depend on ATLAS software. The test case is attached. If github still isn't allowing be to attach; archives, i've also put a copy on lxplus at ~ssnyder/public/fwddict-crash.tar. The set up is against a nightly debug build of 6.28-patches:. ```; $ . ./setup; $ echo $ROOTSYS; /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sat/ROOT/v6-28-00-patches/x86_64-el9-gcc13-dbg; $ ./build.sh ; $ python -i test.py; python: /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-28-00-patches/src/ROOT/v6-28-00-patches/interpreter/llvm/src/tools/clang/lib/Sema/SemaLookup.cpp:2165: bool clang::Sema::LookupQualifiedName(clang::LookupResult&, clang::DeclContext*, bool): Assertion `(!isa<TagDecl>(LookupCtx) || LookupCtx->isDependentContext() || cast<TagDecl>(LookupCtx)->isCompleteDefinition() || cast<TagDecl>(LookupCtx)->isBeingDefined()) && ""Declaration context must already be complete!""' failed.; *** Break *** abort; ```. The test script here is loading dictionaries from two separate libraries:. ```; getattr( ROOT, 'DataVector<TrackParticle_v1>', None ); getattr( ROOT, 'DataVector<Egamma_v1>', None ); ```. Either of these lines works by itself, but together they cause this crash. See https://its.cern.ch/jira/browse/A",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14186:1371,patch,patches,1371,https://root.cern,https://github.com/root-project/root/issues/14186,1,['patch'],['patches']
Deployability,"ocal_cxa_atexit(void (*)(void*), void*, cling::Interpreter*) () from /cvmfs/lhcb.cern.ch/lib/lcg/releases/ROOT/6.30.04-dd2db/x86_64-el9-gcc13-dbg/lib/libCling.so; #23 0x00007ffd45bee260 in ?? (); #24 0x00007f060b10d110 in ?? (); #25 0x00007f060b10d020 in ?? (); #26 0x00007f0607fe2e7a in ?? () from /cvmfs/lhcb.cern.ch/lib/lcg/releases/ROOT/6.30.04-dd2db/x86_64-el9-gcc13-dbg/lib/libCling.so; #27 0x00007f05fa741095 in ?? (); #28 0x00007f05fa740f20 in ?? (); #29 0x00007f060471d882 in (anonymous namespace)::GenericLLVMIRPlatformSupport::initialize(llvm::orc::JITDylib&) () from /cvmfs/lhcb.cern.ch/lib/lcg/releases/ROOT/6.30.04-dd2db/x86_64-el9-gcc13-dbg/lib/libCling.so; #30 0x00007f06031155f3 in cling::IncrementalExecutor::runStaticInitializersOnce(cling::Transaction&) () from /cvmfs/lhcb.cern.ch/lib/lcg/releases/ROOT/6.30.04-dd2db/x86_64-el9-gcc13-dbg/lib/libCling.so; #31 0x00007f0603092698 in cling::Interpreter::executeTransaction(cling::Transaction&) () from /cvmfs/lhcb.cern.ch/lib/lcg/releases/ROOT/6.30.04-dd2db/x86_64-el9-gcc13-dbg/lib/libCling.so; #32 0x00007f0603125b4a in cling::IncrementalParser::commitTransaction(llvm::PointerIntPair<cling::Transaction*, 2u, cling::IncrementalParser::EParseResult, llvm::PointerLikeTypeTraits<cling::Transaction*>, llvm::PointerIntPairInfo<cling::Transaction*, 2u, llvm::PointerLikeTypeTraits<cling::Transaction*> > >&, bool) () from /cvmfs/lhcb.cern.ch/lib/lcg/releases/ROOT/6.30.04-dd2db/x86_64-el9-gcc13-dbg/lib/libCling.so; #33 0x00007f0603128d98 in cling::IncrementalParser::Compile(llvm::StringRef, cling::CompilationOptions const&) () from /cvmfs/lhcb.cern.ch/lib/lcg/releases/ROOT/6.30.04-dd2db/x86_64-el9-gcc13-dbg/lib/libCling.so; #34 0x00007f06030933dc in cling::Interpreter::DeclareInternal(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, cling::CompilationOptions const&, cling::Transaction**) const () from /cvmfs/lhcb.cern.ch/lib/lcg/releases/ROOT/6.30.04-dd2db/x86_64-el9-gcc13-dbg/lib/libC",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15511:2138,release,releases,2138,https://root.cern,https://github.com/root-project/root/issues/15511,2,['release'],['releases']
Deployability,"ocal_cxa_atexit(void (*)(void*), void*, cling::Interpreter*) () from /cvmfs/lhcb.cern.ch/lib/lcg/releases/ROOT/6.30.04-dd2db/x86_64-el9-gcc13-dbg/lib/libCling.so; #23 0x00007ffd45bee260 in ?? (); #24 0x00007f060b10d110 in ?? (); #25 0x00007f060b10d020 in ?? (); #26 0x00007f0607fe2e7a in ?? () from /cvmfs/lhcb.cern.ch/lib/lcg/releases/ROOT/6.30.04-dd2db/x86_64-el9-gcc13-dbg/lib/libCling.so; #27 0x00007f05fa741095 in ?? (); #28 0x00007f05fa740f20 in ?? (); #29 0x00007f060471d882 in (anonymous namespace)::GenericLLVMIRPlatformSupport::initialize(llvm::orc::JITDylib&) () from /cvmfs/lhcb.cern.ch/lib/lcg/releases/ROOT/6.30.04-dd2db/x86_64-el9-gcc13-dbg/lib/libCling.so; #30 0x00007f06031155f3 in cling::IncrementalExecutor::runStaticInitializersOnce(cling::Transaction&) () from /cvmfs/lhcb.cern.ch/lib/lcg/releases/ROOT/6.30.04-dd2db/x86_64-el9-gcc13-dbg/lib/libCling.so; #31 0x00007f0603092698 in cling::Interpreter::executeTransaction(cling::Transaction&) () from /cvmfs/lhcb.cern.ch/lib/lcg/releases/ROOT/6.30.04-dd2db/x86_64-el9-gcc13-dbg/lib/libCling.so; #32 0x00007f0603125b4a in cling::IncrementalParser::commitTransaction(llvm::PointerIntPair<cling::Transaction*, 2u, cling::IncrementalParser::EParseResult, llvm::PointerLikeTypeTraits<cling::Transaction*>, llvm::PointerIntPairInfo<cling; #33 0x00007f0603128d98 in cling::IncrementalParser::Compile(llvm::StringRef, cling::CompilationOptions const&) () from /cvmfs/lhcb.cern.ch/lib/lcg/releases/ROOT/6.30.04-dd2db/x86_64-el9-gcc13-dbg/lib/libCling.so; #34 0x00007f06030933dc in cling::Interpreter::DeclareInternal(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, cling::CompilationOptions const&, cling::Transaction**) const () from /cvmfs/lhcb.cern; #35 0x00007f0603095986 in cling::Interpreter::process(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, cling::Value*, cling::Transaction**, bool) () from /cvmfs/lhcb.cern.ch/lib/lcg/releases/ROOT/6; #36 0x0000",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15511:8392,release,releases,8392,https://root.cern,https://github.com/root-project/root/issues/15511,1,['release'],['releases']
Deployability,"ocations in the invocation of the compiler and fails because they do not exists or wrong protections at the runtime. ```; -I$ROOTSYS/include; -I""/cvmfs/sft.cern.ch/lcg/views/LCG_101arm/aarch64-centos7-gcc8-opt/include/Geant4""; -I""/cvmfs/sft.cern.ch/lcg/views/LCG_101arm/aarch64-centos7-gcc8-opt/include""; -I""/cvmfs/sft.cern.ch/lcg/releases/Python/3.9.6-b0f98/aarch64-centos7-gcc8-opt/include/python3.9""; -I""/cvmfs/sft.cern.ch/lcg/releases/ROOT/6.24.06-f0308/aarch64-centos7-gcc8-opt/etc/""; -I""/cvmfs/sft.cern.ch/lcg/releases/ROOT/6.24.06-f0308/aarch64-centos7-gcc8-opt/etc//cling""; -I""/cvmfs/sft.cern.ch/lcg/releases/ROOT/6.24.06-f0308/aarch64-centos7-gcc8-opt/include/""; -I""/cvmfs/sft.cern.ch/lcg/releases/Python/3.9.6-b0f98/aarch64-centos7-gcc8-opt/include""; -I""/home/sftnight/build/workspace/lcg_release_pipeline/build/projects/ROOT-6.24.06/src/ROOT-6.24.06-build/include""; -I""/data/sftnight/build/workspace/lcg_release_pipeline/install/Vc/1.4.2/aarch64-centos7-gcc8-opt/include""; -I""/data/sftnight/build/workspace/lcg_release_pipeline/install/zlib/1.2.11/aarch64-centos7-gcc8-opt/include""; -I""/data/sftnight/build/workspace/lcg_release_pipeline/install/jsonmcpp/3.9.1/aarch64-centos7-gcc8-opt/include""; -I""/home/sftnight/build/workspace/lcg_release_pipeline/build/projects/ROOT-6.24.06/src/ROOT-6.24.06-build/include/""; -I""/data/sftnight/build/workspace/lcg_release_pipeline/install/tbb/2020_U2/aarch64-centos7-gcc8-opt/include""'; ```; The first three elements are directly the contents of `$ROOT_INCLUDE_PATH` which in the that setup, which is . ```; $ echo $ROOT_INCLUDE_PATH; /cvmfs/sft.cern.ch/lcg/views/LCG_101arm/aarch64-centos7-gcc8-opt/include/Geant4:/cvmfs/sft.cern.ch/lcg/views/LCG_101arm/aarch64-centos7-gcc8-opt/include:/cvmfs/sft.cern.ch/lcg/releases/Python/3.9.6-b0f98/aarch64-centos7-gcc8-opt/include/python3.9; ```; ### To Reproduce; On an ARM64 system with CVMFS ; ```; $ source /cvmfs/sft.cern.ch/lcg/views/LCG_101arm/aarch64-centos7-gcc8-opt/setup.sh; $ python -c 'import ROOT; ",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/9243:1282,install,install,1282,https://root.cern,https://github.com/root-project/root/issues/9243,1,['install'],['install']
Deployability,"ode is enable by `cling -xcuda`. A option for root is missing. I tried to start `root.exe` in CUDA mode with the following command: `EXTRA_CLING_ARGS=""-xcuda --cuda-path=/opt/spack-modules/linux-ubuntu20.04-skylake_avx512/gcc-10.2.0/cuda-10.1.243-7i5cvq4bobfu6g23zltag3fpcwdlc3ye --cuda-gpu-arch=sm_35"" root.exe`. However, the initialization process failed with an error that does not crash root itself. ```C++; $ EXTRA_CLING_ARGS=""-xcuda --cuda-path=/opt/spack-modules/linux-ubuntu20.04-skylake_avx512/gcc-10.2.0/cuda-10.1.243-7i5cvq4bobfu6g23zltag3fpcwdlc3ye --cuda-gpu-arch=sm_35"" root.exe; cling: In file included from <built-in>:1:; In file included from /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_runtime_wrapper.h:148:; /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:49:40: error: reference to __device__ function '__nvvm_vote_all' in __host__ function; __DEVICE__ int __all(int __a) { return __nvvm_vote_all(__a); }; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:49:40: note: '__nvvm_vote_all' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:50:40: error: reference to __device__ function '__nvvm_vote_any' in __host__ function; __DEVICE__ int __any(int __a) { return __nvvm_vote_any(__a); }; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:50:40: note: '__nvvm_vote_any' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:51:52: error: reference to __device__ function '__nvvm_vote_ballot' in __host__ function; __DEVICE__ unsigned int __ballot(int __a) { return __nvvm_vote_ballot(__a); }; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/cla",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7518:1138,install,install,1138,https://root.cern,https://github.com/root-project/root/issues/7518,1,['install'],['install']
Deployability,"oducer. ```c++; RooRealVar x{""x"", ""x"", 0, 1};; RooRealVar y{""y"", ""y"", 0, 1};. RooGenericPdf pdfx{""pdfx"", ""1.0 + x - x"", {x}};; RooGenericPdf pdfxy{""pdfxy"", ""1.0 + x - x + y - y"", {x, y}};. RooProdPdf pdf{""pdf"", ""pdf"", pdfx, RooFit::Conditional(pdfxy, y)};. RooArgSet normSet{x, y};. RooCategory cat{""cat"", ""cat"", {{""0"", 0}}};; RooSimultaneous simPdf{""simPdf"", ""simPdf"", {{""0"", &pdf}}, cat};. {; std::cout << ""This looks good:"" << std::endl;; RooFit::Detail::CompileContext ctx{normSet};; std::unique_ptr<RooAbsPdf> compiled{static_cast<RooAbsPdf*>(pdf.compileForNormSet(normSet, ctx).release())};; compiled->getVal(normSet);; }; {; std::cout << ""Too many integrals:"" << std::endl;; RooFit::Detail::CompileContext ctx{normSet};; std::unique_ptr<RooAbsPdf> compiled{static_cast<RooAbsPdf*>(simPdf.compileForNormSet(normSet, ctx).release())};; compiled->getVal(normSet);; }; ```; The output is:; ```; This looks good:; [#1] INFO:NumericIntegration -- RooRealIntegral::init(pdfx_Int[x]) using numeric integrator RooIntegrator1D to calculate Int(x); [#1] INFO:NumericIntegration -- RooRealIntegral::init(pdfxy_Int[y]) using numeric integrator RooIntegrator1D to calculate Int(y). Too many integrals:; [#1] INFO:NumericIntegration -- RooRealIntegral::init(_0_pdfx_Int[_0_x]) using numeric integrator RooIntegrator1D to calculate Int(_0_x); [#1] INFO:NumericIntegration -- RooRealIntegral::init(_0_pdfxy_Int[_0_y]) using numeric integrator RooIntegrator1D to calculate Int(_0_y); [#1] INFO:NumericIntegration -- RooRealIntegral::init([_0_pdfx_over__0_pdfx_Int[_0_x]_X__0_pdfxy_over__0_pdfxy_Int[_0_y]]_Norm[_0_x,_0_y]_denominator_Int[_0_x,_0_y]) using numeric integrator RooAdaptiveIntegratorND to calculate Int(_0_x,_0_y); [#1] INFO:NumericIntegration -- RooRealIntegral::init(_0_pdfx_Int[_0_x]) using numeric integrator RooIntegrator1D to calculate Int(_0_x); [#1] INFO:NumericIntegration -- RooRealIntegral::init(_0_pdfxy_Int[_0_y]) using numeric integrator RooIntegrator1D to calculate Int(_0_y); [#1] IN",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15751:1369,release,release,1369,https://root.cern,https://github.com/root-project/root/issues/15751,3,"['integrat', 'release']","['integrator', 'release']"
Deployability,of the libxxhash.a library when building libCore.so. # This Pull request:. ## Changes or fixes:. ## Checklist:. - [ ] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13763:148,update,updated,148,https://root.cern,https://github.com/root-project/root/pull/13763,1,['update'],['updated']
Deployability,ofit/roofitcore/src/RooCustomizer.cxx:245; 9: Calling default constructor for 'TObject' in /opt/root_src/core/base/inc/TNamed.h:37; 10: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 11: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 12: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Assuming field '_hashMethod' is equal to Intrinsic in /opt/root_src/roofit/roofitcore/src/RooHashTable.cxx:261; 2: Taking false branch in /opt/root_src/roofit/roofitcore/src/RooHashTable.cxx:261; 3: Calling default constructor for 'RooSetPair' in /opt/root_src/roofit/roofitcore/src/RooHashTable.cxx:263; 4: Calling default constructor for 'TObject' in /opt/root_src/roofit/roofitcore/inc/RooSetPair.h:30; 5: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 6: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 7: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Calling 'RooMultiVarGaussian::genData' in /opt/root_src/roofit/roofitcore/src/RooMultiVarGaussian.cxx:434; 2: Taking false branch in /opt/root_src/roofit/roofitcore/src/RooMultiVarGaussian.cxx:503; 3: Assuming the condition is false in /opt/root_src/roofit/roofitcore/src/RooMultiVarGaussian.cxx:510; 4: Taking false branch in /opt/root_src/roofit/roofitcore/src/RooMultiVarGaussian.cxx:510; 5: Calling default constructor for 'TMatrixTSym<double>' in /opt/root_src/roofit/roofitcore/src/RooMultiVarGaussian.cxx:536; 6: Calling default constructor for 'TMatrixTBase<double>' in /opt/root_src/math/matrix/inc/TMat,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:69811,Update,UpdateIsOnHeap,69811,https://root.cern,https://github.com/root-project/root/issues/7412,1,['Update'],['UpdateIsOnHeap']
Deployability,"oject_atlas/root-20211202/cmake-build-release/googletest-prefix/src/googletest/googletest/include/gtest/gtest.h:64,; from /user/pbos/project_atlas/root-20211202/cmake-build-release/googletest-prefix/src/googletest/googletest/src/gtest-all.cc:38:; /user/pbos/project_atlas/root-20211202/cmake-build-release/googletest-prefix/src/googletest/googletest/include/gtest/gtest-matchers.h: In static member function ‘static constexpr bool testing::internal::MatcherBase<T>::IsInlined()’:; /user/pbos/project_atlas/root-20211202/cmake-build-release/googletest-prefix/src/googletest/googletest/include/gtest/gtest-matchers.h:414:12: error: ‘is_trivially_copy_constructible’ is not a member of ‘std’; std::is_trivially_copy_constructible<M>::value &&; ^; /user/pbos/project_atlas/root-20211202/cmake-build-release/googletest-prefix/src/googletest/googletest/include/gtest/gtest-matchers.h:414:50: error: expected primary-expression before ‘>’ token; std::is_trivially_copy_constructible<M>::value &&; ^; /user/pbos/project_atlas/root-20211202/cmake-build-release/googletest-prefix/src/googletest/googletest/include/gtest/gtest-matchers.h:414:51: error: ‘::value’ has not been declared; std::is_trivially_copy_constructible<M>::value &&; ^; ```; There is more, but I think this already indicates that one of the issues is the GCC version, since `is_trivially_copy_constructible` is available from GCC 5. ### Expected behavior; CMake should not configure successfully on GCC versions below 5 when configuring with `-Dtesting=ON`. ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->; A system with GCC 4.8.5 is necessary, but probably the issue will also be triggered with other 4.8.x versions. Then, configure from the build dir with `cmake .. -Dtesting=ON` (actually, I was configuri",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/9370:1533,release,release,1533,https://root.cern,https://github.com/root-project/root/issues/9370,1,['release'],['release']
Deployability,ojects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_ptr.hpp:17:; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1072:81: error: expected ';' at end of declaration; template<class T> inline bool atomic_is_lock_free( shared_ptr<T> const * /*p*/ ) BOOST_SP_NOEXCEPT; ^; ;; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1072:82: error: expected unqualified-id; template<class T> inline bool atomic_is_lock_free( shared_ptr<T> const * /*p*/ ) BOOST_SP_NOEXCEPT; ^; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/detail/sp_noexcept.hpp:28:29: note: expanded from macro 'BOOST_SP_NOEXCEPT'; # define BOOST_SP_NOEXCEPT BOOST_NOEXCEPT; ^; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/config/detail/suffix.hpp:965:26: note: expanded from macro 'BOOST_NOEXCEPT'; # define BOOST_NOEXCEPT noexcept; ^; In file included from libMyLibrary dictionary payload:5:; In file included from ./MyClass.h:6:; In file included from /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_ptr.hpp:17:; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1077:33: error: expected parameter declarator; template<class T> shared_ptr<T> atomic_load( shared_ptr<T> const * p ) BOOST_SP_NOEXCEPT; ^; /Users/krasznaa/ATLAS/sw/projects/externals/build/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:134:55: note: expanded from macro 'atomic_load'; #define ,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6454:2926,install,install,2926,https://root.cern,https://github.com/root-project/root/issues/6454,1,['install'],['install']
Deployability,"oken.txt"").read().strip(); >>> ROOT.TFile.Open(url).ls(); TNetXNGFile**		root://eosuser.cern.ch//eos/user/c/cburr/hsimple.root	Demo ROOT file with histograms; TNetXNGFile*		root://eosuser.cern.ch//eos/user/c/cburr/hsimple.root	Demo ROOT file with histograms; KEY: TH1F	hpx;1	This is the px distribution; KEY: TH2F	hpxpy;1	py vs px; KEY: TProfile	hprof;1	Profile of pz versus px; KEY: TNtuple	ntuple;1	Demo ntuple; >>> df = ROOT.RDataFrame(""ntuple"", url); >>>; ```. ### Reproducer. On lxplus:. ```bash; $ source /cvmfs/sft.cern.ch/lcg/app/releases/ROOT/6.32.04/x86_64-almalinux9.4-gcc114-opt/bin/thisroot.sh; $ cp /cvmfs/sft.cern.ch/lcg/app/releases/ROOT/6.32.04/x86_64-almalinux9.4-gcc114-opt/tutorials/hsimple.root /eos/user/c/cburr/hsimple.root; $ EOS_MGM_URL=root://eoshome-c.cern.ch eos token --path /eos/user/c/cburr/hsimple.root --permission=rx --expires=$(date +%s -d ""30 minutes"") > token.txt; $ kdestroy; $ python3; ```. ```python; Python 3.9.18 (main, Aug 23 2024, 00:00:00); [GCC 11.4.1 20231218 (Red Hat 11.4.1-3)] on linux; Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.; >>> import ROOT; >>> url = 'root://eosuser.cern.ch//eos/user/c/cburr/hsimple.root?xrd.wantprot=unix&authz=' + open(""token.txt"").read().strip(); >>> ROOT.TFile.Open(url).ls(); TNetXNGFile**		root://eosuser.cern.ch//eos/user/c/cburr/hsimple.root	Demo ROOT file with histograms; TNetXNGFile*		root://eosuser.cern.ch//eos/user/c/cburr/hsimple.root	Demo ROOT file with histograms; KEY: TH1F	hpx;1	This is the px distribution; KEY: TH2F	hpxpy;1	py vs px; KEY: TProfile	hprof;1	Profile of pz versus px; KEY: TNtuple	ntuple;1	Demo ntuple; >>> df = ROOT.RDataFrame(""ntuple"", url); Error in <TNetXNGSystem::GetDirEntry>: Unable to give access - user access restricted - unauthorized identity used ; Permission denied; *** Break *** segmentation violation; ```. ### ROOT version. 6.32.04. ### Installation method. sft.cern.ch. ### Operating system. Linux (lxplus). ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/16475:2359,Install,Installation,2359,https://root.cern,https://github.com/root-project/root/issues/16475,1,['Install'],['Installation']
Deployability,"ol testing::internal::MatcherBase<T>::IsInlined()’:; /user/pbos/project_atlas/root-20211202/cmake-build-release/googletest-prefix/src/googletest/googletest/include/gtest/gtest-matchers.h:414:12: error: ‘is_trivially_copy_constructible’ is not a member of ‘std’; std::is_trivially_copy_constructible<M>::value &&; ^; /user/pbos/project_atlas/root-20211202/cmake-build-release/googletest-prefix/src/googletest/googletest/include/gtest/gtest-matchers.h:414:50: error: expected primary-expression before ‘>’ token; std::is_trivially_copy_constructible<M>::value &&; ^; /user/pbos/project_atlas/root-20211202/cmake-build-release/googletest-prefix/src/googletest/googletest/include/gtest/gtest-matchers.h:414:51: error: ‘::value’ has not been declared; std::is_trivially_copy_constructible<M>::value &&; ^; ```; There is more, but I think this already indicates that one of the issues is the GCC version, since `is_trivially_copy_constructible` is available from GCC 5. ### Expected behavior; CMake should not configure successfully on GCC versions below 5 when configuring with `-Dtesting=ON`. ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->; A system with GCC 4.8.5 is necessary, but probably the issue will also be triggered with other 4.8.x versions. Then, configure from the build dir with `cmake .. -Dtesting=ON` (actually, I was configuring with `cmake .. -Droofit_multiprocess=ON -Dminuit2=ON -Dtesting=ON`, but probably the first two options are not necessary). Build with `make` and it should crash, with the logs showing the above quoted messages. ### Setup; 1. ROOT version: master; 2. Operating system: CentOS 7; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself: source build from GitHub. ### Additional context; None.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/9370:2810,install,install,2810,https://root.cern,https://github.com/root-project/root/issues/9370,1,['install'],['install']
Deployability,"ol:22, col:28> col:28 vpClingValue 'void *'; |-CompoundStmt 0x2b442c0 <col:42, ROOT_prompt_1:3:1>; | |-DeclStmt 0x2b442a0 <line:1:1, col:28>; | | `-VarDecl 0x2b44018 <col:1, col:27> col:6 firstTwo2 'auto' cinit; | | `-CallExpr 0x2b44270 <col:18, col:27> '<dependent type>'; | | |-DeclRefExpr 0x2b441f0 <col:18> '<dependent type>' lvalue Var 0x2b44158 'Take' '<dependent type>'; | | |-DeclRefExpr 0x2b44230 <col:23> 'ROOT::VecOps::RVec<double>':'ROOT::VecOps::RVec<double>' lvalue Var 0x2230488 'v' 'ROOT::VecOps::RVec<double>':'ROOT::VecOps::RVec<double>'; | | `-IntegerLiteral 0x2b44250 <col:26> 'int' 2; | `-NullStmt 0x2b442b8 <line:2:1>; |-AnnotateAttr 0x2b440f0 <<invalid sloc>> R""ATTRDUMP(__ResolveAtRuntime)ATTRDUMP""; `-AnnotateAttr 0x2b441c0 <<invalid sloc>> R""ATTRDUMP(__ResolveAtRuntime)ATTRDUMP""; <<<NULL>>>; root [2] .q. ```. ### Setup. 1. ROOT version; * 6.22/08. ```; ROOT Version: 6.22/08; Built for linuxx8664gcc on Mar 10 2021, 14:20:04; From tags/v6-22-08@v6-22-08; ```. * 6.25/01; ```; ROOT Version: 6.25/01; Built for linuxx8664gcc on Jan 01 1980, 00:00:00; From @; ```. 2. Operating system: NixOS, a linux distribution; * `nix-info -m`; - system: `""x86_64-linux""`; - host os: `Linux 5.10.73, NixOS, 21.05.20211019.8fe3b97 (Okapi)`; - multi-user?: `yes`; - sandbox: `yes`; - version: `nix-env (Nix) 2.4pre20211006_53e4794`; - nixpkgs: `/nix/var/nix/profiles/per-user/root/channels/nixos`. 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; * The `6.22/08` is from the [Nixpkgs nixos-21.05 branch](https://github.com/NixOS/nixpkgs/tree/nixos-21.05) revision [8b0b81dab17753ab344a44c04be90a61dc55badf](https://github.com/NixOS/nixpkgs/tree/8b0b81dab17753ab344a44c04be90a61dc55badf); * The `6.22/08` is from a custom nix expression based on ROOT branch master (revision 24ea49d4702ba0aa9b1ea5521950520154ee151c) and [NixOS/Nixpkgs master](https://NixOS/nixpkgs). ### Additional context; <!--; Add any other context about the problem here.; -->",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/9261:11881,install,install,11881,https://root.cern,https://github.com/root-project/root/issues/9261,1,['install'],['install']
Deployability,"olation; 304: ******************************************************************; 304: * SYS: FreeBSD hack 13.2-RELEASE-p1 FreeBSD 13.2-RELEASE-p1 GENERIC; 304: ******************************************************************; 304: ******************************************************************; 304: * ROOTMARKS =4262.5 * Root6.29/01 20221221/1150; 304: ******************************************************************; 304: Time at the end of job = 18.882812 seconds; 304: Generating stack trace...; 304: 0x0000000826fefe68 in _ZNSt3__112__hash_tableINS_12basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEENS_4hashIS6_EENS_8equal_toIS6_EENS4_IS6_EEE25__emplace_unique_key_argsIS6_JRKS6_EEENS_4pairINS_15__hash_iteratorIPNS_1 at /usr/include/c++/v1/__hash_table:2070 from /home/mkrzewic/build/root/lib/libTree.so; 304: 0x0000000830314f3e in TClass::TDeclNameRegistry::AddQualifiedName(char const*) at /usr/include/c++/v1/stdexcept:153 from /home/mkrzewic/build/root/lib/libCore.so; 304: 0x0000000830315169 in TClass::InsertTClassInRegistryRAII::~InsertTClassInRegistryRAII() at /usr/include/c++/v1/stdexcept:153 from /home/mkrzewic/build/root/lib/libCore.so; 304: 0x000000083032618c in TClass::SetUnloaded() at /usr/include/c++/v1/stdexcept:153 from /home/mkrzewic/build/root/lib/libCore.so; 304: 0x00000008302d88cb in ROOT::RemoveClass(char const*, TClass*) at /usr/include/c++/v1/stdexcept:153 from /home/mkrzewic/build/root/lib/libCore.so; 304: 0x00000008303344d7 in ROOT::TGenericClassInfo::~TGenericClassInfo() at /usr/include/c++/v1/stdexcept:153 from /home/mkrzewic/build/root/lib/libCore.so; 304: CMake Error at /home/mkrzewic/build/root/RootTestDriver.cmake:232 (message):; 304: error code: 129; 304:; 304:; 1/1 Test #304: test-stressroofit-batchmode-cpu ...***Failed 22.19 sec; ```. ### Reproducer. ctest -V -R test-stressroofit-batchmode-cpu. ### ROOT version. master. ### Installation method. source. ### Operating system. freeBSD 13.2p1. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13200:2514,Install,Installation,2514,https://root.cern,https://github.com/root-project/root/issues/13200,1,['Install'],['Installation']
Deployability,"older is not substituted with the correct path to the libraries directory at runtime.; While this is true for the xrootd libraries in `build/lib`, it's not for the ones in `build/XROOTD-prefix/../src` which have the `LC_RPATH` variable set. The difference can be shown with `otool -l`; ```; $ otool -l build/lib/libXrdSecpwd-4.so > libXrdSecpwd_buildlib.txt; $ otool -l build/XROOTD-prefix/src/XROOTD-build/src/libXrdSecpwd-4.so > libXrdSecpwd_xrootdprefixlib.txt; $ diff libXrdSecpwd_buildlib.txt libXrdSecpwd_xrootdprefixlib.txt; < build/lib/libXrdSecpwd-4.so:; ---; > build/XROOTD-prefix/src/XROOTD-build/src/libXrdSecpwd-4.so:; 307a308,311; > cmd LC_RPATH; > cmdsize 80; > path /Users/sftnight/vpadulan/build/XROOTD-prefix/src/XROOTD-build/src (offset 12); > Load command 14; 312c316; < Load command 14; ---; ```. This `LC_RPATH` variable is set for our own libraries, e.g. `libHtml.so`; ```; $ otool -l build/lib/libHtml.so; [...]; Load command 15; cmd LC_RPATH; cmdsize 80; path /Users/sftnight/vpadulan/build/lib (offset 12); ```; But for some reason this information is lost after building `builtin_xrootd` (probably while installing the libraries from the prefix to the install directory). A way to solve this is by manually adding the `CMAKE_INSTALL_RPATH` option to the `cmake` invokation of `builtin_xrootd` as is done in this PR. The result is:; ```; $ otool -l build/lib/libXrdSecpwd-4.so; [...]; Load command 15; cmd LC_RPATH; cmdsize 80; path /Users/sftnight/vpadulan/build/lib (offset 12); ```; This solves the initial problem with the python tutorial that now can run without errors; ```; $time python build/tutorials/dataframe/df103_NanoAODHiggsAnalysis.py. real 0m20.308s; user 0m18.505s; sys 0m0.733s; ```. There is still something to discuss: the libraries under `install/lib` still have `LC_RPATH` pointing to `build/lib`:; ```; $ otool -l install/lib/libXrdSecpwd-4.so; [...]; Load command 15; cmd LC_RPATH; cmdsize 80; path /Users/sftnight/vpadulan/build/lib (offset 12); ```",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6128:1645,install,installing,1645,https://root.cern,https://github.com/root-project/root/pull/6128,4,['install'],"['install', 'installing']"
Deployability,"ollBar::TGVScrollBar>: arrow_*.xpm not found; ```. I proceeded to uninstall it and try to build it on my own.; I followed the instructions on this webpage https://root.cern/install/build_from_source/ after checking all the dependencies. When I made the first cmake I got some things that it couldn't find which would give the following lines on terminal. ```; Could NOT find Vdt (missing: VDT_INCLUDE_DIR VDT_LIBRARY) (Required is at least version ""0.4""); -- VDT not found. Ensure that the installation of VDT is in the CMAKE_PREFIX_PATH; ```; The things it couldn't find were:; ```; PCRE; xxHash; ZSTD; GIF; TIFF; JPEG; GLEW; gl2ps; LibXml2; MySQL; PostgreSQL; Sqlite; CFITSIO; XROOTD; FTGL; LibXml2; TBB; Vdt; OCaml; ```; Then I got the following lines ; ```; -- clang project is enabled; -- clang-tools-extra project is disabled; -- compiler-rt project is disabled; -- cross-project-tests project is disabled; -- libc project is disabled; -- libclc project is disabled; -- libcxx project is disabled; -- libcxxabi project is disabled; -- libunwind project is disabled; -- lld project is disabled; -- lldb project is disabled; -- mlir project is disabled; -- openmp project is disabled; -- parallel-libs project is disabled; -- polly project is disabled; -- pstl project is disabled; -- flang project is disabled; ```; and these:; ```; -- LLVM host triple: x86_64-unknown-linux-gnu; -- LLVM default target triple: x86_64-unknown-linux-gnu; -- Building with -fPIC; -- Found Python3: /usr/bin/python3 (found suitable version ""3.11.6"", minimum required is ""3.0"") found components: Interpreter ; -- Linker detection: GNU ld; -- Targeting X86; -- Targeting NVPTX; -- Clang version: 13.0.0; -- Not building amdgpu-arch: hsa-runtime64 not found; -- Building Cling as part of ROOT; -- Cling version (from VERSION file): ROOT_1.0~dev; -- Cling will look for C++ headers in '/usr/include/c++/13:/usr/include/x86_64-linux-gnu/c++/13:/usr/include/c++/13/backward' at runtime.; -- And then fallback to: 'x86_64-l",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14479:1749,install,installation,1749,https://root.cern,https://github.com/root-project/root/issues/14479,1,['install'],['installation']
Deployability,"omas/ROOT/build/TBB-prefix/src/TBB/src/tbb/../../include/oneapi/tbb/detail/_utils.h:22,; from /home/tomas/ROOT/build/TBB-prefix/src/TBB/src/tbb/address_waiter.cpp:17:; In member function ‘void std::__atomic_base<_IntTp>::store(__int_type, std::memory_order) [with _ITp = bool]’,; inlined from ‘void std::atomic<bool>::store(bool, std::memory_order)’ at /usr/include/c++/14/atomic:109:20,; inlined from ‘void tbb::detail::r1::concurrent_monitor_base<Context>::abort_all_relaxed() [with Context = tbb::detail::r1::address_context]’ at /home/tomas/ROOT/build/TBB-prefix/src/TBB/src/tbb/concurrent_monitor.h:430:53,; inlined from ‘void tbb::detail::r1::concurrent_monitor_base<Context>::abort_all() [with Context = tbb::detail::r1::address_context]’ at /home/tomas/ROOT/build/TBB-prefix/src/TBB/src/tbb/concurrent_monitor.h:413:26,; inlined from ‘void tbb::detail::r1::concurrent_monitor_base<Context>::destroy() [with Context = tbb::detail::r1::address_context]’ at /home/tomas/ROOT/build/TBB-prefix/src/TBB/src/tbb/concurrent_monitor.h:446:24,; inlined from ‘void tbb::detail::r1::clear_address_waiter_table()’ at /home/tomas/ROOT/build/TBB-prefix/src/TBB/src/tbb/address_waiter.cpp:60:40:; /usr/include/c++/14/bits/atomic_base.h:477:25: warning: ‘void __atomic_store_1(volatile void*, unsigned char, int)’ writing 1 byte into a region of size 0 overflows the destination [-Wstringop-overflow=]; 477 | __atomic_store_n(&_M_i, __i, int(__m));; | ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~; In function ‘void tbb::detail::r1::clear_address_waiter_table()’:; cc1plus: note: destination object is likely at address zero; gmake[4]: *** [CMakeFiles/Makefile2:134: src/tbb/CMakeFiles/tbb.dir/all] Error 2; gmake[3]: *** [Makefile:156: all] Error 2; ```. ### Reproducer. See above. ### ROOT version. ROOT master (October 11, 9 am CERN time), commit hash: 9f8c9ca67224c283652d5db45b81e66cb6aad8a9. ### Installation method. build from source. ### Operating system. Ubuntu 24.10. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/16654:2763,Install,Installation,2763,https://root.cern,https://github.com/root-project/root/issues/16654,1,['Install'],['Installation']
Deployability,"ome/linev/build/webgui/lib/libCling.so; #29 0x00007fcae6e4f233 in clang::CodeGen::CodeGenModule::EmitGlobal(clang::GlobalDecl) () from /home/linev/build/webgui/lib/libCling.so; #30 0x00007fcae6e55b4a in clang::CodeGen::CodeGenModule::EmitTopLevelDecl(clang::Decl*) [clone .part.0] () from /home/linev/build/webgui/lib/libCling.so; #31 0x00007fcae6d5b733 in clang::CodeGeneratorImpl::HandleTopLevelDecl(clang::DeclGroupRef) () from /home/linev/build/webgui/lib/libCling.so; #32 0x00007fcae72ca4a0 in clang::MultiplexConsumer::HandleTopLevelDecl(clang::DeclGroupRef) () from /home/linev/build/webgui/lib/libCling.so; #33 0x00007fcae6c6f8cf in cling::DeclCollector::HandleTopLevelDecl(clang::DeclGroupRef) () from /home/linev/build/webgui/lib/libCling.so; #34 0x00007fcae6c33a89 in cling::IncrementalParser::ParseInternal(llvm::StringRef) () from /home/linev/build/webgui/lib/libCling.so; #35 0x00007fcae6c34a1c in cling::IncrementalParser::Compile(llvm::StringRef, cling::CompilationOptions const&) () from /home/linev/build/webgui/lib/libCling.so; #36 0x00007fcae6b974f1 in cling::Interpreter::EvaluateInternal(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, cling::CompilationOptions, cling::Value*, cling::Transaction**, unsigned long) () from /home/linev/build/webgui/lib/libCling.so; #37 0x00007fcae6b9784a in cling::Interpreter::process(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, cling::Value*, cling::Transaction**, bool) () from /home/linev/build/webgui/lib/libCling.so; #38 0x00007fcae6c852be in cling::MetaProcessor::readInputFromFile(llvm::StringRef, cling::Value*, unsigned long, bool) () from /home/linev/build/webgui/lib/libCling.so; ===========================================================; ```. ### Reproducer. Provided. ### ROOT version. Tested master and 6.28 branch on Linux. ### Installation method. build from source. ### Operating system. OpenSUSE Linux. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13252:6320,Install,Installation,6320,https://root.cern,https://github.com/root-project/root/issues/13252,1,['Install'],['Installation']
Deployability,"omething we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->; 1. Prepare the reproduction code; `Reproduce.C`; ```c++; #include<TCanvas.h>; #include<TPad.h>; #include<TFile.h>; #include<TH1.h>. void Reproduce(const char *pathFileIn=""hsimple.root"") {; TCanvas::MakeDefCanvas();; TFile *tfIn = TFile::Open(pathFileIn);; TH1* hpxLongTitle = static_cast<TH1*>(tfIn->Get<TH1>(""hpx"")->Clone(""hpxLongTitle""));; hpxLongTitle->SetTitle(""SupercalifragilisticexpialidociousHonorificabilitudinitatibusFloccinaucinihilipilificationFreeSesquipedalianTitleOnTheSupercalifragilisticexpialidociousHonorificabilitudinitatibusFloccinaucinihilipilificationFreeHist"");; hpxLongTitle->Draw();; gPad->Print(""hpxLongTitle.svg"");; tfIn->Close();; }. int main(int argc, char* argv[]) {; if ( argc > 1 ) {; Reproduce(argv[1]);; } else {; Reproduce();; }; }; ```. 2. Run by. ```console; $ root -l -q 'Reproduce.C++(""path/to/hsimple.root"")'; ```. or by. ```; $ g++ $(root-config --glibs --cflags) -o Reproduce.o Reproduce.C; $ ./Reproduce.o ""path/to/hsimple.root""; ```. 3. See the generated `hpxLongTitle.svg`; 4. Open with a text editor and scroll to the bottom (pressing `G` for vim); 5. See the broken XML tag. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->. 1. ROOT Version: 6.25/01, built for linuxx8664gcc on Jan 01 1980, 00:00:00; 2. Operating System: NixOS; 3. Build with Nix package manager from master, revision 7821ed1e81a419fda484f01e4d14ce52cb372128. ### Additional context; <!--; Add any other context about the problem here.; -->; The actual content of that supercali-title in my use case is a JSON string without any space character. The generated SVG file (add the .txt suffix to workaround GitHub's limitation):; [hpxLongTitle.svg.txt](https://github.com/root-project/root/files/7831387/hpxLongTitle.svg.txt)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/9514:2451,install,install,2451,https://root.cern,https://github.com/root-project/root/issues/9514,1,['install'],['install']
Deployability,"omic_store(object, desired) __c11_atomic_store(object, desired, __ATOMIC_SEQ_CST); ^; <built-in>:16:26: note: expanded from here; #define __ATOMIC_SEQ_CST 5; ^; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1088:24: note: to match this '('; /Users/krasznaa/ATLAS/sw/projects/externals/build/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:131:57: note: expanded from macro 'atomic_store'; #define atomic_store(object, desired) __c11_atomic_store(object, desired, __ATOMIC_SEQ_CST); ^; In file included from libMyLibrary dictionary payload:5:; In file included from ./MyClass.h:6:; In file included from /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_ptr.hpp:17:; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1099:33: error: expected parameter declarator; template<class T> shared_ptr<T> atomic_exchange( shared_ptr<T> * p, shared_ptr<T> r ) BOOST_SP_NOEXCEPT; ^; /Users/krasznaa/ATLAS/sw/projects/externals/build/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:137:81: note: expanded from macro 'atomic_exchange'; #define atomic_exchange(object, desired) __c11_atomic_exchange(object, desired, __ATOMIC_SEQ_CST); ^; <built-in>:16:26: note: expanded from here; #define __ATOMIC_SEQ_CST 5; ^; In file included from libMyLibrary dictionary payload:5:; In file included from ./MyClass.h:6:; In file included from /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_ptr.hpp:17:; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1099:33: error: expected ')'; /",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6454:7715,Install,InstallArea,7715,https://root.cern,https://github.com/root-project/root/issues/6454,1,['Install'],['InstallArea']
Deployability,"on of the `Vary` transformation a node is allocated on the heap and its address is passed down to the function `JitVariationHelper`, which is also responsible for deleting the allocated memory. In case a mismatch in the return type of the jitted function given to the Vary call is detected, we throw an error to inform the user they should return an RVec for the Vary to properly work. This means that the call to JitVariationHelper does not happen, thus the memory of the node is not deallocated. This commit corrects that behaviour by properly deleting the pointer before throwing the exception. Thanks to the address sanitizer:; ```; Direct leak of 16 byte(s) in 1 object(s) allocated from:; #0 0x7f28c78d9e28 in operator new(unsigned long) (/lib64/libasan.so.8+0xd9e28) (BuildId: 2b657470ea196ba4342e3bd8a3cc138b1e200599); #1 0xb711e0 in std::shared_ptr<ROOT::Detail::RDF::RNodeBase>* ROOT::Internal::RDF::MakeSharedOnHeap<ROOT::Detail::RDF::RNodeBase>(std::shared_ptr<ROOT::Detail::RDF::RNodeBase> const&) /home/vpadulan/Programs/rootproject/rootbuild/master-a73f11dfc5-testing-asan/include/ROOT/RDF/InterfaceUtils.hxx:370; #2 0xb843a8 in ROOT::RDF::RInterface<ROOT::Detail::RDF::RLoopManager, void>::JittedVaryImpl(std::vector<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::allocator<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > const&, std::basic_string_view<char, std::char_traits<char> >, std::vector<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::allocator<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > const&, std::basic_string_view<char, std::char_traits<char> >, bool) /home/vpadulan/Programs/rootproject/rootbuild/master-a73f11dfc5-testing-asan/include/ROOT/RDF/RInterface.hxx:3108; ```. # This Pull request:. ## Changes or fixes:. ## Checklist:. - [ ] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15477:1971,update,updated,1971,https://root.cern,https://github.com/root-project/root/pull/15477,1,['update'],['updated']
Deployability,"on.cxx.o; [ 75%] Building CXX object core/metacling/src/CMakeFiles/MetaCling.dir/TClingTypedefInfo.cxx.o; [ 75%] Built target rootcling_stage1; [ 75%] Generating G__Core.cxx, ../lib/Core.pcm; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; input_line_1:1:10: note: submodule of top-level module 'std' implicitly imported here; #include <new>; ^; Warning in cling::IncrementalParser::CheckABICompatibility():; Failed to extract C++ standard library version.; While building module 'Core':; While building module 'Cling_Runtime' imported from input_line_2:1:; While building module 'Cling_Runtime_Extra' imported from /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/RuntimeUniverse.h:27:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/DynamicExprInfo.h:13:10: note: submodule of top-level module 'std' implicitly imported here; #include <string>; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/DynamicExprInfo.h:40:7: error: use of undeclared identifier 'std'; std::string m_Result;; ^; While building module 'Core':; While building module 'Cling_Runtime' imported from input_line_2:1:; While building module 'Cling_Runtime_Extra' imported from /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/RuntimeUniverse.h:27:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/DynamicLookupLifetimeHandler.h:12:10: note: submodule of top-level module 'std' implicitly imported here; #include <string>; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/DynamicLookupLifetimeHa",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10528:14637,Install,Installed,14637,https://root.cern,https://github.com/root-project/root/issues/10528,1,['Install'],['Installed']
Deployability,on.cxx:877; 7: Assuming the condition is true in /opt/root_src/core/base/src/TFileCollection.cxx:877; 8: Taking true branch in /opt/root_src/core/base/src/TFileCollection.cxx:877; 9: Calling default constructor for 'TUri' in /opt/root_src/core/base/src/TFileCollection.cxx:880; 10: Calling default constructor for 'TObject' in /opt/root_src/core/base/inc/TUri.h:73; 11: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 12: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 13: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Calling default constructor for 'TUri' in /opt/root_src/core/base/src/TUri.cxx:1124; 2: Calling default constructor for 'TObject' in /opt/root_src/core/base/inc/TUri.h:73; 3: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 4: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 5: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Assuming the condition is false in /opt/root_src/core/meta/src/TSchemaRule.cxx:601; 2: Taking false branch in /opt/root_src/core/meta/src/TSchemaRule.cxx:601; 3: Assuming field 'fIncludeVect' is null in /opt/root_src/core/meta/src/TSchemaRule.cxx:604; 4: Taking true branch in /opt/root_src/core/meta/src/TSchemaRule.cxx:604; 5: Calling 'TSchemaRule::ProcessList' in /opt/root_src/core/meta/src/TSchemaRule.cxx:607; 6: Assuming the condition is false in /opt/root_src/core/meta/src/TSchemaRule.cxx:961; 7: Taking false branch in /opt/root_src/core/meta/src/TSchemaRule.cxx:961; 8: Loop condition is true. Enterin,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:1734,Update,UpdateIsOnHeap,1734,https://root.cern,https://github.com/root-project/root/issues/7412,1,['Update'],['UpdateIsOnHeap']
Deployability,"on3.7/pickle.py"", line 637, in save_reduce; save(func); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 504, in save; f(self, obj) # Call unbound method with explicit self; File ""/cvmfs/sft.cern.ch/lcg/views/LCG_97python3/x86_64-centos7-gcc9-opt/lib/python3.7/site-packages/dill/_dill.py"", line 1064, in save_builtin_method; pickler.save_reduce(_get_attr, (module, obj.__name__), obj=obj); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 638, in save_reduce; save(args); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 504, in save; f(self, obj) # Call unbound method with explicit self; File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 774, in save_tuple; save(element); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 504, in save; f(self, obj) # Call unbound method with explicit self; File ""/cvmfs/sft.cern.ch/lcg/views/LCG_97python3/x86_64-centos7-gcc9-opt/lib/python3.7/site-packages/dill/_dill.py"", line 1269, in save_module; state=_main_dict); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 662, in save_reduce; save(state); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 504, in save; f(self, obj) # Call unbound method with explicit self; File ""/cvmfs/sft.cern.ch/lcg/views/LCG_97python3/x86_64-centos7-gcc9-opt/lib/python3.7/site-packages/dill/_dill.py"", line 902, in save_module_dict; StockPickler.save_dict(pickler, obj); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 859, in save_dict; self._batch_setitems(o",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6370:3218,release,releases,3218,https://root.cern,https://github.com/root-project/root/issues/6370,1,['release'],['releases']
Deployability,"on: 9.0.1; -- Cling version (from VERSION file): ROOT_0.9; -- Cling will look for C++ headers in '/usr/bin/../lib64/gcc/x86_64-suse-linux/10/../../../../include/c++/10:/usr/bin/../lib64/gcc/x86_64-suse-linux/10/../../../../include/c++/10/x86_64-suse-linux:/usr/bin/../lib64/gcc/x86_64-suse-linux/10/../../../../include/c++/10/backward' at runtime.; -- And then fallback to: 'clang-12.0.0'; -- Performing Test found_stdstringview; -- Performing Test found_stdstringview - Failed; -- Performing Test found_stdexpstringview; -- Performing Test found_stdexpstringview - Success; -- Performing Test found_stod_stringview; -- Performing Test found_stod_stringview - Failed; -- Performing Test found_stdapply; -- Performing Test found_stdapply - Failed; -- Performing Test found_stdinvoke; -- Performing Test found_stdinvoke - Failed; -- Performing Test found_stdindexsequence; -- Performing Test found_stdindexsequence - Success; -- ROOT Configuration. System Linux-5.11.16-1-default; Processor 6 core AMD Ryzen 5 3600XT 6-Core Processor (x86_64); Build type Release; Install path /usr/local; Compiler Clang 12.0.0; Compiler flags:; C -pipe -Wall -W -pthread -O3 -DNDEBUG; C++ -std=c++14 -Wc++11-narrowing -Wsign-compare -Wsometimes-uninitialized -Wconditional-uninitialized -Wheader-guard -Warray-bounds -Wcomment -Wtautological-compare -Wstrncat-size -Wloop-analysis -Wbool-conversion -pipe -Wall -W -Woverloaded-virtual -fsigned-char -pthread -O3 -DNDEBUG; Linker flags:; Executable -rdynamic; Module; Shared -Wl,--no-undefined. -- Enabled support for: asimage builtin_afterimage builtin_clang builtin_cling builtin_llvm builtin_lz4 builtin_nlohmannjson builtin_openui5 builtin_pcre builtin_tbb builtin_vdt builtin_xrootd builtin_xxhash builtin_zstd clad dataframe exceptions gdml http imt mlp roofit webgui root7 runtime_cxxmodules shared ssl tmva spectrum vdt x11 xml xrootd; -- Configuring done; -- Generating done; ```. Strangely enough the cmake outputs `-- PyROOT will be built for version 2.7.18`",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/8097:4412,Release,Release,4412,https://root.cern,https://github.com/root-project/root/issues/8097,2,"['Install', 'Release']","['Install', 'Release']"
Deployability,"on; lrwxrwxrwx 1 root root 7 Mar 5 23:26 /usr/bin/python -> python3; $ls -l /usr/bin/python3; lrwxrwxrwx 1 root root 10 Mar 5 23:26 /usr/bin/python3 -> python3.10. that's why I get a crash,. ```; python -c 'import ROOT'; Traceback (most recent call last):; File ""/opt/root/install/lib/cppyy/__init__.py"", line 60, in <module>; importlib.import_module(libcppyy_mod_name); File ""/usr/lib/python3.10/importlib/__init__.py"", line 126, in import_module; return _bootstrap._gcd_import(name[level:], package, level); File ""<frozen importlib._bootstrap>"", line 1050, in _gcd_import; File ""<frozen importlib._bootstrap>"", line 1027, in _find_and_load; File ""<frozen importlib._bootstrap>"", line 1004, in _find_and_load_unlocked; ModuleNotFoundError: No module named 'libcppyy3_10'. During handling of the above exception, another exception occurred:. Traceback (most recent call last):; File ""<string>"", line 1, in <module>; File ""/opt/root/install/lib/ROOT/__init__.py"", line 25, in <module>; import cppyy; File ""/opt/root/install/lib/cppyy/__init__.py"", line 62, in <module>; raise ImportError(; ImportError: Failed to import libcppyy3_10. Please check that ROOT has been built for Python 3.10; ```. ### Optional: share how it could be improved. Can Python 3 version be found checking symlinks of `/usr/bin/python`, and not its highest version available?; I also use Python 2, hope it won't break its search. ### To Reproduce. Steps to reproduce the behavior:; 1. Install Python version newer than the system one.; 2. Build root.; 3. Import Python ROOT (it will fail). ### Setup. 1. ROOT version: ROOT Version: 6.29/01, From heads/master@v6-29-01-1273-g360c0c7c54.; 2. Operating system: Arch Linux, Built for linuxx8664gcc.; 3. Build myself from this repo. ### Additional context; I create software packages, that's why I use several Python versions (to provide better experience to users with different tools). It would not be very convenient to remove some python version in order to build ROOT. I have no",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12744:1570,install,install,1570,https://root.cern,https://github.com/root-project/root/issues/12744,1,['install'],['install']
Deployability,"onal: share how it could be improved. The type information is stored, so an automatic conversion could be done. ### To Reproduce. ```python; import ROOT as gbl; gbl.gSystem.Load(""/afs/cern.ch/user/p/piedavid/public/delphes_bamboo/DelphesIO/libDelphesIO.so""); gbl.Electron; f = gbl.TFile.Open(""/afs/cern.ch/user/a/atalierc/public/snowmass/delphes_lhe_file_47_14TeV.lhe.root""); tree = f.Get(""Delphes""); df = gbl.ROOT.RDataFrame(tree); df.Define(""leadElPT"", ""Electron[0]->PT""); ```; where the last statement needs this to work (the typedef to distinguish the column and type name):; ```python; gbl.gInterpreter.Declare(""using delphes_electron = Electron;""); df.Define(""leadElPT1"", ""static_cast<delphes_electron*>(Electron[0])->PT""); ```; but for integration in an analysis framework, converting the container is more convenient. What I came up with is this:; ```C++; #include <TObjArray.h>; #include <ROOT/RVec.hxx>. namespace rdfhelpers {; template<typename OBJ>; ROOT::VecOps::RVec<OBJ*> objArrayToRVec(const TObjArray& arr) {; ROOT::VecOps::RVec<OBJ*> out{reinterpret_cast<OBJ**>(arr.GetObjectRef()), static_cast<std::size_t>(arr.GetEntries())};; auto it = *dynamic_cast<TObjArrayIter*>(arr.MakeIterator());; std::size_t i = 0;; while ( ( i != out.size() ) && ( out[i] == *it ) ) {; it.Next();; ++i;; }; if ( i != out.size() ) { // not equal to contiguous array, copy pointers; it.Reset();; const auto n = out.size();; out = ROOT::VecOps::RVec<OBJ*>();; out.reserve(n);; do {; out.push_back(static_cast<OBJ*>(*it));; } while ( it.Next() );; }; return out;; }; };; ```; then I can add a set of defines and use those containers instead:; ```python; df = df.Define(""myElectrons"", ""rdfhelpers::objArrayToRVec<delphes_electron>(Electron)""); df.Define(""leadElPT"", ""myElectrons[0]->PT""); ```. ### Setup; ROOT 6.24/00 from LCG_100 (x86_64-centos7-gcc10-opt) on lxplus. CC: @jnsandhya @selvaggi @pavel-demin (CMS upgrade performance study tools experts and Delphes maintainers, they may be interested as well)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/8644:2374,upgrade,upgrade,2374,https://root.cern,https://github.com/root-project/root/issues/8644,1,['upgrade'],['upgrade']
Deployability,"ons.h:49:40: error: reference to __device__ function '__nvvm_vote_all' in __host__ function; __DEVICE__ int __all(int __a) { return __nvvm_vote_all(__a); }; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:49:40: note: '__nvvm_vote_all' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:50:40: error: reference to __device__ function '__nvvm_vote_any' in __host__ function; __DEVICE__ int __any(int __a) { return __nvvm_vote_any(__a); }; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:50:40: note: '__nvvm_vote_any' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:51:52: error: reference to __device__ function '__nvvm_vote_ballot' in __host__ function; __DEVICE__ unsigned int __ballot(int __a) { return __nvvm_vote_ballot(__a); }; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:51:52: note: '__nvvm_vote_ballot' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:69:18: error: static declaration of '__cosf' follows non-static declaration; __DEVICE__ float __cosf(float __a) { return __nv_fast_cosf(__a); }; ^; cling: /usr/include/x86_64-linux-gnu/bits/mathcalls.h:62:1: note: previous declaration is here; __MATHCALL_VEC (cos,, (_Mdouble_ __x));; ^; /usr/include/math.h:266:3: note: expanded from macro '__MATHCALL_VEC'; __MATHCALL (function, suffix, args); ^; /usr/include/math.h:273:3: note: expanded from macro '__MATHCALL'; __MATHDECL (_Mdouble_,function,suffix, args); ^; /usr/include/math.h:276:3: note: expanded from macro '__MATHDECL'; __MATHDECL_1(type, __CONCAT(__,function),suffix, args); ^; /usr/include/math.h:283:",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7518:2028,install,install,2028,https://root.cern,https://github.com/root-project/root/issues/7518,1,['install'],['install']
Deployability,"onst * /*p*/ ) BOOST_SP_NOEXCEPT; ^; ;; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1072:82: error: expected unqualified-id; template<class T> inline bool atomic_is_lock_free( shared_ptr<T> const * /*p*/ ) BOOST_SP_NOEXCEPT; ^; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/detail/sp_noexcept.hpp:28:29: note: expanded from macro 'BOOST_SP_NOEXCEPT'; # define BOOST_SP_NOEXCEPT BOOST_NOEXCEPT; ^; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/config/detail/suffix.hpp:965:26: note: expanded from macro 'BOOST_NOEXCEPT'; # define BOOST_NOEXCEPT noexcept; ^; In file included from libMyLibrary dictionary payload:5:; In file included from ./MyClass.h:6:; In file included from /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_ptr.hpp:17:; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1077:33: error: expected parameter declarator; template<class T> shared_ptr<T> atomic_load( shared_ptr<T> const * p ) BOOST_SP_NOEXCEPT; ^; /Users/krasznaa/ATLAS/sw/projects/externals/build/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:134:55: note: expanded from macro 'atomic_load'; #define atomic_load(object) __c11_atomic_load(object, __ATOMIC_SEQ_CST); ^; <built-in>:16:26: note: expanded from here; #define __ATOMIC_SEQ_CST 5; ^; In file included from libMyLibrary dictionary payload:5:; In file included from ./MyClass.h:6:; In file included from /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_pt",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6454:3292,install,install,3292,https://root.cern,https://github.com/root-project/root/issues/6454,1,['install'],['install']
Deployability,"ooRealVar x(""x"",""x"",0,50);; RooGenericPdf func(""func"",""Test Function"",""x"",x);. RooPlot* xframe = x.frame();. func.plotOn(xframe, RooFit::Name(""funcCurve""));. RooCurve* funcCurve = xframe->getCurve(""funcCurve"");; Double_t xFirst, xLast;; std::cout << ""\ni, f(i), f(i+0.1), avg[i,i+0.1]\n"" << std::endl;. for (Double_t i = 10; i < 11; i += 0.1); {; Double_t avg = funcCurve->average(i,i+0.1);; xFirst = funcCurve->interpolate(i, 1e-10);; xLast = funcCurve->interpolate(i+0.1, 1e-10);; std::cout << i << "", "" << xFirst << "", "" << xLast << "", "" << avg << std::endl;; }; }; ```; Run with `root -l ExampleMacro.C`. Output, marking the higher than expected averages with `<--`:; ```; root [0] ; Processing ExampleMacro.C... RooFit v3.60 -- Developed by Wouter Verkerke and David Kirkby ; Copyright (C) 2000-2013 NIKHEF, University of California & Stanford University; All rights reserved, please read http://roofit.sourceforge.net/license.txt. [#1] INFO:NumericIntegration -- RooRealIntegral::init(func_Int[x]) using numeric integrator RooIntegrator1D to calculate Int(x). i, f(i), f(i+0.1), avg[i,i+0.1]. 10, 0.004, 0.00404, 0.00402; 10.1, 0.00404, 0.00408, 0.02456 <--; 10.2, 0.00408, 0.00412, 0.0041; 10.3, 0.00412, 0.00416, 0.02464 <--; 10.4, 0.00416, 0.0042, 0.00418; 10.5, 0.0042, 0.00424, 0.00422; 10.6, 0.00424, 0.00428, 0.02576 <--; 10.7, 0.00428, 0.00432, 0.0043; 10.8, 0.00432, 0.00436, 0.02584 <--; 10.9, 0.00436, 0.0044, 0.00438; 11, 0.0044, 0.00444, 0.00442; ```; ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->; ROOT Version: 6.24/06; Built for linuxx8664gcc; From tags/v6-24-06@v6-24-06; Installed manually within WSL Ubuntu 20.04. ### Additional context; <!--; Add any other context about the problem here.; -->; I first encountered this behaviour when calculating the chi^2 between a fitted RooCurve and data, where the data had bin sizes of 0.1, and the RooCurve was taking steps of 1. ",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/9838:2423,integrat,integrator,2423,https://root.cern,https://github.com/root-project/root/issues/9838,1,['integrat'],['integrator']
Deployability,"oodJob enabled. In detail, this PR changes the following:. - Increased precision:; * Per-component offsets: instead of one offset for the total LikelihoodWrapper, we switched to a vector of offsets: one for each likelihood component. This makes a difference only for RooSumL fits, i.e. simultaneous PDF fits or fits with constraint or global observable terms. This brings the results of these fits closer to the old-style RooNLLVar fits, because those also use per-component offsets (per-RooNLLVar in a RooAddition to be exact).; * In LikelihoodJob::evaluate, the result_ KahanSum is no longer initialized to zero, but is initialized to the first value in the results_ array, both sum and carry term. This sometimes makes a difference: adding a term with a small but non-zero carry term to an existing sum with a zero sum and zero carry term can make the small non-zero carry term disappear.; * Due to these changes and the earlier KahanSum updates, we were able to tighten the tolerance of tests in testLikelihoodSerial, testLikelihoodJob and testLikelihoodGradientJob, with many tests now passing EXPECT_EQ.; * testLikelihoodGradientJob adds offsetting to the parameterized test matrices of the LikelihoodGradientJobTest cases to test all the above (and below) changes. - Offset synchronization:; * LikelihoodWrapper and LikelihoodGradientWrapper now store a shared_ptr to the offsets instead of raw offsets. At construction time within a MinuitFcnGrad, they get passed the same single offset object so that it is always kept synced between the different likelihood calculators. If it isn't synced and the likelihood gets different offsets at different times, the minimizer understandably gets very confused. This was the case before this commit, which was, in fact, a bug.; * For LikelihoodJob and LikelihoodGradientJob, the offsets are also synchronized to all workers via update_state. For this, we simply check before evaluation whether offsets have changed since the previous evaluation and if",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12202:1484,update,updates,1484,https://root.cern,https://github.com/root-project/root/pull/12202,1,['update'],['updates']
Deployability,oofplayer/src/TProofPlayer.cxx:4869; 10: Taking true branch in /opt/root_src/proof/proofplayer/src/TProofPlayer.cxx:4869; 11: Calling default constructor for 'TProofProgressInfo' in /opt/root_src/proof/proofplayer/src/TProofPlayer.cxx:4871; 12: Calling default constructor for 'TObject' in /opt/root_src/proof/proof/inc/TProof.h:173; 13: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 14: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 15: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Calling constructor for 'RooCmdConfig' in /opt/root_src/roofit/roofitcore/src/RooCmdConfig.cxx:899; 2: Calling default constructor for 'TObject' in /opt/root_src/roofit/roofitcore/src/RooCmdConfig.cxx:58; 3: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 4: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 5: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Assuming the condition is false in /opt/root_src/roofit/roofitcore/src/RooCustomizer.cxx:694; 2: Taking false branch in /opt/root_src/roofit/roofitcore/src/RooCustomizer.cxx:694; 3: Taking false branch in /opt/root_src/roofit/roofitcore/src/RooCustomizer.cxx:698; 4: Assuming 'arg' is non-null in /opt/root_src/roofit/roofitcore/src/RooCustomizer.cxx:704; 5: Taking false branch in /opt/root_src/roofit/roofitcore/src/RooCustomizer.cxx:704; 6: Taking false branch in /opt/root_src/roofit/roofitcore/src/RooCustomizer.cxx:709; 7: Calling constructor for 'RooCustomizer' in /opt/root_src/roofit/roofitcore/src/Roo,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:67736,Update,UpdateIsOnHeap,67736,https://root.cern,https://github.com/root-project/root/issues/7412,1,['Update'],['UpdateIsOnHeap']
Deployability,"ools\MSVC\14.35.32215\include\format(3536,20): message : or 'std::wstring std::format(const std::locale &,const std::basic_format_string<wchar_t,type_identity<_Args>::type...>,_Types &&...)' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(51,18): message : 'initializing': cannot convert from 'const char [5]' to 'const std::locale &' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(51,18): message : Reason: cannot convert from 'const char [5]' to 'const std::locale' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(51,18): message : Constructor for class 'std::locale' is declared 'explicit' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\VC\Tools\MSVC\14.35.32215\include\format(3531,19): message : or 'std::string std::format(const std::locale &,const std::basic_format_string<char,type_identity<_Args>::type...>,_Types &&...)' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(51,18): message : 'initializing': cannot convert from 'const char [5]' to 'const std::locale &' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(51,18): message : Reason: cannot convert from 'const char [5]' to 'const std::locale' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vc",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12523:4174,release,release,4174,https://root.cern,https://github.com/root-project/root/pull/12523,1,['release'],['release']
Deployability,"ools\MSVC\14.35.32215\include\format(3536,20): message : or 'std::wstring std::format(const std::locale &,const std::basic_format_string<wchar_t,type_identity<_Args>::type...>,_Types &&...)' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(85,18): message : 'initializing': cannot convert from 'const char [5]' to 'const std::locale &' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(85,18): message : Reason: cannot convert from 'const char [5]' to 'const std::locale' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(85,18): message : Constructor for class 'std::locale' is declared 'explicit' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\VC\Tools\MSVC\14.35.32215\include\format(3531,19): message : or 'std::string std::format(const std::locale &,const std::basic_format_string<char,type_identity<_Args>::type...>,_Types &&...)' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(85,18): message : 'initializing': cannot convert from 'const char [5]' to 'const std::locale &' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(85,18): message : Reason: cannot convert from 'const char [5]' to 'const std::locale' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vc",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12523:10247,release,release,10247,https://root.cern,https://github.com/root-project/root/pull/12523,1,['release'],['release']
Deployability,"oot-6.12.06/core/unix/src/TUnixSystem.cxx:2118; #3 TUnixSystem::StackTrace (this=0x55935a0857c0) at /home/yasmin/root/root-6.12.06/core/unix/src/TUnixSystem.cxx:2412; #4 0x00007f0765356c9c in TUnixSystem::DispatchSignals (this=0x55935a0857c0, sig=kSigSegmentationViolation) at /home/yasmin/root/root-6.12.06/core/unix/src/TUnixSystem.cxx:3643; #5 <signal handler called>; #6 0x00007f0761bb4118 in G4RToEConvForGamma::BuildAbsorptionLengthVector(G4Material const*, G4PhysicsLogVector*) () from /home/yasmin/CERN/geant4.10.03.p03-install/lib/libG4processes.so; #7 0x00007f0761bb6c3f in G4VRangeToEnergyConverter::Convert(double, G4Material const*) () from /home/yasmin/CERN/geant4.10.03.p03-install/lib/libG4processes.so; #8 0x00007f0761bb0bee in G4ProductionCutsTable::UpdateCoupleTable(G4VPhysicalVolume*) () from /home/yasmin/CERN/geant4.10.03.p03-install/lib/libG4processes.so; #9 0x00007f0763b9c5e2 in G4RunManagerKernel::RunInitialization(bool) () from /home/yasmin/CERN/geant4.10.03.p03-install/lib/libG4run.so; #10 0x00007f0763b8b3f7 in G4RunManager::RunInitialization() () from /home/yasmin/CERN/geant4.10.03.p03-install/lib/libG4run.so; #11 0x00007f0763b852c6 in G4RunManager::BeamOn(int, char const*, int) () from /home/yasmin/CERN/geant4.10.03.p03-install/lib/libG4run.so; #12 0x00007f0763b921fb in G4MTRunManager::Initialize() () from /home/yasmin/CERN/geant4.10.03.p03-install/lib/libG4run.so; #13 0x0000559358750187 in main (); ===========================================================. The lines below might hint at the cause of the crash.; You may get help by asking at the ROOT forum http://root.cern.ch/forum.; Only if you are really convinced it is a bug in ROOT then please submit a; report at http://root.cern.ch/bugs. Please post the ENTIRE stack trace; from above as an attachment in addition to anything else; that might help us fixing this issue.; ===========================================================; #6 0x00007f0761bb4118 in G4RToEConvForGamma::BuildAbsorptionLength",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/9952:2056,install,install,2056,https://root.cern,https://github.com/root-project/root/issues/9952,1,['install'],['install']
Deployability,"oot-project/root/pull/11023; Only the last commit, which has not been backported for the last patch release yet (the rest of PR was backported before the 6.26.04 release); - [x] https://github.com/root-project/root/pull/11123; Only the first commit that relates to the batch mode; - [x] https://github.com/root-project/root/pull/11162; - [x] https://github.com/root-project/root/pull/11129; Only the first two commits that are note just code modernization; - [x] https://github.com/root-project/root/pull/11134; Excluding the first commit with the code modernization; - [x] https://github.com/root-project/root/pull/11195; - [x] https://github.com/root-project/root/pull/11346; - [x] https://github.com/root-project/root/pull/11343; Only the first commit that is not code modernization; - [x] https://github.com/root-project/root/pull/11401; - [x] https://github.com/root-project/root/pull/11406; Only the last commit that changes the PDF cloning behavior, also excluding the `testRooSimultaneous` changes in that commit; - [x] https://github.com/root-project/root/pull/11416; excluding the first commit with the code modernization; - [x] https://github.com/root-project/root/pull/11417; - [x] https://github.com/root-project/root/pull/11419; - [x] https://github.com/root-project/root/pull/10842; - [x] https://github.com/root-project/root/pull/11500; Excluding the last commit that only updates the tutorials; - [x] https://github.com/root-project/root/pull/11507; - [x] https://github.com/root-project/root/pull/10811; - [x] https://github.com/root-project/root/pull/11531; Except for the second commit that fixes something that was introduced in the 6.28 development cycle. The backports were grouped in a few PRs to `v6-26-00-patches`:. 1. https://github.com/root-project/root/pull/11133; 2. https://github.com/root-project/root/pull/11402; 3. https://github.com/root-project/root/pull/11427; 4. https://github.com/root-project/root/pull/11505; 5. https://github.com/root-project/root/pull/11528",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11059:2095,update,updates,2095,https://root.cern,https://github.com/root-project/root/issues/11059,2,"['patch', 'update']","['patches', 'updates']"
Deployability,"oot/build/etc/cling/Interpreter/RuntimeUniverse.h:27:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/DynamicExprInfo.h:13:10: note: submodule of top-level module 'std' implicitly imported here; #include <string>; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/DynamicExprInfo.h:40:7: error: use of undeclared identifier 'std'; std::string m_Result;; ^; While building module 'Core':; While building module 'Cling_Runtime' imported from input_line_2:1:; While building module 'Cling_Runtime_Extra' imported from /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/RuntimeUniverse.h:27:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/DynamicLookupLifetimeHandler.h:12:10: note: submodule of top-level module 'std' implicitly imported here; #include <string>; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/DynamicLookupLifetimeHandler.h:56:7: error: use of undeclared identifier 'std'; std::string m_Type;; ^; While building module 'Core':; While building module 'Cling_Runtime' imported from input_line_2:1:; While building module 'Cling_Runtime_Extra' imported from /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/RuntimeUniverse.h:27:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Visibility.h:13:10: note: submodule of top-level module 'std' implicitly imported here; #include <new>; ^; While building module 'Core':; While building module 'Cling_Runtime' imported from input_line_2:",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10528:15386,Install,Installed,15386,https://root.cern,https://github.com/root-project/root/issues/10528,1,['Install'],['Installed']
Deployability,oot_src/core/base/inc/TObject.h:245; 9: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 10: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Taking true branch in /opt/root_src/math/matrix/src/TDecompSVD.cxx:848; 2: Taking true branch in /opt/root_src/math/matrix/src/TDecompSVD.cxx:849; 3: Calling 'TDecompSVD::Decompose' in /opt/root_src/math/matrix/src/TDecompSVD.cxx:850; 4: Taking false branch in /opt/root_src/math/matrix/src/TDecompSVD.cxx:125; 5: Taking false branch in /opt/root_src/math/matrix/src/TDecompSVD.cxx:127; 6: Calling default constructor for 'TVectorT<double>' in /opt/root_src/math/matrix/src/TDecompSVD.cxx:136; 7: Calling default constructor for 'TObject' in /opt/root_src/math/matrix/inc/TVectorT.h:53; 8: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 9: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 10: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Calling 'TVectorT::GetSub' in /opt/root_src/math/quadp/src/TQpProbDens.cxx:224; 2: Calling default constructor for 'TVectorT<double>' in /opt/root_src/math/matrix/inc/TVectorT.h:208; 3: Calling default constructor for 'TObject' in /opt/root_src/math/matrix/inc/TVectorT.h:53; 4: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 5: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 6: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left op,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:48372,Update,UpdateIsOnHeap,48372,https://root.cern,https://github.com/root-project/root/issues/7412,1,['Update'],['UpdateIsOnHeap']
Deployability,oot_src/net/http/civetweb/civetweb.c:18868; 2: Call to function 'strcat' is insecure as it does not provide bounding of the memory buffer. Replace unbounded copy functions with analogous functions that support length arguments such as 'strlcat'. CWE-119 in /opt/root_src/net/http/civetweb/civetweb.c:19242; 3: expanded from macro 'strcat0' in /opt/root_src/net/http/civetweb/civetweb.c:18868; /opt/root_src/net/net/src/TNetFile.cxx:697:7: warning: Value stored to 'read' is never read [clang-analyzer-deadcode.DeadStores]; 1: Value stored to 'read' is never read in /opt/root_src/net/net/src/TNetFile.cxx:697; /opt/root_src/net/net/src/TNetFile.cxx:722:7: warning: Value stored to 'recreate' is never read [clang-analyzer-deadcode.DeadStores]; 1: Value stored to 'recreate' is never read in /opt/root_src/net/net/src/TNetFile.cxx:722; /opt/root_src/net/net/src/TNetFile.cxx:728:7: warning: Value stored to 'update' is never read [clang-analyzer-deadcode.DeadStores]; 1: Value stored to 'update' is never read in /opt/root_src/net/net/src/TNetFile.cxx:728; /opt/root_src/net/net/src/TSQLMonitoring.cxx:178:99: warning: Called C++ object pointer is null [clang-analyzer-core.CallAndMessage]; 1: Assuming field 'fDB' is non-null in /opt/root_src/net/net/src/TSQLMonitoring.cxx:89; 2: Taking false branch in /opt/root_src/net/net/src/TSQLMonitoring.cxx:89; 3: Assuming 'values' is non-null in /opt/root_src/net/net/src/TSQLMonitoring.cxx:95; 4: Left side of '||' is false in /opt/root_src/net/net/src/TSQLMonitoring.cxx:95; 5: 'values' is non-null in /opt/root_src/net/net/src/TSQLMonitoring.cxx:95; 6: Left side of '&&' is true in /opt/root_src/net/net/src/TSQLMonitoring.cxx:95; 7: Assuming the condition is false in /opt/root_src/net/net/src/TSQLMonitoring.cxx:95; 8: Taking false branch in /opt/root_src/net/net/src/TSQLMonitoring.cxx:95; 9: Loop condition is true. Entering loop body in /opt/root_src/net/net/src/TSQLMonitoring.cxx:102; 10: Assuming the condition is true in /opt/root_src/net/net/src,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7528:81954,update,update,81954,https://root.cern,https://github.com/root-project/root/issues/7528,1,['update'],['update']
Deployability,"ootproject/rootsrc/tree/dataframe/src/RLoopManager.cxx:889 in void ROOT::Detail::RDF::RLoopManager::Run(bool)>: Finished event loop number 0 (0s CPU, 0.000119925s elapsed).; graph: X: 42,Y:42; Info in <[ROOT.RDF] Info /home/vpadulan/Programs/rootproject/rootsrc/tree/dataframe/src/RLoopManager.cxx:811 in void ROOT::Detail::RDF::RLoopManager::Jit()>: Nothing to jit and execute.; ```. ### Reproducer. compiled version; ```cpp; #include <ROOT/RDataFrame.hxx>; #include <ROOT/RLogger.hxx>. #include <iostream>. auto verbosity =; ROOT::Experimental::RLogScopedVerbosity(ROOT::Detail::RDF::RDFLogChannel(), ROOT::Experimental::ELogLevel::kInfo);. void run(); {; ROOT::RDataFrame d{1};; int i{42};; auto graph = d.Define(""x"", [&i](); { ; std::cout << ""Defining 'x': address: "" << &i << "", value: "" << i << ""\n"";; return i; }); .Define(""y"", [&i](); {; std::cout << ""Defining 'y': address: "" << &i << "", value: "" << i << ""\n"";; auto j = i; i = 10; return j; }); .Graph<int, int>(""x"", ""y"");. assert(graph->GetN() == 1);; std::cout << ""graph: X: "" << graph->GetPointX(0) << "",Y:"" << graph->GetPointY(0) << ""\n"";; }. int main(); {; run();; }; ```. JITted version; ```cpp; #include <ROOT/RDataFrame.hxx>; #include <ROOT/RLogger.hxx>. #include <iostream>. auto verbosity =; ROOT::Experimental::RLogScopedVerbosity(ROOT::Detail::RDF::RDFLogChannel(), ROOT::Experimental::ELogLevel::kInfo);. void run(); {; ROOT::RDataFrame d{1};; int i{42};; auto graph = d.Define(""x"", [&i](); { ; std::cout << ""Defining 'x': address: "" << &i << "", value: "" << i << ""\n"";; return i; }); .Define(""y"", [&i](); {; std::cout << ""Defining 'y': address: "" << &i << "", value: "" << i << ""\n"";; auto j = i; i = 10; return j; }); .Graph(""x"", ""y"");. assert(graph->GetN() == 1);; std::cout << ""graph: X: "" << graph->GetPointX(0) << "",Y:"" << graph->GetPointY(0) << ""\n"";; }. int main(); {; run();; }; ```. ### ROOT version. Any. ### Installation method. Built from source. ### Operating system. Fedora 39. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15686:3993,Install,Installation,3993,https://root.cern,https://github.com/root-project/root/issues/15686,1,['Install'],['Installation']
Deployability,"opment package or SDK, be sure it has been installed.; Call Stack (most recent call first):; /usr/lib/x86_64-linux-gnu/cmake/arrow/Findre2Alt.cmake:25 (find_package); cmake/modules/SearchInstalledSoftware.cmake:20 (_find_package); /usr/share/cmake-3.16/Modules/CMakeFindDependencyMacro.cmake:47 (find_package); /usr/lib/x86_64-linux-gnu/cmake/arrow/ArrowConfig.cmake:96 (find_dependency); cmake/modules/SearchInstalledSoftware.cmake:20 (_find_package); cmake/modules/FindArrow.cmake:206 (find_package); cmake/modules/FindArrow.cmake:313 (arrow_find_package_cmake_package_configuration); cmake/modules/FindArrow.cmake:350 (arrow_find_package); cmake/modules/SearchInstalledSoftware.cmake:20 (_find_package); cmake/modules/SearchInstalledSoftware.cmake:1088 (find_package); CMakeLists.txt:245 (include); ```; and; ```; CMake Warning at cmake/modules/SearchInstalledSoftware.cmake:20 (_find_package):; By not providing ""Findc-ares.cmake"" in CMAKE_MODULE_PATH this project has; asked CMake to find a package configuration file provided by ""c-ares"", but; CMake did not find one. Could not find a package configuration file provided by ""c-ares"" with any; of the following names:. c-aresConfig.cmake; c-ares-config.cmake. Add the installation prefix of ""c-ares"" to CMAKE_PREFIX_PATH or set; ""c-ares_DIR"" to a directory containing one of the above files. If ""c-ares""; provides a separate development package or SDK, be sure it has been; installed.; Call Stack (most recent call first):; /usr/lib/x86_64-linux-gnu/cmake/arrow/Findc-aresAlt.cmake:25 (find_package); cmake/modules/SearchInstalledSoftware.cmake:20 (_find_package); /usr/share/cmake-3.16/Modules/CMakeFindDependencyMacro.cmake:47 (find_package); /usr/lib/x86_64-linux-gnu/cmake/arrow/ArrowConfig.cmake:96 (find_dependency); cmake/modules/SearchInstalledSoftware.cmake:20 (_find_package); cmake/modules/FindArrow.cmake:206 (find_package); cmake/modules/FindArrow.cmake:313 (arrow_find_package_cmake_package_configuration); cmake/modules/FindArrow.c",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/8832:1630,configurat,configuration,1630,https://root.cern,https://github.com/root-project/root/pull/8832,3,['configurat'],['configuration']
Deployability,"opplusequal_stringview; -- Performing Test found_opplusequal_stringview - Success; -- Performing Test found_stdapply; -- Performing Test found_stdapply - Success; -- Performing Test found_stdinvoke; -- Performing Test found_stdinvoke - Success; -- Performing Test found_stdindexsequence; -- Performing Test found_stdindexsequence - Success; -- Performing Test found_attribute_always_inline; -- Performing Test found_attribute_always_inline - Success; -- Performing Test has_found_attribute_noinline; -- Performing Test has_found_attribute_noinline - Success; -- Performing Test found_hardware_interference_size; -- Performing Test found_hardware_interference_size - Failed; Running /home/razorr/Softwares/Installed/HEP/Root/gitclone/build/unix/compiledata.sh; Making /home/razorr/Softwares/Installed/HEP/Root/build/ginclude/compiledata.h; -- ROOT Configuration. System Linux-5.15.37-1-lts; Processor 2 core Intel(R) Core(TM) i3-5010U CPU @ 2.10GHz (x86_64); Build type Release; Install path /home/razorr/Softwares/Installed/HEP/Root/install; Compiler GNU 11.2.0; Compiler flags:; C -Wno-implicit-fallthrough -pipe -Wall -W -pthread -O3 -DNDEBUG; C++ -std=c++17 -Wno-implicit-fallthrough -Wno-noexcept-type -pipe -Wshadow -Wall -W -Woverloaded-virtual -fsigned-char -pthread -O3 -DNDEBUG; Linker flags:; Executable -rdynamic; Module; Shared -Wl,--no-undefined -Wl,--hash-style=""both"". -- Enabled support for: asimage builtin_afterimage builtin_clang builtin_cling builtin_ftgl builtin_gl2ps builtin_glew builtin_llvm builtin_nlohmannjson builtin_openui5 builtin_vdt builtin_xrootd clad dataframe exceptions fftw3 gdml http imt mathmore mlp minuit2 mysql opengl pyroot roofit webgui root7 rpath runtime_cxxmodules shared sqlite ssl tmva tmva-cpu tmva-pymva spectrum vdt x11 xml xrootd; -- Configuring done; -- Generating done; -- Build files have been written to: /home/razorr/Softwares/Installed/HEP/Root/build; ```. </details>. `$ cmake --build . --target install -- -j4`; <details>; <summary>truncat",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10528:11512,Release,Release,11512,https://root.cern,https://github.com/root-project/root/issues/10528,4,"['Install', 'Release', 'install']","['Install', 'Installed', 'Release', 'install']"
Deployability,opt/root_src/core/newdelete/src/NewDelete.cxx:191; 7: Taking false branch in /opt/root_src/core/newdelete/src/NewDelete.cxx:191; 8: Assuming 'gMmallocDesc' is null in /opt/root_src/core/newdelete/src/NewDelete.cxx:197; 9: Taking false branch in /opt/root_src/core/newdelete/src/NewDelete.cxx:197; 10: Value assigned to 'vp' in /opt/root_src/core/newdelete/src/NewDelete.cxx:200; 11: Assuming 'vp' is equal to null in /opt/root_src/core/newdelete/src/NewDelete.cxx:201; 12: Assuming pointer value is null in /opt/root_src/core/newdelete/src/NewDelete.cxx:201; 13: Taking true branch in /opt/root_src/core/newdelete/src/NewDelete.cxx:201; 14: Dereference of null pointer in /opt/root_src/core/newdelete/src/NewDelete.cxx:203; 15: expanded from macro 'StoreSizeMagic' in /opt/root_src/core/newdelete/src/NewDelete.cxx:122; 16: expanded from macro 'StoreSize' in /opt/root_src/core/newdelete/src/NewDelete.cxx:96; ```; ```; /opt/root_src/core/newdelete/src/NewDelete.cxx:286:13: warning: Attempt to free released memory [clang-analyzer-unix.Malloc]; 1: Calling 'operator delete' in /opt/root_src/core/newdelete/src/NewDelete.cxx:369; 2: Assuming the condition is false in /opt/root_src/core/newdelete/src/NewDelete.cxx:266; 3: Taking false branch in /opt/root_src/core/newdelete/src/NewDelete.cxx:266; 4: Assuming 'gNewInit' is not equal to 0 in /opt/root_src/core/newdelete/src/NewDelete.cxx:273; 5: Taking false branch in /opt/root_src/core/newdelete/src/NewDelete.cxx:273; 6: Assuming 'ptr' is non-null in /opt/root_src/core/newdelete/src/NewDelete.cxx:276; 7: Taking true branch in /opt/root_src/core/newdelete/src/NewDelete.cxx:276; 8: Assuming the condition is false in /opt/root_src/core/newdelete/src/NewDelete.cxx:278; 9: expanded from macro 'CallFreeHook' in /opt/root_src/core/newdelete/src/NewDelete.cxx:143; 10: Taking false branch in /opt/root_src/core/newdelete/src/NewDelete.cxx:278; 11: expanded from macro 'CallFreeHook' in /opt/root_src/core/newdelete/src/NewDelete.cxx:143; 12: Assumi,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7426:59206,release,released,59206,https://root.cern,https://github.com/root-project/root/issues/7426,1,['release'],['released']
Deployability,opt/root_src/hist/spectrum/src/TSpectrum.cxx:2590; 2: Calling constructor for 'TNamed' in /opt/root_src/hist/spectrum/src/TSpectrum.cxx:51; 3: Calling default constructor for 'TObject' in /opt/root_src/core/base/inc/TNamed.h:37; 4: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 5: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 6: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Calling default constructor for 'TMatrixTSym<double>' in /opt/root_src/hist/hist/src/TPrincipal.cxx:880; 2: Calling default constructor for 'TMatrixTBase<double>' in /opt/root_src/math/matrix/inc/TMatrixTSym.h:54; 3: Calling default constructor for 'TObject' in /opt/root_src/math/matrix/inc/TMatrixTBase.h:115; 4: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 5: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 6: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Calling constructor for 'TSpectrum2Painter' in /opt/root_src/hist/spectrumpainter/src/TSpectrum2Painter.cxx:7676; 2: Calling constructor for 'TNamed' in /opt/root_src/hist/spectrumpainter/src/TSpectrum2Painter.cxx:54; 3: Calling default constructor for 'TObject' in /opt/root_src/core/base/inc/TNamed.h:37; 4: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 5: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 6: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:27340,Update,UpdateIsOnHeap,27340,https://root.cern,https://github.com/root-project/root/issues/7412,1,['Update'],['UpdateIsOnHeap']
Deployability,"or PRs were opened. #### What will this cost?; Nothing! The CodeQL engine will run inside GitHub Actions, making use of your [unlimited free compute minutes for public repositories](https://docs.github.com/en/actions/learn-github-actions/usage-limits-billing-and-administration#about-billing-for-github-actions). #### What types of problems does CodeQL find?; The CodeQL engine that powers GitHub code scanning is the exact same engine that powers LGTM.com. The exact set of rules has been tweaked slightly, but you should see almost exactly the same types of alerts as you were used to on LGTM.com: we’ve enabled the [`security-and-quality` query suite](https://docs.github.com/en/code-security/code-scanning/automatically-scanning-your-code-for-vulnerabilities-and-errors/configuring-code-scanning#using-queries-in-ql-packs) for you. #### How do I upgrade my CodeQL engine?; No need! New versions of the CodeQL analysis are constantly deployed on GitHub.com; your repository will automatically benefit from the most recently released version. #### The analysis doesn’t seem to be working; If you get an error in GitHub Actions that indicates that CodeQL wasn’t able to analyze your code, please [follow the instructions here](https://docs.github.com/en/code-security/code-scanning/automatically-scanning-your-code-for-vulnerabilities-and-errors/troubleshooting-the-codeql-workflow) to debug the analysis. #### How do I disable LGTM.com?; If you have LGTM’s automatic pull request analysis enabled, then you can [follow these steps to disable the LGTM pull request analysis](https://lgtm.com/help/lgtm/managing-automated-code-review#disabling-pr-integration). You don’t actually need to remove your repository from LGTM.com; it will automatically be removed in the next few months as part of the deprecation of LGTM.com ([more info here](https://github.blog/2022-08-15-the-next-step-for-lgtm-com-github-code-scanning/)). #### Which source code hosting platforms does code scanning support?; GitHub c",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11808:3401,release,released,3401,https://root.cern,https://github.com/root-project/root/pull/11808,1,['release'],['released']
Deployability,"or SQLite; -- Found Sqlite: /usr/include; -- Looking for Pythia6; -- Pythia6 not found. Switching off pythia6 option; -- Looking for Pythia8; -- Could NOT find Pythia8 (missing: PYTHIA8_INCLUDE_DIR PYTHIA8_LIBRARY); -- Pythia8 not found. Switching off pythia8 option; -- Looking for FFTW3; -- Found fftw3 includes at /usr/include; -- Found fftw3 library at /usr/lib/libfftw3.so; -- Looking for CFITSIO; -- Could NOT find CFITSIO (missing: CFITSIO_LIBRARY CFITSIO_INCLUDE_DIR); -- CFITSIO not found. You can enable the option 'builtin_cfitsio' to build the library internally'; -- For the time being switching off 'fitsio' option; -- Looking for XROOTD; -- XROOTD not found, enabling 'builtin_xrootd' option; -- Downloading and building XROOTD version 5.4.2; -- Could NOT find GFAL (missing: GFAL_INCLUDE_DIR SRM_IFCE_INCLUDE_DIR GFAL_LIBRARY); -- GFAL library not found. Set variable GFAL_DIR to point to your gfal installation; and the variable SRM_IFCE_DIR to the srm_ifce installation; -- For the time being switching OFF 'gfal' option; -- Could NOT find FTGL (missing: FTGL_INCLUDE_DIR FTGL_LIBRARY); -- ftgl library not found. Set variable FTGL_ROOT_DIR to point to your installation; -- For the time being switching ON 'builtin_ftgl' option; -- Checking for module 'davix>=0.6.4'; -- Package 'davix', required by 'virtual:world', not found; -- Looking for uuid_generate_random in uuid; -- Looking for uuid_generate_random in uuid - found; -- Found libuuid: /usr/include; -- Davix dependencies not found, switching OFF 'davix' option.; -- Looking for TBB; -- Found TBB: /usr (Required is at least version ""2018""); -- Looking for VDT; -- Could NOT find Vdt (missing: VDT_INCLUDE_DIR VDT_LIBRARY) (Required is at least version ""0.4""); -- VDT not found. Ensure that the installation of VDT is in the CMAKE_PREFIX_PATH; -- Switching ON 'builtin_vdt' option; -- Cannot select cudnn without selecting cuda or tmva-gpu. Option is ignored; -- Looking for BLAS for optional parts of TMVA; -- Looking for s",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10528:6898,install,installation,6898,https://root.cern,https://github.com/root-project/root/issues/10528,2,['install'],['installation']
Deployability,"or duplicates. ### Description. I have a compilation error in the case with an existing version of the nlohmann library; ```; /home/runner/install/include/nlohmann/json.hpp:3435:8: error: redefinition of default argument for ‘class T’; 3435 | struct adl_serializer;; | ^~~~~~~~~~~~~~; In file included from /home/runner/work/SIRF-SuperBuild/SIRF-SuperBuild/build/sources/ROOT/graf3d/eve7/inc/ROOT/REveShape.hxx:15,; from /home/runner/work/SIRF-SuperBuild/SIRF-SuperBuild/build/sources/ROOT/graf3d/eve7/inc/ROOT/REveBox.hxx:15,; from /home/runner/work/SIRF-SuperBuild/SIRF-SuperBuild/build/sources/ROOT/graf3d/eve7/src/REveBox.cxx:12:; /home/runner/work/SIRF-SuperBuild/SIRF-SuperBuild/build/sources/ROOT/graf3d/eve7/inc/ROOT/REveElement.hxx:39:10: note: original definition appeared here; 39 | template<typename T = void, typename SFINAE = void>; | ^~~~~~~~; In file included from /home/runner/work/SIRF-SuperBuild/SIRF-SuperBuild/build/sources/ROOT/graf3d/eve7/src/REveBox.cxx:18:; /home/runner/install/include/nlohmann/json.hpp:3448:7: error: redefinition of default argument for ‘template<class U, class V, class ... Args> class ObjectType’; 3448 | class basic_json;; ```. I believe this is cause by the fact that the installed version is v3.10.4 (which doesn't have `json_fwd.h`). Relevant bits of code:; - CMake code [checks for version](https://github.com/root-project/root/blob/f98afaed8286ae156d364bedd36c440bc22c0875/cmake/modules/SearchInstalledSoftware.cmake#L87); - CMake [defaults to ""build-in"" OFF](https://github.com/root-project/root/blob/f98afaed8286ae156d364bedd36c440bc22c0875/cmake/modules/RootBuildOptions.cmake#L100); - `REveElement.hxx` contains a work-around if `json_fwd.h` is not found, i.e. it [defines its own](https://github.com/root-project/root/blob/25e81912b499df1703bc6bed47623cfbbce036f7/graf3d/eve7/inc/ROOT/REveElement.hxx#L25-L37). I believe the latter is causing the problem: somehow the existing (old) `json.h` has been read, and then creates a conflict with th",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14634:1039,install,install,1039,https://root.cern,https://github.com/root-project/root/issues/14634,1,['install'],['install']
Deployability,"or validity of the existing `FileEntry` was removed:. ```; - if (UFE.isValid() &&; - llvm::sys::toTimeT(Status.getLastModificationTime()) == UFE.ModTime) {; + if (llvm::sys::toTimeT(Status.getLastModificationTime()) == UFE->ModTime) {; ```. In praticed this resulted in the usage of the zero-initialized `FileEntry` for files with mtime equal zero. The check for the mod time is a ROOT specific patch introduced by commit 8d492b6b9ca359294d018995d097736f762866c8 we the commit log:. Make sure the inode did not get updated since we read it. During the upgrade to LLVM svn revision 214630, the code was sub-optimally merged with the new related code:. ```; + if (UFE.isValid()) { // Already have an entry with this inode, return it.; +; + // FIXME: this hack ensures that if we look up a file by a virtual path in; + // the VFS that the getDir() will have the virtual path, even if we found; + // the file by a 'real' path first. This is required in order to find a; + // module's structure when its headers/module map are mapped in the VFS.; + // We should remove this as soon as we can properly support a file having; + // multiple names.; + if (DirInfo != UFE.Dir && Data.IsVFSMapped); + UFE.Dir = DirInfo;; + }; if (UFE.isValid() && Data.ModTime == UFE.ModTime) {; - // Already have an entry with this inode, return it.; - // If the stat process opened the file, close it to avoid a FD leak.; - if (F); - delete F;; -; return &UFE;; }; ```. where the new code (top part) should also have not been executed unless the UFE was actually returned. This also made meger the LLVM code more challenged were one the change was:; ```; - if (UFE.isValid()) { // Already have an entry with this inode, return it.; + if (ReusingEntry) { // Already have an entry with this inode, return it. ```; this lead to the inadvertent removal of `UFE.isValid() conditional` in the patched part (and the forgetting of adding `ReusingEntry conditional`). This patch remerge the two section under the a single if statement.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14373:1921,patch,patched,1921,https://root.cern,https://github.com/root-project/root/pull/14373,2,['patch'],"['patch', 'patched']"
Deployability,"or: : System Error: No such file or directory; CMake Error at interpreter/cling/cmake/modules/CMakeLists.txt:22 (configure_file):; configure_file Problem configuring file; ```. Possible source of the issue:; https://github.com/root-project/root/blob/master/interpreter/cling/cmake/modules/CMakeLists.txt#L4-L5. ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->; 1. The configurations works, just as it does on the 6.26 branch.; 2. If not feasible, the build error should at least guide the user / package aintainer the configuration option to solve the issue or where to find the solution. ### To Reproduce. 1. Build against the master branch (6.27, 0fafc31efb5a94472af2a6b35ded27796cb141c8) with CMake Flag `-Dbuiltin_llvm=OFF`.; (See the external context for steps to reproduce the behavior with the Nix package manager and Nixpkgs.); 2. See error. ### Setup; <!--; 1. ROOT version; 3. Operating system; 4. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->; 1. ROOT version: 6.27.* on the master branch (f9d15227e4c92eac7c6499379912d1ed24d0142b).; 2. Operating system: NixOS (Linux), on a x86_64 machine.; - system: `""x86_64-linux""`; - host os: `Linux 5.10.156, NixOS, 22.11 (Raccoon), 22.11.20221130.596a8e8`; - multi-user?: `yes`; - sandbox: `yes`; - version: `nix-env (Nix) 2.11.0`; - nixpkgs: `/nix/store/qwgw2b19ga8dr7c6wfpd6p87bdjyrnha-source`; 4. Build with Nix and get dependencies from Nixpkgs. ### Additional context. Here is the build steps to reproduce the issue with Nix. It can be proceed as long as `nix` or `docker` is available. Copyright notice: The `default.nix` is derived/taken from [pkgs/applications/science/misc/root/default.nix](https://github.com/NixOS/nixpkgs/blob/2787fc7d1e51404678614bf0fe92fc296746eec0/pkgs/applications/science/misc/root/default.nix) in [Nixpkgs](https://github.com/NixOS/nixpkgs). The original work is licensed under the MIT license by Eelco Dolstra and the ",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11920:2495,install,install,2495,https://root.cern,https://github.com/root-project/root/issues/11920,1,['install'],['install']
Deployability,orage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 20: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Assuming the condition is false in /opt/root_src/tmva/tmva/src/Classification.cxx:273; 2: Taking false branch in /opt/root_src/tmva/tmva/src/Classification.cxx:273; 3: Assuming the condition is false in /opt/root_src/tmva/tmva/src/Classification.cxx:282; 4: Taking false branch in /opt/root_src/tmva/tmva/src/Classification.cxx:282; 5: Calling 'Classification::GetResults' in /opt/root_src/tmva/tmva/src/Classification.cxx:285; 6: Calling default constructor for 'ClassificationResult' in /opt/root_src/tmva/tmva/src/Classification.cxx:975; 7: Calling default constructor for 'TObject' in /opt/root_src/tmva/tmva/src/Classification.cxx:52; 8: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 9: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 10: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Assuming 'i' is < 'nclasses' in /opt/root_src/tmva/tmva/src/DataSetFactory.cxx:739; 2: Loop condition is true. Entering loop body in /opt/root_src/tmva/tmva/src/DataSetFactory.cxx:739; 3: 'ivar' is < 'nvars' in /opt/root_src/tmva/tmva/src/DataSetFactory.cxx:741; 4: Loop condition is true. Entering loop body in /opt/root_src/tmva/tmva/src/DataSetFactory.cxx:741; 5: Assuming 'ivar' is >= 'nvars' in /opt/root_src/tmva/tmva/src/DataSetFactory.cxx:741; 6: Loop condition is false. Execution continues on line 739 in /opt/root_src/tmva/tmva/src/DataSetFactory.cxx:741; 7: Assuming 'i' is >= 'nclasses' in /opt/ro,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:80815,Update,UpdateIsOnHeap,80815,https://root.cern,https://github.com/root-project/root/issues/7412,1,['Update'],['UpdateIsOnHeap']
Deployability,orage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 12: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 13: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Taking false branch in /opt/root_src/math/matrix/src/TMatrixDSymEigen.cxx:36; 2: expanded from macro 'R__ASSERT' in /opt/root_src/core/foundation/inc/TError.h:120; 3: Loop condition is false. Exiting loop in /opt/root_src/math/matrix/src/TMatrixDSymEigen.cxx:36; 4: expanded from macro 'R__ASSERT' in /opt/root_src/core/foundation/inc/TError.h:119; 5: Calling default constructor for 'TVectorT<double>' in /opt/root_src/math/matrix/src/TMatrixDSymEigen.cxx:46; 6: Calling default constructor for 'TObject' in /opt/root_src/math/matrix/inc/TVectorT.h:53; 7: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 8: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 9: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Assuming the condition is false in /opt/root_src/io/sql/src/TSQLStructure.cxx:1190; 2: Left side of '||' is false in /opt/root_src/io/sql/src/TSQLStructure.cxx:1190; 3: Assuming the condition is false in /opt/root_src/io/sql/src/TSQLStructure.cxx:1190; 4: Taking false branch in /opt/root_src/io/sql/src/TSQLStructure.cxx:1190; 5: Calling default constructor for 'TSqlRegistry' in /opt/root_src/io/sql/src/TSQLStructure.cxx:1193; 6: Calling default constructor for 'TObject' in /opt/root_src/io/sql/src/TSQLStructure.cxx:825; 7: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 8:,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:39580,Update,UpdateIsOnHeap,39580,https://root.cern,https://github.com/root-project/root/issues/7412,1,['Update'],['UpdateIsOnHeap']
Deployability,"order, relEps = 1e-06; 	 	mean 	median 	q95 	q99 	max; 	old:	1.40432e-16	2.12767e-16	4.25546e-16	4.25569e-16	6.38354e-16	t=0.05; 	new:	1.77284e-16	2.12771e-16	4.25564e-16	6.38325e-16	6.38354e-16	t=0.04; 	ROOT:	1.44538e-16	2.12768e-16	4.25551e-16	4.25569e-16	6.38354e-16	t=0.06; Integrating Polynomial 4th order, relEps = 1e-08; 	 	mean 	median 	q95 	q99 	max; 	old:	1.40424e-16	2.12764e-16	4.25528e-16	4.25528e-16	6.38292e-16	t=0.06; 	new:	1.7536e-16	2.12764e-16	4.25528e-16	6.38292e-16	6.38292e-16	t=0.02; 	ROOT:	1.45531e-16	2.12764e-16	4.25528e-16	4.25528e-16	6.38292e-16	t=0.03; [ OK ] Roo1DIntegrator.ConvergenceSettings_pol4 (501 ms); [ RUN ] Roo1DIntegrator.ConvergenceSettings_breitWig; Integrating Breit-Wigner distribution, relEps = 0.001; 	 	mean 	median 	q95 	q99 	max; 	old:	0.0303175	0.0209141	0.0827284	0.116045	0.125775	t=0.05; 	new:	0.00084728	0.000305644	0.00479046	0.0129056	0.125775	t=0.02; 	ROOT:	1.69943e-06	6.01714e-12	2.93861e-09	6.96465e-08	0.125775	t=0.25; Old integrator reached poor precision: 0.0303175 +/- 0.0273059 instead of 0.001; Integrating Breit-Wigner distribution, relEps = 1e-06; 	 	mean 	median 	q95 	q99 	max; 	old:	3.37556e-06	3.37556e-06	3.39334e-06	3.39492e-06	3.39532e-06	t=0.18; 	new:	2.27034e-08	2.27035e-08	2.28213e-08	2.28318e-08	3.39532e-06	t=0.18; 	ROOT:	1.98411e-16	2.29224e-16	4.58502e-16	4.58676e-16	3.39532e-06	t=0.16; Integrating Breit-Wigner distribution, relEps = 1e-08; 	 	mean 	median 	q95 	q99 	max; 	old:	2.28344e-08	2.28344e-08	2.28344e-08	2.28344e-08	2.28344e-08	t=0.3; 	new:	1.21223e-10	1.21223e-10	1.21223e-10	1.21223e-10	2.28344e-08	t=0.25; 	ROOT:	2.1239e-16	2.29339e-16	4.58677e-16	5.73346e-16	2.28344e-08	t=0.2; [ OK ] Roo1DIntegrator.ConvergenceSettings_breitWig (1691 ms); [ RUN ] Roo1DIntegrator.ConvergenceSettings_Erf; Integrating Gaussian distribution, relEps = 0.001; 	 	mean 	median 	q95 	q99 	max; 	old:	7.08849e-07	1.10954e-07	3.73492e-06	5.0379e-06	5.42401e-06	t=0.04; 	new:	1.1389e-09	4.99603e-11	6.97092e-09	1.01533e-08	",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6632:2724,integrat,integrator,2724,https://root.cern,https://github.com/root-project/root/pull/6632,1,['integrat'],['integrator']
Deployability,"ore sense. Also, it just hasn't been tested at all with Minuit 1, I'm not even sure it will work with that version. Other than these `RooMinimizer` changes and the addition of `RooGradMinimizerFcn`, a new test was added called `testRooGradMinimizer`. It also uses a `test_lib.h` header that will also be used later on in tests of other new likelihood minimization implementations. **Do note that the test currently fails.** I originally had carefully made sure the results were bit-wise exactly the same as those from using classic `RooMinimizerFcn`, but there must have been some change in the meantime that I have not been able to integrate yet. I suspect it is caused by a change in Kahan summation, but have to inspect. In any case, the results are minor differences that do not negatively affect the effectiveness, the minimization just takes slightly different paths to the end results that will agree within the desired precision when set high enough. ~~**Final note:** this PR depends on three others: #8369, #8567 and #8569. These branches as they currently are were merged into this branch before making the one commit that adds everything in this actual commit. Do not merge this one before those. Also take care that this branch will be rebased and force pushed after each of those three are merged. In short: probably it will be easier to review this branch after those others are merged. However, of course, a review is already most welcome. Just make sure to only look at the diff from the final commit: https://github.com/root-project/root/commit/6b129bedf5f6fe2e971c0a24fce0bf53e6c40284~~. **Update**: two of the above dependency PRs were merged. Only #8567 still needs to be merged and hence is also still included in this PR to make it compile. I have marked these three `math/minuit2` files with a review comment. All the other files actually do belong to this PR. So, in short: ready for review!. ## Checklist:. - [x] tested changes locally; - [ ] updated the docs (if necessary)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/8596:3626,Update,Update,3626,https://root.cern,https://github.com/root-project/root/pull/8596,2,"['Update', 'update']","['Update', 'updated']"
Deployability,"ortunately I can not reproduce the problem with simple PDFs. ; There were no problem with last week nighlies as well as there are no problems with any released verisons of ROOT. - [ ] Checked for duplicates; <!--; Please search in; * [GitHub](https://github.com/root-project/root/issues?q=is%3Aissue); * AND [Jira](https://sft.its.cern.ch/jira/issues/?jql=project %3D ROOT); for existing reports of your issue. If you find one, you are very welcome to add to the existing report, for instance ""issue still exists in today's master"".; -->. ### Describe the bug; <!--; A clear and concise description of what the wrong behavior is.; -->. Segmentation fault for drawing complicated multicomponent PDFs in PyROOT/RooFit in calling for `plotOn` method.; Problem appears from the start of this week. There were no problem till with last week nightlies ; as well as there are no problems with any released versions of ROOT. . ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->. ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->. 1. ROOT version 6.25.01 from dev3 nightlies slot ; 2. lxplus.cern.ch ; 3. LCG nightlies dev3 slot . ### Additional context; <!--; Add any other context about the problem here.; -->. There are no problems with any released ROOT versions, and my tests with dev-3 LCG nightly slot till the mid mid of the previous week were successfull (unfortnuately I'venot run test Last Thursday and Friday). There are no problems with ""simple"" PDFs, and there is no problems with PDF-only plots.; Problem appears when I make plot of DATA with multicomponent PDFs.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/8474:1593,install,install,1593,https://root.cern,https://github.com/root-project/root/issues/8474,2,"['install', 'release']","['install', 'released']"
Deployability,"ostic ignored ""-Wformat-security""; __attribute__((used)) extern ""C"" void __cf_0(void* obj, int nargs, void** args, void* ret); {; if (ret) {; (*(TStreamerInfo**)ret) = new TStreamerInfo();; return;; }; else {; new TStreamerInfo();; return;; }; }; #pragma clang diagnostic pop; ==== SOURCE END ====; Error in <TClingCallFunc::ExecT>: Called with no wrapper, not implemented!; Error in <TVirtualStreamerInfo::Factory>: The plugin handler for TVirtualStreamerInfo was found but failed to create the factory object!; ```; The reason is that during TClingCallFunc::make_wrapper, the call to cling::Interpreter::compileFunction ends with:; ```; if (const llvm::GlobalValue* GV; = getLastTransaction()->getModule()->getNamedValue(name)); ```; However in the 'broken' case, the getLastTransaction does not return the transaction for the code being compiled by DeclareCFunction but instead the one used/created at:. ```; #0 cling::IncrementalParser::endTransaction (this=0x4a2980, T=0x8c0fb0) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/interpreter/cling/lib/Interpreter/IncrementalParser.cpp:345; #1 0x00007fffeebc7899 in cling::Interpreter::PushTransactionRAII::pop (this=0x7fffffffcb00) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/interpreter/cling/lib/Interpreter/Interpreter.cpp:111; #2 0x00007fffeebc785e in cling::Interpreter::PushTransactionRAII::~PushTransactionRAII (this=0x7fffffffcb00, __in_chrg=<optimized out>); at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/interpreter/cling/lib/Interpreter/Interpreter.cpp:106; #3 0x00007fffeebeb659 in cling::LookupHelper::findScope (this=0x4a9dd0, className=..., diagOnOff=cling::LookupHelper::NoDiagnostics, resultType=0x7fffffffcd08, instantiateTemplate=false); at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/interpreter/cling/lib/Interpreter/LookupHelper.cpp:466; #4 0x00007fffeeabe0df in TCling::CheckClassInfo (this=0x4a0550, name=<optimized out>, autoload=<optimized out>, isClassOrNamespaceOnly=<opti",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2776:1899,patch,patches,1899,https://root.cern,https://github.com/root-project/root/pull/2776,2,['patch'],['patches']
Deployability,"ot -b; ROOT 5.34/32 (v5-34-32@v5-34-32, Jul 28 2015, 17:41:47 on linuxx8664gcc); root [0] RooWorkspace w(""w"");; root [1] w.factory(""Gaussian::sigx(x[-10,10],m[0,-10,10],s[3,0.1,10])"");; root [4] w.writeToFile(""simplest-53432.root"");; ```; * Since it isn't easy to get ROOT 5.34 running on CentOS7 these days, I have saved some workspace files here:; * `/afs/cern.ch/user/a/adye/public/root/bug-62206/simplest-53425.root` (created with ROOT 5.34/25); * `/afs/cern.ch/user/a/adye/public/root/bug-62206/simplest-53432.root` (created with ROOT 5.34/32); * `/afs/cern.ch/user/a/adye/public/root/bug-62206/simplest-60212.root` (created with ROOT 6.02/12); * Setup ROOT 6.22/06 and load the file:; ```; % . /cvmfs/sft.cern.ch/lcg/views/setupViews.sh LCG_99 x86_64-centos7-gcc8-dbg; % root -b; root [0] TFile::Open(""simplest-53432.root""); *** Break *** segmentation violation; ...; #10 std::__atomic_base<TVirtualStreamerInfo*>::load (__m=std::memory_order_seq_cst, this=0x1d8) at /cvmfs/sft.cern.ch/lcg/releases/gcc/8.3.0-cebb0/x86_64-centos7/include/c++/8.3.0/bits/atomic_base.h:713; #11 std::__atomic_base<TVirtualStreamerInfo*>::operator TVirtualStreamerInfo* (this=0x1d8) at /cvmfs/sft.cern.ch/lcg/releases/gcc/8.3.0-cebb0/x86_64-centos7/include/c++/8.3.0/bits/atomic_base.h:590; #12 0x00007f791c62f23e in std::atomic<TVirtualStreamerInfo*>::operator TVirtualStreamerInfo* (this=0x1d8) at /cvmfs/sft.cern.ch/lcg/releases/gcc/8.3.0-cebb0/x86_64-centos7/include/c++/8.3.0/atomic:367; #13 0x00007f791c625873 in TClass::GetStreamerInfo (this=0x0, version=0, isTransient=false) at /build/jenkins/workspace/lcg_release_pipeline/build/projects/ROOT-v6.22.06/src/ROOT/v6.22.06/core/meta/src/TClass.cxx:4563; #14 0x00007f7919c70b29 in (anonymous namespace)::FixCollectionV5 (context=0x372fc40, oldClass=0x3a21c20, newClass=0x3a23a30) at /build/jenkins/workspace/lcg_release_pipeline/build/projects/ROOT-v6.22.06/src/ROOT/v6.22.06/io/io/src/TStreamerInfo.cxx:1586; #15 0x00007f7919c76b47 in (anonymous namespace):",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7276:1730,release,releases,1730,https://root.cern,https://github.com/root-project/root/issues/7276,1,['release'],['releases']
Deployability,"ot affect ROOT at all as ROOT's builtin XRootD explicitly disables the Python bindings. https://github.com/root-project/root/blob/a940bdbc40d9a0cdac8975c287e1cb7ada0d0c65/builtins/xrootd/CMakeLists.txt#L43. given 2c23502137acd9276fc21da300ab3d562278d57f (from @peremato in 2015). I am unclear on the specifics of explicitly disabling the Python bindings from being built as there is no associated PR for the commit. If there is not a modern reason for this to stay disabled (my assumption is that there is and I am missing it), updating to XRootD `v5.4.1` would allow for the Python bindings to be optionally enabled and to be build safely with the improvements to the Python bindings build process (and also bring along new features and bug fixes). If there are reasons to keep XRootD below `v5.4.X` then this Issue can get closed. ### Optional: share how it could be improved; <!--; If you already have an idea what we could improve, then please tell us.; -->. Make a PR similar to PR #7335 that would update the builtin to XRootD [`v5.4.1`](https://github.com/xrootd/xrootd/releases/tag/v5.4.1). ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code: build it / `root myMacro.C` / ...; -->. There isn't a bug explicitly here, but for a discussion on the Python 3 binding and modern `setuptools` issue that was resolved in XRootD `v5.4.1` see the links in additional context. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->. Not relevant for this issue, but all instances related to the XRootD issues were tested in ROOT `v6.24/06`. ### Additional context; <!--; Add any other context about the problem here.; -->. * https://github.com/xrootd/xrootd/issues/1579; * https://gitlab.cern.ch/atlas-amglab/atlstats/-/merge_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/9967:1926,update,update,1926,https://root.cern,https://github.com/root-project/root/issues/9967,1,['update'],['update']
Deployability,"ot remade because of errors.; make: Leaving directory '/mnt/root-build-ubuntu'; ```. ### Reproducer. ```; # Enable multiarch support for docker (https://hub.docker.com/r/multiarch/qemu-user-static/); docker run --privileged --rm multiarch/qemu-user-static --reset --persistent yes; # Start ubuntu docker container ; docker run --platform linux/arm64/v8 --rm -it ubuntu:latest; # Install minimal dependencies; apt-get update; apt-get install build-essential git cmake python3; # Clone ROOT to commit just before problem; git clone https://github.com/root-project/root; git -C root reset --hard a886646; # Apply unrelated patch (see below); sed 's/^ \([^s].*\.cxx\)/ src\/\1/g' hist/hist/CMakeLists.txt; # Configure and build (took 10 hours); cmake -Broot-build -Sroot -Dasimage=OFF -Dclad=OFF -Ddataframe=OFF -Ddavix=OFF -Dfftw3=OFF -Dgdml=off -Dhttp=off -Dimt=OFF -Dmathmore=OFF -Dminuit2=OFF -Dmlp=OFF -Dopengl=OFF -Dpyroot=OFF -Dpythia8=OFF -Droofit=OFF -Dwebgui=OFF -Droot7=OFF -Dspectrum=OFF -Dsqlite=OFF -Dssl=OFF -Dtmva=OFF -Dtmva-cpu=OFF -Dvdt=OFF -Dx11=OFF -Dxml=OFF -Dxrootd=OFF -DCMAKE_INSTALL_PREFIX=root-install; make -Croot-build -j7 install; # Reset ROOT to next commit, which introduced the problem ; git -C root reset --hard e9d264e; # Apply unrelated patch (see below); sed 's/^ \([^s].*\.cxx\)/ src\/\1/g' hist/hist/CMakeLists.txt; make -Croot-build -j7 install; # This last command fails; ```. ### ROOT version. https://github.com/root-project/root/commit/e9d264eb545be5f7c3df9733fe8adb9d4dac1163, i.e. `v6-27-02~243^2~17`. ### Installation method. git clone, cmake, make. ### Operating system. Linux Ubuntu 23.04. ### Additional context. ## Why would you want to do that???. A valid question is why one would want to build ROOT inside a qemu/docker environment where a foreign architecture is emulated? Well, just for this PR in fact, to make it self-contained and (somewhat) debuggable. You can also build a container natively on ARM, upload to docker, and atempt to run ROOT ins",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13845:4510,install,install,4510,https://root.cern,https://github.com/root-project/root/issues/13845,3,"['install', 'patch']","['install', 'patch']"
Deployability,"ot store real data with this version of RNTuple!; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experimental::Internal::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNTupleDescriptorBuilder&)>: Pre-release format version: RC 1; [ OK ] RNTuple.ArrayField (23 ms); [ RUN ] RNTuple.StdPair; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RPageStorageFile.cxx:51 in ROOT::Experimental::Detail::RPageSinkFile::RPageSinkFile(std::string_view, const ROOT::Experimental::RNTupleWriteOptions&)>: The RNTuple file format will change. Do not store real data with this version of RNTuple!; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experimental::Internal::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNTupleDescriptorBuilder&)>: Pre-release format version: RC 1; [ OK ] RNTuple.StdPair (226 ms); [ RUN ] RNTuple.StdTuple; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RPageStorageFile.cxx:51 in ROOT::Experimental::Detail::RPageSinkFile::RPageSinkFile(std::string_view, const ROOT::Experimental::RNTupleWriteOptions&)>: The RNTuple file format will change. Do not store real data with this version of RNTuple!; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experimental::Internal::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNTupleDescriptorBuilder&)>: Pre-release format version: RC 1; [ OK ] RNTuple.StdTuple (169 ms); [ RUN ] RNTuple.Int64_t; [ OK ] RNTuple.Int64_t (0 ms); [ RUN ] RNTuple.Char; [ OK ] RNTuple.Char (0 ms); [ RUN ] RNTuple.Int8_t; [ OK ] ",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12426:17297,release,release,17297,https://root.cern,https://github.com/root-project/root/issues/12426,1,['release'],['release']
Deployability,"ot store real data with this version of RNTuple!; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experimental::Internal::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNTupleDescriptorBuilder&)>: Pre-release format version: RC 1; [ OK ] RNTuple.ArrayField (37 ms); [ RUN ] RNTuple.StdPair; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RPageStorageFile.cxx:51 in ROOT::Experimental::Detail::RPageSinkFile::RPageSinkFile(std::string_view, const ROOT::Experimental::RNTupleWriteOptions&)>: The RNTuple file format will change. Do not store real data with this version of RNTuple!; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experimental::Internal::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNTupleDescriptorBuilder&)>: Pre-release format version: RC 1; [ OK ] RNTuple.StdPair (237 ms); [ RUN ] RNTuple.StdTuple; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RPageStorageFile.cxx:51 in ROOT::Experimental::Detail::RPageSinkFile::RPageSinkFile(std::string_view, const ROOT::Experimental::RNTupleWriteOptions&)>: The RNTuple file format will change. Do not store real data with this version of RNTuple!; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experimental::Internal::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNTupleDescriptorBuilder&)>: Pre-release format version: RC 1; [ OK ] RNTuple.StdTuple (202 ms); [ RUN ] RNTuple.Int64_t; [ OK ] RNTuple.Int64_t (0 ms); [ RUN ] RNTuple.Char; [ OK ] RNTuple.Char (0 ms); [ RUN ] RNTuple.Int8_t; [ OK ] ",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12428:2462,release,release,2462,https://root.cern,https://github.com/root-project/root/issues/12428,1,['release'],['release']
Deployability,"ot] Error 129; make[2]: Target 'CMakeFiles/hsimple.dir/build' not remade because of errors.; make[2]: Leaving directory '/mnt/root-build-ubuntu'; make[1]: *** [CMakeFiles/Makefile2:7589: CMakeFiles/hsimple.dir/all] Error 2; make[1]: Target 'all' not remade because of errors.; make[1]: Leaving directory '/mnt/root-build-ubuntu'; make: *** [Makefile:156: all] Error 2; make: Target 'default_target' not remade because of errors.; make: Leaving directory '/mnt/root-build-ubuntu'; ```. ### Reproducer. ```; # Enable multiarch support for docker (https://hub.docker.com/r/multiarch/qemu-user-static/); docker run --privileged --rm multiarch/qemu-user-static --reset --persistent yes; # Start ubuntu docker container ; docker run --platform linux/arm64/v8 --rm -it ubuntu:latest; # Install minimal dependencies; apt-get update; apt-get install build-essential git cmake python3; # Clone ROOT to commit just before problem; git clone https://github.com/root-project/root; git -C root reset --hard a886646; # Apply unrelated patch (see below); sed 's/^ \([^s].*\.cxx\)/ src\/\1/g' hist/hist/CMakeLists.txt; # Configure and build (took 10 hours); cmake -Broot-build -Sroot -Dasimage=OFF -Dclad=OFF -Ddataframe=OFF -Ddavix=OFF -Dfftw3=OFF -Dgdml=off -Dhttp=off -Dimt=OFF -Dmathmore=OFF -Dminuit2=OFF -Dmlp=OFF -Dopengl=OFF -Dpyroot=OFF -Dpythia8=OFF -Droofit=OFF -Dwebgui=OFF -Droot7=OFF -Dspectrum=OFF -Dsqlite=OFF -Dssl=OFF -Dtmva=OFF -Dtmva-cpu=OFF -Dvdt=OFF -Dx11=OFF -Dxml=OFF -Dxrootd=OFF -DCMAKE_INSTALL_PREFIX=root-install; make -Croot-build -j7 install; # Reset ROOT to next commit, which introduced the problem ; git -C root reset --hard e9d264e; # Apply unrelated patch (see below); sed 's/^ \([^s].*\.cxx\)/ src\/\1/g' hist/hist/CMakeLists.txt; make -Croot-build -j7 install; # This last command fails; ```. ### ROOT version. https://github.com/root-project/root/commit/e9d264eb545be5f7c3df9733fe8adb9d4dac1163, i.e. `v6-27-02~243^2~17`. ### Installation method. git clone, cmake, make. ### Oper",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13845:4014,patch,patch,4014,https://root.cern,https://github.com/root-project/root/issues/13845,1,['patch'],['patch']
Deployability,"ot_base_1630311151559/_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_place/lib/python3.9/site-packages/ROOT/__init__.py"", line 22, in <module>; import cppyy; File ""/Users/christopherburr/miniconda3/conda-bld/root_base_1630311151559/_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_place/lib/python3.9/site-packages/cppyy/__init__.py"", line 62, in <module>; raise ImportError(; ImportError: Failed to import libcppyy3_9. Please check that ROOT has been built for Python 3.9; Tests failed for root_base-6.24.4-py39h04197d9_0.tar.bz2 - moving package to /Users/christopherburr/miniconda3/conda-bld/broken; ```. This issue was introduced in https://github.com/root-project/root/commit/aefe374411d9bfecaa4a9eb764aee05f7b76a8e6 as the patch uses `CMAKE_SHARED_LIBRARY_SUFFIX` despite the fact that the suffix is overridden by:. https://github.com/root-project/root/blob/c06ad10a69b6b173fd21692f38394700b635abb0/bindings/pyroot/cppyy/cppyy-backend/CMakeLists.txt#L36-L37. https://github.com/root-project/root/blob/4eab5042f748d08f62f224d44a4ac9c82b9a3a13/cmake/modules/RootMacros.cmake#L37-L48. https://github.com/root-project/root/blob/4eab5042f748d08f62f224d44a4ac9c82b9a3a13/cmake/modules/RootMacros.cmake#L21-L25. ### Expected behavior. `CMAKE_INSTALL_PYTHONDIR` creates the correctly named symlinks for the binaries it installed. ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/8933:2659,patch,patch,2659,https://root.cern,https://github.com/root-project/root/issues/8933,1,['patch'],['patch']
Deployability,"ot_builds/v6-14-00-patches/opt/core/base/G__Core.cxx:17156; #11 0x00007ffff7ac01de in TGlobal::IsA (this=0xee3bc0) at /home/pcanal/root_builds/v6-14-00-patches/opt/include/TGlobal.h:48; #12 TGlobal::CheckTObjectHashConsistency (this=0xee3bc0) at /home/pcanal/root_builds/v6-14-00-patches/opt/include/TGlobal.h:48; #13 0x00007ffff7be9dcd in TObject::CheckedHash (this=0xee3bc0) at /home/pcanal/root_builds/v6-14-00-patches/opt/include/TObject.h:314; #14 THashTable::GetCheckedHashValue (this=0xe65a20, obj=0xee3bc0) at /home/pcanal/root_builds/v6-14-00-patches/opt/include/THashTable.h:94; #15 THashTable::Add (this=0xe65a20, obj=0xee3bc0) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/cont/src/THashTable.cxx:96; #16 0x00007ffff7be6bf1 in THashList::AddLast (this=this@entry=0x5be690, obj=obj@entry=0xee3bc0) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/cont/src/THashList.cxx:100; #17 0x00007ffff7c4e0d1 in TListOfDataMembers::AddLast (this=0x5be690, obj=0xee3bc0) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/meta/src/TListOfDataMembers.cxx:103; #18 0x00007ffff7ab8785 in TList::Add (obj=0xee3bc0, this=0x5be690) at /home/pcanal/root_builds/v6-14-00-patches/opt/include/TList.h:87; #19 TROOT::GetListOfGlobals (this=0x7ffff7da7a60 <ROOT::Internal::GetROOT1()::alloc>, load=load@entry=false) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/base/src/TROOT.cxx:1767; #20 0x00007fffeeab1058 in TCling::HandleNewDecl (this=0x4a0550, DV=0xedf238, isDeserialized=isDeserialized@entry=true, modifiedTClasses=...) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/metacling/src/TCling.cxx:555; #21 0x00007fffeeabb785 in TCling::UpdateListsOnCommitted (this=0x4a0550, T=...) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/metacling/src/TCling.cxx:6115; #22 0x00007fffeebd0103 in cling::MultiplexInterpreterCallbacks::TransactionCommitted (this=0x57fe20, T=...) at /local2/pcanal/cint_working/rootcling/v6-14-00-",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2776:5984,patch,patches,5984,https://root.cern,https://github.com/root-project/root/pull/2776,2,['patch'],['patches']
Deployability,ot_src/tmva/tmva/src/DataSetFactory.cxx:757; 10: Loop condition is true. Entering loop body in /opt/root_src/tmva/tmva/src/DataSetFactory.cxx:772; 11: Calling implicit copy constructor for 'TreeInfo' in /opt/root_src/tmva/tmva/src/DataSetFactory.cxx:778; 12: Calling copy constructor for 'TObject' in /opt/root_src/tmva/tmva/src/DataSetFactory.cxx:778; 13: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:265; 14: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 15: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Calling constructor for 'PDEFoamVect' in /opt/root_src/tmva/tmva/src/PDEFoamVect.cxx:182; 2: Calling default constructor for 'TObject' in /opt/root_src/tmva/tmva/src/PDEFoamVect.cxx:62; 3: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 4: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 5: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Assuming 'i' is < 'depth' in /opt/root_src/tmva/tmva/src/MethodDNN.cxx:1388; 2: Loop condition is true. Entering loop body in /opt/root_src/tmva/tmva/src/MethodDNN.cxx:1388; 3: Calling constructor for 'TMatrixT<double>' in /opt/root_src/tmva/tmva/src/MethodDNN.cxx:1394; 4: Calling default constructor for 'TMatrixTBase<double>' in /opt/root_src/math/matrix/inc/TMatrixT.h:69; 5: Calling default constructor for 'TObject' in /opt/root_src/math/matrix/inc/TMatrixTBase.h:115; 6: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 7: Calling 'TStorage::FilledByObjectAlloc' in /opt/r,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:83032,Update,UpdateIsOnHeap,83032,https://root.cern,https://github.com/root-project/root/issues/7412,1,['Update'],['UpdateIsOnHeap']
Deployability,"oundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/functional_hash.h:35:10: note: submodule of top-level module 'std' implicitly imported here; #include <type_traits>; ^; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/range_access.h:36:10: note: submodule of top-level module 'std' implicitly imported here; #include <initializer_list>; ^; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/range_access.h:37:10: note: submodule of top-level module 'std' implicitly imported here; #include <type_traits> // common_type_t, make_signed_t; ^; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/stl_iterator.h:63:10: note: submodule of top-level module 'std' implicitly imported he",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10528:24799,Install,Installed,24799,https://root.cern,https://github.com/root-project/root/issues/10528,1,['Install'],['Installed']
Deployability,"pLookupName(clang::LookupResult&, clang::Scope*) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #11 0x00002b8fcfb1ca1d in clang::Sema::LookupName(clang::LookupResult&, clang::Scope*, bool) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #12 0x00002b8fcf87cf29 in clang::Sema::HandleDeclarator(clang::Scope*, clang::Declarator&, llvm::MutableArrayRef<clang::TemplateParameterList*>) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #13 0x00002b8fcf87fc2c in clang::Sema::ActOnStartOfFunctionDef(clang::Scope*, clang::Declarator&, llvm::MutableArrayRef<clang::TemplateParameterList*>, clang::Sema::SkipBodyInfo*) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #14 0x00002b8fcf5e98cb in clang::Parser::ParseFunctionDefinition(clang::ParsingDeclarator&, clang::Parser::ParsedTemplateInfo const&, clang::Parser::LateParsedAttrList*) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #15 0x00002b8fcf566f2e in clang::Parser::ParseDeclGroup(clang::ParsingDeclSpec&, unsigned int, clang::SourceLocation*, clang::Parser::ForRangeInit*) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #16 0x00002b8fcf5e5fa1 in clang::Parser::ParseDeclOrFunctionDefInternal(clang::Parser::ParsedAttributesWithRange&, clang::ParsingDeclSpec&, clang::AccessSpecifier) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #17 0x0",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7093:6382,patch,patch,6382,https://root.cern,https://github.com/root-project/root/issues/7093,1,['patch'],['patch']
Deployability,parameter 'size' set but not used [-Wunused-but-set-parameter]. # This Pull request:. ## Changes or fixes:. ## Checklist:. - [ ] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13957:159,update,updated,159,https://root.cern,https://github.com/root-project/root/pull/13957,1,['update'],['updated']
Deployability,"part2));. RooDataSet *Data = Data_Model.generate(x,10000);. Data_Model.plotOn(frame, LineColor(kBlack));; Data->plotOn(frame, MarkerColor(kRed));. RooRealVar mean2(""mean2"",""mean"",1210,1200,1220);; RooRealVar sigma2(""sigma2"",""sigma"",80,50,90);; RooGaussian Gauss2(""Gauss2"",""Gauss"",x,mean2,sigma2);. RooRealVar mean4(""mean4"",""mean4"",1410,1200,1600);; RooRealVar sigma4(""sigma4"",""sigma4"",80,50,90);; RooGaussian Gauss4(""Gauss4"",""Gauss4"",x,mean4,sigma4);. RooDataSet *Model1 = Gauss2.generate(x,1000000);. RooDataSet *Model2 = Gauss4.generate(x,1000000);. //Model->plotOn(frame, LineColor(kGreen), MarkerColor(kGreen));. RooRealVar Shift(""Shift"",""Shift"",0,-10,10);; RooFormulaVar xShifted(""xShifted"",""x + Shift"",RooArgSet(x,Shift));. RooRealVar Shift2(""Shift2"",""Shift2"",0,-10,10);; RooFormulaVar xShifted2(""xShifted2"",""x + Shift2"",RooArgSet(x,Shift2));. RooDataHist Sim(""Sim"",""Sim"",x,*Model1);; RooDataHist Sim2(""Sim2"",""Sim2"",x,*Model2);. RooHistPdf Func(""Func"",""func"",xShifted,x,Sim);; RooHistPdf Func2(""Func2"",""func2"",xShifted2,x,Sim2);. RooRealVar Amount(""A"",""A"",10000,0,2000000);; RooRealVar Amount2(""A2"",""A2"",10000,0,2000000);. RooAddPdf Func1(""f"",""f"",RooArgList(Func,Func2),RooArgList(Amount,Amount2));. Func1.plotOn(frame, LineColor(kRed));; std::cout<<Func.getNorm()<<std::endl;; Func1.fitTo(*Data, Range(1000,1600));; Func1.plotOn(frame);; std::cout<<Func.getNorm()<<std::endl;; //Normalization(2500000,RooAbsReal::NumEvent); Func1.paramOn(frame);; frame->Draw();; }; ```. Sorry, its ugly code, but I am not really good at programming. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->; Root Version 6.26/06 and 6.24/06; Operating System: MacOS Monterey and Linux respectively; Obtained via homebrew. ### Additional context; <!--; Add any other context about the problem here.; -->. homebrew does not yet include root 6.28 and thus I cannot install it to check if the mistake appeared there to.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11760:3202,install,install,3202,https://root.cern,https://github.com/root-project/root/issues/11760,2,['install'],['install']
Deployability,patch from Fons,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5987:0,patch,patch,0,https://root.cern,https://github.com/root-project/root/pull/5987,1,['patch'],['patch']
Deployability,"patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #12 0x00007ffff56188e5 in TClass::Init(char const*, short, std::type_info const*, TVirtualIsAProxy*, char const*, char const*, int, int, ClassInfo_t*, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #13 0x00007ffff5619f76 in TClass::TClass(char const*, short, std::type_info const&, TVirtualIsAProxy*, char const*, char const*, int, int, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #14 0x00007ffff561a48a in ROOT::CreateClass(char const*, short, std::type_info const&, TVirtualIsAProxy*, char const*, char const*, int, int) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #15 0x00007ffff562906a in ROOT::TGenericClassInfo::GetClass() (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #16 0x00007ffff5606b70 in TClass::LoadClassDefault(char const*, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #17 0x00007ffff560ee9c in TClass::GetClass(char const*, bool, bool, unsigned long, unsigned long) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; ...; ```. The unload() call here may free the Transaction T; (via IncrementalParser::deregisterTransaction) and return it to the pool.; But the code in findScope is protected by . ```; // The user wants to see the template instantiation, existing or not.; // Here we might not have an active transaction to handle; // the caused instantiation decl.; // Also quickFindDecl could trigger deserialization of decls.; Interpreter::PushTransactionRAII pushedT(m_Interpreter);; ```. The dtor of this runs when we hit the return above --- and this ",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7657:15352,patch,patches,15352,https://root.cern,https://github.com/root-project/root/issues/7657,1,['patch'],['patches']
Deployability,"patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #23 0x00007ffff56188e5 in TClass::Init(char const*, short, std::type_info const*, TVirtualIsAProxy*, char const*, char const*, int, int, ClassInfo_t*, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #24 0x00007ffff5619f76 in TClass::TClass(char const*, short, std::type_info const&, TVirtualIsAProxy*, char const*, char const*, int, int, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #25 0x00007ffff561a48a in ROOT::CreateClass(char const*, short, std::type_info const&, TVirtualIsAProxy*, char const*, char const*, int, int) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #26 0x00007ffff562906a in ROOT::TGenericClassInfo::GetClass() (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #27 0x00007ffff560ee22 in TClass::GetClass(char const*, bool, bool, unsigned long, unsigned long) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #28 0x00007ffff563608a in TProtoClass::FillTClass(TClass*) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #29 0x00007ffff56188e5 in TClass::Init(char const*, short, std::type_info const*, TVirtualIsAProxy*, char const*, char const*, int, int, ClassInfo_t*, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #30 0x00007ffff5619f76 in TClass::TClass(char const*, short, std::type_info const&, TVirtualIsAProxy*, char const*, char const*, int, int, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #31",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7657:6560,patch,patches,6560,https://root.cern,https://github.com/root-project/root/issues/7657,1,['patch'],['patches']
Deployability,"patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #29 0x00007ffff56188e5 in TClass::Init(char const*, short, std::type_info const*, TVirtualIsAProxy*, char const*, char const*, int, int, ClassInfo_t*, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #30 0x00007ffff5619f76 in TClass::TClass(char const*, short, std::type_info const&, TVirtualIsAProxy*, char const*, char const*, int, int, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #31 0x00007ffff561a48a in ROOT::CreateClass(char const*, short, std::type_info const&, TVirtualIsAProxy*, char const*, char const*, int, int) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #32 0x00007ffff562906a in ROOT::TGenericClassInfo::GetClass() (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #33 0x00007ffff5606b70 in TClass::LoadClassDefault(char const*, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #34 0x00007ffff560ee9c in TClass::GetClass(char const*, bool, bool, unsigned long, unsigned long) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patche; s/x86_64-centos7-gcc8-opt/lib/libCore.so; #35 0x00007ffff645805b in ?? (); #36 0x000000000000042e in ?? (); #37 0x00007fffefb8337e in TClingMethodInfo::TClingMethodInfo(TClingMethodInfo const&) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCling.so; #38 0x00007ffff560f4b0 in ?? (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #39 0x00007fffffff3208 in ?? (); #40 0x00007fffffff3180 in ?? (); #41 0x000000010559b1b0 in ?? (); #42 0x00000",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7657:7961,patch,patches,7961,https://root.cern,https://github.com/root-project/root/issues/7657,1,['patch'],['patches']
Deployability,"path elements starting with ""."" should not be ignored, only ""./"" itself.; Fixes issue #9697. (cherry picked from commit 37a396c)# This Pull request:. ## Changes or fixes:. ## Checklist:. - [ ] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10073:223,update,updated,223,https://root.cern,https://github.com/root-project/root/pull/10073,1,['update'],['updated']
Deployability,"peT((typename std::remove_reference<T>::type**)nullptr); ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:199:66: error: unknown type name 'type'; While building module 'Core':; While building module 'Cling_Runtime' imported from input_line_2:1:; In file included from <module-includes>:1:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/RuntimeUniverse.h:27:10: fatal error: could not build module 'Cling_Runtime_Extra'; #include ""cling/Interpreter/Visibility.h""; ~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~; input_line_2:1:10: fatal error: could not build module 'Cling_Runtime'; #include ""cling/Interpreter/RuntimeUniverse.h""; ~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~; [ 75%] Building CXX object core/metacling/src/CMakeFiles/MetaCling.dir/TClingTypeInfo.cxx.o; While building module 'Core':; While building module 'ROOT_Rtypes' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:23:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /home/razorr/Softwares/Installed/HEP/Root/build/include/RtypesCore.h:28:10: note: submodule of top-level module 'std' implicitly imported here; #include <cstddef> // size_t, NULL; ^; In file included from input_line_3:2:; /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:23:10: fatal error: could not build module 'ROOT_Rtypes'; #include ""RtypesCore.h""; ~~~~~~~~^~~~~~~~~~~~~~; While building module 'Core':; While building module 'ROOT_Foundation_C' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:29:; In file included from <module-includes>:1:; /home/razorr/Softwares/Installed/HEP/Root/build/include/ThreadLocalStorage.h:60:10: fatal error: could not build module 'ROOT_Rtypes'; #include ""RtypesCore.h""; ~~~~~~~~^~~~~~~~~~~~~~; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from ",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10528:19444,Install,Installed,19444,https://root.cern,https://github.com/root-project/root/issues/10528,1,['Install'],['Installed']
Deployability,"peline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/meta/src/TClass.cxx:3759; #18 0x00007ffff7d132ac in CloseStreamerInfoROOTFile (writeEmptyRootPCM=false); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/io/rootpcm/src/rootclingIO.cxx:162; #19 0x00007ffff305e2a7 in FinalizeStreamerInfoWriting (interp=..., ; writeEmptyRootPCM=false); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/dictgen/src/rootcling_impl.cxx:2632; #20 0x00007ffff305ecd8 in GenerateFullDict (dictStream=..., interp=..., ; scan=..., ctorTypes=..., isSplit=false, isGenreflex=true, ; writeEmptyRootPCM=false); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/dictgen/src/rootcling_impl.cxx:2784; #21 0x00007ffff306ba57 in RootClingMain (argc=7, argv=0x4a4f10, ; isGenreflex=true); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/dictgen/src/rootcling_impl.cxx:4906; #22 0x00007ffff306f44b in genreflex::invokeRootCling (verbosity=..., ; selectionFileName=..., targetLibName=..., multiDict=false, pcmsNames=..., ; includes=..., preprocDefines=..., preprocUndefines=..., warnings=..., ; rootmapFileName=..., rootmapLibName=..., interpreteronly=false, ; doSplit=false, isCxxmodule=false, writeEmptyRootPCM=false, ; selSyntaxOnly=false, noIncludePaths=false, noGlobalUsingStd=false, ; headersNames=..., failOnWarnings=false, ofilename=...); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/dictgen/src/rootcling_impl.cxx:5371; #23 0x00007ffff307131c in GenReflexMain (argc=3, argv=0x7fffffff8d40); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/dictgen/src/rootcling_impl.cxx:6071; #24 0x00007ffff30717b",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11259:5677,patch,patches,5677,https://root.cern,https://github.com/root-project/root/issues/11259,2,['patch'],['patches']
Deployability,"pening when using interactive c++. This program is crashing in my case with the following issue:. ```; Install the project...; -- Install configuration: ""Debug""; -- Installing: /Users/marcomeyer/Software/escalade/bin/pcp; -- Installing: /Users/marcomeyer/Software/escalade/bin/SignalTest. *** Break *** segmentation violation; [/Users/marcomeyer/Software/root/20230831/lib/libCore.so] TUnixSystem::DispatchSignals(ESignals) /Users/marcomeyer/Software/root/src/core/unix/src/TUnixSystem.cxx:0; [/Users/marcomeyer/Software/root/20230831/lib/libCore.so] SigHandler(ESignals) /Users/marcomeyer/Software/root/src/core/unix/src/TUnixSystem.cxx:403; [/Users/marcomeyer/Software/root/20230831/lib/libCore.so] sighandler(int) /Users/marcomeyer/Software/root/src/core/unix/src/TUnixSystem.cxx:3604; [/usr/lib/system/libsystem_platform.dylib] _sigtramp (no debug info); [/Users/marcomeyer/Software/root/20230831/lib/libCore.so] TVirtualPad::TContext::~TContext() /Users/marcomeyer/Software/root/src/core/base/src/TVirtualPad.cxx:62; [/Users/marcomeyer/Software/root/20230831/lib/libCore.so] TVirtualPad::TContext::~TContext() /Users/marcomeyer/Software/root/src/core/base/src/TVirtualPad.cxx:62; [/Users/marcomeyer/Software/root/20230831/lib/libHist.so] TF1::DrawIntegral(char const*) /Users/marcomeyer/Software/root/src/hist/hist/src/TF1.cxx:1415; [/Users/marcomeyer/Software/escalade/bin/SignalTest] main /Users/marcomeyer/Software/escalade/src/lib/OMU/tests/src/SignalTest.C:17; [/usr/lib/dyld] start (no debug info); ```. ### Reproducer. ```; [...]. int main() {. TApplication *app = new TApplication(""root"", NULL, NULL);. TCanvas *c = new TCanvas(""c4"", """", 720, 1024);; // c->Divide(1, 2);; ; TF1 *f = new TF1(""lin"", ""x"", -10, 10);; c->cd(1);; f->Draw();. c->cd(2);; f->DrawIntegral();; ; while(1); gSystem->ProcessEvents();. return 0;; }; ```. ### ROOT version. ROOT master branch (2023-08-31). ### Installation method. build from source. ### Operating system. macos. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13708:2088,Install,Installation,2088,https://root.cern,https://github.com/root-project/root/issues/13708,1,['Install'],['Installation']
Deployability,"per<zmq::message_t>&, int&)’; In file included from /tmp/ROOT/v6-26-00-patches/roofit/roofitZMQ/res/RooFit_ZMQ/ZeroMQSvc.h:17:0,; from /tmp/ROOT/v6-26-00-patches/roofit/roofitZMQ/res/RooFit_ZMQ/ZeroMQPoller.h:17,; from /tmp/ROOT/v6-26-00-patches/roofit/roofitZMQ/src/ZeroMQPoller.cpp:14:; /usr/include/zmq.hpp:625:23: note: candidate: size_t zmq::socket_t::recv(void*, size_t, int); inline size_t recv (void *buf_, size_t len_, int flags_ = 0); ^~~~; /usr/include/zmq.hpp:625:23: note: no known conversion for argument 1 from ‘std::reference_wrapper<zmq::message_t>’ to ‘void*’; /usr/include/zmq.hpp:635:21: note: candidate: bool zmq::socket_t::recv(zmq::message_t*, int); inline bool recv (message_t *msg_, int flags_ = 0); ^~~~; /usr/include/zmq.hpp:635:21: note: no known conversion for argument 1 from ‘std::reference_wrapper<zmq::message_t>’ to ‘zmq::message_t*’; In file included from /tmp/ROOT/v6-26-00-patches/roofit/roofitZMQ/res/RooFit_ZMQ/ZeroMQPoller.h:17:0,; from /tmp/ROOT/v6-26-00-patches/roofit/roofitZMQ/src/ZeroMQPoller.cpp:14:; (...); /tmp/ROOT/v6-26-00-patches/roofit/roofitZMQ/src/ZeroMQPoller.cpp:231:14: error: ‘m_fds’ was not declared in this scope; auto it = m_fds.find(fd);; ^~~~~; /tmp/ROOT/v6-26-00-patches/roofit/roofitZMQ/src/ZeroMQPoller.cpp:231:14: note: suggested alternative: ‘m_free’; auto it = m_fds.find(fd);; ^~~~~; m_free; Consolidate compiler generated dependencies of target obj.clingInterpreter; [ 73%] Built target obj.clingInterpreter; [ 73%] Built target clingInterpreter; [ 73%] Built target CLING; [ 73%] Built target clad; [ 73%] Built target LLVMRES; Consolidate compiler generated dependencies of target ClingUtils; roofit/roofitZMQ/CMakeFiles/RooFitZMQ.dir/build.make:89: recipe for target 'roofit/roofitZMQ/CMakeFiles/RooFitZMQ.dir/src/ZeroMQPoller.cpp.o' failed; make[2]: *** [roofit/roofitZMQ/CMakeFiles/RooFitZMQ.dir/src/ZeroMQPoller.cpp.o] Error 1; make[2]: Target 'roofit/roofitZMQ/CMakeFiles/RooFitZMQ.dir/build' not remade because of errors.;",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10107:2498,patch,patches,2498,https://root.cern,https://github.com/root-project/root/issues/10107,1,['patch'],['patches']
Deployability,"pilation error with gcc 13. ## Changes or fixes:; ~~~; In file included from .../root-6.26.10/tree/ntuple/v7/test/CustomStruct.cxx:1: .../root-6.26.10/tree/ntuple/v7/test/CustomStruct.hxx:40:24: error: 'uint32_t' does not name a type; 40 | namespace SG { typedef uint32_t sgkey_t; }; | ^~~~~~~~; .../root-6.26.10/tree/ntuple/v7/test/CustomStruct.hxx:6:1: note: 'uint32_t' is defined in header '<cstdint>'; did you forget to '#include <cstdint>'?; 5 | #include <vector>; +++ |+#include <cstdint>; 6 |; .../root-6.26.10/tree/ntuple/v7/test/CustomStruct.hxx:43:4: error: 'uint8_t' does not name a type; 43 | uint8_t m_nbits, m_nmantissa;; | ^~~~~~~; .../root-6.26.10/tree/ntuple/v7/test/CustomStruct.hxx:43:4: note: 'uint8_t' is defined in header '<cstdint>'; did you forget to '#include <cstdint>'?; .../root-6.26.10/tree/ntuple/v7/test/CustomStruct.hxx:45:4: error: 'uint8_t' does not name a type; 45 | uint8_t m_flags;; | ^~~~~~~; .../root-6.26.10/tree/ntuple/v7/test/CustomStruct.hxx:45:4: note: 'uint8_t' is defined in header '<cstdint>'; did you forget to '#include <cstdint>'?; .../root-6.26.10/tree/ntuple/v7/test/CustomStruct.hxx:46:8: error: 'sgkey_t' in namespace 'SG' does not name a type; 46 | SG::sgkey_t m_sgkey = 123;; | ^~~~~~~; .../root-6.26.10/tree/ntuple/v7/test/CustomStruct.hxx:47:10: error: 'uint8_t' does not name a type; 47 | const uint8_t c_uint = 10;; | ^~~~~~~; .../root-6.26.10/tree/ntuple/v7/test/CustomStruct.hxx:47:10: note: 'uint8_t' is defined in header '<cstdint>'; did you forget to '#include <cstdint>'?; gmake[2]: *** [tree/ntuple/v7/test/CMakeFiles/CustomStruct.dir/build.make:79: tree/ntuple/v7/test/CMakeFiles/CustomStruct.dir/CustomStruct.cxx.o] Error 1; gmake[2]: Leaving directory '.../root-6.26.10/redhat-linux-build'; gmake[1]: *** [CMakeFiles/Makefile2:53506: tree/ntuple/v7/test/CMakeFiles/CustomStruct.dir/all] Error 2; gmake[1]: *** Waiting for unfinished jobs....; ~~~; ## Checklist:. - [x] tested changes locally; - [ ] updated the docs (if necessary)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12065:2000,update,updated,2000,https://root.cern,https://github.com/root-project/root/pull/12065,1,['update'],['updated']
Deployability,"port ROOT"" in python ...; 3. ... or run the test suite and see every python test fail. ### Setup. 1. ROOT version: 6.26.04 + commit 484deb056dacf768aba4954073b41105c431bffc + commit 484deb056dacf768aba4954073b41105c431bffc; 2. Operating system: Fedora 37 (rawhide). ### Additional information. I tried the following patch:. ~~~{.patch}; diff --git a/bindings/pyroot/cppyy/CPyCppyy/src/CPPInstance.cxx b/bindings/pyroot/cppyy/CPyCppyy/src/CPPInstance.cxx; index 73fb8099b5..2854b2e919 100644; --- a/bindings/pyroot/cppyy/CPyCppyy/src/CPPInstance.cxx; +++ b/bindings/pyroot/cppyy/CPyCppyy/src/CPPInstance.cxx; @@ -332,6 +332,12 @@ static void op_dealloc(CPPInstance* pyobj); PyObject_GC_Del((PyObject*)pyobj);; }; ; +//----------------------------------------------------------------------------; +static int op_traverse(CPPInstance*, visitproc, void*); +{; + return 0;; +}; +; //----------------------------------------------------------------------------; static int op_clear(CPPInstance* pyobj); {; @@ -767,7 +773,7 @@ PyTypeObject CPPInstance_Type = {; Py_TPFLAGS_HAVE_GC |; Py_TPFLAGS_CHECKTYPES, // tp_flags; (char*)""cppyy object proxy (internal)"", // tp_doc; - 0, // tp_traverse; + (traverseproc)op_traverse, // tp_traverse; (inquiry)op_clear, // tp_clear; (richcmpfunc)op_richcompare, // tp_richcompare; 0, // tp_weaklistoffset; diff --git a/bindings/pyroot/cppyy/CPyCppyy/src/CustomPyTypes.cxx b/bindings/pyroot/cppyy/CPyCppyy/src/CustomPyTypes.cxx; index 97ce06daa7..ed41b1637c 100644; --- a/bindings/pyroot/cppyy/CPyCppyy/src/CustomPyTypes.cxx; +++ b/bindings/pyroot/cppyy/CPyCppyy/src/CustomPyTypes.cxx; @@ -78,8 +78,7 @@ PyTypeObject TypedefPointerToClass_Type = {; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,; (ternaryfunc)tpc_call, // tp_call; 0, 0, 0, 0,; - Py_TPFLAGS_DEFAULT |; - Py_TPFLAGS_HAVE_GC, // tp_flags; + Py_TPFLAGS_DEFAULT, // tp_flags; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0; #if PY_VERSION_HEX >= 0x02030000; , 0 // tp_del; diff --git a/bindings/p",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10799:2308,a/b,a/bindings,2308,https://root.cern,https://github.com/root-project/root/issues/10799,1,['a/b'],['a/bindings']
Deployability,"precision should be preserved when saving plots as ROOT macros with `TCanvas::SaveAs()`. This can probably be achieved with not too much effort using `std::setprecision`:; https://en.cppreference.com/w/cpp/io/manip/setprecision. ### Reproducer. Run this code, which works fine:. ```c++; TCanvas *c = new TCanvas(""c"", ""c"");; TH1D *histo = new TH1D(""histo"", ""histo"", 1, 595780500.110732, 595780531.878908);; histo->Draw();; c->SaveAs(""plot.C"");; ```. The resulting macro will not preserve the precision on the floating point numbers:; ```c++; TH1D *histo__1 = new TH1D(""histo__1"",""histo"",1,5.957805e+08,5.957805e+08);; ```; And you'll get an error when running it:; ```txt; Processing plot.C...; Error in <TCanvas::Range>: illegal world coordinates range: x1=595780500.000000, y1=-0.131250, x2=595780500.000000, y2=1.181250; Error in <TCanvas::RangeAxis>: illegal axis coordinates range: xmin=595780500.000000, ymin=0.000000, xmax=595780500.000000, ymax=1.050000; root [1] Error in <TCanvas::Range>: illegal world coordinates range: x1=595780500.000000, y1=-0.131250, x2=595780500.000000, y2=1.181250; Error in <TCanvas::RangeAxis>: illegal axis coordinates range: xmin=595780500.000000, ymin=0.000000, xmax=595780500.000000, ymax=1.050000; ```. ### ROOT version. ```; ------------------------------------------------------------------; | Welcome to ROOT 6.32.06 https://root.cern |; | (c) 1995-2024, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built for linuxx8664gcc on Sep 21 2024, 18:21:53 |; | From tags/6-32-06@6-32-06 |; | With g++ (GCC) 13.3.0 |; | Try '.help'/'.?', '.demo', '.license', '.credits', '.quit'/'.q' |; ------------------------------------------------------------------; ```. ### Installation method. Nix. ### Operating system. NixOS (Linux). ### Additional context. Can easily happen in the analysis of timeseries, where one often has large axis values because they represent time with respect to some reference point far back in time (e.g. astrophysics, finance, ...).",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/16687:1800,Install,Installation,1800,https://root.cern,https://github.com/root-project/root/issues/16687,1,['Install'],['Installation']
Deployability,prepareForParsing is where Cling creates temporary FileID in order to; perform a lookup. However this gives extra AST contents to module(pcm); and resulted in enormous pcm size and a startup time overhead. We can; cache FileID when the given code is same and return already existing; FileID instead of creating exactly the same one. ```; master; cpu time = 0.291462 seconds; sys time = 0.064409 seconds; res memory = 345.816 Mbytes; vir memory = 573.508 Mbytes; patch; cpu time = 0.235828 seconds; sys time = 0.098327 seconds; res memory = 260.012 Mbytes; vir memory = 377.945 Mbytes; ```,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2464:462,patch,patch,462,https://root.cern,https://github.com/root-project/root/pull/2464,1,['patch'],['patch']
Deployability,"prog"" \; --set PYTHONPATH ""$out/lib"" \; --set ${lib.optionalString stdenv.isDarwin ""DY""}LD_LIBRARY_PATH ""$out/lib""; done. # Make ldd and sed available to the ROOT executable; wrapProgram ""$out/bin/root"" --prefix PATH : ""${lib.makeBinPath [; gnused # sed; stdenv.cc # c++ ld etc.; stdenv.cc.libc # ldd; ]}"". # Patch thisroot.{sh,csh,fish}. # The main target of `thisroot.sh` is ""bash-like shells"",; # but it also need to support Bash-less POSIX shell like dash,; # as they are mentioned in `thisroot.sh`. # `thisroot.sh` would include commands `lsof` and `procps` since ROOT 6.28.; # See https://github.com/root-project/root/pull/10332. patchRcPathPosix ""$out/bin/thisroot.sh"" ""${lib.makeBinPath [; coreutils # dirname tail; gnugrep # grep; gnused # sed; lsof # lsof # for ROOT (>=6.28); man # manpath; procps # ps # for ROOT (>=6.28); which # which; ]}""; patchRcPathCsh ""$out/bin/thisroot.csh"" ""${lib.makeBinPath [; coreutils; gnugrep; gnused; lsof # lsof # for ROOT (>=6.28); man; which; ]}""; patchRcPathFish ""$out/bin/thisroot.fish"" ""${lib.makeBinPath [; coreutils; man; which; ]}""; '';. setupHook = ./setup-hook.sh;; }; ```. `flake.nix`. ```Nix; {; inputs.flake-utils.url = ""github:numtide/flake-utils"";; inputs.nixpkgs.url = ""github:NixOS/nixpkgs/2787fc7d1e51404678614bf0fe92fc296746eec0"";. outputs = { flake-utils, nixpkgs, ... }: flake-utils.lib.eachDefaultSystem (system:; let; lib = nixpkgs.lib;; pkgs = nixpkgs.legacyPackages.${system};; root = with pkgs; callPackage ./. {; python = python3;; inherit (darwin.apple_sdk.frameworks) Cocoa CoreSymbolication OpenGL;; # https://github.com/NixOS/nixpkgs/issues/201254; stdenv = if stdenv.isLinux && stdenv.isAarch64 && stdenv.cc.isGNU then gcc11Stdenv else stdenv;; };; in; {; packages = {; default = root;; inherit root;; };; });; }; ```. `flake.lock`. ```JSON; {; ""nodes"": {; ""flake-utils"": {; ""locked"": {; ""lastModified"": 1667395993,; ""narHash"": ""sha256-nuEHfE/LcWyuSWnS8t12N1wc105Qtau+/OdUAjtQ0rA="",; ""owner"": ""numtide"",; ""repo"": ""flake-utils",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11920:8490,patch,patchRcPathFish,8490,https://root.cern,https://github.com/root-project/root/issues/11920,1,['patch'],['patchRcPathFish']
Deployability,"proj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(51,18): message : 'initializing': cannot convert from 'const char [5]' to 'const std::locale &' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(51,18): message : Reason: cannot convert from 'const char [5]' to 'const std::locale' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(51,18): message : Constructor for class 'std::locale' is declared 'explicit' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(51,11): message : while trying to match the argument list '(const char [5], const std::unique_ptr<llvm::GIMatchDagInstr,std::default_delete<llvm::GIMatchDagInstr>> *)' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(51,11): message : note: qualification adjustment (const/volatile) may be causing the ambiguity [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(85,11): error C2666: 'llvm::format': overloaded functions have similar conversions [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\include\llvm/Support/Format.h(124,29): message : could be 'llvm::format_object<const std::unique_ptr<llvm::GIMatchDagPredicate,std::default_delete<llvm::GIMatchDagPredicate>> *> llvm::format<const std::unique_ptr<llvm::GIMatchDagPredicate,std::default_delete<llvm::GIMatchDagPredicate>>*>(const",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12523:5681,release,release,5681,https://root.cern,https://github.com/root-project/root/pull/12523,1,['release'],['release']
Deployability,"project/root; git -C root reset --hard a886646; # Apply unrelated patch (see below); sed 's/^ \([^s].*\.cxx\)/ src\/\1/g' hist/hist/CMakeLists.txt; # Configure and build (took 10 hours); cmake -Broot-build -Sroot -Dasimage=OFF -Dclad=OFF -Ddataframe=OFF -Ddavix=OFF -Dfftw3=OFF -Dgdml=off -Dhttp=off -Dimt=OFF -Dmathmore=OFF -Dminuit2=OFF -Dmlp=OFF -Dopengl=OFF -Dpyroot=OFF -Dpythia8=OFF -Droofit=OFF -Dwebgui=OFF -Droot7=OFF -Dspectrum=OFF -Dsqlite=OFF -Dssl=OFF -Dtmva=OFF -Dtmva-cpu=OFF -Dvdt=OFF -Dx11=OFF -Dxml=OFF -Dxrootd=OFF -DCMAKE_INSTALL_PREFIX=root-install; make -Croot-build -j7 install; # Reset ROOT to next commit, which introduced the problem ; git -C root reset --hard e9d264e; # Apply unrelated patch (see below); sed 's/^ \([^s].*\.cxx\)/ src\/\1/g' hist/hist/CMakeLists.txt; make -Croot-build -j7 install; # This last command fails; ```. ### ROOT version. https://github.com/root-project/root/commit/e9d264eb545be5f7c3df9733fe8adb9d4dac1163, i.e. `v6-27-02~243^2~17`. ### Installation method. git clone, cmake, make. ### Operating system. Linux Ubuntu 23.04. ### Additional context. ## Why would you want to do that???. A valid question is why one would want to build ROOT inside a qemu/docker environment where a foreign architecture is emulated? Well, just for this PR in fact, to make it self-contained and (somewhat) debuggable. You can also build a container natively on ARM, upload to docker, and atempt to run ROOT inside that container on a qemu/docker arm64 emulation, with the same results. ## Still, why would you want to do that???. We have provided ARM containers for our users at the Electron-Ion Collider for a while now. In the absence of ARM nodes on our container build cluster, we build these using emulation. Aside from a rare major dependency recompile, this works well enough. As of ROOT v6.28 we have had to stop providing ARM images for our users because the C++20 feature of the upgrade was more important than the continued ARM support. Nevertheless, we ",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13845:4941,Install,Installation,4941,https://root.cern,https://github.com/root-project/root/issues/13845,1,['Install'],['Installation']
Deployability,"ps://github.com/root-project/root/issues?q=is%3Aissue); * AND [Jira](https://sft.its.cern.ch/jira/issues/?jql=project %3D ROOT); for existing reports of your issue. If you find one, you are very welcome to add to the existing report, for instance ""issue still exists in today's master"".; -->. ### Describe the bug; <!--; A clear and concise description of what the wrong behavior is.; -->. `GetLeaf(branchname, leafname)` seems to ignore the `branchname` argument if friend trees are present -- or in any case, it returns a non-null pointer even for a bogus `branchname` argument, but only if friend trees are present. Note that depending on the situation this might result in wrong data being read. ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->. `GetLeaf(branchname, leafname)` should return the same pointer whether a friend tree is present or not. ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->. ```cpp; #include <TFile.h>; #include <TTree.h>; #include <iostream>. int main() {; {; TFile f(""f.root"", ""recreate"");; TTree t(""t"", ""t"");; int x = 42;; t.Branch(""x"", &x);; t.Fill();; t.Write();; }. TFile f(""f.root"");; auto *t = f.Get<TTree>(""t"");; std::cout << t->GetLeaf(""asdklj"", ""x"") << '\n'; // prints 0 as expected. TFile f2(""f.root"");; auto *t2 = f2.Get<TTree>(""t"");; t->AddFriend(t2);; std::cout << t->GetLeaf(""asdklj"", ""x"") << '\n'; // prints the address of leaf `x`, unexpected. return 0;; }; ```. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->. I am using master@a7cceb7478e . ### Additional context; <!--; Add any other context about the problem here.; -->. This seems to be the root cause of #6944 .",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6964:1854,install,install,1854,https://root.cern,https://github.com/root-project/root/issues/6964,1,['install'],['install']
Deployability,"pstl project is disabled; -- flang project is disabled; ```; and these:; ```; -- LLVM host triple: x86_64-unknown-linux-gnu; -- LLVM default target triple: x86_64-unknown-linux-gnu; -- Building with -fPIC; -- Found Python3: /usr/bin/python3 (found suitable version ""3.11.6"", minimum required is ""3.0"") found components: Interpreter ; -- Linker detection: GNU ld; -- Targeting X86; -- Targeting NVPTX; -- Clang version: 13.0.0; -- Not building amdgpu-arch: hsa-runtime64 not found; -- Building Cling as part of ROOT; -- Cling version (from VERSION file): ROOT_1.0~dev; -- Cling will look for C++ headers in '/usr/include/c++/13:/usr/include/x86_64-linux-gnu/c++/13:/usr/include/c++/13/backward' at runtime.; -- And then fallback to: 'x86_64-linux-gnu-g++-13'; -- Performing Test CXX_HAS_fno_rtti; ```. The last lines of this cmake were:; ```cmake; -- ROOT Configuration . System Linux-6.5.0-15-generic; Processor 2 core Intel(R) Core(TM) i5-6200U CPU @ 2.30GHz (x86_64); Build type Release; Install path /home/<user>/root_install; Compiler GNU 13.2.0; Compiler flags:; C -Wno-implicit-fallthrough -pipe -Wall -W -pthread -O3 -DNDEBUG; C++ -std=c++17 -Wno-implicit-fallthrough -Wno-noexcept-type -pipe -Wshadow -Wall -W -Woverloaded-virtual -fsigned-char -pthread -O3 -DNDEBUG; Linker flags:; Executable -rdynamic; Module ; Shared -Wl,--no-undefined -Wl,--hash-style=""both"". -- Enabled support for: asimage builtin_afterimage builtin_clang builtin_cling builtin_ftgl builtin_gl2ps builtin_glew builtin_llvm builtin_lz4 builtin_lzma builtin_nlohmannjson builtin_openui5 builtin_pcre builtin_tbb builtin_vdt builtin_xrootd builtin_xxhash builtin_zstd clad dataframe gdml http imt mlp opengl proof pyroot roofit webgui root7 rpath runtime_cxxmodules shared ssl tmva tmva-cpu tmva-pymva spectrum vdt x11 xrootd; -- Configuring done (28.0s); -- Generating done (3.2s); -- Build files have been written to: /home/<user>; ```. I tried to run `cmake --build . --target install` and ended up with. ```; CMake Er",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14479:3500,Release,Release,3500,https://root.cern,https://github.com/root-project/root/issues/14479,2,"['Install', 'Release']","['Install', 'Release']"
Deployability,"pt/include/TGlobal.h:48; #12 TGlobal::CheckTObjectHashConsistency (this=0xee3bc0) at /home/pcanal/root_builds/v6-14-00-patches/opt/include/TGlobal.h:48; #13 0x00007ffff7be9dcd in TObject::CheckedHash (this=0xee3bc0) at /home/pcanal/root_builds/v6-14-00-patches/opt/include/TObject.h:314; #14 THashTable::GetCheckedHashValue (this=0xe65a20, obj=0xee3bc0) at /home/pcanal/root_builds/v6-14-00-patches/opt/include/THashTable.h:94; #15 THashTable::Add (this=0xe65a20, obj=0xee3bc0) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/cont/src/THashTable.cxx:96; #16 0x00007ffff7be6bf1 in THashList::AddLast (this=this@entry=0x5be690, obj=obj@entry=0xee3bc0) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/cont/src/THashList.cxx:100; #17 0x00007ffff7c4e0d1 in TListOfDataMembers::AddLast (this=0x5be690, obj=0xee3bc0) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/meta/src/TListOfDataMembers.cxx:103; #18 0x00007ffff7ab8785 in TList::Add (obj=0xee3bc0, this=0x5be690) at /home/pcanal/root_builds/v6-14-00-patches/opt/include/TList.h:87; #19 TROOT::GetListOfGlobals (this=0x7ffff7da7a60 <ROOT::Internal::GetROOT1()::alloc>, load=load@entry=false) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/base/src/TROOT.cxx:1767; #20 0x00007fffeeab1058 in TCling::HandleNewDecl (this=0x4a0550, DV=0xedf238, isDeserialized=isDeserialized@entry=true, modifiedTClasses=...) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/metacling/src/TCling.cxx:555; #21 0x00007fffeeabb785 in TCling::UpdateListsOnCommitted (this=0x4a0550, T=...) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/metacling/src/TCling.cxx:6115; #22 0x00007fffeebd0103 in cling::MultiplexInterpreterCallbacks::TransactionCommitted (this=0x57fe20, T=...) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/interpreter/cling/lib/Interpreter/MultiplexInterpreterCallbacks.h:76; #23 0x00007fffeed05d71 in cling::IncrementalParser::commitTransaction (this=0x4a2980",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2776:6138,patch,patches,6138,https://root.cern,https://github.com/root-project/root/pull/2776,2,['patch'],['patches']
Deployability,pt/root_src/tmva/tmva/src/DataSetFactory.cxx:741; 4: Loop condition is true. Entering loop body in /opt/root_src/tmva/tmva/src/DataSetFactory.cxx:741; 5: Assuming 'ivar' is >= 'nvars' in /opt/root_src/tmva/tmva/src/DataSetFactory.cxx:741; 6: Loop condition is false. Execution continues on line 739 in /opt/root_src/tmva/tmva/src/DataSetFactory.cxx:741; 7: Assuming 'i' is >= 'nclasses' in /opt/root_src/tmva/tmva/src/DataSetFactory.cxx:739; 8: Loop condition is false. Execution continues on line 752 in /opt/root_src/tmva/tmva/src/DataSetFactory.cxx:739; 9: Loop condition is true. Entering loop body in /opt/root_src/tmva/tmva/src/DataSetFactory.cxx:757; 10: Loop condition is true. Entering loop body in /opt/root_src/tmva/tmva/src/DataSetFactory.cxx:772; 11: Calling implicit copy constructor for 'TreeInfo' in /opt/root_src/tmva/tmva/src/DataSetFactory.cxx:778; 12: Calling copy constructor for 'TObject' in /opt/root_src/tmva/tmva/src/DataSetFactory.cxx:778; 13: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:265; 14: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 15: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Calling constructor for 'PDEFoamVect' in /opt/root_src/tmva/tmva/src/PDEFoamVect.cxx:182; 2: Calling default constructor for 'TObject' in /opt/root_src/tmva/tmva/src/PDEFoamVect.cxx:62; 3: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 4: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 5: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:82420,Update,UpdateIsOnHeap,82420,https://root.cern,https://github.com/root-project/root/issues/7412,1,['Update'],['UpdateIsOnHeap']
Deployability,"pt/setup.sh; > root; ------------------------------------------------------------------; | Welcome to ROOT 6.30/04 https://root.cern |; | (c) 1995-2024, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built for linuxarm64 on Feb 03 2024, 21:41:03 |; | From heads/master@tags/v6-30-04 |; | With g++ (GCC) 13.1.0 |; | Try '.help'/'.?', '.demo', '.license', '.credits', '.quit'/'.q' |; ------------------------------------------------------------------. root [0] .q; >; ```. It woks also if I use an old container with gcc 11.3:; ```; ssh lxplus-arm.cern.ch; > /cvmfs/lhcb.cern.ch/lib/var/lib/LbEnv/3067/stable/linux-aarch64/bin/apptainer shell -e -B /cvmfs /cvmfs/lhcb.cern.ch/containers/os-base/alma9-devel/2023-06-30_12-00-00/aarch64; WARNING: /cvmfs/lhcb.cern.ch/lib/var/lib/LbEnv/3067/stable/linux-aarch64/etc/singularity/ exists, migration to apptainer by system administrator is not complete; Apptainer> rpm -q gcc; gcc-11.3.1-4.3.el9.alma.aarch64; Apptainer> . /cvmfs/sft.cern.ch/lcg/releases/gcc/13.1.0-b3d18/aarch64-el9/setup.sh; Apptainer> . /cvmfs/sft.cern.ch/lcg/views/LCG_105a/aarch64-el9-gcc13-dbg/setup.sh; Apptainer> root; ------------------------------------------------------------------; | Welcome to ROOT 6.30/04 https://root.cern |; | (c) 1995-2024, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built for linuxarm64 on Feb 04 2024, 02:07:16 |; | From heads/master@tags/v6-30-04 |; | With g++ (GCC) 13.1.0 |; | Try '.help'/'.?', '.demo', '.license', '.credits', '.quit'/'.q' |; ------------------------------------------------------------------. root [0] .q; Apptainer>; ```. ### ROOT version. ```; ------------------------------------------------------------------; | Welcome to ROOT 6.30/04 https://root.cern |; | (c) 1995-2024, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built for linuxarm64 on Feb 04 2024, 02:07:16 |; | From heads/master@tags/v6-30-04 |; | With g++ (GCC) 13.1.0 |; | Try '.help'/'.?', '.demo', '.license', '.credits', '.quit'/'.q' |",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14789:2581,release,releases,2581,https://root.cern,https://github.com/root-project/root/issues/14789,1,['release'],['releases']
Deployability,python 3 patches,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/87:9,patch,patches,9,https://root.cern,https://github.com/root-project/root/pull/87,1,['patch'],['patches']
Deployability,"python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 638, in save_reduce; save(args); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 504, in save; f(self, obj) # Call unbound method with explicit self; File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 774, in save_tuple; save(element); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 504, in save; f(self, obj) # Call unbound method with explicit self; File ""/cvmfs/sft.cern.ch/lcg/views/LCG_97python3/x86_64-centos7-gcc9-opt/lib/python3.7/site-packages/dill/_dill.py"", line 1269, in save_module; state=_main_dict); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 662, in save_reduce; save(state); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 504, in save; f(self, obj) # Call unbound method with explicit self; File ""/cvmfs/sft.cern.ch/lcg/views/LCG_97python3/x86_64-centos7-gcc9-opt/lib/python3.7/site-packages/dill/_dill.py"", line 902, in save_module_dict; StockPickler.save_dict(pickler, obj); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 859, in save_dict; self._batch_setitems(obj.items()); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 885, in _batch_setitems; save(v); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 504, in save; f(self, obj) # Call unbound method with explicit self; File ""/cvmfs/sft.cern.ch/lcg/views/LCG_97python3/x86_64-centos7-gcc9-opt/lib/python3.7/site-packages/dill/_dill.py"", line 902, in save_module_dict; St",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6370:3724,release,releases,3724,https://root.cern,https://github.com/root-project/root/issues/6370,1,['release'],['releases']
Deployability,"ql=project %3D ROOT); for existing reports of your issue. If you find one, you are very welcome to add to the existing report, for instance ""issue still exists in today's master"".; -->. ### Describe the bug; In pyroot, when passing arrays of mixed int and float type into TGraphAsymmErrors, the corresponding error values will be filled with uninitialized values instead of raising error/warning. For example, if x is an array of type int whereas xerr_lo or xerr_hi is an array of type float then the error values will be filled with uninitialized values. <!--; A clear and concise description of what the wrong behavior is.; -->. ### Expected behavior; Either:; Automatically convert the data type of the arrays and fill the error with the correct values; Or:; Raising error/warning when mixed data types are passed. <!--; A clear and concise description of what you expected to happen.; -->. ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->; ```; import numpy as np; import ROOT; n = 1; x = np.array([1]); y = np.array([2]); xerr_hi, xerr_lo = np.array([0.1]), np.array([0.1]); yerr_hi, yerr_lo = np.array([0.2]), np.array([0.2]); reproducer = ROOT.TGraphAsymmErrors(n, x, y, xerr_lo, xerr_hi, yerr_lo, yerr_hi); print(reproducer.GetErrorXlow(1), reproducer.GetErrorXhigh(1), reproducer.GetErrorYlow(1), reproducer.GetErrorYhigh(1)); # result:; # 4.67050093411236e-310 4.6705009350649e-310 4.67050094601894e-310 4.67050094110516e-310; ```; ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->; ROOT version: JupyROOT 6.18/04; Operating system: Linux (lxplus); ROOT installed via conda . ### Additional context; <!--; Add any other context about the problem here.; -->",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7393:1944,install,install,1944,https://root.cern,https://github.com/root-project/root/issues/7393,2,['install'],"['install', 'installed']"
Deployability,"r all declarations; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/postypes.h:68:35: error: expected expression; namespace std _GLIBCXX_VISIBILITY(default); ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/postypes.h:68:43: error: expected ';' after top level declarator; namespace std _GLIBCXX_VISIBILITY(default); ^; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/char_traits.h:41:10: note: submodule of top-level module 'std' implicitly imported here; #include <cwchar> // For WEOF, wmemmove, wmemset, etc.; ^; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/char_traits.h:699:10: note: submodule of top-level module 'std' implicitly imported here; #include <cstdint>; ^; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/functional_hash.h:35:10: note: submodule of top-level module 'std' implicitly imported here; #include <type_traits>; ^; While building module 'Core':; While building module '",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10528:23256,Install,Installed,23256,https://root.cern,https://github.com/root-project/root/issues/10528,1,['Install'],['Installed']
Deployability,"r code and / or build it, e.g. `root myMacro.C`, ...; -->. to reproduce see this very simple gist ; https://gist.github.com/VanyaBelyaev/278074969f2f940f180885be35f04db9 . It has been tested with different LCG releases from LCG_94 to LCG_97a; and it always works for `pytjon2` and fails for `python3`. for `python3` one gets an error; ```; Traceback (most recent call last):; File ""./test_dill.py"", line 13, in <module>; hh = dill.loads ( dill.dumps ( h ) ); File ""/cvmfs/sft.cern.ch/lcg/views/LCG_97python3/x86_64-centos7-gcc9-opt/lib/python3.7/site-packages/dill/_dill.py"", line 294, in dumps; dump(obj, file, protocol, byref, fmode, recurse)#, strictio); File ""/cvmfs/sft.cern.ch/lcg/views/LCG_97python3/x86_64-centos7-gcc9-opt/lib/python3.7/site-packages/dill/_dill.py"", line 287, in dump; pik.dump(obj); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 437, in dump; self.save(obj); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 549, in save; self.save_reduce(obj=obj, *rv); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 637, in save_reduce; save(func); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 504, in save; f(self, obj) # Call unbound method with explicit self; File ""/cvmfs/sft.cern.ch/lcg/views/LCG_97python3/x86_64-centos7-gcc9-opt/lib/python3.7/site-packages/dill/_dill.py"", line 1064, in save_builtin_method; pickler.save_reduce(_get_attr, (module, obj.__name__), obj=obj); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 638, in save_reduce; save(args); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 504, in save; f(self, obj) # Call unbound me",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6370:1996,release,releases,1996,https://root.cern,https://github.com/root-project/root/issues/6370,1,['release'],['releases']
Deployability,"r element access; - `PushProxy()`, `PopProxy()`: for selecting the target object. A usage example can be seen [here](https://github.com/root-project/root/pull/11525/files#diff-81832cd72f5d9af1508fd153abdf63b6406256248f1d1440f966e82e628da141). ## Changes or fixes:; - Added class `RCollectionClassField`, representing a field of a user-defined class that behaves as a collection that is compliant with the `TVirtualCollectionProxy` interface.; Given that the `RField<T>` primary template definition (that used if no specialization matches) uses `RClassField` to store members of a class, we rely on an additional helper type (`IsCollectionProxy<T>`) to annotate that a particular class has an associated collection proxy (see example below).; ```c++; // Alternatively, this can be specified via a member type in the user-defined class; see the documentation; template <>; struct IsCollectionProxy<ProxiedCollection> : std::true_type {};. auto model = RNTupleModel::Create();; auto fieldKlass = model->MakeField<MyClass>(""fieldKlass""); // Regular class; auto fieldCollection = model->MakeField<ProxiedCollection>(""fieldCollection""); // Class with associated collection proxy; ```; **This tag is not required when using the type-erased interface** (i.e., `RFieldBase::Create()`), as the use of a collection proxy can be determined at run time via `TClass`.; - `RCollectionClassField::ReadGlobalImpl()`: reduce the number of virtual calls to `TVirtualCollectionProxy::Insert()` by reading and inserting a block of elements at once. The size of the buffer that holds the elements is set by `RCollectionClassField::kReadChunkSize` (in bytes).; - Provide implementation and tests for `RPrintValueVisitor::VisitCollectionClassField()`; - Add unit tests for collections of fundamental types, compound types, vector of a collection proxy, and nested collection proxies.; - Update `doc/specifications.md`. ## Checklist:; - [X] tested changes locally; - [X] updated the docs (if necessary). This PR fixes #11523.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11525:2878,Update,Update,2878,https://root.cern,https://github.com/root-project/root/pull/11525,2,"['Update', 'update']","['Update', 'updated']"
Deployability,"r"".; -->. ### Describe the bug; <!--; A clear and concise description of what the wrong behavior is.; -->. I my project I use ROOT from LCG nightlies build dev3 slot; And for my tests (with ctest and nose) I get an error:. ``` ; Traceback (most recent call last):; File ""/afs/cern.ch/user/i/ibelyaev/cmtuser/RELEASE/ostap/build/INSTALL/LCGdev3/x86_64-centos7-gcc11-opt/lib/python3.9/site-packages/ostap/core/build_dir.py"", line 28, in <module>; import ROOT, os, glob ; File ""/cvmfs/sft-nightlies.cern.ch/lcg/views/dev3/Thu/x86_64-centos7-gcc11-opt/lib/ROOT/__init__.py"", line 69, in <module>; module = importlib.import_module(pyz.__name__ + '.' + module_name); File ""/cvmfs/sft-nightlies.cern.ch/lcg/latest/Python/3.9.6-b0f98/x86_64-centos7-gcc11-opt/lib/python3.9/importlib/__init__.py"", line 127, in import_module; return _bootstrap._gcd_import(name[level:], package, level); File ""/cvmfs/sft-nightlies.cern.ch/lcg/views/dev3/Thu/x86_64-centos7-gcc11-opt/lib/ROOT/pythonization/_roofit/__init__.py"", line 26, in <module>; from ._roocategory import RooCategory; File ""/cvmfs/sft-nightlies.cern.ch/lcg/views/dev3/Thu/x86_64-centos7-gcc11-opt/lib/ROOT/pythonization/_roofit/_roocategory.py"", line 18; """"""Constructor of RooCategory takes a map as an argument also supports python dictionaries.; ^; SyntaxError: invalid escape sequence \c; ```. ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->. ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->. ROOT version from LCG nightlies dev3 slot . ### Additional context; <!--; Add any other context about the problem here.; -->",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/8902:2169,install,install,2169,https://root.cern,https://github.com/root-project/root/issues/8902,1,['install'],['install']
Deployability,"r,void>> ROOT::RDF::RInterface<ROOT::RDF::RInterface<Proxied,DataSource>::RLoopManager,void>::Snapshot(std::string_view,std::string_view,std::string_view,const ROOT::RDF::RSnapshotOptions &)' being compiled [C:\Users\bellenot\build\x86\release\tree\dataframe\test\datasource_sqlite.vcxproj]; C:\Users\bellenot\git\master\tree\dataframe\inc\ROOT/RDataFrame.hxx(41): message : see reference to class template instantiation 'ROOT::RDF::RInterface<ROOT::RDF::RInterface<Proxied,DataSource>::RLoopManager,void>' being compiled [C:\Users\bellenot\build\x86\release\tree\dataframe\test\datasource_sqlite.vcxproj]; C:\Users\bellenot\git\master\tree\dataframe\inc\ROOT/RDF/RInterface.hxx(1123,64): error C3083: 'TreeUtils': the symbol to the left of a '::' must be a type [C:\Users\bellenot\build\x86\release\tree\dataframe\test\datasource_sqlite.vcxproj]; C:\Users\bellenot\git\master\tree\dataframe\inc\ROOT/RDF/RInterface.hxx(1123,75): error C2039: 'GetTopLevelBranchNames': is not a member of 'ROOT::RDF::Internal' [C:\Users\bellenot\build\x86\release\tree\dataframe\test\datasource_sqlite.vcxproj]; C:\Users\bellenot\git\master\tree\dataframe\inc\ROOT/RSqliteDS.hxx(27): message : see declaration of 'ROOT::RDF::Internal' [C:\Users\bellenot\build\x86\release\tree\dataframe\test\datasource_sqlite.vcxproj]; C:\Users\bellenot\git\master\tree\dataframe\inc\ROOT/RDF/RInterface.hxx(1123,1): error C3861: 'GetTopLevelBranchNames': identifier not found [C:\Users\bellenot\build\x86\release\tree\dataframe\test\datasource_sqlite.vcxproj]; C:\Users\bellenot\git\master\tree\dataframe\inc\ROOT/RDF/RInterface.hxx(1123,18): error C2737: 'treeBranchNames': const object must be initialized [C:\Users\bellenot\build\x86\release\tree\dataframe\test\datasource_sqlite.vcxproj]; C:\Users\bellenot\git\master\tree\dataframe\inc\ROOT/RDF/RInterface.hxx(1130,1): error C3536: 'treeBranchNames': cannot be used before it is initialized [C:\Users\bellenot\build\x86\release\tree\dataframe\test\datasource_sqlite.vcxproj]; C:",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11153:2289,release,release,2289,https://root.cern,https://github.com/root-project/root/pull/11153,1,['release'],['release']
Deployability,"r/Softwares/Installed/HEP/Root/build/include/Rtypes.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/string_view:40:10: note: submodule of top-level module 'std' implicitly imported here; #include <iosfwd>; ^; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/char_traits.h:39:10: note: submodule of top-level module 'std' implicitly imported here; #include <bits/stl_algobase.h> // std::copy, std::fill_n; ^; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/postypes.h:40:10: note: submodule of top-level module 'std' implicitly imported here; #include <cwchar> // For mbstate_t; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/postypes.h:68:15: error: expected '{'; namespace std _GLIBCXX_VISIBILITY(default); ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/postypes.h:68:15: error: C++ requires a type specifier for all declarations; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/postypes.h:68:35: error: expected expression; namespace std _GLIBCXX_VISIBILITY(default); ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10528:21518,Install,Installed,21518,https://root.cern,https://github.com/root-project/root/issues/10528,1,['Install'],['Installed']
Deployability,"r/lib/libCling.so); ==22765== by 0x9139861: combineInstructionsOverFunction(llvm::Function&, llvm::InstCombineWorklist&, llvm::AAResults*, llvm::AssumptionCache&, llvm::TargetLibraryInfo&, llvm::DominatorTree&, llvm::OptimizationRemarkEmitter&, llvm::BlockFrequencyInfo*, llvm::ProfileSummaryInfo*, bool, llvm::LoopInfo*) (in /build/vvassilev/root-release-master/lib/libCling.so); ==22765== by 0x913A00E: llvm::InstructionCombiningPass::runOnFunction(llvm::Function&) (in /build/vvassilev/root-release-master/lib/libCling.so); ==22765== by 0x9E4CCC7: llvm::FPPassManager::runOnFunction(llvm::Function&) (in /build/vvassilev/root-release-master/lib/libCling.so); ==22765== by 0x9E4CE00: llvm::FPPassManager::runOnModule(llvm::Module&) (in /build/vvassilev/root-release-master/lib/libCling.so); ==22765== by 0x9E4BEE5: llvm::legacy::PassManagerImpl::run(llvm::Module&) (in /build/vvassilev/root-release-master/lib/libCling.so); ==22765== by 0x6F12B5A: cling::IncrementalExecutor::runStaticInitializersOnce(cling::Transaction&) (in /build/vvassilev/root-release-master/lib/libCling.so); ==22765== ; ==22765== Warning: set address range perms: large range [0x1cfd0000, 0x31242000) (defined); ==22765== Warning: set address range perms: large range [0x1cfd0000, 0x31242000) (noaccess); ==22765== Warning: set address range perms: large range [0x1cfd0000, 0x31242000) (defined); ==22765== Warning: set address range perms: large range [0x1cfd0000, 0x31242000) (noaccess); ==22765== Warning: set address range perms: large range [0x1cfd0000, 0x2d27d000) (defined); ==22765== Warning: set address range perms: large range [0x1cfd0000, 0x2d27d000) (noaccess); ==22765== Warning: set address range perms: large range [0x1cfd0000, 0x2d27d000) (defined); ==22765== Warning: set address range perms: large range [0x1cfd0000, 0x2d27d000) (noaccess); ==22765== Warning: set address range perms: large range [0x1f838000, 0x33aaa000) (defined); ==22765== Warning: set address range perms: large range [0x1f838000, 0x3",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11385:4552,release,release-master,4552,https://root.cern,https://github.com/root-project/root/issues/11385,1,['release'],['release-master']
Deployability,"r: could not build module 'ROOT_Rtypes'; #include ""RtypesCore.h""; ~~~~~~~~^~~~~~~~~~~~~~; While building module 'Core':; While building module 'ROOT_Foundation_C' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:29:; In file included from <module-includes>:1:; /home/razorr/Softwares/Installed/HEP/Root/build/include/ThreadLocalStorage.h:60:10: fatal error: could not build module 'ROOT_Rtypes'; #include ""RtypesCore.h""; ~~~~~~~~^~~~~~~~~~~~~~; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/string_view:40:10: note: submodule of top-level module 'std' implicitly imported here; #include <iosfwd>; ^; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/char_traits.h:39:10: note: submodule of top-level module 'std' implicitly imported here; #include <bits/stl_algobase.h> // std::copy, std::fill_n; ^; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/postypes.h:40:10: note: submodule of top-level module 'std' implicitly imported here",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10528:20972,Install,Installed,20972,https://root.cern,https://github.com/root-project/root/issues/10528,1,['Install'],['Installed']
Deployability,"r::ParseTopLevelDecl(clang::OpaquePtr<clang::DeclGroupRef>&) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #23 0x00002b8fcef7c0e6 in cling::IncrementalParser::ParseInternal(llvm::StringRef) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #24 0x00002b8fcef7dfed in cling::IncrementalParser::Compile(llvm::StringRef, cling::CompilationOptions const&) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #25 0x00002b8fceee6852 in cling::Interpreter::DeclareInternal(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, cling::CompilationOptions const&, cling::Transaction**) const () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #26 0x00002b8fceee69fa in cling::Interpreter::declare(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, cling::Transaction**) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #27 0x00002b8fceee79e1 in cling::Interpreter::DeclareCFunction(llvm::StringRef, llvm::StringRef, bool, cling::Transaction*&) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #28 0x00002b8fceeeaa2d in cling::Interpreter::compileFunction(llvm::StringRef, llvm::StringRef, bool, bool) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #29 0x00002b8fcee7556b in TClingCallFunc::compile_wrapper (this=0x2b913aff4c00, wrapper_name=",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7093:9869,patch,patch,9869,https://root.cern,https://github.com/root-project/root/issues/7093,1,['patch'],['patch']
Deployability,"r;. file = TFile::Open(inFileName.c_str());; tree = (TTree*) file->Get(""myTree"");. // On purpose get entry 15 ; // before setting entry list for tree ; entryList->GetEntry(15);; tree->SetEntryList(entryList);; ; if (numTest == 0){; std::cout << ""tree->GetEntryNumber(0)="" << tree->GetEntryNumber(0) << std::endl; ; std::cout << ""tree->GetEntryNumber(0)="" << tree->GetEntryNumber(0) << std::endl;; std::cout << ""tree->GetEntryNumber(0)="" << tree->GetEntryNumber(0) << std::endl;; std::cout << ""tree->GetEntryNumber(0)="" << tree->GetEntryNumber(0) << std::endl;; }; ; if (numTest == 1){; std::cout << ""tree->GetEntryNumber(0)="" << tree->GetEntryNumber(0) << std::endl; ; std::cout << ""tree->GetEntryNumber(1)="" << tree->GetEntryNumber(1) << std::endl;; std::cout << ""tree->GetEntryNumber(1)="" << tree->GetEntryNumber(1) << std::endl;; std::cout << ""tree->GetEntryNumber(1)="" << tree->GetEntryNumber(1) << std::endl;; }. if (numTest == 2){; std::cout << ""tree->GetEntryNumber(0)="" << tree->GetEntryNumber(0) << std::endl; ; std::cout << ""tree->GetEntryNumber(1)="" << tree->GetEntryNumber(1) << std::endl;; std::cout << ""tree->GetEntryNumber(2)="" << tree->GetEntryNumber(2) << std::endl;; std::cout << ""tree->GetEntryNumber(2)="" << tree->GetEntryNumber(2) << std::endl;; std::cout << ""tree->GetEntryNumber(2)="" << tree->GetEntryNumber(2) << std::endl;; }. return 0; ; }. void createTree(const std::string &outputFile){. unsigned int NEntries = 100;; TTree *tree = nullptr;; double x1;. // create file ; TFile *file = TFile::Open(outputFile.c_str(),""recreate""); ; // init tree ; tree = new TTree(""myTree"",""myTree""); ; tree->Branch(""x1"", &x1);. for (unsigned int iEntry = 0 ; iEntry < NEntries; iEntry++){; x1 = iEntry;; tree->Fill();; }. file->Write(); ; delete file;; }; ```. ### ROOT version. ROOT Version: 6.26/08 ; I believe all versions are affected by that bug even the most recent ones . ### Installation method. Built from source. ### Operating system. Linux. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13338:4352,Install,Installation,4352,https://root.cern,https://github.com/root-project/root/issues/13338,1,['Install'],['Installation']
Deployability,"r<llvm::GIMatchDagPredicate,std::default_delete<llvm::GIMatchDagPredicate>>*>(const std::basic_format_string<char,const std::unique_ptr<llvm::GIMatchDagPredicate,std::default_delete<llvm::GIMatchDagPredicate>> *>,const std::unique_ptr<llvm::GIMatchDagPredicate,std::default_delete<llvm::GIMatchDagPredicate>>*&&)' [found using argument-dependent lookup] [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\VC\Tools\MSVC\14.35.32215\include\format(3536,20): message : or 'std::wstring std::format(const std::locale &,const std::basic_format_string<wchar_t,type_identity<_Args>::type...>,_Types &&...)' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(85,18): message : 'initializing': cannot convert from 'const char [5]' to 'const std::locale &' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(85,18): message : Reason: cannot convert from 'const char [5]' to 'const std::locale' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(85,18): message : Constructor for class 'std::locale' is declared 'explicit' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\VC\Tools\MSVC\14.35.32215\include\format(3531,19): message : or 'std::string std::format(const std::locale &,const std::basic_format_string<char,type_identity<_Args>::type...>,_Types &&...)' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; in",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12523:9726,release,release,9726,https://root.cern,https://github.com/root-project/root/pull/12523,1,['release'],['release']
Deployability,"r=gcc target=linux runtime=cc11.4.0_libc2.35_kernel6.2.0; make[7]: *** read jobs pipe: Bad file descriptor. Stop.; make[7]: *** Waiting for unfinished jobs....; In file included from ../../src/tbb/concurrent_hash_map.cpp:17:; ../../include/tbb/concurrent_hash_map.h: In constructor ‘tbb::interface5::internal::hash_map_base::hash_map_base()’:; ../../include/tbb/concurrent_hash_map.h:131:24: warning: ‘void* memset(void*, int, size_t)’ clearing an object of type ‘struct tbb::interface5::internal::hash_map_base::bucket’ with no trivial copy-assignment; use value-initialization instead [-Wclass-memaccess]; 131 | std::memset(my_embedded_segment, 0, sizeof(my_embedded_segment));; | ~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~; ../../include/tbb/concurrent_hash_map.h:93:16: note: ‘struct tbb::interface5::internal::hash_map_base::bucket’ declared here; 93 | struct bucket : tbb::internal::no_copy {; | ^~~~~~; make[6]: *** [Makefile:28: tbb] Error 2; ```. Trying to upgrade to v6-28-12, https://github.com/SyneRBI/SIRF-SuperBuild/pull/859/files, it compiled TBB ok, but failed in XROOTD installation. XROOTD-install-err.log says; ```; [I] No git repository info found. Trying to interpret VERSION_INFO; [I] The XrdVersion.hh file already exists; gmake[7]: *** read jobs pipe: Bad file descriptor. Stop.; gmake[7]: *** Waiting for unfinished jobs....; gmake[6]: *** [Makefile:136: all] Error 2; CMake Error at /home/runner/work/SIRF-SuperBuild/SIRF-SuperBuild/build/builds/ROOT/build/builtins/xrootd/XROOTD-prefix/src/XROOTD-stamp/XROOTD-install-Release-impl.cmake:9 (message):; Command failed (2):. '/usr/local/bin/cmake' '--build' '.' '--target' 'install'; ```; The same error occurs with v6-30-04. The log files actually don't really give an error, but the `bad file descriptor` is strange of course. I'm therefore not sure if this is a problem in ROOT, or a temporary problem on GitHub Actions, or of course a problem with how we build (although that seems to be finally CMake",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14520:2078,upgrade,upgrade,2078,https://root.cern,https://github.com/root-project/root/issues/14520,1,['upgrade'],['upgrade']
Deployability,raf3d/eve/src/TEveElement.cxx:664; 14: Left side of '&&' is true in /opt/root_src/graf3d/eve/src/TEveElement.cxx:664; 15: Assuming field 'fDestroyOnZeroRefCnt' is true in /opt/root_src/graf3d/eve/src/TEveElement.cxx:665; 16: Left side of '&&' is true in /opt/root_src/graf3d/eve/src/TEveElement.cxx:664; 17: Assuming field 'fDenyDestroy' is <= 0 in /opt/root_src/graf3d/eve/src/TEveElement.cxx:665; 18: Taking true branch in /opt/root_src/graf3d/eve/src/TEveElement.cxx:664; 19: Assuming the condition is false in /opt/root_src/graf3d/eve/src/TEveElement.cxx:667; 20: Taking false branch in /opt/root_src/graf3d/eve/src/TEveElement.cxx:667; 21: Assuming 'gDebug' is <= 0 in /opt/root_src/graf3d/eve/src/TEveElement.cxx:677; 22: Taking false branch in /opt/root_src/graf3d/eve/src/TEveElement.cxx:677; 23: Memory is released in /opt/root_src/graf3d/eve/src/TEveElement.cxx:681; 24: Returning; memory was released in /opt/root_src/graf3d/eve/src/TEveElement.cxx:650; 25: Returning; memory was released in /opt/root_src/graf3d/eve/src/TEveElement.cxx:1345; 26: Returning; memory was released via 1st parameter in /opt/root_src/graf3d/eve/src/TEveElement.cxx:359; 27: Use of memory after it is freed in /opt/root_src/graf3d/eve/src/TEveElement.cxx:361; /opt/root_src/graf3d/eve/src/TEveFrameBox.cxx:65:40: warning: Value stored to 'p' is never read [clang-analyzer-deadcode.DeadStores]; 1: Value stored to 'p' is never read in /opt/root_src/graf3d/eve/src/TEveFrameBox.cxx:65; /opt/root_src/graf3d/eve/src/TEveFrameBox.cxx:83:40: warning: Value stored to 'p' is never read [clang-analyzer-deadcode.DeadStores]; 1: Value stored to 'p' is never read in /opt/root_src/graf3d/eve/src/TEveFrameBox.cxx:83; /opt/root_src/graf3d/eve/src/TEveGeoNode.cxx:86:11: warning: Called C++ object pointer is null [clang-analyzer-core.CallAndMessage]; 1: Calling 'TEveGeoNode::DumpShapeTree' in /opt/root_src/graf3d/eve/src/TEveGeoNode.cxx:303; 2: Assuming 'tnode' is equal to null in /opt/root_src/graf3d/eve/src/TEveGeoN,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7531:4850,release,released,4850,https://root.cern,https://github.com/root-project/root/issues/7531,1,['release'],['released']
Deployability,rand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Assuming 'fname' is non-null in /opt/root_src/tree/treeviewer/src/TMemStatShow.cxx:176; 2: Left side of '||' is false in /opt/root_src/tree/treeviewer/src/TMemStatShow.cxx:176; 3: Assuming the condition is false in /opt/root_src/tree/treeviewer/src/TMemStatShow.cxx:176; 4: Left side of '||' is false in /opt/root_src/tree/treeviewer/src/TMemStatShow.cxx:176; 5: Assuming the condition is false in /opt/root_src/tree/treeviewer/src/TMemStatShow.cxx:176; 6: Taking false branch in /opt/root_src/tree/treeviewer/src/TMemStatShow.cxx:176; 7: Assuming 'f' is non-null in /opt/root_src/tree/treeviewer/src/TMemStatShow.cxx:184; 8: Taking false branch in /opt/root_src/tree/treeviewer/src/TMemStatShow.cxx:184; 9: Assuming 'fgT' is non-null in /opt/root_src/tree/treeviewer/src/TMemStatShow.cxx:189; 10: Taking false branch in /opt/root_src/tree/treeviewer/src/TMemStatShow.cxx:189; 11: Assuming 'update' is > 0 in /opt/root_src/tree/treeviewer/src/TMemStatShow.cxx:193; 12: Taking false branch in /opt/root_src/tree/treeviewer/src/TMemStatShow.cxx:193; 13: Assuming the condition is false in /opt/root_src/tree/treeviewer/src/TMemStatShow.cxx:197; 14: Taking false branch in /opt/root_src/tree/treeviewer/src/TMemStatShow.cxx:197; 15: Assuming 'fgAddressN' is > 0 in /opt/root_src/tree/treeviewer/src/TMemStatShow.cxx:205; 16: Taking false branch in /opt/root_src/tree/treeviewer/src/TMemStatShow.cxx:205; 17: Assuming 'fgEntryN' is <= 0 in /opt/root_src/tree/treeviewer/src/TMemStatShow.cxx:207; 18: Left side of '&&' is false in /opt/root_src/tree/treeviewer/src/TMemStatShow.cxx:207; 19: Assuming the condition is false in /opt/root_src/tree/treeviewer/src/TMemStatShow.cxx:208; 20: Taking false branch in /opt/root_src/tree/treeviewer/src/TMemStatShow.cxx:208; 21: Assuming the condition is false in /opt/root_src/tree/treeviewer/src/TMemStatShow.cxx:217; 22: Taking false branch in /opt/root_src/tree/treeviewer/,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:87322,update,update,87322,https://root.cern,https://github.com/root-project/root/issues/7412,1,['update'],['update']
Deployability,rand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Assuming field 'fList' is non-null in /opt/root_src/core/base/src/TFileCollection.cxx:870; 2: Left side of '||' is false in /opt/root_src/core/base/src/TFileCollection.cxx:870; 3: Assuming the condition is false in /opt/root_src/core/base/src/TFileCollection.cxx:870; 4: Taking false branch in /opt/root_src/core/base/src/TFileCollection.cxx:870; 5: Assuming 'exclude' is non-null in /opt/root_src/core/base/src/TFileCollection.cxx:877; 6: Left side of '&&' is true in /opt/root_src/core/base/src/TFileCollection.cxx:877; 7: Assuming the condition is true in /opt/root_src/core/base/src/TFileCollection.cxx:877; 8: Taking true branch in /opt/root_src/core/base/src/TFileCollection.cxx:877; 9: Calling default constructor for 'TUri' in /opt/root_src/core/base/src/TFileCollection.cxx:880; 10: Calling default constructor for 'TObject' in /opt/root_src/core/base/inc/TUri.h:73; 11: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 12: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 13: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Calling default constructor for 'TUri' in /opt/root_src/core/base/src/TUri.cxx:1124; 2: Calling default constructor for 'TObject' in /opt/root_src/core/base/inc/TUri.h:73; 3: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 4: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 5: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Assuming the ,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:1136,Update,UpdateIsOnHeap,1136,https://root.cern,https://github.com/root-project/root/issues/7412,1,['Update'],['UpdateIsOnHeap']
Deployability,"ransaction*, 2u, cling::IncrementalParser::EParseResult, llvm::PointerLikeTypeTraits<cling::Transaction*>, llvm::PointerIntPairInfo<cling; #33 0x00007f0603128d98 in cling::IncrementalParser::Compile(llvm::StringRef, cling::CompilationOptions const&) () from /cvmfs/lhcb.cern.ch/lib/lcg/releases/ROOT/6.30.04-dd2db/x86_64-el9-gcc13-dbg/lib/libCling.so; #34 0x00007f06030933dc in cling::Interpreter::DeclareInternal(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, cling::CompilationOptions const&, cling::Transaction**) const () from /cvmfs/lhcb.cern; #35 0x00007f0603095986 in cling::Interpreter::process(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, cling::Value*, cling::Transaction**, bool) () from /cvmfs/lhcb.cern.ch/lib/lcg/releases/ROOT/6; #36 0x00007f06031781a7 in cling::MetaProcessor::process(llvm::StringRef, cling::Interpreter::CompilationResult&, cling::Value*, bool) () from /cvmfs/lhcb.cern.ch/lib/lcg/releases/ROOT/6.30.04-dd2db/x86_64-el9-gcc13-dbg/lib/libCling.so; #37 0x00007f0602e677f7 in HandleInterpreterException (metaProcessor=0x308b020, input_line=0x4194ba0 ""#line 1 \""ROOT_prompt_0\""\n#include <LoKi/ParticleCuts.h>"", compRes=; 0x7ffd45beeafc: cling::Interpreter::kSuccess, result=0x7ffd45beeb00) at /build/jenkins/workspace/lcg_release_pipeline/build/projects/ROOT-6.30.04/src/ROOT/6.30.04/core/metacling/src/TCling.cxx:2436; #38 0x00007f0602e683c4 in TCling::ProcessLine (this=0x20461a0, line=0x412ae70 ""#line 1 \""ROOT_prompt_0\""\n#include <LoKi/ParticleCuts.h>"", error=0x7ffd45beeedc) at /build/jenkins/workspace/lcg_release_pipeline/build/projects/ROOT-6.30.0; #39 0x00007f060aab78bf in TApplication::ProcessLine (this=0x200fe60, line=0x412ae70 ""#line 1 \""ROOT_prompt_0\""\n#include <LoKi/ParticleCuts.h>"", sync=false, err=0x7ffd45beeedc) at /build/jenkins/workspace/lcg_release_pipeline/build/proj; #40 0x00007f060b14a763 in TRint::ProcessLineNr (this=0x200fe60, filestem=0x7f060b15c757 ""RO",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15511:9555,release,releases,9555,https://root.cern,https://github.com/root-project/root/issues/15511,1,['release'],['releases']
Deployability,"rather an instance; of CPPOverload:. ```; (gdb) p *pysi; $1 = {ob_base = {ob_refcnt = 2, ; ob_type = 0x7ffff75fcfe0 <CPyCppyy::CPPOverload_Type>}, fSelf = 0x0, ; fTemplateArgs = 0x770e650, fWeakrefList = 0x7fffd65c0240, ; fTI = {<std::__shared_ptr<CPyCppyy::TemplateInfo, (__gnu_cxx::_Lock_policy)2>> = {<std::__shared_ptr_access<CPyCppyy::TemplateInfo, (__gnu_cxx::_Lock_policy)2, false, false>> = {<No data fields>}, _M_ptr = 0x7fffd88d0710, _M_refcount = {; _M_pi = 0x1}}, <No data fields>}}; (gdb) p mtName; $2 = {; _M_dataplus = {<std::allocator<char>> = {<std::__new_allocator<char>> = {<No data fields>}, <No data fields>}, _M_p = 0x7fffffff7cd0 ""__call__""}, ; _M_string_length = 8, {_M_local_buf = ""__call__\000\230d\a\000\000\000"", ; _M_allocated_capacity = 6872330769136836447}}; (gdb) p setupSetItem; $3 = true; (gdb) p isConstructor; $4 = false; (gdb) p isTemplate; $5 = false; ```. If i treat this as a special case and add an explicit test on the type. ```; diff --git a/bindings/pyroot/cppyy/CPyCppyy/src/ProxyWrappers.cxx b/bindings/pyr; oot/cppyy/CPyCppyy/src/ProxyWrappers.cxx; index bda60720cf..897d7b4967 100644; --- a/bindings/pyroot/cppyy/CPyCppyy/src/ProxyWrappers.cxx; +++ b/bindings/pyroot/cppyy/CPyCppyy/src/ProxyWrappers.cxx; @@ -245,14 +245,21 @@ static int BuildScopeProxyDict(Cppyy::TCppScope_t scope, PyObject* pyclass); ; // for operator[]/() that returns by ref, also add __setitem__; if (setupSetItem) {; - TemplateProxy* pysi = (TemplateProxy*)PyObject_GetAttrString(pyclass, const_cast<char*>(""__setitem__""));; - if (!pysi) {; - pysi = TemplateProxy_New(mtCppName, ""__setitem__"", pyclass);; - PyObject_SetAttrString(pyclass, const_cast<char*>(""__setitem__""), (PyObject*)pysi);; + auto setitemMeth = new CPPSetItem(scope, method);; + PyObject* pysi_o = PyObject_GetAttrString(pyclass, const_cast<char*>(""__setitem__""));; + if (pysi_o && CPPOverload_Check(pysi_o)) {; + ((CPPOverload*)pysi_o)->AdoptMethod(setitemMeth);; }; - if (isTemplate) pysi->AdoptTemplate(new ",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13410:4670,a/b,a/bindings,4670,https://root.cern,https://github.com/root-project/root/issues/13410,1,['a/b'],['a/bindings']
Deployability,ratorResult]; 1: Assuming the condition is false in /opt/root_src/gui/webdisplay/src/RWebWindow.cxx:569; 2: Taking false branch in /opt/root_src/gui/webdisplay/src/RWebWindow.cxx:569; 3: Taking true branch in /opt/root_src/gui/webdisplay/src/RWebWindow.cxx:572; 4: Assuming the condition is true in /opt/root_src/gui/webdisplay/src/RWebWindow.cxx:576; 5: Taking true branch in /opt/root_src/gui/webdisplay/src/RWebWindow.cxx:576; 6: Calling default constructor for 'TUrl' in /opt/root_src/gui/webdisplay/src/RWebWindow.cxx:577; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Calling copy constructor for 'TEfficiency' in /opt/root_src/hist/hist/src/TEfficiency.cxx:3674; 2: Calling default constructor for 'TNamed' in /opt/root_src/hist/hist/src/TEfficiency.cxx:973; 3: Calling default constructor for 'TObject' in /opt/root_src/core/base/inc/TNamed.h:36; 4: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 5: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 6: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Calling constructor for 'THnIter' in /opt/root_src/hist/hist/src/THnBase.cxx:617; 2: Calling default constructor for 'TObject' in /opt/root_src/hist/hist/inc/THnBase.h:305; 3: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 4: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 5: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Assuming 'i' is,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:23426,Update,UpdateIsOnHeap,23426,https://root.cern,https://github.com/root-project/root/issues/7412,1,['Update'],['UpdateIsOnHeap']
Deployability,rbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Assuming 'i' is < 'nobjects' in /opt/root_src/hist/hist/src/TFormula.cxx:220; 2: Loop condition is true. Entering loop body in /opt/root_src/hist/hist/src/TFormula.cxx:220; 3: Assuming the condition is true in /opt/root_src/hist/hist/src/TFormula.cxx:221; 4: Left side of '&&' is true in /opt/root_src/hist/hist/src/TFormula.cxx:221; 5: Assuming the condition is true in /opt/root_src/hist/hist/src/TFormula.cxx:221; 6: Taking true branch in /opt/root_src/hist/hist/src/TFormula.cxx:221; 7: Calling constructor for 'TFormula' in /opt/root_src/hist/hist/src/TFormula.cxx:222; 8: Calling constructor for 'TNamed' in /opt/root_src/hist/hist/src/TFormula.cxx:431; 9: Calling default constructor for 'TObject' in /opt/root_src/core/base/inc/TNamed.h:37; 10: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 11: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 12: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Calling default constructor for 'TSpectrum2' in /opt/root_src/hist/spectrum/src/TSpectrum2.cxx:1721; 2: Calling constructor for 'TNamed' in /opt/root_src/hist/spectrum/src/TSpectrum2.cxx:57; 3: Calling default constructor for 'TObject' in /opt/root_src/core/base/inc/TNamed.h:37; 4: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 5: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 6: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The l,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:25197,Update,UpdateIsOnHeap,25197,https://root.cern,https://github.com/root-project/root/issues/7412,1,['Update'],['UpdateIsOnHeap']
Deployability,"rc/XROOTD/src/XrdPosix/XrdPosix.cc: In function ‘int XrdPosix_Fstat(int, stat*)’:; /opt/root/build-root-6.22.06/XROOTD-prefix/src/XROOTD/src/XrdPosix/XrdPosix.cc:379:27: error: ‘_STAT_VER’ was not declared in this scope; 379 | : Xunix.Fstat64(_STAT_VER, fildes, (struct stat64 *)buf));; | ^~~~~~~~~; /opt/root/build-root-6.22.06/XROOTD-prefix/src/XROOTD/src/XrdPosix/XrdPosix.cc: In function ‘int XrdPosix_Lstat(const char*, stat*)’:; /opt/root/build-root-6.22.06/XROOTD-prefix/src/XROOTD/src/XrdPosix/XrdPosix.cc:563:27: error: ‘_STAT_VER’ was not declared in this scope; 563 | ? Xunix.Lstat64(_STAT_VER, path, (struct stat64 *)buf); | ^~~~~~~~~; /opt/root/build-root-6.22.06/XROOTD-prefix/src/XROOTD/src/XrdPosix/XrdPosix.cc: In function ‘int XrdPosix_Stat(const char*, stat*)’:; /opt/root/build-root-6.22.06/XROOTD-prefix/src/XROOTD/src/XrdPosix/XrdPosix.cc:891:26: error: ‘_STAT_VER’ was not declared in this scope; 891 | ? Xunix.Stat64(_STAT_VER, path, (struct stat64 *)buf); | ^~~~~~~~~; make[5]: *** [src/CMakeFiles/XrdPosixPreload.dir/build.make:108: src/CMakeFiles/XrdPosixPreload.dir/XrdPosix/XrdPosix.cc.o] Error 1; make[4]: *** [CMakeFiles/Makefile2:1838: src/CMakeFiles/XrdPosixPreload.dir/all] Error 2; make[3]: *** [Makefile:149: all] Error 2. I [disabled xrootd](https://root-forum.cern.ch/t/build-problem-with-xrootd-on-root-v6-22-00/40255/7) as was suggested on the forum with. cmake -Dxrootd=OFF -Dbuiltin_xrootd=OFF <source_dir>. ### Expected behavior; `xrootd` should compile or, if it's not needed, be optional (not default). I'm not sure whether I need that. ### To Reproduce; 1. Download and unpack a source .tar.gz, create and cd the build directory.; 2. cmake --build . --target install -- -j15. ### Setup; 1. 6.22.06; 2. Arch Linux.; 3. Source package from site, root_v6.22.06.source.tar.gz . ### Additional context; There exist reports on xrootd, but not connected to this variable.; I have to say that I failed to compile without xrootd, but it is probably another issue.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7292:2610,install,install,2610,https://root.cern,https://github.com/root-project/root/issues/7292,1,['install'],['install']
Deployability,rc/math/matrix/src/TVectorT.cxx:1501; 2: Calling default constructor for 'TMatrixTBase<double>' in /opt/root_src/math/matrix/inc/TMatrixT.h:61; 3: Calling default constructor for 'TObject' in /opt/root_src/math/matrix/inc/TMatrixTBase.h:115; 4: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 5: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 6: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Calling constructor for 'TMatrixT<double>' in /opt/root_src/math/matrix/src/TMatrixT.cxx:1378; 2: Calling default constructor for 'TMatrixTBase<double>' in /opt/root_src/math/matrix/inc/TMatrixT.h:69; 3: Calling default constructor for 'TObject' in /opt/root_src/math/matrix/inc/TMatrixTBase.h:115; 4: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 5: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 6: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Assuming field 'fTerminated' is false in /opt/root_src/net/http/src/THttpServer.cxx:792; 2: Taking false branch in /opt/root_src/net/http/src/THttpServer.cxx:792; 3: Assuming the condition is true in /opt/root_src/net/http/src/THttpServer.cxx:797; 4: Left side of '||' is true in /opt/root_src/net/http/src/THttpServer.cxx:797; 5: Calling 'THttpServer::ExecuteWS' in /opt/root_src/net/http/src/THttpServer.cxx:798; 6: Field 'fTerminated' is false in /opt/root_src/net/http/src/THttpServer.cxx:1104; 7: Taking false branch in /opt/root_src/net/http/src/THttpServer.cxx:1104; 8: Assuming 'handler' is non-null in ,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:56368,Update,UpdateIsOnHeap,56368,https://root.cern,https://github.com/root-project/root/issues/7412,1,['Update'],['UpdateIsOnHeap']
Deployability,rc/roofit/roostats/src/ConfidenceBelt.cxx:176; 2: Left side of '||' is false in /opt/root_src/roofit/roostats/src/ConfidenceBelt.cxx:176; 3: Assuming 'leftside' is <= 0 in /opt/root_src/roofit/roostats/src/ConfidenceBelt.cxx:176; 4: Taking false branch in /opt/root_src/roofit/roostats/src/ConfidenceBelt.cxx:176; 5: Taking false branch in /opt/root_src/roofit/roostats/src/ConfidenceBelt.cxx:181; 6: 'hist' is non-null in /opt/root_src/roofit/roostats/src/ConfidenceBelt.cxx:185; 7: Taking true branch in /opt/root_src/roofit/roostats/src/ConfidenceBelt.cxx:185; 8: Assuming the condition is false in /opt/root_src/roofit/roostats/src/ConfidenceBelt.cxx:194; 9: Taking false branch in /opt/root_src/roofit/roostats/src/ConfidenceBelt.cxx:194; 10: Calling constructor for 'SamplingSummary' in /opt/root_src/roofit/roostats/src/ConfidenceBelt.cxx:197; 11: Calling default constructor for 'TObject' in /opt/root_src/roofit/roostats/inc/RooStats/ConfidenceBelt.h:126; 12: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 13: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 14: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Calling constructor for 'TMatrixT<float>' in /opt/root_src/tmva/tmva/src/DNN/Architectures/Cpu/CpuBuffer.cxx:112; 2: Calling default constructor for 'TMatrixTBase<float>' in /opt/root_src/math/matrix/inc/TMatrixT.h:69; 3: Calling default constructor for 'TObject' in /opt/root_src/math/matrix/inc/TMatrixTBase.h:115; 4: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 5: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 6: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:74670,Update,UpdateIsOnHeap,74670,https://root.cern,https://github.com/root-project/root/issues/7412,1,['Update'],['UpdateIsOnHeap']
Deployability,rc/sw/osx_arm64/AliEn-Runtime/v2-19-le-local1/lib:/Users/ktf/src/sw/osx_arm64/UUID/v2.27.1-local1/lib:/Users/ktf/src/sw/osx_arm64/ApMon-CPP/master-local1/lib:/Users/ktf/src/sw/osx_arm64/AliEn-CAs/v1-local1/lib:/Users/ktf/src/sw/osx_arm64/arrow/v17.0.0-alice6-local1/lib:/Users/ktf/src/sw/osx_arm64/re2/2019-09-01-local1/lib:/Users/ktf/src/sw/osx_arm64/double-conversion/v3.1.5-local1/lib:/Users/ktf/src/sw/osx_arm64/RapidJSON/v1.1.0-alice2-local1/lib:/Users/ktf/src/sw/osx_arm64/flatbuffers/v24.3.25-local1/lib:/Users/ktf/src/sw/osx_arm64/ninja/fortran-v1.11.1.g9-local1/lib:/Users/ktf/src/sw/osx_arm64/xsimd/8.1.0-local1/lib:/Users/ktf/src/sw/osx_arm64/utf8proc/v2.6.1-local1/lib:/Users/ktf/src/sw/osx_arm64/protobuf/v21.9-local1/lib:/Users/ktf/src/sw/osx_arm64/boost/v1.83.0-alice2-local1/lib:/Users/ktf/src/sw/osx_arm64/alibuild-recipe-tools/0.2.5-local1/lib:/Users/ktf/src/sw/osx_arm64/lzma/v5.2.3-local1/lib:/Users/ktf/src/sw/osx_arm64/defaults-release/v1-local1/lib /Users/ktf/src/sw/BUILD/7aa97d0224e628a02dfa9bddf88351f532b5c298/ROOT/core/rootcling_stage1/src/rootcling_stage1 -v2 -f G__Core.cxx -cxxmodule -s /Users/ktf/src/sw/BUILD/7aa97d0224e628a02dfa9bddf88351f532b5c298/ROOT/lib/libCore.so -excludePath /Users/ktf/src/sw/SOURCES/ROOT/alice-v6-32-04/0 -excludePath /Users/ktf/src/sw/BUILD/7aa97d0224e628a02dfa9bddf88351f532b5c298/ROOT/ginclude -excludePath /Users/ktf/src/sw/BUILD/7aa97d0224e628a02dfa9bddf88351f532b5c298/ROOT/externals -excludePath /Users/ktf/src/sw/BUILD/7aa97d0224e628a02dfa9bddf88351f532b5c298/ROOT/builtins -writeEmptyRootPCM -m _Builtin_intrinsics -mByproduct _Builtin_intrinsics -mByproduct ROOT_Foundation_Stage1_NoRTTI -mByproduct ROOT_Foundation_C -mByproduct ROOT_Rtypes -DR__ARC4_STDLIB -D__STDC_NO_COMPLEX__ -D__COMPLEX_H__ -D_COMPLEX_H -D__CLANG_STDATOMIC_H -compilerI/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX15.0.sdk/usr/include/c++/v1 -compilerI/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDe,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/16449:2282,release,release,2282,https://root.cern,https://github.com/root-project/root/issues/16449,1,['release'],['release']
Deployability,"rch in; * [GitHub](https://github.com/root-project/root/issues?q=is%3Aissue); * AND [Jira](https://sft.its.cern.ch/jira/issues/?jql=project %3D ROOT); for existing reports of your issue. If you find one, you are very welcome to add to the existing report, for instance ""issue still exists in today's master"".; -->. ### Describe the bug. In https://github.com/Homebrew/homebrew-core/pull/75166, macOS 10.14 and 10.15 can't build due to a signbit issue. . ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->. Should build? :). ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->. I don't have a 10.14 or 10.15 machine to test on, if I did, this should do it:. ```bash; cd /usr/local/Homebrew/Library/Taps/homebrew/homebrew-core; gh pr checkout 75166; brew install --build-from-source root; ```. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->. ROOT 6.24.00, macOS < 11, C++17 mode. ### Additional context; <!--; Add any other context about the problem here.; -->. Full error:. ```; While building module 'Core':; While building module 'std' imported from input_line_1:1:; In file included from <module-includes>:31:; In file included from /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/complex.h:28:; In file included from /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/ccomplex:20:; In file included from /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/complex:245:; /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7881:1076,install,install,1076,https://root.cern,https://github.com/root-project/root/issues/7881,1,['install'],['install']
Deployability,"re.cxx:20:; /opt/root/install/include/RooExpPoly.h:37:17: note: declared protected here; 37 | RooRealProxy _x;; | ^~; /opt/root/src/roofit/hs3/src/JSONFactories_RooFitCore.cxx:448:27: error: no match for call to ‘(const RooRealProxy {aka const RooTemplateProxy<RooAbsReal>}) ()’; 448 | elem[""x""] << pdf->_x().GetName();; | ~~~~~~~^~; /opt/root/src/roofit/hs3/src/JSONFactories_RooFitCore.cxx:453:32: error: ‘int RooExpPoly::_lowestOrder’ is protected within this context; 453 | for (int i = 0; i < pdf->_lowestOrder(); ++i) {; | ^~~~~~~~~~~~; /opt/root/install/include/RooExpPoly.h:39:8: note: declared protected here; 39 | int _lowestOrder;; | ^~~~~~~~~~~~; /opt/root/src/roofit/hs3/src/JSONFactories_RooFitCore.cxx:453:44: error: expression cannot be used as a function; 453 | for (int i = 0; i < pdf->_lowestOrder(); ++i) {; | ~~~~~~~~~~~~~~~~~^~; /opt/root/src/roofit/hs3/src/JSONFactories_RooFitCore.cxx:456:36: error: ‘RooListProxy RooExpPoly::_coefList’ is protected within this context; 456 | for (const auto &coef : pdf->_coefList()) {; | ^~~~~~~~~; /opt/root/install/include/RooExpPoly.h:38:17: note: declared protected here; 38 | RooListProxy _coefList;; | ^~~~~~~~~; /opt/root/src/roofit/hs3/src/JSONFactories_RooFitCore.cxx:456:45: error: no match for call to ‘(const RooListProxy {aka const RooCollectionProxy<RooArgList>}) ()’; 456 | for (const auto &coef : pdf->_coefList()) {; | ~~~~~~~~~~~~~~^~; make[2]: *** [roofit/hs3/CMakeFiles/RooFitHS3.dir/build.make:132: roofit/hs3/CMakeFiles/RooFitHS3.dir/src/JSONFactories_RooFitCore.cxx.o] Error 1; make[1]: *** [CMakeFiles/Makefile2:44184: roofit/hs3/CMakeFiles/RooFitHS3.dir/all] Error 2; make[1]: *** Waiting for unfinished jobs....; ```. Commented the body of the whole function. Got another error. ```; /opt/root/src/roofit/hs3/src/JSONFactories_RooFitCore.cxx: In member function ‘virtual bool {anonymous}::RooExpPolyStreamer::exportObject(RooJSONFactoryWSTool*, const RooAbsArg*, RooFit::Detail::JSONNode&) const’:; /opt/root/src/ro",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13101:3371,install,install,3371,https://root.cern,https://github.com/root-project/root/issues/13101,1,['install'],['install']
Deployability,"re\G__Core.vcxproj]; !_Is_implicitly_default_constructible<_Uty1>::value || !_Is_implicitly_default_constructible<_Uty2>::value); ^; C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\\include\utility(137,9): error GC66A3811: expected ')' [C:\Users\sftnight\build\release\core\G__Core.vcxproj]; C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\\include\utility:136:23: note: to match this '('; constexpr explicit(; ^; C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\\include\utility(218,24): error G08EB1F86: expected member name or ';' after declaration specifiers [C:\Users\sftnight\build\release\core\G__Core.vcxproj]; constexpr explicit(!is_convertible_v<const _Other1&, _Ty1> || !is_convertible_v<const _Other2&, _Ty2>); ~~~~~~~~~~~~~~~~~~ ^; C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\\include\utility(218,24): error GC66A3811: expected ')' [C:\Users\sftnight\build\release\core\G__Core.vcxproj]; C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\\include\utility:218:23: note: to match this '('; constexpr explicit(!is_convertible_v<const _Other1&, _Ty1> || !is_convertible_v<const _Other2&, _Ty2>); ^; In file included from input_line_5:1:; In file included from C:/Users/sftnight/build/release/include\Rtypes.h:191:; In file included from C:/Users/sftnight/build/release/include/TGenericClassInfo.h:21:; In file included from C:/Users/sftnight/build/release/include/TSchemaHelper.h:17:; In file included from C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\\include\string:11:; In file included from C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\\include\xstring:14:; In file included from C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\\include\xmemory:16:; C:\Program",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6143:2263,release,release,2263,https://root.cern,https://github.com/root-project/root/pull/6143,2,['release'],['release']
Deployability,"reak the existing documentation nor do add new warnings to it. You can still build the documentation as an external project, like is done now. ## Status. Draft, still work to do on the notebook / tutorial part. ## History. This supersedes the old PR https://github.com/root-project/root/pull/9966 that I just closed. The goals were:. - [x] Migrate old Makefile to modern CMake. See https://github.com/root-project/root/issues/9090; - [x] Allow building the documentation from a git source repository with read-only permissions. I.e. try to not pollute the sources within the process. This follows the Make to CMake migration philosophy. See https://github.com/root-project/root/issues/8947; - [x] As done by [ALICE](https://github.com/AliceO2Group/Monitoring/blob/dev/doc/CMakeLists.txt#L22), use a 'dynamic' Doxyfile declaration, that only specifies what needs to be changed with respect to the default one. This makes easier the maintenance, as you do not need to constantly update the Doxyfile when a new doxygen version arises, and prevents warnings when running in older doxygen versions. This will hopefully contribute to next point:; - [ ] https://github.com/root-project/root/issues/9953 in combination with https://github.com/ammaraskar/gcc-problem-matcher; - [ ] Allow in the future for automatic meta-documentation of the CMake flag system. See https://github.com/root-project/root/issues/8999; - [x] Potentially add a flag in the main ROOT CMakeLists.txt, to enable the building of the documentation via a normal ""add_subdirectory()"", so that one does not need to build as a separate process.; - [x] Make the doxygen documentation thread-safe; - [x] Don't let doxygen search for ""input"" files in the output directory (e.g. it looks now for Mathjax output files that one just ""generated""). ## Checklist:. - [x] tested changes locally; - [ ] We would need to update https://github.com/root-project/web/blob/main/for_developers/doxygen/index.md; - [x] Update rootspi scripts to build docu in ",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15160:1201,update,update,1201,https://root.cern,https://github.com/root-project/root/pull/15160,1,['update'],['update']
Deployability,"reamerInfoActions.h:123); [1965517:tpc-tracker]: ==1965517== by 0xF36DE4B: ApplySequence (TBufferFile.cxx:3670); [1965517:tpc-tracker]: ==1965517== by 0xF36DE4B: TBufferFile::ApplySequence(TStreamerInfoActions::TActionSequence const&, void*) (TBufferFile.cxx:3661); [1965517:tpc-tracker]: ==1965517== by 0xF376CEB: TBufferFile::ReadClassBuffer(TClass const*, void*, TClass const*) (TBufferFile.cxx:3598); [1965517:tpc-tracker]: ==1965517== by 0xF3F4633: Streamer (TClass.h:614); [1965517:tpc-tracker]: ==1965517== by 0xF3F4633: TKey::ReadObjectAny(TClass const*) (TKey.cxx:1120); [1965517:tpc-tracker]: ==1965517== by 0xF3B82E3: TDirectoryFile::GetObjectChecked(char const*, TClass const*) (TDirectoryFile.cxx:1111); [1965517:tpc-tracker]: ==1965517== Address 0x153fbb81 is 1 bytes after a block of size 1,440 alloc'd; [1965517:tpc-tracker]: ==1965517== at 0x4868908: operator new(unsigned long) (vg_replace_malloc.c:483); [1965517:tpc-tracker]: ==1965517== by 0x60E5D1F: allocate (new_allocator.h:137); [1965517:tpc-tracker]: ==1965517== by 0x60E5D1F: allocate (allocator.h:188); [1965517:tpc-tracker]: ==1965517== by 0x60E5D1F: allocate (alloc_traits.h:464); [1965517:tpc-tracker]: ==1965517== by 0x60E5D1F: _M_allocate (stl_vector.h:378); [1965517:tpc-tracker]: ==1965517== by 0x60E5D1F: _M_allocate (stl_vector.h:375); [1965517:tpc-tracker]: ==1965517== by 0x60E5D1F: std::vector<o2::tpc::PadFlags, std::allocator<o2::tpc::PadFlags> >::_M_default_append(unsigned long) (vector.tcc:650); [1965517:tpc-tracker]: ==1965517== by 0xF3E5797: void TGenCollectionStreamer::ReadBufferVectorPrimitives<int>(TBuffer&, void*, TClass const*) (TGenCollectionStreamer.cxx:1176); [1965517:tpc-tracker]: ==1965517== by 0xF36EC7B: Streamer (TClass.h:614); ```. ### Reproducer. I do not have one which does not involve running ALICE reconstruction on ARM. ### ROOT version. 6.32.02. ### Installation method. aliBuild. ### Operating system. ALMA Linux 9 on ARM64 (Ampere Altra). ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/16312:13062,Install,Installation,13062,https://root.cern,https://github.com/root-project/root/issues/16312,1,['Install'],['Installation']
Deployability,"rectories exiting only in the node where the build was done. The problem is that ACliC uses these locations in the invocation of the compiler and fails because they do not exists or wrong protections at the runtime. ```; -I$ROOTSYS/include; -I""/cvmfs/sft.cern.ch/lcg/views/LCG_101arm/aarch64-centos7-gcc8-opt/include/Geant4""; -I""/cvmfs/sft.cern.ch/lcg/views/LCG_101arm/aarch64-centos7-gcc8-opt/include""; -I""/cvmfs/sft.cern.ch/lcg/releases/Python/3.9.6-b0f98/aarch64-centos7-gcc8-opt/include/python3.9""; -I""/cvmfs/sft.cern.ch/lcg/releases/ROOT/6.24.06-f0308/aarch64-centos7-gcc8-opt/etc/""; -I""/cvmfs/sft.cern.ch/lcg/releases/ROOT/6.24.06-f0308/aarch64-centos7-gcc8-opt/etc//cling""; -I""/cvmfs/sft.cern.ch/lcg/releases/ROOT/6.24.06-f0308/aarch64-centos7-gcc8-opt/include/""; -I""/cvmfs/sft.cern.ch/lcg/releases/Python/3.9.6-b0f98/aarch64-centos7-gcc8-opt/include""; -I""/home/sftnight/build/workspace/lcg_release_pipeline/build/projects/ROOT-6.24.06/src/ROOT-6.24.06-build/include""; -I""/data/sftnight/build/workspace/lcg_release_pipeline/install/Vc/1.4.2/aarch64-centos7-gcc8-opt/include""; -I""/data/sftnight/build/workspace/lcg_release_pipeline/install/zlib/1.2.11/aarch64-centos7-gcc8-opt/include""; -I""/data/sftnight/build/workspace/lcg_release_pipeline/install/jsonmcpp/3.9.1/aarch64-centos7-gcc8-opt/include""; -I""/home/sftnight/build/workspace/lcg_release_pipeline/build/projects/ROOT-6.24.06/src/ROOT-6.24.06-build/include/""; -I""/data/sftnight/build/workspace/lcg_release_pipeline/install/tbb/2020_U2/aarch64-centos7-gcc8-opt/include""'; ```; The first three elements are directly the contents of `$ROOT_INCLUDE_PATH` which in the that setup, which is . ```; $ echo $ROOT_INCLUDE_PATH; /cvmfs/sft.cern.ch/lcg/views/LCG_101arm/aarch64-centos7-gcc8-opt/include/Geant4:/cvmfs/sft.cern.ch/lcg/views/LCG_101arm/aarch64-centos7-gcc8-opt/include:/cvmfs/sft.cern.ch/lcg/releases/Python/3.9.6-b0f98/aarch64-centos7-gcc8-opt/include/python3.9; ```; ### To Reproduce; On an ARM64 system with CVMFS ; ```; $ source /c",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/9243:1175,install,install,1175,https://root.cern,https://github.com/root-project/root/issues/9243,1,['install'],['install']
Deployability,refactor: changed print statements to use a newer style of string formatting. Back compatible with 2.7. # This Pull request:. ## Changes or fixes:. ## Checklist:. - [x] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9591:199,update,updated,199,https://root.cern,https://github.com/root-project/root/pull/9591,1,['update'],['updated']
Deployability,release notes about jsroot location,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3604:0,release,release,0,https://root.cern,https://github.com/root-project/root/pull/3604,1,['release'],['release']
Deployability,release notes about new graf2d features,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4301:0,release,release,0,https://root.cern,https://github.com/root-project/root/pull/4301,1,['release'],['release']
Deployability,"rent type for sentinel if it models unbounded `iota_view`. Anyway, detailed description is not really necessary because the fix is really simple and intuitive. #### Input line; ```c++; vccc::views::iota(10) | vccc::views::take(4); ```; #### Output; ```c++; In file included from input_line_11:1:; In file included from /Users/yonggyulee/Documents/GitHub/lackhole/xeus-cling/install/include/xcpp/xmime.hpp:16:; /usr/local/include/cling/Interpreter/RuntimePrintValue.h:224:7: error: 'auto' deduced as 'counted_iterator<I>' (aka 'counted_iterator<vccc::ranges::iota_view<int, vccc::unreachable_sentinel_t>::iterator>') in declaration of 'iter' and deduced as 'sentinel<true>' in declaration of 'iterEnd'; auto iter = obj->begin(), iterEnd = obj->end();; ^ ~~~~~~~~~~~~ ~~~~~~~~~~; /usr/local/include/cling/Interpreter/RuntimePrintValue.h:241:39: note: in instantiation of function template specialization 'cling::collectionPrinterInternal::printValue_impl<vccc::ranges::take_view<vccc::ranges::iota_view<int>>>' requested here; return collectionPrinterInternal::printValue_impl(obj);; ^; /Users/yonggyulee/Documents/GitHub/lackhole/xeus-cling/install/include/xcpp/xmime.hpp:49:39: note: in instantiation of function template specialization 'cling::printValue<vccc::ranges::take_view<vccc::ranges::iota_view<int>>>' requested here; bundle[""text/plain""] = cling::printValue(&value);; ^; input_line_24:2:2: note: in instantiation of function template specialization 'xcpp::mime_bundle_repr<vccc::ranges::take_view<vccc::ranges::iota_view<int>>>' requested here; mime_bundle_repr(*(*(vccc::ranges::take_view<vccc::ranges::iota_view<int, vccc::unreachable_sentinel_t>>**)0x7ff7b1808090));; ```. #### Fix; Just fixing the two lines of code would work.; https://github.com/lackhole/root/commit/9371e52a2403b173c3bdbc43fc045b2294812ad9. ### ROOT version. Latest (6.30.04). ### Installation method. Pre-built binary from the official website. ### Operating system. MacOS Sonoma 14.3.1. ### Additional context. Is",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14966:1898,install,install,1898,https://root.cern,https://github.com/root-project/root/issues/14966,1,['install'],['install']
Deployability,"resolves #12268; resolves #12267. [skip-ci]. I did big changes to the python script so bundling macOS and windows to a single PR makes thing easier. ## Main changes:; - Adds macOS 13 builds (ARM64); - Adds Windows 10 builds (x64, x86). ## Minor fixes:; - Disable running script as root; - Use non-root user inside containers. ## Checklist:. - [x] tested changes locally; - [ ] updated the docs (if necessary)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12539:377,update,updated,377,https://root.cern,https://github.com/root-project/root/pull/12539,1,['update'],['updated']
Deployability,"rg/artexternals/root/v6_28_06b/Linux64bit+3.10-2.17-e28-p3915-prof/lib/libCling.so.6.28.06); ==201374== by 0xF29824CD: GetClassSharedLibsForModule (TCling.cxx:6957); ==201374== by 0xF29824CD: TCling::GetClassSharedLibs(char const*) (TCling.cxx:7061); ==201374== by 0xF2965186: TCling::ShallowAutoLoadImpl(char const*) (TCling.cxx:6119); ==201374== by 0xF2983220: TCling::DeepAutoLoadImpl(char const*, std::unordered_set<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > >&, bool) (TCling.cxx:6172); ==201374== by 0xF2983743: TCling::AutoLoad(char const*, bool) (TCling.cxx:6284); ==201374== by 0xF29838A5: TCling::AutoLoad(std::type_info const&, bool) (TCling.cxx:6103); ==201374== by 0x14EB2D47: TClass::GetClass(std::type_info const&, bool, bool, unsigned long, unsigned long) (TClass.cxx:3316); ==201374== by 0x139AA957: GetClass (TClass.h:628); ==201374== by 0x139AA957: GetClassHelper<std::tuple<char const*> > (TClass.h:644); ==201374== by 0x139AA957: GetClass<std::tuple<char const*> > (TClass.h:654); ==201374== by 0x139AA957: long TPluginHandler::ExecPluginImpl<char const*>(char const* const&) (TPluginManager.h:175); ==201374== by 0x139A9B5C: ExecPlugin<char const*> (TPluginManager.h:218); ==201374== by 0x139A9B5C: ROOT::Math::Factory::CreateMinimizer(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (Factory.cxx:100); ```. ### Reproducer. See https://github.com/art-framework-suite/art/issues/142. ### ROOT version. master, v6.30, v6.28. ### Installation method. from source. ### Operating system. All. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14199:3267,Install,Installation,3267,https://root.cern,https://github.com/root-project/root/issues/14199,1,['Install'],['Installation']
Deployability,rguments: /Users/josiahlee/WORK/Tools/root_build_release/core/rootcling_stage1/src/rootcling_stage1 -v2 -f G__Core.cxx -cxxmodule -s /Users/josiahlee/WORK/Tools/root_build_release/lib/libCore.so -excludePath /Users/josiahlee/WORK/Tools/root-6.32.04 -excludePath /Users/josiahlee/WORK/Tools/root_build_release/ginclude -excludePath /Users/josiahlee/WORK/Tools/root_build_release/externals -excludePath /Users/josiahlee/WORK/Tools/root_build_release/builtins -writeEmptyRootPCM -m _Builtin_intrinsics -mByproduct _Builtin_intrinsics -mByproduct ROOT_Foundation_Stage1_NoRTTI -mByproduct ROOT_Foundation_C -mByproduct ROOT_Rtypes -DR__ARC4_STDLIB -D__STDC_NO_COMPLEX__ -D__COMPLEX_H__ -D_COMPLEX_H -D__CLANG_STDATOMIC_H -compilerI/Users/josiahlee/WORK/Tools/GEANT/install/include -compilerI/Users/josiahlee/WORK/Tools/clhep_install/include -compilerI/opt/homebrew/opt/libomp/include -compilerI/opt/homebrew/opt/open-mpi/include -compilerI/Users/josiahlee/WORK/Tools/xerces-c-3.2.4-install/include -compilerI/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX15.0.sdk/usr/include/c++/v1 -compilerI/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/16/include -compilerI/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX15.0.sdk/usr/include -compilerI/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/include -compilerI/Users/josiahlee/WORK/Tools/GEANT/install/include -compilerI/Users/josiahlee/WORK/Tools/clhep_install/include -compilerI/opt/homebrew/opt/libomp/include -compilerI/opt/homebrew/opt/open-mpi/include -compilerI/Users/josiahlee/WORK/Tools/xerces-c-3.2.4-install/include -compilerI/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/16/include -compilerI/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX15.0.sdk/usr/include -compilerI/Applications/Xcode.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/16498:11242,install,install,11242,https://root.cern,https://github.com/root-project/root/issues/16498,1,['install'],['install']
Deployability,"rial which shows the use of the new VoigtRelativistic class two produce two plots, comparing relativistic voigt to non relativistic voigt, both as the voigt itself and their dumping functions.; Files modified:; math/mathmore/CMakeLists.txt; math/mathmore/inc/Math/LinkDef.h - These two files needed to be modified to compile my changes adding in the relativisitc voigt. **Full description**; Implemented relativistic version of voigt (non-relativistic case already exists in TMath). As previously discussed in the ROOT forum https://root-forum.cern.ch/t/relativistic-breit-wigner-and-relativistic-voigt/48844 , the relativistic version has been added to mathmore rather than TMath, as it requires including a header file with an integrator which is CPU intensive. This has hence been added as it's own class in mathmore, with two functions:. static double evaluate(double x, double median, double sigma, double lg, double integrationRange=26.615717509251260);; static double dumpingFunction(double median, double sigma, double lg, double integrationRange=26.615717509251260);. The default integrationRange was chosen as the integral has been wrote in a form where it is multiplied by exp(-t^2), and this value of integrationRange results in going to the point where exp(-t^2) reaches the minimum value stored by a double. A relativistic voigt is a convolution of a relativistic breit wigner and a gaussian, doing this naively is computationally infeasible however a fairly simple redefinition of variables allows rewriting the integral in a form that is reasonable to compute. This is shown in https://arxiv.org/pdf/1711.09304.pdf equation 9 which has been used here. I am unsure how referencing works with ROOT. [Note: the function used here is not actually identical to equation 9, as the paper linked uses a different normalization than ROOT does for the non relativistic voigt which is already implemented in TMath. I have renormalized this equation to be consistent with the non relativistic cas",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11049:1832,integrat,integrationRange,1832,https://root.cern,https://github.com/root-project/root/pull/11049,1,['integrat'],['integrationRange']
Deployability,"riptorBuilder&)>: Pre-release format version: RC 1; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experimental::Internal::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNTupleDescriptorBuilder&)>: Pre-release format version: RC 1; [ OK ] RNTuple.Casting (12 ms); [ RUN ] RNTuple.TClass; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RPageStorageFile.cxx:51 in ROOT::Experimental::Detail::RPageSinkFile::RPageSinkFile(std::string_view, const ROOT::Experimental::RNTupleWriteOptions&)>: The RNTuple file format will change. Do not store real data with this version of RNTuple!; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experimental::Internal::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNTupleDescriptorBuilder&)>: Pre-release format version: RC 1; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experimental::Internal::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNTupleDescriptorBuilder&)>: Pre-release format version: RC 1; [ OK ] RNTuple.TClass (119 ms); [ RUN ] RNTuple.TClassMultipleInheritance; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RPageStorageFile.cxx:51 in ROOT::Experimental::Detail::RPageSinkFile::RPageSinkFile(std::string_view, const ROOT::Experimental::RNTupleWriteOptions&)>: The RNTuple file format will change. Do not store real data with this version of RNTuple!; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12428:5315,release,release,5315,https://root.cern,https://github.com/root-project/root/issues/12428,1,['release'],['release']
Deployability,"rity-and-quality` query suite](https://docs.github.com/en/code-security/code-scanning/automatically-scanning-your-code-for-vulnerabilities-and-errors/configuring-code-scanning#using-queries-in-ql-packs) for you. #### How do I upgrade my CodeQL engine?; No need! New versions of the CodeQL analysis are constantly deployed on GitHub.com; your repository will automatically benefit from the most recently released version. #### The analysis doesn’t seem to be working; If you get an error in GitHub Actions that indicates that CodeQL wasn’t able to analyze your code, please [follow the instructions here](https://docs.github.com/en/code-security/code-scanning/automatically-scanning-your-code-for-vulnerabilities-and-errors/troubleshooting-the-codeql-workflow) to debug the analysis. #### How do I disable LGTM.com?; If you have LGTM’s automatic pull request analysis enabled, then you can [follow these steps to disable the LGTM pull request analysis](https://lgtm.com/help/lgtm/managing-automated-code-review#disabling-pr-integration). You don’t actually need to remove your repository from LGTM.com; it will automatically be removed in the next few months as part of the deprecation of LGTM.com ([more info here](https://github.blog/2022-08-15-the-next-step-for-lgtm-com-github-code-scanning/)). #### Which source code hosting platforms does code scanning support?; GitHub code scanning is deeply integrated within GitHub itself. If you’d like to scan source code that is hosted elsewhere, we suggest that you create a mirror of that code on GitHub. #### How do I know this PR is legitimate?; This PR is filed by the official LGTM.com GitHub App, in line with the [deprecation timeline that was announced on the official GitHub Blog](https://github.blog/2022-08-15-the-next-step-for-lgtm-com-github-code-scanning/). The proposed GitHub Action workflow uses the [official open source GitHub CodeQL Action](https://github.com/github/codeql-action/). If you have any other questions or concerns, please",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11808:4021,integrat,integration,4021,https://root.cern,https://github.com/root-project/root/pull/11808,1,['integrat'],['integration']
Deployability,"rnal/slc7_amd64_gcc900/lib/libCling.so; #21 0x00002b8fcf5ecf42 in clang::Parser::ParseExternalDeclaration(clang::Parser::ParsedAttributesWithRange&, clang::ParsingDeclSpec*) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #22 0x00002b8fcf5ed399 in clang::Parser::ParseTopLevelDecl(clang::OpaquePtr<clang::DeclGroupRef>&) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #23 0x00002b8fcef7c0e6 in cling::IncrementalParser::ParseInternal(llvm::StringRef) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #24 0x00002b8fcef7dfed in cling::IncrementalParser::Compile(llvm::StringRef, cling::CompilationOptions const&) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #25 0x00002b8fceee6852 in cling::Interpreter::DeclareInternal(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, cling::CompilationOptions const&, cling::Transaction**) const () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #26 0x00002b8fceee69fa in cling::Interpreter::declare(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, cling::Transaction**) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #27 0x00002b8fceee79e1 in cling::Interpreter::DeclareCFunction(llvm::StringRef, llvm::StringRef, bool, cling::Transaction*&) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/li",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7093:9508,patch,patch,9508,https://root.cern,https://github.com/root-project/root/issues/7093,1,['patch'],['patch']
Deployability,"rnal::isolate_within_arena(tbb::interface7::internal::delegate_base&, long)'; /work1/celeritas/pcanal/geant-public/gcc12/install/opt/lib/libImt.so: undefined reference to `tbb::interface7::internal::task_arena_base::internal_max_concurrency(tbb::interface7::task_arena const*)'; /work1/celeritas/pcanal/geant-public/gcc12/install/opt/lib/libImt.so: undefined reference to `tbb::interface9::global_control::active_value(int)'; /work1/celeritas/pcanal/geant-public/gcc12/install/opt/lib/libImt.so: undefined reference to `tbb::interface7::internal::task_arena_base::internal_terminate()'; /work1/celeritas/pcanal/geant-public/gcc12/install/opt/lib/libImt.so: undefined reference to `tbb::interface7::internal::task_arena_base::internal_initialize()'; /work1/celeritas/pcanal/geant-public/gcc12/install/opt/lib/libImt.so: undefined reference to `tbb::interface7::internal::task_arena_base::internal_execute(tbb::interface7::internal::delegate_base&) const; ```. Notes. * Adding the `libtbb` installed by ROOT explicitly solves the problem.; * doing `ldd` on `libImt` prints the expected path for `libtbb`; * re-doing the failing link with `LD_LIBRARY_PATH` containing the directory where the builtin `libtbb` is solved the problem; * redoing the failing link adding to `-Wl,-rpath-link,` the directory where the builtin `libtbb` is solved the problem ; * The main difference is that when linking `libImt` with builtin the link line uses `-ltbb` while when linking against an external `tbb` it list the full pathname of the library (while the ROOT library use a relative path). So the problem is might be either that; * we use `-ltbb` for the buitin; * the CMake fragment used by the dependent product does not add the ROOT library path to `rpath` (in contrast both Geant4 and VecGeom add their path to rpath or so it seems. ### Reproducer. build ROOT with buitin tbb; build Celeritas against that ROOT install. ### ROOT version. at least v6.28/04 and master. ### Installation method. hand build. ### Oper",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13079:1336,install,installed,1336,https://root.cern,https://github.com/root-project/root/issues/13079,1,['install'],['installed']
Deployability,"rnalSemaSource::FindExternalVisibleDeclsByName(clang::DeclContext const*, clang::DeclarationName) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #7 0x00002b8fd105c4ee in clang::DeclContext::lookup(clang::DeclarationName) const () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #8 0x00002b8fcfb18f77 in LookupDirect(clang::Sema&, clang::LookupResult&, clang::DeclContext const*) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #9 0x00002b8fcfb19a5a in CppNamespaceLookup(clang::Sema&, clang::LookupResult&, clang::ASTContext&, clang::DeclContext*, (anonymous namespace)::UnqualUsingDirectiveSet&) [clone .isra.0] () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #10 0x00002b8fcfb1c4f5 in clang::Sema::CppLookupName(clang::LookupResult&, clang::Scope*) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #11 0x00002b8fcfb1ca1d in clang::Sema::LookupName(clang::LookupResult&, clang::Scope*, bool) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #12 0x00002b8fcf87cf29 in clang::Sema::HandleDeclarator(clang::Scope*, clang::Declarator&, llvm::MutableArrayRef<clang::TemplateParameterList*>) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #13 0x00002b8fcf87fc2c in clang::Sema::ActOnStartOfFunctionDef(clang::Scope*, clang::Declarator&, llvm::MutableArrayRef<clang::TemplateParameterList*>, clang::Sem",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7093:5278,patch,patch,5278,https://root.cern,https://github.com/root-project/root/issues/7093,1,['patch'],['patch']
Deployability,"ro '__MATHDECL'; __MATHDECL_1(type, __CONCAT(__,function),suffix, args); ^; /usr/include/math.h:283:15: note: expanded from macro '__MATHDECL_1'; extern type __MATH_PRECNAME(function,suffix) args __THROW; ^; /usr/include/math.h:303:34: note: expanded from macro '__MATH_PRECNAME'; # define __MATH_PRECNAME(name,r) name##f##r; ^; <scratch space>:216:1: note: expanded from here; __expf; ^; cling: In file included from <built-in>:1:; In file included from /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_runtime_wrapper.h:148:; /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:195:10: error: reference to __device__ function '__nvvm_atom_add_gen_f' in __host__ function; return __nvvm_atom_add_gen_f(__p, __v);; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:195:10: note: '__nvvm_atom_add_gen_f' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:198:10: error: reference to __device__ function '__nvvm_atom_cta_add_gen_f' in __host__ function; return __nvvm_atom_cta_add_gen_f(__p, __v);; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:198:10: note: '__nvvm_atom_cta_add_gen_f' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:201:10: error: reference to __device__ function '__nvvm_atom_sys_add_gen_f' in __host__ function; return __nvvm_atom_sys_add_gen_f(__p, __v);; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:201:10: note: '__nvvm_atom_sys_add_gen_f' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:205:7: error: ",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7518:7560,install,install,7560,https://root.cern,https://github.com/root-project/root/issues/7518,1,['install'],['install']
Deployability,"rocessing ExampleMacro.C... RooFit v3.60 -- Developed by Wouter Verkerke and David Kirkby ; Copyright (C) 2000-2013 NIKHEF, University of California & Stanford University; All rights reserved, please read http://roofit.sourceforge.net/license.txt. [#1] INFO:NumericIntegration -- RooRealIntegral::init(func_Int[x]) using numeric integrator RooIntegrator1D to calculate Int(x). i, f(i), f(i+0.1), avg[i,i+0.1]. 10, 0.004, 0.00404, 0.00402; 10.1, 0.00404, 0.00408, 0.02456 <--; 10.2, 0.00408, 0.00412, 0.0041; 10.3, 0.00412, 0.00416, 0.02464 <--; 10.4, 0.00416, 0.0042, 0.00418; 10.5, 0.0042, 0.00424, 0.00422; 10.6, 0.00424, 0.00428, 0.02576 <--; 10.7, 0.00428, 0.00432, 0.0043; 10.8, 0.00432, 0.00436, 0.02584 <--; 10.9, 0.00436, 0.0044, 0.00438; 11, 0.0044, 0.00444, 0.00442; ```; ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->; ROOT Version: 6.24/06; Built for linuxx8664gcc; From tags/v6-24-06@v6-24-06; Installed manually within WSL Ubuntu 20.04. ### Additional context; <!--; Add any other context about the problem here.; -->; I first encountered this behaviour when calculating the chi^2 between a fitted RooCurve and data, where the data had bin sizes of 0.1, and the RooCurve was taking steps of 1. The chi^2 value of the RooCurve far exceeded what could be expected based on the fit residuals with respect to the data. Increasing the amount of curve points by increasing the precision of the `plotOn()` call resolved this issue. A potential fix for this bug could be to check to see if the `xFirstPt` and `xLastPt` used for averaging remain within the averaging interval when shifting them upwards or downwards, leading to inversion of the averaging boundaries. If this occurs taking the interpolated y-value at the violated boundary instead of the shifted value might resolve this issue.; Otherwise warning the user that this is occurring, and recommending increasing the precision used",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/9838:3105,Install,Installed,3105,https://root.cern,https://github.com/root-project/root/issues/9838,1,['Install'],['Installed']
Deployability,roduce. - Install dependencies via `apt`; - N.B. `python` and `python-dev` do not exist on Ubuntu22; use `python3` and `python-is-python3` instead; likewise `libglew1.5-dev` should now be `libglew-dev`; - Download and unpack `root_v6.26.10.Linux-ubuntu22-x86_64-gcc11.3.tar.gz` in `/opt`; - `cd /opt/root; source bin/thisroot.sh`; - Then I get the following:. ```; ➜ which root; /opt/root/bin/root; ➜ root; input_line_1:1:2: fatal error: module file '/home/sftnight/build/ws/BUILDTYPE/Release/LABEL/ROOT-ubuntu2204/V/6-26/build/lib/libc.pcm' not found: module file not found; #include <new>; ^; input_line_1:1:2: note: imported by module 'std' in '/opt/root/lib/std.pcm'; Warning in cling::IncrementalParser::CheckABICompatibility():; Failed to extract C++ standard library version.; Replaced symbol atexit cannot be found in JIT!; Replaced symbol at_quick_exit cannot be found in JIT!; Module libc not found.; Failed to load module std; <<< cling interactive line includer >>>: fatal error: module file '/home/sftnight/build/ws/BUILDTYPE/Release/LABEL/ROOT-ubuntu2204/V/6-26/build/lib/libc.pcm' not found: module file not found; <<< cling interactive line includer >>>: note: imported by module '_Builtin_intrinsics' in '/opt/root/lib/_Builtin_intrinsics.pcm'; Failed to load module _Builtin_intrinsics; Failed to load module ROOT_Foundation_C; Failed to load module ROOT_Rtypes; Failed to load module ROOT_Foundation_Stage1_NoRTTI; Failed to load module Core; Failed to load module Rint; Failed to load module RIO; Failed to load module MathCore; Failed to load module Hist; Failed to load module ROOTBrowsable; Failed to load module Unfold; Failed to load module RHTTPSniff; Failed to load module Imt; Failed to load module HistPainter; Failed to load module PyMVA; Failed to load module RDAVIX; Failed to load module RHTTP; Failed to load module FitPanel; Failed to load module ROOTVecOps; Failed to load module ProofDraw; Failed to load module RMySQL; Failed to load module Unuran; Failed to loa,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11901:1631,Release,Release,1631,https://root.cern,https://github.com/root-project/root/issues/11901,1,['Release'],['Release']
Deployability,"roject/root/blob/2cc4b70d2e2bd89d9b639c894b4e0558be47c22b/tree/tree/src/TChain.cxx#L1407-L1434; I will call the operation above an ""address refresh"". TChain has code triggering an address refresh when needed for friends of the current tree:; https://github.com/root-project/root/blob/2cc4b70d2e2bd89d9b639c894b4e0558be47c22b/tree/tree/src/TChain.cxx#L1384-L1393. Unfortunately this doesn't work for two reasons:; 1. The code cannot possibly be reached unless `c2` itself has friends because of the following condition:; https://github.com/root-project/root/blob/2cc4b70d2e2bd89d9b639c894b4e0558be47c22b/tree/tree/src/TChain.cxx#L1370; In our case `c2` doesn't have friends, but the `fTree` does. This is easy to fix (or work around).; 2. Even if `fFriends` is made non-null, `fetree->IsUpdated()` always returns `false` because `TTree::LoadTree` resets it:; https://github.com/root-project/root/blob/18b4f317b389fa7931d7eb8e00525f4dca44be0f/tree/tree/src/TTree.cxx#L6512; Fixing this is much more annoying. For [my application](https://gitlab.cern.ch/Proto/Darwin/-/merge_requests/44), I ended up subscribing to the `Notify` signal and calling `TFriendElement::MarkUpdated` again. This is only a partial solution because when `c2` loads a new file, it doesn't reset friend elements that were marked updated, which would happen somewhere along this line:; https://github.com/root-project/root/blob/2cc4b70d2e2bd89d9b639c894b4e0558be47c22b/tree/tree/src/TChain.cxx#L1666. ### Reproducer. Rename to `recursiveBugDemo.C` and run the following macro: [recursiveBugDemo.txt](https://github.com/user-attachments/files/17593622/recursiveBugDemo.txt). It works similarly to #16804 and should only print `true`. ### ROOT version. Seen in:. * ROOT 6.30/04 (anaconda); * ROOT 6.28/04 (LCG 104). I couldn't find any code change in master in the relevant areas. ### Installation method. anaconda and LCG 104. ### Operating system. Linux (CentOS 9, Ubuntu 22.04, Ubuntu 24.04). ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/16805:1951,update,updated,1951,https://root.cern,https://github.com/root-project/root/issues/16805,2,"['Install', 'update']","['Installation', 'updated']"
Deployability,"rom /opt/root_build/include/Rtypes.h:23:; In file included from <module-includes>:1:; /opt/root_build/include/RtypesCore.h:28:10: fatal error: could not build module 'std'; #include <cstddef> // size_t, NULL; ~~~~~~~~^; /opt/root_build/include/ThreadLocalStorage.h:60:10: fatal error: could not build module 'ROOT_Rtypes'; #include ""RtypesCore.h""; ~~~~~~~~^~~~~~~~~~~~~~; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /opt/root_build/include/Rtypes.h:195:; In file included from <module-includes>:2:; /opt/root_build/include/ROOT/RStringView.hxx:25:10: fatal error: could not build module 'std'; #include <string_view>; ~~~~~~~~^; Error: Error loading the default rootcling header files.; gmake[2]: *** [core/CMakeFiles/G__Core.dir/build.make:476: core/G__Core.cxx] Error 1; gmake[1]: *** [CMakeFiles/Makefile2:31578: core/CMakeFiles/G__Core.dir/all] Error 2; gmake[1]: ** Esperando que outros processos terminem.; [ 78%] Building CXX object core/metacling/src/CMakeFiles/MetaCling.dir/TClingValue.cxx.o; [ 78%] Built target MetaCling; gmake: *** [Makefile:156: all] Error 2; ```. ### Reproducer. ```; # The latest stable branch gets updated automatically on each release.; # You may update your local copy by issuing a `git pull` command from within `root_src/`.; $ git clone --branch latest-stable --depth=1 https://github.com/root-project/root.git root_src; $ mkdir root_build root_install && cd root_build; $ cmake -DCMAKE_INSTALL_PREFIX=../root_install ../root_src # && check cmake configuration output for warnings or errors; $ cmake --build . -- install -j4 # if you have 4 cores available for compilation; $ source ../root_install/bin/thisroot.sh # or thisroot.{fish,csh}; ```. ### ROOT version. Latest from github : `$ git clone --branch latest-stable --depth=1 https://github.com/root-project/root.git root_src`. ### Installation method. building from source . ### Operating system. linux fedora 38. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13450:3920,update,updated,3920,https://root.cern,https://github.com/root-project/root/issues/13450,6,"['Install', 'configurat', 'install', 'release', 'update']","['Installation', 'configuration', 'install', 'release', 'update', 'updated']"
Deployability,"root-project/root@72fe06a does not permit passing random options to rootcling; as improvement in encapsulation. Rootcling used to permit random flags usually; coming CXXFLAGS and it captured only -I, -D and -U. The old implementation; used to pass all flags directly to cling thus clang. This lead to allowing; the dictionaries to be compiled with incompatible to the rest of the build; flags. Some users passed their entire CXXFLAGS from the build systems and the current; rootcling implementation started to reject it breaking backward compatibility. This patch implements a sink for all unrecognized flags and issues a deprecation; message. Should address the rest of the concerns of ROOT-10303.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4356:558,patch,patch,558,https://root.cern,https://github.com/root-project/root/pull/4356,1,['patch'],['patch']
Deployability,"root.fish` sets `JUPYTER*` environment variables as follows:; ```; JUPYTER_PATH=ROOTSYS/etc/notebook; JUPYTER_CONFIG_DIR=ROOTSYS/etc/notebook; ```. Commit [0be8bbe](https://github.com/root-project/root/commit/0be8bbee9570776d17196b32c82db1d25c6e3530) has already corrected `ROOTSYS` with `$ROOTSYS` (i.e. `/usr/local`) but still the path is not correct considering that `gnuinstall=ON`. . <!--; A clear and concise description of what the wrong behavior is.; -->. ### Expected behavior; The correct environment variables would be; ```; JUPYTER_PATH=/usr/local/etc/root/notebook; JUPYTER_CONFIG_DIR=/usr/local/etc/root/notebook; ```; <!--; A clear and concise description of what you expected to happen.; -->. ### To Reproduce; 1. Build and install `latest-stable` branch; 2. Modify `/usr/local/bin/thisroot.fish` prepending a `$` to `ROOTSYS` at lines 50 and 51; 3. Source `/usr/local/bin/thisroot.fish` and run `jupyter-lab`; 4. At this point an error shows that `/usr/local/etc/notebook` is not a valid path; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->. ### Setup; 1. ROOT version: 6.24/00; 2. Operating system: openSUSE Tumbleweed -- release: 20210606; 3. Compiler version: gcc (SUSE Linux) 11.1.1 20210510 [revision 23855a176609fe8dda6abaf2b21846b4517966eb]; 3. ROOT built for linuxx8664gcc on Jun 12 2021, 01:11:00, from heads/latest-stable@e6a04a86, with options:; a. `gnuinstall=ON`; b. `imt=ON`; c. `minuit2=ON`; d. `rpath=ON`; e. `pyroot=ON`; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->. ### Additional context; Post on ROOT forum: [link](https://root-forum.cern.ch/t/rootsys-folder-created-starting-jupyterlab/45358); <!--; Add any other context about the problem here.; -->",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/8435:1885,release,release,1885,https://root.cern,https://github.com/root-project/root/issues/8435,2,"['install', 'release']","['install', 'release']"
Deployability,root_src/core/base/inc/TObject.h:245; 6: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 7: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Taking true branch in /opt/root_src/math/matrix/src/TDecompQRH.cxx:495; 2: Taking true branch in /opt/root_src/math/matrix/src/TDecompQRH.cxx:496; 3: Calling 'TDecompQRH::Decompose' in /opt/root_src/math/matrix/src/TDecompQRH.cxx:497; 4: Taking false branch in /opt/root_src/math/matrix/src/TDecompQRH.cxx:152; 5: Taking false branch in /opt/root_src/math/matrix/src/TDecompQRH.cxx:154; 6: Calling default constructor for 'TVectorT<double>' in /opt/root_src/math/matrix/src/TDecompQRH.cxx:164; 7: Calling default constructor for 'TObject' in /opt/root_src/math/matrix/inc/TVectorT.h:53; 8: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 9: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 10: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Taking true branch in /opt/root_src/math/matrix/src/TDecompSVD.cxx:848; 2: Taking true branch in /opt/root_src/math/matrix/src/TDecompSVD.cxx:849; 3: Calling 'TDecompSVD::Decompose' in /opt/root_src/math/matrix/src/TDecompSVD.cxx:850; 4: Taking false branch in /opt/root_src/math/matrix/src/TDecompSVD.cxx:125; 5: Taking false branch in /opt/root_src/math/matrix/src/TDecompSVD.cxx:127; 6: Calling default constructor for 'TVectorT<double>' in /opt/root_src/math/matrix/src/TDecompSVD.cxx:136; 7: Calling default constructor for 'TObject' in /opt/root_src/math/matrix/inc/TVectorT.h:53; 8: Calling 'TStorage::Up,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:47360,Update,UpdateIsOnHeap,47360,https://root.cern,https://github.com/root-project/root/issues/7412,1,['Update'],['UpdateIsOnHeap']
Deployability,root_src/tmva/tmva/src/MethodBase.cxx:2085; 2: Assuming the condition is false in /opt/root_src/tmva/tmva/src/MethodBase.cxx:1971; 3: Taking false branch in /opt/root_src/tmva/tmva/src/MethodBase.cxx:1971; 4: Assuming the condition is false in /opt/root_src/tmva/tmva/src/MethodBase.cxx:1974; 5: Taking false branch in /opt/root_src/tmva/tmva/src/MethodBase.cxx:1974; 6: Taking false branch in /opt/root_src/tmva/tmva/src/MethodBase.cxx:1982; 7: Assuming 'sdir' is null in /opt/root_src/tmva/tmva/src/MethodBase.cxx:1987; 8: Taking true branch in /opt/root_src/tmva/tmva/src/MethodBase.cxx:1987; 9: Assuming field 'fModelPersistence' is true in /opt/root_src/tmva/tmva/src/MethodBase.cxx:1993; 10: Taking true branch in /opt/root_src/tmva/tmva/src/MethodBase.cxx:1993; 11: Calling default constructor for 'TObjString' in /opt/root_src/tmva/tmva/src/MethodBase.cxx:1994; 12: Calling default constructor for 'TObject' in /opt/root_src/core/base/inc/TObjString.h:34; 13: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 14: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 15: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Calling constructor for 'TCut' in /opt/root_src/tree/tree/src/TCut.cxx:242; 2: Calling constructor for 'TNamed' in /opt/root_src/tree/tree/src/TCut.cxx:54; 3: Calling default constructor for 'TObject' in /opt/root_src/core/base/inc/TNamed.h:37; 4: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 5: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 6: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage va,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:85358,Update,UpdateIsOnHeap,85358,https://root.cern,https://github.com/root-project/root/issues/7412,1,['Update'],['UpdateIsOnHeap']
Deployability,rootmap -IE:/vcpkg_folders/new_master/buildtrees/root/x64-windows-dbg/include -IE:/vcpkg_folders/new_master/installed/x64-windows/include -IE:/vcpkg_folders/new_master/buildtrees/root/src/57b00fa7ea-10a10c16cc/io/xml/inc -IE:/vcpkg_folders/new_master/buildtrees/root/src/57b00fa7ea-10a10c16cc/core/winnt/inc -IE:/vcpkg_folders/new_master/installed/x64-windows/include -IE:/vcpkg_folders/new_master/buildtrees/root/src/57b00fa7ea-10a10c16cc/core/zstd/inc -IE:/vcpkg_folders/new_master/buildtrees/root/src/57b00fa7ea-10a10c16cc/core/lz4/inc -IE:/vcpkg_folders/new_master/buildtrees/root/src/57b00fa7ea-10a10c16cc/core/lzma/inc -IE:/vcpkg_folders/new_master/buildtrees/root,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12738:1439,install,installed,1439,https://root.cern,https://github.com/root-project/root/issues/12738,2,['install'],['installed']
Deployability,"round works fine. ### Reproducer. ```; (root-bug) ➜ ~ python; Python 3.11.9 | packaged by conda-forge | (main, Apr 19 2024, 18:36:13) [GCC 12.3.0] on linux; Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.; >>> import tensorflow; 2024-07-02 14:04:03.356022: I tensorflow/core/util/port.cc:113] oneDNN custom operations are on. You may see slightly different numerical results due to floating-point round-off errors from different computation orders. To turn them off, set the environment variable `TF_ENABLE_ONEDNN_OPTS=0`.; 2024-07-02 14:04:07.360190: I tensorflow/core/platform/cpu_feature_guard.cc:210] This TensorFlow binary is optimized to use available CPU instructions in performance-critical operations.; To enable the following instructions: SSE4.1 SSE4.2 AVX AVX2 AVX512F AVX512_VNNI FMA, in other operations, rebuild TensorFlow with the appropriate compiler flags. >>>; >>> import ROOT. *** Break *** segmentation violation; ```. ### ROOT version. 6.32/0. ### Installation method. Conda: `mamba create -n root-bug root=6.32 tensorflow`. ### Operating system. Linux. ### Additional context. Full seg fault trace:; ```; ===========================================================; There was a crash.; This is the entire stack trace of all threads:; ===========================================================. Thread 10 (Thread 0x7f1039269640 (LWP 281196) ""python""):; #0 0x00007f1095c8679a in __futex_abstimed_wait_common () from /lib64/libc.so.6; #1 0x00007f1095c88fa0 in pthread_cond_wait. GLIBC_2.3.2 () from /lib64/libc.so.6; #2 0x00007f10757d1964 in blas_thread_server () from /afs/cern.ch/work/i/ikrommyd/miniforge3/envs/root-bug/lib/python3.11/site-packages/numpy/core/../../../../libcblas.so.3; #3 0x00007f1095c89c02 in start_thread () from /lib64/libc.so.6; #4 0x00007f1095d0ec40 in clone3 () from /lib64/libc.so.6. Thread 9 (Thread 0x7f1041a6a640 (LWP 281195) ""python""):; #0 0x00007f1095c8679a in __futex_abstimed_wait_common () from /lib64/libc.so.6; #1 0x000",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15970:1170,Install,Installation,1170,https://root.cern,https://github.com/root-project/root/issues/15970,1,['Install'],['Installation']
Deployability,"rror message:; Traceback (most recent call last):; File ""<string>"", line 6, in <module>; File ""<string>"", line 6, in <dictcomp>; TypeError: 'torch._C.Node' object is not subscriptable; terminate called after throwing an instance of 'std::runtime_error'; what(): ; Failed to run python code: for i in graph[0].nodes():; globals().update(locals()); nodeData={}; nodeData['nodeType']=i.kind(); nodeAttributeNames=[x for x in i.attributeNames()]; nodeAttributes={j:i[j] for j in nodeAttributeNames}; nodeData['nodeAttributes']=nodeAttributes; nodeInputs=[x for x in i.inputs()]; nodeInputNames=[x.debugName() for x in nodeInputs]; nodeData['nodeInputs']=nodeInputNames; nodeOutputs=[x for x in i.outputs()]; nodeOutputNames=[x.debugName() for x in nodeOutputs]; nodeData['nodeOutputs']=nodeOutputNames; nodeDType=[x.type().scalarType() for x in nodeOutputs]; nodeData['nodeDType']=nodeDType; modelData.append(nodeData); Subprocess aborted; make[2]: *** [tmva/pymva/test/CMakeFiles/SofieCompileModels_PyTorch.dir/build.make:70: SofieCompileModels_PyTorch] Error 1; make[1]: *** [CMakeFiles/Makefile2:62828: tmva/pymva/test/CMakeFiles/SofieCompileModels_PyTorch.dir/all] Error 2; make[1]: *** Waiting for unfinished jobs....; ```. ### Reproducer. `cmake ../src -DCMAKE_BUILD_TYPE=RelWithDebInfo -Droofit=on -Dmysql=off -Dpgsql=off -Droostats=on -Dfortran=off -Dhistfactory=on -Dtmva=on -Dminuit2=on -Droottest=on -Droot7=on -Dtesting=on -Dbuiltin_llvm=on -Dbuiltin_tbb=off -Dbuiltin_nlohmannjson=on -DCMAKE_CXX_STANDARD=17 -DPYTHON_EXECUTABLE=$(which python) -Dfail-on-missing=on -Doracle=off -Dpythia6=off -Dpythia8=off -Dgfal=off -Dvdt=off -Ddavix=off -Droofit_hs3_yml=ON -Droofit_multiprocess=ON -Dbuiltin_zeromq=ON -Dbuiltin_cppzmq=ON`. ### ROOT version. ROOT Version: 6.29/01; Built for linuxx8664gcc on Jul 03 2023, 09:06:02; From heads/master@v6-29-01-1847-g7f288f1ca8e. ### Installation method. compiled with cmake from master. ### Operating system. archlinux. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13155:2826,Install,Installation,2826,https://root.cern,https://github.com/root-project/root/issues/13155,1,['Install'],['Installation']
Deployability,"rs/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1072:81: error: expected ';' at end of declaration; template<class T> inline bool atomic_is_lock_free( shared_ptr<T> const * /*p*/ ) BOOST_SP_NOEXCEPT; ^; ;; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1072:82: error: expected unqualified-id; template<class T> inline bool atomic_is_lock_free( shared_ptr<T> const * /*p*/ ) BOOST_SP_NOEXCEPT; ^; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/detail/sp_noexcept.hpp:28:29: note: expanded from macro 'BOOST_SP_NOEXCEPT'; # define BOOST_SP_NOEXCEPT BOOST_NOEXCEPT; ^; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/config/detail/suffix.hpp:965:26: note: expanded from macro 'BOOST_NOEXCEPT'; # define BOOST_NOEXCEPT noexcept; ^; In file included from libMyLibrary dictionary payload:5:; In file included from ./MyClass.h:6:; In file included from /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_ptr.hpp:17:; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1077:33: error: expected parameter declarator; template<class T> shared_ptr<T> atomic_load( shared_ptr<T> const * p ) BOOST_SP_NOEXCEPT; ^; /Users/krasznaa/ATLAS/sw/projects/externals/build/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:134:55: note: expanded from macro 'atomic_load'; #define atomic_load(object) __c11_atomic_load(object, __ATOMIC_SEQ_CST); ^; <built-in>:16:26: note: expanded from here; #define __ATOMIC_S",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6454:2963,Install,InstallArea,2963,https://root.cern,https://github.com/root-project/root/issues/6454,1,['Install'],['InstallArea']
Deployability,"rseInternal(llvm::StringRef) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #24 0x00007f174be0e9b0 in cling::IncrementalParser::Compile(llvm::StringRef, cling::CompilationOptions const&) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #25 0x00007f174bd71127 in cling::Interpreter::EvaluateInternal(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, cling::CompilationOptions, cling::Value*, cling::Transaction**, unsigned long) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #26 0x00007f174bd7152d in cling::Interpreter::process(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, cling::Value*, cling::Transaction**, bool) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #27 0x00007f174be638ab in cling::MetaProcessor::process(llvm::StringRef, cling::Interpreter::CompilationResult&, cling::Value*, bool) () from /home/blue/ROOT/relwithdebinfo-perf/cmake-build-foo/install/lib/libCling.so; #28 0x00007f174bc85e4d in HandleInterpreterException (metaProcessor=0x55fecea7b020, input_line=0x55fecfb58800 ""#line 1 \""ROOT_prompt_2\""\nEvents"", compRes=; 0x7ffd9df7f23c: cling::Interpreter::kSuccess, result=result; entry=0x7ffd9df7f250) at ../core/metacling/src/TCling.cxx:2428; #29 0x00007f174bca2557 in TCling::ProcessLine (this=0x55fecde8e9d0, line=<optimized out>, error=0x7ffd9df7f60c) at /usr/include/c++/12.2.1/bits/unique_ptr.h:191; #30 0x00007f1751c052e5 in TRint::ProcessLineNr (this=this; entry=0x55fecde5ddd0, filestem=filestem; entry=0x7f1751c163f8 ""ROOT_prompt_"", line=0x7ffd9df7f6c9 ""Events"", error=0x7ffd9df7f60c, error; entry=0x0) at ../core/rint/src/TRint.cxx:801; #31 0x00007f1751c056ba in TRint::HandleTermInput (this=0x55fecde5ddd0) at ../core/rint/src/TRint.cxx:648; #32 0x00007f175195d0b5 in TUnixSystem::CheckDescriptors (this=this; entry=0x55fecde2a420) at ..",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12673:6264,install,install,6264,https://root.cern,https://github.com/root-project/root/issues/12673,1,['install'],['install']
Deployability,"rser::ParseDeclarationOrFunctionDefinition(clang::Parser::ParsedAttributesWithRange&, clang::ParsingDeclSpec*, clang::AccessSpecifier) [clone .part.0] () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #21 0x00002b8fcf5ecf42 in clang::Parser::ParseExternalDeclaration(clang::Parser::ParsedAttributesWithRange&, clang::ParsingDeclSpec*) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #22 0x00002b8fcf5ed399 in clang::Parser::ParseTopLevelDecl(clang::OpaquePtr<clang::DeclGroupRef>&) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #23 0x00002b8fcef7c0e6 in cling::IncrementalParser::ParseInternal(llvm::StringRef) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #24 0x00002b8fcef7dfed in cling::IncrementalParser::Compile(llvm::StringRef, cling::CompilationOptions const&) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #25 0x00002b8fceee6852 in cling::Interpreter::DeclareInternal(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, cling::CompilationOptions const&, cling::Transaction**) const () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #26 0x00002b8fceee69fa in cling::Interpreter::declare(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, cling::Transaction**) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #27",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7093:9248,patch,patch,9248,https://root.cern,https://github.com/root-project/root/issues/7093,1,['patch'],['patch']
Deployability,"rterVG.cxx.o] Error 1; make[3]: Leaving directory '<builddir>'; make[2]: *** [CMakeFiles/Makefile2:33593: geom/vecgeom/CMakeFiles/G__ConverterVG.dir/all] Error 2; make[2]: Leaving directory '<builddir>'; make[1]: *** [Makefile:159: all] Error 2; make[1]: Leaving directory '<builddir>'; ```. ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->; The compilation does not fail. ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->; Compile with `vecgeom` option. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->; Compiling ROOT v6.26.04 on Debian Unstable (amd64), with GCC 11.3.0 and VecGeom 1.2.0, with this configuration:; ```; -- ROOT Configuration . System Linux-5.18.0-2-amd64; Processor 4 core Intel(R) Core(TM) i5-8250U CPU @ 1.60GHz (x86_64); Build type None; Install path /usr; Compiler GNU 11.3.0; Compiler flags:; C -g -O2 -ffile-prefix-map=<srcdir>=. -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -Wno-implicit-fallthrough -pipe -Wall -W -pthread ; C++ -g -O2 -ffile-prefix-map=<srcdir>=. -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -std=c++17 -Wno-implicit-fallthrough -Wno-noexcept-type -pipe -Wshadow -Wall -W -Woverloaded-virtual -fsigned-char -pthread ; Linker flags:; Executable -Wl,-z,relro -Wl,-z,now -rdynamic; Module -Wl,-z,relro -Wl,-z,now; Shared -Wl,-z,relro -Wl,-z,now -Wl,--no-undefined -Wl,--hash-style=""both"". -- Enabled support for: asimage builtin_clang builtin_cling builtin_llvm builtin_unuran builtin_vdt ccache dataframe davix dcache exceptions fftw3 fitsio fortran gdml gfal gnuinstall gsl_shared gv",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10984:5005,configurat,configuration,5005,https://root.cern,https://github.com/root-project/root/issues/10984,2,"['Configurat', 'configurat']","['Configuration', 'configuration']"
Deployability,"rtualIsAProxy*, char const*, char const*, int, int, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #31 0x00007ffff561a48a in ROOT::CreateClass(char const*, short, std::type_info const&, TVirtualIsAProxy*, char const*, char const*, int, int) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #32 0x00007ffff562906a in ROOT::TGenericClassInfo::GetClass() (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #33 0x00007ffff5606b70 in TClass::LoadClassDefault(char const*, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #34 0x00007ffff560ee9c in TClass::GetClass(char const*, bool, bool, unsigned long, unsigned long) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patche; s/x86_64-centos7-gcc8-opt/lib/libCore.so; #35 0x00007ffff645805b in ?? (); #36 0x000000000000042e in ?? (); #37 0x00007fffefb8337e in TClingMethodInfo::TClingMethodInfo(TClingMethodInfo const&) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCling.so; #38 0x00007ffff560f4b0 in ?? (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #39 0x00007fffffff3208 in ?? (); #40 0x00007fffffff3180 in ?? (); #41 0x000000010559b1b0 in ?? (); #42 0x0000000000000000 in ?? (); ```. The ultimate trigger here is what it usually is --- trying to find the TClass; for something for which no dictionary was generated, leading to autoparsing.; I can get rid of the crash in the atlas build by generating dictionaries; for these classes (here, various specialization of; `CondMultChanCollection<LArConditionsSubset<T> >`).; However, i also looked at bit at the root cause of t",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7657:8375,patch,patche,8375,https://root.cern,https://github.com/root-project/root/issues/7657,1,['patch'],['patche']
Deployability,"rum.cern.ch/t/6-24-00-does-not-complile-on-redhat-8-3/45161. details:. Hello,; I’m running into problems compiling root 6.24.00:. $ cmake -Dclad=OFF -DCMAKE_INSTALL_PREFIX=…/root_install …/root-6.24.00; $ cmake --build . – install -j8. …; [ 76%] Linking CXX static library …/…/…/…/lib/libclingInterpreter.a; [ 76%] Built target clingInterpreter; Scanning dependencies of target CLING; [ 76%] Built target CLING; Scanning dependencies of target LLVMRES; [ 76%] Copying LLVM resource and header files; [ 76%] Built target LLVMRES; (stucks…). $ cmake --build . --install; [ 0%] Built target AFTERIMAGE; [ 0%] Built target OPENUI5; [ 0%] Built target LZMA; [ 0%] Performing download step (download, verify and extract) for ‘VDT’; (stucks). seems that vdt uses network access, which I do not have (not mentioned in the docs).; I think I do not need it anyhow…. so again:; $ rm -rf *; $ cmake -Dclad=OFF -Dvdt=OFF -DCMAKE_INSTALL_PREFIX=…/root_install …/root-6.24.00; $ cmake --build . --install; …; [ 79%] Generating G__Thread.cxx, …/…/lib/Thread.pcm; [ 79%] Generating G__forward_listDict.cxx, …/…/lib/libforward_listDict.rootmap; [ 79%] Generating G__vectorDict.cxx, …/…/lib/libvectorDict.rootmap; In file included from input_line_7:21:; /srv/ussapc/home/ussapc/sw/root_build/include/ROOT/TReentrantRWLock.hxx:26:10: fatal error: ‘tbb/enumerable_thread_specific.h’ file not found; #include “tbb/enumerable_thread_specific.h”; ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~; Error: /srv/ussapc/home/ussapc/sw/root_build/core/rootcling_stage1/src/rootcling_stage1: compilation failure (/srv/ussapc/home/ussapc/sw/root_build/lib/libThreaddb2bde6cdd_dictUmbrella.h); gmake[2]: *** [core/thread/CMakeFiles/G__Thread.dir/build.make:109: core/thread/G__Thread.cxx] Error 1; gmake[1]: *** [CMakeFiles/Makefile2:27339: core/thread/CMakeFiles/G__Thread.dir/all] Error 2; gmake[1]: *** Waiting for unfinished jobs…. I found out that tbb is required by imt, so again; $ rm -rf *; $ cmake -Dclad=OFF -Dvdt=OFF -Dimt=OFF -DCMAKE_I",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/8292:1020,install,install,1020,https://root.cern,https://github.com/root-project/root/issues/8292,1,['install'],['install']
Deployability,"ry);; }. elists.Add(&elist1);; elists.Add(&elist2);. TChain chain{""entries""};; chain.Add(""file_20entries_1.root"");; chain.Add(""file_20entries_1.root"");. chain.SetEntryList(&elists);. ROOT::RDataFrame df{chain};. std::cout << df.Count().GetValue() << ""\n"";; }; ```; Will output the following; ```; vpadulan@fedorathinkpad-T550 [~/Projects/rootcode]: g++ -o tentrylist_emptysource_twofiles tentrylist_emptysource_twofiles.cpp `root-config --cflags --glibs`; vpadulan@fedorathinkpad-T550 [~/Projects/rootcode]: ./tentrylist_emptysource_twofiles ; 20; ```. ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->; The expected result of the above snippet is 30, that is 20 entries from the first TEntryList and 10 entries from the second. Note that, if I create a second file identical to the first one and call it `file_20entries_2.root`, changing the above snippet with; ```diff; - TEntryList elist2{""e"",""e"",""entries"",""file_20entries_1.root""};; + TEntryList elist2{""e"",""e"",""entries"",""file_20entries_2.root""};; ...; TChain chain{""entries""};; chain.Add(""file_20entries_1.root"");; - chain.Add(""file_20entries_1.root"");; + chain.Add(""file_20entries_2.root"");; ```; yields the correct result:; ```; vpadulan@fedorathinkpad-T550 [~/Projects/rootcode]: g++ -o tentrylist_emptysource_twofiles tentrylist_emptysource_twofiles.cpp `root-config --cflags --glibs`; vpadulan@fedorathinkpad-T550 [~/Projects/rootcode]: ./tentrylist_emptysource_twofiles; 30; ```. ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->; Everything above should be enough. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->; ROOT master built from source on Fedora32",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/8505:2968,install,install,2968,https://root.cern,https://github.com/root-project/root/issues/8505,1,['install'],['install']
Deployability,"ry=0x5be690, obj=obj@entry=0xee3bc0) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/cont/src/THashList.cxx:100; #17 0x00007ffff7c4e0d1 in TListOfDataMembers::AddLast (this=0x5be690, obj=0xee3bc0) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/meta/src/TListOfDataMembers.cxx:103; #18 0x00007ffff7ab8785 in TList::Add (obj=0xee3bc0, this=0x5be690) at /home/pcanal/root_builds/v6-14-00-patches/opt/include/TList.h:87; #19 TROOT::GetListOfGlobals (this=0x7ffff7da7a60 <ROOT::Internal::GetROOT1()::alloc>, load=load@entry=false) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/base/src/TROOT.cxx:1767; #20 0x00007fffeeab1058 in TCling::HandleNewDecl (this=0x4a0550, DV=0xedf238, isDeserialized=isDeserialized@entry=true, modifiedTClasses=...) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/metacling/src/TCling.cxx:555; #21 0x00007fffeeabb785 in TCling::UpdateListsOnCommitted (this=0x4a0550, T=...) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/metacling/src/TCling.cxx:6115; #22 0x00007fffeebd0103 in cling::MultiplexInterpreterCallbacks::TransactionCommitted (this=0x57fe20, T=...) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/interpreter/cling/lib/Interpreter/MultiplexInterpreterCallbacks.h:76; #23 0x00007fffeed05d71 in cling::IncrementalParser::commitTransaction (this=0x4a2980, PRT=..., ClearDiagClient=true) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/interpreter/cling/lib/Interpreter/IncrementalParser.cpp:532; #24 0x00007fffeed06399 in cling::IncrementalParser::Compile (this=0x4a2980, input=..., Opts=...) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/interpreter/cling/lib/Interpreter/IncrementalParser.cpp:663; #25 0x00007fffeebcbc4e in cling::Interpreter::DeclareInternal (this=0x4a0f30, input=..., CO=..., T=0x7fffffffd680) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/interpreter/cling/lib/Interpreter/Interpreter.cpp:1195; #26 0x00007fffeebca8e8 in clin",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2776:6731,patch,patches,6731,https://root.cern,https://github.com/root-project/root/pull/2776,2,['patch'],['patches']
Deployability,"r~ilp64+locking+pic+shared symbol_suffix=none threads=none arch=darwin-monterey-m1; [+] ^perl@5.30.3%apple-clang@13.1.6~cpanm+shared+threads arch=darwin-monterey-m1; [+] ^pcre@8.45%apple-clang@13.1.6~jit+multibyte+utf arch=darwin-monterey-m1; [+] ^python@3.9.13%apple-clang@13.1.6+bz2+ctypes+dbm~debug+libxml2+lzma~nis~optimizations+pic+pyexpat+pythoncmd+readline+shared+sqlite3+ssl~tix~tkinter~ucs4+uuid+zlib patches=0d98e93,4c24573,f2fd060 arch=darwin-monterey-m1; [+] ^apple-libuuid@1353.100.2%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^expat@2.4.8%apple-clang@13.1.6~libbsd arch=darwin-monterey-m1; [+] ^gdbm@1.23%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^readline@8.1.2%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^gettext@0.21%apple-clang@13.1.6+bzip2+curses+git~libunistring+libxml2+tar+xz arch=darwin-monterey-m1; [+] ^libffi@3.4.2%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^openssl@1.1.1q%apple-clang@13.1.6~docs~shared certs=mozilla patches=3fdcf2d arch=darwin-monterey-m1; [+] ^ca-certificates-mozilla@2022-07-19%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^sqlite@3.39.2%apple-clang@13.1.6+column_metadata+dynamic_extensions+fts~functions+rtree arch=darwin-monterey-m1; [+] ^unuran@1.8.1%apple-clang@13.1.6~gsl+rngstreams+shared arch=darwin-monterey-m1; [+] ^rngstreams@1.0.1%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^vdt@0.4.3%apple-clang@13.1.6~ipo~preload build_type=RelWithDebInfo arch=darwin-monterey-m1; [+] ^python@3.9.13%apple-clang@13.1.6+bz2+ctypes+dbm~debug+libxml2+lzma~nis~optimizations+pic+pyexpat+pythoncmd+readline+shared+sqlite3+ssl~tix~tkinter~ucs4+uuid+zlib patches=0d98e93,4c24573,f2fd060 arch=darwin-monterey-m1; [+] ^apple-libuuid@1353.100.2%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^bzip2@1.0.8%apple-clang@13.1.6~debug~pic+shared arch=darwin-monterey-m1; [+] ^gdbm@1.23%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^readline@8.1.2%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^ncurses@5.7.20081102%apple-clang@13.1.6~",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11312:9886,patch,patches,9886,https://root.cern,https://github.com/root-project/root/issues/11312,1,['patch'],['patches']
Deployability,"s 'std::ranges'; namespace ranges; ^; ```. ### What is the expected behaviour?. I expect to be able to use the top level `ranges` namespace at the same time as `std::ranges`. ### How to reproduce?. From lxplus9.cern.ch; ```; ❯ . /cvmfs/sft-nightlies.cern.ch/lcg/views/dev4/Mon/x86_64-el9-gcc13-dbg/setup.sh; ❯ root; ------------------------------------------------------------------; | Welcome to ROOT 6.28/05 https://root.cern |; | (c) 1995-2023, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built for linuxx8664gcc on Jun 10 2023, 00:28:00 |; | From heads/v6-28-00-patches@v6-28-04-94-gb7de1efc73 |; | With g++ (GCC) 13.1.0 |; | Try '.help'/'.?', '.demo', '.license', '.credits', '.quit'/'.q' |; ------------------------------------------------------------------. root [0] #include <range/v3/range/traits.hpp>; In file included from ROOT_prompt_0:1:; In file included from /cvmfs/sft-nightlies.cern.ch/lcg/views/dev4/Mon/x86_64-el9-gcc13-dbg/include/range/v3/range/traits.hpp:24:; In file included from /cvmfs/sft-nightlies.cern.ch/lcg/views/dev4/Mon/x86_64-el9-gcc13-dbg/include/range/v3/range_fwd.hpp:23:; /cvmfs/sft-nightlies.cern.ch/lcg/views/dev4/Mon/x86_64-el9-gcc13-dbg/include/concepts/compare.hpp:35:39: error: reference to 'ranges' is ambiguous; concept compares_as = same_as<ranges::common_comparison_category_t<T, Cat>, Cat>;; ^; /cvmfs/sft-nightlies.cern.ch/lcg/views/dev4/Mon/x86_64-el9-gcc13-dbg/include/range/v3/compare.hpp:25:11: note: candidate found by name lookup is 'ranges'; namespace ranges; ^; /cvmfs/sft.cern.ch/lcg/releases/gcc/13.1.0-b3d18/x86_64-el9/include/c++/13.1.0/experimental/string_view:689:13: note: candidate found by name lookup is 'std::ranges'; namespace ranges; ^; ```. ### ROOT version. v6-28-00-patches. ### How did you install ROOT?. LCG nightly builds in /cvmfs/sft-nightlies.cern.ch. ### Which operating system are you using?. Linux Alma 9. ### Additional context. I wanted to report this problem as a compelling use case that requires #11027",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13001:2644,release,releases,2644,https://root.cern,https://github.com/root-project/root/issues/13001,3,"['install', 'patch', 'release']","['install', 'patches', 'releases']"
Deployability,"s NO WARRANTY, to the extent permitted by law.; Type ""show copying"" and ""show warranty"" for details.; This GDB was configured as ""x86_64-pc-linux-gnu"".; Type ""show configuration"" for configuration details.; For bug reporting instructions, please see:; <https://bugs.gentoo.org/>.; Find the GDB manual and other documentation resources online at:; <http://www.gnu.org/software/gdb/documentation/>. For help, type ""help"".; Type ""apropos word"" to search for commands related to ""word""...; Reading symbols from bin/root.exe...; (gdb) break f; Function ""f"" not defined.; Make breakpoint pending on future shared library load? (y or [n]) y; Breakpoint 1 (f) pending.; (gdb) run; Starting program: /srv/root/build/bin/root.exe ; warning: File ""/srv/root/build/lib/libCore.so-gdb.py"" auto-loading has been declined by your `auto-load safe-path' set to ""$debugdir:$datadir/auto-load"".; To enable execution of this file add; 	add-auto-load-safe-path /srv/root/build/lib/libCore.so-gdb.py; line to your configuration file ""/home/amadio/.config/gdb/gdbinit"".; To completely disable this security protection add; 	set auto-load safe-path /; line to your configuration file ""/home/amadio/.config/gdb/gdbinit"".; For more information about this security protection see the; ""Auto-loading safe path"" section in the GDB manual. E.g., run from the shell:; 	info ""(gdb)Auto-loading safe path""; [Thread debugging using libthread_db enabled]; Using host libthread_db library ""/usr/lib64/libthread_db.so.1"".; [Detaching after vfork from child process 798483]; [Detaching after vfork from child process 800084]; [Detaching after vfork from child process 800087]; ------------------------------------------------------------------; | Welcome to ROOT 6.27/01 https://root.cern |; | (c) 1995-2022, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built for linuxx8664gcc on Dec 13 2022, 14:33:20 |; | From heads/cling-profile-debug@v6-25-02-3189-gf5fced388b |; | With c++ (Gentoo 12.2.1_p20221203 p3) 12.2.1 20221203 |; | ",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11882:1599,configurat,configuration,1599,https://root.cern,https://github.com/root-project/root/pull/11882,1,['configurat'],['configuration']
Deployability,"s `nix` or `docker` is available. Copyright notice: The `default.nix` is derived/taken from [pkgs/applications/science/misc/root/default.nix](https://github.com/NixOS/nixpkgs/blob/2787fc7d1e51404678614bf0fe92fc296746eec0/pkgs/applications/science/misc/root/default.nix) in [Nixpkgs](https://github.com/NixOS/nixpkgs). The original work is licensed under the MIT license by Eelco Dolstra and the Nixpkgs/NixOS contributors. 1. Run `mkdir test-root-6.27`; 2. Place the following files into the `test-root-6.27` directory:. `setup-hook.sh` and `sw_vers.patch` from https://github.com/NixOS/nixpkgs/tree/2787fc7d1e51404678614bf0fe92fc296746eec0/pkgs/applications/science/misc/root. `default.nix`. ```Nix; { stdenv; , lib; , callPackage; , fetchFromGitHub; , fetchpatch; , makeWrapper; , cmake; , coreutils; , git; , davix; , ftgl; , gl2ps; , glew; , gnugrep; , gnused; , gsl; , lapack; , libX11; , libXpm; , libXft; , libXext; , libGLU; , libGL; , libxcrypt; , libxml2; , llvm_13; , lsof; , lz4; , xz; , man; , openblas; , openssl; , pcre; , nlohmann_json; , pkg-config; , procps; , python; , which; , xxHash; , zlib; , zstd; , libAfterImage; , giflib; , libjpeg; , libtiff; , libpng; , patchRcPathCsh; , patchRcPathFish; , patchRcPathPosix; , tbb; , Cocoa; , CoreSymbolication; , OpenGL; , noSplash ? false; }:. stdenv.mkDerivation rec {; pname = ""root"";; version = ""6.27.00"";. src = fetchFromGitHub {; owner = ""root-project"";; repo = ""root"";; rev = ""0fafc31efb5a94472af2a6b35ded27796cb141c8"";; sha256 = ""sha256-oO5K7AIH3Zhxpox3acuLcoTHD529pyIKXk9rfYi3U4U="";; };. nativeBuildInputs = [ makeWrapper cmake pkg-config git ];; buildInputs = [; davix; ftgl; gl2ps; glew; pcre; zlib; zstd; lapack; libxcrypt; libxml2; llvm_13; lz4; xz; gsl; openblas; openssl; xxHash; libAfterImage; giflib; libjpeg; libtiff; libpng; nlohmann_json; patchRcPathCsh; patchRcPathFish; patchRcPathPosix; python.pkgs.numpy; tbb; ]; ++ lib.optionals (!stdenv.isDarwin) [ libX11 libXpm libXft libXext libGLU libGL ]; ++ lib.optionals",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11920:4290,patch,patchRcPathCsh,4290,https://root.cern,https://github.com/root-project/root/issues/11920,3,['patch'],"['patchRcPathCsh', 'patchRcPathFish', 'patchRcPathPosix']"
Deployability,"s discussion is that we should not allow views on fields with a mappable type and that have a read callback.; The signature of a read callback function is; ```c++; void callback_func(RFieldValue &);; ```. ## Changes of fixes:; - Fields with a mappable type need to be distinguished from ""simple"" fields (i.e. those that have no additional actions after reading). Thus, the `kTraitMappable` trait is introduced in this PR; it is set for fields of fundamental types that can be directly mapped via `RField<T>::Map()`. These fields also map as-is to a single column.; The `fIsSimple` member now takes a different meaning: a field is simple if it is both mappable (i.e. kTraitMappable) and has no post-read callback.; - Read callbacks are managed via the _protected_ member functions `RFieldBase::{Add,Remove}ReadCallback()`.; - `RFieldBase::Read()` calls the read callbacks as appropriate. The fast path still only calls `fPrincipalColumn->Read()`.; Callbacks should be relatively rare; thus, the branch is marked as `R__unlikely()`, as it provides a small performance increase for non-mappable types that have no read callback.; - As discussed, views are disallowed on fields with a mappable type and a read callback. ## Experimental measurements; The overhead of the changes in this PR was measured in a synthetic test case. The schema is comprised of 4 fields of fundamental data types + 2 fields referring to user-defined `struct`s (containing 4 and 8 members of fundamental data types, respectively). The test program reads all fields across 10000k entries. The file lies in a tmpfs. The overhead has been measured to be:; - No callbacks: **~0.5%** w.r.t. the state of RNTuple before this patch set.; - 1 _nop_ callback function for one of the `struct` fields: **~2.7%** w.r.t. the base time.; - 2 _nop_ callback functions, one for each of the `struct` fields: **~3.4%** w.r.t. the base time. ## Checklist:; - [X] tested changes locally; - [X] updated the docs (if necessary). This PR fixes #11730.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11731:2141,patch,patch,2141,https://root.cern,https://github.com/root-project/root/pull/11731,2,"['patch', 'update']","['patch', 'updated']"
Deployability,"s for certain parameter range around `c1=-0.5` and `c2=-0.55`. ; These negative values are then handled differently in different versions of ROOT; ![chebtest_6 2004](https://user-images.githubusercontent.com/8844360/223719234-2a99dc62-3c1a-4f2b-9690-3ccc5fa45df0.png); ![chebtest_6 2406](https://user-images.githubusercontent.com/8844360/223719704-06e4d558-9aa0-4d48-a15c-7316297f0bfb.png). ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->. A preferred solution would be to set negative values to 0 as in ROOT 6.20, because setting them to +inf is causing the fits to diverge. ; Is it possible to avoid the negative values in RooChebychev in the first place?. ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->. The code which produces the plots above:; ```; import ROOT; canvas = ROOT.TCanvas(""cv1"", ""cv1"", 700, 500); #ROOT.__version__ = '6.20/04' # Earlier pyROOT implementations have no __version__; mass = ROOT.RooRealVar(""KS_M"", ""m(#pi^{+}#pi^{-}) GeV/c^{2}"", 0.47, 0.53); frame = mass.frame(ROOT.RooFit.Bins(100), ROOT.RooFit.Title(ROOT.__version__)); c1 = ROOT.RooRealVar(""c1"", "" 1st cheb parameter"",-0.5, -1, 1); c2 = ROOT.RooRealVar(""c2"", "" 2nd cheb parameter"", -0.55, -1, 1); bkg = ROOT.RooChebychev(""bkg"", ""Chebyshev Polynomial"", mass, ROOT.RooArgList(c1, c2)); bkg.plotOn(frame); canvas.cd(); frame.Draw(); canvas.Draw(); canvas.Update(); canvas.SaveAs(f'pdf/chebtest_{ROOT.__version__.replace(""/"","""")}.png'); input(); ```. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->. I used 6.20 and 6.24 ROOT versions on Ubuntu 18.04. ### Additional context; <!--; Add any other context about the problem here.; -->",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12452:2139,Update,Update,2139,https://root.cern,https://github.com/root-project/root/issues/12452,2,"['Update', 'install']","['Update', 'install']"
Deployability,s in ROOT binary files (#13423); 91d7dc9cee [tmva] use SetDirectory(nullptr); 34c4a497c5 [tmva] reduce usage of `Form` method; df8ab656e3 [tmvagui] avoid usage of Form function; 5bf591928a [tmva] avoid Form usage in tests; a18373ec99 [tmva] fix wrong Form usage in remaining classes; c251183d62 [tmva] reduce usage of Form; a50b03c9b7 [tmva] fix multiple places where Form is wrongly used twice is same call; 20fa3a3b4d [tmva] fix wrong Form usage is several next classes; 9eba38ba7a [tmva] fix wrong usage of Form in several classes; 9b3e9dc4e0 [tmva] replace Form by TString::Format in several classes; a6c9608215 [tmva] avoid Form usage in Classification.cxx; 50bd755c37 [tmva] fix Form usage in MethodTMlpANN; befd36fdb1 Fix yet another assertion failure on Windows; fb94e0b032 [tmva] Fix RTensor::ExpandDims(); 99378cfba9 Fix Lenght typos (#13281); 8786fa4392 Added cpp files for RBatchGenerator; 3f55b20888 feat: added tutorial links; c432106115 feat: include link for sofie onnx parser; cf5449bd63 fix: email id for communication; 4f8a5972df docs: Update SOFIE documentation; cdb4a81f87 Error function implemented successfully with the corresponding unit tests; 8157df1a22 [cmake] Remove usage of LLVM_VERSION in tree; b9ff1db6bd [tmva] Fix default weight directory name used in DataLoder; 1bc8c0657a [tmva] Fix drawing of progressbar for nevt<100; 8303abd18e Fix: The Gemm Operator can accept standalone Matmul operator as well as MatMul + Add operator (#12894); 3296ff0600 [GSOC][TMVA][SOFIE] Swish Activation function implemented in the Keras Parser (#12918); b7b8646c53 [tmva][cmake] Fix issue introduced accidentally in PR #12751; 4fd50f0dd8 [cmake] Ensure TMVA emitFromXYZ uses libs from current ROOT build.; c6e6d4d59a feat: Resize method for RTensor; 46ba2eefd0 [cxxmodules] Enable a few modules for Windows. Now we can run hsimple.C.; 9c3a4ad1a9 Remove unnecessary includes propagated by the libCore target; cc6248b3bd feat: GetValueFromDict method for handling dictionary access; ```,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13783:3204,Update,Update,3204,https://root.cern,https://github.com/root-project/root/pull/13783,1,['Update'],['Update']
Deployability,"s in an RDataFrame computation graph can introduce serious overheads both in terms of performance and memory usage. In extreme (but very realistic) cases, this leads to OOM crashes. . A flamegraph (attached) can highlight that the main culprit is the allocation/deallocation of very large STL containers (std::map, std::vector), which happens in the machinery of the `RColumnRegister` class. This class has a copy-on-write policy, introduced by https://github.com/root-project/root/pull/10899 and further explained at https://github.com/root-project/root/pull/11297 . ![many_defines_original](https://github.com/root-project/root/assets/15638895/298b9fb4-b18c-4fb8-a103-8a7fccf225a7). For large graphs (O(10K) nodes), we start seeing multiple GBs of memory used just to make the `Define` calls, and a large portion of the total runtime being spent in the destruction of the RDataFrame itself (i.e. at the end of the application the user is stuck at the terminal). The copy-on-write policy is there for a reason. This way, any new branch of the computation graph can share the information about the columns defined (available) for that branch, without being contaminated by information coming from other branches of the graph (this is the cause of the CI errors in https://github.com/root-project/root/pull/14490 for example). We need to rethink about a way to keep the same functionality that does not incur in the performance/memory usage penalties. ### Reproducer. ```cpp; #include <ROOT/RDataFrame.hxx>. #include <string>; #include <iostream>. int main(); {. ROOT::RDataFrame df(1);. auto node = df.Define(""col_0"",; [](); { return 42; });. // Increase the number of iterations for a more evident effect; for (std::size_t i = 0; i < 10000; i++); {; node = node.Define(""col_"" + std::to_string(i + 1),; [](); { return 42; });; }. std::cout << ""End of main\n"";; }; ```. ### ROOT version. Any. ### Installation method. Built from source. ### Operating system. Any. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14510:2000,Install,Installation,2000,https://root.cern,https://github.com/root-project/root/issues/14510,1,['Install'],['Installation']
Deployability,"s modified:; math/mathmore/CMakeLists.txt; math/mathmore/inc/Math/LinkDef.h - These two files needed to be modified to compile my changes adding in the relativisitc voigt. **Full description**; Implemented relativistic version of voigt (non-relativistic case already exists in TMath). As previously discussed in the ROOT forum https://root-forum.cern.ch/t/relativistic-breit-wigner-and-relativistic-voigt/48844 , the relativistic version has been added to mathmore rather than TMath, as it requires including a header file with an integrator which is CPU intensive. This has hence been added as it's own class in mathmore, with two functions:. static double evaluate(double x, double median, double sigma, double lg, double integrationRange=26.615717509251260);; static double dumpingFunction(double median, double sigma, double lg, double integrationRange=26.615717509251260);. The default integrationRange was chosen as the integral has been wrote in a form where it is multiplied by exp(-t^2), and this value of integrationRange results in going to the point where exp(-t^2) reaches the minimum value stored by a double. A relativistic voigt is a convolution of a relativistic breit wigner and a gaussian, doing this naively is computationally infeasible however a fairly simple redefinition of variables allows rewriting the integral in a form that is reasonable to compute. This is shown in https://arxiv.org/pdf/1711.09304.pdf equation 9 which has been used here. I am unsure how referencing works with ROOT. [Note: the function used here is not actually identical to equation 9, as the paper linked uses a different normalization than ROOT does for the non relativistic voigt which is already implemented in TMath. I have renormalized this equation to be consistent with the non relativistic case already in ROOT). The two functions that have been defined are:. evaluate, simply gives the value of the relativisitic voigt at the point requested; dumpingFunction, this is a commonly used functio",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11049:1883,integrat,integrationRange,1883,https://root.cern,https://github.com/root-project/root/pull/11049,2,['integrat'],['integrationRange']
Deployability,"s not in the set. The implementation checks; the .gnu.hash section in ELF which is the GNU implementation of a bloom; filter and uses it. If the symbol is not in the bloom filter, the; implementation builds its own and uses it. The measured performance of the; bloom filter is 30% speed up for 2mb more memory. The custom bloom filter on; top of the .gnu.hash filter gives 1-2% better performance.; The advantage for the custom bloom filter is that it works on all; implementations which do not support .gnu.hash (windows and osx). It is also; customizable if we want to further reduce the false positive rates; (currently at p=2%).; * Hash table optimization -- we build a hash table which contains all symbols; for a given library. This allows us to avoid the fallback symbol iteration; if multiple symbols from the same library are requested. The hash table; optimization targets to optimize the case where the bloom filter tells us; the symbol is *maybe* in the library. Patch by Alexander Penev (@alexander-penev) and me!. Performance Report; ===. |platform|test|PCH-time|Module-time|Module-PR-time|; |:--------|:---|:---------:|:-----------:|:---------------|; |osx 10.14|roottest-python-pythonizations|22,82|26,89|20,08|; |osx 10.14| roottest-cling| 589,67|452,97|307,34|; |osx 10.14| roottest-python| 377,69|475,78|311,5|; |osx 10.14| roottest-root-hist| 60,59|90,98|49,65|; |osx 10.14| roottest-root-math| 106,18|140,41|73,96|; |osx 10.14| roottest-root-tree| 1287,53|1861|1149,35|; |osx 10.14| roottest-root-treeformula | 568,43|907,46|531|; |osx 10.15| root-io-stdarray| - | 126.02 | 31.42|; |osx 10.15| roottest-root-treeformula| - | 327.08 | 231.14 |. The effect of running ctest -j8:; |platform|test|PCH-time|Module-time|Module-PR-time|; |:--------|:---|:---------:|:-----------:|:---------------|; |osx 10.14|roottest-python-pythonizations|14,45|18,89|13,03|; |osx 10.14| roottest-cling| 88,96|118,94|100,1|; |osx 10.14| roottest-python| 107,57|60,93|100,88|; |osx 10.14| roottest-root-",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4717:1541,Patch,Patch,1541,https://root.cern,https://github.com/root-project/root/pull/4717,1,['Patch'],['Patch']
Deployability,"s of your issue. If you find one, you are very welcome to add to the existing report, for instance ""issue still exists in today's master"".; -->. ### Describe the bug. In https://github.com/Homebrew/homebrew-core/pull/75166, macOS 10.14 and 10.15 can't build due to a signbit issue. . ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->. Should build? :). ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->. I don't have a 10.14 or 10.15 machine to test on, if I did, this should do it:. ```bash; cd /usr/local/Homebrew/Library/Taps/homebrew/homebrew-core; gh pr checkout 75166; brew install --build-from-source root; ```. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->. ROOT 6.24.00, macOS < 11, C++17 mode. ### Additional context; <!--; Add any other context about the problem here.; -->. Full error:. ```; While building module 'Core':; While building module 'std' imported from input_line_1:1:; In file included from <module-includes>:31:; In file included from /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/complex.h:28:; In file included from /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/ccomplex:20:; In file included from /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/complex:245:; /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/cmath:317:9: error: missing '#include ""/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/mat",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7881:1209,install,install,1209,https://root.cern,https://github.com/root-project/root/issues/7881,1,['install'],['install']
Deployability,"s succeeded. Full details:; TMVA::MethodBase* TMVA::Factory::BookMethod(TMVA::DataLoader* loader, TString theMethodName, TString methodTitle, TString theOption = """") =>; TypeError: could not convert argument 2; TMVA::MethodBase* TMVA::Factory::BookMethod(TMVA::DataLoader* loader, TMVA::Types::EMVA theMethod, TString methodTitle, TString theOption = """") =>; runtime_error: FATAL error; TMVA::MethodBase* TMVA::Factory::BookMethod(TMVA::DataLoader*, TMVA::Types::EMVA, TString, TString, TMVA::Types::EMVA, TString) =>; TypeError: takes at least 6 arguments (4 given); CMake Error at /builddir/build/BUILD/root-6.28.00/redhat-linux-build/RootTestDriver.cmake:232 (message):; error code: 1; ~~~. #### tutorial-tmva-TMVA_RNN_Classification-py. TypeError: none of the 3 overloaded methods succeeded.; ~~~; 1272/1272 Test #1269: tutorial-tmva-TMVA_RNN_Classification-py ............................***Failed 1.39 sec; Warning in <TMVA_RNN_Classificaton>: Skip using Keras since tensorflow is not installed; Warning in <TMVA_RNN_Classification>: TMVA is not build with GPU or CPU multi-thread support. Cannot use TMVA Deep Learning for RNN; DataSetInfo : [dataset] : Added class ""Signal""; : Add Tree sgn of type Signal with 2000 events; DataSetInfo : [dataset] : Added class ""Background""; : Add Tree bkg of type Background with 2000 events; <FATAL> : Unknown method index in map: 0; ***> abort program execution; Running with nthreads = 25769803776; --- RNNClassification : Using input file: time_data_t10_d30.root; number of variables is 300; vars_time0[0]; [ --- ]; vars_time9[29]; prepared DATA LOADER ; Traceback (most recent call last):; File ""/builddir/build/BUILD/root-6.28.00/tutorials/tmva/TMVA_RNN_Classification.py"", line 331, in <module>; factory.BookMethod(; File ""/builddir/build/BUILD/root-6.28.00/redhat-linux-build/lib/ROOT/_pythonization/_tmva/_factory.py"", line 61, in BookMethod; return self._BookMethod(*args, **kwargs); ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^; TypeError: none of the 3 over",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12429:12701,install,installed,12701,https://root.cern,https://github.com/root-project/root/issues/12429,1,['install'],['installed']
Deployability,"s that have been defined are:. evaluate, simply gives the value of the relativisitic voigt at the point requested; dumpingFunction, this is a commonly used function which is defined as the value of the relativistic voigt at its peak, divided by the value of the relativistic breit wigner at the peak that is part of the relativistic voigt. This is useful as it quantifies how much the voigt is smeared by the gaussian, which as a physical effect in particle physics is usually easily translated to how much sensitivity to a signal you lose due to detector effects. A tutorial Voigt.C has been added in tutorials/math which produces plots comparing the non relativistic and relativistic case of voigt and the dumping function. The output plots from tutorials/math/Voigt.C which produces a plot using the new VoigtRelativistic class which is added in this pull request is here [Voigt](https://cernbox.cern.ch/index.php/s/3Vu40dk74wUDfWe) [DumpingFunction](https://cernbox.cern.ch/index.php/s/Xv3act8hvpaqeCM). As mentioned this relativistic voigt is implemented in mathmore, however there is already a non relativistic voigt in TMath ( called Voigt https://root.cern.ch/doc/master/namespaceTMath.html ). I'm unsure if this is possible but it would be ideal if the documentation here could mention in the non relativistic voigt case that there is a relativistic version available as I think as is very few people even if they want a relativistic case would realise there is one now available (in fact I think many people would just assume the voigt in TMath is relativistic). I have not added a test as I am unsure exactly how to and the non relativistic voigt that already exists does not have a test either to use as a template. I will try to learn how to add tests in the future and hopefully add one for this and the relativistic breit wigner case in the future. Thank you for your help,; Jack. ## Changes or fixes:. ## Checklist:. - [x] tested changes locally; - [x] updated the docs (if necessary)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11049:4799,update,updated,4799,https://root.cern,https://github.com/root-project/root/pull/11049,1,['update'],['updated']
Deployability,"s there is an issue with (ROOT's) cppyy's handling of SFINAE functions with variadic template arguments. . ### Reproducer. ```py; import ROOT; import cppyy. cppyy.cppdef('''; template <typename T> struct TestSfinae {; template <typename U, typename V = T,; std::enable_if_t<std::is_arithmetic_v<V>, bool> = false>; auto test_single(U arg) {; std::cout << ""good"" << std::endl;; return 0;; }; template <typename... Args, typename V = T,; std::enable_if_t<std::is_arithmetic_v<V>, bool> = false>; auto test_pack(Args... args) {; std::cout << ""good"" << std::endl;; return 0;; }; };; '''). # call from cling; cppyy.cppdef('''auto testing = TestSfinae<float>();'''); cppyy.cppdef('''auto single_call = testing.test_single(1);''') # good; cppyy.cppdef('''auto pack_call = testing.test_pack(1,2,3);''') # good. # call from bindings; testing = cppyy.gbl.TestSfinae['float'](); testing.test_single(1) # good; testing.test_pack(1,2,3) # fails; ```. ### ROOT version. ```; ------------------------------------------------------------------; | Welcome to ROOT 6.28/06 https://root.cern |; | (c) 1995-2023, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built for macosx64 on Sep 17 2023, 12:38:14 |; | From heads/latest-stable@7745d36d |; | With Apple clang version 14.0.3 (clang-1403.0.22.14.1) |; | Try '.help'/'.?', '.demo', '.license', '.credits', '.quit'/'.q' |; ------------------------------------------------------------------; ```. ### Installation method. build from source. ### Operating system. MacOS. ### Additional context. ```; input_line_24:6:70: error: no matching member function for call to 'test_pack'; new (ret) (int) (((TestSfinae<float>*)obj)->TestSfinae<float>::test_pack<int, int, int, float, false>(*(int*)args[0], *(int*)args[1],; ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~; input_line_18:11:8: note: candidate template ignored: invalid explicitly-specified argument for template parameter 'Args'; auto test_pack(Args... args) {; ^; ```",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14016:1553,Install,Installation,1553,https://root.cern,https://github.com/root-project/root/issues/14016,1,['Install'],['Installation']
Deployability,"s(205,5): error MSB4018: System.IO.IOException: The process cannot access the file 'C:\Users\sftnight\build\release\interpreter\llvm\src\lib\Target\X86\x64\Release\X86CommonTableGen\X86Commo.12E1F1A7.tlog\CustomBuild.command.1.tlog' because it is being used by another process. [C:\Users\sftnight\build\release\interpreter\llvm\src\lib\Target\X86\X86CommonTableGen.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Microsoft\VC\v170\Microsoft.CppCommon.targets(205,5): error MSB4018: at System.IO.__Error.WinIOError(Int32 errorCode, String maybeFullPath) [C:\Users\sftnight\build\release\interpreter\llvm\src\lib\Target\X86\X86CommonTableGen.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Microsoft\VC\v170\Microsoft.CppCommon.targets(205,5): error MSB4018: at System.IO.FileStream.Init(String path, FileMode mode, FileAccess access, Int32 rights, Boolean useRights, FileShare share, Int32 bufferSize, FileOptions options, SECURITY_ATTRIBUTES secAttrs, String msgPath, Boolean bFromProxy, Boolean useLongPath, Boolean checkHost) [C:\Users\sftnight\build\release\interpreter\llvm\src\lib\Target\X86\X86CommonTableGen.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Microsoft\VC\v170\Microsoft.CppCommon.targets(205,5): error MSB4018: at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options, String msgPath, Boolean bFromProxy, Boolean useLongPath, Boolean checkHost) [C:\Users\sftnight\build\release\interpreter\llvm\src\lib\Target\X86\X86CommonTableGen.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Microsoft\VC\v170\Microsoft.CppCommon.targets(205,5): error MSB4018: at System.IO.StreamWriter.CreateFile(String path, Boolean append, Boolean checkHost) [C:\Users\sftnight\build\release\interpreter\llvm\src\lib\Target\X86\X86CommonTableGen.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Micro",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10247:1597,release,release,1597,https://root.cern,https://github.com/root-project/root/pull/10247,1,['release'],['release']
Deployability,"s(ESignals) () from /home/vpadulan/Programs/rootproject/rootinstall/v6-24-00/lib/libCore.so; #5 <signal handler called>; #6 0x0000000000000000 in ?? (); #7 0x000000000040237c in ROOT::Experimental::RHist<1, double, ROOT::Experimental::RHistStatContent, ROOT::Experimental::RHistStatUncertainty>::Fill(ROOT::Experimental::Hist::RCoordArray<1> const&, double) (); #8 0x00000000004021e4 in main (); ===========================================================. The lines below might hint at the cause of the crash.; You may get help by asking at the ROOT forum https://root.cern.ch/forum; Only if you are really convinced it is a bug in ROOT then please submit a; report at https://root.cern.ch/bugs Please post the ENTIRE stack trace; from above as an attachment in addition to anything else; that might help us fixing this issue.; ===========================================================; #6 0x0000000000000000 in ?? (); #7 0x000000000040237c in ROOT::Experimental::RHist<1, double, ROOT::Experimental::RHistStatContent, ROOT::Experimental::RHistStatUncertainty>::Fill(ROOT::Experimental::Hist::RCoordArray<1> const&, double) (); #8 0x00000000004021e4 in main (); ===========================================================; ```. ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->; No segfault, plus either; * Entries are filled correctly; * I get a clear error of what I'm doing wrong; ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->; Everything is shown above; ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->. ROOT 6.24.00; Built on Fedora32 with following cmake command `cmake -GNinja -DCMAKE_BUILD_TYPE=Release`",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7971:3096,install,install,3096,https://root.cern,https://github.com/root-project/root/issues/7971,2,"['Release', 'install']","['Release', 'install']"
Deployability,"s-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #19 0x00002b8fcf5e611e in clang::Parser::ParseDeclOrFunctionDefInternal(clang::Parser::ParsedAttributesWithRange&, clang::ParsingDeclSpec&, clang::AccessSpecifier) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #20 0x00002b8fcf5e64b1 in clang::Parser::ParseDeclarationOrFunctionDefinition(clang::Parser::ParsedAttributesWithRange&, clang::ParsingDeclSpec*, clang::AccessSpecifier) [clone .part.0] () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #21 0x00002b8fcf5ecf42 in clang::Parser::ParseExternalDeclaration(clang::Parser::ParsedAttributesWithRange&, clang::ParsingDeclSpec*) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #22 0x00002b8fcf5ed399 in clang::Parser::ParseTopLevelDecl(clang::OpaquePtr<clang::DeclGroupRef>&) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #23 0x00002b8fcef7c0e6 in cling::IncrementalParser::ParseInternal(llvm::StringRef) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #24 0x00002b8fcef7dfed in cling::IncrementalParser::Compile(llvm::StringRef, cling::CompilationOptions const&) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #25 0x00002b8fceee6852 in cling::Interpreter::DeclareInternal(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, cling::CompilationOptions const&, cling::Transa",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7093:8768,patch,patch,8768,https://root.cern,https://github.com/root-project/root/issues/7093,1,['patch'],['patch']
Deployability,"s. ### Describe the bug; Using pyRoot, preparing a selection string to use in TTree.GetEntries(const string * selection), it seems that a string of the type: `_value1_ <= _variable_ <= _value2_""`. should be working but insteads it returns an error: `TTreeFormula bad expression ""=_value2_""`. when other operators work just fine (no error), e.g.:. - `_value1_ < _variable_ < _value2_""`; - `_value1_ <= _variable_ < _value2_""`; - etc. I have tried with and without parentheses around the conditions. The only working solution (for now) to write: `_value1_ <= _variable_ && _variable_ <= _value2_""`. but this sensibly slows the code. ### Expected behavior; Using `_value1_ <= _variable_ <= _value2_""` should not return an error when trying to limit a variable to a closed interval, in the same way it works when limiting a variable to an open interval. ### To Reproduce; Steps to reproduce the behavior:; 1. The code that can reproduce the issue is the following:; ```; import itertools; import numpy as np; import ROOT as rt; paramList = { 'Variable_1' : np.linspace(0,1,4),; 'Variable_2' : np.linspace(0,3,5) }. boundaries = list(itertools.product(*[itertools.combinations(val,2) for val in paramList.values()])); for val in boundaries:; string = 'dmID_signal == <whatever ID for final particle>'; for bounds, key in enumerate(paramList.keys()):; string += "" && ({} <= {} <= {})"".format(val[bounds][0], key, key, val[bounds][1]); signal = sigData.GetEntries(string); ```. 2. I cannot really join a .root file here, but it is just a matter of changing _Variable_1_ and _Variable_2_ of _paramList_ for 2 variables of a TTree. Also, I start the selection string with a selection of dmID but that can be removed, you just need to modify the string so that it doesn't start with _&&_. 3. To run the code, write it in a python file or jupyter notebook and run it using Python 3. ### Setup; 1. JupyROOT 6.22/08; 2. Linux Mint 19.3 Cinnamon; 3. Installed Root using conda. ### Additional context; Using PyRoot",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7986:1963,Install,Installed,1963,https://root.cern,https://github.com/root-project/root/issues/7986,1,['Install'],['Installed']
Deployability,"s.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #10 0x00007ffff560ee22 in TClass::GetClass(char const*, bool, bool, unsigned long, unsigned long) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #11 0x00007ffff563608a in TProtoClass::FillTClass(TClass*) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #12 0x00007ffff56188e5 in TClass::Init(char const*, short, std::type_info const*, TVirtualIsAProxy*, char const*, char const*, int, int, ClassInfo_t*, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #13 0x00007ffff5619f76 in TClass::TClass(char const*, short, std::type_info const&, TVirtualIsAProxy*, char const*, char const*, int, int, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #14 0x00007ffff561a48a in ROOT::CreateClass(char const*, short, std::type_info const&, TVirtualIsAProxy*, char const*, char const*, int, int) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #15 0x00007ffff562906a in ROOT::TGenericClassInfo::GetClass() (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #16 0x00007ffff5606b70 in TClass::LoadClassDefault(char const*, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #17 0x00007ffff560ee9c in TClass::GetClass(char const*, bool, bool, unsigned long, unsigned long) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; ...; ```. The unload() call here may free the Transaction T; (via IncrementalParser::dereg",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7657:14902,patch,patches,14902,https://root.cern,https://github.com/root-project/root/issues/7657,1,['patch'],['patches']
Deployability,"s.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #27 0x00007ffff560ee22 in TClass::GetClass(char const*, bool, bool, unsigned long, unsigned long) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #28 0x00007ffff563608a in TProtoClass::FillTClass(TClass*) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #29 0x00007ffff56188e5 in TClass::Init(char const*, short, std::type_info const*, TVirtualIsAProxy*, char const*, char const*, int, int, ClassInfo_t*, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #30 0x00007ffff5619f76 in TClass::TClass(char const*, short, std::type_info const&, TVirtualIsAProxy*, char const*, char const*, int, int, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #31 0x00007ffff561a48a in ROOT::CreateClass(char const*, short, std::type_info const&, TVirtualIsAProxy*, char const*, char const*, int, int) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #32 0x00007ffff562906a in ROOT::TGenericClassInfo::GetClass() (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #33 0x00007ffff5606b70 in TClass::LoadClassDefault(char const*, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #34 0x00007ffff560ee9c in TClass::GetClass(char const*, bool, bool, unsigned long, unsigned long) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patche; s/x86_64-centos7-gcc8-opt/lib/libCore.so; #35 0x00007ffff645805b in ?? (); #36 0x000000000000042e in ?? (); #37 0x00007fffefb8337e",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7657:7511,patch,patches,7511,https://root.cern,https://github.com/root-project/root/issues/7657,1,['patch'],['patches']
Deployability,"s/core/meta/src/TClass.cxx:2679; #13 0x00007ffff260a9f6 in TClass::GetBaseClass (this=0x2c3e4b0, cl=0x235be20); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/meta/src/TClass.cxx:2688; #14 0x00007ffff2611f76 in TClass::InheritsFrom (this=0x2c3e4b0, cl=0x235be20); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/meta/src/TClass.cxx:4891; #15 0x00007ffff26163d7 in TClass::Property (this=0x2c3e4b0); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/meta/src/TClass.cxx:6097; #16 0x00007ffff261a27d in TClass::IsClassStructOrUnion (this=0x2c3e4b0); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/meta/inc/TClass.h:352; #17 0x00007ffff260e309 in TClass::GetListOfDataMembers (this=0x2c3e4b0, ; load=true); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/meta/src/TClass.cxx:3759; #18 0x00007ffff7d132ac in CloseStreamerInfoROOTFile (writeEmptyRootPCM=false); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/io/rootpcm/src/rootclingIO.cxx:162; #19 0x00007ffff305e2a7 in FinalizeStreamerInfoWriting (interp=..., ; writeEmptyRootPCM=false); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/dictgen/src/rootcling_impl.cxx:2632; #20 0x00007ffff305ecd8 in GenerateFullDict (dictStream=..., interp=..., ; scan=..., ctorTypes=..., isSplit=false, isGenreflex=true, ; writeEmptyRootPCM=false); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/dictgen/src/rootcling_impl.cxx:2784; #21 0x00007ffff306ba57 in RootClingMain (argc=7, argv=0x4a4f10, ; isGenreflex=true); at",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11259:4659,patch,patches,4659,https://root.cern,https://github.com/root-project/root/issues/11259,2,['patch'],['patches']
Deployability,"s/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #17 0x00007ffff551c9e3 in TROOT::LoadClass(char const*, char const*, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #18 0x00007fffefb05a65 in TCling::ShallowAutoLoadImpl(char const*) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCling.so; #19 0x00007fffefb1acd2 in TCling::DeepAutoLoadImpl(char const*, std::unordered_set<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > >&, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCling.so; #20 0x00007fffefb1b377 in TCling::AutoLoad(char const*, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCling.so; #21 0x00007ffff560ee86 in TClass::GetClass(char const*, bool, bool, unsigned long, unsigned long) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #22 0x00007ffff563608a in TProtoClass::FillTClass(TClass*) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #23 0x00007ffff56188e5 in TClass::Init(char const*, short, std::type_info const*, TVirtualIsAProxy*, char const*, char const*, int, int, ClassInfo_t*, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #24 0x00007ffff5619f76 in TClass::TClass(char const*, short, std::type_info const&, T",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7657:4972,patch,patches,4972,https://root.cern,https://github.com/root-project/root/issues/7657,1,['patch'],['patches']
Deployability,s/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_ptr.hpp:17:; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1072:31: error: expected expression; template<class T> inline bool atomic_is_lock_free( shared_ptr<T> const * /*p*/ ) BOOST_SP_NOEXCEPT; ^; /Users/krasznaa/ATLAS/sw/projects/externals/build/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:83:73: note: expanded from macro 'atomic_is_lock_free'; #define atomic_is_lock_free(obj) __c11_atomic_is_lock_free(sizeof(*(obj))); ^; In file included from libMyLibrary dictionary payload:5:; In file included from ./MyClass.h:6:; In file included from /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_ptr.hpp:17:; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1072:81: error: expected ';' at end of declaration; template<class T> inline bool atomic_is_lock_free( shared_ptr<T> const * /*p*/ ) BOOST_SP_NOEXCEPT; ^; ;; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1072:82: error: expected unqualified-id; template<class T> inline bool atomic_is_lock_free( shared_ptr<T> const * /*p*/ ) BOOST_SP_NOEXCEPT; ^; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/detail/sp_noexcept.hpp:28:29: note: expanded from macro 'BOOST_SP_NOEXCEPT'; # define BOOST_SP_NOEXCEPT BOOST_NOEXCEPT; ^; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/config/detail,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6454:2039,install,install,2039,https://root.cern,https://github.com/root-project/root/issues/6454,1,['install'],['install']
Deployability,"s7-gcc9-opt/lib/python3.7/pickle.py"", line 774, in save_tuple; save(element); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 504, in save; f(self, obj) # Call unbound method with explicit self; File ""/cvmfs/sft.cern.ch/lcg/views/LCG_97python3/x86_64-centos7-gcc9-opt/lib/python3.7/site-packages/dill/_dill.py"", line 1269, in save_module; state=_main_dict); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 662, in save_reduce; save(state); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 504, in save; f(self, obj) # Call unbound method with explicit self; File ""/cvmfs/sft.cern.ch/lcg/views/LCG_97python3/x86_64-centos7-gcc9-opt/lib/python3.7/site-packages/dill/_dill.py"", line 902, in save_module_dict; StockPickler.save_dict(pickler, obj); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 859, in save_dict; self._batch_setitems(obj.items()); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 885, in _batch_setitems; save(v); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 504, in save; f(self, obj) # Call unbound method with explicit self; File ""/cvmfs/sft.cern.ch/lcg/views/LCG_97python3/x86_64-centos7-gcc9-opt/lib/python3.7/site-packages/dill/_dill.py"", line 902, in save_module_dict; StockPickler.save_dict(pickler, obj); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 859, in save_dict; self._batch_setitems(obj.items()); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 890, in _batch_setitems; save(v); File ""/cvmf",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6370:4099,release,releases,4099,https://root.cern,https://github.com/root-project/root/issues/6370,1,['release'],['releases']
Deployability,"s7-gcc9-opt/lib/python3.7/site-packages/dill/_dill.py"", line 1269, in save_module; state=_main_dict); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 662, in save_reduce; save(state); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 504, in save; f(self, obj) # Call unbound method with explicit self; File ""/cvmfs/sft.cern.ch/lcg/views/LCG_97python3/x86_64-centos7-gcc9-opt/lib/python3.7/site-packages/dill/_dill.py"", line 902, in save_module_dict; StockPickler.save_dict(pickler, obj); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 859, in save_dict; self._batch_setitems(obj.items()); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 885, in _batch_setitems; save(v); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 504, in save; f(self, obj) # Call unbound method with explicit self; File ""/cvmfs/sft.cern.ch/lcg/views/LCG_97python3/x86_64-centos7-gcc9-opt/lib/python3.7/site-packages/dill/_dill.py"", line 902, in save_module_dict; StockPickler.save_dict(pickler, obj); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 859, in save_dict; self._batch_setitems(obj.items()); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 890, in _batch_setitems; save(v); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 504, in save; f(self, obj) # Call unbound method with explicit self; File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 819, in save_list; self._batch",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6370:4427,release,releases,4427,https://root.cern,https://github.com/root-project/root/issues/6370,1,['release'],['releases']
Deployability,"s://sft.its.cern.ch/jira/issues/?jql=project %3D ROOT); for existing reports of your issue. If you find one, you are very welcome to add to the existing report, for instance ""issue still exists in today's master"".; -->. ### Describe the bug; <!--; A clear and concise description of what the wrong behavior is.; -->; Creating a branch in `TTree` with type `std::vector<A>` raises an internal error in ROOT, when class `A` inherits from a class that uses the old I/O system. ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->; Branch should be created successfully (I don't know if this behavior is supposed to be supported) or ROOT should abort with a more descriptive error message. ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->; Compile and run the following macro with `root -l -b -q T.C+`:; ```C++; #include <vector>; #include ""TTree.h"". #pragma link C++ class A;; #pragma link C++ class B+;; #pragma link C++ class std::vector<B>+;. struct A {; int x;; ClassDef(A, 1);; };; ClassImp(A);. struct B : A {; int y;; ClassDef(B, 1);; };; ClassImp(B);. void T() {; TTree* tree = new TTree(""T"", ""T"");; std::vector<B> bvec;; tree->Branch(""B"", &bvec);; }; ```; Macro aborts with the error: ; ```Fatal in <TBranchElement::InitializeOffsets>: Could not find the real data member 'B' when constructing the branch 'B' [Likely an internal error, please report to the developers].```. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->; 1. ROOT version: 6.22.08 (built myself), 6.26.00 (binary download); 2. Operating System: Ubuntu 18.04. ### Additional context; <!--; Add any other context about the problem here.; -->; None.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10240:1893,install,install,1893,https://root.cern,https://github.com/root-project/root/issues/10240,1,['install'],['install']
Deployability,s</summary>. Failures in `master` on my system:; ```; Cling :: CodeUnloading/PCH/VTables.C; Cling :: DynamicLibraryManager/callable_lib_L_AB_order1.C; ```. Remaining failures (excluding the ones above):; ```; Cling :: CodeGeneration/Symbols.C; Cling :: CodeUnloading/AtExit.C; Cling :: CodeUnloading/PCH/VTablesClingPCH.C; Cling :: CodeUnloading/RereadFile.C; Cling :: ErrorRecovery/StoredState.C; Cling :: MultipleInterpreters/MultipleInterpreters.C; ```; </details>. ROOT:; - [x] Compare the build size against master; - [x] Compare the `.pcm` file size against master; - [ ] Add flags to ignore compilation warnings coming from llvm; - [x] Remove the FIXME from commit 'Add another symbol generator to resolve the generated lazy symbol' - the explanation is in the commit; - [x] Fix the llvm::StringRef conversion failures on OSX. <details>; <summary>; Binary Size this PR needs 13% more space (2.3 vs 2. GB); </summary>. ```; du -hs root-release-llvm13; 2.3G	.; (base) vvassilev@vv-nuc /build/vvassilev/root-release-llvm13 $ du -hs ../root-release-master/; 2.0G	../root-release-master/; ```. </details>. <details>; <summary>; Module files need ~5% more space on disk (215 vs 206 MB); </summary>. ```; diff -y llvm13 master ; 424K	lib/ASImageGui.pcm				 |	444K	lib/ASImageGui.pcm; 468K	lib/ASImage.pcm					 |	484K	lib/ASImage.pcm; 4.2M	lib/_Builtin_intrinsics.pcm			 |	4.0M	lib/_Builtin_intrinsics.pcm; 48K	lib/_Builtin_stddef_max_align_t.pcm		 |	44K	lib/_Builtin_stddef_max_align_t.pcm; 200K	lib/Cling_Runtime_Extra.pcm			 |	132K	lib/Cling_Runtime_Extra.pcm; 100K	lib/Cling_Runtime.pcm					100K	lib/Cling_Runtime.pcm; 11M	lib/Core.pcm					 |	9.6M	lib/Core.pcm; 564K	lib/EG.pcm					 |	584K	lib/EG.pcm; 5.7M	lib/Eve.pcm					 |	5.4M	lib/Eve.pcm; 652K	lib/FitPanel.pcm				 |	656K	lib/FitPanel.pcm; 504K	lib/Foam.pcm					 |	520K	lib/Foam.pcm; 440K	lib/Fumili.pcm					 |	460K	lib/Fumili.pcm; 1.2M	lib/Gdml.pcm						1.2M	lib/Gdml.pcm; 960K	lib/Ged.pcm					 |	968K	lib/Ged.pcm; 432K	lib/Genetic.pcm					 |,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10294:1346,release,release-,1346,https://root.cern,https://github.com/root-project/root/pull/10294,1,['release'],['release-']
Deployability,"sEdit.h TError.h ThreadLocalStorage.h ROOT/RLogger.hxx ROOT/RNotFn.hxx ROOT/RRangeCast.hxx ROOT/RSpan.hxx ROOT/RStringView.hxx ROOT/StringUtils.hxx ROOT/span.hxx ROOT/TypeTraits.hxx ROOT/RError.hxx GuiTypes.h TApplicationImp.h TBrowser.h TBrowserImp.h TCanvasImp.h TClassMenuItem.h TContextMenu.h TContextMenuImp.h TControlBarImp.h TGuiFactory.h TInspectorImp.h TObjectSpy.h TToggleGroup.h TToggle.h TBaseClass.h TClassGenerator.h TClass.h TClassRef.h TClassStreamer.h TDataMember.h TDataType.h TDictAttributeMap.h TDictionary.h TEnumConstant.h TEnum.h TFileMergeInfo.h TFunction.h TFunctionTemplate.h TGenericClassInfo.h TGlobal.h TInterpreter.h TInterpreterValue.h TIsAProxy.h TListOfDataMembers.h TListOfEnums.h TListOfEnumsWithLock.h TListOfFunctions.h TListOfFunctionTemplates.h TMemberStreamer.h TMethodArg.h TMethodCall.h TMethod.h TProtoClass.h TRealData.h TSchemaHelper.h TSchemaRule.h TSchemaRuleSet.h TStatusBitsChecker.h TStreamerElement.h TStreamer.h TVirtualIsAProxy.h TVirtualRefProxy.h TVirtualStreamerInfo.h TVirtualArray.h TVirtualObject.h Getline.h TUnixSystem.h /home/stephan/Projects/ROOT/core/base/inc/LinkDef.h; : CommandLine Error: Option 'W' registered more than once!; LLVM ERROR: inconsistency in registered CommandLine options; ```. ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->. Build does not fail. ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->. Building git master with #12154 and `builtin_llvm=OFF libbsd=ON`. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->. git master with #12154, 13.0.1-11+b2. ### Additional context; <!--; Add any other context about the problem here.; -->",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12156:6506,install,install,6506,https://root.cern,https://github.com/root-project/root/issues/12156,1,['install'],['install']
Deployability,"sToFourLeptons_8C.html) crashes when it is compiled and run (it runs fine if interpreted).; This is due to jitted code in some filters that call user-defined functions whose signature is unknown to Cling. This is a general problem with functions that evaluate code at runtime and, while it might not be possible to fix in all cases, it should at least be better documented. The tutorials themselves should be written to work both when compiled and when interpreted, or specify why they cannot be run as-is if compiled. There is also a more general discussion to be made about RDF and the kind of guarantees that it should provide to its users. Ideally there should be a way to use RDF such that it will be guaranteed to run correctly regardless of being compiled or interpreted. Finally, the documentation of RDF should be updated to better clarify the caveats and limitations of passing C++ expressions as strings, both in terms of performance and, especially, in terms of compatibility with compiled code (i.e. it should be clear to a user that a filter using an interpreted string containing a user-defined function may not work when AOT-compiled without additional efforts on the user side - like manually passing the signatures to cling beforehand). ### Bullet point recap; - [ ] fix the tutorials so they run properly when compiled AOT; - [ ] update the doc of RDF to include caveats and limitations of using jitted expressions; - [ ] (to be discussed) introduce an opt-in ""strict mode"" for RDF (C++ only) that checks and rejects all cases when jitting is required. This would allow a user to catch code that may incur in performance penalties and may not work properly when AOT-compiled. . ### Reproducer. 1. download the source code of [this tutorial](https://root.cern/doc/master/df106__HiggsToFourLeptons_8C.html); 2. compile it; 3. run it. ### ROOT version. 6.33.01. ### Installation method. from source. ### Operating system. Debian GNU/Linux trixie. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15638:1493,update,update,1493,https://root.cern,https://github.com/root-project/root/issues/15638,2,"['Install', 'update']","['Installation', 'update']"
Deployability,"s\sftnight\build\release\interpreter\llvm\src\lib\Target\X86\X86CommonTableGen.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Microsoft\VC\v170\Microsoft.CppCommon.targets(205,5): error MSB4018: at System.IO.StreamWriter..ctor(String path, Boolean append, Encoding encoding, Int32 bufferSize, Boolean checkHost) [C:\Users\sftnight\build\release\interpreter\llvm\src\lib\Target\X86\X86CommonTableGen.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Microsoft\VC\v170\Microsoft.CppCommon.targets(205,5): error MSB4018: at System.IO.File.InternalWriteAllText(String path, String contents, Encoding encoding, Boolean checkHost) [C:\Users\sftnight\build\release\interpreter\llvm\src\lib\Target\X86\X86CommonTableGen.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Microsoft\VC\v170\Microsoft.CppCommon.targets(205,5): error MSB4018: at Microsoft.Build.CPPTasks.GetOutOfDateItems.Execute() [C:\Users\sftnight\build\release\interpreter\llvm\src\lib\Target\X86\X86CommonTableGen.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Microsoft\VC\v170\Microsoft.CppCommon.targets(205,5): error MSB4018: at Microsoft.Build.BackEnd.TaskExecutionHost.Microsoft.Build.BackEnd.ITaskExecutionHost.Execute() [C:\Users\sftnight\build\release\interpreter\llvm\src\lib\Target\X86\X86CommonTableGen.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Microsoft\VC\v170\Microsoft.CppCommon.targets(205,5): error MSB4018: at Microsoft.Build.BackEnd.TaskBuilder.<ExecuteInstantiatedTask>d__26.MoveNext() [C:\Users\sftnight\build\release\interpreter\llvm\src\lib\Target\X86\X86CommonTableGen.vcxproj]; obj.clangAST.vcxproj -> C:\Users\sftnight\build\release\interpreter\llvm\src\tools\clang\lib\AST\obj.clangAST.dir\Release\obj.clangAST.lib; ```; Another patch will be applied in `roottest`, removing the `RUN_SERIAL` flag on many tests, allowing to save quite some time when running roottest in parallel",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10247:3321,release,release,3321,https://root.cern,https://github.com/root-project/root/pull/10247,6,"['Release', 'patch', 'release']","['Release', 'patch', 'release']"
Deployability,"s_integral<T>::value>::type>; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:93:56: error: use of undeclared identifier 'std'; template <class T, class = typename std::enable_if<std::is_integral<T>::value>::type>; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:93:83: error: expected ',' or '>' in template-parameter-list; template <class T, class = typename std::enable_if<std::is_integral<T>::value>::type>; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:95:14: error: use of undeclared identifier 'std'; return std::is_signed<T>::value; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:94:35: error: no return statement in constexpr function; static constexpr EStorageType determineStorageTypeT(T*) {; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:198:11: error: use of undeclared identifier 'std'; = std::is_reference<T>::value ?; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:199:40: error: use of undeclared identifier 'std'; determineStorageTypeT((typename std::remove_reference<T>::type**)nullptr); ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:199:66: error: expected a qualified name after 'typename'; determineStorageTypeT((typename std::remove_reference<T>::type**)nullptr); ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:199:66: error: unknown type name 'type'; While building module 'Core':; While building module 'Cling_Runtime' imported from input_line_2:1:; In file included from <module-includes>:1:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/RuntimeUniverse.h:27:10: fatal error: could not build module 'Cling_Runtime_Extra'; #include ""cling/Interpreter/Visibility.h""; ~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~; input_line_2:1:10: fatal error: could not build module 'Cling_Runtime'",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10528:18109,Install,Installed,18109,https://root.cern,https://github.com/root-project/root/issues/10528,1,['Install'],['Installed']
Deployability,"s` for `vector<type2>`, let's call it `c1` but (intentionaly because it is not needed yet) does not trigger the loading of the dictionary the `vector<type2>`; * Some other operation requires the loading of the library that contains the dictionary for `vector<type2>`; ** SInce `c1` exists, it is replaced by the dictionary generated TClass for `vector<type2>`, let's call it `c2`; ** Part of this replacement is to transfer `c1`'s StreamerInfo into `c2` (after 'reseting` it's state); * Then the `StreamerInfos` are copied form the input file to the output ; ** This includes ""building"" and ""compiling"" the StreamerInfo; *** This crasesd when calling `AddReadAction`. An STL collection's TClass (like `c1` and `c2`)'s StreamerInfo contains an artificial StreamerElement (for infrastructures purposes) that points back to its owner. So when the `StreamerInfo` is created it has internally a pointer to `c1`. The deficiency is that when`c1` is replaced by `c2` and then deleted, the StreamerInfo was not updated and thus the later building of the `StreamerInfo` was using a stale pointer to `c1`. ```; #4 <signal handler called>; #5 0x00002af4f3e84290 in TStreamerInfo::AddReadAction (this=0x2af506a31000, readSequence=0x2af536e87740, i=0, compinfo=0x2af59072d588) at /data/cmsbld/jenkins/workspace/ib-run-pr-tests/testBuildDir/BUILD/slc7_amd64_gcc820/lcg/root/6.22.03-1718c3698c5b60720e5f35ab8ee4efc5/root-6.22.03/io/io/src/TStreamerInfoActions.cxx:3317; #6 0x00002af4f3e830c9 in TStreamerInfo::Compile (this=0x2af506a31000) at /data/cmsbld/jenkins/workspace/ib-run-pr-tests/testBuildDir/BUILD/slc7_amd64_gcc820/lcg/root/6.22.03-1718c3698c5b60720e5f35ab8ee4efc5/root-6.22.03/io/io/src/TStreamerInfoActions.cxx:3191; #7 0x00002af4f3e6c1ae in TStreamerInfo::BuildOld (this=0x2af506a31000) at /data/cmsbld/jenkins/workspace/ib-run-pr-tests/testBuildDir/BUILD/slc7_amd64_gcc820/lcg/root/6.22.03-1718c3698c5b60720e5f35ab8ee4efc5/root-6.22.03/io/io/src/TStreamerInfo.cxx:2547; #8 0x00002af4f45f22ad in TClas",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6767:1780,update,updated,1780,https://root.cern,https://github.com/root-project/root/issues/6767,1,['update'],['updated']
Deployability,schema evolution update for v614,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2260:17,update,update,17,https://root.cern,https://github.com/root-project/root/pull/2260,1,['update'],['update']
Deployability,"scribed by @jalopezg-git in https://github.com/root-project/root/pull/12449#issuecomment-1467860880 and can be fixed in a future PR. Consider the following test case:. test.h:; ```cpp; template <typename T>; class Helper {. public:. Helper() {}. std::size_t operator() () const {; const std::size_t res = 0;; res = T{0, 0}.size();; return res;; }. };. template <typename H>; std::size_t call_helper(const H &helper) {; return helper();; }; ```. test.py; ```python; import ROOT. ret = ROOT.gInterpreter.Declare('#include ""test.h""'); print(""declare ret"", ret). print(""creating helper""); helper = ROOT.Helper[ROOT.std.vector[""double""]](). print(""calling helper""). for i in range(2):; print(f""call attempt {i}""); try:; res = ROOT.call_helper(helper); print(""helper call succeeded:"", res); except Exception as e:; print(""helper call failed""); print(e); ```. The output below is now close to optimal for the first instantiation attempt. On the second instantiation attempt the error message is different/less useful because of the imperfect transaction rollback already noted. (but the same happens instantiating the template through ```TInterpreter::Declare``` as said). ```; declare ret True; creating helper; calling helper; call attempt 0; helper call failed; Template method resolution failed:; Failed to instantiate ""call_helper(Helper<vector<double> >&)""; In file included from input_line_52:1:; /home/b/bendavid/pyrootdebug6/test.h:10:9: error: cannot assign to variable 'res' with const-qualified type 'const std::size_t' (aka 'const unsigned long'); res = T{0, 0}.size();; ~~~ ^; /home/b/bendavid/pyrootdebug6/test.h:18:10: note: in instantiation of member function 'Helper<std::vector<double, std::allocator<double> > >::operator()' requested here; return helper();; ^; note: in instantiation of function template specialization 'call_helper<Helper<std::vector<double, std::allocator<double> > > >' requested here; /home/b/bendavid/pyrootdebug6/test.h:9:23: note: variable 'res' declared const h",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12449:2077,rollback,rollback,2077,https://root.cern,https://github.com/root-project/root/pull/12449,1,['rollback'],['rollback']
Deployability,"scriptorBuilder&)>: Pre-release format version: RC 1; [ OK ] RNTuple.Casting (12 ms); [ RUN ] RNTuple.TClass; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RPageStorageFile.cxx:51 in ROOT::Experimental::Detail::RPageSinkFile::RPageSinkFile(std::string_view, const ROOT::Experimental::RNTupleWriteOptions&)>: The RNTuple file format will change. Do not store real data with this version of RNTuple!; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experimental::Internal::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNTupleDescriptorBuilder&)>: Pre-release format version: RC 1; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experimental::Internal::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNTupleDescriptorBuilder&)>: Pre-release format version: RC 1; [ OK ] RNTuple.TClass (119 ms); [ RUN ] RNTuple.TClassMultipleInheritance; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RPageStorageFile.cxx:51 in ROOT::Experimental::Detail::RPageSinkFile::RPageSinkFile(std::string_view, const ROOT::Experimental::RNTupleWriteOptions&)>: The RNTuple file format will change. Do not store real data with this version of RNTuple!; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experimental::Internal::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNTupleDescriptorBuilder&)>: Pre-release format version: RC 1; [ OK ] RNTuple.TClassMultipleInheritance (87 ms); [ RUN ] RNTuple.TClassEBO; *** Break *** segmentation violation; ========================================",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12428:5648,release,release,5648,https://root.cern,https://github.com/root-project/root/issues/12428,1,['release'],['release']
Deployability,se branch in /opt/root_src/graf3d/eve7/glu/sweep.c:779; 46: Assuming 'eUp->Dst' is not equal to 'eLo->Dst' in /opt/root_src/graf3d/eve7/glu/sweep.c:791; 47: Taking true branch in /opt/root_src/graf3d/eve7/glu/sweep.c:791; 48: Taking true branch in /opt/root_src/graf3d/eve7/glu/sweep.c:793; 49: Assuming field 'fixUpperEdge' is not equal to 0 in /opt/root_src/graf3d/eve7/glu/sweep.c:799; 50: Taking true branch in /opt/root_src/graf3d/eve7/glu/sweep.c:799; 51: Calling 'DeleteRegion' in /opt/root_src/graf3d/eve7/glu/sweep.c:800; 52: Field 'fixUpperEdge' is not equal to 0 in /opt/root_src/graf3d/eve7/glu/sweep.c:153; 53: Taking true branch in /opt/root_src/graf3d/eve7/glu/sweep.c:153; 54: Assuming field 'winding' is equal to 0 in /opt/root_src/graf3d/eve7/glu/sweep.c:158; 55: expanded from macro 'assert' in /usr/include/assert.h:109; 56: Taking true branch in /opt/root_src/graf3d/eve7/glu/sweep.c:158; 57: expanded from macro 'assert' in /usr/include/assert.h:109; 58: Memory is released in /opt/root_src/graf3d/eve7/glu/sweep.c:162; 59: expanded from macro 'memFree' in /opt/root_src/graf3d/eve7/glu/memalloc.h:41; 60: Returning; memory was released via 2nd parameter in /opt/root_src/graf3d/eve7/glu/sweep.c:800; 61: Assuming the condition is false in /opt/root_src/graf3d/eve7/glu/sweep.c:801; 62: Taking false branch in /opt/root_src/graf3d/eve7/glu/sweep.c:801; 63: Use of memory after it is freed in /opt/root_src/graf3d/eve7/glu/sweep.c:803; /opt/root_src/graf3d/eve7/glu/sweep.c:808:10: warning: Use of memory after it is freed [clang-analyzer-unix.Malloc]; 1: Assuming the condition is false in /opt/root_src/graf3d/eve7/glu/sweep.c:1321; 2: Taking false branch in /opt/root_src/graf3d/eve7/glu/sweep.c:1321; 3: Assuming the condition is true in /opt/root_src/graf3d/eve7/glu/sweep.c:1325; 4: Loop condition is true. Entering loop body in /opt/root_src/graf3d/eve7/glu/sweep.c:1325; 5: Loop condition is true. Entering loop body in /opt/root_src/graf3d/eve7/glu/sweep.c:1326; 6: Assum,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7531:20162,release,released,20162,https://root.cern,https://github.com/root-project/root/issues/7531,1,['release'],['released']
Deployability,"se description of what the wrong behavior is.; -->; Everytime I call fitTo there seems to be various roofit objects that are created and are not cleaned after every iteration. I cannot get RooTrace::dump() to output anything but I am able to use RooTrace::printObjectCounts() to output the object counts. It seems fitTo creates a bunch of RooAbsCollection objects that are not cleaned which starts to consume all the memory. I can see the resident memory usage go up when looking at the top command. ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->; Well, ideally, I hope that I would be able to call fitTo all the times I would like. ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->; I will include it here since it is really short program. ```; void test(){. RooTrace::active(kTRUE);; RooTrace::mark();; RooRealVar x(""x"",""x"",-10,10);; RooDataSet d(""d"",""d"",RooArgSet(x));; RooRealVar s(""s"",""s"",1,1,10);; RooRealVar m(""m"",""m"",0,-10,10);; RooGaussian g(""gauss"",""gauss(x,m,s)"",x,m,s);; RooPlot *f=x.frame();; for (Int_t j=0; j<300; ++j){; x.setVal(gRandom->Gaus(0,1));; d.add(x);; }; for (Int_t i=0; i<10; i++) {; cout << ""\n------------------------------\nStart iteration "" << i << endl;. cout << ""Before fitting"" << endl;; RooTrace::printObjectCounts();. g.fitTo(d,RooFit::PrintLevel(-1));//,RooFit::SumW2Error(true),RooFit::BatchMode(true));; cout << ""After fitting"" << endl;; RooTrace::printObjectCounts();; }; }; ```. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->; Have tried root 6.08/ 6.23 on CentOS 7. Built the root distros . ### Additional context; <!--; Add any other context about the problem here.; -->",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6975:2203,install,install,2203,https://root.cern,https://github.com/root-project/root/issues/6975,1,['install'],['install']
Deployability,"se search in; * [GitHub](https://github.com/root-project/root/issues?q=is%3Aissue); * AND [Jira](https://sft.its.cern.ch/jira/issues/?jql=project %3D ROOT); for existing reports of your issue. If you find one, you are very welcome to add to the existing report, for instance ""issue still exists in today's master"".; -->. ### Describe the bug. ROOT installed from the binary distribtution for Ubuntu 22 is broken and can't start, at least for 6.26.08 and 6.26.10 (N.B. this is using WSL2). ### Expected behavior. `root` should start normally. ### To Reproduce. - Install dependencies via `apt`; - N.B. `python` and `python-dev` do not exist on Ubuntu22; use `python3` and `python-is-python3` instead; likewise `libglew1.5-dev` should now be `libglew-dev`; - Download and unpack `root_v6.26.10.Linux-ubuntu22-x86_64-gcc11.3.tar.gz` in `/opt`; - `cd /opt/root; source bin/thisroot.sh`; - Then I get the following:. ```; ➜ which root; /opt/root/bin/root; ➜ root; input_line_1:1:2: fatal error: module file '/home/sftnight/build/ws/BUILDTYPE/Release/LABEL/ROOT-ubuntu2204/V/6-26/build/lib/libc.pcm' not found: module file not found; #include <new>; ^; input_line_1:1:2: note: imported by module 'std' in '/opt/root/lib/std.pcm'; Warning in cling::IncrementalParser::CheckABICompatibility():; Failed to extract C++ standard library version.; Replaced symbol atexit cannot be found in JIT!; Replaced symbol at_quick_exit cannot be found in JIT!; Module libc not found.; Failed to load module std; <<< cling interactive line includer >>>: fatal error: module file '/home/sftnight/build/ws/BUILDTYPE/Release/LABEL/ROOT-ubuntu2204/V/6-26/build/lib/libc.pcm' not found: module file not found; <<< cling interactive line includer >>>: note: imported by module '_Builtin_intrinsics' in '/opt/root/lib/_Builtin_intrinsics.pcm'; Failed to load module _Builtin_intrinsics; Failed to load module ROOT_Foundation_C; Failed to load module ROOT_Rtypes; Failed to load module ROOT_Foundation_Stage1_NoRTTI; Failed to load",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11901:1077,Release,Release,1077,https://root.cern,https://github.com/root-project/root/issues/11901,1,['Release'],['Release']
Deployability,"sers\sftnight\build\release\core\G__Core.vcxproj]; C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\\include\utility:136:23: note: to match this '('; constexpr explicit(; ^; C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\\include\utility(218,24): error G08EB1F86: expected member name or ';' after declaration specifiers [C:\Users\sftnight\build\release\core\G__Core.vcxproj]; constexpr explicit(!is_convertible_v<const _Other1&, _Ty1> || !is_convertible_v<const _Other2&, _Ty2>); ~~~~~~~~~~~~~~~~~~ ^; C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\\include\utility(218,24): error GC66A3811: expected ')' [C:\Users\sftnight\build\release\core\G__Core.vcxproj]; C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\\include\utility:218:23: note: to match this '('; constexpr explicit(!is_convertible_v<const _Other1&, _Ty1> || !is_convertible_v<const _Other2&, _Ty2>); ^; In file included from input_line_5:1:; In file included from C:/Users/sftnight/build/release/include\Rtypes.h:191:; In file included from C:/Users/sftnight/build/release/include/TGenericClassInfo.h:21:; In file included from C:/Users/sftnight/build/release/include/TSchemaHelper.h:17:; In file included from C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\\include\string:11:; In file included from C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\\include\xstring:14:; In file included from C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\\include\xmemory:16:; C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\\include\xutility(63,31): error G959205E0: '_To' does not refer to a value [C:\Users\sftnight\build\release\core\G__Core.vcxproj]; return __builtin_bit_cast(_To, _Val);; ^; C:\Program Files (x86)\Microsof",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6143:2624,release,release,2624,https://root.cern,https://github.com/root-project/root/pull/6143,2,['release'],['release']
Deployability,"ses, and prevents warnings when running in older doxygen versions. This will hopefully contribute to next point:; - [ ] https://github.com/root-project/root/issues/9953 in combination with https://github.com/ammaraskar/gcc-problem-matcher; - [ ] Allow in the future for automatic meta-documentation of the CMake flag system. See https://github.com/root-project/root/issues/8999; - [x] Potentially add a flag in the main ROOT CMakeLists.txt, to enable the building of the documentation via a normal ""add_subdirectory()"", so that one does not need to build as a separate process.; - [x] Make the doxygen documentation thread-safe; - [x] Don't let doxygen search for ""input"" files in the output directory (e.g. it looks now for Mathjax output files that one just ""generated""). ## Checklist:. - [x] tested changes locally; - [ ] We would need to update https://github.com/root-project/web/blob/main/for_developers/doxygen/index.md; - [x] Update rootspi scripts to build docu in CI accordingly; - [ ] tutorial generation does not work yet as ""out of source"". To-do...; - [x] require min doxygen version 1.9.4; - [ ] pre-check that output directory is empty ?; - [ ] if GVIZ not found, disable dot; - [ ] Stamp file generation to only recompile when changes; - [x] Remove unneeded unnecessary files Images.dat etc ? (or prevent that they appear in root source); - [x] Make filter.cxx threadsafe but giving unique names to ImageSizes.dat .root etc; - [x] set NUM_PROC_THREADS; - [x] listLibs pass ROOT_CMD as variable; - [x] Understand why libs.C does not find classes such as TBrowserTimer in libCore.so; - [x] check why there are stdout.dat and NumberOfImages not being removed; - [ ] Consider enabling https://www.doxygen.nl/manual/config.html#cfg_clang_assisted_parsing; - [ ] Fix strip_from_path in root-tag https://github.com/root-project/root/issues/10059; - [x] Check compress https://github.com/root-project/root/issues/10066; - [x] Upgrade mathjax https://github.com/root-project/root/issues/10067",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15160:3186,Upgrade,Upgrade,3186,https://root.cern,https://github.com/root-project/root/pull/15160,1,['Upgrade'],['Upgrade']
Deployability,"seth/spack-stage/spack-stage-root-6.26.06-htsa7u5mmwachooyld7p55v6t3ooncqo/spack-src/io/io/inc/LinkDef.h; In file included from <built-in>:433:; <command line>:1:9: error: macro name must be an identifier; #define -compilerI/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/c++/v1 1; ^; ```. ### Expected behavior. The `-D` shouldn't be emitted, so the build will work. ### To Reproduce. I'm building with Spack:; <details><summary>Spack concretization</summary><pre>; - root@6.26.06%apple-clang@13.1.6~aqua~davix~dcache~emacs~examples~fftw~fits~fortran+gdml+gminimal~graphviz~gsl~http~ipo~jemalloc~math~memstat+minuit~mlp~mysql~opengl~oracle~postgres~pythia6~pythia8+python~qt4~r+roofit~root7+rpath~shadow~spectrum~sqlite~ssl~table~tbb+threads~tmva+unuran~vc+vdt~veccore~vmc~x+xml~xrootd build_type=RelWithDebInfo cxxstd=17 patches=22af347 arch=darwin-monterey-m1; [+] ^cmake@3.24.1%apple-clang@13.1.6~doc+ncurses+ownlibs~qt build_type=Release arch=darwin-monterey-m1; [+] ^freetype@2.11.1%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^bzip2@1.0.8%apple-clang@13.1.6~debug~pic+shared arch=darwin-monterey-m1; [+] ^gnuconfig@2021-08-14%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^libpng@1.6.37%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^zlib@1.2.12%apple-clang@13.1.6+optimize+pic+shared patches=0d38234 arch=darwin-monterey-m1; [+] ^pkgconf@1.8.0%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^libice@1.0.9%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^util-macros@1.19.3%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^xproto@7.0.31%apple-clang@13.1.6 arch=darwin-monterey-m1; [-] ^pkgconf@1.9.3%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^xtrans@1.3.5%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^libjpeg-turbo@2.1.3%apple-clang@13.1.6 arch=darwin-monterey-m1; [+] ^cmake@3.24.1%apple-clang@13.1.6~doc+ncurses+ownlibs~qt build_type=Release arch=darwin-monterey-m1; [+] ^nasm@2.15.05%apple-clang@13.1.6 arch=darwi",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11312:7297,Release,Release,7297,https://root.cern,https://github.com/root-project/root/issues/11312,1,['Release'],['Release']
Deployability,"sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #24 0x00007ffff5619f76 in TClass::TClass(char const*, short, std::type_info const&, TVirtualIsAProxy*, char const*, char const*, int, int, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #25 0x00007ffff561a48a in ROOT::CreateClass(char const*, short, std::type_info const&, TVirtualIsAProxy*, char const*, char const*, int, int) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #26 0x00007ffff562906a in ROOT::TGenericClassInfo::GetClass() (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #27 0x00007ffff560ee22 in TClass::GetClass(char const*, bool, bool, unsigned long, unsigned long) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #28 0x00007ffff563608a in TProtoClass::FillTClass(TClass*) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #29 0x00007ffff56188e5 in TClass::Init(char const*, short, std::type_info const*, TVirtualIsAProxy*, char const*, char const*, int, int, ClassInfo_t*, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #30 0x00007ffff5619f76 in TClass::TClass(char const*, short, std::type_info const&, TVirtualIsAProxy*, char const*, char const*, int, int, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #31 0x00007ffff561a48a in ROOT::CreateClass(char const*, short, std::type_info const&, TVirtualIsAProxy*, char const*, char const*, int, int) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7657:6781,patch,patches,6781,https://root.cern,https://github.com/root-project/root/issues/7657,1,['patch'],['patches']
Deployability,"should also access different TGenCollectionProxy instances. Example backtraces at the point of crash (this is one of several failure modes, but it's the one where the problem is clear -- both threads, at frame 0, are accessing the same TGenCollectionProxy instance):. ```; >>> thread apply all bt 10. Thread 2 (Thread 0x7fffdc0e2640 (LWP 312745) ""repro_ttreeproc""):; #0 0x00007ffff767d973 in TGenCollectionProxy::PopProxy (this=0x7fffd4016090) at ../io/io/src/TGenCollectionProxy.cxx:1333; #1 0x00007ffff7d57a15 in TVirtualCollectionProxy::TPushPop::~TPushPop (this=0x7fffdc0dad20, __in_chrg=<optimized out>) at ../core/cont/inc/TVirtualCollectionProxy.h:65; #2 0x00007ffff76274b1 in TEmulatedCollectionProxy::Destructor (this=0x7fffd4016090, p=0x7fffd40156e0, dtorOnly=false) at ../io/io/src/TEmulatedCollectionProxy.cxx:87; #3 0x00007ffff7d4f8c2 in TClass::Destructor (this=0x7fffd40152c0, obj=0x7fffd40156e0, dtorOnly=false) at ../core/meta/src/TClass.cxx:5417; #4 0x00007ffff676afdb in TBranchElement::ReleaseObject (this=0x7fffd4017590) at ../tree/tree/src/TBranchElement.cxx:4743; #5 0x00007ffff676b265 in TBranchElement::ResetAddress (this=0x7fffd4017590) at ../tree/tree/src/TBranchElement.cxx:4806; #6 0x00007ffff675b10b in TBranchElement::~TBranchElement (this=0x7fffd4017590, __in_chrg=<optimized out>) at ../tree/tree/src/TBranchElement.cxx:982; #7 0x00007ffff675b338 in TBranchElement::~TBranchElement (this=0x7fffd4017590, __in_chrg=<optimized out>) at ../tree/tree/src/TBranchElement.cxx:1003; #8 0x00007ffff7ceae9f in TCollection::GarbageCollect (obj=0x7fffd4017590) at ../core/cont/src/TCollection.cxx:736; #9 0x00007ffff7cfbe70 in TObjArray::Delete (this=0x7fffd4011ab8) at ../core/cont/src/TObjArray.cxx:376; (More stack frames follow...). Thread 1 (Thread 0x7ffff42bec00 (LWP 312681) ""repro_ttreeproc""):; #0 0x00007ffff767d973 in TGenCollectionProxy::PopProxy (this=0x7fffd4016090) at ../io/io/src/TGenCollectionProxy.cxx:1333; #1 0x00007ffff656b78d in (anonymous namespace)::TColl",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10357:1953,Release,ReleaseObject,1953,https://root.cern,https://github.com/root-project/root/issues/10357,1,['Release'],['ReleaseObject']
Deployability,since no release is in sight to be able to have the same PR and nightly builds.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15158:9,release,release,9,https://root.cern,https://github.com/root-project/root/pull/15158,1,['release'],['release']
Deployability,"sitive(G4Event const*) () at /home/apal/nptool/NPSimulation/lib/libNPSCore.so; #8 0x00007fc42d756444 in EventAction::EndOfEventAction(G4Event const*) () at /home/apal/nptool/NPSimulation/lib/libNPSCore.so; #9 0x00007fc42b8aaf23 in G4EventManager::DoProcessing(G4Event*) () at /home/apal/G4/geant4-install/lib/libG4event.so; #10 0x00007fc42d2240f7 in G4RunManager::DoEventLoop(int, char const*, int) () at /home/apal/G4/geant4-install/lib/libG4run.so; #11 0x00007fc42d221d22 in G4RunManager::BeamOn(int, char const*, int) () at /home/apal/G4/geant4-install/lib/libG4run.so; #12 0x00007fc42d23fb27 in G4RunMessenger::SetNewValue(G4UIcommand*, G4String) () at /home/apal/G4/geant4-install/lib/libG4run.so; #13 0x00007fc42d14f35f in G4UIcommand::DoIt(G4String) () at /home/apal/G4/geant4-install/lib/libG4intercoms.so; #14 0x00007fc42d16cc9a in G4UImanager::ApplyCommand(char const*) () at /home/apal/G4/geant4-install/lib/libG4intercoms.so; #15 0x00007fc42d2e28bf in G4VBasicShell::ExecuteCommand(G4String const&) () at /home/apal/G4/geant4-install/lib/libG4interfaces.so; #16 0x00007fc42d2e7afe in G4VBasicShell::ApplyShellCommand(G4String const&, bool&, bool&) () at /home/apal/G4/geant4-install/lib/libG4interfaces.so; #17 0x00007fc42d2daac4 in G4UIQt::ButtonCallback(QString const&) () at /home/apal/G4/geant4-install/lib/libG4interfaces.so; #18 0x00007fc4283cf328 in QMetaObject::activate(QObject*, int, int, void**) () at /usr/lib/x86_64-linux-gnu/libQt5Core.so.5; #19 0x00007fc428f0e3e6 in QAction::triggered(bool) () at /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5; #20 0x00007fc428f10aa2 in QAction::activate(QAction::ActionEvent) () at /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5; #21 0x00007fc42900ae10 in () at /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5; #22 0x00007fc42900b035 in QAbstractButton::mouseReleaseEvent(QMouseEvent*) () at /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5; #23 0x00007fc4290fe5fe in QToolButton::mouseReleaseEvent(QMouseEvent*) () at /usr/lib/x86_64-linux-gnu/lib",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11071:1220,install,install,1220,https://root.cern,https://github.com/root-project/root/issues/11071,1,['install'],['install']
Deployability,"skip executable, linker and vdso. # This Pull request:. ## Changes or fixes:. ## Checklist:. - [ ] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #13080",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13083:129,update,updated,129,https://root.cern,https://github.com/root-project/root/pull/13083,1,['update'],['updated']
Deployability,small doc update,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9003:10,update,update,10,https://root.cern,https://github.com/root-project/root/pull/9003,1,['update'],['update']
Deployability,small doc updates,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9006:10,update,updates,10,https://root.cern,https://github.com/root-project/root/pull/9006,1,['update'],['updates']
Deployability,"so bug.; ``` c++; root [2] unsigned int c; (unsigned int) 0; root [3] d=c; Error in <TRint::HandleTermInput()>: std::runtime_error caught: >>> Interpreter compilation error:; expected relocatable expression. root [4] unsigned char e=5; (unsigned char) '0x05'; root [5] f=e; Error in <TRint::HandleTermInput()>: std::runtime_error caught: >>> Interpreter compilation error:; expected relocatable expression; ```. <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->. ### Setup; splash screen; ```; ------------------------------------------------------------------; | Welcome to ROOT 6.22/02 https://root.cern |; | (c) 1995-2020, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built for linuxx8664gcc on Aug 17 2020, 12:46:52 |; | From tags/v6-22-02@v6-22-02 |; | Try '.help', '.demo', '.license', '.credits', '.quit'/'.q' |; ------------------------------------------------------------------; ```; ROOT 6.22/02 on CentOS7 x86_64, at CVMFS; ```; /cvmfs/sft.cern.ch/lcg/app/releases/ROOT/6.22.02/x86_64-centos7-gcc48-opt; ```; and ; ROOT 6.20/06 on CentOS7/gcc x86_64, installed by system admin in my server; ROOT 6.22/02 on windows/MSVC x86_64, binary download. ##### did not tested on current HEAD. strangely, older version, like ROOT5.34/09 or ROOT 5.34/36 on linuxx8664gcc, has no such problem. ```c++; ROOT 5.34/36 (v5-34-36@v5-34-36, Apr 05 2016, 10:25:45 on linuxx8664gcc). CINT/ROOT C/C++ Interpreter version 5.18.00, July 2, 2010; root [0] unsigned long a=5; root [1] b=a; Warning: Automatic variable b is allocated (tmpfile):1:; (unsigned long)5; ```; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->. ### Additional context; <!--; Add any other context about the problem here.; -->",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6812:2197,release,releases,2197,https://root.cern,https://github.com/root-project/root/issues/6812,3,"['install', 'release']","['install', 'installed', 'releases']"
Deployability,"space)::TerminalConfigUnix__handleSignal (signum=11) at /build/jenkins/workspace/lcg_release_pipeline/build/projects/ROOT-6.30.04/src/ROOT/6.30.04/core/textinput/src/textinput/TerminalConfigUnix.; #9 <signal handler called>; #10 0x00007f05fa744a7e in ?? (); #11 0x00007ffd45bee240 in ?? (); #12 0x00007f060b10d028 in ?? (); #13 0x00007ffd45bee270 in ?? (); #14 0x00007f05fa745920 in ?? (); #15 0x00007f060b10c1a0 in ?? (); #16 0x00007ffd45bee260 in ?? (); #17 0x00007ffd45bee2c0 in ?? (); #18 0x00007f05fa745b0d in ?? (); #19 0x000000000204fc10 in ?? (); #20 0x00000000133b2cc8 in ?? (); #21 0x00000000133b2cc0 in ?? (); #22 0x00007f060309016c in (anonymous namespace)::local_cxa_atexit(void (*)(void*), void*, cling::Interpreter*) () from /cvmfs/lhcb.cern.ch/lib/lcg/releases/ROOT/6.30.04-dd2db/x86_64-el9-gcc13-dbg/lib/libCling.so; #23 0x00007ffd45bee260 in ?? (); #24 0x00007f060b10d110 in ?? (); #25 0x00007f060b10d020 in ?? (); #26 0x00007f0607fe2e7a in ?? () from /cvmfs/lhcb.cern.ch/lib/lcg/releases/ROOT/6.30.04-dd2db/x86_64-el9-gcc13-dbg/lib/libCling.so; #27 0x00007f05fa741095 in ?? (); #28 0x00007f05fa740f20 in ?? (); #29 0x00007f060471d882 in (anonymous namespace)::GenericLLVMIRPlatformSupport::initialize(llvm::orc::JITDylib&) () from /cvmfs/lhcb.cern.ch/lib/lcg/releases/ROOT/6.30.04-dd2db/x86_64-el9-gcc13-dbg/lib/libCling.so; #30 0x00007f06031155f3 in cling::IncrementalExecutor::runStaticInitializersOnce(cling::Transaction&) () from /cvmfs/lhcb.cern.ch/lib/lcg/releases/ROOT/6.30.04-dd2db/x86_64-el9-gcc13-dbg/lib/libCling.so; #31 0x00007f0603092698 in cling::Interpreter::executeTransaction(cling::Transaction&) () from /cvmfs/lhcb.cern.ch/lib/lcg/releases/ROOT/6.30.04-dd2db/x86_64-el9-gcc13-dbg/lib/libCling.so; #32 0x00007f0603125b4a in cling::IncrementalParser::commitTransaction(llvm::PointerIntPair<cling::Transaction*, 2u, cling::IncrementalParser::EParseResult, llvm::PointerLikeTypeTraits<cling::Transaction*>, llvm::PointerIntPairInfo<cling; #33 0x00007f0603128d98 in cl",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15511:7721,release,releases,7721,https://root.cern,https://github.com/root-project/root/issues/15511,1,['release'],['releases']
Deployability,src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Assuming the condition is false in /opt/root_src/roofit/roofitcore/src/RooCustomizer.cxx:694; 2: Taking false branch in /opt/root_src/roofit/roofitcore/src/RooCustomizer.cxx:694; 3: Taking false branch in /opt/root_src/roofit/roofitcore/src/RooCustomizer.cxx:698; 4: Assuming 'arg' is non-null in /opt/root_src/roofit/roofitcore/src/RooCustomizer.cxx:704; 5: Taking false branch in /opt/root_src/roofit/roofitcore/src/RooCustomizer.cxx:704; 6: Taking false branch in /opt/root_src/roofit/roofitcore/src/RooCustomizer.cxx:709; 7: Calling constructor for 'RooCustomizer' in /opt/root_src/roofit/roofitcore/src/RooCustomizer.cxx:714; 8: Calling constructor for 'TNamed' in /opt/root_src/roofit/roofitcore/src/RooCustomizer.cxx:245; 9: Calling default constructor for 'TObject' in /opt/root_src/core/base/inc/TNamed.h:37; 10: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 11: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 12: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Assuming field '_hashMethod' is equal to Intrinsic in /opt/root_src/roofit/roofitcore/src/RooHashTable.cxx:261; 2: Taking false branch in /opt/root_src/roofit/roofitcore/src/RooHashTable.cxx:261; 3: Calling default constructor for 'RooSetPair' in /opt/root_src/roofit/roofitcore/src/RooHashTable.cxx:263; 4: Calling default constructor for 'TObject' in /opt/root_src/roofit/roofitcore/inc/RooSetPair.h:30; 5: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 6: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 7: The left operand of '==' i,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:68979,Update,UpdateIsOnHeap,68979,https://root.cern,https://github.com/root-project/root/issues/7412,1,['Update'],['UpdateIsOnHeap']
Deployability,"src/root-6.26.06/graf3d/eve7/src/REveBoxSet.cxx:20:; /usr/include/nlohmann/json.hpp:5085:8: error: reference to ‘json’ is ambiguous; 5085 | inline nlohmann::json operator """" _json(const char* s, std::size_t n); | ^~~~~~~~; In file included from /usr/include/nlohmann/detail/meta/type_traits.hpp:22,; from /usr/include/nlohmann/detail/exceptions.hpp:22,; from /usr/include/nlohmann/detail/conversions/from_json.hpp:23,; from /usr/include/nlohmann/adl_serializer.hpp:14,; from /usr/include/nlohmann/json.hpp:35:; /usr/include/nlohmann/json_fwd.hpp:61:7: note: candidates are: ‘using json = class nlohmann::json_v3_11_1::basic_json<>’; 61 | using json = basic_json<>;; | ^~~~; .....; ```. ---. <details>; <summary>Original bug report regarding glibc 2.36</summary>. ### Describe the bug; ArchLinux recently upgraded to `glibc 2.36`, and that resulted in ROOT not compiling with either GCC 11.3.0 or GCC 12.1.1. ### Expected behaviour; ROOT should compile with `glibc 2.36`. ### To Reproduce; 1. Install `glibc 2.36` and relevant compilers; 2. Try to build ROOT; 3. Error during build. ### Setup; 1. ROOT version: 6.26/06 (or any other version); 2. Operating system: Arch Linux x86; 3. Build from source with GCC 11.3.0 / 12.1.1. ### Additional context; An interesting caveat is that it seems ROOT also requires 32-bit specific headers (`gnu/stubs-32.h`) as well.; Error log:; ```cpp; ...; [ 73%] Built target Thread; [ 73%] Generating G__RIO.cxx, ../../lib/libRIO.rootmap; In file included from <built-in>:400:; <command line>:1:9: error: macro name must be an identifier; #define -compilerI/usr/include/c++/12.1.1 1; ^; In file included from input_line_3:1:; In file included from /build/root/src/build/etc/cling/lib/clang/9.0.1/include/assert.h:8:; In file included from /usr/include/assert.h:35:; In file included from /usr/include/features.h:514:; /usr/include/gnu/stubs.h:7:11: fatal error: 'gnu/stubs-32.h' file not found; # include <gnu/stubs-32.h>; ^~~~~~~~~~~~~~~~; Error: Error loading the def",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11130:1216,Install,Install,1216,https://root.cern,https://github.com/root-project/root/issues/11130,1,['Install'],['Install']
Deployability,"ssInfo (this=0x4a0550, name=<optimized out>, autoload=<optimized out>, isClassOrNamespaceOnly=<optimized out>); at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/metacling/src/TCling.cxx:3630; #5 0x00007ffff7c3040d in TClass::Init (this=this@entry=0xdafd20, name=name@entry=0x7ffff7cb7638 ""TGlobal"", cversion=cversion@entry=2, typeinfo=typeinfo@entry=0x7ffff7d8b6d8 <typeinfo for TGlobal>, isa=isa@entry=0x477430,; dfil=dfil@entry=0x7ffff7cb8cab ""TGlobal.h"", ifil=<optimized out>, dl=<optimized out>, il=<optimized out>, givenInfo=<optimized out>, silent=<optimized out>); at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/meta/src/TClass.cxx:1431; #6 0x00007ffff7c3a1b8 in TClass::TClass (this=0xdafd20, name=0x7ffff7cb7638 ""TGlobal"", cversion=<optimized out>, info=..., isa=0x477430, dfil=0x7ffff7cb8cab ""TGlobal.h"",; ifil=0x7ffff7cccf88 ""/local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/meta/src/TGlobal.cxx"", dl=27, il=25, silent=false) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/meta/src/TClass.cxx:1273; #7 0x00007ffff7c3a72a in ROOT::CreateClass (cname=0x7ffff7cb7638 ""TGlobal"", id=id@entry=2, info=..., isa=isa@entry=0x477430, dfil=dfil@entry=0x7ffff7cb8cab ""TGlobal.h"",; ifil=ifil@entry=0x7ffff7cccf88 ""/local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/meta/src/TGlobal.cxx"", dl=27, il=25) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/meta/src/TClass.cxx:5607; #8 0x00007ffff7c4b552 in ROOT::Internal::TDefaultInitBehavior::CreateClass (il=25, dl=27, ifil=0x7ffff7cccf88 ""/local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/meta/src/TGlobal.cxx"", dfil=0x7ffff7cb8cab ""TGlobal.h"",; isa=0x477430, info=..., id=2, cname=<optimized out>, this=0x7ffff7da7508 <ROOT::Internal::DefineBehavior(void*, void*)::theDefault>) at /home/pcanal/root_builds/v6-14-00-patches/opt/include/Rtypes.h:176; #9 ROOT::TGenericClassInfo::GetClass (this=0x7ffff7dab660 <ROOT::GenerateInitInstanceLocal(TGlobal const*)::instan",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2776:3794,patch,patches,3794,https://root.cern,https://github.com/root-project/root/pull/2776,2,['patch'],['patches']
Deployability,"ssingUnloading' -e '#define ClingWorkAroundBrokenUnnamedReturn' -e '#define ClingWorkAroundUnnamedDetection2' -e 'gSystem->SetBuildDir(""/mnt/build/wsincrv6-18-00-patches/LABEL/ROOT-ubuntu1804-clangHEAD/SPEC/noimt/build/roottest/root/core"",true)' -e 'gSystem->AddDynamicPath(""/mnt/build/wsincrv6-18-00-patches/LABEL/ROOT-ubuntu1804-clangHEAD/SPEC/noimt/build/roottest/root/core"")' -e 'gROOT->SetMacroPath(""/mnt/build/wsincrv6-18-00-patches/LABEL/ROOT-ubuntu1804-clangHEAD/SPEC/noimt/roottest/root/core"")' -e 'gInterpreter->AddIncludePath(""-I/mnt/build/wsincrv6-18-00-patches/LABEL/ROOT-ubuntu1804-clangHEAD/SPEC/noimt/build/roottest/root/core"")' -e 'gSystem->AddIncludePath(""-I/mnt/build/wsincrv6-18-00-patches/LABEL/ROOT-ubuntu1804-clangHEAD/SPEC/noimt/build/roottest/root/core"")' -q -l -b /mnt/build/wsincrv6-18-00-patches/LABEL/ROOT-ubuntu1804-clangHEAD/SPEC/noimt/roottest/root/core/assertHumanReadable.cxx+; -- BEGIN TEST OUTPUT --. Processing /mnt/build/wsincrv6-18-00-patches/LABEL/ROOT-ubuntu1804-clangHEAD/SPEC/noimt/roottest/root/core/assertHumanReadable.cxx+...; Checking FromHumanReadableSize; Checking ToHumanReadableSize; Checking 1024 vs 1.024KiB an 1KB; Checking 2097152 vs 2.09715MiB an 2MB; Checking 4294967296 vs 4.29497GiB an 4GB; Checking 8796093022208 vs 8.79609TiB an 8TB; Checking 18014398509481984 vs 18.0144EiB an 16EB; Checking 16 vs 16B and 16B; Checking 24576 vs 24.576KiB and 24KB; Checking 3.77487e+07 vs 37.7487MiB and 36MB; Checking 5.79821e+10 vs 57.9821GiB and 54GB; Checking 8.90604e+13 vs 89.0604TiB and 81TB; Checking 1.36797e+17 vs 136.797EiB and 121.5EB; Checking 2.1012e+20 vs 210.12ZiB and 182.25ZB; Checking 3.22744e+23 vs 322.744YiB and 273.375YB; (int) 0. -- END TEST OUTPUT --; -- BEGIN TEST ERROR --; Info in <TUnixSystem::ACLiC>: creating shared library /mnt/build/wsincrv6-18-00-patches/LABEL/ROOT-ubuntu1804-clangHEAD/SPEC/noimt/build/roottest/root/core/assertHumanReadable_cxx.so; In file included from /mnt/build/wsincrv6-18-00-patches/LABEL/ROOT-ub",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4257:1693,patch,patches,1693,https://root.cern,https://github.com/root-project/root/pull/4257,1,['patch'],['patches']
Deployability,"ssue has to do with a template overload for operator(). The reproducer is in the attached archive. The included setup script; should be appropriate for lxplus9.; Run:. $ . ./setup; $ ./build.sh; $ python test.py. and it crashes with a segmentation violation. From gdb, the stack trace is:. ```; #0 0x00007ffff7558f13 in std::construct_at<CPyCppyy::PyCallable*, CPyCppyy::PyCallable* const&> (__location=0x5f3a3a676e697274); at /cvmfs/sft.cern.ch/lcg/releases/gcc/13.1.0-b3d18/x86_64-el9/include/c++/13.1.0/bits/stl_construct.h:97; #1 0x00007ffff75588c3 in std::allocator_traits<std::allocator<CPyCppyy::PyCallable*> >::construct<CPyCppyy::PyCallable*, CPyCppyy::PyCallable* const&> (; __p=0x5f3a3a676e697274, __a=...); at /cvmfs/sft.cern.ch/lcg/releases/gcc/13.1.0-b3d18/x86_64-el9/include/c++/13.1.0/bits/alloc_traits.h:539; #2 std::vector<CPyCppyy::PyCallable*, std::allocator<CPyCppyy::PyCallable*> >::push_back (this=0x7ffff75ba167, __x=@0x7fffffff7c40: 0x73abec0); at /cvmfs/sft.cern.ch/lcg/releases/gcc/13.1.0-b3d18/x86_64-el9/include/c++/13.1.0/bits/stl_vector.h:1281; #3 0x00007ffff75624a9 in CPyCppyy::CPPOverload::AdoptMethod (; this=0x7ffff75fe9a0 <CPyCppyy::TemplateProxy_Type>, pc=0x73abec0); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-28-00-patches/src/ROOT/v6-28-00-patches/bindings/pyroot/cppyy/CPyCppyy/src/CPPOverload.cxx:946; #4 0x00007ffff759fb6a in CPyCppyy::TemplateProxy::AdoptMethod (; this=0x7fffd65c01f0, pc=0x73abec0); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-28-00-patches/src/ROOT/v6-28-00-patches/bindings/pyroot/cppyy/CPyCppyy/src/TemplateProxy.cxx:111; #5 0x00007ffff758ffea in CPyCppyy::BuildScopeProxyDict (scope=18, ; pyclass=0x1335040); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-28-00-patches/src/ROOT/v6-28-00-patches/bindings/pyroot/cppyy/CPyCppyy/src/ProxyWrappers.cxx:254; #6 0x00007ffff7591ed3 in CPyCppyy::CreateScopeProxy (name=..., ; parent=0x2f57300); at /build/jenk",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13410:1342,release,releases,1342,https://root.cern,https://github.com/root-project/root/issues/13410,1,['release'],['releases']
Deployability,"ssues/8308#issuecomment-1143791946; set(CMAKE_LIBRARY_OUTPUT_DIRECTORY ""${CMAKE_CURRENT_BINARY_DIR}""). # another bug... INSTALL FILES given no destination!; include(GNUInstallDirs). add_library(ROOTBug SHARED ROOTBug.cc); target_link_libraries(ROOTBug PRIVATE ROOT::Core); set_target_properties(ROOTBug PROPERTIES OUTPUT_NAME ROOTWorks) # Important!; root_generate_dictionary(ROOTWorksDict MODULE ROOTBug LINKDEF LinkDef.h). install(TARGETS ROOTBug); ```; Build commands:; ```; $ cmake -B build -DCMAKE_INSTALL_PREFIX=install; $ cmake --build build --target install; [ 25%] Generating ROOTBugDict.cxx, libROOTBug_rdict.pcm, libROOTBug.rootmap; [ 50%] Building CXX object CMakeFiles/ROOTBugDict.dir/ROOTBugDict.cxx.o; [ 50%] Built target ROOTBugDict; [ 75%] Linking CXX shared library libROOTWorks.so; [100%] Built target ROOTBug; Install the project...; -- Install configuration: """"; -- Installing: /nfs/dust/cms/user/mourelou/darwin/tests/install/lib64/libROOTBug_rdict.pcm; -- Installing: /nfs/dust/cms/user/mourelou/darwin/tests/install/lib64/libROOTBug.rootmap; -- Installing: /nfs/dust/cms/user/mourelou/darwin/tests/install/lib64/libROOTWorks.so; -- Set runtime path of ""/nfs/dust/cms/user/mourelou/darwin/tests/install/lib64/libROOTWorks.so"" to """"; ```; Then do:; ```; $ ls install/lib*; libROOTBug_rdict.pcm libROOTBug.rootmap libROOTWorks.so; ```; Notice how the library name is different from the dictionary name. ### ROOT version. LCG 104; ```; ------------------------------------------------------------------; | Welcome to ROOT 6.28/04 https://root.cern |; | (c) 1995-2022, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built for linuxx8664gcc on May 08 2023, 02:44:07 |; | From tags/v6-28-04@v6-28-04 |; | With g++ (GCC) 12.1.0 |; | Try '.help'/'.?', '.demo', '.license', '.credits', '.quit'/'.q' |; ------------------------------------------------------------------; ```. ### Installation method. LCG 104. ### Operating system. CentOS 7. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15792:1514,Install,Installing,1514,https://root.cern,https://github.com/root-project/root/issues/15792,7,"['Install', 'install']","['Installation', 'Installing', 'install']"
Deployability,ssuming the condition is true in /opt/root_src/graf3d/eve7/glu/sweep.c:793; 66: Taking true branch in /opt/root_src/graf3d/eve7/glu/sweep.c:793; 67: Field 'fixUpperEdge' is 0 in /opt/root_src/graf3d/eve7/glu/sweep.c:799; 68: Taking false branch in /opt/root_src/graf3d/eve7/glu/sweep.c:799; 69: Assuming field 'fixUpperEdge' is not equal to 0 in /opt/root_src/graf3d/eve7/glu/sweep.c:804; 70: Taking true branch in /opt/root_src/graf3d/eve7/glu/sweep.c:804; 71: Calling 'DeleteRegion' in /opt/root_src/graf3d/eve7/glu/sweep.c:805; 72: Field 'fixUpperEdge' is not equal to 0 in /opt/root_src/graf3d/eve7/glu/sweep.c:153; 73: Taking true branch in /opt/root_src/graf3d/eve7/glu/sweep.c:153; 74: Assuming field 'winding' is equal to 0 in /opt/root_src/graf3d/eve7/glu/sweep.c:158; 75: expanded from macro 'assert' in /usr/include/assert.h:109; 76: Taking true branch in /opt/root_src/graf3d/eve7/glu/sweep.c:158; 77: expanded from macro 'assert' in /usr/include/assert.h:109; 78: Memory is released in /opt/root_src/graf3d/eve7/glu/sweep.c:162; 79: expanded from macro 'memFree' in /opt/root_src/graf3d/eve7/glu/memalloc.h:41; 80: Returning; memory was released via 2nd parameter in /opt/root_src/graf3d/eve7/glu/sweep.c:805; 81: Assuming the condition is false in /opt/root_src/graf3d/eve7/glu/sweep.c:806; 82: Taking false branch in /opt/root_src/graf3d/eve7/glu/sweep.c:806; 83: Use of memory after it is freed in /opt/root_src/graf3d/eve7/glu/sweep.c:808; /opt/root_src/graf3d/eve7/glu/sweep.c:885:22: warning: Use of memory after it is freed [clang-analyzer-unix.Malloc]; 1: Assuming the condition is false in /opt/root_src/graf3d/eve7/glu/sweep.c:1321; 2: Taking false branch in /opt/root_src/graf3d/eve7/glu/sweep.c:1321; 3: Assuming the condition is true in /opt/root_src/graf3d/eve7/glu/sweep.c:1325; 4: Loop condition is true. Entering loop body in /opt/root_src/graf3d/eve7/glu/sweep.c:1325; 5: Loop condition is true. Entering loop body in /opt/root_src/graf3d/eve7/glu/sweep.c:1326; 6: Assum,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7531:26887,release,released,26887,https://root.cern,https://github.com/root-project/root/issues/7531,1,['release'],['released']
Deployability,"st found_stdstringview - Success; -- Performing Test found_stod_stringview; -- Performing Test found_stod_stringview - Failed; -- Performing Test found_opplusequal_stringview; -- Performing Test found_opplusequal_stringview - Success; -- Performing Test found_stdapply; -- Performing Test found_stdapply - Success; -- Performing Test found_stdinvoke; -- Performing Test found_stdinvoke - Success; -- Performing Test found_stdindexsequence; -- Performing Test found_stdindexsequence - Success; -- Performing Test found_attribute_always_inline; -- Performing Test found_attribute_always_inline - Success; -- Performing Test has_found_attribute_noinline; -- Performing Test has_found_attribute_noinline - Success; -- Performing Test found_hardware_interference_size; -- Performing Test found_hardware_interference_size - Failed; Running /home/razorr/Softwares/Installed/HEP/Root/gitclone/build/unix/compiledata.sh; Making /home/razorr/Softwares/Installed/HEP/Root/build/ginclude/compiledata.h; -- ROOT Configuration. System Linux-5.15.37-1-lts; Processor 2 core Intel(R) Core(TM) i3-5010U CPU @ 2.10GHz (x86_64); Build type Release; Install path /home/razorr/Softwares/Installed/HEP/Root/install; Compiler GNU 11.2.0; Compiler flags:; C -Wno-implicit-fallthrough -pipe -Wall -W -pthread -O3 -DNDEBUG; C++ -std=c++17 -Wno-implicit-fallthrough -Wno-noexcept-type -pipe -Wshadow -Wall -W -Woverloaded-virtual -fsigned-char -pthread -O3 -DNDEBUG; Linker flags:; Executable -rdynamic; Module; Shared -Wl,--no-undefined -Wl,--hash-style=""both"". -- Enabled support for: asimage builtin_afterimage builtin_clang builtin_cling builtin_ftgl builtin_gl2ps builtin_glew builtin_llvm builtin_nlohmannjson builtin_openui5 builtin_vdt builtin_xrootd clad dataframe exceptions fftw3 gdml http imt mathmore mlp minuit2 mysql opengl pyroot roofit webgui root7 rpath runtime_cxxmodules shared sqlite ssl tmva tmva-cpu tmva-pymva spectrum vdt x11 xml xrootd; -- Configuring done; -- Generating done; -- Build files have been",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10528:11390,Configurat,Configuration,11390,https://root.cern,https://github.com/root-project/root/issues/10528,1,['Configurat'],['Configuration']
Deployability,"st/commit/01fc23f5104f85c75059972e01dd33796ab529ff""><code>01fc23f</code></a> [meta] add <code>safe-publish-latest</code></li>; <li><a href=""https://github.com/minimistjs/minimist/commit/f58745b9bb84348e1be72af7dbba5840c7c13013""><code>f58745b</code></a> [eslint] add eslint; rules to enable later are warnings</li>; <li><a href=""https://github.com/minimistjs/minimist/commit/228ae938f3cd9db9dfd8bd7458b076a7b2aef280""><code>228ae93</code></a> [Tests] add <code>aud</code> in <code>posttest</code></li>; <li><a href=""https://github.com/minimistjs/minimist/commit/236f4a07e4ebe5ee44f1496ec6974991ab293ffd""><code>236f4a0</code></a> [readme] rename and add badges</li>; <li><a href=""https://github.com/minimistjs/minimist/commit/ab033567b9c8b31117cb026dc7f1e592ce455c65""><code>ab03356</code></a> [Dev Deps] switch from <code>covert</code> to <code>nyc</code></li>; <li><a href=""https://github.com/minimistjs/minimist/commit/49c5f9fb7e6a92db9eb340cc679de92fb3aacded""><code>49c5f9f</code></a> [Dev Deps] update <code>covert</code>, <code>tape</code>; remove unnecessary <code>tap</code></li>; <li><a href=""https://github.com/minimistjs/minimist/commit/783a49bfd47e8335d3098a8cac75662cf71eb32a""><code>783a49b</code></a> [meta] create FUNDING.yml; add <code>funding</code> in package.json</li>; <li>Additional commits viewable in <a href=""https://github.com/minimistjs/minimist/compare/v0.0.8...v1.2.7"">compare view</a></li>; </ul>; </details>; <details>; <summary>Maintainer changes</summary>; <p>This version was pushed to npm by <a href=""https://www.npmjs.com/~ljharb"">ljharb</a>, a new releaser for minimist since your current version.</p>; </details>; <br />. Updates `mkdirp` from 0.5.1 to 0.5.6; <details>; <summary>Commits</summary>; <ul>; <li><a href=""https://github.com/isaacs/node-mkdirp/commit/92f086d2e28c6848951776fbe8ecadcf54c80c29""><code>92f086d</code></a> 0.5.6</li>; <li><a href=""https://github.com/isaacs/node-mkdirp/commit/2a2812536c0d3e23dce78978e1d4691d7ff445a7""><code>2a28125</code></a> ",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11865:6862,update,update,6862,https://root.cern,https://github.com/root-project/root/pull/11865,1,['update'],['update']
Deployability,st/src/TPrincipal.cxx:880; 2: Calling default constructor for 'TMatrixTBase<double>' in /opt/root_src/math/matrix/inc/TMatrixTSym.h:54; 3: Calling default constructor for 'TObject' in /opt/root_src/math/matrix/inc/TMatrixTBase.h:115; 4: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 5: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 6: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Calling constructor for 'TSpectrum2Painter' in /opt/root_src/hist/spectrumpainter/src/TSpectrum2Painter.cxx:7676; 2: Calling constructor for 'TNamed' in /opt/root_src/hist/spectrumpainter/src/TSpectrum2Painter.cxx:54; 3: Calling default constructor for 'TObject' in /opt/root_src/core/base/inc/TNamed.h:37; 4: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 5: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 6: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Assuming 'theGraph' is non-null in /opt/root_src/hist/histpainter/src/TGraphPainter.cxx:1202; 2: Taking true branch in /opt/root_src/hist/histpainter/src/TGraphPainter.cxx:1202; 3: Assuming 'l1' is non-null in /opt/root_src/hist/histpainter/src/TGraphPainter.cxx:1206; 4: Left side of '||' is true in /opt/root_src/hist/histpainter/src/TGraphPainter.cxx:1206; 5: 'l1' is non-null in /opt/root_src/hist/histpainter/src/TGraphPainter.cxx:1208; 6: Taking true branch in /opt/root_src/hist/histpainter/src/TGraphPainter.cxx:1208; 7: Assuming 'l2' is null in /opt/root_src/hist/histpainter/src/TGraphPainter.cxx:1209;,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:28071,Update,UpdateIsOnHeap,28071,https://root.cern,https://github.com/root-project/root/issues/7412,1,['Update'],['UpdateIsOnHeap']
Deployability,"stHelpers.hxx; │ ├── json.hpp; │ ├── RForestInference.hxx; │ └── TreeHelpers.hxx; ├── makefile_bench.make; ├── README.md; ├── run.sh; ├── src/; │ └── benchmark.cxx; ├── tests/; │ ├── build/; │ ├── data/; │ │ ├── events.csv; │ │ ├── model.json; │ │ ├── model.rabbit; │ │ ├── multiclass_events.csv; │ │ ├── multiclass_model.json; │ │ ├── multiclass_model.rabbit; │ │ ├── multiclass_python_groundtruths.csv; │ │ ├── multiclass_python_predictions.csv; │ │ ├── multiclass_python_scores.csv; │ │ ├── python_predictions.csv; │ │ ├── regression_events.csv; │ │ ├── regression_model.json; │ │ ├── regression_model.rabbit; │ │ ├── regression_python_groundtruths.csv; │ │ ├── regression_python_predictions.csv; │ │ ├── regression_python_scores.csv; │ ├── forestBDTest.hxx; │ ├── helpersBDTest.hxx; │ ├── makefile; │ ├── readme.md; │ ├── RegressionBDTest.hxx; │ ├── run_all.sh; │ ├── testAll.cxx; ├── train_classifiers_examples.py; └── utils.py. ### Setup script for ubuntu 18.04; It sets up a new machine, installing everything in the home folder. Please modify for your needs.; ```bash; #!/bin/bash; cd; # can be ran with yes | bash this_file.sh # to say yes when prompted. sudo apt update ; yes | sudo apt upgrade. # Install all the stuff with apt. sudo apt install clang # to use clang; sudo apt install g++-7 gcc-7 # to use gcc; sudo apt install libx11-dev build-essential cmake ; sudo apt install git dpkg-dev cmake binutils libx11-dev libxpm-dev \; libxft-dev libxext-dev; sudo apt-get install gfortran libssl-dev libpcre3-dev \; xlibmesa-glu-dev libglew1.5-dev libftgl-dev \; libmysqlclient-dev libfftw3-dev libcfitsio-dev \; graphviz-dev libavahi-compat-libdnssd-dev \; libldap2-dev python-dev libxml2-dev libkrb5-dev \; libgsl0-dev libqt4-dev; sudo apt install gdb. sudo apt install libstdc++ # then add flag -stdlib=libstdc++. wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh; (echo ''; echo 'yes'; echo ''; echo 'yes';) | bash ./Miniconda3-latest-Linux-x86_64.sh; source .bas",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4351:1982,install,installing,1982,https://root.cern,https://github.com/root-project/root/pull/4351,1,['install'],['installing']
Deployability,"stall cycle during development, but also for continuous integration. The script can be generically called as; ```sh; ctest -VV -S test.cmake; ```; from the top directory of the repository. There are several options to customize the build, the main ones are:. | Option | Description |; |----------------------|-------------|; | -DCOVERAGE=1 | Enables test coverage analysis with gcov; | -DMEMCHECK=1 | Enables memory checking with valgrind; | -DSTATIC_ANALYSIS=1 | Enables static analysis with clang-tidy; | -DINSTALL=1 | Enables an extra step to call make install; | -DCDASH=1 | Enables submission to CDash (needs CTestConfig.cmake). When enabling coverage, a report is generated by default in the `coverage/` directory inside the build directory. The results can be viewed by opening the file `html/coverage_details.html`. This step can be disabled by passing `-DGCOVR=0` to `ctest`. It is recommended to use a debug build to generate the coverage analysis. The configuration can be specified directly on the command line via the `-C` option. For example, to run a coverage build in debug mode, with less verbose output, and showing test output when a test failure happens, one can run:; ```sh; ctest -V --output-on-failure -C Debug -DCOVERAGE=1 -S test.cmake; ```; Some environment variables can also influence the behavior of the script, like `CC`, `CXX`, `CMAKE_GENERATOR`, `CTEST_CONFIGURATION_TYPE`, `CMAKE_BUILD_PARALLEL_LEVEL`, `CTEST_PARALLEL_LEVEL`, `CMAKE_ARGS`, `CDASH`, `DESTDIR`, `BASE_REF`, `HEAD_REF`, and GitHub Actions environment variables. These are mostly self-explanatory and can be used to override the provided defaults. For example, to build with the clang compiler and use Ninja as CMake generator, one can run:; ```sh; env CC=clang CXX=clang++ CMAKE_GENERATOR=Ninja ctest -V -S test.cmake; ```; Finally, the script tries to load configuration files from the `.ci/` subdirectory in the source directory. The default configuration is in `.ci/config.cmake`. It is used if no sp",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14999:1055,configurat,configuration,1055,https://root.cern,https://github.com/root-project/root/pull/14999,1,['configurat'],['configuration']
Deployability,"stall or uninstall procedure did not complete successfully. * The installation package was faulty and contained. ""C:/Users/advai/ROOT/root/cmake/ROOTConfig-targets.cmake"". but not all the files it references. Call Stack (most recent call first):; C:/Users/advai/ROOT/root/cmake/ROOTConfig.cmake:98 (include); CMakeLists.txt:7 (find_package). -- Configuring incomplete, errors occurred!; See also ""C:/Users/advai/Documents/Coding/HeatSimulation/CMakeFiles/CMakeOutput.log"". C:\Users\advai\Documents\Coding\HeatSimulation>cmake .; -- Selecting Windows SDK version 10.0.18362.0 to target Windows 10.0.19042.; CMake Error at C:/Users/advai/ROOT/root/cmake/ROOTConfig-targets.cmake:872 (message):; The imported target ""ROOT::hadd"" references the file. ""C:/Users/advai/ROOT/root/bin/hadd.exe"". but this file does not exist. Possible reasons include:. * The file was deleted, renamed, or moved to another location. * An install or uninstall procedure did not complete successfully. * The installation package was faulty and contained. ""C:/Users/advai/ROOT/root/cmake/ROOTConfig-targets.cmake"". but not all the files it references. Call Stack (most recent call first):; C:/Users/advai/ROOT/root/cmake/ROOTConfig.cmake:98 (include); CMakeLists.txt:7 (find_package). -- Configuring incomplete, errors occurred!; See also ""C:/Users/advai/Documents/Coding/HeatSimulation/CMakeFiles/CMakeOutput.log"". C:\Users\advai\Documents\Coding\HeatSimulation>cmake .; -- Selecting Windows SDK version 10.0.18362.0 to target Windows 10.0.19042.; CMake Error at C:/Users/advai/ROOT/root/cmake/ROOTConfig-targets.cmake:872 (message):; The imported target ""ROOT::hadd"" references the file. ""C:/Users/advai/ROOT/root/bin/hadd.exe"". but this file does not exist. Possible reasons include:. * The file was deleted, renamed, or moved to another location. * An install or uninstall procedure did not complete successfully. * The installation package was faulty and contained. ""C:/Users/advai/ROOT/root/cmake/ROOTConfig-targets.cmake"".",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7982:1957,install,installation,1957,https://root.cern,https://github.com/root-project/root/issues/7982,2,['install'],['installation']
Deployability,"stall or uninstall procedure did not complete successfully. * The installation package was faulty and contained. ""C:/Users/advai/ROOT/root/cmake/ROOTConfig-targets.cmake"". but not all the files it references. Call Stack (most recent call first):; C:/Users/advai/ROOT/root/cmake/ROOTConfig.cmake:98 (include); CMakeLists.txt:7 (find_package). -- Configuring incomplete, errors occurred!; See also ""C:/Users/advai/Documents/Coding/HeatSimulation/CMakeFiles/CMakeOutput.log"". C:\Users\advai\Documents\Coding\HeatSimulation>cmake .; -- Selecting Windows SDK version 10.0.18362.0 to target Windows 10.0.19042.; CMake Error at C:/Users/advai/ROOT/root/cmake/ROOTConfig-targets.cmake:872 (message):; The imported target ""ROOT::hadd"" references the file. ""C:/Users/advai/ROOT/root/bin/hadd.exe"". but this file does not exist. Possible reasons include:. * The file was deleted, renamed, or moved to another location. * An install or uninstall procedure did not complete successfully. * The installation package was faulty and contained. ""C:/Users/advai/ROOT/root/cmake/ROOTConfig-targets.cmake"". but not all the files it references. Call Stack (most recent call first):; C:/Users/advai/ROOT/root/cmake/ROOTConfig.cmake:98 (include); CMakeLists.txt:7 (find_package). -- Configuring incomplete, errors occurred!; ```; Apparently it cant find hadd.exe . ; ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->; It working?; ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->; This is my CMakeLists.txt:; ```. cmake_minimum_required(VERSION 3.0 FATAL_ERROR); project(event). find_package(ROOT COMPONENTS Graf). include_directories(${CMAKE_CURRENT_SOURCE_DIR}/include); ROOT_GENERATE_DICTIONARY(G__Event Event.h LINKDEF EventLinkDef.h). add",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7982:3787,install,installation,3787,https://root.cern,https://github.com/root-project/root/issues/7982,1,['install'],['installation']
Deployability,"std::set was not good because it sorted libraries by alphabetical order; and didn't preserve LD_LIBRARY_PATH order information. We can use; std::vector instead. (Erasing rarely happens and doesn't cost so much). Path prefix like ""/home/yuka/modules/lib/"" costs memory, I; think it makes sense to avoid path duplication in sLibraries and make sPaths; vector for this prefix. With this patch; ```; Processing tutorials/hsimple.C...; hsimple : Real Time = 0.14 seconds Cpu Time = 0.14 seconds; (TFile *) 0x31eb0d0; Processing memory.C...; cpu time = 0.861813 seconds; sys time = 0.155326 seconds; res memory = 178.988 Mbytes; vir memory = 435.332 Mbytes; ```. w/o; ```; Processing tutorials/hsimple.C...; hsimple : Real Time = 0.21 seconds Cpu Time = 0.20 seconds; (TFile *) 0x30db6e0; Processing memory.C...; cpu time = 1.266833 seconds; sys time = 0.227562 seconds; res memory = 178.965 Mbytes; vir memory = 435.301 Mbytes; ```. Actually cpu time improved",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2137:384,patch,patch,384,https://root.cern,https://github.com/root-project/root/pull/2137,1,['patch'],['patch']
Deployability,"std::vector<ROOT::TClassAlt*, std::allocator<ROOT::TClassAlt*> >::~vector (this=0x152ecc011420 <guard variable for ROOT::GenerateInitInstanceLocal(std::vector<EncodedEventId, std::allocator<EncodedEventId> > const*)::instance>, __in_chrg=<optimized out>) at /data/cmsbld/jenkins/workspace/ib-run-pr-tests/testBuildDir/el8_amd64_gcc11/external/gcc/11.2.1-f9b9dfdd886f71cd63f5538223d8f161/include/c++/11.2.1/bits/stl_vector.h:683; #14 0x0000152ece69536b in ROOT::TGenericClassInfo::~TGenericClassInfo (this=0x152ecc011320 <ROOT::GenerateInitInstanceLocal(std::vector<EncodedEventId, std::allocator<EncodedEventId> > const*)::instance>, __in_chrg=<optimized out>) at /data/cmsbld/jenkins/workspace/ib-run-pr-tests/testBuildDir/BUILD/el8_amd64_gcc11/lcg/root/6.28.05-e7deaecb5e40f02a68a0fd8a7c036f40/root-6.28.05/core/meta/src/TGenericClassInfo.cxx:227; #15 0x0000152eccfd926c in __run_exit_handlers () from /lib64/libc.so.6; #16 0x0000152eccfd93a0 in exit () from /lib64/libc.so.6; #17 0x0000152eccfc2d8c in __libc_start_main () from /lib64/libc.so.6; #18 0x0000000000406e5e in _start (); ===========================================================. /bin/sh: line 1: 1509407 Segmentation fault (core dumped) edmWriteConfigs -p /data/cmsbld/jenkins/workspace/ib-run-pr-tests/CMSSW_13_2_ROOT628_X_2023-06-04-2300/tmp/el8_amd64_gcc11/src/SimG4Core/SaveSimTrackAction/src/SimG4CoreSaveSimTrackAction/libSimG4CoreSaveSimTrackAction.so; gmake: *** [lib/el8_amd64_gcc11/SimG4CoreSaveSimTrackAction.edmplugin] Error 1; ```. ### What is the expected behaviour?. Not to crash. ### How to reproduce?. ```; $ /cvmfs/cms-ci.cern.ch/week0/cms-sw/cmsdist/8539/32991/install.sh; $ /cvmfs/cms.cern.ch/common/cmssw-el8 # skip if on EL8 machine; $ cd CMSSW_13_2_ROOT6_X_2023-06-04-2300/src; $ cmsenv; $ scram b -j8 SimDataFormats/CaloHit; ```. ### ROOT version. 6-28-patches, master. ### How did you install ROOT?. from source. ### Which operating system are you using?. Alma Linux 8. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12957:9313,install,install,9313,https://root.cern,https://github.com/root-project/root/issues/12957,3,"['install', 'patch']","['install', 'patches']"
Deployability,"stop mid-way in cppyy ; expression_function_type = cppyy.gbl.expression['std::function<int(int)>'].function_type # <class cppyy.gbl.std.function<int(int)> at 0x7fc1ddfa8f30>; simple_deduction = cppyy.gbl.deduce_equation['std::function<int(int)>'].type # AttributeError; # simple_equation = cppyy.gbl.equation_t['std::function<int(int)>']() # works fine with cppyy 3.0.0 from here; # print(simple_equation); ```; ```py; # importing cppyy and my C++ library; import cppyy; cppyy.include('queryosity.h'); from cppyy.gbl import queryosity as q. # JIT and get some C++ function; cppyy.cppdef('''auto fn = std::function([](){return 1;});'''); fn = cppyy.gbl.fn. # use it in my templated library; df = q.dataflow(); expr = q.column.expression['std::function<int()>'](fn) # AttributeError; # one = df._equate(expr) # works fine with cppyy 3.0.0 from here; # print(one) # <cppyy.gbl.queryosity.todo<queryosity::column::evaluator<queryosity::column::equation<int()>>> object at 0x7fc41743b690>. # okay, ""persuade"" cppyy from C++ side; cppyy.cppdef('''auto expr = queryosity::column::expression(fn);''');; one = df._equate(cppyy.gbl.expr) # worked! ... or did it?; print(one) # <cppyy.gbl.queryosity.todo<queryosity::column::evaluator<queryosity::column::equation<int> > > object at 0x7ff5fefc27d0>; #################################; # how did int() become int?; # more generaly, Ret(Args...) becomes Ret!; ```. ### ROOT version. ```; ------------------------------------------------------------------; | Welcome to ROOT 6.30/04 https://root.cern |; | (c) 1995-2024, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built for macosx64 on Feb 04 2024, 02:42:45 |; | From heads/latest-stable@ |; | With Apple clang version 15.0.0 (clang-1500.1.0.2.5) |; | Try '.help'/'.?', '.demo', '.license', '.credits', '.quit'/'.q' |; ------------------------------------------------------------------; ```. ### Installation method. build from source. ### Operating system. MacOS. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15062:4391,Install,Installation,4391,https://root.cern,https://github.com/root-project/root/issues/15062,1,['Install'],['Installation']
Deployability,"strationWeb:TFile.ReadWithoutGlobalRegistrationNet:RNTuple.TClassEBO; [==========] Running 18 tests from 1 test suite.; [----------] Global test environment set-up.; [----------] 18 tests from RNTuple; [ RUN ] RNTuple.StdPair; /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/test/ntuple_types.cxx:102: Failure; Expected equality of these values:; (alignof(std::pair<int64_t, float>)); Which is: 4; otherField->GetAlignment(); Which is: 8; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RPageStorageFile.cxx:51 in ROOT::Experimental::Detail::RPageSinkFile::RPageSinkFile(std::string_view, const ROOT::Experimental::RNTupleWriteOptions&)>: The RNTuple file format will change. Do not store real data with this version of RNTuple!; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experimental::Internal::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNTupleDescriptorBuilder&)>: Pre-release format version: RC 1; [ FAILED ] RNTuple.StdPair (287 ms); [ --- ]; [ RUN ] RNTuple.StdTuple; /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/test/ntuple_types.cxx:151: Failure; Expected equality of these values:; (alignof(std::tuple<char, int64_t, char>)); Which is: 4; otherField->GetAlignment(); Which is: 8; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RPageStorageFile.cxx:51 in ROOT::Experimental::Detail::RPageSinkFile::RPageSinkFile(std::string_view, const ROOT::Experimental::RNTupleWriteOptions&)>: The RNTuple file format will change. Do not store real data with this version of RNTuple!; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experimental::Internal::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNT",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12427:1902,release,release,1902,https://root.cern,https://github.com/root-project/root/issues/12427,1,['release'],['release']
Deployability,"sults, which are the same before and after 6.28.; Instead, the problem is that those integrals may not be easy to compute: this issue was noticed because among the extra integrals was a complex numeric integral that had to be evaluated at each event in the dataset, was extremely slow, and in practice caused the fit to never converge. ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->; No extra integrals over unnamed ranges, passing the full range to fitTo does not add integrals, calling `fixAddCoefRange` removes all coefnorm integrals. ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->; ```Python; import ROOT; from ROOT.RooFit import RooConst. # in this simple example the symptoms are only in the logs, in the names of the integrals evaluated; ROOT.RooMsgService.instance().addStream(ROOT.RooFit.INFO, Topic = ROOT.RooFit.Integration). x = ROOT.RooRealVar('x', '', 0, 1). g = ROOT.RooGaussian('g', '', x, RooConst(0.5), RooConst(0.2)); u = ROOT.RooUniform('u', '', x). f = ROOT.RooRealVar('f', '', 0.5, 0, 1); a = ROOT.RooAddPdf('a', '', [g, u], [f]). dt = a.generate({x}, NumEvents = 1000). x.setRange('limited', 0.2, 0.8); x.setRange('full', 0, 1). a.fitTo(dt, Range = 'full', PrintLevel = -1). a.fitTo(dt, Range = 'limited', PrintLevel = -1). a.fixAddCoefRange('full'); a.fitTo(dt, Range = 'full', PrintLevel = -1). a.fixAddCoefRange('limited'); a.fitTo(dt, Range = 'limited', PrintLevel = -1). ```; Compare 6.26 with master. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->; ROOT 6.26 from LCG 102b; ROOT master from LCG dev3. ### Additional context; <!--; Add any other context about the problem here.; -->",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12645:2642,Integrat,Integration,2642,https://root.cern,https://github.com/root-project/root/issues/12645,2,"['Integrat', 'install']","['Integration', 'install']"
Deployability,"t /local2/pcanal/cint_working/rootcling/v6-14-00-patches/interpreter/cling/lib/Interpreter/Interpreter.cpp:823; #27 0x00007fffeebcb560 in cling::Interpreter::DeclareCFunction (this=0x4a0f30, name=..., code=..., withAccessControl=true) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/interpreter/cling/lib/Interpreter/Interpreter.cpp:1096; #28 0x00007fffeebcb862 in cling::Interpreter::compileFunction (this=0x4a0f30, name=..., code=..., ifUnique=false, withAccessControl=true); at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/interpreter/cling/lib/Interpreter/Interpreter.cpp:1140; #29 0x00007fffeeafb83c in TClingCallFunc::compile_wrapper (withAccessControl=true, wrapper=..., wrapper_name=..., this=0xcf3c10) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/metacling/src/TClingCallFunc.cxx:270; #30 TClingCallFunc::make_wrapper (this=this@entry=0xcf3c10) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/metacling/src/TClingCallFunc.cxx:1096; #31 0x00007fffeeafbcb8 in TClingCallFunc::IFacePtr (this=this@entry=0xcf3c10) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/metacling/src/TClingCallFunc.cxx:2233; #32 0x00007fffeeafbe83 in TClingCallFunc::ExecT<long> (address=0x0, this=0xcf3c10) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/metacling/src/TClingCallFunc.cxx:2045; #33 TClingCallFunc::ExecInt (this=0xcf3c10, address=0x0) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/metacling/src/TClingCallFunc.cxx:2065; #34 0x00007ffff7c56e8d in TMethodCall::Execute (this=0xd97710, object=<optimized out>, retLong=@0x7fffffffd958: 0) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/meta/src/TMethodCall.cxx:457; #35 0x0000000000401009 in TMethodCall::Execute(long&) (); #36 0x00000000004010ea in long TPluginHandler::ExecPluginImpl<>() (); #37 0x000000000040106d in long TPluginHandler::ExecPlugin<>(int) (); #38 0x0000000000400e21 in mytest() (); #39 0x0000000000400e92 in main (); ```",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2776:8914,patch,patches,8914,https://root.cern,https://github.com/root-project/root/pull/2776,8,['patch'],['patches']
Deployability,"t = new TH1F(""background1_statUncert"", ""statUncert"", 2,1,2);. // run with 1 pb; data->SetBinContent(1,122);; data->SetBinContent(2,112);. signal->SetBinContent(1,20);; signal->SetBinContent(2,10);. background1->SetBinContent(1,100);; background2->SetBinContent(2,100);. // A small statistical uncertainty; statUncert->SetBinContent(1, .05); // 5% uncertainty; statUncert->SetBinContent(2, .05); // 5% uncertainty. example->Write();; example->Close();; }. void broken_weights(){; create_test_input();; create_test_ws();; TFile f(""results/example_UsingC_combined_meas_model.root"",""READ"");; RooWorkspace* w = (RooWorkspace*)f.Get(""combined"");; RooStats::ModelConfig mc = *(static_cast<RooStats::ModelConfig*>(w -> obj(""ModelConfig"")));; RooSimultaneous* simPdf = dynamic_cast<RooSimultaneous*>((mc.GetPdf()));; RooAbsPdf *pdf = mc.GetPdf();; RooArgSet obsSet = *(mc.GetObservables());; RooDataSet* data = static_cast<RooDataSet*>(w->data(""obsData""));; RooDataSet* toyData = pdf->generate(obsSet, RooFit::Extended());; RooCategory* channelCat = (RooCategory*) (&simPdf->indexCat());; TIterator* iter = channelCat->typeIterator() ;; RooCatType* tt = NULL;; for(int i=0; i<1; ++i){; data->get(i);; toyData->get(i);; // FIXME: weights are broken in this reduced dataset; RooAbsData *datatmp = toyData->reduce(Form(""channelCat==channelCat::channel1""));; datatmp->get(i);; std::cout << ""data weight: "" << data->weight() << "" toyData weight: "" << toyData->weight() << "" reduced toyData weight: "" << datatmp->weight() << std::endl;; }; }; ```; This results in; ```; data weight: 122 toyData weight: 99 reduced toyData weight: 1; ```; while weights not equal to 1 are expected. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->; ROOT Version: 6.20/06; Built for linuxx8664gcc on Jun 10 2020, 06:10:57; From tags/v6-20-06@v6-20-06. ### Additional context; <!--; Add any other context about the problem here.; -->",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6951:5557,install,install,5557,https://root.cern,https://github.com/root-project/root/issues/6951,1,['install'],['install']
Deployability,"t argument for ‘class T’; 3435 | struct adl_serializer;; | ^~~~~~~~~~~~~~; In file included from /home/runner/work/SIRF-SuperBuild/SIRF-SuperBuild/build/sources/ROOT/graf3d/eve7/inc/ROOT/REveShape.hxx:15,; from /home/runner/work/SIRF-SuperBuild/SIRF-SuperBuild/build/sources/ROOT/graf3d/eve7/inc/ROOT/REveBox.hxx:15,; from /home/runner/work/SIRF-SuperBuild/SIRF-SuperBuild/build/sources/ROOT/graf3d/eve7/src/REveBox.cxx:12:; /home/runner/work/SIRF-SuperBuild/SIRF-SuperBuild/build/sources/ROOT/graf3d/eve7/inc/ROOT/REveElement.hxx:39:10: note: original definition appeared here; 39 | template<typename T = void, typename SFINAE = void>; | ^~~~~~~~; In file included from /home/runner/work/SIRF-SuperBuild/SIRF-SuperBuild/build/sources/ROOT/graf3d/eve7/src/REveBox.cxx:18:; /home/runner/install/include/nlohmann/json.hpp:3448:7: error: redefinition of default argument for ‘template<class U, class V, class ... Args> class ObjectType’; 3448 | class basic_json;; ```. I believe this is cause by the fact that the installed version is v3.10.4 (which doesn't have `json_fwd.h`). Relevant bits of code:; - CMake code [checks for version](https://github.com/root-project/root/blob/f98afaed8286ae156d364bedd36c440bc22c0875/cmake/modules/SearchInstalledSoftware.cmake#L87); - CMake [defaults to ""build-in"" OFF](https://github.com/root-project/root/blob/f98afaed8286ae156d364bedd36c440bc22c0875/cmake/modules/RootBuildOptions.cmake#L100); - `REveElement.hxx` contains a work-around if `json_fwd.h` is not found, i.e. it [defines its own](https://github.com/root-project/root/blob/25e81912b499df1703bc6bed47623cfbbce036f7/graf3d/eve7/inc/ROOT/REveElement.hxx#L25-L37). I believe the latter is causing the problem: somehow the existing (old) `json.h` has been read, and then creates a conflict with this definition. I think this work-around needs to be removed. Possibly the easiest is to just require a more recent version. ### Reproducer. install old version and try to build ROOT. ### ROOT version. I tried w",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14634:1264,install,installed,1264,https://root.cern,https://github.com/root-project/root/issues/14634,1,['install'],['installed']
Deployability,"t const*) () at /home/apal/nptool/NPSimulation/lib/libNPSCore.so; #9 0x00007fc42b8aaf23 in G4EventManager::DoProcessing(G4Event*) () at /home/apal/G4/geant4-install/lib/libG4event.so; #10 0x00007fc42d2240f7 in G4RunManager::DoEventLoop(int, char const*, int) () at /home/apal/G4/geant4-install/lib/libG4run.so; #11 0x00007fc42d221d22 in G4RunManager::BeamOn(int, char const*, int) () at /home/apal/G4/geant4-install/lib/libG4run.so; #12 0x00007fc42d23fb27 in G4RunMessenger::SetNewValue(G4UIcommand*, G4String) () at /home/apal/G4/geant4-install/lib/libG4run.so; #13 0x00007fc42d14f35f in G4UIcommand::DoIt(G4String) () at /home/apal/G4/geant4-install/lib/libG4intercoms.so; #14 0x00007fc42d16cc9a in G4UImanager::ApplyCommand(char const*) () at /home/apal/G4/geant4-install/lib/libG4intercoms.so; #15 0x00007fc42d2e28bf in G4VBasicShell::ExecuteCommand(G4String const&) () at /home/apal/G4/geant4-install/lib/libG4interfaces.so; #16 0x00007fc42d2e7afe in G4VBasicShell::ApplyShellCommand(G4String const&, bool&, bool&) () at /home/apal/G4/geant4-install/lib/libG4interfaces.so; #17 0x00007fc42d2daac4 in G4UIQt::ButtonCallback(QString const&) () at /home/apal/G4/geant4-install/lib/libG4interfaces.so; #18 0x00007fc4283cf328 in QMetaObject::activate(QObject*, int, int, void**) () at /usr/lib/x86_64-linux-gnu/libQt5Core.so.5; #19 0x00007fc428f0e3e6 in QAction::triggered(bool) () at /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5; #20 0x00007fc428f10aa2 in QAction::activate(QAction::ActionEvent) () at /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5; #21 0x00007fc42900ae10 in () at /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5; #22 0x00007fc42900b035 in QAbstractButton::mouseReleaseEvent(QMouseEvent*) () at /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5; #23 0x00007fc4290fe5fe in QToolButton::mouseReleaseEvent(QMouseEvent*) () at /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5; #24 0x00007fc428f572b6 in QWidget::event(QEvent*) () at /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5; #25 0x00007fc4290fe6a8",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11071:1369,install,install,1369,https://root.cern,https://github.com/root-project/root/issues/11071,1,['install'],['install']
Deployability,"t introduces a structure (`RDaosKey`) to represent a blob's location within DAOS containers (comprising object ID, distribution key and attribute key) and adds a new mapping between ntuple pages to DAOS. The new mapping ( `kOidPerCluster` ) allocates one object per cluster and determines the distribution key from the column ID - with each page addressable by its own attribute key - , thus perpetuating the adjacency of values in the same cluster and column in the distributed store. I.e., neighboring values that are likely to be fetched together are coalesced to the same physical device in DAOS. The original mapping remains available as `kOidPerPage`, where each page is uniquely allocated its own object. In future, other mappings may be easily added by modifying the templated function `GetPageDaosKey` with that use case. RW calls in `RPageStorageDaos` use the mapping set in `kDefaultDaosMapping`, which is `kOidPerCluster`. ## Changes or fixes:; - Introduces `RDaosKey` as an abstract representation of a blob's location in DAOS comprising object ID, distribution key and attribute key.; - Mapping strategies are listed in the enumerator `EDaosMapping`, currently with values `kOidPerPage`, `kOidPerCluster`. ; - The function `GetPageDaosKey` determines the correct `RDaosKey` from page metadata in accordance with the strategy given by the templated argument of type `EDaosMapping`.; - The variable `kDefaultDaosMapping`, set to `kOidPerCluster`, holds the mapping for `RPageStorageDaos` RW calls.; - RNTuple page metadata (anchor, header, footer) blobs are mapped to a single object with three attribute keys, while a dedicated object is allocated to hold the pagelists (one for each cluster group). ## Checklist:. - [x] tested changes locally and on openlab cluster: passes unit tests, LHCb dataset on DAOS 2.0; - [x] updated the docs (if necessary). This PR partially fixes #8080 by introducing the new mapping that stores ""page groups"" as sharing the same object and distribution key.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10927:1848,update,updated,1848,https://root.cern,https://github.com/root-project/root/pull/10927,1,['update'],['updated']
Deployability,"t it to fail with the same errors again if the state were really fully rolled back. ### Reproducer. test.h; ```; template <typename T>; class Helper {. public:. Helper() {}. std::size_t operator() () const {; const std::size_t res = 0;; res = T{0, 0}.size();; return res;; }. };. template <typename H>; std::size_t call_helper(const H &helper) {; return helper();; }; ```. testdeclare.py; ```; import ROOT. ret = ROOT.gInterpreter.Declare('#include ""test.h""'); print(""header include ret"", ret). print(""creating helper""); helper = ROOT.Helper[ROOT.std.vector[""double""]](). bad_template = ""template std::size_t call_helper<Helper<std::vector<double>>>(const Helper<std::vector<double>>&);"". for i in range(2):; print(f""declare attempt {i}""); ret = ROOT.gInterpreter.Declare(bad_template); print(""ret"", ret); ```. output:; ```; header include ret True; creating helper; declare attempt 0; In file included from input_line_34:1:; ./test.h:10:9: error: cannot assign to variable 'res' with const-qualified type 'const std::size_t' (aka 'const unsigned long'); res = T{0, 0}.size();; ~~~ ^; ./test.h:18:10: note: in instantiation of member function 'Helper<std::vector<double, std::allocator<double> > >::operator()' requested here; return helper();; ^; ./test.h:9:23: note: variable 'res' declared const here; const std::size_t res = 0;; ~~~~~~~~~~~~~~~~~~^~~~~~~; ret False; declare attempt 1; ret True; ```. ### ROOT version. ```; ------------------------------------------------------------------; | Welcome to ROOT 6.33.01 https://root.cern |; | (c) 1995-2024, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built for linuxx8664gcc on Oct 02 2024, 00:22:18 |; | From heads/master@v6-31-01-3406-g2dc2e0f126 |; | With g++ (GCC) 14.2.0 |; | Try '.help'/'.?', '.demo', '.license', '.credits', '.quit'/'.q' |; ------------------------------------------------------------------; ```. ### Installation method. lcg nightlies. ### Operating system. Linux (alma 9). ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/16577:2289,Install,Installation,2289,https://root.cern,https://github.com/root-project/root/issues/16577,1,['Install'],['Installation']
Deployability,"t triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->. to reproduce see this very simple gist ; https://gist.github.com/VanyaBelyaev/278074969f2f940f180885be35f04db9 . It has been tested with different LCG releases from LCG_94 to LCG_97a; and it always works for `pytjon2` and fails for `python3`. for `python3` one gets an error; ```; Traceback (most recent call last):; File ""./test_dill.py"", line 13, in <module>; hh = dill.loads ( dill.dumps ( h ) ); File ""/cvmfs/sft.cern.ch/lcg/views/LCG_97python3/x86_64-centos7-gcc9-opt/lib/python3.7/site-packages/dill/_dill.py"", line 294, in dumps; dump(obj, file, protocol, byref, fmode, recurse)#, strictio); File ""/cvmfs/sft.cern.ch/lcg/views/LCG_97python3/x86_64-centos7-gcc9-opt/lib/python3.7/site-packages/dill/_dill.py"", line 287, in dump; pik.dump(obj); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 437, in dump; self.save(obj); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 549, in save; self.save_reduce(obj=obj, *rv); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 637, in save_reduce; save(func); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 504, in save; f(self, obj) # Call unbound method with explicit self; File ""/cvmfs/sft.cern.ch/lcg/views/LCG_97python3/x86_64-centos7-gcc9-opt/lib/python3.7/site-packages/dill/_dill.py"", line 1064, in save_builtin_method; pickler.save_reduce(_get_attr, (module, obj.__name__), obj=obj); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 638, in save_reduce; save(args); File ""/cvmfs/s",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6370:1846,release,releases,1846,https://root.cern,https://github.com/root-project/root/issues/6370,1,['release'],['releases']
Deployability,"t webpage I was suggested to do so via snap. I managed to install it and in the end, when I oppened a session and tried new TBrowser() to check some hists and if everything was according to how it was previously, I got this as header of the break:. ```; cling::DynamicLibraryManager::loadLibrary(): libAfterImage.so.0: cannot open shared object file: No such file or directory; Error in <TInterpreter::TCling::AutoLoad>: failure loading library libASImage.so for TASImage; cling::DynamicLibraryManager::loadLibrary(): libAfterImage.so.0: cannot open shared object file: No such file or directory; Error in <TGVSplitter::TGVSplitter>: splitterv.xpm not found; Error in <TGHSplitter::TGHSplitter>: splitterh.xpm not found; Error in <TGComboBox::TGComboBox>: arrow_down.xpm not found; Error in <TGVScrollBar::TGVScrollBar>: arrow_*.xpm not found; ```. I proceeded to uninstall it and try to build it on my own.; I followed the instructions on this webpage https://root.cern/install/build_from_source/ after checking all the dependencies. When I made the first cmake I got some things that it couldn't find which would give the following lines on terminal. ```; Could NOT find Vdt (missing: VDT_INCLUDE_DIR VDT_LIBRARY) (Required is at least version ""0.4""); -- VDT not found. Ensure that the installation of VDT is in the CMAKE_PREFIX_PATH; ```; The things it couldn't find were:; ```; PCRE; xxHash; ZSTD; GIF; TIFF; JPEG; GLEW; gl2ps; LibXml2; MySQL; PostgreSQL; Sqlite; CFITSIO; XROOTD; FTGL; LibXml2; TBB; Vdt; OCaml; ```; Then I got the following lines ; ```; -- clang project is enabled; -- clang-tools-extra project is disabled; -- compiler-rt project is disabled; -- cross-project-tests project is disabled; -- libc project is disabled; -- libclc project is disabled; -- libcxx project is disabled; -- libcxxabi project is disabled; -- libunwind project is disabled; -- lld project is disabled; -- lldb project is disabled; -- mlir project is disabled; -- openmp project is disabled; -- parallel-l",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14479:1432,install,install,1432,https://root.cern,https://github.com/root-project/root/issues/14479,1,['install'],['install']
Deployability,"t with many warnings. - Some of them look unimportant; - Some of them could be auto-fixed by Clang; - Some of them look like real errors.; ; For example, in the file clingwrapper.cxx, obj is not deleted if WrapperCall returns false, which seems to lead to a leak:. ```; Cppyy::TCppObject_t Cppyy::CallO(TCppMethod_t method,; TCppObject_t self, size_t nargs, void* args, TCppType_t result_type); {; TClassRef& cr = type_from_handle(result_type);; void* obj = ::operator new(gInterpreter->ClassInfo_Size(cr->GetClassInfo()));; if (WrapperCall(method, nargs, args, self, obj)); return (TCppObject_t)obj;; return (TCppObject_t)0;; }; ```. ```; /opt/root_src/bindings/pyroot/cppyy/cppyy-backend/clingwrapper/src/clingwrapper.cxx:889:26: warning: Potential leak of memory pointed to by 'obj' [clang-analyzer-cplusplus.NewDeleteLeaks]; 1: Calling 'CallO' in /opt/root_src/bindings/pyroot/cppyy/cppyy-backend/clingwrapper/src/clingwrapper.cxx:2290; 2: Memory is allocated in /opt/root_src/bindings/pyroot/cppyy/cppyy-backend/clingwrapper/src/clingwrapper.cxx:886; 3: Taking false branch in /opt/root_src/bindings/pyroot/cppyy/cppyy-backend/clingwrapper/src/clingwrapper.cxx:887; 4: Potential leak of memory pointed to by 'obj' in /opt/root_src/bindings/pyroot/cppyy/cppyy-backend/clingwrapper/src/clingwrapper.cxx:889; ```. My question is: how should I report them? In separate issues for each CMake subdirectory? All in the same Ticket? Or do the devs prefer to run it by themselves for easier check?. Concerning things as ""0 as nullptr"", would you accept a PR that fixes all of these across ROOT at the same time, see here https://clang.llvm.org/extra/clang-tidy/checks/modernize-use-nullptr.html, or you prefer to keep with the old convention of using 0 ?. ### To Reproduce; - Install QtCreator; - Click on File, Import File or Project, click on the main CMakeLists.txt of the ROOT source git repository.; - Build; - Tool, Run Clang & Tidy Analyzer. ### Setup; 1. ROOT 6.23/01; 2. Ubuntu 18; 3. git master",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7400:1923,Install,Install,1923,https://root.cern,https://github.com/root-project/root/issues/7400,1,['Install'],['Install']
Deployability,"t yourself.; -->. ### Additional context; <!--; Add any other context about the problem here.; -->; 1. `gcc -v`; ```sh; Using built-in specs.; COLLECT_GCC=gcc; COLLECT_LTO_WRAPPER=/usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/lto-wrapper; Target: x86_64-pc-linux-gnu; Configured with: /build/gcc/src/gcc/configure --enable-languages=c,c++,ada,fortran,go,lto,objc,obj-c++,d --enable-bootstrap --prefix=/usr --libdir=/usr/lib --libexecdir=/usr/lib --mandir=/usr/share/man --infodir=/usr/share/info --with-bugurl=https://bugs.archlinux.org/ --with-linker-hash-style=gnu --with-system-zlib --enable-__cxa_atexit --enable-cet=auto --enable-checking=release --enable-clocale=gnu --enable-default-pie --enable-default-ssp --enable-gnu-indirect-function --enable-gnu-unique-object --enable-linker-build-id --enable-lto --enable-multilib --enable-plugin --enable-shared --enable-threads=posix --disable-libssp --disable-libstdcxx-pch --disable-werror --with-build-config=bootstrap-lto --enable-link-serialization=1 gdc_include_dir=/usr/include/dlang/gdc; Thread model: posix; Supported LTO compression algorithms: zlib zstd; gcc version 11.2.0 (GCC); ```; 2. `clang -v`; ```sh; clang version 13.0.1; Target: x86_64-pc-linux-gnu; Thread model: posix; InstalledDir: /usr/bin; Found candidate GCC installation: /usr/bin/../lib/gcc/x86_64-pc-linux-gnu/11.2.0; Found candidate GCC installation: /usr/bin/../lib64/gcc/x86_64-pc-linux-gnu/11.2.0; Selected GCC installation: /usr/bin/../lib64/gcc/x86_64-pc-linux-gnu/11.2.0; Candidate multilib: .;@m64; Candidate multilib: 32;@m32; Selected multilib: .;@m64; ```; 3. `cat /etc/*release`; ```sh; DISTRIB_ID=""Arch""; DISTRIB_RELEASE=""rolling""; DISTRIB_DESCRIPTION=""Arch Linux""; NAME=""Arch Linux""; PRETTY_NAME=""Arch Linux""; ID=arch; BUILD_ID=rolling; ANSI_COLOR=""38;2;23;147;209""; HOME_URL=""https://archlinux.org/""; DOCUMENTATION_URL=""https://wiki.archlinux.org/""; SUPPORT_URL=""https://bbs.archlinux.org/""; BUG_REPORT_URL=""https://bugs.archlinux.org/""; LOGO=archlinux-logo; ```",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10528:31474,Install,InstalledDir,31474,https://root.cern,https://github.com/root-project/root/issues/10528,7,"['Install', 'install', 'release', 'rolling']","['InstalledDir', 'installation', 'release', 'rolling']"
Deployability,"t&, llvm::SmallPtrSetImpl<llvm::BasicBlock*>&, llvm::InstCombineWorklist&, llvm::TargetLibraryInfo const*) (in /build/vvassilev/root-release-master/lib/libCling.so); ==22765== by 0x9139861: combineInstructionsOverFunction(llvm::Function&, llvm::InstCombineWorklist&, llvm::AAResults*, llvm::AssumptionCache&, llvm::TargetLibraryInfo&, llvm::DominatorTree&, llvm::OptimizationRemarkEmitter&, llvm::BlockFrequencyInfo*, llvm::ProfileSummaryInfo*, bool, llvm::LoopInfo*) (in /build/vvassilev/root-release-master/lib/libCling.so); ==22765== by 0x913A00E: llvm::InstructionCombiningPass::runOnFunction(llvm::Function&) (in /build/vvassilev/root-release-master/lib/libCling.so); ==22765== by 0x9E4CCC7: llvm::FPPassManager::runOnFunction(llvm::Function&) (in /build/vvassilev/root-release-master/lib/libCling.so); ==22765== by 0x9E4CE00: llvm::FPPassManager::runOnModule(llvm::Module&) (in /build/vvassilev/root-release-master/lib/libCling.so); ==22765== by 0x9E4BEE5: llvm::legacy::PassManagerImpl::run(llvm::Module&) (in /build/vvassilev/root-release-master/lib/libCling.so); ==22765== by 0x6F12B5A: cling::IncrementalExecutor::runStaticInitializersOnce(cling::Transaction&) (in /build/vvassilev/root-release-master/lib/libCling.so); ==22765== ; ==22765== Warning: set address range perms: large range [0x1cfd0000, 0x31242000) (defined); ==22765== Warning: set address range perms: large range [0x1cfd0000, 0x31242000) (noaccess); ==22765== Warning: set address range perms: large range [0x1cfd0000, 0x31242000) (defined); ==22765== Warning: set address range perms: large range [0x1cfd0000, 0x31242000) (noaccess); ==22765== Warning: set address range perms: large range [0x1cfd0000, 0x2d27d000) (defined); ==22765== Warning: set address range perms: large range [0x1cfd0000, 0x2d27d000) (noaccess); ==22765== Warning: set address range perms: large range [0x1cfd0000, 0x2d27d000) (defined); ==22765== Warning: set address range perms: large range [0x1cfd0000, 0x2d27d000) (noaccess); ==22765== Warning: ",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11385:4394,release,release-master,4394,https://root.cern,https://github.com/root-project/root/issues/11385,1,['release'],['release-master']
Deployability,"t**, bool) const (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCling.so; #2 0x00007fffefb854d9 in TClingClassInfo::TClingClassInfo(cling::Interpreter*, char const*, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCling.so; #3 0x00007fffefb06c54 in TCling::GetInterpreterTypeName(char const*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, bool); (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCling.so; #4 0x00007ffff560f184 in TClass::GetClass(char const*, bool, bool, unsigned long, unsigned long) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #5 0x00007ffff563608a in TProtoClass::FillTClass(TClass*) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #6 0x00007ffff56188e5 in TClass::Init(char const*, short, std::type_info const*, TVirtualIsAProxy*, char const*, char const*, int, int, ClassInfo_t*, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #7 0x00007ffff5619f76 in TClass::TClass(char const*, short, std::type_info const&, TVirtualIsAProxy*, char const*, char const*, int, int, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #8 0x00007ffff561a48a in ROOT::CreateClass(char const*, short, std::type_info const&, TVirtualIsAProxy*, char const*, char const*, int, int) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #9 0x00007ffff562906a in ROOT::TGenericClassInfo::GetClass() (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7657:12957,patch,patches,12957,https://root.cern,https://github.com/root-project/root/issues/7657,1,['patch'],['patches']
Deployability,"t-6.22.06/lib/libvectorDict.so"": No such file or; directory.; Call Stack (most recent call first):; core/cmake_install.cmake:75 (include); cmake_install.cmake:200 (include); make: *** [Makefile:148: install] Error 1. I had `libvectorDict.so` from the previous installation (also it is present at /usr/lib/root/libvectorDict.so, I don't know why), so I linked that file to the needed one. ln -s `realpath ../build-root-6.20.02/lib/libvectorDict.so` lib/. it was linked fine (existed). However, when I re-run `cmake`, it outputs the same error and the file is removed. I found that it's possible to [generate this file separately](https://root-forum.cern.ch/t/root-6-22-02-installation-error-cannot-find-libvectordict-so/42162/9) with. cmake --build . -- vectorDict . However, I can't be sure that this makes it a good installation (when I run `cmake --build . --target install -- -j15` after that, it fails to find the file again). `root` binary exists and can be run, so I hope it solves the problem for me. ### Expected behavior; `cmake` should not delete this file. ### To Reproduce; 1. Download and unpack a source .tar.gz, create and cd the build directory.; 2. cmake -Dxrootd=OFF -Dbuiltin_xrootd=OFF <source_dir> (I had to got rid of `xrootd` as I wrote in [another issue](https://github.com/root-project/root/issues/7292)).; 3. cmake --build . --target install -- -j15. ### Setup; 1. 6.22.06; 2. Arch Linux.; 3. Source package from site, root_v6.22.06.source.tar.gz. ### Additional context; There are really many reports with this problem. An existing issue most close to this may be https://github.com/root-project/root/issues/7108 (it was suggested by git search).; 1. https://root-forum.cern.ch/t/installation-issues-of-new-version-root-6-06-00/20523/8; 2. https://root-forum.cern.ch/t/error-file-install-can-not-find/37552; 3. https://root-forum.cern.ch/t/error-with-libvectordict-so/39097; 4. https://root-forum.cern.ch/t/root-6-22-02-installation-error-cannot-find-libvectordict-so/42162",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7293:1639,install,install,1639,https://root.cern,https://github.com/root-project/root/issues/7293,4,['install'],"['install', 'install-can-not-find', 'installation-error-cannot-find-libvectordict-so', 'installation-issues-of-new-version-root-']"
Deployability,"t-6.28.04/core/textinput/src/Getline.cxx; In file included from /usr/include/c++/13.2.1/cstring:42,; from /home/maxnoe/Downloads/root-6.28.04/core/textinput/src/textinput/Text.h:19,; from /home/maxnoe/Downloads/root-6.28.04/core/textinput/src/textinput/TextInputContext.h:20,; from /home/maxnoe/Downloads/root-6.28.04/core/textinput/src/Getline.cxx:19:; /usr/include/string.h:506:15: error: declaration of ‘size_t strlcpy(char*, const char*, size_t) noexcept’ has a different exception specifier; 506 | extern size_t strlcpy (char *__restrict __dest,; | ^~~~~~~; In file included from /home/maxnoe/Downloads/root-6.28.04/core/textinput/src/Getline.cxx:13:; /home/maxnoe/Downloads/root-6.28.04/core/clib/inc/strlcpy.h:26:8: note: from previous declaration ‘size_t strlcpy(char*, const char*, size_t)’; 26 | size_t strlcpy(char *dst, const char *src, size_t siz);; | ^~~~~~~; /usr/include/string.h:512:15: error: declaration of ‘size_t strlcat(char*, const char*, size_t) noexcept’ has a different exception specifier; 512 | extern size_t strlcat (char *__restrict __dest,; | ^~~~~~~; /home/maxnoe/Downloads/root-6.28.04/core/clib/inc/strlcpy.h:27:8: note: from previous declaration ‘size_t strlcat(char*, const char*, size_t)’; 27 | size_t strlcat(char *dst, const char *src, size_t siz);; | ^~~~~~~; [29/2579] Building CXX object core/unix/CMakeFiles/Unix.dir/src/TUnixSystem.cxx.o; ```. ### Reproducer. If needed, I'll provide a Dockerfile, but error looks pretty straight forward. Edit: here is the docker file:. ```; FROM archlinux:base-devel. RUN pacman -Syu --noconfirm \; && pacman --noconfirm -S \; curl cmake ninja gcc libjpeg \; python python-numpy gsl git libxpm libxft libx11. RUN curl -L https://root.cern/download/root_v6.28.04.source.tar.gz | tar xz. RUN cmake -S root-6.28.04 -B root_build -G Ninja \; && cmake --build root_build; ```. ### ROOT version. 6.28.04. ### Installation method. from source. ### Operating system. Arch Llinux, gcc 13.2.1. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13529:3079,Install,Installation,3079,https://root.cern,https://github.com/root-project/root/issues/13529,1,['Install'],['Installation']
Deployability,"t-Wigner distribution, relEps = 0.001; 	 	mean 	median 	q95 	q99 	max; 	old:	0.0303175	0.0209141	0.0827284	0.116045	0.125775	t=0.05; 	new:	0.00084728	0.000305644	0.00479046	0.0129056	0.125775	t=0.02; 	ROOT:	1.69943e-06	6.01714e-12	2.93861e-09	6.96465e-08	0.125775	t=0.25; Old integrator reached poor precision: 0.0303175 +/- 0.0273059 instead of 0.001; Integrating Breit-Wigner distribution, relEps = 1e-06; 	 	mean 	median 	q95 	q99 	max; 	old:	3.37556e-06	3.37556e-06	3.39334e-06	3.39492e-06	3.39532e-06	t=0.18; 	new:	2.27034e-08	2.27035e-08	2.28213e-08	2.28318e-08	3.39532e-06	t=0.18; 	ROOT:	1.98411e-16	2.29224e-16	4.58502e-16	4.58676e-16	3.39532e-06	t=0.16; Integrating Breit-Wigner distribution, relEps = 1e-08; 	 	mean 	median 	q95 	q99 	max; 	old:	2.28344e-08	2.28344e-08	2.28344e-08	2.28344e-08	2.28344e-08	t=0.3; 	new:	1.21223e-10	1.21223e-10	1.21223e-10	1.21223e-10	2.28344e-08	t=0.25; 	ROOT:	2.1239e-16	2.29339e-16	4.58677e-16	5.73346e-16	2.28344e-08	t=0.2; [ OK ] Roo1DIntegrator.ConvergenceSettings_breitWig (1691 ms); [ RUN ] Roo1DIntegrator.ConvergenceSettings_Erf; Integrating Gaussian distribution, relEps = 0.001; 	 	mean 	median 	q95 	q99 	max; 	old:	7.08849e-07	1.10954e-07	3.73492e-06	5.0379e-06	5.42401e-06	t=0.04; 	new:	1.1389e-09	4.99603e-11	6.97092e-09	1.01533e-08	5.42401e-06	t=0.07; 	ROOT:	1.64064e-16	1.47929e-16	3.92701e-16	5.06943e-16	5.42401e-06	t=0.03; Integrating Gaussian distribution, relEps = 1e-06; 	 	mean 	median 	q95 	q99 	max; 	old:	5.85915e-11	5.85915e-11	5.92462e-11	5.93042e-11	5.93189e-11	t=0.02; 	new:	2.36704e-12	2.36701e-12	2.36767e-12	2.36784e-12	5.93189e-11	t=0.02; 	ROOT:	1.74104e-16	1.77729e-16	3.55466e-16	5.33192e-16	5.93189e-11	t=0.07; Integrating Gaussian distribution, relEps = 1e-08; 	 	mean 	median 	q95 	q99 	max; 	old:	5.78644e-11	5.78644e-11	5.78648e-11	5.78648e-11	5.78651e-11	t=0.03; 	new:	2.36649e-12	2.36652e-12	2.3667e-12	2.36688e-12	5.78651e-11	t=0.06; 	ROOT:	1.75032e-16	1.77734e-16	3.55467e-16	5.33201e-16	5.78651e-11	t=0.05. ```",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6632:3530,Integrat,Integrating,3530,https://root.cern,https://github.com/root-project/root/pull/6632,3,['Integrat'],['Integrating']
Deployability,"t-dataframe-regression_snapshot (Failed); roottest-root-dataframe-test_glob (Failed); roottest-root-dataframe-test_reduce (Failed); roottest-root-dataframe-ctors (Failed). Are failing with the following errors:. ```; 1306: Processing C:/Users/sftnight/git/roottest/root/dataframe/test_ctors.C+...; 1306: Info in <TWinNTSystem::ACLiC>: creating shared library C:/Users/sftnight/build/release/roottest/root/dataframe/test_ctors_C.dll; 1306: In file included from input_line_9:9:; 1306: In file included from C:/Users/sftnight/git/roottest/root/dataframe/test_ctors.C:4:; 1306: In file included from C:/Users/sftnight/build/release/include\ROOT/RDataFrame.hxx:20:; 1306: In file included from C:/Users/sftnight/build/release/include\ROOT/RDF/RInterface.hxx:15:; 1306: In file included from C:/Users/sftnight/build/release/include\ROOT/RDF/ActionHelpers.hxx:25:; 1306: C:/Users/sftnight/build/release/include\ROOT/RVec.hxx:1434:36: error: use of undeclared identifier 'M_PI'; 1306: T DeltaPhi(T v1, T v2, const T c = M_PI); 1306: ^; 1306: C:/Users/sftnight/build/release/include\ROOT/RVec.hxx:1455:68: error: use of undeclared identifier 'M_PI'; 1306: RVec<T> DeltaPhi(const RVec<T>& v1, const RVec<T>& v2, const T c = M_PI); 1306: ^; 1306: C:/Users/sftnight/build/release/include\ROOT/RVec.hxx:1473:55: error: use of undeclared identifier 'M_PI'; 1306: RVec<T> DeltaPhi(const RVec<T>& v1, T v2, const T c = M_PI); 1306: ^; 1306: C:/Users/sftnight/build/release/include\ROOT/RVec.hxx:1491:55: error: use of undeclared identifier 'M_PI'; 1306: RVec<T> DeltaPhi(T v1, const RVec<T>& v2, const T c = M_PI); 1306: ^; 1306: C:/Users/sftnight/build/release/include\ROOT/RVec.hxx:1510:113: error: use of undeclared identifier 'M_PI'; 1306: RVec<T> DeltaR2(const RVec<T>& eta1, const RVec<T>& eta2, const RVec<T>& phi1, const RVec<T>& phi2, const T c = M_PI); 1306: ^; 1306: C:/Users/sftnight/build/release/include\ROOT/RVec.hxx:1524:112: error: use of undeclared identifier 'M_PI'; 1306: RVec<T> DeltaR(const RV",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6727:1327,release,release,1327,https://root.cern,https://github.com/root-project/root/pull/6727,1,['release'],['release']
Deployability,"t-io-transient-base-WriteFile (Failed); 	1754 - roottest-root-io-transient-base-hadd_autoload (Failed); 	1799 - roottest-root-meta-countIncludePaths (Failed); 	1841 - roottest-root-meta-MakeProject-runaliceesd (Failed); 	1852 - roottest-root-meta-ROOT-7462-make (Failed); 	2229 - roottest-root-tree-cache-perfstattest-libevent-build (Failed); 	2230 - roottest-root-tree-cache-perfstattest (Failed); ```; * You can ignore the failures for numba, as I don't have that installed.; * The math tests seem to fail because of strict tolerances and errors related to SIMD being enabled (I used `-march=native` on a machine that has AVX2 support). I suggest enabling SIMD on at least one of the CI builds in Jenkins to cover that if that's not the case now. ; * The test `roottest-root-tree-cache-perfstattest-libevent-build` and some others fail because of a build type not being set (I just set `CMAKE_CXX_FLAGS` and not `CMAKE_BUILD_TYPE`, which should be a valid configuration). It's fine to require setting a build type for testing, but having a fallback for when it's not set is probably better. In CI a build type is usually set, so you won't see these failures in Jenkins.; * Some of the other tests fail due to `unresolved while linking` errors from cling, which could be something related to the `-fPIE` fixes.; * The test loadAllLibs may fail if `Loading library libVMCLibrary.so [rc = -1]` shows in the output, which can happen if VMC is installed as a separate package somewhere. Having VMC installed can also make other tests fail as well, as it will try to load wrong ROOT libraries from another build. I had to uninstall both ROOT and VMC on my machine to be able to run the tests, which is not great. I think it is a good idea to have ROOT (and maybe VMC) installed with yum on at least one of the build nodes to ensure this sort of problem doesn't happen (i.e. picking up wrong ROOT and other libraries from elsewhere while running roottest). This has been a recurring problem with roottest.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/9436:3196,install,installed,3196,https://root.cern,https://github.com/root-project/root/issues/9436,3,['install'],['installed']
Deployability,"t/cppyy/CPyCppyy/src/CPPInstance.cxx; +++ b/bindings/pyroot/cppyy/CPyCppyy/src/CPPInstance.cxx; @@ -332,6 +332,12 @@ static void op_dealloc(CPPInstance* pyobj); PyObject_GC_Del((PyObject*)pyobj);; }; ; +//----------------------------------------------------------------------------; +static int op_traverse(CPPInstance*, visitproc, void*); +{; + return 0;; +}; +; //----------------------------------------------------------------------------; static int op_clear(CPPInstance* pyobj); {; @@ -767,7 +773,7 @@ PyTypeObject CPPInstance_Type = {; Py_TPFLAGS_HAVE_GC |; Py_TPFLAGS_CHECKTYPES, // tp_flags; (char*)""cppyy object proxy (internal)"", // tp_doc; - 0, // tp_traverse; + (traverseproc)op_traverse, // tp_traverse; (inquiry)op_clear, // tp_clear; (richcmpfunc)op_richcompare, // tp_richcompare; 0, // tp_weaklistoffset; diff --git a/bindings/pyroot/cppyy/CPyCppyy/src/CustomPyTypes.cxx b/bindings/pyroot/cppyy/CPyCppyy/src/CustomPyTypes.cxx; index 97ce06daa7..ed41b1637c 100644; --- a/bindings/pyroot/cppyy/CPyCppyy/src/CustomPyTypes.cxx; +++ b/bindings/pyroot/cppyy/CPyCppyy/src/CustomPyTypes.cxx; @@ -78,8 +78,7 @@ PyTypeObject TypedefPointerToClass_Type = {; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,; (ternaryfunc)tpc_call, // tp_call; 0, 0, 0, 0,; - Py_TPFLAGS_DEFAULT |; - Py_TPFLAGS_HAVE_GC, // tp_flags; + Py_TPFLAGS_DEFAULT, // tp_flags; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0; #if PY_VERSION_HEX >= 0x02030000; , 0 // tp_del; diff --git a/bindings/pyroot/cppyy/CPyCppyy/src/MemoryRegulator.cxx b/bindings/pyroot/cppyy/CPyCppyy/src/MemoryRegulator.cxx; index f9e92f9c8c..5da48364ac 100644; --- a/bindings/pyroot/cppyy/CPyCppyy/src/MemoryRegulator.cxx; +++ b/bindings/pyroot/cppyy/CPyCppyy/src/MemoryRegulator.cxx; @@ -45,7 +45,7 @@ struct InitCPyCppyy_NoneType_t {; ((PyVarObject&)CPyCppyy_NoneType).ob_size = 0;; ; CPyCppyy_NoneType.tp_name = const_cast<char*>(""CPyCppyy_NoneType"");; - CPyCppyy_NoneType.tp_flags = Py_TPFLAGS_HAVE_RICHCOMPARE | Py_TPFLAGS_HAVE_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10799:2460,a/b,a/bindings,2460,https://root.cern,https://github.com/root-project/root/issues/10799,1,['a/b'],['a/bindings']
Deployability,"t/lib/python3.7/pickle.py"", line 885, in _batch_setitems; save(v); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 504, in save; f(self, obj) # Call unbound method with explicit self; File ""/cvmfs/sft.cern.ch/lcg/views/LCG_97python3/x86_64-centos7-gcc9-opt/lib/python3.7/site-packages/dill/_dill.py"", line 902, in save_module_dict; StockPickler.save_dict(pickler, obj); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 859, in save_dict; self._batch_setitems(obj.items()); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 890, in _batch_setitems; save(v); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 504, in save; f(self, obj) # Call unbound method with explicit self; File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 819, in save_list; self._batch_appends(obj); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 846, in _batch_appends; save(tmp[0]); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 549, in save; self.save_reduce(obj=obj, *rv); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 633, in save_reduce; save(cls); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 504, in save; f(self, obj) # Call unbound method with explicit self; File ""/cvmfs/sft.cern.ch/lcg/views/LCG_97python3/x86_64-centos7-gcc9-opt/lib/python3.7/site-packages/dill/_dill.py"", line 1330, in save_type; StockPickler.save_global(pickler, obj); File ""/cvmfs/sft.cern.ch/lcg/r",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6370:5319,release,releases,5319,https://root.cern,https://github.com/root-project/root/issues/6370,1,['release'],['releases']
Deployability,"t; root [0] gSystem->Load(""test_cpp""); root [1] obj->Print(); Error in <TBufferFile::ReadVersion>: Could not find the StreamerInfo with a checksum of 0x6b3ba626 for the class ""string"" in test.root.; Error in <TBufferFile::CheckByteCount>: object of class string read too many bytes: 72 instead of 24; Warning in <TBufferFile::CheckByteCount>: string::Streamer() not in sync with data on file test.root, fix Streamer(); aaaabbbbbb@ cccc�i�� cccc. With an older version of ROOT (6.18), everything works as expected. ### Some additional information. I tried to compare StreamerInfo for 2 ROOT versions and they are different (last item):. **root 6.18**. root [2] _file0->ShowStreamerInfo(); OBJ: TList TList Doubly linked list : 0; ; StreamerInfo for class: TestClass, version=1, checksum=0x84f55819; TObject BASE offset= 0 type=66 Basic ROOT object; map<array<string,2>,string> test_map_ offset= 0 type=300 (nodelete) ,stl=4, ctype=61,; ; StreamerInfo for class: pair<array<string,2>,string>, version=1, checksum=0x64321048; string first [2] offset= 0 type=320 ,stl=365, ctype=365,; string second offset= 0 type=300 ,stl=365, ctype=365,. **root 6.22,24**. root [3] _file0->ShowStreamerInfo(); OBJ: TList TList Doubly linked list : 0; ; StreamerInfo for class: TestClass, version=1, checksum=0x84f55819; TObject BASE offset= 0 type=66 Basic ROOT object; map<array<string,2>,string> test_map_ offset= 0 type=300 (nodelete) ,stl=4, ctype=61,; ; StreamerInfo for class: pair<array<string,2>,string>, version=1, checksum=0xb5fb752; array<string,2> first offset= 0 type=62 Emulation; string second offset= 0 type=300 ,stl=365, ctype=365, Emulation; ; StreamerInfo for class: array<string,2>, version=1, checksum=0x6b3ba626; string _M_elems offset= 0 type=320 ,stl=365, ctype=365. Unfortunately, I don't how to proceed further. ### Setup. 1. Reproduced with ROOT 6.22.08, 6.24 (today's version from the branch with patches); 2. Operating system Fedora 33 / centos7; 3. binary download / you built it yourself.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/8268:3317,patch,patches,3317,https://root.cern,https://github.com/root-project/root/issues/8268,1,['patch'],['patches']
Deployability,"tColumnRepresentations() const’:; /opt/root/src/tree/dataframe/src/RNTupleDS.cxx:78:25: error: ‘kSplitIndex64’ is not a member of ‘ROOT::Experimental::EColumnType’; did you mean ‘kSplitIndex32’?; 78 | {{EColumnType::kSplitIndex64}, {EColumnType::kIndex64}, {EColumnType::kSplitIndex32}, {EColumnType::kIndex32}},; | ^~~~~~~~~~~~~; | kSplitIndex32; /opt/root/src/tree/dataframe/src/RNTupleDS.cxx:78:55: error: ‘kIndex64’ is not a member of ‘ROOT::Experimental::EColumnType’; did you mean ‘kIndex32’?; 78 | {{EColumnType::kSplitIndex64}, {EColumnType::kIndex64}, {EColumnType::kSplitIndex32}, {EColumnType::kIndex32}},; | ^~~~~~~~; | kIndex32; /opt/root/src/tree/dataframe/src/RNTupleDS.cxx:79:12: error: no matching function for call to ‘ROOT::Experimental::Detail::RFieldBase::RColumnRepresentations::RColumnRepresentations(<brace-enclosed initializer list>, <brace-enclosed initializer list>)’; 79 | {});; | ^; In file included from /opt/root/src/tree/dataframe/src/RNTupleDS.cxx:19:; /opt/root/install/include/ROOT/RField.hxx:111:7: note: candidate: ‘ROOT::Experimental::Detail::RFieldBase::RColumnRepresentations::RColumnRepresentations(const TypesList_t&, const TypesList_t&)’; 111 | RColumnRepresentations(const TypesList_t &serializationTypes, const TypesList_t &deserializationExtraTypes);; | ^~~~~~~~~~~~~~~~~~~~~~; /opt/root/install/include/ROOT/RField.hxx:111:49: note: no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const ROOT::Experimental::Detail::RFieldBase::RColumnRepresentations::TypesList_t&’ {aka ‘const std::vector<std::vector<ROOT::Experimental::EColumnType> >&’}; 111 | RColumnRepresentations(const TypesList_t &serializationTypes, const TypesList_t &deserializationExtraTypes);; | ~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~; /opt/root/install/include/ROOT/RField.hxx:110:7: note: candidate: ‘ROOT::Experimental::Detail::RFieldBase::RColumnRepresentations::RColumnRepresentations()’; 110 | RColumnRepresentations();; | ^~~~~~~~~~~~~~~~~~~~~~; /opt/roo",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13103:1325,install,install,1325,https://root.cern,https://github.com/root-project/root/issues/13103,1,['install'],['install']
Deployability,"t\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\include\llvm/Support/Format.h(124,29): message : could be 'llvm::format_object<const std::unique_ptr<llvm::GIMatchDagPredicate,std::default_delete<llvm::GIMatchDagPredicate>> *> llvm::format<const std::unique_ptr<llvm::GIMatchDagPredicate,std::default_delete<llvm::GIMatchDagPredicate>>*>(const char *,const std::unique_ptr<llvm::GIMatchDagPredicate,std::default_delete<llvm::GIMatchDagPredicate>> *const &)' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\VC\Tools\MSVC\14.35.32215\include\format(3526,20): message : or 'std::wstring std::format<const std::unique_ptr<llvm::GIMatchDagPredicate,std::default_delete<llvm::GIMatchDagPredicate>>*>(const std::basic_format_string<wchar_t,const std::unique_ptr<llvm::GIMatchDagPredicate,std::default_delete<llvm::GIMatchDagPredicate>> *>,const std::unique_ptr<llvm::GIMatchDagPredicate,std::default_delete<llvm::GIMatchDagPredicate>> *&&)' [found using argument-dependent lookup] [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(85,11): message : 'std::wstring std::format<const std::unique_ptr<llvm::GIMatchDagPredicate,std::default_delete<llvm::GIMatchDagPredicate>>*>(const std::basic_format_string<wchar_t,const std::unique_ptr<llvm::GIMatchDagPredicate,std::default_delete<llvm::GIMatchDagPredicate>> *>,const std::unique_ptr<llvm::GIMatchDagPredicate,std::default_delete<llvm::GIMatchDagPredicate>> *&&)': cannot convert argument 1 from 'const char [5]' to 'const std::basic_format_string<wchar_t,const std::unique_ptr<llvm::GIMatchDagPredicate,std::default_delete<llvm::GIMatchDagPredicate>> *>' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\Glob",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12523:7405,release,release,7405,https://root.cern,https://github.com/root-project/root/pull/12523,1,['release'],['release']
Deployability,"t_hash_map.h:131:24: warning: ‘void* memset(void*, int, size_t)’ clearing an object of type ‘struct tbb::interface5::internal::hash_map_base::bucket’ with no trivial copy-assignment; use value-initialization instead [-Wclass-memaccess]; 131 | std::memset(my_embedded_segment, 0, sizeof(my_embedded_segment));; | ~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~; ../../include/tbb/concurrent_hash_map.h:93:16: note: ‘struct tbb::interface5::internal::hash_map_base::bucket’ declared here; 93 | struct bucket : tbb::internal::no_copy {; | ^~~~~~; make[6]: *** [Makefile:28: tbb] Error 2; ```. Trying to upgrade to v6-28-12, https://github.com/SyneRBI/SIRF-SuperBuild/pull/859/files, it compiled TBB ok, but failed in XROOTD installation. XROOTD-install-err.log says; ```; [I] No git repository info found. Trying to interpret VERSION_INFO; [I] The XrdVersion.hh file already exists; gmake[7]: *** read jobs pipe: Bad file descriptor. Stop.; gmake[7]: *** Waiting for unfinished jobs....; gmake[6]: *** [Makefile:136: all] Error 2; CMake Error at /home/runner/work/SIRF-SuperBuild/SIRF-SuperBuild/build/builds/ROOT/build/builtins/xrootd/XROOTD-prefix/src/XROOTD-stamp/XROOTD-install-Release-impl.cmake:9 (message):; Command failed (2):. '/usr/local/bin/cmake' '--build' '.' '--target' 'install'; ```; The same error occurs with v6-30-04. The log files actually don't really give an error, but the `bad file descriptor` is strange of course. I'm therefore not sure if this is a problem in ROOT, or a temporary problem on GitHub Actions, or of course a problem with how we build (although that seems to be finally CMake, https://github.com/SyneRBI/SIRF-SuperBuild/blob/master/SuperBuild/External_ROOT.cmake). Any ideas?. ### Reproducer. I cannot reproduce this on my own Ubuntu 22.04 machine at present. We do get the failures in our GitHub Actions jobs. ### ROOT version. see above. ### Installation method. CMake. ### Operating system. Ubuntu 22.04. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14520:2649,install,install-Release-impl,2649,https://root.cern,https://github.com/root-project/root/issues/14520,3,"['Install', 'install']","['Installation', 'install', 'install-Release-impl']"
Deployability,"tall = ''; for prog in rootbrowse rootcp rooteventselector rootls rootmkdir rootmv rootprint rootrm rootslimtree; do; wrapProgram ""$out/bin/$prog"" \; --set PYTHONPATH ""$out/lib"" \; --set ${lib.optionalString stdenv.isDarwin ""DY""}LD_LIBRARY_PATH ""$out/lib""; done. # Make ldd and sed available to the ROOT executable; wrapProgram ""$out/bin/root"" --prefix PATH : ""${lib.makeBinPath [; gnused # sed; stdenv.cc # c++ ld etc.; stdenv.cc.libc # ldd; ]}"". # Patch thisroot.{sh,csh,fish}. # The main target of `thisroot.sh` is ""bash-like shells"",; # but it also need to support Bash-less POSIX shell like dash,; # as they are mentioned in `thisroot.sh`. # `thisroot.sh` would include commands `lsof` and `procps` since ROOT 6.28.; # See https://github.com/root-project/root/pull/10332. patchRcPathPosix ""$out/bin/thisroot.sh"" ""${lib.makeBinPath [; coreutils # dirname tail; gnugrep # grep; gnused # sed; lsof # lsof # for ROOT (>=6.28); man # manpath; procps # ps # for ROOT (>=6.28); which # which; ]}""; patchRcPathCsh ""$out/bin/thisroot.csh"" ""${lib.makeBinPath [; coreutils; gnugrep; gnused; lsof # lsof # for ROOT (>=6.28); man; which; ]}""; patchRcPathFish ""$out/bin/thisroot.fish"" ""${lib.makeBinPath [; coreutils; man; which; ]}""; '';. setupHook = ./setup-hook.sh;; }; ```. `flake.nix`. ```Nix; {; inputs.flake-utils.url = ""github:numtide/flake-utils"";; inputs.nixpkgs.url = ""github:NixOS/nixpkgs/2787fc7d1e51404678614bf0fe92fc296746eec0"";. outputs = { flake-utils, nixpkgs, ... }: flake-utils.lib.eachDefaultSystem (system:; let; lib = nixpkgs.lib;; pkgs = nixpkgs.legacyPackages.${system};; root = with pkgs; callPackage ./. {; python = python3;; inherit (darwin.apple_sdk.frameworks) Cocoa CoreSymbolication OpenGL;; # https://github.com/NixOS/nixpkgs/issues/201254; stdenv = if stdenv.isLinux && stdenv.isAarch64 && stdenv.cc.isGNU then gcc11Stdenv else stdenv;; };; in; {; packages = {; default = root;; inherit root;; };; });; }; ```. `flake.lock`. ```JSON; {; ""nodes"": {; ""flake-utils"": {; ""locked"":",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11920:8351,patch,patchRcPathCsh,8351,https://root.cern,https://github.com/root-project/root/issues/11920,1,['patch'],['patchRcPathCsh']
Deployability,"tall precompiled ROOT 6.30.04, downloaded from root.cern, on RHEL8 or 9.; - Run `thisroot.sh` to set up the runtime environment; - Type rootn.exe; - Hard crash. Transcript of session on RHEL8:; ```; % source /apps/ROOT/6.30.04/bin/thisroot.sh; % root-config --version; 6.30.04; % root-config --features; cxx17 asimage builtin_afterimage builtin_clang builtin_cling builtin_cppzmq builtin_davix builtin_ftgl builtin_gl2ps builtin_glew builtin_gtest builtin_llvm builtin_lz4 builtin_lzma builtin_nlohmannjson builtin_openui5 builtin_pcre builtin_tbb builtin_unuran builtin_vdt builtin_veccore builtin_xrootd builtin_xxhash builtin_zeromq builtin_zlib builtin_zstd clad dataframe davix fftw3 fitsio fortran gdml http imt mathmore mlp minuit2 mysql opengl pgsql proof pyroot roofit roofit_multiprocess webgui root7 rpath runtime_cxxmodules shadowpw shared soversion sqlite ssl tmva tmva-cpu tmva-pymva spectrum unuran vdt veccore x11 xml xrootd; % which rootn.exe; /apps/ROOT/6.30.04/bin/rootn.exe; % rootn.exe; Fatal in <operator new>: with std::align_val_t is not implemented yet; aborting; ... longish stack trace ...; ```; This works without error with ROOT 6.26.14 and 6.28.12 on the exact same machine. Running plain `root` 6.30.04 also works, of course. Only `rootn.exe` seems affected. ### ROOT version. ```; ------------------------------------------------------------------; | Welcome to ROOT 6.30/04 https://root.cern |; | (c) 1995-2024, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built for linuxx8664gcc on Jan 31 2024, 09:46:18 |; | From heads/master@tags/v6-30-04 |; | With c++ (GCC) 8.5.0 20210514 (Red Hat 8.5.0-21) |; | Try '.help'/'.?', '.demo', '.license', '.credits', '.quit'/'.q' |; ------------------------------------------------------------------; ```. ### Installation method. pre-built binary, downloaded from root.cern. ### Operating system. Linux RHEL8 or 9. ### Additional context. Tried several different Linux hosts running RHEL8/CentOS 8, all with same result.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14767:2056,Install,Installation,2056,https://root.cern,https://github.com/root-project/root/issues/14767,1,['Install'],['Installation']
Deployability,"tance*, visitproc, void*); +{; + return 0;; +}; +; //----------------------------------------------------------------------------; static int op_clear(CPPInstance* pyobj); {; @@ -767,7 +773,7 @@ PyTypeObject CPPInstance_Type = {; Py_TPFLAGS_HAVE_GC |; Py_TPFLAGS_CHECKTYPES, // tp_flags; (char*)""cppyy object proxy (internal)"", // tp_doc; - 0, // tp_traverse; + (traverseproc)op_traverse, // tp_traverse; (inquiry)op_clear, // tp_clear; (richcmpfunc)op_richcompare, // tp_richcompare; 0, // tp_weaklistoffset; diff --git a/bindings/pyroot/cppyy/CPyCppyy/src/CustomPyTypes.cxx b/bindings/pyroot/cppyy/CPyCppyy/src/CustomPyTypes.cxx; index 97ce06daa7..ed41b1637c 100644; --- a/bindings/pyroot/cppyy/CPyCppyy/src/CustomPyTypes.cxx; +++ b/bindings/pyroot/cppyy/CPyCppyy/src/CustomPyTypes.cxx; @@ -78,8 +78,7 @@ PyTypeObject TypedefPointerToClass_Type = {; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,; (ternaryfunc)tpc_call, // tp_call; 0, 0, 0, 0,; - Py_TPFLAGS_DEFAULT |; - Py_TPFLAGS_HAVE_GC, // tp_flags; + Py_TPFLAGS_DEFAULT, // tp_flags; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0; #if PY_VERSION_HEX >= 0x02030000; , 0 // tp_del; diff --git a/bindings/pyroot/cppyy/CPyCppyy/src/MemoryRegulator.cxx b/bindings/pyroot/cppyy/CPyCppyy/src/MemoryRegulator.cxx; index f9e92f9c8c..5da48364ac 100644; --- a/bindings/pyroot/cppyy/CPyCppyy/src/MemoryRegulator.cxx; +++ b/bindings/pyroot/cppyy/CPyCppyy/src/MemoryRegulator.cxx; @@ -45,7 +45,7 @@ struct InitCPyCppyy_NoneType_t {; ((PyVarObject&)CPyCppyy_NoneType).ob_size = 0;; ; CPyCppyy_NoneType.tp_name = const_cast<char*>(""CPyCppyy_NoneType"");; - CPyCppyy_NoneType.tp_flags = Py_TPFLAGS_HAVE_RICHCOMPARE | Py_TPFLAGS_HAVE_GC;; + CPyCppyy_NoneType.tp_flags = Py_TPFLAGS_HAVE_RICHCOMPARE;; ; CPyCppyy_NoneType.tp_traverse = (traverseproc)0;; CPyCppyy_NoneType.tp_clear = (inquiry)0;; ~~~; This patch either drops the Py_TPFLAGS_HAVE_GC flag when .tp_traverse is 0 or makes sure it is not 0. This helps with the ""has the Py_TPFLAGS_HAVE_G",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10799:2950,a/b,a/bindings,2950,https://root.cern,https://github.com/root-project/root/issues/10799,1,['a/b'],['a/bindings']
Deployability,"tatic declaration; __DEVICE__ int __finitef(float __a) { return __nv_finitef(__a); }; ^; cling: /usr/include/x86_64-linux-gnu/bits/mathcalls-helper-functions.h:33:1: note: previous declaration is here; __MATHDECL_1 (int, __finite,, (_Mdouble_ __value)) __attribute__ ((__const__));; ^; /usr/include/math.h:283:15: note: expanded from macro '__MATHDECL_1'; extern type __MATH_PRECNAME(function,suffix) args __THROW; ^; /usr/include/math.h:303:34: note: expanded from macro '__MATH_PRECNAME'; # define __MATH_PRECNAME(name,r) name##f##r; ^; <scratch space>:160:1: note: expanded from here; __finitef; ^; cling: In file included from <built-in>:1:; In file included from /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_runtime_wrapper.h:148:; /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:359:10: error: reference to __device__ function '__nvvm_atom_add_gen_i' in __host__ function; return __nvvm_atom_add_gen_i(__p, __v);; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:359:10: note: '__nvvm_atom_add_gen_i' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:362:3: error: reference to __device__ function '__nvvm_atom_cta_add_gen_i' in __host__ function; __nvvm_atom_cta_add_gen_i(__p, __v);; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:362:3: note: '__nvvm_atom_cta_add_gen_i' declared here; cling: fatal error: too many errors emitted, stopping now [-ferror-limit=]; cling: In file included from input_line_4:36:; In file included from /opt/spack-modules/linux-ubuntu20.04-skylake_avx512/gcc-9.3.0/gcc-10.2.0-nd7xsa2anuya7be46rjsaxbiobtgguod/lib/gcc/x86_64-pc-linux-gnu/10.2.0/../../../../include/c++/10.2.0/cassert:44:; In file included from /home/sehrig/w",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7518:11662,install,install,11662,https://root.cern,https://github.com/root-project/root/issues/7518,1,['install'],['install']
Deployability,"tc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:71:10: note: '__nvvm_atom_add_gen_d' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:74:10: error: reference to __device__ function '__nvvm_atom_cta_add_gen_d' in __host__ function; return __nvvm_atom_cta_add_gen_d(__p, __v);; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:74:10: note: '__nvvm_atom_cta_add_gen_d' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:77:10: error: reference to __device__ function '__nvvm_atom_sys_add_gen_d' in __host__ function; return __nvvm_atom_sys_add_gen_d(__p, __v);; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:77:10: note: '__nvvm_atom_sys_add_gen_d' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:192:18: error: static declaration of '__exp10f' follows non-static declaration; __DEVICE__ float __exp10f(float __a) { return __nv_fast_exp10f(__a); }; ^; cling: /usr/include/x86_64-linux-gnu/bits/mathcalls.h:114:1: note: previous declaration is here; __MATHCALL (exp10,, (_Mdouble_ __x));; ^; /usr/include/math.h:273:3: note: expanded from macro '__MATHCALL'; __MATHDECL (_Mdouble_,function,suffix, args); ^; /usr/include/math.h:276:3: note: expanded from macro '__MATHDECL'; __MATHDECL_1(type, __CONCAT(__,function),suffix, args); ^; /usr/include/math.h:283:15: note: expanded from macro '__MATHDECL_1'; extern type __MATH_PRECNAME(function,suffix) args __THROW; ^; /usr/include/math.h:303:34: note: expanded from macro '__MATH_PRECNAME'; # define __MATH_PRECNAME(name,r) name##f##r; ^; <scratch space>:237:1: note: expanded from here; __exp10f; ^; cling: In file included from <built-in>",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7518:4741,install,install,4741,https://root.cern,https://github.com/root-project/root/issues/7518,1,['install'],['install']
Deployability,"tchDag.cpp(51,18): message : Constructor for class 'std::locale' is declared 'explicit' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\VC\Tools\MSVC\14.35.32215\include\format(3531,19): message : or 'std::string std::format(const std::locale &,const std::basic_format_string<char,type_identity<_Args>::type...>,_Types &&...)' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(51,18): message : 'initializing': cannot convert from 'const char [5]' to 'const std::locale &' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(51,18): message : Reason: cannot convert from 'const char [5]' to 'const std::locale' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(51,18): message : Constructor for class 'std::locale' is declared 'explicit' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(51,11): message : while trying to match the argument list '(const char [5], const std::unique_ptr<llvm::GIMatchDagInstr,std::default_delete<llvm::GIMatchDagInstr>> *)' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(51,11): message : note: qualification adjustment (const/volatile) may be causing the ambiguity [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llv",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12523:5078,release,release,5078,https://root.cern,https://github.com/root-project/root/pull/12523,1,['release'],['release']
Deployability,"tchDag.cpp(85,18): message : Constructor for class 'std::locale' is declared 'explicit' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\VC\Tools\MSVC\14.35.32215\include\format(3531,19): message : or 'std::string std::format(const std::locale &,const std::basic_format_string<char,type_identity<_Args>::type...>,_Types &&...)' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(85,18): message : 'initializing': cannot convert from 'const char [5]' to 'const std::locale &' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(85,18): message : Reason: cannot convert from 'const char [5]' to 'const std::locale' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(85,18): message : Constructor for class 'std::locale' is declared 'explicit' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(85,11): message : while trying to match the argument list '(const char [5], const std::unique_ptr<llvm::GIMatchDagPredicate,std::default_delete<llvm::GIMatchDagPredicate>> *)' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(85,11): message : note: qualification adjustment (const/volatile) may be causing the ambiguity [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; ```; Th",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12523:11151,release,release,11151,https://root.cern,https://github.com/root-project/root/pull/12523,1,['release'],['release']
Deployability,"te <class T, class = typename std::enable_if<std::is_integral<T>::value>::type>; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:95:14: error: use of undeclared identifier 'std'; return std::is_signed<T>::value; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:94:35: error: no return statement in constexpr function; static constexpr EStorageType determineStorageTypeT(T*) {; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:198:11: error: use of undeclared identifier 'std'; = std::is_reference<T>::value ?; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:199:40: error: use of undeclared identifier 'std'; determineStorageTypeT((typename std::remove_reference<T>::type**)nullptr); ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:199:66: error: expected a qualified name after 'typename'; determineStorageTypeT((typename std::remove_reference<T>::type**)nullptr); ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Value.h:199:66: error: unknown type name 'type'; While building module 'Core':; While building module 'Cling_Runtime' imported from input_line_2:1:; In file included from <module-includes>:1:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/RuntimeUniverse.h:27:10: fatal error: could not build module 'Cling_Runtime_Extra'; #include ""cling/Interpreter/Visibility.h""; ~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~; input_line_2:1:10: fatal error: could not build module 'Cling_Runtime'; #include ""cling/Interpreter/RuntimeUniverse.h""; ~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~; [ 75%] Building CXX object core/metacling/src/CMakeFiles/MetaCling.dir/TClingTypeInfo.cxx.o; While building module 'Core':; While building module 'ROOT_Rtypes' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:23:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/clin",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10528:18531,Install,Installed,18531,https://root.cern,https://github.com/root-project/root/issues/10528,1,['Install'],['Installed']
Deployability,"te: '__nvvm_atom_sys_add_gen_d' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:192:18: error: static declaration of '__exp10f' follows non-static declaration; __DEVICE__ float __exp10f(float __a) { return __nv_fast_exp10f(__a); }; ^; cling: /usr/include/x86_64-linux-gnu/bits/mathcalls.h:114:1: note: previous declaration is here; __MATHCALL (exp10,, (_Mdouble_ __x));; ^; /usr/include/math.h:273:3: note: expanded from macro '__MATHCALL'; __MATHDECL (_Mdouble_,function,suffix, args); ^; /usr/include/math.h:276:3: note: expanded from macro '__MATHDECL'; __MATHDECL_1(type, __CONCAT(__,function),suffix, args); ^; /usr/include/math.h:283:15: note: expanded from macro '__MATHDECL_1'; extern type __MATH_PRECNAME(function,suffix) args __THROW; ^; /usr/include/math.h:303:34: note: expanded from macro '__MATH_PRECNAME'; # define __MATH_PRECNAME(name,r) name##f##r; ^; <scratch space>:237:1: note: expanded from here; __exp10f; ^; cling: In file included from <built-in>:1:; In file included from /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_runtime_wrapper.h:148:; /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:193:18: error: static declaration of '__expf' follows non-static declaration; __DEVICE__ float __expf(float __a) { return __nv_fast_expf(__a); }; ^; cling: /usr/include/x86_64-linux-gnu/bits/mathcalls.h:95:1: note: previous declaration is here; __MATHCALL_VEC (exp,, (_Mdouble_ __x));; ^; /usr/include/math.h:266:3: note: expanded from macro '__MATHCALL_VEC'; __MATHCALL (function, suffix, args); ^; /usr/include/math.h:273:3: note: expanded from macro '__MATHCALL'; __MATHDECL (_Mdouble_,function,suffix, args); ^; /usr/include/math.h:276:3: note: expanded from macro '__MATHDECL'; __MATHDECL_1(type, __CONCAT(__,function),suffix, args); ^; /usr/include/math.h:283:15: note: expanded from m",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7518:5769,install,install,5769,https://root.cern,https://github.com/root-project/root/issues/7518,1,['install'],['install']
Deployability,"ted kind""' failed.; ```. It also crashes in the opt build, just a bit further on. Stack trace:. ```; #4 0x00007ffff2f71cf3 in clang::TemplateArgument::getAsType (; this=0x7fffef6df2e8); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/interpreter/llvm/src/tools/clang/include/clang/AST/TemplateBase.h:257; #5 0x00007ffff2f85aeb in ROOT::TMetaUtils::ReSubstTemplateArg (input=..., ; instance=0x7fffef6df2c0); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/clingutils/src/TClingUtils.cxx:4768; #6 0x00007ffff2f85c07 in ROOT::TMetaUtils::ReSubstTemplateArg (input=..., ; instance=0x7fffef6df2c0); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/clingutils/src/TClingUtils.cxx:4791; #7 0x00007ffff32362a4 in TClingBaseClassInfo::InternalNext (; this=0x7fffffff4430, onlyDirect=1); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/metacling/src/TClingBaseClassInfo.cxx:341; #8 0x00007ffff323636e in TClingBaseClassInfo::Next (this=0x7fffffff4430, ; onlyDirect=1); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/metacling/src/TClingBaseClassInfo.cxx:350; #9 0x00007ffff323638d in TClingBaseClassInfo::Next (this=0x7fffffff4430); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/metacling/src/TClingBaseClassInfo.cxx:355; #10 0x00007ffff30f8681 in TCling::CreateListOfBaseClasses (this=0x4b6670, ; cl=0x32e8cc0); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/metacling/src/TCling.cxx:4292; #11 0x00007ffff260dc29 in TClass::GetListOfBases (this=0x32e8cc0); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11259:2397,patch,patches,2397,https://root.cern,https://github.com/root-project/root/issues/11259,2,['patch'],['patches']
Deployability,"ters from the `TGraph(Asymm,Bent)Errors` classes as Python `list`:. ```; #10 0x00007f7361d62896 in CPyCppyy::(anonymous namespace)::DoubleConverter::FromMemory (this=0x7f7361e399f8 <(anonymous namespace)::InitConvFactories_t::InitConvFactories_t()::{lambda(long*)#51}::operator()(long*) const::c>, address=0x55e74bab5000) at /home/vpadulan/Programs/rootproject/rootsrc/bindings/pyroot/cppyy/CPyCppyy/src/Converters.cxx:952; #11 0x00007f7361dbf232 in ll_item (self=0x7f7354768960, index=88746) at /home/vpadulan/Programs/rootproject/rootsrc/bindings/pyroot/cppyy/CPyCppyy/src/LowLevelViews.cxx:376; #12 0x00007f736fc1e9e5 in iter_iternext (iterator=<iterator at remote 0x7f73620b46a0>) at /usr/src/debug/python3.11-3.11.4-1.fc37.x86_64/Objects/iterobject.c:65; #13 0x00007f736fbf33fd in list_extend (self=self; entry=0x7f732b67c200, iterable=<cppyy.LowLevelView at remote 0x7f7354768960>) at /usr/src/debug/python3.11-3.11.4-1.fc37.x86_64/Objects/listobject.c:966; #14 0x00007f736fc11261 in list___init___impl (iterable=<optimized out>, self=0x7f732b67c200) at /usr/src/debug/python3.11-3.11.4-1.fc37.x86_64/Objects/listobject.c:2790; ```. ### Reproducer. ```python; import ROOT; import numpy. if __name__ == ""__main__"":; n = 10; x = numpy.array([0.22, 0.05, 0.25, 0.35, 0.5, 0.61, 0.7, 0.85, 0.89, 0.95], dtype=numpy.double); y = numpy.array([1, 2.9, 5.6, 7.4, 9, 9.6, 8.7, 6.3, 4.5, 1], dtype=numpy.double); exl = numpy.array([.05, .1, .07, .07, .04, .05, .06, .07, .08, .05], dtype=numpy.double); eyl = numpy.array([.8, .7, .6, .5, .4, .4, .5, .6, .7, .8], dtype=numpy.double); exh = numpy.array([.02, .08, .05, .05, .03, .03, .04, .05, .06, .03], dtype=numpy.double); eyh = numpy.array([.6, .5, .4, .3, .2, .2, .3, .4, .5, .6], dtype=numpy.double); gr = ROOT.TGraphAsymmErrors(n, x, y, exl, exh, eyl, eyh). print(list(gr.GetEXlow())); ```. ### ROOT version. master, but any will do. ### Installation method. built from source. ### Operating system. Fedora 38. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13600:2033,Install,Installation,2033,https://root.cern,https://github.com/root-project/root/issues/13600,1,['Install'],['Installation']
Deployability,"test-testMatrixTSparse ..................................***Failed 0.03 sec; Running main() from /builddir/build/BUILD/googletest-1.14.0/googletest/src/gtest_main.cc; Note: Google Test filter = -RCsvDS.Remote:RRawFile.Remote:RSqliteDS.Davix:TChainParsing.RemoteGlob:TFile.ReadWithoutGlobalRegistrationNet:TFile.ReadWithoutGlobalRegistrationWeb:RNTuple.TClassEBO; [==========] Running 1 test from 1 test suite.; [----------] Global test environment set-up.; [----------] 1 test from testSparse; [ RUN ] testSparse.LwbInit; /builddir/build/BUILD/root-6.30.02/math/matrix/test/testMatrixTSparse.cxx:47: Failure; Expected equality of these values:; m1; Which is: 80-byte object <00-00 02-AA 28-E9 07-70 00-00 00-00 02-00 00-00 00-00 00-04 00-00 00-05 00-00 00-01 00-00 00-00 00-00 00-14 00-00 00-05 3C-B0 00-00 00-00 00-00 01-00 03-FF 87-BA DF-98 00-00 02-AA 29-1E 84-50 00-00 02-AA 29-1E 65-B0 00-00 02-AA 29-1E 7F-00>; m2; Which is: 264-byte object <00-00 02-AA 28-E9 04-58 00-00 00-00 02-00 00-00 00-00 00-04 00-00 00-05 00-00 00-01 00-00 00-00 00-00 00-14 00-00 00-00 3C-B0 00-00 00-00 00-00 01-22 00-C0 4C-E7 2C-66 40-09 21-FB 54-44 2D-18 ... 40-34 B8-A1 9E-49 B7-53 40-37 70-82 EF-AC 42-40 00-00 02-AA 29-1E 83-A0 00-00 03-FF 87-BA DF-98 00-00 03-FF 87-86 06-68 00-00 03-FF 87-85 04-16 00-00 03-FF EE-2F 6B-28 00-00 03-FF EE-2F 6A-E0>; [ FAILED ] testSparse.LwbInit (0 ms); [----------] 1 test from testSparse (0 ms total); [----------] Global test environment tear-down; [==========] 1 test from 1 test suite ran. (0 ms total); [ PASSED ] 0 tests.; [ FAILED ] 1 test, listed below:; [ FAILED ] testSparse.LwbInit; 1 FAILED TEST; CMake Error at /builddir/build/BUILD/root-6.30.02/cmake/modules/RootTestDriver.cmake:232 (message):; error code: 1; ```. ### Reproducer. - Build root with gcc 14 on Fedora 40 on aarch64, ppc64le or s390x; - Run the test. ### ROOT version. 6.30.02. ### Installation method. build from source. ### Operating system. Fedora Linux 40. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14446:2264,Install,Installation,2264,https://root.cern,https://github.com/root-project/root/issues/14446,1,['Install'],['Installation']
Deployability,"tgen/src/rootcling_impl.cxx:2784; #21 0x00007ffff306ba57 in RootClingMain (argc=7, argv=0x4a4f10, ; isGenreflex=true); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/dictgen/src/rootcling_impl.cxx:4906; #22 0x00007ffff306f44b in genreflex::invokeRootCling (verbosity=..., ; selectionFileName=..., targetLibName=..., multiDict=false, pcmsNames=..., ; includes=..., preprocDefines=..., preprocUndefines=..., warnings=..., ; rootmapFileName=..., rootmapLibName=..., interpreteronly=false, ; doSplit=false, isCxxmodule=false, writeEmptyRootPCM=false, ; selSyntaxOnly=false, noIncludePaths=false, noGlobalUsingStd=false, ; headersNames=..., failOnWarnings=false, ofilename=...); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/dictgen/src/rootcling_impl.cxx:5371; #23 0x00007ffff307131c in GenReflexMain (argc=3, argv=0x7fffffff8d40); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/dictgen/src/rootcling_impl.cxx:6071; #24 0x00007ffff30717b3 in ROOT_rootcling_Driver (argc=5, argv=0x7fffffff8d38, ; config=...); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/dictgen/src/rootcling_impl.cxx:6148; #25 0x0000000000401269 in main (argc=5, argv=0x7fffffff8d38); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/main/src/rootcling.cxx:43; ```. The crash occurs here in TClingUtils.cxx:. ```; } else {; return TST->getArg(index).getAsType();; }; ```. because the Kind of this argument is clang::TemplateArgument::Expression,; not Type. This change fixes the crash for me:. ```; diff --git a/core/clingutils/src/TClingUtils.cxx b/core/clingutils/src/TClingUtils.cxx; index 2373f0c..ee0cf7c 100644; --- a/core/clingutils/src/TClingUtils.cxx; +++ b/core/clingutils/src/TCli",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11259:6527,patch,patches,6527,https://root.cern,https://github.com/root-project/root/issues/11259,2,['patch'],['patches']
Deployability,"th the binary release. First error was related to not finding the builtin nlohmann even if it's there. ```; CMake Error at /usr/share/cmake-3.25/Modules/CMakeFindDependencyMacro.cmake:47 (find_package):; By not providing ""Findnlohmann_json.cmake"" in CMAKE_MODULE_PATH this; project has asked CMake to find a package configuration file provided by; ""nlohmann_json"", but CMake did not find one. Could not find a package configuration file provided by ""nlohmann_json""; (requested version 3.10.5) with any of the following names:. nlohmann_jsonConfig.cmake; nlohmann_json-config.cmake. Add the installation prefix of ""nlohmann_json"" to CMAKE_PREFIX_PATH or set; ""nlohmann_json_DIR"" to a directory containing one of the above files. If; ""nlohmann_json"" provides a separate development package or SDK, be sure it; has been installed.; Call Stack (most recent call first):; /tmp/newroot/cmake/ROOTConfig.cmake:122 (find_dependency); gui/CMakeLists.txt:28 (find_package); ```. A hack workaround is using sudo apt install nlohmann-json3-dev. Next error is:. ```; cmake ../testroot/; -- The C compiler identification is GNU 11.4.0; -- The CXX compiler identification is GNU 11.4.0; -- Detecting C compiler ABI info; -- Detecting C compiler ABI info - done; -- Check for working C compiler: /usr/bin/cc - skipped; -- Detecting C compile features; -- Detecting C compile features - done; -- Detecting CXX compiler ABI info; -- Detecting CXX compiler ABI info - done; -- Check for working CXX compiler: /usr/bin/c++ - skipped; -- Detecting CXX compile features; -- Detecting CXX compile features - done; -- Found nlohmann_json: /usr/lib/cmake/nlohmann_json/nlohmann_jsonConfig.cmake (found suitable version ""3.10.5"", minimum required is ""3.10.5"") ; CMake Error at /usr/share/cmake-3.25/Modules/FindPackageHandleStandardArgs.cmake:230 (message):; Could NOT find Vdt (missing: VDT_INCLUDE_DIR VDT_LIBRARY); Call Stack (most recent call first):; /usr/share/cmake-3.25/Modules/FindPackageHandleStandardArgs.cmake:600 ",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14163:1169,install,install,1169,https://root.cern,https://github.com/root-project/root/issues/14163,1,['install'],['install']
Deployability,"th the following errors:. ```; 1306: Processing C:/Users/sftnight/git/roottest/root/dataframe/test_ctors.C+...; 1306: Info in <TWinNTSystem::ACLiC>: creating shared library C:/Users/sftnight/build/release/roottest/root/dataframe/test_ctors_C.dll; 1306: In file included from input_line_9:9:; 1306: In file included from C:/Users/sftnight/git/roottest/root/dataframe/test_ctors.C:4:; 1306: In file included from C:/Users/sftnight/build/release/include\ROOT/RDataFrame.hxx:20:; 1306: In file included from C:/Users/sftnight/build/release/include\ROOT/RDF/RInterface.hxx:15:; 1306: In file included from C:/Users/sftnight/build/release/include\ROOT/RDF/ActionHelpers.hxx:25:; 1306: C:/Users/sftnight/build/release/include\ROOT/RVec.hxx:1434:36: error: use of undeclared identifier 'M_PI'; 1306: T DeltaPhi(T v1, T v2, const T c = M_PI); 1306: ^; 1306: C:/Users/sftnight/build/release/include\ROOT/RVec.hxx:1455:68: error: use of undeclared identifier 'M_PI'; 1306: RVec<T> DeltaPhi(const RVec<T>& v1, const RVec<T>& v2, const T c = M_PI); 1306: ^; 1306: C:/Users/sftnight/build/release/include\ROOT/RVec.hxx:1473:55: error: use of undeclared identifier 'M_PI'; 1306: RVec<T> DeltaPhi(const RVec<T>& v1, T v2, const T c = M_PI); 1306: ^; 1306: C:/Users/sftnight/build/release/include\ROOT/RVec.hxx:1491:55: error: use of undeclared identifier 'M_PI'; 1306: RVec<T> DeltaPhi(T v1, const RVec<T>& v2, const T c = M_PI); 1306: ^; 1306: C:/Users/sftnight/build/release/include\ROOT/RVec.hxx:1510:113: error: use of undeclared identifier 'M_PI'; 1306: RVec<T> DeltaR2(const RVec<T>& eta1, const RVec<T>& eta2, const RVec<T>& phi1, const RVec<T>& phi2, const T c = M_PI); 1306: ^; 1306: C:/Users/sftnight/build/release/include\ROOT/RVec.hxx:1524:112: error: use of undeclared identifier 'M_PI'; 1306: RVec<T> DeltaR(const RVec<T>& eta1, const RVec<T>& eta2, const RVec<T>& phi1, const RVec<T>& phi2, const T c = M_PI); 1306: ^; 1306: C:/Users/sftnight/build/release/include\ROOT/RVec.hxx:1537:54: error: use of",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6727:1529,release,release,1529,https://root.cern,https://github.com/root-project/root/pull/6727,1,['release'],['release']
Deployability,thanks to Aaradhya and Federico for notifying this bug. # This Pull request:. ## Changes or fixes:. a bug reported in the codegen of infer function signature in RModel. ## Checklist:. - [x] tested changes locally; - [x] updated the docs (if necessary). This PR fixes #,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/8636:220,update,updated,220,https://root.cern,https://github.com/root-project/root/pull/8636,1,['update'],['updated']
Deployability,"the 'broken' case, the getLastTransaction does not return the transaction for the code being compiled by DeclareCFunction but instead the one used/created at:. ```; #0 cling::IncrementalParser::endTransaction (this=0x4a2980, T=0x8c0fb0) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/interpreter/cling/lib/Interpreter/IncrementalParser.cpp:345; #1 0x00007fffeebc7899 in cling::Interpreter::PushTransactionRAII::pop (this=0x7fffffffcb00) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/interpreter/cling/lib/Interpreter/Interpreter.cpp:111; #2 0x00007fffeebc785e in cling::Interpreter::PushTransactionRAII::~PushTransactionRAII (this=0x7fffffffcb00, __in_chrg=<optimized out>); at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/interpreter/cling/lib/Interpreter/Interpreter.cpp:106; #3 0x00007fffeebeb659 in cling::LookupHelper::findScope (this=0x4a9dd0, className=..., diagOnOff=cling::LookupHelper::NoDiagnostics, resultType=0x7fffffffcd08, instantiateTemplate=false); at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/interpreter/cling/lib/Interpreter/LookupHelper.cpp:466; #4 0x00007fffeeabe0df in TCling::CheckClassInfo (this=0x4a0550, name=<optimized out>, autoload=<optimized out>, isClassOrNamespaceOnly=<optimized out>); at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/metacling/src/TCling.cxx:3630; #5 0x00007ffff7c3040d in TClass::Init (this=this@entry=0xdafd20, name=name@entry=0x7ffff7cb7638 ""TGlobal"", cversion=cversion@entry=2, typeinfo=typeinfo@entry=0x7ffff7d8b6d8 <typeinfo for TGlobal>, isa=isa@entry=0x477430,; dfil=dfil@entry=0x7ffff7cb8cab ""TGlobal.h"", ifil=<optimized out>, dl=<optimized out>, il=<optimized out>, givenInfo=<optimized out>, silent=<optimized out>); at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/meta/src/TClass.cxx:1431; #6 0x00007ffff7c3a1b8 in TClass::TClass (this=0xdafd20, name=0x7ffff7cb7638 ""TGlobal"", cversion=<optimized out>, info=..., isa=0x477430, dfil=0x7ffff7cb8cab ""TGlobal.h"",; ",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2776:2661,patch,patches,2661,https://root.cern,https://github.com/root-project/root/pull/2776,2,['patch'],['patches']
Deployability,the calling code in TFileMerger is not exception-safe and this ends up hiding the original exception under some bogus error. ## Checklist:. - [x] tested changes locally; - [ ] updated the docs (if necessary),MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15898:176,update,updated,176,https://root.cern,https://github.com/root-project/root/pull/15898,1,['update'],['updated']
Deployability,the patch is now included in the release; remove it. (cherry picked from commit 8e6f7236bc02d28cd5d767fc3d1462b1da211c64),MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10675:4,patch,patch,4,https://root.cern,https://github.com/root-project/root/pull/10675,2,"['patch', 'release']","['patch', 'release']"
Deployability,"the proper paralllel and distributive python calculations using `pathos` suite. The functionality of ; regular paralell python `pp` and `multiprocessing` module is very limited due to limitations of `pickle`` serialization, ; and it is a moment when `dill`/`pathos` enters the game, significantly extending the functionality; . ## Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->. Similar behaviour for `python2` and `python3` is expected ; b ut it works for `python2` and fails for `python3`; ; ## To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->. to reproduce see this very simple gist ; https://gist.github.com/VanyaBelyaev/278074969f2f940f180885be35f04db9 . It has been tested with different LCG releases from LCG_94 to LCG_97a; and it always works for `pytjon2` and fails for `python3`. for `python3` one gets an error; ```; Traceback (most recent call last):; File ""./test_dill.py"", line 13, in <module>; hh = dill.loads ( dill.dumps ( h ) ); File ""/cvmfs/sft.cern.ch/lcg/views/LCG_97python3/x86_64-centos7-gcc9-opt/lib/python3.7/site-packages/dill/_dill.py"", line 294, in dumps; dump(obj, file, protocol, byref, fmode, recurse)#, strictio); File ""/cvmfs/sft.cern.ch/lcg/views/LCG_97python3/x86_64-centos7-gcc9-opt/lib/python3.7/site-packages/dill/_dill.py"", line 287, in dump; pik.dump(obj); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 437, in dump; self.save(obj); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.py"", line 549, in save; self.save_reduce(obj=obj, *rv); File ""/cvmfs/sft.cern.ch/lcg/releases/LCG_97python3/Python/3.7.6/x86_64-centos7-gcc9-opt/lib/python3.7/pickle.p",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6370:1218,release,releases,1218,https://root.cern,https://github.com/root-project/root/issues/6370,1,['release'],['releases']
Deployability,therewith avoiding memory hogging because of the attached TTreeChaches. This code has been written by David Smith and minimally edited for its integration in root.; See sister PR in roottest: https://github.com/root-project/roottest/pull/1161. This PR fixes [ROOT-6286](https://its.cern.ch/jira/browse/ROOT-6286),MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16198:143,integrat,integration,143,https://root.cern,https://github.com/root-project/root/pull/16198,1,['integrat'],['integration']
Deployability,"this PR aims to reduce the contention in TClass::GetBaseClassOffset.; Zero is returned as offset value if the class that the TClass instance represents; and all of its ancestors has no multiple inheritance.; This information can be checked without accessing the interpreter, and therewith; acquiring the global lock, because it now originally resides in the dictionaries.; The information is put in the dictionaries by rootcling, which explores the; inheritance chain *at build time*. The expectation is to reduce *considerably* contention due to accesses to the interpreter and caches of offsets in the TClassInfo instances. Potentially, this mechanism can be upgraded inserting in the dictionaries; not only the aforementioned information, but also the offsets to all the; bases.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2319:661,upgrade,upgraded,661,https://root.cern,https://github.com/root-project/root/pull/2319,1,['upgrade'],['upgraded']
Deployability,this causes issues with C++20 module composability and the need for textual is unclear. # This Pull request:. ## Changes or fixes:. ## Checklist:. - [ ] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11869:183,update,updated,183,https://root.cern,https://github.com/root-project/root/pull/11869,1,['update'],['updated']
Deployability,this commit suggests to prefer the usage of ROOT::Math::TLorentzVector; specialisations instead of the TLorentzVector class given the; advantages of the former.; - Release notes are changes; - The documentation of TLorentzVector updated to point to the specialisations of ROOT::Math::TLorentzVector; - The RDF tutorials using TLorentzVector upgraded,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3596:164,Release,Release,164,https://root.cern,https://github.com/root-project/root/pull/3596,3,"['Release', 'update', 'upgrade']","['Release', 'updated', 'upgraded']"
Deployability,this fixes the TThread tests. # This Pull request:. ## Changes or fixes:; #13068. ## Checklist:. - [x] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #13068,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13069:133,update,updated,133,https://root.cern,https://github.com/root-project/root/pull/13069,1,['update'],['updated']
Deployability,this update is necessary because a bug in tbb 2019 U1 made it incompatible with osx 10.11: see https://software.intel.com/en-us/articles/intel-threading-building-blocks-release-notes; See also the failing build: http://cdash.cern.ch/viewBuildError.php?buildid=597606,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3041:5,update,update,5,https://root.cern,https://github.com/root-project/root/pull/3041,2,"['release', 'update']","['release-notes', 'update']"
Deployability,thread local gDirectory not properly updated when another delete the file its point to.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11907:37,update,updated,37,https://root.cern,https://github.com/root-project/root/issues/11907,1,['update'],['updated']
Deployability,"thread_create() failed.; [ERROR] Failed to generate model using python; CMake Error at /home/pcanal/root_working/code/quick-devel/cmake/modules/RootTestDriver.cmake:232 (message):; error code: 1. <end of output>; Test time = 54.61 sec; ----------------------------------------------------------; Test Failed.; ""PyMVA-Keras-Classification"" end time: Sep 24 20:02 UTC; ""PyMVA-Keras-Classification"" time elapsed: 00:00:54; ```. Other errors:. ```; 14323: system_error: Resource temporarily unavailable; 614356:/bin/sh: fork: retry: Resource temporarily unavailable; 614357:/bin/sh: fork: retry: Resource temporarily unavailable; 614358:/bin/sh: fork: retry: Resource temporarily unavailable; 614359:/bin/sh: fork: retry: Resource temporarily unavailable; 614360:/bin/sh: fork: Resource temporarily unavailable; 614444:/bin/sh: fork: retry: Resource temporarily unavailable; 614445:/bin/sh: fork: retry: Resource temporarily unavailable; 614446:/bin/sh: fork: retry: Resource temporarily unavailable; 614447:/bin/sh: fork: retry: Resource temporarily unavailable; 616571:LLVM ERROR: pthread_create failed: Resource temporarily unavailable; 616573:sh: fork: retry: Resource temporarily unavailable; 616574:sh: fork: retry: Resource temporarily unavailable; 616575:sh: fork: retry: Resource temporarily unavailable; 616576:sh: fork: retry: Resource temporarily unavailable; 616577:sh: fork: Resource temporarily unavailable; ```. ### ROOT version. master. ### Installation method. hand build. ### Operating system. Alma9 . ### Additional context. Node is VM with 128GB of RAM and is access via Jupyter notebook.; ```; jupyter-pcanal-rootdevel:quick-devel pcanal$ uname -a; Linux jupyter-pcanal-rootdevel 6.3.12-200.fc38.x86_64 #1 SMP PREEMPT_DYNAMIC Thu Jul 6 04:05:18 UTC 2023 x86_64 x86_64 x86_64 GNU/Linux; ```; ```; CPU(s): 127; On-line CPU(s) list: 0-126; Vendor ID: AuthenticAMD; Model name: AMD EPYC 7543 32-Core Processor; CPU family: 25; Model: 1; Thread(s) per core: 1; Core(s) per socket: 1; ```",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/16552:5012,Install,Installation,5012,https://root.cern,https://github.com/root-project/root/issues/16552,1,['Install'],['Installation']
Deployability,"thub.com/root-project/root/issues?q=is%3Aissue); * AND [Jira](https://sft.its.cern.ch/jira/issues/?jql=project %3D ROOT); for existing reports of your issue. If you find one, you are very welcome to add to the existing report, for instance ""issue still exists in today's master"".; -->. ### Describe the bug. When trying to compile a project against ROOT 6.26.04 sourced from CVMFS, cmake complains about nlohmann_json missing. ```; CMake Error at /cvmfs/atlas.cern.ch/repo/ATLASLocalRootBase/x86_64/Cmake/3.21.3/Linux-x86_64/share/cmake-3.21/Modules/CMakeFindDependencyMacro.cmake:47 (find_package):; Could not find a configuration file for package ""nlohmann_json"" that is; compatible with requested version ""3.10.5"". The following configuration files were considered but not accepted:. /usr/lib64/cmake/nlohmann_json/nlohmann_jsonConfig.cmake, version: 3.6.1; /lib64/cmake/nlohmann_json/nlohmann_jsonConfig.cmake, version: 3.6.1. Call Stack (most recent call first):; /cvmfs/sft.cern.ch/lcg/releases/LCG_102/ROOT/6.26.04/x86_64-centos7-gcc11-opt/cmake/ROOTConfig.cmake:114 (find_dependency); CMakeLists.txt:1 (find_package); ```. <!--; A clear and concise description of what the wrong behavior is.; -->; <!--; A clear and concise description of what you expected to happen.; -->. ### To Reproduce. Use a CentOS7 machine and setup ROOT 6.26.04 from CVMFS; (/cvmfs/sft.cern.ch/lcg/releases/LCG_102/ROOT/6.26.04/x86_64-centos7-gcc11-opt/bin/root). Create a CMakeLists.txt file with the following contents:. `find_package( ROOT REQUIRED COMPONENTS Core RIO MathCore Matrix HistFactory RooFitCore RooFit Hist RooStats Minuit2 Minuit )`. Go to an empty folder, and call `cmake` on that CMakeLists.txt file. <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->. ### Setup. 1. ROOT version: 6.26.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10963:1067,release,releases,1067,https://root.cern,https://github.com/root-project/root/issues/10963,1,['release'],['releases']
Deployability,"til the closing '}'; class A {; ^; In file included from ADictUX dictionary payload:6:; ./B.h:7:15: error: type 'A' is not a direct or virtual base of 'B'; B(int arg) : A(arg) {}; ^; Error in <TInterpreter::AutoParse>: Error parsing payload code for class A with content:. #line 1 ""ADictUX dictionary payload"". #define _BACKWARD_BACKWARD_WARNING_H; // Inline headers; #include ""A.h""; #include ""B.h"". #undef _BACKWARD_BACKWARD_WARNING_H. Error in <TInterpreter::AutoParse>: Error parsing payload code for class B with content:. #line 1 ""ADictUX dictionary payload"". #define _BACKWARD_BACKWARD_WARNING_H; // Inline headers; #include ""A.h""; #include ""B.h"". #undef _BACKWARD_BACKWARD_WARNING_H; ```. ### What is the expected behaviour?. The correct output is:; ```. Loading A.sl. Processing macro.cc...; init A with arg=0; test A; init A with arg=0; test A; ```. ### How to reproduce?. ```; unzip linker_example.zip; make; root.exe -b -q -q macro.cc; ```. ### ROOT version. Any v6 version. ### How did you install ROOT?. any. ### Which operating system are you using?. linux. ### Additional context. The problem might have been introduced by commit 3081bf5e006. In particular applying this diff 'fixes' the problem:; ```; diff --git a/core/dictgen/src/rootcling_impl.cxx b/core/dictgen/src/rootcling_impl.cxx; index f56ce23b7a..7cd24d2c63 100644; --- a/core/dictgen/src/rootcling_impl.cxx; +++ b/core/dictgen/src/rootcling_impl.cxx; @@ -4971,7 +4971,7 @@ int RootClingMain(int argc,; if (!gOptCxxModule) {; headersClassesMapString = GenerateStringFromHeadersForClasses(headersDeclsMap,; detectedUmbrella,; - true);; + false);; if (!gDriverConfig->fBuildingROOTStage1) {; if (!gOptWriteEmptyRootPCM); fwdDeclsString = GenerateFwdDeclString(scan, interp);; ```; This introduces the following diff in the generated dictionary:; ```; rootsrv1:2023-dict pcanal$ diff -C2 dict.cxx dict.good.2.cxx ; *** dict.cxx 2023-06-15 15:55:39.818476668 -0500; --- dict.good.2.cxx 2023-06-15 14:54:48.505264642 -0500; *****",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13034:1619,install,install,1619,https://root.cern,https://github.com/root-project/root/issues/13034,1,['install'],['install']
Deployability,"timized out>, filename=<optimized out>, opt=<optimized out>, library_specified=<optimized out>, build_dir=<optimized out>, dirmode=<optimized out>) at /usr/local/src/conda/root_base-6.25.2/root-source/core/base/src/TSystem.cxx:3813; ===========================================================. Root > pure virtual method called; terminate called without an active exception; Aborted (core dumped); ```. </p>; </details>. ### Expected behavior. No crash? 😄. ### To Reproduce. This reproducer should work on any machine with docker once you replace `PATH_FOR_REPRODUCING` with a suitable folder on your system. (The build includes LLVM+Clang debug information so it requires ~20GB of space and benefits from fast storage.). 1. Start a docker container with a directory mounted from the host (to make switching between CentOS 7 and 8 easier):. ```bash; PATH_FOR_REPRODUCING=/scratch2/root-debug2; mkdir -p ""$PATH_FOR_REPRODUCING""; docker run --rm -it -v ""$PATH_FOR_REPRODUCING"":""$PATH_FOR_REPRODUCING"" -w ""$PATH_FOR_REPRODUCING"" centos:7 bash; ```. 2. Inside the CentOS 7 docker container install mamba and ROOT:. ```bash; curl -LO https://github.com/conda-forge/miniforge/releases/latest/download/Mambaforge-Linux-x86_64.sh; bash Mambaforge-Linux-x86_64.sh -b -p $PWD/mambaforge; source $PWD/mambaforge/bin/activate; mamba create --yes --prefix $PWD/env1 root gdb -c https://cburr.web.cern.ch/cburr/conda/root-fix-9301/ -c conda-forge; exit; ```. 3. Run the docker container again (changing `centos:7` to `centos:8` if you want to see it not crash) and compile a simple hello world program:. ```bash; source ""$PWD/mambaforge/bin/activate"" ""$PWD/env1""; echo -e '#include <iostream>\nsize_t test() { std::cout << ""Hello world"" << std::endl; return 0; }' > test.cpp; # These always work; EXTRA_CLING_ARGS='-O0' root.exe -l -b -q -x test.cpp; EXTRA_CLING_ARGS='-O0' root.exe -l -b -q -x test.cpp++; # This crashes under centos:7 but not centos:8; EXTRA_CLING_ARGS='-O1' root.exe -l -b -q -x test.cpp++; ```",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/9595:29290,install,install,29290,https://root.cern,https://github.com/root-project/root/issues/9595,2,"['install', 'release']","['install', 'releases']"
Deployability,"ting only < 5.28. ### Reproducer. ```; TTree t; ULong64_t llu = 0x4ac1500101113bLL; t.Branch(""llu"", &llu); t.Fill(); t.Scan(""llu:llu"","""",""col=22llx:22lx""); printf(""%llx %lx\n"", llu, (unsigned long) llu); sizeof(ULong64_t); sizeof(unsigned long); sizeof(unsigned long long); ```; which produces:; ```; $ root -l; root [0] TTree t; (TTree &) Name: Title: ; root [1] ULong64_t llu = 0x4ac1500101113bLL; (unsigned long long) 21041697634980155; root [2] t.Branch(""llu"", &llu); (TBranch *) 0x55a244d5c5b0; root [3] t.Fill(); (int) 8; root [4] t.Scan(""llu:llu"","""",""col=22llx:22lx""); **************************************************************; * Row * llu * llu *; **************************************************************; * 0 * 4ac1500101113b * 4ac1500101113c *; **************************************************************; (long long) 1; root [5] printf(""%llx %lx\n"", llu, (unsigned long) llu); 4ac1500101113b 4ac1500101113b; (int) 30; root [6] sizeof(ULong64_t); (unsigned long) 8; root [7] sizeof(unsigned long); (unsigned long) 8; root [8] sizeof(unsigned long long); (unsigned long) 8; ```. The length of `ULong64_t`, `unsigned long`, and `unsigned long long` are all the same. `printf` with format `%llx` (`unsigned long long`) and `%lx` (`unsigned long`) all print the right value. Nevertheless, `TTree::Scan` prints a different (incorrect) value when printing as `%llx`. ### ROOT version. ```; ------------------------------------------------------------------; | Welcome to ROOT 6.28/04 https://root.cern |; | (c) 1995-2022, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built for linuxx8664gcc on May 08 2023, 02:44:07 |; | From tags/v6-28-04@v6-28-04 |; | With g++-12 (Ubuntu 12.3.0-1ubuntu1~23.04) 12.3.0 |; | Try '.help'/'.?', '.demo', '.license', '.credits', '.quit'/'.q' |; ------------------------------------------------------------------; ```. ### Installation method. Spack (develop). ### Operating system. Linux (Ubuntu 23.04). ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13395:2373,Install,Installation,2373,https://root.cern,https://github.com/root-project/root/issues/13395,1,['Install'],['Installation']
Deployability,"tion ‘virtual bool {anonymous}::RooExpPolyStreamer::exportObject(RooJSONFactoryWSTool*, const RooAbsArg*, RooFit::Detail::JSONNode&) const’:; /opt/root/src/roofit/hs3/src/JSONFactories_RooFitCore.cxx:444:63: warning: unused parameter ‘func’ [-Wunused-parameter]; 444 | bool exportObject(RooJSONFactoryWSTool *, const RooAbsArg *func, JSONNode &elem) const override; | ~~~~~~~~~~~~~~~~~^~~~; /opt/root/src/roofit/hs3/src/JSONFactories_RooFitCore.cxx:444:79: warning: unused parameter ‘elem’ [-Wunused-parameter]; 444 | bool exportObject(RooJSONFactoryWSTool *, const RooAbsArg *func, JSONNode &elem) const override; | ~~~~~~~~~~^~~~; [ 98%] Linking CXX shared library ../../lib/libRooFitHS3.so; /usr/bin/ld: CMakeFiles/RooFitHS3.dir/src/JSONFactories_HistFactory.cxx.o: in function `std::vector<double, std::allocator<double> >& RooFit::Detail::operator<< <double>(std::vector<double, std::allocator<double> >&, RooFit::Detail::JSONNode const&) [clone .isra.0]':; JSONFactories_HistFactory.cxx:(.text+0xc212): undefined reference to `double RooFit::Detail::JSONNode::val_t<double>() const'; collect2: error: ld returned 1 exit status; make[2]: *** [roofit/hs3/CMakeFiles/RooFitHS3.dir/build.make:200: lib/libRooFitHS3.so] Error 1; make[1]: *** [CMakeFiles/Makefile2:44184: roofit/hs3/CMakeFiles/RooFitHS3.dir/all] Error 2; make[1]: *** Waiting for unfinished jobs....; ```. ### Reproducer. Clone ROOT repository, go to the build directory,. > cmake -DCMAKE_CXX_COMPILER_LAUNCHER=ccache -DCMAKE_INSTALL_PREFIX=../install ../src; > cmake --build . -- install -j4. ### ROOT version. Most recent ROOT version from the master branch at that time. > commit 870618f1bfa43376c73bc07fa4becc0a54caa9ed (HEAD -> master, origin/master, origin/HEAD). Should I use that? I thought there is continuous integration and people check for errors before committing. . ### Installation method. built from source. ### Operating system. Arch Linux. ### Additional context. Had to remove RooFit support from `CMakeCache.txt`.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13101:5656,install,install,5656,https://root.cern,https://github.com/root-project/root/issues/13101,5,"['Install', 'continuous', 'install', 'integrat']","['Installation', 'continuous', 'install', 'integration']"
Deployability,tmva/tmva/src/LDA.cxx:111; 8: Loop condition is false. Execution continues on line 119 in /opt/root_src/tmva/tmva/src/LDA.cxx:111; 9: Assuming 'eventNumber' is >= 'numSignalEvents' in /opt/root_src/tmva/tmva/src/LDA.cxx:119; 10: Loop condition is false. Execution continues on line 127 in /opt/root_src/tmva/tmva/src/LDA.cxx:119; 11: Assuming 'eventNumber' is >= 'numBackEvents' in /opt/root_src/tmva/tmva/src/LDA.cxx:127; 12: Loop condition is false. Execution continues on line 136 in /opt/root_src/tmva/tmva/src/LDA.cxx:127; 13: Field 'fDebug' is false in /opt/root_src/tmva/tmva/src/LDA.cxx:139; 14: Taking false branch in /opt/root_src/tmva/tmva/src/LDA.cxx:139; 15: Calling constructor for 'TMatrixT<double>' in /opt/root_src/tmva/tmva/src/LDA.cxx:148; 16: Calling default constructor for 'TMatrixTBase<double>' in /opt/root_src/math/matrix/inc/TMatrixT.h:69; 17: Calling default constructor for 'TObject' in /opt/root_src/math/matrix/inc/TMatrixTBase.h:115; 18: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 19: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 20: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Assuming the condition is false in /opt/root_src/tmva/tmva/src/Classification.cxx:273; 2: Taking false branch in /opt/root_src/tmva/tmva/src/Classification.cxx:273; 3: Assuming the condition is false in /opt/root_src/tmva/tmva/src/Classification.cxx:282; 4: Taking false branch in /opt/root_src/tmva/tmva/src/Classification.cxx:282; 5: Calling 'Classification::GetResults' in /opt/root_src/tmva/tmva/src/Classification.cxx:285; 6: Calling default constructor for 'ClassificationResult' in /opt/root_src/tmva/tmva/src/Classification.cxx:975; 7: Calling default constructor for 'TObject' in /opt/root_src/tmva/t,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:79749,Update,UpdateIsOnHeap,79749,https://root.cern,https://github.com/root-project/root/issues/7412,1,['Update'],['UpdateIsOnHeap']
Deployability,"to avoid excessive memory usage, which can lead to issues on machines with a low memory per core. - [v] tested changes locally; - [v] updated the docs (if necessary). Fixes #16252",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16262:134,update,updated,134,https://root.cern,https://github.com/root-project/root/pull/16262,1,['update'],['updated']
Deployability,"to be rebuilt:. ```bash; $ root; input_line_1:1:10: remark: building module 'std' as '/home/cburr/miniconda3/envs/test/lib/std.pcm' [-Rmodule-build]; #include <new>; ^; input_line_1:1:10: remark: finished building module 'std' [-Rmodule-build]; input_line_2:1:10: remark: building module 'Cling_Runtime' as '/home/cburr/miniconda3/envs/test/lib/Cling_Runtime.pcm' [-Rmodule-build]; #include ""cling/Interpreter/RuntimeUniverse.h""; ^; While building module 'Cling_Runtime' imported from input_line_2:1:; In file included from <module-includes>:3:; /home/cburr/miniconda3/envs/test/etc//cling/Interpreter/DynamicLookupRuntimeUniverse.h:16:10: remark: building module 'Cling_Runtime_Extra' as '/home/cburr/miniconda3/envs/test/lib/Cling_Runtime_Extra.pcm' [-Rmodule-build]; #include ""cling/Interpreter/DynamicExprInfo.h""; ^; ```. I don't know if ROOT is supposed to be able to recover from this but I run in to three issues, the first is the known `tbb` dependency issue in 6.24.0 that is already fixed for the next patch release. The second issue is that `MathCore.pcm` fails to build with:. ```bash; <<< cling interactive line includer >>>: remark: building module 'MathCore' as '/home/cburr/miniconda3/envs/test/lib/MathCore.pcm' [-Rmodule-build]; While building module 'MathCore':; In file included from <module-includes>:3:; In file included from /home/cburr/miniconda3/envs/test/include/Fit/Chi2FCN.h:19:; /home/cburr/miniconda3/envs/test/include/Fit/FitUtil.h:404:23: error: no matching constructor for initialization of 'std::vector<double>'; std::vector<double> ones{1, 1, 1, 1};; ^ ~~~~~~~~~~~~~~~~; ```. I can workaround this by using four `ones.push_back(1.0);` lines instead of initialising it as ones though it doesn't explain why this fails. Finally after fixing this it, running `root.exe -b -l -q -e '1+1' -x` repeatedly continues to rebuild modules, e.g. on the second iteration:. ```; <<< cling interactive line includer >>>: remark: building module 'Minuit' as '/home/cburr/miniconda3/",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/8518:1806,patch,patch,1806,https://root.cern,https://github.com/root-project/root/issues/8518,2,"['patch', 'release']","['patch', 'release']"
Deployability,"to easily get the rootcling invocation that corresponds to the current genreflex invocation, to ease the migration from genrelfex to rootcling.; Update the genreflex usage as well, stating that the tool does not support C++ modules generation.; Memorialise the change to the Release Notes, too. Fixes #13481",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16122:145,Update,Update,145,https://root.cern,https://github.com/root-project/root/pull/16122,2,"['Release', 'Update']","['Release', 'Update']"
Deployability,to fix warnings due to an unused variable in non-debug builds. # This Pull request:. ## Changes or fixes:; compilation warnings of TMVA. ## Checklist:. - [v] tested changes locally; - [ ] updated the docs (if necessary),MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13831:188,update,updated,188,https://root.cern,https://github.com/root-project/root/pull/13831,1,['update'],['updated']
Deployability,"tor<char> > >, std::allocator<std::variant<signed char, unsigned char, short, unsigned short, int, unsigned int, long, unsigned long, double, float, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > >&, char const*, int&) () from /cvmfs/cms-ib.cern.ch/nweek-02665/slc7_amd64_gcc900/cms/cmssw/CMSSW_11_3_ROOT6_X_2021-01-24-0000/lib/slc7_amd64_gcc900/libCommonToolsUtils.so; ```. while another thread is at:; ```; #3 <signal handler called>; #4 0x00002b8fcf63cbbb in clang::serialization::MultiOnDiskHashTable<clang::serialization::reader::ASTDeclContextNameLookupTrait>::find(clang::DeclarationName const&) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #5 0x00002b8fcf63cfae in clang::ASTReader::FindExternalVisibleDeclsByName(clang::DeclContext const*, clang::DeclarationName) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #6 0x00002b8fcf758534 in clang::MultiplexExternalSemaSource::FindExternalVisibleDeclsByName(clang::DeclContext const*, clang::DeclarationName) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #7 0x00002b8fd105c4ee in clang::DeclContext::lookup(clang::DeclarationName) const () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #8 0x00002b8fcfb18f77 in LookupDirect(clang::Sema&, clang::LookupResult&, clang::DeclContext const*) () from /cvmfs/cms-ib.cern.ch/week1/slc7_amd64_gcc900/cms/cmssw-patch/CMSSW_11_3_ROOT6_X_2021-01-24-2300/external/slc7_amd64_gcc900/lib/libCling.so; #9 0x00002b8fcfb19a5a in CppNamespaceLookup(clang::Sema&, clang::LookupResult&, clang::ASTContext&, clang::DeclContext*, (anonymous namespace)::UnqualUsingDirective",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7093:4170,patch,patch,4170,https://root.cern,https://github.com/root-project/root/issues/7093,1,['patch'],['patch']
Deployability,"torBuilder&)>: Pre-release format version: RC 1; [ OK ] RNTuple.TClassTemplatedBase (260 ms); [ RUN ] RNTuple.TVirtualCollectionProxy; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RPageStorageFile.cxx:51 in ROOT::Experimental::Detail::RPageSinkFile::RPageSinkFile(std::string_view, const ROOT::Experimental::RNTupleWriteOptions&)>: The RNTuple file format will change. Do not store real data with this version of RNTuple!; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experimental::Internal::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNTupleDescriptorBuilder&)>: Pre-release format version: RC 1; [ OK ] RNTuple.TVirtualCollectionProxy (4036 ms); [ RUN ] RNTuple.Enums; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RPageStorageFile.cxx:51 in ROOT::Experimental::Detail::RPageSinkFile::RPageSinkFile(std::string_view, const ROOT::Experimental::RNTupleWriteOptions&)>: The RNTuple file format will change. Do not store real data with this version of RNTuple!; Warning in <[ROOT.NTuple] Warning /builddir/build/BUILD/root-6.28.00/tree/ntuple/v7/src/RNTupleSerialize.cxx:1148 in static ROOT::Experimental::RResult<void> ROOT::Experimental::Internal::RNTupleSerializer::DeserializeHeaderV1(const void*, uint32_t, ROOT::Experimental::RNTupleDescriptorBuilder&)>: Pre-release format version: RC 1; [ OK ] RNTuple.Enums (29 ms); [ RUN ] RNTuple.Traits; [ OK ] RNTuple.Traits (0 ms); [----------] 18 tests from RNTuple (5604 ms total); [----------] Global test environment tear-down; [==========] 18 tests from 1 test suite ran. (5604 ms total); [ PASSED ] 17 tests.; [ FAILED ] 1 test, listed below:; [ FAILED ] RNTuple.Casting; 1 FAILED TEST; CMake Error at /builddir/build/BUILD/root-6.28.00/cmake/modules/RootTestDriver.cmake:232 (message):; error code: 1; ~~~",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12426:23627,release,release,23627,https://root.cern,https://github.com/root-project/root/issues/12426,1,['release'],['release']
Deployability,"torT::GetSub' in /opt/root_src/math/quadp/src/TQpProbDens.cxx:224; 2: Calling default constructor for 'TVectorT<double>' in /opt/root_src/math/matrix/inc/TVectorT.h:208; 3: Calling default constructor for 'TObject' in /opt/root_src/math/matrix/inc/TVectorT.h:53; 4: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 5: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 6: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Calling 'TVectorT::GetSub' in /opt/root_src/math/quadp/src/TQpProbSparse.cxx:225; 2: Calling default constructor for 'TVectorT<double>' in /opt/root_src/math/matrix/inc/TVectorT.h:208; 3: Calling default constructor for 'TObject' in /opt/root_src/math/matrix/inc/TVectorT.h:53; 4: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 5: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 6: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Assuming 'engine' is non-null in /opt/root_src/net/http/src/TCivetweb.cxx:231; 2: Left side of '||' is false in /opt/root_src/net/http/src/TCivetweb.cxx:231; 3: Assuming the condition is false in /opt/root_src/net/http/src/TCivetweb.cxx:231; 4: Taking false branch in /opt/root_src/net/http/src/TCivetweb.cxx:231; 5: Assuming 'serv' is non-null in /opt/root_src/net/http/src/TCivetweb.cxx:234; 6: Taking false branch in /opt/root_src/net/http/src/TCivetweb.cxx:234; 7: Calling 'make_shared<THttpCallArg, >' in /opt/root_src/net/http/src/TCivetweb.cxx:237; 8: Calling 'allocate_shared<THttpCallArg, std::allocator",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:49775,Update,UpdateIsOnHeap,49775,https://root.cern,https://github.com/root-project/root/issues/7412,1,['Update'],['UpdateIsOnHeap']
Deployability,"tps://github.com/root-project/root/pull/13269 (to support LLVM 16, cf. https://github.com/vgvassilev/clad/pull/589); * [x] https://github.com/root-project/root/pull/13238; * [x] https://github.com/root-project/root/pull/13310; * [x] https://github.com/root-project/roottest/pull/989; * [x] https://github.com/root-project/root/pull/13335; * [x] https://github.com/root-project/roottest/pull/994; * [x] https://github.com/root-project/root/pull/13366; * [x] https://github.com/root-project/root/pull/13448; * [x] https://github.com/root-project/root/pull/13477; * [x] https://github.com/root-project/root/pull/13482; * [x] https://github.com/root-project/root/pull/13782 and / or https://github.com/root-project/root/pull/13785; * [x] https://github.com/root-project/root/pull/13565 (or at least the last commit to remove `isInstantiatedInPCH`); * [x] https://github.com/root-project/root/pull/14110. Things to check:; * [x] Builds on all platforms; * [x] Passes all ROOT tests on all platforms; * [x] Passes Cling test suite (at least on Linux); * [x] Check increase in resource consumption:; * [x] Build directory in `Release` configuration; * [x] Install directory in `Release` configuration; * [x] Size of module files in particular; * [x] Memory requirement; * [x] CPU requirement (time to run all tests). #### Comparison of resource consumption on AlmaLinux 8, GCC 8.5.0, `CMAKE_BUILD_TYPE=Release`. | | `master` | `llvm16` |; | --- | --- | --- |; | `build` (slightly older version) | 1706284 KB = 1.7 GB | 1766156 KB = 1.7 GB |; | `build` (with `testing` + `roottest`, before `ctest`) | 2286436 KB = 2.2 GB | 2366928 KB = 2.3 GB |; | `install` | 704236 KB = 688 MB | 701032 KB = 685 MB |; | `lib/*.pcm` | 312624 KB = 306 MB | 309560 = 303 MB |; | Memory for `./bin/root.exe -q` | 204020 kbytes | 214672 kbytes |; | Memory for `./bin/root.exe -q -e ""std::vector<int> v""` | 235580 kybtes | 251304 kbytes |; | CPU (first `ctest -j12`) | 1284s | 1293s |; | CPU (second `ctest -j12`) | 914s | 911s |",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13273:1313,Release,Release,1313,https://root.cern,https://github.com/root-project/root/pull/13273,7,"['Install', 'Release', 'configurat', 'install']","['Install', 'Release', 'configuration', 'install']"
Deployability,"tps://sft.its.cern.ch/jira/issues/?jql=project %3D ROOT); for existing reports of your issue. If you find one, you are very welcome to add to the existing report, for instance ""issue still exists in today's master"".; -->. ### Describe the bug; <!--; A clear and concise description of what the wrong behavior is.; -->; In TColor::GetColorTransparent() (see https://root.cern.ch/doc/master/classTColor.html#ae666674d7087b2b709abebde22667c50); a new color is defined each time a transparent color (with alpha channel) is requested. In graphics applications with many transparent objects this leads quickly to exhausting the available index space of colors. At some point the int returned turns negative and the colors displayed are not what they should be. . There does not seem to be a way to reset the entire color space in use by ROOT to simply start over. This would not fix the underlying problem but would at least provide a workaround. ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->; The expected behavior is that transparent colors are re-used like any other color and no new color index is needed when requesting an already used transparent color again. ; ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->; type ; TColor::GetColorTransparent(1,0.1); repeatedly on the commandline in ROOT. Each time the function is called a higher integer is returned even though the same transparent color is wanted. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->; ROOT version: 6.24/06; OS: linux (opensuse TW); How obtained: self compiled. ### Additional context; <!--; Add any other context about the problem here.; -->",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10299:1924,install,install,1924,https://root.cern,https://github.com/root-project/root/issues/10299,1,['install'],['install']
Deployability,tree/treeviewer/src/TMemStatShow.cxx:279; 30: Left side of '||' is false in /opt/root_src/tree/treeviewer/src/TMemStatShow.cxx:279; 31: 'ientry' is non-null in /opt/root_src/tree/treeviewer/src/TMemStatShow.cxx:279; 32: Taking false branch in /opt/root_src/tree/treeviewer/src/TMemStatShow.cxx:279; 33: Calling default constructor for 'TText' in /opt/root_src/tree/treeviewer/src/TMemStatShow.cxx:311; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Assuming other != *this in /opt/root_src/tree/treeplayer/src/TFormLeafInfo.cxx:2908; 2: Calling copy constructor for 'TFormLeafInfoCast' in /opt/root_src/tree/treeplayer/src/TFormLeafInfo.cxx:2910; 3: Calling copy constructor for 'TFormLeafInfo' in /opt/root_src/tree/treeplayer/src/TFormLeafInfo.cxx:2885; 4: Calling copy constructor for 'TObject' in /opt/root_src/tree/treeplayer/src/TFormLeafInfo.cxx:88; 5: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:265; 6: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 7: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TString.h:242:67: warning: Potential memory leak [clang-analyzer-cplusplus.NewDeleteLeaks]; 1: Calling 'TString::FormImp' in /opt/root_src/core/base/src/TString.cxx:2336; 2: Calling 'TString::Clobber' in /opt/root_src/core/base/src/TString.cxx:2266; 3: Assuming the condition is false in /opt/root_src/core/base/src/TString.cxx:1206; 4: Taking false branch in /opt/root_src/core/base/src/TString.cxx:1206; 5: Assuming 'nc' is >= kMinCap in /opt/root_src/core/base/src/TString.cxx:1211; 6: Taking false branch in /opt/root_src/core/base/src/TString.cxx:1211; 7: Assuming the condition is true in /opt/root_src/core/base/src/TString.cxx:1217; 8: Taking true branch in /opt/root_src/core/base/src/TString.cxx:1217; 9: Memory is allocated in /,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:89920,Update,UpdateIsOnHeap,89920,https://root.cern,https://github.com/root-project/root/issues/7412,1,['Update'],['UpdateIsOnHeap']
Deployability,"tring<char, std::char_traits<char>, std::allocator<char> >, int> > > const&, char const**, bool, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCling.so; #1 0x00007ffff551ec61 in TROOT::RegisterModule(char const*, char const**, char const**, char const*, char const*, void (*)(), std::vector<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, int>, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, int> > > const&, char const**, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #2 0x00007fffd50a6cf2 in (anonymous namespace)::TriggerDictionaryInitialization_libAthenaPoolUtilitiesDict_Impl() (); from /cvmfs/atlas-nightlies.cern.ch/repo/sw/master--dev4LCG_Athena_x86_64-centos7-gcc8-opt/2021-03-21T0600/Athena/22.0.30/InstallArea/x86_64-centos7-gcc8-opt/lib/libAthenaPoolUtilitiesDict.so; #3 0x00007fffd508bad3 in __static_initialization_and_destruction_0(int, int) [clone .constprop.966] (); from /cvmfs/atlas-nightlies.cern.ch/repo/sw/master--dev4LCG_Athena_x86_64-centos7-gcc8-opt/2021-03-21T0600/Athena/22.0.30/InstallArea/x86_64-centos7-gcc8-opt/lib/libAthenaPoolUtilitiesDict.so; #4 0x00007fffd508bd1b in _GLOBAL__sub_I_AthenaPoolUtilitiesDictReflexDict.cxx; (); from /cvmfs/atlas-nightlies.cern.ch/repo/sw/master--dev4LCG_Athena_x86_64-centos7-gcc8-opt/2021-03-21T0600/Athena/22.0.30/InstallArea/x86_64-centos7-gcc8-opt/lib/libAthenaPoolUtilitiesDict.so; #5 0x00007ffff7dea9c3 in _dl_init_internal () from /lib64/ld-linux-x86-64.so.2; #6 0x00007ffff7def59e in dl_open_worker () from /lib64/ld-linux-x86-64.so.2; #7 0x00007ffff7dea7d4 in _dl_catch_error () from /lib64/ld-linux-x86-64.so.2; #8 0x00007ffff7deeb8b in _dl_open () from /lib64/ld-linux-x86-64.so.2; #9 0x00007ffff720afab in dlopen_doit () from /lib64/libdl.so.2; #10 0x00007ffff7de",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7657:1795,Install,InstallArea,1795,https://root.cern,https://github.com/root-project/root/issues/7657,1,['Install'],['InstallArea']
Deployability,"ts of `CMakeLists.txt`:; ```cmake; cmake_minimum_required(VERSION 3.16 FATAL_ERROR); project(ROOTBug); find_package(ROOT 6.28 REQUIRED). # https://github.com/root-project/root/issues/8308#issuecomment-1143791946; set(CMAKE_LIBRARY_OUTPUT_DIRECTORY ""${CMAKE_CURRENT_BINARY_DIR}""). # another bug... INSTALL FILES given no destination!; include(GNUInstallDirs). add_library(ROOTBug SHARED ROOTBug.cc); target_link_libraries(ROOTBug PRIVATE ROOT::Core); set_target_properties(ROOTBug PROPERTIES OUTPUT_NAME ROOTWorks) # Important!; root_generate_dictionary(ROOTWorksDict MODULE ROOTBug LINKDEF LinkDef.h). install(TARGETS ROOTBug); ```; Build commands:; ```; $ cmake -B build -DCMAKE_INSTALL_PREFIX=install; $ cmake --build build --target install; [ 25%] Generating ROOTBugDict.cxx, libROOTBug_rdict.pcm, libROOTBug.rootmap; [ 50%] Building CXX object CMakeFiles/ROOTBugDict.dir/ROOTBugDict.cxx.o; [ 50%] Built target ROOTBugDict; [ 75%] Linking CXX shared library libROOTWorks.so; [100%] Built target ROOTBug; Install the project...; -- Install configuration: """"; -- Installing: /nfs/dust/cms/user/mourelou/darwin/tests/install/lib64/libROOTBug_rdict.pcm; -- Installing: /nfs/dust/cms/user/mourelou/darwin/tests/install/lib64/libROOTBug.rootmap; -- Installing: /nfs/dust/cms/user/mourelou/darwin/tests/install/lib64/libROOTWorks.so; -- Set runtime path of ""/nfs/dust/cms/user/mourelou/darwin/tests/install/lib64/libROOTWorks.so"" to """"; ```; Then do:; ```; $ ls install/lib*; libROOTBug_rdict.pcm libROOTBug.rootmap libROOTWorks.so; ```; Notice how the library name is different from the dictionary name. ### ROOT version. LCG 104; ```; ------------------------------------------------------------------; | Welcome to ROOT 6.28/04 https://root.cern |; | (c) 1995-2022, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built for linuxx8664gcc on May 08 2023, 02:44:07 |; | From tags/v6-28-04@v6-28-04 |; | With g++ (GCC) 12.1.0 |; | Try '.help'/'.?', '.demo', '.license', '.credits', '.quit'/'.q' |; ",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15792:1365,Install,Install,1365,https://root.cern,https://github.com/root-project/root/issues/15792,1,['Install'],['Install']
Deployability,"ts/utility.h' not found; header ""bits/utility.h""; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/DynamicExprInfo.h:13:10: note: submodule of top-level module 'std' implicitly imported here; #include <string>; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/DynamicExprInfo.h:40:7: error: use of undeclared identifier 'std'; std::string m_Result;; ^; While building module 'Core':; While building module 'Cling_Runtime' imported from input_line_2:1:; While building module 'Cling_Runtime_Extra' imported from /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/RuntimeUniverse.h:27:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/DynamicLookupLifetimeHandler.h:12:10: note: submodule of top-level module 'std' implicitly imported here; #include <string>; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/DynamicLookupLifetimeHandler.h:56:7: error: use of undeclared identifier 'std'; std::string m_Type;; ^; While building module 'Core':; While building module 'Cling_Runtime' imported from input_line_2:1:; While building module 'Cling_Runtime_Extra' imported from /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/RuntimeUniverse.h:27:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/Visibility.h:13:10: note: submodule of top-level module 'std' implicitly imported here; #include <new>; ^; While building module 'Core':; While building module 'Cling_Runtime' imported from input_line_2:1:; While building module 'Cling_Runtime_Extra' imported from /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/RuntimeUniverse.h:27",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10528:15584,Install,Installed,15584,https://root.cern,https://github.com/root-project/root/issues/10528,1,['Install'],['Installed']
Deployability,"tting GDB support for JITted and interpreted code working in cling. It adds a JIT event listener as well to create perf map files to allow profiling of interpreted/JITted code with cling. The functionality provided is disabled by default. The interface to enable it has been chosen to be via environment variables to allow both interpreted code and code that only links against ROOT to optionally; enable debugging/profiling. For reference, I am attaching examples using `hsimple.C` tutorial below:. ```sh; $ export CLING_DEBUG=1; $ gdb --args bin/root.exe -l tutorials/hsimple.C; GNU gdb (Gentoo 12.1 vanilla) 12.1; Copyright (C) 2022 Free Software Foundation, Inc.; License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>; This is free software: you are free to change and redistribute it.; There is NO WARRANTY, to the extent permitted by law.; Type ""show copying"" and ""show warranty"" for details.; This GDB was configured as ""x86_64-pc-linux-gnu"".; Type ""show configuration"" for configuration details.; For bug reporting instructions, please see:; <https://bugs.gentoo.org/>.; Find the GDB manual and other documentation resources online at:; <http://www.gnu.org/software/gdb/documentation/>. For help, type ""help"".; Type ""apropos word"" to search for commands related to ""word""...; Reading symbols from bin/root.exe...; (gdb) break hsimple; Function ""hsimple"" not defined.; Make breakpoint pending on future shared library load? (y or [n]) y; Breakpoint 1 (hsimple) pending.; (gdb) run; Starting program: /srv/root/src/build/bin/root.exe -l tutorials/hsimple.C; [Thread debugging using libthread_db enabled]; Using host libthread_db library ""/lib64/libthread_db.so.1"".; [Detaching after vfork from child process 813528]; [Detaching after vfork from child process 813530]; [Detaching after vfork from child process 813533]; [Detaching after vfork from child process 813557]; root [0] ; Processing tutorials/hsimple.C... Breakpoint 1, hsimple (getFile=0) at tutorials/hsimple.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10685:1028,configurat,configuration,1028,https://root.cern,https://github.com/root-project/root/pull/10685,2,['configurat'],['configuration']
Deployability,"ttps://github.com/key4hep/EDM4hep/blob/60ad463c5474b51115345446edb5e90bf9dc33f5/edm4hep.yaml#L348. ### Reproducer. To reproduce the issue with the input file [edm4hep_events.root.gz](https://github.com/root-project/root/files/14365763/edm4hep_events.root.gz) (38K), use the follwing steps. ### In ROOT interpreter:; ```; ROOT::RDataFrame df(""events"", ""edm4hep_events.root""); df.Describe(); ```; returns; ```; root [0] ROOT::RDataFrame df(""events"", ""edm4hep_events.root""); (ROOT::RDataFrame &) A data frame built on top of the events dataset.; root [1] df.Describe(); Error in <TRint::HandleTermInput()>: std::runtime_error caught: TTree leaf TrackerHitPlanes.covMatrix[6] has both a leaf count and a static length. This is not supported.; ```. ### In Python interpreter:; ```; import ROOT; df = ROOT.RDataFrame(""events"", ""edm4hep_events.root""); df.Describe(); ```; returns; ```; In [1]: import ROOT; ...: df = ROOT.RDataFrame(""events"", ""edm4hep_events.root""); ...: df.Describe(); ...: ; Installed ROOT event loop hook.; ---------------------------------------------------------------------------; runtime_error Traceback (most recent call last); Cell In[1], line 3; 1 import ROOT; 2 df = ROOT.RDataFrame(""events"", ""edm4hep_events.root""); ----> 3 df.Describe(). runtime_error: ROOT::RDF::RDFDescription ROOT::RDF::RInterfaceBase::Describe() =>; runtime_error: TTree leaf TrackerHitPlanes.covMatrix[6] has both a leaf count and a static length. This is not supported.; ```. ### Generation of the input file. To generate the input file [edm4hep_events.root.gz](https://github.com/root-project/root/files/14365763/edm4hep_events.root.gz) (38K), use the follwing steps. 1. Load the Key4hep environment:; ```console; source /cvmfs/sw.hsf.org/key4hep/setup.sh; ```; 2. Create a plain EDM4hep file, using the unit tests in EDM4hep.; ```console; git clone -b v00-10-05 https://github.com/key4hep/edm4hep /tmp/edm4hep; cmake -B/tmp/edm4hep/build -S/tmp/edm4hep; make -C/tmp/edm4hep/build; ctest --test-dir /tmp/",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14790:1548,Install,Installed,1548,https://root.cern,https://github.com/root-project/root/issues/14790,1,['Install'],['Installed']
Deployability,"ttps://sft.its.cern.ch/jira/issues/?jql=project %3D ROOT); for existing reports of your issue. If you find one, you are very welcome to add to the existing report, for instance ""issue still exists in today's master"".; -->; hi -. We've been seing a crash in genreflex/rootcling in root-6.26.06-patches; when processing gcc12 headers. (See ATEAM-854.). To reproduce:. sel.xml:; ```; <lcgdict>; <class pattern=""*iterator<*pair<const*,const*""/>; </lcgdict>; ```. x.h:; ```; #include <string>; #include <map>; void foo (std::map<unsigned, std::string>& m, const std::string& s); {; m.emplace (0, s);; }; ```. On lxplus7:; ```; $ export LCGPROJECTPATH=/cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Thu # Adjust if needed.; $ . $LCGPROJECTPATH/gcc/12.1.0/x86_64-centos7/setup.sh; $ . $LCGPROJECTPATH/ROOT/v6-26-00-patches/x86_64-centos7-gcc12-dbg/ROOT-env.sh ; $ genreflex x.h --selection_file=sel.xml -o x_gen.cxx; genreflex: /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/interpreter/llvm/src/tools/clang/include/clang/AST/TemplateBase.h:257: clang::QualType clang::TemplateArgument::getAsType() const: Assertion `getKind() == Type && ""Unexpected kind""' failed.; ```. It also crashes in the opt build, just a bit further on. Stack trace:. ```; #4 0x00007ffff2f71cf3 in clang::TemplateArgument::getAsType (; this=0x7fffef6df2e8); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/interpreter/llvm/src/tools/clang/include/clang/AST/TemplateBase.h:257; #5 0x00007ffff2f85aeb in ROOT::TMetaUtils::ReSubstTemplateArg (input=..., ; instance=0x7fffef6df2c0); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/clingutils/src/TClingUtils.cxx:4768; #6 0x00007ffff2f85c07 in ROOT::TMetaUtils::ReSubstTemplateArg (input=..., ; instance=0x7fffef6df2c0); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11259:1135,patch,patches,1135,https://root.cern,https://github.com/root-project/root/issues/11259,2,['patch'],['patches']
Deployability,"tutorials/tmva/TMVA_SOFIE_GNN_Application.C`) are missing a dependencies that failed in the first run. Note `tutorial-tmva-TMVA_SOFIE_Keras_HiggsModel` and `tutorial-tmva-TMVA_SOFIE_RDataFrame-py` are indeed needing `TMVA_Higgs_Classification.C` to run first (it says so in the output! :) ). `tutorial-tmva-TMVA_SOFIE_RSofieReader` is asking for `Higgs_trained_model.h5`. `gtest-tmva-pymva-test-TestRModelParserKeras` is missing the symbol `sgemm_` (see below). However when rerunning (where this time somehow there was no resource related failures), I still got several failures:; ```; 346:gtest-tmva-pymva-test-TestRModelParserPyTorch; 350:gtest-tmva-pymva-test-TestRModelParserKeras; 984:tutorial-tmva-TMVA_SOFIE_GNN_Application; 988:tutorial-tmva-TMVA_SOFIE_RDataFrame; 990:tutorial-tmva-TMVA_SOFIE_RSofieReader; ```; all due to:; ```; IncrementalExecutor::executeFunction: symbol 'sgemm_' unresolved while linking [cling interface function]!; ```; or both; ```; IncrementalExecutor::executeFunction: symbol 'saxpy_' unresolved while linking [cling interface function]!; IncrementalExecutor::executeFunction: symbol 'sgemm_' unresolved while linking [cling interface function]!; ```; Which may be due to either a badly formed result of the failing run (1) or due to an external package that does not have the correct version number?. ### Reproducer. ```; ctest -j 32 # and get lots of out of resource failures; ctest --rerun-failed; ctest -j 32; ```. ### ROOT version. master	. ### Installation method. hand build. ### Operating system. Alma9. ### Additional context. ```; jupyter-pcanal-rootdevel:quick-devel pcanal$ bin/root-config --features; cxx17 asimage builtin_clang builtin_cling builtin_gtest builtin_llvm builtin_lz4 builtin_lzma builtin_nlohmannjson builtin_openui5 builtin_tbb builtin_vdt builtin_xxhash builtin_zlib builtin_zstd clad dataframe davix gdml http imt pyroot roofit root7 rpath runtime_cxxmodules shared sqlite ssl tmva tmva-pymva tpython spectrum vdt x11 xml xrootd; ```",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/16553:3298,Install,Installation,3298,https://root.cern,https://github.com/root-project/root/issues/16553,1,['Install'],['Installation']
Deployability,"txt#L22), use a 'dynamic' Doxyfile declaration, that only specifies what needs to be changed with respect to the default one. This makes easier the maintenance, as you do not need to constantly update the Doxyfile when a new doxygen version arises, and prevents warnings when running in older doxygen versions. This will hopefully contribute to next point:; - [ ] https://github.com/root-project/root/issues/9953; - [ ] Allow in the future for automatic meta-documentation of the CMake flag system. See https://github.com/root-project/root/issues/8999; - [x] Potentially add a flag in the main ROOT CMakeLists.txt, to enable the building of the documentation via a normal ""add_subdirectory()"", so that one does not need to build as a separate process.; - [x] Make the doxygen documentation thread-safe; - [x] Don't let doxygen search for ""input"" files in the output directory (e.g. it looks now for Mathjax output files that one just ""generated""). ## Checklist:. - [x] tested changes locally; - [ ] We would need to update https://github.com/root-project/web/blob/main/for_developers/doxygen/index.md; - [ ] Update rootspi scripts to build docu in CI accordingly; - [ ] tutorial generation does not work yet as ""out of source"". To-do...; - [x] require min doxygen version 1.9.4; - [ ] pre-check that output directory is empty ?; - [ ] if GVIZ not found, disable dot; - [ ] Stamp file generation to only recompile when changes; - [x] Remove unneeded unnecessary files Images.dat etc ? (or prevent that they appear in root source); - [x] Make filter.cxx threadsafe but giving unique names to ImageSizes.dat .root etc; - [x] set NUM_PROC_THREADS; - [ ] listLibs pass ROOT_CMD as variable; - [x] check why there are stdout.dat and NumberOfImages not being removed; - [ ] Consider enabling https://www.doxygen.nl/manual/config.html#cfg_clang_assisted_parsing; - [ ] Fix strip_from_path in root-tag https://github.com/root-project/root/issues/10059; - [x] Check compress https://github.com/root-project/roo",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9966:1572,update,update,1572,https://root.cern,https://github.com/root-project/root/pull/9966,1,['update'],['update']
Deployability,"types.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/stl_iterator_base_types.h:67:11: note: submodule of top-level module 'std' implicitly imported here; # include <type_traits> // For __void_t, is_convertible; ^; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/ext/type_traits.h:35:10: note: submodule of top-level module 'std' implicitly imported here; #include <bits/cpp_type_traits.h>; ^; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/move.h:57:10: note: submodule of top-level module 'std' implicitly imported here; #include <type_traits> // Brings in std::declval too.; ^; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/stl_iterator.h:70:11: note: submodule of top-level module 'std' implicitly imported here; # include <type_traits>; ^; While building module 'Core'",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10528:26947,Install,Installed,26947,https://root.cern,https://github.com/root-project/root/issues/10528,1,['Install'],['Installed']
Deployability,"u find one, you are very welcome to add to the existing report, for instance ""issue still exists in today's master"".; -->. ### Describe the bug; <!--. -->; segfault in build process. ; ### Expected behavior; <!--; -->; build process completes. ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->; standard cmake build process, as described in the guide. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->; ROOT v6-26-10 (@4dddea35); FreeBSD 13.2 RELEASE (clang 14.0.5), required dependencies installed from ports. ### Additional context; <!--; Add any other context about the problem here.; -->. a port exists v6-28-02 (development/root), installs in binary form (so somebody got it to compile, did not have too much time to test it thoroughly). In my case, however, the port also does not compile, craps out somewhere else. plus it hauls in too many dependencies so it is less than ideal.; I imagine getting it to work on FreeBSD would not end at fixing this issue here. The fbsd port maintainer has some patches which might help, but I have also seen that e.g. procfs is deprecated in new releases and libprocstat has to be used, etc, etc.; With that being said, it would be extremely nice to get ROOT to work on FreeBSD...; thanks,. ```; [ 52%] Built target rootcling_stage1; [ 52%] Generating G__Core.cxx, ../lib/Core.pcm; #0 0x000000000446e3d5 llvm::sys::PrintStackTrace(llvm::raw_ostream&) Signals.cpp:0:0; #1 0x000000000446c646 llvm::sys::RunSignalHandlers() Signals.cpp:0:0; #2 0x000000000446eba6 SignalHandler(int) Signals.cpp:0:0; #3 0x0000000826961b60 (/lib/libthr.so.3+0x19b60); #4 0x000000082696111f (/lib/libthr.so.3+0x1911f); #5 0x00007ffffffff8a3 ([vdso]",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12787:1208,install,installs,1208,https://root.cern,https://github.com/root-project/root/issues/12787,1,['install'],['installs']
Deployability,"u want, `cd <...>`; 2. `mkdir build && cd build && cmake .. && cmake --build .`; 3. Run `./makesample` to generate sample to be used.; 4. Run `./main ../example/toy.json` : Crash; 5. Run `./main ../example/toy1.json` : Won't crash. ### Setup; I have 2 setups, one can reproduce the problem and another won't. #### The one can reproduce; Fedora 37, with GCC `12.2.1 20221121 (Red Hat 12.2.1-4) (GCC)`; ```; ------------------------------------------------------------------; | Welcome to ROOT 6.26/10 https://root.cern |; | (c) 1995-2021, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built for linuxx8664gcc on Nov 16 2022, 10:42:54 |; | From tags/v6-26-10@v6-26-10 |; | With g++ (GCC) 12.2.1 20220819 (Red Hat 12.2.1-2) |; | Try '.help', '.demo', '.license', '.credits', '.quit'/'.q' |; ------------------------------------------------------------------; ```; ROOT is installed from fedora official repository `dnf install root ...` (on my own machine). #### Another that finish step 4 without crashing; CentOS Linux release 7.9.2009 (Core), GCC `gcc version 11.2.0 (GCC)`; ```; ------------------------------------------------------------------; | Welcome to ROOT 6.26/06 https://root.cern |; | (c) 1995-2021, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built for linuxx8664gcc on Jul 28 2022, 18:08:51 |; | From tags/v6-26-06@v6-26-06 |; | With g++ (GCC) 11.2.0 |; | Try '.help', '.demo', '.license', '.credits', '.quit'/'.q' |; ------------------------------------------------------------------; ```; The ROOT and GCC is from cvmfs (`juno.ihep.ac.cn`). ### Additional context; <!--; Add any other context about the problem here.; -->; <details>; <summary>GDB backtrace</summary>. ```; #0 0x00007ffff7f1e2c8 in std::_Sp_counted_base<(__gnu_cxx::_Lock_policy)2>::_M_release (this=0x2216c80) at /usr/include/c++/12/bits/shared_ptr_base.h:346; #1 std::_Sp_counted_base<(__gnu_cxx::_Lock_policy)2>::_M_release (this=0x2216c80) at /usr/include/c++/12/bits/shared_ptr_base.h:317; #2 ",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12023:1597,release,release,1597,https://root.cern,https://github.com/root-project/root/issues/12023,1,['release'],['release']
Deployability,"ub.com/root-project/root/issues/11130#issuecomment-1207464193; ```; [ 91%] Building CXX object roofit/roofitcore/CMakeFiles/RooFitCore.dir/src/TestStatistics/RooSumL.cxx.o; In file included from /build/root/src/root-6.26.06/graf3d/eve7/src/REveBoxSet.cxx:20:; /usr/include/nlohmann/json.hpp:5085:8: error: reference to ‘json’ is ambiguous; 5085 | inline nlohmann::json operator """" _json(const char* s, std::size_t n); | ^~~~~~~~; In file included from /usr/include/nlohmann/detail/meta/type_traits.hpp:22,; from /usr/include/nlohmann/detail/exceptions.hpp:22,; from /usr/include/nlohmann/detail/conversions/from_json.hpp:23,; from /usr/include/nlohmann/adl_serializer.hpp:14,; from /usr/include/nlohmann/json.hpp:35:; /usr/include/nlohmann/json_fwd.hpp:61:7: note: candidates are: ‘using json = class nlohmann::json_v3_11_1::basic_json<>’; 61 | using json = basic_json<>;; | ^~~~; .....; ```. ---. <details>; <summary>Original bug report regarding glibc 2.36</summary>. ### Describe the bug; ArchLinux recently upgraded to `glibc 2.36`, and that resulted in ROOT not compiling with either GCC 11.3.0 or GCC 12.1.1. ### Expected behaviour; ROOT should compile with `glibc 2.36`. ### To Reproduce; 1. Install `glibc 2.36` and relevant compilers; 2. Try to build ROOT; 3. Error during build. ### Setup; 1. ROOT version: 6.26/06 (or any other version); 2. Operating system: Arch Linux x86; 3. Build from source with GCC 11.3.0 / 12.1.1. ### Additional context; An interesting caveat is that it seems ROOT also requires 32-bit specific headers (`gnu/stubs-32.h`) as well.; Error log:; ```cpp; ...; [ 73%] Built target Thread; [ 73%] Generating G__RIO.cxx, ../../lib/libRIO.rootmap; In file included from <built-in>:400:; <command line>:1:9: error: macro name must be an identifier; #define -compilerI/usr/include/c++/12.1.1 1; ^; In file included from input_line_3:1:; In file included from /build/root/src/build/etc/cling/lib/clang/9.0.1/include/assert.h:8:; In file included from /usr/include/assert.h:35",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11130:1028,upgrade,upgraded,1028,https://root.cern,https://github.com/root-project/root/issues/11130,1,['upgrade'],['upgraded']
Deployability,"ub](https://github.com/root-project/root/issues?q=is%3Aissue); * AND [Jira](https://sft.its.cern.ch/jira/issues/?jql=project %3D ROOT); for existing reports of your issue. If you find one, you are very welcome to add to the existing report, for instance ""issue still exists in today's master"".; -->. ### Describe the bug; <!--; A clear and concise description of what the wrong behavior is.; -->; I am getting this error when I try to make a cmake project with ROOT:; ```; C:\Users\advai\Documents\Coding\HeatSimulation>cmake .; -- Selecting Windows SDK version 10.0.18362.0 to target Windows 10.0.19042.; CMake Error at C:/Users/advai/ROOT/root/cmake/ROOTConfig-targets.cmake:872 (message):; The imported target ""ROOT::hadd"" references the file. ""C:/Users/advai/ROOT/root/bin/hadd.exe"". but this file does not exist. Possible reasons include:. * The file was deleted, renamed, or moved to another location. * An install or uninstall procedure did not complete successfully. * The installation package was faulty and contained. ""C:/Users/advai/ROOT/root/cmake/ROOTConfig-targets.cmake"". but not all the files it references. Call Stack (most recent call first):; C:/Users/advai/ROOT/root/cmake/ROOTConfig.cmake:98 (include); CMakeLists.txt:7 (find_package). -- Configuring incomplete, errors occurred!; See also ""C:/Users/advai/Documents/Coding/HeatSimulation/CMakeFiles/CMakeOutput.log"". C:\Users\advai\Documents\Coding\HeatSimulation>cmake .; -- Selecting Windows SDK version 10.0.18362.0 to target Windows 10.0.19042.; CMake Error at C:/Users/advai/ROOT/root/cmake/ROOTConfig-targets.cmake:872 (message):; The imported target ""ROOT::hadd"" references the file. ""C:/Users/advai/ROOT/root/bin/hadd.exe"". but this file does not exist. Possible reasons include:. * The file was deleted, renamed, or moved to another location. * An install or uninstall procedure did not complete successfully. * The installation package was faulty and contained. ""C:/Users/advai/ROOT/root/cmake/ROOTConfig-targets.cmake"".",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7982:1042,install,installation,1042,https://root.cern,https://github.com/root-project/root/issues/7982,1,['install'],['installation']
Deployability,"ude/boost/smart_ptr/shared_ptr.hpp:1072:82: error: expected unqualified-id; template<class T> inline bool atomic_is_lock_free( shared_ptr<T> const * /*p*/ ) BOOST_SP_NOEXCEPT; ^; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/detail/sp_noexcept.hpp:28:29: note: expanded from macro 'BOOST_SP_NOEXCEPT'; # define BOOST_SP_NOEXCEPT BOOST_NOEXCEPT; ^; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/config/detail/suffix.hpp:965:26: note: expanded from macro 'BOOST_NOEXCEPT'; # define BOOST_NOEXCEPT noexcept; ^; In file included from libMyLibrary dictionary payload:5:; In file included from ./MyClass.h:6:; In file included from /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_ptr.hpp:17:; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1077:33: error: expected parameter declarator; template<class T> shared_ptr<T> atomic_load( shared_ptr<T> const * p ) BOOST_SP_NOEXCEPT; ^; /Users/krasznaa/ATLAS/sw/projects/externals/build/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:134:55: note: expanded from macro 'atomic_load'; #define atomic_load(object) __c11_atomic_load(object, __ATOMIC_SEQ_CST); ^; <built-in>:16:26: note: expanded from here; #define __ATOMIC_SEQ_CST 5; ^; In file included from libMyLibrary dictionary payload:5:; In file included from ./MyClass.h:6:; In file included from /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_ptr.hpp:17:; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_p",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6454:3446,install,install,3446,https://root.cern,https://github.com/root-project/root/issues/6454,1,['install'],['install']
Deployability,"ude/math.h:303:34: note: expanded from macro '__MATH_PRECNAME'; # define __MATH_PRECNAME(name,r) name##f##r; ^; <scratch space>:160:1: note: expanded from here; __finitef; ^; cling: In file included from <built-in>:1:; In file included from /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_runtime_wrapper.h:148:; /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:359:10: error: reference to __device__ function '__nvvm_atom_add_gen_i' in __host__ function; return __nvvm_atom_add_gen_i(__p, __v);; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:359:10: note: '__nvvm_atom_add_gen_i' declared here; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:362:3: error: reference to __device__ function '__nvvm_atom_cta_add_gen_i' in __host__ function; __nvvm_atom_cta_add_gen_i(__p, __v);; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_device_functions.h:362:3: note: '__nvvm_atom_cta_add_gen_i' declared here; cling: fatal error: too many errors emitted, stopping now [-ferror-limit=]; cling: In file included from input_line_4:36:; In file included from /opt/spack-modules/linux-ubuntu20.04-skylake_avx512/gcc-9.3.0/gcc-10.2.0-nd7xsa2anuya7be46rjsaxbiobtgguod/lib/gcc/x86_64-pc-linux-gnu/10.2.0/../../../../include/c++/10.2.0/cassert:44:; In file included from /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/assert.h:8:; /usr/include/assert.h:69:13: error: exception specification in declaration does not match previous declaration; extern void __assert_fail (const char *__assertion, const char *__file,; ^; cling: /home/sehrig/workspace/root-project/install/etc//cling/lib/clang/9.0.1/include/__clang_cuda_runtime_wrapper.h:349:31: note: previous declaration is here; ",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7518:12089,install,install,12089,https://root.cern,https://github.com/root-project/root/issues/7518,1,['install'],['install']
Deployability,"ues. - [ ] Checked for duplicates. ### Description. If an RDataFrame operation template argument instantiation explicitly requests the type `std::array` to read values from a TTree branch of the same type, this results in . ```; Error in <TTreeReaderValueBase::GetBranchDataType()>: Must use TTreeReaderArray to read branch covMatrix: it contains an array or a collection.; Error in <TTreeReaderValueBase::CreateProxy()>: The branch covMatrix contains data of type {UNDETERMINED TYPE}, which does not have a dictionary.; terminate called after throwing an instance of 'std::runtime_error'; what(): An error was encountered while processing the data. TTreeReader status code is: 6; ```. This is related to #14790, although that case is further complicated by the presence of the std::array as a data member of a user-defined class. ### Reproducer. ```cpp; #include <ROOT/RDataFrame.hxx>; #include <TFile.h>; #include <TTree.h>; #include <array>. const static auto filename{""file.root""};; const static auto treename{""tree""};; const static auto branchname{""array""};. void write_ttree(); {; TFile f{filename, ""recreate""};; TTree t{treename, treename};. std::array<int, 6> array{11, 22, 33, 44, 55, 66};. t.Branch(branchname, &array);; t.Fill();; f.WriteObject(&t, treename);; }. void read_rdf(); {; ROOT::RDataFrame df{treename, filename};; df.Describe().Print();; df.Display<std::array<int, 6>>({branchname})->Print();; }. int main(); {; write_ttree();; read_rdf();; }; ```. Note that `Describe` correctly infers the type of the column as RVec, but the user explicitly requests the std::array type leading to the error; ```; Dataframe from TChain tree in file file.root. Property Value; -------- -----; Columns in total 1; Columns from defines 0; Event loops run 0; Processing slots 1. Column Type Origin; ------ ---- ------; array ROOT::VecOps::RVec<Int_t> Dataset; ```. ### ROOT version. Any. ### Installation method. Built from source. ### Operating system. Any. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/16160:1919,Install,Installation,1919,https://root.cern,https://github.com/root-project/root/issues/16160,1,['Install'],['Installation']
Deployability,"ues. - [X] Checked for duplicates. ### Description. For a ROOT file structured with top-level directories A and B, it seems that if B contains a subdirectory also named A the objects in that subdirectory may fail being properly merged when using **_hadd_**; instead the outcome is a simple copy of the object in the first source file... The getDirectory() helper in TFilerMerger::MergeOne() indeed apparently favours a lookup based on the directory name and not the full path, which may not always pick the intended directory:; https://github.com/root-project/root/blob/0aa2b6b8760b78dff2cffd873f955735fa1b0ef3/io/io/src/TFileMerger.cxx#L548. ### Reproducer. Save self-contained script below to mwe.cxx and execute with **_root -l -b -q mwe.cxx++_**; ```; #include ""TFileMerger.h""; #include ""TFile.h""; #include ""TH1D.h""; #include <iostream>. void createSrcFile(const char* name); {; TFile f(name, ""RECREATE"");; f.mkdir(""A"", """");; f.mkdir(""B/A"", """");; f.mkdir(""C/D/A"", """");; f.cd(""A"");; TH1D h1(""H1"", ""H1"", 1, 0., 1.);; h1.SetBinContent(1, 1);; h1.Write();; f.cd(""B/A"");; TH1D h2(""H2"", ""H2"", 1, 0., 1.);; h2.SetBinContent(1, 10);; h2.Write();; f.cd(""C/D/A"");; TH1D h3(""H3"", ""H3"", 1, 0., 1.);; h3.SetBinContent(1, 100);; h3.Write();; f.Close();; }. void check(const char* filename, const char* deco); {; TFile f(filename, ""READ"");; std::cout << deco; 	 << f.Get<TH1D>(""A/H1"")->GetBinContent(1); 	 << "" ""; << f.Get<TH1D>(""B/A/H2"")->GetBinContent(1); 	 << "" ""; 	 << f.Get<TH1D>(""C/D/A/H3"")->GetBinContent(1); 	 << std::endl;; f.Close();; }. void mwe(); {; createSrcFile(""src1.root"");; createSrcFile(""src2.root"");; TFileMerger mg;; mg.AddFile(""src1.root"", kFALSE);; mg.AddFile(""src2.root"", kFALSE);; mg.OutputFile(""dest.root"", kTRUE);; mg.Merge();; check(""src1.root"", "" "");; check(""src2.root"", ""+ "");; std::cout << ""------------\n"";; check(""dest.root"", ""= "");; }; ```. ### ROOT version. 6.32.02. ### Installation method. lxplus native. ### Operating system. RHEL 9.4. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/16190:1918,Install,Installation,1918,https://root.cern,https://github.com/root-project/root/issues/16190,1,['Install'],['Installation']
Deployability,uffer.cxx:112; 2: Calling default constructor for 'TMatrixTBase<float>' in /opt/root_src/math/matrix/inc/TMatrixT.h:69; 3: Calling default constructor for 'TObject' in /opt/root_src/math/matrix/inc/TMatrixTBase.h:115; 4: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 5: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 6: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Calling constructor for 'TMatrixT<float>' in /opt/root_src/tmva/tmva/src/DNN/Architectures/Reference/DataLoader.cxx:63; 2: Calling default constructor for 'TMatrixTBase<float>' in /opt/root_src/math/matrix/inc/TMatrixT.h:69; 3: Calling default constructor for 'TObject' in /opt/root_src/math/matrix/inc/TMatrixTBase.h:115; 4: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 5: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 6: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Calling 'DataInputHandler::AddTree' in /opt/root_src/tmva/tmva/src/DataInputHandler.cxx:146; 2: 'tree' is non-null in /opt/root_src/tmva/tmva/src/DataInputHandler.cxx:88; 3: Taking false branch in /opt/root_src/tmva/tmva/src/DataInputHandler.cxx:88; 4: Assuming the condition is false in /opt/root_src/tmva/tmva/src/DataInputHandler.cxx:89; 5: Taking false branch in /opt/root_src/tmva/tmva/src/DataInputHandler.cxx:89; 6: Assuming the condition is false in /opt/root_src/tmva/tmva/src/DataInputHandler.cxx:90; 7: Taking false branch in /opt/root_src/tmva/tmva/src/DataInputHandler.cxx:90; 8: Assuming 'tt' is e,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:76160,Update,UpdateIsOnHeap,76160,https://root.cern,https://github.com/root-project/root/issues/7412,1,['Update'],['UpdateIsOnHeap']
Deployability,"uild/; │ ├── data/; │ │ ├── events.csv; │ │ ├── model.json; │ │ ├── model.rabbit; │ │ ├── multiclass_events.csv; │ │ ├── multiclass_model.json; │ │ ├── multiclass_model.rabbit; │ │ ├── multiclass_python_groundtruths.csv; │ │ ├── multiclass_python_predictions.csv; │ │ ├── multiclass_python_scores.csv; │ │ ├── python_predictions.csv; │ │ ├── regression_events.csv; │ │ ├── regression_model.json; │ │ ├── regression_model.rabbit; │ │ ├── regression_python_groundtruths.csv; │ │ ├── regression_python_predictions.csv; │ │ ├── regression_python_scores.csv; │ ├── forestBDTest.hxx; │ ├── helpersBDTest.hxx; │ ├── makefile; │ ├── readme.md; │ ├── RegressionBDTest.hxx; │ ├── run_all.sh; │ ├── testAll.cxx; ├── train_classifiers_examples.py; └── utils.py. ### Setup script for ubuntu 18.04; It sets up a new machine, installing everything in the home folder. Please modify for your needs.; ```bash; #!/bin/bash; cd; # can be ran with yes | bash this_file.sh # to say yes when prompted. sudo apt update ; yes | sudo apt upgrade. # Install all the stuff with apt. sudo apt install clang # to use clang; sudo apt install g++-7 gcc-7 # to use gcc; sudo apt install libx11-dev build-essential cmake ; sudo apt install git dpkg-dev cmake binutils libx11-dev libxpm-dev \; libxft-dev libxext-dev; sudo apt-get install gfortran libssl-dev libpcre3-dev \; xlibmesa-glu-dev libglew1.5-dev libftgl-dev \; libmysqlclient-dev libfftw3-dev libcfitsio-dev \; graphviz-dev libavahi-compat-libdnssd-dev \; libldap2-dev python-dev libxml2-dev libkrb5-dev \; libgsl0-dev libqt4-dev; sudo apt install gdb. sudo apt install libstdc++ # then add flag -stdlib=libstdc++. wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh; (echo ''; echo 'yes'; echo ''; echo 'yes';) | bash ./Miniconda3-latest-Linux-x86_64.sh; source .bashrc; source activate base; pip install numpy sklearn xgboost matplotlib. #################################### install projects #############################3; # Get ROOT; cd; git clon",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4351:2160,update,update,2160,https://root.cern,https://github.com/root-project/root/pull/4351,2,"['update', 'upgrade']","['update', 'upgrade']"
Deployability,"uilt for linuxx8664gcc on Jun 07 2022, 16:01:16 |; | From tags/v6-26-04@v6-26-04 |; | With g++ (GCC) 11.2.0 |; | Try '.help', '.demo', '.license', '.credits', '.quit'/'.q' |; ------------------------------------------------------------------. root [0] .q; $ root-config --version; 6.26/04; ```; Versions in the banner and returned by `root-config --version` match, but with 6.30/00 I get the following:; ```; $ root ; ------------------------------------------------------------------; | Welcome to ROOT 6.30/00 https://root.cern |; | (c) 1995-2023, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built for linuxx8664gcc on Nov 14 2023, 23:16:19 |; | From heads/v6-30-patches@tags/v6-30-00 |; | With |; | Try '.help'/'.?', '.demo', '.license', '.credits', '.quit'/'.q' |; ------------------------------------------------------------------. root [0] .q; $ root-config --version; 6.30.00; ```; i.e. the versions do not match (note the second dot in the output from `root-config --version`). Since some old build macros of tools relying on ROOT tend to use `root-config`, this may break tooling (at least I have some legacy tooling which was broken :wink: ). . ### Reproducer. Run `root-config --version` and compare it to the banner. . ### ROOT version. ```; ------------------------------------------------------------------; | Welcome to ROOT 6.30/00 https://root.cern |; | (c) 1995-2023, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built for linuxx8664gcc on Nov 14 2023, 23:16:19 |; | From heads/v6-30-patches@tags/v6-30-00 |; | With |; | Try '.help'/'.?', '.demo', '.license', '.credits', '.quit'/'.q' |; ------------------------------------------------------------------; ```. ### Installation method. Gentoo (Portage). ### Operating system. Gentoo Linux. ### Additional context. Of course, switching to the two dot notation would be perfectly fine, but since banner and `root-config` output do not match, this is likely not intended and there might be a bug lurking somewhere.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14068:1831,patch,patches,1831,https://root.cern,https://github.com/root-project/root/issues/14068,2,"['Install', 'patch']","['Installation', 'patches']"
Deployability,"uired input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->; standard cmake build process, as described in the guide. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->; ROOT v6-26-10 (@4dddea35); FreeBSD 13.2 RELEASE (clang 14.0.5), required dependencies installed from ports. ### Additional context; <!--; Add any other context about the problem here.; -->. a port exists v6-28-02 (development/root), installs in binary form (so somebody got it to compile, did not have too much time to test it thoroughly). In my case, however, the port also does not compile, craps out somewhere else. plus it hauls in too many dependencies so it is less than ideal.; I imagine getting it to work on FreeBSD would not end at fixing this issue here. The fbsd port maintainer has some patches which might help, but I have also seen that e.g. procfs is deprecated in new releases and libprocstat has to be used, etc, etc.; With that being said, it would be extremely nice to get ROOT to work on FreeBSD...; thanks,. ```; [ 52%] Built target rootcling_stage1; [ 52%] Generating G__Core.cxx, ../lib/Core.pcm; #0 0x000000000446e3d5 llvm::sys::PrintStackTrace(llvm::raw_ostream&) Signals.cpp:0:0; #1 0x000000000446c646 llvm::sys::RunSignalHandlers() Signals.cpp:0:0; #2 0x000000000446eba6 SignalHandler(int) Signals.cpp:0:0; #3 0x0000000826961b60 (/lib/libthr.so.3+0x19b60); #4 0x000000082696111f (/lib/libthr.so.3+0x1911f); #5 0x00007ffffffff8a3 ([vdso]+0x2d3); #6 0x000000082da5f7b4 strlen (/lib/libc.so.7+0x1587b4); #7 0x00000000016482c9 std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >::basic_string<std::nullptr_t>(char const*) rootcling_stage1.cxx:0:0; #8 0x0000000001648213 GetEtcDir() rootcling_stage1.cxx:0:0; #9 0x00000000016b2792 RootClingMain(int, char**, bool) (/home/mkrzewic/src/root_build/core/rootcling_stage1/src/rootcling_stage1+0",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12787:1660,release,releases,1660,https://root.cern,https://github.com/root-project/root/issues/12787,1,['release'],['releases']
Deployability,"ull ((1, 2)) __attr_access ((__read_write__, 1, 3));; #endif; ~~~. conflict with the ROOT header core/clib/inc/strlcpy.h:. ~~~.c++; size_t strlcpy(char *dst, const char *src, size_t siz);; size_t strlcat(char *dst, const char *src, size_t siz);; ~~~. Resulting in compilation errors due to different exception specifiers:. ~~~; In file included from /usr/include/c++/13/cstring:42,; from /builddir/build/BUILD/root-6.28.04/core/textinput/src/textinput/Text.h:19,; from /builddir/build/BUILD/root-6.28.04/core/textinput/src/textinput/TextInputContext.h:20,; from /builddir/build/BUILD/root-6.28.04/core/textinput/src/Getline.cxx:19:; /usr/include/string.h:506:15: error: declaration of 'size_t strlcpy(char*, const char*, size_t) noexcept' has a different exception specifier; 506 | extern size_t strlcpy (char *__restrict __dest,; | ^~~~~~~; In file included from /builddir/build/BUILD/root-6.28.04/core/textinput/src/Getline.cxx:13:; /builddir/build/BUILD/root-6.28.04/core/clib/inc/strlcpy.h:26:8: note: from previous declaration 'size_t strlcpy(char*, const char*, size_t)'; 26 | size_t strlcpy(char *dst, const char *src, size_t siz);; | ^~~~~~~; /usr/include/string.h:512:15: error: declaration of 'size_t strlcat(char*, const char*, size_t) noexcept' has a different exception specifier; 512 | extern size_t strlcat (char *__restrict __dest,; | ^~~~~~~; /builddir/build/BUILD/root-6.28.04/core/clib/inc/strlcpy.h:27:8: note: from previous declaration 'size_t strlcat(char*, const char*, size_t)'; 27 | size_t strlcat(char *dst, const char *src, size_t siz);; | ^~~~~~~; ~~~. ### Reproducer. Compile root on a system using the latest dev version of glibc, e.g. Fedora Rawhide. ### ROOT version. 6.28.04. ### Installation method. RPM package build (uses mock, i.e. a clean change root environment). ### Operating system. Fedora Rawhide (f39). ### Additional context. See the failures in Fedora's continuous integration test build at:; https://koschei.fedoraproject.org/package/root?collection=f39",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13156:2407,Install,Installation,2407,https://root.cern,https://github.com/root-project/root/issues/13156,3,"['Install', 'continuous', 'integrat']","['Installation', 'continuous', 'integration']"
Deployability,"ull request!. Where needed and if possible, we’ve adjusted the configuration to the needs of your particular repository. But of course, you should feel free to tweak it further! Check [this page](https://docs.github.com/en/code-security/code-scanning/automatically-scanning-your-code-for-vulnerabilities-and-errors/configuring-code-scanning#editing-a-code-scanning-workflow) for detailed documentation. Questions? Check out the FAQ below!. ### FAQ; <details>; <summary>Click here to expand the FAQ section</summary>. #### How often will the code scanning analysis run?; By default, code scanning will trigger a scan with the CodeQL engine on the following events:; * On every pull request — to flag up potential security problems for you to investigate before merging a PR.; * On every push to your default branch and other protected branches — this keeps the analysis results on your repository’s *Security* tab up to date.; * Once a week at a fixed time — to make sure you benefit from the latest updated security analysis even when no code was committed or PRs were opened. #### What will this cost?; Nothing! The CodeQL engine will run inside GitHub Actions, making use of your [unlimited free compute minutes for public repositories](https://docs.github.com/en/actions/learn-github-actions/usage-limits-billing-and-administration#about-billing-for-github-actions). #### What types of problems does CodeQL find?; The CodeQL engine that powers GitHub code scanning is the exact same engine that powers LGTM.com. The exact set of rules has been tweaked slightly, but you should see almost exactly the same types of alerts as you were used to on LGTM.com: we’ve enabled the [`security-and-quality` query suite](https://docs.github.com/en/code-security/code-scanning/automatically-scanning-your-code-for-vulnerabilities-and-errors/configuring-code-scanning#using-queries-in-ql-packs) for you. #### How do I upgrade my CodeQL engine?; No need! New versions of the CodeQL analysis are constantly deploy",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11808:2316,update,updated,2316,https://root.cern,https://github.com/root-project/root/pull/11808,1,['update'],['updated']
Deployability,"ult_delete<llvm::GIMatchDagPredicate>>*&&)' [found using argument-dependent lookup] [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\VC\Tools\MSVC\14.35.32215\include\format(3536,20): message : or 'std::wstring std::format(const std::locale &,const std::basic_format_string<wchar_t,type_identity<_Args>::type...>,_Types &&...)' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(85,18): message : 'initializing': cannot convert from 'const char [5]' to 'const std::locale &' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(85,18): message : Reason: cannot convert from 'const char [5]' to 'const std::locale' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(85,18): message : Constructor for class 'std::locale' is declared 'explicit' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; C:\Program Files\Microsoft Visual Studio\2022\Community\VC\Tools\MSVC\14.35.32215\include\format(3531,19): message : or 'std::string std::format(const std::locale &,const std::basic_format_string<char,type_identity<_Args>::type...>,_Types &&...)' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj]; interpreter\llvm\src\utils\TableGen\GlobalISel\GIMatchDag.cpp(85,18): message : 'initializing': cannot convert from 'const char [5]' to 'const std::locale &' [C:\Users\bellenot\build\x64\release\interpreter\llvm\src\utils\TableGen\GlobalISel\LLVMTableGenGlobalISel.vcxproj",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12523:9991,release,release,9991,https://root.cern,https://github.com/root-project/root/pull/12523,1,['release'],['release']
Deployability,"unknown type name 'type'; While building module 'Core':; While building module 'Cling_Runtime' imported from input_line_2:1:; In file included from <module-includes>:1:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/Interpreter/RuntimeUniverse.h:27:10: fatal error: could not build module 'Cling_Runtime_Extra'; #include ""cling/Interpreter/Visibility.h""; ~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~; input_line_2:1:10: fatal error: could not build module 'Cling_Runtime'; #include ""cling/Interpreter/RuntimeUniverse.h""; ~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~; [ 75%] Building CXX object core/metacling/src/CMakeFiles/MetaCling.dir/TClingTypeInfo.cxx.o; While building module 'Core':; While building module 'ROOT_Rtypes' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:23:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /home/razorr/Softwares/Installed/HEP/Root/build/include/RtypesCore.h:28:10: note: submodule of top-level module 'std' implicitly imported here; #include <cstddef> // size_t, NULL; ^; In file included from input_line_3:2:; /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:23:10: fatal error: could not build module 'ROOT_Rtypes'; #include ""RtypesCore.h""; ~~~~~~~~^~~~~~~~~~~~~~; While building module 'Core':; While building module 'ROOT_Foundation_C' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:29:; In file included from <module-includes>:1:; /home/razorr/Softwares/Installed/HEP/Root/build/include/ThreadLocalStorage.h:60:10: fatal error: could not build module 'ROOT_Rtypes'; #include ""RtypesCore.h""; ~~~~~~~~^~~~~~~~~~~~~~; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: e",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10528:19594,Install,Installed,19594,https://root.cern,https://github.com/root-project/root/issues/10528,1,['Install'],['Installed']
Deployability,update -a and -l options,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5200:0,update,update,0,https://root.cern,https://github.com/root-project/root/pull/5200,1,['update'],['update']
Deployability,update 6.32 release notes,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15581:0,update,update,0,https://root.cern,https://github.com/root-project/root/pull/15581,2,"['release', 'update']","['release', 'update']"
Deployability,update Bernstein pdf,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5484:0,update,update,0,https://root.cern,https://github.com/root-project/root/pull/5484,1,['update'],['update']
Deployability,update CODEOWNERS file,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4086:0,update,update,0,https://root.cern,https://github.com/root-project/root/pull/4086,1,['update'],['update']
Deployability,update ROOT --help,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5200:0,update,update,0,https://root.cern,https://github.com/root-project/root/pull/5200,1,['update'],['update']
Deployability,update df103*.py,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5221:0,update,update,0,https://root.cern,https://github.com/root-project/root/pull/5221,1,['update'],['update']
Deployability,update links to the new web site,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5994:0,update,update,0,https://root.cern,https://github.com/root-project/root/pull/5994,1,['update'],['update']
Deployability,update relase notes about source build [skip-ci],MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5743:0,update,update,0,https://root.cern,https://github.com/root-project/root/pull/5743,1,['update'],['update']
Deployability,update release notes for TMVA and add missing contributors,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4912:0,update,update,0,https://root.cern,https://github.com/root-project/root/pull/4912,2,"['release', 'update']","['release', 'update']"
Deployability,update tselector doc,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7650:0,update,update,0,https://root.cern,https://github.com/root-project/root/pull/7650,1,['update'],['update']
Deployability,update xrootd hash,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11106:0,update,update,0,https://root.cern,https://github.com/root-project/root/pull/11106,1,['update'],['update']
Deployability,updated doxygen list,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2291:0,update,updated,0,https://root.cern,https://github.com/root-project/root/pull/2291,1,['update'],['updated']
Deployability,"ur issue. If you find one, you are very welcome to add to the existing report, for instance ""issue still exists in today's master"".; -->. ### Describe the bug; <!--; A clear and concise description of what the wrong behavior is.; -->; When changing the compression settings using hadd, using the same compression level used by the input file won't trigger a recompression of the branches in the output file, even with a different algorithm. ie. Passing -f301 with a 101 compressed input file results in a ""301"" compressed file but with 101 compressed branches. ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->; I would expect the output file's branches to be recompressed with the provided compression algorithm. ie. Passing -f301 with a 101 compressed input file results in a genuine 301 compressed file with 301 compressed branches. ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->. 1. Get the compression settings of any .root file, for example the 101 compressed [dimuon dataset](http://opendata.web.cern.ch/record/12341).; 2. Run `hadd` and change the compression to a different algorithm of the same level, for example 101 -> 201 or 403 -> 303:; `hadd -f201 fake_dimuon_201.root orig_dimuon_101.root`; 3. You can validate the weird behaviour by performing an intermediate conversion:; `hadd -f202 real_202_out.root orig_dimuon_101.root` -> `hadd -f201 real_dimuon_201.root real_dimuon_202.root`. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->; 1. ROOT Version 6.27/01; 2. Linux CentOS 8 + Linux Debian 11; 3. Built from source. ### Additional context; <!--; Add any other context about the problem here.; -->",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11245:2001,install,install,2001,https://root.cern,https://github.com/root-project/root/issues/11245,1,['install'],['install']
Deployability,"us913 in ~/tmp/root-issue; ❯ root; ------------------------------------------------------------------; | Welcome to ROOT 6.30/04 https://root.cern |; | (c) 1995-2024, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built for linuxx8664gcc on Feb 03 2024, 17:20:15 |; | From heads/master@tags/v6-30-04 |; | With g++ (GCC) 13.1.0 |; | Try '.help'/'.?', '.demo', '.license', '.credits', '.quit'/'.q' |; ------------------------------------------------------------------. root [0] #include <LoKi/ParticleCuts.h>. *** Break *** segmentation violation. ===========================================================; There was a crash (kSigSegmentationViolation).; This is the entire stack trace of all threads:; ===========================================================; #0 0x00007f060a0d89fa in wait4 () from /lib64/libc.so.6; #1 0x00007f060a04b243 in do_system () from /lib64/libc.so.6; #2 0x00007f060ac59eb2 in TUnixSystem::Exec (this=0x1fbd500, shellcmd=0x9457020 ""/cvmfs/lhcb.cern.ch/lib/lcg/releases/ROOT/6.30.04-dd2db/x86_64-el9-gcc13-dbg/etc/gdb-backtrace.sh 212891 1>&2"") at /build/jenkins/workspace/lcg_release_pip; #3 0x00007f060ac5a753 in TUnixSystem::StackTrace (this=0x1fbd500) at /build/jenkins/workspace/lcg_release_pipeline/build/projects/ROOT-6.30.04/src/ROOT/6.30.04/core/unix/src/TUnixSystem.cxx:2411; #4 0x00007f060ac5e16c in TUnixSystem::DispatchSignals (this=0x1fbd500, sig=kSigSegmentationViolation) at /build/jenkins/workspace/lcg_release_pipeline/build/projects/ROOT-6.30.04/src/ROOT/6.30.04/core/unix/src/TUnixSystem.cxx:3631; #5 0x00007f060ac560e0 in SigHandler (sig=kSigSegmentationViolation) at /build/jenkins/workspace/lcg_release_pipeline/build/projects/ROOT-6.30.04/src/ROOT/6.30.04/core/unix/src/TUnixSystem.cxx:402; #6 0x00007f060ac5e06f in sighandler (sig=11) at /build/jenkins/workspace/lcg_release_pipeline/build/projects/ROOT-6.30.04/src/ROOT/6.30.04/core/unix/src/TUnixSystem.cxx:3602; #7 0x00007f060ac47a32 in textinput::TerminalConfigUnix::HandleSignal (this",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15511:5517,release,releases,5517,https://root.cern,https://github.com/root-project/root/issues/15511,1,['release'],['releases']
Deployability,"using VecGeom converter. If I use this converter in same macro that converts gdml to root, works fine but When I export it into root file and convert it again while importing root file, It crashes. This issue is already discussed with @agheata in https://root-forum.cern.ch/t/tessellated-volume-behave-like-box-after-transporting-with-geant-3-and-4-after-converting-cad-to-root-geometry/57083. Attached File:; Macro and required GDML file ; ```; void ConvertGDMLtoRootMacro() { ; TGeoManager* gGeoManager = new TGeoManager(""cbmsim"", """");; ; const TString _volumename = ""mainframe_02"";; const TString _file = _volumename + "".gdml"";; const TString _file_out = _volumename + "".root"";. TGeoVolume *_vol_assembly = new TGeoVolumeAssembly(_volumename);. gGeoManager->SetTopVolume(_vol_assembly);; TGDMLParse parser;; TGeoVolume *_gdml_vol = parser.GDMLReadFile(_file);; TObjArray *_node = _gdml_vol->GetNodes();. Int_t copy_number = 0;; for (int iNode = 0; iNode < _node->GetEntriesFast(); iNode++) {; TGeoNode *_fNode = (TGeoNode *)_node->At(iNode);; TGeoVolume *_fVol = (TGeoVolume *)_fNode->GetVolume();. _vol_assembly->AddNode(_fVol, copy_number, 0);; copy_number++;; }; _gdml_vol->Draw(""ogl"");; gGeoManager->CloseGeometry();; _vol_assembly->Export(_file_out);; ; // Convert to VecGeom tessellated solid; auto converter = TVirtualGeoConverter::Instance(gGeoManager);; if (!converter) {; printf(""Raytracing a tessellated shape without VecGeom support will just draw a box\n"");; } else {; converter->ConvertGeometry();; } ; _vol_assembly->Draw(""ogl"");; _vol_assembly->Raytrace(kTRUE);; _vol_assembly->RandomPoints(1000000,"""");; ; }; ```. Input GDML File:; https://drive.google.com/file/d/1FbQ6rK0fIDXamiAeHWVUxc4M7YcpjA0R/view?usp=sharing. ### Reproducer. mater branch of ROOT is configured with VecGeom.; run with root -l ConvertGDMLtoRootMacro.C. ### ROOT version. ROOT 6.31/01. ### Installation method. build from source. ### Operating system. Ubuntu 22.04.3 LTS. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14283:1966,Install,Installation,1966,https://root.cern,https://github.com/root-project/root/issues/14283,1,['Install'],['Installation']
Deployability,"using namespace RooFit;. void rf801_mcstudy(); {; RooRealVar x(""x"", ""x"", 0, 10);; x.setBins(40);. RooRealVar mean(""mean"", """", 5, 0, 10);; RooRealVar sigma(""sg"", """", 0.5);; RooGaussian pdf(""pdf"", """", x, mean, sigma);. RooMCStudy *mcstudy = new RooMCStudy(pdf, x, Binned(kTRUE), Silence(true), Extended(true), FitOptions(Save(kTRUE), PrintEvalErrors(0)));; //RooMCStudy *mcstudy = new RooMCStudy(pdf, x, Binned(kFALSE), Silence(true), Extended(true), FitOptions(Save(kTRUE), PrintEvalErrors(0)); mcstudy->generateAndFit(1000, 1000);; }; ```; ![image](https://user-images.githubusercontent.com/14037062/147851308-1eb033f3-94ea-4e53-a88b-f7e017a278aa.png). which is not ideal, here a progress bar would be better, it would prevent the screen from been filled. However, having a 10 fits step seems reasonable. . On the other hand, when running the fit with unbinned data (uncomment the line in the code above), I see:. ![image](https://user-images.githubusercontent.com/14037062/147851372-3197ea2f-d44c-4cd7-ae03-e92389ddb6a3.png). which is a terrible design. It completely fills the monitor with 1000 lines of useless information. The only way that I found to silence this is doing something like:. ```python; msg = ROOT.RooMsgService.instance(); str_z=msg.getStream(0); str_z.minLevel = ROOT.RooFit.WARNING; ```; which also turns off the `PROGRESS` message telling me how many toys have been run. So either I make it hide everything or I get 1000 messages. ### Optional: share how it could be improved; If I would have time I would:. 1. Make the `now generating` message a `DEBUG` one.; 2. Use a progress bar for the `run` message. ### To Reproduce; You can just run the code I put above. ### Setup; 1. ROOT version: 6.24/06; 2. Operating system: Linux manjaro 5.15.7-1-MANJARO; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself: Manjaro package manager, probably related to pacman. ### Additional context; <!--; Add any other context about the problem here.; -->",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/9489:1987,install,install,1987,https://root.cern,https://github.com/root-project/root/issues/9489,1,['install'],['install']
Deployability,"ut default parameters in the header declaration, instead of in the constructor initializer lists. Finally, this PR changes the default minimizer from Minuit to Minuit2. **Note that this may require some discussion.** We already briefly touched upon this in a Zoom meeting, but haven't thoroughly mapped out consequences yet. The reason for the switch is that the derivator scheme used in `RooGradMinimizerFcn` replicates that of Minuit2, so comparing to that makes more sense. Also, it just hasn't been tested at all with Minuit 1, I'm not even sure it will work with that version. Other than these `RooMinimizer` changes and the addition of `RooGradMinimizerFcn`, a new test was added called `testRooGradMinimizer`. It also uses a `test_lib.h` header that will also be used later on in tests of other new likelihood minimization implementations. **Do note that the test currently fails.** I originally had carefully made sure the results were bit-wise exactly the same as those from using classic `RooMinimizerFcn`, but there must have been some change in the meantime that I have not been able to integrate yet. I suspect it is caused by a change in Kahan summation, but have to inspect. In any case, the results are minor differences that do not negatively affect the effectiveness, the minimization just takes slightly different paths to the end results that will agree within the desired precision when set high enough. ~~**Final note:** this PR depends on three others: #8369, #8567 and #8569. These branches as they currently are were merged into this branch before making the one commit that adds everything in this actual commit. Do not merge this one before those. Also take care that this branch will be rebased and force pushed after each of those three are merged. In short: probably it will be easier to review this branch after those others are merged. However, of course, a review is already most welcome. Just make sure to only look at the diff from the final commit: https://github.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/8596:2650,integrat,integrate,2650,https://root.cern,https://github.com/root-project/root/pull/8596,1,['integrat'],['integrate']
Deployability,"uths.csv; │ │ ├── multiclass_python_predictions.csv; │ │ ├── multiclass_python_scores.csv; │ │ ├── python_predictions.csv; │ │ ├── regression_events.csv; │ │ ├── regression_model.json; │ │ ├── regression_model.rabbit; │ │ ├── regression_python_groundtruths.csv; │ │ ├── regression_python_predictions.csv; │ │ ├── regression_python_scores.csv; │ ├── forestBDTest.hxx; │ ├── helpersBDTest.hxx; │ ├── makefile; │ ├── readme.md; │ ├── RegressionBDTest.hxx; │ ├── run_all.sh; │ ├── testAll.cxx; ├── train_classifiers_examples.py; └── utils.py. ### Setup script for ubuntu 18.04; It sets up a new machine, installing everything in the home folder. Please modify for your needs.; ```bash; #!/bin/bash; cd; # can be ran with yes | bash this_file.sh # to say yes when prompted. sudo apt update ; yes | sudo apt upgrade. # Install all the stuff with apt. sudo apt install clang # to use clang; sudo apt install g++-7 gcc-7 # to use gcc; sudo apt install libx11-dev build-essential cmake ; sudo apt install git dpkg-dev cmake binutils libx11-dev libxpm-dev \; libxft-dev libxext-dev; sudo apt-get install gfortran libssl-dev libpcre3-dev \; xlibmesa-glu-dev libglew1.5-dev libftgl-dev \; libmysqlclient-dev libfftw3-dev libcfitsio-dev \; graphviz-dev libavahi-compat-libdnssd-dev \; libldap2-dev python-dev libxml2-dev libkrb5-dev \; libgsl0-dev libqt4-dev; sudo apt install gdb. sudo apt install libstdc++ # then add flag -stdlib=libstdc++. wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh; (echo ''; echo 'yes'; echo ''; echo 'yes';) | bash ./Miniconda3-latest-Linux-x86_64.sh; source .bashrc; source activate base; pip install numpy sklearn xgboost matplotlib. #################################### install projects #############################3; # Get ROOT; cd; git clone git@github.com:LucaZampieri/root.git. # build with gcc; mkdir build_gcc && cd build_gcc && cmake ../root && make -j8. ## Google bench; cd; # Check out the library.; git clone https://github.com/google/benchmar",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4351:2236,install,install,2236,https://root.cern,https://github.com/root-project/root/pull/4351,5,['install'],['install']
Deployability,"v libfftw3-dev libmysqlclient-dev libavahi-compat-libdnssd-dev libssl-dev python3-dev libcfitsio-dev xlibmesa-glu-dev libkrb5-dev gfortran graphviz-dev libpcre3-dev libglew-dev libxmu-dev libexpat-dev python3-jinja2 libtbb-dev libxerces-c-dev cmake libboost-filesystem-dev dpkg-dev libspdlog-dev libxext-dev qtbase5-dev libqt5opengl5-dev libx11-dev libboost-test-dev libocct-draw-dev libeigen3-dev libocct-data-exchange-dev python3-dev libocct-foundation-dev libfmt-dev libxft-dev libboost-program-options-dev libboost-dev binutils libxpm-dev curl libxerces-c3-dev occt-misc python3-yaml &&\; rm -rf /var/lib/apt/lists/*. ENV LC_ALL=C.UTF-8; ENV LANG=C.UTF-8. RUN mkdir -p /container/app/acts/src/v35.2.0 &&\; git clone --depth 1 -b v35.2.0 https://github.com/acts-project/acts /container/app/acts/src/v35.2.0 &&\; mkdir -p /container/app/acts/build/v35.2.0 &&\; cmake -Wno-dev -DCMAKE_INSTALL_PREFIX=/container/app/acts/acts-v35.2.0 -DCMAKE_CXX_STANDARD=20 -DCMAKE_BUILD_TYPE=RelWithDebInfo -DACTS_BUILD_PLUGIN_TGEO=ON -DACTS_BUILD_PLUGIN_DD4HEP=OFF -DACTS_BUILD_PLUGIN_JSON=ON -DACTS_BUILD_PLUGIN_ACTSVG=OFF /container/app/acts/src/v35.2.0&& cmake --build . -- -j 4&& cmake --build . --target install; RUN echo ""done"". ```. ### ROOT version. ```; #7 [4/6] RUN root -b -q; #7 0.544 ------------------------------------------------------------------; #7 0.544 | Welcome to ROOT 6.32.02 https://root.cern |; #7 0.544 | (c) 1995-2024, The ROOT Team; conception: R. Brun, F. Rademakers |; #7 0.544 | Built for linuxx8664gcc on Jun 18 2024, 04:46:14 |; #7 0.544 | From tags/v6-32-02@v6-32-02 |; #7 0.544 | With c++ (Ubuntu 13.2.0-23ubuntu4) 13.2.0 |; #7 0.544 | Try '.help'/'.?', '.demo', '.license', '.credits', '.quit'/'.q' |; #7 0.544 ------------------------------------------------------------------; ```. ### Installation method. Docker image rootproject/root:6.32.02-ubuntu24.04. ### Operating system. Linux. ### Additional context. Update: everything works on rootproject/root:6.28.00-ubuntu22.04",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/16038:2665,install,install,2665,https://root.cern,https://github.com/root-project/root/issues/16038,3,"['Install', 'Update', 'install']","['Installation', 'Update', 'install']"
Deployability,"v. Next error is:. ```; cmake ../testroot/; -- The C compiler identification is GNU 11.4.0; -- The CXX compiler identification is GNU 11.4.0; -- Detecting C compiler ABI info; -- Detecting C compiler ABI info - done; -- Check for working C compiler: /usr/bin/cc - skipped; -- Detecting C compile features; -- Detecting C compile features - done; -- Detecting CXX compiler ABI info; -- Detecting CXX compiler ABI info - done; -- Check for working CXX compiler: /usr/bin/c++ - skipped; -- Detecting CXX compile features; -- Detecting CXX compile features - done; -- Found nlohmann_json: /usr/lib/cmake/nlohmann_json/nlohmann_jsonConfig.cmake (found suitable version ""3.10.5"", minimum required is ""3.10.5"") ; CMake Error at /usr/share/cmake-3.25/Modules/FindPackageHandleStandardArgs.cmake:230 (message):; Could NOT find Vdt (missing: VDT_INCLUDE_DIR VDT_LIBRARY); Call Stack (most recent call first):; /usr/share/cmake-3.25/Modules/FindPackageHandleStandardArgs.cmake:600 (_FPHSA_FAILURE_MESSAGE); /opt/root/cmake/modules/FindVdt.cmake:63 (find_package_handle_standard_args); /usr/share/cmake-3.25/Modules/CMakeFindDependencyMacro.cmake:47 (find_package); /opt/root/cmake/ROOTConfig.cmake:132 (find_dependency); CMakeLists.txt:5 (find_package); ```. And not sure how to solve it. ### Reproducer. ```; cmake_minimum_required(VERSION 3.25). project(ProjectName). find_package(ROOT 6.30 CONFIG REQUIRED); ```. ### ROOT version. ```; ------------------------------------------------------------------; | Welcome to ROOT 6.30/02 https://root.cern |; | (c) 1995-2023, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built for linuxx8664gcc on Nov 27 2023, 19:50:38 |; | From tags/v6-30-02@ |; | With c++ (Ubuntu 11.4.0-1ubuntu1~22.04) 11.4.0 |; | Try '.help'/'.?', '.demo', '.license', '.credits', '.quit'/'.q' |; ------------------------------------------------------------------; ```. ### Installation method. Binary Release. ### Operating system. Ubuntu 22.04. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14163:3084,Install,Installation,3084,https://root.cern,https://github.com/root-project/root/issues/14163,2,"['Install', 'Release']","['Installation', 'Release']"
Deployability,v5-34-00-patches mysql v8 fix,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3352:9,patch,patches,9,https://root.cern,https://github.com/root-project/root/pull/3352,1,['patch'],['patches']
Deployability,v6-14-00-patches: Fix typo in RArrowDS,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2478:9,patch,patches,9,https://root.cern,https://github.com/root-project/root/pull/2478,1,['patch'],['patches']
Deployability,v6-14-00-patches: Fix typo in test.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2486:9,patch,patches,9,https://root.cern,https://github.com/root-project/root/pull/2486,1,['patch'],['patches']
Deployability,v6-14-00-patches: Support unsigned integer types in RArrowDS,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2494:9,patch,patches,9,https://root.cern,https://github.com/root-project/root/pull/2494,1,['patch'],['patches']
Deployability,v6-24-00-patches nonull backport,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9276:9,patch,patches,9,https://root.cern,https://github.com/root-project/root/pull/9276,1,['patch'],['patches']
Deployability,"v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCling.so; #1 0x00007fffefbf28ce in cling::LookupHelper::findScope(llvm::StringRef, cling::LookupHelper::DiagSetting, clang::Type const**, bool) const (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCling.so; #2 0x00007fffefb854d9 in TClingClassInfo::TClingClassInfo(cling::Interpreter*, char const*, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCling.so; #3 0x00007fffefb06c54 in TCling::GetInterpreterTypeName(char const*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, bool); (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCling.so; #4 0x00007ffff560f184 in TClass::GetClass(char const*, bool, bool, unsigned long, unsigned long) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #5 0x00007ffff563608a in TProtoClass::FillTClass(TClass*) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #6 0x00007ffff56188e5 in TClass::Init(char const*, short, std::type_info const*, TVirtualIsAProxy*, char const*, char const*, int, int, ClassInfo_t*, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #7 0x00007ffff5619f76 in TClass::TClass(char const*, short, std::type_info const&, TVirtualIsAProxy*, char const*, char const*, int, int, bool) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86_64-centos7-gcc8-opt/lib/libCore.so; #8 0x00007ffff561a48a in ROOT::CreateClass(char const*, short, std::type_info const&, TVirtualIsAProxy*, char const*, char const*, int, int) (); from /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sun/ROOT/v6-24-00-patches/x86",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7657:12776,patch,patches,12776,https://root.cern,https://github.com/root-project/root/issues/7657,1,['patch'],['patches']
Deployability,"v6-26-00-patches/roofit/roofitZMQ/src/ZeroMQPoller.cpp:14:; /usr/include/zmq.hpp:625:23: note: candidate: size_t zmq::socket_t::recv(void*, size_t, int); inline size_t recv (void *buf_, size_t len_, int flags_ = 0); ^~~~; /usr/include/zmq.hpp:625:23: note: no known conversion for argument 1 from ‘std::reference_wrapper<zmq::message_t>’ to ‘void*’; /usr/include/zmq.hpp:635:21: note: candidate: bool zmq::socket_t::recv(zmq::message_t*, int); inline bool recv (message_t *msg_, int flags_ = 0); ^~~~; /usr/include/zmq.hpp:635:21: note: no known conversion for argument 1 from ‘std::reference_wrapper<zmq::message_t>’ to ‘zmq::message_t*’; In file included from /tmp/ROOT/v6-26-00-patches/roofit/roofitZMQ/res/RooFit_ZMQ/ZeroMQPoller.h:17:0,; from /tmp/ROOT/v6-26-00-patches/roofit/roofitZMQ/src/ZeroMQPoller.cpp:14:; (...); /tmp/ROOT/v6-26-00-patches/roofit/roofitZMQ/src/ZeroMQPoller.cpp:231:14: error: ‘m_fds’ was not declared in this scope; auto it = m_fds.find(fd);; ^~~~~; /tmp/ROOT/v6-26-00-patches/roofit/roofitZMQ/src/ZeroMQPoller.cpp:231:14: note: suggested alternative: ‘m_free’; auto it = m_fds.find(fd);; ^~~~~; m_free; Consolidate compiler generated dependencies of target obj.clingInterpreter; [ 73%] Built target obj.clingInterpreter; [ 73%] Built target clingInterpreter; [ 73%] Built target CLING; [ 73%] Built target clad; [ 73%] Built target LLVMRES; Consolidate compiler generated dependencies of target ClingUtils; roofit/roofitZMQ/CMakeFiles/RooFitZMQ.dir/build.make:89: recipe for target 'roofit/roofitZMQ/CMakeFiles/RooFitZMQ.dir/src/ZeroMQPoller.cpp.o' failed; make[2]: *** [roofit/roofitZMQ/CMakeFiles/RooFitZMQ.dir/src/ZeroMQPoller.cpp.o] Error 1; make[2]: Target 'roofit/roofitZMQ/CMakeFiles/RooFitZMQ.dir/build' not remade because of errors.; CMakeFiles/Makefile2:35161: recipe for target 'roofit/roofitZMQ/CMakeFiles/RooFitZMQ.dir/all' failed; make[1]: *** [roofit/roofitZMQ/CMakeFiles/RooFitZMQ.dir/all] Error 2; (...); ```; It seems that the problem is related to the ",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10107:2729,patch,patches,2729,https://root.cern,https://github.com/root-project/root/issues/10107,1,['patch'],['patches']
Deployability,"v6-26-00-patches/src/ROOT/v6-26-00-patches/interpreter/llvm/src/tools/clang/include/clang/AST/TemplateBase.h:257; #5 0x00007ffff2f85aeb in ROOT::TMetaUtils::ReSubstTemplateArg (input=..., ; instance=0x7fffef6df2c0); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/clingutils/src/TClingUtils.cxx:4768; #6 0x00007ffff2f85c07 in ROOT::TMetaUtils::ReSubstTemplateArg (input=..., ; instance=0x7fffef6df2c0); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/clingutils/src/TClingUtils.cxx:4791; #7 0x00007ffff32362a4 in TClingBaseClassInfo::InternalNext (; this=0x7fffffff4430, onlyDirect=1); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/metacling/src/TClingBaseClassInfo.cxx:341; #8 0x00007ffff323636e in TClingBaseClassInfo::Next (this=0x7fffffff4430, ; onlyDirect=1); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/metacling/src/TClingBaseClassInfo.cxx:350; #9 0x00007ffff323638d in TClingBaseClassInfo::Next (this=0x7fffffff4430); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/metacling/src/TClingBaseClassInfo.cxx:355; #10 0x00007ffff30f8681 in TCling::CreateListOfBaseClasses (this=0x4b6670, ; cl=0x32e8cc0); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/metacling/src/TCling.cxx:4292; #11 0x00007ffff260dc29 in TClass::GetListOfBases (this=0x32e8cc0); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-patches/core/meta/src/TClass.cxx:3649; #12 0x00007ffff260a96e in TClass::GetBaseClass (this=0x32e8cc0, cl=0x235be20); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-26-00-patches/src/ROOT/v6-26-00-",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11259:2647,patch,patches,2647,https://root.cern,https://github.com/root-project/root/issues/11259,2,['patch'],['patches']
Deployability,v6.22: Fix 6767 missing TStreamerInfo update during TClass reload.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6768:38,update,update,38,https://root.cern,https://github.com/root-project/root/pull/6768,1,['update'],['update']
Deployability,v6.28: [cling] Re-enable CodeGen-OptLevel after llvm13 upgrade:,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12096:55,upgrade,upgrade,55,https://root.cern,https://github.com/root-project/root/pull/12096,1,['upgrade'],['upgrade']
Deployability,v626: [cmake] Update xrootd hash after a new version of the xrootd tar file…,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11109:14,Update,Update,14,https://root.cern,https://github.com/root-project/root/pull/11109,1,['Update'],['Update']
Deployability,v628: IO: Fix StreamerInfo record write during file update.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12847:52,update,update,52,https://root.cern,https://github.com/root-project/root/pull/12847,1,['update'],['update']
Deployability,"valid next size (fast); ninja: build stopped: subcommand failed.; ```. ### Notes:. - I've pasted the instructions used to build the code in the reproducer section. Compiler is gcc-13/g++-13 from OpenSUSE repos and target architecture is znver3 (5800X3D); - I had to make a small change to `root_src/interpreter/cling/lib/Interpreter/CIFactory.cpp`. The option `argvCompile.push_back(""-O0 -fno-omit-frame-pointer"");` at line 1349 needed to be split into two lines. This bug appears to be unrelated. Unfortunately I'm writing this in a rush so may have missed something that you need/got the formatting ugly. Don't be afraid to ask if you need any clarification.; Thanks!. ### Reproducer. ```; mkdir root_build;; git clone --branch latest-stable --depth=1 https://github.com/root-project/root.git root_src; cd root_build; cmake --build . --target clean && rm -rf ./* && cmake -G Ninja -DCMAKE_BUILD_TYPE=release -DCMAKE_C_COMPILER=gcc-13 -DCMAKE_CXX_COMPILER=g++-13 -DCMAKE_Fortran_COMPILER=gfortran-13 -DCMAKE_ASM_FLAGS=""-flto -march=native"" -DCMAKE_C_FLAGS=""-flto -march=native"" -DCMAKE_CXX_FLAGS=""-flto -march=native"" -DCMAKE_ASM_FLAGS_RELEASE=""-O3 -DNDEBUG"" -DCMAKE_C_FLAGS_RELEASE=""-O3 -DNDEBUG"" -DCMAKE_CXX_FLAGS_RELEASE=""-O3 -DNDEBUG"" -Dccache=ON -Dgnuinstall=ON -Dimt=OFF -Dminuit2-omp=ON -Dminuit2-mpi=ON -Dminuit2=ON -Dmpi=ON -Dpyroot=OFF -Dxrootd=OFF -Dveccore=ON -Dvc=ON -Dcudnn=OFF -Dtmva-pymva=OFF -DLLVM_TARGETS_TO_BUILD=""X86;NVPTX;AMDGPU"" -Ddoxygen=ON ../root_src && clear && cmake --build . -- -j 16; ```. [CMakeCache.txt](https://github.com/root-project/root/files/13313400/CMakeCache.txt). ### ROOT version. V6.28/06. ### Installation method. Built from source. ### Operating system. `Linux version 6.5.9-1-default (geeko@buildhost) (gcc (SUSE Linux) 13.2.1 20230912 [revision b96e66fd4ef3e36983969fb8cdd1956f551a074b], GNU ld (GNU Binutils; openSUSE Tumbleweed) 2.40.0.20230412-5) #1 SMP PREEMPT_DYNAMIC Wed Oct 25 10:31:37 UTC 2023 (29edc7c)`. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14037:8935,release,release,8935,https://root.cern,https://github.com/root-project/root/issues/14037,2,"['Install', 'release']","['Installation', 'release']"
Deployability,"vcxproj]; C:\Users\bellenot\git\master\tree\dataframe\test\datasource_sqlite.cxx(41): message : see reference to function template instantiation 'ROOT::RDF::RResultPtr<ROOT::RDF::RInterface<ROOT::RDF::RInterface<Proxied,DataSource>::RLoopManager,void>> ROOT::RDF::RInterface<ROOT::RDF::RInterface<Proxied,DataSource>::RLoopManager,void>::Snapshot(std::string_view,std::string_view,std::string_view,const ROOT::RDF::RSnapshotOptions &)' being compiled [C:\Users\bellenot\build\x86\release\tree\dataframe\test\datasource_sqlite.vcxproj]; C:\Users\bellenot\git\master\tree\dataframe\inc\ROOT/RDataFrame.hxx(41): message : see reference to class template instantiation 'ROOT::RDF::RInterface<ROOT::RDF::RInterface<Proxied,DataSource>::RLoopManager,void>' being compiled [C:\Users\bellenot\build\x86\release\tree\dataframe\test\datasource_sqlite.vcxproj]; C:\Users\bellenot\git\master\tree\dataframe\inc\ROOT/RDF/RInterface.hxx(1123,64): error C3083: 'TreeUtils': the symbol to the left of a '::' must be a type [C:\Users\bellenot\build\x86\release\tree\dataframe\test\datasource_sqlite.vcxproj]; C:\Users\bellenot\git\master\tree\dataframe\inc\ROOT/RDF/RInterface.hxx(1123,75): error C2039: 'GetTopLevelBranchNames': is not a member of 'ROOT::RDF::Internal' [C:\Users\bellenot\build\x86\release\tree\dataframe\test\datasource_sqlite.vcxproj]; C:\Users\bellenot\git\master\tree\dataframe\inc\ROOT/RSqliteDS.hxx(27): message : see declaration of 'ROOT::RDF::Internal' [C:\Users\bellenot\build\x86\release\tree\dataframe\test\datasource_sqlite.vcxproj]; C:\Users\bellenot\git\master\tree\dataframe\inc\ROOT/RDF/RInterface.hxx(1123,1): error C3861: 'GetTopLevelBranchNames': identifier not found [C:\Users\bellenot\build\x86\release\tree\dataframe\test\datasource_sqlite.vcxproj]; C:\Users\bellenot\git\master\tree\dataframe\inc\ROOT/RDF/RInterface.hxx(1123,18): error C2737: 'treeBranchNames': const object must be initialized [C:\Users\bellenot\build\x86\release\tree\dataframe\test\datasource_sqlite.vcxpro",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11153:2042,release,release,2042,https://root.cern,https://github.com/root-project/root/pull/11153,1,['release'],['release']
Deployability,ve/src/TEveElement.cxx:664; 12: Left side of '&&' is true in /opt/root_src/graf3d/eve/src/TEveElement.cxx:664; 13: Assuming field 'fTopItemCnt' is <= 0 in /opt/root_src/graf3d/eve/src/TEveElement.cxx:664; 14: Left side of '&&' is true in /opt/root_src/graf3d/eve/src/TEveElement.cxx:664; 15: Assuming field 'fDestroyOnZeroRefCnt' is true in /opt/root_src/graf3d/eve/src/TEveElement.cxx:665; 16: Left side of '&&' is true in /opt/root_src/graf3d/eve/src/TEveElement.cxx:664; 17: Assuming field 'fDenyDestroy' is <= 0 in /opt/root_src/graf3d/eve/src/TEveElement.cxx:665; 18: Taking true branch in /opt/root_src/graf3d/eve/src/TEveElement.cxx:664; 19: Assuming the condition is false in /opt/root_src/graf3d/eve/src/TEveElement.cxx:667; 20: Taking false branch in /opt/root_src/graf3d/eve/src/TEveElement.cxx:667; 21: Assuming 'gDebug' is <= 0 in /opt/root_src/graf3d/eve/src/TEveElement.cxx:677; 22: Taking false branch in /opt/root_src/graf3d/eve/src/TEveElement.cxx:677; 23: Memory is released in /opt/root_src/graf3d/eve/src/TEveElement.cxx:681; 24: Returning; memory was released in /opt/root_src/graf3d/eve/src/TEveElement.cxx:650; 25: Returning; memory was released in /opt/root_src/graf3d/eve/src/TEveElement.cxx:1345; 26: Returning; memory was released via 1st parameter in /opt/root_src/graf3d/eve/src/TEveElement.cxx:359; 27: Use of memory after it is freed in /opt/root_src/graf3d/eve/src/TEveElement.cxx:361; /opt/root_src/graf3d/eve/src/TEveFrameBox.cxx:65:40: warning: Value stored to 'p' is never read [clang-analyzer-deadcode.DeadStores]; 1: Value stored to 'p' is never read in /opt/root_src/graf3d/eve/src/TEveFrameBox.cxx:65; /opt/root_src/graf3d/eve/src/TEveFrameBox.cxx:83:40: warning: Value stored to 'p' is never read [clang-analyzer-deadcode.DeadStores]; 1: Value stored to 'p' is never read in /opt/root_src/graf3d/eve/src/TEveFrameBox.cxx:83; /opt/root_src/graf3d/eve/src/TEveGeoNode.cxx:86:11: warning: Called C++ object pointer is null [clang-analyzer-core.CallAndMessage]; ,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7531:4674,release,released,4674,https://root.cern,https://github.com/root-project/root/issues/7531,1,['release'],['released']
Deployability,"vent const*) () at /home/apal/nptool/NPSimulation/lib/libNPSFatima.so; #7 0x00007fc42d774f3d in DetectorConstruction::ReadAllSensitive(G4Event const*) () at /home/apal/nptool/NPSimulation/lib/libNPSCore.so; #8 0x00007fc42d756444 in EventAction::EndOfEventAction(G4Event const*) () at /home/apal/nptool/NPSimulation/lib/libNPSCore.so; #9 0x00007fc42b8aaf23 in G4EventManager::DoProcessing(G4Event*) () at /home/apal/G4/geant4-install/lib/libG4event.so; #10 0x00007fc42d2240f7 in G4RunManager::DoEventLoop(int, char const*, int) () at /home/apal/G4/geant4-install/lib/libG4run.so; #11 0x00007fc42d221d22 in G4RunManager::BeamOn(int, char const*, int) () at /home/apal/G4/geant4-install/lib/libG4run.so; #12 0x00007fc42d23fb27 in G4RunMessenger::SetNewValue(G4UIcommand*, G4String) () at /home/apal/G4/geant4-install/lib/libG4run.so; #13 0x00007fc42d14f35f in G4UIcommand::DoIt(G4String) () at /home/apal/G4/geant4-install/lib/libG4intercoms.so; #14 0x00007fc42d16cc9a in G4UImanager::ApplyCommand(char const*) () at /home/apal/G4/geant4-install/lib/libG4intercoms.so; #15 0x00007fc42d2e28bf in G4VBasicShell::ExecuteCommand(G4String const&) () at /home/apal/G4/geant4-install/lib/libG4interfaces.so; #16 0x00007fc42d2e7afe in G4VBasicShell::ApplyShellCommand(G4String const&, bool&, bool&) () at /home/apal/G4/geant4-install/lib/libG4interfaces.so; #17 0x00007fc42d2daac4 in G4UIQt::ButtonCallback(QString const&) () at /home/apal/G4/geant4-install/lib/libG4interfaces.so; #18 0x00007fc4283cf328 in QMetaObject::activate(QObject*, int, int, void**) () at /usr/lib/x86_64-linux-gnu/libQt5Core.so.5; #19 0x00007fc428f0e3e6 in QAction::triggered(bool) () at /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5; #20 0x00007fc428f10aa2 in QAction::activate(QAction::ActionEvent) () at /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5; #21 0x00007fc42900ae10 in () at /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5; #22 0x00007fc42900b035 in QAbstractButton::mouseReleaseEvent(QMouseEvent*) () at /usr/lib/x86_64-linux-gnu",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11071:1089,install,install,1089,https://root.cern,https://github.com/root-project/root/issues/11071,1,['install'],['install']
Deployability,"via S3-->Davix, the read is working just fine but when opening a file with either CREATE or RECREATE flag I obtain:; ```; root [0] TFile *_file0 = TFile::Open(""s3s://minio-herd.cloud.cnaf.infn.it/dciangot/W0003.root"", ""CREATE""); Info in <parseConfig>: Setting S3 SecretKey and AccessKey. Access Key : dciangot ; Error in <TDavixFile::DavixReadBuffer>: can not read data with davix: Result HTTP 404 : File not found , while readding after 3 attempts (18); Error in <TDavixFile::Init>: s3s://minio-herd.cloud.cnaf.infn.it/dciangot/W0003.root failed to read the file type data.; (TFile *) nullptr; ```; Leaving behind only a file with size 0. ### Expected behavior; I'm actually not sure if this should be expected, but I did expect the file to be created correctly. ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->; - MinIO s3 object storage. - `~/.rootrc` file:; ```; Davix.Debug: 2; Davix.GSI.CACheck: y; Davix.GSI.CAdir: /etc/ssl/certs; Davix.S3.Alternate: y; ```; - and then interactively:; ```; $> S3_ACCESS_KEY=dciangot S3_SECRET_KEY=xxxx root -b; ------------------------------------------------------------------; | Welcome to ROOT 6.24/06 https://root.cern |; | (c) 1995-2021, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built for linuxx8664gcc on Sep 03 2021, 23:37:00 |; | From tag , 1 September 2021 |; | With |; | Try '.help', '.demo', '.license', '.credits', '.quit'/'.q' |; ------------------------------------------------------------------. root [0] TFile *_file0 = TFile::Open(""s3s://minio-herd.cloud.cnaf.infn.it/dciangot/W0003378.root"", ""CREATE""); ```. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->; ROOT 6.24/06; Davix 0.7.6; OS: cc7",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/9584:2333,install,install,2333,https://root.cern,https://github.com/root-project/root/issues/9584,1,['install'],['install']
Deployability,"w/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1088:24: error: expected parameter declarator; template<class T> void atomic_store( shared_ptr<T> * p, shared_ptr<T> r ) BOOST_SP_NOEXCEPT; ^; /Users/krasznaa/ATLAS/sw/projects/externals/build/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:131:75: note: expanded from macro 'atomic_store'; #define atomic_store(object, desired) __c11_atomic_store(object, desired, __ATOMIC_SEQ_CST); ^; <built-in>:16:26: note: expanded from here; #define __ATOMIC_SEQ_CST 5; ^; In file included from libMyLibrary dictionary payload:5:; In file included from ./MyClass.h:6:; In file included from /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_ptr.hpp:17:; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1088:24: error: expected ')'; /Users/krasznaa/ATLAS/sw/projects/externals/build/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:131:75: note: expanded from macro 'atomic_store'; #define atomic_store(object, desired) __c11_atomic_store(object, desired, __ATOMIC_SEQ_CST); ^; <built-in>:16:26: note: expanded from here; #define __ATOMIC_SEQ_CST 5; ^; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1088:24: note: to match this '('; /Users/krasznaa/ATLAS/sw/projects/externals/build/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:131:57: note: expanded from macro 'atomic_store'; #define atomic_store(object, desired) __c11_atomic_store(object, desired, __ATOMIC_SEQ_CST); ^; In file included from libMyLibrary dictionary payload:5:; In file included from ./MyClass.h:6:; In file included from /Users/krasznaa/ATLAS/sw/pro",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6454:6472,Install,InstallArea,6472,https://root.cern,https://github.com/root-project/root/issues/6454,1,['Install'],['InstallArea']
Deployability,"webgui: adjust pad drawable, update jsroot code, missing dictionaries",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1650:29,update,update,29,https://root.cern,https://github.com/root-project/root/pull/1650,1,['update'],['update']
Deployability,webgui: fix RCanvas::Update and RFitPanel examples,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2729:21,Update,Update,21,https://root.cern,https://github.com/root-project/root/pull/2729,1,['Update'],['Update']
Deployability,"webgui: simply ignore Show() in batch, update most of tutorials",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2655:39,update,update,39,https://root.cern,https://github.com/root-project/root/pull/2655,2,['update'],['update']
Deployability,weep.c:308; 23: Taking true branch in /opt/root_src/graf3d/eve7/glu/sweep.c:308; 24: Assuming field 'fixUpperEdge' is 0 in /opt/root_src/graf3d/eve7/glu/sweep.c:309; 25: Taking true branch in /opt/root_src/graf3d/eve7/glu/sweep.c:309; 26: Calling 'FinishRegion' in /opt/root_src/graf3d/eve7/glu/sweep.c:316; 27: Calling 'DeleteRegion' in /opt/root_src/graf3d/eve7/glu/sweep.c:280; 28: Field 'fixUpperEdge' is 0 in /opt/root_src/graf3d/eve7/glu/sweep.c:153; 29: Taking false branch in /opt/root_src/graf3d/eve7/glu/sweep.c:153; 30: Memory is released in /opt/root_src/graf3d/eve7/glu/sweep.c:162; 31: expanded from macro 'memFree' in /opt/root_src/graf3d/eve7/glu/memalloc.h:41; 32: Returning; memory was released via 2nd parameter in /opt/root_src/graf3d/eve7/glu/sweep.c:280; 33: Returning; memory was released via 2nd parameter in /opt/root_src/graf3d/eve7/glu/sweep.c:316; 34: Execution continues on line 336 in /opt/root_src/graf3d/eve7/glu/sweep.c:317; 35: Returning; memory was released via 2nd parameter in /opt/root_src/graf3d/eve7/glu/sweep.c:1105; 36: Assuming 'eTopLeft' is equal to field 'Onext' in /opt/root_src/graf3d/eve7/glu/sweep.c:1112; 37: Taking true branch in /opt/root_src/graf3d/eve7/glu/sweep.c:1112; 38: Calling 'ConnectRightVertex' in /opt/root_src/graf3d/eve7/glu/sweep.c:1114; 39: Use of memory after it is freed in /opt/root_src/graf3d/eve7/glu/sweep.c:885; /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1168:25: warning: Potential leak of memory pointed to by 'sliceVal' [clang-analyzer-cplusplus.NewDeleteLeaks]; 1: Taking true branch in /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1040; 2: Memory is allocated in /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1043; 3: Assuming 'phiBin' is > 'nPhiBins' in /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1046; 4: Loop condition is false. Execution jumps to the end of the function in /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1046; 5: Potential leak of memory pointed to by 'sliceVal' in /opt/root_src/graf3d/eve7/src/REveCalo.cxx:,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7531:30285,release,released,30285,https://root.cern,https://github.com/root-project/root/issues/7531,1,['release'],['released']
Deployability,"weight(""weight"", ""weight"", 0.5, 0.0, 1.0);; auto dataW = std::make_unique<RooDataSet>(""dataW"", ""dataW"", RooArgSet{x, weight}, ""weight"");; for (std::size_t i = 0; i < data->numEntries(); ++i) {; dataW->add(*data->get(i), 0.5); // try weights that are different from unity; }; std::swap(dataW, data); // try to replace the original dataset with weighted dataset; }. std::unique_ptr<RooDataHist> hist{data->binnedClone()};. data->Print();; hist->Print();. // Create template PDF based on data; RooHistPdf histPdf{""histPdf"", ""histPdf"", x, *hist};; RooAddPdf extHistPdf(""extHistPdf"", ""extHistPdf"", histPdf, nEvents);. auto& pdf = extHistPdf;. auto const bm = ""off""; // it should also work work BatchMode(""cpu""). double nllVal01 = RealPtr{pdf.createNLL(*data, BatchMode(bm), Extended(false))}->getVal();; double nllVal02 = RealPtr{pdf.createNLL(*data, BatchMode(bm), Extended(true)) }->getVal();; double nllVal03 = RealPtr{pdf.createNLL(*hist, BatchMode(bm), Extended(false))}->getVal();; double nllVal04 = RealPtr{pdf.createNLL(*hist, BatchMode(bm), Extended(true)) }->getVal();. double nllVal1 = RealPtr{pdf.createNLL(*data, BatchMode(bm), Offset(""bin""), Extended(false))}->getVal();; double nllVal2 = RealPtr{pdf.createNLL(*data, BatchMode(bm), Offset(""bin""), Extended(true)) }->getVal();; double nllVal3 = RealPtr{pdf.createNLL(*hist, BatchMode(bm), Offset(""bin""), Extended(false))}->getVal();; double nllVal4 = RealPtr{pdf.createNLL(*hist, BatchMode(bm), Offset(""bin""), Extended(true)) }->getVal();. // The final unit test should also include the SumW2 option in the test matrix. // For all configurations, the bin offset should have the effect of bringing; // the NLL close to zero:; std::cout << ""Unbinned fit : "" << nllVal01 << "" "" << nllVal1 << std::endl;; std::cout << ""Unbinned ext. fit : "" << nllVal02 << "" "" << nllVal2 << std::endl;; std::cout << ""Binned fit : "" << nllVal03 << "" "" << nllVal3 << std::endl;; std::cout << ""Binned ext. fit : "" << nllVal04 << "" "" << nllVal4 << std::endl;; }; ```",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11965:2492,configurat,configurations,2492,https://root.cern,https://github.com/root-project/root/issues/11965,1,['configurat'],['configurations']
Deployability,"when i want to run root file like root (filename).root this came Warning in <TClass::Init>: no dictionary for class TRootLHEFEvent is available Warning in <TClass::Init>: no dictionary for class TRootWeight is available Warning in <TClass::Init>: no dictionary for class TRootLHEFParticle is available Warning in <TClass::Init>: no dictionary for class TSortableObject is available (TFile *) 0x5614f99a3290 how can i resolve this. - [ ] Checked for duplicates; <!--; Please search in; * [GitHub](https://github.com/root-project/root/issues?q=is%3Aissue); * AND [Jira](https://sft.its.cern.ch/jira/issues/?jql=project %3D ROOT); for existing reports of your issue. If you find one, you are very welcome to add to the existing report, for instance ""issue still exists in today's master"".; -->. ### Describe the bug; <!--; A clear and concise description of what the wrong behavior is.; -->. ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->. ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->. ### Additional context; <!--; Add any other context about the problem here.; -->",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/9123:1365,install,install,1365,https://root.cern,https://github.com/root-project/root/issues/9123,1,['install'],['install']
Deployability,which is `root/net/net/src/TNetFile.cxx:19:29: warning: '/*' within block comment [-Wcomment]` on clang on macos 13.5.1. # This Pull request:. ## Changes or fixes:. ## Checklist:. - [ ] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13649:216,update,updated,216,https://root.cern,https://github.com/root-project/root/pull/13649,1,['update'],['updated']
Deployability,"wing code to set up the generation of dictionary source files:. https://gitlab.cern.ch/atlas/atlasexternals/-/blob/master/Build/AtlasCMake/modules/AtlasDictionaryFunctions.cmake. And that provides a much better behaviour. Mainly because in ATLAS's setup dictionary generations do not need to wait for anything. Even if the library that a dictionary is being produced for depends on a number of upstream libraries, the dictionary for that library can be generated before all the upstream libraries would have finished building. In practice this actually means that the start of any ATLAS software build is dominated by running dictionary generation. As GNU Make and Ninja both prefer running those build steps first. (As they do not have any dependencies themselves.). The reason I blame the dictionary generation code is that regular C(\+\+) code building with Ninja scales very well to many cores. Even when one has many small libraries in a project, Ninja can start the build of object files before all of the libraries that they depend on would've finished building. (In ATLAS's offline software the very end of a build is taken up purely by library/executable linking steps.). ## To Reproduce. Unfortunately you need a pretty powerful machine to do so... But once you do, just do something similar to what I did:. ```; cmake -G Ninja -DCMAKE_BUILD_TYPE=Release -DCMAKE_CXX_STANDARD=17 \; -Dall=ON -Dbuiltin_gsl=ON -Dbuiltin_freetype=ON -Dbuiltin_lzma=ON -Dbuiltin_veccore=ON \; -DXROOTD_ROOT_DIR=~/software/xrootd/4.12.2/x86_64-ubuntu2004-gcc9-opt \; -DTBB_ROOT_DIR=~/software/oneTBB/2020.2/x86_64-ubuntu2004-gcc9-opt \; -DCMAKE_INSTALL_PREFIX=~/software/root/6.20.08/x86_64-ubuntu2004-gcc9-opt ../root-6.20.08/; ninja; ```. ## Setup. As mentioned earlier, I used ROOT 6.20/08 for this particular test. But the behaviour has been like this since forever. I performed the build on Ubuntu 20.04 with GCC 9, but that should make little difference to the overall behaviour. ## Additional context. N/A",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6432:2857,Release,Release,2857,https://root.cern,https://github.com/root-project/root/issues/6432,1,['Release'],['Release']
Deployability,"work:. ```cpp; #ifndef TWOINTS; #define TWOINTS; struct TwoInts {; int a, b;; };; #endif; ```. ```cpp; #include <ROOT/RDataFrame.hxx>; #include <TError.h>; #include <TInterpreter.h>; #include <TKey.h>. #include ""TwoInts.h"". int main() {; gInterpreter->GenerateDictionary(""TwoInts;ROOT::VecOps::RVec<TwoInts>"",; ""ROOT/RVec.hxx;TwoInts.h"");. TFile f(""f.root"", ""recreate"");; auto *cl = TClass::GetClass(""ROOT::VecOps::RVec<TwoInts>"");; R__ASSERT(cl != nullptr);; ROOT::RVec<TwoInts> v{{1, 2}, {3, 4}};; f.WriteObjectAny(&v, cl, ""v"");; f.Close();; TFile in_f(""f.root"");; auto *k = in_f.GetKey(""v"");; auto *obj = static_cast<ROOT::RVec<TwoInts> *>(k->ReadObjectAny(cl));; R__ASSERT(obj != nullptr);; auto &in_v = *obj;; R__ASSERT(in_v[0].a == 1 && in_v[0].b == 2 && in_v[1].a == 3 &&; in_v[1].b == 4);. return 0;; }; ```. But instead produces:. ```; g++ -g -Wall -Wextra -Wpedantic -o ""repro"" ""repro.cpp"" $(root-config --cflags --libs); ~/S/w/rootcling_rvec ./repro; /home/blue/Scratchpad/work/rootcling_rvec/AutoDict_TwoInts_2251615068_cxx_ACLiC_dict.cxx:55:61: error: expected ‘)’ before ‘::’ token; 55 | static TGenericClassInfo *GenerateInitInstanceLocal(const ::*); | ~ ^~~; | ); ```. because the autogenerated dictionary code is broken (see the invalid `(const ::*)`. ### Setup; <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->. ROOT master @ 9f1902c1 .; I would not even attempt this with v6.24 or earlier because I/O of RVecs is not well-supported there. . ### Additional context; <!--; Add any other context about the problem here.; -->. https://github.com/root-project/root/blob/9f1902c1d898ec615244f547c0683d0f10820da8/core/metacling/src/TCling.cxx#L742-L745. This is definitely part of the problem: RVec should be treated like an STL class. Axel also pointed out the suspicious:. https://github.com/root-project/root/blob/9f1902c1d898ec615244f547c0683d0f10820da8/core/metacling/src/TCling.cxx#L786-L796",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7708:1857,install,install,1857,https://root.cern,https://github.com/root-project/root/issues/7708,1,['install'],['install']
Deployability,"x00007fc428f761ec in () at /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5; #32 0x00007fc428f14a66 in QApplicationPrivate::notify_helper(QObject*, QEvent*) () at /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5; #33 0x00007fc428f1e0f0 in QApplication::notify(QObject*, QEvent*) () at /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5; #34 0x00007fc4283a380a in QCoreApplication::notifyInternal2(QObject*, QEvent*) () at /usr/lib/x86_64-linux-gnu/libQt5Core.so.5; #35 0x00007fc42878c7d3 in QGuiApplicationPrivate::processMouseEvent(QWindowSystemInterfacePrivate::MouseEvent*) () at /usr/lib/x86_64-linux-gnu/libQt5Gui.so.5; #36 0x00007fc42878e10b in QGuiApplicationPrivate::processWindowSystemEvent(QWindowSystemInterfacePrivate::WindowSystemEvent*) () at /usr/lib/x86_64-linux-gnu/libQt5Gui.so.5; #37 0x00007fc42876835b in QWindowSystemInterface::sendWindowSystemEvents(QFlags<QEventLoop::ProcessEventsFlag>) () at /usr/lib/x86_64-linux-gnu/libQt5Gui.so.5; #38 0x00007fc4121c732e in () at /usr/lib/x86_64-linux-gnu/libQt5XcbQpa.so.5; #39 0x00007fc4269c117d in g_main_context_dispatch () at /usr/lib/x86_64-linux-gnu/libglib-2.0.so.0; #40 0x00007fc4269c1400 in () at /usr/lib/x86_64-linux-gnu/libglib-2.0.so.0; #41 0x00007fc4269c14a3 in g_main_context_iteration () at /usr/lib/x86_64-linux-gnu/libglib-2.0.so.0; #42 0x00007fc4283fb435 in QEventDispatcherGlib::processEvents(QFlags<QEventLoop::ProcessEventsFlag>) () at /usr/lib/x86_64-linux-gnu/libQt5Core.so.5; #43 0x00007fc4283a23ab in QEventLoop::exec(QFlags<QEventLoop::ProcessEventsFlag>) () at /usr/lib/x86_64-linux-gnu/libQt5Core.so.5; #44 0x00007fc4283aa116 in QCoreApplication::exec() () at /usr/lib/x86_64-linux-gnu/libQt5Core.so.5; #45 0x00007fc42d2d32ad in G4UIQt::SessionStart() () at /home/apal/G4/geant4-install/lib/libG4interfaces.so; #46 0x00005623027898e4 in main (); ===========================================================. WARNING - Attempt to delete the physical volume store while geometry closed !; Segmentation fault (core dumped). ```",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11071:4825,install,install,4825,https://root.cern,https://github.com/root-project/root/issues/11071,1,['install'],['install']
Deployability,x:134; 11: 'test' is <= 1 in /opt/root_src/main/src/xpdtest.cxx:134; 12: Taking false branch in /opt/root_src/main/src/xpdtest.cxx:134; 13: Calling default constructor for 'TUrl' in /opt/root_src/main/src/xpdtest.cxx:146; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Assuming the condition is false in /opt/root_src/io/io/src/TFile.cxx:3794; 2: Taking false branch in /opt/root_src/io/io/src/TFile.cxx:3794; 3: Calling default constructor for 'TUrl' in /opt/root_src/io/io/src/TFile.cxx:3801; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Control jumps to 'case 166:' at line 313 in /opt/root_src/io/io/src/TStreamerInfoReadBuffer.cxx:194; 2: Calling default constructor for 'TObject' in /opt/root_src/io/io/src/TStreamerInfoReadBuffer.cxx:314; 3: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 4: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 5: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Taking false branch in /opt/root_src/math/matrix/src/TMatrixDEigen.cxx:59; 2: expanded from macro 'R__ASSERT' in /opt/root_src/core/foundation/inc/TError.h:120; 3: Loop condition is false. Exiting loop in /opt/root_src/math/matrix/src/TMatrixDEigen.cxx:59; 4: expanded from macro 'R__ASSERT' in /opt/root_src/core/foundation/inc/TError.h:119; 5: Assuming 'nRows' is equal to 'nCols' in /opt/root_src/math/matrix/src/TMatrixDEigen.cxx:66; 6: Left side of '||' is false in /opt/root_src/math/matrix/src/TMatrixDEigen.cxx:66; 7: Assuming 'rowLwb' is equal to 'colLwb' in /opt/root_src/math/matrix/src/TMatrixDEige,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:37274,Update,UpdateIsOnHeap,37274,https://root.cern,https://github.com/root-project/root/issues/7412,1,['Update'],['UpdateIsOnHeap']
Deployability,"xe65a20, obj=0xee3bc0) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/cont/src/THashTable.cxx:96; #16 0x00007ffff7be6bf1 in THashList::AddLast (this=this@entry=0x5be690, obj=obj@entry=0xee3bc0) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/cont/src/THashList.cxx:100; #17 0x00007ffff7c4e0d1 in TListOfDataMembers::AddLast (this=0x5be690, obj=0xee3bc0) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/meta/src/TListOfDataMembers.cxx:103; #18 0x00007ffff7ab8785 in TList::Add (obj=0xee3bc0, this=0x5be690) at /home/pcanal/root_builds/v6-14-00-patches/opt/include/TList.h:87; #19 TROOT::GetListOfGlobals (this=0x7ffff7da7a60 <ROOT::Internal::GetROOT1()::alloc>, load=load@entry=false) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/base/src/TROOT.cxx:1767; #20 0x00007fffeeab1058 in TCling::HandleNewDecl (this=0x4a0550, DV=0xedf238, isDeserialized=isDeserialized@entry=true, modifiedTClasses=...) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/metacling/src/TCling.cxx:555; #21 0x00007fffeeabb785 in TCling::UpdateListsOnCommitted (this=0x4a0550, T=...) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/core/metacling/src/TCling.cxx:6115; #22 0x00007fffeebd0103 in cling::MultiplexInterpreterCallbacks::TransactionCommitted (this=0x57fe20, T=...) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/interpreter/cling/lib/Interpreter/MultiplexInterpreterCallbacks.h:76; #23 0x00007fffeed05d71 in cling::IncrementalParser::commitTransaction (this=0x4a2980, PRT=..., ClearDiagClient=true) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/interpreter/cling/lib/Interpreter/IncrementalParser.cpp:532; #24 0x00007fffeed06399 in cling::IncrementalParser::Compile (this=0x4a2980, input=..., Opts=...) at /local2/pcanal/cint_working/rootcling/v6-14-00-patches/interpreter/cling/lib/Interpreter/IncrementalParser.cpp:663; #25 0x00007fffeebcbc4e in cling::Interpreter::DeclareInternal (this=0x4a0f30, input=..",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2776:6558,patch,patches,6558,https://root.cern,https://github.com/root-project/root/pull/2776,2,['patch'],['patches']
Deployability,xrdcp CLI tools should be installed or disabled,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7441:26,install,installed,26,https://root.cern,https://github.com/root-project/root/issues/7441,1,['install'],['installed']
Deployability,"xy RooExpPoly::_coefList’? (not accessible from this context); 456 | for (const auto &coef : pdf->coefList()) {; | ^~~~~~~~; /opt/root/install/include/RooExpPoly.h:38:17: note: declared protected here; 38 | RooListProxy _coefList;; | ^~~~~~~~~; make[2]: *** [roofit/hs3/CMakeFiles/RooFitHS3.dir/build.make:132: roofit/hs3/CMakeFiles/RooFitHS3.dir/src/JSONFactories_RooFitCore.cxx.o] Error 1; ```. Tried to change method names to those with underscores, got another error about a protected field:. ```; /opt/root/src/roofit/hs3/src/JSONFactories_RooFitCore.cxx: In member function ‘virtual bool {anonymous}::RooExpPolyStreamer::exportObject(RooJSONFactoryWSTool*, const RooAbsArg*, RooFit::Detail::JSONNode&) const’:; /opt/root/src/roofit/hs3/src/JSONFactories_RooFitCore.cxx:448:25: error: ‘RooRealProxy RooExpPoly::_x’ is protected within this context; 448 | elem[""x""] << pdf->_x().GetName();; | ^~; In file included from /opt/root/src/roofit/hs3/src/JSONFactories_RooFitCore.cxx:20:; /opt/root/install/include/RooExpPoly.h:37:17: note: declared protected here; 37 | RooRealProxy _x;; | ^~; /opt/root/src/roofit/hs3/src/JSONFactories_RooFitCore.cxx:448:27: error: no match for call to ‘(const RooRealProxy {aka const RooTemplateProxy<RooAbsReal>}) ()’; 448 | elem[""x""] << pdf->_x().GetName();; | ~~~~~~~^~; /opt/root/src/roofit/hs3/src/JSONFactories_RooFitCore.cxx:453:32: error: ‘int RooExpPoly::_lowestOrder’ is protected within this context; 453 | for (int i = 0; i < pdf->_lowestOrder(); ++i) {; | ^~~~~~~~~~~~; /opt/root/install/include/RooExpPoly.h:39:8: note: declared protected here; 39 | int _lowestOrder;; | ^~~~~~~~~~~~; /opt/root/src/roofit/hs3/src/JSONFactories_RooFitCore.cxx:453:44: error: expression cannot be used as a function; 453 | for (int i = 0; i < pdf->_lowestOrder(); ++i) {; | ~~~~~~~~~~~~~~~~~^~; /opt/root/src/roofit/hs3/src/JSONFactories_RooFitCore.cxx:456:36: error: ‘RooListProxy RooExpPoly::_coefList’ is protected within this context; 456 | for (const auto &coef : p",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13101:2324,install,install,2324,https://root.cern,https://github.com/root-project/root/issues/13101,1,['install'],['install']
Deployability,"y.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/stl_iterator_base_types.h:67:11: note: submodule of top-level module 'std' implicitly imported here; # include <type_traits> // For __void_t, is_convertible; ^; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/ext/type_traits.h:35:10: note: submodule of top-level module 'std' implicitly imported here; #include <bits/cpp_type_traits.h>; ^; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/move.h:57:10: note: submodule of top-level module 'std' implicitly imported here; #include <type_traits> // Brings in std::declval too.; ^; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/include/Rtypes.h:195:; /home/razorr/Softwares/Installed/HEP/Root/build/etc/cling/std.modulemap:442:12: error: header 'bits/utility.h' not found; header ""bits/utility.h""; ^; /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../include/c++/11.2.0/bits/stl_iterator.h:70:11: note: submodule of top-level module 'std' implicitly imported here; # include <type_traits>; ^; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /home/razorr/Softwares/Installed/HEP/Root/build/",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10528:27018,Install,Installed,27018,https://root.cern,https://github.com/root-project/root/issues/10528,1,['Install'],['Installed']
Deployability,yer.cxx:4830; 3: Assuming the condition is false in /opt/root_src/proof/proofplayer/src/TProofPlayer.cxx:4842; 4: Loop condition is false. Execution continues on line 4865 in /opt/root_src/proof/proofplayer/src/TProofPlayer.cxx:4842; 5: 'nerti' is <= 0 in /opt/root_src/proof/proofplayer/src/TProofPlayer.cxx:4865; 6: '?' condition is false in /opt/root_src/proof/proofplayer/src/TProofPlayer.cxx:4865; 7: 'nsrti' is <= 0 in /opt/root_src/proof/proofplayer/src/TProofPlayer.cxx:4866; 8: '?' condition is false in /opt/root_src/proof/proofplayer/src/TProofPlayer.cxx:4866; 9: Assuming the condition is true in /opt/root_src/proof/proofplayer/src/TProofPlayer.cxx:4869; 10: Taking true branch in /opt/root_src/proof/proofplayer/src/TProofPlayer.cxx:4869; 11: Calling default constructor for 'TProofProgressInfo' in /opt/root_src/proof/proofplayer/src/TProofPlayer.cxx:4871; 12: Calling default constructor for 'TObject' in /opt/root_src/proof/proof/inc/TProof.h:173; 13: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 14: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 15: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Calling constructor for 'RooCmdConfig' in /opt/root_src/roofit/roofitcore/src/RooCmdConfig.cxx:899; 2: Calling default constructor for 'TObject' in /opt/root_src/roofit/roofitcore/src/RooCmdConfig.cxx:58; 3: Calling 'TStorage::UpdateIsOnHeap' in /opt/root_src/core/base/inc/TObject.h:245; 4: Calling 'TStorage::FilledByObjectAlloc' in /opt/root_src/core/base/inc/TStorage.h:132; 5: The left operand of '==' is a garbage value in /opt/root_src/core/base/inc/TStorage.h:119; /opt/root_src/core/base/inc/TStorage.h:119:19: warning: The left operand of '==' is a garbage value [clang-analyzer-core.UndefinedBinary,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:67105,Update,UpdateIsOnHeap,67105,https://root.cern,https://github.com/root-project/root/issues/7412,1,['Update'],['UpdateIsOnHeap']
Deployability,"yload:5:; In file included from ./MyClass.h:6:; In file included from /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_ptr.hpp:17:; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1088:24: error: expected parameter declarator; template<class T> void atomic_store( shared_ptr<T> * p, shared_ptr<T> r ) BOOST_SP_NOEXCEPT; ^; /Users/krasznaa/ATLAS/sw/projects/externals/build/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:131:75: note: expanded from macro 'atomic_store'; #define atomic_store(object, desired) __c11_atomic_store(object, desired, __ATOMIC_SEQ_CST); ^; <built-in>:16:26: note: expanded from here; #define __ATOMIC_SEQ_CST 5; ^; In file included from libMyLibrary dictionary payload:5:; In file included from ./MyClass.h:6:; In file included from /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/shared_ptr.hpp:17:; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1088:24: error: expected ')'; /Users/krasznaa/ATLAS/sw/projects/externals/build/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:131:75: note: expanded from macro 'atomic_store'; #define atomic_store(object, desired) __c11_atomic_store(object, desired, __ATOMIC_SEQ_CST); ^; <built-in>:16:26: note: expanded from here; #define __ATOMIC_SEQ_CST 5; ^; /Users/krasznaa/ATLAS/sw/projects/externals/install/AnalysisBaseExternals/22.0.0/InstallArea/x86_64-mac1015-clang12-opt/include/boost/smart_ptr/shared_ptr.hpp:1088:24: note: to match this '('; /Users/krasznaa/ATLAS/sw/projects/externals/build/src/ROOT-build/etc/cling/lib/clang/5.0.0/include/stdatomic.h:131:57: note: expanded from macro 'atomic_stor",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6454:6281,install,install,6281,https://root.cern,https://github.com/root-project/root/issues/6454,1,['install'],['install']
Deployability,"ysdeps/posix/system.c:149; #2 0x00007f0765354577 in TUnixSystem::Exec (shellcmd=<optimized out>, this=0x55935a0857c0) at /home/yasmin/root/root-6.12.06/core/unix/src/TUnixSystem.cxx:2118; #3 TUnixSystem::StackTrace (this=0x55935a0857c0) at /home/yasmin/root/root-6.12.06/core/unix/src/TUnixSystem.cxx:2412; #4 0x00007f0765356c9c in TUnixSystem::DispatchSignals (this=0x55935a0857c0, sig=kSigSegmentationViolation) at /home/yasmin/root/root-6.12.06/core/unix/src/TUnixSystem.cxx:3643; #5 <signal handler called>; #6 0x00007f0761bb4118 in G4RToEConvForGamma::BuildAbsorptionLengthVector(G4Material const*, G4PhysicsLogVector*) () from /home/yasmin/CERN/geant4.10.03.p03-install/lib/libG4processes.so; #7 0x00007f0761bb6c3f in G4VRangeToEnergyConverter::Convert(double, G4Material const*) () from /home/yasmin/CERN/geant4.10.03.p03-install/lib/libG4processes.so; #8 0x00007f0761bb0bee in G4ProductionCutsTable::UpdateCoupleTable(G4VPhysicalVolume*) () from /home/yasmin/CERN/geant4.10.03.p03-install/lib/libG4processes.so; #9 0x00007f0763b9c5e2 in G4RunManagerKernel::RunInitialization(bool) () from /home/yasmin/CERN/geant4.10.03.p03-install/lib/libG4run.so; #10 0x00007f0763b8b3f7 in G4RunManager::RunInitialization() () from /home/yasmin/CERN/geant4.10.03.p03-install/lib/libG4run.so; #11 0x00007f0763b852c6 in G4RunManager::BeamOn(int, char const*, int) () from /home/yasmin/CERN/geant4.10.03.p03-install/lib/libG4run.so; #12 0x00007f0763b921fb in G4MTRunManager::Initialize() () from /home/yasmin/CERN/geant4.10.03.p03-install/lib/libG4run.so; #13 0x0000559358750187 in main (); ===========================================================. The lines below might hint at the cause of the crash.; You may get help by asking at the ROOT forum http://root.cern.ch/forum.; Only if you are really convinced it is a bug in ROOT then please submit a; report at http://root.cern.ch/bugs. Please post the ENTIRE stack trace; from above as an attachment in addition to anything else; that might help us fixing ",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/9952:1913,install,install,1913,https://root.cern,https://github.com/root-project/root/issues/9952,1,['install'],['install']
Deployability,"}, {EColumnType::kIndex32}},; | ^~~~~~~~; | kIndex32; /opt/root/src/tree/dataframe/src/RNTupleDS.cxx:79:12: error: no matching function for call to ‘ROOT::Experimental::Detail::RFieldBase::RColumnRepresentations::RColumnRepresentations(<brace-enclosed initializer list>, <brace-enclosed initializer list>)’; 79 | {});; | ^; In file included from /opt/root/src/tree/dataframe/src/RNTupleDS.cxx:19:; /opt/root/install/include/ROOT/RField.hxx:111:7: note: candidate: ‘ROOT::Experimental::Detail::RFieldBase::RColumnRepresentations::RColumnRepresentations(const TypesList_t&, const TypesList_t&)’; 111 | RColumnRepresentations(const TypesList_t &serializationTypes, const TypesList_t &deserializationExtraTypes);; | ^~~~~~~~~~~~~~~~~~~~~~; /opt/root/install/include/ROOT/RField.hxx:111:49: note: no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const ROOT::Experimental::Detail::RFieldBase::RColumnRepresentations::TypesList_t&’ {aka ‘const std::vector<std::vector<ROOT::Experimental::EColumnType> >&’}; 111 | RColumnRepresentations(const TypesList_t &serializationTypes, const TypesList_t &deserializationExtraTypes);; | ~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~; /opt/root/install/include/ROOT/RField.hxx:110:7: note: candidate: ‘ROOT::Experimental::Detail::RFieldBase::RColumnRepresentations::RColumnRepresentations()’; 110 | RColumnRepresentations();; | ^~~~~~~~~~~~~~~~~~~~~~; /opt/root/install/include/ROOT/RField.hxx:110:7: note: candidate expects 0 arguments, 2 provided; /opt/root/install/include/ROOT/RField.hxx:107:10: note: candidate: ‘ROOT::Experimental::Detail::RFieldBase::RColumnRepresentations::RColumnRepresentations(const ROOT::Experimental::Detail::RFieldBase::RColumnRepresentations&)’; 107 | class RColumnRepresentations {; | ^~~~~~~~~~~~~~~~~~~~~~; /opt/root/install/include/ROOT/RField.hxx:107:10: note: candidate expects 1 argument, 2 provided; /opt/root/install/include/ROOT/RField.hxx:107:10: note: candidate: ‘ROOT::Experimental::Detail::RFieldBase:",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13103:2115,install,install,2115,https://root.cern,https://github.com/root-project/root/issues/13103,1,['install'],['install']
Deployability,"~~~~~~~^; /Users/marcomeyer/Software/root/build/etc/cling/Interpreter/RuntimeUniverse.h:27:10: fatal error: could not build module 'Cling_Runtime_Extra'; #include ""cling/Interpreter/Visibility.h""; ~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~; While building module 'Core':; While building module 'ROOT_Rtypes' imported from /Users/marcomeyer/Software/root/build/include/Rtypes.h:23:; In file included from <module-includes>:1:; /Users/marcomeyer/Software/root/build/include/RtypesCore.h:28:10: fatal error: could not build module 'std'; #include <cstddef> // size_t, NULL; ~~~~~~~~^; In file included from input_line_3:2:; /Users/marcomeyer/Software/root/build/include/Rtypes.h:23:10: fatal error: could not build module 'ROOT_Rtypes'; #include ""RtypesCore.h""; ~~~~~~~~^~~~~~~~~~~~~~; While building module 'Core':; While building module 'ROOT_Foundation_C' imported from /Users/marcomeyer/Software/root/build/include/Rtypes.h:29:; In file included from <module-includes>:1:; /Users/marcomeyer/Software/root/build/include/ThreadLocalStorage.h:60:10: fatal error: could not build module 'ROOT_Rtypes'; #include ""RtypesCore.h""; ~~~~~~~~^~~~~~~~~~~~~~; While building module 'Core':; While building module 'ROOT_Foundation_Stage1_NoRTTI' imported from /Users/marcomeyer/Software/root/build/include/Rtypes.h:195:; In file included from <module-includes>:2:; /Users/marcomeyer/Software/root/build/include/ROOT/RStringView.hxx:25:10: fatal error: could not build module 'std'; #include <string_view>; ~~~~~~~~^; Error: Error loading the default rootcling header files.; make[2]: *** [core/G__Core.cxx] Error 1; make[1]: *** [core/CMakeFiles/G__Core.dir/all] Error 2; make: *** [all] Error 2. ```. ### Reproducer. ```; cmake ../src -DCMAKE_INSTALL_PREFIX=$SOFTWARE/root/20240113 -Dimt=ON -Dbuiltin_glew=ON -Dmathmore=ON -DCMAKE_CXX_STANDARD=17; make -j10; ```. ### ROOT version. ROOT Version 6.26.10. ### Installation method. build from source. ### Operating system. macOS. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14337:28115,Install,Installation,28115,https://root.cern,https://github.com/root-project/root/issues/14337,1,['Install'],['Installation']
Deployability,"… IncrementalExecutor. This patch contains two functionality:; 1. Autoloading of dynamic symbols for system headers; There is three kind of symbols in shared object file, which is 1; normal symbols, 2 dynamic symbols, and 3 hidden visibility symbols.; Linker doesn't care about 3, but should take care (of course) 1 and; 2. For system headers, often symbols are defined in .dynsym section; which means they are 2 dynamic symbols. This patch adds support of; autoloading those symbols. We fallback to resolving dynamic symbols; from system headers only if we couldn't resolve from normal symbol; table, as the initialization of header search is expensive (iterating; through all system headers); 2. Register callback from IncrementalExecutor; Previously, LazyFunctionCreatorAutoload was getting callback only; from DynamicLibraryManager::loadLibrary. This was enough for fixing; tests, but is insufficient to handle ""symbol <something> unresolved; while linking function"" errors as those errors are emitted from; IncrementalExecutor. Adding a callback from IncrementalExecutor; enables us to unresolved symbols. It fixes these kind of errors:; `IncrementalExecutor::executeFunction: symbol '_ZN7TCanvasC1EPKcS1_iiii' unresolved while linking function '_GLOBAL__sub_I_cling_module_8'!`",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3017:28,patch,patch,28,https://root.cern,https://github.com/root-project/root/pull/3017,2,['patch'],['patch']
Deployability,"… Windows. This was breaking the Windows build with the following error:; ```; [2020-10-08T10:19:28.238Z] axis.obj : fatal error LNK1179: invalid or corrupt file: duplicate COMDAT '??$?8DU?$char_traits@D@std@@@__ROOT@experimental@std@@YA_NV?$basic_string_view@DU?$char_traits@D@std@@@012@0@Z' [C:\build\workspace\root-pullrequests-build\build\hist\histv7\test\histhistv7testUnit.vcxproj]; ```; On Windows (well, multi-configuration generators) we need to change those flags in different places, hence we must not have `CACHE` and `FORCE`.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6591:418,configurat,configuration,418,https://root.cern,https://github.com/root-project/root/pull/6591,1,['configurat'],['configuration']
Deployability,… case. Thanks @Axel-Naumann !. This fixes the performance issues for millions of request to the type system from cppyy if the type is for example a `std::vector<int>`. Waiting for response of Wim for integration in the official cppyy-clingwrapper repo.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3515:201,integrat,integration,201,https://root.cern,https://github.com/root-project/root/pull/3515,1,['integrat'],['integration']
Deployability,"… enum. Extend root-project/root@c14934ec983 to support the case where the enum is deserialized from a module and the currently parsed enum comes from an annotated forward declaration. This patch should allow enabling the cmssw DataFormats/PatCandidates module which currently complains with:. ```; scripts/edmCheckClassVersion -l libCondFormatsL1TObjects.so -x CondFormats/L1TObjects/src/classes_def.xml; DataFormatsL1GlobalTrigger_xr dictionary forward declarations' payload:9:216: error: enumeration previously declared with nonfixed underlying type; ...__attribute__((annotate(""$clingAutoload$DataFormats/L1GlobalTrigger/interface/L1GlobalTriggerReadoutRecord.h""))) L1GtObject : unsigned int;; ^; DataFormats/L1GlobalTrigger/interface/L1GtObject.h:28:6: note: previous declaration is here; enum L1GtObject {; ^; ```. cc: @smuzaffar, @davidlange6, @oshadura.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4985:190,patch,patch,190,https://root.cern,https://github.com/root-project/root/pull/4985,1,['patch'],['patch']
Deployability,"… scope multiple times. Without this patch for Name<Content>::Inner, MakeProject was using Name<Content,::Inner>::Inner.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3532:37,patch,patch,37,https://root.cern,https://github.com/root-project/root/pull/3532,1,['patch'],['patch']
Deployability,"… separate files containing different volumes. (Markus Frank). This patch provides the method TGDMLWrite::WriteGDMLfile allowing to write the gdml corresponding to a volume hierarchy (like a detector). A geometry can be therefore exported in pieces, and the gdml parser was modified to avoid duplication of materials and other components upon reading.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1434:68,patch,patch,68,https://root.cern,https://github.com/root-project/root/pull/1434,1,['patch'],['patch']
Deployability,"… tutorials. # This Pull request: df001_Introduction tutorial. ## Changes or fixes:. The explanation of the actions in the part ""Operations on dataframe"" using ForEach() and TActionResultPtr<T> does not match with the RDataFrame Reference guide and is hence outdated. Now there is an updated text. Also, a few grammar mistakes are now corrected for. ## Checklist:. - [ ] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11005:284,update,updated,284,https://root.cern,https://github.com/root-project/root/pull/11005,2,['update'],['updated']
Deployability,"… with ROOT Mutex on. Compiling Interpreter.cpp allows RunFunction and friends to be actually seen during stack unwind after an; exception has been thrown, directly or indirectly, by interpreter code. This allows for the RAII objects to be; properly tear down. In particular, without this patch, EnterUserCodeRAII was not tear down and thus the callbacks were not executed.; Consequently the ""Restore the ROOT global Mutex"" callback was not executed leaving the Mutex in an invalid state. In case of ART application, in most cases, they customize the ROOT error handler to throw an exception. This; resulted (without this fix) in crash when import a GDML file with an error in it. In practice what we have is:. call to TGeo Import; which calls the interpreter for some of its functionality; which calls gdml code; which reports an error; which leads the error handler to thrown an exception.; ... some of the stack are properly unwound ... some are not (because they were not compiled with exception support on) ....; ... so the ROOT Mutex goes into an incorrect state ...; ... unwinding continues; ... unwinding reached a frame that Unlock the mutex; Mutex notices it is an incorrect state.; so it reports the Error; the Error handler throw an exception ....... and because this exception is being thrown during the unwind, it is fatal.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4871:289,patch,patch,289,https://root.cern,https://github.com/root-project/root/pull/4871,2,['patch'],['patch']
Deployability,"…/cling version"". clang.git patch id: c46d940",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/716:28,patch,patch,28,https://root.cern,https://github.com/root-project/root/pull/716,1,['patch'],['patch']
Deployability,"…900). * Fix generation of G__NetxNG.cxx in paths with special characters. Fix generation of `G__NetxNG.cxx` in paths with special characters, as described on the forum:; https://root-forum.cern.ch/t/6-26-04-build-error-in-debian-bullseye/50412. * Update cmake/modules/RootMacros.cmake. Co-authored-by: Axel Naumann <Axel.Naumann@cern.ch>. Co-authored-by: Axel Naumann <Axel.Naumann@cern.ch>",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10903:248,Update,Update,248,https://root.cern,https://github.com/root-project/root/pull/10903,1,['Update'],['Update']
Deployability,"…: do not validate arch.'. This patch was fixing https://sft.its.cern.ch/jira/browse/ROOT-6966 and real solution was deployed later on cling side, allowing to load target options and etc. from PCH in CIFactory.cpp.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1796:32,patch,patch,32,https://root.cern,https://github.com/root-project/root/pull/1796,2,"['deploy', 'patch']","['deployed', 'patch']"
Deployability,…OT-9344). This patch provides a fix for ROOT-9344. Support for the spurious way to pass; the tree name in the url as '/tree_name' is limited to cases where the substring; '.root' is contained in the file name but not in the tree name. Updates the infile documentation with deprecation for the old practice.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2002:16,patch,patch,16,https://root.cern,https://github.com/root-project/root/pull/2002,2,"['Update', 'patch']","['Updates', 'patch']"
Deployability,"…StreamerInfo should the same as in TFile).; It is looks like it is old code that breaks reading files by older ROOT releases, which were written by 6.13/02 and directly defined compression algorithm for the files (ZLIB or any other except of default LZ4).",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2078:117,release,releases,117,https://root.cern,https://github.com/root-project/root/pull/2078,1,['release'],['releases']
Deployability,…a.so. This should fix the failing roottest-root-html-runMakeIndex on OSX with; -Druntime_cxxmodules=On. Patch by Alexander Penev (@alexander-penev)!,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4812:105,Patch,Patch,105,https://root.cern,https://github.com/root-project/root/pull/4812,1,['Patch'],['Patch']
Deployability,"…alizing. When we deserialize a function with noexcept(constant_expression) qualifier the; constant_expression itself might trigger deserialization. Triggering nested; deserializations is not supported in clang. Currently we just removed the assert but this shows problems when we go to; higher version of stl's (such as the one in ubuntu19) which more heavily; rely on constexpr. We segfault in cases where we do equivalent of:; ```; cling::Interpreter *interp = ((TCling*)gCling)->GetInterpreterImpl();; auto& lh = interp->getLookupHelper();; auto diag = cling::LookupHelper::WithDiagnostics;; auto S = lh.findScope(""ROOT::Internal::RDF"", diag);; lh.findAnyFunction(S, ""RDataFrameTake<float>"", diag);; lh.findAnyFunction(S, ""RDataFrameTake<std::vector<float>>"", diag);; ```. This patch delays the unsafe computation of type of the deserialized function; and thus the evaluation of the exception qualifier. This should fix the failing; pyunittests-pyroot-rdataframe-asnumpy nightly on ubuntu 19. The red pill is applying llvm-mirror/clang@5d50602a8de220e1f0bbdd136e9a7be21a1b63c0. This will happen after releasing v6.20.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4656:782,patch,patch,782,https://root.cern,https://github.com/root-project/root/pull/4656,1,['patch'],['patch']
Deployability,…allow 'out of the box' correct source. Checking only for the existance of 'CMakeFiles' without including; ROOTSYS in the path was causing the addition of wrong paths in case of; out-of-the-box source. This also need to go in 6.20 release branch.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4779:231,release,release,231,https://root.cern,https://github.com/root-project/root/pull/4779,1,['release'],['release']
Deployability,…antities() (#11115). cherry-picked from cd992545ae. # This Pull request:. ## Changes or fixes:. ## Checklist:. - [ ] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11141:148,update,updated,148,https://root.cern,https://github.com/root-project/root/pull/11141,1,['update'],['updated']
Deployability,…argets. ROOT builds cling and then moves a set of headers under the semi-private $ROOTSYS/etc/cling. This poses an issue -- the set of proper cling dependencies seem not enough to propagate that information to rootcling for example. Instead of adding LLVMRES to rootcling (as it is the case for rootcling_stage1) add the dependency to something more fundamental such as ClingUtils. This will propagate it transitively to all parties without having to specify the sort-of internal LLVMRES target. This patch should fix the incremental builds where the error is:; error: file '/.../RuntimePrintValue.h' from the precompiled header has been overridden. cc: @Axel-Naumann,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4488:502,patch,patch,502,https://root.cern,https://github.com/root-project/root/pull/4488,1,['patch'],['patch']
Deployability,…ath on different platforms. Also integrated in official cppyy repo:; https://bitbucket.org/wlav/cppyy/pull-requests/4/use-platform-independent-python-include/diff,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3415:34,integrat,integrated,34,https://root.cern,https://github.com/root-project/root/pull/3415,1,['integrat'],['integrated']
Deployability,…avoid clash with classes that CMS Combine will eventually provide. # This Pull request:. ## Changes or fixes:. ## Checklist:. - [ ] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15558:163,update,updated,163,https://root.cern,https://github.com/root-project/root/pull/15558,1,['update'],['updated']
Deployability,…est-time-in-case-annotation. # This Pull request:. ## Changes or fixes:. ## Checklist:. - [ ] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12663:125,update,updated,125,https://root.cern,https://github.com/root-project/root/pull/12663,1,['update'],['updated']
Deployability,"…ethod of a histogram. Fix the following warning and errors when selecting `Add` from the context menu (as decribed [on the forum](https://root-forum.cern.ch/t/problem-adding-histograms-in-tbrowser/40088)):; ```; Warning in <TRootContextMenu::Dialog>: data type is not basic type, assuming (int). Error in <TClingCallFunc::IFacePtr(kind)>: Attempt to get interface while invalid.; Error in <TClingCallFunc::Exec(address, interpVal)>: Called with no wrapper, not implemented!; ```; And add `gPad->Update()` in `TObject::Execute()` to properly update the canvas",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6046:496,Update,Update,496,https://root.cern,https://github.com/root-project/root/pull/6046,2,"['Update', 'update']","['Update', 'update']"
Deployability,"…ference types."". This patch reduces deserializing of lazy template specializations from the PCH as it reduces the hash collisions (now we distinguish between pointer and reference types).",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1810:23,patch,patch,23,https://root.cern,https://github.com/root-project/root/pull/1810,1,['patch'],['patch']
Deployability,"…ffer. This patch avoids asking ROOT to create a TClass entry in interpreted mode when loading an enum from a given namespace. This is dangerous in case no call to TClass::GetClass(""enum::namespace"") is not called in a context where autoloading is enabled. This should fix ROOT-10528 where GaudiMath::Interpolation is available across dictionaries. When reading the LHCbMathDict_rdict.pcm we find an enum GaudiMath::Interpolation::Type. This in turn creates a never used TClass entry for GaudiMath::Interpolation for which ROOT complains at teardown with:. Fatal in <TClass::SetUnloaded>: The TClass for GaudiMath::Interpolation is being unloaded when in state 3. Patch by Marco Clemencic(@pikacic) and me!. cc: @smuzaffar",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4944:12,patch,patch,12,https://root.cern,https://github.com/root-project/root/pull/4944,2,"['Patch', 'patch']","['Patch', 'patch']"
Deployability,"…h when ROOT uses G4 units. # This Pull request:; The PR fixes the computation of the radiation length and nuclear interaction length; which are computed wrongly when ROOT uses in G4 units. ## Changes or fixes:; All in TGeoMaterial.cpp; The fix is based on an initial pull request from Ivana:; https://github.com/root-project/root/pull/9401 ; which did miss the necessary changes for mixtures. Output from constructing Iron from:; ```; 99.5 % Element: FE Z=26 N=56.000000 A=55.845000 [g/mole]; 0.5 % Element: C Z=6 N=12.000000 A=12.010700 [g/mole]; ```; - ROOT units:; ```; $> root.exe material_test.C\(\""ROOT\""\); Material Iron A=55.845 Z=26 rho=7.874 radlen=1.75666 intlen=0.0271712 index=0; TGeoMaterial Iron; 		 Density: 		7.874 [g/cm^3]; 		 Radiation Length: 	1.75666 [cm] ; 		 Interaction Length: 	16.9589 [cm] ; ```; - Geant4 units:; ```; $> root.exe material_test.C\(\""G4\""\); Material Iron A=55.845 Z=26 rho=7.874 radlen=17.5666 intlen=0.271712 index=3; TGeoMaterial Iron; 		 Density: 		7.874 [g/cm^3]; 		 Radiation Length: 	17.5666 [mm] ; 		 Interaction Length: 	169.589 [mm] ; ```; PDG (https://pdg.lbl.gov/2020/AtomicNuclearProperties/HTML/iron_Fe.html):; ```; Specific gravity 	 7.874 	g cm-3; Nuclear interaction length 	132.1 	g cm-2 	16.77 	cm; Radiation length 	 13.84 	g cm-2 	1.757 	cm; ```. ## Checklist:. - [X ] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11060:1363,update,updated,1363,https://root.cern,https://github.com/root-project/root/pull/11060,1,['update'],['updated']
Deployability,"…hanged. This patch (also) aims to make runtime module installable. This part of code in Clang is comparing the location of ""modulemap which; is currently loaded and gives a definition of current module (say, stl); and ""the location of the modulemap where the current implicit module (like stl) was built"". This was problematic for CMSSW, as they should install modulemaps; and prebuilt pcms to other directory. stl and libc pcms should be; prebuilt, installed and used from installed directory, so this check is; redundant for that usecase.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3180:14,patch,patch,14,https://root.cern,https://github.com/root-project/root/pull/3180,5,"['install', 'patch']","['install', 'installable', 'installed', 'patch']"
Deployability,"…header. This fixes the following errors on Windows (with all macros using `RColor`):; ```; C:\build\release\tutorials\v7>root -l box.cxx; root [0]; Processing box.cxx...; IncrementalExecutor::executeFunction: symbol '?kGreen@RColor@Experimental@ROOT@@2V?$array@E$02@std@@B' unresolved while linking [cling interface function]!; You are probably missing the definition of public: static class std::array<unsigned char,3> const ROOT::Experimental::RColor::kGreen; Maybe you need to load the corresponding shared library?; IncrementalExecutor::executeFunction: symbol '?kRed@RColor@Experimental@ROOT@@2V?$array@E$02@std@@B' unresolved while linking [cling interface function]!; You are probably missing the definition of public: static class std::array<unsigned char,3> const ROOT::Experimental::RColor::kRed; Maybe you need to load the corresponding shared library?; IncrementalExecutor::executeFunction: symbol '?kBlue@RColor@Experimental@ROOT@@2V?$array@E$02@std@@B' unresolved while linking [cling interface function]!; You are probably missing the definition of public: static class std::array<unsigned char,3> const ROOT::Experimental::RColor::kBlue; Maybe you need to load the corresponding shared library?; ```",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6097:101,release,release,101,https://root.cern,https://github.com/root-project/root/pull/6097,1,['release'],['release']
Deployability,…ible. # This Pull request:. ## Changes or fixes:. ## Checklist:. - [ ] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13685:102,update,updated,102,https://root.cern,https://github.com/root-project/root/pull/13685,1,['update'],['updated']
Deployability,"…ied. We cannot merge both codepaths because root.exe should always run with modules; if -Druntime_cxxmodules is specified, however, rootcling enables modules only; if -cxxmodule flag is passed. This patch fixes asserts when ROOT is built in -Druntime_cxxmodules=On but; no -cxxmodule flag is specified (in tree/test for instance).",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3622:200,patch,patch,200,https://root.cern,https://github.com/root-project/root/pull/3622,1,['patch'],['patch']
Deployability,"…ions. static, static inline, always_inline, and extern inline functions can; always be deferred. Normal inline functions can be deferred in C99/C++.; Implicit template instantiations can also be deferred in C++. This patch changes the linkage of the declarations from strong to weak.; It allows clang to defer the deserialization from pch/pcm until their use.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2859:218,patch,patch,218,https://root.cern,https://github.com/root-project/root/pull/2859,1,['patch'],['patch']
Deployability,"…les. When we load a library, during its static intialization it calls; TCling::RegisterModule to make ROOT's runtime aware of that load. Regular; ROOT also will do some header parsing to add the minimal infrastructure; in place for cling to be able to call into that library. C++ modules define away the need to parse. This patch intends to skip all; parsing at this stage and fix recursive parsing issues for C++ modules.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1356:325,patch,patch,325,https://root.cern,https://github.com/root-project/root/pull/1356,1,['patch'],['patch']
Deployability,"…lized decls"". clang.git patch id: ffc388b",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/683:25,patch,patch,25,https://root.cern,https://github.com/root-project/root/pull/683,1,['patch'],['patch']
Deployability,"…pector. Currently, irrelevant value is returned if compressed size exceeds the range of int, since std::accumulate is initialized with plain 0. The proposed version uses std::reduce where (implicit) zero-initialization is done with the iterator value type. # This Pull request:. ## Changes or fixes:. ## Checklist:. - [x] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #16124",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16113:353,update,updated,353,https://root.cern,https://github.com/root-project/root/pull/16113,1,['update'],['updated']
Deployability,"…ply suppress:"". See #11937; for why `-flat_namespace` is bad. This reverts commit a05d4be. (cherry picked from commit 0e03b6a)# This Pull request:. ## Changes or fixes:. ## Checklist:. - [ ] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12100:222,update,updated,222,https://root.cern,https://github.com/root-project/root/pull/12100,1,['update'],['updated']
Deployability,"…rototype)."". This reverts commit 3b9ed05df2f1209c715deb4a500206f5458b20ba. There are some case of errors like. ```; [512/1065] Building CXX object graf2d/asimage/CMakeFiles/ASImage.dir/src/TASPngWriter.cxx.o; FAILED: graf2d/asimage/CMakeFiles/ASImage.dir/src/TASPngWriter.cxx.o ; <snip>; src/graf2d/asimage/src/TASPngWriter.cxx:3:10: fatal error: afterrootpngwrite.h: No such file or directory; 3 | #include <afterrootpngwrite.h>; | ^~~~~~~~~~~~~~~~~~~~~; ```. ```; C:\root-dev\git\master\graf2d\asimage\src\TASPngWriter.cxx(3,10): error C1083: Cannot open include file: 'afterrootpngwrite.h': No such file or directory [C:\root-dev\build\x64\release\graf2d\asimage; \ASImage.vcxproj]; ```. I suggest to revert until this is sorted out.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16129:644,release,release,644,https://root.cern,https://github.com/root-project/root/pull/16129,1,['release'],['release']
Deployability,"…rt it. The C++ modules marks the std::vector<int> instantiation as not visible because it came from the `regex` header file which we did not explicitly include. root-project/root@a785402 introduces checks if certain declaration is visible in dictionary generation time which was intending to semantically improve the coherence by what the user ""allowed"" (or requested) rootcling to see vs what it can see globally. While this model works well it seems to not work for template instantiations as they won't be re-instantiated with visible modifier. This patch works around the current issue seen with libstdc++ 12 but a better solution would be to implement a finer grained control over the implicit template instatiations when generating a dictionary. Fixes root-project/root#11329",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11573:554,patch,patch,554,https://root.cern,https://github.com/root-project/root/pull/11573,2,['patch'],['patch']
Deployability,"…sed errors in the incremental tests, update tutorials to Keras 2.x API",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1629:38,update,update,38,https://root.cern,https://github.com/root-project/root/pull/1629,1,['update'],['update']
Deployability,…t::GetTypeName. This doesn't impose a potential allocation (or the use of std::string) on the caller unnecessarily. ## Checklist:. - [x] tested changes locally; - [ ] updated the docs (if necessary),MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16695:168,update,updated,168,https://root.cern,https://github.com/root-project/root/pull/16695,1,['update'],['updated']
Deployability,"…te record for instantiating its definition. We model the 'inline'ness as being instantiated with the static data member in; order to track whether the declaration has become a definition yet. git-svn-id: https://llvm.org/svn/llvm-project/cfe/trunk@317147 91177308-0d34-0410-b5e6-96231b3b80d8. This patch fixes a problem in cxxmodules and c++17 of the kind:; ```; 1/2 Test #263: tutorial-dataframe-df004_cutFlowReport ......***Failed Error regular expression found in output. Regex=[: error:] 30.90 sec. Processing /home/vvassilev/workspace/sources/root/tutorials/dataframe/df004_cutFlowReport.C...; In module 'std' imported from input_line_1:1:; /usr/include/c++/7/string_view:88:41: error: static data member 'npos' already has an initializer; static constexpr size_type npos = size_type(-1);; ^; /usr/include/c++/7/string_view:319:43: note: in instantiation of static data member 'std::basic_string_view<char, std::char_traits<char> >::npos' requested here; rfind(_CharT __c, size_type __pos = npos) const noexcept;; ^; /home/vvassilev/workspace/builds/root_runtime_modules_builtin_clang_debug/include/ROOT/RDF/RInterface.hxx:468:14: note: in instantiation of function template specialization 'ROOT::RDF::RInterface<ROOT::Detail::RDF::RNodeBase, void>::SnapshotImpl<double, int>' requested here; return SnapshotImpl<ColumnTypes...>(treename, filename, columnList, options);; ^; input_line_102:2:206: note: in instantiation of function template specialization 'ROOT::RDF::RInterface<ROOT::Detail::RDF::RNodeBase, void>::Snapshot<double, int>' requested here; *reinterpret_cast<ROOT::RDF::RResultPtr<ROOT::RDF::RInterface<ROOT::Detail::RDF::RLoopManager>>*>(0x7fffffff9598) = reinterpret_cast<ROOT::RDF::RInterface<ROOT::Detail::RDF::RNodeBase>*>(0x7fffffff95d0)->Snapshot<__rdf1::b13_type, __rdf1::b24_type>(""myTree"", ""df004_cutFlowReport.root"", *reinterpret_cast<std::vector<std::string>*>(0x7fffffff9940),*reinterpret_cast<ROOT::RDF::RSnapshotOptions*>(0x7fffffff9a40));; ^; /usr/include/c++/7/str",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4437:299,patch,patch,299,https://root.cern,https://github.com/root-project/root/pull/4437,1,['patch'],['patch']
Deployability,"…to push. ## Changes or fixes:; Adding a call to vector.reserve() to RField.cxx in (almost) all cases where we know the exact number of elements pushed. Saves a bunch of reallocation especially when the number of pushed elements is not strictly bounded (e.g. number of columns, number of subfields). ## Checklist:. - [x ] tested changes locally; - [ ] updated the docs (if necessary) - not necessary",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15475:352,update,updated,352,https://root.cern,https://github.com/root-project/root/pull/15475,1,['update'],['updated']
Deployability,"…ue,Array}. when they are attached to the same branch.; TNamedBranchProxy did not implement a Hash method.; Therefore when adding TNamedBranchProxy instances to the THashList dedicated to their bookkeping in TTreeReader TObject::Hash was used.; Unfortunately when trying to find the TNamedBranchProxies, their name was used and the hash was built differently by THashList (based on the name).; In order to fix this the following steps were taken.; - THashList was replaced by an unordered_map with names as keys and unique_ptr<TNamedBranchProxy> as values. The unique_ptr is used to automatically manage ownership.; - The key is not the name of the branch as known by the branch any more but rather the name the user inputs in the constructor of the TTreeReader{Array,Value}.; - An exception is thrown in debug mode if the system tries to push in the TTreeReader collection of proxy with a name held by a proxy in that collection.; - The methods of TTreeReader were adapted to use this new container as well as the code in TTreeReaderValue and TTreeReaderArray. A real usecase from CMS where the mass of the W boson is studied shows a significant speedup (30%).; The code uses TDataFrame and several nodes are created which read from the same branch in an input tree which holds weights in a collection.; This configuration stressed the performance degradation pattern fixed by this commit as it triggered multiple times the deserialisation of the ""weights branch"". Thanks to Elisabetta Manca and Lorenzo Bianchini for providing the bug report and initial reproducer.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1784:1310,configurat,configuration,1310,https://root.cern,https://github.com/root-project/root/pull/1784,2,['configurat'],['configuration']
Deployability,…… (#11060). * Fix computation of the radiation length and nuclear interaction length when ROOT uses G4 units. * Fix computation of the radiation length and nuclear interaction length when ROOT uses G4 units. (cherry picked from commit 103bb7e4d930b4921debceec6ad7d418bacae4fc). # This Pull request:. ## Changes or fixes:. ## Checklist:. - [ ] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11103:374,update,updated,374,https://root.cern,https://github.com/root-project/root/pull/11103,1,['update'],['updated']
Deployability,…… (#11060). * Fix computation of the radiation length and nuclear interaction length when ROOT uses G4 units. * Fix computation of the radiation length and nuclear interaction length when ROOT uses G4 units. (cherry picked from commit 103bb7e4d930b4921debceec6ad7d418bacae4fc). # This Pull request:. ## Changes or fixes:. ## Checklist:. - [ ] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #11080,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11104:374,update,updated,374,https://root.cern,https://github.com/root-project/root/pull/11104,1,['update'],['updated']
Deployability,"│ │ ├── regression_python_predictions.csv; │ │ ├── regression_python_scores.csv; │ ├── forestBDTest.hxx; │ ├── helpersBDTest.hxx; │ ├── makefile; │ ├── readme.md; │ ├── RegressionBDTest.hxx; │ ├── run_all.sh; │ ├── testAll.cxx; ├── train_classifiers_examples.py; └── utils.py. ### Setup script for ubuntu 18.04; It sets up a new machine, installing everything in the home folder. Please modify for your needs.; ```bash; #!/bin/bash; cd; # can be ran with yes | bash this_file.sh # to say yes when prompted. sudo apt update ; yes | sudo apt upgrade. # Install all the stuff with apt. sudo apt install clang # to use clang; sudo apt install g++-7 gcc-7 # to use gcc; sudo apt install libx11-dev build-essential cmake ; sudo apt install git dpkg-dev cmake binutils libx11-dev libxpm-dev \; libxft-dev libxext-dev; sudo apt-get install gfortran libssl-dev libpcre3-dev \; xlibmesa-glu-dev libglew1.5-dev libftgl-dev \; libmysqlclient-dev libfftw3-dev libcfitsio-dev \; graphviz-dev libavahi-compat-libdnssd-dev \; libldap2-dev python-dev libxml2-dev libkrb5-dev \; libgsl0-dev libqt4-dev; sudo apt install gdb. sudo apt install libstdc++ # then add flag -stdlib=libstdc++. wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh; (echo ''; echo 'yes'; echo ''; echo 'yes';) | bash ./Miniconda3-latest-Linux-x86_64.sh; source .bashrc; source activate base; pip install numpy sklearn xgboost matplotlib. #################################### install projects #############################3; # Get ROOT; cd; git clone git@github.com:LucaZampieri/root.git. # build with gcc; mkdir build_gcc && cd build_gcc && cmake ../root && make -j8. ## Google bench; cd; # Check out the library.; git clone https://github.com/google/benchmark.git; # Benchmark requires Google Test as a dependency. Add the source tree as a subdirectory.; git clone https://github.com/google/googletest.git benchmark/googletest. # Go to the library root directory; cd benchmark ; mkdir build_gcc; cd build_gcc ; cmake -DC",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4351:2738,install,install,2738,https://root.cern,https://github.com/root-project/root/pull/4351,1,['install'],['install']
Energy Efficiency," ### FAQ; <details>; <summary>Click here to expand the FAQ section</summary>. #### How often will the code scanning analysis run?; By default, code scanning will trigger a scan with the CodeQL engine on the following events:; * On every pull request — to flag up potential security problems for you to investigate before merging a PR.; * On every push to your default branch and other protected branches — this keeps the analysis results on your repository’s *Security* tab up to date.; * Once a week at a fixed time — to make sure you benefit from the latest updated security analysis even when no code was committed or PRs were opened. #### What will this cost?; Nothing! The CodeQL engine will run inside GitHub Actions, making use of your [unlimited free compute minutes for public repositories](https://docs.github.com/en/actions/learn-github-actions/usage-limits-billing-and-administration#about-billing-for-github-actions). #### What types of problems does CodeQL find?; The CodeQL engine that powers GitHub code scanning is the exact same engine that powers LGTM.com. The exact set of rules has been tweaked slightly, but you should see almost exactly the same types of alerts as you were used to on LGTM.com: we’ve enabled the [`security-and-quality` query suite](https://docs.github.com/en/code-security/code-scanning/automatically-scanning-your-code-for-vulnerabilities-and-errors/configuring-code-scanning#using-queries-in-ql-packs) for you. #### How do I upgrade my CodeQL engine?; No need! New versions of the CodeQL analysis are constantly deployed on GitHub.com; your repository will automatically benefit from the most recently released version. #### The analysis doesn’t seem to be working; If you get an error in GitHub Actions that indicates that CodeQL wasn’t able to analyze your code, please [follow the instructions here](https://docs.github.com/en/code-security/code-scanning/automatically-scanning-your-code-for-vulnerabilities-and-errors/troubleshooting-the-codeql-workflow)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11808:2757,power,powers,2757,https://root.cern,https://github.com/root-project/root/pull/11808,2,['power'],['powers']
Energy Efficiency, 'TString' in /opt/root_src/core/base/src/TString.cxx:2156; 10: Assuming the condition is false in /opt/root_src/core/base/src/TString.cxx:173; 11: Taking false branch in /opt/root_src/core/base/src/TString.cxx:173; 12: Calling 'TString::Init' in /opt/root_src/core/base/src/TString.cxx:177; 13: Assuming 'capacity' is >= 0 in /opt/root_src/core/base/src/TString.cxx:249; 14: Taking false branch in /opt/root_src/core/base/src/TString.cxx:249; 15: 'nchar' is >= 0 in /opt/root_src/core/base/src/TString.cxx:253; 16: Taking false branch in /opt/root_src/core/base/src/TString.cxx:253; 17: Assuming the condition is false in /opt/root_src/core/base/src/TString.cxx:257; 18: Taking false branch in /opt/root_src/core/base/src/TString.cxx:257; 19: Assuming 'capacity' is >= kMinCap in /opt/root_src/core/base/src/TString.cxx:265; 20: Taking false branch in /opt/root_src/core/base/src/TString.cxx:265; 21: Memory is allocated in /opt/root_src/core/base/src/TString.cxx:270; 22: Returned allocated memory in /opt/root_src/core/base/src/TString.cxx:177; 23: Returning from copy constructor for 'TString' in /opt/root_src/core/base/src/TString.cxx:2156; 24: Assuming the condition is true in /opt/root_src/core/base/src/TString.cxx:2158; 25: Taking true branch in /opt/root_src/core/base/src/TString.cxx:2158; 26: Calling 'TString::Remove' in /opt/root_src/core/base/src/TString.cxx:2160; 27: Calling 'TString::Replace' in /opt/root_src/core/base/inc/TString.h:677; 28: 'pos' is > 'kNPOS' in /opt/root_src/core/base/src/TString.cxx:1002; 29: Left side of '||' is false in /opt/root_src/core/base/src/TString.cxx:1002; 30: 'pos' is <= 'len' in /opt/root_src/core/base/src/TString.cxx:1002; 31: Taking false branch in /opt/root_src/core/base/src/TString.cxx:1002; 32: 'n1' is >= 0 in /opt/root_src/core/base/src/TString.cxx:1007; 33: Taking false branch in /opt/root_src/core/base/src/TString.cxx:1007; 34: 'n2' is >= 0 in /opt/root_src/core/base/src/TString.cxx:1011; 35: Taking false branch in /opt/root_src,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:124297,allocate,allocated,124297,https://root.cern,https://github.com/root-project/root/issues/7412,1,['allocate'],['allocated']
Energy Efficiency," /lib64/libc.so.6. #2 0x00007ffff0893196 in __assert_fail_base () from /lib64/libc.so.6. #3 0x00007ffff0893242 in __assert_fail () from /lib64/libc.so.6. #4 0x00007fffe33d590f in clang::ClassTemplateSpecializationDecl::setInstantiationOf (this=0x7e8b810, PartialSpec=0x3b75340, TemplateArgs=0x7e91418). at /scratch/greenc/test-products/root/v6_20_04/source/root-6.20.04/interpreter/llvm/src/tools/clang/include/clang/AST/DeclTemplate.h:1837. #5 0x00007fffe3d4911d in getPatternForClassTemplateSpecialization (S=..., PointOfInstantiation=..., ClassTemplateSpec=0x7e8b810, TSK=clang::TSK_ImplicitInstantiation, Complain=true). at /scratch/greenc/test-products/root/v6_20_04/source/root-6.20.04/interpreter/llvm/src/tools/clang/lib/Sema/SemaTemplateInstantiate.cpp:2500. #6 0x00007fffe3d492c6 in clang::Sema::InstantiateClassTemplateSpecialization (this=0x7da020, PointOfInstantiation=..., ClassTemplateSpec=0x7e8b810, TSK=clang::TSK_ImplicitInstantiation, Complain=true). at /scratch/greenc/test-products/root/v6_20_04/source/root-6.20.04/interpreter/llvm/src/tools/clang/lib/Sema/SemaTemplateInstantiate.cpp:2538. #7 0x00007fffe3e0b218 in clang::Sema::RequireCompleteTypeImpl (this=0x7da020, Loc=..., T=..., Diagnoser=0x7fffffff53a0). at /scratch/greenc/test-products/root/v6_20_04/source/root-6.20.04/interpreter/llvm/src/tools/clang/lib/Sema/SemaType.cpp:7331. #8 0x00007fffe3e0a679 in clang::Sema::RequireCompleteType (this=0x7da020, Loc=..., T=..., Diagnoser=...) at /scratch/greenc/test-products/root/v6_20_04/source/root-6.20.04/interpreter/llvm/src/tools/clang/lib/Sema/SemaType.cpp:7109. #9 0x00007fffe3e0b5cb in clang::Sema::RequireCompleteType (this=0x7da020, Loc=..., T=..., DiagID=2479) at /scratch/greenc/test-products/root/v6_20_04/source/root-6.20.04/interpreter/llvm/src/tools/clang/lib/Sema/SemaType.cpp:7398. #10 0x00007fffe363cdc7 in clang::Sema::CheckFieldDecl (this=0x7da020, Name=..., T=..., TInfo=0x7e913e0, Record=0x7e8ed10, Loc=..., Mutable=false, BitWidth=0x0, InitStyle=clan",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5462:2548,green,greenc,2548,https://root.cern,https://github.com/root-project/root/pull/5462,1,['green'],['greenc']
Energy Efficiency, /opt/root_src/rootx/src/rootx.cxx:369; 14: Taking true branch in /opt/root_src/rootx/src/rootx.cxx:369; 15: 'about' is false in /opt/root_src/rootx/src/rootx.cxx:370; 16: Taking false branch in /opt/root_src/rootx/src/rootx.cxx:370; 17: Assuming 'gNoLogo' is true in /opt/root_src/rootx/src/rootx.cxx:374; 18: Taking false branch in /opt/root_src/rootx/src/rootx.cxx:374; 19: Assuming the condition is false in /opt/root_src/rootx/src/rootx.cxx:420; 20: Taking false branch in /opt/root_src/rootx/src/rootx.cxx:420; 21: Assuming 'gChildpid' is <= 0 in /opt/root_src/rootx/src/rootx.cxx:423; 22: Taking false branch in /opt/root_src/rootx/src/rootx.cxx:423; 23: Loop condition is false. Execution continues on line 457 in /opt/root_src/rootx/src/rootx.cxx:455; 24: Calling 'SetLibraryPath' in /opt/root_src/rootx/src/rootx.cxx:461; 25: Assuming the condition is false in /opt/root_src/rootx/src/rootx.cxx:190; 26: Taking false branch in /opt/root_src/rootx/src/rootx.cxx:190; 27: Memory is allocated in /opt/root_src/rootx/src/rootx.cxx:195; 28: Potential leak of memory pointed to by 'msg' in /opt/root_src/rootx/src/rootx.cxx:213; /opt/root_src/rootx/src/rootx.cxx:351:7: warning: Potential leak of memory pointed to by 'argvv' [clang-analyzer-cplusplus.NewDeleteLeaks]; 1: Assuming the condition is false in /opt/root_src/rootx/src/rootx.cxx:299; 2: Taking false branch in /opt/root_src/rootx/src/rootx.cxx:299; 3: Assuming 'i' is < 'argc' in /opt/root_src/rootx/src/rootx.cxx:313; 4: Loop condition is true. Entering loop body in /opt/root_src/rootx/src/rootx.cxx:313; 5: Assuming the condition is false in /opt/root_src/rootx/src/rootx.cxx:314; 6: Left side of '||' is false in /opt/root_src/rootx/src/rootx.cxx:314; 7: Assuming the condition is false in /opt/root_src/rootx/src/rootx.cxx:314; 8: Left side of '||' is false in /opt/root_src/rootx/src/rootx.cxx:314; 9: Assuming the condition is false in /opt/root_src/rootx/src/rootx.cxx:315; 10: Taking false branch in /opt/root_src/rootx/src/r,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7527:2916,allocate,allocated,2916,https://root.cern,https://github.com/root-project/root/issues/7527,1,['allocate'],['allocated']
Energy Efficiency, 10: Taking false branch in /opt/root_src/math/matrix/src/TVectorT.cxx:973; 11: 'doResize' is true in /opt/root_src/math/matrix/src/TVectorT.cxx:979; 12: Taking true branch in /opt/root_src/math/matrix/src/TVectorT.cxx:979; 13: Calling 'TVectorT::ResizeTo' in /opt/root_src/math/matrix/src/TVectorT.cxx:982; 14: Taking false branch in /opt/root_src/math/matrix/src/TVectorT.cxx:296; 15: expanded from macro 'R__ASSERT' in /opt/root_src/core/foundation/inc/TError.h:120; 16: Loop condition is false. Exiting loop in /opt/root_src/math/matrix/src/TVectorT.cxx:296; 17: expanded from macro 'R__ASSERT' in /opt/root_src/core/foundation/inc/TError.h:119; 18: Field 'fIsOwner' is true in /opt/root_src/math/matrix/src/TVectorT.cxx:297; 19: Taking false branch in /opt/root_src/math/matrix/src/TVectorT.cxx:297; 20: Assuming field 'fNrows' is <= 0 in /opt/root_src/math/matrix/src/TVectorT.cxx:304; 21: Taking false branch in /opt/root_src/math/matrix/src/TVectorT.cxx:304; 22: Calling 'TVectorT::Allocate' in /opt/root_src/math/matrix/src/TVectorT.cxx:339; 23: Null pointer value stored to field 'fElements' in /opt/root_src/math/matrix/src/TVectorT.cxx:156; 24: Assuming 'nrows' is < 0 in /opt/root_src/math/matrix/src/TVectorT.cxx:158; 25: Taking true branch in /opt/root_src/math/matrix/src/TVectorT.cxx:158; 26: Returning from 'TVectorT::Allocate' in /opt/root_src/math/matrix/src/TVectorT.cxx:339; 27: Returning from 'TVectorT::ResizeTo' in /opt/root_src/math/matrix/src/TVectorT.cxx:982; 28: Null pointer passed to 1st parameter expecting 'nonnull' in /opt/root_src/math/matrix/src/TVectorT.cxx:984; /opt/root_src/math/matrix/src/TVectorT.cxx:1051:4: warning: Null pointer passed to 1st parameter expecting 'nonnull' [clang-analyzer-core.NonNullParamChecker]; 1: Assuming 'gMatrixCheck' is 0 in /opt/root_src/math/matrix/src/TVectorT.cxx:1021; 2: Taking false branch in /opt/root_src/math/matrix/src/TVectorT.cxx:1021; 3: Assuming the condition is true in /opt/root_src/math/matrix/src/TVectorT.cxx:1,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7458:154170,Allocate,Allocate,154170,https://root.cern,https://github.com/root-project/root/issues/7458,1,['Allocate'],['Allocate']
Energy Efficiency," ; (d) less memory consumption (better memory scalability). The development for this commit was motivated from a use case in ALICE, in which the parallel world ""scene"" can be very large (~100K volumes). In this case, TGeoVoxelFinder takes very long; to construct and consumes a very large amount of memory (GBs). In addition, the evaluation of the Safety function dominates the Geant simulation time. The improvements in this commit are mainly achieved through:. * The use of a boundary volume hierarchy (BVH) as the base acceleration entity, replacing TGeoVoxelFinder.; BVH are the standard in industry/computer-graphics, for what concerns ray-object intersection tasks. The BVH is constructed from axis-aligned bounding boxes and employed in the FindBoundary/FindNode implementations. * The use of a 3D voxel grid (TGeoVoxelGrid) structure, able to store properties ""local"" or in the vicinity of a cartesian coordinate P. This structure allows to reduce the (typical) algorithmic complexity for ""Safety"" queries to ~O(1) (with a constant factor determined by the voxel size). Filling of the 3D voxel grid cache for Safety is done on-the-fly (using the BVH once). * (Optional) Additional caching of ""last-call"" safety values for really quick return when the value is still valid at the next call. Ideas for these improvements come from prior work in related libraries such as VecGeom. -----. Implementation details:. * The implementation is, for now (until fully tested), provided in a backward compatible manner:. - By default, nothing changes; - Users have to activate the BVH mode by setting an environment variable TGEO_PW_USEBVH; - Users may hence compare the 2 modes. * Functions for Safety, FindNode, FindBoundary dispatch to some internal implementation. This causes an extra lookup/jump, which can be removed once BVH is fully validated. * For the BVH, a well known open source implementation is included in header-only form. The headers are copied from https://github.com/madmann91/bvh com",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16442:1201,reduce,reduce,1201,https://root.cern,https://github.com/root-project/root/pull/16442,1,['reduce'],['reduce']
Energy Efficiency," Assuming 'start' is null in /opt/root_src/net/net/src/TWebFile.cxx:1354; 9: Taking false branch in /opt/root_src/net/net/src/TWebFile.cxx:1354; 10: Null pointer passed to 1st parameter expecting 'nonnull' in /opt/root_src/net/net/src/TWebFile.cxx:1355; /opt/root_src/net/rpdutils/src/net.cxx:314:15: warning: Potential leak of memory pointed to by 'tmpbuf' [clang-analyzer-cplusplus.NewDeleteLeaks]; 1: Calling 'NetRecv' in /opt/root_src/net/rpdutils/src/net.cxx:341; 2: Calling 'NetRecvAllocate' in /opt/root_src/net/rpdutils/src/net.cxx:313; 3: Taking false branch in /opt/root_src/net/rpdutils/src/net.cxx:290; 4: 'len' is >= 0 in /opt/root_src/net/rpdutils/src/net.cxx:294; 5: Taking false branch in /opt/root_src/net/rpdutils/src/net.cxx:294; 6: Assuming 'len' is not equal to 0 in /opt/root_src/net/rpdutils/src/net.cxx:296; 7: Taking true branch in /opt/root_src/net/rpdutils/src/net.cxx:296; 8: Memory is allocated in /opt/root_src/net/rpdutils/src/net.cxx:297; 9: Returned allocated memory in /opt/root_src/net/rpdutils/src/net.cxx:313; 10: Taking true branch in /opt/root_src/net/rpdutils/src/net.cxx:313; 11: Potential leak of memory pointed to by 'tmpbuf' in /opt/root_src/net/rpdutils/src/net.cxx:314; /opt/root_src/net/rpdutils/src/net.cxx:541:4: warning: Value stored to 'port1' is never read [clang-analyzer-deadcode.DeadStores]; 1: Value stored to 'port1' is never read in /opt/root_src/net/rpdutils/src/net.cxx:541; /opt/root_src/net/rpdutils/src/rpdutils.cxx:668:15: warning: Although the value stored to 'nr' is used in the enclosing expression, the value is never actually read from 'nr' [clang-analyzer-deadcode.DeadStores]; 1: Although the value stored to 'nr' is used in the enclosing expression, the value is never actually read from 'nr' in /opt/root_src/net/rpdutils/src/rpdutils.cxx:668; /opt/root_src/net/rpdutils/src/rpdutils.cxx:743:21: warning: Although the value stored to 'nr' is used in the enclosing expression, the value is never actually read from 'nr' [clang-a",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7528:86456,allocate,allocated,86456,https://root.cern,https://github.com/root-project/root/issues/7528,1,['allocate'],['allocated']
Energy Efficiency, Taking false branch in /opt/root_src/core/base/src/TString.cxx:1916; 26: Calling copy constructor for 'TString' in /opt/root_src/core/base/src/TString.cxx:1923; 27: Assuming the condition is false in /opt/root_src/core/base/src/TString.cxx:173; 28: Taking false branch in /opt/root_src/core/base/src/TString.cxx:173; 29: Calling 'TString::Init' in /opt/root_src/core/base/src/TString.cxx:177; 30: 'capacity' is >= 0 in /opt/root_src/core/base/src/TString.cxx:249; 31: Taking false branch in /opt/root_src/core/base/src/TString.cxx:249; 32: 'nchar' is >= 0 in /opt/root_src/core/base/src/TString.cxx:253; 33: Taking false branch in /opt/root_src/core/base/src/TString.cxx:253; 34: Taking false branch in /opt/root_src/core/base/src/TString.cxx:257; 35: 'capacity' is >= kMinCap in /opt/root_src/core/base/src/TString.cxx:265; 36: Taking false branch in /opt/root_src/core/base/src/TString.cxx:265; 37: Memory is allocated in /opt/root_src/core/base/src/TString.cxx:270; 38: Returned allocated memory in /opt/root_src/core/base/src/TString.cxx:177; 39: Returning from copy constructor for 'TString' in /opt/root_src/core/base/src/TString.cxx:1923; 40: Loop condition is false. Execution continues on line 1932 in /opt/root_src/core/base/src/TString.cxx:1926; 41: Potential leak of memory pointed to by 'str_ref.fRep..fLong.fData' in /opt/root_src/core/base/src/TString.cxx:1933; /opt/root_src/core/base/src/TString.cxx:1933:1: warning: Potential leak of memory pointed to by 'str_ref0.fRep..fLong.fData' [clang-analyzer-cplusplus.NewDeleteLeaks]; 1: Assuming 'base_in' is >= 2 in /opt/root_src/core/base/src/TString.cxx:2151; 2: Left side of '||' is false in /opt/root_src/core/base/src/TString.cxx:2151; 3: Assuming 'base_in' is <= 36 in /opt/root_src/core/base/src/TString.cxx:2151; 4: Left side of '||' is false in /opt/root_src/core/base/src/TString.cxx:2151; 5: Assuming 'base_out' is >= 2 in /opt/root_src/core/base/src/TString.cxx:2151; 6: Left side of '||' is false in /opt/root_src/core/base/,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:132896,allocate,allocated,132896,https://root.cern,https://github.com/root-project/root/issues/7412,1,['allocate'],['allocated']
Energy Efficiency, Taking false branch in /opt/root_src/math/matrix/src/TVectorT.cxx:1040; 11: 'doResize' is true in /opt/root_src/math/matrix/src/TVectorT.cxx:1046; 12: Taking true branch in /opt/root_src/math/matrix/src/TVectorT.cxx:1046; 13: Calling 'TVectorT::ResizeTo' in /opt/root_src/math/matrix/src/TVectorT.cxx:1049; 14: Taking false branch in /opt/root_src/math/matrix/src/TVectorT.cxx:296; 15: expanded from macro 'R__ASSERT' in /opt/root_src/core/foundation/inc/TError.h:120; 16: Loop condition is false. Exiting loop in /opt/root_src/math/matrix/src/TVectorT.cxx:296; 17: expanded from macro 'R__ASSERT' in /opt/root_src/core/foundation/inc/TError.h:119; 18: Field 'fIsOwner' is true in /opt/root_src/math/matrix/src/TVectorT.cxx:297; 19: Taking false branch in /opt/root_src/math/matrix/src/TVectorT.cxx:297; 20: Assuming field 'fNrows' is <= 0 in /opt/root_src/math/matrix/src/TVectorT.cxx:304; 21: Taking false branch in /opt/root_src/math/matrix/src/TVectorT.cxx:304; 22: Calling 'TVectorT::Allocate' in /opt/root_src/math/matrix/src/TVectorT.cxx:339; 23: Null pointer value stored to field 'fElements' in /opt/root_src/math/matrix/src/TVectorT.cxx:156; 24: Assuming 'nrows' is < 0 in /opt/root_src/math/matrix/src/TVectorT.cxx:158; 25: Taking true branch in /opt/root_src/math/matrix/src/TVectorT.cxx:158; 26: Returning from 'TVectorT::Allocate' in /opt/root_src/math/matrix/src/TVectorT.cxx:339; 27: Returning from 'TVectorT::ResizeTo' in /opt/root_src/math/matrix/src/TVectorT.cxx:1049; 28: Null pointer passed to 1st parameter expecting 'nonnull' in /opt/root_src/math/matrix/src/TVectorT.cxx:1051; /opt/root_src/math/minuit/src/TFitter.cxx:164:10: warning: Value stored to 'igrad' is never read [clang-analyzer-deadcode.DeadStores]; 1: Value stored to 'igrad' is never read in /opt/root_src/math/minuit/src/TFitter.cxx:164; /opt/root_src/math/minuit/src/TFitter.cxx:182:7: warning: Value stored to 'igrad' is never read [clang-analyzer-deadcode.DeadStores]; 1: Value stored to 'igrad' is never re,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7458:156669,Allocate,Allocate,156669,https://root.cern,https://github.com/root-project/root/issues/7458,1,['Allocate'],['Allocate']
Energy Efficiency, ```txt; 21f97bd1ee [RF][HF] Fix memory leaks in HistFactory from RooAbsArg::getComponents; 70535a7426 [RF][HS3] Support a few more pdfs in RooFit HS3; d10b28bfbb [RF] Consistent proxy names in RooGamma; b9cfff2e71 [RF][HF] More efficient creation of combined dataset in HistFactory; 8ca8d848ae [RF][HS3] Necessary tweaks to pass tests also with `rapidyaml` backend; 66615833e5 [RF][HS3] Add IO of external constrains from/to ModelConfig; 2607947ee3 [RF][HF] Add missing LinkDefs for systematics classes in HistFactory; f8aa65e0cc [RF] Correctly reset y-axis limits after `RooCurve::shiftCurveToZero()`; 1b886c3e77 [RF] Improve Copy Constructor of HypoTestResult; 2e4b30b8c2 [RF] Better server redirection in compileForNormSet without attributes; d5ca98077e [RF] New function for server changing without setting attributes; 1f8a1666d1 [RF] Factor out marking compiled args in `NormalizationHelpers`; 7db5be20e9 [RF] Support multiple NLL with BatchMode existing at the same time; 24f1ca4fc1 [RF] Add exception if `RooAbsArg::_dataToken` is corrupted; ef69ad7633 [RF] Refactor BatchMode likelihood creation code; 364f67393d [RF] Disable RooFit multiprocess ProcessTimer test; e7d4ec3a69 [RF] Introduce `ROOFIT_MEMORY_SAFE_INTERFACES` macro; 3fd6057316 [RF] Use `RooFit::OwningPtr<>` also for RooAbsReal::createIntegral(); 8ad,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12905:907,efficient,efficient,907,https://root.cern,https://github.com/root-project/root/pull/12905,1,['efficient'],['efficient']
Energy Efficiency," and execute function [file](w/o extension); Xk [file] : keep [file] it already loaded else load it. and execute function [file](w/o extension); E <[file]>: open editor and evaluate {statements} in the file; Load/Unload: L [file] : load [file]; Lk [file] : keep [file] if already loaded, else load it; La [file] : reload all files loaded after [file]; U [file] : unload [file]; C [1|0] : copy source to $TMPDIR (on/off); undo : undo previous declarations; lang : local language (EUC,SJIS,EUROPEAN,UNKNOWN); preproc : toggle preprocessing of interpreted files; Monitor: g <[var]> : list global variable; l <[var]> : list local variable; proto <[scope]::>[func] : show function prototype; class <[name]> : show class definition (one level); Class <[name]> : show class definition (all level); typedef <name> : show typedefs; function : show interpreted functions; macro : show macro functions; template : show templates; include : show include paths; file : show loaded files; where : show current file position; security : show security level; refcount : reference count control on/off; garbage : show garbage collection buffer; Garbage : Do garbage collection; cover [file] : save trace coverage; return [val] : return undefined symbol value; Run: S : step over function/loop; s : step into function/loop; i : ignore and step over; c <[line]>: continue <to [line]>; e : step out from function; f [file] : select file to debug; b [line] : set break point; db [line] : delete break point; a [assert]: break only if assertion is true; O [0~4] : Set bytecode compiler mode; debug : bytecode status display on/off; asmstep : bytecode step mode on/off; status : show bytecode exec flags; dasm : disassembler; except : toggle exception catching; Quit: q : quit cint; qqq : quit cint - mandatory; qqqqq : exit process immediately; qqqqqqq : abort process; save : call emergency routine to save important data. ROOT special commands.; ===========================================================================",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10191:3880,Monitor,Monitor,3880,https://root.cern,https://github.com/root-project/root/issues/10191,1,['Monitor'],['Monitor']
Energy Efficiency," as providing a finer grained control over the information deserialization. We see no observable benefits in generating RDICT files next to our pcm files. . ## Performance results. We have run several times all tests in `roottest/io` and `roottest/meta/MakeProject` folders and compared the results with and without generating RDICT (namely with ROOT master with `-Druntime_cxxmodules=On` with and without this PR). They are available [here](https://docs.google.com/spreadsheets/d/1Y_swct0USyX1DMp0tJOPdZzvmvIOTXOS9s7n08wCb2I/edit?usp=sharing) and [here](https://docs.google.com/spreadsheets/d/1s5LbPmhGBfhimirA0GH87nyEKcrGUfCX80H7-fOrjAU/edit?usp=sharing). ### Methodology. We have a forwarding `root.exe` which essentially calls `/usr/bin/time -v root.exe $@`. We have processed and stored this information in csv files. We have run in:; * (no)dict1-cold -- Tests are run immediately after restarting the physical test machine.; * (no)dict1a-cold -- Tests are run immediately after restarting the physical test machine. Second time.; * (no)dict2 -- Tests are run once again after running (no)dict1-cold;; * (no)dict3 -- Tests are run once again after running (no)dict2;; * (no)dict4 -- Tests are run once again after running (no)dict3;; * (no)dict5 -- Tests are run once again after running (no)dict4. The values of each column in (no)dict* are the sum of each value produced after running each test under roottest/io. The average values are computed in the columns under `dict` and `nodict`. The difference is shown in `diff`. There are two known test failures wrt to modules whose values are ignored. The machine specification is `Intel(R) Core(TM) i3-7100 CPU @ 3.90GHz` dual core, 8GB RAM and a **HDD**, run on Ubuntu 18.04. ### Results Interpretation. RDICT mostly intend to reduce the memory footprint during IO. We see no direct benefits in the memory footprint. The average of the max RSS of the sum of the max RSS of every test is higher. There is also a tendency towards faster execution.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3012:2159,reduce,reduce,2159,https://root.cern,https://github.com/root-project/root/pull/3012,1,['reduce'],['reduce']
Energy Efficiency," be added to the Users' Guide.; For example bases in the scenario:. ```cpp; class Position { /* point in 3D space */; public:; Position(float x, float y, float z);; // get Cartesian coordinates; float x();; float y();; float z();; // get spherical coordinates; float r();; float phi();; float theta();; // get pseudorapidity; float eta();; };. class Hit : public Position { /* localized detector signal */; public:; Hit(float energy, float x, float y, float z);; // get energy and transverse energy; float e();; float et();; };; ```. * Now, consider 3 stages of evolution for Position:. 1. Simplest implementation is to have Cartesian coordinates as private attributes;. 2. The users find that they most often use radius and azimuth, hence decide to store spherical coordinates instead of (x,y,z);. 3. Actually, colliders use eta more often than theta, so that the internal state is now given by (r, phi, eta). * In parallel and independently, Hit also evolves:. a. Simplest implementation is to have only the energy as private member;. b. Because the number of requests for the transverse energy is very high, the users want to optimize the speed by keeping Et as private member;. c. Well, it happens that disk space is short and e() is rarely called, so that it makes sense to reduce the size of the Hit class by dropping the energy member and computing the energy just when calling the method e(). They also found that the detector parameters used to store data in version b are wrong, so that one needs to scale the energy by 1.3 only for version b (a and c are correct). Could you please provide a working example in which data are saved and fetched with different combinations of (1, 2, 3)x(a, b, c) (at least with 1a, 2b, 3c)?. * The next step is to consider collections of objects:. i) define. ```cpp; class Track { /* particle trajectory */. private:; std::vector< Hit > m_hits;. };; ```. ii) Because the crazy developers of Hit decided to make such class variable size, one needs to store a ",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14540:1159,energy,energy,1159,https://root.cern,https://github.com/root-project/root/issues/14540,1,['energy'],['energy']
Energy Efficiency, condition is false in /opt/root_src/rootx/src/rootx.cxx:320; 14: Taking false branch in /opt/root_src/rootx/src/rootx.cxx:320; 15: Assuming the condition is false in /opt/root_src/rootx/src/rootx.cxx:321; 16: Taking false branch in /opt/root_src/rootx/src/rootx.cxx:321; 17: Assuming the condition is false in /opt/root_src/rootx/src/rootx.cxx:322; 18: Taking false branch in /opt/root_src/rootx/src/rootx.cxx:322; 19: Assuming the condition is false in /opt/root_src/rootx/src/rootx.cxx:323; 20: Taking false branch in /opt/root_src/rootx/src/rootx.cxx:323; 21: Assuming the condition is false in /opt/root_src/rootx/src/rootx.cxx:324; 22: Taking false branch in /opt/root_src/rootx/src/rootx.cxx:324; 23: Taking true branch in /opt/root_src/rootx/src/rootx.cxx:325; 24: Execution continues on line 328 in /opt/root_src/rootx/src/rootx.cxx:325; 25: 'notebook' is > 0 in /opt/root_src/rootx/src/rootx.cxx:328; 26: Taking true branch in /opt/root_src/rootx/src/rootx.cxx:328; 27: Memory is allocated in /opt/root_src/rootx/src/rootx.cxx:341; 28: 'i' is < 'numnbargs' in /opt/root_src/rootx/src/rootx.cxx:343; 29: Loop condition is true. Entering loop body in /opt/root_src/rootx/src/rootx.cxx:343; 30: Assuming 'i' is >= 'numnbargs' in /opt/root_src/rootx/src/rootx.cxx:343; 31: Loop condition is false. Execution continues on line 345 in /opt/root_src/rootx/src/rootx.cxx:343; 32: Potential leak of memory pointed to by 'argvv' in /opt/root_src/rootx/src/rootx.cxx:351; /opt/root_src/rootx/src/rootx.cxx:468:4: warning: Potential leak of memory pointed to by 'argvv' [clang-analyzer-cplusplus.NewDeleteLeaks]; 1: Assuming the condition is false in /opt/root_src/rootx/src/rootx.cxx:299; 2: Taking false branch in /opt/root_src/rootx/src/rootx.cxx:299; 3: Assuming 'i' is >= 'argc' in /opt/root_src/rootx/src/rootx.cxx:313; 4: Loop condition is false. Execution continues on line 328 in /opt/root_src/rootx/src/rootx.cxx:313; 5: 'notebook' is <= 0 in /opt/root_src/rootx/src/rootx.cxx:328; 6: Taking ,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7527:5090,allocate,allocated,5090,https://root.cern,https://github.com/root-project/root/issues/7527,1,['allocate'],['allocated']
Energy Efficiency, constructor for 'TString' in /opt/root_src/core/base/src/TString.cxx:2140; 27: Assuming 'cs' is non-null in /opt/root_src/core/base/src/TString.cxx:105; 28: Taking true branch in /opt/root_src/core/base/src/TString.cxx:105; 29: Calling 'TString::Init' in /opt/root_src/core/base/src/TString.cxx:107; 30: 'capacity' is >= 0 in /opt/root_src/core/base/src/TString.cxx:249; 31: Taking false branch in /opt/root_src/core/base/src/TString.cxx:249; 32: 'nchar' is >= 0 in /opt/root_src/core/base/src/TString.cxx:253; 33: Taking false branch in /opt/root_src/core/base/src/TString.cxx:253; 34: Assuming the condition is false in /opt/root_src/core/base/src/TString.cxx:257; 35: Taking false branch in /opt/root_src/core/base/src/TString.cxx:257; 36: Assuming 'capacity' is >= kMinCap in /opt/root_src/core/base/src/TString.cxx:265; 37: Taking false branch in /opt/root_src/core/base/src/TString.cxx:265; 38: Memory is allocated in /opt/root_src/core/base/src/TString.cxx:270; 39: Returned allocated memory in /opt/root_src/core/base/src/TString.cxx:107; 40: Returning from constructor for 'TString' in /opt/root_src/core/base/src/TString.cxx:2140; 41: Returned allocated memory in /opt/root_src/core/base/src/TString.cxx:2172; 42: Potential leak of memory pointed to by field 'fData' in /opt/root_src/core/base/src/TString.cxx:2173; /opt/root_src/core/base/src/TString.cxx:2191:12: warning: Potential leak of memory pointed to by field 'fData' [clang-analyzer-cplusplus.NewDeleteLeaks]; 1: Assuming 'base_in' is >= 2 in /opt/root_src/core/base/src/TString.cxx:2151; 2: Left side of '||' is false in /opt/root_src/core/base/src/TString.cxx:2151; 3: Assuming 'base_in' is <= 36 in /opt/root_src/core/base/src/TString.cxx:2151; 4: Left side of '||' is false in /opt/root_src/core/base/src/TString.cxx:2151; 5: Assuming 'base_out' is >= 2 in /opt/root_src/core/base/src/TString.cxx:2151; 6: Left side of '||' is false in /opt/root_src/core/base/src/TString.cxx:2151; 7: Assuming 'base_out' is <= 36 in /opt/roo,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:139802,allocate,allocated,139802,https://root.cern,https://github.com/root-project/root/issues/7412,1,['allocate'],['allocated']
Energy Efficiency, constructor for 'TString' in /opt/root_src/core/base/src/TString.cxx:2140; 31: Assuming 'cs' is non-null in /opt/root_src/core/base/src/TString.cxx:105; 32: Taking true branch in /opt/root_src/core/base/src/TString.cxx:105; 33: Calling 'TString::Init' in /opt/root_src/core/base/src/TString.cxx:107; 34: 'capacity' is >= 0 in /opt/root_src/core/base/src/TString.cxx:249; 35: Taking false branch in /opt/root_src/core/base/src/TString.cxx:249; 36: 'nchar' is >= 0 in /opt/root_src/core/base/src/TString.cxx:253; 37: Taking false branch in /opt/root_src/core/base/src/TString.cxx:253; 38: Assuming the condition is false in /opt/root_src/core/base/src/TString.cxx:257; 39: Taking false branch in /opt/root_src/core/base/src/TString.cxx:257; 40: Assuming 'capacity' is >= kMinCap in /opt/root_src/core/base/src/TString.cxx:265; 41: Taking false branch in /opt/root_src/core/base/src/TString.cxx:265; 42: Memory is allocated in /opt/root_src/core/base/src/TString.cxx:270; 43: Returned allocated memory in /opt/root_src/core/base/src/TString.cxx:107; 44: Returning from constructor for 'TString' in /opt/root_src/core/base/src/TString.cxx:2140; 45: Returned allocated memory in /opt/root_src/core/base/src/TString.cxx:2189; 46: 'isSigned' is false in /opt/root_src/core/base/src/TString.cxx:2190; 47: Taking false branch in /opt/root_src/core/base/src/TString.cxx:2190; 48: Potential leak of memory pointed to by field 'fData' in /opt/root_src/core/base/src/TString.cxx:2191; /opt/root_src/core/base/src/TString.cxx:2253:15: warning: Potential leak of memory pointed to by 'tok.fRep..fLong.fData' [clang-analyzer-cplusplus.NewDeleteLeaks]; 1: Assuming the condition is false in /opt/root_src/core/base/src/TString.cxx:2222; 2: Loop condition is false. Execution continues on line 2232 in /opt/root_src/core/base/src/TString.cxx:2222; 3: 'nrDiff' is <= 1 in /opt/root_src/core/base/src/TString.cxx:2234; 4: Taking false branch in /opt/root_src/core/base/src/TString.cxx:2234; 5: Loop condition is true. E,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:143568,allocate,allocated,143568,https://root.cern,https://github.com/root-project/root/issues/7412,1,['allocate'],['allocated']
Energy Efficiency," on lxplus. I have seen a hadd reaching 21 GB of memory used...**. **Here is a way to reproduce the issue and that shows the RAM consumption can be strongly reduced.**. I attach a `tar.gz` file which contains 2 scripts: ; [haddIssue.tar.gz](https://github.com/root-project/root/files/12429530/haddIssue.tar.gz). * `createFile.cxx` for creating the input file which will be used to illustrate the issue ; Compilation and execution (it takes ~10 min to create the file) ; ```bash; g++ createFile.cxx -o createFile.exe -Wall $(root-config --cflags --glibs); ./createFile.exe; ``` ; --> this will create the file `myFile.root` which contains 1000 directories, each directory containing `10k` histograms ; ; * `fasterCustomHadd.cxx` script which **allows doing a hadd but without a huge RAM consumption**; Compilation and execution ; ```bash; g++ fasterCustomHadd.cxx -o fasterCustomHadd.exe -Wall $(root-config --cflags --glibs); ./fasterCustomHadd.exe -j 1 -f myOtherFile2.root myFile.root ; ```; NB: please use the `-j 1` to request one thread as otherwise the script is creating partial hadded files ; ; A comparison with ; ```; hadd -f myOtherFile.root myFile.root ; ``` . Gives (see screen shots below): ; * `hadd`: at the very end the RAM used is **`4.4 GB`** (memory increasing during the whole processing of directories) ; * `fasterCustomHadd` the RAM used is only **`~205-210 MB`** and remains constant from the start to the end of the hadd. ; ; Many thanks in advance for the fix! . ### `hadd` RAM consumption ; ![hadd_RAM](https://github.com/root-project/root/assets/29270790/6096548f-23c8-4de8-9445-43db76f5d95b). ### `fasterCustomHadd` RAM consumption ; ![fasterCustomHadd_RAM](https://github.com/root-project/root/assets/29270790/7d45dbe5-5b46-40fc-a1e0-450d6df0c070). ### ROOT version. I tested both for ROOT root 6.20.06 and 6.24.08 ; I believe all ROOT versions are affected . ### Installation method. Built from source. ### Operating system. Linux. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13531:2132,consumption,consumption,2132,https://root.cern,https://github.com/root-project/root/issues/13531,2,['consumption'],['consumption']
Energy Efficiency," theta();; // get pseudorapidity; float eta();; };. class Hit : public Position { /* localized detector signal */; public:; Hit(float energy, float x, float y, float z);; // get energy and transverse energy; float e();; float et();; };; ```. * Now, consider 3 stages of evolution for Position:. 1. Simplest implementation is to have Cartesian coordinates as private attributes;. 2. The users find that they most often use radius and azimuth, hence decide to store spherical coordinates instead of (x,y,z);. 3. Actually, colliders use eta more often than theta, so that the internal state is now given by (r, phi, eta). * In parallel and independently, Hit also evolves:. a. Simplest implementation is to have only the energy as private member;. b. Because the number of requests for the transverse energy is very high, the users want to optimize the speed by keeping Et as private member;. c. Well, it happens that disk space is short and e() is rarely called, so that it makes sense to reduce the size of the Hit class by dropping the energy member and computing the energy just when calling the method e(). They also found that the detector parameters used to store data in version b are wrong, so that one needs to scale the energy by 1.3 only for version b (a and c are correct). Could you please provide a working example in which data are saved and fetched with different combinations of (1, 2, 3)x(a, b, c) (at least with 1a, 2b, 3c)?. * The next step is to consider collections of objects:. i) define. ```cpp; class Track { /* particle trajectory */. private:; std::vector< Hit > m_hits;. };; ```. ii) Because the crazy developers of Hit decided to make such class variable size, one needs to store a vector of pointers instead of objects:. ```cpp; class Track { /* particle trajectory */. private:; std::vector< Hit* > m_hits;. };; ```. iii) Disk space is very short! We cannot waste the single 32-bits word used by the STL vector... ```cpp; class Track { /* particle trajectory */. private:",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14540:1428,reduce,reduce,1428,https://root.cern,https://github.com/root-project/root/issues/14540,3,"['energy', 'reduce']","['energy', 'reduce']"
Energy Efficiency," write_thnsparse_l(); {; std::unique_ptr<TFile> file{TFile::Open(""hist.root"", ""RECREATE"")};; Int_t bins[2] = {10, 20};; Double_t xmin[2] = {0., -5.};; Double_t xmax[2] = {10., 5.};; THnSparseL hist{""hist"", ""hist"", 2, bins, xmin, xmax};; file->WriteObject(&hist, ""hist"");; }; ```; Try to read it with ROOT 6.32.00 (or `master`):; ```bash; root hist.root -e 'hist'; ```; You'll get this error:; ```txt; Error in <TClingCallFunc::make_ctor_wrapper>: Failed to compile; ==== SOURCE BEGIN ====; __attribute__((used)) extern ""C"" void __ctor_0(void** ret, void* arena, unsigned long nary); {; if (!arena) {; if (!nary) {; *ret = new THnSparseT<TArrayL>;; }; else {; *ret = new THnSparseT<TArrayL>[nary];; }; }; else {; if (!nary) {; *ret = new (arena) THnSparseT<TArrayL>;; }; else {; *ret = new (arena) THnSparseT<TArrayL>[nary];; }; }; }. ==== SOURCE END ====; Error in <TClingCallFunc::ExecDefaultConstructor>: Called with no wrapper, not implemented!; Error in <TClingClassInfo::New()>: Call of default constructor failed to return an object for class: THnSparseT<TArrayL>; Error in <TClass::New>: cannot create object of class THnSparseT<TArrayL>; Error in <TKey::ReadObj>: Cannot create new object of class THnSparseT<TArrayL>; IncrementalExecutor::executeFunction: symbol '_ZN10THnSparseTI7TArrayLE5ClassEv' unresolved while linking [cling interface function]!; You are probably missing the definition of THnSparseT<TArrayL>::Class(); Maybe you need to load the corresponding shared library?; IncrementalExecutor::executeFunction: symbol '_ZN10THnSparseTI7TArrayLE8StreamerER7TBuffer' unresolved while linking [cling interface function]!; You are probably missing the definition of THnSparseT<TArrayL>::Streamer(TBuffer&); Maybe you need to load the corresponding shared library?; ```. ### ROOT version. ROOT 6.32.00 upwards. ### Additional context. Thanks do @philippe554 for catching this! This issue is important for project HighLO because we're using `THnSparseL` as a container for reduced data.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15874:2243,reduce,reduced,2243,https://root.cern,https://github.com/root-project/root/issues/15874,1,['reduce'],['reduced']
Energy Efficiency,"# 6.30.00. **GitHub issue** that we still want to resolve before the release:. - [x] https://github.com/root-project/root/issues/11965; - [x] https://github.com/root-project/root/issues/13852. **Other items** that still need to be done without any associated GitHub issue:. - [x] This the problem with HistFactory component plotting [described on the forum](https://root-forum.cern.ch/t/problems-plotting-individual-components-with-roofit-histfactory/55151). Fixed in:; #13464; - [x] Do some fix such we don't need to reduce the precision in this [HS3 simultaneous fit unit test](https://github.com/root-project/root/blob/master/roofit/hs3/test/testHS3SimultaneousFit.cxx#L118). **Backports** that need to be made for the v6.30 branch (in this particular order from top to bottom, to not have a commit history too different from master):. - [x] https://github.com/root-project/root/pull/13812; - [x] https://github.com/root-project/root/pull/13784; - [x] https://github.com/root-project/root/pull/13853; - [x] https://github.com/root-project/root/pull/13813; - [x] https://github.com/root-project/root/pull/13879; - [x] https://github.com/root-project/root/pull/13881; - [x] https://github.com/root-project/root/pull/13883; - [x] https://github.com/root-project/root/pull/13890; - [x] https://github.com/root-project/root/pull/13896; - [x] https://github.com/root-project/root/pull/13911; - [x] https://github.com/root-project/root/pull/13914; - [x] https://github.com/root-project/root/pull/13109; - [x] https://github.com/root-project/root/pull/13905; - [x] https://github.com/root-project/root/pull/13925; - [x] https://github.com/root-project/root/pull/13912; - [x] https://github.com/root-project/root/pull/13915; - [x] https://github.com/root-project/root/pull/13918; - [x] https://github.com/root-project/root/pull/13929; - [x] https://github.com/root-project/root/pull/13986. The backports were grouped in a few PRs to `v6-28-00-patches`:. 1. https://github.com/root-project/root/pull/13870; 2",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13458:518,reduce,reduce,518,https://root.cern,https://github.com/root-project/root/issues/13458,1,['reduce'],['reduce']
Energy Efficiency,"# API Redesign. ## Goal. The goal is this PR is to improve the API of the CNN layers (MaxPooling and Conv currently), by eliminating redundant constructor arguments and fields. By redundant in this context, I refer to arguments that can be directly computed from others, and fields that unnecesseraly exist in multiple classes. ## Key points. Below some discussion points on design decisions I made, but still consider debatable. ; Since my experience in production level C++ is very limited I highly value opinions from experienced colleagues and previous authors of the module. ### Making `MaxPoolingLayer` a sub-class of `ConvLayer`. Every layer type in a convolutional network follows the logic existing in our `ConvLayer`:. A filter is sliding over the input and at each step applies an operation to the input elements within its receptive field to produce a single output element. * In a convolutional layer this operation is a linear combination with learnable parameters.; * In an average pooling layer the operation is a linear combination with constant parameters (and equal to the inverse of the receptive field's size).; * In a max pooling layer its a non linear operation. As we can see they all share the same logic and therefore fields. ## Results. 1. Common fields between the 2 layer types in the CNN module are now not duplicated (strides sizes, padding sizes, filter sizes). The same for the 4 `protected` methods in `ConvLayer`. 2. We now have a cleaner API, as the constructor arguments where reduced from 26 to 16 without any change in the functionality).",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2117:1514,reduce,reduced,1514,https://root.cern,https://github.com/root-project/root/pull/2117,2,['reduce'],['reduced']
Energy Efficiency,"# Original bug. The RDataFrame graph defined by the user in the local application is translated into a series of node objects. Each object stores a list of references to its children. When sending the tasks to a distributed scheduler, the head node of the graph is serialised (through pickle), and all its children are serialised with it (and their children, recursively). This behaviour leads to recursion limits hit by pickle after a certain amount of operations is requested, I could reproduce it with 200 operations:. ```python; import ROOT; RDataFrame = ROOT.RDF.Experimental.Distributed.Dask.RDataFrame. from dask.distributed import Client, LocalCluster. def many_defines(df):; # Maximum recursion depth exceeded at 200 iterations; for i in range(200):; df = df.Define(f""col_{i}"", f""{i}""). print(f""Total entries: {df.Count().GetValue()}""). if __name__ == ""__main__"":; cluster = LocalCluster(n_workers=2, threads_per_worker=1, processes=True); client = Client(cluster); df = RDataFrame(100, daskclient=client); many_defines(df); ```; Which raises the following; ```; _pickle.PicklingError: Could not pickle object as excessively deep recursion required.; ```. # Update. Fixing just the serialisation issue of the reproducer above unveiled another limitation of the current implementation. The distrdf graph locally needs to be pruned before being sent to the distributed scheduler. The pruning algorithm is also a recursive function, which by default have a limit of 1000 calls in Python. The reproducer above, when run with `990` Define nodes in the `many_defines` function, returns; ```; $: python test_many_defines.py; File ""/home/vpadulan/programs/rootproject/rootbuild/distrdf-percentage-ranges-distrdf-debug/lib/DistRDF/Node.py"", line 177, in graph_prune; if not n.graph_prune():; [Previous line repeated 988 more times]; RecursionError: maximum recursion depth exceeded; ```. ### Expected behavior. No error, as with local RDF:. ```python; import ROOT. def many_defines(df):; for i in rang",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10449:224,schedul,scheduler,224,https://root.cern,https://github.com/root-project/root/issues/10449,1,['schedul'],['scheduler']
Energy Efficiency,"# Problem; It is more efficient to debug applications relying on ROOT having a debug ROOT build. # Solution I would like. Provide debug builds for nightlies (and optionally for releases). # Alternatives . - Debug on Linux with released ROOT works perfectly for standard RedHat distros ( the others are less relevant ).; This is a very good alternative (thanks to Mattias!), but Linux-only and release-only. . - Building from the sources is a very-very bad alternative, as the created builds cannot be transferred elsewhere, i.e. shared with collaborators. Another reason why this is a bad alternative: building with the full configuration on Mac in a reasonable time requires a lot of CPU power, much more than a single user laptop can provide.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6430:22,efficient,efficient,22,https://root.cern,https://github.com/root-project/root/issues/6430,2,"['efficient', 'power']","['efficient', 'power']"
Energy Efficiency,"# This Pull request: Adds the ReduceMean, ReduceProd and ReduceSumsquare operators in SOFIE. ## Checklist:. - [X] tested changes locally",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11258:30,Reduce,ReduceMean,30,https://root.cern,https://github.com/root-project/root/pull/11258,3,['Reduce'],"['ReduceMean', 'ReduceProd', 'ReduceSumsquare']"
Energy Efficiency,"# This Pull request: Reduces global variable mutation, and is now easier to debug. ## Changes or fixes: Created a new Cpt class, moved all functions that use global variables to this class, and then made all the globals instance variables of the Cpt class. ## Checklist:. - [NA] tested changes locally; - [X] updated the docs (if necessary). This PR fixes issue mentioned in the meta-issue list #406 (https://github.com/root-project/cling/issues/406).",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10883:21,Reduce,Reduces,21,https://root.cern,https://github.com/root-project/root/pull/10883,1,['Reduce'],['Reduces']
Energy Efficiency,"# This Pull request: Reduces global variable mutation, making it easier to debug. ## Changes or fixes: Got rid of LLVM_GIT_URL, CLANG_GIT_URL, and CLING_GIT_URL and put them in their respective functions. I then got rid of the EXTRA_CMAKE_FLAGS variable and put it in the compile functions and replaced its global reference with the direct value. ## Checklist:. - [X] tested changes locally; - [NA] updated the docs (if necessary). This PR fixes #406 mentioned in meta-issue list (https://github.com/root-project/cling/issues/406)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11037:21,Reduce,Reduces,21,https://root.cern,https://github.com/root-project/root/pull/11037,1,['Reduce'],['Reduces']
Energy Efficiency,# This Pull request: Reduces global variable mutation. ## Changes or fixes: Removed the CPT_SRC_DIR and REVISION global variables and implemented them in the functional parameter passing style. ## Checklist:. - [X] tested changes locally; - [NA] updated the docs (if necessary). This PR fixes #406 mentioned in meta issue list (https://github.com/root-project/cling/issues/406),MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11058:21,Reduce,Reduces,21,https://root.cern,https://github.com/root-project/root/pull/11058,1,['Reduce'],['Reduces']
Energy Efficiency,# This Pull request: Reduces the use of the subprocess function and makes the code cleaner. ## Changes or fixes: Created a new extract_tar function to replace tar subprocess calls and pythonic tar extractions. ## Checklist:. - [X] tested changes locally; - [NA] updated the docs (if necessary). This PR fixes #406 mentioned in (https://github.com/root-project/cling/issues/406),MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11022:21,Reduce,Reduces,21,https://root.cern,https://github.com/root-project/root/pull/11022,1,['Reduce'],['Reduces']
Energy Efficiency,"# This Pull request: [Fix #6981] RDisplay::Print to list custom number of elements from collections. ## Changes or fixes:. AddCollectionToRow() modified so that the first 10 elements of long collections; are to be printed, then followed by ""..."". Previously, only the first and last; elements of collections of size >=3 were printed.; ; Print() logic is now simplified, since after ""..."" there is no guarantee; that there is going to be a next element.; ; Additional paramter to the constructor of the the RDisplay() was added,; that is the nMaxCollectionElements. It determines, number of elements to be; shown from long collction. Default is 10.; ; Corresponding tests were adapted and additional ones were added to check; the new functionality.; ; Regarding #6981 - to display the whole collection, please use AsString(). ## Checklist:. - [ ] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #6981",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9105:676,adapt,adapted,676,https://root.cern,https://github.com/root-project/root/pull/9105,1,['adapt'],['adapted']
Energy Efficiency,# This Pull request:. ## Adds a new feature:; Performs real-time map-reduce using Dask framework allowing real-time data representation. Fixes #13607. ## Checklist:. - [x] tested changes locally; - [x] updated the docs (if necessary). This PR fixes #,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13521:69,reduce,reduce,69,https://root.cern,https://github.com/root-project/root/pull/13521,1,['reduce'],['reduce']
Energy Efficiency,# This Pull request:. ## Changes or fixes:. ## Checklist:. - [ ] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #7395 Reduce precision errors for Mean and StdDev . I have tried to create a vector of Kahan sums using the already existing Kahan summation class:,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9546:148,Reduce,Reduce,148,https://root.cern,https://github.com/root-project/root/pull/9546,1,['Reduce'],['Reduce']
Energy Efficiency,"# This Pull request:. ## Changes or fixes:. After the recent update of the TMVA classification tests, some comments were not updated to reflect the changes, which is confusing. This PR makes the comments the same in all tests to reduce the conusion.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12375:229,reduce,reduce,229,https://root.cern,https://github.com/root-project/root/pull/12375,1,['reduce'],['reduce']
Energy Efficiency,"# This Pull request:. ## Changes or fixes:. From the Rcpp changelog:. * inst/include/Rcpp/: Added variadic templates to be used instead of; the generated code in `Rcpp/generated` and `Rcpp/module` when; compiling with C++11 or later. This PR adapts ROOT's R interface code to this change,. ## Checklist:. - [x] tested changes locally; - [ ] updated the docs (if necessary)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16075:242,adapt,adapts,242,https://root.cern,https://github.com/root-project/root/pull/16075,1,['adapt'],['adapts']
Energy Efficiency,"# This Pull request:. ## Changes or fixes:. This allows to build the documentation as part of the normal ROOT build and sets the basis for integrating it into the GitHub CI. And to test new PullRequests so that they do not break the existing documentation nor do add new warnings to it. You can still build the documentation as an external project, like is done now. ## Status. Draft, still work to do on the notebook / tutorial part. ## History. This supersedes the old PR https://github.com/root-project/root/pull/9966 that I just closed. The goals were:. - [x] Migrate old Makefile to modern CMake. See https://github.com/root-project/root/issues/9090; - [x] Allow building the documentation from a git source repository with read-only permissions. I.e. try to not pollute the sources within the process. This follows the Make to CMake migration philosophy. See https://github.com/root-project/root/issues/8947; - [x] As done by [ALICE](https://github.com/AliceO2Group/Monitoring/blob/dev/doc/CMakeLists.txt#L22), use a 'dynamic' Doxyfile declaration, that only specifies what needs to be changed with respect to the default one. This makes easier the maintenance, as you do not need to constantly update the Doxyfile when a new doxygen version arises, and prevents warnings when running in older doxygen versions. This will hopefully contribute to next point:; - [ ] https://github.com/root-project/root/issues/9953 in combination with https://github.com/ammaraskar/gcc-problem-matcher; - [ ] Allow in the future for automatic meta-documentation of the CMake flag system. See https://github.com/root-project/root/issues/8999; - [x] Potentially add a flag in the main ROOT CMakeLists.txt, to enable the building of the documentation via a normal ""add_subdirectory()"", so that one does not need to build as a separate process.; - [x] Make the doxygen documentation thread-safe; - [x] Don't let doxygen search for ""input"" files in the output directory (e.g. it looks now for Mathjax output files that",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15160:972,Monitor,Monitoring,972,https://root.cern,https://github.com/root-project/root/pull/15160,1,['Monitor'],['Monitoring']
Energy Efficiency,"# This Pull request:. ## Changes or fixes:. This is in a draft status, work in progress... The goals are:. - [x] Migrate old Makefile to modern CMake. See https://github.com/root-project/root/issues/9090; - [ ] Allow building the documentation from a git source repository with read-only permissions. I.e. try to not pollute the sources within the process. This follows the Make to CMake migration philosophy. See https://github.com/root-project/root/issues/8947; - [x] As done by [ALICE](https://github.com/AliceO2Group/Monitoring/blob/dev/doc/CMakeLists.txt#L22), use a 'dynamic' Doxyfile declaration, that only specifies what needs to be changed with respect to the default one. This makes easier the maintenance, as you do not need to constantly update the Doxyfile when a new doxygen version arises, and prevents warnings when running in older doxygen versions. This will hopefully contribute to next point:; - [ ] https://github.com/root-project/root/issues/9953; - [ ] Allow in the future for automatic meta-documentation of the CMake flag system. See https://github.com/root-project/root/issues/8999; - [x] Potentially add a flag in the main ROOT CMakeLists.txt, to enable the building of the documentation via a normal ""add_subdirectory()"", so that one does not need to build as a separate process.; - [x] Make the doxygen documentation thread-safe; - [x] Don't let doxygen search for ""input"" files in the output directory (e.g. it looks now for Mathjax output files that one just ""generated""). ## Checklist:. - [x] tested changes locally; - [ ] We would need to update https://github.com/root-project/web/blob/main/for_developers/doxygen/index.md; - [ ] Update rootspi scripts to build docu in CI accordingly; - [ ] tutorial generation does not work yet as ""out of source"". To-do...; - [x] require min doxygen version 1.9.4; - [ ] pre-check that output directory is empty ?; - [ ] if GVIZ not found, disable dot; - [ ] Stamp file generation to only recompile when changes; - [x] Remove unnee",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9966:521,Monitor,Monitoring,521,https://root.cern,https://github.com/root-project/root/pull/9966,1,['Monitor'],['Monitoring']
Energy Efficiency,# This Pull request:. ## Changes or fixes:. We compile our code (including the dictionaries) with warnings about C-Style casts. We would like to also reduce the warnings about the dictionaries. ## Checklist:. - [ ] tested changes locally; - [ ] updated the docs (if necessary),MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13301:150,reduce,reduce,150,https://root.cern,https://github.com/root-project/root/pull/13301,1,['reduce'],['reduce']
Energy Efficiency,"# This Pull request:. ## Changes or fixes:. When the external application (depending on ROOT) uses C++20, adding this C++ feature test can reduce the possibility of compilation failure. ## Checklist:. - [x] tested changes locally",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11311:139,reduce,reduce,139,https://root.cern,https://github.com/root-project/root/pull/11311,1,['reduce'],['reduce']
Energy Efficiency,"# This Pull request:. ## Changes or fixes:; Each of the four commits contains an independent improvement that I made while working on something else (error handling). They are not necessary, but I think they are useful nonetheless, so here they are. 1. MultiProcess::Messenger worker to master messages implemented slightly more efficiently.; 2. Implemented full TestStatistics::RooAbsL::constOptimizeTestStatistic; these features are used rarely in Higgs fits, I think, but they are nonetheless features in non-MP RooFit fits that I now added for feature parity.; 3. Extend RooAbsL test suite with comparisons to the non-MP RooFit fits (RooNLLVar) that they were intended to reimplement.; 4. Extend NaNPacker test suite with some simple arithmetic demonstrations / sanity checks. ## Checklist:. - [x] tested changes locally; - [x] updated the docs (if necessary)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15499:329,efficient,efficiently,329,https://root.cern,https://github.com/root-project/root/pull/15499,1,['efficient'],['efficiently']
Energy Efficiency,"# This Pull request:. * Histogram nodes now contain histogram name and number of entries (test included);; * Label nodes now use html, allowing for more custom fonts;; * Colors of different element types were changed to be easier to; distinguish;; * Empty RLoopManager is more clearly indicated;; * Actions which has run are more clearly indicated;; * Tests adapted accordingly. ## Checklist:. - [x] tested changes locally; - [x] updated the docs (if necessary). This PR fixes #9556",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9722:358,adapt,adapted,358,https://root.cern,https://github.com/root-project/root/pull/9722,1,['adapt'],['adapted']
Energy Efficiency,# This Pull request:. Adds a mechanism to RRawFile to report limitations of vector read requests. Xrootd servers are enforcing such limits. Extends the XRootD RRawFile plugin to query and report the server-side limits. Extends the RNTuple file page source to properly schedule vector reads in presence of limits. ## Changes or fixes:. Fixes RNTuple reading from XRootD. ## Checklist:. - [X] tested changes locally,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14175:268,schedul,schedule,268,https://root.cern,https://github.com/root-project/root/pull/14175,1,['schedul'],['schedule']
Energy Efficiency,"# This Pull request:. In preparation of multi-cluster prefetching, this PR fixes a few issues with the current I/O scheduling, namely:. - It fixes reading of offset columns where currently it can happen that we are by accident jumping back one cluster. This is due to the fact that in order to get the size of a collection in entry $n$, we have to read elements $n$ and $n-1$ of the offset column. Except when we are at the start of the new cluster, where we can simply read the first offset element in the cluster. - A problem in page coalescing of the file backend. The file backend should ensure that while coalescing page requests to a single read requests, we are not reading more than $x$ percent of the actual required payload. This mechanism was potentially breaking if the gaps between pages were all the same size. That's now fixed.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9096:115,schedul,scheduling,115,https://root.cern,https://github.com/root-project/root/pull/9096,1,['schedul'],['scheduling']
Energy Efficiency,"# This Pull request:. Passing by const-reference can mean two constructions (once on the caller, once in the ctor using the TString copy ctor). Instead passing by value and using move semantics in the ctor can reduce this to one construction on the caller and one move in the ctor. ## Checklist:. - [X] tested changes locally; - [ ] updated the docs (if necessary). fixes: #15434",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15469:210,reduce,reduce,210,https://root.cern,https://github.com/root-project/root/pull/15469,1,['reduce'],['reduce']
Energy Efficiency,# This Pull request:. This PR defines a new method `SetElement()` that allows to efficiently set matrix elements. . ## Checklist:. - [x] tested changes locally; - [x] updated the docs (if necessary). This PR fixes [#15285](https://github.com/root-project/root/issues/15285),MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15606:81,efficient,efficiently,81,https://root.cern,https://github.com/root-project/root/pull/15606,1,['efficient'],['efficiently']
Energy Efficiency,"# This Pull request:. Updates the binary format to release candidate 2. The changes are result of the RNTuple design workshop. The changes improve forward compatibility, scalability, and design limits. **Note**: I reverted the removal of the compression settings per column and cluster from the page list. We concluded to remove the settings based on the assumption that this information would only be useful for reporting, and for reporting it is acceptable to check the pages directly. However, meanwhile I realized another use case: scheduling decision based on the compression algorithm. We may decide to perform decompression on an accelerator based on the algorithm. In addition, the overhead after compression is low, [<1% of the size of footer + page list](https://docs.google.com/spreadsheets/d/17jGTCO90nzYr3Ktevq2DBn1DpEQLqzVGy3Uuy3oKtMA/edit?usp=sharing). ## Changes or fixes:. - Add a document version to the RNTuple binary format specification; - Add format version to RNTuple anchor; - Make all sizes in the anchor 64bit wide; - Remove individual versioning from envelopes; - Use 64bit xxhash3 for anchor and envelope checksums (replaces crc32); - Allow for 64bit wide envelopes and frames; - Clarify use of feature flag; - Add minimum entry and entry span to cluster group records; - Move cluster summaries into the page lists; - Enlarge switch column to 96bit. ## Checklist:. - [X] tested changes locally; - [X] updated the docs (if necessary)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13779:536,schedul,scheduling,536,https://root.cern,https://github.com/root-project/root/pull/13779,1,['schedul'],['scheduling']
Energy Efficiency,"# This Pull request:. [DF] Change the signature of RInterface::Describe. ## Changes or fixes:. A new structure `DFDescription` is introduced.; It has 2 member strings, corresponding to the brief and the full description.; It allows more interactive output of these strings. `RInterface::Describe` now returns a `DFDescription`.; As brief description is the output from `RInterface::DescribeDataset`.; As full description is the remaining code from `RInterface::Describe`.; Moreover, `RInterface::DescribeDataset` is now a private method. RDFDescription has the following methods:; * `AsString(bool)` -> returning brief/full description as a string; * `Print(bool)` -> printing the content of `AsString(bool)`; * overloaded `<<` -> returns ostream corresponding to `AsString(shortFormat=false)`; * printValue -> returns string corresponding to AsString(shortFomat=false); * `__repr__` pythonization -> assigning `__repr__` to `AsString(shortFormat=false)`. Tests and Tutorials were adapted correspondingly. ## Checklist:. - [ ] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #8893",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9551:981,adapt,adapted,981,https://root.cern,https://github.com/root-project/root/pull/9551,1,['adapt'],['adapted']
Energy Efficiency,"# This Pull request:. [Fix #6981] RDisplay::Print to show more elements from collections. ## Changes or fixes:. AddCollectionToRow() modified so that the first 10 elements of long collections; are to be printed, then followed by ""..."". Previously, only the first and last; elements of collections of size >=3 were printed. Print() logic is now simplified, since after ""..."" there is no guarantee; that there is going to be a next element. Current unit tests were adapted and a new one is added, to test showing; elements around the treshold, i.e. of <10, 10, 11, >11 elements. Regarding #6981 - to display the whole collection, please use AsString(). ## Checklist:. - [x] tested changes locally; - [x] updated the docs (if necessary). This PR fixes #6981",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9095:463,adapt,adapted,463,https://root.cern,https://github.com/root-project/root/pull/9095,1,['adapt'],['adapted']
Energy Efficiency,# This Pull request:; - Moves away from the legacy pass manager to the new llvm pass manager. Care is take to ensure the same behavior before and after the update. Could benefit from more testing. ## Changes or fixes:; - Adapt the existing passes for the new pass manager. ## Checklist:. - [x] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14267:221,Adapt,Adapt,221,https://root.cern,https://github.com/root-project/root/pull/14267,1,['Adapt'],['Adapt']
Energy Efficiency,"# This Pull request:; Implements fast conservative Sparse Matrix Multiplication (SpMM), i.e. C=A*B, where A, B and C are sparse matrices, with remarkable savings in operation count and memory usage. In the current implementation, the number of nonzeros in C is guessed as the number of rows in A containing at least a nonzero entry times the number of columns in B containing at least a nonzero entry. The matrix C is subsequently shrunk to delete entries corresponding to zero elements. This choice is far from optimal: for example, if A and B are diagonal matrices, C is initially allocated as fully dense even if it is diagonal too, with a tremendous waste of resources. In this PR, the number of nonzeros in C is computed in a conservative fashion (i.e. without dropping numerically zero entries in the result matrix C), prior to the matrix product computation itself. This is the best guess for the sparsity pattern of C without allocating extra memory. This PR results in a huge saving in execution time: for example, on randomly generated instances of size 5000 and 1% of non-zero elements, the average speedup with respect to the old implementation is 35x. ## Checklist:. - [x] tested changes locally; - [x] updated the docs (if necessary). This PR fixes [ROOT-2345](https://its.cern.ch/jira/browse/ROOT-2345)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15947:583,allocate,allocated,583,https://root.cern,https://github.com/root-project/root/pull/15947,1,['allocate'],['allocated']
Energy Efficiency,"# This Pull request:; Make changes in the class AdaptiveIntegratorMultiDim.; ## Changes or fixes:; Delete obscure conditions on evaluating integration status. The mentioned conditions are absent in the original RadMul algorithm. The problem with these conditions is in that they compare some arbitrary hard-coded constants with the absolute value of the integrated function. This lead to incorrect integration of some complicated function. Moreover, if one multiply integrand by some arbitrary factor and then divide the integral by it, then time and accuracy integration will change, but it shouldn't be so. For example, if integrated function return result of order 10^-38, then sometimes integration gives nonsense result with very low number of integrated function calls. The parameter RelAccuracy is not accounted for by the algorithm in this case (return result with some lower accuracy). But if the return value of integrated function multiply by 10^38 and then multiply the result of integration by 10^-38 then the integration gives the correct result with appropriate number of integrand calls. The parameter RelAccuracy then does work in this case. All this is because of mentioned hard-coded constants. ## Checklist:. - [x] tested changes locally; - [ ] updated the docs (if necessary)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11826:48,Adapt,AdaptiveIntegratorMultiDim,48,https://root.cern,https://github.com/root-project/root/pull/11826,1,['Adapt'],['AdaptiveIntegratorMultiDim']
Energy Efficiency,"# This Pull request:; Many years ago, when I originially wrote the CholeskyDecompGenDim class, I argued that the class does not need copy constructor or assignment operator implementations because nobody would ever want to copy a decomposition. Well, it turns out that in today's world, one wants to be able to move (and potentially also copy) CholeskyDecompGenDim, so you can put it into an std::optional, for example, so you can return a std::nullopt if the decomposition state is not okay, and a decomposition otherwise. The code as it was up to this MR does not behave correctly if a CholeskyDecompGenDim is copied, moved or assigned. In the old code, if you copy or move a CholeskyDecompGenDim, you're likely to read garbage from the decomposition because of a potential for use-after-free, and/or get a double free on destruction of the object that goes out of scope later. ## Changes or fixes:; This patch fixes this shortcoming by using a std::unique_ptr<F[]> to hold the allocated memory. As a result, we can use defaulted destructor, move assignment operators and constructors, and default constructors, and just need to implement a specialized copy constructor and assignment operator. This change should be transparent to existing code, and enable new use cases, without sacrificing performance. (Note: CholeskyDecomp itself does not need to be fixed because the size of the matrix is known at compile time, and storage is statically allocated.). ## Checklist:. - tested changes locally: yes; - updated the docs (in-line documentation comments have been updated, but no changes are visible to callers in existing code that did not trigger the bug that this MR fixes)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14399:980,allocate,allocated,980,https://root.cern,https://github.com/root-project/root/pull/14399,2,['allocate'],['allocated']
Energy Efficiency,"# This Pull request:; Removes invocations to the root-config executable at *ROOT module import time*. The executable `root-config` was invoked twice to check if RDataFrame was available. Such a behaviour causes a severe slowdown, especially on cvmfs. This has been replaced by a simple string comparison, which is fast and which has no impact in terms of memory (as a query to the type system would have caused with modules),. More in general, this simple PR could be considered as the first of a series to reduce the time needed to `import ROOT` as much as possible. ## Changes or fixes:. ## Checklist:. - [ ] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13803:507,reduce,reduce,507,https://root.cern,https://github.com/root-project/root/pull/13803,1,['reduce'],['reduce']
Energy Efficiency,"# This Pull request:; The `RooLagrangianMorphFunc` loads its input objects from a nested set of `TFolders` stored in a `TFile`. ; This MR adds protection (inspired by [ROOT-9275](https://sft.its.cern.ch/jira/browse/ROOT-9275) to avoid memory leaks in the initialisation of the `RooLagrangianMorphFunc`, which for large `RooFit` workspaces with many morphing functions can otherwise become unfeasible to use. . ## Changes or fixes:; - add a `cleanUpFolder` helper method to an existing anoymous namespace to `RooLagrangianMorphFunc.cxx`, which ensures ownership is enabled for `TFolder`s loaded from `TFile`s and optionally deletes the folders after setting them up ; - add a templated `loadFromFileResidentFolder` method to the same anonymous namespace in `RooLagrangianMorphFunc.cxx`, refactoring the procedure of loading an object from a nested `TFolder` structure that was previously performed in various locations in the class. The method exploits the `cleanUpFolder` method to prevent memory leaks in the access procedure. . ## Checklist:. - [ x ] tested changes locally - confirmed leak rate massively reduced in local testing. Draft test script (not yet merged) provided by @rahulgrit retains same output as before the changes; - [ ] updated the docs (if necessary) - no changes to user-accessible code. Inline doxygen documentation of new methods. . Tagging @rahulgrit @guitargeek",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9717:1108,reduce,reduced,1108,https://root.cern,https://github.com/root-project/root/pull/9717,1,['reduce'],['reduced']
Energy Efficiency,"# This Pull request:; [DF] Added SaveGraph Tutorials; [DF] Remove static members from SaveGraph (Apply improvements from #9145). ## Changes or fixes:. Removed the static GraphNode id initializer (relevant for SaveGraph). Removed static maps, which were used to check if a define/filter/range node were already on the computation graph.; Solution is to pass a (non-static) map, which is created at each call of SaveGraph. The visited map is now only one and has signature `std::unordered_map<void *, std::shared_ptr<GraphNode>>` - in this manner, different type of nodes can use the same map. The size of the map of visited nodes is used to assign unique ids. Now, also the action nodes are in the visited map. Moreover, some friend methods are now redundant. Tests were adapted accordingly. ## Checklist:. - [ ] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes #9145",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9540:770,adapt,adapted,770,https://root.cern,https://github.com/root-project/root/pull/9540,1,['adapt'],['adapted']
Energy Efficiency,"# This Pull request:; adds the `Real32Quant` column type to RNTuple. This column type stores floating point values on disk as integers with a user-defined precision (from 3 to 32 bits) and a user-defined value range. This allows to reduce the storage space required to save floats with a well-defined range with more precision than a simple truncation. The conversion is defined as (pseudocode): ; ```; def quantize(value, min, max, n_precision_bits); {; quantized_max = (1 << n_precision_bits) - 1;; scale = quantized_max / (max - min);; quantized = round((value - min) * scale);; return quantized;; }; ```. This change requires adding metadata to the on-disk information, more specifically in the Field Description (see specifications.md for more details). ## Checklist:. - [x] tested changes locally; - [x] updated the docs (if necessary)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16390:232,reduce,reduce,232,https://root.cern,https://github.com/root-project/root/pull/16390,1,['reduce'],['reduce']
Energy Efficiency,"## Changes or fixes:; * Add XZ,YZ, ZX, and ZY projection types; * Zero version of Lego view type; * Add energy scaling in REveDataProxyBuilderBase; * Ability to set camera type through REveViewer; * Corrections in reuse of compounds in REveDataSimpleProxyBuilder; * Fix selection/highlight in REveStraightLineSet. ## Checklist:. - [ x] tested changes locally; - [ ] updated the docs (if necessary)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/8676:104,energy,energy,104,https://root.cern,https://github.com/root-project/root/pull/8676,1,['energy'],['energy']
Energy Efficiency,"### Check duplicate issues. - [ ] Checked for duplicates. ### Describe the bug. https://github.com/root-project/root/blob/master/core/foundation/inc/ROOT/span.hxx#L153. Manipulating in any way the std namespace should not be done, this is why namespace exists in the first place, to separate things. In this case this will collide with https://en.cppreference.com/w/cpp/container/span. ### What is the expected behaviour?. If you want / need to use a span adaptor and you can not use c++20 do not inject in the std namespace but use another one, this is why namespace exists!. ### How to reproduce?. https://github.com/root-project/root/blob/master/core/foundation/inc/ROOT/span.hxx#L153 is violating c++ guidelines. ### ROOT version. master. ### How did you install ROOT?. irrelevant. ### Which operating system are you using?. irrelevant. ### Additional context. https://github.com/root-project/root/blob/master/core/foundation/inc/ROOT/span.hxx#L153 is violating c++ guidelines",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13042:456,adapt,adaptor,456,https://root.cern,https://github.com/root-project/root/issues/13042,1,['adapt'],['adaptor']
Energy Efficiency,"### Check duplicate issues. - [ ] Checked for duplicates. ### Description. A PyRoot for loop isn't iterating as many times as it should (actually about half as many times as it should). ### Reproducer. I have a TTree in a for loop and have been comparing the number of events (the details of which are in branches) with someone else at various points in that loop. Within that loop is a second loop where I'm looking at the number of tracks coming from those events. It is clear that that inner track isn't iterating anywhere nearly as much as it should be. ```python; # This is the event loop ; for entryNum in range (0, AutreeData.GetEntries()):; if (entryNum % 5000 == 0):; print(""Data Fourth Pass (Vn Corrected for Resolution)"", entryNum). # TTree; AutreeData.GetEntry(entryNum). # Event and track variables; px = AutreeData.Px; py = AutreeData.Py; pz = AutreeData.Pz; q = AutreeData.Charge; tofBeta = AutreeData.tofBeta; dEdx = AutreeData.dEdx; NSigmaPr = AutreeData.nSigmaPr; NSigmaKa = AutreeData.nSigmaKa; NSigmaPi = AutreeData.nSigmaPi; vx = AutreeData.Vx; vy = AutreeData.Vy; vz = AutreeData.Vz; Centrality = AutreeData.centrality; EPDnMIP = AutreeData.EPDnMip; EPDID = AutreeData.EPDid; DCA = AutreeData.DCA; NHits = AutreeData.nHits; NHitsdEdx = AutreeData.nHitsDedx; NHitsFit = AutreeData.nHitsFit; NHitsPoss = AutreeData.nHitsPoss; Tracknumber = AutreeData.tracknumber. # Various checks and irrelevant things go here. # Track loop; for index in range(Tracknumber):; # This histogram is filled to determine how many tracks there were initially. I had half of the other person's tracks (rougly); OverallTrackCheck.Fill(1) . # Irrelevant things go here; ```. ### ROOT version. 6.20. ### Installation method. It was in an online Jupyter notebook. ### Operating system. Windows. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14215:888,Charge,Charge,888,https://root.cern,https://github.com/root-project/root/issues/14215,1,['Charge'],['Charge']
Energy Efficiency,"### Check duplicate issues. - [ ] Checked for duplicates. ### Description. Dear Rooters,. Indeed I used the TMapFile together with TApplication to realize the online monitoring for my DAQ. After having tried many combinations of ROOT and ubuntu versions, finally it worked with ROOT 6.12.06 on Ubuntu 16.04.7 LTS (gcc 5.4.0). . The main problem is remaining with the TMapFile which requires -lNew to be included in the makefile. Once this works, the TApplication just doesn't work with error message of segmentation fault or violation. Or vice versa, TApplication works but TMapFile doesn't work. In order to repeat the errors, I collected the three ROOT example macros (as attached) and created a makefile to compile them. In the Makefile, the option of --new or -lNew have been added. One can include them or comment them out. On Ubuntu 20.04.1 LTS (gcc 9.4.0), with ROOT version from 6.12.06 to 6.28.04, none of the combinations got to work. For instance, when the TMapFile works with ROOT 6.12.06, then the TApplication returns an error of ""Segmentation violation"". With a newer ROOT, e.g. 6.28.04, the TApplication works but the TMapFile got the error message; *****************************************************************************; Error in <TMapFile::TMapFile> : no memory mapped file capability available; Use rootn.exe or link application against ""-lNew""; *****************************************************************************. Could you guys have a look at this problem and find out what happened or may find a solution? Many thanks in advance. Huagen Xu from FZ Juelich, IKP; [root_examples.zip](https://github.com/root-project/root/files/12415948/root_examples.zip). ### Reproducer. As attached, there are three Macro files plus one Makefile. Those three files are all the ROOT examples to demostrate how the TMapFile as well as the TApplication work. To reproduce the problem described above, one could follow the tipps below.; 1. Unzip the file into a local directory ; 2. ",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13511:166,monitor,monitoring,166,https://root.cern,https://github.com/root-project/root/issues/13511,1,['monitor'],['monitoring']
Energy Efficiency,"### Check duplicate issues. - [ ] Checked for duplicates. ### Description. From https://its.cern.ch/jira/browse/ROOT-4550. For TBuffer, one can set kIsOwner to false to ensure it doesn't delete the buffer passed to it. However, when using TMessage with compression, TMessage(void *buf, Int_t bufsize) moves the original fBuffer to fBufComp and decompresses that into fBuffer (I think). When the TMessage is deleted, fBufComp will be deleted even if kIsOwner is false. Since it contains the original buffer passed to it, this is dangerous (and inconsistent), and in my case crashes.; fBuffer isn't deleted, but maybe it should be (allocated by TMessage). Besides the destructor, there are a few other places in TMessage that also delete fBufComp, these would also be affected. ### Reproducer. As per the description. ### ROOT version. Any. ### Installation method. Any. ### Operating system. Any. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14557:630,allocate,allocated,630,https://root.cern,https://github.com/root-project/root/issues/14557,1,['allocate'],['allocated']
Energy Efficiency,"### Check duplicate issues. - [ ] Checked for duplicates. ### Description. From https://its.cern.ch/jira/browse/ROOT-4839. Dear Rooters,. I was writing an online monitoring program. Our DAQ is constantly writing data to a temporary TTree, and a monitoring GUI is reading the tree periodically. I followed the instructions (AutoSave) from the reference page http://root.cern.ch/root/html534/TTree.html. The program occasionally crashes after a Refresh() followed by a GetEntry(). I was able to reproduce the problem with a static TTree. The script that generates the tree is below.; ```cpp. {; gROOT->Reset();. TFile *f = new TFile(""test.root"",""recreate"");; TTree *tree = new TTree(""test"",""my test tree"");; TH1F *hh = new TH1F(""hh"",""hh"",100,-10,10);; Float_t x;. tree->Branch(""x"",&x,""x/F"");; //tree->SetCircular(10000);; int Count = 0;; for(size_t ii=0;ii<1000;ii++){; x = gRandom->Gaus(0,2);; tree->Fill();; hh->Fill(x);; Count++;; if(Count%1000==0) {; tree->AutoSave(""SaveSelf"");; //hh->Write();; }; }; tree->Write();; hh->Write();; f->Close();; }; ```. Then I used a root session to open the file. ```cpp; jliu@jliu-VirtualBox:~$ root \-l test.root; root [0]; Attaching file test.root as _file0...; root [1] TTree *t = (TTree*)gDirectory->Get(""test""); root [2] t->GetEntry(0); (Int_t)4; root [3] t->Refresh(); root [4] t->GetEntry(0); Error in <TObjArray::AddAt>: index \-1 out of bounds (size: 10, this: 0x9953a50); ```. This is very puzzling. Is there a way to get around this. I was able to reproduce this on both ROOT 5.27 (SL5.5) and ROOT 5.34 (Ubuntu 11.04). ### Reproducer. As per the description. ### ROOT version. Any. ### Installation method. Any. ### Operating system. Any. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14560:162,monitor,monitoring,162,https://root.cern,https://github.com/root-project/root/issues/14560,2,['monitor'],['monitoring']
Energy Efficiency,"### Check duplicate issues. - [ ] Checked for duplicates. ### Description. From https://its.cern.ch/jira/browse/ROOT-5114. All TString functions should raise an exception when they're asked to allocate more space than kMaxSize, instead of just logging an error and clamping the value. For example, the Clobber function is documented as allocating 'nc' characters, but the silent clamping is not mentioned at all. If the TString::Streamer was trying to read a malformed ROOT file, with a TString larger than kMaxSize (currently probably not possible due to alignment in the capacity of the TString, and kMaxSize being set to kMaxInt - 1, but this may accidentally be changed in the future), the Clobber-function would return a buffer that's too small, and potentially exploitable memory corruption would occur. ### Reproducer. NA. ### ROOT version. Any. ### Installation method. Any. ### Operating system. Any. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14552:193,allocate,allocate,193,https://root.cern,https://github.com/root-project/root/issues/14552,1,['allocate'],['allocate']
Energy Efficiency,"### Check duplicate issues. - [ ] Checked for duplicates. ### Description. Hi root team,. We are the ATLAS VHbbcc analysis team and we are testing with the new root preview version v6.32-rc1 since it has the bug fix related to the issue: https://root-forum.cern.ch/t/cling-jit-session-error-cannot-allocate-memory/56744. However we met some different behavior in this version compared to the previous 6.32/02 that we use. . 1) The pyROOT, we got a different type when access the RooCategory allowedState name. In the new version, it returns `cppyy.gbl.std.string` object, previously it is a python `str` object. May I ask it is designed or a bug? ; 2) We found this because it crushes when we tried to pass it to `re.findall()` function. But according to the cppyy document, the cppyy should convert `cppyy.gbl.std.string` to `str` automatically when the `str` is needed. So what is the reason for not being converted automatically?; 3) We also found that it takes much longer time to run the fit using the new root version, in our case, a 1-hour fit now takes 3-hours to finish. Is there any hint what may be the cause?. Thanks a lot for your time. Yuhao. ### Reproducer. ```; import ROOT. g = ROOT.TFile.Open(""/afs/cern.ch/work/y/yuhao/public/test.root""); ws=g.combined; simpdf=ws.pdf(""simPdf""); channelCat = simpdf.indexCat(); print(type(channelCat.begin().first)); ```. ### ROOT version. 6.32-rc1. ### Installation method. build from source. ### Operating system. Linux el9. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15479:298,allocate,allocate-memory,298,https://root.cern,https://github.com/root-project/root/issues/15479,1,['allocate'],['allocate-memory']
Energy Efficiency,"### Check duplicate issues. - [ ] Checked for duplicates. ### Description. If you have a laptop and an external monitor, the ROOT splash shows inbetween both displays, making it unreadable. ### Reproducer. root -a. ### ROOT version. ```; ROOT v6.30/04; Built for linuxx8664gcc on Jan 31 2024, 10:01:37; From heads/master@tags/v6-30-04; With c++ (Ubuntu 11.4.0-1ubuntu1~22.04) 11.4.0; Binary directory: /opt/root/bin; ```. ### Installation method. Binary Release. ### Operating system. Ubuntu 22.04. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14819:112,monitor,monitor,112,https://root.cern,https://github.com/root-project/root/issues/14819,1,['monitor'],['monitor']
Energy Efficiency,"### Check duplicate issues. - [ ] Checked for duplicates. ### Description. Moving from JIRA: [ROOT-10724](https://its.cern.ch/jira/browse/ROOT-10724); Most of the issue was solved - the remaining part is for a rare case: . We still ""leak"" in the odd case in which RDF jitted code is registered but the application never actually triggers any RDF event loops, in which case the code to be lazily jitted remains in the pipeline until the end of the application, and parts of the computation graph are kept alive indefinitely by heap-allocated shared_ptrs.; I suppose we could forcibly trigger execution of the jitted code that performs the clean-up whenever the count of live RLoopManagers goes from >0 to 0. ### Reproducer. -. ### ROOT version. any. ### Installation method. any. ### Operating system. any. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15076:531,allocate,allocated,531,https://root.cern,https://github.com/root-project/root/issues/15076,1,['allocate'],['allocated']
Energy Efficiency,"### Check duplicate issues. - [ ] Checked for duplicates. ### Description. The dataset produces by RooFit's built-in generate method appears to have some buggy behaviour, exhibited at least in its behaviour of the `reduce` method on it. ; The xRooFit built-in generate method's dataset does not exhibit these issues. ### Reproducer. ```; {; using namespace ROOT::Experimental::XRooFit;; // create a two-channel model; xRooNode w(""RooWorkspace"",""combined"",""my workspace"");; w[""simPdf/SR""]->SetXaxis(1,0,1);; w[""simPdf/CR""]->SetXaxis(1,0,1);; w[""simPdf/SR/bkg""]->SetBinContent(1,20);; w[""simPdf/CR/bkg""]->SetBinContent(1,20);. // xRooFit's generate method works fine:; auto toy = w[""simPdf""]->generate();; std::cout << toy.get<RooAbsData>()->reduce(""channelCat==0"")->sumEntries() << "" vs "" << toy.get<RooAbsData>()->sumEntries(""channelCat==0"") << std::endl;. // but RooFit's generate method produces a buggy dataset:. // extract list of obs and access RooAbsPdf:; RooArgSet obs( *w.obs().get<RooArgList>() );; auto pdf = w[""simPdf""]->get<RooAbsPdf>();. // call RooFit's generate method:; auto ds = pdf->generate(obs,RooFit::Extended());. std::cout << ds->reduce(""channelCat==0"")->sumEntries() << "" vs "" << ds->sumEntries(""channelCat==0"") << std::endl;; ; }; ```. ### ROOT version. 6.32, possibly 6.30 as well. ### Installation method. source. ### Operating system. any. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15744:215,reduce,reduce,215,https://root.cern,https://github.com/root-project/root/issues/15744,3,['reduce'],['reduce']
Energy Efficiency,"### Check duplicate issues. - [ ] Checked for duplicates. ### Description. This line; https://github.com/root-project/root/blob/2b997add1d6b432ce27f35c1cbf385ffdc4a7cd5/math/matrix/src/TDecompBase.cxx#L231; is wrong and leads to a runaway loop until it reaches the limit.; The handbook mentioned in the comment of the function correctly uses ≥1 instead of <1 in its algorithm.; The fix simply consists in changing <1 to ≥1. Pull request in preparation. ### Reproducer. As it is, the code works, but may lead to reduced numerical precision for big matrices. ### ROOT version. all, I guess ?. ### Installation method. any. ### Operating system. any. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13110:511,reduce,reduced,511,https://root.cern,https://github.com/root-project/root/issues/13110,1,['reduce'],['reduced']
Energy Efficiency,"### Check duplicate issues. - [ ] Checked for duplicates. ### Description. This problem has been already mentioned here [0] but no solution has been proposed. When you compare a RooDataHist obtained from a TH1 with fixed size binning everything looks ok but when you do the same from a variable size binning the comparison fails. See code below to reproduce the comparison. [0] https://root-forum.cern.ch/t/roodatahist-and-th1d-why-different-shape-bin-content/56971. ### Reproducer. just run root mytest.cpp. ```; using namespace RooFit;. void mytest() {. const int nBin=100;; double xbins[nBin+1];; const float left_Val = 150;; const float rightVal = 1150; ; const float logxmin = TMath::Log10(left_Val);; const float logxmax = TMath::Log10(rightVal);; const double dxLog = (logxmax-logxmin)/nBin;; for (int i=0;i<=nBin;i++) xbins[i] = TMath::Power(10., logxmin + i * dxLog);. TF1 *f1 = new TF1(""f1"",""expo(0)"",left_Val,rightVal);; f1->SetParameters(1e2,-1e-2);. TH1D *h1 = new TH1D(""h1"","""",nBin,xbins);; h1->FillRandom(""f1"",10000000);; RooRealVar mInv(""mInv"",""m [GeV]"",150,1150);; RooDataHist hist_test1(""hist_test1"",""hist_test1"",mInv,Import(*h1,false));; TCanvas *cExpo1 = new TCanvas();; gPad->SetLogx();; gPad->SetLogy();; auto plot_test1 = mInv.frame();; hist_test1.plotOn(plot_test1,DataError(RooAbsData::SumW2));; plot_test1->Draw();; h1->Draw(""same"");. TH1D *h2 = new TH1D(""h2"","""",nBin,left_Val,rightVal);; h2->FillRandom(""f1"",10000000);; RooDataHist hist_test2(""hist_test2"",""hist_test2"",mInv,Import(*h2,false));; TCanvas *cExpo2 = new TCanvas();; gPad->SetLogx();; gPad->SetLogy();; auto plot_test2 = mInv.frame();; hist_test2.plotOn(plot_test2,DataError(RooAbsData::SumW2));; plot_test2->Draw();; h2->Draw(""same"");. }; ```. ### ROOT version. ROOT 6.30/06. ### Installation method. homebrew. ### Operating system. OSX Sonoma 14.5. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/16028:844,Power,Power,844,https://root.cern,https://github.com/root-project/root/issues/16028,1,['Power'],['Power']
Energy Efficiency,"### Check duplicate issues. - [ ] Checked for duplicates. ### Description. When splitting a RooDataSet using the ```split`` method, the resulting partial datasets will share all observables.; It would make more sense to reduce the number of observables to the ones that actually appear in the dataset in a non-trivial way. ; If all data points in the same data set have the same value for some given observable, it should not appear in the partial dataset. ### Reproducer. Call ""RooDataSet::split"" on the dataset in any given HistFactory workspace with at least 2 channels. ### ROOT version; ```; ------------------------------------------------------------------; | Welcome to ROOT 6.29/01 https://root.cern |; | (c) 1995-2022, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built for linuxx8664gcc on Jun 22 2023, 13:49:51 |; | From heads/hs3-globs-and-nps@v6-29-01-1584-gbd50f9023bb |; | With c++ (GCC) 13.1.1 20230429 |; | Try '.help'/'.?', '.demo', '.license', '.credits', '.quit'/'.q' |; ------------------------------------------------------------------; ```. ### Installation method. compiled with cmake from master. ### Operating system. archlinux. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13087:220,reduce,reduce,220,https://root.cern,https://github.com/root-project/root/issues/13087,1,['reduce'],['reduce']
Energy Efficiency,"### Check duplicate issues. - [X] Checked for duplicates. ### Description. If a class allocates memory in its ctor (and deallocates in dtor). And included in `LinkDef.h` without `+` after class name. During I/O, the ctor will be called but not the dtor. ### Reproducer. Please refer to this code: https://github.com/karuboniru/root_memory_leak_report. It compiles to `gen`, `read{,_old}`. `gen` produces a `.root` file containing a tree of user defined class `TestData`. And `read` `read_old` read the tree to do something. `read` uses RDataFrame language and `read_old` uses old `SetBranchAddress` way. In the constructor of TestData, it will allocate memory for class `a_member`. And deallocate it in its destructor. Any call to the constructor or destructor of class `a_member` will be logged. If `#pragma link C++ class TestData;`, instead of `#pragma link C++ class TestData+;` is in the `LinkDef.h`, the read program will contain multiple call to `a_member::a_member` but only single or none call to `a_member::~a_member`, potenially causing memory leak per entry processed. ### ROOT version. ```; ROOT v6.32.04; Built for linuxx8664gcc on Aug 21 2024, 00:00:00; From heads/master@tags/v6-32-04; With clang version 18.1.8 (Fedora 18.1.8-3.fc41); Binary directory: /usr/bin; ```. ### Installation method. reproducable from self build (from copr), from fedora repo (official version) and ROOT from `/cvmfs/sft.cern.ch/lcg/views/LCG_106/x86_64-el9-gcc13-opt/setup.sh`. ### Operating system. Linux Fedora 41 and CentOS9. ### Additional context. This issue seems to be causing massive memory leak with [GENIE](https://github.com/GENIE-MC/Generator/blob/37ed4484091904ab614b6dbc179d1b676b11a2e1/src/Framework/Ntuple/NtpMCEventRecord.h#L37). The GENIE related tools [manually cleans](https://github.com/GENIE-MC/Generator/blob/37ed4484091904ab614b6dbc179d1b676b11a2e1/src/Apps/gNtpConv.cxx#L1282) the resources but it seems I can't do the same with RDataFrame.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/16375:86,allocate,allocates,86,https://root.cern,https://github.com/root-project/root/issues/16375,2,['allocate'],"['allocate', 'allocates']"
Energy Efficiency,"### Check duplicate issues. - [X] Checked for duplicates. ### Description. In some dictionary a class inheriting from `std::pair<std::string, std::string>` results in ; ```; Error in <TInterpreter::AutoParse>: Error parsing payload code for class myProject::dict::DictCreation with content:; ```; The original issue shows up in DD4hep, and works in previous versions of LCG_105 and before; see the green tick marks here: https://github.com/AIDASoft/DD4hep/pull/1242. ### Reproducer. setup root; ```; source /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Fri/ROOT/v6-32-00-patches/x86_64-el9-gcc13-opt/ROOT-env.sh; ```; or; ```; source /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev3/Thu/ROOT/HEAD/x86_64-el9-gcc13-opt/ROOT-env.sh; ```. And then run; ```; git clone https://github.com/andresailer/dictfailure.git; cd dictfailure; mkdir build; cd build; cmake ..; make; python ../fail.py; ```. The python ends up with; ```; Error in <TInterpreter::AutoParse>: Error parsing payload code for class myProject::dict::DictCreation with content:. #line 1 ""G__DDDict dictionary payload"". #define _BACKWARD_BACKWARD_WARNING_H; // Inline headers; #include <string>; namespace myProject {; namespace sim {; class TypeName : public std::pair<std::string, std::string> {; public:; TypeName(const std::pair<std::string, std::string>& c); : std::pair<std::string, std::string>(c) {}; /// Initializing constructor; TypeName(const std::string& typ, const std::string& nam); : std::pair<std::string, std::string>(typ, nam) {}; };; } // End namespace sim; } // End namespace myProject. namespace myProject {; namespace dict {; struct DictCreation {; };; } // dict; } //myProject. typedef myProject::dict::DictCreation DictCreation;. #if defined(__CINT__) || defined(__MAKECINT__) || defined(__CLING__) || defined(__ROOTCLING__). #pragma link C++ class myProject::dict::DictCreation;. #endif //cint and __friends__. #undef _BACKWARD_BACKWARD_WARNING_H. Error in <TClass::LoadClassInfo>: no interpreter information for cl",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15221:398,green,green,398,https://root.cern,https://github.com/root-project/root/issues/15221,1,['green'],['green']
Energy Efficiency,"### Check duplicate issues. - [X] Checked for duplicates. ### Description. It looks like we're leaking memory dynamically allocated through `std::string`, e.g., `std::string::reserve` and/or `std::string::append` etc. It seems to be reproducible via vanilla `cppyy` as shown below. Can someone take a look, please? Many thanks. cc: @scott-snyder . ### Reproducer. ```; import cppyy. cppyy.cppdef(""""""; #include <string>; class foo {; public:; const std::string leak (std::size_t size) const {; std::string result;; result.reserve(size);; return result;; }; };; """"""). obj = cppyy.gbl.foo(); for i in range(1000000):; s = obj.leak(2048); ```. ### ROOT version. Tested in both tags/v6-28-12@v6-28-12 and heads/master@v6-31-01-2207-gbeb5aead7a. ### Installation method. LCG_104d_ATLAS_15 and LCG dev3 nightly. ### Operating system. AlmaLinux release 9.4 (Shamrock Pampas Cat). ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15703:122,allocate,allocated,122,https://root.cern,https://github.com/root-project/root/issues/15703,1,['allocate'],['allocated']
Energy Efficiency,"### Check duplicate issues. - [X] Checked for duplicates. ### Description. Just including RooDataSet leads to spurious warnings; ```; /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev3/Fri/ROOT/HEAD/x86_64-el9-gcc12-opt/include/ROOT/RConfig.hxx:500:73: warning: 'REMOVE_THIS_NOW' attribute directive ignored [-Wattributes]; 500 | #define _R_DEPRECATED_REMOVE_NOW(REASON) __attribute__((REMOVE_THIS_NOW)); | ^; /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev3/Fri/ROOT/HEAD/x86_64-el9-gcc12-opt/include/ROOT/RConfig.hxx:508:37: note: in expansion of macro '_R_DEPRECATED_REMOVE_NOW'; 508 | # define _R__DEPRECATED_634(REASON) _R_DEPRECATED_REMOVE_NOW(REASON); | ^~~~~~~~~~~~~~~~~~~~~~~~; /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev3/Fri/ROOT/HEAD/x86_64-el9-gcc12-opt/include/ROOT/RConfig.hxx:460:39: note: in expansion of macro '_R__DEPRECATED_634'; 460 | # define _NAME3_(name1,name2,name3) name1##name2##name3; | ^~~~~; /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev3/Fri/ROOT/HEAD/x86_64-el9-gcc12-opt/include/ROOT/RConfig.hxx:477:30: note: in expansion of macro '_NAME3_'; 477 | # define _R__JOIN3_(F,X,Y) _NAME3_(F,X,Y); | ^~~~~~~; /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev3/Fri/ROOT/HEAD/x86_64-el9-gcc12-opt/include/ROOT/RConfig.hxx:522:3: note: in expansion of macro '_R__JOIN3_'; 522 | _R__JOIN3_(_R__DEPRECATED_,MAJOR,MINOR)(""will be removed in ROOT v"" #MAJOR ""."" #MINOR "": "" REASON); | ^~~~~~~~~~; /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev3/Fri/ROOT/HEAD/x86_64-el9-gcc12-opt/include/RooDataSet.h:93:6: note: in expansion of macro 'R__DEPRECATED'; 93 | R__DEPRECATED(6,34, ""Use RooDataSet(name, title, vars, Import(*tree), Cut(cutVar), WeightVar(wgtVarName))."");; | ^~~~~~~~~~~~~; ```. ### Reproducer. ```term; cat > main.cpp << EOF; #include <RooDataSet.h>; int main() {; return 0;; }; EOF; source /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev3/Fri/ROOT/HEAD/x86_64-el9-gcc12-opt/ROOT-env.sh; g++ -I $ROOTSYS/include main.cpp -o a.out; ```. ### ROOT version. ```; $ root --versio",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15150:307,Watt,Wattributes,307,https://root.cern,https://github.com/root-project/root/issues/15150,1,['Watt'],['Wattributes']
Energy Efficiency,"### Check duplicate issues. - [X] Checked for duplicates. ### Description. The Char_t typedef here:. https://github.com/root-project/root/blob/4cf09dc362036e22eaa687cd2566fabb6c8ed693/core/foundation/inc/RtypesCore.h#L37. is incorrect--a bare `char` is not guaranteed to be signed or unsigned. > char — type for character representation which can be most efficiently processed on the target system (has the same representation and alignment as either signed char or unsigned char, but is always a distinct type). [Multibyte characters strings](https://en.cppreference.com/w/cpp/string/multibyte) use this type to represent code units. For every value of type unsigned char in range [​0​, 255], converting the value to char and then back to unsigned char produces the original value.(since C++11) The signedness of char depends on the compiler and the target platform: the defaults for ARM and PowerPC are typically unsigned, the defaults for x86 and x64 are typically signed. To actually guarantee to be a signed type, `Char_t` would have to be declared as `signed char`. From another issue, it appears ROOT is moving away from Rtypes.h since the C++ standard has a evolved a more complete type system, so this may be a ""who cares"" issue... ### Reproducer. n/a. ### ROOT version. latest. ### Installation method. n/a. ### Operating system. n/a. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15927:355,efficient,efficiently,355,https://root.cern,https://github.com/root-project/root/issues/15927,2,"['Power', 'efficient']","['PowerPC', 'efficiently']"
Energy Efficiency,"### Check duplicate issues. - [X] Checked for duplicates. ### Description. The function returns a `Results *` that was allocated but never destroyed. https://github.com/root-project/root/blob/32437e03dc10a0473b5145a9068b34f1327d7161/tmva/tmva/src/DataSet.cxx#L284-L308. So it should be the responsibility of the caller to ensure proper cleanup of this object, but in general it is not done, for example. https://github.com/root-project/root/blob/32437e03dc10a0473b5145a9068b34f1327d7161/tmva/tmva/src/Factory.cxx#L785. Here the `results` pointer is never deleted in the function. There can be other places as such, we should take care of properly cleaning up every such call. . Found by valgrind:; ```; ==292588== 2,501,112 (152 direct, 2,500,960 indirect) bytes in 1 blocks are definitely lost in loss record 29,428 of 29,428; ==292588== at 0x4843F95: operator new(unsigned long) (vg_replace_malloc.c:483); ==292588== by 0x4C720ED: TStorage::ObjectAlloc(unsigned long) (TStorage.cxx:292); ==292588== by 0x4014E7: TObject::operator new(unsigned long) (TObject.h:181); ==292588== by 0x2C725C36: TMVA::DataSet::GetResults(TString const&, TMVA::Types::ETreeType, TMVA::Types::EAnalysisType) (DataSet.cxx:287); ==292588== by 0x2C7BD2CB: TMVA::MethodBase::AddClassifierOutput(TMVA::Types::ETreeType) (MethodBase.cxx:874); ==292588== by 0x2C7BBD3E: TMVA::MethodBase::TrainMethod() (MethodBase.cxx:689); ==292588== by 0x2C775BCE: TMVA::Factory::TrainAllMethods() (Factory.cxx:1173); ==292588== by 0x4F963FE: ???; ==292588== by 0x4F9107E: ???; ==292588== by 0x6EC8BCD: cling::IncrementalExecutor::executeWrapper(llvm::StringRef, cling::Value*) const (in /home/vpadulan/Programs/rootproject/rootbuild/fix-tutorial-tmva-cnn-classification-testing/lib/libCling.so); ==292588== by 0x6E4EA4E: cling::Interpreter::RunFunction(clang::FunctionDecl const*, cling::Value*) (in /home/vpadulan/Programs/rootproject/rootbuild/fix-tutorial-tmva-cnn-classification-testing/lib/libCling.so); ==292588== by 0x6E4F13C: cling::I",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14438:119,allocate,allocated,119,https://root.cern,https://github.com/root-project/root/issues/14438,1,['allocate'],['allocated']
Energy Efficiency,"### Check duplicate issues. - [X] Checked for duplicates. ### Description. There seems to be a subtle bug in the way colors are registered, which in the case described below makes `TColor::GetFreeColorIndex()` return a color index that is already used by a user-defined color. . This happens when I load a canvas from a `.root` file where the canvas was saved in a separate ROOT session that defined a new fill color AND a palette using `gStyle->SetPalette()`. The bug appears in 6.32.00 and 6.32.02 but NOT in 6.30.08. ### Reproducer. 1. Download minimal reproducible example at https://gist.github.com/bgrube/a939a059fd397129efacb8f0643ae022; 2. `source /cvmfs/sft.cern.ch/lcg/app/releases/ROOT/6.32.02/x86_64-almalinux9.4-gcc114-opt/bin/thisroot.sh`; 3. `python3 ./TColorBug.py`; 4. Output; 	```; 	Creating test file in a separate process; 	Color:1179 Red=1.000000 Green=1.000000 Blue=1.000000 Alpha=1.000000 Name=myColor; 	Info in <TCanvas::SaveAs>: ROOT file TColorBug.root has been created; 	Reading test file; 	ROOT.TColor.GetFreeColorIndex() = 1179; 	Color:1179 Red=1.000000 Green=1.000000 Blue=1.000000 Alpha=1.000000 Name=myColor; 	Wrong behavior: index 1179 returned by ROOT.TColor.GetFreeColorIndex() is already used; 	```. ### ROOT version. 6.32. ### Installation method. pre-built binary. ### Operating system. Linux. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/16051:868,Green,Green,868,https://root.cern,https://github.com/root-project/root/issues/16051,2,['Green'],['Green']
Energy Efficiency,"### Check duplicate issues. - [X] Checked for duplicates. ### Description. When attempting to produce a PCM from a module map specifying a header that cannot be found, I get the message; ```; /scratch/greenc/build/mrb-art-summer/e28-prof/build_slf7.x86_64/critic/critic/test/art/sampling-input/module.modulemap:3:10: error: cannot emit module critic_test_art_sampling-input_dict: size must be explicitly specified for missing header file ""canvas/Persistency/Common/Sampled.h""; header ""canvas/Persistency/Common/Sampled.h""; ^; ```; This—while unwelcome—is reasonable. However, `rootcling` then exits with status code 0 and the continues with the PCM file never generated. ### Reproducer. 1. Create a simple module map attempting to use a nonexistent header, e.g.; ```; module ""critic_test_art_sampling-input_dict"" {; requires cplusplus; header ""canvas/Persistency/Common/Sampled.h""; link ""libcanvas.so""; }; ```; 1. Attempt to create a PCM from it:; ```; rootcling --cxxmodule -f -v4 ...; ```; 1. Check the error code:; ```; echo $?; ```. ### ROOT version. ```; ------------------------------------------------------------------; | Welcome to ROOT 6.28/04 https://root.cern |; | (c) 1995-2022, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built for linuxx8664gcc on May 08 2023, 02:44:07 |; | From tags/v6-28-04@v6-28-04 |; | With g++ (GCC) 13.1.0 |; | Try '.help'/'.?', '.demo', '.license', '.credits', '.quit'/'.q' |; ------------------------------------------------------------------; ```. ### Installation method. UPS. ### Operating system. SL7. ### Additional context. * GCC13.1.0/C++20",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13675:201,green,greenc,201,https://root.cern,https://github.com/root-project/root/issues/13675,1,['green'],['greenc']
Energy Efficiency,"### Check duplicate issues. - [X] Checked for duplicates. ### Description. hi -. ATLAS is seeing a number of unit test failures in the dev4LCG/el9 nightlies; (which use root-6.28.00-patches); that are linked to trying to operate on Eigen objects from pyroot.; I've managed to reduce this to a simple, standalone example, which reveals; that the issue has to do with a template overload for operator(). The reproducer is in the attached archive. The included setup script; should be appropriate for lxplus9.; Run:. $ . ./setup; $ ./build.sh; $ python test.py. and it crashes with a segmentation violation. From gdb, the stack trace is:. ```; #0 0x00007ffff7558f13 in std::construct_at<CPyCppyy::PyCallable*, CPyCppyy::PyCallable* const&> (__location=0x5f3a3a676e697274); at /cvmfs/sft.cern.ch/lcg/releases/gcc/13.1.0-b3d18/x86_64-el9/include/c++/13.1.0/bits/stl_construct.h:97; #1 0x00007ffff75588c3 in std::allocator_traits<std::allocator<CPyCppyy::PyCallable*> >::construct<CPyCppyy::PyCallable*, CPyCppyy::PyCallable* const&> (; __p=0x5f3a3a676e697274, __a=...); at /cvmfs/sft.cern.ch/lcg/releases/gcc/13.1.0-b3d18/x86_64-el9/include/c++/13.1.0/bits/alloc_traits.h:539; #2 std::vector<CPyCppyy::PyCallable*, std::allocator<CPyCppyy::PyCallable*> >::push_back (this=0x7ffff75ba167, __x=@0x7fffffff7c40: 0x73abec0); at /cvmfs/sft.cern.ch/lcg/releases/gcc/13.1.0-b3d18/x86_64-el9/include/c++/13.1.0/bits/stl_vector.h:1281; #3 0x00007ffff75624a9 in CPyCppyy::CPPOverload::AdoptMethod (; this=0x7ffff75fe9a0 <CPyCppyy::TemplateProxy_Type>, pc=0x73abec0); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-28-00-patches/src/ROOT/v6-28-00-patches/bindings/pyroot/cppyy/CPyCppyy/src/CPPOverload.cxx:946; #4 0x00007ffff759fb6a in CPyCppyy::TemplateProxy::AdoptMethod (; this=0x7fffd65c01f0, pc=0x73abec0); at /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-v6-28-00-patches/src/ROOT/v6-28-00-patches/bindings/pyroot/cppyy/CPyCppyy/src/TemplateProxy.cxx:111; #5 0x00007",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13410:276,reduce,reduce,276,https://root.cern,https://github.com/root-project/root/issues/13410,1,['reduce'],['reduce']
Energy Efficiency,"### Check duplicate issues. - [X] Checked for duplicates. ### Description. hi -. Recently, we had an ATLAS bug report (https://its.cern.ch/jira/browse/ATR-28411); in which a job that loaded many dictionaries was starting to fail with; errors like. ```; cling JIT session error: Cannot allocate memory; ```. Although the job in question was not small, it was also not close to hitting; any limit on the process virtual size, which made this error confusing.; It turned out that what was happening was that the job was hitting; the limit on the number of VMAs, which on lxplus is just about 64k. A simple script which demonstrates the issue is given below.; When i run this on lxplus, it fails after about 21600 iterations, at which; point we have. ```; 21600 vmsize 1.2G nvma 65469; ```. So the total vmsize still (relatively...) quite small, but the number; of VMAs has bumped up against the system limit. Looking at a small part of the memory map:. ```; 7fb2d892f000-7fb2d8930000 r-xp 00000000 00:00 0 ; 7fb2d8930000-7fb2d8931000 rw-p 00000000 00:00 0 ; 7fb2d8931000-7fb2d8932000 r--p 00000000 00:00 0 ; 7fb2d8932000-7fb2d8933000 r-xp 00000000 00:00 0 ; 7fb2d8933000-7fb2d8934000 rw-p 00000000 00:00 0 ; 7fb2d8934000-7fb2d8935000 r--p 00000000 00:00 0 ; 7fb2d8935000-7fb2d8936000 r-xp 00000000 00:00 0 ; ```. So each time the jitter runs, it is producing a section of executable; memory, a section of read-only memory, and a section of read-write memory.; This would also be a performance issue. The jitter should somehow be more intelligent about grouping together; regions of the same protection. This may however be in tension; with other requirements, such as this comment from IncrementalJit.cpp:. ```; // A memory manager for Cling that reserves memory for code and data sections; // to keep them contiguous for the emission of one module. This is required; // for working exception handling support since one .eh_frame section will; // refer to many separate .text sections. However, stack unw",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14156:285,allocate,allocate,285,https://root.cern,https://github.com/root-project/root/issues/14156,1,['allocate'],['allocate']
Energy Efficiency,"### Describe the bug. Following up on #11396, I noticed that a NLL created from a RooSimultaneous in a multi-ranged configuration doesn't give the expected value. In https://github.com/root-project/root/pull/11445, I tried to implement a unit test that was checking exactly that, but the NLL from RooSimultaneous was not consistent with a mathematically equivalent sum of NLLs per category. It is still not clear whether the difference is only a constant factor that doesn't influence the fit result, but this is potentially a but that even has an influence on the results. I suspect that it is actually biasing the fit result, because in multi-ranged fits the NLL is computed using an integral of the top-level PDF that is created with `createIntegral`, and I'm not sure if the integral of a RooSimultaneous is well defined in that context. Please @AlkaidCheng, take note of this, because this is a potential problem for your workflow. ### Expected behavior. The NLL value from a RooSimultaneous in a multi-range configuration should be the same value as the normalized combination of individual NLLs created in the individual categories. ### To Reproduce. Comment out the final part of the `MultiRangeFitWithSplitRange` unit test in `testRooSimultaneous`. ### Setup. Arch Linux with ROOT master. ### Additional context. - The priority level of this issue can be reduced if it turns out that the difference in the NLL value is a constant that doesn't affect the fit result",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11447:1364,reduce,reduced,1364,https://root.cern,https://github.com/root-project/root/issues/11447,1,['reduce'],['reduced']
Energy Efficiency,"### Describe the bug. I open a workspace (RooWorkspace) that contains a pdf and various parameters. From these I do a loop on pseudo-experiments (""toys"") that generate a RooDataSet. For each toy in the loop, after generation, I delete the RooDataset. But the memory, as reported by the class ProcInfo_t, never decreases. It means that either ProcInfo_t is not actually showing the current memory information, or that is shows the ""integrated memory used since the beginning"",; or that RooDataSet would have a memory leak ?; or that I have a bug in my program ?. I provide a minimum reproducible example.; See for example : ""EXAMPLE OF PROBLEM"". The minimum program is here :; /afs/cern.ch/work/e/escalier/public/ForOthers/ProblemMemory. ### Expected behavior. the expected behaviour would be that when I delete the RooDataSet, the memory would reduce. ### To Reproduce; The README shows the quick steps for allowing to read the root file. ### Setup; I used root 6.18.00 to reproduce the problem on a french cluster of computer. On lxplus, I reproduce the problem, with root 6.20.02. ### Additional context",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/8984:844,reduce,reduce,844,https://root.cern,https://github.com/root-project/root/issues/8984,1,['reduce'],['reduce']
Energy Efficiency,"### Describe the bug; Importing `GaudiPython` module with current master version of [Py]ROOT produces exception and program crash. . ### To Reproduce; ```; $ source /cvmfs/sft-nightlies.cern.ch/lcg/views/dev3/latest/x86_64-centos7-gcc9-dbg/setup.sh; $ python -c 'import GaudiPython'; ```; produces:; ```; # setting LC_ALL to ""C""; In file included from GaudiPythonDict dictionary payload:71:; In file included from /cvmfs/sft-nightlies.cern.ch/lcg/views/dev3/Tue/x86_64-centos7-gcc9-dbg/include/GaudiKernel/Chrono.h:22:; In file included from /cvmfs/sft-nightlies.cern.ch/lcg/views/dev3/Tue/x86_64-centos7-gcc9-dbg/include/GaudiKernel/ChronoEntity.h:19:; In file included from /cvmfs/sft-nightlies.cern.ch/lcg/views/dev3/Tue/x86_64-centos7-gcc9-dbg/include/GaudiKernel/StatEntity.h:12:; In file included from /cvmfs/sft-nightlies.cern.ch/lcg/views/dev3/Tue/x86_64-centos7-gcc9-dbg/include/Gaudi/Accumulators.h:14:; In file included from /cvmfs/sft-nightlies.cern.ch/lcg/views/dev3/Tue/x86_64-centos7-gcc9-dbg/include/Gaudi/MonitoringHub.h:15:; In file included from /cvmfs/sft-nightlies.cern.ch/lcg/views/dev3/Tue/x86_64-centos7-gcc9-dbg/include/nlohmann/json.hpp:49:; In file included from /cvmfs/sft-nightlies.cern.ch/lcg/views/dev3/Tue/x86_64-centos7-gcc9-dbg/include/nlohmann/adl_serializer.hpp:5:; In file included from /cvmfs/sft-nightlies.cern.ch/lcg/views/dev3/Tue/x86_64-centos7-gcc9-dbg/include/nlohmann/detail/conversions/from_json.hpp:18:; /cvmfs/sft-nightlies.cern.ch/lcg/views/dev3/Tue/x86_64-centos7-gcc9-dbg/include/nlohmann/detail/meta/type_traits.hpp:11:10: fatal error: cannot open file '/build/jenkins/workspace/lcg_nightly_pipeline/install/dev3/jsonmcpp/3.9.1/x86_64-centos7-gcc9-dbg/include/nlohmann/json_fwd.hpp': No such file or directory; #include <nlohmann/json_fwd.hpp>; ^; python: /build/jenkins/workspace/lcg_nightly_pipeline/build/projects/ROOT-HEAD/src/ROOT/HEAD/interpreter/cling/lib/Interpreter/TransactionUnloader.cpp:72: bool cling::TransactionUnloader::unloadFromPre",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7950:1022,Monitor,MonitoringHub,1022,https://root.cern,https://github.com/root-project/root/issues/7950,1,['Monitor'],['MonitoringHub']
Energy Efficiency,"### Describe the bug; We must be able to build ROOT even if there's another ROOT installation at `/usr/local`. https://root-forum.cern.ch/t/problem-building-6-22-00-on-osx-10-14-with-clang-11/40652/9 seems to suggest that this is currently not the case. This is relevant for; - sanity: separating the build and its artifacts from other, pre-existing ROOT artifacts allows us to be certain we build what we think we build and we test the build and not a combination of the build and whatever other ROOT there is;; - people building ROOT on shared resources for which they don't have admin powers. ### Expected behavior; ROOT builds should be the same whether or not there are other ROOT installs / binaries no the system. ### To Reproduce; See forum. ### Setup; See forum. ### Additional context; Loosely related to https://github.com/root-project/root/issues/7081",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7128:588,power,powers,588,https://root.cern,https://github.com/root-project/root/issues/7128,1,['power'],['powers']
Energy Efficiency,"### Describe the bug; When accessing arrays in TTree::Scan() (or Draw()) if the array index is a formula like 1-1 it should be enclosed by ""()"" otherwise it does not work as expected. See:. ```; root [3] t1->Scan(""energy[1-1]:energy[(1-1)]:energy[0]""); ************************************************; * Row * energy[1- * energy[(1 * energy[0] *; ************************************************; * 0 * 275.16714 * 326.72375 * 326.72375 *; * 1 * 213.84567 * 261.90139 * 261.90139 *; * 2 * 413.62146 * 415.01107 * 415.01107 *; ```; The problem was [posted on the forum](https://root-forum.cern.ch/t/strange-operations-with-array-indices/52384). ### Expected behavior; `1-1` should be the same as `(1-1)`. ### To Reproduce; Use any tree with an array `x` and access` x[1-1]` and `x[(1-1)]`. ### Setup; Any ROOT version.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11712:214,energy,energy,214,https://root.cern,https://github.com/root-project/root/issues/11712,6,['energy'],['energy']
Energy Efficiency,"### Describe the bug; `RNTupleView` advertises a defaulted move constructor, but unconditionally frees state in it's destructor causing a double free in the destructor of the second instance. This is caused by the call to `fField.DestroyValue(fValue);` in the dtor. `fValue` is copyable and moveable since the copy special member functions are not deleted, but contains pointers to allocated memory which are not duplicated during copies or transferred during a move (with leaving the moved from pointer `nullptr`) and thus shared between two instances of `RNTupleView`. Although the documentation of `RFieldValue`, the type of `fValue`, claims that the class owns no memory, the class receives a heap allocated value during the call chain of the constructor initialization list of `RNTupleView`: `fValue(fField.GenerateValue())`. Since the ownership model is convoluted to me, I cannot propose an easy fix. From the perspective of `RNTupleView`, `RFieldValue` would need a user-defined move ctor transferrign ownership of the heap-allocated pointer and `RNTupleView`'s dtor needs to be able to detect and handle a moved-from state. But the former is against the documented intent of the class, so I need to leave this to the designers of those classes :). ### Expected behavior; The move ctor of `RNTupleView` should let the dtors of both `RNTupleView` instances finish correctly. ### To Reproduce. Example:; ```c++; auto ntuple = RE::RNTupleReader::Open(RE::RNTupleModel::Create(), ""DecayTree"", ""B2HHH~none.ntuple"");; {; auto viewH1IsMuon = ntuple->GetView<int>(""H1_isMuon"");; {; auto copy{std::move(viewH1IsMuon)};; } // dtor for copy, frees shared state; } // dtor for viewH1IsMuon, double free; ```. I assume the problem does not depend on the input file, so it can probably be reproduced in a smaller setup. ### Setup; ```; bgruber@graviola:$ root --version; ROOT Version: 6.29/01; Built for linuxx8664gcc on Jan 16 2023, 14:47:00; From remotes/origin/HEAD@v6-29-01-212-gc8ad008463; ```; Built w",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12136:382,allocate,allocated,382,https://root.cern,https://github.com/root-project/root/issues/12136,2,['allocate'],['allocated']
Energy Efficiency,"### Explain what you would like to see improved and how. From https://its.cern.ch/jira/browse/ROOT-5157. Chapter on schema evolution support needs to be added to the Users' Guide.; For example bases in the scenario:. ```cpp; class Position { /* point in 3D space */; public:; Position(float x, float y, float z);; // get Cartesian coordinates; float x();; float y();; float z();; // get spherical coordinates; float r();; float phi();; float theta();; // get pseudorapidity; float eta();; };. class Hit : public Position { /* localized detector signal */; public:; Hit(float energy, float x, float y, float z);; // get energy and transverse energy; float e();; float et();; };; ```. * Now, consider 3 stages of evolution for Position:. 1. Simplest implementation is to have Cartesian coordinates as private attributes;. 2. The users find that they most often use radius and azimuth, hence decide to store spherical coordinates instead of (x,y,z);. 3. Actually, colliders use eta more often than theta, so that the internal state is now given by (r, phi, eta). * In parallel and independently, Hit also evolves:. a. Simplest implementation is to have only the energy as private member;. b. Because the number of requests for the transverse energy is very high, the users want to optimize the speed by keeping Et as private member;. c. Well, it happens that disk space is short and e() is rarely called, so that it makes sense to reduce the size of the Hit class by dropping the energy member and computing the energy just when calling the method e(). They also found that the detector parameters used to store data in version b are wrong, so that one needs to scale the energy by 1.3 only for version b (a and c are correct). Could you please provide a working example in which data are saved and fetched with different combinations of (1, 2, 3)x(a, b, c) (at least with 1a, 2b, 3c)?. * The next step is to consider collections of objects:. i) define. ```cpp; class Track { /* particle trajectory */. p",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14540:575,energy,energy,575,https://root.cern,https://github.com/root-project/root/issues/14540,3,['energy'],['energy']
Energy Efficiency,"### Explain what you would like to see improved and how. Implement the RNTuple standard benchmarks using ORC: https://orc.apache.org/; Measure read/write time, memory consumption, and final file size. Moved from https://its.cern.ch/jira/browse/ROOT-10264. ### ROOT version. n/a. ### Installation method. n/a. ### Operating system. n/a. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/16310:167,consumption,consumption,167,https://root.cern,https://github.com/root-project/root/issues/16310,1,['consumption'],['consumption']
Energy Efficiency,"### Explain what you would like to see improved and how. In `TKey.cxx`, `TBufferXML.cxx`, `TMessage.cxx`, and `TBasket.cxx` the compression buffer is allocated with a size like:; ```; Int_t buflen = TMath::Max(512,fKeylen + fObjlen + 9*nbuffers + 28); //add 28 bytes in case object is placed in a deleted gap; ```; where ; ```; Int_t buflen = TMath::Max(512,fKeylen + fObjlen);; ```; is likely enough (i.e. there is no point in keeping the result of the compression if it is larger (including any headers) than the uncompressed data. A related issue is the test at `TKey.cxx:267` (similar test is present is other places).; ```; if (nout == 0 || nout >= fObjlen) { //this happens when the buffer cannot be compressed; ```; where the `nout` of a single fragment (thus at most `kMAXZIPBUF` with the total size of the object. The check is accurate if and only if there is only one fragment (i.e. `(1 + (fObjlen - 1)/kMAXZIPBUF) == 1`) other wise one can construct a scenario with some of the fragment compressing poorly (but being accepted because of the wiggle room mentioned above) and leading to case were we store the compressed data but the reader used is as uncompressed data because: `noutot == fObjlen`. Finally one should consider unifying those 4 similar code fragment (and maybe also the one in `RNTuple`) by factoring it ou. See https://github.com/root-project/root/pull/14523 for related discussions. ### ROOT version. master ; 6.32/00 or later as the fix for https://github.com/root-project/root/issues/14508 is required before attempted to address this is. ### Installation method. any. ### Operating system. all. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14651:150,allocate,allocated,150,https://root.cern,https://github.com/root-project/root/issues/14651,1,['allocate'],['allocated']
Energy Efficiency,"### Explain what you would like to see improved. Right now, the HS3 implementation of importing a HistFactory model contains somewhat of a re-implementation of HistFactory itself in so far as the creation of the RooFit objects (constraint terms, ProdPdfs, ...) is manual.; This constitutes somewhat of a code duplication with the actual implementation of HistFactory.; It might be worthwhile to rewrite this function completely to instead of building the RooFit objects directly, instead build a HistFactory model and then invoke HistToWorkspaceFactory(Fast) on it. However, this would probably need some major refactoring of HistFactory itself, since one would need to circumvent the need of HistFactory to store everything in a temporary file, and also probably require adding a method that works like HistToWorkspaceFactory, but only on a single channel. Hence, this improvement constitutes a significant chunk of work, the only possible payoff being reduced maintenance in the future. ; I leave it to the RooFit dev's to decide if this makes sense.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12368:954,reduce,reduced,954,https://root.cern,https://github.com/root-project/root/issues/12368,1,['reduce'],['reduced']
Energy Efficiency,"### Explain what you would like to see improved. We should be able to replace the Proof version of the h1analysis tutorial with one using distRDF. The tutorial should work without any external scheduler, i.e. ""just"" local multi-process to demonstrate what a distRDF analysis looks like. Once distRDF is non-experimental, the proof tutorial should be moved to legacy/.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/8985:193,schedul,scheduler,193,https://root.cern,https://github.com/root-project/root/issues/8985,1,['schedul'],['scheduler']
Energy Efficiency,"### Explain what you would like to see improved; I used [TCanvas](https://root.cern.ch/doc/master/classTCanvas.html)::SaveAs (which is a virtual function from its parent, [TPad::SaveAs](https://root.cern.ch/doc/master/classTPad.html#ac5f647da7241953352aa3c12baf41029)) to write canvases to files.; This function has two arguments. > SaveAs(const char *filename="""", Option_t *option=""""). however, there is absolutely no documentation what the ""option"" could be. I read docs for *TCanvas*, *TPad*, *TObject* and searched on google; finally, I read the source code and saw that the ""option"" was not used at all. As a side note, when I read the [manual's section on graphics](https://root.cern/manual/graphics/), I found that it doesn't discuss saving canvases, which is a pity, because [ROOT IO section](https://root.cern/manual/root_io) also deals with very different things. ### Optional: share how it could be improved; - write that the *option* argument has no effect for *TCanvas* and *TPad* *::SaveAs* (add this information to the method's documentation).; - maybe refer to [TPad::Print](https://root.cern.ch/doc/master/classTPad.html#ae44fee7e51d69841c1dce4b899eee14d) if one wants to use more options.; - maybe add to the manual's chapter on Graphics a small section how to write canvases/pads to files. ### Setup; 1. Master branch of the ROOT code. ### Additional context; If I understand correctly, *TPad::Print* method is the preferred and the most powerful one, while *SaveAs* is just for unification with *TObject* (probably it should be also mentioned in these method's docs, if this is true).",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/9176:1457,power,powerful,1457,https://root.cern,https://github.com/root-project/root/issues/9176,1,['power'],['powerful']
Energy Efficiency,"### Explain what you would like to see improved; I've been working (with couet and others) on reducing errors in the Doxygen documentation of the code, from 10k+ to a manageable level of under 1k (and going down). However, currently, there is no safeguard to prevent new commits from introducing new errors, which is prone to happen, as not everyone is familiar with the doxygen syntax. To maintain in a sustainable way the 'clean status' of the reference guide and online documentation, it would be helpful to add an automation script that compiles the documentation only with the files modified in the Pull Request to be merged, in the same way that a bot checks now about clang-format, etc. Because Doxygen can be configured to have only one input file, this extra check will not involve much time as compared to building the whole documentation. Then, it could be checked whether no warnings are produced by the 'touched' files. ### Optional: share how it could be improved; - [ ] The Github action or CI script should modify the -DDOCU_INPUT CMake flag to only add those touched by the Pull Request; - [x] The INCLUDE_PATH in the Doxyfile should be extended (for good, not just in the script) to all possible include folders, as you might touch a 'source file', but would get a bunch of warnings if Doxygen does not find the corresponding include path. (This is not the case in the full build, as the include files are also part of the INPUT, but wouldn't be the case if we just 'touch' the sources in the PR).; - [ ] The WARN_LOGFILE (-DDOCU_LOGFILE in cmake) should be set by the CI script to a useful filename. If the file is empty after running doxygen, the Test passes.; - [ ] Optional: HAVE_DOT, listLibs, etc. could be set to NO in case a speedup is wanted.; - [ ] Potentially hook it also up with spell-checking checks, see https://github.com/codespell-project/codespell; - [ ] Alternative approach suggested by albert-github to avoid missing references: use the overnight tag file from h",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/9953:404,sustainab,sustainable,404,https://root.cern,https://github.com/root-project/root/issues/9953,1,['sustainab'],['sustainable']
Energy Efficiency,"### Explain what you would like to see improved; It's hard to use TExecutor::MapReduce correctly, because the required signature of the reducer isn't mentioned in the documentation. ### Optional: share how it could be improved; - [ ] Add some info to all docs, e.g. that a lambda like this would do:; ```c++; [](const std::vector<T>&) { }; ```; Failure to meet that signature leads to an explosion of template instantiation failures with gcc.; - [ ] Show how to do a parallel for using `Map()`?; - [ ] Mention that `Map()` always has to return a dummy value (or: Fix #7872 ); - [ ] Check if TThreadExecutor etc need the same modifications. #### To Reproduce; ```c++; void runParallel() {; ROOT::Internal::TExecutor ex;; const auto nChunk = ROOT::IsImplicitMTEnabled() ? ex.GetPoolSize() : 1u; ; // Empty reducer; auto reducer = []() -> int { return 0; };; auto printRange = [=](std::size_t) -> int {; return 0;; };; ; ex.MapReduce(printRange, ROOT::TSeq<std::size_t>(0, nChunk), reducer, nChunk);; }; ```",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7871:136,reduce,reducer,136,https://root.cern,https://github.com/root-project/root/issues/7871,4,['reduce'],['reducer']
Energy Efficiency,"### Explain what you would like to see improved; There is a class for multidimensional integration, [IntegratorMultiDim](https://root.cern/doc/master/classROOT_1_1Math_1_1IntegratorMultiDim.html).; From that it's very hard to understand how to use that (in particular, what function should be passed to that and how). . ### Optional: share how it could be improved; Please add examples how to use that. ; In its class description and probably to tutorials (they don't contain any code with that class). ### Additional context; There was a [discussion on the ROOT Forum](https://root-forum.cern.ch/t/multi-dimensional-adaptive-integration/7663/3) with a ready good example. It was promised that people are working on the documentation, but it seems to be forgotten since then.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7740:617,adapt,adaptive-integration,617,https://root.cern,https://github.com/root-project/root/issues/7740,1,['adapt'],['adaptive-integration']
Energy Efficiency,"### Explain what you would like to see improved; qch and tag files generated by doxygen and posted at https://root.cern/reference/ are big. It would reduce some space and make it nicer to download, especially in the case of the tag file, that is XML and the automatic browser parser gets easily stuck trying to read it instead of downloading it. ### Optional: share how it could be improved; Apply compression as already done for the html. ### Setup; ```; ------------------------------------------------------------------; | Welcome to ROOT 6.27/01 https://root.cern |; | (c) 1995-2021, The ROOT Team; conception: R. Brun, F. Rademakers |; | Built for linuxx8664gcc on Jan 12 2022, 10:17:19 |; | From heads/master@v6-25-01-2870-gdac9b6398d |; | With c++ (Ubuntu 8.4.0-1ubuntu1~18.04) 8.4.0 |; | Try '.help', '.demo', '.license', '.credits', '.quit'/'.q' |; ------------------------------------------------------------------; ```. ### Additional context; https://github.com/doxygen/doxygen/issues/9185#issuecomment-1059971803",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10066:149,reduce,reduce,149,https://root.cern,https://github.com/root-project/root/issues/10066,1,['reduce'],['reduce']
Energy Efficiency,"### Feature description. As discussed in CHEP24 for CMS FlashSim samples produced with; oversampling a dedicated histo filling scheme is needed where events; are first accumulated on same-gen subevents then used to fill a TH; with proper error handling.; In order to achieve this in a (memory) efficient way the following; features would be needed:; - know the number of threads actively used and/or which threads will; not be used at all or any longer in the processing; - define a global_rdfentry_ that is a progressive number on the inputdataset; - know what global_rdfentry_ a given thread is processing. An additional useful feature, for handling oversampled events is the; option to have output events in Snapshots sorted according to the; global_rdfentry_ (i.e. maintaining the input order). ### Alternatives considered. _No response_. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/16740:294,efficient,efficient,294,https://root.cern,https://github.com/root-project/root/issues/16740,1,['efficient'],['efficient']
Energy Efficiency,"### Feature description. From https://its.cern.ch/jira/browse/ROOT-3437. TTree::Show() is one of my favorite commands because it allows one to investigate in one line the basic contents of a TTree. I find it frustrating, however, that STL containers of basic data types are not printed, and we merely get the class name (e.g. &amp;quot;vector&amp;lt;double&amp;gt;&amp;quot;) and the value of the pointer to the container, which tells you nothing more than that the container is allocated. I think it is possible to add this feature with some minor edits to TStreamerInfo. I have attempted this myself for vector&amp;lt;double&amp;gt; (see the attached) and had success with the following:. \- A branch made directly from a vector&amp;lt;double&amp;gt;; \- A branch made out of a class (call it &amp;quot;TTestClass&amp;quot;) that derives from TObject and contains a vector&amp;lt;double&amp;gt; as a data member; \- A branch made out of a class containing a data member that is a TClonesArray of TTestClass's. The basic idea was to imitate the special-case-handling for the std::string class in the TStreamerInfo::PrintValue() and TStreamerInfo::PrintValueAux(). One issue is that for the STL classes, counter-intuitively TStreamerInfo::fLength = 1, no matter how many entries are in the container, so that PrintValueAux() always gets called with aleng = 1 instead of something related to the size of the array. Rather than mess with fLength, which appears to have important function outside of the PrintValue*() routines, I thought it would be better to simply add lenmax as an additional final parameter to PrintValueAux(), to be used in place of aleng by the stl classes. This could then be compared to the container length and used in the printf loop in the same way that aleng is used for arrays of basic data types. The other issue I ran into is that it is not easy to format the output to make it look &amp;quot;nice&amp;quot;. The PrintCR() function used by other data types in PrintValueAux",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14555:479,allocate,allocated,479,https://root.cern,https://github.com/root-project/root/issues/14555,1,['allocate'],['allocated']
Energy Efficiency,"### Feature description. Introduce a ""live visualization"" feature to enable real-time representation of intermediate results in distributed ROOT computations. The idea is to provide the users with a feature that allows visualizing intermediate results, facilitating the monitoring and debugging of complex distributed analysis workflows. ### Alternatives considered. _No response_. ### Additional context. _No response_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13607:270,monitor,monitoring,270,https://root.cern,https://github.com/root-project/root/issues/13607,1,['monitor'],['monitoring']
Energy Efficiency,"### Is your feature request related to a problem? Please describe.; I want to create a frame for a _RooFormulaVar_. Unfortunately, it doesn't have a method _frame()_, so I wanted to use a _RooPlot_ constructor to create the frame, and later use the existing _plotOn()_ method of _RooFormulaVar_. However, it seems that [RooPlot](https://root.cern.ch/doc/master/classRooPlot.html) allows setting the number of bins only for _RooAbsRealLValue_, which is inconsistent. No method to set the number of bins is available. The underlying access to _nbins_ is private. ### Describe the solution you'd like; Allow to set the number of bins in all constructors. Maybe there should be a separate method for that, but it may be dangerous if someone tries to change the number of bins in the middle of processing. ### Describe alternatives you've considered; I already decided to use a new _RooRealVar_ instead of _RooFormulaVar_, but I think that a plot should allow to set the number of bins. UPD: no, there are no arguments to change the number of bins in _plotOn_. It seems it can be set only for the Plot.; _It looks like I can set the number of bins during _plotOn_ of _RooFormulaVar_. This is great. However, I think that in this case the number of bins in the constructor should be removed, to reduce code duplication. At least it should be made consistent in all constructors (see no reason for the otherwise, but I don't understand RooFit well yet)._. P.S. There is also a typo in the _RooPlot_ class description, ""settting"".",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7782:1289,reduce,reduce,1289,https://root.cern,https://github.com/root-project/root/issues/7782,1,['reduce'],['reduce']
Energy Efficiency,### Is your feature request related to a problem? Please describe.; It is hard to use the exiting thisroot.bat with powershell. ### Describe the solution you'd like; Having a version of thisroot.bat for powershell. E.g. thisroot.ps1. ### Describe alternatives you've considered; The considered alternative is to parse the thisroot.bat in powershell or launch powershell from the cmd.exe.; Both solutions are not nice.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6815:116,power,powershell,116,https://root.cern,https://github.com/root-project/root/issues/6815,4,['power'],['powershell']
Energy Efficiency,"### Is your feature request related to a problem? Please describe.; Not a problem, just ease of use when processing e.g. a large array with a lot of entries in parallel (with using SIMD in each thread). ### Describe the solution you'd like; #### ROOT; ```c++; void runParallel() {; ROOT::Internal::TExecutor ex; ; constexpr std::size_t nTotal = 101;. const auto nChunk = ROOT::IsImplicitMTEnabled() ? ex.GetPoolSize() : 1u; ; auto printRange = [=](std::size_t i) {; const auto nEvent = nTotal / nChunk + (nTotal%nChunk != 0); ; const auto begin = nEvent * i;; const auto end = std::min( nEvent * (i+1), nTotal);. std::cout << ""["" << i << ""] does "" << begin << ""\t"" << end << std::endl; sleep(1);. // We are forced to return a dummy value; return 0;; }; ; ex.Map(printRange, ROOT::TSeq<std::size_t>(0, nChunk));; }; ```; #### TBB; ```c++; void runParallel() {; constexpr std::size_t nTotal = 101;. auto printRange = [](const tbb::blocked_range<std::size_t>& range) {; std::cout << ""Doing "" << range.begin() << ""\t"" << range.end() << std::endl; sleep(1);; }; ; tbb::parallel_for(tbb::blocked_range<std::size_t>(0, nTotal), printRange, tbb::static_partitioner());; }; ```. #### OMP; ```diff; + #pragma omp parallel for schedule(static); for (std::size_t i = 0; i < end; ++i) {; ```",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7873:1216,schedul,schedule,1216,https://root.cern,https://github.com/root-project/root/issues/7873,1,['schedul'],['schedule']
Energy Efficiency,"### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->. The following code:. ```cpp; #include <iostream>; #include <utility>; #include <vector>; #include <ROOT/RDFHelpers.hxx>. auto foo() {; double f = 42.;. auto fn = [f](std::vector<int>) { std::cout << f << std::endl; };; fn({});; auto f2 = ROOT::RDF::PassAsVec<1, int>(fn);; f2(3);; return f2;; }. int main() {; auto fn = foo();; fn(1);; return 0;; }; ```; prints. ```; 42; 42; 4.66901e-310; ```; instead of; ```; 42; 42; 42; ```. The problem is that the `PassAsVecHelper` type stores a reference to the the lambda function.; Valgrind does not see the problem (lambdas are stack-allocated), `-fsanitize=address` does.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/8276:860,allocate,allocated,860,https://root.cern,https://github.com/root-project/root/issues/8276,1,['allocate'],['allocated']
Energy Efficiency,"### Version; ROOT version: 6.18/04; OS: Linux, SLC7; How you obtained ROOT: conda install; ### Describe the bug. When using pyROOT (might not necessarily be due to using pyROOT) with '-h' or '--help' in sys.argv, if a ROOT method is called, a root CLI help message will be wrongly printed out. In a lot of cases when designing a python package that uses ROOT with CLI support, this bug will make the CLI print out the root help instead of the intended help message from the python package. ### To reproduce the issue (e.g. using python interpreter):; ```; import sys; sys.argv.append('-h'); import ROOT; ROOT.Double(); ```; This will print out the following message:. """"""; usage: root [-b B] [-x X] [-e E] [-n N] [-t T] [-q Q] [-l L] [-config CONFIG]; [-memstat MEMSTAT] [-h HELP] [--version VERSION]; [--notebook NOTEBOOK] [--web WEB] [--web=<browser> WEB=<BROWSER>]; [dir] [file:data.root] [file1.C...fileN.C]. OPTIONS:; -b Run in batch mode without graphics; -x Exit on exceptions; -e Execute the command passed between single quotes; -n Do not execute logon and logoff macros as specified in .rootrc; -t Enable thread-safety and implicit multi-threading (IMT); -q Exit after processing command line macro files; -l Do not show splash screen; -config print ./configure options; -memstat run with memory usage monitoring; -h, -?, --help Show summary of options; --version Show the ROOT version; --notebook Execute ROOT notebook; --web Display graphics in a default web browser; --web=<browser> Display graphics in specified web browser; [dir] if dir is a valid directory cd to it before executing; [file:data.root] Open the ROOT file data.root; [file1.C...fileN.C] Execute the the ROOT macro file1.C ... fileN.C; """"""; And the program will terminate. ### Expected behaviour. No root CLI help message should be printed out",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7161:1312,monitor,monitoring,1312,https://root.cern,https://github.com/root-project/root/issues/7161,1,['monitor'],['monitoring']
Energy Efficiency,"#To do so one needs to pass -Dbuiltin_llvm=Off -Dbuiltin_clang=Off and the; PATH should contain the path to llvm-config. Note this is not enabling ROOT to work with vanilla clang!. This patch allows ROOT to be built against a prebuilt clang and llvm from; https://root.cern.ch/git/{llvm.git,clang.git}. It allows to reduce ROOT's; build times (in cases when cmake decides to rebuild the in-tree llvm for; no good reason). It moves the common denominator of different ROOT builds; in one place to save space. It also allows easy switch between LLVM in; debug and release mode. To build the external clang and llvm exactly in the same way as the; in-tree builds use:. CMAKE_FLAGS=""\; -DLLVM_ENABLE_WARNINGS=OFF \; -DLLVM_INCLUDE_TESTS=OFF \; -DCLANG_INCLUDE_TESTS=OFF \; -DLLVM_INCLUDE_EXAMPLES=OFF \; -DCLANG_BUILD_TOOLS=OFF \; -DCLANG_TOOL_ARCMT_TEST_BUILD=OFF \; -DCLANG_TOOL_CLANG_CHECK_BUILD=OFF \; -DCLANG_TOOL_CLANG_FORMAT_BUILD=OFF \; -DCLANG_TOOL_CLANG_FORMAT_VS_BUILD=OFF \; -DCLANG_TOOL_CLANG_FUZZER_BUILD=OFF \; -DCLANG_TOOL_CLANG_IMPORT_TEST_BUILD=OFF \; -DCLANG_TOOL_CLANG_OFFLOAD_BUNDLER_BUILD=OFF \; -DCLANG_TOOL_CLANG_RENAME_BUILD=OFF \; -DCLANG_TOOL_C_ARCMT_TEST_BUILD=OFF \; -DCLANG_TOOL_C_INDEX_TEST_BUILD=OFF \; -DCLANG_TOOL_DIAGTOOL_BUILD=OFF \; -DCLANG_TOOL_LIBCLANG_BUILD=OFF \; -DCLANG_TOOL_SCAN_BUILD_BUILD=OFF \; -DCLANG_TOOL_SCAN_VIEW_BUILD=OFF \; -DLLVM_BUILD_TOOLS=ON \; -DLLVM_TOOL_LLVM_AR_BUILD=OFF \; -DCLANG_TOOL_CLANG_OFFLOAD_BUNDLER_BUILD=OFF \; -DLLVM_FORCE_USE_OLD_TOOLCHAIN=ON \; -DCLANG_ENABLE_STATIC_ANALYZER=OFF \; -DCLANG_ENABLE_ARCMT=OFF \; -DCLANG_ENABLE_FORMAT=OFF \; -DLLVM_TARGETS_TO_BUILD=host \; -DLLVM_ABI_BREAKING_CHECKS=FORCE_OFF \; -DLLVM_ENABLE_ABI_BREAKING_CHECKS=OFF \; -DCMAKE_INSTALL_PREFIX=.. \; -DCMAKE_BUILD_TYPE=Debug"". cmake ""$CMAKE_FLAGS"" ../../../sources/root-llvm/. EDIT: We actially need -DLLVM_BUILD_TOOLS=OFF to be ON to build the llvm-config binary. Fixed in the description of this PR but not in the commit message.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1798:316,reduce,reduce,316,https://root.cern,https://github.com/root-project/root/pull/1798,1,['reduce'],['reduce']
Energy Efficiency,' in /opt/root_src/core/foundation/inc/TError.h:120; 11: Taking false branch in /opt/root_src/tree/ntuple/v7/src/RPageStorageFile.cxx:358; 12: expanded from macro 'R__ASSERT' in /opt/root_src/core/foundation/inc/TError.h:120; 13: Loop condition is false. Exiting loop in /opt/root_src/tree/ntuple/v7/src/RPageStorageFile.cxx:358; 14: expanded from macro 'R__ASSERT' in /opt/root_src/core/foundation/inc/TError.h:119; 15: Assuming the condition is true in /opt/root_src/tree/ntuple/v7/src/RPageStorageFile.cxx:359; 16: expanded from macro 'R__ASSERT' in /opt/root_src/core/foundation/inc/TError.h:120; 17: Taking false branch in /opt/root_src/tree/ntuple/v7/src/RPageStorageFile.cxx:359; 18: expanded from macro 'R__ASSERT' in /opt/root_src/core/foundation/inc/TError.h:120; 19: Loop condition is false. Exiting loop in /opt/root_src/tree/ntuple/v7/src/RPageStorageFile.cxx:359; 20: expanded from macro 'R__ASSERT' in /opt/root_src/core/foundation/inc/TError.h:119; 21: Memory is allocated in /opt/root_src/tree/ntuple/v7/src/RPageStorageFile.cxx:368; 22: Assuming the condition is false in /opt/root_src/tree/ntuple/v7/src/RPageStorageFile.cxx:369; 23: Taking false branch in /opt/root_src/tree/ntuple/v7/src/RPageStorageFile.cxx:369; 24: Assuming field 'fCurrentCluster' is non-null in /opt/root_src/tree/ntuple/v7/src/RPageStorageFile.cxx:374; 25: Left side of '||' is false in /opt/root_src/tree/ntuple/v7/src/RPageStorageFile.cxx:374; 26: Assuming the condition is false in /opt/root_src/tree/ntuple/v7/src/RPageStorageFile.cxx:374; 27: Left side of '||' is false in /opt/root_src/tree/ntuple/v7/src/RPageStorageFile.cxx:374; 28: Taking false branch in /opt/root_src/tree/ntuple/v7/src/RPageStorageFile.cxx:374; 29: Taking false branch in /opt/root_src/tree/ntuple/v7/src/RPageStorageFile.cxx:376; 30: expanded from macro 'R__ASSERT' in /opt/root_src/core/foundation/inc/TError.h:120; 31: Loop condition is false. Exiting loop in /opt/root_src/tree/ntuple/v7/src/RPageStorageFile.cxx:376; 32: exp,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7429:9013,allocate,allocated,9013,https://root.cern,https://github.com/root-project/root/issues/7429,1,['allocate'],['allocated']
Energy Efficiency,") IncrementalParser.cpp:0:0; #31 0x0000000001529c34 cling::IncrementalParser::Initialize(llvm::SmallVectorImpl<llvm::PointerIntPair<cling::Transaction*, 2u, cling::IncrementalParser::EParseResult, llvm::PointerLikeTypeTraits<cling::Transaction*>, llvm::PointerIntPairInfo<cling::Transaction*, 2u, llvm::PointerLikeTypeTraits<cling::Transaction*> > > >&, bool) IncrementalParser.cpp:0:0; #32 0x000000000151d992 cling::Interpreter::Interpreter(int, char const* const*, char const*, std::__2::vector<std::__2::shared_ptr<clang::ModuleFileExtension>, std::__2::allocator<std::__2::shared_ptr<clang::ModuleFileExtension> > > const&, bool, cling::Interpreter const*) Interpreter.cpp:0:0; #33 0x00000000014a5117 std::__2::vector<std::__2::shared_ptr<clang::ModuleFileExtension>, std::__2::allocator<std::__2::shared_ptr<clang::ModuleFileExtension> > >::~vector() /scratch/greenc/test-products/clang/v14_0_6b/Linux64bit+3.10-2.17/bin/../include/c++/v1/vector:399:17; #34 0x00000000014a5117 RootClingMain(int, char**, bool) /scratch/greenc/test-products/root/v6_26_04/source/root-6.26.04/core/dictgen/src/rootcling_impl.cxx:4315:7; #35 0x00000000014b2135 ROOT_rootcling_Driver /scratch/greenc/test-products/root/v6_26_04/source/root-6.26.04/core/dictgen/src/rootcling_impl.cxx:0:16; #36 0x00000000014f6b7e main /scratch/greenc/test-products/root/v6_26_04/source/root-6.26.04/core/rootcling_stage1/src/rootcling_stage1.cxx:46:4; #37 0x00007f1551302555 __libc_start_main (/lib64/libc.so.6+0x22555); #38 0x000000000143eb89 _start (/scratch/greenc/test-products/root/v6_26_04/build/Linux64bit+3.10-2.17-c13-p3912-prof/core/rootcling_stage1/src/rootcling_stage1+0x143eb89); <snip/>; ```. ### Expected behavior. Successful build. ### To Reproduce. Attempt to build ROOT with LLVM/Clang 14.0.6 and C++17 / `libc++` (precise configuration should be irrelevant provided `runtime_cxxmodules` is `ON`). ### Additional context. This was a second, simplified attempt after `rootcling` failed to find PSTL headers (_e.g._ `_",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10861:5556,green,greenc,5556,https://root.cern,https://github.com/root-project/root/issues/10861,1,['green'],['greenc']
Energy Efficiency,"). So it is also possible to do (this time picking a real example from ROOT):; ```python; @pythonization(""ROOT::VecOps::RVec<"", is_prefix=True); def pythonizor_RVec(klass, name):; ...; ```; The `is_prefix` argument (`False` by default) tells that I want to match anything that starts with `ROOT::VecOps::RVec<`, e.g. `ROOT::VecOps::RVec<float>`. The same thing can be done with an iterable too:; ```python; @pythonization([ ""ROOT::VecOps::RVec<"", ""std::vector<"" ], is_prefix=True); def pythonizor_RVec_stdvec(klass, name):; ...; ```. Alternatively, I could have allowed regular expressions. I discarded that because of two reasons:; - They are more costly that simple string comparison.; - They complicate the registration of pythonizors per scope. In this new `@pythonization` decorator, the scope of the class is parsed (e.g. `NS1::NS2` for `NS1::NS2::C`) and the pythonizor is _registered for that scope_. This allows for more efficient lookup of the pythonizors to apply, because when a class is accessed for the first time, only the pythonizors registered for its scope will be attempted. This is nice for user classes, because if a user class belongs to `UserNamespace`, when the user script first accesses the class only the pythonizors for classes in `UserNamespace` will be tried, and not every single registered pythonizor (in particular, not all the pythonizors ROOT registers for its classes in the global namespace). So I prefer to have a clean static prefix that unambiguously tells me what the target scope is than something like `NS1::(.+)::C`. And if the user wants to do an additional complex matching with regular expressions, they can still do so in their pythonizor code via the `name` parameter. I'd like to hear the opinion of @pikacic and @daritter about this since we've discussed about this decorator in the past (no need to review the whole PR, giving your opinion on the programming examples is already more than enough!). EDIT: I have received some feedback from @eguiraud",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9128:2595,efficient,efficient,2595,https://root.cern,https://github.com/root-project/root/pull/9128,1,['efficient'],['efficient']
Energy Efficiency,");; ROOT::TThreadExecutor executor(8);; ROOT::DisableIMT();. executor.MapReduce(...); //Runs on two threads!. ROOT::EnableIMT(3);; //Still two threads! TThreadExecutor instance was keeping the scheduler alive; ```; This also implies that given two co-existent instances of TThreadExecutor initialized with a different number of threads, the first one to be initialized forces on the second one the number of threads to work with. ```cpp; ROOT::TThreadExecutor executor(4);; ROOT::TThreadExecutor executor2(8); //will run limited to two threads!!; ```; This setup was useful [to avoid undefined behaviours between the implicit and explicit parallelism modes of ROOT](https://indico.cern.ch/event/607814/contributions/2466931/attachments/1409778/2155811/TScheduler.pdf). . # New behaviour; With this PR, we can separate this two modes of execution. We support the co-existance of several TThreadExecutors, each handling a different number of threads, by initializing the scheduler with the [default number of threads](tbb::task_scheduler_init::default_num_threads) and using a ```tbb::task_arena``` per TThreadExecutor to work with a subset of them instead. ```cpp. //Each of the executor manages its own tbb::task_arena,; //which allows the co-existance of TThreadExecutors; //handling different number of threads.; TThreadExecutor executor1(8); //will run on 8 threads; TThreadExecutor executor2(4); //will run on 4 threads. //IMT keeps a different task Arena too!; ROOT::EnableIMT(4); //4 threads will be used in IMT operations; //executor3 will be initialized with 4 threads for backward; //compatibility. Should we not allow this interaction? ; //Should it be initialized with the default number of threads?; TThreadExecutor executor3; //Implicit constructor. Initialized with 4 threads.; ROOT::DisableIMT();. ROOT::EnableIMT(2); //2 threads will be used in IMT operations; ROOT::TThreadExecutor executor(8); //Explicit number of threads. ; // Will execute on 8 threads.; ROOT::EnableIMT(4); //2 th",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2389:2315,schedul,scheduler,2315,https://root.cern,https://github.com/root-project/root/pull/2389,1,['schedul'],['scheduler']
Energy Efficiency,"* Adapted from the physics analysis examples published with the 13 TeV; ATLAS Open Data release in 2020; * See http://opendata.atlas.cern/release/2020/documentation/physics/intro.html. Voila! Most likely the last tutorial I'll factor out of the ATLAS Open Data release. It's a nice one because it's very similar to the [W boson analysis](https://root.cern/doc/master/df105__WBosonAnalysis_8py.html), but in contrary heavily filters and looks for the rare production of a single top. We can run on 60GB (this one runs by default only on 5% of it), which makes it also a nice benchmark or example to test scaling with heavy filtering of the inital datasets. That's the result:. ![Screenshot from 2020-07-31 14-32-56](https://user-images.githubusercontent.com/6951222/89035448-40af8f80-d33b-11ea-976b-f2f03ea00c5c.png)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6107:2,Adapt,Adapted,2,https://root.cern,https://github.com/root-project/root/pull/6107,1,['Adapt'],['Adapted']
Energy Efficiency,"* Add infrastructure to call distcc as prefix; * Use distcc as CCACHE_PREFIX if ccache is enabled. Works extremely well! I get a speedup of almost 2x using a second laptop with a comparable CPU. My third laptop is so slow that it does not help at all ;) However, a screenshot of the monitoring:. ![screenshot_25-05-20_23-19-08](https://user-images.githubusercontent.com/6951222/82887084-c6801a80-9f47-11ea-969a-10fc9b2c7a4f.png). Also works nicely with ccache. Though I'm not too sure whether it's nice how I integrated it (see the `CCACHE_PREFIX` envvar set in the command for `RULE_LAUNCH_COMPILE`).",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5705:283,monitor,monitoring,283,https://root.cern,https://github.com/root-project/root/pull/5705,1,['monitor'],['monitoring']
Energy Efficiency,* Rename DeclareCppCallable to Numba.Declare; * Remove generic backend; * Rename and adapt test accordingly; * Add support for RVecs in callables jitted with numba; * Add tutorial. ~We desperately need numba on the PR build nodes!~ Taken care of!,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5310:85,adapt,adapt,85,https://root.cern,https://github.com/root-project/root/pull/5310,1,['adapt'],['adapt']
Energy Efficiency,"* replace ROOTSYS by $ROOTSYS; * import new options for `root` and `root-config` from the current help messages; * extended the explanation of `root` for macro compilation (`+`, `+O`, ...), combinations of macro and data files, combinations of macros with expressions; * updated a few URLs; * updated root-config explanation for Makefiles (adapting to built-in rules). Please check, especially the third point is based my on my regular usage of root and not on the official documentation.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1487:340,adapt,adapting,340,https://root.cern,https://github.com/root-project/root/pull/1487,1,['adapt'],['adapting']
Energy Efficiency,"***tl;dr;*** This PR eliminates (almost all of) the dependencies between the implicit and explicit multithreading execution modes in ROOT and allows the co-existance of several TThreadExecutor instances, each one executing on a different number of threads. . It doesn't change any other behaviour in the eyes of the user. TO DO:. - [ ] Decide on explicit-implicit MT execution modes' interactions; - [ ] Rename TPoolManager; - [ ] Decide if allowing change of the number of threads when calling several times EnableImplicitMT(x) with a varying x without an intermediate call to DisableImplicitMT(); - [ ] Add warnings . ***********************************************************************************. # Previous behaviour; Previous to this PR, the number of threads was limited during the lifetime of the tbb scheduler, kept alive by TPoolManager as a ```std::shared_ptr``` as long as references to it existed, to the value set on its initialization. ```cpp; //We initialize the scheduler with 4 threads; ROOT::EnableIMT(4);; { ; //The scheduler is active, so the value passed to TThreadExecutor; //is overriden with the number of threads the scheduler has been; //initialized with (4); TThreadExecutor executor(9);; }; ROOT::DisableIMT();. //The scheduler is not alive at this point, ; //so we initialize it with 2 threads; ROOT::EnableIMT(2);; ROOT::TThreadExecutor executor(8);; ROOT::DisableIMT();. executor.MapReduce(...); //Runs on two threads!. ROOT::EnableIMT(3);; //Still two threads! TThreadExecutor instance was keeping the scheduler alive; ```; This also implies that given two co-existent instances of TThreadExecutor initialized with a different number of threads, the first one to be initialized forces on the second one the number of threads to work with. ```cpp; ROOT::TThreadExecutor executor(4);; ROOT::TThreadExecutor executor2(8); //will run limited to two threads!!; ```; This setup was useful [to avoid undefined behaviours between the implicit and explicit parallelism mode",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2389:813,schedul,scheduler,813,https://root.cern,https://github.com/root-project/root/pull/2389,1,['schedul'],['scheduler']
Energy Efficiency,"**Describe the bug**. Root_x86 failed to run ""roottest-cling-exception-nullderef-e"" test on release and debug configuration with MSVC on windows. Could you please help look at this issue or provide some workarounds? Thanks in advance. **Expected behavior**; For Root_x86, ""roottest-cling-exception-nullderef-e"" test should be run pass on the windows. **To Reproduce**; 1. git clone  https://github.com/root-project/root F:\gitP\root-project\root; 2. mkdir F:\gitP\root-project\root\build_x86; 3. cd F:\gitP\root-project\root\build_x86; 4. set PATH=%PATH:C:\Strawberry\perl\bin;=%; 5. python.exe -m pip install pytest; 6. cmake -G ""{0}"" -A {1} -DCMAKE_SYSTEM_VERSION={2} -DCMAKE_BUILD_TYPE=Release -Dtesting=ON -Droottest=ON .. ; 7. set PATH=%PATH:C:\Strawberry\perl\bin;=%; 8. msbuild /m /p:Platform=Win32 /p:Configuration=Debug ALL_BUILD.vcxproj /t:Rebuild; 9. powershell.exe -NoProfile -ExecutionPolicy Bypass ""..\..\tools\LongPathsEnabled.ps1""; 10. ctest -C Release --output-on-failure -j8 -R ""roottest"" -E ""roottest-root-meta"". **Setup**; VS 2019 + Windows Server 2019. **Additional context**; [test_release.log](https://github.com/root-project/root/files/7957119/test_release.log)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/9742:862,power,powershell,862,https://root.cern,https://github.com/root-project/root/issues/9742,1,['power'],['powershell']
Energy Efficiency,"**GitHub issue** that we still want to resolve before the v6.26.00 release:. - [x] https://github.com/root-project/root/issues/9372. **Other items** that still need to be done without any associated GitHub issue:. - [x] `Pythonizations`: write about new pythonizations in release notes; - [x] `RooFitHS3`: Write release notes; - [x] `RooFitHS3`: Put JSONInterface in `RooFit::Experimental` namespace; - [x] `Lagrangian morphing`: write about it in the release notes; - [x] `GlobalObservables`: write a tutorial about storing global observables in the datasets. **Other items** that are nice to have but can also be in **patch release**:. - [ ] `BatchMode`: Reduce overhead in RooFitDriver to achieve good evaluation time also for large computation graphs; - [ ] `BatchMode`: Implement the binned pdf optimization to speed up HistFactory fits; - [ ] `RooFitHS3`: Avoid having to import the default export keys from a file manually (e.g. like [here in the unit test](https://github.com/root-project/root/blob/master/roofit/hs3/test/testRooFitHS3.cxx#L47)). **Backports** that need to be made for the v6.26 branch (in this particular order from top to bottom, to not have a commit history too different from master):. - [x] https://github.com/root-project/root/pull/9478; - [x] https://github.com/root-project/root/pull/9504; - [x] https://github.com/root-project/root/pull/9458; - [x] https://github.com/root-project/root/pull/9553; - [x] https://github.com/root-project/root/pull/9447; - [x] https://github.com/root-project/root/pull/9552; - [x] https://github.com/root-project/root/pull/8784; - [x] https://github.com/root-project/root/pull/9177; - [x] https://github.com/root-project/root/pull/8595; - [x] https://github.com/root-project/root/pull/9444; - [x] https://github.com/root-project/root/pull/9456; - [x] https://github.com/root-project/root/pull/9640; - [x] https://github.com/root-project/root/pull/9482; - [x] https://github.com/root-project/root/pull/9690; - [x] https://github.com/root-",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/9508:657,Reduce,Reduce,657,https://root.cern,https://github.com/root-project/root/issues/9508,1,['Reduce'],['Reduce']
Energy Efficiency,"**This change is improving the development workflow, now how users are getting ROOT and RooFit!**. This will help with more modular RooFit builds, and it's also a big step; towards making the RooFit developer experience for the pythonizations; more pleasant. The goal is that people can contribute to the RooFit pythonizations; without having to interact with any CMake or C++ compilation, which was; requested by our power users. Testing changes to the pythonizations is easy now, because they can be; installed easily with pip on top of an existing ROOT install, in which; case this install will override the RooFit pythonizations shipped with; ROOT. This makes developing the pythonizations *much* easier!. A README is added to `roofit/pythonizations` that outlines the steps as follows:. Therefore, the easiest and recommended way to develop RooFit pythonizations is as follows:. 1. Make sure ROOT and RooFit are installed on your system; 2. Clone the ROOT repository and go inside the `roofit/pythonizations` directory; 3. Install with `pip install -e .` for an editable install (virtual environment recommended); 4. Any changes to the RooFit pythonizations will be in effect immediately without recompiling or installing anything!; 5. Make your changes, open PR to ROOT repository",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16608:418,power,power,418,https://root.cern,https://github.com/root-project/root/pull/16608,1,['power'],['power']
Energy Efficiency,"- A new parameter, the lazyness of the snapshot, has been added to the TSnapshotOptions; - The Snapshot methods return a TResultPtr<TInteface<TLoopManager>> rather than a TInteface<TLoopManager>; - Tests and tutorials adapted; - New test for lazy snapshot added",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1870:218,adapt,adapted,218,https://root.cern,https://github.com/root-project/root/pull/1870,1,['adapt'],['adapted']
Energy Efficiency,"- Add a tutorial for the Barlow-Beeston method, rf709_BarlowBeeston.C.; - Remove legacy iterators from RooHistConstraint and RooParamHistFunc,; which are used to implement the Barlow-Beeston method.; - Replace iterative logGamma in RooHistConstraint by std::lgamma; - Make sure that bins with zero entries don't get touched by MINUIT.; This reduces the number of degenerate parameters without any effect, and; stabilises the covariance matrix.; - Update documentation of the respective classes.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3999:341,reduce,reduces,341,https://root.cern,https://github.com/root-project/root/pull/3999,1,['reduce'],['reduces']
Energy Efficiency,- Allow to steer the unit switching between Geant4 units and ROOT units with an unlock mechanism. The (un)lock mechanism can be enabled by a static member of the TGeoManager; - Adapt the GDML parser and writer accordingly to output the correct units.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7165:177,Adapt,Adapt,177,https://root.cern,https://github.com/root-project/root/pull/7165,1,['Adapt'],['Adapt']
Energy Efficiency,- Remove `dynamic_cast` for cross casts in a multiple inheritance setting; - Reduce the size of datasets by removing observables that are not in use.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9412:77,Reduce,Reduce,77,https://root.cern,https://github.com/root-project/root/pull/9412,1,['Reduce'],['Reduce']
Energy Efficiency,"- TThreadExecutor's task pool initializer is now a unique_ptr.; - Removed useless Reduction resolver.; - Change the way Reduce was inherited + overloaded. It was working due; to a GCC bug. See https://gcc.gnu.org/bugzilla/show_bug.cgi?id=78308; (thanks, Axel); - Chunked Map is now protected.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/291:120,Reduce,Reduce,120,https://root.cern,https://github.com/root-project/root/pull/291,1,['Reduce'],['Reduce']
Energy Efficiency,- Two important things: Dramatically speed up hash-assisted finds in `RooArgSet`; - Reduce `dynamic_cast` in RooAbsArg::setProxyNormSet. Here are some timings on a random machine with a dummy ATLAS Higgs->gamma gamma workspace:; | | Build | Fit |; | ------------------------------ | ----- | ---- |; | HGam old | 3:33 | 3:30 |; | HGam new | 0:40 | 2:12 |,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9411:84,Reduce,Reduce,84,https://root.cern,https://github.com/root-project/root/pull/9411,1,['Reduce'],['Reduce']
Energy Efficiency,"- [ X] Checked for duplicates. Dear All,; as discussed in a previous [issue](https://github.com/root-project/root/issues/7890), we have observed an increase in the memory when method GetInterval of the HypoTestInverter is called (see for example this [slide](https://docs.google.com/presentation/d/1hpDIabM3pMOvooI2TH3hen0YpVy74YCg9XUNNw5prvk/edit?usp=sharing). I've prepared a small example using root 6.22/00 on centos 3.10.0-1160.42.2.el7.x86_64, where I've only one bkg and one dummy signal sample, and I've performed an upper-limit scan with 10k toys (the workspace and .C file used for this test can be found [here](https://cernbox.cern.ch/index.php/s/FOxntIggyp89tt0).; As you can see from the picture below (it's a vimdiff of 3 different outputs of pmap), the allocated memory is increasing with the time (from the left to the right). I've also checked that for pmap the majority of this memory is flagged as dirty. ; ![image](https://user-images.githubusercontent.com/80854397/139116392-29e8cadb-1f6d-4552-ba1b-c25d185f05d8.png); Is there any way to limit the increase in memory? . Best,; Luigi",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/9196:768,allocate,allocated,768,https://root.cern,https://github.com/root-project/root/issues/9196,1,['allocate'],['allocated']
Energy Efficiency,"- [ ] Checked for duplicates; <!--; Please search in; * [GitHub](https://github.com/root-project/root/issues?q=is%3Aissue); * AND [Jira](https://sft.its.cern.ch/jira/issues/?jql=project %3D ROOT); for existing reports of your issue. If you find one, you are very welcome to add to the existing report, for instance ""issue still exists in today's master"".; -->. The PDF ```RooHypatia2``` implemented in master has wrong commented code for the analytical integral. ; The version copied and adapted of the function is somehow linked to an old version. ; The Version i am using in my analysis has different evaluate() and analyticalIntegral implementation. ; In attachment the class i am using for my analysis. . [RooIpatia2.zip](https://github.com/root-project/root/files/6008104/RooIpatia2.zip)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7254:488,adapt,adapted,488,https://root.cern,https://github.com/root-project/root/issues/7254,1,['adapt'],['adapted']
Energy Efficiency,"- [X] Checked for duplicates. ### Describe the bug; While working on #8770, it turns out that the reading of `std::vector<T>` in RNTuple appears to be affected by memory leaks, if ``T` allocates memory in its constructor. This should be fixed and unit-tested, with a custom class that tracks constructor and destructor calls.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/9133:185,allocate,allocates,185,https://root.cern,https://github.com/root-project/root/issues/9133,1,['allocate'],['allocates']
Energy Efficiency,"- [X] Checked for duplicates; <!--; Please search in; * [GitHub](https://github.com/root-project/root/issues?q=is%3Aissue); * AND [Jira](https://sft.its.cern.ch/jira/issues/?jql=project %3D ROOT); for existing reports of your issue. If you find one, you are very welcome to add to the existing report, for instance ""issue still exists in today's master"".; -->. ### Describe the bug; <!--; A clear and concise description of what the wrong behavior is.; -->; ROOT produces a double free error on TGText.Clear() after calling TGText.AsString(). ### Setup; ROOT 6.22/06. ; OS: Linux Debian 10 Buster and Scientific Linux 7; Root is self-built on Debian. Official redhat release is used on Scientific Linux. <!--; 1. ROOT version; 2. Operating system; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; -->. ### Additional context; The problem can be traced to ```gui/gui/src/TGText.cxx:1250``` in ```TGText::AsString()```:. ```; char *txt = travel->GetText();; ret += txt;; delete [] txt;; ```. txt is deleted, however it points at the text buffer to a line as returned by TGTextLine::GetText(). That there is an override, TGTextLine::GetText(Ulong_t, Ulong_t), that does return an allocated string that needs to be deleted bu the caller. To fix the problem, only the 'delete' line needs to be deleted, but it's not good to have two methods with the same name that have different allocation behaviors on the return values. Another possible fix would be to have TGTextLine::GetText() also allocate a new string for its return value. <!--; Add any other context about the problem here.; -->",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7460:1220,allocate,allocated,1220,https://root.cern,https://github.com/root-project/root/issues/7460,2,['allocate'],"['allocate', 'allocated']"
Energy Efficiency,"- [X] Checked for duplicates; <!--; Please search in; * [GitHub](https://github.com/root-project/root/issues?q=is%3Aissue); * AND [Jira](https://sft.its.cern.ch/jira/issues/?jql=project %3D ROOT); for existing reports of your issue. If you find one, you are very welcome to add to the existing report, for instance ""issue still exists in today's master"".; -->. ### Describe the bug; <!--; A clear and concise description of what the wrong behavior is.; -->; When running an RDataFrame-based analysis macro with ~1000 histogram outputs (each of them has 20000 bins) on a 8-core laptop (16 logical processors), `EnableImplicitMT()` cause ROOT to use up the 32GB RAM and ~30GB swap space. This sometimes causes segmentation violation. Workaround: Drop the line `EnableImplicitMT()`. Related issue: #6676 . ### Expected behavior; Get a way to reduce/restrict the RAM usage of RDataFrame when `EnableImplicitMT()`. ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->. ### Setup. 1. ROOT version: 6.25/01 built against revision 24ea49d4702ba0aa9b1ea5521950520154ee151c from the master branch; ```console; $ root --version; ROOT Version: 6.25/01; Built for linuxx8664gcc on Jan 01 1980, 00:00:00; From @; ```; 2. Operating system: NixOS, x86_64-linux; ```console; $ nix-info -m; - system: `""x86_64-linux""`; - host os: `Linux 5.10.67, NixOS, 21.05.20210922.83413f4 (Okapi)`; - multi-user?: `yes`; - sandbox: `yes`; - version: `nix-env (Nix) 2.4pre20210908_3c56f62`; - nixpkgs: `/nix/var/nix/profiles/per-user/root/channels/nixos`; ```; 3. How you obtained ROOT, such as `dnf install` / binary download / you built it yourself.; Custom build from source with the Nix package manager. ### Additional context; <!--; Add any other context about the problem here.; -->",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/9087:839,reduce,reduce,839,https://root.cern,https://github.com/root-project/root/issues/9087,1,['reduce'],['reduce']
Energy Efficiency,"- [x] Checked for duplicates. ### Describe the bug. The following code causes a crash:; ```cpp; // sink is destroyed before model; auto model = RNTupleModel::Create();; auto fieldPt = model->MakeField<float>(""pt"", 42.0);; {; RPageSinkFile sink(""myNTuple"", ""file.root"", RNTupleWriteOptions());; sink.Create(*model.get());; // uncomment to run successfully; // model = nullptr; ; } ; ```; ```; pure virtual method called; terminate called without an active exception; Aborted (core dumped); ```; The following sequence is seemingly to blame (worked out with @jblomer):; 1. The model owns fields; 2. On `sink.Create()`, these fields get their columns connected to the page sink ; 3. The columns get their pages allocated from the page sink; 4. On destruction, the columns ask the page sink to help the free the pages; 5. So the columns (i.e. fields, i.e. model) must not be deconstructed after the page sink they are connected to. Note: the user-level `RNTupleWriter` API is immune to this issue because of class member destruction order: ; https://github.com/root-project/root/blob/f7df9d527f121ca5f00690dc49f4911dd356cb1c/tree/ntuple/v7/inc/ROOT/RNTuple.hxx#L356-L358; <!--; A clear and concise description of what the wrong behavior is.; -->. ### Setup; ROOT master. ### Additional context; This bug is surprising, but low-severity because users will likely use the higher-level `RNTupleReader` and `Writer` APIs. The workaround is straightforward when the root cause is known.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/8581:708,allocate,allocated,708,https://root.cern,https://github.com/root-project/root/issues/8581,1,['allocate'],['allocated']
Energy Efficiency,"- [x] Checked for duplicates. ### Describe the bug; Hi, may I discuss possible solutions of the incorrect work of the 'TPgSQLStatement::SetBinary' function.; In our experiment, we've used 'TPgSQLStatement::SetLargeObject' with PostgreSQL 8, but now we've moved to PostgreSQL 12 and discover that since PostgreSQL 9 the developers limited access to pg_largeobject, which leads to some problems.; So now we are using TPgSQLStatement::SetBinary' instead and i've found some bugs.; The original 'SetBinary' function includes the following main lines:; ```; unsigned char* escape_ptr = PQescapeBytea((const unsigned char*)mem, sz, &mxsz);; unsigned char* binary_ptr = PQunescapeBytea((const unsigned char*)escape_ptr, &mxsz);; ```; 1. 'PQunescapeBytea' conversion is not exactly the inverse of 'PQescapeBytea': 'PQescapeBytea' doubles quotes, but 'PQunescapeBytea' doesn't change quotes (doesn't remove added quotes).; So double quotes should be reduced to single ones after the conversion. Otherwise, a bytea field stored in the database has two quotes instead of original single ones.; 2. The solution works for PostgreSQL 8 (except 1. cases), because it escapes special characters with two backslashes, but since PostgreSQL 9.3 the special characters are escaped with one backslash. It means that PQunescapeBytea returns the special characters to original symbols refused by database encoding (UTF8 by default).; e.g. for CREATE TABLE test ( d bytea NOT NULL );; ```; TSQLStatement* stmt = my_db->Statement(""insert into test(d) values ($1)"");; int d = 8332;; stmt->NextIteration();; stmt->SetBinary(0, &d, sizeof(int));; stmt->Process();; ...; stmt = my_db->Statement(""select d from test"");; stmt->Process();; stmt->StoreResult();; while (stmt->NextResultRow()) {; void* mem = 0; Long_t size_mem = 0;; stmt->GetBinary(0, mem, size_mem);; int* val = new int;; memcpy(val, mem, size_mem);; cout<<""Binary size: ""<<size_mem<<"". Int value: ""<<*val<<endl;; }; ```; PostgreSQL 8 works well:. > 8c2000 // before",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7127:941,reduce,reduced,941,https://root.cern,https://github.com/root-project/root/issues/7127,1,['reduce'],['reduced']
Energy Efficiency,"- [x] Checked for duplicates. ### Describe the bug; ROOT 6.26/04 (https://github.com/root-project/root/tree/02b2af7af1be3430a3124236a7cdc6bb13cf90d2) fails to build with LLVM/Clang 14.0.6 with the following error from `rootcling`:. ```{Console}; [7221/9777] Generating G__Core.cxx, ../lib/Core.pcm; FAILED: core/G__Core.cxx lib/Core.pcm ...; <snip/>; rootcling_stage1: /scratch/greenc/test-products/root/v6_26_04/source/root-6.26.04/interpreter/llvm/src/tools/clang/lib/Serialization/ASTWriter.cpp:2799: unsigned int clang::ASTWriter::getSubmoduleID(clang::Module *): Assertion `(ID || !Mod) && ""asked for module ID for non-local, non-imported module""' failed.; #0 0x0000000003ee5514 PrintStackTraceSignalHandler(void*) Signals.cpp:0:0; #1 0x0000000003ee32cc llvm::sys::RunSignalHandlers() Signals.cpp:0:0; #2 0x0000000003ee5935 SignalHandler(int) Signals.cpp:0:0; #3 0x00007f1552225630 __restore_rt sigaction.c:0:0; #4 0x00007f1551316387 raise (/lib64/libc.so.6+0x36387); #5 0x00007f1551317a78 abort (/lib64/libc.so.6+0x37a78); #6 0x00007f155130f1a6 __assert_fail_base (/lib64/libc.so.6+0x2f1a6); #7 0x00007f155130f252 (/lib64/libc.so.6+0x2f252); #8 0x0000000001d23bf3 clang::ASTWriter::WriteSubmodules(clang::Module*) ASTWriter.cpp:0:0; #9 0x0000000001d34a01 clang::ASTWriter::WriteASTCore(clang::Sema&, llvm::StringRef, std::__2::basic_string<char, std::__2::char_traits<char>, std::__2::allocator<char> > const&, clang::Module*) ASTWriter.cpp:0:0; #10 0x0000000001d31700 clang::ASTWriter::WriteAST(clang::Sema&, std::__2::basic_string<char, std::__2::char_traits<char>, std::__2::allocator<char> > const&, clang::Module*, llvm::StringRef, bool, bool) ASTWriter.cpp:0:0; #11 0x0000000001d7f347 clang::PCHGenerator::HandleTranslationUnit(clang::ASTContext&) GeneratePCH.cpp:0:0; #12 0x0000000001a4269c clang::MultiplexConsumer::HandleTranslationUnit(clang::ASTContext&) MultiplexConsumer.cpp:0:0; #13 0x0000000001ba6284 clang::ParseAST(clang::Sema&, bool, bool) ParseAST.cpp:0:0; #14 0x00000000019f9",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10861:378,green,greenc,378,https://root.cern,https://github.com/root-project/root/issues/10861,1,['green'],['greenc']
Energy Efficiency,"- [x] Checked for duplicates; <!--; Please search in; * [GitHub](https://github.com/root-project/root/issues?q=is%3Aissue); * AND [Jira](https://sft.its.cern.ch/jira/issues/?jql=project %3D ROOT); for existing reports of your issue. If you find one, you are very welcome to add to the existing report, for instance ""issue still exists in today's master"".; -->. ### Describe the bug; <!--; A clear and concise description of what the wrong behavior is.; -->; When creating a RooDataSet from a PDF using RooAbsPdf::generate() and afterwards plotting it in a specific region using RooDataSet::reduce() the internal weights of the reduced RooDataSet are broken, i.e. they are all set to 1. ### Expected behavior; <!--; A clear and concise description of what you expected to happen.; -->; The weights of the reduced RooDataSet should not change to 1 when calling RooDataSet::reduce(). ### To Reproduce; <!--; Steps to reproduce the behavior:; 1. Your code that triggers the issue: at least a part; ideally something we can run ourselves.; 2. Don't forget to attach the required input files!; 3. How to run your code and / or build it, e.g. `root myMacro.C`, ...; -->; Run included macro with ```root broken_weights.C```. ```C; #include ""RooStats/HistFactory/Measurement.h""; #include ""RooStats/HistFactory/MakeModelAndMeasurementsFast.h""; #include ""TFile.h""; #include ""TROOT.h""; ; using namespace RooStats;; using namespace HistFactory;. void create_test_ws(){; // taken from https://root.cern.ch/doc/v608/histfactory_2example_8C_source.html; std::string InputFile = ""example.root"";; // Create the measurement; Measurement meas(""meas"", ""meas"");. meas.SetOutputFilePrefix( ""./results/example_UsingC"" );; meas.SetPOI( ""SigXsecOverSM"" );; meas.AddConstantParam(""alpha_syst1"");; meas.AddConstantParam(""Lumi"");. meas.SetLumi( 1.0 );; meas.SetLumiRelErr( 0.10 );; meas.SetExportOnly( true );; meas.SetBinHigh( 2 );. // Create a channel. Channel chan( ""channel1"" );; chan.SetData( ""data"", InputFile );; chan.SetSt",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/6951:590,reduce,reduce,590,https://root.cern,https://github.com/root-project/root/issues/6951,4,['reduce'],"['reduce', 'reduced']"
Energy Efficiency,-119 in /opt/root_src/build/rmkdepend/pr.c:141; /opt/root_src/build/rmkdepend/pr.c:147:8: warning: Potential leak of memory pointed to by 'ipifile' [clang-analyzer-unix.Malloc]; 1: Assuming the condition is false in /opt/root_src/build/rmkdepend/pr.c:173; 2: Taking false branch in /opt/root_src/build/rmkdepend/pr.c:173; 3: Assuming 'file' is not equal to field 'i_file' in /opt/root_src/build/rmkdepend/pr.c:176; 4: Taking true branch in /opt/root_src/build/rmkdepend/pr.c:176; 5: Calling 'pr' in /opt/root_src/build/rmkdepend/pr.c:177; 6: Assuming 'len' is > 2 in /opt/root_src/build/rmkdepend/pr.c:104; 7: Left side of '&&' is true in /opt/root_src/build/rmkdepend/pr.c:104; 8: Assuming the condition is true in /opt/root_src/build/rmkdepend/pr.c:104; 9: Taking true branch in /opt/root_src/build/rmkdepend/pr.c:104; 10: Assuming the condition is false in /opt/root_src/build/rmkdepend/pr.c:105; 11: Left side of '&&' is false in /opt/root_src/build/rmkdepend/pr.c:105; 12: Memory is allocated in /opt/root_src/build/rmkdepend/pr.c:118; 13: Assuming the condition is false in /opt/root_src/build/rmkdepend/pr.c:127; 14: Left side of '||' is false in /opt/root_src/build/rmkdepend/pr.c:127; 15: Assuming 'file' is equal to 'lastfile' in /opt/root_src/build/rmkdepend/pr.c:127; 16: Taking false branch in /opt/root_src/build/rmkdepend/pr.c:127; 17: Assuming 'len' is <= 2 in /opt/root_src/build/rmkdepend/pr.c:144; 18: Left side of '&&' is false in /opt/root_src/build/rmkdepend/pr.c:144; 19: Potential leak of memory pointed to by 'ipifile' in /opt/root_src/build/rmkdepend/pr.c:147; /opt/root_src/build/rmkdepend/pr.c:160:4: warning: Use of memory after it is freed [clang-analyzer-unix.Malloc]; 1: Assuming the condition is false in /opt/root_src/build/rmkdepend/pr.c:173; 2: Taking false branch in /opt/root_src/build/rmkdepend/pr.c:173; 3: Assuming 'file' is not equal to field 'i_file' in /opt/root_src/build/rmkdepend/pr.c:176; 4: Taking true branch in /opt/root_src/build/rmkdepend/pr.c:176;,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7410:47428,allocate,allocated,47428,https://root.cern,https://github.com/root-project/root/issues/7410,1,['allocate'],['allocated']
Energy Efficiency,"-analyzer-deadcode.DeadStores]; 1: Value stored to 'dxwn' is never read in /opt/root_src/graf2d/postscript/src/TSVG.cxx:1639; /opt/root_src/graf2d/postscript/src/TSVG.cxx:1652:37: warning: Value stored to 'cindex' is never read [clang-analyzer-deadcode.DeadStores]; 1: Value stored to 'cindex' is never read in /opt/root_src/graf2d/postscript/src/TSVG.cxx:1652; /opt/root_src/graf2d/postscript/src/TTeXDump.cxx:664:37: warning: Value stored to 'cindex' is never read [clang-analyzer-deadcode.DeadStores]; 1: Value stored to 'cindex' is never read in /opt/root_src/graf2d/postscript/src/TTeXDump.cxx:664; /opt/root_src/graf2d/x11/src/GX11Gui.cxx:182:7: warning: Argument to 'delete' is a constant address (1), which is not memory allocated by 'new' [clang-analyzer-cplusplus.NewDelete]; 1: Assuming the condition is true in /opt/root_src/graf2d/x11/src/GX11Gui.cxx:177; 2: Taking true branch in /opt/root_src/graf2d/x11/src/GX11Gui.cxx:177; 3: Argument to 'delete' is a constant address (1), which is not memory allocated by 'new' in /opt/root_src/graf2d/x11/src/GX11Gui.cxx:182; /opt/root_src/graf2d/x11/src/GX11Gui.cxx:2832:24: warning: The left operand of '!=' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: 'dndTypeList' is equal to null in /opt/root_src/graf2d/x11/src/GX11Gui.cxx:2820; 2: Taking true branch in /opt/root_src/graf2d/x11/src/GX11Gui.cxx:2820; 3: Assuming 'maxd' is > 0 in /opt/root_src/graf2d/x11/src/GX11Gui.cxx:2827; 4: Taking false branch in /opt/root_src/graf2d/x11/src/GX11Gui.cxx:2827; 5: Assuming 'win' is not equal to 'dragwin' in /opt/root_src/graf2d/x11/src/GX11Gui.cxx:2829; 6: Left side of '||' is false in /opt/root_src/graf2d/x11/src/GX11Gui.cxx:2829; 7: Assuming 'win' is not equal to 'input' in /opt/root_src/graf2d/x11/src/GX11Gui.cxx:2829; 8: Taking false branch in /opt/root_src/graf2d/x11/src/GX11Gui.cxx:2829; 9: Calling 'TGX11::GetWindowAttributes' in /opt/root_src/graf2d/x11/src/GX11Gui.cxx:2831; 10: Assuming 'id' is 0 in /opt/r",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7432:74263,allocate,allocated,74263,https://root.cern,https://github.com/root-project/root/issues/7432,1,['allocate'],['allocated']
Energy Efficiency,. Exiting loop in /opt/root_src/core/base/src/TString.cxx:2135; 26: Calling constructor for 'TString' in /opt/root_src/core/base/src/TString.cxx:2140; 27: Assuming 'cs' is non-null in /opt/root_src/core/base/src/TString.cxx:105; 28: Taking true branch in /opt/root_src/core/base/src/TString.cxx:105; 29: Calling 'TString::Init' in /opt/root_src/core/base/src/TString.cxx:107; 30: 'capacity' is >= 0 in /opt/root_src/core/base/src/TString.cxx:249; 31: Taking false branch in /opt/root_src/core/base/src/TString.cxx:249; 32: 'nchar' is >= 0 in /opt/root_src/core/base/src/TString.cxx:253; 33: Taking false branch in /opt/root_src/core/base/src/TString.cxx:253; 34: Assuming the condition is false in /opt/root_src/core/base/src/TString.cxx:257; 35: Taking false branch in /opt/root_src/core/base/src/TString.cxx:257; 36: Assuming 'capacity' is >= kMinCap in /opt/root_src/core/base/src/TString.cxx:265; 37: Taking false branch in /opt/root_src/core/base/src/TString.cxx:265; 38: Memory is allocated in /opt/root_src/core/base/src/TString.cxx:270; 39: Returned allocated memory in /opt/root_src/core/base/src/TString.cxx:107; 40: Returning from constructor for 'TString' in /opt/root_src/core/base/src/TString.cxx:2140; 41: Returned allocated memory in /opt/root_src/core/base/src/TString.cxx:2172; 42: Potential leak of memory pointed to by field 'fData' in /opt/root_src/core/base/src/TString.cxx:2173; /opt/root_src/core/base/src/TString.cxx:2191:12: warning: Potential leak of memory pointed to by field 'fData' [clang-analyzer-cplusplus.NewDeleteLeaks]; 1: Assuming 'base_in' is >= 2 in /opt/root_src/core/base/src/TString.cxx:2151; 2: Left side of '||' is false in /opt/root_src/core/base/src/TString.cxx:2151; 3: Assuming 'base_in' is <= 36 in /opt/root_src/core/base/src/TString.cxx:2151; 4: Left side of '||' is false in /opt/root_src/core/base/src/TString.cxx:2151; 5: Assuming 'base_out' is >= 2 in /opt/root_src/core/base/src/TString.cxx:2151; 6: Left side of '||' is false in /opt/root_src/,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:139731,allocate,allocated,139731,https://root.cern,https://github.com/root-project/root/issues/7412,1,['allocate'],['allocated']
Energy Efficiency,. Exiting loop in /opt/root_src/core/base/src/TString.cxx:2135; 30: Calling constructor for 'TString' in /opt/root_src/core/base/src/TString.cxx:2140; 31: Assuming 'cs' is non-null in /opt/root_src/core/base/src/TString.cxx:105; 32: Taking true branch in /opt/root_src/core/base/src/TString.cxx:105; 33: Calling 'TString::Init' in /opt/root_src/core/base/src/TString.cxx:107; 34: 'capacity' is >= 0 in /opt/root_src/core/base/src/TString.cxx:249; 35: Taking false branch in /opt/root_src/core/base/src/TString.cxx:249; 36: 'nchar' is >= 0 in /opt/root_src/core/base/src/TString.cxx:253; 37: Taking false branch in /opt/root_src/core/base/src/TString.cxx:253; 38: Assuming the condition is false in /opt/root_src/core/base/src/TString.cxx:257; 39: Taking false branch in /opt/root_src/core/base/src/TString.cxx:257; 40: Assuming 'capacity' is >= kMinCap in /opt/root_src/core/base/src/TString.cxx:265; 41: Taking false branch in /opt/root_src/core/base/src/TString.cxx:265; 42: Memory is allocated in /opt/root_src/core/base/src/TString.cxx:270; 43: Returned allocated memory in /opt/root_src/core/base/src/TString.cxx:107; 44: Returning from constructor for 'TString' in /opt/root_src/core/base/src/TString.cxx:2140; 45: Returned allocated memory in /opt/root_src/core/base/src/TString.cxx:2189; 46: 'isSigned' is false in /opt/root_src/core/base/src/TString.cxx:2190; 47: Taking false branch in /opt/root_src/core/base/src/TString.cxx:2190; 48: Potential leak of memory pointed to by field 'fData' in /opt/root_src/core/base/src/TString.cxx:2191; /opt/root_src/core/base/src/TString.cxx:2253:15: warning: Potential leak of memory pointed to by 'tok.fRep..fLong.fData' [clang-analyzer-cplusplus.NewDeleteLeaks]; 1: Assuming the condition is false in /opt/root_src/core/base/src/TString.cxx:2222; 2: Loop condition is false. Execution continues on line 2232 in /opt/root_src/core/base/src/TString.cxx:2222; 3: 'nrDiff' is <= 1 in /opt/root_src/core/base/src/TString.cxx:2234; 4: Taking false branch in,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:143497,allocate,allocated,143497,https://root.cern,https://github.com/root-project/root/issues/7412,1,['allocate'],['allocated']
Energy Efficiency,".cern.ch/jira/browse/ROOT-9133):. **perf stat (before)**; ```; Performance counter stats for 'root-9133':. 135566.779101 task-clock (msec) # 4.167 CPUs utilized ; 481,078 context-switches # 0.004 M/sec ; 710 cpu-migrations # 0.005 K/sec ; 3,512,992 page-faults # 0.026 M/sec ; 456,851,617,713 cycles # 3.370 GHz ; 310,271,051,553 instructions # 0.68 insn per cycle ; 65,664,345,345 branches # 484.369 M/sec ; 723,033,852 branch-misses # 1.10% of all branches . 32.535328793 seconds time elapsed; ```; **perf stat (after)**; ```; Performance counter stats for 'root-9133':. 115840.232563 task-clock (msec) # 6.254 CPUs utilized ; 343,733 context-switches # 0.003 M/sec ; 327 cpu-migrations # 0.003 K/sec ; 1,567,401 page-faults # 0.014 M/sec ; 391,763,587,760 cycles # 3.382 GHz ; 273,699,878,762 instructions # 0.70 insn per cycle ; 57,799,809,349 branches # 498.961 M/sec ; 635,168,730 branch-misses # 1.10% of all branches . 18.522277829 seconds time elapsed; ```; *Note the reduced number of cpu-migrations, page-faults, and context switches, as well as lower runtime.*. **massif (before)**; ![screenshot](https://user-images.githubusercontent.com/249404/52358705-ca2d1c80-2a38-11e9-823e-ea35219fbca1.png); ![screenshot](https://user-images.githubusercontent.com/249404/52359262-d5cd1300-2a39-11e9-8159-73730cbd79e6.png). **massif (after)**; ![screenshot](https://user-images.githubusercontent.com/249404/52358746-db762900-2a38-11e9-9f63-5d2340860f4d.png); ![screenshot](https://user-images.githubusercontent.com/249404/52359437-30666f00-2a3a-11e9-94ed-67dfad3cdbec.png); *Note how `TBuffer::Expand()` goes from 1.8GB allocated memory down to just ~50MB. Also, total memory used drops from 3.8GB to 3.1GB. The size of the output file is 3.1GB. The total amount of used memory is still high since tasks are accumulating large chunks of data into the `TBufferMergerFile`s before calling `Write()` to get it flushed out. We need to break the total run into more tasks or call `Write()` more often to f",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3385:1077,reduce,reduced,1077,https://root.cern,https://github.com/root-project/root/pull/3385,1,['reduce'],['reduced']
Energy Efficiency,.cxx:930; 51: Taking false branch in /opt/root_src/graf2d/x11/src/Rotated.cxx:930; 52: 'align' is not equal to TLEFT in /opt/root_src/graf2d/x11/src/Rotated.cxx:943; 53: Left side of '||' is false in /opt/root_src/graf2d/x11/src/Rotated.cxx:943; 54: 'align' is not equal to MLEFT in /opt/root_src/graf2d/x11/src/Rotated.cxx:943; 55: Left side of '||' is false in /opt/root_src/graf2d/x11/src/Rotated.cxx:943; 56: 'align' is not equal to BLEFT in /opt/root_src/graf2d/x11/src/Rotated.cxx:943; 57: Left side of '||' is false in /opt/root_src/graf2d/x11/src/Rotated.cxx:943; 58: 'align' is equal to NONE in /opt/root_src/graf2d/x11/src/Rotated.cxx:943; 59: Taking true branch in /opt/root_src/graf2d/x11/src/Rotated.cxx:943; 60: Assuming 'str3' is equal to null in /opt/root_src/graf2d/x11/src/Rotated.cxx:973; 61: Loop condition is false. Exiting loop in /opt/root_src/graf2d/x11/src/Rotated.cxx:938; 62: Calling 'MakeXImage' in /opt/root_src/graf2d/x11/src/Rotated.cxx:978; 63: Memory is allocated in /opt/root_src/graf2d/x11/src/Rotated.cxx:272; 64: Assuming 'data' is not equal to null in /opt/root_src/graf2d/x11/src/Rotated.cxx:273; 65: Taking false branch in /opt/root_src/graf2d/x11/src/Rotated.cxx:273; 66: Assuming 'image' is not equal to null in /opt/root_src/graf2d/x11/src/Rotated.cxx:278; 67: Taking false branch in /opt/root_src/graf2d/x11/src/Rotated.cxx:278; 68: Potential leak of memory pointed to by 'data' in /opt/root_src/graf2d/x11/src/Rotated.cxx:283; 69: expanded from macro 'MSBFirst' in /usr/include/X11/X.h:715; /opt/root_src/graf2d/x11/src/Rotated.cxx:419:27: warning: Potential leak of memory pointed to by 'item' [clang-analyzer-unix.Malloc]; 1: Calling 'XRotPaintAlignedString' in /opt/root_src/graf2d/x11/src/Rotated.cxx:328; 2: Assuming 'text' is not equal to null in /opt/root_src/graf2d/x11/src/Rotated.cxx:349; 3: Taking false branch in /opt/root_src/graf2d/x11/src/Rotated.cxx:349; 4: Assuming the condition is false in /opt/root_src/graf2d/x11/src/Rotated.cxx:351; 5,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7432:81327,allocate,allocated,81327,https://root.cern,https://github.com/root-project/root/issues/7432,1,['allocate'],['allocated']
Energy Efficiency,"/interpreter/llvm/src/tools/clang/lib/Sema/SemaTemplateInstantiateDecl.cpp:810. #12 0x00007fffe3d807a6 in clang::declvisitor::Base<clang::declvisitor::make_ptr, clang::TemplateDeclInstantiator, clang::Decl*>::Visit (this=0x7fffffff59f0, D=0x51e8548). at /scratch/greenc/test-products/root/v6_20_04/build/Linux64bit+3.10-2.17-e20-p382-debug/interpreter/llvm/src/tools/clang/include/clang/AST/DeclNodes.inc:369. #13 0x00007fffe3d4796c in clang::Sema::InstantiateClass (this=0x7da020, PointOfInstantiation=..., Instantiation=0x7e8ed10, Pattern=0x51e4900, TemplateArgs=..., TSK=clang::TSK_ImplicitInstantiation, Complain=true). at /scratch/greenc/test-products/root/v6_20_04/source/root-6.20.04/interpreter/llvm/src/tools/clang/lib/Sema/SemaTemplateInstantiate.cpp:2083. #14 0x00007fffe3d49340 in clang::Sema::InstantiateClassTemplateSpecialization (this=0x7da020, PointOfInstantiation=..., ClassTemplateSpec=0x7e8ed10, TSK=clang::TSK_ImplicitInstantiation, Complain=true). at /scratch/greenc/test-products/root/v6_20_04/source/root-6.20.04/interpreter/llvm/src/tools/clang/lib/Sema/SemaTemplateInstantiate.cpp:2543. #15 0x00007fffe3e0b218 in clang::Sema::RequireCompleteTypeImpl (this=0x7da020, Loc=..., T=..., Diagnoser=0x7fffffff5ff0). at /scratch/greenc/test-products/root/v6_20_04/source/root-6.20.04/interpreter/llvm/src/tools/clang/lib/Sema/SemaType.cpp:7331. #16 0x00007fffe3e0a679 in clang::Sema::RequireCompleteType (this=0x7da020, Loc=..., T=..., Diagnoser=...) at /scratch/greenc/test-products/root/v6_20_04/source/root-6.20.04/interpreter/llvm/src/tools/clang/lib/Sema/SemaType.cpp:7109. #17 0x00007fffe35607f9 in clang::Sema::RequireCompleteType<clang::SourceRange> (this=0x7da020, Loc=..., T=..., DiagID=2588). at /scratch/greenc/test-products/root/v6_20_04/source/root-6.20.04/interpreter/llvm/src/tools/clang/include/clang/Sema/Sema.h:1653. --Type <RET> for more, q to quit, c to continue without paging--c. #18 0x00007fffe355c52a in clang::Sema::RequireCompleteDeclContext (this=0x7da02",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5462:4925,green,greenc,4925,https://root.cern,https://github.com/root-project/root/pull/5462,1,['green'],['greenc']
Energy Efficiency,/main.c:373:13: warning: Potential leak of memory pointed to by 'argv' [clang-analyzer-unix.Malloc]; 1: Loop condition is false. Execution continues on line 176 in /opt/root_src/build/rmkdepend/main.c:172; 2: Assuming 'argc' is equal to 2 in /opt/root_src/build/rmkdepend/main.c:176; 3: Left side of '&&' is true in /opt/root_src/build/rmkdepend/main.c:176; 4: Assuming the condition is true in /opt/root_src/build/rmkdepend/main.c:176; 5: Taking true branch in /opt/root_src/build/rmkdepend/main.c:176; 6: Assuming the condition is false in /opt/root_src/build/rmkdepend/main.c:185; 7: Taking false branch in /opt/root_src/build/rmkdepend/main.c:185; 8: Assuming the condition is true in /opt/root_src/build/rmkdepend/main.c:189; 9: Taking true branch in /opt/root_src/build/rmkdepend/main.c:189; 10: Loop condition is false. Execution continues on line 214 in /opt/root_src/build/rmkdepend/main.c:193; 11: Taking false branch in /opt/root_src/build/rmkdepend/main.c:214; 12: Memory is allocated in /opt/root_src/build/rmkdepend/main.c:216; 13: Loop condition is false. Execution continues on line 221 in /opt/root_src/build/rmkdepend/main.c:219; 14: Loop condition is false. Execution continues on line 373 in /opt/root_src/build/rmkdepend/main.c:223; 15: Potential leak of memory pointed to by 'argv' in /opt/root_src/build/rmkdepend/main.c:373; /opt/root_src/build/rmkdepend/main.c:551:20: warning: Dereference of null pointer (loaded from field 'f_end') [clang-analyzer-core.NullDereference]; 1: Loop condition is false. Execution continues on line 176 in /opt/root_src/build/rmkdepend/main.c:172; 2: Assuming 'argc' is not equal to 2 in /opt/root_src/build/rmkdepend/main.c:176; 3: Left side of '&&' is false in /opt/root_src/build/rmkdepend/main.c:176; 4: Loop condition is false. Execution continues on line 373 in /opt/root_src/build/rmkdepend/main.c:223; 5: Loop condition is false. Execution continues on line 375 in /opt/root_src/build/rmkdepend/main.c:373; 6: 'numundefs' is <= 0 in /opt/,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7410:30764,allocate,allocated,30764,https://root.cern,https://github.com/root-project/root/issues/7410,1,['allocate'],['allocated']
Energy Efficiency,/matrix/inc/TMatrixT.h:269; 38: expanded from macro 'R__ASSERT' in /opt/root_src/core/foundation/inc/TError.h:119; 39: Assuming 'arown' is < field 'fNrows' in /opt/root_src/math/matrix/inc/TMatrixT.h:272; 40: Left side of '||' is false in /opt/root_src/math/matrix/inc/TMatrixT.h:272; 41: 'arown' is >= 0 in /opt/root_src/math/matrix/inc/TMatrixT.h:272; 42: Taking false branch in /opt/root_src/math/matrix/inc/TMatrixT.h:272; 43: Assuming 'acoln' is < field 'fNcols' in /opt/root_src/math/matrix/inc/TMatrixT.h:276; 44: Left side of '||' is false in /opt/root_src/math/matrix/inc/TMatrixT.h:276; 45: 'acoln' is >= 0 in /opt/root_src/math/matrix/inc/TMatrixT.h:276; 46: Taking false branch in /opt/root_src/math/matrix/inc/TMatrixT.h:276; 47: Returning null reference in /opt/root_src/math/matrix/inc/TMatrixT.h:280; /opt/root_src/math/matrix/inc/TVectorT.h:86:59: warning: Null pointer passed to 1st parameter expecting 'nonnull' [clang-analyzer-core.NonNullParamChecker]; 1: Calling 'TVectorT::Allocate' in /opt/root_src/math/matrix/src/TVectorT.cxx:207; 2: Null pointer value stored to field 'fElements' in /opt/root_src/math/matrix/src/TVectorT.cxx:156; 3: Assuming 'nrows' is < 0 in /opt/root_src/math/matrix/src/TVectorT.cxx:158; 4: Taking true branch in /opt/root_src/math/matrix/src/TVectorT.cxx:158; 5: Returning from 'TVectorT::Allocate' in /opt/root_src/math/matrix/src/TVectorT.cxx:207; 6: Calling 'TVectorT::SetElements' in /opt/root_src/math/matrix/src/TVectorT.cxx:208; 7: Taking false branch in /opt/root_src/math/matrix/inc/TVectorT.h:85; 8: expanded from macro 'R__ASSERT' in /opt/root_src/core/foundation/inc/TError.h:120; 9: Loop condition is false. Exiting loop in /opt/root_src/math/matrix/inc/TVectorT.h:85; 10: expanded from macro 'R__ASSERT' in /opt/root_src/core/foundation/inc/TError.h:119; 11: Null pointer passed to 1st parameter expecting 'nonnull' in /opt/root_src/math/matrix/inc/TVectorT.h:86; /opt/root_src/math/matrix/src/TDecompBK.cxx:178:10: warning: Value stored,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7458:127954,Allocate,Allocate,127954,https://root.cern,https://github.com/root-project/root/issues/7458,1,['Allocate'],['Allocate']
Energy Efficiency,/opt/root_src/math/physics/src/TGenPhaseSpace.cxx:121; /opt/root_src/math/physics/src/TGenPhaseSpace.cxx:128:57: warning: The left operand of '*' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: Assuming field 'fNt' is <= 2 in /opt/root_src/math/physics/src/TGenPhaseSpace.cxx:103; 2: Taking false branch in /opt/root_src/math/physics/src/TGenPhaseSpace.cxx:103; 3: Assuming 'n' is >= field 'fNt' in /opt/root_src/math/physics/src/TGenPhaseSpace.cxx:110; 4: Loop condition is false. Execution continues on line 118 in /opt/root_src/math/physics/src/TGenPhaseSpace.cxx:110; 5: Assuming the condition is false in /opt/root_src/math/physics/src/TGenPhaseSpace.cxx:120; 6: Loop condition is false. Execution continues on line 128 in /opt/root_src/math/physics/src/TGenPhaseSpace.cxx:120; 7: The left operand of '*' is a garbage value in /opt/root_src/math/physics/src/TGenPhaseSpace.cxx:128; /opt/root_src/math/physics/src/TRobustEstimator.cxx:661:13: warning: Use of zero-allocated memory [clang-analyzer-cplusplus.NewDelete]; 1: Assuming 'hh' is equal to 0 in /opt/root_src/math/physics/src/TRobustEstimator.cxx:610; 2: Taking true branch in /opt/root_src/math/physics/src/TRobustEstimator.cxx:610; 3: Memory is allocated in /opt/root_src/math/physics/src/TRobustEstimator.cxx:626; 4: Loop condition is false. Execution continues on line 629 in /opt/root_src/math/physics/src/TRobustEstimator.cxx:627; 5: Loop condition is false. Execution continues on line 661 in /opt/root_src/math/physics/src/TRobustEstimator.cxx:629; 6: Use of zero-allocated memory in /opt/root_src/math/physics/src/TRobustEstimator.cxx:661; /opt/root_src/math/physics/src/TRobustEstimator.cxx:922:7: warning: Value stored to 'repeat' is never read [clang-analyzer-deadcode.DeadStores]; 1: Value stored to 'repeat' is never read in /opt/root_src/math/physics/src/TRobustEstimator.cxx:922; /opt/root_src/math/physics/src/TRobustEstimator.cxx:1303:16: warning: Assigned value is garbage or undefined [clang,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7458:228029,allocate,allocated,228029,https://root.cern,https://github.com/root-project/root/issues/7458,1,['allocate'],['allocated']
Energy Efficiency,/opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:461; 18: 'i' is < 'nValEvents' in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:464; 19: Loop condition is true. Entering loop body in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:464; 20: Assuming 'j' is >= field 'fNVars' in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:468; 21: Loop condition is false. Execution continues on line 472 in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:468; 22: Assuming the condition is true in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:472; 23: Left side of '||' is true in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:472; 24: Assuming 'j' is >= field 'fNOutputs' in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:473; 25: Loop condition is false. Execution continues on line 476 in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:473; 26: Use of zero-allocated memory in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:476; /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:480:39: warning: Use of zero-allocated memory [clang-analyzer-cplusplus.NewDelete]; 1: Assuming field 'fModelIsSetup' is true in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:400; 2: Taking false branch in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:400; 3: 'i' is < 'nTrainingEvents' in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:416; 4: Loop condition is true. Entering loop body in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:416; 5: Assuming 'j' is >= field 'fNVars' in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:419; 6: Loop condition is false. Execution continues on line 425 in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:419; 7: Assuming the condition is false in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:425; 8: Left side of '||' is false in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:425; 9: Assuming the condition is false in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:425; 10: Taking false branch in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:425; 11: Assuming the condition is true in ,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7526:7407,allocate,allocated,7407,https://root.cern,https://github.com/root-project/root/issues/7526,1,['allocate'],['allocated']
Energy Efficiency,/opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:360; 18: 'i' is < 'nValEvents' in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:363; 19: Loop condition is true. Entering loop body in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:363; 20: Assuming 'j' is >= field 'fNVars' in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:367; 21: Loop condition is false. Execution continues on line 371 in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:367; 22: Assuming the condition is true in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:371; 23: Left side of '||' is true in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:371; 24: Assuming 'j' is >= field 'fNOutputs' in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:372; 25: Loop condition is false. Execution continues on line 375 in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:372; 26: Use of zero-allocated memory in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:375; /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:379:39: warning: Use of zero-allocated memory [clang-analyzer-cplusplus.NewDelete]; 1: Assuming field 'fModelIsSetup' is true in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:298; 2: Taking false branch in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:298; 3: 'i' is < 'nTrainingEvents' in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:315; 4: Loop condition is true. Entering loop body in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:315; 5: Assuming 'j' is >= field 'fNVars' in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:318; 6: Loop condition is false. Execution continues on line 324 in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:318; 7: Assuming the condition is false in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:324; 8: Left side of '||' is false in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:324; 9: Assuming the condition is false in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:324; 10: Taking false branch in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:324; 11: Assuming the condition is true in ,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7526:17639,allocate,allocated,17639,https://root.cern,https://github.com/root-project/root/issues/7526,1,['allocate'],['allocated']
Energy Efficiency,/pymva/src/MethodPyKeras.cxx:419; 7: Assuming the condition is false in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:425; 8: Left side of '||' is false in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:425; 9: Assuming the condition is false in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:425; 10: Taking false branch in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:425; 11: Assuming the condition is true in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:431; 12: Taking true branch in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:431; 13: Assuming 'j' is >= field 'fNOutputs' in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:432; 14: Loop condition is false. Execution continues on line 439 in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:432; 15: Assuming 'i' is >= 'nTrainingEvents' in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:416; 16: Loop condition is false. Execution continues on line 442 in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:416; 17: Memory is allocated in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:460; 18: 'i' is < 'nValEvents' in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:464; 19: Loop condition is true. Entering loop body in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:464; 20: Assuming 'j' is < field 'fNVars' in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:468; 21: Loop condition is true. Entering loop body in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:468; 22: Use of zero-allocated memory in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:469; /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:474:39: warning: Use of zero-allocated memory [clang-analyzer-cplusplus.NewDelete]; 1: Assuming field 'fModelIsSetup' is true in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:400; 2: Taking false branch in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:400; 3: 'i' is < 'nTrainingEvents' in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:416; 4: Loop condition is true. Entering loop body in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7526:1654,allocate,allocated,1654,https://root.cern,https://github.com/root-project/root/issues/7526,1,['allocate'],['allocated']
Energy Efficiency,/pymva/src/MethodPyKeras.cxx:419; 7: Assuming the condition is false in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:425; 8: Left side of '||' is false in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:425; 9: Assuming the condition is false in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:425; 10: Taking false branch in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:425; 11: Assuming the condition is true in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:431; 12: Taking true branch in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:431; 13: Assuming 'j' is >= field 'fNOutputs' in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:432; 14: Loop condition is false. Execution continues on line 439 in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:432; 15: Assuming 'i' is >= 'nTrainingEvents' in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:416; 16: Loop condition is false. Execution continues on line 442 in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:416; 17: Memory is allocated in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:461; 18: 'i' is < 'nValEvents' in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:464; 19: Loop condition is true. Entering loop body in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:464; 20: Assuming 'j' is >= field 'fNVars' in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:468; 21: Loop condition is false. Execution continues on line 472 in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:468; 22: Assuming the condition is false in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:472; 23: Left side of '||' is false in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:472; 24: Assuming the condition is false in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:472; 25: Taking false branch in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:472; 26: Assuming the condition is true in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:478; 27: Taking true branch in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:478; 28: Assuming 'j' is < field 'fNOutputs' in /o,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7526:8980,allocate,allocated,8980,https://root.cern,https://github.com/root-project/root/issues/7526,1,['allocate'],['allocated']
Energy Efficiency,/pymva/src/MethodPyKeras.cxx:419; 7: Assuming the condition is false in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:425; 8: Left side of '||' is false in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:425; 9: Assuming the condition is false in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:425; 10: Taking false branch in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:425; 11: Assuming the condition is true in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:431; 12: Taking true branch in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:431; 13: Assuming 'j' is >= field 'fNOutputs' in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:432; 14: Loop condition is false. Execution continues on line 439 in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:432; 15: Assuming 'i' is >= 'nTrainingEvents' in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:416; 16: Loop condition is false. Execution continues on line 442 in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:416; 17: Memory is allocated in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:461; 18: 'i' is < 'nValEvents' in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:464; 19: Loop condition is true. Entering loop body in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:464; 20: Assuming 'j' is >= field 'fNVars' in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:468; 21: Loop condition is false. Execution continues on line 472 in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:468; 22: Assuming the condition is true in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:472; 23: Left side of '||' is true in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:472; 24: Assuming 'j' is < field 'fNOutputs' in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:473; 25: Loop condition is true. Entering loop body in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:473; 26: Use of zero-allocated memory in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:474; /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:476:48: warning: Use of zero-allocated memory [clang-,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7526:3833,allocate,allocated,3833,https://root.cern,https://github.com/root-project/root/issues/7526,1,['allocate'],['allocated']
Energy Efficiency,/pymva/src/MethodPyKeras.cxx:419; 7: Assuming the condition is false in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:425; 8: Left side of '||' is false in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:425; 9: Assuming the condition is false in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:425; 10: Taking false branch in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:425; 11: Assuming the condition is true in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:431; 12: Taking true branch in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:431; 13: Assuming 'j' is >= field 'fNOutputs' in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:432; 14: Loop condition is false. Execution continues on line 439 in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:432; 15: Assuming 'i' is >= 'nTrainingEvents' in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:416; 16: Loop condition is false. Execution continues on line 442 in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:416; 17: Memory is allocated in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:461; 18: 'i' is < 'nValEvents' in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:464; 19: Loop condition is true. Entering loop body in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:464; 20: Assuming 'j' is >= field 'fNVars' in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:468; 21: Loop condition is false. Execution continues on line 472 in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:468; 22: Assuming the condition is true in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:472; 23: Left side of '||' is true in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:472; 24: Assuming 'j' is >= field 'fNOutputs' in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:473; 25: Loop condition is false. Execution continues on line 476 in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:473; 26: Use of zero-allocated memory in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:476; /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:480:39: warning: Use of zero-allocated,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7526:6399,allocate,allocated,6399,https://root.cern,https://github.com/root-project/root/issues/7526,1,['allocate'],['allocated']
Energy Efficiency,/pymva/src/MethodPyTorch.cxx:318; 7: Assuming the condition is false in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:324; 8: Left side of '||' is false in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:324; 9: Assuming the condition is false in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:324; 10: Taking false branch in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:324; 11: Assuming the condition is true in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:330; 12: Taking true branch in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:330; 13: Assuming 'j' is >= field 'fNOutputs' in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:331; 14: Loop condition is false. Execution continues on line 338 in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:331; 15: Assuming 'i' is >= 'nTrainingEvents' in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:315; 16: Loop condition is false. Execution continues on line 341 in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:315; 17: Memory is allocated in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:359; 18: 'i' is < 'nValEvents' in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:363; 19: Loop condition is true. Entering loop body in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:363; 20: Assuming 'j' is < field 'fNVars' in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:367; 21: Loop condition is true. Entering loop body in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:367; 22: Use of zero-allocated memory in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:368; /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:373:39: warning: Use of zero-allocated memory [clang-analyzer-cplusplus.NewDelete]; 1: Assuming field 'fModelIsSetup' is true in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:298; 2: Taking false branch in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:298; 3: 'i' is < 'nTrainingEvents' in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:315; 4: Loop condition is true. Entering loop body in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7526:11886,allocate,allocated,11886,https://root.cern,https://github.com/root-project/root/issues/7526,1,['allocate'],['allocated']
Energy Efficiency,/pymva/src/MethodPyTorch.cxx:318; 7: Assuming the condition is false in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:324; 8: Left side of '||' is false in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:324; 9: Assuming the condition is false in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:324; 10: Taking false branch in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:324; 11: Assuming the condition is true in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:330; 12: Taking true branch in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:330; 13: Assuming 'j' is >= field 'fNOutputs' in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:331; 14: Loop condition is false. Execution continues on line 338 in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:331; 15: Assuming 'i' is >= 'nTrainingEvents' in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:315; 16: Loop condition is false. Execution continues on line 341 in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:315; 17: Memory is allocated in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:360; 18: 'i' is < 'nValEvents' in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:363; 19: Loop condition is true. Entering loop body in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:363; 20: Assuming 'j' is >= field 'fNVars' in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:367; 21: Loop condition is false. Execution continues on line 371 in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:367; 22: Assuming the condition is false in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:371; 23: Left side of '||' is false in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:371; 24: Assuming the condition is false in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:371; 25: Taking false branch in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:371; 26: Assuming the condition is true in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:377; 27: Taking true branch in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:377; 28: Assuming 'j' is < field 'fNOutputs' in /o,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7526:19212,allocate,allocated,19212,https://root.cern,https://github.com/root-project/root/issues/7526,1,['allocate'],['allocated']
Energy Efficiency,/pymva/src/MethodPyTorch.cxx:318; 7: Assuming the condition is false in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:324; 8: Left side of '||' is false in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:324; 9: Assuming the condition is false in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:324; 10: Taking false branch in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:324; 11: Assuming the condition is true in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:330; 12: Taking true branch in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:330; 13: Assuming 'j' is >= field 'fNOutputs' in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:331; 14: Loop condition is false. Execution continues on line 338 in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:331; 15: Assuming 'i' is >= 'nTrainingEvents' in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:315; 16: Loop condition is false. Execution continues on line 341 in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:315; 17: Memory is allocated in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:360; 18: 'i' is < 'nValEvents' in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:363; 19: Loop condition is true. Entering loop body in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:363; 20: Assuming 'j' is >= field 'fNVars' in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:367; 21: Loop condition is false. Execution continues on line 371 in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:367; 22: Assuming the condition is true in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:371; 23: Left side of '||' is true in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:371; 24: Assuming 'j' is < field 'fNOutputs' in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:372; 25: Loop condition is true. Entering loop body in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:372; 26: Use of zero-allocated memory in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:373; /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:375:48: warning: Use of zero-allocated memory [clang-,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7526:14065,allocate,allocated,14065,https://root.cern,https://github.com/root-project/root/issues/7526,1,['allocate'],['allocated']
Energy Efficiency,/pymva/src/MethodPyTorch.cxx:318; 7: Assuming the condition is false in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:324; 8: Left side of '||' is false in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:324; 9: Assuming the condition is false in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:324; 10: Taking false branch in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:324; 11: Assuming the condition is true in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:330; 12: Taking true branch in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:330; 13: Assuming 'j' is >= field 'fNOutputs' in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:331; 14: Loop condition is false. Execution continues on line 338 in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:331; 15: Assuming 'i' is >= 'nTrainingEvents' in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:315; 16: Loop condition is false. Execution continues on line 341 in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:315; 17: Memory is allocated in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:360; 18: 'i' is < 'nValEvents' in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:363; 19: Loop condition is true. Entering loop body in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:363; 20: Assuming 'j' is >= field 'fNVars' in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:367; 21: Loop condition is false. Execution continues on line 371 in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:367; 22: Assuming the condition is true in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:371; 23: Left side of '||' is true in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:371; 24: Assuming 'j' is >= field 'fNOutputs' in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:372; 25: Loop condition is false. Execution continues on line 375 in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:372; 26: Use of zero-allocated memory in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:375; /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:379:39: warning: Use of zero-allocated,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7526:16631,allocate,allocated,16631,https://root.cern,https://github.com/root-project/root/issues/7526,1,['allocate'],['allocated']
Energy Efficiency,/root_src/graf3d/eve7/glu/sweep.c:1114; 39: Use of memory after it is freed in /opt/root_src/graf3d/eve7/glu/sweep.c:885; /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1168:25: warning: Potential leak of memory pointed to by 'sliceVal' [clang-analyzer-cplusplus.NewDeleteLeaks]; 1: Taking true branch in /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1040; 2: Memory is allocated in /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1043; 3: Assuming 'phiBin' is > 'nPhiBins' in /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1046; 4: Loop condition is false. Execution jumps to the end of the function in /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1046; 5: Potential leak of memory pointed to by 'sliceVal' in /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1168; /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1168:25: warning: Potential leak of memory pointed to by 'sliceValRef' [clang-analyzer-cplusplus.NewDeleteLeaks]; 1: Taking true branch in /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1040; 2: Memory is allocated in /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1044; 3: Assuming 'phiBin' is > 'nPhiBins' in /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1046; 4: Loop condition is false. Execution jumps to the end of the function in /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1046; 5: Potential leak of memory pointed to by 'sliceValRef' in /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1168; /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1168:25: warning: Potential leak of memory pointed to by 'sliceValsLow' [clang-analyzer-cplusplus.NewDeleteLeaks]; 1: Taking false branch in /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1040; 2: Memory is allocated in /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1091; 3: Assuming 'etaBin' is > 'nEtaBins' in /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1098; 4: Loop condition is false. Execution jumps to the end of the function in /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1098; 5: Potential leak of memory pointed to by 'sliceValsLow' in /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1168; /opt,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7531:31552,allocate,allocated,31552,https://root.cern,https://github.com/root-project/root/issues/7531,1,['allocate'],['allocated']
Energy Efficiency,/rootx/src/rootx.cxx:328; 7: Assuming the condition is false in /opt/root_src/rootx/src/rootx.cxx:358; 8: Taking false branch in /opt/root_src/rootx/src/rootx.cxx:358; 9: 'batch' is false in /opt/root_src/rootx/src/rootx.cxx:362; 10: Taking false branch in /opt/root_src/rootx/src/rootx.cxx:362; 11: 'about' is false in /opt/root_src/rootx/src/rootx.cxx:364; 12: Taking false branch in /opt/root_src/rootx/src/rootx.cxx:364; 13: 'batch' is false in /opt/root_src/rootx/src/rootx.cxx:369; 14: Taking true branch in /opt/root_src/rootx/src/rootx.cxx:369; 15: 'about' is false in /opt/root_src/rootx/src/rootx.cxx:370; 16: Taking false branch in /opt/root_src/rootx/src/rootx.cxx:370; 17: Assuming 'gNoLogo' is true in /opt/root_src/rootx/src/rootx.cxx:374; 18: Taking false branch in /opt/root_src/rootx/src/rootx.cxx:374; 19: Assuming the condition is false in /opt/root_src/rootx/src/rootx.cxx:420; 20: Taking false branch in /opt/root_src/rootx/src/rootx.cxx:420; 21: Assuming 'gChildpid' is <= 0 in /opt/root_src/rootx/src/rootx.cxx:423; 22: Taking false branch in /opt/root_src/rootx/src/rootx.cxx:423; 23: Memory is allocated in /opt/root_src/rootx/src/rootx.cxx:443; 24: Loop condition is false. Execution continues on line 457 in /opt/root_src/rootx/src/rootx.cxx:455; 25: Potential leak of memory pointed to by 'argvv' in /opt/root_src/rootx/src/rootx.cxx:468; /opt/root_src/rootx/src/rootxx.cxx:783:10: warning: Call to function 'strcpy' is insecure as it does not provide bounding of the memory buffer. Replace unbounded copy functions with analogous functions that support length arguments such as 'strlcpy'. CWE-119 [clang-analyzer-security.insecureAPI.strcpy]; 1: Call to function 'strcpy' is insecure as it does not provide bounding of the memory buffer. Replace unbounded copy functions with analogous functions that support length arguments such as 'strlcpy'. CWE-119 in /opt/root_src/rootx/src/rootxx.cxx:783; /opt/root_src/rootx/src/rootx.cxx; /opt/root_src/rootx/src/rootxx.cxx; ```,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7527:7249,allocate,allocated,7249,https://root.cern,https://github.com/root-project/root/issues/7527,1,['allocate'],['allocated']
Energy Efficiency,"000-7fd6579a7000 r-xp 00000000 08:02 80449 /usr/lib64/libcrypt-2.17.so; 7fd6579a7000-7fd657ba6000 ---p 00008000 08:02 80449 /usr/lib64/libcrypt-2.17.so; 7fd657ba6000-7fd657ba7000 r--p 00007000 08:02 80449 /usr/lib64/libcrypt-2.17.so; 7fd657ba7000-7fd657ba8000 rw-p 00008000 08:02 80449 /usr/lib64/libcrypt-2.17.so; 7fd657ba8000-7fd657bd6000 rw-p 00000000 00:00 0 ; 7fd657bd6000-7fd657e0c000 r-xp 00000000 08:02 344532 /usr/lib64/libcrypto.so.1.0.2k; 7fd657e0c000-7fd65800c000 ---p 00236000 08:02 344532 /usr/lib64/libcrypto.so.1.0.2k; 7fd65800c000-7fd658028000 r--p 00236000 08:02 344532 /usr/lib64/libcrypto.so.1.0.2k; 7fd658028000-7fd658035000 rw-p 00252000 08:02 344532 /usr/lib64/libcrypto.so.1.0.2k; 7fd658035000-7fd658039000 rw-p 00000000 00:00 0 ; 7fd658039000-7fd6580a0000 r-xp 00000000 08:02 344534 /usr/lib64/libssl.so.1.0.2k; 7fd6580a0000-7fd6582a0000 ---p 00067000 08:02 344534 /usr/lib64/libssl.so.1.0.2k; 7fd6582a0000-7fd6582a4000 r--p 00067000 08:02 344534 /usr/lib64/libssl.so.1.0.2k; 7fd6582a4000-7fd6582ab000 rw-p 0006b000 08:02 344534 /usr/lib64/libssl.so.1.0.2k; 7fd6582ab000-7fd6582c0000 r-xp 00000000 08:02 80883 /usr/lib64/libz.so.1.2.7; 7fd6582c0000-7fd6584bf000 ---p 00015000 08:02 80883 /usr/lib64/libz.so.1.2.7; 7fd6584bf000-7fd6584c0000 r--p 00014000 08:02 80883 /usr/lib64/libz.so.1.2.7; 7fd6584c0000-7fd6584c1000 rw-p 00015000 08:02 80883 /usr/lib64/libz.so.1.2.7; 7fd6584c1000-7fd6584c3000 r-xp 00000000 08:02 80878 /usr/lib64/libpcreposix.so.0.0.1; 7fd6584c3000-7fd6586c2000 ---p 00002000 08:02 80878 /usr/lib64/libpcreposix.so.0.0.1; 7fd6586c2000-7fd6586c3000 r--p 00001000 08:02 80878 /usr/lib64/libpcreposix.so.0.0.1bash-4.2$ ; ```. Obviously, the problem is the redefinition of UNITS; but if I comment out the draw statements, that the program can run smoothly, so it looks to me that somehow the draw method trigger the error.; And I can't reduce the definition of UNITS further, when I comment out any of the content, the error become 'double free or corruption'",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/8256:15349,reduce,reduce,15349,https://root.cern,https://github.com/root-project/root/issues/8256,1,['reduce'],['reduce']
Energy Efficiency,"017/6/5/Objective-C_and_fork_in_macOS_1013.html. > The rules for using Objective-C between fork() and exec() have changed; in macOS 10.13. Incorrect code that happened to work most of the time in; the past may now fail. Some workarounds are available. This led to issues within the Python language, tracked at; https://bugs.python.org/issue33725. Any application that makes use of; e.g. multiprocessing (or in any way ends up calling MacOS system `fork`; or `exec`) is affected. According to the Python bug tracker, this issue; has been fixed in Python 3.8. The XCode Python 3.8 version begs to differ. In a very specific usecase,; that boils down to this simple reproducer:; ```python; import pyspark. sparkconf = pyspark.SparkConf().setAll(; {""spark.app.name"": ""distrdf001_spark_connection"",; ""spark.master"": ""local[4]"", }.items()); sparkcontext = pyspark.SparkContext(conf=sparkconf). def imp(partition):; import cppyy; return 1. count = sparkcontext.parallelize(range(1)).map(imp).reduce(lambda x,y:; x+y); ```. the issue is still triggered. Installing any other 3.8+ Python; executable on a MacOS node doesn't show this behaviour, with the exact; same pyspark version (3.2.1). It is possible to workaround this problem, by setting the environment; variable OBJC_DISABLE_INITIALIZE_FORK_SAFETY=YES before running a test.; This effectively brings back the behaviour of MacOS10.12 and previous; versions. This commit uses this workaround, since we cannot directly; modify how the system XCode Python on MacOS works. To give an idea of the impact of this issue (and therefore the changes; in this commit), the situation where this occurs is as follows:. 1. A user wants to run RDataFrame in distributed mode.; 2. Their environment is MacOS 10.13+.; 3. The application creates a pyspark mock cluster on the local Mac machine and; the computations happen strictly in the single local node, not in a; distributed cluster. Thus, it probably interests only a very small fraction of use cases for; distrib",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9811:1054,reduce,reduce,1054,https://root.cern,https://github.com/root-project/root/pull/9811,1,['reduce'],['reduce']
Energy Efficiency,"0x2f544f); 418: #2 0x7f4f0c8251a6 in TList::Delete(char const*) (/home/jhahnfel/ROOT/build-clang-asan/lib/libCore.so+0x44c1a6); 418: #3 0x7f4f0c80cb9f in THashList::Delete(char const*) (/home/jhahnfel/ROOT/build-clang-asan/lib/libCore.so+0x433b9f); 418: #4 0x7f4f0d640e30 in TDirectoryFile::Close(char const*) (/home/jhahnfel/ROOT/build-clang-asan/lib/libRIO.so+0x285e30); 418: #5 0x7f4f0d678f08 in TFile::Close(char const*) (/home/jhahnfel/ROOT/build-clang-asan/lib/libRIO.so+0x2bdf08); 418: #6 0x7f4f0d678050 in TFile::~TFile() (/home/jhahnfel/ROOT/build-clang-asan/lib/libRIO.so+0x2bd050); 418: #7 0x7f4f0d67898d in TFile::~TFile() (/home/jhahnfel/ROOT/build-clang-asan/lib/libRIO.so+0x2bd98d); 418: #8 0x52289f in BulkApiVariableTest_stdRead_Test::TestBody() (/home/jhahnfel/ROOT/build-clang-asan/tree/tree/test/testBulkApiVarLength+0x52289f). [...]. 418: previously allocated by thread T0 here:; 418: #0 0x51ea88 in operator new(unsigned long) (/home/jhahnfel/ROOT/build-clang-asan/tree/tree/test/testBulkApiVarLength+0x51ea88); 418: #1 0x7f4f0c71e9ce in TStorage::ObjectAlloc(unsigned long) (/home/jhahnfel/ROOT/build-clang-asan/lib/libCore.so+0x3459ce); 418: #2 0x7f4f10a65df5 in ROOT::new_TTree(void*) G__Tree.cxx; 418: #3 0x7f4f0c9094d2 in TClass::NewObject(TClass::ENewType, bool) const (/home/jhahnfel/ROOT/build-clang-asan/lib/libCore.so+0x5304d2); 418: #4 0x7f4f0c90943e in TClass::New(TClass::ENewType, bool) const (/home/jhahnfel/ROOT/build-clang-asan/lib/libCore.so+0x53043e); 418: #5 0x7f4f0d765626 in TKey::ReadObjectAny(TClass const*) (/home/jhahnfel/ROOT/build-clang-asan/lib/libRIO.so+0x3aa626); 418: #6 0x7f4f0d645eb0 in TDirectoryFile::GetObjectChecked(char const*, TClass const*) (/home/jhahnfel/ROOT/build-clang-asan/lib/libRIO.so+0x28aeb0); 418: #7 0x7f4f110c884e in TTreeReader::TTreeReader(char const*, TDirectory*, TEntryList*) (/home/jhahnfel/ROOT/build-clang-asan/lib/libTreePlayer.so+0x21284e); 418: #8 0x521e1d in BulkApiVariableTest_stdRead_Test::TestBody() (/home/jh",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10096:1810,allocate,allocated,1810,https://root.cern,https://github.com/root-project/root/issues/10096,1,['allocate'],['allocated']
Energy Efficiency,"1. Reduce code duplication; 2. Support expressions with complex numbers, as generated by `sympy` for example; 3. Use `std::string` instead of C-style strings; 4. Don't recompile when requesting the same class instance twice (to better support jupyter notebook workflows)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13624:3,Reduce,Reduce,3,https://root.cern,https://github.com/root-project/root/pull/13624,1,['Reduce'],['Reduce']
Energy Efficiency,1. Remove deprecaded code scheduled for removal in 6.34; 2. Remove memory pool related code; 3. Remove checks for unsupported compiler versions. More details in the commit descriptions.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16320:26,schedul,scheduled,26,https://root.cern,https://github.com/root-project/root/pull/16320,1,['schedul'],['scheduled']
Energy Efficiency,"1. Shrink sealed page in `RPageSinkBuf`, https://github.com/root-project/root/issues/16752; 2. Free uncompressed page after compression, https://github.com/root-project/root/issues/16753; 3. Delay buffer allocation in `RPageSinkBuf`. For the non-IMT case, the memory overhead is reduced to around the zipped cluster size. With parallel compression using IMT, all uncompressed pages need to be buffered first. The actual memory overhead is a function of how quickly these are consumed in the background (the slower, the later they are freed after compression) on the one hand and on the other hand how many tasks are running concurrently (each of them needs a temporary compression buffer). Closes #16752, closes #16753",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16781:279,reduce,reduced,279,https://root.cern,https://github.com/root-project/root/pull/16781,1,['reduce'],['reduced']
Energy Efficiency,"1. Specify several JSROOT locations when using with `require.js`; 2. Use fully qualified functions names to avoid conflicts; 3. Increase JSON compression, reduces json files",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/8528:155,reduce,reduces,155,https://root.cern,https://github.com/root-project/root/pull/8528,1,['reduce'],['reduces']
Energy Efficiency,"1. Use TString instead of plain char* in TCanvas methods; 2. Use std::vector<Bool_t> for TPad::fCollideGrid; 3. Fix memory leak in `TPad::DrawCollideGrid` and `TPad::DrawColorTable` methods; 4. Fix many-many memory leaks with usage of `<TPrimitive>::Draw<Primitive>` methods like `TLatex::DrawLatex` in tutorials, tests. In all these cases temporary object instance was not deleted. Now just using stack variable instead. ; 5. Improve some `TSpectrum2` tutorials - release allocated memory.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10852:473,allocate,allocated,473,https://root.cern,https://github.com/root-project/root/pull/10852,1,['allocate'],['allocated']
Energy Efficiency,"1. Use `=delete` specifier for non-implemented methods; 2. Use `nullptr` instead of 0; 3. Reduce some includes; 4. Fix `TGTextBuffer` - copy/assign operators were wrong, just delete them; 5. Merge LinkDef files together",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7231:90,Reduce,Reduce,90,https://root.cern,https://github.com/root-project/root/pull/7231,1,['Reduce'],['Reduce']
Energy Efficiency,"1.Split aggregation functionality into `RAttrAggregation` class.; It is base class for all kinds of `RAttrLine`, `RAttrFill`, ...; 2. Use `union` to reduce memory consumption in RAttrBase. ; Probably, one could use `variant` instead, but this requires c++17 and can be avoided.; 3. Use `const char *` for name storage in `RAttrBase`- it never changed.; If really necessary, one could create deep copy, but just by usage pattern it is not required at all.; 4. Use normal data type to keep default value for `RAttrValue`; 5. Let use value classes as `RAttrValue<int>` standalone. Finally reduce `sizeof(RAttrValue<int>)` from 120 to 40 bytes.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/8483:149,reduce,reduce,149,https://root.cern,https://github.com/root-project/root/pull/8483,3,"['consumption', 'reduce']","['consumption', 'reduce']"
Energy Efficiency,"1637:13: warning: Value stored to 'dywn' is never read [clang-analyzer-deadcode.DeadStores]; 1: Value stored to 'dywn' is never read in /opt/root_src/graf2d/postscript/src/TSVG.cxx:1637; /opt/root_src/graf2d/postscript/src/TSVG.cxx:1639:13: warning: Value stored to 'dxwn' is never read [clang-analyzer-deadcode.DeadStores]; 1: Value stored to 'dxwn' is never read in /opt/root_src/graf2d/postscript/src/TSVG.cxx:1639; /opt/root_src/graf2d/postscript/src/TSVG.cxx:1652:37: warning: Value stored to 'cindex' is never read [clang-analyzer-deadcode.DeadStores]; 1: Value stored to 'cindex' is never read in /opt/root_src/graf2d/postscript/src/TSVG.cxx:1652; /opt/root_src/graf2d/postscript/src/TTeXDump.cxx:664:37: warning: Value stored to 'cindex' is never read [clang-analyzer-deadcode.DeadStores]; 1: Value stored to 'cindex' is never read in /opt/root_src/graf2d/postscript/src/TTeXDump.cxx:664; /opt/root_src/graf2d/x11/src/GX11Gui.cxx:182:7: warning: Argument to 'delete' is a constant address (1), which is not memory allocated by 'new' [clang-analyzer-cplusplus.NewDelete]; 1: Assuming the condition is true in /opt/root_src/graf2d/x11/src/GX11Gui.cxx:177; 2: Taking true branch in /opt/root_src/graf2d/x11/src/GX11Gui.cxx:177; 3: Argument to 'delete' is a constant address (1), which is not memory allocated by 'new' in /opt/root_src/graf2d/x11/src/GX11Gui.cxx:182; /opt/root_src/graf2d/x11/src/GX11Gui.cxx:2832:24: warning: The left operand of '!=' is a garbage value [clang-analyzer-core.UndefinedBinaryOperatorResult]; 1: 'dndTypeList' is equal to null in /opt/root_src/graf2d/x11/src/GX11Gui.cxx:2820; 2: Taking true branch in /opt/root_src/graf2d/x11/src/GX11Gui.cxx:2820; 3: Assuming 'maxd' is > 0 in /opt/root_src/graf2d/x11/src/GX11Gui.cxx:2827; 4: Taking false branch in /opt/root_src/graf2d/x11/src/GX11Gui.cxx:2827; 5: Assuming 'win' is not equal to 'dragwin' in /opt/root_src/graf2d/x11/src/GX11Gui.cxx:2829; 6: Left side of '||' is false in /opt/root_src/graf2d/x11/src/GX11Gui.cxx:",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7432:73981,allocate,allocated,73981,https://root.cern,https://github.com/root-project/root/issues/7432,1,['allocate'],['allocated']
Energy Efficiency,19 [clang-analyzer-security.insecureAPI.strcpy]; 1: Call to function 'strcpy' is insecure as it does not provide bounding of the memory buffer. Replace unbounded copy functions with analogous functions that support length arguments such as 'strlcpy'. CWE-119 in /opt/root_src/io/xml/src/TBufferXML.cxx:2535; /opt/root_src/io/xml/src/TBufferXML.cxx:2558:21: warning: Use of zero-allocated memory [clang-analyzer-cplusplus.NewDelete]; 1: Assuming the condition is true in /opt/root_src/io/xml/src/TBufferXML.cxx:2543; 2: Taking true branch in /opt/root_src/io/xml/src/TBufferXML.cxx:2543; 3: Assuming 'nwh' is not equal to 0 in /opt/root_src/io/xml/src/TBufferXML.cxx:2549; 4: Taking false branch in /opt/root_src/io/xml/src/TBufferXML.cxx:2549; 5: Assuming 'nwh' is equal to 255 in /opt/root_src/io/xml/src/TBufferXML.cxx:2552; 6: Taking true branch in /opt/root_src/io/xml/src/TBufferXML.cxx:2552; 7: Memory is allocated in /opt/root_src/io/xml/src/TBufferXML.cxx:2557; 8: Use of zero-allocated memory in /opt/root_src/io/xml/src/TBufferXML.cxx:2558; /opt/root_src/io/xml/src/TXMLEngine.cxx:134:10: warning: Called C++ object pointer is null [clang-analyzer-core.CallAndMessage]; 1: Assuming 'res' is not equal to null in /opt/root_src/io/xml/src/TXMLEngine.cxx:1449; 2: Left side of '||' is false in /opt/root_src/io/xml/src/TXMLEngine.cxx:1449; 3: Assuming 'xmlnode' is not equal to null in /opt/root_src/io/xml/src/TXMLEngine.cxx:1449; 4: Taking false branch in /opt/root_src/io/xml/src/TXMLEngine.cxx:1449; 5: Calling constructor for 'TXMLOutputStream' in /opt/root_src/io/xml/src/TXMLEngine.cxx:1452; 6: Null pointer value stored to 'out.fOut' in /opt/root_src/io/xml/src/TXMLEngine.cxx:89; 7: Returning from constructor for 'TXMLOutputStream' in /opt/root_src/io/xml/src/TXMLEngine.cxx:1452; 8: Calling 'TXMLEngine::SaveNode' in /opt/root_src/io/xml/src/TXMLEngine.cxx:1454; 9: 'xmlnode' is not equal to null in /opt/root_src/io/xml/src/TXMLEngine.cxx:1672; 10: Taking false branch in /opt/root_,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7431:128625,allocate,allocated,128625,https://root.cern,https://github.com/root-project/root/issues/7431,1,['allocate'],['allocated']
Energy Efficiency,"1: Value stored to 'charWidth' is never read in /opt/root_src/gui/gui/src/TGTextEntry.cxx:1619; /opt/root_src/gui/gui/src/TGTextView.cxx:1003:15: warning: Although the value stored to 'temp_len' is used in the enclosing expression, the value is never actually read from 'temp_len' [clang-analyzer-deadcode.DeadStores]; 1: Although the value stored to 'temp_len' is used in the enclosing expression, the value is never actually read from 'temp_len' in /opt/root_src/gui/gui/src/TGTextView.cxx:1003; /opt/root_src/gui/gui/src/TGTextView.cxx:1016:16: warning: Use of zero-allocated memory [clang-analyzer-cplusplus.NewDelete]; 1: Assuming the condition is false in /opt/root_src/gui/gui/src/TGTextView.cxx:986; 2: Taking false branch in /opt/root_src/gui/gui/src/TGTextView.cxx:986; 3: Assuming the condition is false in /opt/root_src/gui/gui/src/TGTextView.cxx:996; 4: Loop condition is false. Execution continues on line 999 in /opt/root_src/gui/gui/src/TGTextView.cxx:996; 5: Memory is allocated in /opt/root_src/gui/gui/src/TGTextView.cxx:1002; 6: Loop condition is false. Execution continues on line 1016 in /opt/root_src/gui/gui/src/TGTextView.cxx:1004; 7: Use of zero-allocated memory in /opt/root_src/gui/gui/src/TGTextView.cxx:1016; /opt/root_src/gui/gui/src/TGTextView.cxx:1027:10: warning: Call to function 'strcpy' is insecure as it does not provide bounding of the memory buffer. Replace unbounded copy functions with analogous functions that support length arguments such as 'strlcpy'. CWE-119 [clang-analyzer-security.insecureAPI.strcpy]; 1: Call to function 'strcpy' is insecure as it does not provide bounding of the memory buffer. Replace unbounded copy functions with analogous functions that support length arguments such as 'strlcpy'. CWE-119 in /opt/root_src/gui/gui/src/TGTextView.cxx:1027; /opt/root_src/gui/gui/src/TRootApplication.cxx:83:12: warning: Null pointer passed to 1st parameter expecting 'nonnull' [clang-analyzer-core.NonNullParamChecker]; 1: Calling 'TRootApplicati",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7533:59223,allocate,allocated,59223,https://root.cern,https://github.com/root-project/root/issues/7533,1,['allocate'],['allocated']
Energy Efficiency,"230090,0x00010b230094); freed by thread T0 here:; #0 0x106a86ce0 in wrap_free+0x98 (libclang_rt.asan_osx_dynamic.dylib:arm64e+0x52ce0); #1 0x1062d3ed8 in ROOT::Experimental::REntry::~REntry() REntry.cxx:25; #2 0x1046a7cf4 in std::__1::default_delete<ROOT::Experimental::REntry>::operator()[abi:v160006](ROOT::Experimental::REntry*) const unique_ptr.h:65; #3 0x1046a7c68 in std::__1::unique_ptr<ROOT::Experimental::REntry, std::__1::default_delete<ROOT::Experimental::REntry>>::reset[abi:v160006](ROOT::Experimental::REntry*) unique_ptr.h:297; #4 0x1046a7b7c in std::__1::unique_ptr<ROOT::Experimental::REntry, std::__1::default_delete<ROOT::Experimental::REntry>>::~unique_ptr[abi:v160006]() unique_ptr.h:263; #5 0x10469cb0c in std::__1::unique_ptr<ROOT::Experimental::REntry, std::__1::default_delete<ROOT::Experimental::REntry>>::~unique_ptr[abi:v160006]() unique_ptr.h:263; #6 0x10469a73c in main ao2dToAO2NT.cxx:163; #7 0x186307f24 (<unknown module>). previously allocated by thread T0 here:; #0 0x106a86ba4 in wrap_malloc+0x94 (libclang_rt.asan_osx_dynamic.dylib:arm64e+0x52ba4); #1 0x1062c0d60 in ROOT::Experimental::Detail::RFieldBase::GenerateValue() RField.cxx:332; #2 0x1062efd48 in ROOT::Experimental::RNTupleModel::CreateEntry() const RNTupleModel.cxx:147; #3 0x104699f00 in main ao2dToAO2NT.cxx:145; #4 0x186307f24 (<unknown module>). SUMMARY: AddressSanitizer: bad-free (libclang_rt.asan_osx_dynamic.dylib:arm64e+0x52ce0) in wrap_free+0x98; ==5670==ABORTING; [1] 5670 abort ./a.out AO2D.root; ```. Besides the crash, i would appreciate if one could show me how to create RNTuples in a given folder (which is probably something trivial I am missing). ### Reproducer. ```C++; #include <iostream>; #include <getopt.h>; #include <TFile.h>; #include <TTree.h>; #include <TKey.h>; #include <TLeaf.h>; #include <ROOT/RNTuple.hxx>; #include <ROOT/RNTupleModel.hxx>; #include <ROOT/RField.hxx>. void print_help(); {; std::cout << ""Usage: ao2dToAO2NT [options] input_file"" << std::endl;; std::cou",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/13996:7714,allocate,allocated,7714,https://root.cern,https://github.com/root-project/root/issues/13996,1,['allocate'],['allocated']
Energy Efficiency,25: Taking false branch in /opt/root_src/core/base/src/TString.cxx:1916; 26: Calling constructor for 'TString' in /opt/root_src/core/base/src/TString.cxx:1920; 27: 'cs' is non-null in /opt/root_src/core/base/src/TString.cxx:105; 28: Taking true branch in /opt/root_src/core/base/src/TString.cxx:105; 29: Calling 'TString::Init' in /opt/root_src/core/base/src/TString.cxx:107; 30: 'capacity' is >= 0 in /opt/root_src/core/base/src/TString.cxx:249; 31: Taking false branch in /opt/root_src/core/base/src/TString.cxx:249; 32: 'nchar' is >= 0 in /opt/root_src/core/base/src/TString.cxx:253; 33: Taking false branch in /opt/root_src/core/base/src/TString.cxx:253; 34: Assuming the condition is false in /opt/root_src/core/base/src/TString.cxx:257; 35: Taking false branch in /opt/root_src/core/base/src/TString.cxx:257; 36: Assuming 'capacity' is >= kMinCap in /opt/root_src/core/base/src/TString.cxx:265; 37: Taking false branch in /opt/root_src/core/base/src/TString.cxx:265; 38: Memory is allocated in /opt/root_src/core/base/src/TString.cxx:270; 39: Returned allocated memory in /opt/root_src/core/base/src/TString.cxx:107; 40: Returning from constructor for 'TString' in /opt/root_src/core/base/src/TString.cxx:1920; 41: Loop condition is false. Execution continues on line 1932 in /opt/root_src/core/base/src/TString.cxx:1926; 42: Potential leak of memory pointed to by 'str.fRep..fLong.fData' in /opt/root_src/core/base/src/TString.cxx:1933; /opt/root_src/core/base/src/TString.cxx:1933:1: warning: Potential leak of memory pointed to by 'str_ref.fRep..fLong.fData' [clang-analyzer-cplusplus.NewDeleteLeaks]; 1: Assuming 'base_in' is >= 2 in /opt/root_src/core/base/src/TString.cxx:2151; 2: Left side of '||' is false in /opt/root_src/core/base/src/TString.cxx:2151; 3: Assuming 'base_in' is <= 36 in /opt/root_src/core/base/src/TString.cxx:2151; 4: Left side of '||' is false in /opt/root_src/core/base/src/TString.cxx:2151; 5: Assuming 'base_out' is >= 2 in /opt/root_src/core/base/src/TString.cx,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:129404,allocate,allocated,129404,https://root.cern,https://github.com/root-project/root/issues/7412,1,['allocate'],['allocated']
Energy Efficiency,"3):. **perf stat (before)**; ```; Performance counter stats for 'root-9133':. 135566.779101 task-clock (msec) # 4.167 CPUs utilized ; 481,078 context-switches # 0.004 M/sec ; 710 cpu-migrations # 0.005 K/sec ; 3,512,992 page-faults # 0.026 M/sec ; 456,851,617,713 cycles # 3.370 GHz ; 310,271,051,553 instructions # 0.68 insn per cycle ; 65,664,345,345 branches # 484.369 M/sec ; 723,033,852 branch-misses # 1.10% of all branches . 32.535328793 seconds time elapsed; ```; **perf stat (after)**; ```; Performance counter stats for 'root-9133':. 115840.232563 task-clock (msec) # 6.254 CPUs utilized ; 343,733 context-switches # 0.003 M/sec ; 327 cpu-migrations # 0.003 K/sec ; 1,567,401 page-faults # 0.014 M/sec ; 391,763,587,760 cycles # 3.382 GHz ; 273,699,878,762 instructions # 0.70 insn per cycle ; 57,799,809,349 branches # 498.961 M/sec ; 635,168,730 branch-misses # 1.10% of all branches . 18.522277829 seconds time elapsed; ```; *Note the reduced number of cpu-migrations, page-faults, and context switches, as well as lower runtime.*. **massif (before)**; ![screenshot](https://user-images.githubusercontent.com/249404/52358705-ca2d1c80-2a38-11e9-823e-ea35219fbca1.png); ![screenshot](https://user-images.githubusercontent.com/249404/52359262-d5cd1300-2a39-11e9-8159-73730cbd79e6.png). **massif (after)**; ![screenshot](https://user-images.githubusercontent.com/249404/52358746-db762900-2a38-11e9-9f63-5d2340860f4d.png); ![screenshot](https://user-images.githubusercontent.com/249404/52359437-30666f00-2a3a-11e9-94ed-67dfad3cdbec.png); *Note how `TBuffer::Expand()` goes from 1.8GB allocated memory down to just ~50MB. Also, total memory used drops from 3.8GB to 3.1GB. The size of the output file is 3.1GB. The total amount of used memory is still high since tasks are accumulating large chunks of data into the `TBufferMergerFile`s before calling `Write()` to get it flushed out. We need to break the total run into more tasks or call `Write()` more often to further reduce memory usage.*",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3385:1721,allocate,allocated,1721,https://root.cern,https://github.com/root-project/root/pull/3385,2,"['allocate', 'reduce']","['allocated', 'reduce']"
Energy Efficiency,"351; 22: 'ii' is >= 'n' in /opt/root_src/math/mathcore/inc/TMath.h:1357; 23: Loop condition is false. Execution continues on line 1360 in /opt/root_src/math/mathcore/inc/TMath.h:1357; 24: Loop condition is true. Entering loop body in /opt/root_src/math/mathcore/inc/TMath.h:1363; 25: Assuming the condition is false in /opt/root_src/math/mathcore/inc/TMath.h:1364; 26: Taking false branch in /opt/root_src/math/mathcore/inc/TMath.h:1364; 27: Assigned value is garbage or undefined in /opt/root_src/math/mathcore/inc/TMath.h:1373; /opt/root_src/math/mathcore/src/AdaptiveIntegratorMultiDim.cxx:142:4: warning: Value stored to 'nfnevl' is never read [clang-analyzer-deadcode.DeadStores]; 1: Value stored to 'nfnevl' is never read in /opt/root_src/math/mathcore/src/AdaptiveIntegratorMultiDim.cxx:142; /opt/root_src/math/mathcore/src/AdaptiveIntegratorMultiDim.cxx:143:4: warning: Value stored to 'relerr' is never read [clang-analyzer-deadcode.DeadStores]; 1: Value stored to 'relerr' is never read in /opt/root_src/math/mathcore/src/AdaptiveIntegratorMultiDim.cxx:143; /opt/root_src/math/mathcore/src/GaussIntegrator.cxx:68:4: warning: Potential memory leak [clang-analyzer-cplusplus.NewDeleteLeaks]; 1: Calling 'IntegrandTransform::Clone' in /opt/root_src/math/mathcore/src/GaussIntegrator.cxx:68; 2: Field 'fInfiniteInterval' is false in /opt/root_src/math/mathcore/src/GaussIntegrator.cxx:248; 3: '?' condition is false in /opt/root_src/math/mathcore/src/GaussIntegrator.cxx:248; 4: Memory is allocated in /opt/root_src/math/mathcore/src/GaussIntegrator.cxx:248; 5: Returned allocated memory in /opt/root_src/math/mathcore/src/GaussIntegrator.cxx:68; 6: Potential memory leak in /opt/root_src/math/mathcore/src/GaussIntegrator.cxx:68; /opt/root_src/math/mathcore/src/GaussIntegrator.cxx:235:12: warning: Although the value stored to 'result' is used in the enclosing expression, the value is never actually read from 'result' [clang-analyzer-deadcode.DeadStores]; 1: Although the value stored to 're",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7458:19309,Adapt,AdaptiveIntegratorMultiDim,19309,https://root.cern,https://github.com/root-project/root/issues/7458,1,['Adapt'],['AdaptiveIntegratorMultiDim']
Energy Efficiency,"44 in /opt/root_src/math/minuit/src/TLinearFitter.cxx:2378; 17: Calling 'KOrdStat<double, int>' in /opt/root_src/math/minuit/src/TLinearFitter.cxx:2444; 18: Assuming 'work' is null in /opt/root_src/math/mathcore/inc/TMath.h:1347; 19: Taking false branch in /opt/root_src/math/mathcore/inc/TMath.h:1347; 20: 'n' is <= 'kWorkMax' in /opt/root_src/math/mathcore/inc/TMath.h:1351; 21: Taking false branch in /opt/root_src/math/mathcore/inc/TMath.h:1351; 22: 'ii' is >= 'n' in /opt/root_src/math/mathcore/inc/TMath.h:1357; 23: Loop condition is false. Execution continues on line 1360 in /opt/root_src/math/mathcore/inc/TMath.h:1357; 24: Loop condition is true. Entering loop body in /opt/root_src/math/mathcore/inc/TMath.h:1363; 25: Assuming the condition is false in /opt/root_src/math/mathcore/inc/TMath.h:1364; 26: Taking false branch in /opt/root_src/math/mathcore/inc/TMath.h:1364; 27: Assigned value is garbage or undefined in /opt/root_src/math/mathcore/inc/TMath.h:1373; /opt/root_src/math/mathcore/src/AdaptiveIntegratorMultiDim.cxx:142:4: warning: Value stored to 'nfnevl' is never read [clang-analyzer-deadcode.DeadStores]; 1: Value stored to 'nfnevl' is never read in /opt/root_src/math/mathcore/src/AdaptiveIntegratorMultiDim.cxx:142; /opt/root_src/math/mathcore/src/AdaptiveIntegratorMultiDim.cxx:143:4: warning: Value stored to 'relerr' is never read [clang-analyzer-deadcode.DeadStores]; 1: Value stored to 'relerr' is never read in /opt/root_src/math/mathcore/src/AdaptiveIntegratorMultiDim.cxx:143; /opt/root_src/math/mathcore/src/GaussIntegrator.cxx:68:4: warning: Potential memory leak [clang-analyzer-cplusplus.NewDeleteLeaks]; 1: Calling 'IntegrandTransform::Clone' in /opt/root_src/math/mathcore/src/GaussIntegrator.cxx:68; 2: Field 'fInfiniteInterval' is false in /opt/root_src/math/mathcore/src/GaussIntegrator.cxx:248; 3: '?' condition is false in /opt/root_src/math/mathcore/src/GaussIntegrator.cxx:248; 4: Memory is allocated in /opt/root_src/math/mathcore/src/GaussIntegrator.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7458:18839,Adapt,AdaptiveIntegratorMultiDim,18839,https://root.cern,https://github.com/root-project/root/issues/7458,1,['Adapt'],['AdaptiveIntegratorMultiDim']
Energy Efficiency,5: Potential leak of memory pointed to by 'sliceValRef' in /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1168; /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1168:25: warning: Potential leak of memory pointed to by 'sliceValsLow' [clang-analyzer-cplusplus.NewDeleteLeaks]; 1: Taking false branch in /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1040; 2: Memory is allocated in /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1091; 3: Assuming 'etaBin' is > 'nEtaBins' in /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1098; 4: Loop condition is false. Execution jumps to the end of the function in /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1098; 5: Potential leak of memory pointed to by 'sliceValsLow' in /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1168; /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1168:25: warning: Potential leak of memory pointed to by 'sliceValsLowRef' [clang-analyzer-cplusplus.NewDeleteLeaks]; 1: Taking false branch in /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1040; 2: Memory is allocated in /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1093; 3: Assuming 'etaBin' is > 'nEtaBins' in /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1098; 4: Loop condition is false. Execution jumps to the end of the function in /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1098; 5: Potential leak of memory pointed to by 'sliceValsLowRef' in /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1168; /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1168:25: warning: Potential leak of memory pointed to by 'sliceValsUp' [clang-analyzer-cplusplus.NewDeleteLeaks]; 1: Taking false branch in /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1040; 2: Memory is allocated in /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1090; 3: Assuming 'etaBin' is > 'nEtaBins' in /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1098; 4: Loop condition is false. Execution jumps to the end of the function in /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1098; 5: Potential leak of memory pointed to by 'sliceValsUp' in /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1168; /o,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7531:32812,allocate,allocated,32812,https://root.cern,https://github.com/root-project/root/issues/7531,1,['allocate'],['allocated']
Energy Efficiency,6: Assuming 'start_src.fY' is equal to 'end_src.fY' in /opt/root_src/gui/gui/src/TGText.cxx:824; 7: Taking true branch in /opt/root_src/gui/gui/src/TGText.cxx:824; 8: 'len' is > 0 in /opt/root_src/gui/gui/src/TGText.cxx:830; 9: Taking true branch in /opt/root_src/gui/gui/src/TGText.cxx:830; 10: Calling 'TGText::GetLine' in /opt/root_src/gui/gui/src/TGText.cxx:831; 11: Assuming the condition is true in /opt/root_src/gui/gui/src/TGText.cxx:1000; 12: Taking true branch in /opt/root_src/gui/gui/src/TGText.cxx:1000; 13: Calling 'TGTextLine::GetText' in /opt/root_src/gui/gui/src/TGText.cxx:1001; 14: Assuming 'pos' is < field 'fLength' in /opt/root_src/gui/gui/src/TGText.cxx:187; 15: Taking false branch in /opt/root_src/gui/gui/src/TGText.cxx:187; 16: Assuming the condition is false in /opt/root_src/gui/gui/src/TGText.cxx:191; 17: Taking false branch in /opt/root_src/gui/gui/src/TGText.cxx:191; 18: Memory is allocated in /opt/root_src/gui/gui/src/TGText.cxx:195; 19: Use of zero-allocated memory in /opt/root_src/gui/gui/src/TGText.cxx:196; /opt/root_src/gui/gui/src/TGText.cxx:630:13: warning: Call to function 'strcpy' is insecure as it does not provide bounding of the memory buffer. Replace unbounded copy functions with analogous functions that support length arguments such as 'strlcpy'. CWE-119 [clang-analyzer-security.insecureAPI.strcpy]; 1: Call to function 'strcpy' is insecure as it does not provide bounding of the memory buffer. Replace unbounded copy functions with analogous functions that support length arguments such as 'strlcpy'. CWE-119 in /opt/root_src/gui/gui/src/TGText.cxx:630; /opt/root_src/gui/gui/src/TGText.cxx:671:13: warning: Call to function 'strcpy' is insecure as it does not provide bounding of the memory buffer. Replace unbounded copy functions with analogous functions that support length arguments such as 'strlcpy'. CWE-119 [clang-analyzer-security.insecureAPI.strcpy]; 1: Call to function 'strcpy' is insecure as it does not provide bounding of the mem,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7533:55200,allocate,allocated,55200,https://root.cern,https://github.com/root-project/root/issues/7533,1,['allocate'],['allocated']
Energy Efficiency,8; 21: Loop condition is false. Execution continues on line 472 in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:468; 22: Assuming the condition is false in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:472; 23: Left side of '||' is false in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:472; 24: Assuming the condition is false in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:472; 25: Taking false branch in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:472; 26: Assuming the condition is true in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:478; 27: Taking true branch in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:478; 28: Assuming 'j' is < field 'fNOutputs' in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:479; 29: Loop condition is true. Entering loop body in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:479; 30: Use of zero-allocated memory in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:480; /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:368:33: warning: Use of zero-allocated memory [clang-analyzer-cplusplus.NewDelete]; 1: Assuming field 'fModelIsSetup' is true in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:298; 2: Taking false branch in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:298; 3: 'i' is < 'nTrainingEvents' in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:315; 4: Loop condition is true. Entering loop body in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:315; 5: Assuming 'j' is >= field 'fNVars' in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:318; 6: Loop condition is false. Execution continues on line 324 in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:318; 7: Assuming the condition is false in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:324; 8: Left side of '||' is false in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:324; 9: Assuming the condition is false in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:324; 10: Taking false branch in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:324; 11: Assuming the condition is true in ,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7526:10313,allocate,allocated,10313,https://root.cern,https://github.com/root-project/root/issues/7526,1,['allocate'],['allocated']
Energy Efficiency,: Calling constructor for 'TString' in /opt/root_src/core/base/src/TString.cxx:1920; 27: 'cs' is non-null in /opt/root_src/core/base/src/TString.cxx:105; 28: Taking true branch in /opt/root_src/core/base/src/TString.cxx:105; 29: Calling 'TString::Init' in /opt/root_src/core/base/src/TString.cxx:107; 30: 'capacity' is >= 0 in /opt/root_src/core/base/src/TString.cxx:249; 31: Taking false branch in /opt/root_src/core/base/src/TString.cxx:249; 32: 'nchar' is >= 0 in /opt/root_src/core/base/src/TString.cxx:253; 33: Taking false branch in /opt/root_src/core/base/src/TString.cxx:253; 34: Assuming the condition is false in /opt/root_src/core/base/src/TString.cxx:257; 35: Taking false branch in /opt/root_src/core/base/src/TString.cxx:257; 36: Assuming 'capacity' is >= kMinCap in /opt/root_src/core/base/src/TString.cxx:265; 37: Taking false branch in /opt/root_src/core/base/src/TString.cxx:265; 38: Memory is allocated in /opt/root_src/core/base/src/TString.cxx:270; 39: Returned allocated memory in /opt/root_src/core/base/src/TString.cxx:107; 40: Returning from constructor for 'TString' in /opt/root_src/core/base/src/TString.cxx:1920; 41: Loop condition is false. Execution continues on line 1932 in /opt/root_src/core/base/src/TString.cxx:1926; 42: Potential leak of memory pointed to by 'str.fRep..fLong.fData' in /opt/root_src/core/base/src/TString.cxx:1933; /opt/root_src/core/base/src/TString.cxx:1933:1: warning: Potential leak of memory pointed to by 'str_ref.fRep..fLong.fData' [clang-analyzer-cplusplus.NewDeleteLeaks]; 1: Assuming 'base_in' is >= 2 in /opt/root_src/core/base/src/TString.cxx:2151; 2: Left side of '||' is false in /opt/root_src/core/base/src/TString.cxx:2151; 3: Assuming 'base_in' is <= 36 in /opt/root_src/core/base/src/TString.cxx:2151; 4: Left side of '||' is false in /opt/root_src/core/base/src/TString.cxx:2151; 5: Assuming 'base_out' is >= 2 in /opt/root_src/core/base/src/TString.cxx:2151; 6: Left side of '||' is false in /opt/root_src/core/base/src/TStrin,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7412:129475,allocate,allocated,129475,https://root.cern,https://github.com/root-project/root/issues/7412,1,['allocate'],['allocated']
Energy Efficiency,: Potential leak of memory pointed to by 'sliceValsLowRef' in /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1168; /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1168:25: warning: Potential leak of memory pointed to by 'sliceValsUp' [clang-analyzer-cplusplus.NewDeleteLeaks]; 1: Taking false branch in /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1040; 2: Memory is allocated in /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1090; 3: Assuming 'etaBin' is > 'nEtaBins' in /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1098; 4: Loop condition is false. Execution jumps to the end of the function in /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1098; 5: Potential leak of memory pointed to by 'sliceValsUp' in /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1168; /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1168:25: warning: Potential leak of memory pointed to by 'sliceValsUpRef' [clang-analyzer-cplusplus.NewDeleteLeaks]; 1: Taking false branch in /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1040; 2: Memory is allocated in /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1092; 3: Assuming 'etaBin' is > 'nEtaBins' in /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1098; 4: Loop condition is false. Execution jumps to the end of the function in /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1098; 5: Potential leak of memory pointed to by 'sliceValsUpRef' in /opt/root_src/graf3d/eve7/src/REveCalo.cxx:1168; /opt/root_src/graf3d/eve7/src/REveCaloData.cxx:679:9: warning: Value stored to 'hist' during its initialization is never read [clang-analyzer-deadcode.DeadStores]; 1: Value stored to 'hist' during its initialization is never read in /opt/root_src/graf3d/eve7/src/REveCaloData.cxx:679; /opt/root_src/graf3d/eve7/src/REveDataCollection.cxx:162:10: warning: Value stored to 'data' during its initialization is never read [clang-analyzer-deadcode.DeadStores]; 1: Value stored to 'data' during its initialization is never read in /opt/root_src/graf3d/eve7/src/REveDataCollection.cxx:162; /opt/root_src/graf3d/eve7/src/REveElement.cxx:1,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7531:34073,allocate,allocated,34073,https://root.cern,https://github.com/root-project/root/issues/7531,1,['allocate'],['allocated']
Energy Efficiency,:315; 16: Loop condition is false. Execution continues on line 341 in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:315; 17: Memory is allocated in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:360; 18: 'i' is < 'nValEvents' in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:363; 19: Loop condition is true. Entering loop body in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:363; 20: Assuming 'j' is >= field 'fNVars' in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:367; 21: Loop condition is false. Execution continues on line 371 in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:367; 22: Assuming the condition is true in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:371; 23: Left side of '||' is true in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:371; 24: Assuming 'j' is < field 'fNOutputs' in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:372; 25: Loop condition is true. Entering loop body in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:372; 26: Use of zero-allocated memory in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:373; /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:375:48: warning: Use of zero-allocated memory [clang-analyzer-cplusplus.NewDelete]; 1: Assuming field 'fModelIsSetup' is true in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:298; 2: Taking false branch in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:298; 3: 'i' is < 'nTrainingEvents' in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:315; 4: Loop condition is true. Entering loop body in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:315; 5: Assuming 'j' is >= field 'fNVars' in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:318; 6: Loop condition is false. Execution continues on line 324 in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:318; 7: Assuming the condition is false in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:324; 8: Left side of '||' is false in /opt/root_src/tmva/pymva/src/MethodPyTorch.cxx:324; 9: Assuming the condition is false in /opt/root_src/tmva/pymva/src/Method,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7526:14910,allocate,allocated,14910,https://root.cern,https://github.com/root-project/root/issues/7526,1,['allocate'],['allocated']
Energy Efficiency,:416; 16: Loop condition is false. Execution continues on line 442 in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:416; 17: Memory is allocated in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:461; 18: 'i' is < 'nValEvents' in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:464; 19: Loop condition is true. Entering loop body in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:464; 20: Assuming 'j' is >= field 'fNVars' in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:468; 21: Loop condition is false. Execution continues on line 472 in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:468; 22: Assuming the condition is true in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:472; 23: Left side of '||' is true in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:472; 24: Assuming 'j' is < field 'fNOutputs' in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:473; 25: Loop condition is true. Entering loop body in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:473; 26: Use of zero-allocated memory in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:474; /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:476:48: warning: Use of zero-allocated memory [clang-analyzer-cplusplus.NewDelete]; 1: Assuming field 'fModelIsSetup' is true in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:400; 2: Taking false branch in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:400; 3: 'i' is < 'nTrainingEvents' in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:416; 4: Loop condition is true. Entering loop body in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:416; 5: Assuming 'j' is >= field 'fNVars' in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:419; 6: Loop condition is false. Execution continues on line 425 in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:419; 7: Assuming the condition is false in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:425; 8: Left side of '||' is false in /opt/root_src/tmva/pymva/src/MethodPyKeras.cxx:425; 9: Assuming the condition is false in /opt/root_src/tmva/pymva/src/Method,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7526:4678,allocate,allocated,4678,https://root.cern,https://github.com/root-project/root/issues/7526,1,['allocate'],['allocated']
Energy Efficiency,"::detail::d1::task&, tbb::detail::d1::task_group_context&)'; /usr/bin/ld: CMakeFiles/Imt.dir/src/TThreadExecutor.cxx.o: in function `tbb::detail::d1::start_reduce<tbb::detail::d1::blocked_range<__gnu_cxx::__normal_iterator<double const*, std::vector<double, std::allocator<double> > > >, tbb::detail::d1::lambda_reduce_body<tbb::detail::d1::blocked_range<__gnu_cxx::__normal_iterator<double const*, std::vector<double, std::allocator<double> > > >, double, ROOT::Internal::ParallelReduceHelper<double>(std::vector<double, std::allocator<double> > const&, std::function<double (double, double)> const&)::{lambda(tbb::detail::d1::blocked_range<__gnu_cxx::__normal_iterator<double const*, std::vector<double, std::allocator<double> > > > const&, double)#1}, std::function<double (double, double)> >, tbb::detail::d1::auto_partitioner const>::execute(tbb::detail::d1::execution_data&)':; TThreadExecutor.cxx:(.text+0x1554): undefined reference to `tbb::detail::r1::allocate(tbb::detail::d1::small_object_pool*&, unsigned long, tbb::detail::d1::execution_data const&)'; /usr/bin/ld: TThreadExecutor.cxx:(.text+0x15fd): undefined reference to `tbb::detail::r1::allocate(tbb::detail::d1::small_object_pool*&, unsigned long, tbb::detail::d1::execution_data const&)'; /usr/bin/ld: TThreadExecutor.cxx:(.text+0x1635): undefined reference to `tbb::detail::r1::spawn(tbb::detail::d1::task&, tbb::detail::d1::task_group_context&)'; /usr/bin/ld: TThreadExecutor.cxx:(.text+0x178f): undefined reference to `tbb::detail::r1::deallocate(tbb::detail::d1::small_object_pool&, void*, unsigned long, tbb::detail::d1::execution_data const&)'; /usr/bin/ld: TThreadExecutor.cxx:(.text+0x1a47): undefined reference to `tbb::detail::r1::is_group_execution_cancelled(tbb::detail::d1::task_group_context&)'; /usr/bin/ld: TThreadExecutor.cxx:(.text+0x1a9c): undefined reference to `tbb::detail::r1::execution_slot(tbb::detail::d1::execution_data const*)'; /usr/bin/ld: TThreadExecutor.cxx:(.text+0x1aad): undefined reference to `",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11931:19436,allocate,allocate,19436,https://root.cern,https://github.com/root-project/root/issues/11931,1,['allocate'],['allocate']
Energy Efficiency,"::vector<_Tp, _Alloc>::emplace_back(_Args&& ...) [with _Args = {char}; _Tp = char; _Alloc = std::allocator<char>]’ at /usr/include/c++/14/bits/vector.tcc:123:21,; inlined from ‘constexpr void std::vector<_Tp, _Alloc>::push_back(value_type&&) [with _Tp = char; _Alloc = std::allocator<char>]’ at /usr/include/c++/14/bits/stl_vector.h:1301:21,; inlined from ‘void ROOT::Minuit2::MnPlot::operator()(double, double, const std::vector<std::pair<double, double> >&) const’ at git/webgui/math/minuit2/src/MnPlot.cxx:51:18:; /usr/include/c++/14/bits/new_allocator.h:172:33: warning: ‘void operator delete(void*, std::size_t)’ called on pointer ‘<unknown>’ with nonzero offset [1, 576460752303423489] [-Wfree-nonheap-object]; 172 | _GLIBCXX_OPERATOR_DELETE(_GLIBCXX_SIZED_DEALLOC(__p, __n));; | ^; In member function ‘_Tp* std::__new_allocator<_Tp>::allocate(size_type, const void*) [with _Tp = char]’,; inlined from ‘constexpr _Tp* std::allocator< <template-parameter-1-1> >::allocate(std::size_t) [with _Tp = char]’ at /usr/include/c++/14/bits/allocator.h:196:40,; inlined from ‘static constexpr _Tp* std::allocator_traits<std::allocator<_Up> >::allocate(allocator_type&, size_type) [with _Tp = char]’ at /usr/include/c++/14/bits/alloc_traits.h:478:28,; inlined from ‘constexpr std::_Vector_base<_Tp, _Alloc>::pointer std::_Vector_base<_Tp, _Alloc>::_M_allocate(std::size_t) [with _Tp = char; _Alloc = std::allocator<char>]’ at /usr/include/c++/14/bits/stl_vector.h:380:33,; inlined from ‘constexpr void std::vector<_Tp, _Alloc>::reserve(size_type) [with _Tp = char; _Alloc = std::allocator<char>]’ at /usr/include/c++/14/bits/vector.tcc:79:33,; inlined from ‘void ROOT::Minuit2::MnPlot::operator()(double, double, const std::vector<std::pair<double, double> >&) const’ at git/webgui/math/minuit2/src/MnPlot.cxx:50:16:; /usr/include/c++/14/bits/new_allocator.h:151:55: note: returned from ‘void* operator new(std::size_t)’; 151 | return static_cast<_Tp*>(_GLIBCXX_OPERATOR_NEW(__n * sizeof(_Tp)));; | ^; ```",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16359:2475,allocate,allocate,2475,https://root.cern,https://github.com/root-project/root/pull/16359,1,['allocate'],['allocate']
Energy Efficiency,:ExtractOptionsFromComment' in /opt/root_src/core/meta/src/TDataMember.cxx:817; 4: Field 'fOptions' is null in /opt/root_src/core/meta/src/TDataMember.cxx:607; 5: Taking false branch in /opt/root_src/core/meta/src/TDataMember.cxx:607; 6: Assuming 'optTitle' is non-null in /opt/root_src/core/meta/src/TDataMember.cxx:611; 7: Taking false branch in /opt/root_src/core/meta/src/TDataMember.cxx:611; 8: Assuming 'ptr1' is not equal to null in /opt/root_src/core/meta/src/TDataMember.cxx:644; 9: Taking false branch in /opt/root_src/core/meta/src/TDataMember.cxx:644; 10: Assuming 'ptr1' is not equal to null in /opt/root_src/core/meta/src/TDataMember.cxx:649; 11: Taking false branch in /opt/root_src/core/meta/src/TDataMember.cxx:649; 12: '?' condition is false in /opt/root_src/core/meta/src/TDataMember.cxx:666; 13: Assuming 'ptr1' is non-null in /opt/root_src/core/meta/src/TDataMember.cxx:667; 14: Taking true branch in /opt/root_src/core/meta/src/TDataMember.cxx:667; 15: Memory is allocated in /opt/root_src/core/meta/src/TDataMember.cxx:669; 16: Loop condition is true. Execution continues on line 666 in /opt/root_src/core/meta/src/TDataMember.cxx:665; 17: '?' condition is true in /opt/root_src/core/meta/src/TDataMember.cxx:666; 18: Assuming 'ptr1' is null in /opt/root_src/core/meta/src/TDataMember.cxx:667; 19: Taking false branch in /opt/root_src/core/meta/src/TDataMember.cxx:667; 20: Loop condition is false. Exiting loop in /opt/root_src/core/meta/src/TDataMember.cxx:665; 21: Loop condition is true. Entering loop body in /opt/root_src/core/meta/src/TDataMember.cxx:677; 22: Assuming the condition is true in /opt/root_src/core/meta/src/TDataMember.cxx:678; 23: Taking true branch in /opt/root_src/core/meta/src/TDataMember.cxx:678; 24: Assuming 'ptr1' is equal to null in /opt/root_src/core/meta/src/TDataMember.cxx:680; 25: Taking true branch in /opt/root_src/core/meta/src/TDataMember.cxx:680; 26: Potential memory leak in /opt/root_src/core/meta/src/TDataMember.cxx:681; ```; ```; ,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7426:1854,allocate,allocated,1854,https://root.cern,https://github.com/root-project/root/issues/7426,1,['allocate'],['allocated']
Energy Efficiency,":d1::wait_context&, tbb::detail::d1::task_group_context&)'; /usr/bin/ld: TThreadExecutor.cxx:(.text+0x407): undefined reference to `tbb::detail::r1::destroy(tbb::detail::d1::task_group_context&)'; /usr/bin/ld: TThreadExecutor.cxx:(.text+0x416): undefined reference to `tbb::detail::r1::throw_exception(tbb::detail::d0::exception_id)'; /usr/bin/ld: CMakeFiles/Imt.dir/src/TThreadExecutor.cxx.o: in function `tbb::detail::d1::task_arena_function<ROOT::Internal::ParallelReduceHelper<float>(std::vector<float, std::allocator<float> > const&, std::function<float (float, float)> const&)::{lambda()#2}, float>::operator()() const':; TThreadExecutor.cxx:(.text+0x4b5): undefined reference to `tbb::detail::r1::initialize(tbb::detail::d1::task_group_context&)'; /usr/bin/ld: TThreadExecutor.cxx:(.text+0x4c7): undefined reference to `tbb::detail::r1::destroy(tbb::detail::d1::task_group_context&)'; /usr/bin/ld: TThreadExecutor.cxx:(.text+0x533): undefined reference to `tbb::detail::r1::allocate(tbb::detail::d1::small_object_pool*&, unsigned long)'; /usr/bin/ld: TThreadExecutor.cxx:(.text+0x57a): undefined reference to `tbb::detail::r1::max_concurrency(tbb::detail::d1::task_arena_base const*)'; /usr/bin/ld: TThreadExecutor.cxx:(.text+0x5c7): undefined reference to `tbb::detail::r1::execute_and_wait(tbb::detail::d1::task&, tbb::detail::d1::task_group_context&, tbb::detail::d1::wait_context&, tbb::detail::d1::task_group_context&)'; /usr/bin/ld: CMakeFiles/Imt.dir/src/TThreadExecutor.cxx.o: in function `tbb::detail::d1::task_arena_function<ROOT::Internal::ParallelReduceHelper<double>(std::vector<double, std::allocator<double> > const&, std::function<double (double, double)> const&)::{lambda()#2}, double>::operator()() const':; TThreadExecutor.cxx:(.text+0x674): undefined reference to `tbb::detail::r1::initialize(tbb::detail::d1::task_group_context&)'; /usr/bin/ld: TThreadExecutor.cxx:(.text+0x686): undefined reference to `tbb::detail::r1::destroy(tbb::detail::d1::task_group_context&)'; /usr",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/11931:10373,allocate,allocate,10373,https://root.cern,https://github.com/root-project/root/issues/11931,1,['allocate'],['allocate']
Energy Efficiency,":tpc-tracker]: ==1965517== by 0xF36DE4B: ApplySequence (TBufferFile.cxx:3670); [1965517:tpc-tracker]: ==1965517== by 0xF36DE4B: TBufferFile::ApplySequence(TStreamerInfoActions::TActionSequence const&, void*) (TBufferFile.cxx:3661); [1965517:tpc-tracker]: ==1965517== by 0xF376CEB: TBufferFile::ReadClassBuffer(TClass const*, void*, TClass const*) (TBufferFile.cxx:3598); [1965517:tpc-tracker]: ==1965517== by 0xF3F4633: Streamer (TClass.h:614); [1965517:tpc-tracker]: ==1965517== by 0xF3F4633: TKey::ReadObjectAny(TClass const*) (TKey.cxx:1120); [1965517:tpc-tracker]: ==1965517== by 0xF3B82E3: TDirectoryFile::GetObjectChecked(char const*, TClass const*) (TDirectoryFile.cxx:1111); [1965517:tpc-tracker]: ==1965517== Address 0x153fbb80 is 0 bytes after a block of size 1,440 alloc'd; [1965517:tpc-tracker]: ==1965517== at 0x4868908: operator new(unsigned long) (vg_replace_malloc.c:483); [1965517:tpc-tracker]: ==1965517== by 0x60E5D1F: allocate (new_allocator.h:137); [1965517:tpc-tracker]: ==1965517== by 0x60E5D1F: allocate (allocator.h:188); [1965517:tpc-tracker]: ==1965517== by 0x60E5D1F: allocate (alloc_traits.h:464); [1965517:tpc-tracker]: ==1965517== by 0x60E5D1F: _M_allocate (stl_vector.h:378); [1965517:tpc-tracker]: ==1965517== by 0x60E5D1F: _M_allocate (stl_vector.h:375); [1965517:tpc-tracker]: ==1965517== by 0x60E5D1F: std::vector<o2::tpc::PadFlags, std::allocator<o2::tpc::PadFlags> >::_M_default_append(unsigned long) (vector.tcc:650); [1965517:tpc-tracker]: ==1965517== by 0xF3E5797: void TGenCollectionStreamer::ReadBufferVectorPrimitives<int>(TBuffer&, void*, TClass const*) (TGenCollectionStreamer.cxx:1176); [1965517:tpc-tracker]: ==1965517== by 0xF36EC7B: Streamer (TClass.h:614); [1965517:tpc-tracker]: ==1965517== by 0xF36EC7B: TBufferFile::ReadFastArray(void*, TClass const*, int, TMemberStreamer*, TClass const*) (TBufferFile.cxx:1616); [1965517:tpc-tracker]: ==1965517== by 0xF58C84B: int TStreamerInfo::ReadBuffer<char**>(TBuffer&, char** const&, TStreamerInfo::TCompI",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/16312:6402,allocate,allocate,6402,https://root.cern,https://github.com/root-project/root/issues/16312,1,['allocate'],['allocate']
Energy Efficiency,"; std::cout << i << "" memory usage "" << pinfo.fMemResident; << "" "" << pinfo.fMemVirtual << std::endl;; }; if (i==0); startMemResident=pinfo.fMemResident;; if (i==(niters-1)); endMemResident=pinfo.fMemResident;; }. int deltaMem=endMemResident-startMemResident;; double avgMem=(double)deltaMem/niters;; cout << endl << ""Memory increase = "" << deltaMem << endl;; cout << ""Avg increase per iteration = "" << avgMem << endl;; }; ```. The increase can be completely eliminated by not using the memory pool for RooDataSet. It is remarkable that the memory pool itself doesn't seem to be the problem. In fact, one can replace `RooDataSet::operator new` and `RooDataSet::operator delete` such that the memory pool is still active, but we don't use the addresses it gives us and pretend to deallocate immediately after allocating. This can be achieved by substituting the following code in [RooDataSet.cxx](https://github.com/root-project/root/blob/master/roofit/roofitcore/src/RooDataSet.cxx#L143):. ```C++; void* RooDataSet::operator new (size_t bytes) {; // pretend we use the memory pool to demonstrate the pool itself is not the problem; memPool()->deallocate(memPool()->allocate(bytes));. return ::operator new(bytes);; }. void RooDataSet::operator delete (void* ptr) { ::operator delete(ptr); }; ```. With this change, the memory increase is completely gone, at least for my setup. To me it is not clear why using the memory pool causes the memory increase. The memory increase happens about every 5000 iterations and is exactly 624 bytes. However, these events are uncorrelated with special events in the memory pool, i.e. adding a new arena to the memory pool. Could it be that without using the addresses suggested by the default allocator, we get some heap fragmentation which causes the memory reserved by the process to go up, while we don't have an actual increase of allocated memory?. The solution is probably to avoid using the memory pool for RooDataSet. My setup is ROOT master on Arch Linux.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/8323:2363,allocate,allocate,2363,https://root.cern,https://github.com/root-project/root/issues/8323,2,['allocate'],"['allocate', 'allocated']"
Energy Efficiency,">covert</code>, <code>tape</code>; remove unnecessary <code>tap</code> <a href=""https://github.com/minimistjs/minimist/commit/49c5f9fb7e6a92db9eb340cc679de92fb3aacded""><code>49c5f9f</code></a></li>; <li>[Tests] add <code>aud</code> in <code>posttest</code> <a href=""https://github.com/minimistjs/minimist/commit/228ae938f3cd9db9dfd8bd7458b076a7b2aef280""><code>228ae93</code></a></li>; <li>[meta] add <code>safe-publish-latest</code> <a href=""https://github.com/minimistjs/minimist/commit/01fc23f5104f85c75059972e01dd33796ab529ff""><code>01fc23f</code></a></li>; <li>[meta] update repo URLs <a href=""https://github.com/minimistjs/minimist/commit/6b164c7d68e0b6bf32f894699effdfb7c63041dd""><code>6b164c7</code></a></li>; </ul>; <h2><a href=""https://github.com/minimistjs/minimist/compare/v1.2.5...v1.2.6"">v1.2.6</a> - 2022-03-21</h2>; <h3>Commits</h3>; <ul>; <li>test from prototype pollution PR <a href=""https://github.com/minimistjs/minimist/commit/bc8ecee43875261f4f17eb20b1243d3ed15e70eb""><code>bc8ecee</code></a></li>; <li>isConstructorOrProto adapted from PR <a href=""https://github.com/minimistjs/minimist/commit/c2b981977fa834b223b408cfb860f933c9811e4d""><code>c2b9819</code></a></li>; <li>security notice for additional prototype pollution issue <a href=""https://github.com/minimistjs/minimist/commit/ef88b9325f77b5ee643ccfc97e2ebda577e4c4e2""><code>ef88b93</code></a></li>; </ul>; <h2><a href=""https://github.com/minimistjs/minimist/compare/v1.2.4...v1.2.5"">v1.2.5</a> - 2020-03-12</h2>; <h2><a href=""https://github.com/minimistjs/minimist/compare/v1.2.3...v1.2.4"">v1.2.4</a> - 2020-03-11</h2>; <h3>Commits</h3>; <ul>; <li>security notice <a href=""https://github.com/minimistjs/minimist/commit/4cf1354839cb972e38496d35e12f806eea92c11f""><code>4cf1354</code></a></li>; <li>additional test for constructor prototype pollution <a href=""https://github.com/minimistjs/minimist/commit/1043d212c3caaf871966e710f52cfdf02f9eea4b""><code>1043d21</code></a></li>; </ul>; <h2><a href=""https://github.com/minimis",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11865:3033,adapt,adapted,3033,https://root.cern,https://github.com/root-project/root/pull/11865,1,['adapt'],['adapted']
Energy Efficiency,@axel it will help to make CDash greener. I can try to fix them a bit later.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2981:33,green,greener,33,https://root.cern,https://github.com/root-project/root/pull/2981,1,['green'],['greener']
Energy Efficiency,"@bbockelm @pcanal @dpiparo . Here is the new imt unzipping basket with TTaskGroup interface. Comparing to #785 , I noticed there are still 3%(in Real Time) ~ 5%(in CPU Time) performance drops in new implementation. The degradation is caused by tbb function:. tbb::internal::custom_scheduler<tbb::internal::IntelSchedulerTraits>::receive_or_steal_task(long&). I suspect the reason is because #785 in the following function:. https://github.com/zzxuanyuan/root/blob/15cceff19b48dfe4a4b0c69c1ec07ea75bd1ccb5/tree/tree/src/TTreeCacheUnzip.cxx#L708. CreateTasks() explicitly creates 2 tasks (empty_task and MappingTask; and set_ref_count(2) means 2 tasks in total). The scheduler might make a better decision here since it knows there will be only one task except empty_task running in future. On the other hand, TTaskGroup uses tbb::task_group which calls the following function:. https://github.com/01org/tbb/blob/b9805bacadd4d0474fd3358cf0c7153042ce50c3/include/tbb/task_group.h#L108. task_group_base() also first creates a empty_task. However, it only creates 1 task(itself) by setting reference count as 1 (set_ref_count(1)). When it invoke another task by calling . https://github.com/01org/tbb/blob/b9805bacadd4d0474fd3358cf0c7153042ce50c3/include/tbb/task_group.h#L103. allocate_additional_child() will create a new task as child and increment reference count by 1. I guess accumulating tasks on-the-fly might degrade the performance since the tbb scheduler could spend more time on finding tasks to work on. In a short, I think explicitly defining the total number of tasks and task graph should have better performance (more efficient for scheduler I guess) than adding more tasks to task_group as the program runs. There are two alternative approaches that might improve the performance. ; 1. Since we have already know we will only have one task (except empty_task) to add into the task_group, we could revise TTaskGroup interface and notify it what task is going to run in advance.; 2. We coul",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1010:665,schedul,scheduler,665,https://root.cern,https://github.com/root-project/root/pull/1010,1,['schedul'],['scheduler']
Energy Efficiency,"@pcanal @bbockelm . This pull request fix the bug here https://sft.its.cern.ch/jira/browse/ROOT-8468. The fist error is due to the dangling pointer. ""buffer"" never gets to be allocated in the function GetUnzipBuffer. The second error is deallocating the memory ""ptr"" point to. Therefore, fUnzipChunks[idxtounzip] becomes null pointer. It should work now. To test the parallel unzipping, simply random generate events and read them. /PATH/TO/TEST/eventexe 1000 6 99 1 1000 (generate 1000 events with zlib); /PATH/TO/TEST/eventexe 1000 6 99 20 1000 (unzip and read 1000 events in sequential manner); /PATH/TO/TEST/eventexe 1000 6 99 21 1000 (unzip and read 1000 events in parallel)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/319:175,allocate,allocated,175,https://root.cern,https://github.com/root-project/root/pull/319,1,['allocate'],['allocated']
Energy Efficiency,"A new class DFDescription is introduced.; It has 2 member strings, corresponding to the brief and the full description.; It allows more interactive output of these strings. RInterface::Describe now returns a DFDescription object.; As brief description is the output from RInterface::DescribeDataset.; As full description is the remaining code from RInterface::Describe.; Moreover, RInterface::DescribeDataset is now a private method. RDFDescription has the following methods:; * AsString(bool) -> returning brief/full description as a string; * Print(bool) -> printing the content of AsString(bool); * overloaded<< -> returns ostream corresponding to AsString(shortFormat=false); * printValue -> returns string corresponding to AsString(shortFomat=false); * __repr__ pythonization -> assigning __repr__ to AsString(shortFormat=false). Tests and Tutorials were adapted correspondingly. This PR fixes #8893",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9597:860,adapt,adapted,860,https://root.cern,https://github.com/root-project/root/pull/9597,2,['adapt'],['adapted']
Energy Efficiency,A subset of further improvements to reduce lock contention,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7105:36,reduce,reduce,36,https://root.cern,https://github.com/root-project/root/pull/7105,1,['reduce'],['reduce']
Energy Efficiency,"AbsData`. This is implemented in this PR, such that things like this are now possible:. ```c++; namespace CudaInterface = RooFit::Detail::CudaInterface;. // Define model; RooRealVar x{""x"", ""x"", 0, -10, 10};; RooRealVar mu{""mu"", ""mu"", 0, 0, 10};; RooRealVar sigma{""sigma"", ""sigma"", 3, 0.1, 10};. RooGaussian gauss{""gauss"", ""gauss"", x, mu, sigma};. std::size_t numBins = 20;; x.setBins(numBins);. RooArgSet normSet{x};. // Create array of observable values; std::vector<double> xValsHost;; for (std::size_t i = 0; i < numBins; ++i) {; x.setBin(i);; xValsHost.push_back(x.getVal());; }. // Copy observable values to the array; CudaInterface::DeviceArray<double> xValsDevice{numBins};; CudaInterface::copyHostToDevice(xValsHost.data(), xValsDevice.data(), numBins);. // Compile pdf for evaluation with RooFitDriver; std::unique_ptr<RooAbsReal> gaussCompiled{RooFit::Detail::compileForNormSet(gauss, normSet)};. // Instantiate RooFitDriver and set device input array; ROOT::Experimental::RooFitDriver driver{*gaussCompiled, RooFit::BatchModeOption::Cuda};; driver.setInput(""x"", {xValsDevice.data(), numBins}, /*isOnDevice=*/ true);. // Evaluate; std::span<const double> deviceOut = driver.run();. // Copy back to host and pring results; std::vector<double> hostOut(deviceOut.size());; CudaInterface::copyDeviceToHost(deviceOut.data(), hostOut.data(), numBins);; for (int i = 0; i < numBins; ++i) {; std::cout << xValsHost[i] << "" "" << hostOut[i] << std::endl;; }; ```. The `RooFitDriver.h` interface is also significantly reduced to not include anything that strictly has to do something with the evaluation. This makes the interface less confusing, which is important because I want to make this class public to the users in the next PR. The evaluation of PDFs with the RooFitDriver also on the GPU is a very useful feature that we should not hide away for longer, now that it has proven itself as a backend for the likelihoods. This PR also removes some old code. More details in the commit description.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13389:1722,reduce,reduced,1722,https://root.cern,https://github.com/root-project/root/pull/13389,1,['reduce'],['reduced']
Energy Efficiency,Adapt ROOT fitting to the new generalized Executor,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7002:0,Adapt,Adapt,0,https://root.cern,https://github.com/root-project/root/pull/7002,1,['Adapt'],['Adapt']
Energy Efficiency,Adapt TMVA::RandomGenerator for use with std::shuffle(),MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1449:0,Adapt,Adapt,0,https://root.cern,https://github.com/root-project/root/pull/1449,1,['Adapt'],['Adapt']
Energy Efficiency,Adapt TTree::GetEntry to use TThreadExecutor,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/390:0,Adapt,Adapt,0,https://root.cern,https://github.com/root-project/root/pull/390,1,['Adapt'],['Adapt']
Energy Efficiency,Adapt TTreeProcessorMT to use TThreadExecutor,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/388:0,Adapt,Adapt,0,https://root.cern,https://github.com/root-project/root/pull/388,1,['Adapt'],['Adapt']
Energy Efficiency,Adapt tests to work with zlib-ng,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14295:0,Adapt,Adapt,0,https://root.cern,https://github.com/root-project/root/pull/14295,1,['Adapt'],['Adapt']
Energy Efficiency,Adapt the code to RBrowser,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11729:0,Adapt,Adapt,0,https://root.cern,https://github.com/root-project/root/pull/11729,1,['Adapt'],['Adapt']
Energy Efficiency,Adapt to gfal2 2.10 - uses a different #define,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/106:0,Adapt,Adapt,0,https://root.cern,https://github.com/root-project/root/pull/106,1,['Adapt'],['Adapt']
Energy Efficiency,Adapting to a new field in Python 3.12:; https://docs.python.org/3/c-api/typeobj.html#c.PyTypeObject.tp_watched. Corresponding CPyCppyy PR: https://github.com/wlav/CPyCppyy/pull/24,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15072:0,Adapt,Adapting,0,https://root.cern,https://github.com/root-project/root/pull/15072,1,['Adapt'],['Adapting']
Energy Efficiency,"Add PowerShell version of 'thisroot.bat', resolves #6815",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6823:4,Power,PowerShell,4,https://root.cern,https://github.com/root-project/root/pull/6823,1,['Power'],['PowerShell']
Energy Efficiency,"Add Size() interface to TListOfFunctions and call this from GetNmethods,; so that we don't have to allocate memory for this. Profiled the peak meory performance in valgrind; total(B) ; master: 427,544,680; HEAD: 427,542,328",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1762:99,allocate,allocate,99,https://root.cern,https://github.com/root-project/root/pull/1762,1,['allocate'],['allocate']
Energy Efficiency,"Add a new page source and sink that use S3 as the backing store. Davix; is used as the S3 interface. The implementation is nearly identical; to the DAOS backend and there is a lot of duplicated code. ```cpp; std::string s3Uri(""s3://$(S3_BUCKET).$(S3_HOST)"");; {; auto model = RNTupleModel::Create();; auto pt = model->MakeField<float>(""pt"");; auto vec = model->MakeField<std::vector<int>>(""vec"");; // create a new RNTuple named `my_ntuple`; // -- objects are written to /bucket/my_ntuple/; auto writer = RNTupleWriter::Recreate(std::move(model), ""my_ntuple"", s3Uri);; for (int i = 0; i < 100; i++) {; *pt = 42.0;; *vec = {1, 2, 3};; writer->Fill();; }; }. // opens the RNTuple at the path /bucket/my_ntuple/; auto ntuple = RNTupleReader::Open(""my_ntuple"", s3Uri);; ```; results in the following objects stored in the bucket:; ```shell; my_ntuple/0 # page 0, 1, ... ; my_ntuple/1; my_ntuple/18446744073709551613 # footer; my_ntuple/18446744073709551614 # header; my_ntuple/18446744073709551615 # anchor; my_ntuple/2; ```; Like the current DAOS backend, one object is allocated for every page,; plus three for the header, footer, and anchor. Performance will not be; very good yet as only a single request at a time is issued. Pages are issued keys sequentially from 0, like the DAOS backend. There; are three reserved keys:; * anchor: u64(-1); * header: u64(-2); * footer: u64(-3). S3 access is controlled using the (ROOT & Davix-compatible) envvars:; * S3_REGION; * S3_SECRET_KEY; * S3_ACCESS_KEY. Perhaps these should be changed to the official AWS envvars. Todo:; - [ ] re-add cluster caching functionality to `PopulatePageFromCluster`; - [ ] implement `LoadCluster`; - [ ] test mocks; - [ ] test with real RNTuples; - [ ] issue concurrent requests to S3",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/8525:1066,allocate,allocated,1066,https://root.cern,https://github.com/root-project/root/pull/8525,1,['allocate'],['allocated']
Energy Efficiency,Add assertion to ensure that page_size is a power of two,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4165:44,power,power,44,https://root.cern,https://github.com/root-project/root/pull/4165,1,['power'],['power']
Energy Efficiency,"Add member functions to RooAbsData and RooDataHist that forward to `RooAbsData::reduce()`, but cast the return value to the actual type. This is not that useful now except for avoiding some boiler plate code, but will be crucial once we change the return type to `std::unique_ptr` to fix memory leaks: in that case, PyROOT doesn't do the automatic conversion to the actual type anymore, and we would end up with RooDataHists or RooDataSets where we can't call their member functions (unless they are overrides of RooAbsData methods).",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15444:80,reduce,reduce,80,https://root.cern,https://github.com/root-project/root/pull/15444,1,['reduce'],['reduce']
Energy Efficiency,"Add support for a new `Offset(""bin"")` command argument to create NLL.; With this new offset mode, the NLL is offsetted by the likelihood for a; template histogram model based on the obersved data. This can; drastically improve numeric stability, because the offsetting is done; for each bin. This results in per-bin values that are all in the same; order of magnitude, which reduces precision loss in the sum. So far, it is only supported in the old test statistics when do do the; fit with a `RooDataHist` with the old test statistics.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11939:375,reduce,reduces,375,https://root.cern,https://github.com/root-project/root/pull/11939,1,['reduce'],['reduces']
Energy Efficiency,Add support for abi-tags (adapted from Fedora's patch),MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/124:26,adapt,adapted,26,https://root.cern,https://github.com/root-project/root/pull/124,1,['adapt'],['adapted']
Energy Efficiency,"Add yet another fence in TClass::GetClass to avoid lookups and memory consumption. This PR aims to fix #9029. Give the sophisticated implementation of TClass::GetClass, perhaps it would be good to collect some feedback, especially by @pcanal . # This Pull request:; This PR avoids lookups and parsing in some cases.; One of the principles of the TClass::GetClass method implementation is to avoid as much as possible. . ## Changes or fixes:; This commit adds yet another fence in TClass::GetClass, checking if the name in input is the name of a known fundamental type or typedef to it.; In order to avoid code duplication, a routine previously available within the implementation of TClassEdit has been made available with a public API. ## Checklist:. - [v ] tested changes locally; - [v ] updated the docs (if necessary). This PR fixes #9029",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13341:70,consumption,consumption,70,https://root.cern,https://github.com/root-project/root/pull/13341,1,['consumption'],['consumption']
Energy Efficiency,Added RNTupleTTreeCheckerFiles + adapted main/CMakeLists & tree/ntupl…,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15904:33,adapt,adapted,33,https://root.cern,https://github.com/root-project/root/pull/15904,1,['adapt'],['adapted']
Energy Efficiency,Added methods to calculate greenwich and local sidereal time.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/41:27,green,greenwich,27,https://root.cern,https://github.com/root-project/root/pull/41,1,['green'],['greenwich']
Energy Efficiency,Additional fix for rule scheduling in TBranchElement.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2482:24,schedul,scheduling,24,https://root.cern,https://github.com/root-project/root/pull/2482,1,['schedul'],['scheduling']
Energy Efficiency,Addresses #12409. There are two parts:; - reduce the issue by having cling include *its* headers as sys headers; - teach clang to not issue diagnostics if a directory is inaccessible; [reported upstream](https://reviews.llvm.org/D65956#4167101),MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12418:42,reduce,reduce,42,https://root.cern,https://github.com/root-project/root/pull/12418,1,['reduce'],['reduce']
Energy Efficiency,"Adds `RPageSource::LoadStructure[Impl]()`. This allows to load header and footer without processing them. Decompression and deserialization will still happen in Attach(), which calls LoadStructure if it hasn't been called before. This will facilitate asynchronous open of files for RDF MT scheduling.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15909:289,schedul,scheduling,289,https://root.cern,https://github.com/root-project/root/pull/15909,1,['schedul'],['scheduling']
Energy Efficiency,"Adds a new constructor to the RNTuple RDF data source that takes an ntuple name and a list of files. The data source then treats these files as a chain. Slightly simplifies the prototype construction in the RNTuple data source: instead of constructing full column reader prototypes, only the corresponding field prototypes are constructed. Multi-threaded work scheduling is as follows:. - As long as there are more files than slots: every slots get a file; - For the tail: slots get distributed over the remaining files and align on cluster boundaries. Some optimizations for follow-up PRs:. - Load the next ranges in the background. In particular that would open the next batch of files in the backgound; - Clone page sources without reopening the file; - The next set of ranges currently gives up to number of slots ranges. However, it would make more sense to use resource constraints such as available memory or number of open file descriptors as a limit and let slots work on more ranges at a time.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13329:360,schedul,scheduling,360,https://root.cern,https://github.com/root-project/root/pull/13329,1,['schedul'],['scheduling']
Energy Efficiency,"Adds the `RClusterCache` I/O scheduler that, similar to `TTreeCache`, preloads upcoming data ranges based on the current request. The RClusterCache synchronously provides a certain cluster and, upon that request, asynchronously preloads the next cluster(s) in an I/O thread. The actual logic of populating a cluster for a particular set of active columns is handled by the page storage. The file page storage linearizes and coalesces requests and requests the corresponding byte range requests in bulks (using `RRawFile::ReadV`). Currently the cluster cache of packed and compressed pages is on the heap. In the future, another descendant of `RCluster` can implement mmap() memory management instead. Also left for future work is the use of concurrent streams in `LoadCluster()`. - [x] Add I/O metrics and show how to print them in a tutorial; - [x] Support changing active columns during the lifetime of an ntuple reader; - [x] Gracefully handle a change of active columns when cluster where already loaded",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5377:29,schedul,scheduler,29,https://root.cern,https://github.com/root-project/root/pull/5377,1,['schedul'],['scheduler']
Energy Efficiency,"Affects at least 6.22/08. Minimal reproducer:. ```; {; RooRealVar x(""x"",""x"",1);; RooRealVar w(""w"",""w"",1);; RooDataSet d(""d"",""d"",w,""w"");. d.addColumns(x);. for(int i=0;i<10;i++) {; x = i; d.add(x,0);; }. // d now has 10 entries with x values increasing; for(int i=0;i<d.numEntries();i++) std::cout << d.get(i)->getRealValue(""x"") << "",""; std::cout << std::endl;. // now reduce the dataset and repeat:; auto e = d.reduce(""x>5"");; for(int i=0;i<e->numEntries();i++) std::cout << e->get(i)->getRealValue(""x"") << "",""; std::cout << std::endl;; }; ```. This outputs:. ```; 0,1,2,3,4,5,6,7,8,9,; 9,9,9,9,; ```. where it should really output:. ```; 0,1,2,3,4,5,6,7,8,9,; 6,7,8,9,; ```. If the ""x"" column was included when the dataset is constructed, the reduction works correctly.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/8787:368,reduce,reduce,368,https://root.cern,https://github.com/root-project/root/issues/8787,2,['reduce'],['reduce']
Energy Efficiency,"After #10005 is merged, a couple of tests will fail due to a `heap-buffer-overflow`:; * `gtest-tree-ntuple-v7-test-ntuple-basics`; * `gtest-tree-ntuple-v7-test-ntuple-rdf`; * `gtest-tree-ntuple-v7-test-ntuple-view`; * `gtest-tree-ntuple-v7-test-ntuple-show`. Stack trace (for the first test) is:; ```; 393: WRITE of size 4 at 0x6020000d2a50 thread T0 ; 393: #0 0x7efdd569f028 in ROOT::Experimental::RClusterSize::RClusterSize() /home/jhahnfel/ROOT/src/tree/ntuple/v7/inc/ROOT/RNTupleUtil.hxx:61:21; 393: #1 0x7efdd4d41a7f in ROOT::Experimental::Detail::RFieldValue::RFieldValue<ROOT::Experimental::RClusterSize>(ROOT::Experimental::Detail::RColumnElementBase const&, ROOT::Experimental::Detail::RFieldBase*, ROOT::Experimental::RClusterSize*) /home/jhahnfel/ROOT/src/tree/ntuple/v7/inc/ROOT/RFieldValue.hxx:75:19; 393: #2 0x7efdd4d259d1 in ROOT::Experimental::RCollectionField::GenerateValue(void*) /home/jhahnfel/ROOT/src/tree/ntuple/v7/inc/ROOT/RField.hxx:519:14; 393: #3 0x7efdd4cec7d8 in ROOT::Experimental::Detail::RFieldBase::GenerateValue() /home/jhahnfel/ROOT/src/tree/ntuple/v7/src/RField.cxx:268:11; 393: #4 0x7efdd4e101b2 in ROOT::Experimental::RNTupleModel::Clone() const /home/jhahnfel/ROOT/src/tree/ntuple/v7/src/RNTupleModel.cxx:74:49. [...]. 393: 0x6020000d2a51 is located 0 bytes to the right of 1-byte region [0x6020000d2a50,0x6020000d2a51); 393: allocated by thread T0 here:; 393: #0 0x557ff8 in malloc (/home/jhahnfel/ROOT/build-clang-asan-debug/tree/ntuple/v7/test/ntuple_basics+0x557ff8); 393: #1 0x7efdd4cec70b in ROOT::Experimental::Detail::RFieldBase::GenerateValue() /home/jhahnfel/ROOT/src/tree/ntuple/v7/src/RField.cxx:266:18; 393: #2 0x7efdd4e101b2 in ROOT::Experimental::RNTupleModel::Clone() const /home/jhahnfel/ROOT/src/tree/ntuple/v7/src/RNTupleModel.cxx:74:49; ```. Note: There may be other problems in the tests after this issue is fixed. Please check locally with an instrumented build that the tests pass afterwards!",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10011:1365,allocate,allocated,1365,https://root.cern,https://github.com/root-project/root/issues/10011,1,['allocate'],['allocated']
Energy Efficiency,"After commit a27e60a6d4f, it is not important anymore that only the variables used by the expression are passed to RooFormula. Removing the corresponding warnings helps to get rid of useless warnings in the case where you want to try out variations of the formula that omit certain terms, and in particular it helps in; `RooAbsData::reduce()`, where the formula is always passed all the varaiables in the dataset, whether the reduction uses them or not. To be backported to 6.32.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15266:333,reduce,reduce,333,https://root.cern,https://github.com/root-project/root/pull/15266,1,['reduce'],['reduce']
Energy Efficiency,"After https://github.com/root-project/root/pull/15900, there should be four failing tests due to Clad:; ```; The following tests FAILED:; 206 - gtest-math-mathcore-test-CladDerivatorTests (Failed); 232 - gtest-roofit-histfactory-test-testHistFactory (Failed); 235 - gtest-roofit-hs3-test-testRooFitHS3 (Failed); 267 - gtest-roofit-roofitcore-test-testRooFuncWrapper (Failed); ```. They seem somehow related to `__builtin_pow`. For this reason, to keep green builds, clad was disabled for mac-beta in https://github.com/root-project/root/pull/15910. ### Reproducer. Install `MacOSX15.0.sdk`, build ROOT and try to run all tests. ### ROOT version. `master`. ### Installation method. build from source. ### Operating system. macOS",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/15912:452,green,green,452,https://root.cern,https://github.com/root-project/root/issues/15912,1,['green'],['green']
Energy Efficiency,"After messing up my git repository, I closed pull request 796 and re-created this one with the same changes. This pull request is the result of work done by David Clark as a summer intern at Argonne:; To prepare for multi-threaded workflows, a preloading and retaining clusters feature is introduced. This change will prevent additional reads from occurring when reading events out of sequence.; By setting TTree::SetClusterPrefetch(), an entire clusters will be loaded into memory, rather than single baskets.; By setting the MaxVirtualSize of the tree to a negative value, previous clusters will be retained - the absolute value of MaxVirtualSize indicates how many additional clusters will be kept in memory. If TTree CacheDoClusterPrefetch is set to true, GetEntry() will load the entire cluster into memory, not just the first basket. For this, GetBasket() is modified to call a new function GetFreshCluster(). This function is responsible for returning a new basket and clearing out clusters from memory. Because clusters can have varying numbers of baskets, GetFreshCluster() reuses the first basket and clear the rest of the baskets. Reusing all baskets may be more efficient, but adds significant complexity and would not affect the typical case where each cluster only contains a single basket (all the baskets will be reused here). To test the performance of the change, I read 1000 entries (about 1 GB) from a tree of randomly generated data consisting of 2000 branches. Every read had a 2.5% chance of reading 10 entries back or a 2.5% chance of reading 10 entries forward from the current entry.; Without the change enables there were 1.5 GB read in 31102 read calls.; With MaxVirtualSize set to -1 and CacheDoClusterPrefetch true, there were 1.1 GB read in 90 read calls.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1065:1174,efficient,efficient,1174,https://root.cern,https://github.com/root-project/root/pull/1065,1,['efficient'],['efficient']
Energy Efficiency,"Allocate (GSLRngWrapper.h:99); ==12320== by 0x8223765: ROOT::Math::GSLMCIntegrator::GSLMCIntegrator(char const*, double, double, unsigned int) (GSLMCIntegrator.cxx:117); ==12320== by 0x108BF5: main (mcintegrator.cpp:8); ==12320==; ==12320== LEAK SUMMARY:; ==12320== definitely lost: 319,984 bytes in 19,999 blocks; ==12320== indirectly lost: 98,770,000 bytes in 19,754 blocks; ==12320== possibly lost: 1,225,000 bytes in 245 blocks; ==12320== still reachable: 340,874 bytes in 4,262 blocks; ==12320== suppressed: 0 bytes in 0 blocks; ==12320== Reachable blocks (those to which a pointer was found) are not shown.; ==12320== To see them, rerun with: --leak-check=full --show-leak-kinds=all; ==12320==; ==12320== For counts of detected and suppressed errors, rerun with: -v; ==12320== ERROR SUMMARY: 2 errors from 2 contexts (suppressed: 0 from 0); ```. After fix:; ```; valgrind --tool=memcheck --leak-check=full --show-leak-kinds=definite \; --undef-value-errors=no ./mcintegrator. ==14294== Memcheck, a memory error detector; ==14294== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.; ==14294== Using Valgrind-3.13.0 and LibVEX; rerun with -h for copyright info; ==14294== Command: ./mcintegrator; ==14294==; ==14294==; ==14294== HEAP SUMMARY:; ==14294== in use at exit: 335,858 bytes in 4,260 blocks; ==14294== total heap usage: 67,782 allocs, 63,522 frees, 101,539,078 bytes allocated; ==14294==; ==14294== LEAK SUMMARY:; ==14294== definitely lost: 0 bytes in 0 blocks; ==14294== indirectly lost: 0 bytes in 0 blocks; ==14294== possibly lost: 0 bytes in 0 blocks; ==14294== still reachable: 335,858 bytes in 4,260 blocks; ==14294== suppressed: 0 bytes in 0 blocks; ==14294== Reachable blocks (those to which a pointer was found) are not shown.; ==14294== To see them, rerun with: --leak-check=full --show-leak-kinds=all; ==14294==; ==14294== For counts of detected and suppressed errors, rerun with: -v; ==14294== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0); ```",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/928:3395,allocate,allocated,3395,https://root.cern,https://github.com/root-project/root/pull/928,1,['allocate'],['allocated']
Energy Efficiency,"Allocate unique pointer pointees with `new`, so that it matches the default deleter. This appears actually already in our unit tests when ran under valgrind. In general, it would be useful to regularly run the unit tests under valgrind. @Dr15Jones FYI.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16737:0,Allocate,Allocate,0,https://root.cern,https://github.com/root-project/root/pull/16737,1,['Allocate'],['Allocate']
Energy Efficiency,Allocated memory should be cleanup with `free` function.; In all three places where it was used it was **WRONG!**.; Either `delete` or `delete []` or just do nothing. Plus small adjustment for clang-tidy warnings!,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7529:0,Allocate,Allocated,0,https://root.cern,https://github.com/root-project/root/pull/7529,1,['Allocate'],['Allocated']
Energy Efficiency,Also don't allocate them when using `RProperFile`.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16547:11,allocate,allocate,11,https://root.cern,https://github.com/root-project/root/pull/16547,1,['allocate'],['allocate']
Energy Efficiency,Also fix/reduce library dependency for libRHTTP. Resolves #12766,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12798:9,reduce,reduce,9,https://root.cern,https://github.com/root-project/root/pull/12798,1,['reduce'],['reduce']
Energy Efficiency,Also make isBinnedDistribution depend on the vars rather than always return true. ## Changes or fixes:. Makes ParamHistFunc more flexible/powerful. ## Checklist:. - [ ] tested changes locally; - [ ] updated the docs (if necessary),MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10516:138,power,powerful,138,https://root.cern,https://github.com/root-project/root/pull/10516,1,['power'],['powerful']
Energy Efficiency,Also reduce log output when processing too many executions. Update JSROOT with eslint formating,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13758:5,reduce,reduce,5,https://root.cern,https://github.com/root-project/root/pull/13758,1,['reduce'],['reduce']
Energy Efficiency,"Although padding is implementation-dependent, most add enough padding at the end to comply with the requirements of the type with strictest alignment.; Given that `GetValueSize()` is used to allocate memory for the described type, not accouting trailing padding may cause issues. `ROOT::Experimental::RFieldDescriptor::CreateField()` has a direct use of RRecordField. Despite it seems to be working in all tested platforms, be on the safe side and add this padding. This, does not affect derived classes `RPairField` and `RTupleField`, that override determination of the size of the type. ## Checklist:; - [X] tested changes locally",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/10790:191,allocate,allocate,191,https://root.cern,https://github.com/root-project/root/pull/10790,1,['allocate'],['allocate']
Energy Efficiency,"Apply [D41416](https://reviews.llvm.org/D41416) to reduce template specialization deserializations. This patch decreases the memory footprint of root startup by approx 17%. We deserialize 2 times less record types. See details [here](https://www.diffchecker.com/L2m1FE76). We cannot land D41416 in clang's trunk because in essence it replaces a liner algorithm with a quadratic one. We see the compilation time being approx 2 times slower clearly in one of the Google modules builds with approx 1000 modules with a lot of lazy specializations. While I am working on a better version of this patch, land it in our codebase because we do not have such extreme usage scenarios (yet?).",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/1526:51,reduce,reduce,51,https://root.cern,https://github.com/root-project/root/pull/1526,1,['reduce'],['reduce']
Energy Efficiency,"Apply several improvements and fixes in MethodDL , mainly: . - Use now Float instead of Double. This makes the network 2 times faster without loosing performances in quality of results; - Compute now the regularisation term in the loss once/epoch when evaluating ; - Optimise the MultiThread execution on CPU by setting a minimum number of elements to execute per task ; - Optimise evaluation of the networks, by implementing GetMvaValues in MethodDL. This reduces significantly the time spent for network testing and evaluating in a TMVA session",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2219:457,reduce,reduces,457,https://root.cern,https://github.com/root-project/root/pull/2219,1,['reduce'],['reduces']
Energy Efficiency,Apply some bug fixes in the TKDE class.; - Fix initialization for the automatic binning case; - Fix setting the bins using the setter functions.; - Fix mirroring for binned case (fix ROOT-8488); - Fix MirrorAsym case ; - Fix computation of non-adaptive bandwidth for binned case; ; Add also some improvements in the class avoid some unneeded re-initialization and some small speedup in the kernel calculations.; Improve also the documentations,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7096:244,adapt,adaptive,244,https://root.cern,https://github.com/root-project/root/pull/7096,1,['adapt'],['adaptive']
Energy Efficiency,"As discussed with @bluehood and @dpiparo, having ""passive"" function names is not desirable. Therefore, we adapt the interface accordingly.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2626:106,adapt,adapt,106,https://root.cern,https://github.com/root-project/root/pull/2626,1,['adapt'],['adapt']
Energy Efficiency,As llvm JIT cannot catch exceptions on Apple M1 (see; https://github.com/root-project/root/issues/7541) cling; should throw less. This is a hack to reduce the impact; a bit.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7744:148,reduce,reduce,148,https://root.cern,https://github.com/root-project/root/pull/7744,1,['reduce'],['reduce']
Energy Efficiency,As llvm JIT cannot catch exceptions on Apple M1 (see; https://github.com/root-project/root/issues/7541) cling; should throw less. This is a hack to reduce the impact; a bit. (cherry picked from commit f7a3eeb6b4a9ebf8d6452fc77a1fd1ed75570c41),MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7763:148,reduce,reduce,148,https://root.cern,https://github.com/root-project/root/pull/7763,1,['reduce'],['reduce']
Energy Efficiency,"As reported in issue #10454, calling `ClassInfo_IsEnum()` repeatedly increases the memory consumption of the program. This does not happen with `TEnum::GetEnum()`, which can be used instead.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11412:90,consumption,consumption,90,https://root.cern,https://github.com/root-project/root/pull/11412,1,['consumption'],['consumption']
Energy Efficiency,"As there is one RLoopManager per computation graph, when aliases; were managed by RLoopManager they were computation-graph-wide.; It is desirable to make Alias definitions behave coherently with; Defines instead, i.e. have Aliases be only accessible in the branch; of the computation graph in which they were defined, and only in; nodes that are downstream of the one where the alias is added. This resolves #7381, ""[DF] Let Aliases be defined per computation graph; branch, not globally"". In particular, in this commit:; - move alias management from RLoopManager to RBookedColumns; - remove alias-managing logic from RLoopManager; - refactor several functions so they only take RBookedColumns as input; rather than a list of defined names plus a map of aliases; (CheckForDefinition, CheckForRedefinition, FindUnknownColumns,; GetValidatedColumnNames, BookFilterJit, FindUsedColumns,; ParseRDFExpression); - use RBookedColumns::ResolveAlias instead of ResolveAlias helper function; - adapt dataframe_utils test to the new signature of FindUnknownColumns. Note that this is a backward-incompatible change for user code that; relied on this global definition of Aliases. We expect this to be an; exceedingly rare usecase, and if such code exists it will produce a; clear error message.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9496:984,adapt,adapt,984,https://root.cern,https://github.com/root-project/root/pull/9496,1,['adapt'],['adapt']
Energy Efficiency,"Assume to have a TH1D object, with non-uniform binning, representing some kind of differential quantity (for example, a particle flux as a function of the particle energy, dN/dE). The `TH1D::GetRandom` method will return random numbers distributed according to the histogram bins height, rather than the histogram bins area. The code attached here (a ROOT macro) reproduces this behavior (I attach it as a .txt file, since .C files are not supported); [test.txt](https://github.com/root-project/root/files/7845002/test.txt)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/9530:164,energy,energy,164,https://root.cern,https://github.com/root-project/root/issues/9530,1,['energy'],['energy']
Energy Efficiency,"Assuming that `page_size` is a power of 2, the calculation of the base address of the page can be simplified and avoid a division. According to POSIX, either `MS_SYNC` or `MS_ASYNC` must be specified when calling `msync()`. Failure to include one of these flags will cause `msync()` to fail on some systems. When `msync()` returns -1, the pointer is only considered invalid when errno is set to `ENOMEM`. In principle, the other possible values for errno won't happen, but if they do, that should be considered an error, hence the assert condition needed an update. `EBUSY` shouldn't happen since we do not add `MS_INVALIDATE` to flags, and `EINVAL` shouldn't happen because we always pass a multiple of the page size to msync(). `EFAULT` is only used in Linux 2.4.18 and earlier instead of `ENOMEM`. See #4136 for more information.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4159:31,power,power,31,https://root.cern,https://github.com/root-project/root/pull/4159,1,['power'],['power']
Energy Efficiency,"At O0, all variables of all local scopes get separately allocated on the stack.; This sums up to 6k; streaming e.g. a RooWorkspace has 100s of recursions of this; function. Force O3, where the stack size shrinks to just above 200 bytes.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3234:56,allocate,allocated,56,https://root.cern,https://github.com/root-project/root/pull/3234,1,['allocate'],['allocated']
Energy Efficiency,"At the moment, it's not really possible to implement a power law or a exponential of a polynomial (as used, for example, in the ATLAS H->yy analysis) without using RooGenericPdf.; This PR adds two new Pdf classes that implement an exponential polynomial and a power law.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4015:55,power,power,55,https://root.cern,https://github.com/root-project/root/pull/4015,2,['power'],['power']
Energy Efficiency,"At this place buffer was allocated using length of source string.; gcc does not like when strncpy length argument directly derives from; source string length. Actually, buffer should not depend from source; length - here it was workaround for old problem, which is already fixed.; Therefore just use constant buffer length",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2472:25,allocate,allocated,25,https://root.cern,https://github.com/root-project/root/pull/2472,1,['allocate'],['allocated']
Energy Efficiency,Avoid recursive powershell.exe,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/12575:16,power,powershell,16,https://root.cern,https://github.com/root-project/root/pull/12575,1,['power'],['powershell']
Energy Efficiency,"Avoids some memory allocations when the internal unzip buffer is never used throughout the decompressor's lifetime (since RNTupleDecompressor allocates a Buffer_t when default constructed).; With this change, RPageStorageDaos doesn't need to allocate a decompressor anymore. ## Checklist:. - [x] tested changes locally; - [ ] updated the docs (if necessary)",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15982:142,allocate,allocates,142,https://root.cern,https://github.com/root-project/root/pull/15982,2,['allocate'],"['allocate', 'allocates']"
Energy Efficiency,Backport #16819. On the MacOS same unix sockets cannot be opened twice for listening -; when using with netcat or socat; Therefore start nc -k -l -U $socketfile > $socketfile.log to redirect; socket output into the plain file permanently.; And then monitor this file content - line by line. Use trap command to cleanup all temporary files afterwards. And from ROOT side need to send \n to ensure new lines in produced log file. This changes required to be able use rootssh from the MacOS,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/16820:249,monitor,monitor,249,https://root.cern,https://github.com/root-project/root/pull/16820,1,['monitor'],['monitor']
Energy Efficiency,Backport (and adapt) llvm-svn 331428 plus required prerequisites.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6295:14,adapt,adapt,14,https://root.cern,https://github.com/root-project/root/pull/6295,1,['adapt'],['adapt']
Energy Efficiency,"Backport of D27629, commit 18805ea951. Original commit message:; ```; Makes sure that the unwind info uses 64bits pcrel relocation if a large; code model is specified and handle the corresponding relocation in the; ExecutionEngine. This can happen with certain kernel configuration (the; same as the one in https://reviews.llvm.org/D27609, found at least on; the ArchLinux stock kernel and the one used on https://www.packet.net/); using the builtin JIT memory manager. Co-authored-by: Yichao Yu <yyc1992@gmail.com>; Co-authored-by: Valentin Churavy <v.churavy@gmail.com>; ```. Note: The handling in ExecutionEngine was committed in a different; revision and is already part of LLVM 9. We need the part about emitting; relocations because eh_frame (allocated in a data section) may be more; than 4Gb away from the code section it references. See the discussion; in https://github.com/cms-sw/cmssw/issues/31123 for context.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7563:749,allocate,allocated,749,https://root.cern,https://github.com/root-project/root/pull/7563,1,['allocate'],['allocated']
Energy Efficiency,"Backport of D27629, commit 18805ea951. Original commit message:; ```; Makes sure that the unwind info uses 64bits pcrel relocation if a large; code model is specified and handle the corresponding relocation in the; ExecutionEngine. This can happen with certain kernel configuration (the; same as the one in https://reviews.llvm.org/D27609, found at least on; the ArchLinux stock kernel and the one used on https://www.packet.net/); using the builtin JIT memory manager. Co-authored-by: Yichao Yu <yyc1992@gmail.com>; Co-authored-by: Valentin Churavy <v.churavy@gmail.com>; ```. Note: The handling in ExecutionEngine was committed in a different; revision and is already part of LLVM 9. We need the part about emitting; relocations because eh_frame (allocated in a data section) may be more; than 4Gb away from the code section it references. See the discussion; in https://github.com/cms-sw/cmssw/issues/31123 for context. (cherry picked from commit f481e8fe6df177ec1a50a10b7d76df5fb0b5c2a2). v6.24 version of #7563",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7606:749,allocate,allocated,749,https://root.cern,https://github.com/root-project/root/pull/7606,1,['allocate'],['allocated']
Energy Efficiency,Backporting parts of 363373bb987 to make the tests green.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15193:51,green,green,51,https://root.cern,https://github.com/root-project/root/pull/15193,1,['green'],['green']
Energy Efficiency,"Before this commit, we had a generic RAction and two template; specializations for `RAction<SnapshotHelper>` and; `RAction<SnapshotHelperMT>`. Common logic between the three was kept; in the common base class `RActionCRTP<RAction<...>>`. This is unnecessarily complex. Instead, we now have a single RAction; class and a helper ActionImpl type that contains the parts of the; logic that needs to differ for `RAction<SnapshotHelper>` and; `RAction<SnapshotHelperMT>`. A single specialization of ActionImpl is; used for both helpers to reduce code duplication.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6220:533,reduce,reduce,533,https://root.cern,https://github.com/root-project/root/pull/6220,1,['reduce'],['reduce']
Energy Efficiency,"Before this patch, if a RLoopManager went out of scope before running; its event loop (a rare occurrence, but indeed possible, especially in; interactive sessions), we were leaking certain weak_ptrs and shared_ptrs; to components of the computation graph, that were meant to be used by; lazily jitted code that was never actually jitted in the end. With this change, when _any_ RLoopManager runs the event loop, we; trigger execution of _all_ jitted code that was registered, even if; it was registered by an RLoopManager that is now out of scope. In the; latter case, the code only performs clean-up of the heap-allocated; weak_ptrs and shared_ptrs and exits. We still ""leak"" in the odd case; in which RDF jitted code is registered but the application never actually; triggers any RDF event loops, in which case the code to be lazily jitted; remains in the pipeline until the end of the application, and parts of; the computation graph are kept alive indefinitely by heap-allocated shared_ptrs. For this to work, we need to detect when compiled objects went out of scope and we don't actually have to run the jitted code but just perform the clean-up, so we switch from heap-allocated shared_ptrs to heap-allocated weak_ptrs for those objects.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/5488:613,allocate,allocated,613,https://root.cern,https://github.com/root-project/root/pull/5488,4,['allocate'],['allocated']
Energy Efficiency,"Before this patch, in cases in which t.GetBranch(""a.b"") and; t.GetBranch(""b"") both returned a valid address, RDataFrame was adding; only ""a.b"" to the list of valid TTree columns.; With this patch, both ""a.b"" and ""b"" are recognized as valid column names. We need this change in behavior to avoid a _worse_ change in behavior,; described in detail in ROOT-10942: since ROOT-10702 was fixed,; TTree::GetBranch became more powerful and started returning non-null; addresses for branch names with form ""a.b"" while it was returning a; nullptr until v6.20/06. With RDataFrame's previous logic, this in turn; meant that valid code that was using ""a"" as a column broke as RDataFrame; was now adding the ""a.b"" spelling to the list of valid columns instead. This fixes the RDF-related part of ROOT-10942: ""a"" is recognized as a; valid spelling again, and ""a.b"" is kept as a new valid spelling.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6072:419,power,powerful,419,https://root.cern,https://github.com/root-project/root/pull/6072,1,['power'],['powerful']
Energy Efficiency,BitShift; - [ ] Cast; - [ ] Ceil; - [ ] Clip; - [ ] Compress; - [ ] ConcatFromSequence; - [ ] Constant; - [ ] ConstantOfShape; - [ ] ConvInteger; - [ ] ConvTranspose; - [ ] Cos; - [ ] Cosh; - [ ] CumSum; - [ ] DepthToSpace; - [ ] DequantizeLinear; - [ ] Det; - [ ] Div; - [ ] Dropout; - [ ] Einsum; - [ ] Elu; - [ ] Equal; - [ ] Erf; - [x] Exp; - [ ] Expand; - [ ] EyeLike; - [ ] Flatten; - [ ] Floor; - [ ] Gather; - [ ] GatherElements; - [ ] GatherND; - [ ] GlobalLpPool; - [ ] GlobalMaxPool; - [ ] Greater; - [ ] GridSample; - [ ] HardSigmoid; - [ ] Hardmax; - [ ] Identity; - [ ] If; - [ ] IsInf; - [ ] IsNaN; - [ ] LRN; - [ ] LeakyRelu; - [ ] Less; - [ ] Log; - [ ] Loop; - [ ] LpNormalization; - [ ] LpPool; - [ ] MatMul; - [ ] MatMulInteger; - [ ] Max; - [ ] MaxRoiPool; - [ ] MaxUnpool; - [ ] Mean; - [ ] Min; - [ ] Mod; - [ ] Mul; - [ ] Multinomial; - [ ] Neg; - [ ] NonMaxSuppression; - [ ] NonZero; - [ ] OneHot; - [ ] Optional; - [ ] OptionalGetElement; - [ ] OptionalHasElement; - [ ] Or; - [ ] PRelu; - [ ] Pad; - [ ] Pow; - [ ] QLinearConv; - [ ] QLinearMatMul; - [ ] QuantizeLinear; - [ ] RandomNormal; - [ ] RandomNormalLike; - [ ] RandomUniform; - [ ] RandomUniformLike; - [ ] Reciprocal; - [ ] ReduceL1; - [ ] ReduceL2; - [ ] ReduceLogSum; - [ ] ReduceLogSumExp; - [ ] ReduceMax; - [ ] ReduceMean; - [ ] ReduceMin; - [ ] ReduceSum; - [ ] ReduceSumSquare; - [ ] Resize; - [ ] ReverseSequence; - [ ] RoiAlign; - [ ] Round; - [ ] Scan; - [ ] ScatterElements; - [ ] ScatterND; - [ ] SequenceAt; - [ ] SequenceConstruct; - [ ] SequenceEmpty; - [ ] SequenceErase; - [ ] SequenceInsert; - [ ] SequenceLength; - [ ] Shape; - [ ] Shrink; - [ ] Sign; - [ ] Sin; - [ ] Sinh; - [ ] Size; - [ ] Softplus; - [ ] Softsign; - [ ] SpaceToDepth; - [ ] Split; - [ ] SplitToSequence; - [ ] Sqrt; - [ ] StringNormalizer; - [ ] Sub; - [ ] Sum; - [ ] Tan; - [ ] Tanh; - [ ] TfldfVectorizer; - [ ] ThresholdedRelu; - [ ] Tile; - [ ] TopK; - [ ] Trilu; - [ ] Unique; - [ ] Unsqueeze; - [ ] Where; - [ ] Xor,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10360:1871,Reduce,ReduceLogSum,1871,https://root.cern,https://github.com/root-project/root/issues/10360,7,['Reduce'],"['ReduceLogSum', 'ReduceLogSumExp', 'ReduceMax', 'ReduceMean', 'ReduceMin', 'ReduceSum', 'ReduceSumSquare']"
Energy Efficiency,"Both EnableEmplicitMT and TThreadExecutor implementations share the; same task scheduler and the number of threads it has been set to run on. This patch modifies TThreadExecutor so it:. * avoids the termination (from TThreadExecutor) of the scheduler; initialized by EnableEmplicitMT.; * warns the user if she/he tries to change an already-set number of; threads, as the scheduler will always take the value of its first; initialization.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/326:79,schedul,scheduler,79,https://root.cern,https://github.com/root-project/root/pull/326,3,['schedul'],['scheduler']
Energy Efficiency,"By leveraging std::max_align_t, insure that the return addressed (offset-ed; compared to the address allocated by TStorage::ObjectAlloc) is still well; aligned. In https://root-forum.cern.ch/t/libnew-so-and-tcanvas/51039/8, executing; in rootn.exe:. TMapFile *mf=TMapFile::Create(""test.map"",""recreate""); TH1 *h=new TH1F(""test"",""test"",100,-5,5); h->Fill (0); h->Draw(). led to a segmentation fault in. during the execution of:. => 0x00007ffff2a62a12 <+162>:	movaps %xmm0,0x10(%r12). with an address that was ending in '8'. When allocating; the TMethodCall, the address returned was aligned on a 16 bit; boundary but the memory counting over-allocating was shifting; the address by 'only' 8 bits, leading to a mis-aligned access; by this vector memcpy.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/11172:101,allocate,allocated,101,https://root.cern,https://github.com/root-project/root/pull/11172,1,['allocate'],['allocated']
Energy Efficiency,"By using std::apply, now available after moving to C++17, the implementation can be greatly simplified. # This Pull request:. ## Changes or fixes:; The way the value of a std::ntuple is printed. ## Checklist:. - [v] tested changes locally; - [ ] updated the docs (if necessary). This PR fixes # ; Nothing, it reduces the overall maintenance cost of the root codebase by simplifying it.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13619:309,reduce,reduces,309,https://root.cern,https://github.com/root-project/root/pull/13619,1,['reduce'],['reduces']
Energy Efficiency,"C++ didn't have wording for class members until C++11. C++ draft, 9.2 [class.mem]; 17) ""Non-static data members of a (non-union) class with the same access control; (Clause 11) are allocated so that later members have higher addresses within a; class object. The order of allocation of non-static data members with different; access control is unspecified (Clause 11). Implementation alignment requirements; might cause two adjacent members not to be allocated immediately after each; other; so might requirements for space for managing virtual functions (10.3) and; virtual base classes (10.1)."". This means fX, fY and fZ indeed get higher addresses but are not guaranteed to be; continuous in memory. This should fix this issue.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/570:181,allocate,allocated,181,https://root.cern,https://github.com/root-project/root/pull/570,2,['allocate'],['allocated']
Energy Efficiency,Calling e.g. Border() will allocate the relevant attribute and return a reference.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3849:27,allocate,allocate,27,https://root.cern,https://github.com/root-project/root/pull/3849,1,['allocate'],['allocate']
Energy Efficiency,"Change primary responsible for page memory management from page pool to page storage. This is a preparation for asynchronous interfaces. In the new scheme, RColumn uses `RPageStorage::ReservePage` (writing) or `RPageStorage::PopulatePage` (reading) to allocate pages and `RPageStorage::ReleasePage` for freeing them. The page storage, in turn, may use a shared page pool. In this case, ownership of a page's memory is transferred to the page pool, which will free a page if there are no further users. Addresses ROOT-10205",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/4014:252,allocate,allocate,252,https://root.cern,https://github.com/root-project/root/pull/4014,1,['allocate'],['allocate']
Energy Efficiency,"Clad currently has problems with some new headers in `MacOSX15.0.sdk` and crashes / errors due to `__builtin_pow`. Disable it for now while a solution is worked on, so we can upgrade the nodes and keep the build green.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15910:212,green,green,212,https://root.cern,https://github.com/root-project/root/pull/15910,1,['green'],['green']
Energy Efficiency,Cling fails to find (or properly find) the dictionary symbols on PowerPC .. sometimes,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/10162:65,Power,PowerPC,65,https://root.cern,https://github.com/root-project/root/issues/10162,1,['Power'],['PowerPC']
Energy Efficiency,Cling reduce the link libs,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3010:6,reduce,reduce,6,https://root.cern,https://github.com/root-project/root/pull/3010,1,['reduce'],['reduce']
Energy Efficiency,Closes #12832. There is also a commit that reduces code duplication in the unit tests by adding one single header where the gtest backwards compatibility changes are made.,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/13261:43,reduce,reduces,43,https://root.cern,https://github.com/root-project/root/pull/13261,1,['reduce'],['reduces']
Energy Efficiency,Cluster-based scheduling of RNTuple processing in distributed mode,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15152:14,schedul,scheduling,14,https://root.cern,https://github.com/root-project/root/pull/15152,1,['schedul'],['scheduling']
Energy Efficiency,"Consider this basic example of using the RNTuple collection writer:; ```c++; #include <ROOT/REntry.hxx>; #include <ROOT/RNTuple.hxx>; #include <ROOT/RNTupleModel.hxx>. using ROOT::Experimental::REntry;; using ROOT::Experimental::RNTupleModel;; using ROOT::Experimental::RNTupleReader;; using ROOT::Experimental::RNTupleWriter;. static void write() {; auto particleModel = RNTupleModel::Create();; auto energy = particleModel->MakeField<float>(""energy"");. auto model = RNTupleModel::Create();; auto particles = model->MakeCollection(""particles"", std::move(particleModel));. auto writer = RNTupleWriter::Recreate(std::move(model), ""events"", ""collection_entry.root"");. *energy = 1.0;; particles->Fill();; writer->Fill();; }. void collection_entry_default() {; write();. auto reader = RNTupleReader::Open(""events"", ""collection_entry.root"");; reader->Show(0);; }. int main() {; collection_entry_default();; return 0;; }; ```. This works reasonably as expected, with the following output:; ```; {; ""particles"": [{""energy"": 1}]; }; ```. However, a user may want to create non-default entries, ie `auto entry = writer->CreateEntry();` and then calling `writer->Fill(*entry);`. <details>; <summary>Full code example</summary>. ```c++; #include <ROOT/REntry.hxx>; #include <ROOT/RNTuple.hxx>; #include <ROOT/RNTupleModel.hxx>. using ROOT::Experimental::REntry;; using ROOT::Experimental::RNTupleModel;; using ROOT::Experimental::RNTupleReader;; using ROOT::Experimental::RNTupleWriter;. static void write() {; auto particleModel = RNTupleModel::Create();; auto energy = particleModel->MakeField<float>(""energy"");. auto model = RNTupleModel::CreateBare();; auto particles = model->MakeCollection(""particles"", std::move(particleModel));. auto writer = RNTupleWriter::Recreate(std::move(model), ""events"", ""collection_entry.root"");; auto entry = writer->CreateEntry();. *energy = 1.0;; particles->Fill();; writer->Fill(*entry);; }. void collection_entry() {; write();. auto reader = RNTupleReader::Open(""events"", ""c",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/14642:402,energy,energy,402,https://root.cern,https://github.com/root-project/root/issues/14642,4,['energy'],['energy']
Energy Efficiency,"Consider this python script:. ```; import ROOT; v = ROOT.vector(float)(); for i in range(50000):; s = repr(v); if i%1000 == 0:; print (i, flush=True); ```. Using ROOT from a dev4 nightly:. /cvmfs/sft-nightlies.cern.ch/lcg/nightlies/dev4/Sat/ROOT/v6-28-00-patches/x86_64-centos7-gcc12-opt. This runs for about 12 minutes and then starts printing errors:. ```; 21000; cling JIT session error: Cannot allocate memory; Error in Interpreter::toString: the input *((std::string*)0x7ffed5ef1580) = cling::printValue((std::vector<float>*)0x9c5a040); cannot be evaluatedcling JIT session error: Cannot allocate memory; Error in Interpreter::toString: the input *((std::string*)0x7ffed5ef1580) = cling::printValue((std::vector<float>*)0x9c5a040); cannot be evaluatedcling JIT session error: Cannot allocate memory; ...; ```. Meanwhile, with root 6.26.08:. /cvmfs/atlas-nightlies.cern.ch/repo/sw/master_Athena_x86_64-centos7-gcc11-opt/sw/lcg/releases/LCG_102b_ATLAS_19/ROOT/6.26.08/x86_64-centos7-gcc11-opt. The same script completes normally in about two seconds. See also ATEAM-885.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/12817:398,allocate,allocate,398,https://root.cern,https://github.com/root-project/root/issues/12817,3,['allocate'],['allocate']
Energy Efficiency,Constant operator implemented along with the onnx model and test; ReduceSum was also added in the `tmva/sofie_parsers/src/ParseReduce.cxx`,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/15811:66,Reduce,ReduceSum,66,https://root.cern,https://github.com/root-project/root/pull/15811,1,['Reduce'],['ReduceSum']
Energy Efficiency,"Current JSROOT dev version with lot of changes, potential v7.0 release. Really a lot of changes in dev version.; Fully avoids jQuery in the GUI, replace it by HTML5 code; Reduce significantly used code from d3.js (factor 3); Improve flexible layout in the GUI. Add support of many new classes/draw options; Like CANDLE/VIOLIN plots, TEfficiency,; Add many standard math functions to support majority of TF1/TF2 from tutorials. Upgrade three.js to r136. Adjust Eve7 code, fix few problems",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/9638:171,Reduce,Reduce,171,https://root.cern,https://github.com/root-project/root/pull/9638,1,['Reduce'],['Reduce']
Energy Efficiency,"Currently RDF reads all column values via a single RColumnValue type,; which knows how to deal with TTreeReaderValues, TTreeReaderArrays,; datasource columns and defined columns. Not only that's too many hats; for a single type, but this design requires some runtime logical branching; to decide which path to take that can be simplified.; Finally and most importantly, going forward we want smarter integration; with RDataSource, and we will require RDataSource-specialized column readers.; In order to allow this latter use-case and simplify some logical; branching, instead of a single RColumnValue type we add specialized; column reader types. RDefineReader reads values of Defined columns, RTreeColumnReader reads values; via TTreeReaderValues or TTreeReaderArrays depending on the class specialization,; and RDSColumnReader reads values from a datasource.; A given computation graph will only make use of one between; RTreeColumnReader and RDSColumnReader. The new column readers bring two main advantages:; - logical branching has been reduced (for now, at the cost of introducing a; virtual call); - the new design makes it simpler to insert datasource-specific column; readers",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6170:1043,reduce,reduced,1043,https://root.cern,https://github.com/root-project/root/pull/6170,1,['reduce'],['reduced']
Energy Efficiency,"Currently TMVA considers all internal variables floats, if large event numbers are then input as part of ""cv-in-app"" these can overflow the float resulting in erroneous fold assignments. A workaround is to reduce the input range when reading the input from the TTree as TTreeFormula retains awareness of the input type.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2971:206,reduce,reduce,206,https://root.cern,https://github.com/root-project/root/pull/2971,1,['reduce'],['reduce']
Energy Efficiency,"Currently, if ::Name() interface is called we pretty print the Decl name. This is suboptimal because it causes many memory allocations for something which is essentially immutable. This PR introduces step-by-step working cache if ::Name() was called. It reduces the temporary memory allocations by 12 Mb in standard ROOT and 130Mb in -Druntime_cxxmodules=On cache. The benchmarking test was provided by @pcanal in #3012. It is important to reduce the temporary allocations because they can contribute to increasing of the peak memory usage of ROOT.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/3616:254,reduce,reduces,254,https://root.cern,https://github.com/root-project/root/pull/3616,2,['reduce'],"['reduce', 'reduces']"
Energy Efficiency,"DO:. - [ ] Decide on explicit-implicit MT execution modes' interactions; - [ ] Rename TPoolManager; - [ ] Decide if allowing change of the number of threads when calling several times EnableImplicitMT(x) with a varying x without an intermediate call to DisableImplicitMT(); - [ ] Add warnings . ***********************************************************************************. # Previous behaviour; Previous to this PR, the number of threads was limited during the lifetime of the tbb scheduler, kept alive by TPoolManager as a ```std::shared_ptr``` as long as references to it existed, to the value set on its initialization. ```cpp; //We initialize the scheduler with 4 threads; ROOT::EnableIMT(4);; { ; //The scheduler is active, so the value passed to TThreadExecutor; //is overriden with the number of threads the scheduler has been; //initialized with (4); TThreadExecutor executor(9);; }; ROOT::DisableIMT();. //The scheduler is not alive at this point, ; //so we initialize it with 2 threads; ROOT::EnableIMT(2);; ROOT::TThreadExecutor executor(8);; ROOT::DisableIMT();. executor.MapReduce(...); //Runs on two threads!. ROOT::EnableIMT(3);; //Still two threads! TThreadExecutor instance was keeping the scheduler alive; ```; This also implies that given two co-existent instances of TThreadExecutor initialized with a different number of threads, the first one to be initialized forces on the second one the number of threads to work with. ```cpp; ROOT::TThreadExecutor executor(4);; ROOT::TThreadExecutor executor2(8); //will run limited to two threads!!; ```; This setup was useful [to avoid undefined behaviours between the implicit and explicit parallelism modes of ROOT](https://indico.cern.ch/event/607814/contributions/2466931/attachments/1409778/2155811/TScheduler.pdf). . # New behaviour; With this PR, we can separate this two modes of execution. We support the co-existance of several TThreadExecutors, each handling a different number of threads, by initializing the scheduler ",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2389:1251,schedul,scheduler,1251,https://root.cern,https://github.com/root-project/root/pull/2389,1,['schedul'],['scheduler']
Energy Efficiency,"Data sources such as RNTuple that have efficient ways to get the; size of a collection can recognize the `__rdf_sizeof_` prefix and; connect that variable to the column representing the size of `var`. To do:; - [x] test interaction of `#var` and `Alias`; - [x] nicer error handling in case of column name that is just `""#""` (Jakob's comment); - [x] do not expand `#define`, `#pragma` and other preprocessor directives; - [x] do not return `__rdf_sizeof_XXX` columns from `GetColumnNames` (RNTupleDS can, but RDF should filter them out); - [x] ignore `__rdf_sizeof_XXX` columns in `Snapshot` (~~printing a warning~~ throwing if passed explicitly by the user); - [x] same for `Cache`; - [x] document interaction of `Snapshot` and `Cache` with the `#var` columns; - [x] test interaction of `Cache` and `#var`; - [x] RNTuple's `#var` columns should probably be `std::size_t` instead of `unsigned int`s? that would be the less surprising. Also I got _some_ numbers out rather than an exception when I used the wrong type",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/7354:39,efficient,efficient,39,https://root.cern,https://github.com/root-project/root/pull/7354,1,['efficient'],['efficient']
Energy Efficiency,DeadStores]; 1: Value stored to 'asize' is never read in /opt/root_src/io/io/src/TStreamerInfoActions.cxx:3958; /opt/root_src/io/io/src/TStreamerInfoActions.cxx:4063:13: warning: Value stored to 'asize' is never read [clang-analyzer-deadcode.DeadStores]; 1: Value stored to 'asize' is never read in /opt/root_src/io/io/src/TStreamerInfoActions.cxx:4063; /opt/root_src/io/sql/src/TBufferSQL2.cxx:1871:7: warning: Call to function 'strcpy' is insecure as it does not provide bounding of the memory buffer. Replace unbounded copy functions with analogous functions that support length arguments such as 'strlcpy'. CWE-119 [clang-analyzer-security.insecureAPI.strcpy]; 1: Call to function 'strcpy' is insecure as it does not provide bounding of the memory buffer. Replace unbounded copy functions with analogous functions that support length arguments such as 'strlcpy'. CWE-119 in /opt/root_src/io/sql/src/TBufferSQL2.cxx:1871; /opt/root_src/io/sql/src/TBufferSQL2.cxx:1894:21: warning: Use of zero-allocated memory [clang-analyzer-cplusplus.NewDelete]; 1: Assuming field 'fIOVersion' is < 2 in /opt/root_src/io/sql/src/TBufferSQL2.cxx:1879; 2: Taking true branch in /opt/root_src/io/sql/src/TBufferSQL2.cxx:1879; 3: Assuming 'nwh' is not equal to 0 in /opt/root_src/io/sql/src/TBufferSQL2.cxx:1885; 4: Taking false branch in /opt/root_src/io/sql/src/TBufferSQL2.cxx:1885; 5: Assuming 'nwh' is equal to 255 in /opt/root_src/io/sql/src/TBufferSQL2.cxx:1888; 6: Taking true branch in /opt/root_src/io/sql/src/TBufferSQL2.cxx:1888; 7: Memory is allocated in /opt/root_src/io/sql/src/TBufferSQL2.cxx:1893; 8: Use of zero-allocated memory in /opt/root_src/io/sql/src/TBufferSQL2.cxx:1894; /opt/root_src/io/sql/src/TSQLFile.cxx:386:7: warning: Value stored to 'recreate' is never read [clang-analyzer-deadcode.DeadStores]; 1: Value stored to 'recreate' is never read in /opt/root_src/io/sql/src/TSQLFile.cxx:386; /opt/root_src/io/xml/src/TBufferXML.cxx:764:41: warning: Called C++ object pointer is null [clang,MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/issues/7431:119727,allocate,allocated,119727,https://root.cern,https://github.com/root-project/root/issues/7431,1,['allocate'],['allocated']
Energy Efficiency,"Demonstrates how to access inner fields of a complex collection. In this case, we store an `std::vector<CustomStruct>` and we read `CustomStruct.a` as an `std::vector<float>`. This capability is necessary for efficient collection access in RNTupleDS.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/6549:209,efficient,efficient,209,https://root.cern,https://github.com/root-project/root/pull/6549,1,['efficient'],['efficient']
Energy Efficiency,"Directly iterate over all columns and filter by the `fieldId`, avoiding quadratic complexity. This reduces the time for writing 10k integer fields from 28s to 20s. Note that the complexity overall still seems to be quadratic because mapping each field constructs an iterator for it, which requires looping over all columns. ---. Builds on https://github.com/root-project/root/pull/14365",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/14366:99,reduce,reduces,99,https://root.cern,https://github.com/root-project/root/pull/14366,1,['reduce'],['reduces']
Energy Efficiency,"Disables the memory pool for RooArgSet and RooDataSet to fix https://github.com/root-project/root/issues/8323. This entails that we can't rely anymore on all RooDataSets allocated on the heap having a unique memory address, so a new `uniqueId` class member is introduced to replace the pointer comparisons. The RooArgSet already had such a `uniqueId` class member, which is already used as a key for caching as of PR https://github.com/root-project/root/pull/10333, instead of doing pointer comparisons. More details in the commit descriptions.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/8324:170,allocate,allocated,170,https://root.cern,https://github.com/root-project/root/pull/8324,1,['allocate'],['allocated']
Energy Efficiency,"Do not allow to start sandbox or zygote processes, disable extensions.; Reduce from 9 to 4 number of required processes with chromium 90. May help to solve sporadic errors with `webgui_ping` test on ` pcepsft11`",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/8420:72,Reduce,Reduce,72,https://root.cern,https://github.com/root-project/root/pull/8420,1,['Reduce'],['Reduce']
Energy Efficiency,"EDIT: to merge if nightlies are green for master. This resolves ROOT-9456, ""[Jenkins][DF] Sporadic failures in test_snapshotNFiles"". The issue is due to interleaved TBB task execution in the same thread. When nested task spawning is present (i.e. when TBB tasks spawn other; TBB tasks and the thread pool contains at least three threads), the TBB; task stealing mechanism makes it possible that a thread starts executing; a new instance of the ""parent"" tasks before it finishes the execution of; the previous parent task (this happens when the thread is waiting for a; ""stolen"" child task to finish, so it steals another threads' parent; task). In the case of a multi-thread snapshot, one needs to write at least two; branches for the multi-thread branch writing to kick in and have nested; task spawning. The crash was caused by a new parent task overwriting the output TTree; of the previous parent task in a given thread. When the previous parent; task resumed execution, it ended up trying to flush out the contents of; the deleted output TTree. The solution adopted is to use thread-local stacks of output TTrees (as; opposed to single output TTrees), that tasks push and pop when they; start and finish respectively.",MatchSource.ISSUE,root-project,root,v6-32-06,https://github.com/root-project/root/pull/2228:32,green,green,32,https://root.cern,https://github.com/root-project/root/pull/2228,1,['green'],['green']
