quality_attribute,sentence,source,author,repo,version,id,keyword,matched_word,match_idx,filename,wiki,url,total_similar,target_keywords,target_matched_words
Availability," from this; * software without specific prior written permission.; *; * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; */; // StatusOr<T> is the union of a Status object and a T; // object. StatusOr models the concept of an object that is either a; // usable value, or an error Status explaining why such a value is; // not present. To this end, StatusOr<T> does not allow its Status; // value to be Status::OK. Further, StatusOr<T*> does not allow the; // contained pointer to be NULL.; //; // The primary use-case for StatusOr<T> is as the return value of a; // function which may fail.; //; // Example client usage for a StatusOr<T>, where T is not a pointer:; //; // StatusOr<float> result = DoBigCalculationThatCouldFail();; // if (result.ok()) {; // float answer = result.ValueOrDie();; // printf(""Big calculation yielded: %f"", answer);; // } else {; // LOG(ERROR) << result.status();; // }; //; // Example client usage for a StatusOr<T*>:; //; // StatusOr<Foo*> result = FooFactory::MakeNewFoo(arg);; // if (result.ok()) {; // std::unique_ptr<Foo> foo(result.ValueOrDie());; // foo->DoSomethingCool();; // } else {; // LOG(ERROR) << result.status();; // }; //; // Example client usage for a StatusOr<std::unique_ptr<T>>:; //; // StatusOr<std::unique_ptr<",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/statusor.h:1692,error,error,1692,third_party/nucleus/core/statusor.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/statusor.h,1,['error'],['error']
Availability,"""""""An I/O error.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sharded_file_utils.py:10,error,error,10,third_party/nucleus/io/sharded_file_utils.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sharded_file_utils.py,1,['error'],['error']
Availability,"""""""An exception used to signal file conversion error.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/converter.py:47,error,error,47,third_party/nucleus/io/converter.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/converter.py,1,['error'],['error']
Availability,"""""""Analyzes which differences belong to nearby variants and which do not. This attempts to identify putative nearby variants from the pileup image; alone, and then excludes these columns of the pileup to calculate the; remaining fraction of differences that may be attributed to sequencing errors. Args:; channels: A list of channels of a DeepVariant pileup image. This only uses; channels[5], the 'differs from ref' channel. Returns:; Two outputs: diff fraction, number of likely nearby variants.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vis.py:290,error,errors,290,third_party/nucleus/util/vis.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vis.py,1,['error'],['errors']
Availability,"""""""Approximately normalizes log10 probabilities. This function normalizes log10 probabilities. What this means is that we; return an equivalent array of probabilities but whereas sum(10^log10_probs) is; not necessarily 1.0, the resulting array is sum(10^result) ~= 1.0. The ~=; indicates that the result is not necessarily == 1.0 but very close. This function is a fast and robust approximation of the true normalization of; a log10 transformed probability vector. To understand the approximation,; let's start with the exact calculation. Suppose I have three models, each; emitting a probability that some data was generated by that model:. data = {0.1, 0.01, 0.001} => probabilities from models A, B, and C. These probabilities are unnormalized, in the sense that the total probability; over the vector doesn't sum to 1 (sum(data) = 0.111). In many applications we; want to normalize this vector so that sum(normalized(data)) = 1 and the; relative magnitudes of the original probabilities are preserved (i.e,:. data[i] / data[j] = normalized(data)[i] / normalized(data)[j]. for all pairs of values indexed by i and j. For much of the work we do in; genomics, we have so much data that representing these raw probability; vectors in real-space risks numeric underflow/overflow, so we instead; represent our probability vectors in log10 space:. log10_data = log10(data) = {-1, -2, -3}. Given that we expect numeric problems in real-space, normalizing this log10; vector is hard, because the standard way you'd do the normalization is via:. data[i] = data[i] / sum(data); log10_data[i] = log10_data[i] - log10(sum(10^data)). But computing the sum of log10 values this way is dangerous because the naive; implementation converts back to real-space to do the sum, the very operation; we're trying to avoid due to numeric instability. This function implements an approximate normalization, which relaxes the need; for an exact calculation of the sum. This function ensures that the; normalization is numer",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/genomics_math.py:374,robust,robust,374,third_party/nucleus/util/genomics_math.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/genomics_math.py,1,['robust'],['robust']
Availability,"""""""Base class for core error types.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/errors.py:23,error,error,23,third_party/nucleus/util/errors.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/errors.py,1,['error'],['error']
Availability,"""""""Base class for models that compute genotype likelihoods from an image. This class is intended for use anywhere in DeepVariant where we want to train; or evaluate a model that computes genotype likelihoods from a pileup image. A; bit of encapsulation helps us to try new models (beyond inception_v3) and unit; test our code. The base class cannot be used directly; concrete subclasses actually implement; specific models and all of the associated machinery to create/load/save; models. Attributes:; name: str. The name of this model, such as `inception_v3`.; pretrained_model_path: str. Path to a root checkpoint where we can start; training the model, if we are not starting from scratch.; supported_dimensions_message: str. A human-readable string containing info; about what image dimensions are supported by this model. E.g., ""only; widths between 42 and 189"".; use_tpu: bool or None. If True, we are executing the model on a TPU, False; if we are using some other hardware. If None, the execution hardware is; not yet known.; model_dir: str or None. The path to the location where model checkpoint are; being stored. If None, the path hasn't been set yet or is unknown.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:604,checkpoint,checkpoint,604,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,2,['checkpoint'],['checkpoint']
Availability,"""""""Base error class.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/sequence_utils.py:8,error,error,8,third_party/nucleus/util/sequence_utils.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/sequence_utils.py,1,['error'],['error']
Availability,"""""""Computes the confidence that a site in the genome has no variation. Computes this confidence using only the counts of the number of reads; supporting the reference allele and the total number of reads at this site. See: https:www.broadinstitute.org/gatk/guide/article?id=4017 for; background. Computes the reference confidence for site allele_count. Examines the number of reference supporting and alternate supporting reads; in allele_count and estimates the genotype likelihoods and confidence that; this site is homozygous reference. These values are written into the first; VariantCall record of variant, into the repeated field genotype_likelihood; and the map field GQ. The genotype likelihoods are computed against any possible alternative; allele, the so-called <*> allele, which boils down to a model that looks; like:. log10_p_ref = (1 - p_error)^(ref_n) (p_error)^(non_ref_n); log10_p_het = (0.5)^(total_n); log10_p_hom_alt = (p_e)^(ref_n) (1 - p_error)^(non_ref_n). ref_n is the number of reference supporting reads and non_ref_n is the sum; of any reads supporting any alternate alleles. Non-informative reads are; excluded from the calculation. and written in as the normalized log10 values so that:. sum(10^genotype_likelihoods) = 1. The GQ, according to the VCF specification, is the conditional genotype; quality, encoded as a phred quality -10 * log10 p(genotype call is wrong,; conditioned on the site's being variant, as an integer. See:; https:samtools.github.io/hts-specs/VCFv4.3.pdf; We are calculating the GQ not for the best genotype, but the GQ of the 0/0; genotype, regardless of the likelihoods.; 1 = pRR + pRA + pAA; [R is reference, A=<*> is any alternative alternative]; GQ of 0/0 = -10 * log10(pRA + pAA) [prob that any other differen genotype]; = -10 * log10(1 - pRR) [substitution from the previous equation]; Here we don't have pRR directly, but rather log10(pRR). Args:; n_ref: int >= 0 and <= n_total: The number of reads supporting the; reference allele.; n_to",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_caller.py:797,down,down,797,deepvariant/variant_caller.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_caller.py,1,['down'],['down']
Availability,"""""""Copies the .egg-info directory to the specified location. Args:; dest_dir: str. The destination directory. Returns:; 0 on success, 1 on failure.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/pip_package/setup.py:139,failure,failure,139,third_party/nucleus/pip_package/setup.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/pip_package/setup.py,1,['failure'],['failure']
Availability,"""""""Creates a list of SamReaders, one from each filename. Args:; reads_filenames: A list of string read filenames (e.g. for BAM/CRAM; files). The list may contain empty strings or None, which will be; skipped.; downsample_fraction: Fraction by which to downsample. This applies to each; file in reads_filenames separately. Returns:; A list of sam readers with handles to the files. This may be shorter than; the input reads_filenames if any of the filenames were empty.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py:252,down,downsample,252,deepvariant/make_examples_core.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py,1,['down'],['downsample']
Availability,"""""""Creates an DeepVariant CNN network based on a tf.slim model. Args:; name: see baseclass.; pretrained_model_path: see baseclass.; n_classes_model_variable: str. A fully-qualitified TF variable name in the; model that we can use to determine the shape of the output; classification layer of the model. For example, in inception-v3 from; slim this is 'InceptionV3/Logits/Conv2d_1c_1x1/weights'.; excluded_scopes_for_incompatible_classes: set of str. A set of scopes that; will be excluded when restoring from a checkpoint to avoid loading; incompatible #classes.; excluded_scopes_for_incompatible_channels: set of str. A set of scopes; that will be excluded when restoring from a checkpoint to avoid loading; incompatible #channels. Raises:; ValueError: If any of the arguments are invalid.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:511,checkpoint,checkpoint,511,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,2,['checkpoint'],['checkpoint']
Availability,"""""""Describes a pileup image by its diff channel, including nearby variants. Returns Diff.MANY_DIFFS if the fraction of differences outside potential; nearby variants is above the diff_fraction_threshold, which is usually; indicative of sequencing errors. Otherwise return Diff.NEARBY_VARIANTS if; there are five or more of these, or Diff.FEW_DIFFS if neither of these; special cases apply. Args:; channels: A list of channels of a DeepVariant pileup image. This only uses; channels[5], the 'differs from ref' channel.; diff_fraction_threshold: Fraction of total bases of all reads that can; differ, above which the pileup will be designated as 'many_diffs'.; Differences that appear due to nearby variants (neater columns) do not; count towards this threshold. The default is set by visual curation of; Illumina reads, so it may be necessary to increase this for higher-error; sequencing types. Returns:; One Diff value.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vis.py:247,error,errors,247,third_party/nucleus/util/vis.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vis.py,2,['error'],"['error', 'errors']"
Availability,"""""""Determine the number of channels from a checkpoint path.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py:43,checkpoint,checkpoint,43,deepvariant/keras_modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py,1,['checkpoint'],['checkpoint']
Availability,"""""""Determines the sample name to be used for the output VCF and gVCF. We check the following sources to determine the sample name and use the first; name available:; 1) CallVariantsOutput; 2) nonvariant site TFRecords; 3) --sample_name flag; 4) default sample name. Returns:; sample_name used when writing the output VCF and gVCF.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py:154,avail,available,154,deepvariant/postprocess_variants.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py,1,['avail'],['available']
Availability,"""""""Determines the set of allele mismatch discordances between evalv and truev. Compares the alleles present in evalv and truev to determine if there are any; disagreements between the set of called alleles in the two Variant protos. The; type of differences basically boil down to:. -- Are there duplicate alt alleles?; -- Can we find a matching allele in the truev for each allele in evalv, and; vice versa?. Two alleles A and B match when they would produce the same sequence of bases; in ref and alt haplotypes starting at the same position. So CA=>TA is the same; as C=>T (position is the same, replacing A by A is a noop) but AC=>AT isn't; the same as C=>T because the former event changes bases 1 bp further along in; the reference genome than the C=>T allele. Args:; evalv: A nucleus.genomics.v1.Variant.; truev: A nucleus.genomics.v1.Variant. Returns:; A set of AlleleMismatchType values.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils.py:273,down,down,273,third_party/nucleus/util/variant_utils.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils.py,1,['down'],['down']
Availability,"""""""Find image type based on array dimensions. Raises error on invalid image dimensions.; Args:; arr: numpy array. Input array. Returns:; str. ""RGB"" or ""L"", meant for PIL.Image.fromarray.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vis.py:53,error,error,53,third_party/nucleus/util/vis.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vis.py,1,['error'],['error']
Availability,"""""""Get a truth variant matching variant. A matching variant is defined here as one that starts at the same position; on the genome as variant. The best match is then narrowed down by finding; the variant with a matching alt allele, if it exists, otherwise the first; matching variant is used regardless of alt alleles. This allows the client; to make decisions on how to translate a matched between variant and; truth_variant into a label (e.g. by comparing the alleles). If multiple variants are detected, this code will attempt to find the best; match by comparing to `variant`. Note that some simplification of alleles; are applied first before we compare. For example, 'GAAA->GAA' should be the; same as 'GA->G'. If no good matches are detected, the logic currently falls; back to the first element in matches. Args:; variant: Our candidate third_party.nucleus.protos.Variant variant. Returns:; A tuple of (match_status, truth_variant) where match_status is True if; we are confident in our truth_variant call or False if not. truth_variant; is a third_party.nucleus.protos.Variant object of; the truth variant that matched; variant, or None if none was found and we aren't confident in being; hom-ref here, or a synthetic variant with the same position and alleles as; variant but with a hom-ref genotype.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/positional_labeler.py:175,down,down,175,deepvariant/labeler/positional_labeler.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/positional_labeler.py,1,['down'],['down']
Availability,"""""""Gets allele frequency of the index-th alt_base of a Variant proto. Args:; variant: A Variant proto.; index: The index where we want to query allele frequency. Returns:; A float. The queried allele frequency. Raises:; ValueError: If the Variant proto does not include 'AF' field or the 'AF'; field encounters an out-of-bound error when querying at position `index`; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allele_frequency.py:327,error,error,327,deepvariant/allele_frequency.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allele_frequency.py,1,['error'],['error']
Availability,"""""""Gets reads overlapping the region. Args:; region: A nucleus.genomics.v1.Range object specifying the region we want; to query reads.; sam_readers: An iterable of sam.SamReader to query from.; reads_filenames: Filenames matching sam_readers. This is only used for; throwing more informative error messages. Returns:; [genomics.deepvariant.core.genomics.Read], reads overlapping the region.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py:292,error,error,292,deepvariant/make_examples_core.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py,1,['error'],['error']
Availability,"""""""Gets the frequency in MHz of the cpus in this machine. Returns:; float > 0 if the call to get the cpu_frequency succeeded. This information; may not be available on all systems, in which case we return 0.0.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/resources.py:155,avail,available,155,deepvariant/resources.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/resources.py,1,['avail'],['available']
Availability,"""""""Gets the list of model variables that should be restored. The primary use of this function is to get a subset of tf.Variables from a; slim-defined model that we'd like to restore from a checkpoint. The; checkpoint generally contains all of the variables in the graph during; training, including things like the backprop variables, moving averages for; visualization, etc. Simply restoring all of those variables is brittle, as; we often want to start a new training run, maybe using a different; optimizer, different visualization variables, or replacing part of the model; with a new classification layer, as unneeded variables from the checkpoint; get loaded into the graph and/or new TF variables not present in the graph; cannot be found, raising exceptions. This function allows a clean API to get; just the *model* variables from a graph, excluding all of those non-model; variables, along with optionally removing parts of the model graph via; exclude scopes. This function calls slim.get_model_variables() to get the raw list of all; variables associated with the MODEL_VARIABLES collection. It then filters; away all variables that match any of the scopes in exclude_scopes. For; example, suppose we have a model with three variables with names:. w1 = model/l1/weight1; w2 = model/l2/weight2; w3 = model/l2/weight3. Without any exclude scopes, we would return these three variables [w1, w2,; and w3]. Providing exclude_scopes=['model/l2'] would return only [w1], while; exclude_scopes=['model/l1'] would return [w2, w3]. Args:; exclude_scopes: None, or a list of strings. Each string is a scope; specification, such as ""model/l1"" to match all variables whose name; starts with ""model/l1"". Returns:; A list of tf.Variable objects.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:189,checkpoint,checkpoint,189,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,3,['checkpoint'],['checkpoint']
Availability,"""""""Gets truth variants within region to use in labeling calculations. This function queries _truth_vcf_reader in region to get a complete list of; truth variants that overlap region, and then filters them down by removing; filtered truth variants and ones that aren't contained in the truth; intervals. Args:; region: nucleus.Range proto describing the region on the genome where we; want to get our truth variants. Yields:; nucleus.Variant proto.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/variant_labeler.py:205,down,down,205,deepvariant/labeler/variant_labeler.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/variant_labeler.py,1,['down'],['down']
Availability,"""""""Hook to load EMA into their corresponding variables. This looks for the latest checkpoint in the model dir.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:82,checkpoint,checkpoint,82,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['checkpoint'],['checkpoint']
Availability,"""""""Hook to load EMA into their corresponding variables. This reads the specified checkpoint.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:81,checkpoint,checkpoint,81,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['checkpoint'],['checkpoint']
Availability,"""""""Initializes a checkpoint manager, and restores a checkpoint if one exists. Args:; config: Training configuration.; model_dir: Where model is stored.; model: a tf Model.; optimizer: A tf Optimizer.; strategy: Distribution strategy. Returns:; The state as `tf.train.Checkpoint`. This includes the `model` (network),; the `optimizer`, metrics (train and tune), and the `global_step` variable.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py:17,checkpoint,checkpoint,17,deepvariant/keras_modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py,3,"['Checkpoint', 'checkpoint']","['Checkpoint', 'checkpoint']"
Availability,"""""""Initializes the model and gathers parameters. Args:; example_info_json: Path to json file containing example shape.; checkpoint_path: Path to model checkpoint. Returns:; An initialized model.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/convert_to_saved_model.py:151,checkpoint,checkpoint,151,deepvariant/convert_to_saved_model.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/convert_to_saved_model.py,1,['checkpoint'],['checkpoint']
Availability,"""""""Library of application-specific errors.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/errors.py:35,error,errors,35,third_party/nucleus/util/errors.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/errors.py,1,['error'],['errors']
Availability,"""""""Logs the given message at ERROR level and raises exception. Args:; msg: [`string`]. The message to log and use in the raised exception.; exception_class: [`Exception`]. The class of exception to raise. Raises:; Error: An exception of the type specified by the input exception_class.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/errors.py:29,ERROR,ERROR,29,third_party/nucleus/util/errors.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/errors.py,2,"['ERROR', 'Error']","['ERROR', 'Error']"
Availability,"""""""Raises an error if a slow protobuf implementation is being used.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/proto_utils.py:13,error,error,13,third_party/nucleus/util/proto_utils.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/proto_utils.py,1,['error'],['error']
Availability,"""""""Return the path to the model checkpoint based on the input args.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deepsomatic.py:32,checkpoint,checkpoint,32,scripts/run_deepsomatic.py,,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deepsomatic.py,3,['checkpoint'],['checkpoint']
Availability,"""""""Return true if a TPU device is available to the default session.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_utils.py:34,avail,available,34,deepvariant/dv_utils.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_utils.py,1,['avail'],['available']
Availability,"""""""Returns a new tf.estimator.Estimator object for training or prediction. The estimator needs to know batch_size. We use the same value for all; of eval, train, and predict. The estimator will automatically save; checkpoints to model_dir and keep the specified number of them. The value; of iterations_per_loop is not critical, and we default to the recommended; value. Some optional arguments are only required for use with TPU. This function will use self.model_fn and self.use_tpu when constructing the; model specific Estimator object. Estimators are also sometimes called classifiers. Args:; batch_size: the batch size to use (for TRAIN, EVAL, and PREDICT modes).; model_dir: an (optional) string directory to use as the model directory.; max_checkpoints_to_keep: an (optional) integer count of saved checkpoints.; iterations_per_loop: an (optional) integer count of log_step_count_steps.; params: an (optional) dictionary of parameters to pass to the Estimator; constructor.; unused_device_fn: a device_fn to pass to RunConfig, if not use_tpu.; master: a string necessary for TPU, pass FLAGS.master through.; use_tpu: boolean. set self.use_tpu if not None.; start_from_checkpoint: string. If not None, initialize model from this; path. According to the current implementation of Estimator, this will; only be used in training. The inference checkpoint is loaded in a; different place.; session_config: a tf.ConfigProto to pass to RunConfig, if not use_tpu.; include_debug_info: from call_variants. If True, PREDICT mode will include; extra info such as logits and prelogits. Returns:; an object implementing the tf.estimator.Estimator interface (will be a; TPUEstimator if self.use_tpu is True).; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:214,checkpoint,checkpoints,214,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,3,['checkpoint'],"['checkpoint', 'checkpoints']"
Availability,"""""""Returns an InceptionV3 architecture. See https://tensorflow.org/api_docs/python/tf/keras/applications/InceptionV3. Args:; input_shape: a 3-tuple describing the input shape.; weights: str. To initial weights from.; init_backbone_with_imagenet: If True, get a model with InceptionV3 that has; `weights='imagenet'` to start with. This will download a model. It should; be set to False in unit tests, or when specific model weights will be; loaded afterwards.; config: a model configuration. Returns:; An InceptionV3-based model.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py:340,down,download,340,deepvariant/keras_modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py,1,['down'],['download']
Availability,"""""""Returns the number of classes in the checkpoint.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_utils.py:40,checkpoint,checkpoint,40,deepvariant/dv_utils.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_utils.py,1,['checkpoint'],['checkpoint']
Availability,"""""""Returns the reverse complement of a DNA sequence. By default this will successfully reverse complement sequences comprised; solely of A, C, G, and T letters. Other complement dictionaries can be; passed in for more permissive matching. Args:; sequence: str. The input sequence to reverse complement.; complement_dict: dict[str, str]. The lookup dictionary holding the; complement base pairs. Returns:; The reverse complement DNA sequence. Raises:; Error: The sequence contains letters not present in complement_dict.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/sequence_utils.py:451,Error,Error,451,third_party/nucleus/util/sequence_utils.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/sequence_utils.py,1,['Error'],['Error']
Availability,"""""""Returns the shape of each tensor in the model at checkpoint_path. Args:; checkpoint_path: string. The path to a tensorflow checkpoint containing a; model whose tensor shapes we want to get.; variables_to_get: options, list of strings. If provided, only returns the; shapes of tensors in variables whose name is present in this list. If; None, the default, gets all of the tensors. A KeyError will be raised if; any variable name in variables_to_get isn't present in the checkpointed; model. Returns:; A dictionary mapping variable names [string] to tensor shapes [tuple].; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_utils.py:126,checkpoint,checkpoint,126,deepvariant/dv_utils.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_utils.py,2,['checkpoint'],"['checkpoint', 'checkpointed']"
Availability,"""""""Runs all 3 steps to go from input DNA reads to output VCF/gVCF files. This script currently provides the most common use cases and standard models.; If you want to access more flags that are available in `make_examples`,; `call_variants`, and `postprocess_variants`, you can also call them separately; using the binaries in the Docker image. For more details, see:; https://github.com/google/deepvariant/blob/r1.6.1/docs/deepvariant-quick-start.md; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deepvariant.py:194,avail,available,194,scripts/run_deepvariant.py,,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deepvariant.py,1,['avail'],['available']
Availability,"""""""Runs all 3 steps to go from input DNA reads to output VCF/gVCF files. This script is used to run DeepSomatic, which is an extension of DeepVariant.; If you want to access more flags that are available in `make_examples_somatic`,; `call_variants`, and `postprocess_variants`, you can also call them separately; using the binaries in the Docker image. DeepSomatic is not officially supported or released yet. This script does not; include a released model yet.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deepsomatic.py:194,avail,available,194,scripts/run_deepsomatic.py,,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deepsomatic.py,1,['avail'],['available']
Availability,"""""""Runs all 3 steps to go from input DNA reads_child to output VCF/gVCF files. This script currently provides the most common use cases and standard models.; If you want to access more flags that are available in `make_examples`,; `call_variants`, and `postprocess_variants`, you can also call them separately; using the binaries in the Docker image.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deeptrio.py:200,avail,available,200,scripts/run_deeptrio.py,,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deeptrio.py,1,['avail'],['available']
Availability,"""""""Simplifies alleles by stripping off common postfix bases. For example, simplify(""AC"", ""GC"") would produce the tuple ""A"", ""G"" as the ""C""; base is a common postfix of both alleles. But simplify(""AC"", ""GT"") would; produce ""AC"", ""GT"" as there is no common postfix. Note this function will never simplify any allele down to the empty string. So; if alleles = ['CACA', 'CA'], the longest common postfix is 'CA' but we will; not produce ['CA', ''] as this is an invalid Variant allele encoding. Instead; we produce ['CAC', 'C']. Args:; *alleles: A tuple of bases, each as a string, to simplify. Returns:; A tuple, one for each allele in alleles in order, with any common postfix; bases stripped off.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils.py:314,down,down,314,third_party/nucleus/util/variant_utils.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils.py,1,['down'],['down']
Availability,"""""""Test that we get the right error when the plugin cannot load.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/genomics_io_noplugin_test.py:30,error,error,30,third_party/nucleus/io/genomics_io_noplugin_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/genomics_io_noplugin_test.py,1,['error'],['error']
Availability,"""""""Tests error is raised when complement_dict does not cover given seq.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/sequence_utils_test.py:9,error,error,9,third_party/nucleus/util/sequence_utils_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/sequence_utils_test.py,1,['error'],['error']
Availability,"""""""Tests for third_party.nucleus.util.errors.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/errors_test.py:38,error,errors,38,third_party/nucleus/util/errors_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/errors_test.py,1,['error'],['errors']
Availability,"""""""Timer Error Exception.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/vendor/timer.py:9,Error,Error,9,deepvariant/vendor/timer.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/vendor/timer.py,1,['Error'],['Error']
Availability,"""""""Trim a read down to the part that aligns within a given region. The following properties of the read are updated, trimming on both sides as; necessary to save only the parts of the read that fit fully within the; region, potentially starting and ending at the region's boundaries:; - The alignment position (read.alignment.position.position).; - The read sequence (read.aligned_sequence).; - Base qualities (read.aligned_quality).; - The cigar string of the alignment (read.alignment.cigar). Args:; read: A `nucleus.protos.Read` that is aligned to the region.; region: A `nucleus.protos.Range` region. Returns:; a new `nucleus.protos.Read` trimmed to the region.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner.py:15,down,down,15,deepvariant/realigner/realigner.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner.py,1,['down'],['down']
Availability,"""""""Utility functions for working with alignment CIGAR operations. The CIGAR format is defined within the SAM spec, available at; https://samtools.github.io/hts-specs/SAMv1.pdf. This module provides utility functions for interacting with the parsed; representations of CIGAR strings.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/cigar.py:115,avail,available,115,third_party/nucleus/util/cigar.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/cigar.py,1,['avail'],['available']
Availability,"""""""Wraps commands to capture certain exceptions and exit without stacktraces. This function is intended to wrap all code within main() of Python binaries; to provide a mechanism for user errors to exit abnormally without causing; exceptions to be thrown. Any exceptions that are subclasses of those listed; in `allowed_exceptions` will be caught and the program will quietly exit with; `exit_value`. Other exceptions are propagated normally. NOTE: This function should only be used as a context manager and its usage; should be limited to main(). Args:; allowed_exceptions: [`tuple of Exception`]. A tuple of Exception classes; that should not be raised, but instead quietly caused to exit the program.; exit_value: [`int`]. The value to return upon program exit. Yields:; The yield in this function is used to allow the block nested in the ""with""; statement to be executed.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/errors.py:187,error,errors,187,third_party/nucleus/util/errors.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/errors.py,1,['error'],['errors']
Availability,"""""""Yields the candidate variants whose type is one of select_variant_types. This function iterates through candidates and yield each candidate in order; if it satisfies any of the type constraints implied by select_variant_types.; For example, if select_variant_types = ['snps'] this function will yield; candidates that are bi-allelic SNPs only. Multiple select types are treated; as OR'd together, so ['snps', 'indels'] yields candidates that are bi-allelic; SNPs or indels. Args:; candidates: Iterable of Variant protos. The candidates we want to select; from.; select_variant_types: List of str. The names of the variant type selectors; we want to use to keep/remove variants. Each string must be part of; VARIANT_TYPE_SELECTORS or an error will be raised. Raises:; ValueError: if any str in select_variant_types isn't present in; VARIANT_TYPE_SELECTORS. Yields:; Candidates in order.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py:739,error,error,739,deepvariant/make_examples_core.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py,1,['error'],['error']
Availability,"""""""Yields the set of all alt_alleles for variant. This function computes the sets of alt_alleles we want to use to cover all; genotype likelihood calculations we need for n alt alleles (see class docs; for background). The easiest way to do this is to calculate all combinations; of 2 alleles from ref + alts and then strip away the reference alleles,; leaving us with the set of alts for the pileup image encoder. The sets are; converted to sorted lists at the end for downstream consistency. Args:; variant: third_party.nucleus.protos.Variant to generate the alt allele; combinations for. Yields:; A series of lists containing the alt alleles we want to use for a single; pileup image. The entire series covers all combinations of alt alleles; needed for variant. Raises:; ValueError: if options.multi_allelic_mode is UNSPECIFIED.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_image.py:470,down,downstream,470,deepvariant/pileup_image.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_image.py,1,['down'],['downstream']
Availability,"""""""keras_modeling.inceptionv3 can load weights (even different #channels). Args:; checkpoint_weights_shape: The shape of the weights (checkpoint) file.; input_shape: The shape of the model we're training now.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling_test.py:134,checkpoint,checkpoint,134,deepvariant/keras_modeling_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling_test.py,1,['checkpoint'],['checkpoint']
Availability,"# ================= #; # Setup Checkpoint #; # ================= #; # The state object allows checkpointing of the model and associated variables; # for the optimizer, step, and train/tune metrics.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train.py:31,Checkpoint,Checkpoint,31,deepvariant/train.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train.py,2,"['Checkpoint', 'checkpoint']","['Checkpoint', 'checkpointing']"
Availability,"# After training completes, load the latest checkpoint and create; # a saved model (.pb) and keras model formats.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train.py:44,checkpoint,checkpoint,44,deepvariant/train.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train.py,1,['checkpoint'],['checkpoint']
Availability,"# C++ CLIF functions:; #; # We are enumerating the C++ functions exported by python/math.clif here, so; # it's clear to people what functions are available in python without digging; # into the raw python/C++ CLIF code.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/genomics_math.py:146,avail,available,146,third_party/nucleus/util/genomics_math.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/genomics_math.py,1,['avail'],['available']
Availability,"# Check for missing GT in VCF to avoid a confusing error downstream.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/vcf_stats_report.py:51,error,error,51,deepvariant/vcf_stats_report.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/vcf_stats_report.py,2,"['down', 'error']","['downstream', 'error']"
Availability,"# Chr3 isn't part of our contigs; make sure we tolerate it.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core_test.py:47,toler,tolerate,47,deepvariant/make_examples_core_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core_test.py,1,['toler'],['tolerate']
Availability,"# Copy example_info.json to checkpoint path.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train.py:28,checkpoint,checkpoint,28,deepvariant/train.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train.py,1,['checkpoint'],['checkpoint']
Availability,"# Create a model and save it to a checkpoint. Then test whether we can; # detect its number of channels correctly.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling_test.py:34,checkpoint,checkpoint,34,deepvariant/keras_modeling_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling_test.py,2,['checkpoint'],['checkpoint']
Availability,"# Define available OptChannels (optional extra channels).",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_constants.py:9,avail,available,9,deepvariant/dv_constants.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_constants.py,1,['avail'],['available']
Availability,"# Deletion overlapping two downstream events (SNP and insertion):; # ref: xTGC; # v1: A--; # v2: C; # v3: TTT",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py:27,down,downstream,27,deepvariant/labeler/haplotype_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py,1,['down'],['downstream']
Availability,"# Different shapes of input images should raise error.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_image_test.py:48,error,error,48,deepvariant/pileup_image_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_image_test.py,2,['error'],['error']
Availability,"# Don't use accelerators, even if available.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants.py:34,avail,available,34,deepvariant/call_variants.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants.py,2,['avail'],['available']
Availability,"# Exclude potential variants when calculating error fraction.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vis.py:46,error,error,46,third_party/nucleus/util/vis.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vis.py,1,['error'],['error']
Availability,"# For 'candidate_sweep' mode, it won't create examples, so we just aim; # to run it through without errors.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_test.py:100,error,errors,100,deepvariant/make_examples_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_test.py,1,['error'],['errors']
Availability,"# For tests that don't actually want to read a real checkpoint,; # return a fake one. The estimator understands None to mean; # that all the variables should be left uninitialized.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_slim_test.py:52,checkpoint,checkpoint,52,deepvariant/call_variants_slim_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_slim_test.py,1,['checkpoint'],['checkpoint']
Availability,"# Fully covered reference contigs don't trigger an error.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core_test.py:51,error,error,51,deepvariant/make_examples_core_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core_test.py,1,['error'],['error']
Availability,"# If GPU is available then use all CPUs for writing.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants.py:12,avail,available,12,deepvariant/call_variants.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants.py,1,['avail'],['available']
Availability,"# If init_checkpoint or init_backbone_with_imagenet is specified, then we; # don't want to re-initialie or restore the checkpoint as this will; # overwrite the init_checkpoint weights.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py:119,checkpoint,checkpoint,119,deepvariant/keras_modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py,1,['checkpoint'],['checkpoint']
Availability,"# If the checkpoint doesn't exist, return none.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_utils_test.py:9,checkpoint,checkpoint,9,deepvariant/dv_utils_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_utils_test.py,1,['checkpoint'],['checkpoint']
Availability,"# If the class variable name doesn't existin the checkpoint, return None.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_utils_test.py:49,checkpoint,checkpoint,49,deepvariant/dv_utils_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_utils_test.py,1,['checkpoint'],['checkpoint']
Availability,"# If we didn't detect the error, make sure we actually still parsed the; # read itself.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_test.py:26,error,error,26,third_party/nucleus/io/sam_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_test.py,1,['error'],['error']
Availability,"# It looks like tf.data.Dataset.list_files is potentially nondeterministic.; # There's no guaranteed way to get around that (yet, internal).; # A list_files() flag I want is only available in tf 1.7,; # so for the short term, work around the problem by asking; # self.assertTfDataSetExamplesMatchExpected to sort the; # loci it sees. That doesn't generalize well, but we should; # be able to fix this soon.; # pylint: disable=g-complex-comprehension",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers_test.py:179,avail,available,179,deepvariant/data_providers_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers_test.py,1,['avail'],['available']
Availability,"# Loop over variables in the checkpoint.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py:29,checkpoint,checkpoint,29,deepvariant/keras_modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py,1,['checkpoint'],['checkpoint']
Availability,"# Make sure code is robust to minor numerical issues where the sum of; # the vector isn't exactly 1.0.; # This vector sums to ~1.0, minus any parsing uncertainty, and will; # return a GQ of 40 but a qual of MAX_QUAL.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants_test.py:20,robust,robust,20,deepvariant/postprocess_variants_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants_test.py,1,['robust'],['robust']
Availability,"# Maximum length of partition in bases. It is limited by available memory.; # TODO: For better flexibility it may be benefitial to expose it as a; # flag.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py:57,avail,available,57,deepvariant/make_examples_core.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py,1,['avail'],['available']
Availability,"# Model checkpoint:",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/convert_to_saved_model.py:8,checkpoint,checkpoint,8,deepvariant/convert_to_saved_model.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/convert_to_saved_model.py,1,['checkpoint'],['checkpoint']
Availability,"# Must be hardware acceleration or an error will be raised.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants.py:38,error,error,38,deepvariant/call_variants.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants.py,2,['error'],['error']
Availability,"# Optimized following:; # https://www.tensorflow.org/guide/performance/datasets; # using the information available from xprof.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py:105,avail,available,105,deepvariant/data_providers.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py,1,['avail'],['available']
Availability,"# Passing a string to a TPU draws this error: TypeError: <dtype:; # 'string'> is not a supported TPU infeed type. Supported types are:; # [tf.float32, tf.int32, tf.complex64, tf.int64, tf.bool, tf.bfloat16]; # Thus, we must encode the string as a tensor of int.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py:39,error,error,39,deepvariant/data_providers.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py,1,['error'],['error']
Availability,"# Report current checkpoint state.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py:17,checkpoint,checkpoint,17,deepvariant/keras_modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py,1,['checkpoint'],['checkpoint']
Availability,"# Saves a checkpoint.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_utils_test.py:10,checkpoint,checkpoint,10,deepvariant/dv_utils_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_utils_test.py,2,['checkpoint'],['checkpoint']
Availability,"# See if GPU is available",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants.py:16,avail,available,16,deepvariant/call_variants.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants.py,1,['avail'],['available']
Availability,"# Sentinel command line flag value indicating no downsampling should occur.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples.py:49,down,downsampling,49,deeptrio/make_examples.py,,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples.py,4,['down'],['downsampling']
Availability,"# Setup our make_variant_caller and downstream mocks.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core_test.py:36,down,downstream,36,deepvariant/make_examples_core_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core_test.py,1,['down'],['downstream']
Availability,"# Start with long prefix and suffix to enable cutting it down as necessary",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner_test.py:57,down,down,57,deepvariant/realigner/realigner_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner_test.py,1,['down'],['down']
Availability,"# TODO: check the following cases:; # no_class_status; # invalid_class_status; # (Value error should be produced in both cases)",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/customized_classes_labeler_test.py:88,error,error,88,deepvariant/labeler/customized_classes_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/customized_classes_labeler_test.py,1,['error'],['error']
Availability,"# Test conversion from tfrecord format back to native format. Ensure that; # conversions where we would need a header, but don't have one from the; # input, trigger an error message.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/converter_test.py:168,error,error,168,third_party/nucleus/io/converter_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/converter_test.py,1,['error'],['error']
Availability,"# Test reading with a larger batch size. Similar to testInputStream,; # but note that the last batch may be truncated when not in predict mode,; # so current_batch_size has to be recovered from the actual output.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers_test.py:179,recover,recovered,179,deepvariant/data_providers_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers_test.py,1,['recover'],['recovered']
Availability,"# Test that it runs without error.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vis_test.py:28,error,error,28,third_party/nucleus/util/vis_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vis_test.py,2,['error'],['error']
Availability,"# The following two classes support loading exponential moving averages into; # their corresponding variables when a checkpoint is loaded. They're called; # as hooks by the Estimators. Note for future work: this is the documented; # way, but someone on the mailing list suggested that using the scaffold_fn; # mechanism might be better.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:117,checkpoint,checkpoint,117,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['checkpoint'],['checkpoint']
Availability,"# The latest checkpoint will be the best performing checkpoint.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train.py:13,checkpoint,checkpoint,13,deepvariant/train.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train.py,2,['checkpoint'],['checkpoint']
Availability,"# There are 45 total reads if we don't downsample.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_test.py:39,down,downsample,39,third_party/nucleus/io/sam_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_test.py,1,['down'],['downsample']
Availability,"# This calls tf.io.gfile.Glob, which will raise errors.OpError,; # at least on a Posix filesystem. Other filesystems might; # not fail like that, and will return an empty list, which; # is turned into a different exception.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_utils_test.py:48,error,errors,48,deepvariant/dv_utils_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_utils_test.py,1,['error'],['errors']
Availability,"# This is only a simple test that it runs without errors.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py:50,error,errors,50,deeptrio/make_examples_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py,1,['error'],['errors']
Availability,"# This shows an example of what the error message looks like:; # TODO: OpError exception not propagated.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_test.py:36,error,error,36,deepvariant/make_examples_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_test.py,1,['error'],['error']
Availability,"# This step is harder to do directly from `weights`, or even the Checkpoint; # file format. So, create a `input_model` with expected #chanenls, load; # the weights, and then post-process.; # Improve later if possible: find a more readable alternative for this.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py:65,Checkpoint,Checkpoint,65,deepvariant/keras_modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py,1,['Checkpoint'],['Checkpoint']
Availability,"# This test should not throw any errors when retrieving the model; # and it's corresponding preprocess function.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling_test.py:33,error,errors,33,deepvariant/keras_modeling_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling_test.py,1,['error'],['errors']
Availability,"# Training on parent2 in a duo is not supported (with a clear error; # message).",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py:62,error,error,62,deeptrio/make_examples_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py,1,['error'],['error']
Availability,"# Use maximum _MAX_WRITER_THREADS threads, this is to lower the overhead of; # spinning up and shutting down many processes.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants.py:104,down,down,104,deepvariant/call_variants.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants.py,1,['down'],['down']
Availability,"# We add a row for each read in order, down-sampling if the number of; # reads is greater than the max reads for each sample. Sort the reads by; # their alignment position.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_image.py:39,down,down-sampling,39,deepvariant/pileup_image.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_image.py,1,['down'],['down-sampling']
Availability,"# We don't actually use classes downstream right now.; # 'classes': tf.argmax(input=logits, axis=1, output_type=tf.int32),",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:32,down,downstream,32,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['down'],['downstream']
Availability,"# We unfortunately cannot make sure that read_bytes and write_bytes is; # greater than zero, so these tests are commented out.; # self.assertGreater(metrics.read_bytes, 0); # self.assertGreater(metrics.write_bytes, 0); # CPU frequency may not be available on all systems, so the value is; # either a real frequency (> 0) or the magic value of 0.0 indicating that; # the value could not be determined.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/resources_test.py:246,avail,available,246,deepvariant/resources_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/resources_test.py,1,['avail'],['available']
Availability,"# We want to raise an error on exit, so nothing to do in context.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/bed_writer_wrap_test.py:22,error,error,22,third_party/nucleus/io/python/bed_writer_wrap_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/bed_writer_wrap_test.py,4,['error'],['error']
Availability,"# With 6 channel names, it should run without error:",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/show_examples_test.py:46,error,error,46,deepvariant/show_examples_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/show_examples_test.py,1,['error'],['error']
Availability,"# checkpoint.restore(; # checkpoint_path; # ).expect_partial().assert_existing_objects_matched()",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/convert_to_saved_model.py:2,checkpoint,checkpoint,2,deepvariant/convert_to_saved_model.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/convert_to_saved_model.py,1,['checkpoint'],['checkpoint']
Availability,"# get() here to be robust when we are in eval mode and batches_per_epoch; # hasn't been provided. In eval mode, model_fn_train will return without; # doing anything.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:19,robust,robust,19,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['robust'],['robust']
Availability,"# model.load_weights(checkpoint_path).expect_partial(); # checkpoint = tf.train.Checkpoint(model=model); # Note that the `print_model_summary` is necessary because we need to run a; # forward pass with the model in order for assert_existing_objects_matched to; # work as expected. If you don't do this, then assert_existing_objects_matched; # will not raise an error even if the wrong checkpoint is used.; # Some context here: internal.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/convert_to_saved_model.py:58,checkpoint,checkpoint,58,deepvariant/convert_to_saved_model.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/convert_to_saved_model.py,4,"['Checkpoint', 'checkpoint', 'error']","['Checkpoint', 'checkpoint', 'error']"
Availability,"# pylint: enable=g-complex-comprehension; # assertLen not available OSS.; # pylint: disable=g-generic-assert",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers_test.py:58,avail,available,58,deepvariant/data_providers_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers_test.py,1,['avail'],['available']
Availability,"// -1 indicates error here.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.cc:16,error,error,16,third_party/nucleus/io/sam_reader.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.cc,1,['error'],['error']
Availability,"// According to htslib docs, faidx_fetch_seq c_name is the contig name,; // start is the first base (zero-based) to include and end is the last base; // (zero-based) to include. Len is an output variable returning the length; // of the fetched region, -2 c_name not present, or -1 for a general error.; // The returned pointer must be freed. We need to subtract one from our end; // since end is exclusive in GenomeReference but faidx has an inclusive one.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference.cc:295,error,error,295,third_party/nucleus/io/reference.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference.cc,1,['error'],['error']
Availability,"// Adds kmers from bases starting at start and stopping at end. We add a kmer; // at each i from start to end (inclusive), and edges between all sequential; // kmers. Since the first kmer spans k bases starting at start, start + k must; // be <= bases.size(). Since the last kmer we add starts at end and is k bases; // long, end + k <= bases.size() as well. Note that this function tolerates; // end < 0, which causes the code to return immediately.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/debruijn_graph.h:383,toler,tolerates,383,deepvariant/realigner/debruijn_graph.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/debruijn_graph.h,1,['toler'],['tolerates']
Availability,"// After initially encountering a failure, successive Next() calls will; // continue to return the same error--we cannot advance further.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reader_base_test.cc:34,failure,failure,34,third_party/nucleus/io/reader_base_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reader_base_test.cc,2,"['error', 'failure']","['error--we', 'failure']"
Availability,"// Align a set of reads to a target sequence.; // This class is intended for realigning reads to haplotypes (graph paths); // generated by DeBrujn graph. Since graph's paths are constructed from the same; // reads all ""correct"" paths should have almost perfect alignment with exception; // of reads with sequencing errors. Alignment is done by using reads kmer index.; // Using the index we can quickly (in O(n)) find all reads overlapping all kmers; // in a given haplotype. Haplotype is quickly discarded If we cannot get a 100%; // coverage using read kmer index. Details of 1st step: For each kmer in; // haplotype:; // 1. Find all reads overlapping given kmer; // 2. Compare each read with target sequence. Keep the read if we can have (x)M; // alignment, allowing up to 3 mismatches, where; // x is the length of the read. This operation can be very fast if we; // encode each base with 2 bits. We may use special instructions that count; // set bits in one cycle.; // 3. Keep only reads that have perfect alignment.; // 4. Due to sequencing errors some reads may be left unaligned. For those read; // we can use a SW; // alignment. Number of such reads should be very low (less than error rate; // because only structural errors may contribute); // Next step we need to align haplotype to reference.; // Next step using haplotype to reference alignment we can correct all reads; // alignment for the final result.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner.h:315,error,errors,315,deepvariant/realigner/fast_pass_aligner.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner.h,4,['error'],"['error', 'errors']"
Availability,"// Alternative version of Approximately which takes an explicit margin of error.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h:74,error,error,74,third_party/nucleus/testing/protocol-buffer-matchers.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h,1,['error'],['error']
Availability,"// Alternative version of Approximately which takes an explicit margin of error; // and a relative fraction of error and will match if either is satisfied.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h:74,error,error,74,third_party/nucleus/testing/protocol-buffer-matchers.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h,2,['error'],['error']
Availability,"// Close the underlying resource descriptors. Returns Status::OK() if the; // close was successful; otherwise the status provides information about what; // error occurred.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/bedgraph_writer.h:157,error,error,157,third_party/nucleus/io/bedgraph_writer.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/bedgraph_writer.h,5,['error'],['error']
Availability,"// Closes the underlying resource descriptors. Returns Status::OK() if the; // close was successful; otherwise the status provides information about what; // error occurred.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/gff_writer.h:158,error,error,158,third_party/nucleus/io/gff_writer.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/gff_writer.h,1,['error'],['error']
Availability,"// Construct an iterator that is either...; // 1) end=false => ...looking at the first record available in the reader; // 2) end=true => ...a sentinel that is ""past the end""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reader_base.h:94,avail,available,94,third_party/nucleus/io/reader_base.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reader_base.h,1,['avail'],['available']
Availability,"// Converts a text GFF line into a GffRecord proto message, or returns an error; // code if the line is malformed. The record will only be modified if the call; // succeeds.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/gff_reader.cc:74,error,error,74,third_party/nucleus/io/gff_reader.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/gff_reader.cc,1,['error'],['error']
Availability,"// Create a TFRecordReader.; // Valid compression_types are ""ZLIB"", ""GZIP"", or """" (for none).; // Returns nullptr on failure.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/tfrecord_reader.h:117,failure,failure,117,third_party/nucleus/io/tfrecord_reader.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/tfrecord_reader.h,1,['failure'],['failure']
Availability,"// Create a TFRecordWriter.; // Valid compression_types are ""ZLIB"", ""GZIP"", or """" (for none).; // Returns nullptr on failure.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/tfrecord_writer.h:117,failure,failure,117,third_party/nucleus/io/tfrecord_writer.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/tfrecord_writer.h,1,['failure'],['failure']
Availability,"// Creates a new BedGraphReader reading reads from the BedGraph file at; // |bedgraph_path|.; //; // Returns a StatusOr that is OK if the BedGraphReader could be successfully; // created or an error code indicating the error that occurred.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/bedgraph_reader.h:193,error,error,193,third_party/nucleus/io/bedgraph_reader.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/bedgraph_reader.h,2,['error'],['error']
Availability,"// Creates a new BedGraphWriter writing to the file at |bedgraph_path|, which; // is opened and created if needed. Returns either a unique_ptr to the; // BedGraphWriter or a Status indicating why an error occurred.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/bedgraph_writer.h:199,error,error,199,third_party/nucleus/io/bedgraph_writer.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/bedgraph_writer.h,1,['error'],['error']
Availability,"// Creates a new BedReader reading reads from the BED file bed_path.; //; // bed_path must point to an existing BED formatted file.; //; // Returns a StatusOr that is OK if the BedReader could be successfully; // created or an error code indicating the error that occurred.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/bed_reader.h:227,error,error,227,third_party/nucleus/io/bed_reader.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/bed_reader.h,2,['error'],['error']
Availability,"// Creates a new BedWriter writing to the file at bed_path, which is; // opened and created if needed. Returns either a unique_ptr to the; // BedWriter or a Status indicating why an error occurred.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/bed_writer.h:182,error,error,182,third_party/nucleus/io/bed_writer.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/bed_writer.h,1,['error'],['error']
Availability,"// Creates a new FastqReader reading reads from the FASTQ file fastq_path.; //; // fastq_path must point to an existing FASTQ formatted file.; //; // Returns a StatusOr that is OK if the FastqReader could be successfully; // created or an error code indicating the error that occurred.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/fastq_reader.h:239,error,error,239,third_party/nucleus/io/fastq_reader.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/fastq_reader.h,2,['error'],['error']
Availability,"// Creates a new FastqWriter writing to the file at fastq_path, which is; // opened and created if needed. Returns either a unique_ptr to the; // FastqWriter or a Status indicating why an error occurred.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/fastq_writer.h:188,error,error,188,third_party/nucleus/io/fastq_writer.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/fastq_writer.h,1,['error'],['error']
Availability,"// Creates a new GffReader reading reads from the GFF file gff_path.; //; // gff_path must point to an existing GFF formatted file (or gzipped; // equivalent).; //; // The GFF format is described here:; // https://github.com/The-Sequence-Ontology/Specifications/blob/master/gff3.md; //; // Returns a StatusOr that is OK if the GffReader could be successfully; // created or an error code indicating the error that occurred.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/gff_reader.h:377,error,error,377,third_party/nucleus/io/gff_reader.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/gff_reader.h,2,['error'],['error']
Availability,"// Creates a new GffWriter writing to the file at gff_path, which is; // opened and created if needed. Returns either a unique_ptr to the; // GffWriter or a Status indicating why an error occurred. If; // gff_path ends in "".gz"", the resulting file will be GZIP compressed.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/gff_writer.h:182,error,error,182,third_party/nucleus/io/gff_writer.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/gff_writer.h,1,['error'],['error']
Availability,"// Creates a new SamReader reading from the SAM/BAM/CRAM file reads_path.; //; // reads_path must point to an existing SAM/BAM/CRAM formatted file (text SAM,; // compressed or uncompressed BAM file, CRAM files in all sorts of flavors).; //; // ref_path can be """", in which case the argument is ignored, or must point; // to an existing FASTA file. If not """" and the reads_path points to a CRAM; // file, the CRAM_OPT_REFERNECE field will be set to this path so that the; // CRAM decoder uses ref_path to decode the reference-compressed read; // sequences in the CRAM file. Because many low-level IO routines (e.g. stat); // are currently directly used in the CRAM implementation in htslib, ref_path; // must be on a local (e.g., POSIX accessible) mount point. File system access; // provided by htslib plugins (e.g., S3) won't work.; //; // If the filetype is BAM/CRAM, this constructor will attempt to load a BAI or; // CRAI index from file reads_path + '.bai' or reads_path (without the .bam; // extension) + '.bai'; if the index is not found, attempts to Query will; // fail.; //; // Returns a StatusOr that is OK if the SamReader could be successfully; // created or an error code indicating the error that occurred.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.h:1174,error,error,1174,third_party/nucleus/io/sam_reader.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.h,2,['error'],['error']
Availability,"// Creates a new SamWriter writing to the file at |sam_path|, which is; // opened and created if needed. Returns either a unique_ptr to the; // SamWriter or a Status indicating why an error occurred.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_writer.h:184,error,error,184,third_party/nucleus/io/sam_writer.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_writer.h,1,['error'],['error']
Availability,"// Creates a new SamWriter writing to the file at |sam_path|, which is; // opened and created if needed. |ref_path|, which points to an external; // reference FASTA file, cannot be empty for CRAM files. If |embed_ref|, the; // CRAM output file will embed the references in the output file. Returns; // either a unique_ptr to the SamWriter or a Status indicating why an error; // occurred.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_writer.h:369,error,error,369,third_party/nucleus/io/sam_writer.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_writer.h,1,['error'],['error']
Availability,"// Creates a new VcfReader reading variants from the VCF file variantsPath.; //; // variantsPath must point to an existing VCF formatted file (text or; // bgzip compressed VCF file).; //; // If the filetype is indexable (BGZF'd vcf.gz) his constructor will attempt; // to load an Tabix index from file variantsPath + '.tbi', to support; // subsequent Query operations.; //; // Returns a StatusOr that is OK if the VcfReader could be successfully; // created or an error code indicating the error that occurred.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_reader.h:464,error,error,464,third_party/nucleus/io/vcf_reader.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_reader.h,2,['error'],['error']
Availability,"// Creates a new VcfWriter writing to the file at variants_path, which is; // opened and created if needed. Returns either a unique_ptr to the VcfWriter; // or a Status indicating why an error occurred.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_writer.h:187,error,error,187,third_party/nucleus/io/vcf_writer.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_writer.h,1,['error'],['error']
Availability,"// Creates an AlleleCounter.; //; // The counter will track AlleleCounts over the interval range, using ref to; // get reference data in that interval, using the options to determine which; // reads and bases are counted.; // Candidate_positions parameter is optional. When it is present allele; // counter saves ref alleles for positions found in this vector.; //; // The GenomeReference must be available throughout the lifetime of this; // AlleleCounter object.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.h:397,avail,available,397,deepvariant/allelecounter.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.h,1,['avail'],['available']
Availability,"// Cut the golden data down to the first 700 records that all contain AC; // so that pointwise comparisons work.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_reader_test.cc:23,down,down,23,third_party/nucleus/io/vcf_reader_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_reader_test.cc,1,['down'],['down']
Availability,"// Downsample if the downsampling fraction is set.; // Note that this can in be moved into the lower-level reader loops for; // a slight efficiency gain (don't have to convert from bam_t to Read; // proto but the logic to do so is much more complex than just eating; // that cost and putting the sampling code here where it naturally fits; // and is shared across all iteration methods.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.cc:3,Down,Downsample,3,third_party/nucleus/io/sam_reader.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.cc,2,"['Down', 'down']","['Downsample', 'downsampling']"
Availability,"// Ensure that C++ iterator interface properly handles an error, for example as; // would be encountered upon parsing a malformed record in a file.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reader_base_test.cc:58,error,error,58,third_party/nucleus/io/reader_base_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reader_base_test.cc,1,['error'],['error']
Availability,"// Ensure that the Iterable Next() interface properly handles an error, for; // example as would be encountered upon parsing a malformed record in a file.; // This interface is used by our Python APIs.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reader_base_test.cc:65,error,error,65,third_party/nucleus/io/reader_base_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reader_base_test.cc,1,['error'],['error']
Availability,"// FORMAT field extraction: wrapper for bcf_get_format_*(); // Given a VCF record, this will grab FORMAT tag ""tag"" from the record, a; // buffer *dst for the contents, and copy them there. The return value will; // be either negative (for error) or the number of values copied. *ndst; // should not be used.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.h:239,error,error,239,third_party/nucleus/io/vcf_conversion.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.h,1,['error'],['error']
Availability,"// FileExists sets s to tensorflow::error::NOT_FOUND if it doesn't exist.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/gfile.cc:36,error,error,36,third_party/nucleus/io/gfile.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/gfile.cc,1,['error'],['error']
Availability,"// For downsampling reads.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.h:7,down,downsampling,7,third_party/nucleus/io/sam_reader.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.h,1,['down'],['downsampling']
Availability,"// Get the GT calls, if requested and available.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.cc:38,avail,available,38,third_party/nucleus/io/vcf_conversion.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.cc,1,['avail'],['available']
Availability,"// Gets all of the variants that overlap any bases in range.; //; // This function allows one to iterate through all of the variants in this; // VCF file in order that overlap a specific iterval on the genome. The query; // operation is efficient in that the cost is O(n) for n elements that overlap; // range, and not O(N) for N elements in the entire file.; //; // The specific parsing, filtering, etc behavior is determined by the options; // provided during construction.; //; // This function is only available if an index was loaded. If no index was; // loaded a non-OK status value will be returned.; //; // If range isn't a valid interval in this VCF file a non-OK status value will; // be returned.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_reader.h:506,avail,available,506,third_party/nucleus/io/vcf_reader.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_reader.h,1,['avail'],['available']
Availability,"// Helper function to update counts from `start` (inclusive) to `end`; // (exclusive) by `by`. This function also provides some tolerance to invalid; // start and end values: if `start < 0`, a value of `start = 0` is used instead.; // If `end > counts->size()` then `end = counts->size()` will be used instead.; // This simplifies the call site where the bounding of start/end can be; // overloaded to this function instead of duplicating it at all call sites.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector.cc:128,toler,tolerance,128,deepvariant/realigner/window_selector.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector.cc,1,['toler'],['tolerance']
Availability,"// Here's a read with matching bases going off the chromosome, which can; // happen with aligners that don't clip the reads down to the end of the; // chromosome. Make sure we don't blow up.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter_test.cc:124,down,down,124,deepvariant/allelecounter_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter_test.cc,1,['down'],['down']
Availability,"// INFO field extraction: wrapper for bcf_get_info_*(); // Given a VCF record, this will grab INFO tag ""tag"" from the record, a; // buffer *dst for the contents, and copy them there. The return value will; // be either negative (for error) or the number of values copied. *ndst; // should not be used.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.h:233,error,error,233,third_party/nucleus/io/vcf_conversion.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.h,1,['error'],['error']
Availability,"// Ignore file not found errors.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_writer_test.cc:25,error,errors,25,third_party/nucleus/io/sam_writer_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_writer_test.cc,1,['error'],['errors']
Availability,"// Ignores any errors. This method does nothing except potentially suppress; // complaints from any tools that are checking that errors are not dropped on; // the floor.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/status.h:15,error,errors,15,third_party/nucleus/core/status.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/status.h,2,['error'],['errors']
Availability,"// In the following, we iterate over alignment information for each; // base of read creating an association between a reference index,; // read index and cigar operation and storing in a vector for subsequent; // base level channel value calculation(s).; //; // The handling of each cigar element type is given below, assuming; // it has length n.; //; // ALIGNMENT_MATCH, SEQUENCE_MATCH, SEQUENCE_MISMATCH:; // Provide a segment ref_i, read_i for each of the n bases in the; // operator, where ref_i is the position on the genome where this; // base aligns.; //; // INSERT, CLIP_SOFT:; // Provides a single ref_i, read_i segment regardless of n. ref_i; // is set to the preceding base of the insertion; i.e., the anchor; // base. Beware that ref_i could be -1 if the insertion is aligned; // to the first base of a contig. read_i points to the first base; // of the insertion. So if our cigar is 1M2I1M for a read starting; // at S, we'd see first (S, 0, '1M'), followed by one (S, 1,; // '2I'), and then (S + 1, 3, '1M').; //; // DELETE, SKIP:; // Provides a single ref_i, read_i segment regardless of n. ref_i; // is set to the first base of the deletion, just like in an; // ALIGNMENT_MATCH. read_i points to the previous base in the; // read, as there's no actual read sequence associated with a; // deletion. Beware that read_i could be -1 if the deletion is the; // first cigar of the read. So if our cigar is 1M2D1M for a read; // starting at S, we'd see first (S, 0, '1M'), followed by one (S; // + 1, 0, '2D'), and then (S + 3, 1, '1M').; //; // CLIP_HARD, PAD:; // These operators are ignored by as they don't impact the; // alignment of the read w.r.t. the reference.; //; // Any other CIGAR op:; // Fatal error, at present; later we should fail with a status encoding.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_channel_lib.h:1719,error,error,1719,deepvariant/pileup_channel_lib.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_channel_lib.h,1,['error'],['error']
Availability,"// In the following, we iterate over alignment information for each; // base of read, invoking action_per_cigar_unit for every segment of; // the alignment.; //; // The handling of each cigar element type is given below, assuming; // it has length n.; //; // ALIGNMENT_MATCH, SEQUENCE_MATCH, SEQUENCE_MISMATCH:; // Provide a segment ref_i, read_i for each of the n bases in the; // operator, where ref_i is the position on the genome where this; // base aligns.; //; // INSERT, CLIP_SOFT:; // Provides a single ref_i, read_i segment regardless of n. ref_i; // is set to the preceding base of the insertion; i.e., the anchor; // base. Beware that ref_i could be -1 if the insertion is aligned; // to the first base of a contig. read_i points to the first base; // of the insertion. So if our cigar is 1M2I1M for a read starting; // at S, we'd see first (S, 0, '1M'), followed by one (S, 1,; // '2I'), and then (S + 1, 3, '1M').; //; // DELETE, SKIP:; // Provides a single ref_i, read_i segment regardless of n. ref_i; // is set to the first base of the deletion, just like in an; // ALIGNMENT_MATCH. read_i points to the previous base in the; // read, as there's no actual read sequence associated with a; // deletion. Beware that read_i could be -1 if the deletion is the; // first cigar of the read. So if our cigar is 1M2D1M for a read; // starting at S, we'd see first (S, 0, '1M'), followed by one (S; // + 1, 0, '2D'), and then (S + 3, 1, '1M').; //; // CLIP_HARD, PAD:; // These operators are ignored by as they don't impact the; // alignment of the read w.r.t. the reference.; //; // Any other CIGAR op:; // Fatal error, at present; later we should fail with a status encoding.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_image_native.cc:1621,error,error,1621,deepvariant/pileup_image_native.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_image_native.cc,1,['error'],['error']
Availability,"// Is this iterable alive, in the sense that; // - its reader is still open; and; // - it has not been released?",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reader_base.h:20,alive,alive,20,third_party/nucleus/io/reader_base.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reader_base.h,1,['alive'],['alive']
Availability,"// It's a programming error if CopyTo() is called not after a successful; // NumBytes().",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_writer.cc:22,error,error,22,third_party/nucleus/io/sam_writer.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_writer.cc,1,['error'],['error']
Availability,"// Leaks string but this is only to be used in a fatal error message",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/status.cc:55,error,error,55,third_party/nucleus/core/status.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/status.cc,1,['error'],['error']
Availability,"// Matches if a Status or StatusOr object's ok() returns false and that status; // code is expected_code and its error message contains the string; // expected_error_message_substring.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/status_matchers.h:113,error,error,113,third_party/nucleus/core/status_matchers.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/status_matchers.h,1,['error'],['error']
Availability,"// Matches if a Status or StatusOr object's ok() returns false and that status; // has an error message containing the string expected_error_message_substring.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/status_matchers.h:90,error,error,90,third_party/nucleus/core/status_matchers.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/status_matchers.h,1,['error'],['error']
Availability,"// Method to *explicitly* ""release"" this iterable to enable another; // iteration to proceed. Returns OK status if the release was successful, or; // an error if not.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reader_base.h:153,error,error,153,third_party/nucleus/io/reader_base.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reader_base.h,1,['error'],['error']
Availability,"// Not inlined to save code space; /// \brief Create a status with the specified error code and msg as a; /// human-readable string containing more detailed information.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/status.h:81,error,error,81,third_party/nucleus/core/status.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/status.h,1,['error'],['error']
Availability,"// OK status has a `NULL` state_. Otherwise, `state_` points to; // a `State` structure containing the error code and message(s)",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/status.h:103,error,error,103,third_party/nucleus/core/status.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/status.h,1,['error'],['error']
Availability,"// Only read alignments with the score greater than; // ssw_alignment_score_threshold_ are kept. ssw_alignment_score_threshold_; // is calculated from similarity_threshold_ and read_size.; // Most of the reads should almost perfectly align to haplotypes. Read may; // not align to haplotype perfectly if:; // - there is a sequencing error;; // - read does not really come from this region;; // - haplotype does not represent a real target genome sequence.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner.h:333,error,error,333,deepvariant/realigner/fast_pass_aligner.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner.h,1,['error'],['error']
Availability,"// Overload for ProtoCompare where the expected message is specified as a text; // proto. If the text cannot be parsed as a message of the same type as the; // actual message, a CHECK failure will cause the test to fail and no subsequent; // tests will be run.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h:184,failure,failure,184,third_party/nucleus/testing/protocol-buffer-matchers.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h,1,['failure'],['failure']
Availability,"// Previous operation should not be a soft clip. Soft clip in the middle of; // cigar is an error in alignment. It should not happen.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.cc:92,error,error,92,deepvariant/allelecounter.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.cc,1,['error'],['error']
Availability,"// Processing a sequence line. If name is absent by now, return an error.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference.cc:67,error,error,67,third_party/nucleus/io/reference.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference.cc,1,['error'],['error']
Availability,"// Propagate error, if any.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/gff_reader.cc:13,error,error,13,third_party/nucleus/io/gff_reader.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/gff_reader.cc,1,['error'],['error']
Availability,"// Python Context manager support---will be wrapped as __enter__ /; // __exit__. This two functions should return an OK status if the enter/exit; // were successful, or an error if not.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reader_base.h:172,error,error,172,third_party/nucleus/io/reader_base.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reader_base.h,1,['error'],['error']
Availability,"// Reads a single line from the file.; // Returns:; // - the string line (excluding trailing newline) if read is successful;; // - a status of ::nucleus::OutOfRange if at end-of-file;; // - otherwise, an appropriate error Status.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/text_reader.h:216,error,error,216,third_party/nucleus/io/text_reader.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/text_reader.h,1,['error'],['error']
Availability,"// Reads the next record if available.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/variant_reader.h:28,avail,available,28,third_party/nucleus/io/variant_reader.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/variant_reader.h,1,['avail'],['available']
Availability,"// Replace each read alignment with the better one (if available), otherwise; // an original alignment is preserved.; // realigned_reads param is eventually passed to Python wrapped in unique_ptr; // as per clif requirements.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner.h:55,avail,available,55,deepvariant/realigner/fast_pass_aligner.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner.h,1,['avail'],['available']
Availability,"// Returns true on success, false on error.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/tfrecord_reader.h:37,error,error,37,third_party/nucleus/io/tfrecord_reader.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/tfrecord_reader.h,3,['error'],['error']
Availability,"// Returns with tensorflow::error::Code::ABORTED if the read doesn't; // satisfy read requirements. When that happens, the function aborts early and; // doesn't fill the other fields such as aligned_sequence, which can be; // expensive in long reads.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.cc:28,error,error,28,third_party/nucleus/io/sam_reader.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.cc,1,['error'],['error']
Availability,"// Set basic options to avoid premature test failures.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_multisample_somatic_test.cc:45,failure,failures,45,deepvariant/variant_calling_multisample_somatic_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_multisample_somatic_test.cc,1,['failure'],['failures']
Availability,"// Sets the margin of error for approximate floating point comparison.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h:22,error,error,22,third_party/nucleus/testing/protocol-buffer-matchers.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h,2,['error'],['error']
Availability,"// Sets the relative fraction of error for approximate floating point; // comparison.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h:33,error,error,33,third_party/nucleus/testing/protocol-buffer-matchers.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h,2,['error'],['error']
Availability,"// TODO SumAlleleCounts is only used in one place in variant_calling.cc; // where ref alleles are filtered out. The code below is redundant.; // Verify that there are no other usages of ref alleles and remove this code.; //; // Creates a synthetic reference Allele if we saw any reference containing; // alleles, whose count is tracked (for performance reasons) as an integer; // in the AlleleCount.ref_supporting_read_count field of the proto. This; // synthetic allele allows us to provide the same API from this function: a; // vector of the Alleles observed in allele_count without having to track the; // read names for reference containing reads, which is very memory-intensive.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.cc:130,redundant,redundant,130,deepvariant/allelecounter.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.cc,2,['redundant'],['redundant']
Availability,"// TODO: cleanup error handling.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.cc:17,error,error,17,third_party/nucleus/io/vcf_conversion.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.cc,2,['error'],['error']
Availability,"// The interval chr from start (0-based, inclusive) to end (0-based,; // exclusive) of the available ref bases. By default this interval is equal to; // to the interval_. If read normalization is needed then reads_interval_ may; // be an etentsion of interval_. reads_interval_ spans from the first position; // of the very first read to the last position of the last read.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.h:91,avail,available,91,deepvariant/allelecounter.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.h,1,['avail'],['available']
Availability,"// There's nothing we can do but assert fail if there's an error during; // the Close() call here.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_writer.cc:59,error,error,59,third_party/nucleus/io/sam_writer.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_writer.cc,2,['error'],['error']
Availability,"// We cannot advance any further once an error has been encountered.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reader_base_test.cc:41,error,error,41,third_party/nucleus/io/reader_base_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reader_base_test.cc,1,['error'],['error']
Availability,"// Write a BedRecord to the BED file.; // Returns Status::OK() if the write was successful; otherwise the status; // provides information about what error occurred.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/bed_writer.h:149,error,error,149,third_party/nucleus/io/bed_writer.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/bed_writer.h,1,['error'],['error']
Availability,"// Write a FastqRecord to the FASTQ file.; // Returns Status::OK() if the write was successful; otherwise the status; // provides information about what error occurred.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/fastq_writer.h:153,error,error,153,third_party/nucleus/io/fastq_writer.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/fastq_writer.h,1,['error'],['error']
Availability,"// Write a Read to the file.; // Returns Status::OK() if the write was successful; otherwise the status; // provides information about what error occurred.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_writer.h:140,error,error,140,third_party/nucleus/io/sam_writer.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_writer.h,1,['error'],['error']
Availability,"// Write a variant record to the VCF.; // Note that variant calls must be provided in the same order as samples; // listed in the options. Returns Status::OK() if the write was successful;; // otherwise the status provides information about what error occurred.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_writer.h:246,error,error,246,third_party/nucleus/io/vcf_writer.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_writer.h,1,['error'],['error']
Availability,"// Writes a BedGraphRecord to the Bedgraph file.; // Returns Status::OK() if the write was successful; otherwise the status; // provides information about why an error occurred.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/bedgraph_writer.h:162,error,error,162,third_party/nucleus/io/bedgraph_writer.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/bedgraph_writer.h,1,['error'],['error']
Availability,"// Writes a GffRecord to the GFF file.; // Returns Status::OK() if the write was successful; otherwise the status; // provides information about what error occurred.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/gff_writer.h:150,error,error,150,third_party/nucleus/io/gff_writer.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/gff_writer.h,1,['error'],['error']
Availability,"// allele_counts.at will throw an exception if key is not found.; // Absent target_sample is a critical error.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_multisample.cc:104,error,error,104,deepvariant/variant_calling_multisample.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_multisample.cc,3,['error'],['error']
Availability,"// idx may be null; only an error if we try to Query later.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_reader.cc:28,error,error,28,third_party/nucleus/io/vcf_reader.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_reader.cc,1,['error'],['error']
Availability,"// sam_read1 docs say: >= 0 on successfully reading a new record,; // -1 on end of stream, < -1 on error.; // Get next from file; return false if no more records to be had.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.cc:99,error,error,99,third_party/nucleus/io/sam_reader.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.cc,1,['error'],['error']
Availability,"// vcf_parse1 returns -1 on critical errors and 0 otherwise. BCF_ERR_CTG_UNDEF; // and BCF_ERR_TAG_UNDEF indicate missing header definitions, and are; // non-critical errors. Ignore these missing header definitions because they; // are common in the wild.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_reader.cc:37,error,errors,37,third_party/nucleus/io/vcf_reader.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_reader.cc,2,['error'],['errors']
Availability,"//----------------------------------------------------------------------------; // Payload Management APIs (Cloned from absl::Status); //----------------------------------------------------------------------------; // A payload may be attached to a status to provide additional context to an; // error that may not be satisfied by an existing `tsl::error::Code`.; // Typically, this payload serves one of several purposes:; //; // * It may provide more fine-grained semantic information about the error; // to facilitate actionable remedies.; // * It may provide human-readable contexual information that is more; // appropriate to display to an end user.; //; // A payload consists of a [key,value] pair, where the key is a string; // referring to a unique ""type URL"" and the value is an object of type; // `absl::Cord` to hold the contextual data.; //; // The ""type URL"" should be unique and follow the format of a URL; // (https://en.wikipedia.org/wiki/URL) and, ideally, provide some; // documentation or schema on how to interpret its associated data. For; // example, the default type URL for a protobuf message type is; // ""type.googleapis.com/packagename.messagename"". Other custom wire formats; // should define the format of type URL in a similar practice so as to; // minimize the chance of conflict between type URLs.; // Users should ensure that the type URL can be mapped to a concrete; // C++ type if they want to deserialize the payload and read it effectively.; //; // To attach a payload to a status object, call `Status::SetPayload()`,; // passing it the type URL and an `absl::Cord` of associated data. Similarly,; // to extract the payload from a status, call `Status::GetPayload()`. You; // may attach multiple payloads (with differing type URLs) to any given; // status object, provided that the status is currently exhibiting an error; // code (i.e. is not OK).; // TODO: Use absl::Cord for payload value type.; // The Payload-related APIs are cloned from absl::Status.; //; //",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/status.h:296,error,error,296,third_party/nucleus/core/status.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/status.h,3,['error'],['error']
Availability,"/// \brief If `ok()`, stores `new_status` into `*this`. If `!ok()`,; /// preserves the current status, but may augment with additional; /// information about `new_status`.; ///; /// Convenient way of keeping track of the first error encountered.; /// Instead of:; /// `if (overall_status.ok()) overall_status = new_status`; /// Use:; /// `overall_status.Update(new_status);`",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/status.h:227,error,error,227,third_party/nucleus/core/status.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/status.h,1,['error'],['error']
Availability,"/// \brief Return a string representation of this status suitable for; /// printing. Returns the string `""OK""` for success.; ///; /// By default, it returns combination of the error code name, the message and; /// any associated payload messages. This string is designed simply to be; /// human readable and its exact format should not be load bearing. Do not; /// depend on the exact format of the result of `ToString()` which is subject; /// to change.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/status.h:176,error,error,176,third_party/nucleus/core/status.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/status.h,1,['error'],['error']
Availability,"DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; */; // StatusOr<T> is the union of a Status object and a T; // object. StatusOr models the concept of an object that is either a; // usable value, or an error Status explaining why such a value is; // not present. To this end, StatusOr<T> does not allow its Status; // value to be Status::OK. Further, StatusOr<T*> does not allow the; // contained pointer to be NULL.; //; // The primary use-case for StatusOr<T> is as the return value of a; // function which may fail.; //; // Example client usage for a StatusOr<T>, where T is not a pointer:; //; // StatusOr<float> result = DoBigCalculationThatCouldFail();; // if (result.ok()) {; // float answer = result.ValueOrDie();; // printf(""Big calculation yielded: %f"", answer);; // } else {; // LOG(ERROR) << result.status();; // }; //; // Example client usage for a StatusOr<T*>:; //; // StatusOr<Foo*> result = FooFactory::MakeNewFoo(arg);; // if (result.ok()) {; // std::unique_ptr<Foo> foo(result.ValueOrDie());; // foo->DoSomethingCool();; // } else {; // LOG(ERROR) << result.status();; // }; //; // Example client usage for a StatusOr<std::unique_ptr<T>>:; //; // StatusOr<std::unique_ptr<Foo>> result = FooFactory::MakeNewFoo(arg);; // if (result.ok()) {; // std::unique_ptr<Foo> foo = std::move(result.ValueOrDie());; // foo->DoSomethingCool();; // } else {; // LOG(ERROR) << result.status();; // }; //; // Example factory implementation returning StatusOr<T*>:; //; // StatusOr<Foo*> FooFactory::MakeNewFoo(int arg) {; // if (arg <= 0) {; // return Status(port::error::INVALID_ARGUMENT,; // ""Arg must be positive"");; // } else {; // return new Foo(arg);; // }; // }; //; //; // This is a copy of StatusOr from; // tensorflow/compiler/xla/stream_executor/l",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/statusor.h:2284,ERROR,ERROR,2284,third_party/nucleus/core/statusor.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/statusor.h,1,['ERROR'],['ERROR']
Availability,"Payload Management APIs (Cloned from absl::Status); //----------------------------------------------------------------------------; // A payload may be attached to a status to provide additional context to an; // error that may not be satisfied by an existing `tsl::error::Code`.; // Typically, this payload serves one of several purposes:; //; // * It may provide more fine-grained semantic information about the error; // to facilitate actionable remedies.; // * It may provide human-readable contexual information that is more; // appropriate to display to an end user.; //; // A payload consists of a [key,value] pair, where the key is a string; // referring to a unique ""type URL"" and the value is an object of type; // `absl::Cord` to hold the contextual data.; //; // The ""type URL"" should be unique and follow the format of a URL; // (https://en.wikipedia.org/wiki/URL) and, ideally, provide some; // documentation or schema on how to interpret its associated data. For; // example, the default type URL for a protobuf message type is; // ""type.googleapis.com/packagename.messagename"". Other custom wire formats; // should define the format of type URL in a similar practice so as to; // minimize the chance of conflict between type URLs.; // Users should ensure that the type URL can be mapped to a concrete; // C++ type if they want to deserialize the payload and read it effectively.; //; // To attach a payload to a status object, call `Status::SetPayload()`,; // passing it the type URL and an `absl::Cord` of associated data. Similarly,; // to extract the payload from a status, call `Status::GetPayload()`. You; // may attach multiple payloads (with differing type URLs) to any given; // status object, provided that the status is currently exhibiting an error; // code (i.e. is not OK).; // TODO: Use absl::Cord for payload value type.; // The Payload-related APIs are cloned from absl::Status.; //; // Returns the payload of a status given its unique `type_url` key, if; // present.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/status.h:1853,error,error,1853,third_party/nucleus/core/status.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/status.h,1,['error'],['error']
Availability,"TRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; */; // StatusOr<T> is the union of a Status object and a T; // object. StatusOr models the concept of an object that is either a; // usable value, or an error Status explaining why such a value is; // not present. To this end, StatusOr<T> does not allow its Status; // value to be Status::OK. Further, StatusOr<T*> does not allow the; // contained pointer to be NULL.; //; // The primary use-case for StatusOr<T> is as the return value of a; // function which may fail.; //; // Example client usage for a StatusOr<T>, where T is not a pointer:; //; // StatusOr<float> result = DoBigCalculationThatCouldFail();; // if (result.ok()) {; // float answer = result.ValueOrDie();; // printf(""Big calculation yielded: %f"", answer);; // } else {; // LOG(ERROR) << result.status();; // }; //; // Example client usage for a StatusOr<T*>:; //; // StatusOr<Foo*> result = FooFactory::MakeNewFoo(arg);; // if (result.ok()) {; // std::unique_ptr<Foo> foo(result.ValueOrDie());; // foo->DoSomethingCool();; // } else {; // LOG(ERROR) << result.status();; // }; //; // Example client usage for a StatusOr<std::unique_ptr<T>>:; //; // StatusOr<std::unique_ptr<Foo>> result = FooFactory::MakeNewFoo(arg);; // if (result.ok()) {; // std::unique_ptr<Foo> foo = std::move(result.ValueOrDie());; // foo->DoSomethingCool();; // } else {; // LOG(ERROR) << result.status();; // }; //; // Example factory implementation returning StatusOr<T*>:; //; // StatusOr<Foo*> FooFactory::MakeNewFoo(int arg) {; // if (arg <= 0) {; // return Status(port::error::INVALID_ARGUMENT,; // ""Arg must be positive"");; // } else {; // return new Foo(arg);; // }; // }; //; //; // This is a copy of StatusOr from; // tensorflow/compiler/xla/stream_executor/lib/statusor.h based on the original; // internal google sources with the key changes to statusor.h reapplied by hand.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/statusor.h:2550,ERROR,ERROR,2550,third_party/nucleus/core/statusor.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/statusor.h,3,"['ERROR', 'error']","['ERROR', 'error']"
Availability,"ever by left-aligning CIGAR elements; // in order to fix this problem. This is largely ok because (1) the standard; // aligner (BWA) does in fact do consistent left alignment and (2) we anticipate; // feeding this AlleleCounter reads that have been assembled into a consistent; // alignment across all of the reads in a way that is impossible for a read-by-; // read aligner to do. So beware with the aligner you use, unless you've cleaned; // up the reads in some way (left aligning the cigars or just doing assembly).; //; // It is ok to send reads that only partially overlap the interval; the; // AlleleCounter will only add counts from the part that overlap the interval.; //; // This code assumes that the reference genome and the reads have only upper; // case bases. By construction our GenomeReference will not have lower case; // bases. Lower case bases are allowed in read sequences (see; // https://samtools.github.io/hts-specs/SAMv1.pdf),; // so it may be worth upper casing the read sequence at some point to make this; // code more robust.; //; // AlleleCounter performs some specialized logic to deal with non-canonical; // bases that might occur in the reference and/or the reads. By canonical we; // mean bases that are one of {A,C,G,T}. The basic constraint is that we will; // not add Allele's that contain non-canonical bases. So if we have a read that; // has (e.g.) an N, we will not produce Allele objects that contain the N. So; // if it doesn't match the reference at a site, it will be skipped as a; // SUBSTITUTION allele, and if it were part of an insertion, that entire; // insertion will be skipped. We do support AlleleCount objects that have a N; // base as its reference base, and those bases get alleles just as a normal base; // would. Downstream processing should look at the reference base of the; // AlleleCounts produced by this code for non-canonical reference bases and; // handle if special handling is needed. Finally, if a read's deletion CIGAR; // spans ",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.h:3281,robust,robust,3281,deepvariant/allelecounter.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.h,1,['robust'],['robust']
Availability,"standard; // aligner (BWA) does in fact do consistent left alignment and (2) we anticipate; // feeding this AlleleCounter reads that have been assembled into a consistent; // alignment across all of the reads in a way that is impossible for a read-by-; // read aligner to do. So beware with the aligner you use, unless you've cleaned; // up the reads in some way (left aligning the cigars or just doing assembly).; //; // It is ok to send reads that only partially overlap the interval; the; // AlleleCounter will only add counts from the part that overlap the interval.; //; // This code assumes that the reference genome and the reads have only upper; // case bases. By construction our GenomeReference will not have lower case; // bases. Lower case bases are allowed in read sequences (see; // https://samtools.github.io/hts-specs/SAMv1.pdf),; // so it may be worth upper casing the read sequence at some point to make this; // code more robust.; //; // AlleleCounter performs some specialized logic to deal with non-canonical; // bases that might occur in the reference and/or the reads. By canonical we; // mean bases that are one of {A,C,G,T}. The basic constraint is that we will; // not add Allele's that contain non-canonical bases. So if we have a read that; // has (e.g.) an N, we will not produce Allele objects that contain the N. So; // if it doesn't match the reference at a site, it will be skipped as a; // SUBSTITUTION allele, and if it were part of an insertion, that entire; // insertion will be skipped. We do support AlleleCount objects that have a N; // base as its reference base, and those bases get alleles just as a normal base; // would. Downstream processing should look at the reference base of the; // AlleleCounts produced by this code for non-canonical reference bases and; // handle if special handling is needed. Finally, if a read's deletion CIGAR; // spans across part of the reference genome that has an N, the corresponding; // DELETION allele will be dropped.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.h:4006,Down,Downstream,4006,deepvariant/allelecounter.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.h,1,['Down'],['Downstream']
Deployability,"""""""Add some likelihood to a particular allele configuration. Args:; allele_indices: Pair of (g1, g2) ints representing the genotype.; likelihood: float. log10(probability of this genotype configuration).; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py:46,configurat,configuration,46,deepvariant/haplotypes.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py,2,['configurat'],['configuration']
Deployability,"""""""Adds L2 regularizers to all `layer_class` layers in `model`. Models from `tf.keras.applications` do not support specifying kernel or bias; regularizers. However, adding regularization is important when fine tuning; 'imagenet' pretrained weights. In order to do this, this function updates the; current model's configuration to include regularizers and reloads the model so; that the newly created losses are registered.; Note: this will not overwrite existing `kernel_regularizer` regularizers on; the given layer.; Args:; model: The base model.; layer_class: We add regularizers to all layers of type `layer_class`.; l2: The l2 regularization factor.; regularizer_attr: The layer's regularizer attribute. Returns:; A model with l2 regularization added to each `layer_class` layer.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py:284,update,updates,284,deepvariant/keras_modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py,2,"['configurat', 'update']","['configuration', 'updates']"
Deployability,"""""""Asserts that a mock has not been called. There's a bug in mock where some of the assert functions on a mock are being; dropped when that mock is created with an autospec:. https://bugs.python.org/issue28380. The mock 2.0.0 backport doesn't have the fix yet. The required patch is:. https://bugs.python.org/file44991/fix_autospecced_mock_functions.patch. but the current mock (checked 07/22/17) backport code is missing the fix:. https://github.com/testing-cabal/mock/blob/master/mock/mock.py#L315. This is an open issue on the mock github repo:. https://github.com/testing-cabal/mock/issues/398. And they claim that it'll be a few months (as of April 2017) before it is; incorporated into the backport. Args:; mock: The mock to assert hasn't been called. Raises:; AssertionError: mock has been called.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.py:274,patch,patch,274,third_party/nucleus/testing/test_utils.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.py,2,['patch'],['patch']
Deployability,"""""""Compute F1 score of predictions with respect to the labels. Args:; labels: tensor whose dimensions must match predictions. The ground-truth; labels for the examples.; predictions: tensor of arbitrary dimension. The predicted labels for the; examples.; target_class: int. Index of the class that is left as non-zero. Returns:; f1_score: scalar float tensor whose dimensions match predictions. The; calculated f1 score.; update_op: operation that updates the f1 score streaming metric.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:448,update,updates,448,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['update'],['updates']
Deployability,"""""""Container class for genotype likelihoods of allele configurations. When evaluating valid genotype configurations across multiple variants, we; calculate the likelihood of each configuration. To then calculate the marginal; likelihoods for each variant's genotypes, for each genotype we need to sum the; probabilities of all configurations that include that genotype. For numerical stability we do this by storing the genotype likelihoods; = log10(p) and then aggregate using the log-sum-exp trick.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py:54,configurat,configurations,54,deepvariant/haplotypes.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py,4,['configurat'],"['configuration', 'configurations']"
Deployability,"""""""Creates a RealignerOptions proto based on input and default settings. Args:; flags_obj: configuration FLAGS. Returns:; realigner_pb2.RealignerOptions protobuf. Raises:; ValueError: If we observe invalid flag values.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner.py:91,configurat,configuration,91,deepvariant/realigner/realigner.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner.py,1,['configurat'],['configuration']
Deployability,"""""""Creates a WindowSelectorOptions proto based on input and default settings. Args:; flags_obj: configuration FLAGS. Returns:; realigner_pb2.WindowSelector protobuf. Raises:; ValueError: If either ws_{min,max}_supporting_reads are set and; ws_use_window_selector_model is True.; Or if ws_window_selector_model > ws_max_num_supporting_reads.; Or if ws_use_window_selector_model is False and; ws_window_selector_model is not None.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner.py:96,configurat,configuration,96,deepvariant/realigner/realigner.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner.py,1,['configurat'],['configuration']
Deployability,"""""""Enumeration type indicating how we should explore genotype configurations. See genotype_options_for_variants for more information.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler.py:62,configurat,configurations,62,deepvariant/labeler/haplotype_labeler.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler.py,1,['configurat'],['configurations']
Deployability,"""""""Fake setup.py module for installing Nucleus. Usually, setup.py is invoked twice: first, to build the pip package; and second to install it. This setup.py is only used for installation; build_pip_package.sh is; used to create the package. We do it this way because we need our; package to include symbolic links, which normal setup.py doesn't; support. For the same reason, this setup.py is not implemented using setuptools.; Instead, we directly implement the four commands run by pip install; (https://pip.pypa.io/en/stable/reference/pip_install/#id46):; * setup.py egg_info [--egg-base XXX]; * setup.py install --record XXX [--single-version-externally-managed]; [--root XXX] [--compile|--no-compile] [--install-headers XXX]; * setup.py bdist_wheel -d XXX; * setup.py clean; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/pip_package/setup.py:28,install,installing,28,third_party/nucleus/pip_package/setup.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/pip_package/setup.py,6,['install'],"['install', 'install-headers', 'installation', 'installing']"
Deployability,"""""""Gets the most likely genotype from predictions. From https://samtools.github.io/hts-specs/VCFv4.3.pdf:. Genotype Ordering. In general case of ploidy P and N alternate alleles (0 is; the REF and 1..N the alternate alleles), the ordering of genotypes for the; likelihoods can be expressed by the following pseudocode with as many nested; loops as ploidy:. * Note that we use inclusive for loop boundaries.; for a_P = 0 . . . N; for a_P-1 = 0 . . . aP; . . .; for a_1 = 0 . . . a2; println a1 a2 . . . aP. Alternatively, the same can be achieved recursively with the following; pseudocode:. Ordering (P , N , suffix =""""):; for a in 0 . . . N; if (P == 1) println str (a) + suffix; if (P > 1) Ordering (P -1 , a, str (a) + suffix). Examples:; * for P=2 and N=1, the ordering is 00,01,11; * for P=2 and N=2, the ordering is 00,01,11,02,12,22; * for P=3 and N=2, the ordering is 000,001,011,111,002,012,112,022,122,222; * for P=1, the index of the genotype a is a; * for P=2, the index of the genotype ""a/b"", where a <= b, is b(b + 1)/2 + a; * for P=2 and arbitrary N, the ordering can be easily derived from a; triangular matrix:; b / a 0 1 2 3; 0 0; 1 1 2; 2 3 4 5; 3 6 7 8 9. Args:; predictions: N element array-like. The real-space probabilities of each; genotype state for this variant. The number of elements in predictions is; related to ploidy and n_alleles is given by N = choose(ploidy + n_alleles; - 1, n_alleles -1) for more information see:; http://genome.sph.umich.edu/wiki/Relationship_between_Ploidy,_Alleles_and_Genotypes; ploidy: int >= 1. The ploidy (e.g., number of chromosomes) of this sample.; n_alleles: int >= 2. The number of alleles (ref + n_alts). Returns:; Two values. The first is the index of the most likely prediction in; predictions. The second is a list of P elements with the VCF-style genotype; indices corresponding to this index. For example, with P = 2 and an index of; 1, this returns the value (1, [0, 1]). Raises:; NotImplementedError: if ploidy != 2 as this not",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py:1000,a/b,a/b,1000,deepvariant/postprocess_variants.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py,1,['a/b'],['a/b']
Deployability,"""""""Indicates that an impossible haplotype configuration has been observed.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler.py:42,configurat,configuration,42,deepvariant/labeler/haplotype_labeler.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler.py,1,['configurat'],['configuration']
Deployability,"""""""Initialize `model` with weights from `input_model` (different #channels). Args:; model: The model we want to output.; input_model: The input model that contains the weights to initialize from. Returns:; `model` with updated weights from `input_model`; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py:219,update,updated,219,deepvariant/keras_modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py,1,['update'],['updated']
Deployability,"""""""Initializes a checkpoint manager, and restores a checkpoint if one exists. Args:; config: Training configuration.; model_dir: Where model is stored.; model: a tf Model.; optimizer: A tf Optimizer.; strategy: Distribution strategy. Returns:; The state as `tf.train.Checkpoint`. This includes the `model` (network),; the `optimizer`, metrics (train and tune), and the `global_step` variable.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py:102,configurat,configuration,102,deepvariant/keras_modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py,1,['configurat'],['configuration']
Deployability,"""""""Is variant a non-reference call?. A Variant proto doesn't always imply that there's a variant present in the; genome. The call may not have alternate bases, may be filtered, may a have; hom-ref genotype, etc. This function looks for all of those configurations; and returns true iff the variant is asserting that a mutation is present; in the same. Note that this code allows a variant without a calls field to be variant,; but one with a genotype call must have a non-reference genotype to be; considered variant (if require_non_ref_genotype is True, the default). If; False, a variant that passes all of the site-level requirements for being; a variant_call will return a True value, regardless of the genotypes, which; means that we'll consider a site with a sample with a hom-ref or no-call site; a variant call. Args:; variant: nucleus.genomics.v1.Variant.; require_non_ref_genotype: Should we require a site with a genotype call to; have a non-reference (het, hom-var) genotype for the site to be considered; a variant call?; no_calls_are_variant: If a site has genotypes, should we consider no_call; genotypes as being variant or not? e.g. -1/1 listed as ./. in VCF; call_indices: A list of 0-based indices. If specified, only the calls; at the given indices will be considered. The function will return; True if any of those calls are variant.; apply_filter: If set to True, will never treat this site as variant when; any filter other than PASS or . is set. Returns:; True if variant is really a mutation call.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils.py:249,configurat,configurations,249,third_party/nucleus/util/variant_utils.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils.py,1,['configurat'],['configurations']
Deployability,"""""""Library for resolving variants into consistent haplotypes. The convolutional neural network that evaluates the probability of a candidate; variant being non-reference evaluates each candidate variant independently.; This can lead to overlapping variant calls that cannot actually exist in an; organism: for example, a diploid human cannot have overlapping variants for; which one is homozygous alternate and the other is heterozygous alternate, since; that implies three total alternate alleles. This library tries to resolve overlapping variant calls into consistent; haplotypes by using the most likely configuration based on individual call; probabilities that is a valid set of two haplotypes. In rare cases where this; is not possible, the haplotypes are left unmodified.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py:608,configurat,configuration,608,deepvariant/haplotypes.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py,1,['configurat'],['configuration']
Deployability,"""""""Main entry point; defines and runs the pipeline.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/tools/shuffle_tfrecords_beam.py:42,pipeline,pipeline,42,tools/shuffle_tfrecords_beam.py,,https://github.com/google/deepvariant/tree/v1.6.1/tools/shuffle_tfrecords_beam.py,1,['pipeline'],['pipeline']
Deployability,"""""""Match candidate haplotypes with cohort haplotypes and update frequency. First, we look for exact haplotype matches between candidate and cohorts.; If there're any matches, the REF allele frequency associated with the matching; ALT allele is updated as well. Second, if no matches are found, we try to find inexact matches, where only; REF alleles are matched. The inexact matching step is only used to update REF; allele frequency. If no exact and inexact matches are found, set REF allele; frequency to 1. Args:; candidate_haps: A list of haplotype objects from a candidate.; cohort_haps_and_freqs: A list of haplotype objects from cohorts. Haplotype; objects are stored as dicts: {'haplotype': a haplotype (string), 'alt': an; alt allele (string), 'variant': a Variant proto}. Returns:; A dict with candidate alt alleles as keys, and associated frequencies; as values.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allele_frequency.py:57,update,update,57,deepvariant/allele_frequency.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allele_frequency.py,3,['update'],"['update', 'updated']"
Deployability,"""""""Merges input arrays containing sorted candidate positions. positions_array contains all candidate positions for each shart. make_examples; generates candidate positions in a round robin pattern. So, in order to merge; all candidate positions from all shards we take candidate positions from the; first shard, first partition, then second shard first partition and so on.; Partitions within a shard are separated by END_OF_PARTITION special number.; <Shard_1 candidates, partition_1>, <Shard_2 candidates, partition_1>, ...; <Shard_N candidates, partition_1>,; <Shard_1 candidates, partition_2>, <Shard_2 candidates, partition_2> ...; <Shard_N candidates, partition_2>,; ...; <Shard_N candidates, partition_M>, <Shard_2 candidates, partition_M> ...; <Shard_N candidates, partition_M>,. position_arrays is a list of arrays of int32 values. Each list's item contains; candidate positions for one shard. Candidates positions within each shard are; not continuous. See regions_to_process() for details. Args:; position_arrays: list of numpy arrays of int32 containing candidate; positions for each shard. Returns:; List[int] Sorted candidate positions with END_OF_REGION separators.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py:951,continuous,continuous,951,deepvariant/make_examples_core.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py,1,['continuous'],['continuous']
Deployability,"""""""Parse the commandline into known and pipeline arguments. The known arguments are required for this specific program to function,; and the other pipeline arguments can be used to configure beam and the; specific beam backend being used. See; https://github.com/apache/beam/blob/master/sdks/python/apache_beam/options/pipeline_options.py; for a list and description of the pipeline arguments accepted. Args:; argv: List containing command-line arguments. Returns:; A pair, the first of which are the known (non-pipeline) arguments; and the second of which are the pipeline arguments.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/tools/shuffle_tfrecords_beam.py:40,pipeline,pipeline,40,tools/shuffle_tfrecords_beam.py,,https://github.com/google/deepvariant/tree/v1.6.1/tools/shuffle_tfrecords_beam.py,5,['pipeline'],['pipeline']
Deployability,"""""""Reads records from TFRecord files. Args:; pipeline: Beam pipeline object.; input_filename_pattern_list: List of filename patterns. Returns:; A PCollection of read tf.Examples.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/tools/shuffle_tfrecords_beam.py:45,pipeline,pipeline,45,tools/shuffle_tfrecords_beam.py,,https://github.com/google/deepvariant/tree/v1.6.1/tools/shuffle_tfrecords_beam.py,2,['pipeline'],['pipeline']
Deployability,"""""""Returns a VcfHeader used for writing VCF output. This function fills out the FILTER, INFO, FORMAT, and extra header information; created by the DeepVariant pipeline using consistent fields that DeepVariant; creates. The `contigs` and `sample_names` fields are unique depending on the; input data used, so are required inputs. Args:; contigs: list(ContigInfo). The list of contigs on which variants were; called.; sample_names: list(str). The list of samples present in the run.; add_info_candidates: Adds the 'CANDIDATES' info field for debugging; purposes.; include_med_dp: boolean. If True, we will include MED_DP. Returns:; A nucleus.genomics.v1.VcfHeader proto with known fixed headers and the given; samples and contigs populated.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_vcf_constants.py:159,pipeline,pipeline,159,deepvariant/dv_vcf_constants.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_vcf_constants.py,1,['pipeline'],['pipeline']
Deployability,"""""""Returns a list of allele indices configurations with `num_alts` alternates. Args:; variant: nucleus.genomics.v1.Variant. The variant of interest, which; defines the candidate alternate alleles that can be used to generate; allele indices configurations.; num_alts: int in [0, `ploidy`]. The number of non-reference alleles for; which to create the allele indices configurations.; ploidy: int. The ploidy for which to return allele indices configurations. Returns: A list of tuples. Each tuple is of length `ploidy` and represents the; allele indices of all `ploidy` genotypes that contain `num_alts`; non-reference alleles. Raises:; ValueError: The domain of `num_alts` is invalid.; NotImplementedError: `ploidy` is not diploid.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils.py:36,configurat,configurations,36,third_party/nucleus/util/variant_utils.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils.py,4,['configurat'],['configurations']
Deployability,"""""""Returns a new dictionary with deduplicated value. Type description:; Genotype = Tuple[int, int]; Genotypes = List[Genotype]; Haplotypes = FrozenSet[str]. The type of the input `haplotypes_to_genotypes_dict` is:; Dict[Haplotypes, List[Genotypes]]. whereas the return type of deduplicate_haplotypes (this function) is:. Dict[Haplotypes, Genotypes]. This function goes through the values in `haplotypes_to_genotypes_dict` and; keeps only a single example of Genotypes if there are multiple elements of; the list that have the same haplotypes. Duplicates are expected; in the list because different genotype configurations can sometimes produce; the same set of haplotypes, and analyzing a dict of possible; haplotypes/genotypes combinations with duplicates is much harder and less; efficient than the deduplicated dict. Args:; haplotypes_to_genotypes_dict: Dict[Haplotypes, List[Genotypes]]. Returns:; Dict[Haplotypes, Genotypes].; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler.py:607,configurat,configurations,607,deepvariant/labeler/haplotype_labeler.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler.py,1,['configurat'],['configurations']
Deployability,"""""""Returns an InceptionV3 architecture. See https://tensorflow.org/api_docs/python/tf/keras/applications/InceptionV3. Args:; input_shape: a 3-tuple describing the input shape.; weights: str. To initial weights from.; init_backbone_with_imagenet: If True, get a model with InceptionV3 that has; `weights='imagenet'` to start with. This will download a model. It should; be set to False in unit tests, or when specific model weights will be; loaded afterwards.; config: a model configuration. Returns:; An InceptionV3-based model.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py:476,configurat,configuration,476,deepvariant/keras_modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py,1,['configurat'],['configuration']
Deployability,"""""""Returns an iterable of allele configurations that satisfy the genotype. Args:; variants: list(Variant). The list of variants for which to generate; configurations of valid allele_indices.; nonref_count_configuration: list(int). The list of numbers of non-reference; genotypes that should be generated for each variant. Returns:; Iterable of lists of allele indices to assign to each Variant to satisfy the; desired configuration of number of non-reference genotypes for each variant. Raises:; ValueError: variants and nonref_count_configuration do not have the same; length.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py:33,configurat,configurations,33,deepvariant/haplotypes.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py,3,['configurat'],"['configuration', 'configurations']"
Deployability,"""""""Returns the directory we are supposed to install into.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/pip_package/setup.py:44,install,install,44,third_party/nucleus/pip_package/setup.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/pip_package/setup.py,1,['install'],['install']
Deployability,"""""""Returns the joint likelihood of the alleles given to the variants. Args:; variants: list(Variant). The variants with associated likelihoods.; allele_indices_config: list((int, int)). The allele indices to assign to; each variant. Returns:; The joint likelihood of the particular allele configuration. Raises:; ValueError: variants and allele_indices_config do not have the same length.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py:289,configurat,configuration,289,deepvariant/haplotypes.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py,1,['configurat'],['configuration']
Deployability,"""""""Runs all 3 steps to go from input DNA reads to output VCF/gVCF files. This script is used to run DeepSomatic, which is an extension of DeepVariant.; If you want to access more flags that are available in `make_examples_somatic`,; `call_variants`, and `postprocess_variants`, you can also call them separately; using the binaries in the Docker image. DeepSomatic is not officially supported or released yet. This script does not; include a released model yet.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deepsomatic.py:396,release,released,396,scripts/run_deepsomatic.py,,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deepsomatic.py,2,['release'],['released']
Deployability,"""""""Sets a field of the info map of the `VariantCall` to the given value(s). `variant_call.info` is analogous to the FORMAT field of a VCF call. Example usage:; with vcf.VcfReader('/path/to/my.vcf') as vcf_reader:; for variant in vcf_reader:; first_call = variant.calls[0]; # Type can be inferred for reserved VCF fields.; set_format(first_call, 'AD', 25); # Specify the reader explicitly for unknown fields.; set_format(first_call, 'MYFIELD', 30, vcf_reader). Args:; variant_call: VariantCall proto. The VariantCall to modify.; field_name: str. The name of the field to set.; value: A single value or list of values to update the VariantCall with.; The type of the value is determined by the `vcf_object` if one is given,; otherwise is looked up based on the reserved FORMAT fields in the VCF; specification.; vcf_object: (Optional) A VcfReader or VcfWriter object. If not None, the; type of the field is inferred from the associated VcfReader or VcfWriter; based on its name. Otherwise, the type is inferred if it is a reserved; field.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variantcall_utils.py:619,update,update,619,third_party/nucleus/util/variantcall_utils.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variantcall_utils.py,1,['update'],['update']
Deployability,"""""""Sets a field of the info map of the `Variant` to the given value(s). `variant.info` is analogous to the INFO field of a VCF record. Args:; variant: Variant proto. The Variant to modify.; field_name: str. The name of the field to set.; value: A single value or list of values to update the Variant with. The type; of the value is determined by the `vcf_object` if one is given, otherwise; is looked up based on the reserved INFO fields in the VCF specification.; vcf_object: (Optional) A VcfReader or VcfWriter object. If not None, the; type of the field is inferred from the associated VcfReader or VcfWriter; based on its name. Otherwise, the type is inferred if it is a reserved; field.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils.py:281,update,update,281,third_party/nucleus/util/variant_utils.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils.py,1,['update'],['update']
Deployability,"""""""Test that our Nucleus installation does not cause issues with TensorFlow.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/tensorflow_smoke_test.py:25,install,installation,25,third_party/nucleus/testing/tensorflow_smoke_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/tensorflow_smoke_test.py,1,['install'],['installation']
Deployability,"""""""Trim a read down to the part that aligns within a given region. The following properties of the read are updated, trimming on both sides as; necessary to save only the parts of the read that fit fully within the; region, potentially starting and ending at the region's boundaries:; - The alignment position (read.alignment.position.position).; - The read sequence (read.aligned_sequence).; - Base qualities (read.aligned_quality).; - The cigar string of the alignment (read.alignment.cigar). Args:; read: A `nucleus.protos.Read` that is aligned to the region.; region: A `nucleus.protos.Range` region. Returns:; a new `nucleus.protos.Read` trimmed to the region.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner.py:108,update,updated,108,deepvariant/realigner/realigner.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner.py,1,['update'],['updated']
Deployability,"""""""Update self._metrics with the HaplotypeMatch labeling results. This function updates the LabelingMetrics information in self._metrics using; the labeling results in labeling. Args:; labeling: HaplotypeMatch. The labeling information to use to update our; LabelingMetrics.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler.py:3,Update,Update,3,deepvariant/labeler/haplotype_labeler.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler.py,3,"['Update', 'update']","['Update', 'update', 'updates']"
Deployability,"""""""Updates `kwargs` with `extra_args`; gives a warning if values changed.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deepsomatic.py:3,Update,Updates,3,scripts/run_deepsomatic.py,,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deepsomatic.py,3,['Update'],['Updates']
Deployability,"""""""Updates haplotypes for a variant. A list of variant haplotypes are updated given a variant and a reference; haplotype (this consists of a sequence and an offset wrt to the reference).; All ALT alleles are updated as independent updated haplotypes. Args:; variant: A Variant proto.; reference_haplotype: A string extracted from the reference genome.; reference_offset: An integer. The offset of the starting position of; reference_haplotype on reference. Raises:; ValueError: Variant.start is smaller than reference_offset. Returns:; A list of haplotype objects. Haplotype objects are stored as dicts:; {'haplotype': a haplotype (string),; 'alt': an alt allele (string),; 'variant': a Variant proto}; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allele_frequency.py:3,Update,Updates,3,deepvariant/allele_frequency.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allele_frequency.py,4,"['Update', 'update']","['Updates', 'updated']"
Deployability,"""""""Updates variant.call fields indexed by ref + alt_alleles. Args:; variant: Variant proto. We will update the info fields of the Variant.call; protos.; fields: Iterable of string. Each string should provide a key to an; alternative allele indexed field in VariantCall.info fields. Each field; specified here will be updated to remove values associated with alleles; no longer wanted according to this remapper object.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py:3,Update,Updates,3,deepvariant/postprocess_variants.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py,3,"['Update', 'update']","['Updates', 'update', 'updated']"
Deployability,"""""""Writes a file summarizing the PCollection of Examples. Args:; pipeline: Beam pipeline object.; output_examples: PCollection of examples.; input_pattern_list: str. A comma-separated string of input files.; dataset_name: str. The name of the dataset to be written in the output.; output_pattern_prefix: str. The prefix of the sharded output files.; output_filename: the output text file that contains the summary that can be; parsed into DeepVariantDatasetConfig.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/tools/shuffle_tfrecords_beam.py:65,pipeline,pipeline,65,tools/shuffle_tfrecords_beam.py,,https://github.com/google/deepvariant/tree/v1.6.1/tools/shuffle_tfrecords_beam.py,2,['pipeline'],['pipeline']
Deployability,"""""""Writes out the example using writer; updates labels and types as needed.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py:40,update,updates,40,deepvariant/make_examples_core.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py,1,['update'],['updates']
Deployability,"""""""tf.data.Dataset loading function. Args:; path: the input filename for a tfrecord[.gz] file containing examples. Can; contain sharding designators.; config: A configuration file.; mode: One of ['train', 'tune', 'predict']; strategy: A tf.distribute.Strategy.; n_epochs: Number of epochs.; limit: Limit the number of batches for testing purposes. Returns:; tf.data.Dataset; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py:161,configurat,configuration,161,deepvariant/data_providers.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py,1,['configurat'],['configuration']
Deployability,"# ---------------------------------------------------------------------------; # Set configuration settings.; # ---------------------------------------------------------------------------",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner.py:85,configurat,configuration,85,deepvariant/realigner/realigner.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner.py,1,['configurat'],['configuration']
Deployability,"# Beam currently has no way to materialize pipeline values, so we have; # to construct the file entirely in Beam pipeline operations.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/tools/shuffle_tfrecords_beam.py:43,pipeline,pipeline,43,tools/shuffle_tfrecords_beam.py,,https://github.com/google/deepvariant/tree/v1.6.1/tools/shuffle_tfrecords_beam.py,2,['pipeline'],['pipeline']
Deployability,"# Check all configurations for the CANDIDATES enumeration:",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py:12,configurat,configurations,12,deepvariant/labeler/haplotype_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py,1,['configurat'],['configurations']
Deployability,"# Check all configurations for the ONLY_HOM_REF enumeration:",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py:12,configurat,configurations,12,deepvariant/labeler/haplotype_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py,1,['configurat'],['configurations']
Deployability,"# Check all configurations for the TRUTH enumeration:",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py:12,configurat,configurations,12,deepvariant/labeler/haplotype_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py,1,['configurat'],['configurations']
Deployability,"# Collapse the probabilities of all configurations to a single GL for each; # allele, independently for each variant.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py:36,configurat,configurations,36,deepvariant/haplotypes.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py,1,['configurat'],['configurations']
Deployability,"# Copy over the example_info.json file before the pipeline starts.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/tools/shuffle_tfrecords_beam.py:50,pipeline,pipeline,50,tools/shuffle_tfrecords_beam.py,,https://github.com/google/deepvariant/tree/v1.6.1/tools/shuffle_tfrecords_beam.py,1,['pipeline'],['pipeline']
Deployability,"# Create a ""new"" model from the updated configuration and load the original; # model's weights.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py:32,update,updated,32,deepvariant/keras_modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py,2,"['configurat', 'update']","['configuration', 'updated']"
Deployability,"# Current release version of DeepTrio.; # Should be the same in dv_vcf_constants.py.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deeptrio.py:10,release,release,10,scripts/run_deeptrio.py,,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deeptrio.py,1,['release'],['release']
Deployability,"# Current release version of DeepVariant.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_vcf_constants.py:10,release,release,10,deepvariant/dv_vcf_constants.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_vcf_constants.py,1,['release'],['release']
Deployability,"# Current release version of DeepVariant.; # Should be the same in dv_vcf_constants.py.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deepsomatic.py:10,release,release,10,scripts/run_deepsomatic.py,,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deepsomatic.py,2,['release'],['release']
Deployability,"# Data Pipeline Options",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_config.py:7,Pipeline,Pipeline,7,deepvariant/dv_config.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_config.py,1,['Pipeline'],['Pipeline']
Deployability,"# If the actual genotype calls are compatible, we can safely return those; # since they would be the most likely configuration also when restricting to; # only valid configurations of genotype calls.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py:113,configurat,configuration,113,deepvariant/haplotypes.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py,2,['configurat'],"['configuration', 'configurations']"
Deployability,"# Initialize labels and types to be updated in the for loop below.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py:36,update,updated,36,deepvariant/make_examples_core.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py,1,['update'],['updated']
Deployability,"# Leave mean loss as the last metric as it is updated differently.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py:46,update,updated,46,deepvariant/keras_modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py,1,['update'],['updated']
Deployability,"# Logging frequency when building our rangeset objects, which can take some time; # to complete. Rather than just pausing for a few minutes, we provide an update; # logging message every _LOG_EVERY_N_RANGES_IN_RANGESET_INIT records added. See; # internal for more information.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges.py:155,update,update,155,third_party/nucleus/util/ranges.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges.py,1,['update'],['update']
Deployability,"# Multi-allelic configurations:",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py:16,configurat,configurations,16,deepvariant/labeler/haplotype_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py,1,['configurat'],['configurations']
Deployability,"# Note these calculations aren't necessary, but they are included here to; # mimic the data processing pipeline used by inception. We may consider; # removing them in a future CL, or making them optional, to reduce CPU cost; # of this model.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:103,pipeline,pipeline,103,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['pipeline'],['pipeline']
Deployability,"# Once pandas is updated to 0.24+, pd.read_csv will work for gs://; # without this workaround.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/runtime_by_region_vis.py:17,update,updated,17,deepvariant/runtime_by_region_vis.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/runtime_by_region_vis.py,1,['update'],['updated']
Deployability,"# Otherwise, the actual genotype calls are incompatible. Since the genotype; # likelihoods are generally well-calibrated, we examine all configurations of; # genotypes that create compatible haplotypes and retain the single; # configuration with the highest joint likelihood across all variants as the; # proposed genotype assignment. Separately, we rescale the likelihood of each; # individual variant using only the valid genotype configurations. If the; # results are concordant (i.e., the genotype predicted by the marginal; # likelihood for each variant is the same as the genotype predicted when; # maximizing the joint likelihood across all variants), we return variants; # with those calls and the rescaled likelihoods. Otherwise, we log a warning; # and emit the original (incompatible) variants.; #; # For example, a biallelic deletion with probabilities of homref, het, homalt; # = 0.01, 0.9, 0.09 and inside it a biallelic SNP with probs 0.02, 0.48, 0.5.; # Naively this would be called as a heterozygous indel and a homozygous SNP,; # which is impossible as there are three total alternate genotypes. The; # algorithm does the following:; #; # Indel SNP Joint prob; # 0/0 0/0 0.01 * 0.02 = 0.0002; # 0/0 0/1 0.01 * 0.48 = 0.0048; # 0/0 1/1 0.01 * 0.50 = 0.0050; # 0/1 0/0 0.90 * 0.02 = 0.0180; # 0/1 0/1 0.90 * 0.48 = 0.4320*; # 0/1 1/1 <invalid> = 0; # 1/1 0/0 0.09 * 0.02 = 0.0018; # 1/1 0/1 <invalid> = 0; # 1/1 1/1 <invalid> = 0; #; # So using the highest joint likelihood, we predict het indel and het SNP.; #; # The marginal probability of each genotype for the indel is:; # 0/0: 0.0002 + 0.0048 + 0.0050 = 0.01; # 0/1: 0.0180 + 0.4320 = 0.45; # 1/1: 0.0018 = 0.0018; #; # which after normalizing to sum to 1 is roughly 0.022, 0.974, 0.004.; # The marginal probability for the SNP, after performing similar; # calculations, is 0.043, 0.946, 0.011. So the marginals also predict a het; # indel and a het SNP. Since the two calculations agree, we use this; # genotype call and modifie",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py:137,configurat,configurations,137,deepvariant/haplotypes.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py,3,['configurat'],"['configuration', 'configurations']"
Deployability,"# Save the updated model configuration.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py:11,update,updated,11,deepvariant/keras_modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py,2,"['configurat', 'update']","['configuration', 'updated']"
Deployability,"# Simple bi-allelic configurations:",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py:20,configurat,configurations,20,deepvariant/labeler/haplotype_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py,1,['configurat'],['configurations']
Deployability,"# TODO: Change to True as default before release.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deeptrio.py:41,release,release,41,scripts/run_deeptrio.py,,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deeptrio.py,2,['release'],['release']
Deployability,"# TODO: Externally, we can try to use older version of; # average_model_checkpoint.py. For example: r0.13, so that it will be compatible; # to this version we're patching internally.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/average_model_checkpoint_patched.py:162,patch,patching,162,deepvariant/average_model_checkpoint_patched.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/average_model_checkpoint_patched.py,1,['patch'],['patching']
Deployability,"# TODO: Update the tests to reflect the new default (False).",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner_test.py:8,Update,Update,8,deepvariant/realigner/realigner_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner_test.py,1,['Update'],['Update']
Deployability,"# Test some simple overlap configurations.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges_test.py:27,configurat,configurations,27,third_party/nucleus/util/ranges_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges_test.py,1,['configurat'],['configurations']
Deployability,"# Tests that we call almost all of the real variants (according to NIST's; # Genome in a Bottle callset for NA12878) in our candidate callset.; # Tests that we don't have an enormous number of FP calls. We should have; # no more than 5x (arbitrary) more candidate calls than real calls. If we; # have more it's likely due to some major pipeline problem.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py:336,pipeline,pipeline,336,deeptrio/make_examples_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py,2,['pipeline'],['pipeline']
Deployability,"# The maximum number of overlapping variants to try to resolve into compatible; # haplotypes. This corresponds to generating 3^12 (= 531,441) possible variant; # configurations for diploid individuals.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py:162,configurat,configurations,162,deepvariant/haplotypes.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py,1,['configurat'],['configurations']
Deployability,"# This configuration makes the most sense but we cannot choose it; # if we want to minimize the number of FNs, FPs, and then TPs.; # [0, 0],; # [0, 0],; # [1, 1],",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py:7,configurat,configuration,7,deepvariant/labeler/haplotype_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py,1,['configurat'],['configuration']
Deployability,"# This is the entry point to get a DeepVariantInput when you start with; # a dataset configuration file name.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py:85,configurat,configuration,85,deepvariant/data_providers.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py,1,['configurat'],['configuration']
Deployability,"# Update REF frequency if it is not in the dictionary.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allele_frequency.py:2,Update,Update,2,deepvariant/allele_frequency.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allele_frequency.py,1,['Update'],['Update']
Deployability,"# Update our intersected RangeSet with the new intervals.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges.py:2,Update,Update,2,third_party/nucleus/util/ranges.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges.py,1,['Update'],['Update']
Deployability,"# Update our position variable to be the next reference base we want to; # use when further constructing our haplotype string. If we are using; # the reference base, we start our position at the base after variant; # start, whereas if we are using a non-reference base we use the; # variant.end.; #; # This special-case is needed to handle deletion alleles properly. If we; # have a deletion (e.g., AA => A with start = 10 and end = 12) then we; # only want to skip to position 12 for the next reference bases if we; # have have the deletion, otherwise we'd miss the second 'A' base which; # is really there (the variant isn't present, after all). Another; # consequence of this choice we only want to add the first base of the; # reference allele, not the whole string, since this would append all of; # deletion bases inappropriately to our haplotype.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler.py:2,Update,Update,2,deepvariant/labeler/haplotype_labeler.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler.py,1,['Update'],['Update']
Deployability,"# Use the truth_by_pos dict to determine which candidates occur at the; # same position as a truth variant. If there is one, grab it and its; # genotypes so we can compute metrics on exact position, allele, genotype; # matches. If not, update the number of inexact matches if our candidate; # is non-reference itself.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler.py:236,update,update,236,deepvariant/labeler/haplotype_labeler.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler.py,1,['update'],['update']
Deployability,"# We are considering the het-alt configuration here of A vs. C+G. We've; # got one copy of the C allele so our true genotype is het. If truth is; # hom-var for the C, though, we again label the composite as hom_var as; # we have two copies of the C/G alt.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/variant_labeler_test.py:33,configurat,configuration,33,deepvariant/labeler/variant_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/variant_labeler_test.py,1,['configurat'],['configuration']
Deployability,"# We cannot do entry.values[:] = updated as the ListValue type ""does; # not support assignment"" so we have to do this grossness.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py:33,update,updated,33,deepvariant/postprocess_variants.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py,1,['update'],['updated']
Deployability,"# We update our num_examples in the situation where num_examples is set; # (i.e., is not None) to the smaller of max_examples and num_examples.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py:5,update,update,5,deepvariant/data_providers.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py,1,['update'],['update']
Deployability,"# When num_examples isn't provided (None), but max_examples is, we don't; # update num_examples so it remains None.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers_test.py:76,update,update,76,deepvariant/data_providers_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers_test.py,1,['update'],['update']
Deployability,"// Adds the alleles from read to our AlleleCounts. This method is also called; // by NormalizeAndAdd. In that case allele counts are created using a; // normalized cigar and update read alignment position passed as an optional; // parameter.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.h:174,update,update,174,deepvariant/allelecounter.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.h,1,['update'],['update']
Deployability,"// Check if configuration has disabled this FORMAT field.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.cc:12,configurat,configuration,12,third_party/nucleus/io/vcf_conversion.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.cc,1,['configurat'],['configuration']
Deployability,"// Check if configuration has disabled this INFO field.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.cc:12,configurat,configuration,12,third_party/nucleus/io/vcf_conversion.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.cc,1,['configurat'],['configuration']
Deployability,"// Close the file and release its resources.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/tfrecord_reader.h:22,release,release,22,third_party/nucleus/io/tfrecord_reader.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/tfrecord_reader.h,2,['release'],['release']
Deployability,"// Helper function to update counts from `start` (inclusive) to `end`; // (exclusive) by `by`. This function also provides some tolerance to invalid; // start and end values: if `start < 0`, a value of `start = 0` is used instead.; // If `end > counts->size()` then `end = counts->size()` will be used instead.; // This simplifies the call site where the bounding of start/end can be; // overloaded to this function instead of duplicating it at all call sites.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector.cc:22,update,update,22,deepvariant/realigner/window_selector.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector.cc,1,['update'],['update']
Deployability,"// Helper method to update other member variables when |header_| is changed.; // This can happen during initialization or when a new header field is; // encountered while reading.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_reader.h:20,update,update,20,third_party/nucleus/io/vcf_reader.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_reader.h,1,['update'],['update']
Deployability,"// If merged_reads_ already contains the read we keep its phase and update; // phase distribution for the read.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/merge_phased_reads.cc:68,update,update,68,deepvariant/merge_phased_reads.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/merge_phased_reads.cc,1,['update'],['update']
Deployability,"// If the score for the given vertices already exists then we update; // it if the new score is higher.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing.cc:62,update,update,62,deepvariant/direct_phasing.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing.cc,1,['update'],['update']
Deployability,"// Install adapters for FORMAT fields.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.cc:3,Install,Install,3,third_party/nucleus/io/vcf_conversion.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.cc,1,['Install'],['Install']
Deployability,"// Install adapters for INFO fields.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.cc:3,Install,Install,3,third_party/nucleus/io/vcf_conversion.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.cc,1,['Install'],['Install']
Deployability,"// Is this iterable alive, in the sense that; // - its reader is still open; and; // - it has not been released?",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reader_base.h:103,release,released,103,third_party/nucleus/io/reader_base.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reader_base.h,1,['release'],['released']
Deployability,"// Method to *explicitly* ""release"" this iterable to enable another; // iteration to proceed. Returns OK status if the release was successful, or; // an error if not.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reader_base.h:27,release,release,27,third_party/nucleus/io/reader_base.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reader_base.h,2,['release'],['release']
Deployability,"// On destruction, release the reader to be iterated again.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reader_base.h:19,release,release,19,third_party/nucleus/io/reader_base.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reader_base.h,1,['release'],['release']
Deployability,"// Release memory.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing_test.cc:3,Release,Release,3,deepvariant/direct_phasing_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing_test.cc,15,['Release'],['Release']
Deployability,"// TODO Call UpdateStartingScore if score cannot be improved from; // position to the next position. This happens with bad data where reads; // are mismapped. Good example is chr1:143175001-143200000.; // In this case we can break the graph and treat each piece as separate; // graphs. This TODO has a lower impact because it happens with ""bad"" data; // and DeepVariant will reject these candidates in most of the cases.; // The work is tracked in internal",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing.cc:13,Update,UpdateStartingScore,13,deepvariant/direct_phasing.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing.cc,1,['Update'],['UpdateStartingScore']
Deployability,"// TODO: get rid of pessimizing string_view -> string conversions; // once our OSS dependencies are updated.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/fastq_reader.cc:100,update,updated,100,third_party/nucleus/io/fastq_reader.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/fastq_reader.cc,1,['update'],['updated']
Deployability,"// TODO: use hts_idx_load after htslib upgrade.; // This call may return null, which we will look for at Query time.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.cc:39,upgrade,upgrade,39,third_party/nucleus/io/sam_reader.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.cc,1,['upgrade'],['upgrade']
Deployability,"// There are two reads that don't have a MAPQ60. The 0 MAPQ is flagged as; // unmapped, and there is another with MAPQ of 37. We test below that we get; // the right number of reads for each configuration of requirements.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader_test.cc:191,configurat,configuration,191,third_party/nucleus/io/sam_reader_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader_test.cc,1,['configurat'],['configuration']
Deployability,"// This exercises a bug in gcc 5.4. internal; // Building libssw with -fno-inline should work around it.; // Updated Oct 2022: Even though we no longer need the workaround, I'm keeping; // this test.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/ssw_test.cc:109,Update,Updated,109,deepvariant/realigner/ssw_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/ssw_test.cc,1,['Update'],['Updated']
Deployability,"// Update cache.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference.cc:3,Update,Update,3,third_party/nucleus/io/reference.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference.cc,1,['Update'],['Update']
Deployability,"// Update internal structures. It is assumed that this function is called; // once and only once for every vertex.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing.h:3,Update,Update,3,deepvariant/direct_phasing.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing.h,1,['Update'],['Update']
Deployability,"// Update position map for each haplotype. Position map stores shifts for; // each position of a haplotype in respect to haplotype to reference; // alignment. This map helps to quickly calculate reference position for; // a read from a read to haplotype alignment.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner.h:3,Update,Update,3,deepvariant/realigner/fast_pass_aligner.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner.h,1,['Update'],['Update']
Deployability,"// Update sample to allele map. This may allows us to determine set of; // samples that support each allele.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.cc:3,Update,Update,3,deepvariant/allelecounter.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.cc,1,['Update'],['Update']
Deployability,"// Update special-cased variant fields.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.cc:3,Update,Update,3,third_party/nucleus/io/vcf_conversion.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.cc,1,['Update'],['Update']
Deployability,"// Update starting score.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing_test.cc:3,Update,Update,3,deepvariant/direct_phasing_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing_test.cc,1,['Update'],['Update']
Deployability,"// Update the score for {edge1, edge2}",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing_test.cc:3,Update,Update,3,deepvariant/direct_phasing_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing_test.cc,1,['Update'],['Update']
Deployability,"// We cannot return a Status from our destructor, so the best we can do; // if we need to release resources and cannot is CHECK-fail.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reader_base.cc:90,release,release,90,third_party/nucleus/io/reader_base.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reader_base.cc,1,['release'],['release']
Deployability,"// We don't update our counts for reference positions.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector.cc:12,update,update,12,deepvariant/realigner/window_selector.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector.cc,1,['update'],['update']
Deployability,"/// \brief If `ok()`, stores `new_status` into `*this`. If `!ok()`,; /// preserves the current status, but may augment with additional; /// information about `new_status`.; ///; /// Convenient way of keeping track of the first error encountered.; /// Instead of:; /// `if (overall_status.ok()) overall_status = new_status`; /// Use:; /// `overall_status.Update(new_status);`",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/status.h:354,Update,Update,354,third_party/nucleus/core/status.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/status.h,1,['Update'],['Update']
Deployability,"eturn variants; # with those calls and the rescaled likelihoods. Otherwise, we log a warning; # and emit the original (incompatible) variants.; #; # For example, a biallelic deletion with probabilities of homref, het, homalt; # = 0.01, 0.9, 0.09 and inside it a biallelic SNP with probs 0.02, 0.48, 0.5.; # Naively this would be called as a heterozygous indel and a homozygous SNP,; # which is impossible as there are three total alternate genotypes. The; # algorithm does the following:; #; # Indel SNP Joint prob; # 0/0 0/0 0.01 * 0.02 = 0.0002; # 0/0 0/1 0.01 * 0.48 = 0.0048; # 0/0 1/1 0.01 * 0.50 = 0.0050; # 0/1 0/0 0.90 * 0.02 = 0.0180; # 0/1 0/1 0.90 * 0.48 = 0.4320*; # 0/1 1/1 <invalid> = 0; # 1/1 0/0 0.09 * 0.02 = 0.0018; # 1/1 0/1 <invalid> = 0; # 1/1 1/1 <invalid> = 0; #; # So using the highest joint likelihood, we predict het indel and het SNP.; #; # The marginal probability of each genotype for the indel is:; # 0/0: 0.0002 + 0.0048 + 0.0050 = 0.01; # 0/1: 0.0180 + 0.4320 = 0.45; # 1/1: 0.0018 = 0.0018; #; # which after normalizing to sum to 1 is roughly 0.022, 0.974, 0.004.; # The marginal probability for the SNP, after performing similar; # calculations, is 0.043, 0.946, 0.011. So the marginals also predict a het; # indel and a het SNP. Since the two calculations agree, we use this; # genotype call and modified likelihoods.; #; # First, we find all non-reference count configurations that are compatible.; # This represents each variant solely based on its number of non-reference; # genotypes, and assumes that variants are compatible if the total number of; # non-reference genotypes at a single position is at most two. By using; # non-reference counts, we avoid testing multiple allele configurations that; # will return the same result (e.g. a variant with two possible alternate; # alleles has three allele configurations that are homozygous alternate; # [1/1, 1/2, 2/2] and either all or none of them will be valid depending on; # the variants it interacts with).",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py:2061,configurat,configurations,2061,deepvariant/haplotypes.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py,3,['configurat'],['configurations']
Deployability,"und. Computes the reference confidence for site allele_count. Examines the number of reference supporting and alternate supporting reads; in allele_count and estimates the genotype likelihoods and confidence that; this site is homozygous reference. These values are written into the first; VariantCall record of variant, into the repeated field genotype_likelihood; and the map field GQ. The genotype likelihoods are computed against any possible alternative; allele, the so-called <*> allele, which boils down to a model that looks; like:. log10_p_ref = (1 - p_error)^(ref_n) (p_error)^(non_ref_n); log10_p_het = (0.5)^(total_n); log10_p_hom_alt = (p_e)^(ref_n) (1 - p_error)^(non_ref_n). ref_n is the number of reference supporting reads and non_ref_n is the sum; of any reads supporting any alternate alleles. Non-informative reads are; excluded from the calculation. and written in as the normalized log10 values so that:. sum(10^genotype_likelihoods) = 1. The GQ, according to the VCF specification, is the conditional genotype; quality, encoded as a phred quality -10 * log10 p(genotype call is wrong,; conditioned on the site's being variant, as an integer. See:; https:samtools.github.io/hts-specs/VCFv4.3.pdf; We are calculating the GQ not for the best genotype, but the GQ of the 0/0; genotype, regardless of the likelihoods.; 1 = pRR + pRA + pAA; [R is reference, A=<*> is any alternative alternative]; GQ of 0/0 = -10 * log10(pRA + pAA) [prob that any other differen genotype]; = -10 * log10(1 - pRR) [substitution from the previous equation]; Here we don't have pRR directly, but rather log10(pRR). Args:; n_ref: int >= 0 and <= n_total: The number of reads supporting the; reference allele.; n_total: int >= 0 and >= n_ref: The number of reads supporting any allele; at this site. Returns:; A tuple of two values. The first is an integer value for the GQ (genotype; quality) and the second is an array-like of the log10 probabilities for; each of the three genotype configurations.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_caller.py:2271,configurat,configurations,2271,deepvariant/variant_caller.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_caller.py,1,['configurat'],['configurations']
Energy Efficiency," CONTRIBUTORS BE; * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; *; */; // Get basic information about a reference genome as well as make it cpu and; // memory efficient and scalable to get the reference bases for an interval on; // the genome.; //; // The GenomeReference provides the core functionality needed to use a reference; // genome for data processing and analyses tools:; //; // -- Get information about the contigs (aka chromosomes) present the FASTA,; // such as its name, description, and number of basepairs.; // -- Efficiently lookup the sequence of bases in an interval in the reference; // genome. For example, GetBases(""chr1"", 0, 10) gets the basepair sequence; // from the first base to the ninth base on chr1. This function call has; // cost roughly proportional to the size of the query interval, regardless; // of its position in the original FASTA file.; //; // The code here makes some strong assumptions about what a client could want.; // It doesn't record the position of bases in the original FASTA, and it doesn't; // track line breaks, comments, and other features of the FASTA. It uppercases; // the basepair sequences, so complexity or other information encoded in the; // case of the bases is lost. It also ensures that all of the bases in the; // reference are either {A,C,G,T,N} by refusing to import reference sequences; // containing other characters. The code assumes that random accesses of; // reasonably small chunks of sequence is important at the expense of low-cost; // (but still reasonably efficient) iteration of all sequ",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference.h:2005,Efficient,Efficiently,2005,third_party/nucleus/io/reference.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference.h,1,['Efficient'],['Efficiently']
Energy Efficiency,"""""""Adjust an array to prepare it for saving to an image. Re-scale numbers in the input array to go from 0 to 255 to adapt them for a; PNG image. Args:; arr: numpy array. Should be 2-dimensional or 3-dimensional where the third; dimension has 3 channels.; vmin: number (float or int). Minimum data value, which will correspond to; black in greyscale or lack of each color in RGB images. Default None takes; the minimum of the data from arr.; vmax: number (float or int). Maximum data value, which will correspond to; white in greyscale or full presence of each color in RGB images. Default; None takes the max of the data from arr. Returns:; (modified numpy array, image_mode); """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vis.py:116,adapt,adapt,116,third_party/nucleus/util/vis.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vis.py,1,['adapt'],['adapt']
Energy Efficiency,"""""""Applies preprocessing operations for Inception images. Because this will run in model_fn, on the accelerator, we use operations; that efficiently execute there. Args:; images: A Tensor of shape [batch_size height, width, channel] with uint8; values. Returns:; A tensor of images of shape [batch_size height, width, channel]; containing floating point values, with all points rescaled between; -1 and 1 and possibly resized.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_utils.py:137,efficient,efficiently,137,deepvariant/dv_utils.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_utils.py,1,['efficient'],['efficiently']
Energy Efficiency,"""""""Applies preprocessing operations for Inception images. Because this will run in model_fn, on the accelerator, we use operations; that efficiently execute there. Args:; images: An Tensor of shape [batch_size height, width, channel] with uint8; values. Returns:; A tensor of images of shape [batch_size height, width, channel]; containing floating point values, with all points rescaled between; -1 and 1 and possibly resized.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:137,efficient,efficiently,137,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['efficient'],['efficiently']
Energy Efficiency,"""""""Computes the intersection among this RangeSet and *others RangeSets. This function computes the intersection of all of the intervals in self and; *others, returning a RangeSet containing only intervals common to all. The; intersection here is an ranged intersection, not an identity intersection,; so the resulting set of intervals may not contain any of the original; intervals in any of the sets. To be concrete, suppose we have three sets to intersect, each having two; intervals:. self : chr1:1-10, chr2:20-30; other1 : chr1:5-8, chr3:10-40; other2 : chr1:3-7, chr3:10-30. self.intersection(other1, other2) produces a RangeSet with one interval; chr1:5-7, the common bases on chr1 in self, other1, and other2. No intervals; on chr2 or chr3 are included since the chr2 only occurs in self and the two; intervals on chr3, despite having some shared bases, don't have an; overlapping interval in self. Args:; *others: A list of RangeSet objects to intersect with the intervals in; this RangeSet. Returns:; A RangeSet. If *others is empty, this function returns self rather than; making an unnecessary copy. In all other cases, the returned value will be; a freshly allocated RangeSet.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges.py:1169,allocate,allocated,1169,third_party/nucleus/util/ranges.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges.py,1,['allocate'],['allocated']
Energy Efficiency,"""""""Convert 6-channel image from DeepVariant to RGB for quick visualization. The 6 channels are: ""read base"", ""base quality"", ""mapping quality"", ""strand"",; ""supports variant"", ""base != reference"". Args:; channels: a list of 6 numpy arrays. Returns:; 3D numpy array of 3 colors (Red, green, blue).; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vis.py:282,green,green,282,third_party/nucleus/util/vis.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vis.py,1,['green'],['green']
Energy Efficiency,"""""""Create a DeepVariantInput object, usable as an `input_fn`. Args:; mode: the mode string (from `tf.estimator.ModeKeys`).; input_file_spec: the input filename for a tfrecord[.gz] file containing; examples. Can contain sharding designators.; num_examples: the number of examples contained in the input file. Required; for setting learning rate schedule in train/eval only.; num_classes: The number of classes in the labels of this dataset.; Currently defaults to DEFAULT_NUM_CLASSES.; max_examples: The maximum number of examples to use. If None, all examples; will be used. If not None, the first n = min(max_examples, num_examples); will be used. This works with training, and the n examples will repeat; over and over.; tensor_shape: None (which means we get the shape from the first example in; source), or list of int [height, width, channel] for testing.; name: string, name of the dataset.; use_tpu: use code paths tuned for TPU, in particular protobuf encoding.; Default False.; input_read_threads: number of threads for reading data. Default 32.; shuffle_buffer_size: size of the final shuffle buffer, in elements.; Default 100.; initial_shuffle_buffer_size: int; the size of the dataset.shuffle buffer; in elements. Default is 1024.; prefetch_dataset_buffer_size: int; the size of the TFRecordDataset buffer; in bytes. Default is 16 * 1000 * 1000.; sloppy: boolean, allow parallel_interleave to be sloppy. Default True.; list_files_shuffle: boolean, allow list_files to shuffle. Default True.; debugging_true_label_mode: boolean. If true, the input examples are; created with ""training"" mode. We'll parse the 'label' field even if the; `mode` is PREDICT. Raises:; ValueError: if `num_examples` not provided, in a context requiring it.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py:344,schedul,schedule,344,deepvariant/data_providers.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py,1,['schedul'],['schedule']
Energy Efficiency,"""""""Library to gather runtime performance metrics. This module exposes the ResourceMonitor class, which client code can use to; gather resource usage metrics about their program. An example usage would look; something like:. with ResourceMonitor() as monitor:; ... do work ...; metrics = monitor.metrics(); """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/resources.py:250,monitor,monitor,250,deepvariant/resources.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/resources.py,2,['monitor'],['monitor']
Energy Efficiency,"""""""Make a PNG and show it from a numpy array of dtype=np.uint8. Args:; arr: numpy array. Input array to save.; path: str. File path at which to save the image. A .png prefix is added if; the path does not already have one. Leave empty to save at /tmp/tmp.png,; which is useful when only temporarily showing the image in a Colab; notebook.; image_mode: ""RGB"" or ""L"". Leave as default=None to choose based on image; dimensions.; show: bool. Whether to display the image using IPython (for notebooks).; labels: list of str. Labels to show across the top of the image.; scale: integer. Number of pixels wide and tall to show each cell in the; array. This sizes up the image while keeping exactly the same number of; pixels for every cell in the array, preserving resolution and preventing; any interpolation or overlapping of pixels. Default None adapts to the; size of the image to multiply it up until a limit of 500 pixels, a; convenient size for use in notebooks. If saving to a file for automated; processing, scale=1 is recommended to keep output files small and simple; while still retaining all the information content. Returns:; None. Saves an image at path and optionally shows it with IPython.display.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vis.py:843,adapt,adapts,843,third_party/nucleus/util/vis.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vis.py,1,['adapt'],['adapts']
Energy Efficiency,"""""""Returns a map from phased genotypes => haplotype sequences. This function creates a map from all possible haploid genotypes of the; genotypes in variants_and_genotypes to their corresponding haplotype sequences; implied by the variants, ref, start, and their genotypes. This map can be used; to efficiently look up the haplotype sequence for any haploid genotype. Args:; variants_and_genotypes: list[VariantAndGenotypes]. The variants and; associated genotypes to use to build the dictionary.; start: int >= 0. The position on the genome to start constructing our; haplotypes at.; ref: ReferenceRegion. Object containing the reference genome bases we use to; construct our haplotypes. Returns:; A 2-tuple. The first element is a dictionary[tuple, string], where each key; is a phased haploid genotype and its value is the haplotype sequence implied; by that genotype given the variants and the reference genome. The second; position is the ending position of the haplotype on the reference genome.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler.py:298,efficient,efficiently,298,deepvariant/labeler/haplotype_labeler.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler.py,1,['efficient'],['efficiently']
Energy Efficiency,"""""""Returns a new dictionary with deduplicated value. Type description:; Genotype = Tuple[int, int]; Genotypes = List[Genotype]; Haplotypes = FrozenSet[str]. The type of the input `haplotypes_to_genotypes_dict` is:; Dict[Haplotypes, List[Genotypes]]. whereas the return type of deduplicate_haplotypes (this function) is:. Dict[Haplotypes, Genotypes]. This function goes through the values in `haplotypes_to_genotypes_dict` and; keeps only a single example of Genotypes if there are multiple elements of; the list that have the same haplotypes. Duplicates are expected; in the list because different genotype configurations can sometimes produce; the same set of haplotypes, and analyzing a dict of possible; haplotypes/genotypes combinations with duplicates is much harder and less; efficient than the deduplicated dict. Args:; haplotypes_to_genotypes_dict: Dict[Haplotypes, List[Genotypes]]. Returns:; Dict[Haplotypes, Genotypes].; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler.py:782,efficient,efficient,782,deepvariant/labeler/haplotype_labeler.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler.py,1,['efficient'],['efficient']
Energy Efficiency,"""""""Returns a region that spans all of the bases in regions. This function returns a Range(chrom, start, stop), where start is the min; of the starts in regions, and stop is the max end in regions. It may not be; freshly allocated. Args:; regions: list[Range]: a list of Range protos. Returns:; A single Range proto. Raises:; ValueError: if not all regions have the same reference_name.; ValueError: if regions is empty.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges.py:220,allocate,allocated,220,third_party/nucleus/util/ranges.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges.py,1,['allocate'],['allocated']
Energy Efficiency,"""""""Samples k elements with uniform probability from an iterable. Selects a subset of k elements from n input elements with uniform probability; without needing to hold all n elements in memory at the same time. This; implementation has max space complexity O(min(k, n)), i.e., we allocate up to; min(k, n) elements to store the samples. This means that we only use ~n; elements when n is smaller than k, which can be important when k is large. If; n elements are added to this sampler, and n <= k, all n elements will be; retained. If n > k, each added element will be retained with a uniform; probability of k / n. The order of the k retained samples from our n elements is undefined. In; particular that means that the elements in the returned list can occur in a; different order than they appeared in the iterable. More details about reservoir sampling (and the specific algorithm used here; called Algorithm R) can be found on wikipedia:. https://en.wikipedia.org/wiki/Reservoir_sampling#Algorithm_R. Args:; iterable: Python iterable. The iterable to sample from.; k: int. The number of elements to sample.; random: A random number generator or None. Returns:; A list containing the k sampled elements. Raises:; ValueError: If k is negative.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/utils.py:280,allocate,allocate,280,third_party/nucleus/util/utils.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/utils.py,1,['allocate'],['allocate']
Energy Efficiency,"""""""Save an array as a PNG image with PIL and show it. Args:; arr: numpy array. Should be 2-dimensional or 3-dimensional where the third; dimension has 3 channels.; path: str. Path for the image output. Default is /tmp/tmp.png for quickly; showing the image in a notebook.; show: bool. Whether to show the image using IPython utilities, only works in; notebooks.; vmin: number. Minimum data value, which will correspond to black in; greyscale or lack of each color in RGB images. Default None takes the; minimum of the data from arr.; vmax: number. Maximum data value, which will correspond to white in; greyscale or full presence of each color in RGB images. Default None takes; the max of the data from arr.; scale: integer. Number of pixels wide and tall to show each cell in the; array. This sizes up the image while keeping exactly the same number of; pixels for every cell in the array, preserving resolution and preventing; any interpolation or overlapping of pixels. Default None adapts to the; size of the image to multiply it up until a limit of 500 pixels, a; convenient size for use in notebooks. If saving to a file for automated; processing, scale=1 is recommended to keep output files small and simple; while still retaining all the information content.; labels: list of str. Labels to show across the top of the image. Returns:; None. Saves an image at path and optionally shows it with IPython.display.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vis.py:987,adapt,adapts,987,third_party/nucleus/util/vis.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vis.py,1,['adapt'],['adapts']
Energy Efficiency,"""""""Sorts ranges by reference_name, start, and end. Args:; ranges: Iterable of nucleus.genomics.v1.Range protos that we want to sort.; contigs: None or an iterable of ContigInfo protos. If not None, we will use; the order of the contigs (as defined by their pos_in_fasta field values); to sort the Ranges on different contigs with respect to each other. Returns:; A newly allocated list of nucleus.genomics.v1.Range protos.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges.py:371,allocate,allocated,371,third_party/nucleus/util/ranges.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges.py,1,['allocate'],['allocated']
Energy Efficiency,"""""""Starts timers associated with resource collection. This method must be called before metrics(). Returns:; self to enable the idiom `monitor = ResourceMonitor().start()`.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/resources.py:135,monitor,monitor,135,deepvariant/resources.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/resources.py,1,['monitor'],['monitor']
Energy Efficiency,"# Limit columns to greatly reduce the size of the html report.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/runtime_by_region_vis.py:27,reduce,reduce,27,deepvariant/runtime_by_region_vis.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/runtime_by_region_vis.py,1,['reduce'],['reduce']
Energy Efficiency,"# Loop over the alleles to determine the length of the shared postfix. Start; # at 1 so every allele, even after trimming the postfix, has at least len 1.; # For example, alleles = ['ATT', 'TT'] reduces to ['AT', 'T'] not ['A', ''].",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils.py:195,reduce,reduces,195,third_party/nucleus/util/variant_utils.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils.py,1,['reduce'],['reduces']
Energy Efficiency,"# Make sure we don't reduce an allele to nothing.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils_test.py:21,reduce,reduce,21,third_party/nucleus/util/variant_utils_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils_test.py,1,['reduce'],['reduce']
Energy Efficiency,"# NB. This entire collection of tests will be invoked with '--use_tpu=' 'true'; # and 'false' by the BUILD file, and a tpu device will be allocated when; # necessary.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_slim_test.py:138,allocate,allocated,138,deepvariant/call_variants_slim_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_slim_test.py,1,['allocate'],['allocated']
Energy Efficiency,"# Note these calculations aren't necessary, but they are included here to; # mimic the data processing pipeline used by inception. We may consider; # removing them in a future CL, or making them optional, to reduce CPU cost; # of this model.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:208,reduce,reduce,208,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['reduce'],['reduce']
Energy Efficiency,"# One pair can simplify, but not the other, so nothing can reduce.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils_test.py:59,reduce,reduce,59,third_party/nucleus/util/variant_utils_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils_test.py,1,['reduce'],['reduce']
Energy Efficiency,"# Set a minimum boundary for the learning rate to be a fixed value of 1e-9.; # It's common to see these tf.max(...) operations when training inception,; # with a max of 1e-4 * initial_learning_rate but this makes it hard to; # explore learning rate schedules that decay quickly or by a lot of each; # step. Here we just use a very small constant 1e-9 as the minimum value.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:249,schedul,schedules,249,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['schedul'],['schedules']
Energy Efficiency,"# Testing found that when the prefix and suffix both go right up to the; # ref/alt variants, the alignment does not work well, so a margin of 100; # bases on each side of the variant are used here to pad each; # haplotype with enough sequence to align against. While some further; # testing showed this could be reduced, 100 is the only value that has been; # tested with a full training experiment.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner.py:312,reduce,reduced,312,deepvariant/realigner/realigner.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner.py,1,['reduce'],['reduced']
Energy Efficiency,"# This test will time out if we aren't able to efficiently handle the case; # where we have a lot of candidate or truth variants but none of the other.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py:47,efficient,efficiently,47,deepvariant/labeler/haplotype_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py,1,['efficient'],['efficiently']
Energy Efficiency,"// -----------------------------------------------------------------------------; // Helper class for encoding VariantCall.info values in VCF FORMAT field values.; // This class is only intended for use with FORMAT fields that can be directly; // mapped between a VCF record and the FORMAT info dictionary, without special; // logic. Where special logic is needed (e.g. for GT, GL/PL, etc.), the lower; // level functions `ReadFormatValues` and `EncodeFormatValues` are called; // directly.; //; // The standard way to interact with this class is as follows.; //; // Create an adaptor for FORMAT field ""DP"" of integer type:; // VcfFormatFieldAdapter adapter(""DP"", BCF_HT_INT32);; //; // For each variant, we encode this format field into the vcf record:; // adapter.EncodeValues(variant, header, bcf_record);; //",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.h:577,adapt,adaptor,577,third_party/nucleus/io/vcf_conversion.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.h,3,['adapt'],"['adapter', 'adaptor']"
Energy Efficiency,"// A FASTA reader backed by a htslib FAI index.; //; // FASTA files store information about DNA/RNA/Amino Acid sequences:; //; // https://en.wikipedia.org/wiki/FASTA_format; //; // This reader is specialized for the FASTA variant used in NGS analyses, which; // has a FAI index created by samtools that allows efficient query() operations; // to obtain the subsequence of the FASTA on a specific contig between a start; // and end offsets:; //; // http://www.htslib.org/doc/faidx.html; // http://www.htslib.org/doc/samtools.html [faidx section]; //; // The FASTA file can be optionally block-gzipped compressed.; //; // This class provides methods to iterate through a the FASTA records and to; // also query() for the bases spanning a specific region on the genome.; //; // Uses the htslib C API for reading the FASTA and FAI. For details of; // the API, see:; //; // https://github.com/samtools/htslib/tree/develop/htslib; //; // The objects returned by iterate() or query() are strings containing the; // bases, all upper-cased.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference.h:310,efficient,efficient,310,third_party/nucleus/io/reference.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference.h,1,['efficient'],['efficient']
Energy Efficiency,"// Adapted from tensorflow/core/platform/default/integral_types.h; // TODO: replace this with inclusion of integral_types.h from absl,; // when it arrives.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/platform/types.h:3,Adapt,Adapted,3,third_party/nucleus/platform/types.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/platform/types.h,1,['Adapt'],['Adapted']
Energy Efficiency,"// Adapter to extract an iterable into a vector for examination in test code.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.h:3,Adapt,Adapter,3,third_party/nucleus/testing/test_utils.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.h,1,['Adapt'],['Adapter']
Energy Efficiency,"// Adapter to extract an iterable into a vector for examination in test code; // from a StatusOr<std::shared_ptr<Iterable<Record>>>.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.h:3,Adapt,Adapter,3,third_party/nucleus/testing/test_utils.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.h,1,['Adapt'],['Adapter']
Energy Efficiency,"// As noted in bcf_get_format_string declaration in vcf.h, the format; // function we are using here allocates two arrays and both must be cleaned; // by the user.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.cc:101,allocate,allocates,101,third_party/nucleus/io/vcf_conversion.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.cc,1,['allocate'],['allocates']
Energy Efficiency,"// Creates a new GenomeReference backed by the FASTA file fasta_path.; //; // Returns this newly allocated IndexedFastaReader object, passing ownership; // to the caller via a unique_ptr.; //; // htslib currently assumes that the FAI file is named fasta_path + '.fai',; // so that file must exist and be readable by htslib.; //; // We maintain a single entry cache of the bases from the last FASTA fetch, to; // reduce the number of file reads, which can be quite costly for remote; // filesystems. 64K is the default block size for htslib faidx fetches, so; // there is no penalty to rounding up all small access sizes to 64K. The; // cache can be disabled using `cache_size=0`.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference.h:97,allocate,allocated,97,third_party/nucleus/io/reference.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference.h,2,"['allocate', 'reduce']","['allocated', 'reduce']"
Energy Efficiency,"// Creates a new GenomeReference backed by the FASTA file fasta_path.; //; // Returns this newly allocated UnindexedFastaReader object, passing ownership; // to the caller via a unique_ptr.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference.h:97,allocate,allocated,97,third_party/nucleus/io/reference.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference.h,1,['allocate'],['allocated']
Energy Efficiency,"// Creates a new adapter for a field name field_name.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.h:17,adapt,adapter,17,third_party/nucleus/io/vcf_conversion.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.h,2,['adapt'],['adapter']
Energy Efficiency,"// Gets all of the reads that overlap any bases in range.; //; // This function allows one to iterate through all of the reads in this; // SAM/BAM/CRAM file in order that overlap a specific interval on the genome.; // The query operation is efficient in that the cost is O(n) for n elements; // that overlap range, and not O(N) for N elements in the entire file.; //; // The specific parsing, filtering, etc behavior is determined by the options; // provided during construction.; //; // If no index was loaded by the constructor a non-OK status value will be; // returned.; //; // If range isn't a valid interval in this BAM file a non-OK status value will; // be returned.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.h:241,efficient,efficient,241,third_party/nucleus/io/sam_reader.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.h,1,['efficient'],['efficient']
Energy Efficiency,"// Gets all of the variants that overlap any bases in range.; //; // This function allows one to iterate through all of the variants in this; // VCF file in order that overlap a specific iterval on the genome. The query; // operation is efficient in that the cost is O(n) for n elements that overlap; // range, and not O(N) for N elements in the entire file.; //; // The specific parsing, filtering, etc behavior is determined by the options; // provided during construction.; //; // This function is only available if an index was loaded. If no index was; // loaded a non-OK status value will be returned.; //; // If range isn't a valid interval in this VCF file a non-OK status value will; // be returned.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_reader.h:237,efficient,efficient,237,third_party/nucleus/io/vcf_reader.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_reader.h,1,['efficient'],['efficient']
Energy Efficiency,"// If previous operation is ref or soft clip then it is reduced in length.; // If it is the first operation then read alignment is shifted. In this case; // it is removed if it is del or turned into ref if it is ins.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.cc:56,reduce,reduced,56,deepvariant/allelecounter.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.cc,1,['reduce'],['reduced']
Energy Efficiency,"// Install adapters for FORMAT fields.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.cc:11,adapt,adapters,11,third_party/nucleus/io/vcf_conversion.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.cc,1,['adapt'],['adapters']
Energy Efficiency,"// Install adapters for INFO fields.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.cc:11,adapt,adapters,11,third_party/nucleus/io/vcf_conversion.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.cc,1,['adapt'],['adapters']
Energy Efficiency,"// Lookup table for genotype FORMAT field adapters by VCF tag name.; // The order of adapter definitions here determines the order of the fields; // in a written VCF.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.h:42,adapt,adapters,42,third_party/nucleus/io/vcf_conversion.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.h,2,['adapt'],"['adapter', 'adapters']"
Energy Efficiency,"// Lookup table for variant INFO fields adapters by VCF tag name.; // The order of adapter definitions here determines the order of the fields; // in a written VCF.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.h:40,adapt,adapters,40,third_party/nucleus/io/vcf_conversion.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.h,2,['adapt'],"['adapter', 'adapters']"
Energy Efficiency,"// Normal case of non-normalized DEL surrounded by REFs. Read has 12 bases; // deletion in the middle. After normalization DEL has to be moved to the left.; // REF preceding the DEL has to be reduced in length, REF following the DEL has; // to be increased in length.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter_test.cc:192,reduce,reduced,192,deepvariant/allelecounter_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter_test.cc,1,['reduce'],['reduced']
Energy Efficiency,"// Normal case of non-normalized INS surrounded by REFs. Read has 2 bases; // insertion in the middle. After normalization INS has to be moved to the left.; // REF preceding the INS has to be reduced in length, REF following the INS has; // to be increased in length.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter_test.cc:192,reduce,reduced,192,deepvariant/allelecounter_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter_test.cc,1,['reduce'],['reduced']
Energy Efficiency,"// Not missing; // TODO: Is there a more efficient way to do this?",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.cc:41,efficient,efficient,41,third_party/nucleus/io/sam_reader.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.cc,1,['efficient'],['efficient']
Energy Efficiency,"// Reduce the size of the last operation. If last operation's length was 1; // then it is removed.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner.cc:3,Reduce,Reduce,3,deepvariant/realigner/fast_pass_aligner.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner.cc,1,['Reduce'],['Reduce']
Energy Efficiency,"// Returns a reference to our current value, requires that this->ok().; // If you need to initialize a T object from the stored value,; // ConsumeValueOrDie() may be more efficient.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/statusor.h:171,efficient,efficient,171,third_party/nucleus/core/statusor.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/statusor.h,1,['efficient'],['efficient']
Energy Efficiency,"// Returns our current value, requires this->ok(). Use this if; // you would otherwise want to say std::move(s.ValueOrDie()), for example; // if you need to initialize a T object from the stored value and you don't; // need subsequent access to the stored value. It uses T's move constructor,; // if it has one, so it will work with move-only types, and will often be; // more efficient than ValueOrDie, but may leave the stored value; // in an arbitrary valid state.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/statusor.h:377,efficient,efficient,377,third_party/nucleus/core/statusor.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/statusor.h,1,['efficient'],['efficient']
Energy Efficiency,"// Simple wrapper around Add() that allows us to efficiently pass large; // protobufs in from Python. Simply unwraps the ConstProtoPtr objects and; // calls Add(read).",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.h:49,efficient,efficiently,49,deepvariant/allelecounter.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.h,1,['efficient'],['efficiently']
Energy Efficiency,"// Simple wrapper around EncodeRead that allows us to efficiently pass large; // protobufs in from Python. Simply unwraps the ConstProtoPtr objects and; // calls EncodeRead().",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_image_native.h:54,efficient,efficiently,54,deepvariant/pileup_image_native.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_image_native.h,1,['efficient'],['efficiently']
Energy Efficiency,"// Simple wrapper around ReadEnd that allows us to efficiently pass large; // protobufs in from Python. Simply unwraps the ConstProtoPtr read and calls; // ReadEnd().",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/utils.h:51,efficient,efficiently,51,third_party/nucleus/util/utils.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/utils.h,1,['efficient'],['efficiently']
Energy Efficiency,"// Simple wrapper around ReadOverlapsRegion that allows us to efficiently pass; // large protobufs in from Python. Simply unwraps the ConstProtoPtr read and; // range ReadOverlapsRegion().",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/utils.h:62,efficient,efficiently,62,third_party/nucleus/util/utils.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/utils.h,1,['efficient'],['efficiently']
Energy Efficiency,"// This algorithm is simple and fast, but it isn't the most straightforward; // implementation so it merits a few comments.; //; // Suppose I have the following data:; //; // offset: 01234567; // bases: ACGTAACC; // bad? : 00010000; // k_ : 2 <= using a kmer size of 2; //; // The algorithm below loops over positions (variable `i`), pulling kmers of; // length k from positions `i` and `i + 1` to add as edges. The key; // calculation is NextBadPosition that searches from the current `i` position; // for the next position that is bad. In the above example, this would be the; // 3 position. We then loop from i until `next_bad_position - k`, to create; // our edges, since we know that everything from i to next_bad_position is; // good but we cannot construct a valid kmer that overlaps next_bad_position; // so it invalidates all kmer starts from `next_bad_position - k`. Finally, we; // set i to `next_bad_position + 1`, which is the very next starting position; // after the last bad position, and the algorithm repeats.; //; // This algorithm has many important properties for performance:; //; // * It doesn't allocate any data structures to support the calculation.; // * It only examines whether a given position is good/bad once.; // * The loop to add edges is streamlined, without any unnecessary checks.; //",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/debruijn_graph.cc:1119,allocate,allocate,1119,deepvariant/realigner/debruijn_graph.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/debruijn_graph.cc,1,['allocate'],['allocate']
Energy Efficiency,"LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; *; */; // Get basic information about a reference genome as well as make it cpu and; // memory efficient and scalable to get the reference bases for an interval on; // the genome.; //; // The GenomeReference provides the core functionality needed to use a reference; // genome for data processing and analyses tools:; //; // -- Get information about the contigs (aka chromosomes) present the FASTA,; // such as its name, description, and number of basepairs.; // -- Efficiently lookup the sequence of bases in an interval in the reference; // genome. For example, GetBases(""chr1"", 0, 10) gets the basepair sequence; // from the first base to the ninth base on chr1. This function call has; // cost roughly proportional to the size of the query interval, regardless; // of its position in the original FASTA file.; //; // The code here makes some strong assumptions about what a client could want.; // It doesn't record the position of bases in the original FASTA, and it doesn't; // track line breaks, comments, and other features of the FASTA. It uppercases; // the basepair sequences, so complexity or other information encoded in the; // case of the bases is lost. It also ensures that all of the bases in the; // reference are either {A,C,G,T,N} by refusing to import reference sequences; // containing other characters. The code assumes that random accesses of; // reasonably small chunks of sequence is important at the expense of low-cost; // (but still reasonably efficient) iteration of all sequences in the FASTA.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference.h:3011,efficient,efficient,3011,third_party/nucleus/io/reference.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference.h,1,['efficient'],['efficient']
Energy Efficiency,"rs may be used to endorse or promote products derived from this; * software without specific prior written permission.; *; * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; *; */; // Get basic information about a reference genome as well as make it cpu and; // memory efficient and scalable to get the reference bases for an interval on; // the genome.; //; // The GenomeReference provides the core functionality needed to use a reference; // genome for data processing and analyses tools:; //; // -- Get information about the contigs (aka chromosomes) present the FASTA,; // such as its name, description, and number of basepairs.; // -- Efficiently lookup the sequence of bases in an interval in the reference; // genome. For example, GetBases(""chr1"", 0, 10) gets the basepair sequence; // from the first base to the ninth base on chr1. This function call has; // cost roughly proportional to the size of the query interval, regardless; // of its position in the original FASTA file.; //; // The code here makes some strong assumptions about what a client could want.; // It doesn't record the position of bases in the original FASTA, and it doesn't; // track line breaks, comments, and other features of the FASTA. It uppercases; // the basepair sequences, so",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference.h:1634,efficient,efficient,1634,third_party/nucleus/io/reference.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference.h,1,['efficient'],['efficient']
Integrability,"""""""A GenomicsReader that reads protocol buffers from a TFRecord file. Example usage:; reader = TFRecordReader('/tmp/my_file.tfrecords.gz',; proto=tensorflow.Example); for example in reader:; process(example). Note that TFRecord files do not have headers, and do not need; to be wrapped in a ""with"" block.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/genomics_reader.py:31,protocol,protocol,31,third_party/nucleus/io/genomics_reader.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/genomics_reader.py,2,"['protocol', 'wrap']","['protocol', 'wrapped']"
Integrability,"""""""A GenomicsWriter that writes to a TFRecord file. Example usage:; writer = TFRecordWriter('/tmp/my_output.tfrecord.gz'); for record in records:; writer.write(record). Note that TFRecord files do not need to be wrapped in a ""with"" block.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/genomics_writer.py:212,wrap,wrapped,212,third_party/nucleus/io/genomics_writer.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/genomics_writer.py,1,['wrap'],['wrapped']
Integrability,"""""""A Python interface for files.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/gfile.py:12,interface,interface,12,third_party/nucleus/io/gfile.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/gfile.py,1,['interface'],['interface']
Integrability,"""""""A VerySensitiveCaller producing DeepVariantCall and gVCF records. This module provides the primary interface for calling candidate variants using; for the AlleleCounts in an AlleleCounter by wrapping the low-level C++ code and; adding a nicer API and functions to compute gVCF records as well.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/very_sensitive_caller.py:102,interface,interface,102,deepvariant/very_sensitive_caller.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/very_sensitive_caller.py,2,"['interface', 'wrap']","['interface', 'wrapping']"
Integrability,"""""""A convenience wrapper around genomics_writer.TFRecordWriter.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/tfrecord.py:17,wrap,wrapper,17,third_party/nucleus/io/tfrecord.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/tfrecord.py,1,['wrap'],['wrapper']
Integrability,"""""""A model_fn for slim (really inception_v3), satisfying the Estimator API. Args:; features: a single Tensor or dict of same (from input_fn).; labels: a single Tensor or dict of same (from input_fn).; mode: tf.estimator.ModeKeys.; params: dict. Returns:; EstimatorSpec or TPUEstimatorSpec depending on self.use_tpu. Raises:; ValueError: If representation_layer was not found in the Inception; architecture; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:289,depend,depending,289,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['depend'],['depending']
Integrability,"""""""A model_fn for slim (really inception_v3), satisfying the Estimator API. Args:; features: a single Tensor or dict of same (from input_fn).; labels: a single Tensor or dict of same (from input_fn).; mode: tf.estimator.ModeKeys.; params: dict. Returns:; EstimatorSpec or TPUEstimatorSpec depending on self.use_tpu.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:289,depend,depending,289,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['depend'],['depending']
Integrability,"""""""A model_fn for slim, satisfying the Estimator API. Args:; features: a single Tensor or dict of same (from input_fn).; labels: a single Tensor or dict of same (from input_fn).; mode: tf.estimator.ModeKeys.; params: dict. Returns:; EstimatorSpec or TPUEstimatorSpec depending on self.use_tpu. Raises:; ValueError: if FLAGS.seq_type_embedding_size is not positive.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:267,depend,depending,267,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['depend'],['depending']
Integrability,"""""""A model_fn satisfying the Estimator API. Args:; features: a dictionary supplying features.; labels: a tensor of labels.; mode: one of tf.estimator.ModeKeys.{EVAL,TRAIN}; params: a dictionary of parameters. Returns:; a tf.estimator.EstimatorSpec or tpu_estimator.TPUEstimatorSpec,; depending on self.use_tpu.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:284,depend,depending,284,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['depend'],['depending']
Integrability,"""""""A timer that automatically starts when you construct it. This is otherwise identical in interface to the Timer class in this module.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/vendor/timer.py:91,interface,interface,91,deepvariant/vendor/timer.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/vendor/timer.py,1,['interface'],['interface']
Integrability,"""""""Abstract base class for writing genomics data. A GenomicsWriter only has one method, write, which writes a single; protocol buffer to a file.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/genomics_writer.py:118,protocol,protocol,118,third_party/nucleus/io/genomics_writer.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/genomics_writer.py,1,['protocol'],['protocol']
Integrability,"""""""Basic tests for the wrapped DeBruijnGraph class.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/python/debruijn_graph_wrap_test.py:23,wrap,wrapped,23,deepvariant/realigner/python/debruijn_graph_wrap_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/python/debruijn_graph_wrap_test.py,1,['wrap'],['wrapped']
Integrability,"""""""Basic tests for the wrapped SSW aligner.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/python/ssw_wrap_test.py:23,wrap,wrapped,23,deepvariant/realigner/python/ssw_wrap_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/python/ssw_wrap_test.py,1,['wrap'],['wrapped']
Integrability,"""""""Build all charts and combine into a single interface.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/vcf_stats_vis.py:46,interface,interface,46,deepvariant/vcf_stats_vis.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/vcf_stats_vis.py,1,['interface'],['interface']
Integrability,"""""""Calculates a two-tailed binomial test with p=0.5, without scipy. Since the expected probability is 0.5, it simplifies a few things:; 1) (0.5**x)*(0.5**(n-x)) = (0.5**n); 2) A two-tailed test is simply doubling when p = 0.5.; Scipy is much larger than Nucleus, so this avoids adding it as a dependency. Args:; k: Number of ""successes"", in this case, the number of supporting reads.; n: Number of ""trials"", in this case, the total number of reads. Returns:; The p-value for the binomial test.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vis.py:293,depend,dependency,293,third_party/nucleus/util/vis.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vis.py,1,['depend'],['dependency']
Integrability,"""""""Class for ""reading"" Variant protos from an in-memory cache of variants. ```python; from third_party.nucleus.io import vcf; from third_party.nucleus.protos import variants_pb2. variants = [... Variant protos ...]; header = variants_pb2.VcfHeader(). with vcf.InMemoryVcfReader(variants, header) as reader:; for variant in reader:; print(variant); ```. This class accepts a collection of variants and optionally a header and; provides all of the standard API functions of VcfReader but instead of; fetching variants from a file the variants are queried from an in-memory cache; of variant protos. Note that the input variants provided to this class aren't checked in any way,; and their ordering determines the order of variants emitted by this class for; the iterate() and query() operations. This is intentional, to make this class; easy to use for testing where you often want to use less-than-perfectly formed; inputs. In order to fully meet the contract of a standard VcfReader, variants; should be sorted by their contig ordering and then by their start and finally; by their ends. Implementation note:; The current implementation will be very slow for query() if the provided; cache of variants is large, as we do a O(n) search to collect all of the; overlapping variants for each query. There are several straightforward; optimizations to do if we need/want to scale this up. (a) sort the variants; and use a binary search to find overlapping variants (b) partition the; variants by contig, so we have dict[contig] => [variants on contig], which; allows us to completely avoid considering any variants on any other contigs.; Neither of these optimizations are worth it if len(variants) is small, but; it may be worth considering if we want to use this functionality with a; large number of variants.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf.py:950,contract,contract,950,third_party/nucleus/io/vcf.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf.py,1,['contract'],['contract']
Integrability,"""""""Classes for reading and writing BED files. The BED format is described at; https://genome.ucsc.edu/FAQ/FAQformat.html#format1. API for reading:. ```python; from third_party.nucleus.io import bed. # Iterate through all records.; with bed.BedReader(input_path) as reader:; for record in reader:; print(record); ```. where `record` is a `nucleus.genomics.v1.BedRecord` protocol buffer. API for writing:. ```python; from third_party.nucleus.io import bed; from third_party.nucleus.protos import bed_pb2. # records is an iterable of nucleus.genomics.v1.BedRecord protocol buffers.; records = ... # header defines how many fields to write out.; header = bed_pb2.BedHeader(num_fields=5). # Write all records to the desired output path.; with bed.BedWriter(output_path, header) as writer:; for record in records:; writer.write(record); ```. For both reading and writing, if the path provided to the constructor contains; '.tfrecord' as an extension, a `TFRecord` file is assumed and attempted to be; read or written. Otherwise, the filename is treated as a true BED file. Files that end in a '.gz' suffix cause the file to be treated as compressed; (with BGZF if it is a true BED file, and with gzip if it is a TFRecord file).; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/bed.py:369,protocol,protocol,369,third_party/nucleus/io/bed.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/bed.py,2,['protocol'],['protocol']
Integrability,"""""""Classes for reading and writing BedGraph files. The BedGraph format is described at; https://genome.ucsc.edu/goldenpath/help/bedgraph.html. API for reading:. ```python; from third_party.nucleus.io import bedgraph. # Iterate through all records.; with bed.BedGraphReader(input_path) as reader:; for record in reader:; print(record); ```. where `record` is a `nucleus.genomics.v1.BedGraphRecord` protocol buffer. API for writing:. ```python; from third_party.nucleus.io import bedgraph; from third_party.nucleus.protos import bedgraph_pb2. # records is an iterable of nucleus.genomics.v1.BedGraphRecord protocol buffers.; records = ... # Write all records to the desired output path.; with bed.BedGraphWriter(output_path) as writer:; for record in records:; writer.write(record); ```. For both reading and writing, if the path provided to the constructor contains; '.tfrecord' as an extension, a `TFRecord` file is assumed and attempted to be; read or written. Otherwise, the filename is treated as a true BedGraph file. Files that end in a '.gz' suffix cause the file to be treated as compressed; (with BGZF if it is a BedGraph file, and with gzip if it is a TFRecord file).; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/bedgraph.py:397,protocol,protocol,397,third_party/nucleus/io/bedgraph.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/bedgraph.py,2,['protocol'],['protocol']
Integrability,"""""""Classes for reading and writing FASTQ files. The FASTQ format is described at; https://en.wikipedia.org/wiki/FASTQ_format. API for reading:. ```python; from third_party.nucleus.io import fastq. with fastq.FastqReader(input_path) as reader:; for record in reader:; print(record); ```. where `record` is a `nucleus.genomics.v1.FastqRecord` protocol buffer. API for writing:. ```python; from third_party.nucleus.io import fastq. # records is an iterable of nucleus.genomics.v1.FastqRecord protocol buffers.; records = ... with fastq.FastqWriter(output_path) as writer:; for record in records:; writer.write(record); ```. For both reading and writing, if the path provided to the constructor contains; '.tfrecord' as an extension, a `TFRecord` file is assumed and attempted to be; read or written. Otherwise, the filename is treated as a true FASTQ file. Files that end in a '.gz' suffix cause the file to be treated as compressed; (with BGZF if it is a true FASTQ file, and with gzip if it is a TFRecord file).; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/fastq.py:341,protocol,protocol,341,third_party/nucleus/io/fastq.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/fastq.py,2,['protocol'],['protocol']
Integrability,"""""""Classes for reading and writing GFF files. The GFF format is described at; https://github.com/The-Sequence-Ontology/Specifications/blob/master/gff3.md. API for reading:. ```python; from third_party.nucleus.io import gff. # Iterate through all records.; with gff.GffReader(input_path) as reader:; for record in reader:; print(record); ```. where `record` is a `nucleus.genomics.v1.GffRecord` protocol buffer. API for writing:. ```python; from third_party.nucleus.io import gff; from third_party.nucleus.protos import gff_pb2. # records is an iterable of nucleus.genomics.v1.GffRecord protocol buffers.; records = ... header = gff_pb2.GffHeader(). # Write all records to the desired output path.; with gff.GffWriter(output_path, header) as writer:; for record in records:; writer.write(record); ```. For both reading and writing, if the path provided to the constructor contains; '.tfrecord' as an extension, a `TFRecord` file is assumed and attempted to be; read or written. Otherwise, the filename is treated as a true GFF file. Files that end in a '.gz' suffix cause the file to be treated as compressed; (with BGZF if it is a true GFF file, and with gzip if it is a TFRecord file).; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/gff.py:394,protocol,protocol,394,third_party/nucleus/io/gff.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/gff.py,2,['protocol'],['protocol']
Integrability,"""""""Classes for reading and writing SAM and BAM files. The SAM/BAM/CRAM formats are described at; https://samtools.github.io/hts-specs/SAMv1.pdf; https://samtools.github.io/hts-specs/CRAMv3.pdf. API for reading:. ```python; from third_party.nucleus.io import sam. with sam.SamReader(input_path) as reader:; for read in reader:; print(read); ```. where `read` is a `nucleus.genomics.v1.Read` protocol buffer. input_path will; dynamically decode the underlying records depending the file extension, with; `.sam` for SAM files, `.bam` for BAM files, and `.cram` for CRAM files. It will; also search for an appropriate index file to use to enable calls to the; `query()` method. API for writing SAM/BAM:. ```python; from third_party.nucleus.io import sam. # reads is an iterable of nucleus.genomics.v1.Read protocol buffers.; reads = ... with sam.SamWriter(output_path, header=header) as writer:; for read in reads:; writer.write(read); ```. API for writing CRAM:. ```python; # ref_path is required for writing CRAM files. If embed_ref, the output CRAM; # file will embed reference sequences.; with sam.SamWriter(output_path, header=header, ref_path=ref_path,; embed_ref=embed_ref) as writer:; for read in reads:; writer.write(read); ```. For both reading and writing, if the path provided to the constructor contains; '.tfrecord' as an extension, a `TFRecord` file is assumed and attempted to be; read or written. Otherwise, the filename is treated as a true SAM/BAM/CRAM file. For `TFRecord` files, ending in a '.gz' suffix causes the file to be treated as; compressed with gzip. Notes on using CRAM with SamReader; --------------------------------. Nucleus supports reading from CRAM files using the same API as for SAM/BAM:. ```python; from third_party.nucleus.io import sam. with sam.SamReader(""/path/to/sample.cram"") as reader:; for read in reader:; print(read); ```. There is one type of CRAM file, though, that has a slightly more complicated; API. If the CRAM file uses read sequence compression w",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam.py:390,protocol,protocol,390,third_party/nucleus/io/sam.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam.py,3,"['depend', 'protocol']","['depending', 'protocol']"
Integrability,"""""""Classes for reading and writing VCF files. The VCF format is described at; https://samtools.github.io/hts-specs/VCFv4.3.pdf. API for reading:. ```python; from third_party.nucleus.io import vcf. with vcf.VcfReader(input_path) as reader:; for variant in reader:; print(variant); ```. API for writing:. ```python; from third_party.nucleus.io import vcf. # variants is an iterable of nucleus.genomics.v1.Variant protocol buffers.; variants = ... with vcf.VcfWriter(output_path, header=header) as writer:; for variant in variants:; writer.write(variant); ```. The class attempts to infer the file format (`TFRecord` vs VCF) from the file; path provided to the constructor. 1. For files that end with '.tfrecord' and '.tfrecord.gz' (a gzipped version),; a `TFRecord` file is assumed and is attempted to be read or written. 2. For all other files, the VCF format will be used. VCF format used in writing is inferred from file paths:; - ending in '.bcf.gz': BGZF compressed BCF format will be written;; - ending in '.bcf': uncompressed BCF format will be written;; - ending in '.gz' and not in '.bcf.gz': BGZP compressed VCF format will be; written;; - all other suffixes: uncompressed VCF format will be written. VCF format used in reading is inferred from the contents of the file.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf.py:411,protocol,protocol,411,third_party/nucleus/io/vcf.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf.py,1,['protocol'],['protocol']
Integrability,"""""""Classes that provide the interface for reading genomics data. `GenomicsReader` defines the core API supported by readers, and is subclassed; directly or indirectly (via `DispatchingGenomicsReader`) for all concrete; implementations. `TFRecordReader` is an implementation of the `GenomicsReader` API for reading; `TFRecord` files. This is usable for all data types when encoding data in; protocol buffers. `DispatchingGenomicsReader` is an abstract class defined for convenience on top; of `GenomicsReader` that supports reading from either the native file format or; from `TFRecord` files of the corresponding protocol buffer used to encode data; of that file type. The input format assumed is dependent upon the filename of; the input data. Concrete implementations for individual file types (e.g. BED, SAM, VCF, etc.); reside in type-specific modules in this package. The instantiation of readers; may have reader-specific requirements documented there. General examples of the; `iterate()` and `query()` functionality are shown below. ```python; # Equivalent ways to iterate through all elements in a reader.; # 1. Using the reader itself as an iterable object.; kwargs = ... # Reader-specific keyword arguments.; with GenomicsReaderSubClass(output_path, **kwargs) as reader:; for proto in reader:; do_something(reader.header, proto). # 2. Calling the iterate() method of the reader explicitly.; with GenomicsReaderSubClass(output_path, **kwargs) as reader:; for proto in reader.iterate():; do_something(reader.header, proto). # Querying for all elements within a specific region of the genome.; from third_party.nucleus.protos import range_pb2; region = range_pb2.Range(reference_name='chr1', start=10, end=20). with GenomicsReaderSubClass(output_path, **kwargs) as reader:; for proto in reader.query(region):; do_something(reader.header, proto); ```; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/genomics_reader.py:28,interface,interface,28,third_party/nucleus/io/genomics_reader.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/genomics_reader.py,4,"['depend', 'interface', 'protocol']","['dependent', 'interface', 'protocol']"
Integrability,"""""""Classes that provide the interface for writing genomics data. `GenomicsWriter` defines the core API supported by writers, and is subclassed; directly or indirectly (via `DispatchingGenomicsWriter`) for all concrete; implementations. `TFRecordWriter` is an implementation of the `GenomicsWriter` API for reading; `TFRecord` files. This is usable for all data types when writing data as; serialized protocol buffers. `DispatchingGenomicsWriter` is an abstract class defined for convenience on top; of `GenomicsWriter` that supports writing to either the native file format or to; `TFRecord` files of the corresponding protocol buffer used to encode data of; that file type. The output format chosen is dependent upon the filename to which; the data are being written. Concrete implementations for individual file types (e.g. BED, SAM, VCF, etc.); reside in type-specific modules in this package. A general example of the write; functionality is shown below. ```python; # options is a writer-specific set of options.; options = ... # records is an iterable of protocol buffers of the specific data type.; records = ... with GenomicsWriterSubClass(output_path, options) as writer:; for proto in records:; writer.write(proto); ```; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/genomics_writer.py:28,interface,interface,28,third_party/nucleus/io/genomics_writer.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/genomics_writer.py,5,"['depend', 'interface', 'protocol']","['dependent', 'interface', 'protocol']"
Integrability,"""""""Collects and return runtime metrics as a ResourceMetrics proto. This method can be called multiple times, but wall clock time is always; reckoned from the time of the last start() call. Returns:; A learning.genomics.deepvariant.ResourceMetrics proto message. Raises:; RuntimeError: if start() was not called previously.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/resources.py:253,message,message,253,deepvariant/resources.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/resources.py,1,['message'],['message']
Integrability,"""""""Control the verbosity of the program. Normally logging at info priority is silent; this; provides flags to adjust that. Note that TF tries to send log messages to stdout,; instead of stderr, if it thinks it is interactive.; There's no flag to override that.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/logging_level.py:154,message,messages,154,deepvariant/logging_level.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/logging_level.py,1,['message'],['messages']
Integrability,"""""""Count the number of elements in an Iterable object. Args:; cc_iterable: a CLIF-wrap of a subclass of the C++ Iterable class. Returns:; integer count; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.py:82,wrap,wrap,82,third_party/nucleus/testing/test_utils.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.py,1,['wrap'],['wrap']
Integrability,"""""""Creates a RangeSet backed by ranges. Note that the Range objects in ranges are *not* stored directly here, so; they can safely be modified after they are passed to this RangeSet. Args:; ranges: list(nucleus.genomics.v1.Range) protos (or anything with; reference_name, start, and end properties following the Range; convention). If None, no ranges will be used, and overlaps() will always; return False.; contigs: list(nucleus.genomics.v1.ContigInfo) protos. Used to define the; iteration order over contigs (i.e., by contig.pos_in_fasta). If this; list is not provided, the iteration order will be determined by the; alphabetical order of the contig names.; quiet: bool; defaults to False: If False, we will emit a logging message; every _LOG_EVERY_N_RANGES_IN_RANGESET_INIT records processed while; building this intervaltree. Set to True to stop all of the logging. Raises:; ValueError: if any range's reference_name does not correspond to any; contig in `contigs`.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges.py:726,message,message,726,third_party/nucleus/util/ranges.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges.py,1,['message'],['message']
Integrability,"""""""Gets reads overlapping the region. Args:; region: A nucleus.genomics.v1.Range object specifying the region we want; to query reads.; sam_readers: An iterable of sam.SamReader to query from.; reads_filenames: Filenames matching sam_readers. This is only used for; throwing more informative error messages. Returns:; [genomics.deepvariant.core.genomics.Read], reads overlapping the region.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py:298,message,messages,298,deepvariant/make_examples_core.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py,1,['message'],['messages']
Integrability,"""""""Gets the GenotypeType for variant. If variant doesn't have genotypes, returns no_call. Otherwise; returns one of no_call, hom_ref, het, or hom_var depending on the; status of the genotypes in the call field of variant. Args:; variant: nucleus.genomics.v1.Variant. Returns:; A GenotypeType. Raises:; ValueError: If variant has more than one call (i.e., is multi-sample).; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils.py:150,depend,depending,150,third_party/nucleus/util/variant_utils.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils.py,1,['depend'],['depending']
Integrability,"""""""Gets the diploid genotype for candidate_variant from matched truth_variant. This method figures out the genotype for candidate_variant by matching alleles; in candidate_variant with those used by the genotype assigned to; truth_variant. For example, if candidate is A/C and truth is A/C with a 0/1; genotype, then this function would return (0, 1) indicating that there's one; copy of the A allele and one of C in truth. If the true genotype is 1/1, then; this routine would return (1, 1). The routine allows candidate_variant and truth_variant to differ in both; the number of alternate alleles, and even in the representation of the same; alleles due to those differences. For example, candidate could be:. AGT/A/AGTGT => 2 bp deletion and 2 bp insertion. and truth could have:. A/AGT => just the simplified 2 bp insertion. And this routine will correctly equate the AGT/AGTGT allele in candidate; with the A/AGT in truth and use the number of copies of AGT in truth to; compute the number of copies of AGTGT when determining the returned genotype. Args:; candidate_variant: Our candidate third_party.nucleus.protos.Variant variant.; truth_variant: Our third_party.nucleus.protos.Variant truth variant; containing true alleles and genotypes. Returns:; A tuple genotypes with the same semantics at the genotype field of the; VariantCall proto. Raises:; ValueError: If candidate_variant is None, truth_variant is None, or; truth_variant doesn't have genotypes.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/positional_labeler.py:464,rout,routine,464,deepvariant/labeler/positional_labeler.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/positional_labeler.py,6,['rout'],['routine']
Integrability,"""""""I/O for TFRecord files. Utilities for reading and writing TFRecord files, especially those containing; serialized TensorFlow Example protocol buffers.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/tfrecord.py:136,protocol,protocol,136,third_party/nucleus/io/tfrecord.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/tfrecord.py,1,['protocol'],['protocol']
Integrability,"""""""Implementation of `input_fn` contract for prediction mode. Args:; params: a dict containing an integer value for key 'batch_size'. Returns:; the tuple (features, labels), where:; - features is a dict of Tensor-valued input features; keys populated; are:; 'image'; 'variant'; 'alt_allele_indices'. Aside from 'image', these may be encoded specially for TPU.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py:32,contract,contract,32,deepvariant/data_providers.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py,1,['contract'],['contract']
Integrability,"""""""Initializer. Args:; output_path: str. The output path to which the records are written.; header: An optional header for the particular data type. This can be; useful for file types that have logical headers where some operations; depend on that header information (e.g. VCF using its headers to; determine type information of annotation fields).; compression_type: Either 'ZLIB', 'GZIP', '' (uncompressed), or; None. If None, __init__ will guess the compression type based on; the input_path's suffix. Raises:; IOError: if there was any problem opening output_path for writing.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/genomics_writer.py:233,depend,depend,233,third_party/nucleus/io/genomics_writer.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/genomics_writer.py,1,['depend'],['depend']
Integrability,"""""""Initializes the TFRecordReader. Args:; input_path: The filename of the file to read.; proto: The protocol buffer type the TFRecord file is expected to; contain. For example, variants_pb2.Variant or reads_pb2.Read.; compression_type: Either 'ZLIB', 'GZIP', '' (uncompressed), or; None. If None, __init__ will guess the compression type based on; the input_path's suffix. Raises:; IOError: if there was any problem opening input_path for reading.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/genomics_reader.py:100,protocol,protocol,100,third_party/nucleus/io/genomics_reader.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/genomics_reader.py,1,['protocol'],['protocol']
Integrability,"""""""Interface to get a data batch, fulfilling `input_fn` contract. Args:; params: a dict containing an integer value for key 'batch_size'. Returns:; the tuple (features, labels), where:; - features is a dict of Tensor-valued input features; keys populated; are:; 'image'; 'variant'; 'alt_allele_indices'; and, if not PREDICT mode, also:; 'locus'. Aside from 'image', these may be encoded specially for TPU. - label is the Tensor-valued prediction label; in train/eval; mode the label value is is populated from the data source; in; inference mode, the value is a constant empty Tensor value ""()"".; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py:3,Interface,Interface,3,deepvariant/data_providers.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py,2,"['Interface', 'contract']","['Interface', 'contract']"
Integrability,"""""""Logs the given message at ERROR level and raises exception. Args:; msg: [`string`]. The message to log and use in the raised exception.; exception_class: [`Exception`]. The class of exception to raise. Raises:; Error: An exception of the type specified by the input exception_class.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/errors.py:18,message,message,18,third_party/nucleus/util/errors.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/errors.py,2,['message'],['message']
Integrability,"""""""Make EstimatorSpec for the current model. Args:; features: a single Tensor or dict of same (from input_fn).; endpoints: a dictionary, containing string keys mapped to endpoint; tensors of this model. The dictionary must contain a key 'Predictions'; that contains the probability of having each of 'num_classes' classes.; labels: a single Tensor or dict of same (from input_fn).; logits: a single Tensor with logits; predictions: A dictionaty that must contain the following keys: 'Logits'; and 'Predictions'.; total_loss: a single Tensor with a loss; mode: tf.estimator.ModeKeys.; params: dict. Returns:; EstimatorSpec or TPUEstimatorSpec depending on self.use_tpu.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:642,depend,depending,642,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['depend'],['depending']
Integrability,"""""""Makes the html report with all the charts inserted. Args:; specs: A list of dictionaries with keys ""id"" (unique name) and either; ""chart"" (should be an Altair chart object) or ""html"" (a string to be; inserted as html into the report).; html_output: A writable file object.; title: The title to show at the top of the report.; subtitle: The subtitle to show just below the title on the report.; charts_on_separate_lines: Put charts on separate lines. If false, charts; will set next to each other as space allows and flow to the next line,; similar to text wrapping.; include_outline: If true, an outline with chart IDs will be added on top. Returns:; None. Writes into the html_output file object.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dashboard_utils.py:559,wrap,wrapping,559,deepvariant/dashboard_utils.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dashboard_utils.py,1,['wrap'],['wrapping']
Integrability,"""""""Mathematics functions for working with genomics data. A quick note on terminology here. There are a bunch kinds of probabilities used commonly in genomics:. -- pError: the probability of being wrong.; -- pTrue: the probability of being correct. Normalized probabilities vs. unnormalized likelihoods:. -- Normalized probabilities: p_1, ..., p_n such that sum(p_i) == 1 are said; said to be normalized because they represent a valid probability; distribution over the states 1 ... n.; -- Unnormalized likelihoods: p_1, ..., p_n where sum(p_i) != 1. These are not; normalized and so aren't a valid probabilities distribution. To add even more complexity, probabilities are often represented in three; semi-equivalent spaces:. -- Real-space: the classic space, with values ranging from [0.0, 1.0]; inclusive.; -- log10-space: If p is the real-space value, in log10-space this would be; represented as log10(p). How the p == 0 case is handled is often function; dependent, which may accept/return -Inf or not handle the case entirely.; -- Phred-scaled: See https://en.wikipedia.org/wiki/Phred_quality_score for; more information. Briefly, the Phred-scale maintains resolution in the lower; parts of the probability space using integer quality scores (though using; ints is optional, really). The phred-scale is defined as. `phred(p) = -10 * log10(p)`. where p is a real-space probability. The functions in math.h dealing with probabilities are very explicit about what; kinds of probability and representation they expect and return, as unfortunately; these are all commonly represented as doubles in C++. Though it is tempting to; address this issue with classic software engineering practices like creating; a Probability class, in practice this is extremely difficult to do as this; code is often performance critical and the low-level mathematical operations; used in this code (e.g., log10) don't distiguish themselves among the types; of probabilities.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/genomics_math.py:960,depend,dependent,960,third_party/nucleus/util/genomics_math.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/genomics_math.py,1,['depend'],['dependent']
Integrability,"""""""Parses a command line flag string value into a protobuf Enum value. Args:; proto_enum_pb2: a enum_type_wrapper.EnumTypeWrapper type containing a proto; enum definition. For example, this would be; deepvariant_pb2.MakeExamplesOptions.Mode to get the MakeExamplesOptions; Mode enum. See:; https://developers.google.com/protocol-buffers/docs/reference/python-generated#enum; for more information.; flag_value: str. The name of the proto enum option from the command line we; want to convert into the enum value.; skip_unspecified_option: bool. If True, any enum options that include the; string 'unspecified' (in any case) will be excluded from the list of; allowed options in the ValueError raised if flag_value isn't valid. Returns:; The enum value for flag_value in proto_enum_pb2. Raises:; ValueError: if flag_value isn't a valid enum name in proto_enum_pb2.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py:320,protocol,protocol-buffers,320,deepvariant/make_examples_core.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py,1,['protocol'],['protocol-buffers']
Integrability,"""""""Parses each region of `regions` into a Range proto. This function provides a super high-level interface for; reading/parsing/converting objects into Range protos. Each `region` of; `regions` is processed in turn, yielding one or more Range protos. This; function inspects the contents of `region` to determine how to convert it to; Range(s) protos. The following types of `region` strings are supported:. * If region ends with an extension known in _get_parser_for_file, we treat; region as a file and read the Range protos from it with the corresponding; reader from _get_parser_for_file, yielding each Range from the file in; order.; * Otherwise we parse region as a region literal (`chr20:1-10`) and return; the Range proto. Args:; regions: iterable[str]. Converts each element of this iterable into; region(s).; contig_map: An optional dictionary mapping from contig names to ContigInfo; protobufs. If provided, allows literals of the format ""contig_name"",; which will be parsed into a Range with reference_name=contig_name,; start=0, end=n_bases where n_bases comes from the ContigInfo. Yields:; A Range proto.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges.py:97,interface,interface,97,third_party/nucleus/util/ranges.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges.py,1,['interface'],['interface']
Integrability,"""""""Primary interface function for computing gVCF confidence at a site. Looks at the counts in the provided list of AlleleCountSummary protos and; returns properly-formatted Variant protos containing gVCF reference; blocks for all sites in allele_count_summaries. The returned Variant has; reference_name, start, end are set and contains a single VariantCall in the; calls field with call_set_name of options.sample_name, genotypes set to 0/0; (diploid reference), a GQ value bound in the info field appropriate to the; data in allele_count, and a MIN_DP value which is the minimum read coverage; seen in the block. The provided allele count must have either a canonical DNA sequence base (; A, C, G, T) or be ""N"". Args:; allele_count_summaries: iterable of AlleleCountSummary protos in; coordinate-sorted order. Each proto is used to get the read counts for; reference and alternate alleles, the reference position, and reference; base.; include_med_dp: boolean. If True, in the gVCF records, we will include; MED_DP. Yields:; third_party.nucleus.protos.Variant proto in; coordinate-sorted order containing gVCF records.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_caller.py:11,interface,interface,11,deepvariant/variant_caller.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_caller.py,1,['interface'],['interface']
Integrability,"""""""Python interface class for in-memory SAM/BAM/CRAM reader. Attributes:; reads: list[nucleus.genomics.v1.Read]. The list of in-memory reads.; is_sorted: bool, True if reads are sorted.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam.py:10,interface,interface,10,third_party/nucleus/io/sam.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam.py,1,['interface'],['interface']
Integrability,"""""""Returns a VcfHeader used for writing VCF output. This function fills out the FILTER, INFO, FORMAT, and extra header information; created by the DeepVariant pipeline using consistent fields that DeepVariant; creates. The `contigs` and `sample_names` fields are unique depending on the; input data used, so are required inputs. Args:; contigs: list(ContigInfo). The list of contigs on which variants were; called.; sample_names: list(str). The list of samples present in the run.; add_info_candidates: Adds the 'CANDIDATES' info field for debugging; purposes.; include_med_dp: boolean. If True, we will include MED_DP. Returns:; A nucleus.genomics.v1.VcfHeader proto with known fixed headers and the given; samples and contigs populated.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_vcf_constants.py:270,depend,depending,270,deepvariant/dv_vcf_constants.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_vcf_constants.py,1,['depend'],['depending']
Integrability,"""""""Returns a callable that extracts the typed information from a ListValue. Args:; value_type: str. The value type stored as defined in the VCF 4.3 spec.; number: str. The number of entries of this value as defined in the VCF spec. Returns:; A callable that takes two inputs: A Map(str --> ListValue) and a string; field name and returns the associated typed value(s). The return value is; a list of typed values or a single typed value, depending on the expected; number of values returned.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vcf_constants.py:438,depend,depending,438,third_party/nucleus/util/vcf_constants.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vcf_constants.py,1,['depend'],['depending']
Integrability,"""""""Returns a new tf.estimator.Estimator object for training or prediction. The estimator needs to know batch_size. We use the same value for all; of eval, train, and predict. The estimator will automatically save; checkpoints to model_dir and keep the specified number of them. The value; of iterations_per_loop is not critical, and we default to the recommended; value. Some optional arguments are only required for use with TPU. This function will use self.model_fn and self.use_tpu when constructing the; model specific Estimator object. Estimators are also sometimes called classifiers. Args:; batch_size: the batch size to use (for TRAIN, EVAL, and PREDICT modes).; model_dir: an (optional) string directory to use as the model directory.; max_checkpoints_to_keep: an (optional) integer count of saved checkpoints.; iterations_per_loop: an (optional) integer count of log_step_count_steps.; params: an (optional) dictionary of parameters to pass to the Estimator; constructor.; unused_device_fn: a device_fn to pass to RunConfig, if not use_tpu.; master: a string necessary for TPU, pass FLAGS.master through.; use_tpu: boolean. set self.use_tpu if not None.; start_from_checkpoint: string. If not None, initialize model from this; path. According to the current implementation of Estimator, this will; only be used in training. The inference checkpoint is loaded in a; different place.; session_config: a tf.ConfigProto to pass to RunConfig, if not use_tpu.; include_debug_info: from call_variants. If True, PREDICT mode will include; extra info such as logits and prelogits. Returns:; an object implementing the tf.estimator.Estimator interface (will be a; TPUEstimator if self.use_tpu is True).; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:1642,interface,interface,1642,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['interface'],['interface']
Integrability,"""""""Returns a proto Map(str --> ListValue) with the given fields set. Args:; d: dict(str --> list(Value)). The data to populate. Returns:; The protocol buffer-defined Map(str --> ListValue).; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/struct_utils_test.py:142,protocol,protocol,142,third_party/nucleus/util/struct_utils_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/struct_utils_test.py,1,['protocol'],['protocol']
Integrability,"""""""Returns an initialized ResourceMetrics proto. This function also fills in the ""constant"" fields of the ResourceMetrics; proto that don't depend on the actual running commands, such as host_name. Returns:; learning.genomics.deepvariant.ResourceMetrics proto.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/resources.py:140,depend,depend,140,deepvariant/resources.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/resources.py,1,['depend'],['depend']
Integrability,"""""""Returns the protocol buffer type used by this reader.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/genomics_reader.py:15,protocol,protocol,15,third_party/nucleus/io/genomics_reader.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/genomics_reader.py,1,['protocol'],['protocol']
Integrability,"""""""Returns the underlying C++ reader. Note that the C++ reader might be a VcfReader or it might be a; TFRecordReader, depending on the input_path's extension.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf.py:118,depend,depending,118,third_party/nucleus/io/vcf.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf.py,1,['depend'],['depending']
Integrability,"""""""Struct proto utilities. This class provides wrappers for conveniently interacting with protos defined; in struct.proto, mostly ListValue and Value objects. It should primarily be used; by variant_utils and variantcallutils rather than being used directly.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/struct_utils.py:47,wrap,wrappers,47,third_party/nucleus/util/struct_utils.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/struct_utils.py,1,['wrap'],['wrappers']
Integrability,"""""""Tests for AlleleCounter CLIF python wrappers.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/python/allelecounter_wrap_test.py:39,wrap,wrappers,39,deepvariant/python/allelecounter_wrap_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/python/allelecounter_wrap_test.py,1,['wrap'],['wrappers']
Integrability,"""""""Tests for BedWriter CLIF python wrappers.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/bed_writer_wrap_test.py:35,wrap,wrappers,35,third_party/nucleus/io/python/bed_writer_wrap_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/bed_writer_wrap_test.py,1,['wrap'],['wrappers']
Integrability,"""""""Tests for FastqWriter CLIF python wrappers.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/fastq_writer_wrap_test.py:37,wrap,wrappers,37,third_party/nucleus/io/python/fastq_writer_wrap_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/fastq_writer_wrap_test.py,1,['wrap'],['wrappers']
Integrability,"""""""Tests for GenomeReference CLIF python wrappers.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/reference_wrap_test.py:41,wrap,wrappers,41,third_party/nucleus/io/python/reference_wrap_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/reference_wrap_test.py,1,['wrap'],['wrappers']
Integrability,"""""""Tests for GffWriter CLIF python wrappers.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/gff_writer_wrap_test.py:35,wrap,wrappers,35,third_party/nucleus/io/python/gff_writer_wrap_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/gff_writer_wrap_test.py,1,['wrap'],['wrappers']
Integrability,"""""""Tests for Math CLIF python wrappers.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/python/math_wrap_test.py:30,wrap,wrappers,30,third_party/nucleus/util/python/math_wrap_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/python/math_wrap_test.py,1,['wrap'],['wrappers']
Integrability,"""""""Tests for VariantCalling CLIF python wrappers.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/python/variant_calling_multisample_wrap_test.py:40,wrap,wrappers,40,deepvariant/python/variant_calling_multisample_wrap_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/python/variant_calling_multisample_wrap_test.py,2,['wrap'],['wrappers']
Integrability,"""""""Tests for VcfWriter CLIF python wrappers.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/vcf_writer_wrap_test.py:35,wrap,wrappers,35,third_party/nucleus/io/python/vcf_writer_wrap_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/vcf_writer_wrap_test.py,1,['wrap'],['wrappers']
Integrability,"""""""Tests for bed_reader CLIF python wrappers.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/bed_reader_wrap_test.py:36,wrap,wrappers,36,third_party/nucleus/io/python/bed_reader_wrap_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/bed_reader_wrap_test.py,1,['wrap'],['wrappers']
Integrability,"""""""Tests for fastq_reader CLIF python wrappers.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/fastq_reader_wrap_test.py:38,wrap,wrappers,38,third_party/nucleus/io/python/fastq_reader_wrap_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/fastq_reader_wrap_test.py,1,['wrap'],['wrappers']
Integrability,"""""""Tests for gff_reader CLIF python wrappers.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/gff_reader_wrap_test.py:36,wrap,wrappers,36,third_party/nucleus/io/python/gff_reader_wrap_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/gff_reader_wrap_test.py,1,['wrap'],['wrappers']
Integrability,"""""""Tests for sam_reader CLIF python wrappers.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/sam_reader_wrap_test.py:36,wrap,wrappers,36,third_party/nucleus/io/python/sam_reader_wrap_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/sam_reader_wrap_test.py,1,['wrap'],['wrappers']
Integrability,"""""""Tests for the wrapped SSW aligner in a way that fails with gcc5.4.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/python/ssw_misc_test.py:17,wrap,wrapped,17,deepvariant/realigner/python/ssw_misc_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/python/ssw_misc_test.py,1,['wrap'],['wrapped']
Integrability,"""""""Tests for vcf_reader CLIF python wrappers.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/vcf_reader_wrap_test.py:36,wrap,wrappers,36,third_party/nucleus/io/python/vcf_reader_wrap_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/vcf_reader_wrap_test.py,1,['wrap'],['wrappers']
Integrability,"""""""Tests of PileupImageCreator build_pileup routine for Trio.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_image_test.py:44,rout,routine,44,deepvariant/pileup_image_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_image_test.py,1,['rout'],['routine']
Integrability,"""""""Tests of PileupImageCreator build_pileup routine.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_image_test.py:44,rout,routine,44,deepvariant/pileup_image_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_image_test.py,1,['rout'],['routine']
Integrability,"""""""Utility functions that uses dependencies with CLIF under the hood.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_utils_using_clif.py:31,depend,dependencies,31,deepvariant/dv_utils_using_clif.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_utils_using_clif.py,1,['depend'],['dependencies']
Integrability,"""""""Wraps commands to capture certain exceptions and exit without stacktraces. This function is intended to wrap all code within main() of Python binaries; to provide a mechanism for user errors to exit abnormally without causing; exceptions to be thrown. Any exceptions that are subclasses of those listed; in `allowed_exceptions` will be caught and the program will quietly exit with; `exit_value`. Other exceptions are propagated normally. NOTE: This function should only be used as a context manager and its usage; should be limited to main(). Args:; allowed_exceptions: [`tuple of Exception`]. A tuple of Exception classes; that should not be raised, but instead quietly caused to exit the program.; exit_value: [`int`]. The value to return upon program exit. Yields:; The yield in this function is used to allow the block nested in the ""with""; statement to be executed.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/errors.py:3,Wrap,Wraps,3,third_party/nucleus/util/errors.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/errors.py,2,"['Wrap', 'wrap']","['Wraps', 'wrap']"
Integrability,"""""""Wraps gfile.ReadableFile to add iteration, enter/exit and readlines.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/gfile.py:3,Wrap,Wraps,3,third_party/nucleus/io/gfile.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/gfile.py,1,['Wrap'],['Wraps']
Integrability,"""""""Writes proto to the file with somatic processing. Args:; proto: A protocol buffer.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/genomics_writer.py:69,protocol,protocol,69,third_party/nucleus/io/genomics_writer.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/genomics_writer.py,1,['protocol'],['protocol']
Integrability,"""""""Writes proto to the file. Args:; proto: A protocol buffer.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/genomics_writer.py:45,protocol,protocol,45,third_party/nucleus/io/genomics_writer.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/genomics_writer.py,1,['protocol'],['protocol']
Integrability,"# Add dependencies vega and vega-lite, which render the altair charts.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dashboard_utils.py:6,depend,dependencies,6,deepvariant/dashboard_utils.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dashboard_utils.py,1,['depend'],['dependencies']
Integrability,"# Although interface allows for multiple alt alleles, the test only supports a; # single alt allele. This is done for simplicity. Otherwise we would need to; # prove input_read_attributes/expected_read_attributes for each alt allele; # which will make the source code hard to follow.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core_test.py:11,interface,interface,11,deepvariant/make_examples_core_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core_test.py,1,['interface'],['interface']
Integrability,"# At or below read_buffer_length=15 the reads start to come back; # unaligned, but this depends on the specific ref and alt alleles, so; # this does not include exhaustive tests for how low these values can go.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner_test.py:88,depend,depends,88,deepvariant/realigner/realigner_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner_test.py,1,['depend'],['depends']
Integrability,"# Bridging across two ranges is not enveloped.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges_test.py:2,Bridg,Bridging,2,third_party/nucleus/util/ranges_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges_test.py,1,['Bridg'],['Bridging']
Integrability,"# Confirm that these basic commands don't have extra messages printed out; # to stdout.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deeptrio_test.py:53,message,messages,53,scripts/run_deeptrio_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deeptrio_test.py,1,['message'],['messages']
Integrability,"# Copyright 2017 Google LLC. All Rights Reserved.; #; # Redistribution and use in source and binary forms, with or without; # modification, are permitted provided that the following conditions; # are met:; #; # 1. Redistributions of source code must retain the above copyright notice,; # this list of conditions and the following disclaimer.; #; # 2. Redistributions in binary form must reproduce the above copyright; # notice, this list of conditions and the following disclaimer in the; # documentation and/or other materials provided with the distribution.; #; # 3. Neither the name of the copyright holder nor the names of its; # contributors may be used to endorse or promote products derived from this; # software without specific prior written permission.; #; # THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; # AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; # IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; # ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; # LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; # CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; # SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; # INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; # CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); # ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; # POSSIBILITY OF SUCH DAMAGE.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/resources.py:1374,CONTRACT,CONTRACT,1374,deepvariant/resources.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/resources.py,2,['CONTRACT'],['CONTRACT']
Integrability,"# Copyright 2017 Google LLC.; #; # Redistribution and use in source and binary forms, with or without; # modification, are permitted provided that the following conditions; # are met:; #; # 1. Redistributions of source code must retain the above copyright notice,; # this list of conditions and the following disclaimer.; #; # 2. Redistributions in binary form must reproduce the above copyright; # notice, this list of conditions and the following disclaimer in the; # documentation and/or other materials provided with the distribution.; #; # 3. Neither the name of the copyright holder nor the names of its; # contributors may be used to endorse or promote products derived from this; # software without specific prior written permission.; #; # THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; # AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; # IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; # ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; # LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; # CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; # SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; # INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; # CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); # ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; # POSSIBILITY OF SUCH DAMAGE.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/dt_constants.py:1353,CONTRACT,CONTRACT,1353,deeptrio/dt_constants.py,,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/dt_constants.py,54,['CONTRACT'],['CONTRACT']
Integrability,"# Copyright 2017 Google LLC.; #; # Redistribution and use in source and binary forms, with or without; # modification, are permitted provided that the following conditions; # are met:; #; # 1. Redistributions of source code must retain the above copyright notice,; # this list of conditions and the following disclaimer.; #; # 2. Redistributions in binary form must reproduce the above copyright; # notice, this list of conditions and the following disclaimer in the; # documentation and/or other materials provided with the distribution.; #; # 3. Neither the name of the copyright holder nor the names of its; # contributors may be used to endorse or promote products derived from this; # software without specific prior written permission.; #; # THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; # AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; # IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; # ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; # LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; # CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; # SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; # INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; # CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); # ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; # POSSIBILITY OF SUCH DAMAGE.; # pylint: disable=line-too-long",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/labeled_examples_to_vcf.py:1353,CONTRACT,CONTRACT,1353,deepvariant/labeler/labeled_examples_to_vcf.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/labeled_examples_to_vcf.py,1,['CONTRACT'],['CONTRACT']
Integrability,"# Copyright 2018 Google LLC.; #; # Redistribution and use in source and binary forms, with or without; # modification, are permitted provided that the following conditions; # are met:; #; # 1. Redistributions of source code must retain the above copyright notice,; # this list of conditions and the following disclaimer.; #; # 2. Redistributions in binary form must reproduce the above copyright; # notice, this list of conditions and the following disclaimer in the; # documentation and/or other materials provided with the distribution.; #; # 3. Neither the name of the copyright holder nor the names of its; # contributors may be used to endorse or promote products derived from this; # software without specific prior written permission.; #; # THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; # AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; # IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; # ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; # LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; # CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; # SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; # INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; # CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); # ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; # POSSIBILITY OF SUCH DAMAGE.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/__init__.py:1353,CONTRACT,CONTRACT,1353,third_party/nucleus/__init__.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/__init__.py,75,['CONTRACT'],['CONTRACT']
Integrability,"# Copyright 2018 Google LLC.; #; # Redistribution and use in source and binary forms, with or without; # modification, are permitted provided that the following conditions; # are met:; #; # 1. Redistributions of source code must retain the above copyright notice,; # this list of conditions and the following disclaimer.; #; # 2. Redistributions in binary form must reproduce the above copyright; # notice, this list of conditions and the following disclaimer in the; # documentation and/or other materials provided with the distribution.; #; # 3. Neither the name of the copyright holder nor the names of its; # contributors may be used to endorse or promote products derived from this; # software without specific prior written permission.; #; # THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; # AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; # IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; # ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; # LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; # CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; # SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; # INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; # CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); # ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; # POSSIBILITY OF SUCH DAMAGE.; # pylint: disable=line-too-long",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam.py:1353,CONTRACT,CONTRACT,1353,third_party/nucleus/io/sam.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam.py,2,['CONTRACT'],['CONTRACT']
Integrability,"# Copyright 2019 Google LLC.; #; # Redistribution and use in source and binary forms, with or without; # modification, are permitted provided that the following conditions; # are met:; #; # 1. Redistributions of source code must retain the above copyright notice,; # this list of conditions and the following disclaimer.; #; # 2. Redistributions in binary form must reproduce the above copyright; # notice, this list of conditions and the following disclaimer in the; # documentation and/or other materials provided with the distribution.; #; # 3. Neither the name of the copyright holder nor the names of its; # contributors may be used to endorse or promote products derived from this; # software without specific prior written permission.; #; # THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; # AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; # IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; # ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; # LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; # CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; # SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; # INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; # CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); # ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; # POSSIBILITY OF SUCH DAMAGE.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/vcf_candidate_importer.py:1353,CONTRACT,CONTRACT,1353,deepvariant/vcf_candidate_importer.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/vcf_candidate_importer.py,17,['CONTRACT'],['CONTRACT']
Integrability,"# Copyright 2020 Google LLC.; #; # Redistribution and use in source and binary forms, with or without; # modification, are permitted provided that the following conditions; # are met:; #; # 1. Redistributions of source code must retain the above copyright notice,; # this list of conditions and the following disclaimer.; #; # 2. Redistributions in binary form must reproduce the above copyright; # notice, this list of conditions and the following disclaimer in the; # documentation and/or other materials provided with the distribution.; #; # 3. Neither the name of the copyright holder nor the names of its; # contributors may be used to endorse or promote products derived from this; # software without specific prior written permission.; #; # THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; # AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; # IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; # ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; # LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; # CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; # SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; # INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; # CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); # ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; # POSSIBILITY OF SUCH DAMAGE.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples.py:1353,CONTRACT,CONTRACT,1353,deeptrio/make_examples.py,,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples.py,12,['CONTRACT'],['CONTRACT']
Integrability,"# Copyright 2021 Google LLC.; #; # Redistribution and use in source and binary forms, with or without; # modification, are permitted provided that the following conditions; # are met:; #; # 1. Redistributions of source code must retain the above copyright notice,; # this list of conditions and the following disclaimer.; #; # 2. Redistributions in binary form must reproduce the above copyright; # notice, this list of conditions and the following disclaimer in the; # documentation and/or other materials provided with the distribution.; #; # 3. Neither the name of the copyright holder nor the names of its; # contributors may be used to endorse or promote products derived from this; # software without specific prior written permission.; #; # THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; # AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; # IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; # ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; # LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; # CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; # SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; # INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; # CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); # ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; # POSSIBILITY OF SUCH DAMAGE.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dashboard_utils.py:1353,CONTRACT,CONTRACT,1353,deepvariant/dashboard_utils.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dashboard_utils.py,5,['CONTRACT'],['CONTRACT']
Integrability,"# Copyright 2022 Google LLC.; #; # Redistribution and use in source and binary forms, with or without; # modification, are permitted provided that the following conditions; # are met:; #; # 1. Redistributions of source code must retain the above copyright notice,; # this list of conditions and the following disclaimer.; #; # 2. Redistributions in binary form must reproduce the above copyright; # notice, this list of conditions and the following disclaimer in the; # documentation and/or other materials provided with the distribution.; #; # 3. Neither the name of the copyright holder nor the names of its; # contributors may be used to endorse or promote products derived from this; # software without specific prior written permission.; #; # THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; # AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; # IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; # ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; # LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; # CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; # SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; # INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; # CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); # ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; # POSSIBILITY OF SUCH DAMAGE.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py:1353,CONTRACT,CONTRACT,1353,deepvariant/keras_modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py,1,['CONTRACT'],['CONTRACT']
Integrability,"# Copyright 2023 Google LLC.; #; # Redistribution and use in source and binary forms, with or without; # modification, are permitted provided that the following conditions; # are met:; #; # 1. Redistributions of source code must retain the above copyright notice,; # this list of conditions and the following disclaimer.; #; # 2. Redistributions in binary form must reproduce the above copyright; # notice, this list of conditions and the following disclaimer in the; # documentation and/or other materials provided with the distribution.; #; # 3. Neither the name of the copyright holder nor the names of its; # contributors may be used to endorse or promote products derived from this; # software without specific prior written permission.; #; # THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; # AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; # IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; # ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; # LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; # CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; # SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; # INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; # CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); # ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; # POSSIBILITY OF SUCH DAMAGE.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/average_model_checkpoint_patched.py:1353,CONTRACT,CONTRACT,1353,deepvariant/average_model_checkpoint_patched.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/average_model_checkpoint_patched.py,14,['CONTRACT'],['CONTRACT']
Integrability,"# Depending on candidates parameter we choose the partitioning method.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py:2,Depend,Depending,2,deepvariant/make_examples_core.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py,1,['Depend'],['Depending']
Integrability,"# Direct assignment on a repeated message field is not allowed, so setting; # the cigar by using 'extend'.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner.py:34,message,message,34,deepvariant/realigner/realigner.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner.py,1,['message'],['message']
Integrability,"# Google code uses FLAG.test_srcdir; # TensorFlow uses a routine googletest.test_src_dir_path.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.py:57,rout,routine,57,third_party/nucleus/testing/test_utils.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.py,1,['rout'],['routine']
Integrability,"# Have to be wrapped in a list to stop parameterized from treating the; # tuple as the positional arguments to the test function.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/cigar_test.py:13,wrap,wrapped,13,third_party/nucleus/util/cigar_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/cigar_test.py,1,['wrap'],['wrapped']
Integrability,"# Load candidate_positions if the flag is set. Partitioning logic will depend; # on whether candidate_positions is set.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py:71,depend,depend,71,deepvariant/make_examples_core.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py,1,['depend'],['depend']
Integrability,"# Logging frequency when building our rangeset objects, which can take some time; # to complete. Rather than just pausing for a few minutes, we provide an update; # logging message every _LOG_EVERY_N_RANGES_IN_RANGESET_INIT records added. See; # internal for more information.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges.py:173,message,message,173,third_party/nucleus/util/ranges.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges.py,1,['message'],['message']
Integrability,"# Note, below, one of train_op or eval_metrics will be None, and the other; # will be populated, depending on mode.; # There are a lot of arguments here; that's to avoid referencing flags in; # leaf functions.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:97,depend,depending,97,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['depend'],['depending']
Integrability,"# See CLIF wrapper for a discussion of why this is commented out.; # def test_make_str_ok_stripped_type(self):; # self.assertEqual(statusor_examples.MakeStrOKStrippedType(), 'hello')",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/statusor_examples_test.py:11,wrap,wrapper,11,third_party/nucleus/core/statusor_examples_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/statusor_examples_test.py,2,['wrap'],['wrapper']
Integrability,"# Some psutil functions, such as cpu_freq(), can return None depending on; # the environment; make sure we don't crash when that occurs.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/resources_test.py:61,depend,depending,61,deepvariant/resources_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/resources_test.py,3,['depend'],['depending']
Integrability,"# TODO: Replace this with a real protocol buffer definition.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/fasta.py:33,protocol,protocol,33,third_party/nucleus/io/fasta.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/fasta.py,1,['protocol'],['protocol']
Integrability,"# Test conversion from tfrecord format back to native format. Ensure that; # conversions where we would need a header, but don't have one from the; # input, trigger an error message.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/converter_test.py:174,message,message,174,third_party/nucleus/io/converter_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/converter_test.py,1,['message'],['message']
Integrability,"# The TPUEstimator interface implicitly adds batch_size to the params; # dict. Do so explicitly here, so that we can use the same model_fn.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:19,interface,interface,19,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['interface'],['interface']
Integrability,"# The actual result returned by group_variants is a list of tuples; # containing the grouped candidates and truth. The order they appear depends; # on the truth_position, since our deletion starts at 10.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py:137,depend,depends,137,deepvariant/labeler/haplotype_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py,1,['depend'],['depends']
Integrability,"# This shows an example of what the error message looks like:; # TODO: OpError exception not propagated.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_test.py:42,message,message,42,deepvariant/make_examples_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_test.py,1,['message'],['message']
Integrability,"# Training on parent2 in a duo is not supported (with a clear error; # message).",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py:71,message,message,71,deeptrio/make_examples_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py,1,['message'],['message']
Integrability,"# We do our test directly here on i > 0 so we only see the log messages; # if we add at least _LOG_EVERY_N_RANGES_IN_RANGESET_INIT records.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges.py:63,message,messages,63,third_party/nucleus/util/ranges.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges.py,1,['message'],['messages']
Integrability,"# We don't really want to inject too much knowledge about the golden right; # here, so we only use a minimal test that (a) the run_info_filename is; # a non-empty string and (b) the number of candidates sites in the labeling; # metrics field is greater than 0. Any reasonable golden output will have at; # least one candidate variant, and the reader should have filled in the; # value.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py:26,inject,inject,26,deeptrio/make_examples_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py,2,['inject'],['inject']
Integrability,"* this list of conditions and the following disclaimer.; *; * 2. Redistributions in binary form must reproduce the above copyright; * notice, this list of conditions and the following disclaimer in the; * documentation and/or other materials provided with the distribution.; *; * 3. Neither the name of the copyright holder nor the names of its; * contributors may be used to endorse or promote products derived from this; * software without specific prior written permission.; *; * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; */; // StatusOr<T> is the union of a Status object and a T; // object. StatusOr models the concept of an object that is either a; // usable value, or an error Status explaining why such a value is; // not present. To this end, StatusOr<T> does not allow its Status; // value to be Status::OK. Further, StatusOr<T*> does not allow the; // contained pointer to be NULL.; //; // The primary use-case for StatusOr<T> is as the return value of a; // function which may fail.; //; // Example client usage for a StatusOr<T>, where T is not a pointer:; //; // StatusOr<float> result = DoBigCalculationThatCouldFail();; // if (result.ok()) {; // float answer = result.ValueOrDie();; // printf(""Big calculation yielded: %f"", answer);; // } ",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/statusor.h:1357,CONTRACT,CONTRACT,1357,third_party/nucleus/core/statusor.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/statusor.h,1,['CONTRACT'],['CONTRACT']
Integrability,"* this list of conditions and the following disclaimer.; *; * 2. Redistributions in binary form must reproduce the above copyright; * notice, this list of conditions and the following disclaimer in the; * documentation and/or other materials provided with the distribution.; *; * 3. Neither the name of the copyright holder nor the names of its; * contributors may be used to endorse or promote products derived from this; * software without specific prior written permission.; *; * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; */; // gMock matchers used to validate protocol buffer arguments.; // WHAT THIS IS; // ============; //; // This library defines the following matchers in the ::nucleus namespace:; //; // EqualsProto(pb) The argument equals pb.; // EqualsInitializedProto(pb) The argument is initialized and equals pb.; // EquivToProto(pb) The argument is equivalent to pb.; // EquivToInitializedProto(pb) The argument is initialized and equivalent; // to pb.; // IsInitializedProto() The argument is an initialized protobuf.; //; // where:; //; // - pb can be either a protobuf value or a human-readable string; // representation of it.; // - When pb is a string, the matcher can optionally accept a; // template argument for the type of the prot",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h:1357,CONTRACT,CONTRACT,1357,third_party/nucleus/testing/protocol-buffer-matchers.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h,1,['CONTRACT'],['CONTRACT']
Integrability,"* this list of conditions and the following disclaimer.; *; * 2. Redistributions in binary form must reproduce the above copyright; * notice, this list of conditions and the following disclaimer in the; * documentation and/or other materials provided with the distribution.; *; * 3. Neither the name of the copyright holder nor the names of its; * contributors may be used to endorse or promote products derived from this; * software without specific prior written permission.; *; * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; *; */; // Core mathematical routines.; //; // A quick note on terminology here.; //; // There are a bunch kinds of probabilities used commonly in genomics:; //; // -- pError: the probability of being wrong.; // -- pTrue: the probability of being correct.; //; // Normalized probabilities vs. unnormalized likelihoods:; //; // -- Normalized probabilities: p_1, ..., p_n such that sum(p_i) == 1 are said; // said to be normalized because they represent a valid probability; // distribution over the states 1 ... n.; // -- Unnormalized likelihoods: p_1, ..., p_n where sum(p_i) != 1. These are not; // normalized and so aren't a valid probabilities distribution.; //; // To add even more complexity, probabilities are often represent",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/math.h:1357,CONTRACT,CONTRACT,1357,third_party/nucleus/util/math.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/math.h,1,['CONTRACT'],['CONTRACT']
Integrability,"* this list of conditions and the following disclaimer.; *; * 2. Redistributions in binary form must reproduce the above copyright; * notice, this list of conditions and the following disclaimer in the; * documentation and/or other materials provided with the distribution.; *; * 3. Neither the name of the copyright holder nor the names of its; * contributors may be used to endorse or promote products derived from this; * software without specific prior written permission.; *; * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; *; */; // Get basic information about a reference genome as well as make it cpu and; // memory efficient and scalable to get the reference bases for an interval on; // the genome.; //; // The GenomeReference provides the core functionality needed to use a reference; // genome for data processing and analyses tools:; //; // -- Get information about the contigs (aka chromosomes) present the FASTA,; // such as its name, description, and number of basepairs.; // -- Efficiently lookup the sequence of bases in an interval in the reference; // genome. For example, GetBases(""chr1"", 0, 10) gets the basepair sequence; // from the first base to the ninth base on chr1. This function call has; // cost roughly proportional to the size",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference.h:1357,CONTRACT,CONTRACT,1357,third_party/nucleus/io/reference.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference.h,1,['CONTRACT'],['CONTRACT']
Integrability,"/*; * Copyright 2017 Google LLC.; *; * Redistribution and use in source and binary forms, with or without; * modification, are permitted provided that the following conditions; * are met:; *; * 1. Redistributions of source code must retain the above copyright notice,; * this list of conditions and the following disclaimer.; *; * 2. Redistributions in binary form must reproduce the above copyright; * notice, this list of conditions and the following disclaimer in the; * documentation and/or other materials provided with the distribution.; *; * 3. Neither the name of the copyright holder nor the names of its; * contributors may be used to endorse or promote products derived from this; * software without specific prior written permission.; *; * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; */",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_image_native.cc:1357,CONTRACT,CONTRACT,1357,deepvariant/pileup_image_native.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_image_native.cc,20,['CONTRACT'],['CONTRACT']
Integrability,"/*; * Copyright 2017 Google LLC.; *; * Redistribution and use in source and binary forms, with or without; * modification, are permitted provided that the following conditions; * are met:; *; * 1. Redistributions of source code must retain the above copyright notice,; * this list of conditions and the following disclaimer.; *; * 2. Redistributions in binary form must reproduce the above copyright; * notice, this list of conditions and the following disclaimer in the; * documentation and/or other materials provided with the distribution.; *; * 3. Neither the name of the copyright holder nor the names of its; * contributors may be used to endorse or promote products derived from this; * software without specific prior written permission.; *; * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; */; // A very simple but highly sensitive variant caller.; //",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling.h:1357,CONTRACT,CONTRACT,1357,deepvariant/variant_calling.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling.h,2,['CONTRACT'],['CONTRACT']
Integrability,"/*; * Copyright 2017 Google LLC.; *; * Redistribution and use in source and binary forms, with or without; * modification, are permitted provided that the following conditions; * are met:; *; * 1. Redistributions of source code must retain the above copyright notice,; * this list of conditions and the following disclaimer.; *; * 2. Redistributions in binary form must reproduce the above copyright; * notice, this list of conditions and the following disclaimer in the; * documentation and/or other materials provided with the distribution.; *; * 3. Neither the name of the copyright holder nor the names of its; * contributors may be used to endorse or promote products derived from this; * software without specific prior written permission.; *; * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; */; // Compute AlleleCounts over an interval on the genome given the reads that; // align somewhere within that interval.; //",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.h:1357,CONTRACT,CONTRACT,1357,deepvariant/allelecounter.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.h,1,['CONTRACT'],['CONTRACT']
Integrability,"/*; * Copyright 2017 Google LLC.; *; * Redistribution and use in source and binary forms, with or without; * modification, are permitted provided that the following conditions; * are met:; *; * 1. Redistributions of source code must retain the above copyright notice,; * this list of conditions and the following disclaimer.; *; * 2. Redistributions in binary form must reproduce the above copyright; * notice, this list of conditions and the following disclaimer in the; * documentation and/or other materials provided with the distribution.; *; * 3. Neither the name of the copyright holder nor the names of its; * contributors may be used to endorse or promote products derived from this; * software without specific prior written permission.; *; * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; */; // Implementation of allelecounter.h.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.cc:1357,CONTRACT,CONTRACT,1357,deepvariant/allelecounter.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.cc,1,['CONTRACT'],['CONTRACT']
Integrability,"/*; * Copyright 2017 Google LLC.; *; * Redistribution and use in source and binary forms, with or without; * modification, are permitted provided that the following conditions; * are met:; *; * 1. Redistributions of source code must retain the above copyright notice,; * this list of conditions and the following disclaimer.; *; * 2. Redistributions in binary form must reproduce the above copyright; * notice, this list of conditions and the following disclaimer in the; * documentation and/or other materials provided with the distribution.; *; * 3. Neither the name of the copyright holder nor the names of its; * contributors may be used to endorse or promote products derived from this; * software without specific prior written permission.; *; * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; */; // Misc. utilities used throughout DeepVariant",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/utils.h:1357,CONTRACT,CONTRACT,1357,deepvariant/utils.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/utils.h,1,['CONTRACT'],['CONTRACT']
Integrability,"/*; * Copyright 2017 Google LLC.; *; * Redistribution and use in source and binary forms, with or without; * modification, are permitted provided that the following conditions; * are met:; *; * 1. Redistributions of source code must retain the above copyright notice,; * this list of conditions and the following disclaimer.; *; * 2. Redistributions in binary form must reproduce the above copyright; * notice, this list of conditions and the following disclaimer in the; * documentation and/or other materials provided with the distribution.; *; * 3. Neither the name of the copyright holder nor the names of its; * contributors may be used to endorse or promote products derived from this; * software without specific prior written permission.; *; * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; */; // UnitTests for allelecounter.{h,cc}.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter_test.cc:1357,CONTRACT,CONTRACT,1357,deepvariant/allelecounter_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter_test.cc,1,['CONTRACT'],['CONTRACT']
Integrability,"/*; * Copyright 2018 Google LLC.; *; * Redistribution and use in source and binary forms, with or without; * modification, are permitted provided that the following conditions; * are met:; *; * 1. Redistributions of source code must retain the above copyright notice,; * this list of conditions and the following disclaimer.; *; * 2. Redistributions in binary form must reproduce the above copyright; * notice, this list of conditions and the following disclaimer in the; * documentation and/or other materials provided with the distribution.; *; * 3. Neither the name of the copyright holder nor the names of its; * contributors may be used to endorse or promote products derived from this; * software without specific prior written permission.; *; * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; */",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner.cc:1357,CONTRACT,CONTRACT,1357,deepvariant/realigner/fast_pass_aligner.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner.cc,23,['CONTRACT'],['CONTRACT']
Integrability,"/*; * Copyright 2018 Google LLC.; *; * Redistribution and use in source and binary forms, with or without; * modification, are permitted provided that the following conditions; * are met:; *; * 1. Redistributions of source code must retain the above copyright notice,; * this list of conditions and the following disclaimer.; *; * 2. Redistributions in binary form must reproduce the above copyright; * notice, this list of conditions and the following disclaimer in the; * documentation and/or other materials provided with the distribution.; *; * 3. Neither the name of the copyright holder nor the names of its; * contributors may be used to endorse or promote products derived from this; * software without specific prior written permission.; *; * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; */; // Examples of StatusOr usage in C++ for CLIF bindings and tests.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/statusor_examples.h:1357,CONTRACT,CONTRACT,1357,third_party/nucleus/core/statusor_examples.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/statusor_examples.h,1,['CONTRACT'],['CONTRACT']
Integrability,"/*; * Copyright 2018 Google LLC.; *; * Redistribution and use in source and binary forms, with or without; * modification, are permitted provided that the following conditions; * are met:; *; * 1. Redistributions of source code must retain the above copyright notice,; * this list of conditions and the following disclaimer.; *; * 2. Redistributions in binary form must reproduce the above copyright; * notice, this list of conditions and the following disclaimer in the; * documentation and/or other materials provided with the distribution.; *; * 3. Neither the name of the copyright holder nor the names of its; * contributors may be used to endorse or promote products derived from this; * software without specific prior written permission.; *; * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; */; // Implementation of bed_reader.h",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/bed_reader.cc:1357,CONTRACT,CONTRACT,1357,third_party/nucleus/io/bed_reader.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/bed_reader.cc,1,['CONTRACT'],['CONTRACT']
Integrability,"/*; * Copyright 2018 Google LLC.; *; * Redistribution and use in source and binary forms, with or without; * modification, are permitted provided that the following conditions; * are met:; *; * 1. Redistributions of source code must retain the above copyright notice,; * this list of conditions and the following disclaimer.; *; * 2. Redistributions in binary form must reproduce the above copyright; * notice, this list of conditions and the following disclaimer in the; * documentation and/or other materials provided with the distribution.; *; * 3. Neither the name of the copyright holder nor the names of its; * contributors may be used to endorse or promote products derived from this; * software without specific prior written permission.; *; * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; */; // Implementation of bed_writer.h",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/bed_writer.cc:1357,CONTRACT,CONTRACT,1357,third_party/nucleus/io/bed_writer.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/bed_writer.cc,1,['CONTRACT'],['CONTRACT']
Integrability,"/*; * Copyright 2018 Google LLC.; *; * Redistribution and use in source and binary forms, with or without; * modification, are permitted provided that the following conditions; * are met:; *; * 1. Redistributions of source code must retain the above copyright notice,; * this list of conditions and the following disclaimer.; *; * 2. Redistributions in binary form must reproduce the above copyright; * notice, this list of conditions and the following disclaimer in the; * documentation and/or other materials provided with the distribution.; *; * 3. Neither the name of the copyright holder nor the names of its; * contributors may be used to endorse or promote products derived from this; * software without specific prior written permission.; *; * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; */; // Implementation of bedgraph_reader.h",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/bedgraph_reader.cc:1357,CONTRACT,CONTRACT,1357,third_party/nucleus/io/bedgraph_reader.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/bedgraph_reader.cc,1,['CONTRACT'],['CONTRACT']
Integrability,"/*; * Copyright 2018 Google LLC.; *; * Redistribution and use in source and binary forms, with or without; * modification, are permitted provided that the following conditions; * are met:; *; * 1. Redistributions of source code must retain the above copyright notice,; * this list of conditions and the following disclaimer.; *; * 2. Redistributions in binary form must reproduce the above copyright; * notice, this list of conditions and the following disclaimer in the; * documentation and/or other materials provided with the distribution.; *; * 3. Neither the name of the copyright holder nor the names of its; * contributors may be used to endorse or promote products derived from this; * software without specific prior written permission.; *; * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; */; // Implementation of fastq_reader.h",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/fastq_reader.cc:1357,CONTRACT,CONTRACT,1357,third_party/nucleus/io/fastq_reader.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/fastq_reader.cc,1,['CONTRACT'],['CONTRACT']
Integrability,"/*; * Copyright 2018 Google LLC.; *; * Redistribution and use in source and binary forms, with or without; * modification, are permitted provided that the following conditions; * are met:; *; * 1. Redistributions of source code must retain the above copyright notice,; * this list of conditions and the following disclaimer.; *; * 2. Redistributions in binary form must reproduce the above copyright; * notice, this list of conditions and the following disclaimer in the; * documentation and/or other materials provided with the distribution.; *; * 3. Neither the name of the copyright holder nor the names of its; * contributors may be used to endorse or promote products derived from this; * software without specific prior written permission.; *; * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; */; // Implementation of fastq_writer.h",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/fastq_writer.cc:1357,CONTRACT,CONTRACT,1357,third_party/nucleus/io/fastq_writer.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/fastq_writer.cc,1,['CONTRACT'],['CONTRACT']
Integrability,"/*; * Copyright 2018 Google LLC.; *; * Redistribution and use in source and binary forms, with or without; * modification, are permitted provided that the following conditions; * are met:; *; * 1. Redistributions of source code must retain the above copyright notice,; * this list of conditions and the following disclaimer.; *; * 2. Redistributions in binary form must reproduce the above copyright; * notice, this list of conditions and the following disclaimer in the; * documentation and/or other materials provided with the distribution.; *; * 3. Neither the name of the copyright holder nor the names of its; * contributors may be used to endorse or promote products derived from this; * software without specific prior written permission.; *; * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; */; // Implementation of gff_reader.h",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/gff_reader.cc:1357,CONTRACT,CONTRACT,1357,third_party/nucleus/io/gff_reader.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/gff_reader.cc,1,['CONTRACT'],['CONTRACT']
Integrability,"/*; * Copyright 2018 Google LLC.; *; * Redistribution and use in source and binary forms, with or without; * modification, are permitted provided that the following conditions; * are met:; *; * 1. Redistributions of source code must retain the above copyright notice,; * this list of conditions and the following disclaimer.; *; * 2. Redistributions in binary form must reproduce the above copyright; * notice, this list of conditions and the following disclaimer in the; * documentation and/or other materials provided with the distribution.; *; * 3. Neither the name of the copyright holder nor the names of its; * contributors may be used to endorse or promote products derived from this; * software without specific prior written permission.; *; * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; */; // Tests for GffReader class.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/gff_reader_test.cc:1357,CONTRACT,CONTRACT,1357,third_party/nucleus/io/gff_reader_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/gff_reader_test.cc,1,['CONTRACT'],['CONTRACT']
Integrability,"/*; * Copyright 2018 Google LLC.; *; * Redistribution and use in source and binary forms, with or without; * modification, are permitted provided that the following conditions; * are met:; *; * 1. Redistributions of source code must retain the above copyright notice,; * this list of conditions and the following disclaimer.; *; * 2. Redistributions in binary form must reproduce the above copyright; * notice, this list of conditions and the following disclaimer in the; * documentation and/or other materials provided with the distribution.; *; * 3. Neither the name of the copyright holder nor the names of its; * contributors may be used to endorse or promote products derived from this; * software without specific prior written permission.; *; * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; *; */",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/bedgraph_reader_test.cc:1357,CONTRACT,CONTRACT,1357,third_party/nucleus/io/bedgraph_reader_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/bedgraph_reader_test.cc,43,['CONTRACT'],['CONTRACT']
Integrability,"/*; * Copyright 2018 Google LLC.; *; * Redistribution and use in source and binary forms, with or without; * modification, are permitted provided that the following conditions; * are met:; *; * 1. Redistributions of source code must retain the above copyright notice,; * this list of conditions and the following disclaimer.; *; * 2. Redistributions in binary form must reproduce the above copyright; * notice, this list of conditions and the following disclaimer in the; * documentation and/or other materials provided with the distribution.; *; * 3. Neither the name of the copyright holder nor the names of its; * contributors may be used to endorse or promote products derived from this; * software without specific prior written permission.; *; * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; *; */; // Core utilities functions used throughout deepvariant.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/utils.h:1357,CONTRACT,CONTRACT,1357,third_party/nucleus/util/utils.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/utils.h,1,['CONTRACT'],['CONTRACT']
Integrability,"/*; * Copyright 2018 Google LLC.; *; * Redistribution and use in source and binary forms, with or without; * modification, are permitted provided that the following conditions; * are met:; *; * 1. Redistributions of source code must retain the above copyright notice,; * this list of conditions and the following disclaimer.; *; * 2. Redistributions in binary form must reproduce the above copyright; * notice, this list of conditions and the following disclaimer in the; * documentation and/or other materials provided with the distribution.; *; * 3. Neither the name of the copyright holder nor the names of its; * contributors may be used to endorse or promote products derived from this; * software without specific prior written permission.; *; * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; *; */; // Implementation of TextWriter class.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/text_writer.cc:1357,CONTRACT,CONTRACT,1357,third_party/nucleus/io/text_writer.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/text_writer.cc,1,['CONTRACT'],['CONTRACT']
Integrability,"/*; * Copyright 2018 Google LLC.; *; * Redistribution and use in source and binary forms, with or without; * modification, are permitted provided that the following conditions; * are met:; *; * 1. Redistributions of source code must retain the above copyright notice,; * this list of conditions and the following disclaimer.; *; * 2. Redistributions in binary form must reproduce the above copyright; * notice, this list of conditions and the following disclaimer in the; * documentation and/or other materials provided with the distribution.; *; * 3. Neither the name of the copyright holder nor the names of its; * contributors may be used to endorse or promote products derived from this; * software without specific prior written permission.; *; * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; *; */; // Implementation of sam_reader.h",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.cc:1357,CONTRACT,CONTRACT,1357,third_party/nucleus/io/sam_reader.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.cc,1,['CONTRACT'],['CONTRACT']
Integrability,"/*; * Copyright 2018 Google LLC.; *; * Redistribution and use in source and binary forms, with or without; * modification, are permitted provided that the following conditions; * are met:; *; * 1. Redistributions of source code must retain the above copyright notice,; * this list of conditions and the following disclaimer.; *; * 2. Redistributions in binary form must reproduce the above copyright; * notice, this list of conditions and the following disclaimer in the; * documentation and/or other materials provided with the distribution.; *; * 3. Neither the name of the copyright holder nor the names of its; * contributors may be used to endorse or promote products derived from this; * software without specific prior written permission.; *; * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; *; */; // Implementation of vcf_reader.h",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_reader.cc:1357,CONTRACT,CONTRACT,1357,third_party/nucleus/io/vcf_reader.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_reader.cc,1,['CONTRACT'],['CONTRACT']
Integrability,"/*; * Copyright 2018 Google LLC.; *; * Redistribution and use in source and binary forms, with or without; * modification, are permitted provided that the following conditions; * are met:; *; * 1. Redistributions of source code must retain the above copyright notice,; * this list of conditions and the following disclaimer.; *; * 2. Redistributions in binary form must reproduce the above copyright; * notice, this list of conditions and the following disclaimer in the; * documentation and/or other materials provided with the distribution.; *; * 3. Neither the name of the copyright holder nor the names of its; * contributors may be used to endorse or promote products derived from this; * software without specific prior written permission.; *; * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; *; */; // Implementation of vcf_writer.h",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_writer.cc:1357,CONTRACT,CONTRACT,1357,third_party/nucleus/io/vcf_writer.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_writer.cc,1,['CONTRACT'],['CONTRACT']
Integrability,"/*; * Copyright 2018 Google LLC.; *; * Redistribution and use in source and binary forms, with or without; * modification, are permitted provided that the following conditions; * are met:; *; * 1. Redistributions of source code must retain the above copyright notice,; * this list of conditions and the following disclaimer.; *; * 2. Redistributions in binary form must reproduce the above copyright; * notice, this list of conditions and the following disclaimer in the; * documentation and/or other materials provided with the distribution.; *; * 3. Neither the name of the copyright holder nor the names of its; * contributors may be used to endorse or promote products derived from this; * software without specific prior written permission.; *; * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; *; */; // Testing C++ utilities.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.h:1357,CONTRACT,CONTRACT,1357,third_party/nucleus/testing/test_utils.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.h,1,['CONTRACT'],['CONTRACT']
Integrability,"/*; * Copyright 2018 Google LLC.; *; * Redistribution and use in source and binary forms, with or without; * modification, are permitted provided that the following conditions; * are met:; *; * 1. Redistributions of source code must retain the above copyright notice,; * this list of conditions and the following disclaimer.; *; * 2. Redistributions in binary form must reproduce the above copyright; * notice, this list of conditions and the following disclaimer in the; * documentation and/or other materials provided with the distribution.; *; * 3. Neither the name of the copyright holder nor the names of its; * contributors may be used to endorse or promote products derived from this; * software without specific prior written permission.; *; * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; *; */; // This header brings standard integral types into scope, as well as setting up; // the right string class.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/platform/types.h:1357,CONTRACT,CONTRACT,1357,third_party/nucleus/platform/types.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/platform/types.h,1,['CONTRACT'],['CONTRACT']
Integrability,"/*; * Copyright 2018 Google LLC.; *; * Redistribution and use in source and binary forms, with or without; * modification, are permitted provided that the following conditions; * are met:; *; * 1. Redistributions of source code must retain the above copyright notice,; * this list of conditions and the following disclaimer.; *; * 2. Redistributions in binary form must reproduce the above copyright; * notice, this list of conditions and the following disclaimer in the; * documentation and/or other materials provided with the distribution.; *; * 3. Neither the name of the copyright holder nor the names of its; * contributors may be used to endorse or promote products derived from this; * software without specific prior written permission.; *; * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; *; */; //; // Macros, functions, etc to improve portability of our C++ codebase.; //",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/port.h:1357,CONTRACT,CONTRACT,1357,third_party/nucleus/util/port.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/port.h,1,['CONTRACT'],['CONTRACT']
Integrability,"/*; * Copyright 2018 Google LLC.; *; *; * Redistribution and use in source and binary forms, with or without; * modification, are permitted provided that the following conditions; * are met:; *; * 1. Redistributions of source code must retain the above copyright notice,; * this list of conditions and the following disclaimer.; *; * 2. Redistributions in binary form must reproduce the above copyright; * notice, this list of conditions and the following disclaimer in the; * documentation and/or other materials provided with the distribution.; *; * 3. Neither the name of the copyright holder nor the names of its; * contributors may be used to endorse or promote products derived from this; * software without specific prior written permission.; *; * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; */",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/gunit_extras_test.cc:1360,CONTRACT,CONTRACT,1360,third_party/nucleus/testing/gunit_extras_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/gunit_extras_test.cc,1,['CONTRACT'],['CONTRACT']
Integrability,"/*; * Copyright 2019 Google LLC.; *; * Redistribution and use in source and binary forms, with or without; * modification, are permitted provided that the following conditions; * are met:; *; * 1. Redistributions of source code must retain the above copyright notice,; * this list of conditions and the following disclaimer.; *; * 2. Redistributions in binary form must reproduce the above copyright; * notice, this list of conditions and the following disclaimer in the; * documentation and/or other materials provided with the distribution.; *; * 3. Neither the name of the copyright holder nor the names of its; * contributors may be used to endorse or promote products derived from this; * software without specific prior written permission.; *; * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; *; */",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/gfile.cc:1357,CONTRACT,CONTRACT,1357,third_party/nucleus/io/gfile.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/gfile.cc,11,['CONTRACT'],['CONTRACT']
Integrability,"/*; * Copyright 2021 Google LLC.; *; * Redistribution and use in source and binary forms, with or without; * modification, are permitted provided that the following conditions; * are met:; *; * 1. Redistributions of source code must retain the above copyright notice,; * this list of conditions and the following disclaimer.; *; * 2. Redistributions in binary form must reproduce the above copyright; * notice, this list of conditions and the following disclaimer in the; * documentation and/or other materials provided with the distribution.; *; * 3. Neither the name of the copyright holder nor the names of its; * contributors may be used to endorse or promote products derived from this; * software without specific prior written permission.; *; * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; */",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing.cc:1357,CONTRACT,CONTRACT,1357,deepvariant/direct_phasing.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing.cc,5,['CONTRACT'],['CONTRACT']
Integrability,"/*; * Copyright 2022 Google LLC.; *; * Redistribution and use in source and binary forms, with or without; * modification, are permitted provided that the following conditions; * are met:; *; * 1. Redistributions of source code must retain the above copyright notice,; * this list of conditions and the following disclaimer.; *; * 2. Redistributions in binary form must reproduce the above copyright; * notice, this list of conditions and the following disclaimer in the; * documentation and/or other materials provided with the distribution.; *; * 3. Neither the name of the copyright holder nor the names of its; * contributors may be used to endorse or promote products derived from this; * software without specific prior written permission.; *; * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; *; */",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/merge_variants.cc:1357,CONTRACT,CONTRACT,1357,third_party/nucleus/io/merge_variants.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/merge_variants.cc,6,['CONTRACT'],['CONTRACT']
Integrability,"/*; * Copyright 2023 Google LLC.; *; * Redistribution and use in source and binary forms, with or without; * modification, are permitted provided that the following conditions; * are met:; *; * 1. Redistributions of source code must retain the above copyright notice,; * this list of conditions and the following disclaimer.; *; * 2. Redistributions in binary form must reproduce the above copyright; * notice, this list of conditions and the following disclaimer in the; * documentation and/or other materials provided with the distribution.; *; * 3. Neither the name of the copyright holder nor the names of its; * contributors may be used to endorse or promote products derived from this; * software without specific prior written permission.; *; * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; */",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/merge_phased_reads.h:1357,CONTRACT,CONTRACT,1357,deepvariant/merge_phased_reads.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/merge_phased_reads.h,3,['CONTRACT'],['CONTRACT']
Integrability,"/*; * Copyright 2023 Google LLC.; *; * Redistribution and use in source and binary forms, with or without; * modification, are permitted provided that the following conditions; * are met:; *; * 1. Redistributions of source code must retain the above copyright notice,; * this list of conditions and the following disclaimer.; *; * 2. Redistributions in binary form must reproduce the above copyright; * notice, this list of conditions and the following disclaimer in the; * documentation and/or other materials provided with the distribution.; *; * 3. Neither the name of the copyright holder nor the names of its; * contributors may be used to endorse or promote products derived from this; * software without specific prior written permission.; *; * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; */; // This utility is used to merge phased reads from different shards.; // We can find a consistent phasing if there are reads that overlap multiple; // shards. Please note, that input file must be local, this utility does not; // support Google paths.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/merge_phased_reads.cc:1357,CONTRACT,CONTRACT,1357,deepvariant/merge_phased_reads.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/merge_phased_reads.cc,1,['CONTRACT'],['CONTRACT']
Integrability,"/*; * Copyright 2023 Google LLC.; *; * Redistribution and use in source and binary forms, with or without; * modification, are permitted provided that the following conditions; * are met:; *; * 1. Redistributions of source code must retain the above copyright notice,; * this list of conditions and the following disclaimer.; *; * 2. Redistributions in binary form must reproduce the above copyright; * notice, this list of conditions and the following disclaimer in the; * documentation and/or other materials provided with the distribution.; *; * 3. Neither the name of the copyright holder nor the names of its; * contributors may be used to endorse or promote products derived from this; * software without specific prior written permission.; *; * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; */; // This utility is used to merge phased reads from different shards.; // We can find a consistent phasing if there are reads that overlap multiple; // shards. Please note, that input file must be local, this utility does not; // support Google paths.; //; // Usage:; // blaze-bin/learning/genomics/deepvariant/merge_phased_reads_cpp \; // --input_path <Path to sharded tsv file> \; // --output_path <Path to output file> \; // --logtostderr",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/merge_phased_reads_main.cc:1357,CONTRACT,CONTRACT,1357,deepvariant/merge_phased_reads_main.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/merge_phased_reads_main.cc,1,['CONTRACT'],['CONTRACT']
Integrability,"/*; * Copyright 2023 Google LLC.; *; * Redistribution and use in source and binary forms, with or without; * modification, are permitted provided that the following conditions; * are met:; *; * 1. Redistributions of source code must retain the above copyright notice,; * this list of conditions and the following disclaimer.; *; * 2. Redistributions in binary form must reproduce the above copyright; * notice, this list of conditions and the following disclaimer in the; * documentation and/or other materials provided with the distribution.; *; * 3. Neither the name of the copyright holder nor the names of its; * contributors may be used to endorse or promote products derived from this; * software without specific prior written permission.; *; * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; *; */",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/tstring_clif_conversions.h:1357,CONTRACT,CONTRACT,1357,third_party/nucleus/io/python/tstring_clif_conversions.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/tstring_clif_conversions.h,1,['CONTRACT'],['CONTRACT']
Integrability,"// -----------------------------------------------------------------------------; // ""Raw"" low-level interface to encoding/decoding to FORMAT fields. We use; // these directly for FORMAT fields that have special semantics and so cannot be; // handled by VcfFormatFieldAdapter.; // Read in one of the format tags for a variant line of a VCF file, and return; // a vector of vectors, where each subvector records values for a single sample.; // An empty subvector represents that the field is ""missing"" for this sample.; // If the tag is not represented in this variant, a zero-length vector is; // returned.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.cc:101,interface,interface,101,third_party/nucleus/io/vcf_conversion.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.cc,1,['interface'],['interface']
Integrability,"// -----------------------------------------------------------------------------; // ""Raw"" low-level interface to encoding/decoding to INFO fields. These; // functions parallel the ""FORMAT"" functions above.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.cc:101,interface,interface,101,third_party/nucleus/io/vcf_conversion.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.cc,1,['interface'],['interface']
Integrability,"// -----------------------------------------------------------------------------; // Helper class for encoding VariantCall.info values in VCF FORMAT field values.; // This class is only intended for use with FORMAT fields that can be directly; // mapped between a VCF record and the FORMAT info dictionary, without special; // logic. Where special logic is needed (e.g. for GT, GL/PL, etc.), the lower; // level functions `ReadFormatValues` and `EncodeFormatValues` are called; // directly.; //; // The standard way to interact with this class is as follows.; //; // Create an adaptor for FORMAT field ""DP"" of integer type:; // VcfFormatFieldAdapter adapter(""DP"", BCF_HT_INT32);; //; // For each variant, we encode this format field into the vcf record:; // adapter.EncodeValues(variant, header, bcf_record);; //",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.h:650,adapter,adapter,650,third_party/nucleus/io/vcf_conversion.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.h,2,['adapter'],['adapter']
Integrability,"// A class for reading TFRecord files, designed for easy CLIF-wrapping; // for Python. Loosely based on tensorflow/python/lib/io/py_record_reader.h; // An instance of this class is NOT safe for concurrent access by multiple; // threads.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/tfrecord_reader.h:62,wrap,wrapping,62,third_party/nucleus/io/tfrecord_reader.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/tfrecord_reader.h,1,['wrap'],['wrapping']
Integrability,"// A class for writing TFRecord files, designed for easy CLIF-wrapping; // for Python. Loosely based on tensorflow/python/lib/io/py_record_writer.h; // An instance of this class is NOT safe for concurrent access by multiple; // threads.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/tfrecord_writer.h:62,wrap,wrapping,62,third_party/nucleus/io/tfrecord_writer.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/tfrecord_writer.h,1,['wrap'],['wrapping']
Integrability,"// Abstract interface.; // Next gets the next record.; // Returns:; // true if we successfully got the record (is put in *out);; // false if there are no more records.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reader_base.h:12,interface,interface,12,third_party/nucleus/io/reader_base.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reader_base.h,1,['interface'],['interface']
Integrability,"// Adapter to extract an iterable into a vector for examination in test code.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.h:3,Adapter,Adapter,3,third_party/nucleus/testing/test_utils.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.h,1,['Adapter'],['Adapter']
Integrability,"// Adapter to extract an iterable into a vector for examination in test code; // from a StatusOr<std::shared_ptr<Iterable<Record>>>.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.h:3,Adapter,Adapter,3,third_party/nucleus/testing/test_utils.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.h,1,['Adapter'],['Adapter']
Integrability,"// Add the values for this INFO field in the bcf1_t `bcf_record` to the; // Variant message info map.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.h:84,message,message,84,third_party/nucleus/io/vcf_conversion.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.h,1,['message'],['message']
Integrability,"// Add the values for this genotype field in the bcf1_t `bcf_record` to the; // VariantCall info maps within this Variant proto message `variant`.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.h:128,message,message,128,third_party/nucleus/io/vcf_conversion.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.h,1,['message'],['message']
Integrability,"// Advance reference and read pointers depending on the cigar operation and; // its length.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.cc:39,depend,depending,39,deepvariant/allelecounter.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.cc,1,['depend'],['depending']
Integrability,"// Approximately(m) returns a matcher that is the same as m, except; // that it compares floating-point fields approximately (using; // google::protobuf::util::MessageDifferencer's APPROXIMATE comparison option).; // The inner matcher m can be any of the Equals* and EquivTo* protobuf; // matchers above.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h:160,Message,MessageDifferencer,160,third_party/nucleus/testing/protocol-buffer-matchers.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h,1,['Message'],['MessageDifferencer']
Integrability,"// Assign aligned_quality. Depending on the use_original_base_quality_scores; // aligned_quality is read either from ""QUAL"" field or from ""OQ"" tag in SAM/BAM.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.cc:27,Depend,Depending,27,third_party/nucleus/io/sam_reader.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.cc,1,['Depend'],['Depending']
Integrability,"// Build the skeleton of a VCF file for some pretend variants.; // This routine will populate headers but not any records.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_writer_test.cc:72,rout,routine,72,third_party/nucleus/io/vcf_writer_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_writer_test.cc,2,['rout'],['routine']
Integrability,"// CLIF normally will serialize/deserialize protocol; // buffers when passing them from C++ to/from Python.; // These wrappers disable that default handling.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/proto_ptr.h:44,protocol,protocol,44,third_party/nucleus/util/proto_ptr.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/proto_ptr.h,2,"['protocol', 'wrap']","['protocol', 'wrappers']"
Integrability,"// Calculate values for channels that depend on information at the; // granularity of bases within the read and/or reference sequence.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_channel_lib.h:38,depend,depend,38,deepvariant/pileup_channel_lib.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_channel_lib.h,1,['depend'],['depend']
Integrability,"// Calculate values for channels that only depend on information at the; // granularity of an entire read.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_channel_lib.h:43,depend,depend,43,deepvariant/pileup_channel_lib.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_channel_lib.h,1,['depend'],['depend']
Integrability,"// Clients might depend on our non-copying semantics, so we can't fall; // back on CLIF here but instead must fail loudly.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/proto_clif_converter.h:17,depend,depend,17,third_party/nucleus/util/proto_clif_converter.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/proto_clif_converter.h,2,['depend'],['depend']
Integrability,"// Configures a MessageDifferencer and DefaultFieldComparator to use the logic; // described in comp. The configured differencer is the output of this function,; // but a FieldComparator must be provided to keep ownership clear.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.cc:16,Message,MessageDifferencer,16,third_party/nucleus/testing/protocol-buffer-matchers.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.cc,1,['Message'],['MessageDifferencer']
Integrability,"// Constructs a matcher that matches an argument whose IsInitialized(); // and Equals(x) methods both return true. The argument can be either; // a protocol buffer or a pointer to it.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h:148,protocol,protocol,148,third_party/nucleus/testing/protocol-buffer-matchers.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h,1,['protocol'],['protocol']
Integrability,"// Constructs a matcher that matches an argument whose IsInitialized(); // and Equivalent(x) methods both return true. The argument can be; // either a protocol buffer or a pointer to it.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h:152,protocol,protocol,152,third_party/nucleus/testing/protocol-buffer-matchers.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h,1,['protocol'],['protocol']
Integrability,"// Convert a VCF line parsed by htslib into a Variant protocol buffer.; // The parsed line is passed in v, and the parsed header is in h.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.h:54,protocol,protocol,54,third_party/nucleus/io/vcf_conversion.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.h,1,['protocol'],['protocol']
Integrability,"// Convert a Variant protocol buffer into htslib's representation of a VCF; // line.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.h:21,protocol,protocol,21,third_party/nucleus/io/vcf_conversion.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.h,1,['protocol'],['protocol']
Integrability,"// Convert from Python protocol buffer object py to a C++ pointer.; // Unlike the conversions that CLIF automatically generates for protocol; // buffers, this one does no copying if the Python protocol buffer uses; // the C++ memory layout.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/proto_clif_converter.h:23,protocol,protocol,23,third_party/nucleus/util/proto_clif_converter.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/proto_clif_converter.h,6,['protocol'],['protocol']
Integrability,"// Converts a text GFF line into a GffRecord proto message, or returns an error; // code if the line is malformed. The record will only be modified if the call; // succeeds.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/gff_reader.cc:51,message,message,51,third_party/nucleus/io/gff_reader.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/gff_reader.cc,1,['message'],['message']
Integrability,"// Creates a new SamReader reading from the SAM/BAM/CRAM file reads_path.; //; // reads_path must point to an existing SAM/BAM/CRAM formatted file (text SAM,; // compressed or uncompressed BAM file, CRAM files in all sorts of flavors).; //; // ref_path can be """", in which case the argument is ignored, or must point; // to an existing FASTA file. If not """" and the reads_path points to a CRAM; // file, the CRAM_OPT_REFERNECE field will be set to this path so that the; // CRAM decoder uses ref_path to decode the reference-compressed read; // sequences in the CRAM file. Because many low-level IO routines (e.g. stat); // are currently directly used in the CRAM implementation in htslib, ref_path; // must be on a local (e.g., POSIX accessible) mount point. File system access; // provided by htslib plugins (e.g., S3) won't work.; //; // If the filetype is BAM/CRAM, this constructor will attempt to load a BAI or; // CRAI index from file reads_path + '.bai' or reads_path (without the .bam; // extension) + '.bai'; if the index is not found, attempts to Query will; // fail.; //; // Returns a StatusOr that is OK if the SamReader could be successfully; // created or an error code indicating the error that occurred.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.h:599,rout,routines,599,third_party/nucleus/io/sam_reader.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.h,1,['rout'],['routines']
Integrability,"// Creates a new adapter for a field name field_name.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.h:17,adapter,adapter,17,third_party/nucleus/io/vcf_conversion.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.h,2,['adapter'],['adapter']
Integrability,"// Describes the differences between the two protocol buffers.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.cc:45,protocol,protocol,45,third_party/nucleus/testing/protocol-buffer-matchers.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.cc,2,['protocol'],['protocol']
Integrability,"// Describes the types of the expected and the actual protocol buffer.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.cc:54,protocol,protocol,54,third_party/nucleus/testing/protocol-buffer-matchers.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.cc,2,['protocol'],['protocol']
Integrability,"// Each block is encoded like (each element is a byte):; // [tag char 1, tag char 2, type byte, ...]; // where the ... contents depends on the 2-character tag and type.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.cc:128,depend,depends,128,third_party/nucleus/io/sam_reader.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.cc,1,['depend'],['depends']
Integrability,"// Ensure that C++ iterator interface properly handles an error, for example as; // would be encountered upon parsing a malformed record in a file.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reader_base_test.cc:28,interface,interface,28,third_party/nucleus/io/reader_base_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reader_base_test.cc,1,['interface'],['interface']
Integrability,"// Ensure that the Iterable Next() interface properly handles an error, for; // example as would be encountered upon parsing a malformed record in a file.; // This interface is used by our Python APIs.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reader_base_test.cc:35,interface,interface,35,third_party/nucleus/io/reader_base_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reader_base_test.cc,2,['interface'],['interface']
Integrability,"// FORMAT field extraction: wrapper for bcf_get_format_*(); // Given a VCF record, this will grab FORMAT tag ""tag"" from the record, a; // buffer *dst for the contents, and copy them there. The return value will; // be either negative (for error) or the number of values copied. *ndst; // should not be used.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.h:28,wrap,wrapper,28,third_party/nucleus/io/vcf_conversion.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.h,1,['wrap'],['wrapper']
Integrability,"// FORMAT field writing: wrapper for bcf_update_format_*(); // Given a VCF record, this routine will populate the FORMAT field specified; // by ""tag"" with the values src[0]...src[nsrc-1].",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.h:25,wrap,wrapper,25,third_party/nucleus/io/vcf_conversion.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.h,2,"['rout', 'wrap']","['routine', 'wrapper']"
Integrability,"// Function returns read phases for each read in the input reads preserving; // the order. Python wrapper will be used to add phases to read protos in; // order to avoid copying gigabytes of memory.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing.h:98,wrap,wrapper,98,deepvariant/direct_phasing.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing.h,1,['wrap'],['wrapper']
Integrability,"// Gets the completed AlleleCounts over this counter's interval.; //; // This function returns a vector of AlleleCount objects, one for each; // basepair in our interval, filled in according to the reads that have been; // added via calls to Add*() routines.; //; // Calling this routine finalizes the AlleleCounts(), so that subsequent calls; // to Add*() will fail.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.h:249,rout,routines,249,deepvariant/allelecounter.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.h,2,['rout'],"['routine', 'routines']"
Integrability,"// HAS_GLOBAL_STRING; // Some platforms have a ::string class that is different from ::std::string; // (although the interface is the same, of course). On other platforms,; // ::string is the same as ::std::string.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/port.h:117,interface,interface,117,third_party/nucleus/util/port.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/port.h,1,['interface'],['interface']
Integrability,"// Helper class for converting between Variant proto messages and VCF records.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.h:53,message,messages,53,third_party/nucleus/io/vcf_conversion.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.h,1,['message'],['messages']
Integrability,"// Helper class for converting between VcfHeader proto messages and bcf_hdr_t; // structs.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.h:55,message,messages,55,third_party/nucleus/io/vcf_conversion.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.h,1,['message'],['messages']
Integrability,"// Helper class to calculate byte representation (specified in SAM format) of; // the auxiliary info field of a Read message.; // Note that only string, int, and double fields are currently supported.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_writer.cc:117,message,message,117,third_party/nucleus/io/sam_writer.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_writer.cc,1,['message'],['message']
Integrability,"// INFO field extraction: wrapper for bcf_get_info_*(); // Given a VCF record, this will grab INFO tag ""tag"" from the record, a; // buffer *dst for the contents, and copy them there. The return value will; // be either negative (for error) or the number of values copied. *ndst; // should not be used.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.h:26,wrap,wrapper,26,third_party/nucleus/io/vcf_conversion.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.h,1,['wrap'],['wrapper']
Integrability,"// INFO field writing: wrapper for bcf_update_info_*(); // Given a VCF record, this routine will populate the INFO field specified; // by ""tag"" with the values src[0]...src[nsrc-1].",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.h:23,wrap,wrapper,23,third_party/nucleus/io/vcf_conversion.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.h,2,"['rout', 'wrap']","['routine', 'wrapper']"
Integrability,"// IgnoringFields(fields, m) returns a matcher that is the same as m, except the; // specified fields will be ignored when matching; // (using google::protobuf::util::MessageDifferencer::IgnoreField). Each element in fields; // are specified by their fully qualified names, i.e., the names corresponding; // to FieldDescriptor.full_name(). (e.g. testing.internal.FooProto2.member).; // m can be any of the Equals* and EquivTo* protobuf matchers above.; // It can also be any of the transformer matchers listed here (e.g.; // Approximately, TreatingNaNsAsEqual) as long as the intent of the each; // concatenated matcher is mutually exclusive (e.g. using IgnoringFields in; // conjunction with Partially can have different results depending on whether; // the fields specified in IgnoringFields is part of the fields covered by; // Partially).",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h:167,Message,MessageDifferencer,167,third_party/nucleus/testing/protocol-buffer-matchers.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h,2,"['Message', 'depend']","['MessageDifferencer', 'depending']"
Integrability,"// Implements the IsInitializedProto matcher, which is used to verify that a; // protocol buffer is valid using the IsInitialized method.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h:81,protocol,protocol,81,third_party/nucleus/testing/protocol-buffer-matchers.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h,1,['protocol'],['protocol']
Integrability,"// Install adapters for FORMAT fields.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.cc:11,adapter,adapters,11,third_party/nucleus/io/vcf_conversion.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.cc,1,['adapter'],['adapters']
Integrability,"// Install adapters for INFO fields.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.cc:11,adapter,adapters,11,third_party/nucleus/io/vcf_conversion.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.cc,1,['adapter'],['adapters']
Integrability,"// LANG_CXX11; // IgnoringRepeatedFieldOrdering(m) returns a matcher that is the same as m,; // except that it ignores the relative ordering of elements within each repeated; // field in m. See google::protobuf::MessageDifferencer::TreatAsSet() for more details.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h:212,Message,MessageDifferencer,212,third_party/nucleus/testing/protocol-buffer-matchers.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h,1,['Message'],['MessageDifferencer']
Integrability,"// Leaks string but this is only to be used in a fatal error message",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/status.cc:61,message,message,61,third_party/nucleus/core/status.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/status.cc,1,['message'],['message']
Integrability,"// Lookup table for genotype FORMAT field adapters by VCF tag name.; // The order of adapter definitions here determines the order of the fields; // in a written VCF.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.h:42,adapter,adapters,42,third_party/nucleus/io/vcf_conversion.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.h,2,['adapter'],"['adapter', 'adapters']"
Integrability,"// Lookup table for variant INFO fields adapters by VCF tag name.; // The order of adapter definitions here determines the order of the fields; // in a written VCF.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.h:40,adapter,adapters,40,third_party/nucleus/io/vcf_conversion.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.h,2,['adapter'],"['adapter', 'adapters']"
Integrability,"// Matches if a Status or StatusOr object's ok() returns false and that status; // code is expected_code and its error message contains the string; // expected_error_message_substring.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/status_matchers.h:119,message,message,119,third_party/nucleus/core/status_matchers.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/status_matchers.h,1,['message'],['message']
Integrability,"// Matches if a Status or StatusOr object's ok() returns false and that status; // has an error message containing the string expected_error_message_substring.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/status_matchers.h:96,message,message,96,third_party/nucleus/core/status_matchers.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/status_matchers.h,1,['message'],['message']
Integrability,"// Note it would be better to return a Status or StatusOr here but it seems; // that this is incompatible with iterator interface.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reader_base.h:120,interface,interface,120,third_party/nucleus/io/reader_base.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reader_base.h,2,['interface'],['interface']
Integrability,"// OK status has a `NULL` state_. Otherwise, `state_` points to; // a `State` structure containing the error code and message(s)",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/status.h:118,message,message,118,third_party/nucleus/core/status.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/status.h,1,['message'],['message']
Integrability,"// Overload for ProtoCompare where the expected message is specified as a text; // proto. If the text cannot be parsed as a message of the same type as the; // actual message, a CHECK failure will cause the test to fail and no subsequent; // tests will be run.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h:48,message,message,48,third_party/nucleus/testing/protocol-buffer-matchers.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h,3,['message'],['message']
Integrability,"// Partially(m) returns a matcher that is the same as m, except that; // only fields present in the expected protobuf are considered (using; // google::protobuf::util::MessageDifferencer's PARTIAL comparison option). For; // example, Partially(EqualsProto(p)) will ignore any field that's; // not set in p when comparing the protobufs. The inner matcher m can; // be any of the Equals* and EquivTo* protobuf matchers above.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h:168,Message,MessageDifferencer,168,third_party/nucleus/testing/protocol-buffer-matchers.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h,1,['Message'],['MessageDifferencer']
Integrability,"// PhaseReads wrapper for Python clif interface.; // TODO In other similar wrappers ConstProtoPtr is unwrapped in the; // wrapper. See if it makes sense to do here as well.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing.h:14,wrap,wrapper,14,deepvariant/direct_phasing.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing.h,4,"['interface', 'wrap']","['interface', 'wrapper', 'wrappers']"
Integrability,"// Primary interface function for calling variants.; //; // Looks at the alleles in the provided AlleleCount proto and returns; // either properly-formatted Variant proto specifying the non-reference call; // or nullopt, indicating that the AlleleCount didn't meet the criteria for a; // non-reference call. If a Variant is returned, it will have reference_name,; // start, end set according to AlleleCount's position, reference_bases and; // alternate_bases set based on the alleles in allele_count, along with an; // appropriate end. The genotypes of the VariantCall will be set to -1 and -1; // (diploid no-call).",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling.h:11,interface,interface,11,deepvariant/variant_calling.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling.h,2,['interface'],['interface']
Integrability,"// Prints the expected protocol buffer.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h:23,protocol,protocol,23,third_party/nucleus/testing/protocol-buffer-matchers.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h,1,['protocol'],['protocol']
Integrability,"// Prints the protocol buffer pointed to by proto.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.cc:14,protocol,protocol,14,third_party/nucleus/testing/protocol-buffer-matchers.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.cc,2,['protocol'],['protocol']
Integrability,"// Private constructor. Public interface via factory only allows access to; // acyclic DeBruijn graphs. Argument `k` is used to construct the graph;; // filtering settings are taken from options.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/debruijn_graph.h:31,interface,interface,31,deepvariant/realigner/debruijn_graph.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/debruijn_graph.h,1,['interface'],['interface']
Integrability,"// Protocol Buffers - Google's data interchange format; // Copyright 2019 Google LLC. All rights reserved.; // https://developers.google.com/protocol-buffers/; //; // Redistribution and use in source and binary forms, with or without; // modification, are permitted provided that the following conditions are; // met:; //; // * Redistributions of source code must retain the above copyright; // notice, this list of conditions and the following disclaimer.; // * Redistributions in binary form must reproduce the above; // copyright notice, this list of conditions and the following disclaimer; // in the documentation and/or other materials provided with the; // distribution.; // * Neither the name of Google Inc. nor the names of its; // contributors may be used to endorse or promote products derived from; // this software without specific prior written permission.; //; // THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS; // ""AS IS"" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT; // LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR; // A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT; // OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,; // SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT; // LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,; // DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY; // THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT; // (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE; // OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/vendor/message_module.cc:3,Protocol,Protocol,3,third_party/nucleus/vendor/message_module.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/vendor/message_module.cc,3,"['CONTRACT', 'Protocol', 'protocol']","['CONTRACT', 'Protocol', 'protocol-buffers']"
Integrability,"// Python Context manager support---will be wrapped as __enter__ /; // __exit__. This two functions should return an OK status if the enter/exit; // were successful, or an error if not.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reader_base.h:44,wrap,wrapped,44,third_party/nucleus/io/reader_base.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reader_base.h,1,['wrap'],['wrapped']
Integrability,"// Python wrapper around NormalizeAndAdd. It allows to avoid serialization of; // protos when calling from Python.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.h:10,wrap,wrapper,10,deepvariant/allelecounter.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.h,1,['wrap'],['wrapper']
Integrability,"// PythonNext is the same as Next, except the Record is wrapped; // with an EmptyProtoPtr<> template to avoid CLIF copies when being; // called from Python.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reader_base.h:56,wrap,wrapped,56,third_party/nucleus/io/reader_base.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reader_base.h,1,['wrap'],['wrapped']
Integrability,"// RAII wrapper on top of bcf1_t* to always perform cleanup.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_writer.cc:8,wrap,wrapper,8,third_party/nucleus/io/vcf_writer.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_writer.cc,1,['wrap'],['wrapper']
Integrability,"// Replace each read alignment with the better one (if available), otherwise; // an original alignment is preserved.; // realigned_reads param is eventually passed to Python wrapped in unique_ptr; // as per clif requirements.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner.h:174,wrap,wrapped,174,deepvariant/realigner/fast_pass_aligner.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner.h,1,['wrap'],['wrapped']
Integrability,"// Returns a SamHeader message representing the structured header information.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.h:23,message,message,23,third_party/nucleus/io/sam_reader.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.h,1,['message'],['message']
Integrability,"// Returns a copy of the given proto2 message.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h:38,message,message,38,third_party/nucleus/testing/protocol-buffer-matchers.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h,1,['message'],['message']
Integrability,"// See interface description comment above.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.h:7,interface,interface,7,third_party/nucleus/io/vcf_conversion.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.h,2,['interface'],['interface']
Integrability,"// Set the pairing information, which has a bit of complex logic to it. The; // read number and number_reads per fragment depends on whether the read is; // paired and, if so, whether its the first or second read.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.cc:122,depend,depends,122,third_party/nucleus/io/sam_reader.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.cc,1,['depend'],['depends']
Integrability,"// Simple wrapper around Add() that allows us to efficiently pass large; // protobufs in from Python. Simply unwraps the ConstProtoPtr objects and; // calls Add(read).",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.h:10,wrap,wrapper,10,deepvariant/allelecounter.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.h,1,['wrap'],['wrapper']
Integrability,"// Simple wrapper around EncodeRead that allows us to efficiently pass large; // protobufs in from Python. Simply unwraps the ConstProtoPtr objects and; // calls EncodeRead().",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_image_native.h:10,wrap,wrapper,10,deepvariant/pileup_image_native.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_image_native.h,1,['wrap'],['wrapper']
Integrability,"// Simple wrapper around ReadEnd that allows us to efficiently pass large; // protobufs in from Python. Simply unwraps the ConstProtoPtr read and calls; // ReadEnd().",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/utils.h:10,wrap,wrapper,10,third_party/nucleus/util/utils.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/utils.h,1,['wrap'],['wrapper']
Integrability,"// Simple wrapper around ReadOverlapsRegion that allows us to efficiently pass; // large protobufs in from Python. Simply unwraps the ConstProtoPtr read and; // range ReadOverlapsRegion().",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/utils.h:10,wrap,wrapper,10,third_party/nucleus/util/utils.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/utils.h,1,['wrap'],['wrapper']
Integrability,"// TODO: We need RAII wrappers for these raw htslib pointers.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_reader.cc:22,wrap,wrappers,22,third_party/nucleus/io/vcf_reader.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_reader.cc,1,['wrap'],['wrappers']
Integrability,"// TODO: get rid of pessimizing string_view -> string conversions; // once our OSS dependencies are updated.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/fastq_reader.cc:83,depend,dependencies,83,third_party/nucleus/io/fastq_reader.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/fastq_reader.cc,1,['depend'],['dependencies']
Integrability,"// The H hex tag is not really used and likely deprecated (see:; // https://sourceforge.net/p/samtools/mailman/message/28274509/; // so we are explicitly skipping them here.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.cc:111,message,message,111,third_party/nucleus/io/sam_reader.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.cc,1,['message'],['message']
Integrability,"// The sam.proto SamHeader message representing the structured header; // information.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.h:27,message,message,27,third_party/nucleus/io/sam_reader.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.h,1,['message'],['message']
Integrability,"// This function needs to return a pointer because it needs to be wrapped; // into nucleus::ConstProtoPtr. variant_calling_multisample API is only used by; // Python, we don't call CallsFromAlleleCounts from C++.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_multisample_trio_test.cc:66,wrap,wrapped,66,deepvariant/variant_calling_multisample_trio_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_multisample_trio_test.cc,1,['wrap'],['wrapped']
Integrability,"// This is a wrapper for hts_open that lets us select a default; // protocol, like ""file:"" or just plain """".",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/hts_path.h:13,wrap,wrapper,13,third_party/nucleus/io/hts_path.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/hts_path.h,2,"['protocol', 'wrap']","['protocol', 'wrapper']"
Integrability,"// This wrapper library exists solely to provide ""string"" interface methods,; // since CLIF cannot wrap char*. Note that we include this wrapper class here; // rather than in SSW, so as to keep things clean for OSS.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/ssw.h:8,wrap,wrapper,8,deepvariant/realigner/ssw.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/ssw.h,4,"['interface', 'wrap']","['interface', 'wrap', 'wrapper']"
Integrability,"// Translate the variant call allele encoding used in the protobuf; // message into the htslib VCF constant.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.cc:71,message,message,71,third_party/nucleus/io/vcf_conversion.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.cc,1,['message'],['message']
Integrability,"// Upper-case N depends on the mode.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/utils_test.cc:16,depend,depends,16,third_party/nucleus/util/utils_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/utils_test.cc,1,['depend'],['depends']
Integrability,"// Use this wrapper when the C++ code fills in an EMPTY; // protocol buffer. DO NOT use this to pass a non-empty; // protocol buffer from Python to C++; it will fail at; // runtime.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/proto_ptr.h:12,wrap,wrapper,12,third_party/nucleus/util/proto_ptr.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/proto_ptr.h,3,"['protocol', 'wrap']","['protocol', 'wrapper']"
Integrability,"// Use this wrapper when the C++ code reads, but does; // not modify, the Python protocol buffer.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/proto_ptr.h:12,wrap,wrapper,12,third_party/nucleus/util/proto_ptr.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/proto_ptr.h,2,"['protocol', 'wrap']","['protocol', 'wrapper']"
Integrability,"// We use the implementation of ABSL's StartsWith here until we can pick up a; // dependency on Abseil.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.cc:82,depend,dependency,82,third_party/nucleus/testing/protocol-buffer-matchers.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.cc,1,['depend'],['dependency']
Integrability,"// Wrapper around Add() that normalize the input read first and then calls; // Add().",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.h:3,Wrap,Wrapper,3,deepvariant/allelecounter.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.h,1,['Wrap'],['Wrapper']
Integrability,"// Wraps |args| so the dtor of Iterable can perform necessary cleanup.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reader_base.h:3,Wrap,Wraps,3,third_party/nucleus/io/reader_base.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reader_base.h,1,['Wrap'],['Wraps']
Integrability,"// begin/end for C++ iterator interface.; // Template parameter A represents the actual Iterable subtype; we; // need to specialize here because there is no input argument; // covariance for shared_ptr.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reader_base.h:30,interface,interface,30,third_party/nucleus/io/reader_base.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reader_base.h,1,['interface'],['interface']
Integrability,"// namespace; // -----------------------------------------------------------------------------; //; // Wrapper classes to take ownership of native htslib objects.; //; // -----------------------------------------------------------------------------",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_writer.cc:103,Wrap,Wrapper,103,third_party/nucleus/io/sam_writer.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_writer.cc,1,['Wrap'],['Wrapper']
Integrability,"/// \brief Return a string representation of this status suitable for; /// printing. Returns the string `""OK""` for success.; ///; /// By default, it returns combination of the error code name, the message and; /// any associated payload messages. This string is designed simply to be; /// human readable and its exact format should not be load bearing. Do not; /// depend on the exact format of the result of `ToString()` which is subject; /// to change.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/status.h:197,message,message,197,third_party/nucleus/core/status.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/status.h,3,"['depend', 'message']","['depend', 'message', 'messages']"
Integrability,"Payload Management APIs (Cloned from absl::Status); //----------------------------------------------------------------------------; // A payload may be attached to a status to provide additional context to an; // error that may not be satisfied by an existing `tsl::error::Code`.; // Typically, this payload serves one of several purposes:; //; // * It may provide more fine-grained semantic information about the error; // to facilitate actionable remedies.; // * It may provide human-readable contexual information that is more; // appropriate to display to an end user.; //; // A payload consists of a [key,value] pair, where the key is a string; // referring to a unique ""type URL"" and the value is an object of type; // `absl::Cord` to hold the contextual data.; //; // The ""type URL"" should be unique and follow the format of a URL; // (https://en.wikipedia.org/wiki/URL) and, ideally, provide some; // documentation or schema on how to interpret its associated data. For; // example, the default type URL for a protobuf message type is; // ""type.googleapis.com/packagename.messagename"". Other custom wire formats; // should define the format of type URL in a similar practice so as to; // minimize the chance of conflict between type URLs.; // Users should ensure that the type URL can be mapped to a concrete; // C++ type if they want to deserialize the payload and read it effectively.; //; // To attach a payload to a status object, call `Status::SetPayload()`,; // passing it the type URL and an `absl::Cord` of associated data. Similarly,; // to extract the payload from a status, call `Status::GetPayload()`. You; // may attach multiple payloads (with differing type URLs) to any given; // status object, provided that the status is currently exhibiting an error; // code (i.e. is not OK).; // TODO: Use absl::Cord for payload value type.; // The Payload-related APIs are cloned from absl::Status.; //; // Returns the payload of a status given its unique `type_url` key, if; // present.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/status.h:1110,message,message,1110,third_party/nucleus/core/status.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/status.h,2,['message'],"['message', 'messagename']"
Integrability,"es; // and/or extensions. Examples:; // Ignores field singular_field/repeated_field:; // singular_field; // repeated_field; // Ignores just the third repeated_field instance:; // repeated_field[2]; // Ignores some_field in singular_nested/repeated_nested:; // singular_nested.some_field; // repeated_nested.some_field; // Ignores some_field in instance 2 of repeated_nested:; // repeated_nested[2].some_field; // Ignores extension SomeExtension.msg of repeated_nested:; // repeated_nested.(package.SomeExtension.msg); // Ignores subfield of extension:; // repeated_nested.(package.SomeExtension.msg).subfield; // The same restrictions as for IgnoringFields apply.; // IgnoringRepeatedFieldOrdering(m); // The same as m, except that it ignores the relative; // ordering of elements within each repeated field in m.; // See google::protobuf::util::MessageDifferencer::TreatAsSet() for; // more details.; // Partially(m); // The same as m, except that only fields present in; // the expected protobuf are considered (using; // google::protobuf::util::MessageDifferencer's PARTIAL; // comparison option). m can be any of the; // Equals* and EquivTo* protobuf matchers above.; // WhenDeserialized(typed_pb_matcher); // The string argument is a serialization of a; // protobuf that matches typed_pb_matcher.; // typed_pb_matcher can be an Equals* or EquivTo*; // protobuf matcher (possibly with Approximately(); // or Partially() modifiers) where the type of the; // protobuf is known at run time (e.g. it cannot; // be EqualsProto(""..."") as it's unclear what type; // the string represents).; // WhenDeserializedAs<PB>(pb_matcher); // Like WhenDeserialized(), except that the type; // of the deserialized protobuf must be PB. Since; // the protobuf type is known, pb_matcher can be *any*; // valid protobuf matcher, including EqualsProto(""..."").; //; // Approximately(), TreatingNaNsAsEqual(), Partially(), IgnoringFields(), and; // IgnoringRepeatedFieldOrdering() can be combined (nested); // and the com",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h:6484,Message,MessageDifferencer,6484,third_party/nucleus/testing/protocol-buffer-matchers.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h,1,['Message'],['MessageDifferencer']
Integrability,"eturn variants; # with those calls and the rescaled likelihoods. Otherwise, we log a warning; # and emit the original (incompatible) variants.; #; # For example, a biallelic deletion with probabilities of homref, het, homalt; # = 0.01, 0.9, 0.09 and inside it a biallelic SNP with probs 0.02, 0.48, 0.5.; # Naively this would be called as a heterozygous indel and a homozygous SNP,; # which is impossible as there are three total alternate genotypes. The; # algorithm does the following:; #; # Indel SNP Joint prob; # 0/0 0/0 0.01 * 0.02 = 0.0002; # 0/0 0/1 0.01 * 0.48 = 0.0048; # 0/0 1/1 0.01 * 0.50 = 0.0050; # 0/1 0/0 0.90 * 0.02 = 0.0180; # 0/1 0/1 0.90 * 0.48 = 0.4320*; # 0/1 1/1 <invalid> = 0; # 1/1 0/0 0.09 * 0.02 = 0.0018; # 1/1 0/1 <invalid> = 0; # 1/1 1/1 <invalid> = 0; #; # So using the highest joint likelihood, we predict het indel and het SNP.; #; # The marginal probability of each genotype for the indel is:; # 0/0: 0.0002 + 0.0048 + 0.0050 = 0.01; # 0/1: 0.0180 + 0.4320 = 0.45; # 1/1: 0.0018 = 0.0018; #; # which after normalizing to sum to 1 is roughly 0.022, 0.974, 0.004.; # The marginal probability for the SNP, after performing similar; # calculations, is 0.043, 0.946, 0.011. So the marginals also predict a het; # indel and a het SNP. Since the two calculations agree, we use this; # genotype call and modified likelihoods.; #; # First, we find all non-reference count configurations that are compatible.; # This represents each variant solely based on its number of non-reference; # genotypes, and assumes that variants are compatible if the total number of; # non-reference genotypes at a single position is at most two. By using; # non-reference counts, we avoid testing multiple allele configurations that; # will return the same result (e.g. a variant with two possible alternate; # alleles has three allele configurations that are homozygous alternate; # [1/1, 1/2, 2/2] and either all or none of them will be valid depending on; # the variants it interacts with).",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py:2614,depend,depending,2614,deepvariant/haplotypes.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py,1,['depend'],['depending']
Integrability,"f the copyright holder nor the names of its; * contributors may be used to endorse or promote products derived from this; * software without specific prior written permission.; *; * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; */; // gMock matchers used to validate protocol buffer arguments.; // WHAT THIS IS; // ============; //; // This library defines the following matchers in the ::nucleus namespace:; //; // EqualsProto(pb) The argument equals pb.; // EqualsInitializedProto(pb) The argument is initialized and equals pb.; // EquivToProto(pb) The argument is equivalent to pb.; // EquivToInitializedProto(pb) The argument is initialized and equivalent; // to pb.; // IsInitializedProto() The argument is an initialized protobuf.; //; // where:; //; // - pb can be either a protobuf value or a human-readable string; // representation of it.; // - When pb is a string, the matcher can optionally accept a; // template argument for the type of the protobuf,; // e.g. EqualsProto<Foo>(""foo: 1"").; // - ""equals"" is defined as the argument's Equals(pb) method returns true.; // - ""equivalent to"" is defined as the argument's Equivalent(pb) method; // returns true.; // - ""initialized"" means that the argument's IsInitialized() method returns; // true.; //; ",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h:1578,protocol,protocol,1578,third_party/nucleus/testing/protocol-buffer-matchers.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h,1,['protocol'],['protocol']
Integrability,"her the name of the copyright holder nor the names of its; * contributors may be used to endorse or promote products derived from this; * software without specific prior written permission.; *; * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; *; */; // Core mathematical routines.; //; // A quick note on terminology here.; //; // There are a bunch kinds of probabilities used commonly in genomics:; //; // -- pError: the probability of being wrong.; // -- pTrue: the probability of being correct.; //; // Normalized probabilities vs. unnormalized likelihoods:; //; // -- Normalized probabilities: p_1, ..., p_n such that sum(p_i) == 1 are said; // said to be normalized because they represent a valid probability; // distribution over the states 1 ... n.; // -- Unnormalized likelihoods: p_1, ..., p_n where sum(p_i) != 1. These are not; // normalized and so aren't a valid probabilities distribution.; //; // To add even more complexity, probabilities are often represented in three; // semi-equivalent spaces:; //; // -- Real-space: the classic space, with values ranging from [0.0, 1.0]; // inclusive.; // -- log10-space: If p is the real-space value, in log10-space this would be; // represented as log10(p). How the p == 0 case is handled is often functio",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/math.h:1567,rout,routines,1567,third_party/nucleus/util/math.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/math.h,1,['rout'],['routines']
Integrability,"izedProto(pb) The argument is initialized and equals pb.; // EquivToProto(pb) The argument is equivalent to pb.; // EquivToInitializedProto(pb) The argument is initialized and equivalent; // to pb.; // IsInitializedProto() The argument is an initialized protobuf.; //; // where:; //; // - pb can be either a protobuf value or a human-readable string; // representation of it.; // - When pb is a string, the matcher can optionally accept a; // template argument for the type of the protobuf,; // e.g. EqualsProto<Foo>(""foo: 1"").; // - ""equals"" is defined as the argument's Equals(pb) method returns true.; // - ""equivalent to"" is defined as the argument's Equivalent(pb) method; // returns true.; // - ""initialized"" means that the argument's IsInitialized() method returns; // true.; //; // These matchers can match either a protobuf value or a pointer to; // it. They make a copy of pb, and thus can out-live pb. When the; // match fails, the matchers print a detailed message (the value of; // the actual protobuf, the value of the expected protobuf, and which; // fields are different).; //; // This library also defines the following matcher transformer; // functions in the ::nucleus::proto namespace:; //; // Approximately(m, margin, fraction); // The same as m, except that it compares; // floating-point fields approximately (using; // google::protobuf::util::MessageDifferencer's APPROXIMATE; // comparison option). m can be any of the; // Equals* and EquivTo* protobuf matchers above. If margin; // is specified, floats and doubles will be considered; // approximately equal if they are within that margin, i.e.; // abs(expected - actual) <= margin. If fraction is; // specified, floats and doubles will be considered; // approximately equal if they are within a fraction of; // their magnitude, i.e. abs(expected - actual) <=; // fraction * max(abs(expected), abs(actual)). Two fields; // will be considered equal if they're within the fraction; // _or_ within the margin, so omitting or se",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h:2753,message,message,2753,third_party/nucleus/testing/protocol-buffer-matchers.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h,1,['message'],['message']
Integrability,"nes.; //; // A quick note on terminology here.; //; // There are a bunch kinds of probabilities used commonly in genomics:; //; // -- pError: the probability of being wrong.; // -- pTrue: the probability of being correct.; //; // Normalized probabilities vs. unnormalized likelihoods:; //; // -- Normalized probabilities: p_1, ..., p_n such that sum(p_i) == 1 are said; // said to be normalized because they represent a valid probability; // distribution over the states 1 ... n.; // -- Unnormalized likelihoods: p_1, ..., p_n where sum(p_i) != 1. These are not; // normalized and so aren't a valid probabilities distribution.; //; // To add even more complexity, probabilities are often represented in three; // semi-equivalent spaces:; //; // -- Real-space: the classic space, with values ranging from [0.0, 1.0]; // inclusive.; // -- log10-space: If p is the real-space value, in log10-space this would be; // represented as log10(p). How the p == 0 case is handled is often function; // dependent, which may accept/return -Inf or not handle the case entirely.; // -- Phred-scaled: See https://en.wikipedia.org/wiki/Phred_quality_score for; // more information. But briefly, the Phred-scale maintains resolution in the; // lower parts of the probability space using integer quality scores (though; // using ints is optional, really). The phred-scale is defined as; //; // `phred(p) = -10 * log10(p)`; //; // where p is a real-space probability.; //; // The code in math.h dealing with probabilities is very explicit about what; // kind probability and representation is expects and returns, as unfortunately; // these are all represented commonly as doubles in C++. Though tempting to; // address this issue with classic software engineering practices like creating; // a Probability class, in practice this is extremely difficult to do as this; // code is often performance critical and the low-level mathematical operations; // used in this code (e.g., log10) don't distiguish themselves among t",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/math.h:2563,depend,dependent,2563,third_party/nucleus/util/math.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/math.h,1,['depend'],['dependent']
Integrability,"nitializer list of strings and; // each element is specified by their path relative to the; // proto being matched by m. Paths can contain indices; // and/or extensions. Examples:; // Ignores field singular_field/repeated_field:; // singular_field; // repeated_field; // Ignores just the third repeated_field instance:; // repeated_field[2]; // Ignores some_field in singular_nested/repeated_nested:; // singular_nested.some_field; // repeated_nested.some_field; // Ignores some_field in instance 2 of repeated_nested:; // repeated_nested[2].some_field; // Ignores extension SomeExtension.msg of repeated_nested:; // repeated_nested.(package.SomeExtension.msg); // Ignores subfield of extension:; // repeated_nested.(package.SomeExtension.msg).subfield; // The same restrictions as for IgnoringFields apply.; // IgnoringRepeatedFieldOrdering(m); // The same as m, except that it ignores the relative; // ordering of elements within each repeated field in m.; // See google::protobuf::util::MessageDifferencer::TreatAsSet() for; // more details.; // Partially(m); // The same as m, except that only fields present in; // the expected protobuf are considered (using; // google::protobuf::util::MessageDifferencer's PARTIAL; // comparison option). m can be any of the; // Equals* and EquivTo* protobuf matchers above.; // WhenDeserialized(typed_pb_matcher); // The string argument is a serialization of a; // protobuf that matches typed_pb_matcher.; // typed_pb_matcher can be an Equals* or EquivTo*; // protobuf matcher (possibly with Approximately(); // or Partially() modifiers) where the type of the; // protobuf is known at run time (e.g. it cannot; // be EqualsProto(""..."") as it's unclear what type; // the string represents).; // WhenDeserializedAs<PB>(pb_matcher); // Like WhenDeserialized(), except that the type; // of the deserialized protobuf must be PB. Since; // the protobuf type is known, pb_matcher can be *any*; // valid protobuf matcher, including EqualsProto(""..."").; //; // Approxim",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h:6282,Message,MessageDifferencer,6282,third_party/nucleus/testing/protocol-buffer-matchers.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h,1,['Message'],['MessageDifferencer']
Integrability,"or; // T=double) is used for both the margin and fraction.; // TreatingNaNsAsEqual(m); // The same as m, except that treats floating-point fields; // that are NaN as equal. m can be any of the Equals* and; // EquivTo* protobuf matchers above.; // IgnoringFields(fields, m); // The same as m, except the specified fields will be; // ignored when matching (using; // google::protobuf::util::MessageDifferencer::IgnoreField). fields is; // represented as a container or an initializer list of; // strings and each element is specified by their fully; // qualified names, i.e., the names corresponding to; // FieldDescriptor.full_name(). m can be; // any of the Equals* and EquivTo* protobuf matchers above.; // It can also be any of the transformer matchers listed; // here (e.g. Approximately, TreatingNaNsAsEqual) as long as; // the intent of the each concatenated matcher is mutually; // exclusive (e.g. using IgnoringFields in conjunction with; // Partially can have different results depending on whether; // the fields specified in IgnoringFields is part of the; // fields covered by Partially).; // IgnoringFieldPaths(field_paths, m); // The same as m, except the specified fields will be; // ignored when matching. field_paths is represented as a; // container or an initializer list of strings and; // each element is specified by their path relative to the; // proto being matched by m. Paths can contain indices; // and/or extensions. Examples:; // Ignores field singular_field/repeated_field:; // singular_field; // repeated_field; // Ignores just the third repeated_field instance:; // repeated_field[2]; // Ignores some_field in singular_nested/repeated_nested:; // singular_nested.some_field; // repeated_nested.some_field; // Ignores some_field in instance 2 of repeated_nested:; // repeated_nested[2].some_field; // Ignores extension SomeExtension.msg of repeated_nested:; // repeated_nested.(package.SomeExtension.msg); // Ignores subfield of extension:; // repeated_nested.(package.Som",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h:5005,depend,depending,5005,third_party/nucleus/testing/protocol-buffer-matchers.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h,1,['depend'],['depending']
Integrability,"rotobuf.; //; // where:; //; // - pb can be either a protobuf value or a human-readable string; // representation of it.; // - When pb is a string, the matcher can optionally accept a; // template argument for the type of the protobuf,; // e.g. EqualsProto<Foo>(""foo: 1"").; // - ""equals"" is defined as the argument's Equals(pb) method returns true.; // - ""equivalent to"" is defined as the argument's Equivalent(pb) method; // returns true.; // - ""initialized"" means that the argument's IsInitialized() method returns; // true.; //; // These matchers can match either a protobuf value or a pointer to; // it. They make a copy of pb, and thus can out-live pb. When the; // match fails, the matchers print a detailed message (the value of; // the actual protobuf, the value of the expected protobuf, and which; // fields are different).; //; // This library also defines the following matcher transformer; // functions in the ::nucleus::proto namespace:; //; // Approximately(m, margin, fraction); // The same as m, except that it compares; // floating-point fields approximately (using; // google::protobuf::util::MessageDifferencer's APPROXIMATE; // comparison option). m can be any of the; // Equals* and EquivTo* protobuf matchers above. If margin; // is specified, floats and doubles will be considered; // approximately equal if they are within that margin, i.e.; // abs(expected - actual) <= margin. If fraction is; // specified, floats and doubles will be considered; // approximately equal if they are within a fraction of; // their magnitude, i.e. abs(expected - actual) <=; // fraction * max(abs(expected), abs(actual)). Two fields; // will be considered equal if they're within the fraction; // _or_ within the margin, so omitting or setting the; // fraction to 0.0 will only check against the margin.; // Similarly, setting the margin to 0.0 will only check; // using the fraction. If margin and fraction are omitted,; // MathLimits<T>::kStdError for that type (T=float or; // T=double) is u",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h:3151,Message,MessageDifferencer,3151,third_party/nucleus/testing/protocol-buffer-matchers.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h,1,['Message'],['MessageDifferencer']
Integrability,"roximately equal if they are within that margin, i.e.; // abs(expected - actual) <= margin. If fraction is; // specified, floats and doubles will be considered; // approximately equal if they are within a fraction of; // their magnitude, i.e. abs(expected - actual) <=; // fraction * max(abs(expected), abs(actual)). Two fields; // will be considered equal if they're within the fraction; // _or_ within the margin, so omitting or setting the; // fraction to 0.0 will only check against the margin.; // Similarly, setting the margin to 0.0 will only check; // using the fraction. If margin and fraction are omitted,; // MathLimits<T>::kStdError for that type (T=float or; // T=double) is used for both the margin and fraction.; // TreatingNaNsAsEqual(m); // The same as m, except that treats floating-point fields; // that are NaN as equal. m can be any of the Equals* and; // EquivTo* protobuf matchers above.; // IgnoringFields(fields, m); // The same as m, except the specified fields will be; // ignored when matching (using; // google::protobuf::util::MessageDifferencer::IgnoreField). fields is; // represented as a container or an initializer list of; // strings and each element is specified by their fully; // qualified names, i.e., the names corresponding to; // FieldDescriptor.full_name(). m can be; // any of the Equals* and EquivTo* protobuf matchers above.; // It can also be any of the transformer matchers listed; // here (e.g. Approximately, TreatingNaNsAsEqual) as long as; // the intent of the each concatenated matcher is mutually; // exclusive (e.g. using IgnoringFields in conjunction with; // Partially can have different results depending on whether; // the fields specified in IgnoringFields is part of the; // fields covered by Partially).; // IgnoringFieldPaths(field_paths, m); // The same as m, except the specified fields will be; // ignored when matching. field_paths is represented as a; // container or an initializer list of strings and; // each element is specifie",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h:4408,Message,MessageDifferencer,4408,third_party/nucleus/testing/protocol-buffer-matchers.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h,1,['Message'],['MessageDifferencer']
Modifiability,"""""""""Process candidate positions to determine windows for local assembly. Windows are within range of; [min(pos) - config.min_windows_distance,; max(pos) + config.min_windows_distance). Args:; config: learning.genomics.deepvariant.realigner.WindowSelectorOptions; options determining the behavior of this window selector.; candidate_pos: A list of ref_pos.; ref_name: Reference name, used in setting the output; genomics.range.reference_name value. Returns:; A sorted list of nucleus.protos.Range protos for all windows in this region.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector.py:114,config,config,114,deepvariant/realigner/window_selector.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector.py,3,['config'],['config']
Modifiability,"""""""""Process reads to determine candidate windows for local assembly. Windows are within range of; [0 - config.min_windows_distance, ref_len + config.min_windows_distance). Args:; config: learning.genomics.deepvariant.realigner.WindowSelectorOptions; options determining the behavior of this window selector.; ref_reader: GenomeReference. Indexed reference genome to query bases.; reads: A list of genomics.Read records.; region: nucleus.protos.Range. The region we are processing. Returns:; A list of nucleus.protos.Range protos sorted by their genomic position.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector.py:103,config,config,103,deepvariant/realigner/window_selector.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector.py,3,['config'],['config']
Modifiability,"""""""A smaller of version of the DeepVariant model. Uses only the first layers of Inception net.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:70,layers,layers,70,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['layers'],['layers']
Modifiability,"""""""Abstract base class for reading genomics data. In addition to the abstractmethods defined below, subclasses should; also set a `header` member variable in their objects.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/genomics_reader.py:146,variab,variable,146,third_party/nucleus/io/genomics_reader.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/genomics_reader.py,1,['variab'],['variable']
Modifiability,"""""""Add some likelihood to a particular allele configuration. Args:; allele_indices: Pair of (g1, g2) ints representing the genotype.; likelihood: float. log10(probability of this genotype configuration).; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py:46,config,configuration,46,deepvariant/haplotypes.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py,2,['config'],['configuration']
Modifiability,"""""""Adds L2 regularizers to all `layer_class` layers in `model`. Models from `tf.keras.applications` do not support specifying kernel or bias; regularizers. However, adding regularization is important when fine tuning; 'imagenet' pretrained weights. In order to do this, this function updates the; current model's configuration to include regularizers and reloads the model so; that the newly created losses are registered.; Note: this will not overwrite existing `kernel_regularizer` regularizers on; the given layer.; Args:; model: The base model.; layer_class: We add regularizers to all layers of type `layer_class`.; l2: The l2 regularization factor.; regularizer_attr: The layer's regularizer attribute. Returns:; A model with l2 regularization added to each `layer_class` layer.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py:45,layers,layers,45,deepvariant/keras_modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py,3,"['config', 'layers']","['configuration', 'layers']"
Modifiability,"""""""Adjust an array to prepare it for saving to an image. Re-scale numbers in the input array to go from 0 to 255 to adapt them for a; PNG image. Args:; arr: numpy array. Should be 2-dimensional or 3-dimensional where the third; dimension has 3 channels.; vmin: number (float or int). Minimum data value, which will correspond to; black in greyscale or lack of each color in RGB images. Default None takes; the minimum of the data from arr.; vmax: number (float or int). Maximum data value, which will correspond to; white in greyscale or full presence of each color in RGB images. Default; None takes the max of the data from arr. Returns:; (modified numpy array, image_mode); """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vis.py:116,adapt,adapt,116,third_party/nucleus/util/vis.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vis.py,1,['adapt'],['adapt']
Modifiability,"""""""Config for use with the custom training DeepVariant Loop.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_config.py:3,Config,Config,3,deepvariant/dv_config.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_config.py,1,['Config'],['Config']
Modifiability,"""""""Config parameters for exome training.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_config.py:3,Config,Config,3,deepvariant/dv_config.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_config.py,1,['Config'],['Config']
Modifiability,"""""""Container class for genotype likelihoods of allele configurations. When evaluating valid genotype configurations across multiple variants, we; calculate the likelihood of each configuration. To then calculate the marginal; likelihoods for each variant's genotypes, for each genotype we need to sum the; probabilities of all configurations that include that genotype. For numerical stability we do this by storing the genotype likelihoods; = log10(p) and then aggregate using the log-sum-exp trick.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py:54,config,configurations,54,deepvariant/haplotypes.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py,4,['config'],"['configuration', 'configurations']"
Modifiability,"""""""Creates a RealignerOptions proto based on input and default settings. Args:; flags_obj: configuration FLAGS. Returns:; realigner_pb2.RealignerOptions protobuf. Raises:; ValueError: If we observe invalid flag values.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner.py:91,config,configuration,91,deepvariant/realigner/realigner.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner.py,1,['config'],['configuration']
Modifiability,"""""""Creates a WindowSelectorOptions proto based on input and default settings. Args:; flags_obj: configuration FLAGS. Returns:; realigner_pb2.WindowSelector protobuf. Raises:; ValueError: If either ws_{min,max}_supporting_reads are set and; ws_use_window_selector_model is True.; Or if ws_window_selector_model > ws_max_num_supporting_reads.; Or if ws_use_window_selector_model is False and; ws_window_selector_model is not None.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner.py:96,config,configuration,96,deepvariant/realigner/realigner.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner.py,1,['config'],['configuration']
Modifiability,"""""""Creates a new Realigner. Args:; config: realigner_pb2.RealignerOptions protobuf.; ref_reader: GenomeReferenceFai, indexed reference genome to query bases.; shared_header: header info from the input bam file; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner.py:35,config,config,35,deepvariant/realigner/realigner.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner.py,1,['config'],['config']
Modifiability,"""""""Creates an DeepVariant CNN network based on a tf.slim model. Args:; name: see baseclass.; pretrained_model_path: see baseclass.; n_classes_model_variable: str. A fully-qualitified TF variable name in the; model that we can use to determine the shape of the output; classification layer of the model. For example, in inception-v3 from; slim this is 'InceptionV3/Logits/Conv2d_1c_1x1/weights'.; excluded_scopes_for_incompatible_classes: set of str. A set of scopes that; will be excluded when restoring from a checkpoint to avoid loading; incompatible #classes.; excluded_scopes_for_incompatible_channels: set of str. A set of scopes; that will be excluded when restoring from a checkpoint to avoid loading; incompatible #channels. Raises:; ValueError: If any of the arguments are invalid.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:186,variab,variable,186,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['variab'],['variable']
Modifiability,"""""""Creates an input_fn from the dataset config file. Args:; dataset_config_filename: str. Path to the dataset config pbtxt file.; mode: one of tf.estimator.ModeKeys.{TRAIN,EVAL,PREDICT}; **kwargs: Additional keyword arguments for DeepVariantInput. Returns:; An input_fn from the specified split in the dataset_config file. Raises:; ValueError: if the dataset config doesn't have the necessary information.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py:40,config,config,40,deepvariant/data_providers.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py,3,['config'],['config']
Modifiability,"""""""Enumeration type indicating how we should explore genotype configurations. See genotype_options_for_variants for more information.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler.py:62,config,configurations,62,deepvariant/labeler/haplotype_labeler.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler.py,1,['config'],['configurations']
Modifiability,"""""""Gets the list of model variables that should be restored. The primary use of this function is to get a subset of tf.Variables from a; slim-defined model that we'd like to restore from a checkpoint. The; checkpoint generally contains all of the variables in the graph during; training, including things like the backprop variables, moving averages for; visualization, etc. Simply restoring all of those variables is brittle, as; we often want to start a new training run, maybe using a different; optimizer, different visualization variables, or replacing part of the model; with a new classification layer, as unneeded variables from the checkpoint; get loaded into the graph and/or new TF variables not present in the graph; cannot be found, raising exceptions. This function allows a clean API to get; just the *model* variables from a graph, excluding all of those non-model; variables, along with optionally removing parts of the model graph via; exclude scopes. This function calls slim.get_model_variables() to get the raw list of all; variables associated with the MODEL_VARIABLES collection. It then filters; away all variables that match any of the scopes in exclude_scopes. For; example, suppose we have a model with three variables with names:. w1 = model/l1/weight1; w2 = model/l2/weight2; w3 = model/l2/weight3. Without any exclude scopes, we would return these three variables [w1, w2,; and w3]. Providing exclude_scopes=['model/l2'] would return only [w1], while; exclude_scopes=['model/l1'] would return [w2, w3]. Args:; exclude_scopes: None, or a list of strings. Each string is a scope; specification, such as ""model/l1"" to match all variables whose name; starts with ""model/l1"". Returns:; A list of tf.Variable objects.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:26,variab,variables,26,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,16,"['Variab', 'variab']","['Variable', 'Variables', 'variables']"
Modifiability,"""""""Hook to load EMA into their corresponding variables. This looks for the latest checkpoint in the model dir.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:45,variab,variables,45,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['variab'],['variables']
Modifiability,"""""""Hook to load EMA into their corresponding variables. This reads the specified checkpoint.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:45,variab,variables,45,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['variab'],['variables']
Modifiability,"""""""Indicates that an impossible haplotype configuration has been observed.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler.py:42,config,configuration,42,deepvariant/labeler/haplotype_labeler.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler.py,1,['config'],['configuration']
Modifiability,"""""""Initialize global variables from flag values.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/testdata.py:21,variab,variables,21,deeptrio/testdata.py,,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/testdata.py,2,['variab'],['variables']
Modifiability,"""""""Initializes a checkpoint manager, and restores a checkpoint if one exists. Args:; config: Training configuration.; model_dir: Where model is stored.; model: a tf Model.; optimizer: A tf Optimizer.; strategy: Distribution strategy. Returns:; The state as `tf.train.Checkpoint`. This includes the `model` (network),; the `optimizer`, metrics (train and tune), and the `global_step` variable.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py:85,config,config,85,deepvariant/keras_modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py,3,"['config', 'variab']","['config', 'configuration', 'variable']"
Modifiability,"""""""Is variant a non-reference call?. A Variant proto doesn't always imply that there's a variant present in the; genome. The call may not have alternate bases, may be filtered, may a have; hom-ref genotype, etc. This function looks for all of those configurations; and returns true iff the variant is asserting that a mutation is present; in the same. Note that this code allows a variant without a calls field to be variant,; but one with a genotype call must have a non-reference genotype to be; considered variant (if require_non_ref_genotype is True, the default). If; False, a variant that passes all of the site-level requirements for being; a variant_call will return a True value, regardless of the genotypes, which; means that we'll consider a site with a sample with a hom-ref or no-call site; a variant call. Args:; variant: nucleus.genomics.v1.Variant.; require_non_ref_genotype: Should we require a site with a genotype call to; have a non-reference (het, hom-var) genotype for the site to be considered; a variant call?; no_calls_are_variant: If a site has genotypes, should we consider no_call; genotypes as being variant or not? e.g. -1/1 listed as ./. in VCF; call_indices: A list of 0-based indices. If specified, only the calls; at the given indices will be considered. The function will return; True if any of those calls are variant.; apply_filter: If set to True, will never treat this site as variant when; any filter other than PASS or . is set. Returns:; True if variant is really a mutation call.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils.py:249,config,configurations,249,third_party/nucleus/util/variant_utils.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils.py,1,['config'],['configurations']
Modifiability,"""""""Library for resolving variants into consistent haplotypes. The convolutional neural network that evaluates the probability of a candidate; variant being non-reference evaluates each candidate variant independently.; This can lead to overlapping variant calls that cannot actually exist in an; organism: for example, a diploid human cannot have overlapping variants for; which one is homozygous alternate and the other is heterozygous alternate, since; that implies three total alternate alleles. This library tries to resolve overlapping variant calls into consistent; haplotypes by using the most likely configuration based on individual call; probabilities that is a valid set of two haplotypes. In rare cases where this; is not possible, the haplotypes are left unmodified.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py:608,config,configuration,608,deepvariant/haplotypes.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py,1,['config'],['configuration']
Modifiability,"""""""Make a PNG and show it from a numpy array of dtype=np.uint8. Args:; arr: numpy array. Input array to save.; path: str. File path at which to save the image. A .png prefix is added if; the path does not already have one. Leave empty to save at /tmp/tmp.png,; which is useful when only temporarily showing the image in a Colab; notebook.; image_mode: ""RGB"" or ""L"". Leave as default=None to choose based on image; dimensions.; show: bool. Whether to display the image using IPython (for notebooks).; labels: list of str. Labels to show across the top of the image.; scale: integer. Number of pixels wide and tall to show each cell in the; array. This sizes up the image while keeping exactly the same number of; pixels for every cell in the array, preserving resolution and preventing; any interpolation or overlapping of pixels. Default None adapts to the; size of the image to multiply it up until a limit of 500 pixels, a; convenient size for use in notebooks. If saving to a file for automated; processing, scale=1 is recommended to keep output files small and simple; while still retaining all the information content. Returns:; None. Saves an image at path and optionally shows it with IPython.display.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vis.py:843,adapt,adapts,843,third_party/nucleus/util/vis.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vis.py,1,['adapt'],['adapts']
Modifiability,"""""""Parse the commandline into known and pipeline arguments. The known arguments are required for this specific program to function,; and the other pipeline arguments can be used to configure beam and the; specific beam backend being used. See; https://github.com/apache/beam/blob/master/sdks/python/apache_beam/options/pipeline_options.py; for a list and description of the pipeline arguments accepted. Args:; argv: List containing command-line arguments. Returns:; A pair, the first of which are the known (non-pipeline) arguments; and the second of which are the pipeline arguments.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/tools/shuffle_tfrecords_beam.py:181,config,configure,181,tools/shuffle_tfrecords_beam.py,,https://github.com/google/deepvariant/tree/v1.6.1/tools/shuffle_tfrecords_beam.py,1,['config'],['configure']
Modifiability,"""""""Prepends a prefix to the file_path when accessing Google files. Args:; file_path: str. Full path pointing a specific file to access with pysam. Returns:; str. The full configured file path for pysam to open.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py:171,config,configured,171,deepvariant/postprocess_variants.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py,1,['config'],['configured']
Modifiability,"""""""Resets and starts a timer. This allows Timer to be used as a ContextManager type. Returns:; The object itself so that it can be bound to a variable in a with; statement.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/vendor/timer.py:142,variab,variable,142,deepvariant/vendor/timer.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/vendor/timer.py,1,['variab'],['variable']
Modifiability,"""""""Return True if CSI index is to be used over tabix index format. If the length of any reference chromosomes exceeds 512M; (here we use 5e8 to keep a safety margin), we will choose csi; as the index format. Otherwise we use tbi as default. Args:; contigs: list of contigs. Returns:; A boolean variable indicating if the csi format is to be used or not.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py:294,variab,variable,294,deepvariant/postprocess_variants.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py,1,['variab'],['variable']
Modifiability,"""""""Returns `inceptionv3` model with 3 channels; init with `weights=imagenet`. Our `inceptionv3` model (defined in this file as well) allows #channels other; than 3. When the #channels is not 3, we couldn't set `weights=imagenet` to; our backbone tf.keras.applications.InceptionV3 because it will complain the; number of channels is not 3. We created this ""inceptionv3_with_imagenet""; model which has the same architecture, which we can then use our own; ""load_weights_to_model_with_different_channels"" function to initiate an; inceptionv3 model with any numbers of channels. The reason why this function is separate (instead of parameterized in the same; implementation of inceptionv3) is to make it easier to read. Args:; input_shape: a 3-tuple describing the input shape. The 3rd dimension is not; used in this function. We always set that to 3 in this function. Returns:; An InceptionV3-based model with 3 channels and init with `weights=imagenet`.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py:628,parameteriz,parameterized,628,deepvariant/keras_modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py,1,['parameteriz'],['parameterized']
Modifiability,"""""""Returns a DeepVariantDatasetConfig proto read from the dataset config file. Args:; dataset_config_filename: String. Path to the dataset config pbtxt file. Returns:; A DeepVariantDatasetConfig proto from the dataset_config file. Raises:; ValueError: if the dataset config doesn't have the necessary information.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py:66,config,config,66,deepvariant/data_providers.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py,3,['config'],['config']
Modifiability,"""""""Returns a list of allele indices configurations with `num_alts` alternates. Args:; variant: nucleus.genomics.v1.Variant. The variant of interest, which; defines the candidate alternate alleles that can be used to generate; allele indices configurations.; num_alts: int in [0, `ploidy`]. The number of non-reference alleles for; which to create the allele indices configurations.; ploidy: int. The ploidy for which to return allele indices configurations. Returns: A list of tuples. Each tuple is of length `ploidy` and represents the; allele indices of all `ploidy` genotypes that contain `num_alts`; non-reference alleles. Raises:; ValueError: The domain of `num_alts` is invalid.; NotImplementedError: `ploidy` is not diploid.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils.py:36,config,configurations,36,third_party/nucleus/util/variant_utils.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils.py,4,['config'],['configurations']
Modifiability,"""""""Returns a list of candidate positions. Args:; config: learning.genomics.deepvariant.realigner.WindowSelectorOptions; options determining the behavior of this window selector.; ref_reader: GenomeReference. Indexed reference genome to query bases.; reads: list[nucleus.protos.Read]. The reads we are processing into candidate; positions.; region: nucleus.protos.Range. The region we are processing. Returns:; A list. The elements are reference positions within region. Raises:; ValueError: if config.window_selector_model.model_type isn't a valid enum; name in realigner_pb2.WindowSelectorModel.ModelType.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector.py:49,config,config,49,deepvariant/realigner/window_selector.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector.py,2,['config'],['config']
Modifiability,"""""""Returns a list of tf.train.SessionRunHook classes. A typical use case is to provide a hook to load the EMA variables. These will be instantiated and invoked by; eval_hooks = [; h(model_dir) for h in model.session_eval_hooks(); ]; estimator.evaluate(hooks=...). Note that this is done according to the instructions in; cloud_tpu/models/inception/inception_v3.py. A newer idea is in; tpuestimator-scaffold, but we haven't tried that approach.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:110,variab,variables,110,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['variab'],['variables']
Modifiability,"""""""Returns a list of tf.train.SessionRunHook classes. A typical use case is to provide a hook to load the EMA variables. These will be instantiated and invoked by; predict_hooks = [; h(checkpoint_path) for h in model.session_predict_hooks(); ]; estimator.predict(hooks=...). Note that this is done according to the instructions in; cloud_tpu/models/inception/inception_v3.py. A newer idea is in; tpuestimator-scaffold, but we haven't tried that approach.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:110,variab,variables,110,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['variab'],['variables']
Modifiability,"""""""Returns a new dictionary with deduplicated value. Type description:; Genotype = Tuple[int, int]; Genotypes = List[Genotype]; Haplotypes = FrozenSet[str]. The type of the input `haplotypes_to_genotypes_dict` is:; Dict[Haplotypes, List[Genotypes]]. whereas the return type of deduplicate_haplotypes (this function) is:. Dict[Haplotypes, Genotypes]. This function goes through the values in `haplotypes_to_genotypes_dict` and; keeps only a single example of Genotypes if there are multiple elements of; the list that have the same haplotypes. Duplicates are expected; in the list because different genotype configurations can sometimes produce; the same set of haplotypes, and analyzing a dict of possible; haplotypes/genotypes combinations with duplicates is much harder and less; efficient than the deduplicated dict. Args:; haplotypes_to_genotypes_dict: Dict[Haplotypes, List[Genotypes]]. Returns:; Dict[Haplotypes, Genotypes].; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler.py:607,config,configurations,607,deepvariant/labeler/haplotype_labeler.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler.py,1,['config'],['configurations']
Modifiability,"""""""Returns a new tf.estimator.Estimator object for training or prediction. The estimator needs to know batch_size. We use the same value for all; of eval, train, and predict. The estimator will automatically save; checkpoints to model_dir and keep the specified number of them. The value; of iterations_per_loop is not critical, and we default to the recommended; value. Some optional arguments are only required for use with TPU. This function will use self.model_fn and self.use_tpu when constructing the; model specific Estimator object. Estimators are also sometimes called classifiers. Args:; batch_size: the batch size to use (for TRAIN, EVAL, and PREDICT modes).; model_dir: an (optional) string directory to use as the model directory.; max_checkpoints_to_keep: an (optional) integer count of saved checkpoints.; iterations_per_loop: an (optional) integer count of log_step_count_steps.; params: an (optional) dictionary of parameters to pass to the Estimator; constructor.; unused_device_fn: a device_fn to pass to RunConfig, if not use_tpu.; master: a string necessary for TPU, pass FLAGS.master through.; use_tpu: boolean. set self.use_tpu if not None.; start_from_checkpoint: string. If not None, initialize model from this; path. According to the current implementation of Estimator, this will; only be used in training. The inference checkpoint is loaded in a; different place.; session_config: a tf.ConfigProto to pass to RunConfig, if not use_tpu.; include_debug_info: from call_variants. If True, PREDICT mode will include; extra info such as logits and prelogits. Returns:; an object implementing the tf.estimator.Estimator interface (will be a; TPUEstimator if self.use_tpu is True).; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:1414,Config,ConfigProto,1414,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['Config'],['ConfigProto']
Modifiability,"""""""Returns an InceptionV3 architecture. See https://tensorflow.org/api_docs/python/tf/keras/applications/InceptionV3. Args:; input_shape: a 3-tuple describing the input shape.; weights: str. To initial weights from.; init_backbone_with_imagenet: If True, get a model with InceptionV3 that has; `weights='imagenet'` to start with. This will download a model. It should; be set to False in unit tests, or when specific model weights will be; loaded afterwards.; config: a model configuration. Returns:; An InceptionV3-based model.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py:460,config,config,460,deepvariant/keras_modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py,2,['config'],"['config', 'configuration']"
Modifiability,"""""""Returns an iterable of allele configurations that satisfy the genotype. Args:; variants: list(Variant). The list of variants for which to generate; configurations of valid allele_indices.; nonref_count_configuration: list(int). The list of numbers of non-reference; genotypes that should be generated for each variant. Returns:; Iterable of lists of allele indices to assign to each Variant to satisfy the; desired configuration of number of non-reference genotypes for each variant. Raises:; ValueError: variants and nonref_count_configuration do not have the same; length.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py:33,config,configurations,33,deepvariant/haplotypes.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py,3,['config'],"['configuration', 'configurations']"
Modifiability,"""""""Returns an output head tensor configured for classification. In the future, this can be extended for regression, or with different params; for different heads. Args:; inputs: The backbone output tensor; used as the input to the head.; l2: The l2 regularization factor used in `tf.keras.layers.Dense` layers. Returns:; A tensor representing the output of the given head.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py:33,config,configured,33,deepvariant/keras_modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py,4,"['config', 'extend', 'layers']","['configured', 'extended', 'layers']"
Modifiability,"""""""Returns the joint likelihood of the alleles given to the variants. Args:; variants: list(Variant). The variants with associated likelihoods.; allele_indices_config: list((int, int)). The allele indices to assign to; each variant. Returns:; The joint likelihood of the particular allele configuration. Raises:; ValueError: variants and allele_indices_config do not have the same length.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py:289,config,configuration,289,deepvariant/haplotypes.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py,1,['config'],['configuration']
Modifiability,"""""""Returns the shape of each tensor in the model at checkpoint_path. Args:; checkpoint_path: string. The path to a tensorflow checkpoint containing a; model whose tensor shapes we want to get.; variables_to_get: options, list of strings. If provided, only returns the; shapes of tensors in variables whose name is present in this list. If; None, the default, gets all of the tensors. A KeyError will be raised if; any variable name in variables_to_get isn't present in the checkpointed; model. Returns:; A dictionary mapping variable names [string] to tensor shapes [tuple].; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_utils.py:290,variab,variables,290,deepvariant/dv_utils.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_utils.py,3,['variab'],"['variable', 'variables']"
Modifiability,"""""""Save an array as a PNG image with PIL and show it. Args:; arr: numpy array. Should be 2-dimensional or 3-dimensional where the third; dimension has 3 channels.; path: str. Path for the image output. Default is /tmp/tmp.png for quickly; showing the image in a notebook.; show: bool. Whether to show the image using IPython utilities, only works in; notebooks.; vmin: number. Minimum data value, which will correspond to black in; greyscale or lack of each color in RGB images. Default None takes the; minimum of the data from arr.; vmax: number. Maximum data value, which will correspond to white in; greyscale or full presence of each color in RGB images. Default None takes; the max of the data from arr.; scale: integer. Number of pixels wide and tall to show each cell in the; array. This sizes up the image while keeping exactly the same number of; pixels for every cell in the array, preserving resolution and preventing; any interpolation or overlapping of pixels. Default None adapts to the; size of the image to multiply it up until a limit of 500 pixels, a; convenient size for use in notebooks. If saving to a file for automated; processing, scale=1 is recommended to keep output files small and simple; while still retaining all the information content.; labels: list of str. Labels to show across the top of the image. Returns:; None. Saves an image at path and optionally shows it with IPython.display.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vis.py:987,adapt,adapts,987,third_party/nucleus/util/vis.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vis.py,1,['adapt'],['adapts']
Modifiability,"""""""Test that we get the right error when the plugin cannot load.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/genomics_io_noplugin_test.py:45,plugin,plugin,45,third_party/nucleus/io/genomics_io_noplugin_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/genomics_io_noplugin_test.py,1,['plugin'],['plugin']
Modifiability,"""""""Tests for genomics_io's plugin system.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/genomics_io_noplugin_test.py:27,plugin,plugin,27,third_party/nucleus/io/genomics_io_noplugin_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/genomics_io_noplugin_test.py,1,['plugin'],['plugin']
Modifiability,"""""""Writes the dataset_config to a human-readable text format. Args:; dataset_config: DeepVariantDatasetConfig. The config to be written out.; dataset_config_filename: String. Path to the output pbtxt file.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py:115,config,config,115,deepvariant/data_providers.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py,1,['config'],['config']
Modifiability,"""""""tf.data.Dataset loading function. Args:; path: the input filename for a tfrecord[.gz] file containing examples. Can; contain sharding designators.; config: A configuration file.; mode: One of ['train', 'tune', 'predict']; strategy: A tf.distribute.Strategy.; n_epochs: Number of epochs.; limit: Limit the number of batches for testing purposes. Returns:; tf.data.Dataset; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py:151,config,config,151,deepvariant/data_providers.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py,2,['config'],"['config', 'configuration']"
Modifiability,"# 'layer_with_weights-0/kernel/.ATTRIBUTES/VARIABLE_VALUE' seems to the main; # variable to look at. I'm not sure if this heuristics will always work.; # TODO",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py:80,variab,variable,80,deepvariant/keras_modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py,1,['variab'],['variable']
Modifiability,"# ---------------------------------------------------------------------------; # Set configuration settings.; # ---------------------------------------------------------------------------",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner.py:85,config,configuration,85,deepvariant/realigner/realigner.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner.py,1,['config'],['configuration']
Modifiability,"# ================= #; # Setup Checkpoint #; # ================= #; # The state object allows checkpointing of the model and associated variables; # for the optimizer, step, and train/tune metrics.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train.py:136,variab,variables,136,deepvariant/train.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train.py,1,['variab'],['variables']
Modifiability,"# Check all configurations for the CANDIDATES enumeration:",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py:12,config,configurations,12,deepvariant/labeler/haplotype_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py,1,['config'],['configurations']
Modifiability,"# Check all configurations for the ONLY_HOM_REF enumeration:",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py:12,config,configurations,12,deepvariant/labeler/haplotype_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py,1,['config'],['configurations']
Modifiability,"# Check all configurations for the TRUTH enumeration:",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py:12,config,configurations,12,deepvariant/labeler/haplotype_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py,1,['config'],['configurations']
Modifiability,"# Collapse the probabilities of all configurations to a single GL for each; # allele, independently for each variant.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py:36,config,configurations,36,deepvariant/haplotypes.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py,1,['config'],['configurations']
Modifiability,"# Configure the learning rate using an exponetial decay.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:2,Config,Configure,2,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['Config'],['Configure']
Modifiability,"# Create a ""new"" model from the updated configuration and load the original; # model's weights.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py:40,config,configuration,40,deepvariant/keras_modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py,1,['config'],['configuration']
Modifiability,"# Create two model variable and one regular variables.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling_test.py:19,variab,variable,19,deepvariant/modeling_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling_test.py,2,['variab'],"['variable', 'variables']"
Modifiability,"# Direct assignment on a repeated message field is not allowed, so setting; # the cigar by using 'extend'.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner.py:98,extend,extend,98,deepvariant/realigner/realigner.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner.py,1,['extend'],['extend']
Modifiability,"# Ensure model weights have not changed after adding regularization layers.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py:68,layers,layers,68,deepvariant/keras_modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py,1,['layers'],['layers']
Modifiability,"# Excluding model/l1 variables gives us w2 and w3.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling_test.py:21,variab,variables,21,deepvariant/modeling_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling_test.py,1,['variab'],['variables']
Modifiability,"# Excluding the root model scope also produces no variables..",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling_test.py:50,variab,variables,50,deepvariant/modeling_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling_test.py,1,['variab'],['variables']
Modifiability,"# Extend the command with all items in extra_args.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deepsomatic.py:2,Extend,Extend,2,scripts/run_deepsomatic.py,,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deepsomatic.py,4,['Extend'],['Extend']
Modifiability,"# Extend the command with all items in kwargs and extra_args.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deepsomatic.py:2,Extend,Extend,2,scripts/run_deepsomatic.py,,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deepsomatic.py,5,['Extend'],['Extend']
Modifiability,"# For tests that don't actually want to read a real checkpoint,; # return a fake one. The estimator understands None to mean; # that all the variables should be left uninitialized.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_slim_test.py:141,variab,variables,141,deepvariant/call_variants_slim_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_slim_test.py,1,['variab'],['variables']
Modifiability,"# Have to be wrapped in a list to stop parameterized from treating the; # tuple as the positional arguments to the test function.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/cigar_test.py:39,parameteriz,parameterized,39,third_party/nucleus/util/cigar_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/cigar_test.py,1,['parameteriz'],['parameterized']
Modifiability,"# If the actual genotype calls are compatible, we can safely return those; # since they would be the most likely configuration also when restricting to; # only valid configurations of genotype calls.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py:113,config,configuration,113,deepvariant/haplotypes.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py,2,['config'],"['configuration', 'configurations']"
Modifiability,"# If the class variable name doesn't existin the checkpoint, return None.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_utils_test.py:15,variab,variable,15,deepvariant/dv_utils_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_utils_test.py,1,['variab'],['variable']
Modifiability,"# Load config",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train.py:7,config,config,7,deepvariant/train.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train.py,1,['config'],['config']
Modifiability,"# Long haplotypes can extend past the window, so enforce the width here.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py:22,extend,extend,22,deepvariant/make_examples_core.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py,1,['extend'],['extend']
Modifiability,"# Loop over variables in the checkpoint.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py:12,variab,variables,12,deepvariant/keras_modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py,1,['variab'],['variables']
Modifiability,"# Model shapes without any variable requests gives you all variables.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_utils_test.py:27,variab,variable,27,deepvariant/dv_utils_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_utils_test.py,2,['variab'],"['variable', 'variables']"
Modifiability,"# Multi-allelic configurations:",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py:16,config,configurations,16,deepvariant/labeler/haplotype_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py,1,['config'],['configurations']
Modifiability,"# Note: `model.get_weights()` gives us the weights (non-ref); # whereas `model.variables` returns references to the variables.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/average_model_checkpoint_patched.py:79,variab,variables,79,deepvariant/average_model_checkpoint_patched.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/average_model_checkpoint_patched.py,2,['variab'],['variables']
Modifiability,"# Otherwise, the actual genotype calls are incompatible. Since the genotype; # likelihoods are generally well-calibrated, we examine all configurations of; # genotypes that create compatible haplotypes and retain the single; # configuration with the highest joint likelihood across all variants as the; # proposed genotype assignment. Separately, we rescale the likelihood of each; # individual variant using only the valid genotype configurations. If the; # results are concordant (i.e., the genotype predicted by the marginal; # likelihood for each variant is the same as the genotype predicted when; # maximizing the joint likelihood across all variants), we return variants; # with those calls and the rescaled likelihoods. Otherwise, we log a warning; # and emit the original (incompatible) variants.; #; # For example, a biallelic deletion with probabilities of homref, het, homalt; # = 0.01, 0.9, 0.09 and inside it a biallelic SNP with probs 0.02, 0.48, 0.5.; # Naively this would be called as a heterozygous indel and a homozygous SNP,; # which is impossible as there are three total alternate genotypes. The; # algorithm does the following:; #; # Indel SNP Joint prob; # 0/0 0/0 0.01 * 0.02 = 0.0002; # 0/0 0/1 0.01 * 0.48 = 0.0048; # 0/0 1/1 0.01 * 0.50 = 0.0050; # 0/1 0/0 0.90 * 0.02 = 0.0180; # 0/1 0/1 0.90 * 0.48 = 0.4320*; # 0/1 1/1 <invalid> = 0; # 1/1 0/0 0.09 * 0.02 = 0.0018; # 1/1 0/1 <invalid> = 0; # 1/1 1/1 <invalid> = 0; #; # So using the highest joint likelihood, we predict het indel and het SNP.; #; # The marginal probability of each genotype for the indel is:; # 0/0: 0.0002 + 0.0048 + 0.0050 = 0.01; # 0/1: 0.0180 + 0.4320 = 0.45; # 1/1: 0.0018 = 0.0018; #; # which after normalizing to sum to 1 is roughly 0.022, 0.974, 0.004.; # The marginal probability for the SNP, after performing similar; # calculations, is 0.043, 0.946, 0.011. So the marginals also predict a het; # indel and a het SNP. Since the two calculations agree, we use this; # genotype call and modifie",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py:137,config,configurations,137,deepvariant/haplotypes.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py,3,['config'],"['configuration', 'configurations']"
Modifiability,"# Our region is 5-8 and we are testing that the read's mismatch is only; # included when it's within the region and not when it's outside.; # Expected region boundaries are extended according to region_expansion_in_bp; # flag. region_expansion_in_bp is set to 20 by default,; # so 5 to 8 becomes 5 - 20 to 8 + 20 <=> 0 to 28",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector_test.py:173,extend,extended,173,deepvariant/realigner/window_selector_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector_test.py,1,['extend'],['extended']
Modifiability,"# Our region is 5-8 and we have a 4 basepair deletion in our read. We expect; # a mismatch count of one for each position in the deletion that overlaps the; # interval.; # Expected region boundaries are extended according to region_expansion_in_bp; # flag. region_expansion_in_bp is set to 20 by default,; # so 5 to 8 becomes 5 - 20 to 8 + 20 <=> 0 to 28",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector_test.py:203,extend,extended,203,deepvariant/realigner/window_selector_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector_test.py,1,['extend'],['extended']
Modifiability,"# Save the updated model configuration.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py:25,config,configuration,25,deepvariant/keras_modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py,1,['config'],['configuration']
Modifiability,"# Set the L2 `regularizer_attr` on all layers of type `layer_class`. This; # change is only reflected in the model's config file.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py:39,layers,layers,39,deepvariant/keras_modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py,2,"['config', 'layers']","['config', 'layers']"
Modifiability,"# Simple bi-allelic configurations:",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py:20,config,configurations,20,deepvariant/labeler/haplotype_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py,1,['config'],['configurations']
Modifiability,"# TODO: Create a comparison engine that accepts an iterable of; # variants and truths, and yields information about each variant and; # truth variant sequentially. This should be the primary API. Refactor; # label_examples to use this new API. Then create a new implementation that does; # the fast version.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler.py:196,Refactor,Refactor,196,deepvariant/labeler/haplotype_labeler.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler.py,1,['Refactor'],['Refactor']
Modifiability,"# TODO: Define learning rate via config.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train.py:33,config,config,33,deepvariant/train.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train.py,1,['config'],['config']
Modifiability,"# TODO: Refactor this loop. It is used in other places.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py:8,Refactor,Refactor,8,deepvariant/make_examples_core.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py,1,['Refactor'],['Refactor']
Modifiability,"# TODO: This logic currently only works for single sample.; # Once we extend to multi-sample, we can remove this assert.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py:70,extend,extend,70,deepvariant/make_examples_core.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py,1,['extend'],['extend']
Modifiability,"# Test some simple overlap configurations.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges_test.py:27,config,configurations,27,third_party/nucleus/util/ranges_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges_test.py,1,['config'],['configurations']
Modifiability,"# Test various imports work; # pylint: disable=unused-variable; # pylint: disable=g-import-not-at-top",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/environment_tests/env_smoke_test.py:54,variab,variable,54,deepvariant/environment_tests/env_smoke_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/environment_tests/env_smoke_test.py,1,['variab'],['variable']
Modifiability,"# The following two classes support loading exponential moving averages into; # their corresponding variables when a checkpoint is loaded. They're called; # as hooks by the Estimators. Note for future work: this is the documented; # way, but someone on the mailing list suggested that using the scaffold_fn; # mechanism might be better.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:100,variab,variables,100,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['variab'],['variables']
Modifiability,"# The maximum number of overlapping variants to try to resolve into compatible; # haplotypes. This corresponds to generating 3^12 (= 531,441) possible variant; # configurations for diploid individuals.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py:162,config,configurations,162,deepvariant/haplotypes.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py,1,['config'],['configurations']
Modifiability,"# The only variables in the system are the three we've created.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling_test.py:11,variab,variables,11,deepvariant/modeling_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling_test.py,1,['variab'],['variables']
Modifiability,"# This configuration makes the most sense but we cannot choose it; # if we want to minimize the number of FNs, FPs, and then TPs.; # [0, 0],; # [0, 0],; # [1, 1],",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py:7,config,configuration,7,deepvariant/labeler/haplotype_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py,1,['config'],['configuration']
Modifiability,"# This generates too many tests as a parameterized test.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants_test.py:37,parameteriz,parameterized,37,deepvariant/postprocess_variants_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants_test.py,1,['parameteriz'],['parameterized']
Modifiability,"# This indirection is needed because the symbols in testdata are not set; # when the @parameterized decorator is called.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner_test.py:86,parameteriz,parameterized,86,deepvariant/realigner/realigner_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner_test.py,1,['parameteriz'],['parameterized']
Modifiability,"# This is parameterized over the max_separation so we can test that the; # metrics are properly calculated no matter the grouping. The candidates and; # truth variants below should give the same metrics regardless of grouping.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py:10,parameteriz,parameterized,10,deepvariant/labeler/haplotype_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py,1,['parameteriz'],['parameterized']
Modifiability,"# This is the entry point to get a DeepVariantInput when you start with; # a dataset configuration file name.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py:85,config,configuration,85,deepvariant/data_providers.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py,1,['config'],['configuration']
Modifiability,"# This logic below will write out the DOT files under the directory; # specified by the flag --realigner_diagnostics, if phase_reads is; # set to True.; # TODO: Extend the logic to work for multi-sample cases.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py:161,Extend,Extend,161,deepvariant/make_examples_core.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py,1,['Extend'],['Extend']
Modifiability,"# This reads a pbtxt file and returns the config proto.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py:42,config,config,42,deepvariant/data_providers.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py,1,['config'],['config']
Modifiability,"# Update our position variable to be the next reference base we want to; # use when further constructing our haplotype string. If we are using; # the reference base, we start our position at the base after variant; # start, whereas if we are using a non-reference base we use the; # variant.end.; #; # This special-case is needed to handle deletion alleles properly. If we; # have a deletion (e.g., AA => A with start = 10 and end = 12) then we; # only want to skip to position 12 for the next reference bases if we; # have have the deletion, otherwise we'd miss the second 'A' base which; # is really there (the variant isn't present, after all). Another; # consequence of this choice we only want to add the first base of the; # reference allele, not the whole string, since this would append all of; # deletion bases inappropriately to our haplotype.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler.py:22,variab,variable,22,deepvariant/labeler/haplotype_labeler.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler.py,1,['variab'],['variable']
Modifiability,"# Use the base config.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_config.py:15,config,config,15,deepvariant/dv_config.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_config.py,1,['config'],['config']
Modifiability,"# Used only when phasing is on (phase_reads=true). It allows to set the; # region padding as a percantage over the region length. candidates are; # calculated over an extended region. Output examples are not affected by; # this value.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_constants.py:167,extend,extended,167,deepvariant/dv_constants.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_constants.py,1,['extend'],['extended']
Modifiability,"# We are considering the het-alt configuration here of A vs. C+G. We've; # got one copy of the C allele so our true genotype is het. If truth is; # hom-var for the C, though, we again label the composite as hom_var as; # we have two copies of the C/G alt.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/variant_labeler_test.py:33,config,configuration,33,deepvariant/labeler/variant_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/variant_labeler_test.py,1,['config'],['configuration']
Modifiability,"# We are using this flag for determining intervals for both child and parent; # models. In the future, we can consider extending into 3 samples.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples.py:119,extend,extending,119,deeptrio/make_examples.py,,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples.py,1,['extend'],['extending']
Modifiability,"# We aren't excluding any variables, so just return vars_to_include.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:26,variab,variables,26,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['variab'],['variables']
Modifiability,"# We get just the three model variables without any excludes.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling_test.py:30,variab,variables,30,deepvariant/modeling_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling_test.py,1,['variab'],['variables']
Modifiability,"# When candidate partitioning is used region size is variable. Therefore; # we need to calculate the padding for each region.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py:53,variab,variable,53,deepvariant/make_examples_core.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py,1,['variab'],['variable']
Modifiability,"# list_value.values.extend(vals)",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.py:20,extend,extend,20,third_party/nucleus/testing/test_utils.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.py,1,['extend'],['extend']
Modifiability,"# pylint: enable=invalid-name; # TODO: Refactor all of the following (internal).",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/tfrecord.py:39,Refactor,Refactor,39,third_party/nucleus/io/tfrecord.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/tfrecord.py,1,['Refactor'],['Refactor']
Modifiability,"# pylint: enable=unused-variable; # pylint: enable=g-import-not-at-top",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/environment_tests/env_smoke_test.py:24,variab,variable,24,deepvariant/environment_tests/env_smoke_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/environment_tests/env_smoke_test.py,1,['variab'],['variable']
Modifiability,"# read4 starts in r3 but extends beyond it.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner_test.py:25,extend,extends,25,deepvariant/realigner/realigner_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner_test.py,1,['extend'],['extends']
Modifiability,"/*; * Copyright 2018 Google LLC.; *; * Redistribution and use in source and binary forms, with or without; * modification, are permitted provided that the following conditions; * are met:; *; * 1. Redistributions of source code must retain the above copyright notice,; * this list of conditions and the following disclaimer.; *; * 2. Redistributions in binary form must reproduce the above copyright; * notice, this list of conditions and the following disclaimer in the; * documentation and/or other materials provided with the distribution.; *; * 3. Neither the name of the copyright holder nor the names of its; * contributors may be used to endorse or promote products derived from this; * software without specific prior written permission.; *; * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; *; */; //; // Macros, functions, etc to improve portability of our C++ codebase.; //",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/port.h:1587,portab,portability,1587,third_party/nucleus/util/port.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/port.h,1,['portab'],['portability']
Modifiability,"// -----------------------------------------------------------------------------; // Helper class for encoding VariantCall.info values in VCF FORMAT field values.; // This class is only intended for use with FORMAT fields that can be directly; // mapped between a VCF record and the FORMAT info dictionary, without special; // logic. Where special logic is needed (e.g. for GT, GL/PL, etc.), the lower; // level functions `ReadFormatValues` and `EncodeFormatValues` are called; // directly.; //; // The standard way to interact with this class is as follows.; //; // Create an adaptor for FORMAT field ""DP"" of integer type:; // VcfFormatFieldAdapter adapter(""DP"", BCF_HT_INT32);; //; // For each variant, we encode this format field into the vcf record:; // adapter.EncodeValues(variant, header, bcf_record);; //",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.h:577,adapt,adaptor,577,third_party/nucleus/io/vcf_conversion.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.h,3,['adapt'],"['adapter', 'adaptor']"
Modifiability,"// A BED reader.; //; // BED files are flexible stores of information about a genome annotation track.; //; // https://genome.ucsc.edu/FAQ/FAQformat.html#format1; //; // This class provides a method to iterate through a BED file.; //; // The objects returned by iterate() are nucleus.genomics.v1.BedRecord; // objects parsed from the BED records in the file.; //; // Note: Only tab-delimited BED files are supported, for ease of future support; // for tabix-indexed BED file querying.; //",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/bed_reader.h:39,flexible,flexible,39,third_party/nucleus/io/bed_reader.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/bed_reader.h,1,['flexible'],['flexible']
Modifiability,"// A SAM/BAM/CRAM reader.; //; // SAM/BAM/CRAM files store information about next-generation DNA sequencing; // info:; //; // https://samtools.github.io/hts-specs/SAMv1.pdf; // https://samtools.github.io/hts-specs/CRAMv3.pdf; //; // These files are block-gzipped series of records. When aligned they are; // frequently sorted and indexed:; //; // http://www.htslib.org/doc/samtools.html; //; // This class provides methods to iterate through a BAM file or, if indexed,; // to also query() for only read overlapping a specific region on the genome.; //; // Uses the htslib C API for reading NGS reads (BAM, SAM, CRAM etc). For details; // of the API, see:; //; // https://github.com/samtools/htslib/tree/develop/htslib; //; // The objects returned by iterate() or query() are nucleus.genomics.v1.Read; // objects parsed from the SAM/BAM/CRAM records in the file. Currently all; // fields except the extended key/value maps in each BAM fields are parsed.; //",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.h:898,extend,extended,898,third_party/nucleus/io/sam_reader.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.h,1,['extend'],['extended']
Modifiability,"// According to htslib docs, faidx_fetch_seq c_name is the contig name,; // start is the first base (zero-based) to include and end is the last base; // (zero-based) to include. Len is an output variable returning the length; // of the fetched region, -2 c_name not present, or -1 for a general error.; // The returned pointer must be freed. We need to subtract one from our end; // since end is exclusive in GenomeReference but faidx has an inclusive one.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference.cc:195,variab,variable,195,third_party/nucleus/io/reference.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference.cc,1,['variab'],['variable']
Modifiability,"// Adapted from tensorflow/core/platform/default/integral_types.h; // TODO: replace this with inclusion of integral_types.h from absl,; // when it arrives.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/platform/types.h:3,Adapt,Adapted,3,third_party/nucleus/platform/types.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/platform/types.h,1,['Adapt'],['Adapted']
Modifiability,"// Adapter to extract an iterable into a vector for examination in test code.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.h:3,Adapt,Adapter,3,third_party/nucleus/testing/test_utils.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.h,1,['Adapt'],['Adapter']
Modifiability,"// Adapter to extract an iterable into a vector for examination in test code; // from a StatusOr<std::shared_ptr<Iterable<Record>>>.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.h:3,Adapt,Adapter,3,third_party/nucleus/testing/test_utils.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.h,1,['Adapt'],['Adapter']
Modifiability,"// Allele support for each read. Map is keyed by read id. Alleles are sorted; // by position. This map allows to quickly query all alleles that a read; // supports. Boolean variable designates if read to allele support is; // low_quality. If true then read supports the allele with low quality.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing.h:173,variab,variable,173,deepvariant/direct_phasing.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing.h,1,['variab'],['variable']
Modifiability,"// Check if configuration has disabled this FORMAT field.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.cc:12,config,configuration,12,third_party/nucleus/io/vcf_conversion.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.cc,1,['config'],['configuration']
Modifiability,"// Check if configuration has disabled this INFO field.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.cc:12,config,configuration,12,third_party/nucleus/io/vcf_conversion.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.cc,1,['config'],['configuration']
Modifiability,"// Configures a MessageDifferencer and DefaultFieldComparator to use the logic; // described in comp. The configured differencer is the output of this function,; // but a FieldComparator must be provided to keep ownership clear.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.cc:3,Config,Configures,3,third_party/nucleus/testing/protocol-buffer-matchers.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.cc,2,"['Config', 'config']","['Configures', 'configured']"
Modifiability,"// Copy input cigar into the local variable since it can be modified.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.cc:35,variab,variable,35,deepvariant/allelecounter.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.cc,1,['variab'],['variable']
Modifiability,"// Creates a new SamReader reading from the SAM/BAM/CRAM file reads_path.; //; // reads_path must point to an existing SAM/BAM/CRAM formatted file (text SAM,; // compressed or uncompressed BAM file, CRAM files in all sorts of flavors).; //; // ref_path can be """", in which case the argument is ignored, or must point; // to an existing FASTA file. If not """" and the reads_path points to a CRAM; // file, the CRAM_OPT_REFERNECE field will be set to this path so that the; // CRAM decoder uses ref_path to decode the reference-compressed read; // sequences in the CRAM file. Because many low-level IO routines (e.g. stat); // are currently directly used in the CRAM implementation in htslib, ref_path; // must be on a local (e.g., POSIX accessible) mount point. File system access; // provided by htslib plugins (e.g., S3) won't work.; //; // If the filetype is BAM/CRAM, this constructor will attempt to load a BAI or; // CRAI index from file reads_path + '.bai' or reads_path (without the .bam; // extension) + '.bai'; if the index is not found, attempts to Query will; // fail.; //; // Returns a StatusOr that is OK if the SamReader could be successfully; // created or an error code indicating the error that occurred.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.h:802,plugin,plugins,802,third_party/nucleus/io/sam_reader.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.h,1,['plugin'],['plugins']
Modifiability,"// Creates a new adapter for a field name field_name.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.h:17,adapt,adapter,17,third_party/nucleus/io/vcf_conversion.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.h,2,['adapt'],['adapter']
Modifiability,"// Creates a polymorphic matcher that matches a 2-tuple where; // first.Equivalent(second) is true.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h:13,polymorphi,polymorphic,13,third_party/nucleus/testing/protocol-buffer-matchers.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h,1,['polymorphi'],['polymorphic']
Modifiability,"// Gets the basepairs in the FASTA file from Range range.; //; // This follows the Range convention of getting bases from start; // (inclusive) to end (exclusive), both 0-based. That is,; // GetBases(Range(""chr1"", 2, 4)) gets a string starting with the *3rd* base on; // chr1 and extending through the *4th* base (excluding 4 as an offset).; // If chr isn't present in this reference, start is invalid or end is beyond; // the length of chr, returns a value whose status is not ok().",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference.h:280,extend,extending,280,third_party/nucleus/io/reference.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference.h,1,['extend'],['extending']
Modifiability,"// Helper method to update other member variables when |header_| is changed.; // This can happen during initialization or when a new header field is; // encountered while reading.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_reader.h:40,variab,variables,40,third_party/nucleus/io/vcf_reader.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_reader.h,1,['variab'],['variables']
Modifiability,"// Install adapters for FORMAT fields.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.cc:11,adapt,adapters,11,third_party/nucleus/io/vcf_conversion.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.cc,1,['adapt'],['adapters']
Modifiability,"// Install adapters for INFO fields.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.cc:11,adapt,adapters,11,third_party/nucleus/io/vcf_conversion.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.cc,1,['adapt'],['adapters']
Modifiability,"// Lookup table for genotype FORMAT field adapters by VCF tag name.; // The order of adapter definitions here determines the order of the fields; // in a written VCF.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.h:42,adapt,adapters,42,third_party/nucleus/io/vcf_conversion.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.h,2,['adapt'],"['adapter', 'adapters']"
Modifiability,"// Lookup table for variant INFO fields adapters by VCF tag name.; // The order of adapter definitions here determines the order of the fields; // in a written VCF.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.h:40,adapt,adapters,40,third_party/nucleus/io/vcf_conversion.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.h,2,['adapt'],"['adapter', 'adapters']"
Modifiability,"// Peeks into the GFF file to extract the header.; // TODO: refactor header reading",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/gff_reader.cc:60,refactor,refactor,60,third_party/nucleus/io/gff_reader.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/gff_reader.cc,1,['refactor'],['refactor']
Modifiability,"// Returns true if the current site should be emited, even if it's a reference; // site. This function is used to return reference site samples if the; // member variable fraction_reference_sites_to_emit >= 0.0 by pulling draws; // from a random number and returning true if the number <= the threshold.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling.cc:162,variab,variable,162,deepvariant/variant_calling.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling.cc,2,['variab'],['variable']
Modifiability,"// Tests are parameterized by: reader factory, cache size.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference_test.cc:13,parameteriz,parameterized,13,third_party/nucleus/io/reference_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference_test.cc,1,['parameteriz'],['parameterized']
Modifiability,"// The maximum value that we will consider for fragment length.; // TODO: make this value configurable as a flag",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_channel_lib.h:90,config,configurable,90,deepvariant/pileup_channel_lib.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_channel_lib.h,1,['config'],['configurable']
Modifiability,"// There are two reads that don't have a MAPQ60. The 0 MAPQ is flagged as; // unmapped, and there is another with MAPQ of 37. We test below that we get; // the right number of reads for each configuration of requirements.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader_test.cc:191,config,configuration,191,third_party/nucleus/io/sam_reader_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader_test.cc,1,['config'],['configuration']
Modifiability,"// These API extends Write() method to enable somatic processing.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_writer.h:13,extend,extends,13,third_party/nucleus/io/vcf_writer.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_writer.h,1,['extend'],['extends']
Modifiability,"// This algorithm is simple and fast, but it isn't the most straightforward; // implementation so it merits a few comments.; //; // Suppose I have the following data:; //; // offset: 01234567; // bases: ACGTAACC; // bad? : 00010000; // k_ : 2 <= using a kmer size of 2; //; // The algorithm below loops over positions (variable `i`), pulling kmers of; // length k from positions `i` and `i + 1` to add as edges. The key; // calculation is NextBadPosition that searches from the current `i` position; // for the next position that is bad. In the above example, this would be the; // 3 position. We then loop from i until `next_bad_position - k`, to create; // our edges, since we know that everything from i to next_bad_position is; // good but we cannot construct a valid kmer that overlaps next_bad_position; // so it invalidates all kmer starts from `next_bad_position - k`. Finally, we; // set i to `next_bad_position + 1`, which is the very next starting position; // after the last bad position, and the algorithm repeats.; //; // This algorithm has many important properties for performance:; //; // * It doesn't allocate any data structures to support the calculation.; // * It only examines whether a given position is good/bad once.; // * The loop to add edges is streamlined, without any unnecessary checks.; //",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/debruijn_graph.cc:319,variab,variable,319,deepvariant/realigner/debruijn_graph.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/debruijn_graph.cc,1,['variab'],['variable']
Modifiability,"// This is the base class that client code should extend.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reader_base.h:50,extend,extend,50,third_party/nucleus/io/reader_base.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reader_base.h,1,['extend'],['extend']
Modifiability,"// namespace internal; // Creates a polymorphic matcher that matches a 2-tuple where; // first.Equals(second) is true.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h:36,polymorphi,polymorphic,36,third_party/nucleus/testing/protocol-buffer-matchers.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h,1,['polymorphi'],['polymorphic']
Modifiability,"cord` file is assumed and attempted to be; read or written. Otherwise, the filename is treated as a true SAM/BAM/CRAM file. For `TFRecord` files, ending in a '.gz' suffix causes the file to be treated as; compressed with gzip. Notes on using CRAM with SamReader; --------------------------------. Nucleus supports reading from CRAM files using the same API as for SAM/BAM:. ```python; from third_party.nucleus.io import sam. with sam.SamReader(""/path/to/sample.cram"") as reader:; for read in reader:; print(read); ```. There is one type of CRAM file, though, that has a slightly more complicated; API. If the CRAM file uses read sequence compression with an external reference; file, and this reference file is no longer accessible in the location specified; by the CRAM file's ""UR"" tag and cannot be found in the local genome cache, its; location must be passed to SamReader via the ref_path parameter:. ```python; from third_party.nucleus.io import sam. cram_path = ""/path/to/sample.cram""; ref_path = ""/path/to/genome.fasta""; with sam.SamReader(cram_path, ref_path=ref_path) as reader:; for read in reader:; print(read); ```. Unfortunately, htslib is unable to load the ref_path from anything other than a; POSIX filesystem. (htslib plugin filesystems like S3 or GCS buckets won't work).; For that reason, we don't recommend the use of CRAM files with external; reference files, but instead suggest using read sequence compression with; embedded reference data. (This has a minor impact on file size, but; significantly improves file access simplicity and safety.). For more information about CRAM, see:; * The `samtools` documentation at http://www.htslib.org/doc/samtools.html; * The ""Global Options"" section of the samtools docs at http://www.htslib.org/doc/samtools.html#GLOBAL_OPTIONS; * How reference sequences are encoded in CRAM at http://www.htslib.org/doc/samtools.html#REFERENCE_SEQUENCES; * Finally, benchmarking of different CRAM options http://www.htslib.org/benchmarks/CRAM.html; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam.py:2585,plugin,plugin,2585,third_party/nucleus/io/sam.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam.py,1,['plugin'],['plugin']
Modifiability,"eturn variants; # with those calls and the rescaled likelihoods. Otherwise, we log a warning; # and emit the original (incompatible) variants.; #; # For example, a biallelic deletion with probabilities of homref, het, homalt; # = 0.01, 0.9, 0.09 and inside it a biallelic SNP with probs 0.02, 0.48, 0.5.; # Naively this would be called as a heterozygous indel and a homozygous SNP,; # which is impossible as there are three total alternate genotypes. The; # algorithm does the following:; #; # Indel SNP Joint prob; # 0/0 0/0 0.01 * 0.02 = 0.0002; # 0/0 0/1 0.01 * 0.48 = 0.0048; # 0/0 1/1 0.01 * 0.50 = 0.0050; # 0/1 0/0 0.90 * 0.02 = 0.0180; # 0/1 0/1 0.90 * 0.48 = 0.4320*; # 0/1 1/1 <invalid> = 0; # 1/1 0/0 0.09 * 0.02 = 0.0018; # 1/1 0/1 <invalid> = 0; # 1/1 1/1 <invalid> = 0; #; # So using the highest joint likelihood, we predict het indel and het SNP.; #; # The marginal probability of each genotype for the indel is:; # 0/0: 0.0002 + 0.0048 + 0.0050 = 0.01; # 0/1: 0.0180 + 0.4320 = 0.45; # 1/1: 0.0018 = 0.0018; #; # which after normalizing to sum to 1 is roughly 0.022, 0.974, 0.004.; # The marginal probability for the SNP, after performing similar; # calculations, is 0.043, 0.946, 0.011. So the marginals also predict a het; # indel and a het SNP. Since the two calculations agree, we use this; # genotype call and modified likelihoods.; #; # First, we find all non-reference count configurations that are compatible.; # This represents each variant solely based on its number of non-reference; # genotypes, and assumes that variants are compatible if the total number of; # non-reference genotypes at a single position is at most two. By using; # non-reference counts, we avoid testing multiple allele configurations that; # will return the same result (e.g. a variant with two possible alternate; # alleles has three allele configurations that are homozygous alternate; # [1/1, 1/2, 2/2] and either all or none of them will be valid depending on; # the variants it interacts with).",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py:2061,config,configurations,2061,deepvariant/haplotypes.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py,3,['config'],['configurations']
Modifiability,"und. Computes the reference confidence for site allele_count. Examines the number of reference supporting and alternate supporting reads; in allele_count and estimates the genotype likelihoods and confidence that; this site is homozygous reference. These values are written into the first; VariantCall record of variant, into the repeated field genotype_likelihood; and the map field GQ. The genotype likelihoods are computed against any possible alternative; allele, the so-called <*> allele, which boils down to a model that looks; like:. log10_p_ref = (1 - p_error)^(ref_n) (p_error)^(non_ref_n); log10_p_het = (0.5)^(total_n); log10_p_hom_alt = (p_e)^(ref_n) (1 - p_error)^(non_ref_n). ref_n is the number of reference supporting reads and non_ref_n is the sum; of any reads supporting any alternate alleles. Non-informative reads are; excluded from the calculation. and written in as the normalized log10 values so that:. sum(10^genotype_likelihoods) = 1. The GQ, according to the VCF specification, is the conditional genotype; quality, encoded as a phred quality -10 * log10 p(genotype call is wrong,; conditioned on the site's being variant, as an integer. See:; https:samtools.github.io/hts-specs/VCFv4.3.pdf; We are calculating the GQ not for the best genotype, but the GQ of the 0/0; genotype, regardless of the likelihoods.; 1 = pRR + pRA + pAA; [R is reference, A=<*> is any alternative alternative]; GQ of 0/0 = -10 * log10(pRA + pAA) [prob that any other differen genotype]; = -10 * log10(1 - pRR) [substitution from the previous equation]; Here we don't have pRR directly, but rather log10(pRR). Args:; n_ref: int >= 0 and <= n_total: The number of reads supporting the; reference allele.; n_total: int >= 0 and >= n_ref: The number of reads supporting any allele; at this site. Returns:; A tuple of two values. The first is an integer value for the GQ (genotype; quality) and the second is an array-like of the log10 probabilities for; each of the three genotype configurations.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_caller.py:2271,config,configurations,2271,deepvariant/variant_caller.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_caller.py,1,['config'],['configurations']
Modifiability,"ut_path: str. A path to a resource containing SAM/BAM/CRAM records.; Currently supports SAM text format, BAM binary format, and CRAM.; ref_path: optional str or None. Only used for CRAM decoding, and only; necessary if the UR encoded path in the CRAM itself needs to be; overridden. If provided, we will tell the CRAM decoder to use this FASTA; for the reference sequence.; read_requirements: optional ReadRequirement proto. If not None, this proto; is used to control which reads are filtered out by the reader before; they are passed to the client.; parse_aux_fields: optional bool, defaulting to False. If False, we do not; parse the auxiliary fields of the SAM/BAM/CRAM records (see SAM spec for; details). Parsing the aux fields is unnecessary for many applications,; and adds a significant parsing cost to access. If you need these aux; fields, set parse_aux_fields to True and these fields will be parsed and; populate the appropriate Read proto fields (e.g., read.info).; hts_block_size: int or None. If specified, this configures the block size; of the underlying htslib file object. Larger values (e.g. 1M) may be; beneficial for reading remote files. If None, the reader uses the; default htslib block size.; downsample_fraction: float in the interval [0.0, 1.0] or None. If; specified as a positive float, the reader will only keep each read with; probability downsample_fraction, randomly. If None or zero, all reads; are kept.; random_seed: None or int. The random seed to use with this sam reader, if; needed. If None, a fixed random value will be assigned.; use_original_base_quality_scores: optional bool, defaulting to False. If; True, quality scores are read from OQ tag.; aux_fields_to_keep: None or list[str]. If None, we keep all aux fields if; they are parsed. If set, we only keep the aux fields with the names in; this list. Raises:; ValueError: If downsample_fraction is not None and not in the interval; (0.0, 1.0].; ImportError: If someone tries to load a tfbam file.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam.py:1072,config,configures,1072,third_party/nucleus/io/sam.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam.py,1,['config'],['configures']
Performance,"""""""Allows us to get bases from a cached reference interval.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler.py:33,cache,cached,33,deepvariant/labeler/haplotype_labeler.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler.py,1,['cache'],['cached']
Performance,"""""""An `IndexedFastaReader` getting its bases from an in-memory data structure. An `InMemoryFastaReader` provides the same API as `IndexedFastaReader` but; doesn't fetch its data from an on-disk FASTA file but rather fetches the bases; from an in-memory cache containing (chromosome, start, bases) tuples. In particular, the `query(Range(chrom, start, end))` operation fetches bases; from the tuple where `chrom` == chromosome, and then from the bases where the; first base of bases starts at start. If start > 0, then the bases string is; assumed to contain bases starting from that position in the region. For; example, the record ('1', 10, 'ACGT') implies that; `query(ranges.make_range('1', 11, 12))` will return the base 'C', as the 'A'; base is at position 10. This makes it straightforward to cache a small region; of a full chromosome without having to store the entire chromosome sequence in; memory (potentially big!).; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/fasta.py:253,cache,cache,253,third_party/nucleus/io/fasta.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/fasta.py,2,['cache'],['cache']
Performance,"""""""Base class for models that compute genotype likelihoods from an image. This class is intended for use anywhere in DeepVariant where we want to train; or evaluate a model that computes genotype likelihoods from a pileup image. A; bit of encapsulation helps us to try new models (beyond inception_v3) and unit; test our code. The base class cannot be used directly; concrete subclasses actually implement; specific models and all of the associated machinery to create/load/save; models. Attributes:; name: str. The name of this model, such as `inception_v3`.; pretrained_model_path: str. Path to a root checkpoint where we can start; training the model, if we are not starting from scratch.; supported_dimensions_message: str. A human-readable string containing info; about what image dimensions are supported by this model. E.g., ""only; widths between 42 and 189"".; use_tpu: bool or None. If True, we are executing the model on a TPU, False; if we are using some other hardware. If None, the execution hardware is; not yet known.; model_dir: str or None. The path to the location where model checkpoint are; being stored. If None, the path hasn't been set yet or is unknown.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:469,load,load,469,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['load'],['load']
Performance,"""""""Calculate eval metrics from Tensors, on CPU host. Args:; labels: the ground-truth labels for the examples.; predictions: the predicted labels for the examples.; variant_types: variant types (int64 of EncodedVariantType.value) as a tensor; of (batch_size,) or None. The types of these variants. If None, no type; specific evals will be performed. Returns:; A dictionary of string name to metric.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:338,perform,performed,338,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['perform'],['performed']
Performance,"""""""Chops out all of the intervals in other from this this RangeSet. NOTE: This is a *MUTATING* operation for performance reasons. Make a copy; of self if you want to avoid modifying the RangeSet. Args:; other: A RangeSet object whose intervals will be removed from this; RangeSet.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges.py:109,perform,performance,109,third_party/nucleus/util/ranges.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges.py,1,['perform'],['performance']
Performance,"""""""Class for ""reading"" Variant protos from an in-memory cache of variants. ```python; from third_party.nucleus.io import vcf; from third_party.nucleus.protos import variants_pb2. variants = [... Variant protos ...]; header = variants_pb2.VcfHeader(). with vcf.InMemoryVcfReader(variants, header) as reader:; for variant in reader:; print(variant); ```. This class accepts a collection of variants and optionally a header and; provides all of the standard API functions of VcfReader but instead of; fetching variants from a file the variants are queried from an in-memory cache; of variant protos. Note that the input variants provided to this class aren't checked in any way,; and their ordering determines the order of variants emitted by this class for; the iterate() and query() operations. This is intentional, to make this class; easy to use for testing where you often want to use less-than-perfectly formed; inputs. In order to fully meet the contract of a standard VcfReader, variants; should be sorted by their contig ordering and then by their start and finally; by their ends. Implementation note:; The current implementation will be very slow for query() if the provided; cache of variants is large, as we do a O(n) search to collect all of the; overlapping variants for each query. There are several straightforward; optimizations to do if we need/want to scale this up. (a) sort the variants; and use a binary search to find overlapping variants (b) partition the; variants by contig, so we have dict[contig] => [variants on contig], which; allows us to completely avoid considering any variants on any other contigs.; Neither of these optimizations are worth it if len(variants) is small, but; it may be worth considering if we want to use this functionality with a; large number of variants.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf.py:56,cache,cache,56,third_party/nucleus/io/vcf.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf.py,5,"['cache', 'optimiz']","['cache', 'optimizations']"
Performance,"""""""Create a DeepVariantInput object, usable as an `input_fn`. Args:; mode: the mode string (from `tf.estimator.ModeKeys`).; input_file_spec: the input filename for a tfrecord[.gz] file containing; examples. Can contain sharding designators.; num_examples: the number of examples contained in the input file. Required; for setting learning rate schedule in train/eval only.; num_classes: The number of classes in the labels of this dataset.; Currently defaults to DEFAULT_NUM_CLASSES.; max_examples: The maximum number of examples to use. If None, all examples; will be used. If not None, the first n = min(max_examples, num_examples); will be used. This works with training, and the n examples will repeat; over and over.; tensor_shape: None (which means we get the shape from the first example in; source), or list of int [height, width, channel] for testing.; name: string, name of the dataset.; use_tpu: use code paths tuned for TPU, in particular protobuf encoding.; Default False.; input_read_threads: number of threads for reading data. Default 32.; shuffle_buffer_size: size of the final shuffle buffer, in elements.; Default 100.; initial_shuffle_buffer_size: int; the size of the dataset.shuffle buffer; in elements. Default is 1024.; prefetch_dataset_buffer_size: int; the size of the TFRecordDataset buffer; in bytes. Default is 16 * 1000 * 1000.; sloppy: boolean, allow parallel_interleave to be sloppy. Default True.; list_files_shuffle: boolean, allow list_files to shuffle. Default True.; debugging_true_label_mode: boolean. If true, the input examples are; created with ""training"" mode. We'll parse the 'label' field even if the; `mode` is PREDICT. Raises:; ValueError: if `num_examples` not provided, in a context requiring it.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py:922,tune,tuned,922,deepvariant/data_providers.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py,1,['tune'],['tuned']
Performance,"""""""Creates an DeepVariant CNN network based on a tf.slim model. Args:; name: see baseclass.; pretrained_model_path: see baseclass.; n_classes_model_variable: str. A fully-qualitified TF variable name in the; model that we can use to determine the shape of the output; classification layer of the model. For example, in inception-v3 from; slim this is 'InceptionV3/Logits/Conv2d_1c_1x1/weights'.; excluded_scopes_for_incompatible_classes: set of str. A set of scopes that; will be excluded when restoring from a checkpoint to avoid loading; incompatible #classes.; excluded_scopes_for_incompatible_channels: set of str. A set of scopes; that will be excluded when restoring from a checkpoint to avoid loading; incompatible #channels. Raises:; ValueError: If any of the arguments are invalid.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:531,load,loading,531,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,2,['load'],['loading']
Performance,"""""""Determine genomic ranges to perform local assembly.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector.py:31,perform,perform,31,deepvariant/realigner/window_selector.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector.py,1,['perform'],['perform']
Performance,"""""""Finds the allele frequencies of all the alt alleles for a candidate. Args:; variant: A Variant proto generated by make_examples. Note that it can be; multi-allelic.; population_vcf_reader: A VcfReader object that reads associated VCF file for; a candidate. We want to extract allele frequency information in the VCF.; ref_reader: A IndexedFastaReader object that reads the reference FASTA.; padding_bases: An integer that specifies the number of padding bases added; when performing a VCF query. By default it is set to 0. Returns:; A dict with alleles as keys, and allele frequencies as values; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allele_frequency.py:475,perform,performing,475,deepvariant/allele_frequency.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allele_frequency.py,1,['perform'],['performing']
Performance,"""""""Gets the list of model variables that should be restored. The primary use of this function is to get a subset of tf.Variables from a; slim-defined model that we'd like to restore from a checkpoint. The; checkpoint generally contains all of the variables in the graph during; training, including things like the backprop variables, moving averages for; visualization, etc. Simply restoring all of those variables is brittle, as; we often want to start a new training run, maybe using a different; optimizer, different visualization variables, or replacing part of the model; with a new classification layer, as unneeded variables from the checkpoint; get loaded into the graph and/or new TF variables not present in the graph; cannot be found, raising exceptions. This function allows a clean API to get; just the *model* variables from a graph, excluding all of those non-model; variables, along with optionally removing parts of the model graph via; exclude scopes. This function calls slim.get_model_variables() to get the raw list of all; variables associated with the MODEL_VARIABLES collection. It then filters; away all variables that match any of the scopes in exclude_scopes. For; example, suppose we have a model with three variables with names:. w1 = model/l1/weight1; w2 = model/l2/weight2; w3 = model/l2/weight3. Without any exclude scopes, we would return these three variables [w1, w2,; and w3]. Providing exclude_scopes=['model/l2'] would return only [w1], while; exclude_scopes=['model/l1'] would return [w2, w3]. Args:; exclude_scopes: None, or a list of strings. Each string is a scope; specification, such as ""model/l1"" to match all variables whose name; starts with ""model/l1"". Returns:; A list of tf.Variable objects.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:499,optimiz,optimizer,499,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,2,"['load', 'optimiz']","['loaded', 'optimizer']"
Performance,"""""""Hook to load EMA into their corresponding variables. This looks for the latest checkpoint in the model dir.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:11,load,load,11,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['load'],['load']
Performance,"""""""Hook to load EMA into their corresponding variables. This reads the specified checkpoint.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:11,load,load,11,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['load'],['load']
Performance,"""""""Initializes a checkpoint manager, and restores a checkpoint if one exists. Args:; config: Training configuration.; model_dir: Where model is stored.; model: a tf Model.; optimizer: A tf Optimizer.; strategy: Distribution strategy. Returns:; The state as `tf.train.Checkpoint`. This includes the `model` (network),; the `optimizer`, metrics (train and tune), and the `global_step` variable.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py:173,optimiz,optimizer,173,deepvariant/keras_modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py,4,"['Optimiz', 'optimiz', 'tune']","['Optimizer', 'optimizer', 'tune']"
Performance,"""""""Initializes an IndexedFastaReader. Args:; input_path: string. A path to a resource containing FASTA records.; keep_true_case: bool. If False, casts all bases to uppercase before; returning them.; cache_size: integer. Number of bases to cache from previous queries.; Defaults to 64K. The cache can be disabled using cache_size=0.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/fasta.py:239,cache,cache,239,third_party/nucleus/io/fasta.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/fasta.py,2,['cache'],['cache']
Performance,"""""""Library to gather runtime performance metrics. This module exposes the ResourceMonitor class, which client code can use to; gather resource usage metrics about their program. An example usage would look; something like:. with ResourceMonitor() as monitor:; ... do work ...; metrics = monitor.metrics(); """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/resources.py:29,perform,performance,29,deepvariant/resources.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/resources.py,1,['perform'],['performance']
Performance,"""""""Load candidate positions from input file(s).""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py:3,Load,Load,3,deepvariant/make_examples_core.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py,1,['Load'],['Load']
Performance,"""""""Load the dataset and shuffle for training.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train_inceptionv3.py:3,Load,Load,3,deepvariant/train_inceptionv3.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train_inceptionv3.py,1,['Load'],['Load']
Performance,"""""""Loads and returns the model, which must be in saved model format. Args:; use_multiallelic_model: if True, use a specialized model for genotype; resolution of multiallelic cases with two alts. Returns:; A keras model instance if use_multiallelic_model, else None.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py:3,Load,Loads,3,deepvariant/postprocess_variants.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py,1,['Load'],['Loads']
Performance,"""""""Loads data from a file into one dataframe as-is and one by task. Args:; input_path: str, path of the input TSV file (may be sharded). Returns:; df: A dataframe with one row per region.; by_task: A dataframe with one row per task.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/runtime_by_region_vis.py:3,Load,Loads,3,deepvariant/runtime_by_region_vis.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/runtime_by_region_vis.py,1,['Load'],['Loads']
Performance,"""""""Mathematics functions for working with genomics data. A quick note on terminology here. There are a bunch kinds of probabilities used commonly in genomics:. -- pError: the probability of being wrong.; -- pTrue: the probability of being correct. Normalized probabilities vs. unnormalized likelihoods:. -- Normalized probabilities: p_1, ..., p_n such that sum(p_i) == 1 are said; said to be normalized because they represent a valid probability; distribution over the states 1 ... n.; -- Unnormalized likelihoods: p_1, ..., p_n where sum(p_i) != 1. These are not; normalized and so aren't a valid probabilities distribution. To add even more complexity, probabilities are often represented in three; semi-equivalent spaces:. -- Real-space: the classic space, with values ranging from [0.0, 1.0]; inclusive.; -- log10-space: If p is the real-space value, in log10-space this would be; represented as log10(p). How the p == 0 case is handled is often function; dependent, which may accept/return -Inf or not handle the case entirely.; -- Phred-scaled: See https://en.wikipedia.org/wiki/Phred_quality_score for; more information. Briefly, the Phred-scale maintains resolution in the lower; parts of the probability space using integer quality scores (though using; ints is optional, really). The phred-scale is defined as. `phred(p) = -10 * log10(p)`. where p is a real-space probability. The functions in math.h dealing with probabilities are very explicit about what; kinds of probability and representation they expect and return, as unfortunately; these are all commonly represented as doubles in C++. Though it is tempting to; address this issue with classic software engineering practices like creating; a Probability class, in practice this is extremely difficult to do as this; code is often performance critical and the low-level mathematical operations; used in this code (e.g., log10) don't distiguish themselves among the types; of probabilities.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/genomics_math.py:1798,perform,performance,1798,third_party/nucleus/util/genomics_math.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/genomics_math.py,1,['perform'],['performance']
Performance,"""""""Performs the calculation described in reference_confidence().""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_caller.py:3,Perform,Performs,3,deepvariant/variant_caller.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_caller.py,1,['Perform'],['Performs']
Performance,"""""""Performs the grouping of CVOs and packages them into a list of kwargs. Args:; input_sorted_tfrecord_path: str. TFRecord format file containing sorted; CallVariantsOutput protos. Returns:; List of kwargs to be passed to invocations of the transform function.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py:3,Perform,Performs,3,deepvariant/postprocess_variants.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py,1,['Perform'],['Performs']
Performance,"""""""Post processing of called variants. Args:; output_file: Path to output file where outputs will be written.; output_queue: Multiprocessing queue to fetch predictions from.; include_debug_info: If true, include debug information.; debugging_true_label_mode: If true, include true label from the example.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants.py:141,queue,queue,141,deepvariant/call_variants.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants.py,1,['queue'],['queue']
Performance,"""""""Provides an abstraction around deep learning models in DeepVariant. This class allows us to encapsulate all of the model management, loading,; saving, and data processing in a single place so those details don't spill over; into the more general deepvariant codebase. The key thing we are aiming for here; is to make sure we can easily play with other model architectures without; modifying the surrounding training and evaluation code.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:136,load,loading,136,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['load'],['loading']
Performance,"""""""Returns True if read overlaps read. This function is equivalent to calling:. `ranges.ranges_overlap(region, read_range(read))`. But is optimized for speed and memory performance in C++. Args:; read: nucleus.genomics.v1.Read.; region: nucleus.genomics.v1.Range. Returns:; True if read and region overlap (i.e, have the same reference_name and their; start/ends overlap at least one basepair).; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/utils.py:138,optimiz,optimized,138,third_party/nucleus/util/utils.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/utils.py,2,"['optimiz', 'perform']","['optimized', 'performance']"
Performance,"""""""Returns a list of tf.train.SessionRunHook classes. A typical use case is to provide a hook to load the EMA variables. These will be instantiated and invoked by; eval_hooks = [; h(model_dir) for h in model.session_eval_hooks(); ]; estimator.evaluate(hooks=...). Note that this is done according to the instructions in; cloud_tpu/models/inception/inception_v3.py. A newer idea is in; tpuestimator-scaffold, but we haven't tried that approach.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:97,load,load,97,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['load'],['load']
Performance,"""""""Returns a list of tf.train.SessionRunHook classes. A typical use case is to provide a hook to load the EMA variables. These will be instantiated and invoked by; predict_hooks = [; h(checkpoint_path) for h in model.session_predict_hooks(); ]; estimator.predict(hooks=...). Note that this is done according to the instructions in; cloud_tpu/models/inception/inception_v3.py. A newer idea is in; tpuestimator-scaffold, but we haven't tried that approach.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:97,load,load,97,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['load'],['load']
Performance,"""""""Returns a new tf.estimator.Estimator object for training or prediction. The estimator needs to know batch_size. We use the same value for all; of eval, train, and predict. The estimator will automatically save; checkpoints to model_dir and keep the specified number of them. The value; of iterations_per_loop is not critical, and we default to the recommended; value. Some optional arguments are only required for use with TPU. This function will use self.model_fn and self.use_tpu when constructing the; model specific Estimator object. Estimators are also sometimes called classifiers. Args:; batch_size: the batch size to use (for TRAIN, EVAL, and PREDICT modes).; model_dir: an (optional) string directory to use as the model directory.; max_checkpoints_to_keep: an (optional) integer count of saved checkpoints.; iterations_per_loop: an (optional) integer count of log_step_count_steps.; params: an (optional) dictionary of parameters to pass to the Estimator; constructor.; unused_device_fn: a device_fn to pass to RunConfig, if not use_tpu.; master: a string necessary for TPU, pass FLAGS.master through.; use_tpu: boolean. set self.use_tpu if not None.; start_from_checkpoint: string. If not None, initialize model from this; path. According to the current implementation of Estimator, this will; only be used in training. The inference checkpoint is loaded in a; different place.; session_config: a tf.ConfigProto to pass to RunConfig, if not use_tpu.; include_debug_info: from call_variants. If True, PREDICT mode will include; extra info such as logits and prelogits. Returns:; an object implementing the tf.estimator.Estimator interface (will be a; TPUEstimator if self.use_tpu is True).; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:1362,load,loaded,1362,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['load'],['loaded']
Performance,"""""""Returns an InceptionV3 architecture. See https://tensorflow.org/api_docs/python/tf/keras/applications/InceptionV3. Args:; input_shape: a 3-tuple describing the input shape.; weights: str. To initial weights from.; init_backbone_with_imagenet: If True, get a model with InceptionV3 that has; `weights='imagenet'` to start with. This will download a model. It should; be set to False in unit tests, or when specific model weights will be; loaded afterwards.; config: a model configuration. Returns:; An InceptionV3-based model.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py:440,load,loaded,440,deepvariant/keras_modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py,1,['load'],['loaded']
Performance,"""""""Returns genotype likelihoods rounded to the desired precision level. Args:; gls: A list of floats. The input genotype likelihoods at any precision.; precision: Positive int. The number of places past the decimal point to; round to. If None, no rounding is performed. Returns:; A list of floats rounded to the desired precision. Raises:; ValueError: The input gls do not sum to nearly 1.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants.py:259,perform,performed,259,deepvariant/call_variants.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants.py,2,['perform'],['performed']
Performance,"""""""Returns the metric we are optimizing for.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train.py:29,optimiz,optimizing,29,deepvariant/train.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train.py,1,['optimiz'],['optimizing']
Performance,"""""""Single non-distributed tune step.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train.py:26,tune,tune,26,deepvariant/train.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train.py,1,['tune'],['tune']
Performance,"""""""Test that we get the right error when the plugin cannot load.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/genomics_io_noplugin_test.py:59,load,load,59,third_party/nucleus/io/genomics_io_noplugin_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/genomics_io_noplugin_test.py,1,['load'],['load']
Performance,"""""""This class creates a cache of accessors to structured fields in Variants. The INFO and FORMAT fields within Variant protos are structured and typed,; with types defined by the corresponding VCF header. This cache object provides; provides {info,format}_field_{get,set}_fn functions that can be used to; extract information from the structured Variant protos based on the types; defined therein. NOTE: Users should not need to interact with this class at all. It is used; by the variant_utils.{get,set}_info and variantcall_utils.{get,set}_format; functions for interacting with the INFO and FORMAT fields in a Variant proto.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf.py:24,cache,cache,24,third_party/nucleus/io/vcf.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf.py,2,['cache'],['cache']
Performance,"""""""Yields the parsed records in a TFRecord file path in sorted order. The input TFRecord file must have each shard already in sorted order when; using the key function for comparison (but elements can be interleaved across; shards). Under those constraints, the elements will be yielded in a global; sorted order. Args:; path: String. A path to a TFRecord-formatted file containing protos.; key: Callable. A function that takes as input a single instance of the proto; class and returns a value on which the comparison for sorted ordering is; performed.; proto: A proto class. proto.FromString() will be called on each serialized; record in path to parse it.; max_records: int >= 0 or None. Maximum number of records to read from path.; If None, the default, all records will be read.; compression_type: 'GZIP', 'ZLIB', '' (uncompressed), or None to autodetect; based on file extension. Yields:; proto.FromString() values on each record in path in sorted order.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/tfrecord.py:543,perform,performed,543,third_party/nucleus/io/tfrecord.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/tfrecord.py,1,['perform'],['performed']
Performance,"""""""Yields variants with compatible genotype calls in order. This function differs from `_resolve_overlapping_variants` below in that the; input here is a block of all candidate calls that overlap in a region, which; may contain candidates that are deemed to be most likely reference calls.; We often tune DeepVariant to be highly sensitive. Consequently, there can be; many candidate calls that are predicted as reference. Since those do not; contribute to potential incompatibilities, we split them out from variants; predicted to contain non-reference genotypes since the computation of; compatible haplotypes is exponential in the number of inputs. Args:; overlapping_candidates: list(Variant). A non-empty list of Variant protos in; coordinate-sorted order that overlap on the reference genome. Yields:; Variant protos in coordinate-sorted order that try to resolve incompatible; haplotypes.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py:300,tune,tune,300,deepvariant/haplotypes.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py,1,['tune'],['tune']
Performance,"""""""keras_modeling.inceptionv3 can load weights (even different #channels). Args:; checkpoint_weights_shape: The shape of the weights (checkpoint) file.; input_shape: The shape of the model we're training now.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling_test.py:34,load,load,34,deepvariant/keras_modeling_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling_test.py,1,['load'],['load']
Performance,"""""""tf.data.Dataset loading function. Args:; path: the input filename for a tfrecord[.gz] file containing examples. Can; contain sharding designators.; config: A configuration file.; mode: One of ['train', 'tune', 'predict']; strategy: A tf.distribute.Strategy.; n_epochs: Number of epochs.; limit: Limit the number of batches for testing purposes. Returns:; tf.data.Dataset; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py:19,load,loading,19,deepvariant/data_providers.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py,2,"['load', 'tune']","['loading', 'tune']"
Performance,"# ==== #; # tune #; # ==== #; # Run tune at every epoch, periodically, and at final step.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train.py:12,tune,tune,12,deepvariant/train.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train.py,2,['tune'],['tune']
Performance,"# ================= #; # Setup Checkpoint #; # ================= #; # The state object allows checkpointing of the model and associated variables; # for the optimizer, step, and train/tune metrics.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train.py:157,optimiz,optimizer,157,deepvariant/train.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train.py,2,"['optimiz', 'tune']","['optimizer', 'tune']"
Performance,"# Adding a read invalidates our _read_span cache.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner.py:43,cache,cache,43,deepvariant/realigner/realigner.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner.py,1,['cache'],['cache']
Performance,"# After training completes, load the latest checkpoint and create; # a saved model (.pb) and keras model formats.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train.py:28,load,load,28,deepvariant/train.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train.py,1,['load'],['load']
Performance,"# Calling this object like a function returns a stream of variadic tuples.; # Essentially it is a buffered io library, that handles concurrently; # reading and possibly shuffling input records from a set of files. It; # knows how to parse features we care about from tf.examples. It records; # some extra information about the source of the input, such as the name; # and number of classes.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py:132,concurren,concurrently,132,deepvariant/data_providers.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py,1,['concurren'],['concurrently']
Performance,"# Cast to int32 for loading onto the TPU",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py:20,load,loading,20,deepvariant/data_providers.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py,1,['load'],['loading']
Performance,"# Checks that we load the variant if needed and that our mock is working.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_utils_using_clif_test.py:17,load,load,17,deepvariant/dv_utils_using_clif_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_utils_using_clif_test.py,1,['load'],['load']
Performance,"# Create a ""new"" model from the updated configuration and load the original; # model's weights.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py:58,load,load,58,deepvariant/keras_modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py,1,['load'],['load']
Performance,"# Define Optimizer.; # TODO: Add function for retrieving custom optimizer.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train.py:9,Optimiz,Optimizer,9,deepvariant/train.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train.py,2,"['Optimiz', 'optimiz']","['Optimizer', 'optimizer']"
Performance,"# Delayed loading of tfbam_lib.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam.py:10,load,loading,10,third_party/nucleus/io/sam.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam.py,1,['load'],['loading']
Performance,"# If no weights file is specified, initialize with `imagenet`.; # The `init_backbone_with_imagenet` flag should be set to False for unit; # tests to avoid loading the `imagenet` model from online.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py:155,load,loading,155,deepvariant/keras_modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py,1,['load'],['loading']
Performance,"# Image preprocessing and one-hot encoding were previously done inside the; # TF Estimator API's model_fn. Though we can subclass the Keras InceptionV3; # class and do it in the forward pass, it seems more fitting to do it during; # dataset loading along with the above image loading steps.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train_inceptionv3.py:241,load,loading,241,deepvariant/train_inceptionv3.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train_inceptionv3.py,2,['load'],['loading']
Performance,"# Iteratively intersect each of our *other RangeSets with this RangeSet.; # Sort by size so we do the smallest number of element merge first.; # TODO: Note we could optimize this code by computing the set of; # common contigs upfront across all others and only looping over those.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges.py:165,optimiz,optimize,165,third_party/nucleus/util/ranges.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges.py,1,['optimiz'],['optimize']
Performance,"# Load and save a model with random weights",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_test.py:2,Load,Load,2,deepvariant/call_variants_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_test.py,1,['Load'],['Load']
Performance,"# Load candidate_positions if the flag is set. Partitioning logic will depend; # on whether candidate_positions is set.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py:2,Load,Load,2,deepvariant/make_examples_core.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py,1,['Load'],['Load']
Performance,"# Load config",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train.py:2,Load,Load,2,deepvariant/train.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train.py,1,['Load'],['Load']
Performance,"# Load data into pandas dataframes and add summary columns.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/runtime_by_region_vis.py:2,Load,Load,2,deepvariant/runtime_by_region_vis.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/runtime_by_region_vis.py,1,['Load'],['Load']
Performance,"# Load in test data and get input shape",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_test.py:2,Load,Load,2,deepvariant/call_variants_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_test.py,1,['Load'],['Load']
Performance,"# Load it back and determine the num_channels.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling_test.py:2,Load,Load,2,deepvariant/keras_modeling_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling_test.py,1,['Load'],['Load']
Performance,"# Load model",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/convert_to_saved_model.py:2,Load,Load,2,deepvariant/convert_to_saved_model.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/convert_to_saved_model.py,1,['Load'],['Load']
Performance,"# Note that we only expect the gq and gls to be close if we are not; # rescaling the counts, so we are only looping over values that should be; # cached. In practice the cache is set to values sufficiently large that; # these differences don't matter, but for this test we are limiting the; # cache size to a small value in _CACHE_COVERAGE so we can test that the; # cache lookups are correct.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_caller_test.py:146,cache,cached,146,deepvariant/variant_caller_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_caller_test.py,8,['cache'],"['cache', 'cached']"
Performance,"# Now that the new_layer_weights list has the value we want to load with,; # and has the right shape.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py:63,load,load,63,deepvariant/keras_modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py,1,['load'],['load']
Performance,"# Optimized following:; # https://www.tensorflow.org/guide/performance/datasets; # using the information available from xprof.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py:2,Optimiz,Optimized,2,deepvariant/data_providers.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py,2,"['Optimiz', 'perform']","['Optimized', 'performance']"
Performance,"# Perform 1x1 convolution similarly to the Inception architecture; # (see 'Predictions' end points in inception_v3 architecture)",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:2,Perform,Perform,2,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['Perform'],['Perform']
Performance,"# Perform sanity check.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_slim.py:2,Perform,Perform,2,deepvariant/call_variants_slim.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_slim.py,1,['Perform'],['Perform']
Performance,"# Put none values in the queue so the running processes can terminate.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants.py:25,queue,queue,25,deepvariant/call_variants.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants.py,1,['queue'],['queue']
Performance,"# Read a single TFExample to make sure we're not loading an older version.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_slim.py:49,load,loading,49,deepvariant/call_variants_slim.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_slim.py,1,['load'],['loading']
Performance,"# Reset tune metrics",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train.py:8,tune,tune,8,deepvariant/train.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train.py,2,['tune'],['tune']
Performance,"# See https://cloud.google.com/tpu/docs/tutorials/inception-v3-advanced; # for some background on tuning this on TPU.; # TPU optimized implementation for prediction mode",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py:125,optimiz,optimized,125,deepvariant/data_providers.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py,1,['optimiz'],['optimized']
Performance,"# TODO: Consider creating one data loading function to re-use simliar; # code with training in train_inceptionv3.py.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants.py:35,load,loading,35,deepvariant/call_variants.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants.py,1,['load'],['loading']
Performance,"# TODO: Load model and optimizer within this function.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py:8,Load,Load,8,deepvariant/keras_modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py,2,"['Load', 'optimiz']","['Load', 'optimizer']"
Performance,"# TODO: Try different optimizers; # and sweep over these hyperparams",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train_inceptionv3.py:22,optimiz,optimizers,22,deepvariant/train_inceptionv3.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train_inceptionv3.py,1,['optimiz'],['optimizers']
Performance,"# The following two classes support loading exponential moving averages into; # their corresponding variables when a checkpoint is loaded. They're called; # as hooks by the Estimators. Note for future work: this is the documented; # way, but someone on the mailing list suggested that using the scaffold_fn; # mechanism might be better.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:36,load,loading,36,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,2,['load'],"['loaded', 'loading']"
Performance,"# The latest checkpoint will be the best performing checkpoint.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train.py:41,perform,performing,41,deepvariant/train.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train.py,1,['perform'],['performing']
Performance,"# These are empirically determined to work well on TPU with our data sets,; # where lots of buffering and concurrency is necessary to keep the device; # busy.; # These are settable in the constructor.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py:106,concurren,concurrency,106,deepvariant/data_providers.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py,1,['concurren'],['concurrency']
Performance,"# This step is harder to do directly from `weights`, or even the Checkpoint; # file format. So, create a `input_model` with expected #chanenls, load; # the weights, and then post-process.; # Improve later if possible: find a more readable alternative for this.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py:144,load,load,144,deepvariant/keras_modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py,1,['load'],['load']
Performance,"# Use a default hts_block_size value of 128 MB (see internal for details) to; # improve SAM/BAM reading throughput, particularly on remote filesystems. Do not; # modify this default parameter without a systematic evaluation of the impact; # across a variety of distributed filesystems!",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_options.py:104,throughput,throughput,104,deepvariant/make_examples_options.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_options.py,1,['throughput'],['throughput']
Performance,"# Use the C++-defined default cache size.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/fasta.py:30,cache,cache,30,third_party/nucleus/io/fasta.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/fasta.py,1,['cache'],['cache']
Performance,"# `patient` below might need to be tuned.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train_inceptionv3.py:35,tune,tuned,35,deepvariant/train_inceptionv3.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train_inceptionv3.py,1,['tune'],['tuned']
Performance,"// A class for reading TFRecord files, designed for easy CLIF-wrapping; // for Python. Loosely based on tensorflow/python/lib/io/py_record_reader.h; // An instance of this class is NOT safe for concurrent access by multiple; // threads.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/tfrecord_reader.h:194,concurren,concurrent,194,third_party/nucleus/io/tfrecord_reader.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/tfrecord_reader.h,1,['concurren'],['concurrent']
Performance,"// A class for writing TFRecord files, designed for easy CLIF-wrapping; // for Python. Loosely based on tensorflow/python/lib/io/py_record_writer.h; // An instance of this class is NOT safe for concurrent access by multiple; // threads.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/tfrecord_writer.h:194,concurren,concurrent,194,third_party/nucleus/io/tfrecord_writer.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/tfrecord_writer.h,1,['concurren'],['concurrent']
Performance,"// An FASTA reader backed by in-memory ReferenceSequence protos.; //; // FASTA files store information about DNA/RNA/Amino Acid sequences:; //; // https://en.wikipedia.org/wiki/FASTA_format; //; //; // An InMemoryFastaReader provides the same API as GenomeReferenceFAI but; // doesn't fetch its data from an on-disk FASTA file but rather fetches the; // bases from an in-memory cache containing ReferenceSequence protos.; //; // In particular the GetBases(Range(chrom, start, end)) operation fetches bases; // from the tuple where chrom == chromosome, and then from the bases where the; // first base of bases starts at start. If start > 0, then the bases string is; // assumed to contain bases starting from that position in the region. For; // example, the record ('1', 10, 'ACGT') implies that; // GetBases(ranges.make_range('1', 11, 12)) will return the base 'C', as the 'A'; // base is at position 10. This makes it straightforward to cache a small region; // of a full chromosome without having to store the entire chromosome sequence; // in memory (potentially big!).",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference.h:378,cache,cache,378,third_party/nucleus/io/reference.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference.h,2,['cache'],['cache']
Performance,"// Cache of the last ""small"" read from the FASTA (<= kFastaCacheSize).",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference.h:3,Cache,Cache,3,third_party/nucleus/io/reference.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference.h,1,['Cache'],['Cache']
Performance,"// Construct a new StatusOr with the given non-ok status. After calling; // this constructor, calls to ValueOrDie() is invalid.; //; // NOTE: Not explicit - we want to use StatusOr<T> as a return; // value, so it is convenient and sensible to be able to do 'return; // Status()' when the return type is StatusOr<T>.; //; // REQUIRES: status != Status::OK.; // In optimized builds, passing Status::OK here will have the effect; // of passing PosixErrorSpace::EINVAL as a fallback.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/statusor.h:363,optimiz,optimized,363,third_party/nucleus/core/statusor.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/statusor.h,1,['optimiz'],['optimized']
Performance,"// Creates a new GenomeReference backed by the FASTA file fasta_path.; //; // Returns this newly allocated IndexedFastaReader object, passing ownership; // to the caller via a unique_ptr.; //; // htslib currently assumes that the FAI file is named fasta_path + '.fai',; // so that file must exist and be readable by htslib.; //; // We maintain a single entry cache of the bases from the last FASTA fetch, to; // reduce the number of file reads, which can be quite costly for remote; // filesystems. 64K is the default block size for htslib faidx fetches, so; // there is no penalty to rounding up all small access sizes to 64K. The; // cache can be disabled using `cache_size=0`.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference.h:359,cache,cache,359,third_party/nucleus/io/reference.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference.h,2,['cache'],['cache']
Performance,"// Creates a new SamReader reading from the SAM/BAM/CRAM file reads_path.; //; // reads_path must point to an existing SAM/BAM/CRAM formatted file (text SAM,; // compressed or uncompressed BAM file, CRAM files in all sorts of flavors).; //; // ref_path can be """", in which case the argument is ignored, or must point; // to an existing FASTA file. If not """" and the reads_path points to a CRAM; // file, the CRAM_OPT_REFERNECE field will be set to this path so that the; // CRAM decoder uses ref_path to decode the reference-compressed read; // sequences in the CRAM file. Because many low-level IO routines (e.g. stat); // are currently directly used in the CRAM implementation in htslib, ref_path; // must be on a local (e.g., POSIX accessible) mount point. File system access; // provided by htslib plugins (e.g., S3) won't work.; //; // If the filetype is BAM/CRAM, this constructor will attempt to load a BAI or; // CRAI index from file reads_path + '.bai' or reads_path (without the .bam; // extension) + '.bai'; if the index is not found, attempts to Query will; // fail.; //; // Returns a StatusOr that is OK if the SamReader could be successfully; // created or an error code indicating the error that occurred.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.h:903,load,load,903,third_party/nucleus/io/sam_reader.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.h,1,['load'],['load']
Performance,"// Creates a new VcfReader reading variants from the VCF file variantsPath.; //; // variantsPath must point to an existing VCF formatted file (text or; // bgzip compressed VCF file).; //; // If the filetype is indexable (BGZF'd vcf.gz) his constructor will attempt; // to load an Tabix index from file variantsPath + '.tbi', to support; // subsequent Query operations.; //; // Returns a StatusOr that is OK if the VcfReader could be successfully; // created or an error code indicating the error that occurred.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_reader.h:272,load,load,272,third_party/nucleus/io/vcf_reader.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_reader.h,1,['load'],['load']
Performance,"// Finds the best alignment by iterating all haplotype alignments.; // TODO Can be optimized if we store the best alignment with the read.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner.h:83,optimiz,optimized,83,deepvariant/realigner/fast_pass_aligner.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner.h,1,['optimiz'],['optimized']
Performance,"// For each successor of last_v, add path::successor to the; // appropriate queue.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/debruijn_graph.cc:76,queue,queue,76,deepvariant/realigner/debruijn_graph.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/debruijn_graph.cc,1,['queue'],['queue']
Performance,"// Get from cache!",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference.cc:12,cache,cache,12,third_party/nucleus/io/reference.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference.cc,1,['cache'],['cache']
Performance,"// Gets all of the reads that overlap any bases in range.; //; // This function allows one to iterate through all of the reads in this; // SAM/BAM/CRAM file in order that overlap a specific interval on the genome.; // The query operation is efficient in that the cost is O(n) for n elements; // that overlap range, and not O(N) for N elements in the entire file.; //; // The specific parsing, filtering, etc behavior is determined by the options; // provided during construction.; //; // If no index was loaded by the constructor a non-OK status value will be; // returned.; //; // If range isn't a valid interval in this BAM file a non-OK status value will; // be returned.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.h:504,load,loaded,504,third_party/nucleus/io/sam_reader.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.h,1,['load'],['loaded']
Performance,"// Gets all of the variants that overlap any bases in range.; //; // This function allows one to iterate through all of the variants in this; // VCF file in order that overlap a specific iterval on the genome. The query; // operation is efficient in that the cost is O(n) for n elements that overlap; // range, and not O(N) for N elements in the entire file.; //; // The specific parsing, filtering, etc behavior is determined by the options; // provided during construction.; //; // This function is only available if an index was loaded. If no index was; // loaded a non-OK status value will be returned.; //; // If range isn't a valid interval in this VCF file a non-OK status value will; // be returned.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_reader.h:532,load,loaded,532,third_party/nucleus/io/vcf_reader.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_reader.h,2,['load'],['loaded']
Performance,"// Load read protos from test data human readable file.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner_test.cc:3,Load,Load,3,deepvariant/realigner/fast_pass_aligner_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner_test.cc,1,['Load'],['Load']
Performance,"// Load the records.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/gff_reader_test.cc:3,Load,Load,3,third_party/nucleus/io/gff_reader_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/gff_reader_test.cc,1,['Load'],['Load']
Performance,"// Loads input files from a sharded path.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/merge_phased_reads.cc:3,Load,Loads,3,deepvariant/merge_phased_reads.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/merge_phased_reads.cc,1,['Load'],['Loads']
Performance,"// Loads input files.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/merge_phased_reads.h:3,Load,Loads,3,deepvariant/merge_phased_reads.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/merge_phased_reads.h,1,['Load'],['Loads']
Performance,"// NOLINT; // Construct a new StatusOr with the given value. If T is a plain pointer,; // value must not be NULL. After calling this constructor, calls to; // ValueOrDie() will succeed, and calls to status() will return OK.; //; // NOTE: Not explicit - we want to use StatusOr<T> as a return type; // so it is convenient and sensible to be able to do 'return T()'; // when the return type is StatusOr<T>.; //; // REQUIRES: if T is a plain pointer, value != NULL.; // In optimized builds, passing a NULL pointer here will have; // the effect of passing PosixErrorSpace::EINVAL as a fallback.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/statusor.h:470,optimiz,optimized,470,third_party/nucleus/core/statusor.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/statusor.h,1,['optimiz'],['optimized']
Performance,"// Normalize cigar of a given read following; // https://genome.sph.umich.edu/wiki/Variant_Normalization. As a result; // alignment position may need to be adjusted, in this case read_shift parameter; // is set to a non-zero value. As a result of shifting indel operations; // sometimes merging of adjecent indels may be performed.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.cc:321,perform,performed,321,deepvariant/allelecounter.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.cc,1,['perform'],['performed']
Performance,"// Our test are built to operate when start is 2 before the last base in the; // genome on kChr. Load the reference and set chr_start and chr_end; // appropriately.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter_test.cc:97,Load,Load,97,deepvariant/allelecounter_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter_test.cc,1,['Load'],['Load']
Performance,"// RAII wrapper on top of bcf1_t* to always perform cleanup.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_writer.cc:44,perform,perform,44,third_party/nucleus/io/vcf_writer.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_writer.cc,1,['perform'],['perform']
Performance,"// Returns True if this SamReader loaded an index file.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.h:34,load,loaded,34,third_party/nucleus/io/sam_reader.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.h,1,['load'],['loaded']
Performance,"// Returns True if this VcfReader loaded an index file.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_reader.h:34,load,loaded,34,third_party/nucleus/io/vcf_reader.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_reader.h,1,['load'],['loaded']
Performance,"// Size, in bases, of the read cache.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference.h:31,cache,cache,31,third_party/nucleus/io/reference.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference.h,1,['cache'],['cache']
Performance,"// TODO SumAlleleCounts is only used in one place in variant_calling.cc; // where ref alleles are filtered out. The code below is redundant.; // Verify that there are no other usages of ref alleles and remove this code.; //; // Creates a synthetic reference Allele if we saw any reference containing; // alleles, whose count is tracked (for performance reasons) as an integer; // in the AlleleCount.ref_supporting_read_count field of the proto. This; // synthetic allele allows us to provide the same API from this function: a; // vector of the Alleles observed in allele_count without having to track the; // read names for reference containing reads, which is very memory-intensive.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.cc:341,perform,performance,341,deepvariant/allelecounter.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.cc,2,['perform'],['performance']
Performance,"// Test with a large cache.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference_test.cc:21,cache,cache,21,third_party/nucleus/io/reference_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference_test.cc,1,['cache'],['cache']
Performance,"// Test with cache disabled.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference_test.cc:13,cache,cache,13,third_party/nucleus/io/reference_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference_test.cc,1,['cache'],['cache']
Performance,"// Tests are parameterized by: reader factory, cache size.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference_test.cc:47,cache,cache,47,third_party/nucleus/io/reference_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference_test.cc,1,['cache'],['cache']
Performance,"// The first iterator is good; the second should be null because; // we detected the attempt to get two concurrent iterators.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reader_base_test.cc:104,concurren,concurrent,104,third_party/nucleus/io/reader_base_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reader_base_test.cc,1,['concurren'],['concurrent']
Performance,"// The htslib index data structure for our indexed BAM file. May be NULL if no; // index was loaded.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.h:93,load,loaded,93,third_party/nucleus/io/sam_reader.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.h,1,['load'],['loaded']
Performance,"// The htslib tbx_t data structure for tabix indexed files. May be NULL if no; // index was loaded.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_reader.h:92,load,loaded,92,third_party/nucleus/io/vcf_reader.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_reader.h,1,['load'],['loaded']
Performance,"// The range that is held in the cache, or ""empty"" if there is no range cached; // yet. Range must be <= kFastaCacheSize in length.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference.h:33,cache,cache,33,third_party/nucleus/io/reference.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference.h,2,['cache'],"['cache', 'cached']"
Performance,"// This algorithm is simple and fast, but it isn't the most straightforward; // implementation so it merits a few comments.; //; // Suppose I have the following data:; //; // offset: 01234567; // bases: ACGTAACC; // bad? : 00010000; // k_ : 2 <= using a kmer size of 2; //; // The algorithm below loops over positions (variable `i`), pulling kmers of; // length k from positions `i` and `i + 1` to add as edges. The key; // calculation is NextBadPosition that searches from the current `i` position; // for the next position that is bad. In the above example, this would be the; // 3 position. We then loop from i until `next_bad_position - k`, to create; // our edges, since we know that everything from i to next_bad_position is; // good but we cannot construct a valid kmer that overlaps next_bad_position; // so it invalidates all kmer starts from `next_bad_position - k`. Finally, we; // set i to `next_bad_position + 1`, which is the very next starting position; // after the last bad position, and the algorithm repeats.; //; // This algorithm has many important properties for performance:; //; // * It doesn't allocate any data structures to support the calculation.; // * It only examines whether a given position is good/bad once.; // * The loop to add edges is streamlined, without any unnecessary checks.; //",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/debruijn_graph.cc:1085,perform,performance,1085,deepvariant/realigner/debruijn_graph.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/debruijn_graph.cc,1,['perform'],['performance']
Performance,"// Threshold is calculated from this flag using the following formula.; // score_threshold = match_score_ * read_size_ * <similarity_threshold_>; // - mismatch_penalty_ * read_size_ * (1 - <similarity_threshold_ >);; // This threshold is used for alignments performed with SSW.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner.h:258,perform,performed,258,deepvariant/realigner/fast_pass_aligner.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner.h,1,['perform'],['performed']
Performance,"// Try to load the Tabix index if requested.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_reader.cc:10,load,load,10,third_party/nucleus/io/vcf_reader.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_reader.cc,1,['load'],['load']
Performance,"// Update cache.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference.cc:10,cache,cache,10,third_party/nucleus/io/reference.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference.cc,1,['cache'],['cache']
Performance,"// Wraps |args| so the dtor of Iterable can perform necessary cleanup.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reader_base.h:44,perform,perform,44,third_party/nucleus/io/reader_base.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reader_base.h,1,['perform'],['perform']
Performance,"/// \brief Return a string representation of this status suitable for; /// printing. Returns the string `""OK""` for success.; ///; /// By default, it returns combination of the error code name, the message and; /// any associated payload messages. This string is designed simply to be; /// human readable and its exact format should not be load bearing. Do not; /// depend on the exact format of the result of `ToString()` which is subject; /// to change.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/status.h:339,load,load,339,third_party/nucleus/core/status.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/status.h,1,['load'],['load']
Performance,"cord` file is assumed and attempted to be; read or written. Otherwise, the filename is treated as a true SAM/BAM/CRAM file. For `TFRecord` files, ending in a '.gz' suffix causes the file to be treated as; compressed with gzip. Notes on using CRAM with SamReader; --------------------------------. Nucleus supports reading from CRAM files using the same API as for SAM/BAM:. ```python; from third_party.nucleus.io import sam. with sam.SamReader(""/path/to/sample.cram"") as reader:; for read in reader:; print(read); ```. There is one type of CRAM file, though, that has a slightly more complicated; API. If the CRAM file uses read sequence compression with an external reference; file, and this reference file is no longer accessible in the location specified; by the CRAM file's ""UR"" tag and cannot be found in the local genome cache, its; location must be passed to SamReader via the ref_path parameter:. ```python; from third_party.nucleus.io import sam. cram_path = ""/path/to/sample.cram""; ref_path = ""/path/to/genome.fasta""; with sam.SamReader(cram_path, ref_path=ref_path) as reader:; for read in reader:; print(read); ```. Unfortunately, htslib is unable to load the ref_path from anything other than a; POSIX filesystem. (htslib plugin filesystems like S3 or GCS buckets won't work).; For that reason, we don't recommend the use of CRAM files with external; reference files, but instead suggest using read sequence compression with; embedded reference data. (This has a minor impact on file size, but; significantly improves file access simplicity and safety.). For more information about CRAM, see:; * The `samtools` documentation at http://www.htslib.org/doc/samtools.html; * The ""Global Options"" section of the samtools docs at http://www.htslib.org/doc/samtools.html#GLOBAL_OPTIONS; * How reference sequences are encoded in CRAM at http://www.htslib.org/doc/samtools.html#REFERENCE_SEQUENCES; * Finally, benchmarking of different CRAM options http://www.htslib.org/benchmarks/CRAM.html; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam.py:2513,load,load,2513,third_party/nucleus/io/sam.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam.py,1,['load'],['load']
Performance,"eturn variants; # with those calls and the rescaled likelihoods. Otherwise, we log a warning; # and emit the original (incompatible) variants.; #; # For example, a biallelic deletion with probabilities of homref, het, homalt; # = 0.01, 0.9, 0.09 and inside it a biallelic SNP with probs 0.02, 0.48, 0.5.; # Naively this would be called as a heterozygous indel and a homozygous SNP,; # which is impossible as there are three total alternate genotypes. The; # algorithm does the following:; #; # Indel SNP Joint prob; # 0/0 0/0 0.01 * 0.02 = 0.0002; # 0/0 0/1 0.01 * 0.48 = 0.0048; # 0/0 1/1 0.01 * 0.50 = 0.0050; # 0/1 0/0 0.90 * 0.02 = 0.0180; # 0/1 0/1 0.90 * 0.48 = 0.4320*; # 0/1 1/1 <invalid> = 0; # 1/1 0/0 0.09 * 0.02 = 0.0018; # 1/1 0/1 <invalid> = 0; # 1/1 1/1 <invalid> = 0; #; # So using the highest joint likelihood, we predict het indel and het SNP.; #; # The marginal probability of each genotype for the indel is:; # 0/0: 0.0002 + 0.0048 + 0.0050 = 0.01; # 0/1: 0.0180 + 0.4320 = 0.45; # 1/1: 0.0018 = 0.0018; #; # which after normalizing to sum to 1 is roughly 0.022, 0.974, 0.004.; # The marginal probability for the SNP, after performing similar; # calculations, is 0.043, 0.946, 0.011. So the marginals also predict a het; # indel and a het SNP. Since the two calculations agree, we use this; # genotype call and modified likelihoods.; #; # First, we find all non-reference count configurations that are compatible.; # This represents each variant solely based on its number of non-reference; # genotypes, and assumes that variants are compatible if the total number of; # non-reference genotypes at a single position is at most two. By using; # non-reference counts, we avoid testing multiple allele configurations that; # will return the same result (e.g. a variant with two possible alternate; # alleles has three allele configurations that are homozygous alternate; # [1/1, 1/2, 2/2] and either all or none of them will be valid depending on; # the variants it interacts with).",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py:1807,perform,performing,1807,deepvariant/haplotypes.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py,1,['perform'],['performing']
Performance,"riter(output_path, header=header, ref_path=ref_path,; embed_ref=embed_ref) as writer:; for read in reads:; writer.write(read); ```. For both reading and writing, if the path provided to the constructor contains; '.tfrecord' as an extension, a `TFRecord` file is assumed and attempted to be; read or written. Otherwise, the filename is treated as a true SAM/BAM/CRAM file. For `TFRecord` files, ending in a '.gz' suffix causes the file to be treated as; compressed with gzip. Notes on using CRAM with SamReader; --------------------------------. Nucleus supports reading from CRAM files using the same API as for SAM/BAM:. ```python; from third_party.nucleus.io import sam. with sam.SamReader(""/path/to/sample.cram"") as reader:; for read in reader:; print(read); ```. There is one type of CRAM file, though, that has a slightly more complicated; API. If the CRAM file uses read sequence compression with an external reference; file, and this reference file is no longer accessible in the location specified; by the CRAM file's ""UR"" tag and cannot be found in the local genome cache, its; location must be passed to SamReader via the ref_path parameter:. ```python; from third_party.nucleus.io import sam. cram_path = ""/path/to/sample.cram""; ref_path = ""/path/to/genome.fasta""; with sam.SamReader(cram_path, ref_path=ref_path) as reader:; for read in reader:; print(read); ```. Unfortunately, htslib is unable to load the ref_path from anything other than a; POSIX filesystem. (htslib plugin filesystems like S3 or GCS buckets won't work).; For that reason, we don't recommend the use of CRAM files with external; reference files, but instead suggest using read sequence compression with; embedded reference data. (This has a minor impact on file size, but; significantly improves file access simplicity and safety.). For more information about CRAM, see:; * The `samtools` documentation at http://www.htslib.org/doc/samtools.html; * The ""Global Options"" section of the samtools docs at http://www.htsli",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam.py:2177,cache,cache,2177,third_party/nucleus/io/sam.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam.py,1,['cache'],['cache']
Performance,"rminology here.; //; // There are a bunch kinds of probabilities used commonly in genomics:; //; // -- pError: the probability of being wrong.; // -- pTrue: the probability of being correct.; //; // Normalized probabilities vs. unnormalized likelihoods:; //; // -- Normalized probabilities: p_1, ..., p_n such that sum(p_i) == 1 are said; // said to be normalized because they represent a valid probability; // distribution over the states 1 ... n.; // -- Unnormalized likelihoods: p_1, ..., p_n where sum(p_i) != 1. These are not; // normalized and so aren't a valid probabilities distribution.; //; // To add even more complexity, probabilities are often represented in three; // semi-equivalent spaces:; //; // -- Real-space: the classic space, with values ranging from [0.0, 1.0]; // inclusive.; // -- log10-space: If p is the real-space value, in log10-space this would be; // represented as log10(p). How the p == 0 case is handled is often function; // dependent, which may accept/return -Inf or not handle the case entirely.; // -- Phred-scaled: See https://en.wikipedia.org/wiki/Phred_quality_score for; // more information. But briefly, the Phred-scale maintains resolution in the; // lower parts of the probability space using integer quality scores (though; // using ints is optional, really). The phred-scale is defined as; //; // `phred(p) = -10 * log10(p)`; //; // where p is a real-space probability.; //; // The code in math.h dealing with probabilities is very explicit about what; // kind probability and representation is expects and returns, as unfortunately; // these are all represented commonly as doubles in C++. Though tempting to; // address this issue with classic software engineering practices like creating; // a Probability class, in practice this is extremely difficult to do as this; // code is often performance critical and the low-level mathematical operations; // used in this code (e.g., log10) don't distiguish themselves among the types; // of probabilities.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/math.h:3438,perform,performance,3438,third_party/nucleus/util/math.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/math.h,1,['perform'],['performance']
Performance,"rs may be used to endorse or promote products derived from this; * software without specific prior written permission.; *; * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; *; */; // Get basic information about a reference genome as well as make it cpu and; // memory efficient and scalable to get the reference bases for an interval on; // the genome.; //; // The GenomeReference provides the core functionality needed to use a reference; // genome for data processing and analyses tools:; //; // -- Get information about the contigs (aka chromosomes) present the FASTA,; // such as its name, description, and number of basepairs.; // -- Efficiently lookup the sequence of bases in an interval in the reference; // genome. For example, GetBases(""chr1"", 0, 10) gets the basepair sequence; // from the first base to the ninth base on chr1. This function call has; // cost roughly proportional to the size of the query interval, regardless; // of its position in the original FASTA file.; //; // The code here makes some strong assumptions about what a client could want.; // It doesn't record the position of bases in the original FASTA, and it doesn't; // track line breaks, comments, and other features of the FASTA. It uppercases; // the basepair sequences, so",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference.h:1648,scalab,scalable,1648,third_party/nucleus/io/reference.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference.h,1,['scalab'],['scalable']
Performance,"standard; // aligner (BWA) does in fact do consistent left alignment and (2) we anticipate; // feeding this AlleleCounter reads that have been assembled into a consistent; // alignment across all of the reads in a way that is impossible for a read-by-; // read aligner to do. So beware with the aligner you use, unless you've cleaned; // up the reads in some way (left aligning the cigars or just doing assembly).; //; // It is ok to send reads that only partially overlap the interval; the; // AlleleCounter will only add counts from the part that overlap the interval.; //; // This code assumes that the reference genome and the reads have only upper; // case bases. By construction our GenomeReference will not have lower case; // bases. Lower case bases are allowed in read sequences (see; // https://samtools.github.io/hts-specs/SAMv1.pdf),; // so it may be worth upper casing the read sequence at some point to make this; // code more robust.; //; // AlleleCounter performs some specialized logic to deal with non-canonical; // bases that might occur in the reference and/or the reads. By canonical we; // mean bases that are one of {A,C,G,T}. The basic constraint is that we will; // not add Allele's that contain non-canonical bases. So if we have a read that; // has (e.g.) an N, we will not produce Allele objects that contain the N. So; // if it doesn't match the reference at a site, it will be skipped as a; // SUBSTITUTION allele, and if it were part of an insertion, that entire; // insertion will be skipped. We do support AlleleCount objects that have a N; // base as its reference base, and those bases get alleles just as a normal base; // would. Downstream processing should look at the reference base of the; // AlleleCounts produced by this code for non-canonical reference bases and; // handle if special handling is needed. Finally, if a read's deletion CIGAR; // spans across part of the reference genome that has an N, the corresponding; // DELETION allele will be dropped.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.h:3311,perform,performs,3311,deepvariant/allelecounter.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.h,1,['perform'],['performs']
Performance,"ut_path: str. A path to a resource containing SAM/BAM/CRAM records.; Currently supports SAM text format, BAM binary format, and CRAM.; ref_path: optional str or None. Only used for CRAM decoding, and only; necessary if the UR encoded path in the CRAM itself needs to be; overridden. If provided, we will tell the CRAM decoder to use this FASTA; for the reference sequence.; read_requirements: optional ReadRequirement proto. If not None, this proto; is used to control which reads are filtered out by the reader before; they are passed to the client.; parse_aux_fields: optional bool, defaulting to False. If False, we do not; parse the auxiliary fields of the SAM/BAM/CRAM records (see SAM spec for; details). Parsing the aux fields is unnecessary for many applications,; and adds a significant parsing cost to access. If you need these aux; fields, set parse_aux_fields to True and these fields will be parsed and; populate the appropriate Read proto fields (e.g., read.info).; hts_block_size: int or None. If specified, this configures the block size; of the underlying htslib file object. Larger values (e.g. 1M) may be; beneficial for reading remote files. If None, the reader uses the; default htslib block size.; downsample_fraction: float in the interval [0.0, 1.0] or None. If; specified as a positive float, the reader will only keep each read with; probability downsample_fraction, randomly. If None or zero, all reads; are kept.; random_seed: None or int. The random seed to use with this sam reader, if; needed. If None, a fixed random value will be assigned.; use_original_base_quality_scores: optional bool, defaulting to False. If; True, quality scores are read from OQ tag.; aux_fields_to_keep: None or list[str]. If None, we keep all aux fields if; they are parsed. If set, we only keep the aux fields with the names in; this list. Raises:; ValueError: If downsample_fraction is not None and not in the interval; (0.0, 1.0].; ImportError: If someone tries to load a tfbam file.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam.py:2021,load,load,2021,third_party/nucleus/io/sam.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam.py,1,['load'],['load']
Safety," is not necessarily == 1.0 but very close. This function is a fast and robust approximation of the true normalization of; a log10 transformed probability vector. To understand the approximation,; let's start with the exact calculation. Suppose I have three models, each; emitting a probability that some data was generated by that model:. data = {0.1, 0.01, 0.001} => probabilities from models A, B, and C. These probabilities are unnormalized, in the sense that the total probability; over the vector doesn't sum to 1 (sum(data) = 0.111). In many applications we; want to normalize this vector so that sum(normalized(data)) = 1 and the; relative magnitudes of the original probabilities are preserved (i.e,:. data[i] / data[j] = normalized(data)[i] / normalized(data)[j]. for all pairs of values indexed by i and j. For much of the work we do in; genomics, we have so much data that representing these raw probability; vectors in real-space risks numeric underflow/overflow, so we instead; represent our probability vectors in log10 space:. log10_data = log10(data) = {-1, -2, -3}. Given that we expect numeric problems in real-space, normalizing this log10; vector is hard, because the standard way you'd do the normalization is via:. data[i] = data[i] / sum(data); log10_data[i] = log10_data[i] - log10(sum(10^data)). But computing the sum of log10 values this way is dangerous because the naive; implementation converts back to real-space to do the sum, the very operation; we're trying to avoid due to numeric instability. This function implements an approximate normalization, which relaxes the need; for an exact calculation of the sum. This function ensures that the; normalization is numerically safe at the expense of the sum not being exactly; equal to 1 but rather just close. Args:; log10_probs: array-like of floats. An array of log10 probabilties. Returns:; np.array with the same shape as log10_probs but where sum(10^result) ~= 1.0. Raises:; ValueError: if any log10_probs > 0.0; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/genomics_math.py:1797,avoid,avoid,1797,third_party/nucleus/util/genomics_math.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/genomics_math.py,2,"['avoid', 'safe']","['avoid', 'safe']"
Safety,"""""""A region to assemble, holding the region Range and the reads. It is not safe to directly modify any of the attributes here. Use the accessor; functions to add a read to the reads. Attributes:; candidate_haplotypes: realigner.CandidateHaplotypes for this region.; reads: list[reads_pb2.Read]. Reads for this region.; region: range_pb2.Range. This is the span of the assembled region on the; genome.; read_span: range_pb2.Range. This is the span of reads added to this region.; The read_span in general is expected to be wider than the region itself,; since we often include all reads that overlap the region at all. It is; possible that read_span will be smaller than region, which can happen, for; example, when we only have reads starts in the middle of the region.; Here's a picture of when this can happen: ref : acgtACGTACgtgt region; : ------ read1 : GGa; read_span: ---; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner.py:75,safe,safe,75,deepvariant/realigner/realigner.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner.py,1,['safe'],['safe']
Safety,"""""""An enumeration of the types of allele mismatches we detect.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils.py:55,detect,detect,55,third_party/nucleus/util/variant_utils.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils.py,1,['detect'],['detect']
Safety,"""""""Binarize labels and predictions. The labels that are equal to target_class parameter are set to 0, else; set to 1. Args:; labels: the ground-truth labels for the examples.; target_class: index of the class that is left as zero. Returns:; Tensor of the same shape as labels.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:23,predict,predictions,23,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['predict'],['predictions']
Safety,"""""""Calculate eval metrics from Tensors, on CPU host. Args:; labels: the ground-truth labels for the examples.; predictions: the predicted labels for the examples.; variant_types: variant types (int64 of EncodedVariantType.value) as a tensor; of (batch_size,) or None. The types of these variants. If None, no type; specific evals will be performed. Returns:; A dictionary of string name to metric.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:111,predict,predictions,111,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,2,['predict'],"['predicted', 'predictions']"
Safety,"""""""Calculates a two-tailed binomial test with p=0.5, without scipy. Since the expected probability is 0.5, it simplifies a few things:; 1) (0.5**x)*(0.5**(n-x)) = (0.5**n); 2) A two-tailed test is simply doubling when p = 0.5.; Scipy is much larger than Nucleus, so this avoids adding it as a dependency. Args:; k: Number of ""successes"", in this case, the number of supporting reads.; n: Number of ""trials"", in this case, the total number of reads. Returns:; The p-value for the binomial test.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vis.py:271,avoid,avoids,271,third_party/nucleus/util/vis.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vis.py,1,['avoid'],['avoids']
Safety,"""""""Chops out all of the intervals in other from this this RangeSet. NOTE: This is a *MUTATING* operation for performance reasons. Make a copy; of self if you want to avoid modifying the RangeSet. Args:; other: A RangeSet object whose intervals will be removed from this; RangeSet.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges.py:166,avoid,avoid,166,third_party/nucleus/util/ranges.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges.py,1,['avoid'],['avoid']
Safety,"""""""Class for ""reading"" Variant protos from an in-memory cache of variants. ```python; from third_party.nucleus.io import vcf; from third_party.nucleus.protos import variants_pb2. variants = [... Variant protos ...]; header = variants_pb2.VcfHeader(). with vcf.InMemoryVcfReader(variants, header) as reader:; for variant in reader:; print(variant); ```. This class accepts a collection of variants and optionally a header and; provides all of the standard API functions of VcfReader but instead of; fetching variants from a file the variants are queried from an in-memory cache; of variant protos. Note that the input variants provided to this class aren't checked in any way,; and their ordering determines the order of variants emitted by this class for; the iterate() and query() operations. This is intentional, to make this class; easy to use for testing where you often want to use less-than-perfectly formed; inputs. In order to fully meet the contract of a standard VcfReader, variants; should be sorted by their contig ordering and then by their start and finally; by their ends. Implementation note:; The current implementation will be very slow for query() if the provided; cache of variants is large, as we do a O(n) search to collect all of the; overlapping variants for each query. There are several straightforward; optimizations to do if we need/want to scale this up. (a) sort the variants; and use a binary search to find overlapping variants (b) partition the; variants by contig, so we have dict[contig] => [variants on contig], which; allows us to completely avoid considering any variants on any other contigs.; Neither of these optimizations are worth it if len(variants) is small, but; it may be worth considering if we want to use this functionality with a; large number of variants.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf.py:1579,avoid,avoid,1579,third_party/nucleus/io/vcf.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf.py,1,['avoid'],['avoid']
Safety,"""""""Compute F1 score of predictions with respect to the labels. Args:; labels: tensor whose dimensions must match predictions. The ground-truth; labels for the examples.; predictions: tensor of arbitrary dimension. The predicted labels for the; examples.; target_class: int. Index of the class that is left as non-zero. Returns:; f1_score: scalar float tensor whose dimensions match predictions. The; calculated f1 score.; update_op: operation that updates the f1 score streaming metric.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:23,predict,predictions,23,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,5,['predict'],"['predicted', 'predictions']"
Safety,"""""""Compute precision from labels and predicted_class for target_class. Examples with label target_class are positives. Other classes are negatives. Args:; labels: the ground-truth labels for the examples.; predicted_class: the predicted labels for the examples.; target_class: index of the class that is left as non-zero. Returns:; Tensor containing the precision value.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:227,predict,predicted,227,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['predict'],['predicted']
Safety,"""""""Compute recall from labels and predicted_class for target_class. Examples with label target_class are positives. Other classes are negatives. Args:; labels: the ground-truth labels for the examples.; predicted_class: the predicted labels for the examples.; target_class: index of the class that is left as non-zero. Returns:; Tensor containing the recall value.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:224,predict,predicted,224,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['predict'],['predicted']
Safety,"""""""Computes GQ and QUAL values from a set of prediction probabilities. Prediction probabilities are represented as a probability distribution over; the N genotype states (e.g., for 3 genotype states {HOM_REF, HET, HOM_VAR}).; Genotype Quality (or GQ) represents the PHRED scaled confidence in the; particular genotype assignment. Likewise the QUAL representes the PHRED scaled; confidence in variant as compared to reference, that is, P(NON_REF) / P(ALL); which in the diploid genotype case is P(HET) + P(HOM_VAR) / P(ALL). These; quality scores are capped by _MAX_CONFIDENCE. Args:; predictions: N element array-like. The real-space probabilities of each; genotype state for this variant.; prediction_index: int. The actual called genotype from the distribution. Returns:; GQ and QUAL values for output in a Variant record.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py:45,predict,prediction,45,deepvariant/postprocess_variants.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py,3,"['Predict', 'predict']","['Prediction', 'prediction', 'predictions']"
Safety,"""""""Computes the filter fields for this variant. Variant filters are generated based on its quality score value and particular; genotype call. Args:; variant: Variant to filter.; min_quality: Minimum acceptable phred scaled variant detection probability. Returns:; Filter field strings to be added to the variant.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py:231,detect,detection,231,deepvariant/postprocess_variants.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py,1,['detect'],['detection']
Safety,"""""""Computes the label value for an example using alt_alleles_indices. This function computes the TensorFlow label value (0, 1, 2) we train; DeepVariant to predict. The label value is an int >= which is the number of; copies of the alt allele present, which is computed from the true genotypes; (self.genotypes) and the alt_allele_indices ([0] for the first alt, [1] for; the second, [0, 1] to combine the first and second). For example, suppose we; have a variant with alts A and C, and a true genotype of (0, 1), indicating; that we have 1 copy of the A allele. We'd expect:. label_for_alt_alleles([0]) => 1 since there's 1 copy of the first alt.; label_for_alt_alleles([1]) => 0 since there's 0 copies of the second alt.; label_for_alt_alleles([0, 1]) => 1 since there's 1 copy of the first or; second allele. Args:; alt_alleles_indices: list[int]. A list of the alt_allele_indices used to; compute the tf.Example for this candidate. Returns:; int >= 0. The number of copies of alt_allele_indices we'd expect to be; called for this example.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/variant_labeler.py:155,predict,predict,155,deepvariant/labeler/variant_labeler.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/variant_labeler.py,1,['predict'],['predict']
Safety,"""""""Computes the label value for an example. This function computes the TensorFlow label value (0, 1, 2, .. N-1) we train; DeepVariant to predict.; The `alt_alleles_indices` being passed in is from the candidates (not; truth), so they could still have multiple alts. If any of the alt alleles; matches the truth, we'll return the label of the truth.; TODO: Fix multi-allelic cases. Add corresponding unit test cases.; Note that this function currently doesn't handle multi-allelic cases; correctly. For example it assumes `truth_alt` is the first one. Args:; alt_alleles_indices: list[int]. A list of the alt_allele_indices. Returns:; int >= 0. Label for the classes in `classes_dict`.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/customized_classes_labeler.py:137,predict,predict,137,deepvariant/labeler/customized_classes_labeler.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/customized_classes_labeler.py,1,['predict'],['predict']
Safety,"""""""Create a DeepVariantInput object, usable as an `input_fn`. Args:; mode: the mode string (from `tf.estimator.ModeKeys`).; input_file_spec: the input filename for a tfrecord[.gz] file containing; examples. Can contain sharding designators.; num_examples: the number of examples contained in the input file. Required; for setting learning rate schedule in train/eval only.; num_classes: The number of classes in the labels of this dataset.; Currently defaults to DEFAULT_NUM_CLASSES.; max_examples: The maximum number of examples to use. If None, all examples; will be used. If not None, the first n = min(max_examples, num_examples); will be used. This works with training, and the n examples will repeat; over and over.; tensor_shape: None (which means we get the shape from the first example in; source), or list of int [height, width, channel] for testing.; name: string, name of the dataset.; use_tpu: use code paths tuned for TPU, in particular protobuf encoding.; Default False.; input_read_threads: number of threads for reading data. Default 32.; shuffle_buffer_size: size of the final shuffle buffer, in elements.; Default 100.; initial_shuffle_buffer_size: int; the size of the dataset.shuffle buffer; in elements. Default is 1024.; prefetch_dataset_buffer_size: int; the size of the TFRecordDataset buffer; in bytes. Default is 16 * 1000 * 1000.; sloppy: boolean, allow parallel_interleave to be sloppy. Default True.; list_files_shuffle: boolean, allow list_files to shuffle. Default True.; debugging_true_label_mode: boolean. If true, the input examples are; created with ""training"" mode. We'll parse the 'label' field even if the; `mode` is PREDICT. Raises:; ValueError: if `num_examples` not provided, in a context requiring it.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py:1656,PREDICT,PREDICT,1656,deepvariant/data_providers.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py,1,['PREDICT'],['PREDICT']
Safety,"""""""Creates a RangeSet backed by ranges. Note that the Range objects in ranges are *not* stored directly here, so; they can safely be modified after they are passed to this RangeSet. Args:; ranges: list(nucleus.genomics.v1.Range) protos (or anything with; reference_name, start, and end properties following the Range; convention). If None, no ranges will be used, and overlaps() will always; return False.; contigs: list(nucleus.genomics.v1.ContigInfo) protos. Used to define the; iteration order over contigs (i.e., by contig.pos_in_fasta). If this; list is not provided, the iteration order will be determined by the; alphabetical order of the contig names.; quiet: bool; defaults to False: If False, we will emit a logging message; every _LOG_EVERY_N_RANGES_IN_RANGESET_INIT records processed while; building this intervaltree. Set to True to stop all of the logging. Raises:; ValueError: if any range's reference_name does not correspond to any; contig in `contigs`.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges.py:123,safe,safely,123,third_party/nucleus/util/ranges.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges.py,1,['safe'],['safely']
Safety,"""""""Creates a Variant record for testing. Args:; chrom: reference name for this variant; start: start position on the contig; end: end position on the contig; ref: reference base(s); alt: list(str). alternate base(s); qual: PHRED scaled detection probability; genotype: list of integers corresponding to the called genotype; likelihoods: genotype likelihoods for this variant; sample_name: sample name for the single call in the variant. Returns:; A Variant record created with the specified arguments. Raises:; ValueError: Both ref and end are specified, and are inconsistent.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes_test.py:236,detect,detection,236,deepvariant/haplotypes_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes_test.py,1,['detect'],['detection']
Safety,"""""""Creates a Variant record for testing. Args:; ref_name: reference name for this variant; start: start position on the contig; ref_base: reference base(s); alt_bases: list(str). alternate base(s); qual: PHRED scaled detection probability; filter_field: filter string for this variant; genotype: list of integers corresponding to the called genotype; gq: PHRED scaled genotype quality; likelihoods: genotype likelihoods for this variant; ad: list of integers corresponding to allelic depths. Returns:; A Variant record created with the specified arguments.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants_test.py:217,detect,detection,217,deepvariant/postprocess_variants_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants_test.py,1,['detect'],['detection']
Safety,"""""""Creates a constant model. Args:; predictions: list[float]. Values to return for Predictions, which should; be a floatting point value between 0 and 1 for each class, normalized so; the sum of the values is 1. Predictions should have dimension; [num_classes]. Raises:; ValueError: if sum(predictions) is not close to 1.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:36,predict,predictions,36,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,4,"['Predict', 'predict']","['Predictions', 'predictions']"
Safety,"""""""Creates a new inception_v3_embedding model. Args:; inputs: A tuple of two elements (images, sequencing_types). images is a; 4-D tensor of (batch_size, height, width, channels) of pileup images.; sequencing_types is a 1-D tensor of (batch_size) of example sequencing; types.; num_classes: integer. How many prediction classes are we expecting in; model?; is_training: boolean. Should we setup model for training (True) or for; inference (False). Returns:; A dictionary, containing string keys mapped to endpoint tensors of this; model.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:309,predict,prediction,309,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['predict'],['prediction']
Safety,"""""""Creates a new model. Args:; images: A 4-D tensor of (batch_size, height, width, channels) of pileup; images.; num_classes: integer. How many prediction classes are we expecting in; model?; is_training: boolean. Should we setup model for training (True) or for; inference (False). Returns:; A dictionary, containing string keys mapped to endpoint tensors of this; model. The dictionary must contain a key 'Predictions' that contains the; probability of having each of 'num_classes' classes.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:144,predict,prediction,144,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,2,"['Predict', 'predict']","['Predictions', 'prediction']"
Safety,"""""""Creates an DeepVariant CNN network based on a tf.slim model. Args:; name: see baseclass.; pretrained_model_path: see baseclass.; n_classes_model_variable: str. A fully-qualitified TF variable name in the; model that we can use to determine the shape of the output; classification layer of the model. For example, in inception-v3 from; slim this is 'InceptionV3/Logits/Conv2d_1c_1x1/weights'.; excluded_scopes_for_incompatible_classes: set of str. A set of scopes that; will be excluded when restoring from a checkpoint to avoid loading; incompatible #classes.; excluded_scopes_for_incompatible_channels: set of str. A set of scopes; that will be excluded when restoring from a checkpoint to avoid loading; incompatible #channels. Raises:; ValueError: If any of the arguments are invalid.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:525,avoid,avoid,525,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,2,['avoid'],['avoid']
Safety,"""""""Creates an input_fn from the dataset config file. Args:; dataset_config_filename: str. Path to the dataset config pbtxt file.; mode: one of tf.estimator.ModeKeys.{TRAIN,EVAL,PREDICT}; **kwargs: Additional keyword arguments for DeepVariantInput. Returns:; An input_fn from the specified split in the dataset_config file. Raises:; ValueError: if the dataset config doesn't have the necessary information.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py:177,PREDICT,PREDICT,177,deepvariant/data_providers.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py,1,['PREDICT'],['PREDICT']
Safety,"""""""Custom callbacks for `predict`.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants.py:25,predict,predict,25,deepvariant/call_variants.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants.py,1,['predict'],['predict']
Safety,"""""""Fast overlap detection of a genomic position against a database of Ranges. Enables O(log n) computation of whether a point chr:pos falls within one of a; large number of genomic ranges. This class does not supports overlapping or adjacent intervals. Any such; intervals will be automatically merged together in the constructor. This class is immutable. No methods should be added that directly modify the; ranges held by the class.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges.py:16,detect,detection,16,third_party/nucleus/util/ranges.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges.py,1,['detect'],['detection']
Safety,"""""""Fills in Variant record using the prediction probabilities. This functions sets the call[0].genotype, call[0].info['GQ'],; call[0].genotype_probabilities, variant.filter, and variant.quality fields of; variant based on the genotype likelihoods in predictions. Args:; variant: third_party.nucleus.protos.Variant protobuf to be filled in with; info derived from predictions.; predictions: N element array-like. The real-space probabilities of each; genotype state for this variant.; qual_filter: float. If predictions implies that this isn't a reference call; and the QUAL of the prediction isn't larger than qual_filter variant will; be marked as FILTERed.; sample_name: str. The name of the sample to assign to the Variant proto; call_set_name field. Returns:; A Variant record. Raises:; ValueError: If variant doesn't have exactly one variant.call record.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py:37,predict,prediction,37,deepvariant/postprocess_variants.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py,6,['predict'],"['prediction', 'predictions']"
Safety,"""""""Get a truth variant matching variant. A matching variant is defined here as one that starts at the same position; on the genome as variant. The best match is then narrowed down by finding; the variant with a matching alt allele, if it exists, otherwise the first; matching variant is used regardless of alt alleles. This allows the client; to make decisions on how to translate a matched between variant and; truth_variant into a label (e.g. by comparing the alleles). If multiple variants are detected, this code will attempt to find the best; match by comparing to `variant`. Note that some simplification of alleles; are applied first before we compare. For example, 'GAAA->GAA' should be the; same as 'GA->G'. If no good matches are detected, the logic currently falls; back to the first element in matches. Args:; variant: Our candidate third_party.nucleus.protos.Variant variant. Returns:; A tuple of (match_status, truth_variant) where match_status is True if; we are confident in our truth_variant call or False if not. truth_variant; is a third_party.nucleus.protos.Variant object of; the truth variant that matched; variant, or None if none was found and we aren't confident in being; hom-ref here, or a synthetic variant with the same position and alleles as; variant but with a hom-ref genotype.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/positional_labeler.py:497,detect,detected,497,deepvariant/labeler/positional_labeler.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/positional_labeler.py,2,['detect'],['detected']
Safety,"""""""Gets the most likely genotype from predictions. From https://samtools.github.io/hts-specs/VCFv4.3.pdf:. Genotype Ordering. In general case of ploidy P and N alternate alleles (0 is; the REF and 1..N the alternate alleles), the ordering of genotypes for the; likelihoods can be expressed by the following pseudocode with as many nested; loops as ploidy:. * Note that we use inclusive for loop boundaries.; for a_P = 0 . . . N; for a_P-1 = 0 . . . aP; . . .; for a_1 = 0 . . . a2; println a1 a2 . . . aP. Alternatively, the same can be achieved recursively with the following; pseudocode:. Ordering (P , N , suffix =""""):; for a in 0 . . . N; if (P == 1) println str (a) + suffix; if (P > 1) Ordering (P -1 , a, str (a) + suffix). Examples:; * for P=2 and N=1, the ordering is 00,01,11; * for P=2 and N=2, the ordering is 00,01,11,02,12,22; * for P=3 and N=2, the ordering is 000,001,011,111,002,012,112,022,122,222; * for P=1, the index of the genotype a is a; * for P=2, the index of the genotype ""a/b"", where a <= b, is b(b + 1)/2 + a; * for P=2 and arbitrary N, the ordering can be easily derived from a; triangular matrix:; b / a 0 1 2 3; 0 0; 1 1 2; 2 3 4 5; 3 6 7 8 9. Args:; predictions: N element array-like. The real-space probabilities of each; genotype state for this variant. The number of elements in predictions is; related to ploidy and n_alleles is given by N = choose(ploidy + n_alleles; - 1, n_alleles -1) for more information see:; http://genome.sph.umich.edu/wiki/Relationship_between_Ploidy,_Alleles_and_Genotypes; ploidy: int >= 1. The ploidy (e.g., number of chromosomes) of this sample.; n_alleles: int >= 2. The number of alleles (ref + n_alts). Returns:; Two values. The first is the index of the most likely prediction in; predictions. The second is a list of P elements with the VCF-style genotype; indices corresponding to this index. For example, with P = 2 and an index of; 1, this returns the value (1, [0, 1]). Raises:; NotImplementedError: if ploidy != 2 as this not",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py:38,predict,predictions,38,deepvariant/postprocess_variants.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py,1,['predict'],['predictions']
Safety,"""""""High-level API for creating images of pileups of reads and reference bases. This class provides a higher-level and more natural API for constructing; images at a candidate variant call site. Given a DeepVariantCall, which; contains the candidate variant call along with key supplementary information,; this class provides create_pileup_images() that will do all of the necessary; fetching of reads and reference bases from readers and pass those off to the; lower-level PileupImageEncoder to construct the image Tensor. for dv_call in candidates:; allele_and_images = pic.create_pileup_images(dv_call); ... A quick note on how we deal with multiple alt alleles:. Suppose variant has ref and two alt alleles. Assuming the sample is diploid,; we have the following six possible genotypes:. ref/ref => 0/0; ref/alt1 => 0/1; alt1/alt1 => 1/1; ref/alt2 => 0/2; alt1/alt2 => 1/2; alt2/alt2 => 2/2. In DeepVariant we predict the genotype count (0, 1, 2) for a specific set of; alternate alleles. If we only had a single alt, we'd construct an image for; ref vs. alt1:. image1 => ref vs. alt1 => determine if we are 0/0, 0/1, 1/1. If we add a second image for alt2, we get:. image2 => ref vs. alt2 => determine if we are 0/0, 0/2, 2/2. but the problem here is that we don't have a good estimate for the het-alt; state 1/2. So we construct a third image contrasting ref vs. either alt1 or; alt2:. image3 => ref vs. alt1 or alt2 => determines 0/0, 0/{1,2}, {1,2}/{1,2}. Given the predictions for each image:. image1 => p00, p01, p11; image2 => p00, p02, p22; image3 => p00, p0x, pxx where x is {1,2}. we calculate our six genotype likelihoods as:. 0/0 => p00 [from any image]; 0/1 => p01 [image1]; 1/1 => p11 [image1]; 0/2 => p02 [image2]; 2/2 => p22 [image2]; 1/2 => pxx [image3]. The function create_pileup_images() returns all of the necessary images, along; with the alt alleles used for each image.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_image.py:913,predict,predict,913,deepvariant/pileup_image.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_image.py,2,['predict'],"['predict', 'predictions']"
Safety,"""""""Implementation of `input_fn` contract for prediction mode. Args:; params: a dict containing an integer value for key 'batch_size'. Returns:; the tuple (features, labels), where:; - features is a dict of Tensor-valued input features; keys populated; are:; 'image'; 'variant'; 'alt_allele_indices'. Aside from 'image', these may be encoded specially for TPU.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py:45,predict,prediction,45,deepvariant/data_providers.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py,1,['predict'],['prediction']
Safety,"""""""Interface to get a data batch, fulfilling `input_fn` contract. Args:; params: a dict containing an integer value for key 'batch_size'. Returns:; the tuple (features, labels), where:; - features is a dict of Tensor-valued input features; keys populated; are:; 'image'; 'variant'; 'alt_allele_indices'; and, if not PREDICT mode, also:; 'locus'. Aside from 'image', these may be encoded specially for TPU. - label is the Tensor-valued prediction label; in train/eval; mode the label value is is populated from the data source; in; inference mode, the value is a constant empty Tensor value ""()"".; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py:316,PREDICT,PREDICT,316,deepvariant/data_providers.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py,2,"['PREDICT', 'predict']","['PREDICT', 'prediction']"
Safety,"""""""Make EstimatorSpec for the current model. Args:; features: a single Tensor or dict of same (from input_fn).; endpoints: a dictionary, containing string keys mapped to endpoint; tensors of this model. The dictionary must contain a key 'Predictions'; that contains the probability of having each of 'num_classes' classes.; labels: a single Tensor or dict of same (from input_fn).; logits: a single Tensor with logits; predictions: A dictionaty that must contain the following keys: 'Logits'; and 'Predictions'.; total_loss: a single Tensor with a loss; mode: tf.estimator.ModeKeys.; params: dict. Returns:; EstimatorSpec or TPUEstimatorSpec depending on self.use_tpu.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:238,Predict,Predictions,238,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,3,"['Predict', 'predict']","['Predictions', 'predictions']"
Safety,"""""""Merges the predictions from the multi-allelic calls.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py:14,predict,predictions,14,deepvariant/postprocess_variants.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py,1,['predict'],['predictions']
Safety,"""""""Normalize predictions and handle soft-filtered alt alleles.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py:13,predict,predictions,13,deepvariant/postprocess_variants.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py,1,['predict'],['predictions']
Safety,"""""""Parse a DeepVariant pileup tf.Example to features and labels. This potentially stores parsed strings as fixed length tensors of integers,; as required by TPU. They have to be handled properly by consumers. Args:; tf_example: a serialized tf.Example for a DeepVariant ""pileup"". Returns:; If (mode is EVAL or TRAIN) or debugging_true_label_mode:; (features, label) ...; If mode is PREDICT,; features ...; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py:382,PREDICT,PREDICT,382,deepvariant/data_providers.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py,1,['PREDICT'],['PREDICT']
Safety,"""""""Post processing of called variants. Args:; output_file: Path to output file where outputs will be written.; output_queue: Multiprocessing queue to fetch predictions from.; include_debug_info: If true, include debug information.; debugging_true_label_mode: If true, include true label from the example.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants.py:156,predict,predictions,156,deepvariant/call_variants.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants.py,1,['predict'],['predictions']
Safety,"""""""Return True if CSI index is to be used over tabix index format. If the length of any reference chromosomes exceeds 512M; (here we use 5e8 to keep a safety margin), we will choose csi; as the index format. Otherwise we use tbi as default. Args:; contigs: list of contigs. Returns:; A boolean variable indicating if the csi format is to be used or not.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py:151,safe,safety,151,deepvariant/postprocess_variants.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py,1,['safe'],['safety']
Safety,"""""""Returns True if the call_variants_outputs follows our assumptions. Args:; call_variants_outputs: list of CallVariantsOutput to check. Returns:; True if the sanity check passes.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py:159,sanity check,sanity check,159,deepvariant/postprocess_variants.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py,1,['sanity check'],['sanity check']
Safety,"""""""Returns a list of tf.train.SessionRunHook classes. A typical use case is to provide a hook to load the EMA variables. These will be instantiated and invoked by; predict_hooks = [; h(checkpoint_path) for h in model.session_predict_hooks(); ]; estimator.predict(hooks=...). Note that this is done according to the instructions in; cloud_tpu/models/inception/inception_v3.py. A newer idea is in; tpuestimator-scaffold, but we haven't tried that approach.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:255,predict,predict,255,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['predict'],['predict']
Safety,"""""""Returns a new tf.estimator.Estimator object for training or prediction. The estimator needs to know batch_size. We use the same value for all; of eval, train, and predict. The estimator will automatically save; checkpoints to model_dir and keep the specified number of them. The value; of iterations_per_loop is not critical, and we default to the recommended; value. Some optional arguments are only required for use with TPU. This function will use self.model_fn and self.use_tpu when constructing the; model specific Estimator object. Estimators are also sometimes called classifiers. Args:; batch_size: the batch size to use (for TRAIN, EVAL, and PREDICT modes).; model_dir: an (optional) string directory to use as the model directory.; max_checkpoints_to_keep: an (optional) integer count of saved checkpoints.; iterations_per_loop: an (optional) integer count of log_step_count_steps.; params: an (optional) dictionary of parameters to pass to the Estimator; constructor.; unused_device_fn: a device_fn to pass to RunConfig, if not use_tpu.; master: a string necessary for TPU, pass FLAGS.master through.; use_tpu: boolean. set self.use_tpu if not None.; start_from_checkpoint: string. If not None, initialize model from this; path. According to the current implementation of Estimator, this will; only be used in training. The inference checkpoint is loaded in a; different place.; session_config: a tf.ConfigProto to pass to RunConfig, if not use_tpu.; include_debug_info: from call_variants. If True, PREDICT mode will include; extra info such as logits and prelogits. Returns:; an object implementing the tf.estimator.Estimator interface (will be a; TPUEstimator if self.use_tpu is True).; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:63,predict,prediction,63,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,4,"['PREDICT', 'predict']","['PREDICT', 'predict', 'prediction']"
Safety,"""""""Splits candidate and truth variants into smaller groups if necessary. This function takes in a list of candidate and truth variants and splits up; those lists into groups that respect the requirements of the max_group_size; and max_separation arguments. This is necessary because the labeling algorithm; is very expensive as a function of the number of input variants, so to avoid; excessive runtime we break up our potentially large list of candidate and; truth variants into smaller groups (max number controlled by max_group_size); based on a maximum distance allowed between the closest variants within the; group. The current algorithm is a simple greedy one; we effectively merge the two; variant lists together, make groups greedily on that list until either the; maximum number of elements of a specific type (i.e., max_group_size of 2; implies we can have up to two candidate variants or truth variants within a; group) or we encounter a variant further away from the closest variant within; the current group than allowed by max_separation. Args:; candidates: list[nucleus.proto.Variant]. A sorted list of candidate variants; on the same chromosome.; truths: list[nucleus.proto.Variant]. A sorted list of truth variants on the; same chromosome.; max_group_size: int >= 0. The maximum number of variants of a specific type; allowed within a group.; max_separation: int >= 0. The maximum distance, in basepairs, allowed; between the closest variants within a group.; max_gt_options_product: int >= 0. The maximum number of combinations of; genotypes (product of all genotypes in the group).; force_group_within_bp: int >= 0. Variants within this many bps will be; forced to be put in the same group. This is to ensure that we do not; decouple candidates and truths in variant-dense regions. This value can be; set to -1 for unit-test purposes. Setting -1 will not force any grouping; of variants. Returns:; A list of grouped variants in 2-tuples, such as:. [(candidates1, truth_variants1), ",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler.py:378,avoid,avoid,378,deepvariant/labeler/haplotype_labeler.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler.py,1,['avoid'],['avoid']
Safety,"""""""This is the PREDICT part of model_fn.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:15,PREDICT,PREDICT,15,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['PREDICT'],['PREDICT']
Safety,"""""""Utilities for Range overlap detection.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges.py:31,detect,detection,31,third_party/nucleus/util/ranges.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges.py,1,['detect'],['detection']
Safety,"""""""Utility functions for working with sharded files. A sharded file is a single conceptual file that is broken into a collection; of files to make parallelization easier. A sharded file spec is like a; filename for a sharded file; the file spec ""/some/path/prefix@200.txt""; says that the sharded file consists of 200 actual files that have names like; ""/some/path/prefix-00000-of-00200.txt"", ""/some/path/prefix-00001-of-00200.txt"",; etc. This module contains functions for parsing, generating, detecting and; resolving sharded file specs.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sharded_file_utils.py:494,detect,detecting,494,third_party/nucleus/io/sharded_file_utils.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sharded_file_utils.py,1,['detect'],['detecting']
Safety,"""""""Write the variant call based on prediction. Args:; writer: A object with a write() function that will be called for each; encoded_variant and genotype likelihoods.; prediction: A [3] tensor of floats. These are the predicted genotype; likelihoods (p00, p0x, pxx) for some alt allele x, in the same order as; encoded_variants.; include_debug_info: If true, include debug information.; debugging_true_label_mode: If true, include true label from the example. Returns:; The return status from writer.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants.py:35,predict,prediction,35,deepvariant/call_variants.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants.py,3,['predict'],"['predicted', 'prediction']"
Safety,"""""""Write the variant call based on prediction. Args:; writer: A object with a write() function that will be called for each; encoded_variant and genotype likelihoods.; prediction: A [3] tensor of floats. These are the predicted genotype; likelihoods (p00, p0x, pxx) for some alt allele x, in the same order as; encoded_variants.; use_tpu: bool. Decode the tpu specific encoding of prediction. Returns:; The return status from writer.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_slim.py:35,predict,prediction,35,deepvariant/call_variants_slim.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_slim.py,4,['predict'],"['predicted', 'prediction']"
Safety,"""""""Yields variants with compatible genotype calls in order. This function differs from `_resolve_overlapping_variants` below in that the; input here is a block of all candidate calls that overlap in a region, which; may contain candidates that are deemed to be most likely reference calls.; We often tune DeepVariant to be highly sensitive. Consequently, there can be; many candidate calls that are predicted as reference. Since those do not; contribute to potential incompatibilities, we split them out from variants; predicted to contain non-reference genotypes since the computation of; compatible haplotypes is exponential in the number of inputs. Args:; overlapping_candidates: list(Variant). A non-empty list of Variant protos in; coordinate-sorted order that overlap on the reference genome. Yields:; Variant protos in coordinate-sorted order that try to resolve incompatible; haplotypes.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py:399,predict,predicted,399,deepvariant/haplotypes.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py,2,['predict'],['predicted']
Safety,"""""""Yields variants with compatible haplotypes, if possible. Args:; overlapping_variants: list(Variant). A non-empty list of Variant protos in; coordinate-sorted order that overlap on the reference genome and are; predicted to contain alternate allele genotypes. Yields:; Variant protos in coordinate-sorted order that try to resolve incompatible; haplotypes.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py:213,predict,predicted,213,deepvariant/haplotypes.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py,1,['predict'],['predicted']
Safety,"""""""tf.data.Dataset loading function. Args:; path: the input filename for a tfrecord[.gz] file containing examples. Can; contain sharding designators.; config: A configuration file.; mode: One of ['train', 'tune', 'predict']; strategy: A tf.distribute.Strategy.; n_epochs: Number of epochs.; limit: Limit the number of batches for testing purposes. Returns:; tf.data.Dataset; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py:214,predict,predict,214,deepvariant/data_providers.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py,1,['predict'],['predict']
Safety,"# Actual example where the cycle detector failed because the cycle only; # occurs with the last kmer in the reference.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/python/debruijn_graph_wrap_test.py:33,detect,detector,33,deepvariant/realigner/python/debruijn_graph_wrap_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/python/debruijn_graph_wrap_test.py,1,['detect'],['detector']
Safety,"# Add the metrics stratified by predicted class.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:32,predict,predicted,32,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['predict'],['predicted']
Safety,"# All tests after this point should only look at genotype-based fields, as; # we may have aborted out in the prev. line due to require_non_ref_genotype.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils.py:90,abort,aborted,90,third_party/nucleus/util/variant_utils.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils.py,1,['abort'],['aborted']
Safety,"# Avoid floats becoming 0.6000000000000001 to save space in output json",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/vcf_stats.py:2,Avoid,Avoid,2,deepvariant/vcf_stats.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/vcf_stats.py,1,['Avoid'],['Avoid']
Safety,"# Avoiding '/' to support use in file paths.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vis.py:2,Avoid,Avoiding,2,third_party/nucleus/util/vis.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vis.py,1,['Avoid'],['Avoiding']
Safety,"# Check for missing GT in VCF to avoid a confusing error downstream.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/vcf_stats_report.py:33,avoid,avoid,33,deepvariant/vcf_stats_report.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/vcf_stats_report.py,1,['avoid'],['avoid']
Safety,"# Check that variants_are_sorted() is correct, which we detect if; # the range_tuples of permutation == the range_tuples of sorted_variants.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils_test.py:56,detect,detect,56,third_party/nucleus/util/variant_utils_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils_test.py,1,['detect'],['detect']
Safety,"# Check that we detect an empty sample name and use default instead.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core_test.py:16,detect,detect,16,deepvariant/make_examples_core_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core_test.py,1,['detect'],['detect']
Safety,"# Commented out because we in fact don't detect the malformed VCF yet. It is; # unclear if it's even possible to detect the issue with the API provided by; # htslib.; # def test_vcf_iterate_raises_on_malformed_record(self):; # malformed = test_utils.genomics_core_testdata('malformed.vcf'); # reader = vcf_reader.VcfReader.from_file(malformed, self.unindexed_options); # iterable = iter(reader.iterate()); # self.assertIsNotNone(next(iterable)); # with self.assertRaises(ValueError):; # print(list(iterable))",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/vcf_reader_wrap_test.py:41,detect,detect,41,third_party/nucleus/io/python/vcf_reader_wrap_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/vcf_reader_wrap_test.py,2,['detect'],['detect']
Safety,"# Consume predictions one at a time and write them to output_file.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_slim.py:10,predict,predictions,10,deepvariant/call_variants_slim.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_slim.py,1,['predict'],['predictions']
Safety,"# Create a model and save it to a checkpoint. Then test whether we can; # detect its number of channels correctly.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling_test.py:74,detect,detect,74,deepvariant/keras_modeling_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling_test.py,2,['detect'],['detect']
Safety,"# Divide to get the fraction of reads showing a diff at each base (column).; # Adding 1 here avoids dividing by zero (exact fraction here is not vital).",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vis.py:93,avoid,avoids,93,third_party/nucleus/util/vis.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vis.py,1,['avoid'],['avoids']
Safety,"# Figure out how many classes this inception model was trained to predict.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_utils.py:66,predict,predict,66,deepvariant/dv_utils.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_utils.py,1,['predict'],['predict']
Safety,"# First sanity check input specs list.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dashboard_utils.py:8,sanity check,sanity check,8,deepvariant/dashboard_utils.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dashboard_utils.py,1,['sanity check'],['sanity check']
Safety,"# For predict model, label is not present. So, returns features only.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py:6,predict,predict,6,deepvariant/data_providers.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py,1,['predict'],['predict']
Safety,"# Grab our truth variants and group up variants + truth into small enough; # chunks that we can safely send them into our find_best_matching_haplotypes; # function.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler.py:96,safe,safely,96,deepvariant/labeler/haplotype_labeler.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler.py,1,['safe'],['safely']
Safety,"# If no weights file is specified, initialize with `imagenet`.; # The `init_backbone_with_imagenet` flag should be set to False for unit; # tests to avoid loading the `imagenet` model from online.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py:149,avoid,avoid,149,deepvariant/keras_modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py,1,['avoid'],['avoid']
Safety,"# If the actual genotype calls are compatible, we can safely return those; # since they would be the most likely configuration also when restricting to; # only valid configurations of genotype calls.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py:54,safe,safely,54,deepvariant/haplotypes.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py,1,['safe'],['safely']
Safety,"# If we are generating gVCF output we cannot safely abort early here as; # we need to return the gVCF records calculated by the caller below.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py:45,safe,safely,45,deepvariant/make_examples_core.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py,2,"['abort', 'safe']","['abort', 'safely']"
Safety,"# If we didn't detect the error, make sure we actually still parsed the; # read itself.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_test.py:15,detect,detect,15,third_party/nucleus/io/sam_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_test.py,1,['detect'],['detect']
Safety,"# Instantiate the prediction ""stream"", and select the EMA values from; # the model.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_slim.py:18,predict,prediction,18,deepvariant/call_variants_slim.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_slim.py,1,['predict'],['prediction']
Safety,"# Note the simplify_variant_alleles call *must* happen after the predictions; # calculation above. flattened_probs_dict is indexed by alt allele, and; # simplify can change those alleles so we cannot simplify until afterwards.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py:65,predict,predictions,65,deepvariant/postprocess_variants.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py,1,['predict'],['predictions']
Safety,"# Note, below, one of train_op or eval_metrics will be None, and the other; # will be populated, depending on mode.; # There are a lot of arguments here; that's to avoid referencing flags in; # leaf functions.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:164,avoid,avoid,164,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['avoid'],['avoid']
Safety,"# Otherwise, the actual genotype calls are incompatible. Since the genotype; # likelihoods are generally well-calibrated, we examine all configurations of; # genotypes that create compatible haplotypes and retain the single; # configuration with the highest joint likelihood across all variants as the; # proposed genotype assignment. Separately, we rescale the likelihood of each; # individual variant using only the valid genotype configurations. If the; # results are concordant (i.e., the genotype predicted by the marginal; # likelihood for each variant is the same as the genotype predicted when; # maximizing the joint likelihood across all variants), we return variants; # with those calls and the rescaled likelihoods. Otherwise, we log a warning; # and emit the original (incompatible) variants.; #; # For example, a biallelic deletion with probabilities of homref, het, homalt; # = 0.01, 0.9, 0.09 and inside it a biallelic SNP with probs 0.02, 0.48, 0.5.; # Naively this would be called as a heterozygous indel and a homozygous SNP,; # which is impossible as there are three total alternate genotypes. The; # algorithm does the following:; #; # Indel SNP Joint prob; # 0/0 0/0 0.01 * 0.02 = 0.0002; # 0/0 0/1 0.01 * 0.48 = 0.0048; # 0/0 1/1 0.01 * 0.50 = 0.0050; # 0/1 0/0 0.90 * 0.02 = 0.0180; # 0/1 0/1 0.90 * 0.48 = 0.4320*; # 0/1 1/1 <invalid> = 0; # 1/1 0/0 0.09 * 0.02 = 0.0018; # 1/1 0/1 <invalid> = 0; # 1/1 1/1 <invalid> = 0; #; # So using the highest joint likelihood, we predict het indel and het SNP.; #; # The marginal probability of each genotype for the indel is:; # 0/0: 0.0002 + 0.0048 + 0.0050 = 0.01; # 0/1: 0.0180 + 0.4320 = 0.45; # 1/1: 0.0018 = 0.0018; #; # which after normalizing to sum to 1 is roughly 0.022, 0.974, 0.004.; # The marginal probability for the SNP, after performing similar; # calculations, is 0.043, 0.946, 0.011. So the marginals also predict a het; # indel and a het SNP. Since the two calculations agree, we use this; # genotype call and modifie",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py:502,predict,predicted,502,deepvariant/haplotypes.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py,2,['predict'],['predicted']
Safety,"# Our ""steps_per_epoch"" in model.fit is:; # steps_per_epoch // FLAGS.train_config.num_mini_epochs_per_epoch.; # I divided that by 10 just to be safe. In case that gets too small,; # I set a max with 128 here.; # Note that this might only make sense for TPUs. In the future we'll want to; # check whether this works for GPU or not.; # We should also keep an eye on this feature which might allow autotune in; # the future: https://github.com/keras-team/keras/issues/16573.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train_inceptionv3.py:144,safe,safe,144,deepvariant/train_inceptionv3.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train_inceptionv3.py,1,['safe'],['safe']
Safety,"# Perform 1x1 convolution similarly to the Inception architecture; # (see 'Predictions' end points in inception_v3 architecture)",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:75,Predict,Predictions,75,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['Predict'],['Predictions']
Safety,"# Perform sanity check.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_slim.py:10,sanity check,sanity check,10,deepvariant/call_variants_slim.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_slim.py,1,['sanity check'],['sanity check']
Safety,"# Providing variant directly avoids the call to example_variant().",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_utils_using_clif_test.py:29,avoid,avoids,29,deepvariant/dv_utils_using_clif_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_utils_using_clif_test.py,1,['avoid'],['avoids']
Safety,"# QUAL is prob(variant genotype) / prob(all genotypes); # Taking the min to avoid minor numerical issues than can push sum > 1.0.; # TODO: this is equivalent to the likely better implementation:; # genomics_math.perror_to_phred(max(predictions[0], min_ref_confidence)); # where min_ref_confidence is roughly 1.25e-10 (producing a qual of 99).",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py:76,avoid,avoid,76,deepvariant/postprocess_variants.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py,2,"['avoid', 'predict']","['avoid', 'predictions']"
Safety,"# Remove all whitespace before comparison to avoid failing over trivial; # indentation / newline differences.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/python/debruijn_graph_wrap_test.py:45,avoid,avoid,45,deepvariant/realigner/python/debruijn_graph_wrap_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/python/debruijn_graph_wrap_test.py,1,['avoid'],['avoid']
Safety,"# Sample the bottom 99% to avoid outliers that obscure general trends.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/runtime_by_region_vis.py:27,avoid,avoid,27,deepvariant/runtime_by_region_vis.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/runtime_by_region_vis.py,1,['avoid'],['avoid']
Safety,"# Sanity check that all call_variants_outputs have the same `variant`.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py:2,Sanity check,Sanity check,2,deepvariant/postprocess_variants.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py,1,['Sanity check'],['Sanity check']
Safety,"# Sanity check that non-overlapping aren't merged.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges_test.py:2,Sanity check,Sanity check,2,third_party/nucleus/util/ranges_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges_test.py,1,['Sanity check'],['Sanity check']
Safety,"# Sanity check that the reference_bases in the variant match the reference.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py:2,Sanity check,Sanity check,2,deepvariant/make_examples_core.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py,1,['Sanity check'],['Sanity check']
Safety,"# Sanity check the sample_names (specific to trio).",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples.py:2,Sanity check,Sanity check,2,deeptrio/make_examples.py,,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples.py,1,['Sanity check'],['Sanity check']
Safety,"# See https://cloud.google.com/tpu/docs/tutorials/inception-v3-advanced; # for some background on tuning this on TPU.; # TPU optimized implementation for prediction mode",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py:154,predict,prediction,154,deepvariant/data_providers.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py,1,['predict'],['prediction']
Safety,"# Should be approximately read; # length to avoid having high; # coverage intervals in multiple shards at a time",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deeptrio.py:44,avoid,avoid,44,scripts/run_deeptrio.py,,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deeptrio.py,1,['avoid'],['avoid']
Safety,"# Show TiTv ratio with fallback to avoid division by 0",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/vcf_stats_vis.py:35,avoid,avoid,35,deepvariant/vcf_stats_vis.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/vcf_stats_vis.py,1,['avoid'],['avoid']
Safety,"# Spans into the start of the bases; make sure it detects it's bad.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/fasta_test.py:50,detect,detects,50,third_party/nucleus/io/fasta_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/fasta_test.py,1,['detect'],['detects']
Safety,"# Special case F1/All to avoid a clash between the two different ways that we; # can compute Precision and Recall (e.g., get_class_precision vs.; # tf.compat.v1.metrics.precision.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:25,avoid,avoid,25,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['avoid'],['avoid']
Safety,"# TODO. Sort out auto-detection of TPU. Just calling; # sess.list_devices here doesn't return the correct answer. That can only; # work later, after the device (on the other VM) has been initialized,; # which is generally not yet.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_slim.py:22,detect,detection,22,deepvariant/call_variants_slim.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_slim.py,1,['detect'],['detection']
Safety,"# TODO: would be nice to add test that predictions has the right; # number of elements. But that would involve calculating the binomial; # coefficient of n_alleles and ploidy, which would be expensive. Probably; # need to memoize the whole function if we are going to add this.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py:39,predict,predictions,39,deepvariant/postprocess_variants.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py,1,['predict'],['predictions']
Safety,"# Test reading with a larger batch size. Similar to testInputStream,; # but note that the last batch may be truncated when not in predict mode,; # so current_batch_size has to be recovered from the actual output.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers_test.py:130,predict,predict,130,deepvariant/data_providers_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers_test.py,2,"['predict', 'recover']","['predict', 'recovered']"
Safety,"# The actual genotype calls produce an inconsistent haplotype. If the number; # of affected variants is ""too large"", avoid processing since this is an; # exponential process.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py:117,avoid,avoid,117,deepvariant/haplotypes.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py,1,['avoid'],['avoid']
Safety,"# This chart needs to use the same dataframe as the first chart to enable the; # brushing on one to affect the other. Using max(task) for 'text' is a; # trick that causes bundling by task to avoid showing multiple overlapping; # points which otherwise make the text look funky.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/runtime_by_region_vis.py:191,avoid,avoid,191,deepvariant/runtime_by_region_vis.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/runtime_by_region_vis.py,1,['avoid'],['avoid']
Safety,"# This is an input_fn reading test_utils.N_GOLDEN_CALLING_EXAMPLES records.; # Use PREDICT mode so we get finite input.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers_test.py:83,PREDICT,PREDICT,83,deepvariant/data_providers_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers_test.py,1,['PREDICT'],['PREDICT']
Safety,"# This probability is still calculated correctly, included for safety.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/genomics_math_test.py:63,safe,safety,63,third_party/nucleus/util/genomics_math_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/genomics_math_test.py,1,['safe'],['safety']
Safety,"# Use predict mode so we can have num_examples == None.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers_test.py:6,predict,predict,6,deepvariant/data_providers_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers_test.py,1,['predict'],['predict']
Safety,"# We want to actually make all of the real function calls under test, but; # we of course don't know their values and can only do sanity checks.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/resources_test.py:130,sanity check,sanity checks,130,deepvariant/resources_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/resources_test.py,1,['sanity check'],['sanity checks']
Safety,"# When using VcfCandidateImporter, it is safe to skip regions without; # candidates as long as gVCF output is not needed. There is a tradeoff; # though because it takes time to read the VCF, which is only worth it if; # there are enough regions.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py:41,safe,safe,41,deepvariant/make_examples_core.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py,1,['safe'],['safe']
Safety,"# Yields all of the overlapping intervals from each interval of tree1; # found in tree2. Since each tree has only non-adjacent, non-overlapping,; # intervals this calculation is straightforward and safe and produces only; # non-adjacent, non-overlapping intervals.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges.py:198,safe,safe,198,third_party/nucleus/util/ranges.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges.py,1,['safe'],['safe']
Safety,"# predict batch size must be divisible by number of replicas.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_slim_test.py:2,predict,predict,2,deepvariant/call_variants_slim_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_slim_test.py,1,['predict'],['predict']
Safety,"# results are concordant (i.e., the genotype predicted by the marginal; # likelihood for each variant is the same as the genotype predicted when; # maximizing the joint likelihood across all variants), we return variants; # with those calls and the rescaled likelihoods. Otherwise, we log a warning; # and emit the original (incompatible) variants.; #; # For example, a biallelic deletion with probabilities of homref, het, homalt; # = 0.01, 0.9, 0.09 and inside it a biallelic SNP with probs 0.02, 0.48, 0.5.; # Naively this would be called as a heterozygous indel and a homozygous SNP,; # which is impossible as there are three total alternate genotypes. The; # algorithm does the following:; #; # Indel SNP Joint prob; # 0/0 0/0 0.01 * 0.02 = 0.0002; # 0/0 0/1 0.01 * 0.48 = 0.0048; # 0/0 1/1 0.01 * 0.50 = 0.0050; # 0/1 0/0 0.90 * 0.02 = 0.0180; # 0/1 0/1 0.90 * 0.48 = 0.4320*; # 0/1 1/1 <invalid> = 0; # 1/1 0/0 0.09 * 0.02 = 0.0018; # 1/1 0/1 <invalid> = 0; # 1/1 1/1 <invalid> = 0; #; # So using the highest joint likelihood, we predict het indel and het SNP.; #; # The marginal probability of each genotype for the indel is:; # 0/0: 0.0002 + 0.0048 + 0.0050 = 0.01; # 0/1: 0.0180 + 0.4320 = 0.45; # 1/1: 0.0018 = 0.0018; #; # which after normalizing to sum to 1 is roughly 0.022, 0.974, 0.004.; # The marginal probability for the SNP, after performing similar; # calculations, is 0.043, 0.946, 0.011. So the marginals also predict a het; # indel and a het SNP. Since the two calculations agree, we use this; # genotype call and modified likelihoods.; #; # First, we find all non-reference count configurations that are compatible.; # This represents each variant solely based on its number of non-reference; # genotypes, and assumes that variants are compatible if the total number of; # non-reference genotypes at a single position is at most two. By using; # non-reference counts, we avoid testing multiple allele configurations that; # will return the same result (e.g. a variant with two ",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py:1494,predict,predict,1494,deepvariant/haplotypes.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py,1,['predict'],['predict']
Safety,"// ""ABORT"" from ConvertToPb means requirements were not met.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.cc:4,ABORT,ABORT,4,third_party/nucleus/io/sam_reader.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.cc,1,['ABORT'],['ABORT']
Safety,"// A class for reading TFRecord files, designed for easy CLIF-wrapping; // for Python. Loosely based on tensorflow/python/lib/io/py_record_reader.h; // An instance of this class is NOT safe for concurrent access by multiple; // threads.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/tfrecord_reader.h:185,safe,safe,185,third_party/nucleus/io/tfrecord_reader.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/tfrecord_reader.h,1,['safe'],['safe']
Safety,"// A class for writing TFRecord files, designed for easy CLIF-wrapping; // for Python. Loosely based on tensorflow/python/lib/io/py_record_writer.h; // An instance of this class is NOT safe for concurrent access by multiple; // threads.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/tfrecord_writer.h:185,safe,safe,185,third_party/nucleus/io/tfrecord_writer.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/tfrecord_writer.h,1,['safe'],['safe']
Safety,"// Consider avoiding the intermediate copy.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_writer.cc:12,avoid,avoiding,12,third_party/nucleus/io/sam_writer.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_writer.cc,1,['avoid'],['avoiding']
Safety,"// Creates a reader for the given file paths.; // `compression_type` can be either """" (for no compression), ""GZIP"", or ""AUTO""; // (for auto detection by filename suffix). `contig_index_map` should be a; // mapping between reference names and their index within the sorted contigs.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/variant_reader.h:140,detect,detection,140,third_party/nucleus/io/variant_reader.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/variant_reader.h,1,['detect'],['detection']
Safety,"// Creates a reader for the given file.; // `compression_type` can be either """" (for no compression), ""GZIP"", or ""AUTO""; // (for auto detection by filename suffix).; // `contig_index_map` should be a mapping between Variant reference names and; // their index within the sorted contigs.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/variant_reader.h:134,detect,detection,134,third_party/nucleus/io/variant_reader.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/variant_reader.h,1,['detect'],['detection']
Safety,"// Expected read length. It is needed for sanity checking. Actual reads may; // be different sizes. Although, actual read sizes should be close to; // read_size.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner.h:42,sanity check,sanity checking,42,deepvariant/realigner/fast_pass_aligner.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner.h,1,['sanity check'],['sanity checking']
Safety,"// Function returns read phases for each read in the input reads preserving; // the order. Python wrapper will be used to add phases to read protos in; // order to avoid copying gigabytes of memory.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing.h:164,avoid,avoid,164,deepvariant/direct_phasing.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing.h,1,['avoid'],['avoid']
Safety,"// Move assignment operator to avoid unnecessary copy.; // T must be assignable from U",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/statusor.h:31,avoid,avoid,31,third_party/nucleus/core/statusor.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/statusor.h,1,['avoid'],['avoid']
Safety,"// NOLINT: safe here.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.cc:11,safe,safe,11,third_party/nucleus/testing/test_utils.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.cc,2,['safe'],['safe']
Safety,"// NOLINT; // Move conversion operator to avoid unnecessary copy.; // T must be assignable from U.; // Not marked with explicit so the implicit conversion can happen.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/statusor.h:42,avoid,avoid,42,third_party/nucleus/core/statusor.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/statusor.h,1,['avoid'],['avoid']
Safety,"// Naively, there should never be multiple counts for the same read key.; // We detect such a situation here but only write out a warning. It would; // be better to have a stronger response (FATAL), but unfortunately we see; // data in the wild that we need to process that has duplicates.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.cc:80,detect,detect,80,deepvariant/allelecounter.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.cc,1,['detect'],['detect']
Safety,"// Not thread safe.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.cc:14,safe,safe,14,deepvariant/allelecounter.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.cc,2,['safe'],['safe']
Safety,"// Note that this SIGNED int type declaration is key to avoid; // bases.size() - k_ underflowing.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/debruijn_graph.cc:56,avoid,avoid,56,deepvariant/realigner/debruijn_graph.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/debruijn_graph.cc,1,['avoid'],['avoid']
Safety,"// Private constructor. Use FromFile to safely create a BedGraphReader from a; // file.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/bedgraph_reader.h:40,safe,safely,40,third_party/nucleus/io/bedgraph_reader.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/bedgraph_reader.h,1,['safe'],['safely']
Safety,"// Private constructor. Use ToFile to safely create a BedGraphWriter.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/bedgraph_writer.h:38,safe,safely,38,third_party/nucleus/io/bedgraph_writer.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/bedgraph_writer.h,1,['safe'],['safely']
Safety,"// Private constructor; use FromFile to safely create a BedReader from a; // file.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/bed_reader.h:40,safe,safely,40,third_party/nucleus/io/bed_reader.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/bed_reader.h,1,['safe'],['safely']
Safety,"// Private constructor; use FromFile to safely create a FastqReader from a; // file.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/fastq_reader.h:40,safe,safely,40,third_party/nucleus/io/fastq_reader.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/fastq_reader.h,1,['safe'],['safely']
Safety,"// Private constructor; use FromFile to safely create a SamReader from a; // file.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.h:40,safe,safely,40,third_party/nucleus/io/sam_reader.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.h,1,['safe'],['safely']
Safety,"// Private constructor; use ToFile to safely create a BedWriter.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/bed_writer.h:38,safe,safely,38,third_party/nucleus/io/bed_writer.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/bed_writer.h,1,['safe'],['safely']
Safety,"// Private constructor; use ToFile to safely create a FastqWriter.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/fastq_writer.h:38,safe,safely,38,third_party/nucleus/io/fastq_writer.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/fastq_writer.h,1,['safe'],['safely']
Safety,"// Private constructor; use ToFile to safely create a GffWriter.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/gff_writer.h:38,safe,safely,38,third_party/nucleus/io/gff_writer.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/gff_writer.h,1,['safe'],['safely']
Safety,"// Private constructor; use ToFile to safely create a SamWriter.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_writer.h:38,safe,safely,38,third_party/nucleus/io/sam_writer.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_writer.h,1,['safe'],['safely']
Safety,"// Python wrapper around NormalizeAndAdd. It allows to avoid serialization of; // protos when calling from Python.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.h:55,avoid,avoid,55,deepvariant/allelecounter.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.h,1,['avoid'],['avoid']
Safety,"// PythonNext is the same as Next, except the Record is wrapped; // with an EmptyProtoPtr<> template to avoid CLIF copies when being; // called from Python.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reader_base.h:104,avoid,avoid,104,third_party/nucleus/io/reader_base.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reader_base.h,1,['avoid'],['avoid']
Safety,"// Returns with tensorflow::error::Code::ABORTED if the read doesn't; // satisfy read requirements. When that happens, the function aborts early and; // doesn't fill the other fields such as aligned_sequence, which can be; // expensive in long reads.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.cc:41,ABORT,ABORTED,41,third_party/nucleus/io/sam_reader.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.cc,2,"['ABORT', 'abort']","['ABORTED', 'aborts']"
Safety,"// Rvalue-reference overloads of the other constructors and assignment; // operators, to support move-only types and avoid unnecessary copying.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/statusor.h:117,avoid,avoid,117,third_party/nucleus/core/statusor.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/statusor.h,1,['avoid'],['avoid']
Safety,"// Safe since we know s is at least 4 bytes from the end.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.cc:3,Safe,Safe,3,third_party/nucleus/io/sam_reader.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.cc,1,['Safe'],['Safe']
Safety,"// Sanity check. By design haplotype is built from reads. Therefore it should; // be impossible that read does not overlap with haplotype.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner.cc:3,Sanity check,Sanity check,3,deepvariant/realigner/fast_pass_aligner.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner.cc,1,['Sanity check'],['Sanity check']
Safety,"// Set basic options to avoid premature test failures.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_multisample_somatic_test.cc:24,avoid,avoid,24,deepvariant/variant_calling_multisample_somatic_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_multisample_somatic_test.cc,1,['avoid'],['avoid']
Safety,"// Set the mates map position if the mate is not unmapped.; // Note: According to https://samtools.github.io/hts-specs/SAMv1.pdf, RNEXT; // field is set as '*' when the information is unavailable. htslib will; // populate c->mtid with -1 if '*' is detected. Treat the mate as unmapped; // even though the c->flag says otherwise.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.cc:248,detect,detected,248,third_party/nucleus/io/sam_reader.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.cc,1,['detect'],['detected']
Safety,"// Some windows can have an extremely branchy graph. Ideally windows would; // be chosen to avoid this. We give up if we encounter too many paths.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/debruijn_graph.cc:92,avoid,avoid,92,deepvariant/realigner/debruijn_graph.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/debruijn_graph.cc,1,['avoid'],['avoid']
Safety,"// Starting before 0 is detected.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference_test.cc:24,detect,detected,24,third_party/nucleus/io/reference_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference_test.cc,1,['detect'],['detected']
Safety,"// TODO SumAlleleCounts is only used in one place in variant_calling.cc; // where ref alleles are filtered out. The code below is redundant.; // Verify that there are no other usages of ref alleles and remove this code.; //; // Creates a synthetic reference Allele if we saw any reference containing; // alleles, whose count is tracked (for performance reasons) as an integer; // in the AlleleCount.ref_supporting_read_count field of the proto. This; // synthetic allele allows us to provide the same API from this function: a; // vector of the Alleles observed in allele_count without having to track the; // read names for reference containing reads, which is very memory-intensive.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.cc:130,redund,redundant,130,deepvariant/allelecounter.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.cc,2,['redund'],['redundant']
Safety,"// The first iterator is good; the second should be null because; // we detected the attempt to get two concurrent iterators.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reader_base_test.cc:72,detect,detected,72,third_party/nucleus/io/reader_base_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reader_base_test.cc,1,['detect'],['detected']
Safety,"// This test is not intended to test SSW library. It is a sanity check that; // library can be called and results are as excepted.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner_test.cc:58,sanity check,sanity check,58,deepvariant/realigner/fast_pass_aligner_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner_test.cc,1,['sanity check'],['sanity check']
Safety,"// Using the fields that have been filled so far to check a subset of the; // requirement in ReadSatisfiesRequirements function in utils.cc.; // This helps us to abort earlier as needed.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.cc:162,abort,abort,162,third_party/nucleus/io/sam_reader.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.cc,1,['abort'],['abort']
Safety,"// We are not adding a default clause here, to explicitly make clang; // detect the missing codes. This conversion method must stay in sync with; // CanonicalBases enum values.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/utils.cc:73,detect,detect,73,third_party/nucleus/util/utils.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/utils.cc,1,['detect'],['detect']
Safety,"// We couldn't get the ref bases for the deletion (which can happen if; // the deletion spans off the end of the contig), so abort now without; // considering this read any longer. It's rare but such things happen in; // genomes but they do occur in practice, such as when: (1) the reads; // spans off the chromosome, but because there's more sequence there; // (the chromosome isn't complete), which means the read can have; // whatever CIGAR it likes, which may include a deletion; (2) the; // chromosome is actually circular, and the aligner is clever enough to; // know that, and the read's cigar reflect true differences of the read; // to the alignment at the start of the contig. Nasty, I know.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.cc:125,abort,abort,125,deepvariant/allelecounter.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.cc,1,['abort'],['abort']
Safety,"cord` file is assumed and attempted to be; read or written. Otherwise, the filename is treated as a true SAM/BAM/CRAM file. For `TFRecord` files, ending in a '.gz' suffix causes the file to be treated as; compressed with gzip. Notes on using CRAM with SamReader; --------------------------------. Nucleus supports reading from CRAM files using the same API as for SAM/BAM:. ```python; from third_party.nucleus.io import sam. with sam.SamReader(""/path/to/sample.cram"") as reader:; for read in reader:; print(read); ```. There is one type of CRAM file, though, that has a slightly more complicated; API. If the CRAM file uses read sequence compression with an external reference; file, and this reference file is no longer accessible in the location specified; by the CRAM file's ""UR"" tag and cannot be found in the local genome cache, its; location must be passed to SamReader via the ref_path parameter:. ```python; from third_party.nucleus.io import sam. cram_path = ""/path/to/sample.cram""; ref_path = ""/path/to/genome.fasta""; with sam.SamReader(cram_path, ref_path=ref_path) as reader:; for read in reader:; print(read); ```. Unfortunately, htslib is unable to load the ref_path from anything other than a; POSIX filesystem. (htslib plugin filesystems like S3 or GCS buckets won't work).; For that reason, we don't recommend the use of CRAM files with external; reference files, but instead suggest using read sequence compression with; embedded reference data. (This has a minor impact on file size, but; significantly improves file access simplicity and safety.). For more information about CRAM, see:; * The `samtools` documentation at http://www.htslib.org/doc/samtools.html; * The ""Global Options"" section of the samtools docs at http://www.htslib.org/doc/samtools.html#GLOBAL_OPTIONS; * How reference sequences are encoded in CRAM at http://www.htslib.org/doc/samtools.html#REFERENCE_SEQUENCES; * Finally, benchmarking of different CRAM options http://www.htslib.org/benchmarks/CRAM.html; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam.py:2908,safe,safety,2908,third_party/nucleus/io/sam.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam.py,1,['safe'],['safety']
Safety,"eturn variants; # with those calls and the rescaled likelihoods. Otherwise, we log a warning; # and emit the original (incompatible) variants.; #; # For example, a biallelic deletion with probabilities of homref, het, homalt; # = 0.01, 0.9, 0.09 and inside it a biallelic SNP with probs 0.02, 0.48, 0.5.; # Naively this would be called as a heterozygous indel and a homozygous SNP,; # which is impossible as there are three total alternate genotypes. The; # algorithm does the following:; #; # Indel SNP Joint prob; # 0/0 0/0 0.01 * 0.02 = 0.0002; # 0/0 0/1 0.01 * 0.48 = 0.0048; # 0/0 1/1 0.01 * 0.50 = 0.0050; # 0/1 0/0 0.90 * 0.02 = 0.0180; # 0/1 0/1 0.90 * 0.48 = 0.4320*; # 0/1 1/1 <invalid> = 0; # 1/1 0/0 0.09 * 0.02 = 0.0018; # 1/1 0/1 <invalid> = 0; # 1/1 1/1 <invalid> = 0; #; # So using the highest joint likelihood, we predict het indel and het SNP.; #; # The marginal probability of each genotype for the indel is:; # 0/0: 0.0002 + 0.0048 + 0.0050 = 0.01; # 0/1: 0.0180 + 0.4320 = 0.45; # 1/1: 0.0018 = 0.0018; #; # which after normalizing to sum to 1 is roughly 0.022, 0.974, 0.004.; # The marginal probability for the SNP, after performing similar; # calculations, is 0.043, 0.946, 0.011. So the marginals also predict a het; # indel and a het SNP. Since the two calculations agree, we use this; # genotype call and modified likelihoods.; #; # First, we find all non-reference count configurations that are compatible.; # This represents each variant solely based on its number of non-reference; # genotypes, and assumes that variants are compatible if the total number of; # non-reference genotypes at a single position is at most two. By using; # non-reference counts, we avoid testing multiple allele configurations that; # will return the same result (e.g. a variant with two possible alternate; # alleles has three allele configurations that are homozygous alternate; # [1/1, 1/2, 2/2] and either all or none of them will be valid depending on; # the variants it interacts with).",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py:1889,predict,predict,1889,deepvariant/haplotypes.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py,2,"['avoid', 'predict']","['avoid', 'predict']"
Safety,"of ploidy P and N alternate alleles (0 is; the REF and 1..N the alternate alleles), the ordering of genotypes for the; likelihoods can be expressed by the following pseudocode with as many nested; loops as ploidy:. * Note that we use inclusive for loop boundaries.; for a_P = 0 . . . N; for a_P-1 = 0 . . . aP; . . .; for a_1 = 0 . . . a2; println a1 a2 . . . aP. Alternatively, the same can be achieved recursively with the following; pseudocode:. Ordering (P , N , suffix =""""):; for a in 0 . . . N; if (P == 1) println str (a) + suffix; if (P > 1) Ordering (P -1 , a, str (a) + suffix). Examples:; * for P=2 and N=1, the ordering is 00,01,11; * for P=2 and N=2, the ordering is 00,01,11,02,12,22; * for P=3 and N=2, the ordering is 000,001,011,111,002,012,112,022,122,222; * for P=1, the index of the genotype a is a; * for P=2, the index of the genotype ""a/b"", where a <= b, is b(b + 1)/2 + a; * for P=2 and arbitrary N, the ordering can be easily derived from a; triangular matrix:; b / a 0 1 2 3; 0 0; 1 1 2; 2 3 4 5; 3 6 7 8 9. Args:; predictions: N element array-like. The real-space probabilities of each; genotype state for this variant. The number of elements in predictions is; related to ploidy and n_alleles is given by N = choose(ploidy + n_alleles; - 1, n_alleles -1) for more information see:; http://genome.sph.umich.edu/wiki/Relationship_between_Ploidy,_Alleles_and_Genotypes; ploidy: int >= 1. The ploidy (e.g., number of chromosomes) of this sample.; n_alleles: int >= 2. The number of alleles (ref + n_alts). Returns:; Two values. The first is the index of the most likely prediction in; predictions. The second is a list of P elements with the VCF-style genotype; indices corresponding to this index. For example, with P = 2 and an index of; 1, this returns the value (1, [0, 1]). Raises:; NotImplementedError: if ploidy != 2 as this not yet implemented.; ValueError: If n_alleles < 2.; ValueError: If we cannot determine the genotype given prediction, n_alts,; and ploidy.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py:1183,predict,predictions,1183,deepvariant/postprocess_variants.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py,5,['predict'],"['prediction', 'predictions']"
Safety,"ulting array is sum(10^result) ~= 1.0. The ~=; indicates that the result is not necessarily == 1.0 but very close. This function is a fast and robust approximation of the true normalization of; a log10 transformed probability vector. To understand the approximation,; let's start with the exact calculation. Suppose I have three models, each; emitting a probability that some data was generated by that model:. data = {0.1, 0.01, 0.001} => probabilities from models A, B, and C. These probabilities are unnormalized, in the sense that the total probability; over the vector doesn't sum to 1 (sum(data) = 0.111). In many applications we; want to normalize this vector so that sum(normalized(data)) = 1 and the; relative magnitudes of the original probabilities are preserved (i.e,:. data[i] / data[j] = normalized(data)[i] / normalized(data)[j]. for all pairs of values indexed by i and j. For much of the work we do in; genomics, we have so much data that representing these raw probability; vectors in real-space risks numeric underflow/overflow, so we instead; represent our probability vectors in log10 space:. log10_data = log10(data) = {-1, -2, -3}. Given that we expect numeric problems in real-space, normalizing this log10; vector is hard, because the standard way you'd do the normalization is via:. data[i] = data[i] / sum(data); log10_data[i] = log10_data[i] - log10(sum(10^data)). But computing the sum of log10 values this way is dangerous because the naive; implementation converts back to real-space to do the sum, the very operation; we're trying to avoid due to numeric instability. This function implements an approximate normalization, which relaxes the need; for an exact calculation of the sum. This function ensures that the; normalization is numerically safe at the expense of the sum not being exactly; equal to 1 but rather just close. Args:; log10_probs: array-like of floats. An array of log10 probabilties. Returns:; np.array with the same shape as log10_probs but where su",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/genomics_math.py:1245,risk,risks,1245,third_party/nucleus/util/genomics_math.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/genomics_math.py,1,['risk'],['risks']
Security,"""""""A region to assemble, holding the region Range and the reads. It is not safe to directly modify any of the attributes here. Use the accessor; functions to add a read to the reads. Attributes:; candidate_haplotypes: realigner.CandidateHaplotypes for this region.; reads: list[reads_pb2.Read]. Reads for this region.; region: range_pb2.Range. This is the span of the assembled region on the; genome.; read_span: range_pb2.Range. This is the span of reads added to this region.; The read_span in general is expected to be wider than the region itself,; since we often include all reads that overlap the region at all. It is; possible that read_span will be smaller than region, which can happen, for; example, when we only have reads starts in the middle of the region.; Here's a picture of when this can happen: ref : acgtACGTACgtgt region; : ------ read1 : GGa; read_span: ---; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner.py:135,access,accessor,135,deepvariant/realigner/realigner.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner.py,1,['access'],['accessor']
Security,"""""""BaseClass for systems that want to provide training labels for examples. A VariantLabeler provides methods to assign a genotype label to each of a; series of candidate variants using data from a truth set of variants; accessible with vcf_reader and an optional RangeSet of confident regions. The basic logic of this class is something like:. candidates = [third_party.nucleus.protos.Variant(...), ...]; labeler = ConcreteSubclassOfVariantLabeler(vcf_reader, confident_regions); for label in labeler.label_variants(candidates):; if label.is_confident:; for i in range(len(label.variant.alternate_bases); genotype_label_value = label.label_for_alt_alleles([i]). See the docs on each individual function to get a better understanding of what; each function does and the meaning of the return values.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/variant_labeler.py:221,access,accessible,221,deepvariant/labeler/variant_labeler.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/variant_labeler.py,1,['access'],['accessible']
Security,"""""""Common constants shared across DeepVariant's codebase. This file is for very general constants in the code that end up needing to be; accessed in a variety of places, often in live code as well as throughout the; code in tests.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/dt_constants.py:137,access,accessed,137,deeptrio/dt_constants.py,,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/dt_constants.py,2,['access'],['accessed']
Security,"""""""Initializer. Args:; header: nucleus.genomics.v1.VcfHeader proto. Used to define the accessor; functions needed.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf.py:87,access,accessor,87,third_party/nucleus/io/vcf.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf.py,1,['access'],['accessor']
Security,"""""""Initializes a NativeSamReader. Args:; input_path: str. A path to a resource containing SAM/BAM/CRAM records.; Currently supports SAM text format, BAM binary format, and CRAM.; ref_path: optional str or None. Only used for CRAM decoding, and only; necessary if the UR encoded path in the CRAM itself needs to be; overridden. If provided, we will tell the CRAM decoder to use this FASTA; for the reference sequence.; read_requirements: optional ReadRequirement proto. If not None, this proto; is used to control which reads are filtered out by the reader before; they are passed to the client.; parse_aux_fields: optional bool, defaulting to False. If False, we do not; parse the auxiliary fields of the SAM/BAM/CRAM records (see SAM spec for; details). Parsing the aux fields is unnecessary for many applications,; and adds a significant parsing cost to access. If you need these aux; fields, set parse_aux_fields to True and these fields will be parsed and; populate the appropriate Read proto fields (e.g., read.info).; hts_block_size: int or None. If specified, this configures the block size; of the underlying htslib file object. Larger values (e.g. 1M) may be; beneficial for reading remote files. If None, the reader uses the; default htslib block size.; downsample_fraction: float in the interval [0.0, 1.0] or None. If; specified as a positive float, the reader will only keep each read with; probability downsample_fraction, randomly. If None or zero, all reads; are kept.; random_seed: None or int. The random seed to use with this sam reader, if; needed. If None, a fixed random value will be assigned.; use_original_base_quality_scores: optional bool, defaulting to False. If; True, quality scores are read from OQ tag.; aux_fields_to_keep: None or list[str]. If None, we keep all aux fields if; they are parsed. If set, we only keep the aux fields with the names in; this list. Raises:; ValueError: If downsample_fraction is not None and not in the interval; (0.0, 1.0].; ImportError: ",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam.py:856,access,access,856,third_party/nucleus/io/sam.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam.py,1,['access'],['access']
Security,"""""""Library to gather runtime performance metrics. This module exposes the ResourceMonitor class, which client code can use to; gather resource usage metrics about their program. An example usage would look; something like:. with ResourceMonitor() as monitor:; ... do work ...; metrics = monitor.metrics(); """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/resources.py:62,expose,exposes,62,deepvariant/resources.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/resources.py,1,['expose'],['exposes']
Security,"""""""Prepends a prefix to the file_path when accessing Google files. Args:; file_path: str. Full path pointing a specific file to access with pysam. Returns:; str. The full configured file path for pysam to open.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py:43,access,accessing,43,deepvariant/postprocess_variants.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py,2,['access'],"['access', 'accessing']"
Security,"""""""Returns an iterator for going through the records in the region. NOTE: This function is not currently implemented by TFRecordReader as the; TFRecord format does not provide a general mechanism for fast random access; to elements in genome order.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/genomics_reader.py:212,access,access,212,third_party/nucleus/io/genomics_reader.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/genomics_reader.py,1,['access'],['access']
Security,"""""""Returns the sha1 hash of input_bytes.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/tools/shuffle_tfrecords_beam.py:20,hash,hash,20,tools/shuffle_tfrecords_beam.py,,https://github.com/google/deepvariant/tree/v1.6.1/tools/shuffle_tfrecords_beam.py,1,['hash'],['hash']
Security,"""""""Runs all 3 steps to go from input DNA reads to output VCF/gVCF files. This script currently provides the most common use cases and standard models.; If you want to access more flags that are available in `make_examples`,; `call_variants`, and `postprocess_variants`, you can also call them separately; using the binaries in the Docker image. For more details, see:; https://github.com/google/deepvariant/blob/r1.6.1/docs/deepvariant-quick-start.md; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deepvariant.py:167,access,access,167,scripts/run_deepvariant.py,,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deepvariant.py,1,['access'],['access']
Security,"""""""Runs all 3 steps to go from input DNA reads to output VCF/gVCF files. This script is used to run DeepSomatic, which is an extension of DeepVariant.; If you want to access more flags that are available in `make_examples_somatic`,; `call_variants`, and `postprocess_variants`, you can also call them separately; using the binaries in the Docker image. DeepSomatic is not officially supported or released yet. This script does not; include a released model yet.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deepsomatic.py:167,access,access,167,scripts/run_deepsomatic.py,,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deepsomatic.py,1,['access'],['access']
Security,"""""""Runs all 3 steps to go from input DNA reads_child to output VCF/gVCF files. This script currently provides the most common use cases and standard models.; If you want to access more flags that are available in `make_examples`,; `call_variants`, and `postprocess_variants`, you can also call them separately; using the binaries in the Docker image.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deeptrio.py:173,access,access,173,scripts/run_deeptrio.py,,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deeptrio.py,1,['access'],['access']
Security,"""""""This class creates a cache of accessors to structured fields in Variants. The INFO and FORMAT fields within Variant protos are structured and typed,; with types defined by the corresponding VCF header. This cache object provides; provides {info,format}_field_{get,set}_fn functions that can be used to; extract information from the structured Variant protos based on the types; defined therein. NOTE: Users should not need to interact with this class at all. It is used; by the variant_utils.{get,set}_info and variantcall_utils.{get,set}_format; functions for interacting with the INFO and FORMAT fields in a Variant proto.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf.py:33,access,accessors,33,third_party/nucleus/io/vcf.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf.py,1,['access'],['accessors']
Security,"""""""Validates that shared_contigs spans a sufficient amount of ref_contigs. Args:; ref_contigs: List of ContigInfo protos. All of the contigs from our; reference genome.; shared_contigs: The subset of ref_contigs that we found in common with; ref_contigs and all other genomics data sources.; min_coverage_fraction: The minimum fraction of basepairs of ref_contigs that; should be found among the shared_contigs. Raises:; ValueError: If the fraction of covered bases is less than; min_coverage_fraction.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py:3,Validat,Validates,3,deepvariant/make_examples_core.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py,1,['Validat'],['Validates']
Security,"# Calculate validation attributes.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train_inceptionv3.py:12,validat,validation,12,deepvariant/train_inceptionv3.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train_inceptionv3.py,1,['validat'],['validation']
Security,"# Default, no validation.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants.py:14,validat,validation,14,deepvariant/call_variants.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants.py,2,['validat'],['validation']
Security,"# Dump all processed variants to the disk so that the C++; # merge_and_write_variants_and_nonvariants logic can access them.; # Note: This takes a really long time, but not because of the writing to; # the disk, but rather because it runs all the transformations on the; # variants at this point and not later on.; # That is fine, and there is no need to blame this part of the code when; # noticing how long it takes.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py:112,access,access,112,deepvariant/postprocess_variants.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py,1,['access'],['access']
Security,"# Even with ""mini epoch"", we still want to evaluate the same amount of; # validation examples per point. So, I'm not dividing this by; # FLAGS.train_config.num_mini_epochs_per_epoch",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train_inceptionv3.py:74,validat,validation,74,deepvariant/train_inceptionv3.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train_inceptionv3.py,1,['validat'],['validation']
Security,"# If set to 0, use full validation dataset.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_config.py:24,validat,validation,24,deepvariant/dv_config.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_config.py,1,['validat'],['validation']
Security,"# Maximum length of partition in bases. It is limited by available memory.; # TODO: For better flexibility it may be benefitial to expose it as a; # flag.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py:131,expose,expose,131,deepvariant/make_examples_core.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py,1,['expose'],['expose']
Security,"# Verify the integrity of the examples and then check that they match our; # golden labeled examples. Note we expect the order for both training and; # calling modes to produce deterministic order because we fix the random; # seed.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py:13,integrity,integrity,13,deeptrio/make_examples_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py,2,['integrity'],['integrity']
Security,"# We cannot access the full _DeviceAttribute as it's not exported. So use a; # namedtuple with the same field names instead.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_slim_test.py:12,access,access,12,deepvariant/call_variants_slim_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_slim_test.py,1,['access'],['access']
Security,"# We don't really want to inject too much knowledge about the golden right; # here, so we only use a minimal test that (a) the run_info_filename is; # a non-empty string and (b) the number of candidates sites in the labeling; # metrics field is greater than 0. Any reasonable golden output will have at; # least one candidate variant, and the reader should have filled in the; # value.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py:26,inject,inject,26,deeptrio/make_examples_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py,2,['inject'],['inject']
Security,"# pylint: disable=protected-access",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges.py:28,access,access,28,third_party/nucleus/util/ranges.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges.py,1,['access'],['access']
Security,"# pylint: disable=protected-access; # So we can intersect intervals within each contig separately.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges.py:28,access,access,28,third_party/nucleus/util/ranges.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges.py,1,['access'],['access']
Security,"// A VCF reader that provides access to Tabix indexed VCF files.; //; // VCF files store information about genetic variation:; //; // https://samtools.github.io/hts-specs/VCFv4.2.pdf; //; // These files are commonly block-gzipped and indexed with Tabix:; //; // https://academic.oup.com/bioinformatics/article/27/5/718/262743/Tabix-fast-retrieval-of-sequence-features-from; // https://github.com/samtools/htslib; // http://www.htslib.org/doc/tabix.html; //; // This class provides methods to iterate through a VCF file or, if indexed; // with Tabix, to also query() for only variants overlapping a specific regions; // on the genome.; //; // The objects returned by iterate() or query() are nucleus.genomics.v1.Variant; // objects parsed from the VCF records in the file. Currently all fields except; // the INFO key/value maps in the VCF variant and genotype fields are parsed.; //",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_reader.h:30,access,access,30,third_party/nucleus/io/vcf_reader.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_reader.h,1,['access'],['access']
Security,"// A class for reading TFRecord files, designed for easy CLIF-wrapping; // for Python. Loosely based on tensorflow/python/lib/io/py_record_reader.h; // An instance of this class is NOT safe for concurrent access by multiple; // threads.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/tfrecord_reader.h:205,access,access,205,third_party/nucleus/io/tfrecord_reader.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/tfrecord_reader.h,1,['access'],['access']
Security,"// A class for writing TFRecord files, designed for easy CLIF-wrapping; // for Python. Loosely based on tensorflow/python/lib/io/py_record_writer.h; // An instance of this class is NOT safe for concurrent access by multiple; // threads.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/tfrecord_writer.h:205,access,access,205,third_party/nucleus/io/tfrecord_writer.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/tfrecord_writer.h,1,['access'],['access']
Security,"// A pointer to the htslib file used to access the SAM/BAM data.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.h:40,access,access,40,third_party/nucleus/io/sam_reader.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.h,1,['access'],['access']
Security,"// A pointer to the htslib file used to access the SAM/BAM/CRAM data.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_writer.h:40,access,access,40,third_party/nucleus/io/sam_writer.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_writer.h,1,['access'],['access']
Security,"// A pointer to the htslib file used to access the VCF data.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_reader.h:40,access,access,40,third_party/nucleus/io/vcf_reader.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_reader.h,1,['access'],['access']
Security,"// Access to the record converter.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_reader.h:3,Access,Access,3,third_party/nucleus/io/vcf_reader.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_reader.h,2,['Access'],['Access']
Security,"// Accessor for the vertex index table.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/debruijn_graph.h:3,Access,Accessor,3,deepvariant/realigner/debruijn_graph.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/debruijn_graph.h,1,['Access'],['Accessor']
Security,"// Allow BedGraphIterable objects to access fp_.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/bedgraph_reader.h:37,access,access,37,third_party/nucleus/io/bedgraph_reader.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/bedgraph_reader.h,1,['access'],['access']
Security,"// Allow BedIterable objects to access fp_.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/bed_reader.h:32,access,access,32,third_party/nucleus/io/bed_reader.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/bed_reader.h,1,['access'],['access']
Security,"// Allow iteration to access the underlying reader.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/gff_reader.h:22,access,access,22,third_party/nucleus/io/gff_reader.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/gff_reader.h,4,['access'],['access']
Security,"// Creates a new GenomeReference backed by the FASTA file fasta_path.; //; // Returns this newly allocated IndexedFastaReader object, passing ownership; // to the caller via a unique_ptr.; //; // htslib currently assumes that the FAI file is named fasta_path + '.fai',; // so that file must exist and be readable by htslib.; //; // We maintain a single entry cache of the bases from the last FASTA fetch, to; // reduce the number of file reads, which can be quite costly for remote; // filesystems. 64K is the default block size for htslib faidx fetches, so; // there is no penalty to rounding up all small access sizes to 64K. The; // cache can be disabled using `cache_size=0`.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference.h:607,access,access,607,third_party/nucleus/io/reference.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference.h,1,['access'],['access']
Security,"// Creates a new SamReader reading from the SAM/BAM/CRAM file reads_path.; //; // reads_path must point to an existing SAM/BAM/CRAM formatted file (text SAM,; // compressed or uncompressed BAM file, CRAM files in all sorts of flavors).; //; // ref_path can be """", in which case the argument is ignored, or must point; // to an existing FASTA file. If not """" and the reads_path points to a CRAM; // file, the CRAM_OPT_REFERNECE field will be set to this path so that the; // CRAM decoder uses ref_path to decode the reference-compressed read; // sequences in the CRAM file. Because many low-level IO routines (e.g. stat); // are currently directly used in the CRAM implementation in htslib, ref_path; // must be on a local (e.g., POSIX accessible) mount point. File system access; // provided by htslib plugins (e.g., S3) won't work.; //; // If the filetype is BAM/CRAM, this constructor will attempt to load a BAI or; // CRAI index from file reads_path + '.bai' or reads_path (without the .bam; // extension) + '.bai'; if the index is not found, attempts to Query will; // fail.; //; // Returns a StatusOr that is OK if the SamReader could be successfully; // created or an error code indicating the error that occurred.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.h:735,access,accessible,735,third_party/nucleus/io/sam_reader.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.h,2,['access'],"['access', 'accessible']"
Security,"// Fill in the contig info for each contig in the VCF header. Directly; // accesses the low-level C struct because there are no indirection; // macros/functions by htslib API.; // BCF_DT_CTG: offset for contig (CTG) information in BCF dictionary (DT).",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.cc:75,access,accesses,75,third_party/nucleus/io/vcf_conversion.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.cc,1,['access'],['accesses']
Security,"// Fill in the contig info for each contig in the sam header. Directly; // accesses the low-level C struct because there are no indirection; // macros/functions by htslib API.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.cc:75,access,accesses,75,third_party/nucleus/io/sam_reader.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.cc,1,['access'],['accesses']
Security,"// For validation of the FASTQ format.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/fastq_reader.cc:7,validat,validation,7,third_party/nucleus/io/fastq_reader.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/fastq_reader.cc,1,['validat'],['validation']
Security,"// Give Iterator classes access to Next().",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/fastq_reader.h:25,access,access,25,third_party/nucleus/io/fastq_reader.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/fastq_reader.h,1,['access'],['access']
Security,"// Private constructor. Public interface via factory only allows access to; // acyclic DeBruijn graphs. Argument `k` is used to construct the graph;; // filtering settings are taken from options.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/debruijn_graph.h:65,access,access,65,deepvariant/realigner/debruijn_graph.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/debruijn_graph.h,1,['access'],['access']
Security,"// Provide access to the header.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/bed_writer.h:11,access,access,11,third_party/nucleus/io/bed_writer.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/bed_writer.h,1,['access'],['access']
Security,"// Provides access to the header.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/gff_writer.h:12,access,access,12,third_party/nucleus/io/gff_writer.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/gff_writer.h,1,['access'],['access']
Security,"// Returns our current value, requires this->ok(). Use this if; // you would otherwise want to say std::move(s.ValueOrDie()), for example; // if you need to initialize a T object from the stored value and you don't; // need subsequent access to the stored value. It uses T's move constructor,; // if it has one, so it will work with move-only types, and will often be; // more efficient than ValueOrDie, but may leave the stored value; // in an arbitrary valid state.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/statusor.h:235,access,access,235,third_party/nucleus/core/statusor.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/statusor.h,1,['access'],['access']
Security,"// TODO: (1) validate the length of this list is as declared in; // the header, and figure out what to do when declared length is smaller; // than the actual length of the list.; // According to https://samtools.github.io/hts-specs/VCFv4.3.pdf; // Section 6.3.3 strings in VCF cannot contain ',' (a field separator).",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.cc:13,validat,validate,13,third_party/nucleus/io/vcf_conversion.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.cc,1,['validat'],['validate']
Security,"// This allows accessing the inner unique_ptr to the variant even when stored; // in std::priority_queue, which sadly only supports const ref .top() .; // But note that if that unique_ptr is moved, the element must be poped from; // the priority_queue right after that (or the heap will try to compare; // invalid data).",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/variant_reader.h:15,access,accessing,15,third_party/nucleus/io/variant_reader.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/variant_reader.h,1,['access'],['accessing']
Security,"// Validate that we support the requested read requirements.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.cc:3,Validat,Validate,3,third_party/nucleus/io/sam_reader.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.cc,1,['Validat'],['Validate']
Security,"// Whether |num_bytes_| has been successfully computed and |read_| has been; // validated through NumBytes().",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_writer.cc:80,validat,validated,80,third_party/nucleus/io/sam_writer.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_writer.cc,1,['validat'],['validated']
Security,"// Write a string to an htslib file handle (compressed or not).; // Parallels hts_getline; oddly, no function like this is exposed by; // htslib.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/text_writer.cc:123,expose,exposed,123,third_party/nucleus/io/text_writer.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/text_writer.cc,1,['expose'],['exposed']
Security,"//-------------------//; // Channels Accessor //; //-------------------//; // Max values for scaling",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_channel_lib.h:37,Access,Accessor,37,deepvariant/pileup_channel_lib.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_channel_lib.h,1,['Access'],['Accessor']
Security,"LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; *; */; // Get basic information about a reference genome as well as make it cpu and; // memory efficient and scalable to get the reference bases for an interval on; // the genome.; //; // The GenomeReference provides the core functionality needed to use a reference; // genome for data processing and analyses tools:; //; // -- Get information about the contigs (aka chromosomes) present the FASTA,; // such as its name, description, and number of basepairs.; // -- Efficiently lookup the sequence of bases in an interval in the reference; // genome. For example, GetBases(""chr1"", 0, 10) gets the basepair sequence; // from the first base to the ninth base on chr1. This function call has; // cost roughly proportional to the size of the query interval, regardless; // of its position in the original FASTA file.; //; // The code here makes some strong assumptions about what a client could want.; // It doesn't record the position of bases in the original FASTA, and it doesn't; // track line breaks, comments, and other features of the FASTA. It uppercases; // the basepair sequences, so complexity or other information encoded in the; // case of the bases is lost. It also ensures that all of the bases in the; // reference are either {A,C,G,T,N} by refusing to import reference sequences; // containing other characters. The code assumes that random accesses of; // reasonably small chunks of sequence is important at the expense of low-cost; // (but still reasonably efficient) iteration of all sequences in the FASTA.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference.h:2893,access,accesses,2893,third_party/nucleus/io/reference.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference.h,1,['access'],['accesses']
Security,"cord` file is assumed and attempted to be; read or written. Otherwise, the filename is treated as a true SAM/BAM/CRAM file. For `TFRecord` files, ending in a '.gz' suffix causes the file to be treated as; compressed with gzip. Notes on using CRAM with SamReader; --------------------------------. Nucleus supports reading from CRAM files using the same API as for SAM/BAM:. ```python; from third_party.nucleus.io import sam. with sam.SamReader(""/path/to/sample.cram"") as reader:; for read in reader:; print(read); ```. There is one type of CRAM file, though, that has a slightly more complicated; API. If the CRAM file uses read sequence compression with an external reference; file, and this reference file is no longer accessible in the location specified; by the CRAM file's ""UR"" tag and cannot be found in the local genome cache, its; location must be passed to SamReader via the ref_path parameter:. ```python; from third_party.nucleus.io import sam. cram_path = ""/path/to/sample.cram""; ref_path = ""/path/to/genome.fasta""; with sam.SamReader(cram_path, ref_path=ref_path) as reader:; for read in reader:; print(read); ```. Unfortunately, htslib is unable to load the ref_path from anything other than a; POSIX filesystem. (htslib plugin filesystems like S3 or GCS buckets won't work).; For that reason, we don't recommend the use of CRAM files with external; reference files, but instead suggest using read sequence compression with; embedded reference data. (This has a minor impact on file size, but; significantly improves file access simplicity and safety.). For more information about CRAM, see:; * The `samtools` documentation at http://www.htslib.org/doc/samtools.html; * The ""Global Options"" section of the samtools docs at http://www.htslib.org/doc/samtools.html#GLOBAL_OPTIONS; * How reference sequences are encoded in CRAM at http://www.htslib.org/doc/samtools.html#REFERENCE_SEQUENCES; * Finally, benchmarking of different CRAM options http://www.htslib.org/benchmarks/CRAM.html; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam.py:2886,access,access,2886,third_party/nucleus/io/sam.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam.py,1,['access'],['access']
Security,"f the copyright holder nor the names of its; * contributors may be used to endorse or promote products derived from this; * software without specific prior written permission.; *; * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; */; // gMock matchers used to validate protocol buffer arguments.; // WHAT THIS IS; // ============; //; // This library defines the following matchers in the ::nucleus namespace:; //; // EqualsProto(pb) The argument equals pb.; // EqualsInitializedProto(pb) The argument is initialized and equals pb.; // EquivToProto(pb) The argument is equivalent to pb.; // EquivToInitializedProto(pb) The argument is initialized and equivalent; // to pb.; // IsInitializedProto() The argument is an initialized protobuf.; //; // where:; //; // - pb can be either a protobuf value or a human-readable string; // representation of it.; // - When pb is a string, the matcher can optionally accept a; // template argument for the type of the protobuf,; // e.g. EqualsProto<Foo>(""foo: 1"").; // - ""equals"" is defined as the argument's Equals(pb) method returns true.; // - ""equivalent to"" is defined as the argument's Equivalent(pb) method; // returns true.; // - ""initialized"" means that the argument's IsInitialized() method returns; // true.; //; ",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h:1569,validat,validate,1569,third_party/nucleus/testing/protocol-buffer-matchers.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h,1,['validat'],['validate']
Security,"riter(output_path, header=header, ref_path=ref_path,; embed_ref=embed_ref) as writer:; for read in reads:; writer.write(read); ```. For both reading and writing, if the path provided to the constructor contains; '.tfrecord' as an extension, a `TFRecord` file is assumed and attempted to be; read or written. Otherwise, the filename is treated as a true SAM/BAM/CRAM file. For `TFRecord` files, ending in a '.gz' suffix causes the file to be treated as; compressed with gzip. Notes on using CRAM with SamReader; --------------------------------. Nucleus supports reading from CRAM files using the same API as for SAM/BAM:. ```python; from third_party.nucleus.io import sam. with sam.SamReader(""/path/to/sample.cram"") as reader:; for read in reader:; print(read); ```. There is one type of CRAM file, though, that has a slightly more complicated; API. If the CRAM file uses read sequence compression with an external reference; file, and this reference file is no longer accessible in the location specified; by the CRAM file's ""UR"" tag and cannot be found in the local genome cache, its; location must be passed to SamReader via the ref_path parameter:. ```python; from third_party.nucleus.io import sam. cram_path = ""/path/to/sample.cram""; ref_path = ""/path/to/genome.fasta""; with sam.SamReader(cram_path, ref_path=ref_path) as reader:; for read in reader:; print(read); ```. Unfortunately, htslib is unable to load the ref_path from anything other than a; POSIX filesystem. (htslib plugin filesystems like S3 or GCS buckets won't work).; For that reason, we don't recommend the use of CRAM files with external; reference files, but instead suggest using read sequence compression with; embedded reference data. (This has a minor impact on file size, but; significantly improves file access simplicity and safety.). For more information about CRAM, see:; * The `samtools` documentation at http://www.htslib.org/doc/samtools.html; * The ""Global Options"" section of the samtools docs at http://www.htsli",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam.py:2071,access,accessible,2071,third_party/nucleus/io/sam.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam.py,1,['access'],['accessible']
Testability,"""""""A mock VcfWriter that records the variants written in a list.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants_test.py:5,mock,mock,5,deepvariant/postprocess_variants_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants_test.py,1,['mock'],['mock']
Testability,"""""""A placeholder VariantCaller. This class provides a get_candidates implementation and so allows; the base class to be instantiated and its methods tested.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_caller_test.py:149,test,tested,149,deepvariant/variant_caller_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_caller_test.py,2,['test'],['tested']
Testability,"""""""A placeholder VariantLabeler. This class provides a label_variants implementation and so allows the base; class to be instantiated and its methods tested.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/variant_labeler_test.py:150,test,tested,150,deepvariant/labeler/variant_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/variant_labeler_test.py,1,['test'],['tested']
Testability,"""""""A universal converter program for nucleus-supported genomics file formats. Invoked with a single argument, this program will open a genomics data file and; iterate over its contents, doing no writing. This is a good benchmark for I/O; and reader processing speed. Invoked with two arguments, the program will open the first file, read its; records, and write them, one at a time, to the second file. The filetypes for; the first and second filename must be compatible ways of encoding the same; nucleus genomics record type (for example, `infile.gff` and; `outfile.gff.tfrecord.gz` are compatible, but `infile.gff` and `outfile.bam` are; not. Note: at present we have no convention for encoding a file *header* in; tfrecords, so conversion is not possible from tfrecord to any native file format; for which a header is compulsory.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/converter.py:219,benchmark,benchmark,219,third_party/nucleus/io/converter.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/converter.py,1,['benchmark'],['benchmark']
Testability,"""""""Additional logic to make sure flags are set appropriately.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deepsomatic.py:14,log,logic,14,scripts/run_deepsomatic.py,,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deepsomatic.py,3,['log'],['logic']
Testability,"""""""Assert that the DeBruijn has the given graphviz representation. Args:; graphviz_string: the graphviz representation, potentially including common; leading whitespace.; dbg: the DeBruijn graph object.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/python/debruijn_graph_wrap_test.py:3,Assert,Assert,3,deepvariant/realigner/python/debruijn_graph_wrap_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/python/debruijn_graph_wrap_test.py,1,['Assert'],['Assert']
Testability,"""""""Asserts that a mock has been called exactly once. See assert_not_called_workaround for the backstory on why this function; exists. Args:; mock: The mock that should have been called exactly once. Raises:; AssertionError: mock wasn't called exactly once.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.py:3,Assert,Asserts,3,third_party/nucleus/testing/test_utils.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.py,6,"['Assert', 'mock']","['AssertionError', 'Asserts', 'mock']"
Testability,"""""""Asserts that a mock has not been called. There's a bug in mock where some of the assert functions on a mock are being; dropped when that mock is created with an autospec:. https://bugs.python.org/issue28380. The mock 2.0.0 backport doesn't have the fix yet. The required patch is:. https://bugs.python.org/file44991/fix_autospecced_mock_functions.patch. but the current mock (checked 07/22/17) backport code is missing the fix:. https://github.com/testing-cabal/mock/blob/master/mock/mock.py#L315. This is an open issue on the mock github repo:. https://github.com/testing-cabal/mock/issues/398. And they claim that it'll be a few months (as of April 2017) before it is; incorporated into the backport. Args:; mock: The mock to assert hasn't been called. Raises:; AssertionError: mock has been called.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.py:3,Assert,Asserts,3,third_party/nucleus/testing/test_utils.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.py,20,"['Assert', 'assert', 'mock', 'test']","['AssertionError', 'Asserts', 'assert', 'mock', 'testing-cabal']"
Testability,"""""""Asserts that actual and expected tf.Examples are not equal. Args:; actual: iterable of tf.Examples from DeepVariant. DeepVariant examples; that we want to check.; expected: iterable of tf.Examples. Expected results for actual.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py:3,Assert,Asserts,3,deeptrio/make_examples_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py,1,['Assert'],['Asserts']
Testability,"""""""Asserts that actual and expected tf.Examples from DeepVariant are equal. Args:; actual: iterable of tf.Examples from DeepVariant. DeepVariant examples; that we want to check.; expected: iterable of tf.Examples. Expected results for actual.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py:3,Assert,Asserts,3,deeptrio/make_examples_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py,2,['Assert'],['Asserts']
Testability,"""""""Asserts variant equality allowing numerical differences in GLs.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes_test.py:3,Assert,Asserts,3,deepvariant/haplotypes_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes_test.py,1,['Assert'],['Asserts']
Testability,"""""""Base class for models that compute genotype likelihoods from an image. This class is intended for use anywhere in DeepVariant where we want to train; or evaluate a model that computes genotype likelihoods from a pileup image. A; bit of encapsulation helps us to try new models (beyond inception_v3) and unit; test our code. The base class cannot be used directly; concrete subclasses actually implement; specific models and all of the associated machinery to create/load/save; models. Attributes:; name: str. The name of this model, such as `inception_v3`.; pretrained_model_path: str. Path to a root checkpoint where we can start; training the model, if we are not starting from scratch.; supported_dimensions_message: str. A human-readable string containing info; about what image dimensions are supported by this model. E.g., ""only; widths between 42 and 189"".; use_tpu: bool or None. If True, we are executing the model on a TPU, False; if we are using some other hardware. If None, the execution hardware is; not yet known.; model_dir: str or None. The path to the location where model checkpoint are; being stored. If None, the path hasn't been set yet or is unknown.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:312,test,test,312,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['test'],['test']
Testability,"""""""BaseClass for placeholder models that are useful for testing and benchmarking.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:56,test,testing,56,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,2,"['benchmark', 'test']","['benchmarking', 'testing']"
Testability,"""""""BaseClass for systems that want to provide training labels for examples. A VariantLabeler provides methods to assign a genotype label to each of a; series of candidate variants using data from a truth set of variants; accessible with vcf_reader and an optional RangeSet of confident regions. The basic logic of this class is something like:. candidates = [third_party.nucleus.protos.Variant(...), ...]; labeler = ConcreteSubclassOfVariantLabeler(vcf_reader, confident_regions); for label in labeler.label_variants(candidates):; if label.is_confident:; for i in range(len(label.variant.alternate_bases); genotype_label_value = label.label_for_alt_alleles([i]). See the docs on each individual function to get a better understanding of what; each function does and the meaning of the return values.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/variant_labeler.py:305,log,logic,305,deepvariant/labeler/variant_labeler.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/variant_labeler.py,1,['log'],['logic']
Testability,"""""""Basic tests for the wrapped DeBruijnGraph class.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/python/debruijn_graph_wrap_test.py:9,test,tests,9,deepvariant/realigner/python/debruijn_graph_wrap_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/python/debruijn_graph_wrap_test.py,1,['test'],['tests']
Testability,"""""""Basic tests for the wrapped SSW aligner.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/python/ssw_wrap_test.py:9,test,tests,9,deepvariant/realigner/python/ssw_wrap_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/python/ssw_wrap_test.py,1,['test'],['tests']
Testability,"""""""Calculates a rough p-value for strand bias in pileup. Using the strand and read-supports-variant channels, compares the numbers of; forward and reverse reads among the supporting reads and returns a p-value; using a two-tailed binomial test. Args:; channels: List of DeepVariant channels. Uses channels[3] (strand) and; channels[4] (read support). Returns:; P-value for whether the supporting reads show strand bias.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vis.py:239,test,test,239,third_party/nucleus/util/vis.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vis.py,1,['test'],['test']
Testability,"""""""Calculates a two-tailed binomial test with p=0.5, without scipy. Since the expected probability is 0.5, it simplifies a few things:; 1) (0.5**x)*(0.5**(n-x)) = (0.5**n); 2) A two-tailed test is simply doubling when p = 0.5.; Scipy is much larger than Nucleus, so this avoids adding it as a dependency. Args:; k: Number of ""successes"", in this case, the number of supporting reads.; n: Number of ""trials"", in this case, the total number of reads. Returns:; The p-value for the binomial test.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vis.py:36,test,test,36,third_party/nucleus/util/vis.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vis.py,3,['test'],['test']
Testability,"""""""Calculates numerically-stable value of log10(binomial(k, n, p)). Returns the log10 of the binomial density for k successes in n trials where; each success has a probability of occurring of p. In real-space, we would calculate:. result = (n choose k) * (1-p)^(n-k) * p^k. This function computes the log10 of result, which is:. log10(result) = log10(n choose k) + (n-k) * log10(1-p) + k * log10(p). This is equivalent to invoking the R function:; dbinom(x=k, size=n, prob=p, log=TRUE). See https://stat.ethz.ch/R-manual/R-devel/library/stats/html/Binomial.html; for more details on the binomial. Args:; k: int >= 0. Number of successes.; n: int >= k. Number of trials.; p: 0.0 <= float <= 1.0. Probability of success. Returns:; log10 probability of seeing k successes in n trials with p.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/genomics_math.py:476,log,log,476,third_party/nucleus/util/genomics_math.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/genomics_math.py,1,['log'],['log']
Testability,"""""""Class for ""reading"" Variant protos from an in-memory cache of variants. ```python; from third_party.nucleus.io import vcf; from third_party.nucleus.protos import variants_pb2. variants = [... Variant protos ...]; header = variants_pb2.VcfHeader(). with vcf.InMemoryVcfReader(variants, header) as reader:; for variant in reader:; print(variant); ```. This class accepts a collection of variants and optionally a header and; provides all of the standard API functions of VcfReader but instead of; fetching variants from a file the variants are queried from an in-memory cache; of variant protos. Note that the input variants provided to this class aren't checked in any way,; and their ordering determines the order of variants emitted by this class for; the iterate() and query() operations. This is intentional, to make this class; easy to use for testing where you often want to use less-than-perfectly formed; inputs. In order to fully meet the contract of a standard VcfReader, variants; should be sorted by their contig ordering and then by their start and finally; by their ends. Implementation note:; The current implementation will be very slow for query() if the provided; cache of variants is large, as we do a O(n) search to collect all of the; overlapping variants for each query. There are several straightforward; optimizations to do if we need/want to scale this up. (a) sort the variants; and use a binary search to find overlapping variants (b) partition the; variants by contig, so we have dict[contig] => [variants on contig], which; allows us to completely avoid considering any variants on any other contigs.; Neither of these optimizations are worth it if len(variants) is small, but; it may be worth considering if we want to use this functionality with a; large number of variants.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf.py:851,test,testing,851,third_party/nucleus/io/vcf.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf.py,1,['test'],['testing']
Testability,"""""""Common constants shared across DeepVariant's codebase. This file is for very general constants in the code that end up needing to be; accessed in a variety of places, often in live code as well as throughout the; code in tests.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/dt_constants.py:224,test,tests,224,deeptrio/dt_constants.py,,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/dt_constants.py,2,['test'],['tests']
Testability,"""""""Computes the label value for an example. This function computes the TensorFlow label value (0, 1, 2, .. N-1) we train; DeepVariant to predict.; The `alt_alleles_indices` being passed in is from the candidates (not; truth), so they could still have multiple alts. If any of the alt alleles; matches the truth, we'll return the label of the truth.; TODO: Fix multi-allelic cases. Add corresponding unit test cases.; Note that this function currently doesn't handle multi-allelic cases; correctly. For example it assumes `truth_alt` is the first one. Args:; alt_alleles_indices: list[int]. A list of the alt_allele_indices. Returns:; int >= 0. Label for the classes in `classes_dict`.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/customized_classes_labeler.py:404,test,test,404,deepvariant/labeler/customized_classes_labeler.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/customized_classes_labeler.py,1,['test'],['test']
Testability,"""""""Construct a host call to log scalars when training on TPU. Args:; metric_dict: A dict of the tensors to be logged.; model_dir: The location to write the summary.; prefix: The prefix (if any) to prepend to the metric names.; record_frequency_in_steps: int; How often should we log our metrics in; step units. Returns:; A tuple of (function, args_to_be_passed_to_said_function); """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:28,log,log,28,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,3,['log'],"['log', 'logged']"
Testability,"""""""Container class for genotype likelihoods of allele configurations. When evaluating valid genotype configurations across multiple variants, we; calculate the likelihood of each configuration. To then calculate the marginal; likelihoods for each variant's genotypes, for each genotype we need to sum the; probabilities of all configurations that include that genotype. For numerical stability we do this by storing the genotype likelihoods; = log10(p) and then aggregate using the log-sum-exp trick.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py:482,log,log-sum-exp,482,deepvariant/haplotypes.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py,1,['log'],['log-sum-exp']
Testability,"""""""Control the verbosity of the program. Normally logging at info priority is silent; this; provides flags to adjust that. Note that TF tries to send log messages to stdout,; instead of stderr, if it thinks it is interactive.; There's no flag to override that.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/logging_level.py:50,log,logging,50,deepvariant/logging_level.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/logging_level.py,2,['log'],"['log', 'logging']"
Testability,"""""""Create a DeepVariantInput object, usable as an `input_fn`. Args:; mode: the mode string (from `tf.estimator.ModeKeys`).; input_file_spec: the input filename for a tfrecord[.gz] file containing; examples. Can contain sharding designators.; num_examples: the number of examples contained in the input file. Required; for setting learning rate schedule in train/eval only.; num_classes: The number of classes in the labels of this dataset.; Currently defaults to DEFAULT_NUM_CLASSES.; max_examples: The maximum number of examples to use. If None, all examples; will be used. If not None, the first n = min(max_examples, num_examples); will be used. This works with training, and the n examples will repeat; over and over.; tensor_shape: None (which means we get the shape from the first example in; source), or list of int [height, width, channel] for testing.; name: string, name of the dataset.; use_tpu: use code paths tuned for TPU, in particular protobuf encoding.; Default False.; input_read_threads: number of threads for reading data. Default 32.; shuffle_buffer_size: size of the final shuffle buffer, in elements.; Default 100.; initial_shuffle_buffer_size: int; the size of the dataset.shuffle buffer; in elements. Default is 1024.; prefetch_dataset_buffer_size: int; the size of the TFRecordDataset buffer; in bytes. Default is 16 * 1000 * 1000.; sloppy: boolean, allow parallel_interleave to be sloppy. Default True.; list_files_shuffle: boolean, allow list_files to shuffle. Default True.; debugging_true_label_mode: boolean. If true, the input examples are; created with ""training"" mode. We'll parse the 'label' field even if the; `mode` is PREDICT. Raises:; ValueError: if `num_examples` not provided, in a context requiring it.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py:852,test,testing,852,deepvariant/data_providers.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py,1,['test'],['testing']
Testability,"""""""Creates 3 (command, logfile) to be executed later.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deepsomatic.py:23,log,logfile,23,scripts/run_deepsomatic.py,,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deepsomatic.py,2,['log'],['logfile']
Testability,"""""""Creates a RangeSet backed by ranges. Note that the Range objects in ranges are *not* stored directly here, so; they can safely be modified after they are passed to this RangeSet. Args:; ranges: list(nucleus.genomics.v1.Range) protos (or anything with; reference_name, start, and end properties following the Range; convention). If None, no ranges will be used, and overlaps() will always; return False.; contigs: list(nucleus.genomics.v1.ContigInfo) protos. Used to define the; iteration order over contigs (i.e., by contig.pos_in_fasta). If this; list is not provided, the iteration order will be determined by the; alphabetical order of the contig names.; quiet: bool; defaults to False: If False, we will emit a logging message; every _LOG_EVERY_N_RANGES_IN_RANGESET_INIT records processed while; building this intervaltree. Set to True to stop all of the logging. Raises:; ValueError: if any range's reference_name does not correspond to any; contig in `contigs`.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges.py:718,log,logging,718,third_party/nucleus/util/ranges.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges.py,2,['log'],['logging']
Testability,"""""""Creates a Variant record for testing. Args:; chrom: reference name for this variant; start: start position on the contig; end: end position on the contig; ref: reference base(s); alt: list(str). alternate base(s); qual: PHRED scaled detection probability; genotype: list of integers corresponding to the called genotype; likelihoods: genotype likelihoods for this variant; sample_name: sample name for the single call in the variant. Returns:; A Variant record created with the specified arguments. Raises:; ValueError: Both ref and end are specified, and are inconsistent.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes_test.py:32,test,testing,32,deepvariant/haplotypes_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes_test.py,1,['test'],['testing']
Testability,"""""""Creates a Variant record for testing. Args:; ref_name: reference name for this variant; start: start position on the contig; ref_base: reference base(s); alt_bases: list(str). alternate base(s); qual: PHRED scaled detection probability; filter_field: filter string for this variant; genotype: list of integers corresponding to the called genotype; gq: PHRED scaled genotype quality; likelihoods: genotype likelihoods for this variant; ad: list of integers corresponding to allelic depths. Returns:; A Variant record created with the specified arguments.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants_test.py:32,test,testing,32,deepvariant/postprocess_variants_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants_test.py,1,['test'],['testing']
Testability,"""""""Creates a non-variant Variant record for testing. Args:; ref_name: str. Reference name for this variant.; start: int. start position on the contig [0-based, half open).; end: int. end position on the contig [0-based, half open).; ref_base: str. reference base at the start position. Returns:; A non-variant Variant record created with the specified arguments.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants_test.py:44,test,testing,44,deepvariant/postprocess_variants_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants_test.py,1,['test'],['testing']
Testability,"""""""Creates an DeepVariant CNN network based on a tf.slim model. Args:; name: see baseclass.; pretrained_model_path: see baseclass.; n_classes_model_variable: str. A fully-qualitified TF variable name in the; model that we can use to determine the shape of the output; classification layer of the model. For example, in inception-v3 from; slim this is 'InceptionV3/Logits/Conv2d_1c_1x1/weights'.; excluded_scopes_for_incompatible_classes: set of str. A set of scopes that; will be excluded when restoring from a checkpoint to avoid loading; incompatible #classes.; excluded_scopes_for_incompatible_channels: set of str. A set of scopes; that will be excluded when restoring from a checkpoint to avoid loading; incompatible #channels. Raises:; ValueError: If any of the arguments are invalid.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:364,Log,Logits,364,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['Log'],['Logits']
Testability,"""""""Determines the regions to process and partitions them into pieces. This function divides the genomes into regions we should process by; intersecting the Ranges spanning all of the contigs with those from; calling_regions, if provided. These intersected regions are then partitioned; into pieces no bigger than partition_size bp in length. By construction we ensure that the regions are in genomic order, first w.r.t.; the contigs and then within each contig by start and end of each region. This function can further subdivide these regions into a subset appropriate; for a single task (task_id) among N tasks (num_shards) to process. The; function ensures that:. set(all_regions) = union(regions(task_0), ..., regions(task_n)). when called with task_ids 0 ... N for num_shards = N. Args:; contigs: Sequence of ContigInfo protos. Used to determine the initial ranges; to process (i.e., all bases of these contigs) and the order of returned; ranges.; partition_size: The maximum size to make any region when partitioning.; calling_regions: None or RangeSet. If provided, we will intersect the; regions to process so that only those that overlap a region in this set; are included.; task_id: int >= 0 or None. The task_id of this job, which will be used to; subdivide the total set of regions to process into just those that should; be processed by this job. Must be < num_shards.; num_shards: int >= 0 or None. The number of shards (i.e., the total number; of tasks) we are running in parallel. Together with task_id determines the; subset of regions we want to process.; candidates: numpy array of int32 containing candidate positions. If; candidate is provided then partition_by_candidates logic is used. Returns:; An iterable of nucleus.genomics.v1.Range objects. Raises:; ValueError: if task_id and num_shards are bad or inconsistent.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py:1694,log,logic,1694,deepvariant/make_examples_core.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py,1,['log'],['logic']
Testability,"""""""End-to-end test of model_train script.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/environment_tests/env_smoke_test.py:14,test,test,14,deepvariant/environment_tests/env_smoke_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/environment_tests/env_smoke_test.py,1,['test'],['test']
Testability,"""""""Enum capturing what the test condition we're using.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_test.py:27,test,test,27,deepvariant/make_examples_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_test.py,1,['test'],['test']
Testability,"""""""Fast overlap detection of a genomic position against a database of Ranges. Enables O(log n) computation of whether a point chr:pos falls within one of a; large number of genomic ranges. This class does not supports overlapping or adjacent intervals. Any such; intervals will be automatically merged together in the constructor. This class is immutable. No methods should be added that directly modify the; ranges held by the class.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges.py:88,log,log,88,third_party/nucleus/util/ranges.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges.py,1,['log'],['log']
Testability,"""""""Get a truth variant matching variant. A matching variant is defined here as one that starts at the same position; on the genome as variant. The best match is then narrowed down by finding; the variant with a matching alt allele, if it exists, otherwise the first; matching variant is used regardless of alt alleles. This allows the client; to make decisions on how to translate a matched between variant and; truth_variant into a label (e.g. by comparing the alleles). If multiple variants are detected, this code will attempt to find the best; match by comparing to `variant`. Note that some simplification of alleles; are applied first before we compare. For example, 'GAAA->GAA' should be the; same as 'GA->G'. If no good matches are detected, the logic currently falls; back to the first element in matches. Args:; variant: Our candidate third_party.nucleus.protos.Variant variant. Returns:; A tuple of (match_status, truth_variant) where match_status is True if; we are confident in our truth_variant call or False if not. truth_variant; is a third_party.nucleus.protos.Variant object of; the truth variant that matched; variant, or None if none was found and we aren't confident in being; hom-ref here, or a synthetic variant with the same position and alleles as; variant but with a hom-ref genotype.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/positional_labeler.py:754,log,logic,754,deepvariant/labeler/positional_labeler.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/positional_labeler.py,1,['log'],['logic']
Testability,"""""""Gets a list of the models that we test extensively.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:37,test,test,37,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['test'],['test']
Testability,"""""""Gets the path to a testdata file in genomics at relative path. Args:; path: A path to a testdata file *relative* to the genomics root; directory. For example, if you have a test file in; ""datadir/nucleus/testdata/foo.txt"", path should be; ""nucleus/testdata/foo.txt"" to get a path to it.; datadir: The path of the genomics root directory *relative* to; the testing source directory. Returns:; The absolute path to a testdata file.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.py:22,test,testdata,22,third_party/nucleus/testing/test_utils.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.py,7,['test'],"['test', 'testdata', 'testing']"
Testability,"""""""Gets the path to a testdata named filename in util/testdata. Args:; filename: The name of a testdata file in the core genomics testdata; directory. For example, if you have a test file in; ""third_party/nucleus/util/testdata/foo.txt"", filename should be; ""foo.txt"" to get a path to it. Returns:; The absolute path to a testdata file.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.py:22,test,testdata,22,third_party/nucleus/testing/test_utils.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.py,7,['test'],"['test', 'testdata']"
Testability,"""""""Gets the path to filename in genomics/deepvariant/testdata. These paths are only known at runtime, after flag parsing; has occurred. Args:; filename: The name of a testdata file in the core genomics testdata; directory. For example, if you have a test file in; ""learning/genomics/deepvariant/testdata/foo.txt"", filename should be; ""foo.txt"" to get a path to it. Returns:; The absolute path to a testdata file.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/testdata.py:53,test,testdata,53,deeptrio/testdata.py,,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/testdata.py,12,['test'],"['test', 'testdata']"
Testability,"""""""Haplotype-based labeling algorithm for DeepVariant. This module provides a haplotype-aware labeling algorithm. This is a more; sophisticated approach to labeling that allows for slight representational; differences between candidate and truth variant sets. See:. https://github.com/ga4gh/benchmarking-tools; https://www.biorxiv.org/content/early/2018/03/15/270157. for an introduction to the concepts and why this is important. The module is implemented in two big pieces of functionality:. find_best_matching_haplotypes(candidates, truths) provides an function that; accepts a list of candidate variants and a list of truth variants with known; genotypes and finds an assignment of genotypes for candidates and truth that; results in the same two haplotype sequences in the region. Since the truth; variants have known genotypes, the search there is constrained to those; genotypes and their potential set of false negatives (e.g., if truth is (0, 1); we may have missed the variant so we consider both (0, 1) and (0, 0)). The; returned value is a HaplotypeMatch object describing the genotype assignments; for candidates and truth. HaplotypeLabeler implements the variant_labeler.VariantLabeler API by calling; our find_best_matching_haplotypes function to get the HaplotypeMatch objects and; returning variant_labeler.VariantLabel objects for each candidate variant.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler.py:291,benchmark,benchmarking-tools,291,deepvariant/labeler/haplotype_labeler.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler.py,1,['benchmark'],['benchmarking-tools']
Testability,"""""""If options contain multiple shards, log with task/shard prefix.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py:39,log,log,39,deepvariant/make_examples_core.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py,1,['log'],['log']
Testability,"""""""Initializer. Args:; output_path: str. The output path to which the records are written.; header: An optional header for the particular data type. This can be; useful for file types that have logical headers where some operations; depend on that header information (e.g. VCF using its headers to; determine type information of annotation fields).; compression_type: Either 'ZLIB', 'GZIP', '' (uncompressed), or; None. If None, __init__ will guess the compression type based on; the input_path's suffix. Raises:; IOError: if there was any problem opening output_path for writing.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/genomics_writer.py:194,log,logical,194,third_party/nucleus/io/genomics_writer.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/genomics_writer.py,1,['log'],['logical']
Testability,"""""""Is variant a non-reference call?. A Variant proto doesn't always imply that there's a variant present in the; genome. The call may not have alternate bases, may be filtered, may a have; hom-ref genotype, etc. This function looks for all of those configurations; and returns true iff the variant is asserting that a mutation is present; in the same. Note that this code allows a variant without a calls field to be variant,; but one with a genotype call must have a non-reference genotype to be; considered variant (if require_non_ref_genotype is True, the default). If; False, a variant that passes all of the site-level requirements for being; a variant_call will return a True value, regardless of the genotypes, which; means that we'll consider a site with a sample with a hom-ref or no-call site; a variant call. Args:; variant: nucleus.genomics.v1.Variant.; require_non_ref_genotype: Should we require a site with a genotype call to; have a non-reference (het, hom-var) genotype for the site to be considered; a variant call?; no_calls_are_variant: If a site has genotypes, should we consider no_call; genotypes as being variant or not? e.g. -1/1 listed as ./. in VCF; call_indices: A list of 0-based indices. If specified, only the calls; at the given indices will be considered. The function will return; True if any of those calls are variant.; apply_filter: If set to True, will never treat this site as variant when; any filter other than PASS or . is set. Returns:; True if variant is really a mutation call.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils.py:301,assert,asserting,301,third_party/nucleus/util/variant_utils.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils.py,1,['assert'],['asserting']
Testability,"""""""Logs the given message at ERROR level and raises exception. Args:; msg: [`string`]. The message to log and use in the raised exception.; exception_class: [`Exception`]. The class of exception to raise. Raises:; Error: An exception of the type specified by the input exception_class.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/errors.py:3,Log,Logs,3,third_party/nucleus/util/errors.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/errors.py,2,"['Log', 'log']","['Logs', 'log']"
Testability,"""""""Logs, if enabled, graph construction information for region.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py:3,Log,Logs,3,deepvariant/make_examples_core.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py,2,['Log'],['Logs']
Testability,"""""""Logs, if enabled, the realigned reads for region.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py:3,Log,Logs,3,deepvariant/make_examples_core.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py,2,['Log'],['Logs']
Testability,"""""""Make EstimatorSpec for the current model. Args:; features: a single Tensor or dict of same (from input_fn).; endpoints: a dictionary, containing string keys mapped to endpoint; tensors of this model. The dictionary must contain a key 'Predictions'; that contains the probability of having each of 'num_classes' classes.; labels: a single Tensor or dict of same (from input_fn).; logits: a single Tensor with logits; predictions: A dictionaty that must contain the following keys: 'Logits'; and 'Predictions'.; total_loss: a single Tensor with a loss; mode: tf.estimator.ModeKeys.; params: dict. Returns:; EstimatorSpec or TPUEstimatorSpec depending on self.use_tpu.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:382,log,logits,382,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,3,"['Log', 'log']","['Logits', 'logits']"
Testability,"""""""Makes a nucleus.genomics.v1.Read for testing.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.py:40,test,testing,40,third_party/nucleus/testing/test_utils.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.py,1,['test'],['testing']
Testability,"""""""Returns True if chr:pos overlaps with any range in this RangeSet. Uses a fast bisection algorithm to determine the overlap in O(log n) time. Args:; chrom: str. The chromosome name.; pos: int. The position (0-based). Returns:; True if chr:pos overlaps with a range.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges.py:131,log,log,131,third_party/nucleus/util/ranges.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges.py,1,['log'],['log']
Testability,"""""""Returns a call_variants (command, logfile) for subprocess.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deepsomatic.py:37,log,logfile,37,scripts/run_deepsomatic.py,,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deepsomatic.py,2,['log'],['logfile']
Testability,"""""""Returns a make_examples (command, logfile) for subprocess. Args:; ref: Input FASTA file.; reads: Input BAM file.; examples: Output tfrecord file containing tensorflow.Example files.; extra_args: Comma-separated list of flag_name=flag_value.; runtime_by_region_path: Output path for runtime by region metrics.; **kwargs: Additional arguments to pass in for make_examples. Returns:; (string, string) A command to run, and a log file to output to.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deepvariant.py:37,log,logfile,37,scripts/run_deepvariant.py,,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deepvariant.py,2,['log'],"['log', 'logfile']"
Testability,"""""""Returns a make_examples_somatic (command, logfile) for subprocess. Args:; ref: Input FASTA file.; reads_tumor: Input tumor BAM file.; reads_normal: Input normal BAM file.; examples: Output tfrecord file containing tensorflow.Example files.; extra_args: Comma-separated list of flag_name=flag_value.; runtime_by_region_path: Output path for runtime by region metrics.; **kwargs: Additional arguments to pass in for make_examples_somatic. Returns:; (string, string) A command to run, and a log file to output to.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deepsomatic.py:45,log,logfile,45,scripts/run_deepsomatic.py,,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deepsomatic.py,2,['log'],"['log', 'logfile']"
Testability,"""""""Returns a new tf.estimator.Estimator object for training or prediction. The estimator needs to know batch_size. We use the same value for all; of eval, train, and predict. The estimator will automatically save; checkpoints to model_dir and keep the specified number of them. The value; of iterations_per_loop is not critical, and we default to the recommended; value. Some optional arguments are only required for use with TPU. This function will use self.model_fn and self.use_tpu when constructing the; model specific Estimator object. Estimators are also sometimes called classifiers. Args:; batch_size: the batch size to use (for TRAIN, EVAL, and PREDICT modes).; model_dir: an (optional) string directory to use as the model directory.; max_checkpoints_to_keep: an (optional) integer count of saved checkpoints.; iterations_per_loop: an (optional) integer count of log_step_count_steps.; params: an (optional) dictionary of parameters to pass to the Estimator; constructor.; unused_device_fn: a device_fn to pass to RunConfig, if not use_tpu.; master: a string necessary for TPU, pass FLAGS.master through.; use_tpu: boolean. set self.use_tpu if not None.; start_from_checkpoint: string. If not None, initialize model from this; path. According to the current implementation of Estimator, this will; only be used in training. The inference checkpoint is loaded in a; different place.; session_config: a tf.ConfigProto to pass to RunConfig, if not use_tpu.; include_debug_info: from call_variants. If True, PREDICT mode will include; extra info such as logits and prelogits. Returns:; an object implementing the tf.estimator.Estimator interface (will be a; TPUEstimator if self.use_tpu is True).; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:1560,log,logits,1560,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['log'],['logits']
Testability,"""""""Returns a path to a tempfile named name in the test_tmpdir. Args:; name: str; the name of the file, should not contain any slashes.; contents: bytes, or None. If not None, tmpfile's contents will be set to; contents before returning the path. Returns:; str path to a tmpfile with filename name in our test tmpfile directory.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.py:304,test,test,304,third_party/nucleus/testing/test_utils.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.py,1,['test'],['test']
Testability,"""""""Returns a postprocess_variants (command, logfile) for subprocess.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deepsomatic.py:44,log,logfile,44,scripts/run_deepsomatic.py,,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deepsomatic.py,2,['log'],['logfile']
Testability,"""""""Returns a runtime_by_region_vis (command, logfile=None) for subprocess.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deepsomatic.py:45,log,logfile,45,scripts/run_deepsomatic.py,,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deepsomatic.py,2,['log'],['logfile']
Testability,"""""""Returns a vcf_stats_report (command, logfile) for subprocess. Args:; vcf_path: Path to VCF, which will be passed to --input_vcf and; suffix-trimmed for --outfile_base.; title: Passed straight to command unless it's None. Returns:; [command string for subprocess, optional log directory path]; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deepsomatic.py:40,log,logfile,40,scripts/run_deepsomatic.py,,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deepsomatic.py,4,['log'],"['log', 'logfile']"
Testability,"""""""Returns an InceptionV3 architecture. See https://tensorflow.org/api_docs/python/tf/keras/applications/InceptionV3. Args:; input_shape: a 3-tuple describing the input shape.; weights: str. To initial weights from.; init_backbone_with_imagenet: If True, get a model with InceptionV3 that has; `weights='imagenet'` to start with. This will download a model. It should; be set to False in unit tests, or when specific model weights will be; loaded afterwards.; config: a model configuration. Returns:; An InceptionV3-based model.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py:393,test,tests,393,deepvariant/keras_modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py,1,['test'],['tests']
Testability,"""""""Smoke tests for the genomics environment.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/environment_tests/env_smoke_test.py:9,test,tests,9,deepvariant/environment_tests/env_smoke_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/environment_tests/env_smoke_test.py,1,['test'],['tests']
Testability,"""""""Test ReadAssigner.overlap_len().""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges_test.py:3,Test,Test,3,third_party/nucleus/util/ranges_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges_test.py,1,['Test'],['Test']
Testability,"""""""Test WindowSelector.process_read() with reads of low quality.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector_test.py:3,Test,Test,3,deepvariant/realigner/window_selector_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector_test.py,4,['Test'],['Test']
Testability,"""""""Test cases for call variants.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_test.py:3,Test,Test,3,deepvariant/call_variants_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_test.py,1,['Test'],['Test']
Testability,"""""""Test conversion from a native file format to tfrecord.gz, then back.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/converter_test.py:3,Test,Test,3,third_party/nucleus/io/converter_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/converter_test.py,1,['Test'],['Test']
Testability,"""""""Test end to end for long ONT reads with phasing enabled. Args:; denovo_test: If true, denovo parameters will be set.; expected_denovo_variants: Total number of denovo examples expected. This test runs ONT end to end and compares the output with the golden; output. This test is introduced because previously in training mode the; non training sample would not be phased. So this now tests to make sure; all of the training examples are phased correctly.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py:3,Test,Test,3,deeptrio/make_examples_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py,4,"['Test', 'test']","['Test', 'test', 'tests']"
Testability,"""""""Test io.SamReader on CRAM formatted files.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_test.py:3,Test,Test,3,third_party/nucleus/io/sam_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_test.py,1,['Test'],['Test']
Testability,"""""""Test longer strings, so the second-best alignment is considered.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/python/ssw_misc_test.py:3,Test,Test,3,deepvariant/realigner/python/ssw_misc_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/python/ssw_misc_test.py,1,['Test'],['Test']
Testability,"""""""Test that our Nucleus installation does not cause issues with TensorFlow.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/tensorflow_smoke_test.py:3,Test,Test,3,third_party/nucleus/testing/tensorflow_smoke_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/tensorflow_smoke_test.py,1,['Test'],['Test']
Testability,"""""""Test that our protobuf implementation behaves as we'd expect.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/environment_tests/protobuf_implementation_test.py:3,Test,Test,3,deepvariant/environment_tests/protobuf_implementation_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/environment_tests/protobuf_implementation_test.py,2,['Test'],['Test']
Testability,"""""""Test that prune_alleles + simplify_variant_alleles works as expected.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants_test.py:3,Test,Test,3,deepvariant/postprocess_variants_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants_test.py,1,['Test'],['Test']
Testability,"""""""Test that pruning removes a path traced by only one read.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/python/debruijn_graph_wrap_test.py:3,Test,Test,3,deepvariant/realigner/python/debruijn_graph_wrap_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/python/debruijn_graph_wrap_test.py,1,['Test'],['Test']
Testability,"""""""Test that pruning removes edges not between source and sink.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/python/debruijn_graph_wrap_test.py:3,Test,Test,3,deepvariant/realigner/python/debruijn_graph_wrap_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/python/debruijn_graph_wrap_test.py,1,['Test'],['Test']
Testability,"""""""Test that simplify_variant_alleles works as expected.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils_test.py:3,Test,Test,3,third_party/nucleus/util/variant_utils_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils_test.py,1,['Test'],['Test']
Testability,"""""""Test that we can use context manager to do two queries in sequence.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/sam_reader_wrap_test.py:3,Test,Test,3,third_party/nucleus/io/python/sam_reader_wrap_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/sam_reader_wrap_test.py,1,['Test'],['Test']
Testability,"""""""Test that we filter out edges containing low-quality basecalls.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/python/debruijn_graph_wrap_test.py:3,Test,Test,3,deepvariant/realigner/python/debruijn_graph_wrap_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/python/debruijn_graph_wrap_test.py,1,['Test'],['Test']
Testability,"""""""Test that we get the right error when the plugin cannot load.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/genomics_io_noplugin_test.py:3,Test,Test,3,third_party/nucleus/io/genomics_io_noplugin_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/genomics_io_noplugin_test.py,1,['Test'],['Test']
Testability,"""""""Test the ability to round-trip VCF files.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_test.py:3,Test,Test,3,third_party/nucleus/io/vcf_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_test.py,1,['Test'],['Test']
Testability,"""""""Test the functionality of tabix.build_index.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/tabix_test.py:3,Test,Test,3,third_party/nucleus/io/tabix_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/tabix_test.py,1,['Test'],['Test']
Testability,"""""""Test the functionality of the VcfHeaderCache class.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_test.py:3,Test,Test,3,third_party/nucleus/io/vcf_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_test.py,1,['Test'],['Test']
Testability,"""""""Test the functionality provided by vcf.InMemoryVcfReader.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_test.py:3,Test,Test,3,third_party/nucleus/io/vcf_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_test.py,1,['Test'],['Test']
Testability,"""""""Test the iteration functionality provided by io.SamReader.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_test.py:3,Test,Test,3,third_party/nucleus/io/sam_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_test.py,1,['Test'],['Test']
Testability,"""""""Test the iteration functionality provided by vcf.VcfReader.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_test.py:3,Test,Test,3,third_party/nucleus/io/vcf_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_test.py,1,['Test'],['Test']
Testability,"""""""Test very short strings.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/python/ssw_misc_test.py:3,Test,Test,3,deepvariant/realigner/python/ssw_misc_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/python/ssw_misc_test.py,1,['Test'],['Test']
Testability,"""""""Testing what happens when read and reference sequences are shorter.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner_test.py:3,Test,Testing,3,deepvariant/realigner/realigner_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner_test.py,1,['Test'],['Testing']
Testability,"""""""Tests VcfReader behavior on specific inputs.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_test.py:3,Test,Tests,3,third_party/nucleus/io/vcf_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_test.py,1,['Test'],['Tests']
Testability,"""""""Tests canonical DNA sequences are reverse complemented correctly.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/sequence_utils_test.py:3,Test,Tests,3,third_party/nucleus/util/sequence_utils_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/sequence_utils_test.py,1,['Test'],['Tests']
Testability,"""""""Tests error is raised when complement_dict does not cover given seq.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/sequence_utils_test.py:3,Test,Tests,3,third_party/nucleus/util/sequence_utils_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/sequence_utils_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for AlleleCounter CLIF python wrappers.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/python/allelecounter_wrap_test.py:3,Test,Tests,3,deepvariant/python/allelecounter_wrap_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/python/allelecounter_wrap_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for BedWriter CLIF python wrappers.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/bed_writer_wrap_test.py:3,Test,Tests,3,third_party/nucleus/io/python/bed_writer_wrap_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/bed_writer_wrap_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for BedWriter.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/bed_test.py:3,Test,Tests,3,third_party/nucleus/io/bed_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/bed_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for DeepVariant runtime_by_region_vis visual report script.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/runtime_by_region_vis_test.py:3,Test,Tests,3,deepvariant/runtime_by_region_vis_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/runtime_by_region_vis_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for FastqWriter CLIF python wrappers.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/fastq_writer_wrap_test.py:3,Test,Tests,3,third_party/nucleus/io/python/fastq_writer_wrap_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/fastq_writer_wrap_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for FastqWriter.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/fastq_test.py:3,Test,Tests,3,third_party/nucleus/io/fastq_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/fastq_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for GenomeReference CLIF python wrappers.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/reference_wrap_test.py:3,Test,Tests,3,third_party/nucleus/io/python/reference_wrap_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/reference_wrap_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for GenomicsReader.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/genomics_reader_test.py:3,Test,Tests,3,third_party/nucleus/io/genomics_reader_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/genomics_reader_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for GffWriter CLIF python wrappers.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/gff_writer_wrap_test.py:3,Test,Tests,3,third_party/nucleus/io/python/gff_writer_wrap_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/gff_writer_wrap_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for GffWriter.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/gff_test.py:3,Test,Tests,3,third_party/nucleus/io/gff_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/gff_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for Math CLIF python wrappers.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/python/math_wrap_test.py:3,Test,Tests,3,third_party/nucleus/util/python/math_wrap_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/python/math_wrap_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for TFRecordReader.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/genomics_reader_test.py:3,Test,Tests,3,third_party/nucleus/io/genomics_reader_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/genomics_reader_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for VariantCalling CLIF python wrappers.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/python/variant_calling_multisample_wrap_test.py:3,Test,Tests,3,deepvariant/python/variant_calling_multisample_wrap_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/python/variant_calling_multisample_wrap_test.py,2,['Test'],['Tests']
Testability,"""""""Tests for VcfWriter CLIF python wrappers.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/vcf_writer_wrap_test.py:3,Test,Tests,3,third_party/nucleus/io/python/vcf_writer_wrap_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/vcf_writer_wrap_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for VcfWriter with exclude_header=True.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_test.py:3,Test,Tests,3,third_party/nucleus/io/vcf_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for VcfWriter.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_test.py:3,Test,Tests,3,third_party/nucleus/io/vcf_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for bed_reader CLIF python wrappers.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/bed_reader_wrap_test.py:3,Test,Tests,3,third_party/nucleus/io/python/bed_reader_wrap_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/bed_reader_wrap_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for cigar.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/cigar_test.py:3,Test,Tests,3,third_party/nucleus/util/cigar_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/cigar_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for deeptrio.make_examples.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py:3,Test,Tests,3,deeptrio/make_examples_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for deepvariant .call_variants_slim.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_slim_test.py:3,Test,Tests,3,deepvariant/call_variants_slim_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_slim_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for deepvariant .dashboard_utils.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dashboard_utils_test.py:3,Test,Tests,3,deepvariant/dashboard_utils_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dashboard_utils_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for deepvariant .dv_vcf_constants.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_vcf_constants_test.py:3,Test,Tests,3,deepvariant/dv_vcf_constants_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_vcf_constants_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for deepvariant .exclude_contigs.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/exclude_contigs_test.py:3,Test,Tests,3,deepvariant/exclude_contigs_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/exclude_contigs_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for deepvariant .haplotypes.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes_test.py:3,Test,Tests,3,deepvariant/haplotypes_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for deepvariant .postprocess_variants.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants_test.py:3,Test,Tests,3,deepvariant/postprocess_variants_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for deepvariant .realigner.realigner.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner_test.py:3,Test,Tests,3,deepvariant/realigner/realigner_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for deepvariant .run_deepsomatic.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deepsomatic_test.py:3,Test,Tests,3,scripts/run_deepsomatic_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deepsomatic_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for deepvariant .run_deeptrio.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deeptrio_test.py:3,Test,Tests,3,scripts/run_deeptrio_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deeptrio_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for deepvariant .show_examples.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/show_examples_test.py:3,Test,Tests,3,deepvariant/show_examples_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/show_examples_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for deepvariant .variant_caller.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_caller_test.py:3,Test,Tests,3,deepvariant/variant_caller_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_caller_test.py,2,['Test'],['Tests']
Testability,"""""""Tests for deepvariant .variant_labeler.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/customized_classes_labeler_test.py:3,Test,Tests,3,deepvariant/labeler/customized_classes_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/customized_classes_labeler_test.py,3,['Test'],['Tests']
Testability,"""""""Tests for deepvariant .vcf_candidate_importer.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/vcf_candidate_importer_test.py:3,Test,Tests,3,deepvariant/vcf_candidate_importer_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/vcf_candidate_importer_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for deepvariant .vcf_stats_vis.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/vcf_stats_vis_test.py:3,Test,Tests,3,deepvariant/vcf_stats_vis_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/vcf_stats_vis_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for deepvariant .vendor.timer.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/vendor/timer_test.py:3,Test,Tests,3,deepvariant/vendor/timer_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/vendor/timer_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for deepvariant .very_sensitive_caller.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/very_sensitive_caller_test.py:3,Test,Tests,3,deepvariant/very_sensitive_caller_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/very_sensitive_caller_test.py,2,['Test'],['Tests']
Testability,"""""""Tests for deepvariant.allele_frequency.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allele_frequency_test.py:3,Test,Tests,3,deepvariant/allele_frequency_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allele_frequency_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for deepvariant.dv_utils.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_utils_test.py:3,Test,Tests,3,deepvariant/dv_utils_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_utils_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for deepvariant.dv_utils_using_clif.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_utils_using_clif_test.py:3,Test,Tests,3,deepvariant/dv_utils_using_clif_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_utils_using_clif_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for deepvariant.haplotype_labeler.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py:3,Test,Tests,3,deepvariant/labeler/haplotype_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for deepvariant.labeled_examples_to_vcf.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/labeled_examples_to_vcf_test.py:3,Test,Tests,3,deepvariant/labeler/labeled_examples_to_vcf_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/labeled_examples_to_vcf_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for deepvariant.make_examples.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_test.py:3,Test,Tests,3,deepvariant/make_examples_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for deepvariant.make_examples_core.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core_test.py:3,Test,Tests,3,deepvariant/make_examples_core_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for deepvariant.pileup_image.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_image_test.py:3,Test,Tests,3,deepvariant/pileup_image_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_image_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for deepvariant.realigner.window_selector.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector_test.py:3,Test,Tests,3,deepvariant/realigner/window_selector_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for fastq_reader CLIF python wrappers.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/fastq_reader_wrap_test.py:3,Test,Tests,3,third_party/nucleus/io/python/fastq_reader_wrap_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/fastq_reader_wrap_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for genomics_io's plugin system.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/genomics_io_noplugin_test.py:3,Test,Tests,3,third_party/nucleus/io/genomics_io_noplugin_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/genomics_io_noplugin_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for gff_reader CLIF python wrappers.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/gff_reader_wrap_test.py:3,Test,Tests,3,third_party/nucleus/io/python/gff_reader_wrap_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/gff_reader_wrap_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for hts_verbose.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/hts_verbose_test.py:3,Test,Tests,3,third_party/nucleus/io/python/hts_verbose_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/hts_verbose_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for keras_modeling.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling_test.py:3,Test,Tests,3,deepvariant/keras_modeling_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for learning.genomics.deepvariant.data_provider.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers_test.py:3,Test,Tests,3,deepvariant/data_providers_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for learning.genomics.deepvariant.modeling.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling_test.py:3,Test,Tests,3,deepvariant/modeling_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for learning.genomics.deepvariant.resources.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/resources_test.py:3,Test,Tests,3,deepvariant/resources_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/resources_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for make_examples_somatic.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_somatic_test.py:3,Test,Tests,3,deepvariant/make_examples_somatic_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_somatic_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for nucleus's testing.test_utils.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils_test.py:3,Test,Tests,3,third_party/nucleus/testing/test_utils_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils_test.py,2,"['Test', 'test']","['Tests', 'testing']"
Testability,"""""""Tests for ranges.py.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges_test.py:3,Test,Tests,3,third_party/nucleus/util/ranges_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for sam.SamWriter.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_test.py:3,Test,Tests,3,third_party/nucleus/io/sam_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for sam_reader CLIF python wrappers.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/sam_reader_wrap_test.py:3,Test,Tests,3,third_party/nucleus/io/python/sam_reader_wrap_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/sam_reader_wrap_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for the wrapped SSW aligner in a way that fails with gcc5.4.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/python/ssw_misc_test.py:3,Test,Tests,3,deepvariant/realigner/python/ssw_misc_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/python/ssw_misc_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for third_party.nucleus.examples.convert_genomics_file. These tests do NOT establish the correctness of conversions---tests of the; fidelity of the Reader and Writer classes exist elsewhere in Nucleus. Rather,; these tests simply exercise that the conversion *runs* for each input/output; file type.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/converter_test.py:3,Test,Tests,3,third_party/nucleus/io/converter_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/converter_test.py,4,"['Test', 'test']","['Tests', 'tests']"
Testability,"""""""Tests for third_party.nucleus.io.bed.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/bed_test.py:3,Test,Tests,3,third_party/nucleus/io/bed_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/bed_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for third_party.nucleus.io.bedgraph.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/bedgraph_test.py:3,Test,Tests,3,third_party/nucleus/io/bedgraph_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/bedgraph_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for third_party.nucleus.io.fasta.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/fasta_test.py:3,Test,Tests,3,third_party/nucleus/io/fasta_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/fasta_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for third_party.nucleus.io.fastq.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/fastq_test.py:3,Test,Tests,3,third_party/nucleus/io/fastq_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/fastq_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for third_party.nucleus.io.gff.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/gff_test.py:3,Test,Tests,3,third_party/nucleus/io/gff_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/gff_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for third_party.nucleus.io.gfile.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/gfile_test.py:3,Test,Tests,3,third_party/nucleus/io/gfile_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/gfile_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for third_party.nucleus.io.sharded_file_utils.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sharded_file_utils_test.py:3,Test,Tests,3,third_party/nucleus/io/sharded_file_utils_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sharded_file_utils_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for third_party.nucleus.io.tabix.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/tabix_test.py:3,Test,Tests,3,third_party/nucleus/io/tabix_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/tabix_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for third_party.nucleus.io.tfrecord.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/tfrecord_test.py:3,Test,Tests,3,third_party/nucleus/io/tfrecord_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/tfrecord_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for third_party.nucleus.io.vcf.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/genomics_reader_test.py:3,Test,Tests,3,third_party/nucleus/io/genomics_reader_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/genomics_reader_test.py,2,['Test'],['Tests']
Testability,"""""""Tests for third_party.nucleus.util.errors.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/errors_test.py:3,Test,Tests,3,third_party/nucleus/util/errors_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/errors_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for third_party.nucleus.util.genomics_math.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/genomics_math_test.py:3,Test,Tests,3,third_party/nucleus/util/genomics_math_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/genomics_math_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for third_party.nucleus.util.io.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_test.py:3,Test,Tests,3,third_party/nucleus/io/sam_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for third_party.nucleus.util.sequence_utils.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/sequence_utils_test.py:3,Test,Tests,3,third_party/nucleus/util/sequence_utils_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/sequence_utils_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for third_party.nucleus.util.struct_utils.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/struct_utils_test.py:3,Test,Tests,3,third_party/nucleus/util/struct_utils_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/struct_utils_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for third_party.nucleus.util.utils.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/utils_test.py:3,Test,Tests,3,third_party/nucleus/util/utils_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/utils_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for third_party.nucleus.util.vcf_constants.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vcf_constants_test.py:3,Test,Tests,3,third_party/nucleus/util/vcf_constants_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vcf_constants_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for third_party.nucleus.util.vis.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vis_test.py:3,Test,Tests,3,third_party/nucleus/util/vis_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vis_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for variant_utils.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils_test.py:3,Test,Tests,3,third_party/nucleus/util/variant_utils_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for variantcall_utils.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variantcall_utils_test.py:3,Test,Tests,3,third_party/nucleus/util/variantcall_utils_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variantcall_utils_test.py,1,['Test'],['Tests']
Testability,"""""""Tests for vcf_reader CLIF python wrappers.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/vcf_reader_wrap_test.py:3,Test,Tests,3,third_party/nucleus/io/python/vcf_reader_wrap_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/vcf_reader_wrap_test.py,1,['Test'],['Tests']
Testability,"""""""Tests observed frequency is close to expected frequency.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/utils_test.py:3,Test,Tests,3,third_party/nucleus/util/utils_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/utils_test.py,1,['Test'],['Tests']
Testability,"""""""Tests of PileupImageCreator build_pileup routine for Trio.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_image_test.py:3,Test,Tests,3,deepvariant/pileup_image_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_image_test.py,1,['Test'],['Tests']
Testability,"""""""Tests of PileupImageCreator build_pileup routine.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_image_test.py:3,Test,Tests,3,deepvariant/pileup_image_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_image_test.py,1,['Test'],['Tests']
Testability,"""""""Tests of input_fn, doing end-to-end I/O. These tests instantiate an input stream and then check it in various ways,; in increasing complexity.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers_test.py:3,Test,Tests,3,deepvariant/data_providers_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers_test.py,2,"['Test', 'test']","['Tests', 'tests']"
Testability,"""""""Tests reading a VCF with unconventional FORMAT field definition. Tests reading a VCF in which the properties of the format; fields are defined in mixed order in the header. For example,. ##FORMAT=<ID=GT,Type=String,Number=1,Description=""GT description"">. (In normal VCFs ""Number"" should come before ""Type"".); """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_test.py:3,Test,Tests,3,third_party/nucleus/io/vcf_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_test.py,2,['Test'],['Tests']
Testability,"""""""Tests reads have their ends calculated correctly.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/utils_test.py:3,Test,Tests,3,third_party/nucleus/util/utils_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/utils_test.py,1,['Test'],['Tests']
Testability,"""""""Tests reads have their ranges calculated correctly.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/utils_test.py:3,Test,Tests,3,third_party/nucleus/util/utils_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/utils_test.py,1,['Test'],['Tests']
Testability,"""""""Tests samples have expected length.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/utils_test.py:3,Test,Tests,3,third_party/nucleus/util/utils_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/utils_test.py,1,['Test'],['Tests']
Testability,"""""""Tests that base set and complement dict definitions are consistent.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/sequence_utils_test.py:3,Test,Tests,3,third_party/nucleus/util/sequence_utils_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/sequence_utils_test.py,1,['Test'],['Tests']
Testability,"""""""Tests that call_variants can run in a environment with an accelerator.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_accelerator_test.py:3,Test,Tests,3,deepvariant/call_variants_accelerator_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_accelerator_test.py,1,['Test'],['Tests']
Testability,"""""""Tests that iterate returns an iterable containing our variants.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_test.py:3,Test,Tests,3,third_party/nucleus/io/vcf_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_test.py,1,['Test'],['Tests']
Testability,"""""""Tests that read sets don't result in a crash in reference_fai.cc.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner_test.py:3,Test,Tests,3,deepvariant/realigner/realigner_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner_test.py,1,['Test'],['Tests']
Testability,"""""""Tests that the reader provides us back the header we gave it.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_test.py:3,Test,Tests,3,third_party/nucleus/io/vcf_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_test.py,1,['Test'],['Tests']
Testability,"""""""Tests that we don't blow up when the coverage gets really high.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_caller_test.py:3,Test,Tests,3,deepvariant/variant_caller_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_caller_test.py,2,['Test'],['Tests']
Testability,"""""""Tests the Align method, reversing query and ref from above.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/python/ssw_wrap_test.py:3,Test,Tests,3,deepvariant/realigner/python/ssw_wrap_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/python/ssw_wrap_test.py,1,['Test'],['Tests']
Testability,"""""""Tests the Align method.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/python/ssw_wrap_test.py:3,Test,Tests,3,deepvariant/realigner/python/ssw_wrap_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/python/ssw_wrap_test.py,1,['Test'],['Tests']
Testability,"""""""Tests writing all the records that are 'canned' in our tfrecord file.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/bed_writer_wrap_test.py:3,Test,Tests,3,third_party/nucleus/io/python/bed_writer_wrap_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/bed_writer_wrap_test.py,2,['Test'],['Tests']
Testability,"""""""Tests writing all the variants that are 'canned' in our tfrecord file.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/fastq_writer_wrap_test.py:3,Test,Tests,3,third_party/nucleus/io/python/fastq_writer_wrap_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/fastq_writer_wrap_test.py,2,['Test'],['Tests']
Testability,"""""""This is a regression test for internal.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/python/debruijn_graph_wrap_test.py:24,test,test,24,deepvariant/realigner/python/debruijn_graph_wrap_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/python/debruijn_graph_wrap_test.py,2,['test'],['test']
Testability,"""""""Training host call. Creates scalar summaries for training metrics. This function is executed on the CPU and should not directly reference; any Tensors in the rest of the `model_fn`. To pass Tensors from the; model to the `metric_fn`, provide as part of the `host_call`. See; https://www.tensorflow.org/api_docs/python/tf/compat/v1/estimator/tpu/TPUEstimator; for more information.; Arguments should match the list of `Tensor` objects passed as the second; element in the tuple passed to `host_call`.; Args:; global_step: Tensor with shape `[batch]` for the global_step; *args: Remaining tensors to log. Returns:; List of summary ops to run on the CPU host.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:601,log,log,601,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['log'],['log']
Testability,"""""""Utilities to help with testing DeepVariant code.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/testdata.py:26,test,testing,26,deeptrio/testdata.py,,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/testdata.py,2,['test'],['testing']
Testability,"""""""Utilities to help with testing code.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.py:26,test,testing,26,third_party/nucleus/testing/test_utils.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.py,1,['test'],['testing']
Testability,"""""""Write basic information about haplotypes to logging.info.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler.py:47,log,logging,47,deepvariant/labeler/haplotype_labeler.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler.py,1,['log'],['logging']
Testability,"""""""Write basic information about variants to logging.info.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler.py:45,log,logging,45,deepvariant/labeler/haplotype_labeler.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler.py,1,['log'],['logging']
Testability,"""""""tf.data.Dataset loading function. Args:; path: the input filename for a tfrecord[.gz] file containing examples. Can; contain sharding designators.; config: A configuration file.; mode: One of ['train', 'tune', 'predict']; strategy: A tf.distribute.Strategy.; n_epochs: Number of epochs.; limit: Limit the number of batches for testing purposes. Returns:; tf.data.Dataset; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py:330,test,testing,330,deepvariant/data_providers.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py,1,['test'],['testing']
Testability,"# ------------------------------------------------------------------------------; # Simple functions for getting host_name, cpu count, etc. Isolated here to make; # them mockable.; # ------------------------------------------------------------------------------",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/resources.py:170,mock,mockable,170,deepvariant/resources.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/resources.py,1,['mock'],['mockable']
Testability,"# ------------------------------------------------------------------------; # These reads are all simple and just test the basic position calculation.; # ------------------------------------------------------------------------",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector_test.py:114,test,test,114,deepvariant/realigner/window_selector_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector_test.py,2,['test'],['test']
Testability,"# ------------------------------------------------------------------------; # These reads test that we correctly ignore bases with low qualities.; # ------------------------------------------------------------------------",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector_test.py:90,test,test,90,deepvariant/realigner/window_selector_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector_test.py,1,['test'],['test']
Testability,"# A few basic tests of functionality to start:; # We group a single variant without associated truth variants.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py:14,test,tests,14,deepvariant/labeler/haplotype_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py,1,['test'],['tests']
Testability,"# A set containing the names of the variant types we split our metrics by type; # by. This data structure isn't a dictionary like it's neighbors because; # eval_metric_fn requires special logic to compute the values here associated; # with each of these names.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:188,log,logic,188,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['log'],['logic']
Testability,"# Abstracted out the file open/close to enable testing.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/runtime_by_region_vis.py:47,test,testing,47,deepvariant/runtime_by_region_vis.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/runtime_by_region_vis.py,1,['test'],['testing']
Testability,"# Adding the following flags to match how the testdata was created.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_test.py:46,test,testdata,46,deepvariant/make_examples_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_test.py,1,['test'],['testdata']
Testability,"# All tests after this point should only look at genotype-based fields, as; # we may have aborted out in the prev. line due to require_non_ref_genotype.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils.py:6,test,tests,6,third_party/nucleus/util/variant_utils.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils.py,1,['test'],['tests']
Testability,"# All tests are run with fast_pass_aligner enabled. There are no; # golden sets version for ssw realigner.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py:6,test,tests,6,deeptrio/make_examples_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py,2,['test'],['tests']
Testability,"# Although interface allows for multiple alt alleles, the test only supports a; # single alt allele. This is done for simplicity. Otherwise we would need to; # prove input_read_attributes/expected_read_attributes for each alt allele; # which will make the source code hard to follow.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core_test.py:58,test,test,58,deepvariant/make_examples_core_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core_test.py,1,['test'],['test']
Testability,"# An extreme case where our logic could result in ZeroDivisionError if; # we don't handle this special case.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants_test.py:28,log,logic,28,deepvariant/postprocess_variants_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants_test.py,2,['log'],['logic']
Testability,"# Another test of grouping across candidates and truth.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py:10,test,test,10,deepvariant/labeler/haplotype_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py,1,['test'],['test']
Testability,"# Assert",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_test.py:2,Assert,Assert,2,deepvariant/call_variants_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_test.py,1,['Assert'],['Assert']
Testability,"# Assert that items are sorted",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py:2,Assert,Assert,2,deepvariant/make_examples_core.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py,1,['Assert'],['Assert']
Testability,"# Assert that we have no genotypes in self.variants to check that; # candidates_with_assigned_genotypes isn't modifying our variants.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py:2,Assert,Assert,2,deepvariant/labeler/haplotype_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py,1,['Assert'],['Assert']
Testability,"# At or below read_buffer_length=15 the reads start to come back; # unaligned, but this depends on the specific ref and alt alleles, so; # this does not include exhaustive tests for how low these values can go.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner_test.py:172,test,tests,172,deepvariant/realigner/realigner_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner_test.py,1,['test'],['tests']
Testability,"# Basic multi-allelic tests, without having to deal with simplifying; # alleles as all of the alleles are SNPs. Our candidates have an extra; # allele, but the true GT is A/C.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/variant_labeler_test.py:22,test,tests,22,deepvariant/labeler/variant_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/variant_labeler_test.py,1,['test'],['tests']
Testability,"# Because this test is with just one sample, whether; # enable_joint_realignment is True or False doesn't make a difference.; # NOTE: When creating this test, I deliberately change the behavior of; # enable_joint_realignment==False and confirm that this test can fail,; # if the outputs are different when we alter enable_joint_realignment.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_test.py:15,test,test,15,deepvariant/make_examples_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_test.py,3,['test'],['test']
Testability,"# Call variants now produce sharded outputs so the golden test has been; # changed to have sharded input.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants_test.py:58,test,test,58,deepvariant/postprocess_variants_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants_test.py,1,['test'],['test']
Testability,"# Change height to 7 so that we have at least 5 rows for reads to test; # sorting by haplotypes.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_image_test.py:66,test,test,66,deepvariant/pileup_image_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_image_test.py,1,['test'],['test']
Testability,"# Check that excluding pieces works. The main checks on taking the; # difference between two RangeSets live in ranges.py so here we are just; # making sure some basic logic works.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core_test.py:167,log,logic,167,deepvariant/make_examples_core_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core_test.py,1,['log'],['logic']
Testability,"# Check that our CallVariantsOutput (CVO) have the following critical; # properties:; # - we have one CVO for each example we processed.; # - the variant in the CVO is exactly what was in the example.; # - the alt_allele_indices of the CVO match those of its corresponding; # example.; # - there are 3 genotype probabilities and these are between 0.0 and 1.0.; # We can only do this test when processing all of the variants (max_batches; # is None), since we processed all of the examples with that model.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_slim_test.py:383,test,test,383,deepvariant/call_variants_slim_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_slim_test.py,1,['test'],['test']
Testability,"# Check the CVO debug_info: not filled if include_debug_info is False;; # else, filled by logic based on CVO.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_slim_test.py:90,log,logic,90,deepvariant/call_variants_slim_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_slim_test.py,1,['log'],['logic']
Testability,"# Checks that we load the variant if needed and that our mock is working.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_utils_using_clif_test.py:57,mock,mock,57,deepvariant/dv_utils_using_clif_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/dv_utils_using_clif_test.py,1,['mock'],['mock']
Testability,"# Commented out because we in fact don't detect the malformed VCF yet. It is; # unclear if it's even possible to detect the issue with the API provided by; # htslib.; # def test_vcf_iterate_raises_on_malformed_record(self):; # malformed = test_utils.genomics_core_testdata('malformed.vcf'); # reader = vcf_reader.VcfReader.from_file(malformed, self.unindexed_options); # iterable = iter(reader.iterate()); # self.assertIsNotNone(next(iterable)); # with self.assertRaises(ValueError):; # print(list(iterable))",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/vcf_reader_wrap_test.py:413,assert,assertIsNotNone,413,third_party/nucleus/io/python/vcf_reader_wrap_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/python/vcf_reader_wrap_test.py,2,['assert'],"['assertIsNotNone', 'assertRaises']"
Testability,"# Create a model and save it to a checkpoint. Then test whether we can; # detect its number of channels correctly.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling_test.py:51,test,test,51,deepvariant/keras_modeling_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling_test.py,2,['test'],['test']
Testability,"# Create test reads.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core_test.py:9,test,test,9,deepvariant/make_examples_core_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core_test.py,1,['test'],['test']
Testability,"# Create test variant.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core_test.py:9,test,test,9,deepvariant/make_examples_core_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core_test.py,1,['test'],['test']
Testability,"# Despite its name, assertCountEqual checks that all items are equal.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py:20,assert,assertCountEqual,20,deeptrio/make_examples_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py,1,['assert'],['assertCountEqual']
Testability,"# Despite the name, assertCountEqual checks that all elements match.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_test.py:20,assert,assertCountEqual,20,deepvariant/make_examples_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_test.py,1,['assert'],['assertCountEqual']
Testability,"# Doubling because it's a two-tailed test.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vis.py:37,test,test,37,third_party/nucleus/util/vis.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vis.py,1,['test'],['test']
Testability,"# Dump all processed variants to the disk so that the C++; # merge_and_write_variants_and_nonvariants logic can access them.; # Note: This takes a really long time, but not because of the writing to; # the disk, but rather because it runs all the transformations on the; # variants at this point and not later on.; # That is fine, and there is no need to blame this part of the code when; # noticing how long it takes.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py:102,log,logic,102,deepvariant/postprocess_variants.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py,1,['log'],['logic']
Testability,"# Environment metrics; all mocked out.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/resources_test.py:27,mock,mocked,27,deepvariant/resources_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/resources_test.py,1,['mock'],['mocked']
Testability,"# Finds a call in our actual call set for each NIST variant, asserting; # that we found exactly one.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py:61,assert,asserting,61,deeptrio/make_examples_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py,2,['assert'],['asserting']
Testability,"# First test with no alleleic depth.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants_test.py:8,test,test,8,deepvariant/postprocess_variants_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants_test.py,1,['test'],['test']
Testability,"# For convenience we allow 'test.bed' in our regions but the actual file; # path is in our testdata directory.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges_test.py:28,test,test,28,third_party/nucleus/util/ranges_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges_test.py,2,['test'],"['test', 'testdata']"
Testability,"# For tests that don't actually want to read a real checkpoint,; # return a fake one. The estimator understands None to mean; # that all the variables should be left uninitialized.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_slim_test.py:6,test,tests,6,deepvariant/call_variants_slim_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_slim_test.py,1,['test'],['tests']
Testability,"# For the constant model, which is for testing only, we just set the; # variant_types to 0s. This is needed because it doesn't work to fetch; # 'variant_type' from either features or endpoints here. Annoying.; # variant_types = features['variant_type'] # Fails.; # variant_types = endpoints['variant_type'] # Fails.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:39,test,testing,39,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['test'],['testing']
Testability,"# Get our images, labels, and variants for further testing.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers_test.py:51,test,testing,51,deepvariant/data_providers_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers_test.py,1,['test'],['testing']
Testability,"# Have to be wrapped in a list to stop parameterized from treating the; # tuple as the positional arguments to the test function.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/cigar_test.py:115,test,test,115,third_party/nucleus/util/cigar_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/cigar_test.py,1,['test'],['test']
Testability,"# Hide the baseclass inside an enclosing scope so that unittest doesn't try to; # run our baseclass tests directly. http://stackoverflow.com/a/1323554.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling_test.py:100,test,tests,100,deepvariant/modeling_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling_test.py,1,['test'],['tests']
Testability,"# I saw a bug at runtime, and the testcase makes sure we scale values of; # n_ref_reads close to n_total_reads appropriately.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_caller_test.py:34,test,testcase,34,deepvariant/variant_caller_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_caller_test.py,2,['test'],['testcase']
Testability,"# If denovo test is enabled, then set the parameters for denovo testing.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py:12,test,test,12,deeptrio/make_examples_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py,2,['test'],"['test', 'testing']"
Testability,"# If no weights file is specified, initialize with `imagenet`.; # The `init_backbone_with_imagenet` flag should be set to False for unit; # tests to avoid loading the `imagenet` model from online.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py:140,test,tests,140,deepvariant/keras_modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py,1,['test'],['tests']
Testability,"# If we point the test at a headless server, it will often be 2x2,; # which has 8 replicas. Otherwise a smaller batch size is fine.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_slim_test.py:18,test,test,18,deepvariant/call_variants_slim_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_slim_test.py,1,['test'],['test']
Testability,"# In candidate_sweep mode the test stops here.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py:30,test,test,30,deeptrio/make_examples_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py,2,['test'],['test']
Testability,"# In the OSS version this becomes 'nucleus/testdata'",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.py:43,test,testdata,43,third_party/nucleus/testing/test_utils.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.py,1,['test'],['testdata']
Testability,"# It looks like tf.data.Dataset.list_files is potentially nondeterministic.; # There's no guaranteed way to get around that (yet, internal).; # A list_files() flag I want is only available in tf 1.7,; # so for the short term, work around the problem by asking; # self.assertTfDataSetExamplesMatchExpected to sort the; # loci it sees. That doesn't generalize well, but we should; # be able to fix this soon.; # pylint: disable=g-complex-comprehension",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers_test.py:268,assert,assertTfDataSetExamplesMatchExpected,268,deepvariant/data_providers_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers_test.py,1,['assert'],['assertTfDataSetExamplesMatchExpected']
Testability,"# Json strings of dataframes from testdata.RUNTIME_BY_REGION.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/runtime_by_region_vis_test.py:34,test,testdata,34,deepvariant/runtime_by_region_vis_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/runtime_by_region_vis_test.py,1,['test'],['testdata']
Testability,"# Load candidate_positions if the flag is set. Partitioning logic will depend; # on whether candidate_positions is set.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py:60,log,logic,60,deepvariant/make_examples_core.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py,1,['log'],['logic']
Testability,"# Load in test data and get input shape",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_test.py:10,test,test,10,deepvariant/call_variants_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_test.py,1,['test'],['test']
Testability,"# Log metrics",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train.py:2,Log,Log,2,deepvariant/train.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train.py,1,['Log'],['Log']
Testability,"# Logging frequency when building our rangeset objects, which can take some time; # to complete. Rather than just pausing for a few minutes, we provide an update; # logging message every _LOG_EVERY_N_RANGES_IN_RANGESET_INIT records added. See; # internal for more information.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges.py:2,Log,Logging,2,third_party/nucleus/util/ranges.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges.py,2,"['Log', 'log']","['Logging', 'logging']"
Testability,"# Many of these tests are cases from our labeler analysis doc:; # https://docs.google.com/document/d/1V89IIT0YM3P0gH_tQb-ahodf8Jvnz0alXEnjCf6JVNo",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py:16,test,tests,16,deepvariant/labeler/haplotype_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py,1,['test'],['tests']
Testability,"# Mocking the list_devices call means the framework attempts to use a bogus; # TPU device, which fails, so don't do that. Handle the TPU case elsewhere.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_slim_test.py:2,Mock,Mocking,2,deepvariant/call_variants_slim_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_slim_test.py,1,['Mock'],['Mocking']
Testability,"# Multi-allelic test examples.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants_test.py:16,test,test,16,deepvariant/postprocess_variants_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants_test.py,1,['test'],['test']
Testability,"# N.B. This test is only invoked when testing the pip package.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/tensorflow_smoke_test.py:12,test,test,12,third_party/nucleus/testing/tensorflow_smoke_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/tensorflow_smoke_test.py,2,['test'],"['test', 'testing']"
Testability,"# NB. This entire collection of tests will be invoked with '--use_tpu=' 'true'; # and 'false' by the BUILD file, and a tpu device will be allocated when; # necessary.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_slim_test.py:32,test,tests,32,deepvariant/call_variants_slim_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_slim_test.py,1,['test'],['tests']
Testability,"# Names of testdata GFF files; we also reuse these basenames for output files; # in the tmp directory.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/gff_test.py:11,test,testdata,11,third_party/nucleus/io/gff_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/gff_test.py,1,['test'],['testdata']
Testability,"# Note that CRAM version 2.1 files work with Nucleus but they cannot be used in; # our test here because CRAM 2.1 embeds an exact path to the reference file; # which LEAKR flags as leaking internal google paths.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_test.py:87,test,test,87,third_party/nucleus/io/sam_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_test.py,1,['test'],['test']
Testability,"# Note that these tests aren't so comprehensive as we are trusting that; # the intersection code logic itself is good and well-tested elsewhere.; # Here we are focusing on some basic tests and handling of missing; # calling_region and confident_region data.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core_test.py:18,test,tests,18,deepvariant/make_examples_core_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core_test.py,4,"['log', 'test']","['logic', 'tested', 'tests']"
Testability,"# Note that this logic below might not be the best when; # `alt_alleles_indices` is a composite one, like [0, 1]. For now we'll; # return the corresponding label if any of them matches truth_alt.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/customized_classes_labeler.py:17,log,logic,17,deepvariant/labeler/customized_classes_labeler.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/customized_classes_labeler.py,1,['log'],['logic']
Testability,"# Note that we only expect the gq and gls to be close if we are not; # rescaling the counts, so we are only looping over values that should be; # cached. In practice the cache is set to values sufficiently large that; # these differences don't matter, but for this test we are limiting the; # cache size to a small value in _CACHE_COVERAGE so we can test that the; # cache lookups are correct.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_caller_test.py:265,test,test,265,deepvariant/variant_caller_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_caller_test.py,4,['test'],['test']
Testability,"# Note this test is only applied to inception_v3.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling_test.py:12,test,test,12,deepvariant/modeling_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling_test.py,1,['test'],['test']
Testability,"# Note this test must be 'is None' since label_variants can return an; # empty list.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler.py:12,test,test,12,deepvariant/labeler/haplotype_labeler.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler.py,1,['test'],['test']
Testability,"# Note: Most of the resolution code is tested below in the; # test_resolve_overlapping_variants function. This test mostly just ensures; # that the interaction with RefCall variants is properly handled.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes_test.py:39,test,tested,39,deepvariant/haplotypes_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes_test.py,2,['test'],"['test', 'tested']"
Testability,"# Now some tests to exercise the max group size with both candidates and; # truth variants. We vary the max group size to make sure the grouping; # algorithm splits correctly.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py:11,test,tests,11,deepvariant/labeler/haplotype_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py,1,['test'],['tests']
Testability,"# Now, this is the main part of the test. I want to test the behavior after; # I set max_reads_for_dynamic_bases_per_region.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py:36,test,test,36,deeptrio/make_examples_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py,4,['test'],['test']
Testability,"# One last log to capture the extra examples.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_slim.py:11,log,log,11,deepvariant/call_variants_slim.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_slim.py,1,['log'],['log']
Testability,"# Only tests the 'gvcfs' creation part of calls_and_gvcfs. The `calls`; # portion of this method needs to be tested in subclasses, which have; # implemented the get_candidates method.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_caller_test.py:7,test,tests,7,deepvariant/variant_caller_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_caller_test.py,4,['test'],"['tested', 'tests']"
Testability,"# Otherwise we need to explicitly override the reference encoded in the UR; # of the CRAM file to use the path provided to our test.fasta.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_test.py:127,test,test,127,third_party/nucleus/io/sam_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_test.py,1,['test'],['test']
Testability,"# Otherwise, the actual genotype calls are incompatible. Since the genotype; # likelihoods are generally well-calibrated, we examine all configurations of; # genotypes that create compatible haplotypes and retain the single; # configuration with the highest joint likelihood across all variants as the; # proposed genotype assignment. Separately, we rescale the likelihood of each; # individual variant using only the valid genotype configurations. If the; # results are concordant (i.e., the genotype predicted by the marginal; # likelihood for each variant is the same as the genotype predicted when; # maximizing the joint likelihood across all variants), we return variants; # with those calls and the rescaled likelihoods. Otherwise, we log a warning; # and emit the original (incompatible) variants.; #; # For example, a biallelic deletion with probabilities of homref, het, homalt; # = 0.01, 0.9, 0.09 and inside it a biallelic SNP with probs 0.02, 0.48, 0.5.; # Naively this would be called as a heterozygous indel and a homozygous SNP,; # which is impossible as there are three total alternate genotypes. The; # algorithm does the following:; #; # Indel SNP Joint prob; # 0/0 0/0 0.01 * 0.02 = 0.0002; # 0/0 0/1 0.01 * 0.48 = 0.0048; # 0/0 1/1 0.01 * 0.50 = 0.0050; # 0/1 0/0 0.90 * 0.02 = 0.0180; # 0/1 0/1 0.90 * 0.48 = 0.4320*; # 0/1 1/1 <invalid> = 0; # 1/1 0/0 0.09 * 0.02 = 0.0018; # 1/1 0/1 <invalid> = 0; # 1/1 1/1 <invalid> = 0; #; # So using the highest joint likelihood, we predict het indel and het SNP.; #; # The marginal probability of each genotype for the indel is:; # 0/0: 0.0002 + 0.0048 + 0.0050 = 0.01; # 0/1: 0.0180 + 0.4320 = 0.45; # 1/1: 0.0018 = 0.0018; #; # which after normalizing to sum to 1 is roughly 0.022, 0.974, 0.004.; # The marginal probability for the SNP, after performing similar; # calculations, is 0.043, 0.946, 0.011. So the marginals also predict a het; # indel and a het SNP. Since the two calculations agree, we use this; # genotype call and modifie",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py:742,log,log,742,deepvariant/haplotypes.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py,1,['log'],['log']
Testability,"# Our region is 5-8 and we are testing that the read's mismatch is only; # included when it's within the region and not when it's outside.; # Expected region boundaries are extended according to region_expansion_in_bp; # flag. region_expansion_in_bp is set to 20 by default,; # so 5 to 8 becomes 5 - 20 to 8 + 20 <=> 0 to 28",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector_test.py:31,test,testing,31,deepvariant/realigner/window_selector_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector_test.py,1,['test'],['testing']
Testability,"# Our test AlleleCounts are 5 positions:; #; # 10: A ref [no reads]; # 11: G/C variant; # 12: G ref [no reads]; # 13: G ref [no reads]; # 14: T/C variant; #; # The ref sites have no reads for ref or any alt simply because it; # simplifies comparing them with the expected variant genotype likelihoods.; # We aren't testing the correctness of the gvcf calculation here (that's; # elsewhere) but rather focusing here on the separation of variants from; # gvcf records, and the automatic merging of the gvcf blocks.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/vcf_candidate_importer_test.py:6,test,test,6,deepvariant/vcf_candidate_importer_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/vcf_candidate_importer_test.py,6,['test'],"['test', 'testing']"
Testability,"# Print another dot on the same line, using print since logging does; # not support printing without a newline.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/show_examples.py:56,log,logging,56,deepvariant/show_examples.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/show_examples.py,1,['log'],['logging']
Testability,"# Q20 tests",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants_test.py:6,test,tests,6,deepvariant/postprocess_variants_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants_test.py,1,['test'],['tests']
Testability,"# Q30 tests",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants_test.py:6,test,tests,6,deepvariant/postprocess_variants_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants_test.py,1,['test'],['tests']
Testability,"# Q40 tests",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants_test.py:6,test,tests,6,deepvariant/postprocess_variants_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants_test.py,1,['test'],['tests']
Testability,"# R code to produce the expectation table.; # expected <- function(k, n, p) {; # pbin <- dbinom(k, n, p, log=T) * log10(exp(1)); # likelihoods = paste(sprintf(""%.6f"", pbin), collapse="", ""); # result = paste(k, n, p, pbin, sep="", ""); # cat(paste(""("", result, ""),\n"", sep="""")); # }; #; # for (n in c(0, 5, 10)) {; # for (k in seq(0, n)) {; # for (p in c(0.01, 0.5)) {; # expected(k, n, p); # }; # }; # }; # expected(0, 1000, 0.5); # expected(0, 10000, 0.5); # expected(100, 10000, 0.5)",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/genomics_math_test.py:105,log,log,105,third_party/nucleus/util/genomics_math_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/genomics_math_test.py,1,['log'],['log']
Testability,"# R code to produce the testdata expectation table.; # expected <- function(n_ref, n_alt, perr, max_gq = 100) {; # p_ref <- dbinom(n_alt, n_ref, perr); # p_het <- dbinom(n_alt, n_ref, 0.5); # p_alt <- dbinom(n_ref - n_alt, n_ref, perr); # raw <- c(p_ref, p_het, p_alt); # norm <- raw / sum(raw); # gq = min(floor(-10 * log10(1 - norm[1])), max_gq); # likelihoods = paste(sprintf(""%.6f"", log10(norm)), collapse="", ""); # likelihoods = paste(""["", likelihoods, ""]"", sep=""""); # result = paste(n_ref, n_alt, perr, 100, 1, likelihoods, gq, sep="", ""); # cat(paste(""["", result, ""],\n"", sep="""")); # }; #; # for (n in c(10, 20)) {; # for (k in seq(0, n)) {; # expected(n, k, 0.01); # }; # }; #; # for (perr in c(0.1, 0.01, 0.001, 0.0001)) {; # expected(10, 0, perr); # expected(10, 1, perr); # }; #; # for (n_ref in c(10, 20, 30, 40, 50, 60, 70, 80, 90, 100, 1000, 10000)) {; # expected(n_ref, 0, 0.01); # }",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_caller_test.py:24,test,testdata,24,deepvariant/variant_caller_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_caller_test.py,2,['test'],['testdata']
Testability,"# Read and parse the data using tf. This is the function under test,; # although we indirectly check parse_tfexample as well.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers_test.py:63,test,test,63,deepvariant/data_providers_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers_test.py,1,['test'],['test']
Testability,"# Runtime metrics; they are all mocked out.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/resources_test.py:32,mock,mocked,32,deepvariant/resources_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/resources_test.py,1,['mock'],['mocked']
Testability,"# Same as prior test but using a generator as input.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes_test.py:16,test,test,16,deepvariant/haplotypes_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes_test.py,1,['test'],['test']
Testability,"# Same test case as test_encode_read_matches(), with --add_hp_channel.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_image_test.py:7,test,test,7,deepvariant/pileup_image_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_image_test.py,1,['test'],['test']
Testability,"# Same test case as test_encode_read_matches(), with allele frequency.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_image_test.py:7,test,test,7,deepvariant/pileup_image_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_image_test.py,1,['test'],['test']
Testability,"# See CLIF wrapper for a discussion of why this is commented out.; # def test_make_str_ok_stripped_type(self):; # self.assertEqual(statusor_examples.MakeStrOKStrippedType(), 'hello')",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/statusor_examples_test.py:119,assert,assertEqual,119,third_party/nucleus/core/statusor_examples_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/statusor_examples_test.py,2,['assert'],['assertEqual']
Testability,"# See the logic described in the class PileupImageCreator pileup_image.py; #; # Because of the logic above, this function expects all cases above to have; # genotype_predictions that we can combine from.; # Removed par regions from parameter because RangeSet is not pickle-able.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py:10,log,logic,10,deepvariant/postprocess_variants.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py,2,['log'],['logic']
Testability,"# Setup our make_allele_counter and other mocks.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core_test.py:42,mock,mocks,42,deepvariant/make_examples_core_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core_test.py,1,['mock'],['mocks']
Testability,"# Setup our make_variant_caller and downstream mocks.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core_test.py:47,mock,mocks,47,deepvariant/make_examples_core_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core_test.py,1,['mock'],['mocks']
Testability,"# Setup our shared mocks.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_image_test.py:19,mock,mocks,19,deepvariant/pileup_image_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_image_test.py,2,['mock'],['mocks']
Testability,"# Simple end-to-end test of the high-level select_windows function. We give; # it a few reads with a single candidate at 100 and we expect a window back; # centered at 100.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector_test.py:20,test,test,20,deepvariant/realigner/window_selector_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector_test.py,1,['test'],['test']
Testability,"# Simple test with DEL.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core_test.py:9,test,test,9,deepvariant/make_examples_core_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core_test.py,1,['test'],['test']
Testability,"# Simple test with INS.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core_test.py:9,test,test,9,deepvariant/make_examples_core_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core_test.py,1,['test'],['test']
Testability,"# Simple tests: we get back our matching variants in the confident regions",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/customized_classes_labeler_test.py:9,test,tests,9,deepvariant/labeler/customized_classes_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/customized_classes_labeler_test.py,2,['test'],['tests']
Testability,"# Single read tests.; # read1 overlaps r1.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner_test.py:14,test,tests,14,deepvariant/realigner/realigner_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner_test.py,1,['test'],['tests']
Testability,"# Special case tested below.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py:15,test,tested,15,deeptrio/make_examples_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py,2,['test'],['tested']
Testability,"# Systematically test all combinations of cigar operations and positions in a; # read.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector_test.py:17,test,test,17,deepvariant/realigner/window_selector_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector_test.py,1,['test'],['test']
Testability,"# TODO use itertools.permutations to improve the test.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants_test.py:49,test,test,49,deepvariant/postprocess_variants_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants_test.py,1,['test'],['test']
Testability,"# TODO: This logic currently only works for single sample.; # Once we extend to multi-sample, we can remove this assert.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py:13,log,logic,13,deepvariant/make_examples_core.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py,2,"['assert', 'log']","['assert', 'logic']"
Testability,"# TODO: Update the tests to reflect the new default (False).",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner_test.py:19,test,tests,19,deepvariant/realigner/realigner_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner_test.py,1,['test'],['tests']
Testability,"# TODO: remove and replace uses when bug is fixed in mock.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.py:53,mock,mock,53,third_party/nucleus/testing/test_utils.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.py,2,['mock'],['mock']
Testability,"# TODO: retarget this test to a higher-level version of the API; # that accepts a whole region of variants so we make sure it divides up the; # problem into more fine-grained pieces that run quickly. The current call is; # to a lower-level API that doesn't do variant chunking.; # Commented out because this remains super slow.; # def test_super_slow_example(self):; # self.assertGetsCorrectLabels(; # candidates=[; # _test_variant(32274452, ['C', 'G']),; # _test_variant(32274453, ['T', 'G']),; # _test_variant(32274456, ['A', 'G']),; # _test_variant(32274459, ['C', 'G']),; # _test_variant(32274461, ['T', 'G']),; # _test_variant(32274465, ['GACA', 'G']),; # _test_variant(32274467, ['CA', 'C']),; # _test_variant(32274470, ['C', 'G']),; # _test_variant(32274473, ['A', 'G']),; # _test_variant(32274474, ['AC', 'A']),; # _test_variant(32274475, ['C', 'A']),; # _test_variant(32274477, ['T', 'A']),; # _test_variant(32274480, ['G', 'C']),; # ],; # true_variants=[; # _test_variant(32274470, ['C', 'G'], (1, 1)),; # ],; # ref=haplotype_labeler.ReferenceRegion(; # 'GCTGGAGGCGTGGGGACACCGGAACATAGGCCCCGCCCCGCCCCGACGC', 32274451),; # expected_genotypes=[; # [0, 0],; # [0, 0],; # [0, 0],; # [0, 0],; # [0, 0],; # [0, 0],; # [0, 0],; # [1, 1],; # [0, 0],; # [0, 0],; # [0, 0],; # [0, 0],; # [0, 0],; # ]); # Variants were getting incorrect genotypes in an exome callset.; #; # ref: AGACACACACACACAAAAAAAAATCATAAAATGAAG, start=214012389; # candidates 2:214012390:G->GAC; # candidates 2:214012402:CAA->C; # candidates 2:214012404:A->C; # true_variants 2:214012404:A->C; #; # 2:214012390:G->GAC => gt=(1, 1) new_label=2 old_label=0 alts=[0]; # 2:214012402:CAA->C => gt=(1, 1) new_label=2 old_label=0 alts=[0]; # 2:214012404:A->C => gt=(0, 0) new_label=0 old_label=2 alts=[0]; #; # 90--------- 0---------10--------20---; # pos : 90 1234567890123456789012345678901234; # ref : AG ACACACACACACAAAAAAAAATCATAAAATGAAG; # truth : C => AGACACACACACACACAAAAAAATCATAAAATGAAG; # DV 1 : GAC => [doesn't match]; # DV 2 :",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py:22,test,test,22,deepvariant/labeler/haplotype_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py,2,"['assert', 'test']","['assertGetsCorrectLabels', 'test']"
Testability,"# TODO: would be nice to add test that predictions has the right; # number of elements. But that would involve calculating the binomial; # coefficient of n_alleles and ploidy, which would be expensive. Probably; # need to memoize the whole function if we are going to add this.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py:29,test,test,29,deepvariant/postprocess_variants.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py,1,['test'],['test']
Testability,"# Test a SNP at a few positions.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py:2,Test,Test,2,deepvariant/labeler/haplotype_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py,1,['Test'],['Test']
Testability,"# Test a deletion at a few positions.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py:2,Test,Test,2,deepvariant/labeler/haplotype_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py,1,['Test'],['Test']
Testability,"# Test all possible values in candidate against het-alt:",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/variant_labeler_test.py:2,Test,Test,2,deepvariant/labeler/variant_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/variant_labeler_test.py,1,['Test'],['Test']
Testability,"# Test an insertion at a few positions.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py:2,Test,Test,2,deepvariant/labeler/haplotype_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py,1,['Test'],['Test']
Testability,"# Test conversion from native format to tfrecord.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/converter_test.py:2,Test,Test,2,third_party/nucleus/io/converter_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/converter_test.py,1,['Test'],['Test']
Testability,"# Test conversion from tfrecord format back to native format. Ensure that; # conversions where we would need a header, but don't have one from the; # input, trigger an error message.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/converter_test.py:2,Test,Test,2,third_party/nucleus/io/converter_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/converter_test.py,1,['Test'],['Test']
Testability,"# Test data for ONT",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/testdata.py:2,Test,Test,2,deeptrio/testdata.py,,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/testdata.py,1,['Test'],['Test']
Testability,"# Test debug_output_all_candidates=ALT",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants_test.py:2,Test,Test,2,deepvariant/postprocess_variants_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants_test.py,1,['Test'],['Test']
Testability,"# Test debug_output_all_candidates=None",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants_test.py:2,Test,Test,2,deepvariant/postprocess_variants_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants_test.py,1,['Test'],['Test']
Testability,"# Test finding overlaps and different chromosomes not overlapping.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes_test.py:2,Test,Test,2,deepvariant/haplotypes_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes_test.py,1,['Test'],['Test']
Testability,"# Test for a bug encountered in make_examples.; #; # variants: candidates [0]; # variants: truth [1]; # 20:6299587:C->T gt=(1, 1); # Top-level exception: ('Failed to assign labels for variants', [])",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py:2,Test,Test,2,deepvariant/labeler/haplotype_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py,1,['Test'],['Test']
Testability,"# Test long handling in Python 2",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/struct_utils_test.py:2,Test,Test,2,third_party/nucleus/util/struct_utils_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/struct_utils_test.py,1,['Test'],['Test']
Testability,"# Test mix of non-overlapping and ending with an overlap.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes_test.py:2,Test,Test,2,deepvariant/haplotypes_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes_test.py,1,['Test'],['Test']
Testability,"# Test one large variant spanning multiple others.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes_test.py:2,Test,Test,2,deepvariant/haplotypes_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes_test.py,1,['Test'],['Test']
Testability,"# Test reading with a larger batch size. Similar to testInputStream,; # but note that the last batch may be truncated when not in predict mode,; # so current_batch_size has to be recovered from the actual output.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers_test.py:2,Test,Test,2,deepvariant/data_providers_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers_test.py,2,"['Test', 'test']","['Test', 'testInputStream']"
Testability,"# Test sampling with k < 0 (bad args).",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/utils_test.py:2,Test,Test,2,third_party/nucleus/util/utils_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/utils_test.py,1,['Test'],['Test']
Testability,"# Test sampling with k < len(iterable).",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/utils_test.py:2,Test,Test,2,third_party/nucleus/util/utils_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/utils_test.py,1,['Test'],['Test']
Testability,"# Test sampling with k == 0.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/utils_test.py:2,Test,Test,2,third_party/nucleus/util/utils_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/utils_test.py,1,['Test'],['Test']
Testability,"# Test sampling with k == len(iterable).",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/utils_test.py:2,Test,Test,2,third_party/nucleus/util/utils_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/utils_test.py,1,['Test'],['Test']
Testability,"# Test sampling with k > len(iterable).",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/utils_test.py:2,Test,Test,2,third_party/nucleus/util/utils_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/utils_test.py,1,['Test'],['Test']
Testability,"# Test scaling of calculation with more coverage, hitting max_gq.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_caller_test.py:2,Test,Test,2,deepvariant/variant_caller_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_caller_test.py,2,['Test'],['Test']
Testability,"# Test some simple overlap configurations.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges_test.py:2,Test,Test,2,third_party/nucleus/util/ranges_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges_test.py,1,['Test'],['Test']
Testability,"# Test systematically values of n and k.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_caller_test.py:2,Test,Test,2,deepvariant/variant_caller_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_caller_test.py,2,['Test'],['Test']
Testability,"# Test that a het variant gets a label value of 1 assigned to the example.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py:2,Test,Test,2,deeptrio/make_examples_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py,2,['Test'],['Test']
Testability,"# Test that a reference variant gets a label value of 0 in the example.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py:2,Test,Test,2,deeptrio/make_examples_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py,2,['Test'],['Test']
Testability,"# Test that it runs without error.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vis_test.py:2,Test,Test,2,third_party/nucleus/util/vis_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vis_test.py,2,['Test'],['Test']
Testability,"# Test that our candidates are reasonable, calling specific helper functions; # to check lots of properties of the output.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py:2,Test,Test,2,deeptrio/make_examples_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py,2,['Test'],['Test']
Testability,"# Test that our candidates are reasonable, calling specific helper; # functions to check lots of properties of the output.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_test.py:2,Test,Test,2,deepvariant/make_examples_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_test.py,1,['Test'],['Test']
Testability,"# Test that probabilities more extreme than genomics_math._MAX_CONFIDENCE; # are appropriately rounded.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants_test.py:2,Test,Test,2,deepvariant/postprocess_variants_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants_test.py,1,['Test'],['Test']
Testability,"# Test that the writer is a context manager and that we can write a read to; # it.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_test.py:2,Test,Test,2,third_party/nucleus/io/sam_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_test.py,1,['Test'],['Test']
Testability,"# Test that this works with any sized genotype vector.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants_test.py:2,Test,Test,2,deepvariant/postprocess_variants_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants_test.py,1,['Test'],['Test']
Testability,"# Test the behavior outside of our confident regions.; # If we provide a variant outside the confident regions (non_confident) we; # don't get back any expected_truth variants.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/customized_classes_labeler_test.py:2,Test,Test,2,deepvariant/labeler/customized_classes_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/customized_classes_labeler_test.py,2,['Test'],['Test']
Testability,"# Test there is something in the added channel.; # Values capture whether each loci has been seen in the observed examples.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_test.py:2,Test,Test,2,deepvariant/make_examples_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_test.py,1,['Test'],['Test']
Testability,"# Test various imports work; # pylint: disable=unused-variable; # pylint: disable=g-import-not-at-top",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/environment_tests/env_smoke_test.py:2,Test,Test,2,deepvariant/environment_tests/env_smoke_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/environment_tests/env_smoke_test.py,1,['Test'],['Test']
Testability,"# Test with one alt image.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_image_test.py:2,Test,Test,2,deepvariant/pileup_image_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_image_test.py,1,['Test'],['Test']
Testability,"# Test with two alt images.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_image_test.py:2,Test,Test,2,deepvariant/pileup_image_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_image_test.py,1,['Test'],['Test']
Testability,"# Testing different values of p_error.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_caller_test.py:2,Test,Testing,2,deepvariant/variant_caller_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_caller_test.py,2,['Test'],['Testing']
Testability,"# Testing found that when the prefix and suffix both go right up to the; # ref/alt variants, the alignment does not work well, so a margin of 100; # bases on each side of the variant are used here to pad each; # haplotype with enough sequence to align against. While some further; # testing showed this could be reduced, 100 is the only value that has been; # tested with a full training experiment.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner.py:2,Test,Testing,2,deepvariant/realigner/realigner.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner.py,3,"['Test', 'test']","['Testing', 'tested', 'testing']"
Testability,"# Tests for multi-allelics.; # There's one extra T here.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils_test.py:2,Test,Tests,2,third_party/nucleus/util/variant_utils_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils_test.py,1,['Test'],['Tests']
Testability,"# Tests that a read with a mismatch at position read_start + 1 produces a; # single candidate position at read_start + 1 regardless of where it occurs; # within a single region spanning region_start - region_end.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector_test.py:2,Test,Tests,2,deepvariant/realigner/window_selector_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector_test.py,1,['Test'],['Tests']
Testability,"# Tests that match() selects the variant at the same start even if that; # variant doesn't have the same alleles at candidate and there's an; # overlapping with the same alleles.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/customized_classes_labeler_test.py:2,Test,Tests,2,deepvariant/labeler/customized_classes_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/customized_classes_labeler_test.py,2,['Test'],['Tests']
Testability,"# Tests that we call almost all of the real variants (according to NIST's; # Genome in a Bottle callset for NA12878) in our candidate callset.; # Tests that we don't have an enormous number of FP calls. We should have; # no more than 5x (arbitrary) more candidate calls than real calls. If we; # have more it's likely due to some major pipeline problem.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py:2,Test,Tests,2,deeptrio/make_examples_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py,4,['Test'],['Tests']
Testability,"# The assertEqual here is checking the order is exactly what we expect.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core_test.py:6,assert,assertEqual,6,deepvariant/make_examples_core_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core_test.py,2,['assert'],['assertEqual']
Testability,"# The following tests are for CRAM input:",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_test.py:16,test,tests,16,deepvariant/make_examples_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_test.py,1,['test'],['tests']
Testability,"# The following tests are for multiple BAM inputs:",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_test.py:16,test,tests,16,deepvariant/make_examples_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_test.py,1,['test'],['tests']
Testability,"# The normalize_reads flag could came from the `flags_obj` arg, passed in; # from make_examples_options.py. It is already part of AlleleCounterOptions in; # MakeExamplesOptions. Here, we need to set it in RealignerOptions as well; # because an if statement in fast_pass_aligner.cc needs it to decide whether; # to run a specific logic.; # This is not ideal. If there's a way to improve this, please do.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner.py:329,log,logic,329,deepvariant/realigner/realigner.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner.py,1,['log'],['logic']
Testability,"# The preprocess step resizes the image to h x w as needed by; # inception. We don't really care where it goes in the image (and the; # calculation is complex. So we are simply checking here that all; # values are zero except for the transformed values we see in values.; # We are relying here on the tf operations to be correct and to not; # change their behavior over time. Because we are doing assertEqual; # we are also testing the order of the values, which means that we; # are sure that the pixels have been translated in the right order in; # the image, wherever the actual translation might be.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling_test.py:397,assert,assertEqual,397,deepvariant/modeling_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling_test.py,2,"['assert', 'test']","['assertEqual', 'testing']"
Testability,"# The python version raises an exception when seeing a PAD, which is ok; # but isn't strictly necessary. The C++ implementation handles PADs when; # counting alleles, so we've commented out this test.; # C++ version:; # dict(bases='AA', cigar='1M1P1M', expected=[]),; # dict(bases='AA', cigar='1M2P1M', expected=[]),; # Python version:; # dict(bases='AA', cigar='1M1P1M', expected=ValueError),; # dict(bases='AA', cigar='1M2P1M', expected=ValueError),",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector_test.py:195,test,test,195,deepvariant/realigner/window_selector_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector_test.py,1,['test'],['test']
Testability,"# The represent_alt_aligned_pileups function checks for shape of the; # arrays, so mock with actual numpy arrays here.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_image_test.py:83,mock,mock,83,deepvariant/pileup_image_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_image_test.py,1,['mock'],['mock']
Testability,"# These expected counts are deterministic because we always set the random; # seed in each test.; # There are 106 total reads if we iterate.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_test.py:91,test,test,91,third_party/nucleus/io/sam_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_test.py,1,['test'],['test']
Testability,"# These tests actually result in broken up groups, with isolated truth; # and candidates as well as grouped ones.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py:8,test,tests,8,deepvariant/labeler/haplotype_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py,1,['test'],['tests']
Testability,"# These two are not allowed in VCF, but worth testing our; # code's behavior",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils_test.py:46,test,testing,46,third_party/nucleus/util/variant_utils_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils_test.py,1,['test'],['testing']
Testability,"# This generates too many tests as a parameterized test.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants_test.py:26,test,tests,26,deepvariant/postprocess_variants_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants_test.py,2,['test'],"['test', 'tests']"
Testability,"# This indirection is needed because the symbols in testdata are not set; # when the @parameterized decorator is called.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner_test.py:52,test,testdata,52,deepvariant/realigner/realigner_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner_test.py,1,['test'],['testdata']
Testability,"# This is only a simple test that it runs without errors.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py:24,test,test,24,deeptrio/make_examples_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py,1,['test'],['test']
Testability,"# This is parameterized over the max_separation so we can test that the; # metrics are properly calculated no matter the grouping. The candidates and; # truth variants below should give the same metrics regardless of grouping.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py:58,test,test,58,deepvariant/labeler/haplotype_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py,1,['test'],['test']
Testability,"# This logic below will write out the DOT files under the directory; # specified by the flag --realigner_diagnostics, if phase_reads is; # set to True.; # TODO: Extend the logic to work for multi-sample cases.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py:7,log,logic,7,deepvariant/make_examples_core.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py,2,['log'],['logic']
Testability,"# This logic doesn't make a huge amount of sense when you are doing; # haplotype-based labeling. Currently we only say a variant is confident; # if it overlaps the confident regions, which is the baseline behavior.; # However, it may be useful to rethink how we establish a variant is; # confident, as the ""event"" may be within the confident regions but; # shifted outside due to differences in representational choices. Seems; # like another approach would be to assign confidence if it has a; # non-ref genotype (as we only consider confident truth variants) or if; # it overlaps the confident regions.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler.py:7,log,logic,7,deepvariant/labeler/haplotype_labeler.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler.py,1,['log'],['logic']
Testability,"# This next import is unused, but we are testing that any program; # which includes a Nucleus library uses the cpp protobuf; # implementation.; # pylint: disable=unused-import",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protobuf_implementation_test.py:41,test,testing,41,third_party/nucleus/testing/protobuf_implementation_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protobuf_implementation_test.py,1,['test'],['testing']
Testability,"# This number is estimated by the following logic:; # For a sample with 10,000,000 examples, if we log every 50,000 examples,; # there will be 200 lines per sample.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_slim.py:44,log,logic,44,deepvariant/call_variants_slim.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_slim.py,2,['log'],"['log', 'logic']"
Testability,"# This test checks that we can label end-to-end variants at occur at the; # start and at the end of a chromosome. This is unlikely in humans but can; # occur in bacterial genomes. See internal for a motivating example.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py:7,test,test,7,deepvariant/labeler/haplotype_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py,1,['test'],['test']
Testability,"# This test should not throw any errors when retrieving the model; # and it's corresponding preprocess function.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling_test.py:7,test,test,7,deepvariant/keras_modeling_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling_test.py,1,['test'],['test']
Testability,"# This test will time out if we aren't able to efficiently handle the case; # where we have a lot of candidate or truth variants but none of the other.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py:7,test,test,7,deepvariant/labeler/haplotype_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py,1,['test'],['test']
Testability,"# To log the current learning rate, and gradient norm for Tensorboard, the; # summary op needs to be run on the host CPU via host_call. host_call; # expects [batch_size, ...] Tensors, thus reshape to introduce a batch; # dimension. These Tensors are implicitly concatenated to; # [params['batch_size']].",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:5,log,log,5,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['log'],['log']
Testability,"# True we will generate enough information into our logs to help debug bad; # regions.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler.py:52,log,logs,52,deepvariant/labeler/haplotype_labeler.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler.py,1,['log'],['logs']
Testability,"# Unit tests use this branch.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_slim.py:7,test,tests,7,deepvariant/call_variants_slim.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/call_variants_slim.py,1,['test'],['tests']
Testability,"# Use a fixed random number so our test is deterministic.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/utils_test.py:35,test,test,35,third_party/nucleus/util/utils_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/utils_test.py,1,['test'],['test']
Testability,"# Using a real ref_reader to test that the reference allele matches; # between the variant and the reference at the variant's coordinates.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py:29,test,test,29,deeptrio/make_examples_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py,2,['test'],['test']
Testability,"# We do our test directly here on i > 0 so we only see the log messages; # if we add at least _LOG_EVERY_N_RANGES_IN_RANGESET_INIT records.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges.py:12,test,test,12,third_party/nucleus/util/ranges.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges.py,2,"['log', 'test']","['log', 'test']"
Testability,"# We don't actually use classes downstream right now.; # 'classes': tf.argmax(input=logits, axis=1, output_type=tf.int32),",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:84,log,logits,84,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['log'],['logits']
Testability,"# We don't really want to inject too much knowledge about the golden right; # here, so we only use a minimal test that (a) the run_info_filename is; # a non-empty string and (b) the number of candidates sites in the labeling; # metrics field is greater than 0. Any reasonable golden output will have at; # least one candidate variant, and the reader should have filled in the; # value.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py:109,test,test,109,deeptrio/make_examples_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py,2,['test'],['test']
Testability,"# We need to overwrite bam_fname for USE_CRAM test since Golden Set; # generated from BAM file. BAM filename is stored in candidates. If we; # don't overwrite default_options variants won't match and test fail.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_test.py:46,test,test,46,deepvariant/make_examples_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_test.py,6,['test'],['test']
Testability,"# We unfortunately cannot make sure that read_bytes and write_bytes is; # greater than zero, so these tests are commented out.; # self.assertGreater(metrics.read_bytes, 0); # self.assertGreater(metrics.write_bytes, 0); # CPU frequency may not be available on all systems, so the value is; # either a real frequency (> 0) or the magic value of 0.0 indicating that; # the value could not be determined.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/resources_test.py:102,test,tests,102,deepvariant/resources_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/resources_test.py,3,"['assert', 'test']","['assertGreater', 'tests']"
Testability,"# We use unittest and not TF Test because the point of this test is to be; # able to test our environment without having to build TensorFlow.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/environment_tests/env_smoke_test.py:29,Test,Test,29,deepvariant/environment_tests/env_smoke_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/environment_tests/env_smoke_test.py,3,"['Test', 'test']","['Test', 'test']"
Testability,"# We want to actually make all of the real function calls under test, but; # we of course don't know their values and can only do sanity checks.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/resources_test.py:64,test,test,64,deepvariant/resources_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/resources_test.py,1,['test'],['test']
Testability,"# When this was set, it's about 20 seconds per log.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py:47,log,log,47,deepvariant/postprocess_variants.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py,1,['log'],['log']
Testability,"# pylint: disable=g-explicit-length-test",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py:36,test,test,36,deeptrio/make_examples_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py,2,['test'],['test']
Testability,"# pylint: disable=g-generic-assert",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers_test.py:28,assert,assert,28,deepvariant/data_providers_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers_test.py,1,['assert'],['assert']
Testability,"# pylint: disable=g-generic-assert; # Because PACBIO model will always have use_candidate_partition on,; # so there will be one extra make_examples command.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deeptrio_test.py:28,assert,assert,28,scripts/run_deeptrio_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/scripts/run_deeptrio_test.py,1,['assert'],['assert']
Testability,"# pylint: enable=g-complex-comprehension; # assertLen not available OSS.; # pylint: disable=g-generic-assert",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers_test.py:44,assert,assertLen,44,deepvariant/data_providers_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers_test.py,2,['assert'],"['assert', 'assertLen']"
Testability,"# pylint: enable=g-generic-assert",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers_test.py:27,assert,assert,27,deepvariant/data_providers_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers_test.py,1,['assert'],['assert']
Testability,"# ref looks like AACTG. Truth is just a single SNP turning the C into a G.; # Candidates do the same but via an insertion + deletion. This test ensures; # that the metrics work even in the case where we have different; # representations for the same haplotype.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py:139,test,test,139,deepvariant/labeler/haplotype_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py,1,['test'],['test']
Testability,"# ref: GGGTGTGTGTGTGTGTGTGTGTGTGTGCGTGTGTGTGTTTGTGTTG, start=9508942; # candidates 20:9508943:GGT->G; # candidates 20:9508967:T->C/TGC; # candidates 20:9508967:T->C/TGC; # candidates 20:9508967:T->C/TGC; # true_variants 20:9508943:GGT->G [0, 1]; # true_variants 20:9508967:T->C/TGC [1, 2]; # 20:9508943:GGT->G => gt=(0, 0) new_label=0 old_label=1 alts=[0; # 20:9508967:T->C/TGC => gt=(1, 1) new_label=2 old_label=1 alts=[0]; # 20:9508967:T->C/TGC => gt=(1, 1) new_label=0 old_label=1 alts=[1]; # 20:9508967:T->C/TGC => gt=(1, 1) new_label=2 old_label=2 alts=[0, 1]; #; # This test fixes a bug where we weren't scoring our matches properly.; # Previously we were not accounting for FPs in our score, so we were taking; # a match with 0 FN, 1 FP, 1 TP over one with 0 FN, 0 FP, and 2 TP!; #; # 40------50--------60---------; # pos: 2345678901234567890123456789012345678901234567; # ref: GGGTGTGTGTGTGTGTGTGTGTGTGTGCGTGTGTGTGTTTGTGTTG; # t1: G--; # t2a: C; # t2b: Tgc; #",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py:576,test,test,576,deepvariant/labeler/haplotype_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py,1,['test'],['test']
Testability,"/* These are made using our own converter, vcf_to_tfrecord, for example:; TESTDATA=./core/testdata; blaze run -c opt internal:vcf_to_tfrecord -- \; --input=$(pwd)/$TESTDATA/test_likelihoods_input.vcf \; --output=$(pwd)/$TESTDATA/test_likelihoods.vcf.golden.tfrecord; */",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_reader_test.cc:74,TEST,TESTDATA,74,third_party/nucleus/io/vcf_reader_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_reader_test.cc,4,"['TEST', 'test']","['TESTDATA', 'testdata']"
Testability,"/*; * Copyright 2018 Google LLC.; *; * Redistribution and use in source and binary forms, with or without; * modification, are permitted provided that the following conditions; * are met:; *; * 1. Redistributions of source code must retain the above copyright notice,; * this list of conditions and the following disclaimer.; *; * 2. Redistributions in binary form must reproduce the above copyright; * notice, this list of conditions and the following disclaimer in the; * documentation and/or other materials provided with the distribution.; *; * 3. Neither the name of the copyright holder nor the names of its; * contributors may be used to endorse or promote products derived from this; * software without specific prior written permission.; *; * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; */; // Examples of StatusOr usage in C++ for CLIF bindings and tests.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/statusor_examples.h:1602,test,tests,1602,third_party/nucleus/core/statusor_examples.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/statusor_examples.h,1,['test'],['tests']
Testability,"/*; * Copyright 2018 Google LLC.; *; * Redistribution and use in source and binary forms, with or without; * modification, are permitted provided that the following conditions; * are met:; *; * 1. Redistributions of source code must retain the above copyright notice,; * this list of conditions and the following disclaimer.; *; * 2. Redistributions in binary form must reproduce the above copyright; * notice, this list of conditions and the following disclaimer in the; * documentation and/or other materials provided with the distribution.; *; * 3. Neither the name of the copyright holder nor the names of its; * contributors may be used to endorse or promote products derived from this; * software without specific prior written permission.; *; * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; */; // Tests for GffReader class.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/gff_reader_test.cc:1546,Test,Tests,1546,third_party/nucleus/io/gff_reader_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/gff_reader_test.cc,1,['Test'],['Tests']
Testability,"/*; * Copyright 2018 Google LLC.; *; * Redistribution and use in source and binary forms, with or without; * modification, are permitted provided that the following conditions; * are met:; *; * 1. Redistributions of source code must retain the above copyright notice,; * this list of conditions and the following disclaimer.; *; * 2. Redistributions in binary form must reproduce the above copyright; * notice, this list of conditions and the following disclaimer in the; * documentation and/or other materials provided with the distribution.; *; * 3. Neither the name of the copyright holder nor the names of its; * contributors may be used to endorse or promote products derived from this; * software without specific prior written permission.; *; * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; *; */; // Testing C++ utilities.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.h:1549,Test,Testing,1549,third_party/nucleus/testing/test_utils.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.h,1,['Test'],['Testing']
Testability,"/*; * Copyright 2023 Google LLC.; *; * Redistribution and use in source and binary forms, with or without; * modification, are permitted provided that the following conditions; * are met:; *; * 1. Redistributions of source code must retain the above copyright notice,; * this list of conditions and the following disclaimer.; *; * 2. Redistributions in binary form must reproduce the above copyright; * notice, this list of conditions and the following disclaimer in the; * documentation and/or other materials provided with the distribution.; *; * 3. Neither the name of the copyright holder nor the names of its; * contributors may be used to endorse or promote products derived from this; * software without specific prior written permission.; *; * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; */; // This utility is used to merge phased reads from different shards.; // We can find a consistent phasing if there are reads that overlap multiple; // shards. Please note, that input file must be local, this utility does not; // support Google paths.; //; // Usage:; // blaze-bin/learning/genomics/deepvariant/merge_phased_reads_cpp \; // --input_path <Path to sharded tsv file> \; // --output_path <Path to output file> \; // --logtostderr",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/merge_phased_reads_main.cc:1972,log,logtostderr,1972,deepvariant/merge_phased_reads_main.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/merge_phased_reads_main.cc,1,['log'],['logtostderr']
Testability,"/*; // samtools view \; // learning/genomics/io/testdata/NA12878_S1.chr20.10_11mb.bam \; // chr20:10,010,000-10,011,000 | wc -l; */",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader_test.cc:48,test,testdata,48,third_party/nucleus/io/sam_reader_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader_test.cc,1,['test'],['testdata']
Testability,"// -----------------------------------------------------------------------------; // Helper class for encoding VariantCall.info values in VCF FORMAT field values.; // This class is only intended for use with FORMAT fields that can be directly; // mapped between a VCF record and the FORMAT info dictionary, without special; // logic. Where special logic is needed (e.g. for GT, GL/PL, etc.), the lower; // level functions `ReadFormatValues` and `EncodeFormatValues` are called; // directly.; //; // The standard way to interact with this class is as follows.; //; // Create an adaptor for FORMAT field ""DP"" of integer type:; // VcfFormatFieldAdapter adapter(""DP"", BCF_HT_INT32);; //; // For each variant, we encode this format field into the vcf record:; // adapter.EncodeValues(variant, header, bcf_record);; //",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.h:327,log,logic,327,third_party/nucleus/io/vcf_conversion.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.h,2,['log'],['logic']
Testability,"// -----------------------------------------------------------------------------; // Test data",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/text_io_test.cc:85,Test,Test,85,third_party/nucleus/io/text_io_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/text_io_test.cc,1,['Test'],['Test']
Testability,"// -----------------------------------------------------------------------------; // TextReader tests; // Tests that we can read from an uncompressed file stream.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/text_io_test.cc:96,test,tests,96,third_party/nucleus/io/text_io_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/text_io_test.cc,2,"['Test', 'test']","['Tests', 'tests']"
Testability,"// -----------------------------------------------------------------------------; // TextWriter tests; // Tests that we can write to an uncompressed file stream.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/text_io_test.cc:96,test,tests,96,third_party/nucleus/io/text_io_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/text_io_test.cc,2,"['Test', 'test']","['Tests', 'tests']"
Testability,"// 0 means not set.; // Set min_fraction_multiplier because we want to test the `CallVariant` for; // somatic mode.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_multisample_somatic_test.cc:71,test,test,71,deepvariant/variant_calling_multisample_somatic_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_multisample_somatic_test.cc,1,['test'],['test']
Testability,"// A matcher to test if a floating point value is finite.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.h:16,test,test,16,third_party/nucleus/testing/test_utils.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.h,1,['test'],['test']
Testability,"// A test to make sure header's fields can be iterated in a loop.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_reader_test.cc:5,test,test,5,third_party/nucleus/io/vcf_reader_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_reader_test.cc,1,['test'],['test']
Testability,"// Adapter to extract an iterable into a vector for examination in test code.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.h:67,test,test,67,third_party/nucleus/testing/test_utils.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.h,1,['test'],['test']
Testability,"// Adapter to extract an iterable into a vector for examination in test code; // from a StatusOr<std::shared_ptr<Iterable<Record>>>.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.h:67,test,test,67,third_party/nucleus/testing/test_utils.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.h,1,['test'],['test']
Testability,"// Add our reads to allele_counter and get a vector of our read names for; // further testing.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter_test.cc:86,test,testing,86,deepvariant/allelecounter_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter_test.cc,1,['test'],['testing']
Testability,"// All of these tests are designed to work with 5 bp wide interval.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter_test.cc:16,test,tests,16,deepvariant/allelecounter_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter_test.cc,1,['test'],['tests']
Testability,"// AlleleCounter objects are passed to Python by pointers. We need to return; // a raw pointer here in order to test a Python specific API.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.cc:112,test,test,112,deepvariant/allelecounter.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.cc,1,['test'],['test']
Testability,"// Assert that operations are not INS and DEL",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner.cc:3,Assert,Assert,3,deepvariant/realigner/fast_pass_aligner.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner.cc,1,['Assert'],['Assert']
Testability,"// Basic test to make sure writing one body line works.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_writer_test.cc:9,test,test,9,third_party/nucleus/io/sam_writer_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_writer_test.cc,1,['test'],['test']
Testability,"// Calculate a read alignment by merging read to haplotype and haplotype to; // reference alignments.; // 1. Extracts a portion of haplotype to reference cigar that overlaps; // positions of read to haplotype alignment.; // 2. Iterates through each cigar operation for both alignments, merging 2; // operations of length 1 at a time.; // 3. Different logic is implemented for each type of merges: =:=, DEL:=,; // =:DEL, INS:=, =:INS, DEL:DEL, INS:INS, DEL:INS",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner.h:351,log,logic,351,deepvariant/realigner/fast_pass_aligner.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner.h,1,['log'],['logic']
Testability,"// Checking optional_variant deals with our case where we really want; // to ASSERT_THAT but ASSERT cannot be used in a helper with a; // non-void return.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_multisample_trio_test.cc:93,ASSERT,ASSERT,93,deepvariant/variant_calling_multisample_trio_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_multisample_trio_test.cc,2,['ASSERT'],['ASSERT']
Testability,"// Checks if the result of converting a test sam file matches the gold standard; // record io files for SamHeader and Read. This is representative of a real life; // file conversion.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader_test.cc:40,test,test,40,third_party/nucleus/io/sam_reader_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader_test.cc,1,['test'],['test']
Testability,"// Checks the result of CallVariant on an AlleleCount with the requested; // properties from the arguments. Returns the resulting DeepVariantCall; // produced by CallVariants for further testing in the callee.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_multisample_trio_test.cc:187,test,testing,187,deepvariant/variant_calling_multisample_trio_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_multisample_trio_test.cc,2,['test'],['testing']
Testability,"// Checks the result of ComputeVariant on an AlleleCount, Variant with the; // requested properties from the arguments. Returns the resulting; // DeepVariantCall produced by ComputeVariants for further testing in the; // callee.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_test.cc:202,test,testing,202,deepvariant/variant_calling_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_test.cc,1,['test'],['testing']
Testability,"// Configures a MessageDifferencer and DefaultFieldComparator to use the logic; // described in comp. The configured differencer is the output of this function,; // but a FieldComparator must be provided to keep ownership clear.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.cc:73,log,logic,73,third_party/nucleus/testing/protocol-buffer-matchers.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.cc,1,['log'],['logic']
Testability,"// Constants for all filenames used in this test file.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader_test.cc:44,test,test,44,third_party/nucleus/io/sam_reader_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader_test.cc,1,['test'],['test']
Testability,"// Constructs an alt allele from the prefix bases and the reference bases.; //; // This function helps create alt alleles for a variant proto. The complex logic; // here is to deal with the fact that the variant_ref bases aren't the simple; // single reference base context that the Allele objects are in but rather the; // actual reference bases of the variant, which could include a long series of; // bases if there's a deletion allele.; //; // This function takes a prefix of bases and concatenates those bases onto the; // appropriate substring of variant_ref. The substring starts at the from; // argument and runs to the end of variant_ref string, provided from isn't; // beyond the end of variant_ref.; //; // Suppose that we have variant_ref == ""ACGT"" due to a deletion, and our alleles; // are ""C"" [SNP] and ""ATTT"" [INSERTION] along with our ""ACGT"" [DELETION]. Each; // allele comes into this function with the following arguments:; //; // ""C"" [SNP] : prefix=""C"" and from=1; // ""ATTT"" [INS] : prefix=""ATTT"" and from=1; // ""ACGT"" [DEL] : prefix=""A"" (original ref base) and from=4; //; // This function will produce appropriate alleles that correct for the new; // reference bases due to the deletion as:; //; // ""C"" [SNP] => ""C"" + ""CGT"" => ""CCGT"", putting back deleted bases; // ""ATTT"" [INS] => ""ATTT"" + ""CGT"" => ""ATTTCGT"", putting back deleted bases; // ""ACGT"" [DEL] => ""A"" + """" (from >= ""ACGT"".length()) => ""A""; //",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling.cc:155,log,logic,155,deepvariant/variant_calling.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling.cc,2,['log'],['logic']
Testability,"// Create AlleleCounter object with our test reference.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter_test.cc:40,test,test,40,deepvariant/allelecounter_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter_test.cc,9,['test'],['test']
Testability,"// Create test candidates that are not ordered by position.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing_test.cc:10,test,test,10,deepvariant/direct_phasing_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing_test.cc,2,['test'],['test']
Testability,"// Create test candidates.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing_test.cc:10,test,test,10,deepvariant/direct_phasing_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing_test.cc,7,['test'],['test']
Testability,"// Create test candidates.; // No edge between A at 100 and G at 105; // 100 105 110; // A G ----- T Phase 1; //; // C ----- C ----- G Phase 2; // In this example reads 1,2,3 can be assigned any phase 1 or no phase, but; // algorithm favors assigning phase1.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing_test.cc:10,test,test,10,deepvariant/direct_phasing_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing_test.cc,1,['test'],['test']
Testability,"// Create test candidates.; // read 3 overlaps one allele phase1, one allele phase 2 and pne homozygous; // allele. Phase of read 3 has to be unassigned.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing_test.cc:10,test,test,10,deepvariant/direct_phasing_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing_test.cc,1,['test'],['test']
Testability,"// Create test candidates.; // read3 supports phase 1 in the candidate at 100, but it also supports; // phase 2 in the candidate at 110.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing_test.cc:10,test,test,10,deepvariant/direct_phasing_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing_test.cc,2,['test'],['test']
Testability,"// Creates a test Cigar as a vector of CigarUnit.; //; // The Cigar elements are parsed from cigar_elements, which is vector of; // standard CIGAR element string values like {""5M"", ""2I"", ""3M""} which is 5 bp; // matches, 2 bp insertion, and 3 bp matches.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.h:13,test,test,13,third_party/nucleus/testing/test_utils.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.h,1,['test'],['test']
Testability,"// Creates a test Read with a unique read name.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter_test.cc:13,test,test,13,deepvariant/allelecounter_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter_test.cc,1,['test'],['test']
Testability,"// Creates a test Read.; //; // The read has reference_name chr, start of start, aligned_sequence of bases,; // and cigar element parsed from cigar_elements, which is vector of standard; // CIGAR element string values like {""5M"", ""2I"", ""3M""} which is 5 bp matches,; // 2 bp insertion, and 3 bp matches. The read has base qualities set to 30 and; // a mapping quality of 90.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.h:13,test,test,13,third_party/nucleus/testing/test_utils.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.h,1,['test'],['test']
Testability,"// Creates test reads.; // Only read names are used in tests. All other read fields do not affect the; // logic of tests.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing_test.cc:11,test,test,11,deepvariant/direct_phasing_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing_test.cc,4,"['log', 'test']","['logic', 'test', 'tests']"
Testability,"// Creating a InMemoryFastaReader with a test sequence.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter_test.cc:41,test,test,41,deepvariant/allelecounter_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter_test.cc,10,['test'],['test']
Testability,"// DEL does not count towards aligned length. This test verifies that DEL can; // be merged doesn't matter what it's length is.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner_test.cc:51,test,test,51,deepvariant/realigner/fast_pass_aligner_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner_test.cc,1,['test'],['test']
Testability,"// DO NOT USE: For migration and testing only.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/vendor/message_module.cc:33,test,testing,33,third_party/nucleus/vendor/message_module.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/vendor/message_module.cc,1,['test'],['testing']
Testability,"// Downsample if the downsampling fraction is set.; // Note that this can in be moved into the lower-level reader loops for; // a slight efficiency gain (don't have to convert from bam_t to Read; // proto but the logic to do so is much more complex than just eating; // that cost and putting the sampling code here where it naturally fits; // and is shared across all iteration methods.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.cc:213,log,logic,213,third_party/nucleus/io/sam_reader.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.cc,1,['log'],['logic']
Testability,"// Following tests are not exported to the open source because I couldn't find; // an OSS replacement for util::tuple::testing::FieldPairsAre.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_multisample_trio_test.cc:13,test,tests,13,deepvariant/variant_calling_multisample_trio_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_multisample_trio_test.cc,2,['test'],"['testing', 'tests']"
Testability,"// Following tests call protected method NormalizeCigar.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.h:13,test,tests,13,deepvariant/allelecounter.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.h,1,['test'],['tests']
Testability,"// For human readability, here is the content of the VCF:; /*; $ zcat learning/genomics/deepvariant/testdata/input/test_calls_from_vcf.vcf.gz; ##fileformat=VCFv4.2; ##contig=<ID=contigInHeaderWithCandidates,length=10>; ##contig=<ID=contigInHeaderNoCandidates,length=10>; #CHROM POS ID REF ALT QUAL FILTER INFO FORMAT default; contigInHeaderWithCandidates 3 . T G 60 PASS . GT ./.; contigNotInHeaderWithCandidates 1 . A G 60 PASS . GT ./.; */",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_test.cc:100,test,testdata,100,deepvariant/variant_calling_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_test.cc,1,['test'],['testdata']
Testability,"// Handle FORMAT fields requiring special logic.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.cc:42,log,logic,42,third_party/nucleus/io/vcf_conversion.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.cc,1,['log'],['logic']
Testability,"// Haplotype alignment to ref has one DEL.; // Read alignment to happlotype has one INS.; // Test verifies that this type of merge is handeled correctly.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner_test.cc:93,Test,Test,93,deepvariant/realigner/fast_pass_aligner_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner_test.cc,1,['Test'],['Test']
Testability,"// Haplotype alignment to ref has one INS.; // Read alignment to happlotype has one DEL.; // Test verifies that this type of merge is handeled correctly.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner_test.cc:93,Test,Test,93,deepvariant/realigner/fast_pass_aligner_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner_test.cc,1,['Test'],['Test']
Testability,"// Haplotype alignment to ref has one INS.; // Read alignment to happlotype has one INS.; // Insertions are located at different positions. Test verifies that two; // different INSertions are created in the merged alignment.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner_test.cc:140,Test,Test,140,deepvariant/realigner/fast_pass_aligner_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner_test.cc,1,['Test'],['Test']
Testability,"// Haplotype alignment to ref has one INS.; // Read alignment to happlotype has one INS.; // Insertions are located at the same position. Test verifies that two; // different INSertions are merged into one.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner_test.cc:138,Test,Test,138,deepvariant/realigner/fast_pass_aligner_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner_test.cc,1,['Test'],['Test']
Testability,"// Haplotype alignment to ref has one del.; // Read alignment to happlotype has one del. When merged both DELs happen at; // the same position. The test verifies that DELs are properly merged in a; // single DEL.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner_test.cc:148,test,test,148,deepvariant/realigner/fast_pass_aligner_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner_test.cc,1,['test'],['test']
Testability,"// Helper method to create a test sequence.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter_test.cc:29,test,test,29,deepvariant/allelecounter_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter_test.cc,3,['test'],['test']
Testability,"// Helper to create a BedGraphRecord for testing.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/bedgraph_reader_test.cc:41,test,testing,41,third_party/nucleus/io/bedgraph_reader_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/bedgraph_reader_test.cc,2,['test'],['testing']
Testability,"// Here we test a common case when we have 3 sample, there are 3 reads in each; // of the samples. As a result we should have one alt allele with 2 supporting; // reads and one ref allele with 7 supporting reads.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter_test.cc:11,test,test,11,deepvariant/allelecounter_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter_test.cc,1,['test'],['test']
Testability,"// Here we test the same case as previous (TestSumAlleleCountsMultipleSamples); // Total count should be 9 since we have 3 reads in each of 3 samples.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter_test.cc:11,test,test,11,deepvariant/allelecounter_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter_test.cc,2,"['Test', 'test']","['TestSumAlleleCountsMultipleSamples', 'test']"
Testability,"// High-level API for calling variants in a region.; //; // Generate DeepVariantCall candidates for each position of the window.; // AlleleCount objects from all samples are processed together per position.; // Candidates are generated for those positions where there is enough support; // for a candidate. There are two steps:; // * Candidate generation attempt is made for the target sample.; // * If candidate could not be generated in the first step due to not enough; // read support then another attempt is made to generate candidate from all; // the reads of all the samples.; // Logic is implemented in SelectAltAlleles() function.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_multisample.h:587,Log,Logic,587,deepvariant/variant_calling_multisample.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_multisample.h,1,['Log'],['Logic']
Testability,"// If sequential alleles have the same position, skip the first one. This; // occurs, for example, when we observe a base at position p on the genome; // which is enqueued as the ith element of our to_add vector. But the next; // allele is an indel allele which, because of VCF convention, occurs at; // position p, is enqueued at i+1 and supersedes the previous base; // substitution. Resolving these conflicts here allows us to keep the; // Read => ReadAllele algorithm logic simple.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.cc:472,log,logic,472,deepvariant/allelecounter.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.cc,1,['log'],['logic']
Testability,"// IgnoringFields(fields, m) returns a matcher that is the same as m, except the; // specified fields will be ignored when matching; // (using google::protobuf::util::MessageDifferencer::IgnoreField). Each element in fields; // are specified by their fully qualified names, i.e., the names corresponding; // to FieldDescriptor.full_name(). (e.g. testing.internal.FooProto2.member).; // m can be any of the Equals* and EquivTo* protobuf matchers above.; // It can also be any of the transformer matchers listed here (e.g.; // Approximately, TreatingNaNsAsEqual) as long as the intent of the each; // concatenated matcher is mutually exclusive (e.g. using IgnoringFields in; // conjunction with Partially can have different results depending on whether; // the fields specified in IgnoringFields is part of the fields covered by; // Partially).",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h:346,test,testing,346,third_party/nucleus/testing/protocol-buffer-matchers.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h,1,['test'],['testing']
Testability,"// In this test haplotype has coverage zero starting at position 20.; // Make sure that haplotype is discarded.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner_test.cc:11,test,test,11,deepvariant/realigner/fast_pass_aligner_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner_test.cc,1,['test'],['test']
Testability,"// In this test there are 2 shards. For shard 0 we processed 2 regions. In that; // case shard_0/region_order_2 should be merged with shard_1/regions_order_1.; // Merged reads should be exactly the same as in the previous test; // ""MergeReversePhaseTwice"".",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/merge_phased_reads_test.cc:11,test,test,11,deepvariant/merge_phased_reads_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/merge_phased_reads_test.cc,2,['test'],['test']
Testability,"// Infers htsFile open mode from the given file path.; // Returns one of the following.; // ""wb"" for compressed BCF if path ends with .bcf.gz;; // ""wbu"" for uncompressed BCF if path ends with .bcf;; // ""wz"" for compressed VCF if file path ends with .gz and not .bcf.gz;; // ""w"" for all other cases default to uncompressed VCF.; // This method is public for testing.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_writer.h:357,test,testing,357,third_party/nucleus/io/vcf_writer.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_writer.h,1,['test'],['testing']
Testability,"// Load read protos from test data human readable file.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner_test.cc:25,test,test,25,deepvariant/realigner/fast_pass_aligner_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner_test.cc,1,['test'],['test']
Testability,"// No GQ (a normal FORMAT field set in all records in the test data).",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_reader_test.cc:58,test,test,58,third_party/nucleus/io/vcf_reader_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_reader_test.cc,1,['test'],['test']
Testability,"// No genotype (a special-cased field in all records in the test data).",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_reader_test.cc:60,test,test,60,third_party/nucleus/io/vcf_reader_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_reader_test.cc,2,['test'],['test']
Testability,"// Note that query is 0-based inclusive on start and exclusive on end,; // matching exactly the logic of our Range.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.cc:96,log,logic,96,third_party/nucleus/io/sam_reader.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.cc,2,['log'],['logic']
Testability,"// Our test AlleleCounts are 5 positions:; //; // 1: A ref [no reads]; // 2: G/C variant; // 3: G ref [no reads]; // 4: G ref [no reads]; // 5: T/C variant; //",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_multisample_trio_test.cc:7,test,test,7,deepvariant/variant_calling_multisample_trio_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_multisample_trio_test.cc,3,['test'],['test']
Testability,"// Our test are built to operate when start is 2 before the last base in the; // genome on kChr. Load the reference and set chr_start and chr_end; // appropriately.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter_test.cc:7,test,test,7,deepvariant/allelecounter_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter_test.cc,1,['test'],['test']
Testability,"// Overload for ProtoCompare where the expected message is specified as a text; // proto. If the text cannot be parsed as a message of the same type as the; // actual message, a CHECK failure will cause the test to fail and no subsequent; // tests will be run.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h:207,test,test,207,third_party/nucleus/testing/protocol-buffer-matchers.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.h,2,['test'],"['test', 'tests']"
Testability,"// Peer class for unit testing.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/merge_phased_reads.h:23,test,testing,23,deepvariant/merge_phased_reads.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/merge_phased_reads.h,1,['test'],['testing']
Testability,"// Populate a list of edges that can be used by test comparator.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing_test.cc:48,test,test,48,deepvariant/direct_phasing_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing_test.cc,1,['test'],['test']
Testability,"// Populates unmerged_reads_. This is needed for unit testing.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/merge_phased_reads.h:54,test,testing,54,deepvariant/merge_phased_reads.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/merge_phased_reads.h,1,['test'],['testing']
Testability,"// Returns a path to a temporary file with filename in the appropriate test; // directory.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.h:71,test,test,71,third_party/nucleus/testing/test_utils.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.h,1,['test'],['test']
Testability,"// Returns merged_reads_. This is needed for unit testing.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/merge_phased_reads.h:50,test,testing,50,deepvariant/merge_phased_reads.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/merge_phased_reads.h,1,['test'],['testing']
Testability,"// Set basic options to avoid premature test failures.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_multisample_somatic_test.cc:40,test,test,40,deepvariant/variant_calling_multisample_somatic_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_multisample_somatic_test.cc,1,['test'],['test']
Testability,"// Set the pairing information, which has a bit of complex logic to it. The; // read number and number_reads per fragment depends on whether the read is; // paired and, if so, whether its the first or second read.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.cc:59,log,logic,59,third_party/nucleus/io/sam_reader.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader.cc,1,['log'],['logic']
Testability,"// Simple getter for test files in the right testdata path.; // This uses JoinPath, so no leading or trailing ""/"" are necessary.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.h:21,test,test,21,third_party/nucleus/testing/test_utils.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.h,2,['test'],"['test', 'testdata']"
Testability,"// Status tests.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/statusor_test.cc:10,test,tests,10,third_party/nucleus/core/statusor_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/statusor_test.cc,1,['test'],['tests']
Testability,"// StatusOr tests.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/statusor_test.cc:12,test,tests,12,third_party/nucleus/core/statusor_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/statusor_test.cc,1,['test'],['tests']
Testability,"// TODO Add unit test for checking case where all scores are; // equal for the candidate. This used to cause the non deterministic; // behaviour and was fixed by adding allele bases comparison.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing.cc:17,test,test,17,deepvariant/direct_phasing.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing.cc,1,['test'],['test']
Testability,"// TODO Control Pruning with parameter. It should be off for testing.; // Also, investigate if it helps the algorithm.; // Prune();",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing.cc:61,test,testing,61,deepvariant/direct_phasing.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing.cc,1,['test'],['testing']
Testability,"// TODO Need to verify this logic.; // This can happen if read was aligned to hyplotype partially. In this case; // The tail (or head) of read to haplotype alignment would be soft-clipped.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner.cc:28,log,logic,28,deepvariant/realigner/fast_pass_aligner.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner.cc,1,['log'],['logic']
Testability,"// TODO: Add more comprehensive tests",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/gff_reader_test.cc:32,test,tests,32,third_party/nucleus/io/gff_reader_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/gff_reader_test.cc,1,['test'],['tests']
Testability,"// TODO: we should factor out a testdata.h; // Note that test_likelihoods_output.vcf is different from; // test_likelihoods_input.vcf because our VCF writer doesn't; // allow per-position control over the GL/PL formats.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_writer_test.cc:32,test,testdata,32,third_party/nucleus/io/vcf_writer_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_writer_test.cc,1,['test'],['testdata']
Testability,"// TODO; // For human readability, here is the content of the VCF:; /*; $ zcat learning/genomics/deepvariant/testdata/input/test_calls_from_vcf.vcf.gz; ##fileformat=VCFv4.2; ##contig=<ID=contigInHeaderWithCandidates,length=10>; ##contig=<ID=contigInHeaderNoCandidates,length=10>; #CHROM POS ID REF ALT QUAL FILTER INFO FORMAT default; contigInHeaderWithCandidates 3 . T G 60 PASS . GT ./.; contigNotInHeaderWithCandidates 1 . A G 60 PASS . GT ./.; */",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_test.cc:109,test,testdata,109,deepvariant/variant_calling_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_test.cc,2,['test'],['testdata']
Testability,"// Test CRAM formats.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_writer_test.cc:3,Test,Test,3,third_party/nucleus/io/sam_writer_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_writer_test.cc,1,['Test'],['Test']
Testability,"// Test SAM, BAM, CRAM formats.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_writer_test.cc:3,Test,Test,3,third_party/nucleus/io/sam_writer_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_writer_test.cc,1,['Test'],['Test']
Testability,"// Test a bunch of misc. queries.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_reader_test.cc:3,Test,Test,3,third_party/nucleus/io/vcf_reader_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_reader_test.cc,1,['Test'],['Test']
Testability,"// Test a couple of files that are formatted differently but should have the; // same contents.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference_test.cc:3,Test,Test,3,third_party/nucleus/io/reference_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference_test.cc,1,['Test'],['Test']
Testability,"// Test checks that we can handle reads shorter than kmer. In this test; // Kmer size is set to 4, and the first read has size 3.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner_test.cc:3,Test,Test,3,deepvariant/realigner/fast_pass_aligner_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner_test.cc,2,"['Test', 'test']","['Test', 'test']"
Testability,"// Test compares aligned_quality field that is read from test_oq.sam with; // golden set.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader_test.cc:3,Test,Test,3,third_party/nucleus/io/sam_reader_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader_test.cc,2,['Test'],['Test']
Testability,"// Test for unaligned read.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/utils_test.cc:3,Test,Test,3,third_party/nucleus/util/utils_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/utils_test.cc,1,['Test'],['Test']
Testability,"// Test haplotype consists of read1 and read3. We check expected haplotype; // score and all read alignments.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner_test.cc:3,Test,Test,3,deepvariant/realigner/fast_pass_aligner_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner_test.cc,1,['Test'],['Test']
Testability,"// Test max_fraction_snps_for_non_target_sample.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_multisample_somatic_test.cc:3,Test,Test,3,deepvariant/variant_calling_multisample_somatic_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_multisample_somatic_test.cc,1,['Test'],['Test']
Testability,"// Test reference for most of the test. Some tests create a different; // reference sequence.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner_test.cc:3,Test,Test,3,deepvariant/realigner/fast_pass_aligner_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner_test.cc,3,"['Test', 'test']","['Test', 'test', 'tests']"
Testability,"// Test simple properties of the counter itself. EXPECT_THAT chr_; // (const char[]) vs. reference_name (string) doesn't compile.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter_test.cc:3,Test,Test,3,deepvariant/allelecounter_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter_test.cc,1,['Test'],['Test']
Testability,"// Test that all AlleleCount objects are initialized properly.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter_test.cc:3,Test,Test,3,deepvariant/allelecounter_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter_test.cc,1,['Test'],['Test']
Testability,"// Test that assert is raised if aux_field_handling is not set together with; // use_original_base_quality_scores.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader_test.cc:3,Test,Test,3,third_party/nucleus/io/sam_reader_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader_test.cc,2,"['Test', 'assert']","['Test', 'assert']"
Testability,"// Test that assert is raised if aux_fields_to_keep doesn't contain OQ when; // use_original_base_quality_scores.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader_test.cc:3,Test,Test,3,third_party/nucleus/io/sam_reader_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader_test.cc,2,"['Test', 'assert']","['Test', 'assert']"
Testability,"// Test that ssw_alignment_score_threshold does not go negative if similarity; // threshold is less than 0.5.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner_test.cc:3,Test,Test,3,deepvariant/realigner/fast_pass_aligner_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner_test.cc,1,['Test'],['Test']
Testability,"// Test that the caller respects our requested fraction of ref sites.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_multisample_trio_test.cc:3,Test,Test,3,deepvariant/variant_calling_multisample_trio_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_multisample_trio_test.cc,2,['Test'],['Test']
Testability,"// Test that the fractional sampler produces approximately fraction * n_trials; // Keep()=true values over a large number of trials.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/samplers_test.cc:3,Test,Test,3,third_party/nucleus/util/samplers_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/samplers_test.cc,1,['Test'],['Test']
Testability,"// Test that the reference variant call is coming back well formatted.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_multisample_trio_test.cc:3,Test,Test,3,deepvariant/variant_calling_multisample_trio_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_multisample_trio_test.cc,2,['Test'],['Test']
Testability,"// Test that we can emit intervals base 1",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/utils_test.cc:3,Test,Test,3,third_party/nucleus/util/utils_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/utils_test.cc,1,['Test'],['Test']
Testability,"// Test that we get the right counts when a read contains a substitution; // immediately followed by an indel.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter_test.cc:3,Test,Test,3,deepvariant/allelecounter_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter_test.cc,1,['Test'],['Test']
Testability,"// Test that we handle N reference bases correctly. This involves checking; // that we can count reads that have a canonical base at a reference N. It; // also checks that we handle deletion alleles that span reference N bases.; // Note that we have to use ""chr2"" which contains an N in the reference; // ""CGCTNCG..."" is the start of chr2.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter_test.cc:3,Test,Test,3,deepvariant/allelecounter_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter_test.cc,1,['Test'],['Test']
Testability,"// Test that we would have recorded the event had the read started earlier.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter_test.cc:3,Test,Test,3,deepvariant/allelecounter_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter_test.cc,1,['Test'],['Test']
Testability,"// Test verifies that candidate containing INDEL is filtered out.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing_test.cc:3,Test,Test,3,deepvariant/direct_phasing_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing_test.cc,1,['Test'],['Test']
Testability,"// Test verifies that candidate that has only one allele and less than 3 reads; // supporting reference is filtered out.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing_test.cc:3,Test,Test,3,deepvariant/direct_phasing_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing_test.cc,1,['Test'],['Test']
Testability,"// Test with a large cache.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference_test.cc:3,Test,Test,3,third_party/nucleus/io/reference_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference_test.cc,1,['Test'],['Test']
Testability,"// Test with cache disabled.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference_test.cc:3,Test,Test,3,third_party/nucleus/io/reference_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference_test.cc,1,['Test'],['Test']
Testability,"// Testing that candidate is created for a target sample if ref support is very; // high in another sample. In which case allele fraction ratio would be too low; // for this candidate if we calculate allele ratio from all samples combined.; // This is to test the case when we call parent in DeepTrio and one of other; // samples have a very high coverage comparable to the target sample.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_multisample_trio_test.cc:3,Test,Testing,3,deepvariant/variant_calling_multisample_trio_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_multisample_trio_test.cc,2,"['Test', 'test']","['Testing', 'test']"
Testability,"// Testing that candidate is created with low alt allele support if there is; // a support for the same allele in other samples.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_multisample_trio_test.cc:3,Test,Testing,3,deepvariant/variant_calling_multisample_trio_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_multisample_trio_test.cc,1,['Test'],['Testing']
Testability,"// Testing that candidate is not created when allele fraction is less than; // threshold, and is created when allele_fraction_trio_coefficient is used.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_multisample_trio_test.cc:3,Test,Testing,3,deepvariant/variant_calling_multisample_trio_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_multisample_trio_test.cc,1,['Test'],['Testing']
Testability,"// Testing that read with the same id coming from different samples is not; // used multiple times in read support.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_multisample_trio_test.cc:3,Test,Testing,3,deepvariant/variant_calling_multisample_trio_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_multisample_trio_test.cc,1,['Test'],['Testing']
Testability,"// Tests are parameterized by: reader factory, cache size.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference_test.cc:3,Test,Tests,3,third_party/nucleus/io/reference_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/reference_test.cc,1,['Test'],['Tests']
Testability,"// Tests that VcfWriter infers the file open mode from file path correctly.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_writer_test.cc:3,Test,Tests,3,third_party/nucleus/io/vcf_writer_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_writer_test.cc,1,['Test'],['Tests']
Testability,"// Tests that our range parameter gives us exactly the read we expect.; // In IGV this reads spans chr20:9,999,912-10,000,010",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader_test.cc:3,Test,Tests,3,third_party/nucleus/io/sam_reader_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader_test.cc,1,['Test'],['Tests']
Testability,"// Tests that parsing succeeds even when undefined header fields (info, contig,; // filter and format) exist.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_reader_test.cc:3,Test,Tests,3,third_party/nucleus/io/vcf_reader_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_reader_test.cc,1,['Test'],['Tests']
Testability,"// Tests that the read occurs exactly when the interval end overlaps the first; // base of the read from the left.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader_test.cc:3,Test,Tests,3,third_party/nucleus/io/sam_reader_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader_test.cc,1,['Test'],['Tests']
Testability,"// Tests that the read occurs exactly when the interval start overlaps the; // last base of the read from the right.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader_test.cc:3,Test,Tests,3,third_party/nucleus/io/sam_reader_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader_test.cc,1,['Test'],['Tests']
Testability,"// Tests that we can add up multiple reads with different starts, cigars, and; // ends.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter_test.cc:3,Test,Tests,3,deepvariant/allelecounter_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter_test.cc,1,['Test'],['Tests']
Testability,"// Tests that we can read from an uncompressed file stream.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/text_io_test.cc:3,Test,Tests,3,third_party/nucleus/io/text_io_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/text_io_test.cc,1,['Test'],['Tests']
Testability,"// Tests that we can write to a compresed file stream.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/text_io_test.cc:3,Test,Tests,3,third_party/nucleus/io/text_io_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/text_io_test.cc,1,['Test'],['Tests']
Testability,"// Tests that we count properly reads that have the same fragment_name but; // have different read numbers (first and second of pair, for example).",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter_test.cc:3,Test,Tests,3,deepvariant/allelecounter_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter_test.cc,1,['Test'],['Tests']
Testability,"// Tests that we get compression when filename is *.gz.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/text_io_test.cc:3,Test,Tests,3,third_party/nucleus/io/text_io_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/text_io_test.cc,1,['Test'],['Tests']
Testability,"// Tests that we get no compression when filename is NOT *.gz.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/text_io_test.cc:3,Test,Tests,3,third_party/nucleus/io/text_io_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/text_io_test.cc,1,['Test'],['Tests']
Testability,"// The function should not be called if preceding score does not exist.; // TODO Replace with assert.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing.cc:94,assert,assert,94,deepvariant/direct_phasing.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing.cc,1,['assert'],['assert']
Testability,"// The test filters out all candidates containing indels.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing.cc:7,test,test,7,deepvariant/direct_phasing.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing.cc,1,['test'],['test']
Testability,"// There are two reads that don't have a MAPQ60. The 0 MAPQ is flagged as; // unmapped, and there is another with MAPQ of 37. We test below that we get; // the right number of reads for each configuration of requirements.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader_test.cc:129,test,test,129,third_party/nucleus/io/sam_reader_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader_test.cc,1,['test'],['test']
Testability,"// There's a variant at chr3:14319, test that query works exactly.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_reader_test.cc:36,test,test,36,third_party/nucleus/io/vcf_reader_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_reader_test.cc,1,['test'],['test']
Testability,"// There's nothing we can do but assert fail if there's an error during; // the Close() call here.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_writer.cc:33,assert,assert,33,third_party/nucleus/io/sam_writer.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_writer.cc,2,['assert'],['assert']
Testability,"// These inline read names implicitly know how the read names are generated in; // CheckCall. Slightly ugly but allows us to very explicitly test the values; // in the DeepVariantCall.allele_support map without doing any clever; // calculations that are hard to do given the complex mapping between input; // read alleles and output variant alleles.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_multisample_trio_test.cc:141,test,test,141,deepvariant/variant_calling_multisample_trio_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_multisample_trio_test.cc,2,['test'],['test']
Testability,"// This Init is used by unit tests only.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.h:29,test,tests,29,deepvariant/allelecounter.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.h,1,['test'],['tests']
Testability,"// This constructor is only used for unit testing, therefore it is defined as; // private.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.cc:42,test,testing,42,deepvariant/allelecounter.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.cc,1,['test'],['testing']
Testability,"// This constructor is used for unit testing only.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.h:37,test,testing,37,deepvariant/allelecounter.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.h,1,['test'],['testing']
Testability,"// This exercises a bug in gcc 5.4. internal; // Building libssw with -fno-inline should work around it.; // Updated Oct 2022: Even though we no longer need the workaround, I'm keeping; // this test.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/ssw_test.cc:194,test,test,194,deepvariant/realigner/ssw_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/ssw_test.cc,1,['test'],['test']
Testability,"// This function computes the full DeepVariantCall by finding the; // AlleleCount for a given variant.; //; // The logic is exact same as CallVariant except in this case the variant; // of DeepVariantCall is already known from the vcf.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling.h:115,log,logic,115,deepvariant/variant_calling.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling.h,1,['log'],['logic']
Testability,"// This test checks SswAlignReadsToHaplotypes.; // There are 2 haplotypes, and 5 reads. Some of the reads are better aligned; // to haplotype 1, some of the reads are better aligned to hap 2. This is; // reflected in the comments for each read.; // For example, last read has the best alignment to haplotype 1, but this; // alignment has a bad score (32). SswAlignReadsToHaplotypes is expected to; // not realign this read because it's score is lower than a threshold.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner_test.cc:8,test,test,8,deepvariant/realigner/fast_pass_aligner_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner_test.cc,1,['test'],['test']
Testability,"// This test is not intended to test SSW library. It is a sanity check that; // library can be called and results are as excepted.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner_test.cc:8,test,test,8,deepvariant/realigner/fast_pass_aligner_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner_test.cc,2,['test'],['test']
Testability,"// This test verifies a correct merging of DEL and INS at the same position.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner_test.cc:8,test,test,8,deepvariant/realigner/fast_pass_aligner_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner_test.cc,2,['test'],['test']
Testability,"// This test verifies a correct merging of INS and DEL at the same position.; // The read in this test is identical to the read in del_ins_merge test,; // therefore read to ref alignments should be identical as well.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner_test.cc:8,test,test,8,deepvariant/realigner/fast_pass_aligner_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner_test.cc,6,['test'],['test']
Testability,"// This test verifies a correct merging of INS and SNP at the same; // position. Specifically we verify that after merging INS and SNP we; // correctly generate a merged insertion. More details can be found; // in internal.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner_test.cc:8,test,test,8,deepvariant/realigner/fast_pass_aligner_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner_test.cc,1,['test'],['test']
Testability,"// This test verifies a correct merging of two DELs at the same position.; // Specifically we verify that after merging two dels we correctly merge; // operations that follow. More details can be found in internal.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner_test.cc:8,test,test,8,deepvariant/realigner/fast_pass_aligner_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner_test.cc,1,['test'],['test']
Testability,"// This test verifies a correct merging of two INSertions at the same; // position. Specifically we verify that after merging two INSes we; // correctly merge operations that follow. More details can be found in; // internal.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner_test.cc:8,test,test,8,deepvariant/realigner/fast_pass_aligner_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner_test.cc,1,['test'],['test']
Testability,"// This test verifies a situation described in internal. Sometime haplotype; // generated by DeBruijn graph cannot be recreated with reads. In that case we; // want to skip that haplotype and do not realign reads to it.; // If reads cannot be aligned to haplotype within ref_prefix or ref_suffix then; // it doesn't govern haplotype invalidation (this is tested with read 6)",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner_test.cc:8,test,test,8,deepvariant/realigner/fast_pass_aligner_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner_test.cc,2,['test'],"['test', 'tested']"
Testability,"// This test verifies that VcfWriter writes the expected VCF file",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_writer_test.cc:8,test,test,8,third_party/nucleus/io/vcf_writer_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_writer_test.cc,1,['test'],['test']
Testability,"// This test verifies that VcfWriter writes the expected VCF file with rounded; // quality values.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_writer_test.cc:8,test,test,8,third_party/nucleus/io/vcf_writer_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_writer_test.cc,1,['test'],['test']
Testability,"// This test verifies that VcfWriter writes the expected VCF file with; // INFO and FORMAT fields excluded.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_writer_test.cc:8,test,test,8,third_party/nucleus/io/vcf_writer_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_writer_test.cc,1,['test'],['test']
Testability,"// This test verifies that we can handle the case when one of the samples; // doesn't have any reads for some positions and as a result no AlleleCount; // objects are created for those positions. It is an overkill because; // empty AlleleCount is still created for those positions.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_multisample_trio_test.cc:8,test,test,8,deepvariant/variant_calling_multisample_trio_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_multisample_trio_test.cc,1,['test'],['test']
Testability,"// This tests minimal htslib functionality.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/hts_test.cc:8,test,tests,8,third_party/nucleus/io/hts_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/hts_test.cc,1,['test'],['tests']
Testability,"// Unit test helper functions.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing.h:8,test,test,8,deepvariant/direct_phasing.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing.h,1,['test'],['test']
Testability,"// Variant should be a single bp gVCF record with the kGVCFAltAllele; // marker, genotypes of 0/0, and a GQ value of 0 (currently not; // determined). Note that these are simple, baseline tests for any site; // that doesn't have a variant call. Detailed testing of the proper gVCF; // statistical calculations will come when those calculations appear.; // TODO: Revise this test in full gVCF calculations CL.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_test.cc:188,test,tests,188,deepvariant/variant_calling_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_test.cc,3,['test'],"['test', 'testing', 'tests']"
Testability,"// We used to discard low quality allele counts. Now we keep them, but; // in order to maintain the original logic the filter is added.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector.cc:109,log,logic,109,deepvariant/realigner/window_selector.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector.cc,1,['log'],['logic']
Testability,"// gtest comparator does not output per field differences. If test fails; // it is easier to debug if edges are printed here.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing_test.cc:62,test,test,62,deepvariant/direct_phasing_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing_test.cc,1,['test'],['test']
Testability,"// gtest comparator does not output per field differences. If test fails; // it is easier to debug if edges are printed here.; // LOG(WARNING) << ""Edge: ""; // << direct_phasing.graph_[ei->m_source].allele_info.position << "" ""; // << direct_phasing.graph_[ei->m_source].allele_info.bases << ""-""; // << direct_phasing.graph_[ei->m_target].allele_info.position << "" ""; // << direct_phasing.graph_[ei->m_target].allele_info.bases;",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing_test.cc:62,test,test,62,deepvariant/direct_phasing_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing_test.cc,2,"['LOG', 'test']","['LOG', 'test']"
Testability,"// gtest comparator does not output per field differences. If test fails; // it is easier to debug if vertices are printed here.; // std::ostringstream ss;; // for (auto read_info :; // direct_phasing.graph_[*vi].allele_info.read_support) {; // ss << read_info.read_index << "","";; // }; // LOG(WARNING) << ""Vertex: ""; // << direct_phasing.graph_[*vi].allele_info.position << "" ""; // << direct_phasing.graph_[*vi].allele_info.bases << "" ""; // << ss.str();",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing_test.cc:62,test,test,62,deepvariant/direct_phasing_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing_test.cc,2,"['LOG', 'test']","['LOG', 'test']"
Testability,"// namespace; // Simple getter for test files in the right testdata path.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.cc:35,test,test,35,third_party/nucleus/testing/test_utils.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.cc,2,['test'],"['test', 'testdata']"
Testability,"// test some really big numbers",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/utils_test.cc:3,test,test,3,third_party/nucleus/util/utils_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/utils_test.cc,1,['test'],['test']
Testability,"// test that all AlleleCount objects are initialized properly.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter_test.cc:3,test,test,3,deepvariant/allelecounter_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter_test.cc,1,['test'],['test']
Testability,"// test_oq.sam is used for this test where original scores all set to 'C'; // The test checks that if use_original_base_quality_scores is set alignment; // quality scores are taken from OQ tag and all the scores properly calculated.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader_test.cc:32,test,test,32,third_party/nucleus/io/sam_reader_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader_test.cc,2,['test'],['test']
Testability,"4, ['AC', 'A']),; # _test_variant(32274475, ['C', 'A']),; # _test_variant(32274477, ['T', 'A']),; # _test_variant(32274480, ['G', 'C']),; # ],; # true_variants=[; # _test_variant(32274470, ['C', 'G'], (1, 1)),; # ],; # ref=haplotype_labeler.ReferenceRegion(; # 'GCTGGAGGCGTGGGGACACCGGAACATAGGCCCCGCCCCGCCCCGACGC', 32274451),; # expected_genotypes=[; # [0, 0],; # [0, 0],; # [0, 0],; # [0, 0],; # [0, 0],; # [0, 0],; # [0, 0],; # [1, 1],; # [0, 0],; # [0, 0],; # [0, 0],; # [0, 0],; # [0, 0],; # ]); # Variants were getting incorrect genotypes in an exome callset.; #; # ref: AGACACACACACACAAAAAAAAATCATAAAATGAAG, start=214012389; # candidates 2:214012390:G->GAC; # candidates 2:214012402:CAA->C; # candidates 2:214012404:A->C; # true_variants 2:214012404:A->C; #; # 2:214012390:G->GAC => gt=(1, 1) new_label=2 old_label=0 alts=[0]; # 2:214012402:CAA->C => gt=(1, 1) new_label=2 old_label=0 alts=[0]; # 2:214012404:A->C => gt=(0, 0) new_label=0 old_label=2 alts=[0]; #; # 90--------- 0---------10--------20---; # pos : 90 1234567890123456789012345678901234; # ref : AG ACACACACACACAAAAAAAAATCATAAAATGAAG; # truth : C => AGACACACACACACACAAAAAAATCATAAAATGAAG; # DV 1 : GAC => [doesn't match]; # DV 2 : C-- => [doesn't match]; # DV 1+2 : AGACACACACACACAC AAAAAAATCATAAAATGAAG; # DV 1+2 : => AGACACACACACACACAAAAAAATCATAAAATGAAG [match]; # DV 3 : C => AGACACACACACACACAAAAAAATCATAAAATGAAG [match]; #; # So this is an interesting case. G->GAC + CAA->C matches the true haplotype,; # and the SNP itself gets assigned a FP status since we can have either two; # FPs (dv1 and dv2 candidates) or have just one (dv3). What's annoying here is; # that DV3 exactly matches the variant as described in the truth set. It's; # also strange that we've generated multiple equivalent potential variants; # here.; #; # This test ensures that we are picking the most parsimonous genotype; # assignment (e.g., fewest number of TPs) needed to explain the truth, after; # accounting for minimizing the number of FNs and FPs.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py:2606,test,test,2606,deepvariant/labeler/haplotype_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py,1,['test'],['test']
Testability,"DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; */; // StatusOr<T> is the union of a Status object and a T; // object. StatusOr models the concept of an object that is either a; // usable value, or an error Status explaining why such a value is; // not present. To this end, StatusOr<T> does not allow its Status; // value to be Status::OK. Further, StatusOr<T*> does not allow the; // contained pointer to be NULL.; //; // The primary use-case for StatusOr<T> is as the return value of a; // function which may fail.; //; // Example client usage for a StatusOr<T>, where T is not a pointer:; //; // StatusOr<float> result = DoBigCalculationThatCouldFail();; // if (result.ok()) {; // float answer = result.ValueOrDie();; // printf(""Big calculation yielded: %f"", answer);; // } else {; // LOG(ERROR) << result.status();; // }; //; // Example client usage for a StatusOr<T*>:; //; // StatusOr<Foo*> result = FooFactory::MakeNewFoo(arg);; // if (result.ok()) {; // std::unique_ptr<Foo> foo(result.ValueOrDie());; // foo->DoSomethingCool();; // } else {; // LOG(ERROR) << result.status();; // }; //; // Example client usage for a StatusOr<std::unique_ptr<T>>:; //; // StatusOr<std::unique_ptr<Foo>> result = FooFactory::MakeNewFoo(arg);; // if (result.ok()) {; // std::unique_ptr<Foo> foo = std::move(result.ValueOrDie());; // foo->DoSomethingCool();; // } else {; // LOG(ERROR) << result.status();; // }; //; // Example factory implementation returning StatusOr<T*>:; //; // StatusOr<Foo*> FooFactory::MakeNewFoo(int arg) {; // if (arg <= 0) {; // return Status(port::error::INVALID_ARGUMENT,; // ""Arg must be positive"");; // } else {; // return new Foo(arg);; // }; // }; //; //; // This is a copy of StatusOr from; // tensorflow/compiler/xla/stream_executor/l",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/statusor.h:2280,LOG,LOG,2280,third_party/nucleus/core/statusor.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/statusor.h,1,['LOG'],['LOG']
Testability,"TRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; */; // StatusOr<T> is the union of a Status object and a T; // object. StatusOr models the concept of an object that is either a; // usable value, or an error Status explaining why such a value is; // not present. To this end, StatusOr<T> does not allow its Status; // value to be Status::OK. Further, StatusOr<T*> does not allow the; // contained pointer to be NULL.; //; // The primary use-case for StatusOr<T> is as the return value of a; // function which may fail.; //; // Example client usage for a StatusOr<T>, where T is not a pointer:; //; // StatusOr<float> result = DoBigCalculationThatCouldFail();; // if (result.ok()) {; // float answer = result.ValueOrDie();; // printf(""Big calculation yielded: %f"", answer);; // } else {; // LOG(ERROR) << result.status();; // }; //; // Example client usage for a StatusOr<T*>:; //; // StatusOr<Foo*> result = FooFactory::MakeNewFoo(arg);; // if (result.ok()) {; // std::unique_ptr<Foo> foo(result.ValueOrDie());; // foo->DoSomethingCool();; // } else {; // LOG(ERROR) << result.status();; // }; //; // Example client usage for a StatusOr<std::unique_ptr<T>>:; //; // StatusOr<std::unique_ptr<Foo>> result = FooFactory::MakeNewFoo(arg);; // if (result.ok()) {; // std::unique_ptr<Foo> foo = std::move(result.ValueOrDie());; // foo->DoSomethingCool();; // } else {; // LOG(ERROR) << result.status();; // }; //; // Example factory implementation returning StatusOr<T*>:; //; // StatusOr<Foo*> FooFactory::MakeNewFoo(int arg) {; // if (arg <= 0) {; // return Status(port::error::INVALID_ARGUMENT,; // ""Arg must be positive"");; // } else {; // return new Foo(arg);; // }; // }; //; //; // This is a copy of StatusOr from; // tensorflow/compiler/xla/stream_executor/lib/statusor.h based on the original; // internal google sources with the key changes to statusor.h reapplied by hand.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/statusor.h:2546,LOG,LOG,2546,third_party/nucleus/core/statusor.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/statusor.h,2,['LOG'],['LOG']
Testability,"cord` file is assumed and attempted to be; read or written. Otherwise, the filename is treated as a true SAM/BAM/CRAM file. For `TFRecord` files, ending in a '.gz' suffix causes the file to be treated as; compressed with gzip. Notes on using CRAM with SamReader; --------------------------------. Nucleus supports reading from CRAM files using the same API as for SAM/BAM:. ```python; from third_party.nucleus.io import sam. with sam.SamReader(""/path/to/sample.cram"") as reader:; for read in reader:; print(read); ```. There is one type of CRAM file, though, that has a slightly more complicated; API. If the CRAM file uses read sequence compression with an external reference; file, and this reference file is no longer accessible in the location specified; by the CRAM file's ""UR"" tag and cannot be found in the local genome cache, its; location must be passed to SamReader via the ref_path parameter:. ```python; from third_party.nucleus.io import sam. cram_path = ""/path/to/sample.cram""; ref_path = ""/path/to/genome.fasta""; with sam.SamReader(cram_path, ref_path=ref_path) as reader:; for read in reader:; print(read); ```. Unfortunately, htslib is unable to load the ref_path from anything other than a; POSIX filesystem. (htslib plugin filesystems like S3 or GCS buckets won't work).; For that reason, we don't recommend the use of CRAM files with external; reference files, but instead suggest using read sequence compression with; embedded reference data. (This has a minor impact on file size, but; significantly improves file access simplicity and safety.). For more information about CRAM, see:; * The `samtools` documentation at http://www.htslib.org/doc/samtools.html; * The ""Global Options"" section of the samtools docs at http://www.htslib.org/doc/samtools.html#GLOBAL_OPTIONS; * How reference sequences are encoded in CRAM at http://www.htslib.org/doc/samtools.html#REFERENCE_SEQUENCES; * Finally, benchmarking of different CRAM options http://www.htslib.org/benchmarks/CRAM.html; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam.py:3264,benchmark,benchmarking,3264,third_party/nucleus/io/sam.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam.py,2,['benchmark'],"['benchmarking', 'benchmarks']"
Testability,"eturn variants; # with those calls and the rescaled likelihoods. Otherwise, we log a warning; # and emit the original (incompatible) variants.; #; # For example, a biallelic deletion with probabilities of homref, het, homalt; # = 0.01, 0.9, 0.09 and inside it a biallelic SNP with probs 0.02, 0.48, 0.5.; # Naively this would be called as a heterozygous indel and a homozygous SNP,; # which is impossible as there are three total alternate genotypes. The; # algorithm does the following:; #; # Indel SNP Joint prob; # 0/0 0/0 0.01 * 0.02 = 0.0002; # 0/0 0/1 0.01 * 0.48 = 0.0048; # 0/0 1/1 0.01 * 0.50 = 0.0050; # 0/1 0/0 0.90 * 0.02 = 0.0180; # 0/1 0/1 0.90 * 0.48 = 0.4320*; # 0/1 1/1 <invalid> = 0; # 1/1 0/0 0.09 * 0.02 = 0.0018; # 1/1 0/1 <invalid> = 0; # 1/1 1/1 <invalid> = 0; #; # So using the highest joint likelihood, we predict het indel and het SNP.; #; # The marginal probability of each genotype for the indel is:; # 0/0: 0.0002 + 0.0048 + 0.0050 = 0.01; # 0/1: 0.0180 + 0.4320 = 0.45; # 1/1: 0.0018 = 0.0018; #; # which after normalizing to sum to 1 is roughly 0.022, 0.974, 0.004.; # The marginal probability for the SNP, after performing similar; # calculations, is 0.043, 0.946, 0.011. So the marginals also predict a het; # indel and a het SNP. Since the two calculations agree, we use this; # genotype call and modified likelihoods.; #; # First, we find all non-reference count configurations that are compatible.; # This represents each variant solely based on its number of non-reference; # genotypes, and assumes that variants are compatible if the total number of; # non-reference genotypes at a single position is at most two. By using; # non-reference counts, we avoid testing multiple allele configurations that; # will return the same result (e.g. a variant with two possible alternate; # alleles has three allele configurations that are homozygous alternate; # [1/1, 1/2, 2/2] and either all or none of them will be valid depending on; # the variants it interacts with).",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py:2358,test,testing,2358,deepvariant/haplotypes.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py,1,['test'],['testing']
Testability,"standard; // aligner (BWA) does in fact do consistent left alignment and (2) we anticipate; // feeding this AlleleCounter reads that have been assembled into a consistent; // alignment across all of the reads in a way that is impossible for a read-by-; // read aligner to do. So beware with the aligner you use, unless you've cleaned; // up the reads in some way (left aligning the cigars or just doing assembly).; //; // It is ok to send reads that only partially overlap the interval; the; // AlleleCounter will only add counts from the part that overlap the interval.; //; // This code assumes that the reference genome and the reads have only upper; // case bases. By construction our GenomeReference will not have lower case; // bases. Lower case bases are allowed in read sequences (see; // https://samtools.github.io/hts-specs/SAMv1.pdf),; // so it may be worth upper casing the read sequence at some point to make this; // code more robust.; //; // AlleleCounter performs some specialized logic to deal with non-canonical; // bases that might occur in the reference and/or the reads. By canonical we; // mean bases that are one of {A,C,G,T}. The basic constraint is that we will; // not add Allele's that contain non-canonical bases. So if we have a read that; // has (e.g.) an N, we will not produce Allele objects that contain the N. So; // if it doesn't match the reference at a site, it will be skipped as a; // SUBSTITUTION allele, and if it were part of an insertion, that entire; // insertion will be skipped. We do support AlleleCount objects that have a N; // base as its reference base, and those bases get alleles just as a normal base; // would. Downstream processing should look at the reference base of the; // AlleleCounts produced by this code for non-canonical reference bases and; // handle if special handling is needed. Finally, if a read's deletion CIGAR; // spans across part of the reference genome that has an N, the corresponding; // DELETION allele will be dropped.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.h:3337,log,logic,3337,deepvariant/allelecounter.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.h,1,['log'],['logic']
Testability,"ts up; those lists into groups that respect the requirements of the max_group_size; and max_separation arguments. This is necessary because the labeling algorithm; is very expensive as a function of the number of input variants, so to avoid; excessive runtime we break up our potentially large list of candidate and; truth variants into smaller groups (max number controlled by max_group_size); based on a maximum distance allowed between the closest variants within the; group. The current algorithm is a simple greedy one; we effectively merge the two; variant lists together, make groups greedily on that list until either the; maximum number of elements of a specific type (i.e., max_group_size of 2; implies we can have up to two candidate variants or truth variants within a; group) or we encounter a variant further away from the closest variant within; the current group than allowed by max_separation. Args:; candidates: list[nucleus.proto.Variant]. A sorted list of candidate variants; on the same chromosome.; truths: list[nucleus.proto.Variant]. A sorted list of truth variants on the; same chromosome.; max_group_size: int >= 0. The maximum number of variants of a specific type; allowed within a group.; max_separation: int >= 0. The maximum distance, in basepairs, allowed; between the closest variants within a group.; max_gt_options_product: int >= 0. The maximum number of combinations of; genotypes (product of all genotypes in the group).; force_group_within_bp: int >= 0. Variants within this many bps will be; forced to be put in the same group. This is to ensure that we do not; decouple candidates and truths in variant-dense regions. This value can be; set to -1 for unit-test purposes. Setting -1 will not force any grouping; of variants. Returns:; A list of grouped variants in 2-tuples, such as:. [(candidates1, truth_variants1), ...]. where each tuple contains the candidate and truth variants for that group. Raises:; ValueError: if any of the inputs are malformed.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler.py:1840,test,test,1840,deepvariant/labeler/haplotype_labeler.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler.py,1,['test'],['test']
Usability," from this; * software without specific prior written permission.; *; * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; */; // StatusOr<T> is the union of a Status object and a T; // object. StatusOr models the concept of an object that is either a; // usable value, or an error Status explaining why such a value is; // not present. To this end, StatusOr<T> does not allow its Status; // value to be Status::OK. Further, StatusOr<T*> does not allow the; // contained pointer to be NULL.; //; // The primary use-case for StatusOr<T> is as the return value of a; // function which may fail.; //; // Example client usage for a StatusOr<T>, where T is not a pointer:; //; // StatusOr<float> result = DoBigCalculationThatCouldFail();; // if (result.ok()) {; // float answer = result.ValueOrDie();; // printf(""Big calculation yielded: %f"", answer);; // } else {; // LOG(ERROR) << result.status();; // }; //; // Example client usage for a StatusOr<T*>:; //; // StatusOr<Foo*> result = FooFactory::MakeNewFoo(arg);; // if (result.ok()) {; // std::unique_ptr<Foo> foo(result.ValueOrDie());; // foo->DoSomethingCool();; // } else {; // LOG(ERROR) << result.status();; // }; //; // Example client usage for a StatusOr<std::unique_ptr<T>>:; //; // StatusOr<std::unique_ptr<",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/statusor.h:1672,usab,usable,1672,third_party/nucleus/core/statusor.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/statusor.h,1,['usab'],['usable']
Usability,"""""""""Process candidate positions to determine windows for local assembly. Windows are within range of; [min(pos) - config.min_windows_distance,; max(pos) + config.min_windows_distance). Args:; config: learning.genomics.deepvariant.realigner.WindowSelectorOptions; options determining the behavior of this window selector.; candidate_pos: A list of ref_pos.; ref_name: Reference name, used in setting the output; genomics.range.reference_name value. Returns:; A sorted list of nucleus.protos.Range protos for all windows in this region.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector.py:200,learn,learning,200,deepvariant/realigner/window_selector.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector.py,1,['learn'],['learning']
Usability,"""""""""Process reads to determine candidate windows for local assembly. Windows are within range of; [0 - config.min_windows_distance, ref_len + config.min_windows_distance). Args:; config: learning.genomics.deepvariant.realigner.WindowSelectorOptions; options determining the behavior of this window selector.; ref_reader: GenomeReference. Indexed reference genome to query bases.; reads: A list of genomics.Read records.; region: nucleus.protos.Range. The region we are processing. Returns:; A list of nucleus.protos.Range protos sorted by their genomic position.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector.py:187,learn,learning,187,deepvariant/realigner/window_selector.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector.py,1,['learn'],['learning']
Usability,"""""""Assign each read to the maximally overlapped window. Args:; assembled_regions: list[AssemblyRegion], list of AssemblyRegion to assign; reads to. Does not assume AssemblyRegion are sorted.; reads: iterable[learning.genomics.genomics.Read], to be processed. Does not; assume the reads are sorted. Returns:; [AssemblyRegion], information on assigned reads for each assembled region.; list[learning.genomics.genomics.Read], the list of unassigned reads.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner.py:208,learn,learning,208,deepvariant/realigner/realigner.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner.py,2,['learn'],['learning']
Usability,"""""""Calculates a two-tailed binomial test with p=0.5, without scipy. Since the expected probability is 0.5, it simplifies a few things:; 1) (0.5**x)*(0.5**(n-x)) = (0.5**n); 2) A two-tailed test is simply doubling when p = 0.5.; Scipy is much larger than Nucleus, so this avoids adding it as a dependency. Args:; k: Number of ""successes"", in this case, the number of supporting reads.; n: Number of ""trials"", in this case, the total number of reads. Returns:; The p-value for the binomial test.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vis.py:110,simpl,simplifies,110,third_party/nucleus/util/vis.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vis.py,2,['simpl'],"['simplifies', 'simply']"
Usability,"""""""Checks that merge_predictions simplifies alleles.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants_test.py:33,simpl,simplifies,33,deepvariant/postprocess_variants_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants_test.py,1,['simpl'],['simplifies']
Usability,"""""""Classes that provide the interface for reading genomics data. `GenomicsReader` defines the core API supported by readers, and is subclassed; directly or indirectly (via `DispatchingGenomicsReader`) for all concrete; implementations. `TFRecordReader` is an implementation of the `GenomicsReader` API for reading; `TFRecord` files. This is usable for all data types when encoding data in; protocol buffers. `DispatchingGenomicsReader` is an abstract class defined for convenience on top; of `GenomicsReader` that supports reading from either the native file format or; from `TFRecord` files of the corresponding protocol buffer used to encode data; of that file type. The input format assumed is dependent upon the filename of; the input data. Concrete implementations for individual file types (e.g. BED, SAM, VCF, etc.); reside in type-specific modules in this package. The instantiation of readers; may have reader-specific requirements documented there. General examples of the; `iterate()` and `query()` functionality are shown below. ```python; # Equivalent ways to iterate through all elements in a reader.; # 1. Using the reader itself as an iterable object.; kwargs = ... # Reader-specific keyword arguments.; with GenomicsReaderSubClass(output_path, **kwargs) as reader:; for proto in reader:; do_something(reader.header, proto). # 2. Calling the iterate() method of the reader explicitly.; with GenomicsReaderSubClass(output_path, **kwargs) as reader:; for proto in reader.iterate():; do_something(reader.header, proto). # Querying for all elements within a specific region of the genome.; from third_party.nucleus.protos import range_pb2; region = range_pb2.Range(reference_name='chr1', start=10, end=20). with GenomicsReaderSubClass(output_path, **kwargs) as reader:; for proto in reader.query(region):; do_something(reader.header, proto); ```; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/genomics_reader.py:341,usab,usable,341,third_party/nucleus/io/genomics_reader.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/genomics_reader.py,1,['usab'],['usable']
Usability,"""""""Classes that provide the interface for writing genomics data. `GenomicsWriter` defines the core API supported by writers, and is subclassed; directly or indirectly (via `DispatchingGenomicsWriter`) for all concrete; implementations. `TFRecordWriter` is an implementation of the `GenomicsWriter` API for reading; `TFRecord` files. This is usable for all data types when writing data as; serialized protocol buffers. `DispatchingGenomicsWriter` is an abstract class defined for convenience on top; of `GenomicsWriter` that supports writing to either the native file format or to; `TFRecord` files of the corresponding protocol buffer used to encode data of; that file type. The output format chosen is dependent upon the filename to which; the data are being written. Concrete implementations for individual file types (e.g. BED, SAM, VCF, etc.); reside in type-specific modules in this package. A general example of the write; functionality is shown below. ```python; # options is a writer-specific set of options.; options = ... # records is an iterable of protocol buffers of the specific data type.; records = ... with GenomicsWriterSubClass(output_path, options) as writer:; for proto in records:; writer.write(proto); ```; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/genomics_writer.py:341,usab,usable,341,third_party/nucleus/io/genomics_writer.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/genomics_writer.py,1,['usab'],['usable']
Usability,"""""""Collects and return runtime metrics as a ResourceMetrics proto. This method can be called multiple times, but wall clock time is always; reckoned from the time of the last start() call. Returns:; A learning.genomics.deepvariant.ResourceMetrics proto message. Raises:; RuntimeError: if start() was not called previously.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/resources.py:201,learn,learning,201,deepvariant/resources.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/resources.py,1,['learn'],['learning']
Usability,"""""""Computes the confidence that a site in the genome has no variation. Computes this confidence using only the counts of the number of reads; supporting the reference allele and the total number of reads at this site. See: https:www.broadinstitute.org/gatk/guide/article?id=4017 for; background. Computes the reference confidence for site allele_count. Examines the number of reference supporting and alternate supporting reads; in allele_count and estimates the genotype likelihoods and confidence that; this site is homozygous reference. These values are written into the first; VariantCall record of variant, into the repeated field genotype_likelihood; and the map field GQ. The genotype likelihoods are computed against any possible alternative; allele, the so-called <*> allele, which boils down to a model that looks; like:. log10_p_ref = (1 - p_error)^(ref_n) (p_error)^(non_ref_n); log10_p_het = (0.5)^(total_n); log10_p_hom_alt = (p_e)^(ref_n) (1 - p_error)^(non_ref_n). ref_n is the number of reference supporting reads and non_ref_n is the sum; of any reads supporting any alternate alleles. Non-informative reads are; excluded from the calculation. and written in as the normalized log10 values so that:. sum(10^genotype_likelihoods) = 1. The GQ, according to the VCF specification, is the conditional genotype; quality, encoded as a phred quality -10 * log10 p(genotype call is wrong,; conditioned on the site's being variant, as an integer. See:; https:samtools.github.io/hts-specs/VCFv4.3.pdf; We are calculating the GQ not for the best genotype, but the GQ of the 0/0; genotype, regardless of the likelihoods.; 1 = pRR + pRA + pAA; [R is reference, A=<*> is any alternative alternative]; GQ of 0/0 = -10 * log10(pRA + pAA) [prob that any other differen genotype]; = -10 * log10(1 - pRR) [substitution from the previous equation]; Here we don't have pRR directly, but rather log10(pRR). Args:; n_ref: int >= 0 and <= n_total: The number of reads supporting the; reference allele.; n_to",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_caller.py:257,guid,guide,257,deepvariant/variant_caller.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_caller.py,1,['guid'],['guide']
Usability,"""""""Create a DeepVariantInput function object from a file spec. Args:; input_file_spec: the tf.example input file specification, possibly sharded.; mode: tf.estimator.ModeKeys.; **kwargs: Additional keyword arguments for DeepVariantInput. Returns:; A DeepVariantInput object usable as an input_fn.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py:274,usab,usable,274,deepvariant/data_providers.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py,1,['usab'],['usable']
Usability,"""""""Create a DeepVariantInput object, usable as an `input_fn`. Args:; mode: the mode string (from `tf.estimator.ModeKeys`).; input_file_spec: the input filename for a tfrecord[.gz] file containing; examples. Can contain sharding designators.; num_examples: the number of examples contained in the input file. Required; for setting learning rate schedule in train/eval only.; num_classes: The number of classes in the labels of this dataset.; Currently defaults to DEFAULT_NUM_CLASSES.; max_examples: The maximum number of examples to use. If None, all examples; will be used. If not None, the first n = min(max_examples, num_examples); will be used. This works with training, and the n examples will repeat; over and over.; tensor_shape: None (which means we get the shape from the first example in; source), or list of int [height, width, channel] for testing.; name: string, name of the dataset.; use_tpu: use code paths tuned for TPU, in particular protobuf encoding.; Default False.; input_read_threads: number of threads for reading data. Default 32.; shuffle_buffer_size: size of the final shuffle buffer, in elements.; Default 100.; initial_shuffle_buffer_size: int; the size of the dataset.shuffle buffer; in elements. Default is 1024.; prefetch_dataset_buffer_size: int; the size of the TFRecordDataset buffer; in bytes. Default is 16 * 1000 * 1000.; sloppy: boolean, allow parallel_interleave to be sloppy. Default True.; list_files_shuffle: boolean, allow list_files to shuffle. Default True.; debugging_true_label_mode: boolean. If true, the input examples are; created with ""training"" mode. We'll parse the 'label' field even if the; `mode` is PREDICT. Raises:; ValueError: if `num_examples` not provided, in a context requiring it.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py:37,usab,usable,37,deepvariant/data_providers.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py,2,"['learn', 'usab']","['learning', 'usable']"
Usability,"""""""Creates VcfReaders for the given VCF file paths, organized by reference. VcfReaders can be made either from a single VCF that covers all the relevant; reference sequences or strictly one VCF per reference sequence. By returning; a defaultdict, any code using the output of this function does not have to; consider whether there are multiple VCFs or not, it can simply query by; chromosome and get a reader. Args:; population_vcf_filenames: Paths to files (VCF or VCF.gz) with population; genotypes. Raises:; ValueError: If there is more than one VCF file containing variants; from the same chromosome. Returns:; A defaultdict that maps from a reference name to an associated VcfReader.; If there was only one VCF provided, all references will map to that one; reader. If more than one VCF was provided, the references will have a; reader each, while any that were not included will map to None.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allele_frequency.py:364,simpl,simply,364,deepvariant/allele_frequency.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allele_frequency.py,1,['simpl'],['simply']
Usability,"""""""Creates a DeepVariant TF.Example for the DeepVariant call dv_call. See class documents for more details. Args:; dv_call: A learning.genomics.deepvariant.DeepVariantCall proto that we; want to create a TF.Example pileup image of.; reads_for_samples: list of read generators, one for each sample.; sample_order: A list of indices representing the order in which samples; should be represented in the pileup image. Example: [1,0,2] to swap the; first two samples out of three. This is None by default which puts the; samples in order.; haplotype_alignments_for_samples: list with a dict for each sample of read; alignments keyed by haplotype.; haplotype_sequences: dict of sequences keyed by haplotype. Returns:; A list of tuples. The first element of the tuple is a set of alternate; alleles used as 'alt' when encoding this image. The second element is a; [w, h, DEFAULT_NUM_CHANNEL] uint8 Tensor of the pileup image for those; alt alleles.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_image.py:126,learn,learning,126,deepvariant/pileup_image.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_image.py,1,['learn'],['learning']
Usability,"""""""Creates a pileup tensor for dv_call. Args:; dv_call: learning.genomics.deepvariant.DeepVariantCall object with; information on our candidate call and allele support information.; refbases: A string options.width in length containing the reference base; sequence to encode. The middle base of this string should be at the; start of the variant in dv_call.; reads_for_samples: list by sample of Iterable of; third_party.nucleus.protos.Read objects that we'll use to encode the; read information supporting our call. Assumes each read is aligned and; is well-formed (e.g., has bases and quality scores, cigar). Rows of the; image are encoded in the same order as reads.; alt_alleles: A collection of alternative_bases from dv_call.variant that; we are treating as ""alt"" when constructing this pileup image. A read; will be considered supporting the ""alt"" allele if it occurs in the; support list for any alt_allele in this collection.; sample_order: A list of indices representing the order in which samples; should be represented in the pileup image. Example: [1,0,2] to swap the; first two samples out of three. This is None by default which puts the; samples in order.; custom_ref: True if refbases should not be checked for matching against; variant's reference_bases. Returns:; A uint8 Tensor image of shape; [self.width, <sum of sample pileup heights>, DEFAULT_NUM_CHANNEL]. Raises:; ValueError: if any arguments are invalid.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_image.py:56,learn,learning,56,deepvariant/pileup_image.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_image.py,1,['learn'],['learning']
Usability,"""""""Get a truth variant matching variant. A matching variant is defined here as one that starts at the same position; on the genome as variant. The best match is then narrowed down by finding; the variant with a matching alt allele, if it exists, otherwise the first; matching variant is used regardless of alt alleles. This allows the client; to make decisions on how to translate a matched between variant and; truth_variant into a label (e.g. by comparing the alleles). If multiple variants are detected, this code will attempt to find the best; match by comparing to `variant`. Note that some simplification of alleles; are applied first before we compare. For example, 'GAAA->GAA' should be the; same as 'GA->G'. If no good matches are detected, the logic currently falls; back to the first element in matches. Args:; variant: Our candidate third_party.nucleus.protos.Variant variant. Returns:; A tuple of (match_status, truth_variant) where match_status is True if; we are confident in our truth_variant call or False if not. truth_variant; is a third_party.nucleus.protos.Variant object of; the truth variant that matched; variant, or None if none was found and we aren't confident in being; hom-ref here, or a synthetic variant with the same position and alleles as; variant but with a hom-ref genotype.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/positional_labeler.py:596,simpl,simplification,596,deepvariant/labeler/positional_labeler.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/positional_labeler.py,1,['simpl'],['simplification']
Usability,"""""""Gets the diploid genotype for candidate_variant from matched truth_variant. This method figures out the genotype for candidate_variant by matching alleles; in candidate_variant with those used by the genotype assigned to; truth_variant. For example, if candidate is A/C and truth is A/C with a 0/1; genotype, then this function would return (0, 1) indicating that there's one; copy of the A allele and one of C in truth. If the true genotype is 1/1, then; this routine would return (1, 1). The routine allows candidate_variant and truth_variant to differ in both; the number of alternate alleles, and even in the representation of the same; alleles due to those differences. For example, candidate could be:. AGT/A/AGTGT => 2 bp deletion and 2 bp insertion. and truth could have:. A/AGT => just the simplified 2 bp insertion. And this routine will correctly equate the AGT/AGTGT allele in candidate; with the A/AGT in truth and use the number of copies of AGT in truth to; compute the number of copies of AGTGT when determining the returned genotype. Args:; candidate_variant: Our candidate third_party.nucleus.protos.Variant variant.; truth_variant: Our third_party.nucleus.protos.Variant truth variant; containing true alleles and genotypes. Returns:; A tuple genotypes with the same semantics at the genotype field of the; VariantCall proto. Raises:; ValueError: If candidate_variant is None, truth_variant is None, or; truth_variant doesn't have genotypes.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/positional_labeler.py:802,simpl,simplified,802,deepvariant/labeler/positional_labeler.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/positional_labeler.py,2,['simpl'],['simplified']
Usability,"""""""Gets the list of model variables that should be restored. The primary use of this function is to get a subset of tf.Variables from a; slim-defined model that we'd like to restore from a checkpoint. The; checkpoint generally contains all of the variables in the graph during; training, including things like the backprop variables, moving averages for; visualization, etc. Simply restoring all of those variables is brittle, as; we often want to start a new training run, maybe using a different; optimizer, different visualization variables, or replacing part of the model; with a new classification layer, as unneeded variables from the checkpoint; get loaded into the graph and/or new TF variables not present in the graph; cannot be found, raising exceptions. This function allows a clean API to get; just the *model* variables from a graph, excluding all of those non-model; variables, along with optionally removing parts of the model graph via; exclude scopes. This function calls slim.get_model_variables() to get the raw list of all; variables associated with the MODEL_VARIABLES collection. It then filters; away all variables that match any of the scopes in exclude_scopes. For; example, suppose we have a model with three variables with names:. w1 = model/l1/weight1; w2 = model/l2/weight2; w3 = model/l2/weight3. Without any exclude scopes, we would return these three variables [w1, w2,; and w3]. Providing exclude_scopes=['model/l2'] would return only [w1], while; exclude_scopes=['model/l1'] would return [w2, w3]. Args:; exclude_scopes: None, or a list of strings. Each string is a scope; specification, such as ""model/l1"" to match all variables whose name; starts with ""model/l1"". Returns:; A list of tf.Variable objects.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:375,Simpl,Simply,375,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['Simpl'],['Simply']
Usability,"""""""Gets the path to filename in genomics/deepvariant/testdata. These paths are only known at runtime, after flag parsing; has occurred. Args:; filename: The name of a testdata file in the core genomics testdata; directory. For example, if you have a test file in; ""learning/genomics/deepvariant/testdata/foo.txt"", filename should be; ""foo.txt"" to get a path to it. Returns:; The absolute path to a testdata file.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/testdata.py:265,learn,learning,265,deeptrio/testdata.py,,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/testdata.py,2,['learn'],['learning']
Usability,"""""""Is variant an indel?. An indel event is simply one where the size of at least one of the alleles; is > 1. Args:; variant: nucleus.genomics.v1.Variant.; exclude_alleles: list(str). The alleles in this list will be ignored. Returns:; True if the alleles in variant indicate an insertion/deletion event; occurs at this site.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils.py:43,simpl,simply,43,third_party/nucleus/util/variant_utils.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils.py,1,['simpl'],['simply']
Usability,"""""""Make a PNG and show it from a numpy array of dtype=np.uint8. Args:; arr: numpy array. Input array to save.; path: str. File path at which to save the image. A .png prefix is added if; the path does not already have one. Leave empty to save at /tmp/tmp.png,; which is useful when only temporarily showing the image in a Colab; notebook.; image_mode: ""RGB"" or ""L"". Leave as default=None to choose based on image; dimensions.; show: bool. Whether to display the image using IPython (for notebooks).; labels: list of str. Labels to show across the top of the image.; scale: integer. Number of pixels wide and tall to show each cell in the; array. This sizes up the image while keeping exactly the same number of; pixels for every cell in the array, preserving resolution and preventing; any interpolation or overlapping of pixels. Default None adapts to the; size of the image to multiply it up until a limit of 500 pixels, a; convenient size for use in notebooks. If saving to a file for automated; processing, scale=1 is recommended to keep output files small and simple; while still retaining all the information content. Returns:; None. Saves an image at path and optionally shows it with IPython.display.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vis.py:1065,simpl,simple,1065,third_party/nucleus/util/vis.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vis.py,1,['simpl'],['simple']
Usability,"""""""Provides an abstraction around deep learning Keras models in DeepVariant.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py:39,learn,learning,39,deepvariant/keras_modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/keras_modeling.py,1,['learn'],['learning']
Usability,"""""""Provides an abstraction around deep learning models in DeepVariant. This class allows us to encapsulate all of the model management, loading,; saving, and data processing in a single place so those details don't spill over; into the more general deepvariant codebase. The key thing we are aiming for here; is to make sure we can easily play with other model architectures without; modifying the surrounding training and evaluation code.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:39,learn,learning,39,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['learn'],['learning']
Usability,"""""""Replaces the alleles in variants with their simplified versions. This function takes a variant and replaces its ref and alt alleles with those; produced by a call to variant_utils.simplify_alleles() to remove common; postfix bases in the alleles that may be present due to pruning away alleles. Args:; variant: learning.genomics.genomics.Variant proto we want to simplify. Returns:; variant with its ref and alt alleles replaced with their simplified; equivalents.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils.py:47,simpl,simplified,47,third_party/nucleus/util/variant_utils.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils.py,4,"['learn', 'simpl']","['learning', 'simplified', 'simplify']"
Usability,"""""""Returns a list of candidate positions. Args:; config: learning.genomics.deepvariant.realigner.WindowSelectorOptions; options determining the behavior of this window selector.; ref_reader: GenomeReference. Indexed reference genome to query bases.; reads: list[nucleus.protos.Read]. The reads we are processing into candidate; positions.; region: nucleus.protos.Range. The region we are processing. Returns:; A list. The elements are reference positions within region. Raises:; ValueError: if config.window_selector_model.model_type isn't a valid enum; name in realigner_pb2.WindowSelectorModel.ModelType.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector.py:57,learn,learning,57,deepvariant/realigner/window_selector.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector.py,1,['learn'],['learning']
Usability,"""""""Returns a list of candidate positions. Candidate positions for realignment are generated by scoring each location.; The score at a location is a weighted sum of the number of reads with each; CIGAR operation at the location, where the weights are determined by the model; coefficients. Locations whose score exceed the model decision boundary value; are used to create realignment windows. Note. Function implementation has changed to return positions beyond input; region in case we have variants there. See the change at internal and; internal. Args:; allele_counter: learning.genomics.deepvariant.realigner.AlleleCounter in the; considered region.; model_conf: learning.genomics.deepvariant.realigner; .WindowSelectorOptions.AlleleCountLinearModel options determining the; behavior of this window selector.; expanded_region: nucleus.protos.Range. The region we are processing. Returns:; A list. The elements are reference positions within region.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector.py:573,learn,learning,573,deepvariant/realigner/window_selector.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector.py,2,['learn'],['learning']
Usability,"""""""Returns a list of candidate positions. Following cigar operations generate candidate position:; - ALIGNMENT_MATCH, SEQUENCE_MISMATCH, SEQUENCE_MATCH: at mismatch positions; in the read when compared to the reference sequence.; - DELETE: at positions within [cigar_start, cigar_start + cigar_len); - INSERT, CLIP_SOFT: at positions within; [cigar_start - cigar_len, cigar_start + cigar_len). Note. Function implementation has changed to return positions beyond input; region in case we have variants there. See the change at internal and; internal. Args:; allele_counter: learning.genomics.deepvariant.realigner.AlleleCounter in the; considered region.; model_conf: learning.genomics.deepvariant.realigner; .WindowSelectorOptions.VariantReadsThresholdModel options determining the; behavior of this window selector.; expanded_region: nucleus.protos.Range. The region we are processing. Returns:; A list. The elements are reference positions within region.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector.py:574,learn,learning,574,deepvariant/realigner/window_selector.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector.py,2,['learn'],['learning']
Usability,"""""""Returns an initialized ResourceMetrics proto. This function also fills in the ""constant"" fields of the ResourceMetrics; proto that don't depend on the actual running commands, such as host_name. Returns:; learning.genomics.deepvariant.ResourceMetrics proto.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/resources.py:208,learn,learning,208,deepvariant/resources.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/resources.py,1,['learn'],['learning']
Usability,"""""""Save an array as a PNG image with PIL and show it. Args:; arr: numpy array. Should be 2-dimensional or 3-dimensional where the third; dimension has 3 channels.; path: str. Path for the image output. Default is /tmp/tmp.png for quickly; showing the image in a notebook.; show: bool. Whether to show the image using IPython utilities, only works in; notebooks.; vmin: number. Minimum data value, which will correspond to black in; greyscale or lack of each color in RGB images. Default None takes the; minimum of the data from arr.; vmax: number. Maximum data value, which will correspond to white in; greyscale or full presence of each color in RGB images. Default None takes; the max of the data from arr.; scale: integer. Number of pixels wide and tall to show each cell in the; array. This sizes up the image while keeping exactly the same number of; pixels for every cell in the array, preserving resolution and preventing; any interpolation or overlapping of pixels. Default None adapts to the; size of the image to multiply it up until a limit of 500 pixels, a; convenient size for use in notebooks. If saving to a file for automated; processing, scale=1 is recommended to keep output files small and simple; while still retaining all the information content.; labels: list of str. Labels to show across the top of the image. Returns:; None. Saves an image at path and optionally shows it with IPython.display.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vis.py:1209,simpl,simple,1209,third_party/nucleus/util/vis.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vis.py,1,['simpl'],['simple']
Usability,"""""""Simplifies alleles by stripping off common postfix bases. For example, simplify(""AC"", ""GC"") would produce the tuple ""A"", ""G"" as the ""C""; base is a common postfix of both alleles. But simplify(""AC"", ""GT"") would; produce ""AC"", ""GT"" as there is no common postfix. Note this function will never simplify any allele down to the empty string. So; if alleles = ['CACA', 'CA'], the longest common postfix is 'CA' but we will; not produce ['CA', ''] as this is an invalid Variant allele encoding. Instead; we produce ['CAC', 'C']. Args:; *alleles: A tuple of bases, each as a string, to simplify. Returns:; A tuple, one for each allele in alleles in order, with any common postfix; bases stripped off.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils.py:3,Simpl,Simplifies,3,third_party/nucleus/util/variant_utils.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils.py,5,"['Simpl', 'simpl']","['Simplifies', 'simplify']"
Usability,"""""""Splits candidate and truth variants into smaller groups if necessary. This function takes in a list of candidate and truth variants and splits up; those lists into groups that respect the requirements of the max_group_size; and max_separation arguments. This is necessary because the labeling algorithm; is very expensive as a function of the number of input variants, so to avoid; excessive runtime we break up our potentially large list of candidate and; truth variants into smaller groups (max number controlled by max_group_size); based on a maximum distance allowed between the closest variants within the; group. The current algorithm is a simple greedy one; we effectively merge the two; variant lists together, make groups greedily on that list until either the; maximum number of elements of a specific type (i.e., max_group_size of 2; implies we can have up to two candidate variants or truth variants within a; group) or we encounter a variant further away from the closest variant within; the current group than allowed by max_separation. Args:; candidates: list[nucleus.proto.Variant]. A sorted list of candidate variants; on the same chromosome.; truths: list[nucleus.proto.Variant]. A sorted list of truth variants on the; same chromosome.; max_group_size: int >= 0. The maximum number of variants of a specific type; allowed within a group.; max_separation: int >= 0. The maximum distance, in basepairs, allowed; between the closest variants within a group.; max_gt_options_product: int >= 0. The maximum number of combinations of; genotypes (product of all genotypes in the group).; force_group_within_bp: int >= 0. Variants within this many bps will be; forced to be put in the same group. This is to ensure that we do not; decouple candidates and truths in variant-dense regions. This value can be; set to -1 for unit-test purposes. Setting -1 will not force any grouping; of variants. Returns:; A list of grouped variants in 2-tuples, such as:. [(candidates1, truth_variants1), ",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler.py:649,simpl,simple,649,deepvariant/labeler/haplotype_labeler.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler.py,1,['simpl'],['simple']
Usability,"""""""Tests for learning.genomics.deepvariant.data_provider.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers_test.py:13,learn,learning,13,deepvariant/data_providers_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers_test.py,1,['learn'],['learning']
Usability,"""""""Tests for learning.genomics.deepvariant.modeling.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling_test.py:13,learn,learning,13,deepvariant/modeling_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling_test.py,1,['learn'],['learning']
Usability,"""""""Tests for learning.genomics.deepvariant.resources.""""""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/resources_test.py:13,learn,learning,13,deepvariant/resources_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/resources_test.py,1,['learn'],['learning']
Usability,"""""""Tests for third_party.nucleus.examples.convert_genomics_file. These tests do NOT establish the correctness of conversions---tests of the; fidelity of the Reader and Writer classes exist elsewhere in Nucleus. Rather,; these tests simply exercise that the conversion *runs* for each input/output; file type.; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/converter_test.py:232,simpl,simply,232,third_party/nucleus/io/converter_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/converter_test.py,1,['simpl'],['simply']
Usability,"# 'total runtime' is a simple sum of the runtime columns.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/runtime_by_region_vis.py:23,simpl,simple,23,deepvariant/runtime_by_region_vis.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/runtime_by_region_vis.py,1,['simpl'],['simple']
Usability,"# ------------------------------------------------------------------------------; # Simple functions for getting host_name, cpu count, etc. Isolated here to make; # them mockable.; # ------------------------------------------------------------------------------",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/resources.py:84,Simpl,Simple,84,deepvariant/resources.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/resources.py,1,['Simpl'],['Simple']
Usability,"# ---------------------------------------------------------------------------; # Simple utilities; # ---------------------------------------------------------------------------",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py:81,Simpl,Simple,81,deepvariant/make_examples_core.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py,1,['Simpl'],['Simple']
Usability,"# ------------------------------------------------------------------------; # These reads are all simple and just test the basic position calculation.; # ------------------------------------------------------------------------",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector_test.py:98,simpl,simple,98,deepvariant/realigner/window_selector_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector_test.py,2,['simpl'],['simple']
Usability,"# --------------------------------------------------; # Systematic combination of simple CIGAR operations.; # --------------------------------------------------",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector_test.py:82,simpl,simple,82,deepvariant/realigner/window_selector_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector_test.py,1,['simpl'],['simple']
Usability,"# All possible genotypes for a simple tri-allelic case.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py:31,simpl,simple,31,deepvariant/labeler/haplotype_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py,1,['simpl'],['simple']
Usability,"# Although interface allows for multiple alt alleles, the test only supports a; # single alt allele. This is done for simplicity. Otherwise we would need to; # prove input_read_attributes/expected_read_attributes for each alt allele; # which will make the source code hard to follow.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core_test.py:118,simpl,simplicity,118,deepvariant/make_examples_core_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core_test.py,1,['simpl'],['simplicity']
Usability,"# Basic multi-allelic tests, without having to deal with simplifying; # alleles as all of the alleles are SNPs. Our candidates have an extra; # allele, but the true GT is A/C.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/variant_labeler_test.py:57,simpl,simplifying,57,deepvariant/labeler/variant_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/variant_labeler_test.py,1,['simpl'],['simplifying']
Usability,"# C++ CLIF functions:; #; # We are enumerating the C++ functions exported by python/math.clif here, so; # it's clear to people what functions are available in python without digging; # into the raw python/C++ CLIF code.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/genomics_math.py:111,clear,clear,111,third_party/nucleus/util/genomics_math.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/genomics_math.py,1,['clear'],['clear']
Usability,"# Calculate REF allele frequency if no exact match was found.; # It is possible a novel mutation happens at a site where there are other; # cohort variants. In this case, we cannot simply set REF frequency to 1.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allele_frequency.py:181,simpl,simply,181,deepvariant/allele_frequency.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allele_frequency.py,1,['simpl'],['simply']
Usability,"# Check a simple case of two SNPs.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py:10,simpl,simple,10,deepvariant/labeler/haplotype_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py,1,['simpl'],['simple']
Usability,"# Check a simple example where we have candidates from two regions:",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector_test.py:10,simpl,simple,10,deepvariant/realigner/window_selector_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector_test.py,1,['simpl'],['simple']
Usability,"# Check a simple example where we have two candidates from the same; # region:",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector_test.py:10,simpl,simple,10,deepvariant/realigner/window_selector_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector_test.py,1,['simpl'],['simple']
Usability,"# Check that simple bi-allelic matching works for all possible possible; # genotypes and a variety of types of alleles.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py:13,simpl,simple,13,deepvariant/labeler/haplotype_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py,1,['simpl'],['simple']
Usability,"# Check that we are simplifying alleles and that the simplification deps; # on the alleles we've removed.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants_test.py:20,simpl,simplifying,20,deepvariant/postprocess_variants_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants_test.py,2,['simpl'],"['simplification', 'simplifying']"
Usability,"# Checks that a simple query gets all our non-filtered variants.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/variant_labeler_test.py:16,simpl,simple,16,deepvariant/labeler/variant_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/variant_labeler_test.py,1,['simpl'],['simple']
Usability,"# Compute the current epoch and associated learning rate from global_step.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:43,learn,learning,43,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['learn'],['learning']
Usability,"# Configure the learning rate using an exponetial decay.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:16,learn,learning,16,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['learn'],['learning']
Usability,"# Create our simple container to store candidate / read mappings.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner.py:13,simpl,simple,13,deepvariant/realigner/realigner.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/realigner.py,1,['simpl'],['simple']
Usability,"# Do some simple structural checks on the tf.Examples in the file.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py:10,simpl,simple,10,deeptrio/make_examples_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py,2,['simpl'],['simple']
Usability,"# GAAA->GAA is the same as GA->A (the second one in matches), but if we; # don't simplify the alleles before comparing, there will be no match and; # will incorrectly fall back to the first one.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/positional_labeler_test.py:81,simpl,simplify,81,deepvariant/labeler/positional_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/positional_labeler_test.py,1,['simpl'],['simplify']
Usability,"# Golden sets are created with learning/genomics/internal/create_golden.sh",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py:31,learn,learning,31,deeptrio/make_examples_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py,6,['learn'],['learning']
Usability,"# Golden sets are created with learning/genomics/internal/create_golden.sh.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/vcf_candidate_importer_test.py:31,learn,learning,31,deepvariant/vcf_candidate_importer_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/vcf_candidate_importer_test.py,1,['learn'],['learning']
Usability,"# Golden sets are created with; # learning/genomics/internal/create_golden_deep_trio.sh",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py:34,learn,learning,34,deeptrio/make_examples_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py,1,['learn'],['learning']
Usability,"# Here we have an extra allele in truth, while candidate is bi-allelic.; # This example 'G' is unused in truth, so we are simply the normal; # bi-allelic result.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/variant_labeler_test.py:122,simpl,simply,122,deepvariant/labeler/variant_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/variant_labeler_test.py,1,['simpl'],['simply']
Usability,"# If `max_bases_to_cover` is not set, use the simpler; # reservoir_sample implementation.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py:46,simpl,simpler,46,deepvariant/make_examples_core.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core.py,1,['simpl'],['simpler']
Usability,"# Note the simplify_variant_alleles call *must* happen after the predictions; # calculation above. flattened_probs_dict is indexed by alt allele, and; # simplify can change those alleles so we cannot simplify until afterwards.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py:153,simpl,simplify,153,deepvariant/postprocess_variants.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants.py,2,['simpl'],['simplify']
Usability,"# One pair can simplify, but not the other, so nothing can reduce.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils_test.py:15,simpl,simplify,15,third_party/nucleus/util/variant_utils_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils_test.py,1,['simpl'],['simplify']
Usability,"# Optimized following:; # https://www.tensorflow.org/guide/performance/datasets; # using the information available from xprof.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py:53,guid,guide,53,deepvariant/data_providers.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/data_providers.py,1,['guid'],['guide']
Usability,"# Our test AlleleCounts are 5 positions:; #; # 10: A ref [no reads]; # 11: G/C variant; # 12: G ref [no reads]; # 13: G ref [no reads]; # 14: T/C variant; #; # The ref sites have no reads for ref or any alt simply because it; # simplifies comparing them with the expected variant genotype likelihoods.; # We aren't testing the correctness of the gvcf calculation here (that's; # elsewhere) but rather focusing here on the separation of variants from; # gvcf records, and the automatic merging of the gvcf blocks.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/vcf_candidate_importer_test.py:207,simpl,simply,207,deepvariant/vcf_candidate_importer_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/vcf_candidate_importer_test.py,6,['simpl'],"['simplifies', 'simply']"
Usability,"# Removing the C allele allows us to simplify CAA + CA => CA + C.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants_test.py:37,simpl,simplify,37,deepvariant/postprocess_variants_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants_test.py,1,['simpl'],['simplify']
Usability,"# Removing the CA allele doesn't allow any simplification.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants_test.py:43,simpl,simplification,43,deepvariant/postprocess_variants_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/postprocess_variants_test.py,1,['simpl'],['simplification']
Usability,"# See comment in create_haplotypes_recursive for more information, but in; # this case we simply `pass`, as we cannot construct any valid haplotypes.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler.py:90,simpl,simply,90,deepvariant/labeler/haplotype_labeler.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler.py,1,['simpl'],['simply']
Usability,"# Set a minimum boundary for the learning rate to be a fixed value of 1e-9.; # It's common to see these tf.max(...) operations when training inception,; # with a max of 1e-4 * initial_learning_rate but this makes it hard to; # explore learning rate schedules that decay quickly or by a lot of each; # step. Here we just use a very small constant 1e-9 as the minimum value.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:33,learn,learning,33,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,2,['learn'],['learning']
Usability,"# Short circuit the simplest case: A single variant in a region is compatible; # with itself by definition.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py:20,simpl,simplest,20,deepvariant/haplotypes.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes.py,2,['simpl'],['simplest']
Usability,"# Simple bi-allelic configurations:",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py:2,Simpl,Simple,2,deepvariant/labeler/haplotype_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/haplotype_labeler_test.py,1,['Simpl'],['Simple']
Usability,"# Simple check that master behaves as expected.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sharded_file_utils_test.py:2,Simpl,Simple,2,third_party/nucleus/io/sharded_file_utils_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sharded_file_utils_test.py,1,['Simpl'],['Simple']
Usability,"# Simple end-to-end test of the high-level select_windows function. We give; # it a few reads with a single candidate at 100 and we expect a window back; # centered at 100.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector_test.py:2,Simpl,Simple,2,deepvariant/realigner/window_selector_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector_test.py,1,['Simpl'],['Simple']
Usability,"# Simple start for indel alleles => exact matching works here.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/variant_labeler_test.py:2,Simpl,Simple,2,deepvariant/labeler/variant_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/variant_labeler_test.py,1,['Simpl'],['Simple']
Usability,"# Simple test with DEL.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core_test.py:2,Simpl,Simple,2,deepvariant/make_examples_core_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core_test.py,1,['Simpl'],['Simple']
Usability,"# Simple test with INS.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core_test.py:2,Simpl,Simple,2,deepvariant/make_examples_core_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/make_examples_core_test.py,1,['Simpl'],['Simple']
Usability,"# Simple tests: we get back our matching variants in the confident regions",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/customized_classes_labeler_test.py:2,Simpl,Simple,2,deepvariant/labeler/customized_classes_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/customized_classes_labeler_test.py,2,['Simpl'],['Simple']
Usability,"# Simplification of alleles does the right matching.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils_test.py:2,Simpl,Simplification,2,third_party/nucleus/util/variant_utils_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils_test.py,1,['Simpl'],['Simplification']
Usability,"# TODO: Define learning rate via config.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train.py:15,learn,learning,15,deepvariant/train.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train.py,1,['learn'],['learning']
Usability,"# Test some simple overlap configurations.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges_test.py:12,simpl,simple,12,third_party/nucleus/util/ranges_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/ranges_test.py,1,['simpl'],['simple']
Usability,"# The preprocess step resizes the image to h x w as needed by; # inception. We don't really care where it goes in the image (and the; # calculation is complex. So we are simply checking here that all; # values are zero except for the transformed values we see in values.; # We are relying here on the tf operations to be correct and to not; # change their behavior over time. Because we are doing assertEqual; # we are also testing the order of the values, which means that we; # are sure that the pixels have been translated in the right order in; # the image, wherever the actual translation might be.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling_test.py:170,simpl,simply,170,deepvariant/modeling_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling_test.py,1,['simpl'],['simply']
Usability,"# The simple case where there is a single variant.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes_test.py:6,simpl,simple,6,deepvariant/haplotypes_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/haplotypes_test.py,1,['simpl'],['simple']
Usability,"# These are examples where ref is not simplified, such as could occur; # a multi-allelic record, such as the following:; # alleles = AT, A, ATT, CT (1 deletion, 1 insertion, 1 SNP)",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils_test.py:38,simpl,simplified,38,third_party/nucleus/util/variant_utils_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils_test.py,1,['simpl'],['simplified']
Usability,"# This is from:; # https://www.tensorflow.org/guide/tpu#train_the_model_using_keras_high-level_apis.; # Anything between 2 and `steps_per_epoch` could help here.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train_inceptionv3.py:46,guid,guide,46,deepvariant/train_inceptionv3.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train_inceptionv3.py,1,['guid'],['guide']
Usability,"# This is initial learning rate.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train.py:18,learn,learning,18,deepvariant/train.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/train.py,2,['learn'],['learning']
Usability,"# This is only a simple test that it runs without errors.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py:17,simpl,simple,17,deeptrio/make_examples_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py,1,['simpl'],['simple']
Usability,"# To log the current learning rate, and gradient norm for Tensorboard, the; # summary op needs to be run on the host CPU via host_call. host_call; # expects [batch_size, ...] Tensors, thus reshape to introduce a batch; # dimension. These Tensors are implicitly concatenated to; # [params['batch_size']].",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py:21,learn,learning,21,deepvariant/modeling.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/modeling.py,1,['learn'],['learning']
Usability,"# Training on parent2 in a duo is not supported (with a clear error; # message).",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py:56,clear,clear,56,deeptrio/make_examples_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py,1,['clear'],['clear']
Usability,"# Verifies simple properties of the Variant protos in variants. For example,; # checks that the reference_name() is our expected chromosome. The flag; # is_gvcf determines how we check the VariantCall field of each variant,; # enforcing expectations for gVCF records if true or variant calls if false.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py:11,simpl,simple,11,deeptrio/make_examples_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py,2,['simpl'],['simple']
Usability,"# Verifies simple structural properties of the DeepVariantCall objects; # emitted by the VerySensitiveCaller, such as that the AlleleCount and; # Variant both have the same position.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py:11,simpl,simple,11,deeptrio/make_examples_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deeptrio/make_examples_test.py,2,['simpl'],['simple']
Usability,"# We have a multi-allelic candidate but a simple bi-allelic truth. Make; # sure we match correctly. This is an key case, as we should expect that; # our candidates frequently have extra alleles changing the represention; # relative to our truth candidates.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/variant_labeler_test.py:42,simpl,simple,42,deepvariant/labeler/variant_labeler_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/labeler/variant_labeler_test.py,1,['simpl'],['simple']
Usability,"# With p=0.5, the distribution is symmetric, allowing this simplification:",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vis.py:59,simpl,simplification,59,third_party/nucleus/util/vis.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/vis.py,1,['simpl'],['simplification']
Usability,"# both training preceding A, doesn't simplify, so mismatches",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils_test.py:37,simpl,simplify,37,third_party/nucleus/util/variant_utils_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils_test.py,1,['simpl'],['simplify']
Usability,"# trailing A.; # preceding A, doesn't simplify so it's a mismatch.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils_test.py:38,simpl,simplify,38,third_party/nucleus/util/variant_utils_test.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/variant_utils_test.py,1,['simpl'],['simplify']
Usability,"# vertical line as guide",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/vcf_stats_vis.py:19,guid,guide,19,deepvariant/vcf_stats_vis.py,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/vcf_stats_vis.py,1,['guid'],['guide']
Usability,"/*; * Copyright 2017 Google LLC.; *; * Redistribution and use in source and binary forms, with or without; * modification, are permitted provided that the following conditions; * are met:; *; * 1. Redistributions of source code must retain the above copyright notice,; * this list of conditions and the following disclaimer.; *; * 2. Redistributions in binary form must reproduce the above copyright; * notice, this list of conditions and the following disclaimer in the; * documentation and/or other materials provided with the distribution.; *; * 3. Neither the name of the copyright holder nor the names of its; * contributors may be used to endorse or promote products derived from this; * software without specific prior written permission.; *; * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; */; // A very simple but highly sensitive variant caller.; //",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling.h:1553,simpl,simple,1553,deepvariant/variant_calling.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling.h,2,['simpl'],['simple']
Usability,"/*; * Copyright 2023 Google LLC.; *; * Redistribution and use in source and binary forms, with or without; * modification, are permitted provided that the following conditions; * are met:; *; * 1. Redistributions of source code must retain the above copyright notice,; * this list of conditions and the following disclaimer.; *; * 2. Redistributions in binary form must reproduce the above copyright; * notice, this list of conditions and the following disclaimer in the; * documentation and/or other materials provided with the distribution.; *; * 3. Neither the name of the copyright holder nor the names of its; * contributors may be used to endorse or promote products derived from this; * software without specific prior written permission.; *; * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS""; * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE; * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE; * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE; * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS; * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN; * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE); * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE; * POSSIBILITY OF SUCH DAMAGE.; */; // This utility is used to merge phased reads from different shards.; // We can find a consistent phasing if there are reads that overlap multiple; // shards. Please note, that input file must be local, this utility does not; // support Google paths.; //; // Usage:; // blaze-bin/learning/genomics/deepvariant/merge_phased_reads_cpp \; // --input_path <Path to sharded tsv file> \; // --output_path <Path to output file> \; // --logtostderr",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/merge_phased_reads_main.cc:1823,learn,learning,1823,deepvariant/merge_phased_reads_main.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/merge_phased_reads_main.cc,1,['learn'],['learning']
Usability,"/*; // samtools view \; // learning/genomics/io/testdata/NA12878_S1.chr20.10_11mb.bam \; // chr20:10,010,000-10,011,000 | wc -l; */",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader_test.cc:27,learn,learning,27,third_party/nucleus/io/sam_reader_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_reader_test.cc,1,['learn'],['learning']
Usability,"// A very simple but highly sensitive variant caller.; //; // This class implements a very simple variant caller using the data; // in an AlleleCount proto. It considers the distribution of Alleles; // observed at a position, and fills in the variant field with the Variant; // proto if there's reasonable evidence for a variant being at that site.; //; // The evidence standard is pretty loose: any allele that has at least; // min_count occurrences and that count is at least min_fraction; // of the total allele count at the site will be called.; //; // The heavy-lifting part of this code is just getting the alleles correct,; // in the case where there are multiple candidate alleles and the observed; // alleles need to be converted to their minimal VCF representation. For more; // information, see:; //; // https://samtools.github.io/hts-specs/VCFv4.2.pdf; //; // Note that when multiple alleles satisfy our requirements, a multi-allelic; // Variant proto will be emitted.; //; // If a variant is emitted, the Variant proto created has only the minimal; // information needed to describe the call:; //; // reference_name; // start; // end; // reference_bases and alternate_bases; //; // No genotyping is attempted, so the variant.calls field is empty; // in the emitted Variant protos.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling.h:10,simpl,simple,10,deepvariant/variant_calling.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling.h,4,['simpl'],['simple']
Usability,"// Alingn reads to haplotypes by simply comparing strings. This way we will; // be able align all the reads that are aligned to haplotypes w/o indels.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner.h:33,simpl,simply,33,deepvariant/realigner/fast_pass_aligner.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner.h,1,['simpl'],['simply']
Usability,"// Allele counter tracks reads supporting alt alleles. Simple counter is used; // for ref supporting reads. If track_ref_reads flag is set then ref supporting; // reads are tracked as well but only for positions marked as potential; // candidates.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.cc:55,Simpl,Simple,55,deepvariant/allelecounter.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.cc,1,['Simpl'],['Simple']
Usability,"// CLIF use `::learning::genomics::deepvariant::ImageRow` as ImageRow; // Convert an ImageRow to a numpy 3D array (adds a leading dimension 1).",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/python/clif_converters.h:15,learn,learning,15,deepvariant/python/clif_converters.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/python/clif_converters.h,1,['learn'],['learning']
Usability,"// Clear out byte-array fields before writing. We support reading byte-array; // fields but do not yet support writing out byte-array fields (internal).",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_writer_test.cc:3,Clear,Clear,3,third_party/nucleus/io/sam_writer_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam_writer_test.cc,2,['Clear'],['Clear']
Usability,"// Configures a MessageDifferencer and DefaultFieldComparator to use the logic; // described in comp. The configured differencer is the output of this function,; // but a FieldComparator must be provided to keep ownership clear.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.cc:222,clear,clear,222,third_party/nucleus/testing/protocol-buffer-matchers.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/protocol-buffer-matchers.cc,1,['clear'],['clear']
Usability,"// Confirm that the 4 alleles ""MakeAllele(""TACAC"", AlleleType::DELETION, 1); // above are correctly added to the corrresponding variant; // ""TACACACACAC->TACACAC"", which is the same as ""TACAC->T"" after the; // right-trimming simplification.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_test.cc:225,simpl,simplification,225,deepvariant/variant_calling_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_test.cc,1,['simpl'],['simplification']
Usability,"// Constructs an alt allele from the prefix bases and the reference bases.; //; // This function helps create alt alleles for a variant proto. The complex logic; // here is to deal with the fact that the variant_ref bases aren't the simple; // single reference base context that the Allele objects are in but rather the; // actual reference bases of the variant, which could include a long series of; // bases if there's a deletion allele.; //; // This function takes a prefix of bases and concatenates those bases onto the; // appropriate substring of variant_ref. The substring starts at the from; // argument and runs to the end of variant_ref string, provided from isn't; // beyond the end of variant_ref.; //; // Suppose that we have variant_ref == ""ACGT"" due to a deletion, and our alleles; // are ""C"" [SNP] and ""ATTT"" [INSERTION] along with our ""ACGT"" [DELETION]. Each; // allele comes into this function with the following arguments:; //; // ""C"" [SNP] : prefix=""C"" and from=1; // ""ATTT"" [INS] : prefix=""ATTT"" and from=1; // ""ACGT"" [DEL] : prefix=""A"" (original ref base) and from=4; //; // This function will produce appropriate alleles that correct for the new; // reference bases due to the deletion as:; //; // ""C"" [SNP] => ""C"" + ""CGT"" => ""CCGT"", putting back deleted bases; // ""ATTT"" [INS] => ""ATTT"" + ""CGT"" => ""ATTTCGT"", putting back deleted bases; // ""ACGT"" [DEL] => ""A"" + """" (from >= ""ACGT"".length()) => ""A""; //",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling.cc:233,simpl,simple,233,deepvariant/variant_calling.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling.cc,2,['simpl'],['simple']
Usability,"// Convenience method for rebuilding a table usable as the vertex_index_t; // property that algorithms require.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/debruijn_graph.h:45,usab,usable,45,deepvariant/realigner/debruijn_graph.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/debruijn_graph.h,1,['usab'],['usable']
Usability,"// First simplifies ref and alt by removing the common suffix, and the returns; // simplified_ref->simplified_alt.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/utils.h:9,simpl,simplifies,9,deepvariant/utils.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/utils.h,1,['simpl'],['simplifies']
Usability,"// For human readability, here is the content of the VCF:; /*; $ zcat learning/genomics/deepvariant/testdata/input/test_calls_from_vcf.vcf.gz; ##fileformat=VCFv4.2; ##contig=<ID=contigInHeaderWithCandidates,length=10>; ##contig=<ID=contigInHeaderNoCandidates,length=10>; #CHROM POS ID REF ALT QUAL FILTER INFO FORMAT default; contigInHeaderWithCandidates 3 . T G 60 PASS . GT ./.; contigNotInHeaderWithCandidates 1 . A G 60 PASS . GT ./.; */",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_test.cc:70,learn,learning,70,deepvariant/variant_calling_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_test.cc,1,['learn'],['learning']
Usability,"// Get the bases to use as the reference bases in a Variant proto.; //; // The reference bases in a variant proto represent the longest substitution; // of bases on the reference genome needed to describe a substitution by; // one of alt_alleles in a sample. What this means is that if alt_alleles; // doesn't include any deletions, this is simply the reference bases of our; // AlleleCount. But if one of the alt_alleles is a deletion, we need to; // use those bases as our reference. And if there are multiple deletions; // at a site, we need to use the longest deletion allele.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling.cc:341,simpl,simply,341,deepvariant/variant_calling.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling.cc,2,['simpl'],['simply']
Usability,"// Helper class for randomly sampling a fraction of values.; //; // API is simple: only a fraction_to_keep calls to Keep() will return true.; //; // So keeping a 10% fraction of the values in a vector<int> x is:; //; // FractionalSampler sampler(0.10, seed_uint);; // for( int v : x ) {; // if (sampler.Keep()) {; // ...; // }; //",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/samplers.h:75,simpl,simple,75,third_party/nucleus/util/samplers.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/samplers.h,1,['simpl'],['simple']
Usability,"// Helper function to update counts from `start` (inclusive) to `end`; // (exclusive) by `by`. This function also provides some tolerance to invalid; // start and end values: if `start < 0`, a value of `start = 0` is used instead.; // If `end > counts->size()` then `end = counts->size()` will be used instead.; // This simplifies the call site where the bounding of start/end can be; // overloaded to this function instead of duplicating it at all call sites.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector.cc:320,simpl,simplifies,320,deepvariant/realigner/window_selector.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/window_selector.cc,1,['simpl'],['simplifies']
Usability,"// If any of the vertices have no incoming edges we create zero-weighted; // edges connecting to all vertices in the previous position. This is; // needed so that we can consider a ""broken"" path.; // Example:; // ... ------- A -------- C ------ G ------ ...; // ... --------C [ T ] ------ A ------ ...; // This is a simplified example showing how a broken path may still; // need to be considered. In this case we will create extra edges; // connecting T with A and T with C.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing.cc:316,simpl,simplified,316,deepvariant/direct_phasing.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/direct_phasing.cc,1,['simpl'],['simplified']
Usability,"// If sequential alleles have the same position, skip the first one. This; // occurs, for example, when we observe a base at position p on the genome; // which is enqueued as the ith element of our to_add vector. But the next; // allele is an indel allele which, because of VCF convention, occurs at; // position p, is enqueued at i+1 and supersedes the previous base; // substitution. Resolving these conflicts here allows us to keep the; // Read => ReadAllele algorithm logic simple.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.cc:478,simpl,simple,478,deepvariant/allelecounter.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.cc,1,['simpl'],['simple']
Usability,"// Parses a simple sharded file spec into its components.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/merge_phased_reads.h:12,simpl,simple,12,deepvariant/merge_phased_reads.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/merge_phased_reads.h,1,['simpl'],['simple']
Usability,"// Reads Variant proto records from a single TFRecord file.; //; // The index of the contig each variant belongs to is returned together with it,; // in order to simplify contig-index based ordering later on.; //; // Note: This is intended for a specific use case within DeepVariant, where both; // the Variant and the index of the contig are always used together.; // If you need a more general use case, consider using TFRecordReader directly.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/variant_reader.h:162,simpl,simplify,162,third_party/nucleus/io/variant_reader.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/variant_reader.h,1,['simpl'],['simplify']
Usability,"// Similar to Counts() function but returns a lighter-weight summary proto.; //; // This function has all of the behavior of calling Counts() but instead of; // returning the heavy-weight AlleleCount proto this returns a simpler proto.; // See the proto description for more information about the proto fields.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.h:221,simpl,simpler,221,deepvariant/allelecounter.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.h,1,['simpl'],['simpler']
Usability,"// Simple alignment haplotype_score for each read.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner.h:3,Simpl,Simple,3,deepvariant/realigner/fast_pass_aligner.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/fast_pass_aligner.h,1,['Simpl'],['Simple']
Usability,"// Simple getter for test files in the right testdata path.; // This uses JoinPath, so no leading or trailing ""/"" are necessary.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.h:3,Simpl,Simple,3,third_party/nucleus/testing/test_utils.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.h,1,['Simpl'],['Simple']
Usability,"// Simple merge if operations are of the same type. There are three different; // types of ""match"" operation therefore it is not enough to just compare; // operation types.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.cc:3,Simpl,Simple,3,deepvariant/allelecounter.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.cc,1,['Simpl'],['Simple']
Usability,"// Simple wrapper around Add() that allows us to efficiently pass large; // protobufs in from Python. Simply unwraps the ConstProtoPtr objects and; // calls Add(read).",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.h:3,Simpl,Simple,3,deepvariant/allelecounter.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.h,2,['Simpl'],"['Simple', 'Simply']"
Usability,"// Simple wrapper around EncodeRead that allows us to efficiently pass large; // protobufs in from Python. Simply unwraps the ConstProtoPtr objects and; // calls EncodeRead().",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_image_native.h:3,Simpl,Simple,3,deepvariant/pileup_image_native.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/pileup_image_native.h,2,['Simpl'],"['Simple', 'Simply']"
Usability,"// Simple wrapper around ReadEnd that allows us to efficiently pass large; // protobufs in from Python. Simply unwraps the ConstProtoPtr read and calls; // ReadEnd().",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/utils.h:3,Simpl,Simple,3,third_party/nucleus/util/utils.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/utils.h,2,['Simpl'],"['Simple', 'Simply']"
Usability,"// Simple wrapper around ReadOverlapsRegion that allows us to efficiently pass; // large protobufs in from Python. Simply unwraps the ConstProtoPtr read and; // range ReadOverlapsRegion().",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/utils.h:3,Simpl,Simple,3,third_party/nucleus/util/utils.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/util/utils.h,2,['Simpl'],"['Simple', 'Simply']"
Usability,"// TODO Consolidate TotalAlleleCounts functions into one since the; // functionality is identical.; // Allele counter tracks reads supporting alt alleles. Simple counter is used; // for ref supporting reads. If track_ref_reads flag is set then ref supporting; // reads are tracked as well but only for positions marked as potential; // candidates.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.cc:155,Simpl,Simple,155,deepvariant/allelecounter.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.cc,1,['Simpl'],['Simple']
Usability,"// TODO; // For human readability, here is the content of the VCF:; /*; $ zcat learning/genomics/deepvariant/testdata/input/test_calls_from_vcf.vcf.gz; ##fileformat=VCFv4.2; ##contig=<ID=contigInHeaderWithCandidates,length=10>; ##contig=<ID=contigInHeaderNoCandidates,length=10>; #CHROM POS ID REF ALT QUAL FILTER INFO FORMAT default; contigInHeaderWithCandidates 3 . T G 60 PASS . GT ./.; contigNotInHeaderWithCandidates 1 . A G 60 PASS . GT ./.; */",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_test.cc:79,learn,learning,79,deepvariant/variant_calling_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_test.cc,2,['learn'],['learning']
Usability,"// Test simple properties of the counter itself. EXPECT_THAT chr_; // (const char[]) vs. reference_name (string) doesn't compile.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter_test.cc:8,simpl,simple,8,deepvariant/allelecounter_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter_test.cc,1,['simpl'],['simple']
Usability,"// These files are made using the Verily converter. See:; // g3doc/learning/genomics/g3doc/variant-encoding.md",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_reader_test.cc:67,learn,learning,67,third_party/nucleus/io/vcf_reader_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_reader_test.cc,1,['learn'],['learning']
Usability,"// This algorithm is simple and fast, but it isn't the most straightforward; // implementation so it merits a few comments.; //; // Suppose I have the following data:; //; // offset: 01234567; // bases: ACGTAACC; // bad? : 00010000; // k_ : 2 <= using a kmer size of 2; //; // The algorithm below loops over positions (variable `i`), pulling kmers of; // length k from positions `i` and `i + 1` to add as edges. The key; // calculation is NextBadPosition that searches from the current `i` position; // for the next position that is bad. In the above example, this would be the; // 3 position. We then loop from i until `next_bad_position - k`, to create; // our edges, since we know that everything from i to next_bad_position is; // good but we cannot construct a valid kmer that overlaps next_bad_position; // so it invalidates all kmer starts from `next_bad_position - k`. Finally, we; // set i to `next_bad_position + 1`, which is the very next starting position; // after the last bad position, and the algorithm repeats.; //; // This algorithm has many important properties for performance:; //; // * It doesn't allocate any data structures to support the calculation.; // * It only examines whether a given position is good/bad once.; // * The loop to add edges is streamlined, without any unnecessary checks.; //",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/debruijn_graph.cc:21,simpl,simple,21,deepvariant/realigner/debruijn_graph.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/realigner/debruijn_graph.cc,1,['simpl'],['simple']
Usability,"// Variant should be a single bp gVCF record with the kGVCFAltAllele; // marker, genotypes of 0/0, and a GQ value of 0 (currently not; // determined). Note that these are simple, baseline tests for any site; // that doesn't have a variant call. Detailed testing of the proper gVCF; // statistical calculations will come when those calculations appear.; // TODO: Revise this test in full gVCF calculations CL.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_test.cc:171,simpl,simple,171,deepvariant/variant_calling_test.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/variant_calling_test.cc,1,['simpl'],['simple']
Usability,"// We only support fields that are entirely missing, so if we encounter a; // single missing field, we clear this subvector and break.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.cc:103,clear,clear,103,third_party/nucleus/io/vcf_conversion.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/vcf_conversion.cc,1,['clear'],['clear']
Usability,"// namespace learning",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.cc:13,learn,learning,13,deepvariant/allelecounter.cc,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.cc,38,['learn'],['learning']
Usability,"// namespace; // Simple getter for test files in the right testdata path.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.cc:17,Simpl,Simple,17,third_party/nucleus/testing/test_utils.cc,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/testing/test_utils.cc,1,['Simpl'],['Simple']
Usability,"/// \brief Return a string representation of this status suitable for; /// printing. Returns the string `""OK""` for success.; ///; /// By default, it returns combination of the error code name, the message and; /// any associated payload messages. This string is designed simply to be; /// human readable and its exact format should not be load bearing. Do not; /// depend on the exact format of the result of `ToString()` which is subject; /// to change.",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/status.h:271,simpl,simply,271,third_party/nucleus/core/status.h,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/core/status.h,1,['simpl'],['simply']
Usability,"cord` file is assumed and attempted to be; read or written. Otherwise, the filename is treated as a true SAM/BAM/CRAM file. For `TFRecord` files, ending in a '.gz' suffix causes the file to be treated as; compressed with gzip. Notes on using CRAM with SamReader; --------------------------------. Nucleus supports reading from CRAM files using the same API as for SAM/BAM:. ```python; from third_party.nucleus.io import sam. with sam.SamReader(""/path/to/sample.cram"") as reader:; for read in reader:; print(read); ```. There is one type of CRAM file, though, that has a slightly more complicated; API. If the CRAM file uses read sequence compression with an external reference; file, and this reference file is no longer accessible in the location specified; by the CRAM file's ""UR"" tag and cannot be found in the local genome cache, its; location must be passed to SamReader via the ref_path parameter:. ```python; from third_party.nucleus.io import sam. cram_path = ""/path/to/sample.cram""; ref_path = ""/path/to/genome.fasta""; with sam.SamReader(cram_path, ref_path=ref_path) as reader:; for read in reader:; print(read); ```. Unfortunately, htslib is unable to load the ref_path from anything other than a; POSIX filesystem. (htslib plugin filesystems like S3 or GCS buckets won't work).; For that reason, we don't recommend the use of CRAM files with external; reference files, but instead suggest using read sequence compression with; embedded reference data. (This has a minor impact on file size, but; significantly improves file access simplicity and safety.). For more information about CRAM, see:; * The `samtools` documentation at http://www.htslib.org/doc/samtools.html; * The ""Global Options"" section of the samtools docs at http://www.htslib.org/doc/samtools.html#GLOBAL_OPTIONS; * How reference sequences are encoded in CRAM at http://www.htslib.org/doc/samtools.html#REFERENCE_SEQUENCES; * Finally, benchmarking of different CRAM options http://www.htslib.org/benchmarks/CRAM.html; """"""",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam.py:2893,simpl,simplicity,2893,third_party/nucleus/io/sam.py,,https://github.com/google/deepvariant/tree/v1.6.1/third_party/nucleus/io/sam.py,1,['simpl'],['simplicity']
Usability,"osition, and a repeated field of Allele protos which contain the bases,; // type, and counts of the alleles. Each observed allele comes from the; // alignment of a read at that position in the genome. For example, if we have:; //; // pos: 0123; // ref: ACGT; // read: CG; //; // We could produce AlleleCounts with 0 observed alleles at position 0, one C; // at position 1, one G at position 2, and no alleles at position 3.; //; // This becomes more complex when insertion and deletion alleles occur, so that; // you have:; //; // pos: 0123; // ref: ACGT; // read: C-T; //; // Would actually produce an allele CG deletion at position 1, indicating that; // the reference base was C and that a G base was deleted. No allele count would; // occur at G (after all it was never observed), and there would be 1 T at; // position 3. The AlleleCount proto and associated other protos provide; // additional details.; //; // The AlleleCount's generated by adding each read simply sum up independently; // with multiple reads, which is a very attractive property of the AlleleCount; // representation.; //; // Note that this code can diverge from the left-alignment requirement of VCF /; // variant protos when the input read cigars are themselves not left aligned.; // For example, suppose we have:; //; // ref: TAAAC; // sample: TAAC; //; // Ideally an aligner would place the DELETION cigar elements for any read; // covering this site to the left-most position:; //; // ref: TAAAC; // read1: T-AAC [cigar = 1M1D3M, ideal]; // read2: TA-AC [cigar = 2M1D2M, pretty far from ideal, but equivalent]; //; // This code doesn't try to do anything clever by left-aligning CIGAR elements; // in order to fix this problem. This is largely ok because (1) the standard; // aligner (BWA) does in fact do consistent left alignment and (2) we anticipate; // feeding this AlleleCounter reads that have been assembled into a consistent; // alignment across all of the reads in a way that is impossible for a read-by-; // r",MatchSource.CODE_COMMENT,google,deepvariant,v1.6.1,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.h:1562,simpl,simply,1562,deepvariant/allelecounter.h,,https://github.com/google/deepvariant/tree/v1.6.1/deepvariant/allelecounter.h,1,['simpl'],['simply']
